<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤚 👩‍👧 🚲 Cisco 200-125 CCNA v3.0のトレーニング。32日目。パスワード回復、XMODEM / TFTPDNLD、およびシスコライセンスアクティベーション ⚽️ 😯 ✋🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本日は、ルーターとスイッチのパスワードの復元、IOSの更新、再インストール、およびリカバリーと、IOSv15オペレーティングシステムのシスコライセンスシステムについてお話します。これらは、ネットワークデバイス管理に関する非常に重要なトピックです。
 
 
 
 パスワードを回復するにはどうすればよい...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。32日目。パスワード回復、XMODEM / TFTPDNLD、およびシスコライセンスアクティベーション</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466111/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本日は、ルーターとスイッチのパスワードの復元、IOSの更新、再インストール、およびリカバリーと、IOSv15オペレーティングシステムのシスコライセンスシステムについてお話します。これらは、ネットワークデバイス管理に関する非常に重要なトピックです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/t8/l0/zct8l0lt5uxixrsmlfh_hcdomuy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パスワードを回復するにはどうすればよいですか？なぜこれが必要なのかと尋ねるかもしれません。デバイスを構成し、必要なすべてのパスワードを設定したとします。VTY、コンソール、特権モード、TelnetおよびSSH接続で、これらのパスワードを忘れたとします。それらをインストールした会社の従業員が辞めてメモを提供しなかった、またはeBayルーターを購入したが前の所有者が設定したパスワードを知らないためにデバイスにアクセスできない可能性があります。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような状況では、「ハッカー」のトリックを使用する必要があります。シスコデバイスをクラックしてパスワードをリセットしますが、デバイスがあなたのものであれば、これは実際のハッキングではありません。これには、ブレークブレークシーケンス、構成レジスタ、システムの再起動の3つが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチを使用し、ルーターの電源をオフにしてからオンにして、ルーターが再起動し始めるようにします。「cisco-guides」を「バウンス」という言葉で呼びます。 IOSイメージを解凍するときに、ブート割り込みを適用する必要があります。つまり、コンソールポートを介してデバイスに接続し、ブレークシーケンスを実行する必要があります。 Break Sequenceが起動するキーの組み合わせは、使用するターミナルエミュレーションプログラムによって異なります。つまり、ハイパーターミナルの場合、ダウンロードは1つの組み合わせによって中断され、SequreSRTの場合は他の組み合わせによって中断されます。このビデオの下に、リンク</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.cisco.com/c/en/us/support/docs/routers/10000-series-routers/12818-61.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を提供し</font><font style="vertical-align: inherit;">ます。ここには、さまざまなターミナルエミュレーターのキーボードショートカット、さまざまな互換性が表示されますと異なるオペレーティングシステム。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブート割り込みを使用すると、ルータはROMmonモードで起動します。 ROMmonはコンピューターのBIOSに似ており、基本的なサービスコマンドを実行できる基本的な基本OSです。このモードでは、コンフィギュレーションレジスタを使用できます。ご存知のように、ブートプロセス中に、システムはブート設定をチェックし、そうでない場合はデフォルト設定でロードします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、ルーター構成レジスターの値は0x2102です。これは、ブート構成の開始を意味します。この値を0x2142に変更した場合、システムは不揮発性NVRAMの内容に注意を払わず、デフォルトの構成がロードされるため、ブレークシーケンス中にブート構成は無視されます。デフォルトの構成はロードされ、ルーターの「そのまま」の設定に対応します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、デフォルト設定で起動するには、設定レジスタの値を0x2142に変更する必要があります。これにより、文字通りデバイスに「起動時の起動設定は無視してください！」と通知されます。この構成にはすべてのパスワードが含まれており、デフォルト設定で起動するため、特権モードに無料でアクセスできます。このモードでは、パスワードをリセットし、変更を保存し、システムを再起動して、デバイスを完全に制御できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Packet Tracerを起動して、先ほど話した内容を示します。パスワード、スイッチ、ラップトップをリセットする必要があるルーターで構成されるネットワークトポロジが表示されます。すべてのビデオチュートリアルで、Packet Tracerのデバイスアイコンをクリックし、CLIコンソールタブに移動してデバイスを構成しました。今、私は何か違うことをして、これが実際のデバイスでどのように行われるかを示したいと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RS-232ラップトップのシリアルポートをコンソールケーブルでルーターのコンソールポートに接続します。プログラムでは、それは青いケーブルです。ルータのコンソールポートと通信するために必要ではないため、IPアドレスを設定する必要はありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sm/f9/xr/smf9xrqr97dpiikpdj0uuzwml-g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラップトップで、[ターミナル]タブに移動し、パラメーターを確認します：伝送速度9600 bps、情報ビット-8、パリティなし、ストップビット-1、フロー制御-いいえ、[OK]をクリックすると、ルーターのコンソールにアクセスできます。両方のウィンドウ（R0ルーターのCLIとラップトップ画面のLaptop0）の情報を比較すると、まったく同じになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/sq/4n/rgsq4nbdtzhzvaelie11ansyrxi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パケットトレーサーを使用すると、このようなことを実行できますが、実際には、CLIルーターのコンソールウィンドウは使用せず、コンピューター端末を介してのみ機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、パスワードをリセットする必要があるルーターがあります。あなたはラップトップ端末に行き、設定をチェックし、ルーター設定パネルに行き、アクセスがパスワードによってブロックされていることを確認してください！そこに着く方法？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルーターに移動し、物理デバイスとして表示されているタブに移動し、電源スイッチをクリックして、すぐに再びオンにします。ターミナルウィンドウに、OSイメージの自己解凍に関するメッセージが表示されます。この時点で、キーの組み合わせCtrl + Cを使用する必要があります。これは、Packet TracerプログラムでROMMONモードに切り替えるために使用されます。ハイパーターミナルからログインしている場合は、Ctrl + Breakを押す必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面にrommon 1というタイトルの行が表示され、疑問符を入力すると、このモードで使用できる一連のプロンプトが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lp/8d/e8/lp8de8hryfhce-5fl-sp8d34kek.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブートパラメータは内部ブートプロセスを開始し、confregはレジスタ構成ユーティリティを起動します。この特定のコマンドに関心があります。端末の行にconfreg 0x2142と入力します。つまり、再起動すると、NVRAMフラッシュメモリに保存されている情報は無視され、ルータは完全に新しいデバイスのようにデフォルト設定で起動します。 confreg 0x2102コマンドを入力した場合、ルータは最後に保存されたブートパラメータを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、resetコマンドを使用して、システムを再起動します。ご覧のように、ダウンロード後、前回のようにパスワードの入力を求めるのではなく、システムは設定ダイアログを続行するかどうかを尋ねるだけです。これで、ユーザー設定のない、デフォルト設定のルーターができました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xz/vc/51/xzvc51ni4g9xj38yd8mhchef-l0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
noと入力してから、ユーザーモードから特権モードに切り替えます。ブート設定を表示したいので、show startup-configコマンドを使用します。 NwKingルーターのホスト名、ウェルカムバナー、およびコンソールのパスワードが表示されます。これでこのパスワードがわかったので、忘れないようにコピーしたり、別のパスワードに変更したりできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず最初に必要なのは、起動構成を現在のルーター構成にロードすることです。これを行うには、copy startup-config running-configコマンドを使用します。現在の構成は、ルーターの以前の構成です。その後、コマンドラインのルーターの名前がRouterからNwKingRouterに変更されています。 show runコマンドを使用して、デバイスの現在の構成を表示できます。コンソールのパスワードが「コンソール」という単語であることがわかります。これは、有効なパスワードを使用しなかったためです。これは正しいことです。リカバリの "kills"特権モードを覚えておく必要があります。また、ユーザーモードのコマンドラインに再びアクセスできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レジストリを変更することもできます。パスワードが秘密である場合、つまり、シークレットを有効にする機能が使用されている場合、明らかにそれを復号化できなかったため、config tコマンドでグローバル構成モードに戻り、新しいパスワードを設定できます。これを行うには、コマンドenable secret enableを入力するか、他の単語をパスワードとして使用できます。 「show run」と入力すると、シークレットの有効化機能がオンになっていることがわかります。パスワードは「有効化」という単語ではなく、暗号化された文字列として表示されます。新しいパスワードを設定して暗号化するだけなので、セキュリティを心配する必要はありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fs/du/by/fsdubyymqltjmlwsc0skyj_tmbc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルーターのパスワードをリセットする方法は次のとおりです。 1つの重要なことに注意してください。showversionコマンド、show versionを入力すると、構成レジスタの値が0x2142であることがわかります。つまり、copy running to startupコマンドを使用してルーターを再起動しても、システムはデフォルト設定を再度ロードします。つまり、ルーターは工場出荷時の設定に戻ります。パスワードをリセットしてデバイスを制御し、作業モードで使用したいので、これはまったく必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、グローバル構成モードのルーター（構成）＃に入り、config-register 0x2102コマンドを入力する必要があります。その後、コマンドを使用して現在の構成をコピー実行開始ダウンロードにコピーします。また、writeコマンドを使用して、現在の設定をブート構成にコピーすることもできます。ここで「show version」と入力すると、コンフィギュレーションレジスタの値が0x2102になり、次にルータを再起動したときに変更が有効になることがシステムから報告されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、reloadコマンドを使用して再起動を開始すると、システムが再起動します。これで、すべての構成ファイル、すべての設定、およびすべてのパスワードがわかりました。これは、ルータのパスワード回復が実行される方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチに同じ手順を実装する方法を見てみましょう。ルータには、電源をオフにしてから再びオンにすることができるスイッチがありますが、Ciscoスイッチにはそのようなスイッチがありません。コンソールケーブルを使用してコンソールポートに接続し、スイッチの背面から電源ケーブルを取り外します。10〜15秒後に元に戻し、すぐにMODEボタンを3秒間押し続けます。これにより、スイッチが自動的にROMmonモードに切り替わります。このモードでは、フラッシュ上のファイルシステムを初期化し、config.textファイルの名前を、たとえばconfig.text.oldに変更する必要があります。単に削除すると、スイッチはパスワードだけでなく、以前のすべての設定も「忘れます」。その後、システムに過負荷をかけます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6_/6b/jz/6_6bjztwrzhpkxha7au_4gq9ldo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチはどうなりますか？再起動時には、config.text構成ファイルを参照します。デバイスのフラッシュメモリでこのファイルが見つからない場合、iOSをデフォルト設定でロードします。これが違いです。ルーターでは、レジスタ設定を変更する必要があり、スイッチでは、ブート設定ファイルの名前を変更するだけです。これがPacket Tracerプログラムでどのように発生するかを見てみましょう。今回は、ラップトップをコンソールケーブルでスイッチのコンソールポートに接続します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CLIスイッチコンソールは使用しませんが、ラップトップを使用した場合にのみスイッチ設定に到達できる状況をシミュレートします。私はルーターの場合と同じラップトップ端末の設定を使用し、「Enter」を押すことにより、スイッチのコンソールポートに接続します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パケットトレーサーでは、物理デバイスの場合のように、電源ケーブルを切断してオンにすることができません。コンソールのパスワードがあれば、スイッチをリロードできるので、enable password enableコマンドを入力して、ローカルアクセスパスワードを特権コンソールモードに設定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで設定に移動すると、システムが知らないパスワードを要求することがわかります。したがって、システムの再起動を開始する必要があります。ご覧のとおり、システムはユーザーモードのユーザーのデバイスから送信されたreloadコマンドを受け入れないため、特権モードを使用する必要があります。先ほど述べたように、実際にはスイッチの電源ケーブルを数秒間抜いて再起動させますが、これはプログラムでは不可能であるため、ここからパスワードを削除して再起動する必要があります。なぜ私がそうしているのか分かりますよね？</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/nw/yd/2v/nwyd2v7ch_wwa9lmmvodix9htfs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、CLIタブから「物理デバイス」タブに切り替え、デバイスが再起動し始めたら、仮想MODEボタンを3秒間押し続けてROMmonモードにします。スイッチのCLIウィンドウの情報は、ラップトップ画面のウィンドウと同じであることがわかります。 ROMmonスイッチモードが表示されているウィンドウでラップトップに移動し、flash_initコマンドを入力します。このコマンドは、ファイルシステムをフラッシュに初期化します。その後、dir_flashコマンドを入力して、フラッシュメモリの内容を表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここには2つのファイルがあります。拡張子が.binのIOSファイルと、名前を変更する必要があるconfig.textファイルです。これを行うには、rename flash：config.text flash：config.oldコマンドを使用します。 dir_flashコマンドを使用すると、config.textファイルの名前がconfig.oldに変更されていることがわかります。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/p2/zr/v7/p2zrv71wbdba951qdfvdhvysuga.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、resetコマンドを入力すると、スイッチが再起動し、システムが起動した後、デフォルト設定に戻ります。これは、コマンドラインのデバイス名がNwKingSwitchから単にSwitchに変更されたことによって証明されます。 renameコマンドは実際のデバイスに存在しますが、Packet Tracerでは使用できません。そのため、ご覧のとおり、show running confを使用しています。スイッチはすべてのデフォルト設定を使用しており、more flash：config.oldコマンドを入力しています。これがハックです。画面に表示されている現在のデバイス構成をコピーし、グローバル構成モードに切り替えて、コピーした情報を貼り付けるだけです。理想的には、すべての設定が私たちからコピーされ、デバイス名が変更され、スイッチが通常の動作モードに切り替わったことがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在は、現在の構成をブート構成にコピーします。つまり、新しいconfig.textファイルを作成します。最も簡単な方法は、古いファイルの名前をconfig.textに戻すだけです。つまり、config.oldの内容を現在の構成にコピーして、config.textとして保存します。これは、スイッチのパスワードが復元される方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Cisco IOSオペレーティングシステムをバックアップおよび復元する方法について説明します。バックアップとは、IOSイメージをTFTPサーバーにコピーすることです。次に、このサーバーからデバイスにシステムイメージファイルを転送する方法を説明します。 3番目のトピックは、ROMmonモードでのシステム回復です。これは、同僚が誤ってiOSを削除し、システムがロードを停止した場合に必要になることがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s1/qm/of/s1qmofxzbuw7x7gvuo8u3gij9sw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ROMmodモードでTFTPサーバーからシステムファイルを取得する方法を見ていきます。これには2つの方法があり、そのうちの1つはxmodemです。 Packet Tracerはxmodemをサポートしていないので、xmodemについて簡単に説明し、2番目の方法（TFTPによるシステム回復）の使用方法をPacket Tracerで示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この図は、IPアドレス10.1.1.1が割り当てられているデバイスRouter0を示しています。このルーターは、IPアドレスが10.1.1.10のサーバーに接続されています。ルーターにアドレスを割り当てるのを忘れたので、すぐにそれを行います。ルーターがラップトップに接続されていないため、プログラムではCLIコンソールを使用できません。修正する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラップトップをルーターにコンソールケーブルで接続し、システムがコンソールのパスワードを要求し、コンソールという単語を使用します。グローバルコンフィギュレーションモードで、適切なIPアドレスとサブネットマスク255.255.255.0をf0 / 0インターフェイスに割り当て、no shutdownコマンドを追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、show flashコマンドを入力して、メモリに3つのファイルがあることを確認します。ファイル番号3が最も重要です。これはIOSルーターのファイルです。次に、TFTPサーバーを構成する必要があるので、Server0デバイスのアイコンをクリックして、[サービス]タブを開きます。 TFTPサーバーがオンになっており、c1841ルーターのIOSを含む多くのシスコオペレーティングシステムのファイルが含まれていることがわかります。これは、リストの3番目のオーダーファイルです。ここでルーターRouter0から別のIOSファイルをコピーするため、サーバーから削除する必要があります。これを行うには、ファイルを選択して[ファイルの削除]をクリックし、ラップトップのコンソールタブに移動します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bc/so/gy/bcsogyt462-n1pqnng2efnzw6ve.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルータのコンソールから、コマンドcopy flash tftp &lt;source file name&gt; &lt;destination address / host name&gt;を入力し、オペレーティングシステムのファイル名をコピーして貼り付けます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5j/7e/9l/5j7e9lcjnls7djlldzxajpmwglg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、コマンドで、このファイルのコピー先のリモートホストのアドレスまたは名前を指定する必要があります。ルータのブート設定を保存するときと同じように、ここで注意する必要があります。現在の構成を誤ってブートにコピーするのではなく、ブートを現在の構成に誤ってコピーしてしまった場合は、デバイスを再起動した後、行った設定がすべて失われます。同様に、この場合、ソースと宛先を混同しないでください。したがって、最初にサーバーにコピーするファイルの名前を指定し、次にこのサーバーのIPアドレスは10.1.1.10です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yt/0l/ty/yt0lty7lqf-urgyvbvaag6sqniw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイル転送が開始されたことがわかります。TFTPファイルのリストを見ると、削除されたファイルの代わりに、ルータの新しいIOSファイルがここに表示されていることがわかります。これは、IOSがサーバーにコピーされる方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ラップトップ画面のルーターの設定ウィンドウに戻り、copy tftp flashコマンドを入力し、リモートホスト10.1.1.10のアドレスとソースファイル名Source filenameを指定します。つまり、ルーターのフラッシュにコピーするIOS：c1841-ipbase-mz.123 -14.T7.bin。以下は、宛先ファイルの名前です。宛先ファイル名。この場合、ソース名とまったく同じになります。その後、Enterキーを押すと、新しいIOSファイルがルータのフラッシュメモリにコピーされます。ご覧のとおり、2つのオペレーティングシステムファイルがあります。番号3の新しいファイルと番号4の以前のオリジナルファイルです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gm/qh/fy/gmqhfylmbkgmtfvxxko7fb4fwui.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IOSの指定では、バージョンは私たちにとって重要です。3番目の最初のファイルは124で、2番目のファイルは123です。つまり、古いバージョンです。また、advipservicesk9は、MPLSなどを使用できるため、このバージョンのシステムはipbaseよりも機能的であることを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のシナリオは、誤ってフラッシュを削除したというものです。私はdelete flashコマンドを入力して、削除するIOSファイルの名前を指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかしその前に、今、デフォルトでは、システムファイル番号3がブート時に使用されること、つまりc1841- advipservicesk9-mz.124-15.T1.binが使用されることを言いたいと思います。何らかの理由で、次のファイルでファイル番号4-c1841-ipbase-mz.123-14.T7.binを使用するとします。これを行うには、グローバル構成モードに入り、boot system flashコマンドを入力します：c1841-ipbase-mz.123-14.T7.bin。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、次回の起動時に、2つのオペレーティングシステムがフラッシュに格納されている場合でも、このファイルがデフォルトのOSとして使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OSのアンインストールに戻って、delete flashコマンドを入力してみましょう：c1841-ipbase-mz.123-14.T7.bin。その後、delete flashコマンドで2つ目のOSを削除します：c1841-advipservicesk9-mz.124-15.T1.bin。ルーターが両方のオペレーティングシステムを失うようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで「show flash」と入力すると、OSがまったくないことがわかります。再起動コマンドを入力するとどうなりますか？ reloadコマンドを入力すると、デバイスがただちにROMmonモードになることがわかります。すでに述べたように、デバイスは起動時にOSファイルを検索し、存在しない場合はベースのrommon OSに切り替えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パケットトレーサーには、実際の物理デバイスで使用できるxmodemコマンドはありません。そこで、xmodemに入り、OSのロードに関して必要なオプションを追加します。 SecureCRTターミナルを使用する場合は、ファイルをクリックし、転送を実行するオプションを選択してから、xmodemを選択できます。 xmodemを選択した後、オペレーティングシステムファイルを選択します。このファイルがラップトップ上にあるとすると、xmodemと入力し、このファイルを指定して送信します。ただし、xmodemは非常に低速な処理であり、ファイルサイズによっては、転送プロセスに1〜2時間かかる場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TFTPサーバーははるかに高速です。すでに述べたように、Packet Tracerにはxmodemコマンドがないため、tftpdnldコマンドを使用してtftpをロードします。その後、TFTPサーバーを介してシステムイメージを復元する方法についてシステムがヒントを提供します。 OSファイルをダウンロードするために指定する必要があるさまざまなパラメーターが表示されます。なぜこれらのオプションが必要なのですか？ ROMMONモードでは、このルーターには完全なiOSを搭載したデバイスの機能がないため、これらを使用する必要があります。したがって、最初にIP_ADDRESS = 10.1.1.1パラメータを使用してルータのIPアドレスを手動で指定し、次にIP_SUBNET_MASK = 255.255.255.0サブネットマスク、デフォルトゲートウェイDEFAULT_GATEWAY = 10.1.1.10、TFTP_SERVER = 10.1.1.10サーバー、およびTFTP_FILE = c1841-ファイルを指定する必要がありますadvipservicesk9-mz.124-15.T1.bin。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを実行した後、tftpdnldコマンドを実行すると、既存のフラッシュデータがすべて失われるため、システムはこのアクションの確認を求めます。 「はい」と答えると、ルーターサーバーの接続ポートの色が緑色に変わったことがわかります。つまり、サーバーからオペレーティングシステムをコピーするプロセスが発生しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ci/mr/vd/cimrvdwsac6essc7h6xspjtn9qy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルのダウンロードが完了したら、bootコマンドを使用します。その後、システムイメージの解凍が始まります。この後、オペレーティングシステムがデバイスに戻るため、ルーターは正常な状態になります。そのようにして、オペレーティングシステムを失ったデバイスの回復が行われます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Cisco IOSライセンスについて少し説明します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jg/mw/iy/jgmwiyno6saf5ydwq2x8auqjqzu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョン15の前には、以前のバージョンのライセンス（たとえば12）がありましたが、その後すぐにバージョン15がリリースされました。13と14の番号はどこに行ったのかは質問しないでください。 1000ドルこれは、オペレーティングシステムの基本構成がインストールされたハードウェアの最低価格でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたの友人が彼のデバイスにAdvance IP Servicesの高度な機能を持たせたいとすると、価格はたとえば1万ドルでした。原理を理解してもらうためだけに乱数を与えます。両方が同じハードウェアを使用している場合、唯一の違いはインストールされているソフトウェアです。友人に彼のソフトウェアのコピーを頼んで、それをあなたのハードウェアにインストールすることを止めることはできず、それによって9000ドルも節約できます。そのような友人がいなくても、インターネットの近代的な発展により、ソフトウェアの海賊版をダウンロードしてインストールすることができます。これは違法であり、私はこれを行うことをお勧めしませんが、人々はしばしばそれを行います。そのため、シスコはこのような不正を防止するメカニズムの実装を決定し、ライセンスを提供するIOS 15のバージョンを開発しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IOSの以前のバージョン、たとえば12.4では、システム自体の名前がその機能を示していたため、デバイスの設定に移動すると、OSファイルの名前でそれらを識別できました。実際、Windows Home、Windows Professional、Windows Enterpriseなど、同じバージョンのオペレーティングシステムがいくつかありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョン15では、ユニバーサルオペレーティングシステムが1つしかありません-Cisco IOSv15には、いくつかのライセンスレベルがあります。システムイメージにはすべての機能が含まれていますが、ブロックされてパッケージに分割されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IP Baseはデフォルトでアクティブであり、有効期間があり、Ciscoデバイスを購入したすべてのユーザーが使用できます。他の3つのパッケージ、Data、Unified Communication、およびSecurityは、ライセンスによってのみアクティブ化できます。データパッケージが必要な場合は、会社のWebサイトにアクセスし、一定の金額を支払うと、ライセンスファイルが電子メールで送信されます。 TFTPまたは別の方法を使用して、このファイルをデバイスのフラッシュメモリにコピーすると、データパッケージのすべての機能が自動的に使用可能になります。暗号化、IPSec、VPN、ファイアウォールなどの高度なセキュリティ機能が必要な場合は、セキュリティパッケージのライセンスを購入します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Packet Tracerの助けを借りて、それがどのように見えるかを示します。ルータ設定のCLIタブに移動し、show versionコマンドを入力します。 OSバージョン15.1を実行していることがわかります。これは、すべての機能を備えたユニバーサルOSです。下のウィンドウを下にスクロールすると、ライセンス情報が表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bi/n8/lf/bin8lfkgpw1oa30xprd25gmqmfa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、現時点ではシステムに適切なライセンスがないため、ipbaseパッケージはアクティブであり、デバイスを起動するたびに利用可能であり、セキュリティパッケージとデータパッケージは利用できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show license allコマンドを使用して、詳細なライセンス情報を表示できます。さらに、show license detailコマンドを使用して、有効なライセンスの詳細を表示できます。ライセンス機能は、show license featuresコマンドを使用して表示できます。これは、シスコのライセンスシステムの概要です。会社のWebサイトにアクセスし、必要なライセンスを購入して、システムにライセンスファイルを挿入します。これは、license installコマンドを使用して、グローバルコンフィギュレーションモードで実行できます。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/SPnwSaoFrM0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466099/index.html">ビデオサービス用のWebアプリケーションのテストの機能</a></li>
<li><a href="../ja466103/index.html">クラウドセキュリティの監視</a></li>
<li><a href="../ja466105/index.html">RoadRunnerによるMagento Rest APIのオーバークロック</a></li>
<li><a href="../ja466107/index.html">日曜大工のスマートホームシステム</a></li>
<li><a href="../ja466109/index.html">pwnable.kr 22による問題解決-ブレインファック。Ret2libc攻撃</a></li>
<li><a href="../ja466113/index.html">mb_detect_encodingの代わりにPHPでテキストエンコーディングを定義する</a></li>
<li><a href="../ja466121/index.html">ポリフォニーをサポートするウェーブテーブル方式を使用したAVRマイクロコントローラーでのサウンド生成</a></li>
<li><a href="../ja466123/index.html">高さ。重量。3人の隣人</a></li>
<li><a href="../ja466127/index.html">コラ原子力発電所または原子炉に立っています</a></li>
<li><a href="../ja466129/index.html">ガソリン、バッテリー、水素の輸送効率</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>