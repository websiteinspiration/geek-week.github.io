<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📐 🎑 🤾🏿 You May Not Need Svelte To Reduce Your JavaScript 👩🏿‍🌾 🥅 💅🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nowadays, it is popularly believed that the current Javascript frameworks are prohibitively large, and the new Svelte framework is very compact. There...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>You May Not Need Svelte To Reduce Your JavaScript</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504612/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nowadays, it is popularly believed that the current Javascript frameworks are prohibitively large, and the new </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Svelte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> framework is </font><font style="vertical-align: inherit;">very compact. </font><font style="vertical-align: inherit;">Therefore, everyone needs to switch to it, and the problem of Javasctipt size will be solved by itself.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recently there was an article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Is Svelte a good choice for implementing a widget?" </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with experience in implementing a project with a critical bundle size. </font><font style="vertical-align: inherit;">This is a great reason to check out the promises of Svelte PR managers on a real project.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's analyze it!</font></font></p><a name="habracut"></a><br>
<h2 id="ishodnye-dannye"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Initial data</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The project in question is an embedded widget distributed as a monolithic Javascript bundle with a total size of 71 Kb (including gzip). </font><font style="vertical-align: inherit;">Is it a lot or a little? </font><font style="vertical-align: inherit;">The article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Price of JavaScript in 2019"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recommended avoiding bundles larger than 50-100 Kb. </font><font style="vertical-align: inherit;">That is, the current project is in the yellow zone, the size is still acceptable, but it's time to think about how to add new functionality to it, and at the same time fit into the upper limit of 100 Kb.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">download</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> this script, format it and see what's interesting there.</font></font></p><br>
<h2 id="nastroyki-bandlera"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bundler settings</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The first thing that catches your eye when viewing the code is the repetition of this pattern:</font></font></p><br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">t, e, n</span>) </span>{<font></font>
    t.exports = {<font></font>
        <span class="hljs-comment">// - </span><font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<p>    CommonJS .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"></a>  ES-,         – <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Scope hoisting</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Tree-shaking</a>.   CommonJS-,           .</p><br>
<p>    ,    ES-   ,       .      webpack   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">--display-optimization-bailout</a>  ,      .</p><br>
<p>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">" "</a> Svelte,       ,              .</p><br>
<p> ,       ,       ,            20%,  14     .</p><br>
<h2 id="optimizaciya-resursov"> </h2><br>
<p>  ,     SVG  JPG .  ,            .</p><br>
<p>  SVG.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">SVGO</a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">-</a>.</p><br>
<p>    7 svg-    10 , , -,     .    SVGO      3 .</p><br>
<p>  JPG. ,       5927 ,    183x72.  ,     retina-.  ,         .      - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">https://squoosh.app/</a>,           .      ,     ,   7  .</p><br>
<p>        ,       , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">SVGO</a>   ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">imagemin</a>.</p><br>
<h2 id="nenuzhnyy-kod"> </h2><br>
<p>     Javascript.    ES6-,    IE    .         –   ,  ES6     7%.      Internet Explorer,      .</p><br>
<p>     .</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">axios</a> –   http-.    IE  ,     Fetch API,     ,   4 .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">process</a> –   process  Node.js.         webpack,   <code>process.env.NODE_ENV</code>,      <code>process</code>     <code>process.env</code>.        1 .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">sentry</a> –  .         ,      17   .<br>
<ul>
<li>Sentry       CDN.     ,             ,     .</li>
<li>   ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> </a>     CDN,    .   ,         Sentry.           ,           CDN.</li>
</ul></li>
</ul><br>
<h2 id="code-coverage">Code coverage</h2><br>
<p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Code Coverage</a>  Chrome Devtools.     ,  24% Javascript  .    ,      , ,         ,          ,      .</p><br>
<h2 id="itog"></h2><br>
<p>,         46  (   2 !)</p><br>
<ul>
<li>14  –  </li>
<li>10  –  </li>
<li>22  – Javascript-</li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thus, we see that the size of the bundle is influenced by many factors, and the effect of using Svelte about the same as drinking a hamburger with diet cola is purely psychological. </font><font style="vertical-align: inherit;">Real optimization requires attention to detail and control of output size.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And if you are thinking about switching to Svelte for the sake of reducing the size of your project - I advise you to pay attention to the points above, perhaps if you fix them, then you won’t need to go anywhere.</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en504592/index.html">PuppetConf 2016. Kubernetes for system administrators. Part 3</a></li>
<li><a href="../en504598/index.html">Database of primes up to one hundred billion on the knee</a></li>
<li><a href="../en504600/index.html">What awaits the airline after the crisis: Warren Buffett's opinion</a></li>
<li><a href="../en504602/index.html">Telemetría → voltage free metrics</a></li>
<li><a href="../en504604/index.html">What is happening in the video services market today?</a></li>
<li><a href="../en504622/index.html">What makes Rust a universal programming language</a></li>
<li><a href="../en504634/index.html">We write an operating system. Part 1. Loader</a></li>
<li><a href="../en504638/index.html">Shopify: who interviewed me for the Staff Engineer position? Junior?</a></li>
<li><a href="../es486176/index.html">Memo de correspondencia de correo electrónico corporativo</a></li>
<li><a href="../es486178/index.html">FOSS News No. 1 - revisión de noticias gratuitas y de código abierto del 27 de enero al 2 de febrero de 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>