<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴 ⏺️ 👧 サービスステーションの自動操縦方法 🙍🏿 ☃️ 🔜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル！私はベルリンの小さなスタートアップで働いており、自動車のオートパイロットを開発しています。ドイツの大手自動車メーカーのガソリンスタンドのプロジェクトを完成させようとしています。それについてお話ししたいと思います。どのようにそれを行ったか、どのような困難に遭遇し、どのような新しいこ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>サービスステーションの自動操縦方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457500/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブル！</font><font style="vertical-align: inherit;">私はベルリンの小さなスタートアップで働いており、自動車のオートパイロットを開発しています。</font><font style="vertical-align: inherit;">ドイツの大手自動車メーカーのガソリンスタンドのプロジェクトを完成させようとしています。それについてお話ししたいと思います。どのようにそれを行ったか、どのような困難に遭遇し、どのような新しいことを発見したかです。</font><font style="vertical-align: inherit;">この部分では、perceptionモジュールとソリューション全体のアーキテクチャについて少し説明します。</font><font style="vertical-align: inherit;">残りのモジュールについては、おそらく次の部分で説明します。</font><font style="vertical-align: inherit;">私たちのアプローチについて、外部からのフィードバックと目を通していただきたいと思います。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顧客からのプロジェクトのプレスリリースは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、自動車メーカーが私たちに目を向け、自分でプロジェクトを作成しなかった理由を説明します。ドイツの大きな関心事がプロセスを変更することは困難であり、車の開発形式がソフトウェアに適していることはめったにありません。反復は長く、適切な計画が必要です。ドイツの自動車メーカーはこれを理解しているように思えます。したがって、ドイツの自動車メーカーが設立したスタートアップに出会うことができますが、独立した会社（たとえば、AudiのAIDやVolvoのZenuity）として働いています。他の自動車メーカーは、Startup Autobahnのようなイベントを企画しています。そこでは、仕事や新しいアイデアの潜在的な請負業者を探しています。彼らは製品やプロトタイプを注文し、短期間で最終的な結果を得ることができます。これは、同じことを自分でやろうとするよりも速くなる可能性があり、コストの点で独自の開発以上のコストはかかりません。プロセス変更の複雑さは、オートパイロットを備えた車のテストを顧客に開始するために必要な権限の数によってよく示されます。人々のビデオ録画への同意（データを保存せず、特定の人々を特定せずに匿名形式でのみストリーミングビデオを使用する）、ビデオ録画への同意地域、労働組合の同意、これらの技術をテストする労働領事、セキュリティサービスの同意、ITサービスの同意-これがリスト全体ではありません。これらのテクノロジーをテストするための労働組合と労働領事の同意、セキュリティサービスの同意、ITサービスの同意は、リスト全体ではありません。これらのテクノロジーをテストするための労働組合と労働領事の同意、セキュリティサービスの同意、ITサービスの同意は、リスト全体ではありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在のプロジェクトでは、顧客は「AI」を使用してサービスセンターで車を運転できるかどうかを知りたいと考えています。</font><font style="vertical-align: inherit;">ユーザースクリプトは次のとおりです。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技術者は、テストエリア外の駐車場のどこかにある機械での作業を開始したいと考えています。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼はタブレットで車を選択し、サービスボックスを選択して、「ドライブイン」をクリックします。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">車は運転して終点（エレベーター、スロープなど）で止まります。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技術者が車での作業を終えたら、タブレットのボタンを押し、車が車を運転して外の空きスペースに駐車します。 </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能：すべての車にカメラが搭載されているわけではありません。</font><font style="vertical-align: inherit;">それらが存在するマシンでは、それらにアクセスできません。</font><font style="vertical-align: inherit;">アクセスできるマシン上の唯一のデータは、ソナーとオドメトリーです</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソナーとオドメトリー</font></font></b><div class="spoiler_text"> —   ,           ,      ,       .  —       .      ,       .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、車はサービスエリアに設置された外部センサーによって制御される必要があります。 </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">決定</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終製品のアーキテクチャは次のとおりです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスエリアには、外部カメラ、LIDAR、その他（こんにちはテスラ）を設置します。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カメラからのデータはJetson TX2（各3台のカメラ）に送られます。JetsonTX2は、マシンを検索し、カメラからの画像を前処理するタスクに従事しています。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに、カメラデータは中央サーバーに送られます。中央サーバーはControl Towerと呼ばれ、認識、追跡、経路計画モジュールに分類されます。</font><font style="vertical-align: inherit;">分析の結果、車の移動方向が決定され、車に送信されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトのこの段階で、別のJetson TX2が車に入れられ、ドライバーを使用してベクターに接続し、車のデータを復号化してコマンドを送信します。</font><font style="vertical-align: inherit;">TX2は中央サーバーから制御コマンドを受信し、車にブロードキャストします。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インフラストラクチャレベルでは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROSが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用され</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術者が車を選択し、「ドライブイン」をクリックした後は、次のようになります。</font></font><br>
<br>
<ol>
<li>  :       ,     ,       .             ,            .  ,         ,       ,      ,              .          ,   -      .</li>
<li>   ,     ,    ,   perception,         ,    .   ,     30   .         ,       .</li>
<li>       perception,   ,      ,  ,  ,     . </li>
<li> path planner,     : global path planner     local path planner   (   ),     ,    ,  . </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetsonは車でコマンドを受け取り、車にブロードキャストします。 </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出発は到着と同じです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">知覚</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の意見では、最も興味深いモジュールの1つは知覚です。</font><font style="vertical-align: inherit;">このモジュールは、動きについて正確に判断できるようにセンサーからのデータを記述します。</font><font style="vertical-align: inherit;">私たちのプロジェクトでは、カメラに落ちるすべてのオブジェクトの座標、向き、サイズを提供します。</font><font style="vertical-align: inherit;">このモジュールを設計するとき、1つのパスで画像を分析できるアルゴリズムから始めることにしました。</font><font style="vertical-align: inherit;">私たちは試しました：</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もつれのないVAE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">β-VAEに小さな変更を加えることで、潜在的なベクトルが画像情報を概略的なトップダウンビューで格納するようにネットワークをトレーニングできました。</font></font></li>
<li>Conditional GAN (   — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">pix2pix</a>).       .         ,                 . </li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つのカメラの条件付きGAN反復の1つ、左から右へ：入力画像、ネットワーク予測、期待される結果</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/w1/m9/ax/w1m9ax7idlos-x3jawcob3kmxzm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
実際、これらのアプローチのアイデアは、最終的なネットワークが、入力を見ることでカメラに乗ったすべての車と他の移動物体の位置と向きを確実に理解できるようにすることです写真を一度。この場合のオブジェクトのデータは、潜在ベクトルに格納されます。ネットワークのトレーニングは、シミュレーターからのデータで行われました。これは、デモが行われるポイントの正確なコピーです。そして、なんとか結果を出すことができましたが、いくつかの理由でこれらの方法を使用しないことにしました。</font></font><br>
<br>
<ul>
<li>              .       —      .      ,        .</li>
<li>   :       ,      ,       . </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それにもかかわらず、私たちはこれらのアプローチの可能性を理解することに興味があり、将来のタスクのためにそれらを覚えておきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、タスクにアプローチし、オブジェクトとネットワークを定期的に検索して、見つかったオブジェクトの空間位置を決定しました（たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。このオプションが最も正確であるように見えました。唯一の欠点は、以前に提案されたアプローチよりも遅いことですが、サービスエリア内の車の速度は5 km / h以下であるため、可能な遅延フレームワークに適合します。私たちに見えた物体の3次元位置を予測する分野の中で最も興味深い仕事はする</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これ一つで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、上のショーかなり良い結果</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キティ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。いくつかの変更を加えて同様のネットワークを構築し、周囲のボックスを決定するための独自のアルゴリズム、より正確には、オブジェクトの地面への投影の中心の座標を推定するアルゴリズムを記述しました-移動方向を決定するために、オブジェクトの高さに関するデータは必要ありません。オブジェクトの画像とそのタイプ（車、歩行者など）がネットワーク入力に送られ、その寸法と空間方向が出力されます。次に、モジュールは投影の中心を推定し、すべてのオブジェクトのデータを提供します：中心の座標、方向、および寸法（幅と長さ）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的な製品では、各画像は最初にネットワークを介してオブジェクトを検索し、次にすべてのオブジェクトが3Dネットワークに送信されて方向とサイズが予測されます。その後、それぞれの投影の中心を評価し、それと方向とサイズに関するデータをさらに送信します。この方法の特徴は、オブジェクト検索ネットワークからの境界ボックス境界の精度に非常に関連していることです。このため、YOLOのようなネットワークは適していませんでした。 RetinaNetネットワークの境界ボックスのパフォーマンスと精度の最適なバランスを見つけました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプロジェクトで私たちが幸運だったことの1つは注目に値します。土地は平坦です。つまり、よく知られたコミュニティほど平坦ではありませんが、私たちの領土に曲がりはありません。これにより、固定単眼カメラを使用して、オブジェクトまでの距離に関する情報なしで、オブジェクトを地球の平面の座標に投影できます。将来の計画には、単眼深度予測の導入が含まれます。このテーマに関する多くの作品が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、私たちが将来のプロジェクトのために試みている最後で非常に興味深いものの1つです。深度予測を使用すると、平らな地面で作業できるだけでなく、障害物を特定する精度が向上し、新しいカメラの設定プロセスが簡素化され、各オブジェクトにラベルを付ける必要がなくなります。何らかの障害物である場合は、どのようなオブジェクトであるかは関係ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以上、お読みいただきありがとうございます。質問にお答えさせていただきます。おまけとして、私は予想外の悪影響についてお話ししたいと思います。オートパイロットは車の向きを気にしません。彼にとっては、前か後ろかは関係ありません。主なことは、最適に運転し、誰にも衝突しないことです。したがって、特に高い操縦性が必要とされる小さなエリアでは、車が途中まで後進する可能性が高くなります。しかし、人々は自動車がほとんど前進しているという事実に慣れており、オートパイロットから同じ動作を期待することがよくあります。ビジネスマンは、前に乗るのではなく、後ろに乗る車を見た場合、製品の準備ができておらず、エラーが含まれていると考えるかもしれません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 実際にテストした画像や動画がないことをお詫びしますが、法的な理由で公開することはできません。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457476/index.html">Spring BootアプリケーションでのDockerイメージのサイズの削減</a></li>
<li><a href="../ja457480/index.html">モバイルMMORPGトラフィックを表示するためのリスニングアプリケーションの作成</a></li>
<li><a href="../ja457490/index.html">ザッカーバーグからのAisioshechka-簡単にそして天秤座事件で</a></li>
<li><a href="../ja457494/index.html">「そして、もし私が数学を知らなければ、私は絶望的ですか？」-専門家は、データサイエンスの専門職に関するよくある質問に回答します</a></li>
<li><a href="../ja457496/index.html">「5つの違いを見つける。」スケーラブルで世代の違い-新しいテスト</a></li>
<li><a href="../ja457504/index.html">2019年にReact Data Gridを作成する理由</a></li>
<li><a href="../ja457508/index.html">子育てvs機械学習：若い母親を比較する</a></li>
<li><a href="../ja457510/index.html">mcrouterを使用してmemcachedを水平方向にスケーリングする</a></li>
<li><a href="../ja457512/index.html">PostgreSQLのバージョン間の論理レプリケーション</a></li>
<li><a href="../ja457514/index.html">ネバンゲル</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>