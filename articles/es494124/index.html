<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👰🏽 👩🏽‍💻 ✋🏼 Ensamblar una computadora de 8 bits: cómo reducir el número de chips a seis 🧒 😖 🎅🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La combinación del viejo truco con la codificación de color NTSC y el hardware moderno le permite construir una máquina sorprendentemente viable.
 
 E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ensamblar una computadora de 8 bits: cómo reducir el número de chips a seis</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/494124/"><img src="https://habrastorage.org/webt/10/p7/70/10p770cfa9wj0aj3xrs0ajhonoq.jpeg"><br>
<font color="99999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La combinación del viejo truco con la codificación de color NTSC y el hardware moderno le permite construir una máquina sorprendentemente viable.</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En los sistemas de 8 bits, hay algo permanentemente atractivo: puede construir un sistema autónomo lo suficientemente potente como para admitir la interacción adecuada del usuario, pero lo suficientemente simple para ensamblar y programarlo usted mismo. La mayoría de las máquinas modernas de 8 bits creadas por aficionados están vinculadas a los procesadores clásicos que vivieron en la</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> época dorada de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> las computadoras domésticas de la década de 1980, cuando millones de televisores se usaban como pantallas. Inicialmente, la idea era construir mi automóvil basado en el</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> procesador Motorola 6809</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de la misma época Traté de usar la menor cantidad de chips posible, pero a pesar de mis esfuerzos, todavía necesitaba 13 chips adicionales para trabajar con RAM y transferencia de datos en serie. Entonces pensé: ¿qué pasa si uso un procesador de 8 bits más moderno? ¿Cuánto puedo reducir la cantidad de chips que necesito?</font></font><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, monté un automóvil en él, que se llamaba </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amatista</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Al igual que cualquier computadora doméstica, tiene un teclado incorporado y puede emitir audio y video. También tiene un lenguaje de programación incorporado de alto nivel para que los usuarios puedan escribir sus propios programas en él. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logré</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> reducir el número de microcircuitos a seis: </font><font style="vertical-align: inherit;">CPU </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">ATMEGA1284P</font></a><font style="vertical-align: inherit;"> , interfaz USB y cuatro circuitos integrados simples. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El 2008 ATMEGA1284P (o 1284P) tiene 128 kilobytes de memoria flash y 16 kilobytes de RAM. Puede operar con una frecuencia de hasta 20 megahercios. Tiene controladores serie integrados integrados y 32 entradas / salidas digitales.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6GKgxBEGH1M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias a la memoria incorporada y las interfaces seriales, desapareció la necesidad de muchos chips auxiliares. </font><font style="vertical-align: inherit;">Podría generar audio directamente, interrumpiendo y aplicando una señal a la entrada / salida con diferentes frecuencias. </font><font style="vertical-align: inherit;">Así, aprendí a dar un tono que, sin embargo, poseía la nitidez característica de una onda cuadrada. </font><font style="vertical-align: inherit;">¿Pero qué pasa con la generación de una señal de video analógica? </font><font style="vertical-align: inherit;">¿Esto realmente requerirá un equipo especial?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Truco estándar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A finales de 2018, vi un truco que Steve Wozniak usó en la década de 1970 para implementar el soporte de gráficos en color en Apple II. En los Estados Unidos, este truco se usó para la transmisión en color en el sistema NTSC en la década de 1950. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, la televisión estadounidense era solo en blanco y negro y utilizaba el estándar NTSC bastante simple (desarrollado por el Comité Nacional de Sistemas de Televisión). Para formar una imagen en la pantalla, un haz de electrones trazó puntos en su superficie, fila tras fila. La amplitud de la señal de video recibida determinó el brillo del haz en cualquier ubicación dada a lo largo de la fila. Luego, en 1953, NTSC </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se actualizó</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para admitir televisión en color, manteniendo la compatibilidad con los televisores en blanco y negro existentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los ingenieros decidieron presentar información de color en forma de una señal sinusoidal de alta frecuencia. Para esto, la subportadora se dividió en dos componentes con un desplazamiento de fase de 90 °, cada uno de los cuales se sometió a modulación. El resultado fue una señal modulada tanto en amplitud como en fase. La amplitud de la señal determinó qué tan saturado debería estar el color. Esta señal de croma de alta frecuencia se agregó luego a la señal de luminancia de baja frecuencia para crear la llamada señal de video compuesto. Este método todavía se usa para muchos televisores y pantallas más baratas.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bu/u_/aw/buu_awktun52nw_57p5oi95vopm.png"><br>
<br>
<blockquote><i><b>« »</b>:    ,    [ ],   - ,         [ ].      .         [ ]   ,       :      .             [ ],          .</i></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un televisor en blanco y negro percibe una señal de color como ruido y la ignora. Pero un televisor en color puede separar la señal de color de la señal de luminancia utilizando bucles de filtro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la década de 1970, los ingenieros se dieron cuenta de que este esquema de filtrado podría ser muy útil para las computadoras domésticas porque permite que una señal digital rectangular simule la mayor parte de la señal analógica compuesta. El flujo de ceros enviado por la computadora al televisor se percibirá como un voltaje analógico constante de baja frecuencia, es decir, negro. El flujo de unidades se considerará como un voltaje constante de alta frecuencia, es decir, blanco. Pero con una velocidad de bits suficientemente alta, surgirán estructuras binarias más complejas que los esquemas de filtrado de paso alto reconocerán como señales de color. Este truco permitió que Apple II mostrara hasta 16 colores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al principio, pensé que necesitaba cambiar el pin de entrada / salida muy rápidamente para generar directamente una señal de video. Sin embargo, pronto me di cuenta de que con mi 1284P funcionando a 14.318 MHz, no podía cambiarlo lo suficientemente rápido como para mostrar más de cuatro colores. El hecho es que sus interfaces seriales integradas necesitarían dos ciclos de reloj para enviar un bit, lo que limitaría mi frecuencia de reloj a 7.159 MHz. Apple II utilizó un acceso rápido y directo a la memoria para conectar su chip externo a la salida de video, mientras que su CPU estaba ocupada con el procesamiento interno. Pero, dado que la RAM de mi computadora está integrada en el chip, no pude usar este enfoque.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Así que miré en mis cajones y saqué cuatro microcircuitos de la serie 7400: dos multiplexores y dos registros de desplazamiento en serie paralelos. </font><font style="vertical-align: inherit;">Pude instalar ocho pines 1284P en paralelo y enviar datos de ellos simultáneamente a los multiplexores y registros de desplazamiento, que los convierten en un flujo de bits en serie de alta velocidad. </font><font style="vertical-align: inherit;">Por lo tanto, aprendí a generar bits lo suficientemente rápido como para mostrar unos 215 colores diferentes en la pantalla. </font><font style="vertical-align: inherit;">Sin embargo, tuve que pagar con mi poder de procesamiento: el procesamiento de video consume constantemente el 75% de los recursos del procesador.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/67/ti/wd/67tiwdceh1mxpre-pg9qypcb43o.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Computadora compacta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amethyst es una computadora de placa única. Se ensambla a partir de solo seis circuitos integrados: un procesador, una interfaz USB y cuatro microcircuitos de la serie 7400, que se utilizan para crear una imagen de 215 colores. Los interruptores del teclado se sueldan directamente a la placa, que también admite audio y cuatro conexiones de E / S en serie para periféricos, como controladores de juegos y dispositivos de almacenamiento. Puede escribir programas y ejecutarlos gracias a la máquina virtual incorporada Forth.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Necesitaba un entorno de programación ligero para los usuarios, lo que me hizo elegir Forth en lugar del básico tradicional. Forth es un antiguo lenguaje de programación para sistemas embebidos, admite interactividad y puede compilar código de manera eficiente. Con él, puede hacer mucho con la mínima cantidad de recursos. Dado que el 1284P no permite que el código de máquina compilado se ejecute directamente desde su RAM, el código de usuario se compila en un bytecode intermedio. Este código de bytes se alimenta como entrada a una máquina virtual que se ejecuta desde la memoria flash 1284P. El código de la máquina virtual se escribió en ensamblador y se optimizó manualmente para hacerlo lo más rápido posible.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como ingeniero que trabaja para una empresa que produce impresoras láser 3D, tengo acceso a máquinas de corte láser avanzadas. </font><font style="vertical-align: inherit;">Así que diseñé y fabriqué fácilmente una caja de madera (vi el acabado de madera en el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atari 2600</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Los interruptores mecánicos del teclado se soldaron directamente a una sola placa de circuito Amethyst. </font><font style="vertical-align: inherit;">Este teclado tiene una característica curiosa: la ausencia de la gran brecha habitual. </font><font style="vertical-align: inherit;">En cambio, solo un botón, ubicado modestamente sobre la tecla Enter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El esquema completo, los archivos PCB para la placa de circuito y el código fuente están disponibles en mi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repositorio de GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para que pueda crear su propia amatista o incluso mejorar mi proyecto. </font><font style="vertical-align: inherit;">¿Qué pasa si puedes descubrir cómo ahorrar un par de fichas más?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es494096/index.html">Despliegue intranet. Experiencia, errores, recomendaciones.</a></li>
<li><a href="../es494098/index.html">Enfoque imperativo para datos reactivos en el ejemplo de Jetbrains KTor y R2DBC</a></li>
<li><a href="../es494100/index.html">Lo que necesita para crear el modelo ideal de un centro educativo para capacitar especialistas en TI</a></li>
<li><a href="../es494114/index.html">Cómo reducir el número y aumentar la legibilidad del código en react-redux, redux-saga</a></li>
<li><a href="../es494118/index.html">COVID-19 Telegram-bot // Respondemos preguntas frecuentes automáticamente</a></li>
<li><a href="../es494126/index.html">CIENCIA SUPERIOR Febrero Media Diez: feministas cangrejo zombi, salamandras prehistóricas y alcohólicos exagerados</a></li>
<li><a href="../es494128/index.html">Hackspace Neuron: un lugar de encuentro para hackers en Moscú</a></li>
<li><a href="../es494130/index.html">Qué sucede con los eventos en línea: algunas de nuestras estadísticas</a></li>
<li><a href="../es494132/index.html">Compilador Befunge en Python</a></li>
<li><a href="../es494136/index.html">Qué gotear en el ojo para no picar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>