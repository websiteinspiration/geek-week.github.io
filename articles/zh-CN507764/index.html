<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥇 🆑 🏆 我如何为发电机做ABP 👨🏻‍🌾 🤛🏽 🦋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="几年前，我为自己设置了一个自动转换开关（自动备用输入），可以通过发电机在该国工作。现在，许多IT工人正从小屋搬到偏远的地方，在那里电源的质量可以保持最佳状态。因此，我决定写我在ATmega8A微控制器上使用自制ABP的经验。如果主题很有趣，欢迎来到Kat，那里会有很多字母和代码。 
  
  
  ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>我如何为发电机做ABP</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/507764/"><img src="https://habrastorage.org/webt/k7/ts/fd/k7tsfdbxvx2m-t8icgh6ryzqwbo.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
几年前，我为自己设置了一个自动转换开关（自动备用输入），可以通过发电机在该国工作。</font><font style="vertical-align: inherit;">现在，许多IT工人正从小屋搬到偏远的地方，在那里电源的质量可以保持最佳状态。</font><font style="vertical-align: inherit;">因此，我决定写我在ATmega8A微控制器上使用自制ABP的经验。</font><font style="vertical-align: inherit;">如果主题很有趣，欢迎来到Kat，那里会有很多字母和代码。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于接地</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在用电做任何事情之前，您需要确保自己的房屋接地良好。只是无法将常规的家用燃气/柴油/燃气发生器连接到家里的电源上。注意事项。第一个是发电机必须良好接地。这样，当您最喜欢的毛衣中的静电穿过发电机绕组的绝缘层时，您很有可能不会触电。通常，不应不必要地触摸正在运行的发电机。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值得记住的是，网络并不总是220V。</font><font style="vertical-align: inherit;">接通线路，远距离的雷电放电，静电放电会产生这样的信号，使得网络中频繁出现几千伏的短脉冲。</font><font style="vertical-align: inherit;">他们通过在房屋入口处安装避雷器和SPD来为此作斗争，但这在俄罗斯联邦是非常罕见的做法。</font><font style="vertical-align: inherit;">因此，让火花进入大地，而不是通过您-在整个房屋中都应良好接地。</font><font style="vertical-align: inherit;">没有这个，您将无能为力！</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于发电机</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顺便说一下，对于许多家用汽油发电机来说，绕组绝不接地。当您使用发电机中的一种电动工具时，这是很正常的。但是，当需要将发电机连接到房屋时，需要制作零线（N）和相线（L）。为此，将发电机端子之一接地，并且从该接地点起，必须已经将两根导线分别独立地引入房屋内-一根是中性N，另一根是保护性接地（PE）。在选择发电机时，需要注意是否可以将其输出接地，有时在发电机的使用说明中禁止使用，这样的发电机将无法为您工作。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常在网络上，您可以看到发电机的接线图，而无需将N和PE线接地和分开。</font><font style="vertical-align: inherit;">不这样做，您的寿命会更长。</font><font style="vertical-align: inherit;">这样的方案在出现第一个不幸的情况之前都行之有效。</font><font style="vertical-align: inherit;">现代电子设备的典型电源包括从L，N线到地的电容器。</font><font style="vertical-align: inherit;">如果N未在发电机上接地，则由于N线上的这些电容器，如果幸运的话，相对于地面将有110伏。</font><font style="vertical-align: inherit;">顺便说一下，许多处于这种模式的燃气锅炉通常会停止工作。</font><font style="vertical-align: inherit;">关于静电的影响而没有接地，我已经在上面写过。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于ABP计划</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有几种不同的实现ATS的方案。从我的观点出发，我将进一步介绍单相ATS的最安全电路。我不建议在一个接触器上或仅切换一根相线时谨慎地进行ABP。只有中立。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<img src="https://habrastorage.org/webt/vh/v-/rl/vhv-rllrb28jayf15egb9xgltua.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在上图中，来自网络和发电机的电源通过输入1和2提供。它们受成对的机器保护。通过另外的机器，开关和指示电路被馈送。可以看出，继电器线圈彼此电气互锁。为了包括特定的输入，为简单起见，图中未显示的微控制器负责闭合开关点TK1或TK2处的电路。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本要点是ATS 2x闭锁方案的存在-接触器开关输入的相互机械闭锁和接触器的相互电闭锁。</font><font style="vertical-align: inherit;">为了经济而自制，它发生在他们的设计中，忽略了这些锁，但徒劳无功。</font><font style="vertical-align: inherit;">无阻塞的电路可能会工作一段时间，但有时触点会烧毁，复位弹簧会变弱，并且输入之间会发生短路。</font><font style="vertical-align: inherit;">首先，如果两条线路都通电，它会威胁到大范围，但这不是最大的问题。</font><font style="vertical-align: inherit;">更重要的是，您的发电机意外地会给电工修理线路，可以为公共网络供电-在不利的情况下，修理线路的电工可能会死亡。</font><font style="vertical-align: inherit;">这已经是您的犯罪文章。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于接触器</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，对于我们而言，不再使用常规继电器，仅适合使用专门的接触器。对于大容量，仍然可以选择电动驱动器，但是对于典型的家用而言，它既昂贵又多余。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要进行机械互锁，需要选择可以成对工作的接触器。相互闭锁通常是通过将相同的接触器彼此相邻并安装其他选件-机械互锁来实现的。它与接触器分开出售，价格为一美分。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果接触器在打开时有附加的信号触头，则可以实现互锁。有时它们会立即内置在接触器中，有时它们可​​以作为选项购买和安装。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
领先的接触器制造商在其生产线中都配备有此类设备。因此，找到并购买套件并不困难。没错，品牌接触器的价格比我们/中国的价格高得多。由于开关周期的数量预计不会很大，因此选择中国接触器是合理的。缺点只能归因于这样的事实，即接触器的线圈在运行期间会产生很多嗡嗡声。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有关开关电源的更多信息。</font><font style="vertical-align: inherit;">接触器触点必须承受允许在室内消耗的最大功率。</font><font style="vertical-align: inherit;">我有10 kW，因此我选择了接触器，以允许通过一个接触器（约50安培）的允许电流。</font><font style="vertical-align: inherit;">值得注意的是，出于某种原因，所有三相的护照总数中都标明了典型三相接触器的开关功率，因此您需要仔细查看通过一个触点的允许电流。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于控制方案</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当我参与ABP的创建时，我对其工作有一些特殊要求：</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<ul>
<li>      ,   ,      ,          :   ,      ,      ,     </li>
<li>              . ..           </li>
<li>            ,     ,                </li>
<li>, ,       .        </li>
</ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，图片显示我需要一个带有多个计时器的控制器。在那些日子里，我很喜欢在AVR上编码，因此我决定在Atmega 8a上制造这样的控制器。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果控制器能够长时间可靠地工作，那就太好了。另外，为了完全隔离电流并为控制器配备看门狗定时器，我不再提出任何建议。好吧，使方案和程序尽可能简单。由于一切工作都是为我自己完成的，因此我决定将所有设置和校准留在代码中-整个UI减少为一个LED）</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
控制器的主要任务是监视输入端的电压，并在必要时监视开关输入。同时，来自乡村网络的输入是优先事项。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里值得注意的是，网络的质量使得从150到250的波动非常普遍。因此，网络提供良好电源的概念非常模糊。一段时间后，当我在整个房屋中安装一个功率为11 kW的强大晶闸管稳压器时，我解决了这个问题。但是，重要的是，稳定器只能在ABP之前设置，而不能在之后设置！不建议打开发电机的稳定器。存在一定的负载组合（尤其是任何强大的泵）时，发电机和稳定器组成的系统将变得不稳定，并进入自激振荡的危险。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
经过一番思考，我在Eagle提出了这样的计划。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<img src="https://habrastorage.org/webt/3s/nr/v9/3snrv9ux0nbon6t1wf1vslf9h-c.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该电路具有两个相同的变压器电源，如果任何输入端都有电压，则为电路供电。输入之间的电压可能为600V，因此变压器的绝缘应良好。在QF3和QF4数据包之后分别进餐。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个电源都有一个电阻分压器，该电阻分压器由齐纳二极管保护以防止过压-通过ADC微控制器，通过简单的计算即可使用它来计算网络电压。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了切换接触器线圈，使用标准的数据表电路来控制七芯电池。 2件）。线圈是感性负载，因此需要在电阻器和电容器的输出端使用缓冲电路。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我有一个带ali的继电器模块，用于停止发电机。</font><font style="vertical-align: inherit;">在图中，它只是一个带有三个销钉的矩形。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这些功能中，TL431还用作参考电压发生器。</font><font style="vertical-align: inherit;">否则，所有东西都包含在Atmega 8的标准配置中。有LED指示输入端存在电源电压，还有一个设备状态LED。</font><font style="vertical-align: inherit;">该电路使用外部16 MHz石英作为时钟源。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
鹰给了我这样的印刷电路板。</font><font style="vertical-align: inherit;">没有带有轻型散热器的SMD，三端双向可控硅开关或稳定器。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<img src="https://habrastorage.org/webt/48/c6/iw/48c6iwzgd0ea_4r-hua23bfriz4.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
两个环形变压器直接安装在板上。</font><font style="vertical-align: inherit;">电路板是使用光致抗蚀剂以传统的业余无线电方式制造的。</font><font style="vertical-align: inherit;">安装后，用三层丙烯酸清漆覆盖。</font><font style="vertical-align: inherit;">我希望他的高压不会破裂。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于管理程序</font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
程序代码很长，很抱歉。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">程式码</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/*
 * ABP -    "  "
 *              -
 *       ,  - 
 *     -    .
 *      RS232   ,  SPI  
 *    3 .    
 *         .  
 *      .
 *
 *         printf
 *     -Wl,-u,vfprintf -lprintf_flt
 */</span>
 <span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> F_CPU</span>
 <span class="hljs-meta">#  <span class="hljs-meta-keyword">define</span> F_CPU 16000000UL</span>
 <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> BAUD 9600</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/io.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;util/delay.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/interrupt.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/wdt.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;avr/sleep.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">uint8_t</span> mcusr_mirror __attribute__ ((section (<span class="hljs-string">".noinit"</span>)));<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_mcusr</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> \
__<span class="hljs-title">attribute__</span><span class="hljs-params">((naked))</span> \
__<span class="hljs-title">attribute__</span><span class="hljs-params">((section(<span class="hljs-string">".init3"</span>)))</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get_mcusr</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{<font></font>
   mcusr_mirror = MCUSR;<font></font>
   MCUSR = <span class="hljs-number">0</span>;<font></font>
   wdt_disable();<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// UART      RS232</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">uart_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span>
</span>{
<span class="hljs-comment">/* //  
   UBRRH = 0;
   UBRRL = 103; //9600   16  */</span>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;util/setbaud.h&gt;</span></span><font></font>
    UBRRH = UBRRH_VALUE;<font></font>
    UBRRL = UBRRL_VALUE;   <font></font>
    <span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> USE_2X</span>
      UCSRA |= (<span class="hljs-number">1</span> &lt;&lt; U2X);
    <span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
      UCSRA &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; U2X);
   <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
   <span class="hljs-comment">//8  , 1  ,   </span>
   UCSRC = ( <span class="hljs-number">1</span> &lt;&lt; URSEL ) | ( <span class="hljs-number">1</span> &lt;&lt; UCSZ1 ) | ( <span class="hljs-number">1</span> &lt;&lt; UCSZ0 );
   <span class="hljs-comment">//    </span>
   UCSRB = ( <span class="hljs-number">1</span> &lt;&lt; TXEN ) | ( <span class="hljs-number">1</span> &lt;&lt;RXEN );<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">uart_putc</span><span class="hljs-params">(  <span class="hljs-keyword">char</span> c, FILE *file )</span>
</span>{
   <span class="hljs-comment">//    </span>
   <span class="hljs-keyword">while</span>( ( UCSRA &amp; ( <span class="hljs-number">1</span> &lt;&lt; UDRE ) ) == <span class="hljs-number">0</span> );<font></font>
   UDR = c;<font></font>
   wdt_reset();<font></font>
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}<font></font>
<font></font>
FILE uart_stream = FDEV_SETUP_STREAM( uart_putc, <span class="hljs-literal">NULL</span>, _FDEV_SETUP_WRITE );<font></font>
<font></font>
<span class="hljs-comment">//   1    -    </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">timer1_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span>
</span>{<font></font>
   TCCR1A = <span class="hljs-number">0</span>; <span class="hljs-comment">//    1 -  </span>
   <span class="hljs-comment">/* 16000000 / 1024 = 15625 ,     15625      1  */</span>
   <span class="hljs-comment">//  CTC, ICP1 interrupt sense (falling)(not used) + prescale /1024 +    (not used) </span>
   TCCR1B = (<span class="hljs-number">0</span> &lt;&lt; WGM13) | (<span class="hljs-number">1</span> &lt;&lt; WGM12) | (<span class="hljs-number">0</span> &lt;&lt; ICES1) | ((<span class="hljs-number">1</span> &lt;&lt; CS12) | (<span class="hljs-number">0</span> &lt;&lt; CS11) | (<span class="hljs-number">1</span> &lt;&lt; CS10)) | (<span class="hljs-number">0</span> &lt;&lt; ICNC1); <font></font>
   OCR1A = <span class="hljs-number">15625</span>;  <font></font>
   <font></font>
   <span class="hljs-comment">//  </span>
   TIMSK |= (<span class="hljs-number">1</span> &lt;&lt; OCIE1A);<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_RLY_STATES {<font></font>
   RLY_OFF = <span class="hljs-number">0</span>, <span class="hljs-comment">//  </span>
   RLY_ON <span class="hljs-comment">//  </span><font></font>
} ABP_RLY_STATES;<font></font>
<font></font>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_RLY {<font></font>
   RLY_220N = <span class="hljs-number">0</span>,<font></font>
   RLY_220G,<font></font>
   RLY_GEN<font></font>
} ABP_RLY;<font></font>
<font></font>
<span class="hljs-keyword">volatile</span> ABP_RLY_STATES contactors[RLY_GEN+<span class="hljs-number">1</span>]; <span class="hljs-comment">//   </span><font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_TMR_STATES {<font></font>
   TMR_OFF = <span class="hljs-number">0</span>, <span class="hljs-comment">//  </span>
   TMR_ON <span class="hljs-comment">//  </span><font></font>
} ABP_TMR_STATES;<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
   ABP_TMR_STATES state; <span class="hljs-comment">//   </span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> passed_secs; <span class="hljs-comment">//    (  255!!!)</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> set_secs; <span class="hljs-comment">//     </span><font></font>
} TMR_INSTANCE;<font></font>
<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_TMRS {<font></font>
   TMR_220N_ON = <span class="hljs-number">0</span>,  <span class="hljs-comment">//      220  </span>
   TMR_220G_ON, <span class="hljs-comment">//      220  </span>
   TMR_220N_OFF, <span class="hljs-comment">//      220  </span>
   TMR_220G_OFF, <span class="hljs-comment">//      220   </span>
   TMR_PRINT, <span class="hljs-comment">//      </span>
   TMR_GEN_OFF <span class="hljs-comment">//        220  </span><font></font>
} ABP_TMRS;<font></font>
<font></font>
<span class="hljs-keyword">volatile</span> TMR_INSTANCE abp_timers[TMR_GEN_OFF+<span class="hljs-number">1</span>]; <span class="hljs-comment">//    ABP_TMRS</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">abp_timers_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span> </span>{
   <span class="hljs-comment">//     </span>
   abp_timers[TMR_220N_ON].set_secs = <span class="hljs-number">10</span>; <span class="hljs-comment">//     </span>
   abp_timers[TMR_220G_ON].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//        </span>
   abp_timers[TMR_220N_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
   abp_timers[TMR_220G_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
   abp_timers[TMR_GEN_OFF].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//      </span>
   abp_timers[TMR_PRINT].set_secs = <span class="hljs-number">2</span>; <span class="hljs-comment">//  </span><font></font>
   <font></font>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> i;
   <span class="hljs-keyword">for</span>(i=TMR_220N_ON; i&lt;=TMR_GEN_OFF; i++ ) {<font></font>
      abp_timers[i].state = TMR_OFF;<font></font>
      abp_timers[i].passed_secs = <span class="hljs-number">0</span>;<font></font>
   }<font></font>
   <span class="hljs-keyword">for</span>(i=RLY_220N; i&lt;=RLY_GEN; i++ ) {<font></font>
      contactors[i] = RLY_OFF;<font></font>
   }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">abp_timer_start</span><span class="hljs-params">( ABP_TMRS tmr )</span> </span>{<font></font>
   abp_timers[tmr].passed_secs = <span class="hljs-number">0</span>;<font></font>
   abp_timers[tmr].state = TMR_ON;    <font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">abp_timer_stop</span><span class="hljs-params">( ABP_TMRS tmr )</span> </span>{<font></font>
   abp_timers[tmr].state = TMR_OFF;<font></font>
   abp_timers[tmr].passed_secs = <span class="hljs-number">0</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> <span class="hljs-title">abp_timer_check</span><span class="hljs-params">( ABP_TMRS tmr )</span> </span>{
   <span class="hljs-keyword">if</span> (abp_timers[tmr].passed_secs &gt;= abp_timers[tmr].set_secs) {
      <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <font></font>
   } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
   }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//      </span><font></font>
ISR(TIMER1_COMPA_vect)<font></font>
{<font></font>
   <span class="hljs-comment">//       /</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> i;
   <span class="hljs-keyword">for</span>(i=TMR_220N_ON; i&lt;=TMR_GEN_OFF; i++ ) {
      <span class="hljs-keyword">if</span> (abp_timers[i].state) {<font></font>
         abp_timers[i].passed_secs++;   <font></font>
      }<font></font>
   }<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-comment">// COUNTER2      led_State</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">counter2_init</span><span class="hljs-params">( <span class="hljs-keyword">void</span> )</span>
</span>{<font></font>
   ASSR = <span class="hljs-number">0</span>;  <span class="hljs-comment">/* AS0 = 0 */</span>  <span class="hljs-comment">/* disable asynchronous mode */</span>
   <span class="hljs-keyword">while</span> (ASSR); <span class="hljs-comment">/*EMPTY*/</span><font></font>
<font></font>
   OCR2 = <span class="hljs-number">223</span>;             <span class="hljs-comment">/* 70    */</span><font></font>
<font></font>
   TCCR2 |= (<span class="hljs-number">1</span> &lt;&lt; CS22) | (<span class="hljs-number">1</span> &lt;&lt; CS21) | (<span class="hljs-number">1</span> &lt;&lt; CS20);  <span class="hljs-comment">/* prescale /1024 */</span><font></font>
   <font></font>
   TCCR2 |= (<span class="hljs-number">1</span> &lt;&lt; WGM21);                <span class="hljs-comment">/* mode CTC */</span>
   TCCR2 &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; WGM20);<font></font>
   <font></font>
   TCCR2 &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; COM21);              <span class="hljs-comment">/*    OC2 */</span>
   TCCR2 &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; COM20);<font></font>
   <font></font>
   TIMSK |= (<span class="hljs-number">1</span> &lt;&lt; OCIE2);          <span class="hljs-comment">/* enable compare interrupt */</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_LED_STATES {<font></font>
   ABP_UNDEF = <span class="hljs-number">0</span>, <span class="hljs-comment">//  </span>
   ABP_1RELAY, <span class="hljs-comment">//  1 </span>
   ABP_2RELAY  <span class="hljs-comment">//  2 </span><font></font>
} ABP_LED_STATES;<font></font>
ABP_LED_STATES led_State = ABP_UNDEF;<font></font>
<font></font>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> led_pattern[<span class="hljs-number">3</span>][<span class="hljs-number">10</span>] =<font></font>
{ { <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span> }, <span class="hljs-comment">//   </span>
  { <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span> }, <span class="hljs-comment">//  1 </span>
  { <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span> } }; <span class="hljs-comment">//  2 </span><font></font>
<font></font>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> timer2_count = <span class="hljs-number">0</span>;         
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> led_cycle = <span class="hljs-number">0</span>; <span class="hljs-comment">//  0  9</span><font></font>
<font></font>
ISR(TIMER2_COMP_vect)  <span class="hljs-comment">//    70   </span><font></font>
{<font></font>
   <span class="hljs-keyword">if</span> (++timer2_count &gt; <span class="hljs-number">6</span>)       <span class="hljs-comment">//    0.1 .    </span><font></font>
   {<font></font>
      timer2_count = <span class="hljs-number">0</span>;           <span class="hljs-comment">//  </span>
      <span class="hljs-keyword">if</span> (led_pattern[led_State][led_cycle]) {<font></font>
         PORTB &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">//         </span>
      } <span class="hljs-keyword">else</span> {<font></font>
         PORTB |=  (<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">// </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span> (++led_cycle &gt;= <span class="hljs-number">10</span>)<font></font>
         led_cycle = <span class="hljs-number">0</span>;<font></font>
   }  <font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SAMPLES 2500</span>
<span class="hljs-comment">//    TL431</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> REFERENCEV 2.479</span>
<span class="hljs-comment">//      </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIVIDER1 (12.3/2.13)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DIVIDER2 (12.4/2.03)</span><font></font>
<font></font>
<span class="hljs-keyword">double</span> realV1 = <span class="hljs-number">0</span>; <span class="hljs-comment">//     V0</span>
<span class="hljs-keyword">double</span> realV2 = <span class="hljs-number">0</span>; <span class="hljs-comment">//     V1</span><font></font>
<font></font>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">int</span> sampleCount = <span class="hljs-number">0</span>;
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> tempVoltage1 = <span class="hljs-number">0</span>; <span class="hljs-comment">//    </span>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> tempVoltage2 = <span class="hljs-number">0</span>;
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> sumVoltage1 = <span class="hljs-number">0</span>; <span class="hljs-comment">//         </span>
<span class="hljs-keyword">volatile</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> sumVoltage2 = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ADC_init</span><span class="hljs-params">()</span> <span class="hljs-comment">// ADC1,0</span>
</span>{
   <span class="hljs-comment">//   2,5, 10 bit </span>
   ADMUX = (<span class="hljs-number">0</span> &lt;&lt; REFS0) | (<span class="hljs-number">0</span> &lt;&lt; REFS1) | (<span class="hljs-number">0</span> &lt;&lt; ADLAR) |<font></font>
   (<span class="hljs-number">0</span> &lt;&lt; MUX3) | (<span class="hljs-number">0</span> &lt;&lt; MUX2) | (<span class="hljs-number">0</span> &lt;&lt; MUX1) | (<span class="hljs-number">0</span> &lt;&lt; MUX0); <span class="hljs-comment">// ADC0</span>
   <span class="hljs-comment">// , free running,  </span>
   ADCSRA = (<span class="hljs-number">1</span> &lt;&lt; ADEN) | (<span class="hljs-number">1</span> &lt;&lt; ADFR) | (<span class="hljs-number">1</span> &lt;&lt; ADIE) |<font></font>
   (<span class="hljs-number">1</span> &lt;&lt; ADPS2) | (<span class="hljs-number">1</span> &lt;&lt; ADPS1) | (<span class="hljs-number">1</span> &lt;&lt; ADPS0); <span class="hljs-comment">//  128</span><font></font>
   <font></font>
   ADCSRA |= (<span class="hljs-number">1</span> &lt;&lt; ADSC);             <span class="hljs-comment">// Start ADC Conversion</span><font></font>
}<font></font>
<font></font>
ISR(ADC_vect) <span class="hljs-comment">//     2500    </span><font></font>
{<font></font>
   <span class="hljs-keyword">if</span> ((ADMUX &amp; (<span class="hljs-number">1</span> &lt;&lt; MUX0))) { <span class="hljs-comment">//    ADC1</span>
      <span class="hljs-keyword">if</span> (sampleCount++) <span class="hljs-comment">//   </span><font></font>
         tempVoltage1 += ADC;<font></font>
      <span class="hljs-keyword">if</span> (sampleCount &gt;= SAMPLES) {<font></font>
         sampleCount = <span class="hljs-number">0</span>;<font></font>
         sumVoltage1 = tempVoltage1;<font></font>
         tempVoltage2 = <span class="hljs-number">0</span>;<font></font>
         tempVoltage1 = <span class="hljs-number">0</span>;<font></font>
         ADMUX &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; MUX0); <span class="hljs-comment">//   ADC0</span><font></font>
      }        <font></font>
   } <span class="hljs-keyword">else</span> { <span class="hljs-comment">//    ADC0</span>
      <span class="hljs-keyword">if</span> (sampleCount++) <span class="hljs-comment">//   </span><font></font>
         tempVoltage2 += ADC;<font></font>
      <span class="hljs-keyword">if</span> (sampleCount &gt;= SAMPLES) {<font></font>
         sampleCount = <span class="hljs-number">0</span>;<font></font>
         sumVoltage2 = tempVoltage2;<font></font>
         tempVoltage2 = <span class="hljs-number">0</span>;<font></font>
         tempVoltage1 = <span class="hljs-number">0</span>;<font></font>
         ADMUX |= (<span class="hljs-number">1</span> &lt;&lt; MUX0); <span class="hljs-comment">//   ADC1</span><font></font>
      }  <font></font>
   }<font></font>
   ADCSRA |=(<span class="hljs-number">1</span> &lt;&lt; ADIF);              <span class="hljs-comment">// Acknowledge the ADC Interrupt Flag</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span> _ABP_U_STATES {<font></font>
   U_INVALID = <span class="hljs-number">0</span>, <span class="hljs-comment">//    </span>
   U_VALID <span class="hljs-comment">//   </span><font></font>
} ABP_U_STATES;<font></font>
<font></font>
ABP_U_STATES u220n, u220g; <span class="hljs-comment">//     </span><font></font>
<font></font>
<span class="hljs-comment">//         </span>
<span class="hljs-comment">//        ,   </span>
<span class="hljs-comment">//    ( ),   </span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAX_V 14.0</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MIN_V 7.5</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ports_init</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">//    </span>
   PORTB &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PB0);<font></font>
   DDRB  |=  (<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">// output</span>
   PORTB &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PB0); <span class="hljs-comment">// </span><font></font>
   <font></font>
   <span class="hljs-comment">//    1</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4);<font></font>
   DDRD  |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">// output</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   - </span>
   <span class="hljs-comment">//    2</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3);<font></font>
   DDRD  |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">// output</span>
   PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   - </span>
   <span class="hljs-comment">//     </span>
   PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD2);<font></font>
   DDRD  |=  (<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">// output</span>
   PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">//   - </span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">validate220</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">//       </span>
   realV1 = DIVIDER1 * ((sumVoltage1 * REFERENCEV) / <span class="hljs-number">1024</span>) / SAMPLES;<font></font>
   realV2 = DIVIDER2 * ((sumVoltage2 * REFERENCEV) / <span class="hljs-number">1024</span>) / SAMPLES;<font></font>
   <font></font>
   <span class="hljs-keyword">if</span>( realV1 &gt; MAX_V || realV1 &lt; MIN_V ) { <span class="hljs-comment">//    </span><font></font>
      u220g = U_INVALID;<font></font>
      } <span class="hljs-keyword">else</span> {<font></font>
      u220g = U_VALID;<font></font>
   }<font></font>
   <span class="hljs-keyword">if</span>( realV2 &gt; MAX_V || realV2 &lt; MIN_V ) { <span class="hljs-comment">//    </span><font></font>
      u220n = U_INVALID;<font></font>
      } <span class="hljs-keyword">else</span> {<font></font>
      u220n = U_VALID;<font></font>
   }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">validate_contactors</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-comment">//      220 </span>
      <span class="hljs-comment">//   RLY_220N = RLY_ON  RLY_OFF</span>
      <span class="hljs-keyword">if</span>( u220n == U_VALID &amp;&amp; contactors[RLY_220N] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220N_ON].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span>
         abp_timer_start( TMR_220N_ON ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_VALID &amp;&amp; contactors[RLY_220N] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220N_ON].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220N_ON)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span>
         contactors[RLY_220N] = RLY_ON; <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_VALID &amp;&amp; contactors[RLY_220N] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220N_OFF].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_INVALID &amp;&amp; contactors[RLY_220N] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220N_OFF].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span>
         abp_timer_start( TMR_220N_OFF ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_INVALID &amp;&amp; contactors[RLY_220N] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220N_OFF].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220N_OFF)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220N_OFF ); <span class="hljs-comment">//    220</span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span>
         contactors[RLY_220N] = RLY_OFF; <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220n == U_INVALID &amp;&amp; contactors[RLY_220N] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220N_ON].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220N_ON ); <span class="hljs-comment">//    220</span><font></font>
      }<font></font>
      <font></font>
      <span class="hljs-comment">//     </span>
      <span class="hljs-comment">//   RLY_220G = RLY_ON  RLY_OFF</span>
      <span class="hljs-keyword">if</span>( u220g == U_VALID &amp;&amp; contactors[RLY_220G] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220G_ON].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span>
         abp_timer_start( TMR_220G_ON ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_VALID &amp;&amp; contactors[RLY_220G] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220G_ON].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220G_ON)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span>
         contactors[RLY_220G] = RLY_ON; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_VALID &amp;&amp; contactors[RLY_220G] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220G_OFF].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_INVALID &amp;&amp; contactors[RLY_220G] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220G_OFF].state == TMR_OFF) { <span class="hljs-comment">//  ,   ,    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span>
         abp_timer_start( TMR_220G_OFF ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_INVALID &amp;&amp; contactors[RLY_220G] == RLY_ON<font></font>
      &amp;&amp; abp_timers[TMR_220G_OFF].state == TMR_ON &amp;&amp; abp_timer_check(TMR_220G_OFF)) { <span class="hljs-comment">//  ,   ,  </span>
         abp_timer_stop( TMR_220G_OFF ); <span class="hljs-comment">//    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span>
         contactors[RLY_220G] = RLY_OFF; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( u220g == U_INVALID &amp;&amp; contactors[RLY_220G] == RLY_OFF<font></font>
      &amp;&amp; abp_timers[TMR_220G_ON].state == TMR_ON) { <span class="hljs-comment">//  ,  ,    </span>
         abp_timer_stop( TMR_220G_ON ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <font></font>
      <span class="hljs-comment">//      </span>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_OFF &amp;&amp; contactors[RLY_GEN] == RLY_OFF) { <span class="hljs-comment">//  ,  </span>
         abp_timer_stop( TMR_GEN_OFF ); <span class="hljs-comment">//    </span>
         contactors[RLY_GEN] = RLY_ON; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON &amp;&amp; abp_timers[TMR_GEN_OFF].state == TMR_OFF <font></font>
      &amp;&amp; u220g == U_VALID) { <span class="hljs-comment">//  220      </span>
         abp_timer_start( TMR_GEN_OFF ); <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON &amp;&amp; abp_timers[TMR_GEN_OFF].state == TMR_OFF<font></font>
      &amp;&amp; u220g == U_INVALID) { <span class="hljs-comment">//  220      </span>
         abp_timer_stop( TMR_GEN_OFF ); <span class="hljs-comment">//    </span>
         contactors[RLY_GEN] = RLY_OFF; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
      <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON &amp;&amp; abp_timers[TMR_GEN_OFF].state == TMR_ON<font></font>
      &amp;&amp;  abp_timer_check(TMR_GEN_OFF) ) { <span class="hljs-comment">//  220      </span>
         abp_timer_stop( TMR_GEN_OFF ); <span class="hljs-comment">//    </span>
         contactors[RLY_GEN] = RLY_OFF; <span class="hljs-comment">//    </span><font></font>
      }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">switch_contactors</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-comment">//   </span>
   <span class="hljs-keyword">if</span>( contactors[RLY_220N] == RLY_ON ) {<font></font>
      PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   -   1 </span>
       _delay_ms(<span class="hljs-number">50</span>); <span class="hljs-comment">//      </span>
      PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   -   2 220</span><font></font>
      led_State = ABP_2RELAY;<font></font>
   } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">if</span>( contactors[RLY_220G] == RLY_ON ) {<font></font>
         PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   -   2 220</span>
         PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   -   1 </span><font></font>
         led_State = ABP_1RELAY;<font></font>
      } <span class="hljs-keyword">else</span> {<font></font>
         PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD3); <span class="hljs-comment">//   -   2 220</span>
         PORTD |=  (<span class="hljs-number">1</span> &lt;&lt; PD4); <span class="hljs-comment">//   -   1 </span><font></font>
         led_State = ABP_UNDEF;<font></font>
      }<font></font>
   }<font></font>
   <span class="hljs-keyword">if</span>( contactors[RLY_GEN] != RLY_ON ) { <span class="hljs-comment">// v2       -     </span>
      PORTD &amp;= ~(<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">//   -   -     -  </span>
   } <span class="hljs-keyword">else</span> {<font></font>
      PORTD |= (<span class="hljs-number">1</span> &lt;&lt; PD2); <span class="hljs-comment">//   -   -    </span><font></font>
   }<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{<font></font>
   ports_init(); <span class="hljs-comment">//   ,   </span><font></font>
   <font></font>
   uart_init(); <span class="hljs-comment">// uart</span>
   <span class="hljs-built_in">stdout</span> =  &amp;uart_stream;<font></font>
   <font></font>
   counter2_init(); <span class="hljs-comment">//    </span>
   ADC_init(); <span class="hljs-comment">//    220</span>
   abp_timers_init(); <span class="hljs-comment">//      </span>
   timer1_init(); <span class="hljs-comment">//       1</span><font></font>
<font></font>
    set_sleep_mode(SLEEP_MODE_IDLE);  <span class="hljs-comment">//     IDLE</span><font></font>
    sleep_enable();<font></font>
<font></font>
    wdt_enable(WDTO_2S); <span class="hljs-comment">//       2 </span><font></font>
<font></font>
   sei(); <span class="hljs-comment">//   </span><font></font>
   <font></font>
   _delay_ms(<span class="hljs-number">1000</span>); <span class="hljs-comment">//    ,   0</span><font></font>
   wdt_reset();<font></font>
   <span class="hljs-built_in">printf</span>( <span class="hljs-string">"Start flag after reset = %u\r\n"</span>, mcusr_mirror );<font></font>
   abp_timer_start(TMR_PRINT);<font></font>
   <font></font>
    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<font></font>
    {<font></font>
      wdt_reset(); <span class="hljs-comment">//   </span><font></font>
      <font></font>
      validate220(); <span class="hljs-comment">//   220    </span><font></font>
   <font></font>
      validate_contactors(); <span class="hljs-comment">//      </span><font></font>
      <font></font>
      switch_contactors(); <span class="hljs-comment">//    </span><font></font>
      <font></font>
      <span class="hljs-comment">//     2 </span>
      <span class="hljs-keyword">if</span> (abp_timer_check(TMR_PRINT)) {
         <span class="hljs-built_in">printf</span>( <span class="hljs-string">"V220 = %4.2f VG = %4.2f\r\n"</span>, realV2, realV1 );
         <span class="hljs-built_in">printf</span>( <span class="hljs-string">"valid = %u %u \r\n"</span>, u220n, u220g );
         <span class="hljs-built_in">printf</span>( <span class="hljs-string">"rly = %u %u %u\r\n"</span>, contactors[RLY_220N], contactors[RLY_220G], contactors[RLY_GEN] );<font></font>
         abp_timer_start(TMR_PRINT);<font></font>
      }<font></font>
      <font></font>
        sleep_cpu(); <span class="hljs-comment">//      </span><font></font>
    }<font></font>
}<font></font>
</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
</div>
                    </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该程序是使用免费的AVR Studio开发的，并使用标准的AVR库。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在主循环中，程序检查输入端输入端的电压，评估接触器的接通状态，考虑程序计时器的操作，通过打开或关闭继电器和接触器进行必要的调整，然后进入休眠状态。</font><font style="vertical-align: inherit;">为了进行调试，得出了调试打印到微控制器的串行端口的结论。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了控制冻结，提供了看门狗定时器。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
所有测量周期均在中断时使用硬件计时器完成。</font><font style="vertical-align: inherit;">第二个计数器设置在计时器1上。在计时器1中断后，将更新软件计时器，这些计时器负责接触器和发电机继电器的接通和断开延迟。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二个计时器用于创建状态LED的闪烁效果。有三种闪烁模式。闪烁模式中的值是在计时器2中断时获取的。通过闪烁，您可以判断控制器的状态。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
两个ADC还可以在定时器上工作，并且可以平均进行2500次电压测量采样。为了将测量值转换为实际电压，需要提供校准常数。在配置ATS时必须校正其值。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，在调试期间需要确定许多常数。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<pre><code class="cpp hljs">abp_timers[TMR_220N_ON].set_secs = <span class="hljs-number">10</span>; <span class="hljs-comment">//     </span>
abp_timers[TMR_220G_ON].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//        </span>
abp_timers[TMR_220N_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
abp_timers[TMR_220G_OFF].set_secs = <span class="hljs-number">5</span>; <span class="hljs-comment">//     </span>
abp_timers[TMR_GEN_OFF].set_secs = <span class="hljs-number">60</span>; <span class="hljs-comment">//      </span>
</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在发电机运行期间，发电机停止继电器保持接通状态，从而阻止了向发电机停止电路的供电。发电机的空转计时器完成后，继电器断开，电流通过该继电器流向发电机停止电路。在发电机本身上，有一个特殊的单元，在出现一定的电压后，它会延迟点火电路接地，导致发电机停止。同一块包含发电机充电电路。如果有人对这些细节感兴趣，请在评论中写一些内容，我将在此发表另外一篇文章。其中没有代码，一切都是硬件。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果有人决定重复ABP，则值得调整设置。我不会发布完成的固件，因为在ATS的配置过程中仍需要更正该程序。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    

      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我必须说我的ABP已经工作了4年没有问题，因此可以将电路视为经过验证的代码。</font></font></div>
      
    </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN507746/index.html">为什么以及如何检查网站加载速度？</a></li>
<li><a href="../zh-CN507748/index.html">基于Node-red和Scadavis.io的HMI</a></li>
<li><a href="../zh-CN507750/index.html">FlexCube-在Rosbank实施革命性的后台平台</a></li>
<li><a href="../zh-CN507752/index.html">为什么缓慢的网站加载会杀死SEO。龙猫如何不能没有房屋</a></li>
<li><a href="../zh-CN507758/index.html">JavaScript内存-无泄漏</a></li>
<li><a href="../zh-CN507772/index.html">最重要的来自苹果的WWDC'20大会</a></li>
<li><a href="../zh-CN507780/index.html">意识的递归是思维的陷阱，也是进步的障碍。历史论文</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>