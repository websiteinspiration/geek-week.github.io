<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé° üë©‚Äçüë¶‚Äçüë¶ üëÇüèª A device from a coronavirus or another trolley from a loaf of bread? üë®üèæ‚Äçüè≠ üë©‚Äçüé§ üï¥üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is another story and a guide to creating a device to protect against coronavirus. Surely everyone noticed that the radiant quartz lamps from the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>A device from a coronavirus or another trolley from a loaf of bread?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495788/"><img src="https://habrastorage.org/webt/iy/lk/2w/iylk2wocxuapnhmos-qjfb0vkeu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is another story and a guide to creating a device to protect against coronavirus. </font><font style="vertical-align: inherit;">Surely everyone noticed that the radiant quartz lamps from the Soviet past were undeservedly forgotten, but in the current situation they can become an assistant in solving the common problem with coronavirus.</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quartz lamp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - an electric mercury discharge lamp with a quartz glass bulb designed to receive ultraviolet radiation (in particular the UVC range). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quartz lamps often have the following spectra: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/li/ph/q5/liphq5mdwdk4bpkqveu18pxp-su.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Source: Low-pressure &amp; medium-pressure mercury lamps compared to E. coli germicidal effectiveness curve. Ultraviolet Germicidal Irradiation Handbook, Fig. 2.1.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The main bactericidal component of the spectrum (as follows from the figure) are wavelengths of about 260 nm. The emission spectrum of the lamp is due to the composition of the gas mixture inside the bulb. It is also worth highlighting spectral lines below 185 nm (they are not shown in the previous figure), which in the environment intensively generate ozone from oxygen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quartz lamps have the following advantages:</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
no consumables are needed to disinfect the room; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
do not require mechanical impact on the environment in order to carry out disinfection; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minimal operator effort </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But there are significant disadvantages:</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
direct and reflected UVC rays are harmful to humans; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
generated ozone is also harmful to humans by inhalation; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
there are no available means to control ozone concentration at the desired point in the room; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first two points of the disadvantage can be eliminated only by the complete absence of a person in the treated room. You can find solutions with timers and remotes at 433 mhz, but in fact they are primitive and difficult to integrate into the smart home system.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Given this, it was decided to purchase a quartz lamp and a controller to solve the problem of integrating the lamp into the smart home system. An 8 W quartz lamp and a Sonoff controller (based on esp8266) were ordered. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soon this lamp was received and, oddly enough (despite excellent reviews), it turned out to be inoperative. Opening it, the following was observed: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iq/ry/li/iqrylisi0mihdojyk4vpia4g3iw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This resistor burst during the filament of a quartz lamp, by the way pay attention to the silkscreen of the board ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was decided to replace this faulty circuit with a circuit from the legendary 15w gas-discharge "energy-saving" lamp.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vk/uk/2y/vkuk2y2orxtsn7mufqngcil2wlo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Removing the circuit from the lamp found is still a quest. Since it was required to carefully open the body of this lamp without damaging the bulb (it contains mercury vapor). As a result, the circuit was successfully retrieved. The following figure shows a similar circuit with a ‚Äúpinout‚Äù: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cc/f3/dv/ccf3dvpur7yjb4v7rka8rkum7_a.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Photo taken </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from here</font></font></a><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Quartz lamps are similar in design and operation to other gas discharge lamps (except that a quartz bulb without a phosphor is used). They have two filaments, each of which has two leads as well as in "energy-saving" lamps. As it turned out in practice, in both types of lamps, the filament has the same resistance of 8 ohms. But in any case, it is necessary to measure the resistance of the filament of both types of lamps to make sure that the resistances are the same.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The circuit from the "energy-saving" lamp was installed in an elegant case: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lk/u9/kq/lku9kqrlzmvjpusx2lx-0rziepi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result of an unexpected alteration of the quartz lamp, now it has a power of not 8 watts, but 15 watts. The following should be noted here, quartz lamps use about 20% of the consumed energy to generate ultraviolet radiation, and therefore in my case the effective power is 3-4 watts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After receiving the Sonoff basic module, it was decided to upgrade it to Tasmota custom firmware. Custom firmware makes it possible to control not only the electromagnetic relay, but also makes it possible to connect sensors via the i2c, SPI bus in order to expand the functionality. Not to mention the fact that it can be easily integrated into a smart home system. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Üí </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware Tasmota</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
‚Üí </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EEPROM procedure for Tasmota</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, for flashing it was required to output UART: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zw/nb/no/zwnbno4qfq6xgh8osciafio_kp0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The developed device connection scheme is presented below: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3o/ll/8b/3oll8bcusa9xuzjtypc6k_6cvsw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using the following solution, you can quartz the desired room by controlling the process remotely - on the street, at work or in another room, without fear of exposure or breathing in during manual on / off lamps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, in this way, you can add an ozone concentration sensor MQ-131 (it </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">datasheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">to the local network of devices </font><font style="vertical-align: inherit;">. The sensor itself can be installed in any other microcontroller that supports Wi-fi and ADC. This solution will allow you to install this sensor in any place of the room where it is critical to know the concentration of ozone in the air, with automatic control of a quartz lamp. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The device itself is presented below:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dw/lz/xf/dwlzxf0rliev8hrplwsoneynmis.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remember that such bulbs of discharge lamps contain mercury, so be careful with them! </font><font style="vertical-align: inherit;">And take all precautions during quartzing! </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - I made a device for the evening, so there may be flaws in the description and its implementation. </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqicn.org/air/view/sensor/spec/o3.winsen-mq131.pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - I am not responsible for any possible harm caused by the materials in this article (although the purpose of this article is to benefit the public).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495774/index.html">How to choose equipment for a game Persian in Python</a></li>
<li><a href="../en495780/index.html">We study the Mediastreamer2 VoIP engine. Part 3</a></li>
<li><a href="../en495782/index.html">FOSS News No. 10 - review of free and open source news for March 30 - April 5, 2020</a></li>
<li><a href="../en495784/index.html">SamsPcbGuide, Part 14: Technology - Microdevelopment and Chip-On-Board Technology</a></li>
<li><a href="../en495786/index.html">Global nulling</a></li>
<li><a href="../en495790/index.html">Exchange as a tool for hedging risks: why do we need unusual futures</a></li>
<li><a href="../en495792/index.html">DEFCON 27 Conference. Buttplug: True Penetration Testing. Part 2</a></li>
<li><a href="../en495794/index.html">About phrasal verbs</a></li>
<li><a href="../en495796/index.html">Choosing Flash Cards: A Detailed Guide to Secure Digital Varieties</a></li>
<li><a href="../en495798/index.html">Kubernetes in 3 days. Just about complicated</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>