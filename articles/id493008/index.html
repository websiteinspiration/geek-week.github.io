<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧥 💱 🧒 Tentang cluster server 1C 🗼 💎 👨🏽‍💻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cluster adalah jenis sistem paralel 
 atau terdistribusi yang: 
 1. terdiri dari beberapa 
 komputer yang saling berhubungan ; 
 2. Digunakan sebagai ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Tentang cluster server 1C</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1c/blog/493008/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster adalah jenis sistem paralel </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
atau terdistribusi yang: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. terdiri dari beberapa </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
komputer yang </font><font style="vertical-align: inherit;">saling berhubungan </font><font style="vertical-align: inherit;">; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Digunakan sebagai </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sumber daya komputer </font><font style="vertical-align: inherit;">tunggal, </font><font style="vertical-align: inherit;">terpadu </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gregory F. Pfister, “Mencari kluster”. </font></font></a></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengingat:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ada aplikasi bisnis (misalnya, sistem ERP) yang dengannya ribuan (mungkin puluhan ribu) pengguna bekerja secara bersamaan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diperlukan:</font></font></b><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat aplikasi scalable, sehingga dengan peningkatan jumlah pengguna, dimungkinkan karena peningkatan sumber daya perangkat keras untuk memberikan kinerja aplikasi yang diperlukan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat aplikasi tahan terhadap kegagalan komponen sistem (baik perangkat lunak dan perangkat keras), kehilangan koneksi antara komponen dan masalah lain yang mungkin terjadi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan sumber daya sistem seefisien mungkin dan berikan kinerja aplikasi yang diinginkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat sistem mudah digunakan dan dikelola.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengatasi masalah ini, kami menggunakan arsitektur cluster di platform 1C: Enterprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak segera mencapai hasil yang diinginkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kita akan berbicara tentang apa itu cluster, bagaimana kita memilih tipe cluster yang sesuai dengan kita dan bagaimana cluster kita berevolusi dari versi ke versi, dan pendekatan mana yang memungkinkan kita untuk akhirnya menciptakan sistem yang melayani </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puluhan </font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ribu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pengguna simultan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0g/mo/rq/0gmorqiise6fvaouym5mwpabl7y.png" alt="gambar"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti Gregory Pfister, penulis epigraf untuk artikel ini, menulis dalam bukunya "Mencari cluster," cluster tidak ditemukan oleh produsen perangkat keras atau perangkat lunak tertentu, tetapi oleh pelanggan yang tidak memiliki kekuatan satu komputer atau perlu redundansi. </font><font style="vertical-align: inherit;">Ini terjadi, menurut Pfister, di tahun 60-an abad lalu. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara tradisional membedakan jenis-jenis utama klaster berikut:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster Failover (HA, Cluster Ketersediaan Tinggi)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster load balancing (LBC)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster komputasi (Cluster komputasi kinerja tinggi, HPC)</font></font></li>
<li>   (grid)      ,              .   grid-      ,    .  grid-    HPC-,      .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengatasi masalah kami (ketahanan terhadap kegagalan komponen sistem dan penggunaan sumber daya yang efisien), kami perlu menggabungkan fungsionalitas kluster gagal-aman dan kluster dengan penyeimbangan beban. </font><font style="vertical-align: inherit;">Kami tidak langsung mengambil keputusan ini, tetapi melakukan pendekatan secara evolusioner, langkah demi langkah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagi mereka yang tidak up to date, saya akan memberi tahu Anda secara singkat bagaimana aplikasi bisnis 1C diatur. </font><font style="vertical-align: inherit;">Ini adalah aplikasi yang ditulis dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bahasa yang berorientasi pada subjek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , "diasah" untuk otomatisasi tugas-tugas bisnis akuntansi. </font><font style="vertical-align: inherit;">Untuk menjalankan aplikasi yang ditulis dalam bahasa ini, 1C: runtime platform perusahaan harus diinstal pada komputer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C: Perusahaan 8.0</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi pertama dari server aplikasi 1C (belum cluster) muncul di platform versi 8.0. Sebelum itu, 1C bekerja di versi client-server, data disimpan dalam file DBMS atau MS SQL, dan logika bisnis bekerja secara eksklusif pada klien. Dalam versi 8.0, transisi dibuat ke arsitektur tiga-tier "client - application server - DBMS". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server 1C pada platform 8.0 adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COM +</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server yang dapat menjalankan kode aplikasi dalam 1C. </font><font style="vertical-align: inherit;">Menggunakan COM + memberi kami transportasi siap pakai, memungkinkan aplikasi klien untuk berkomunikasi dengan server melalui jaringan. </font><font style="vertical-align: inherit;">Banyak hal dalam arsitektur interaksi klien-server dan objek aplikasi yang tersedia untuk pengembang 1C dirancang dengan mempertimbangkan penggunaan COM +. </font><font style="vertical-align: inherit;">Pada saat itu, toleransi kesalahan tidak dibangun ke dalam arsitektur, dan server crash menyebabkan semua klien ditutup. </font><font style="vertical-align: inherit;">Ketika aplikasi server macet, COM + mengangkatnya ketika klien pertama mengaksesnya, dan klien memulai pekerjaan mereka dari awal - dari koneksi ke server. </font><font style="vertical-align: inherit;">Pada saat itu, semua pelanggan dilayani oleh satu proses.</font></font><br>
<img src="https://habrastorage.org/webt/fg/oo/en/fgooenmx-pqv5tuizcfcvbvbaqg.png" alt="gambar"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C: Perusahaan 8.1</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam versi berikutnya, kami ingin:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berikan toleransi kesalahan kepada pelanggan kami sehingga kecelakaan dan kesalahan beberapa pengguna tidak mengarah pada kecelakaan dan kesalahan pengguna lain. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Singkirkan teknologi COM +. </font><font style="vertical-align: inherit;">COM + hanya berfungsi di Windows, dan pada saat itu kemungkinan bekerja di Linux sudah menjadi relevan.</font></font></li>
</ul> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada saat yang sama, kami tidak ingin mengembangkan versi baru platform dari awal - itu akan terlalu banyak sumber daya. </font><font style="vertical-align: inherit;">Kami ingin memanfaatkan pencapaian kami secara maksimal, serta menjaga kompatibilitas dengan aplikasi yang dikembangkan untuk versi 8.0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi di versi 8.1 cluster pertama muncul. </font><font style="vertical-align: inherit;">Kami menerapkan protokol kami untuk panggilan prosedur jarak jauh (di atas TCP), yang dalam penampilannya tampak hampir seperti COM + untuk konsumen-klien akhir (mis., Kami praktis tidak harus menulis ulang kode yang bertanggung jawab untuk panggilan klien-server). </font><font style="vertical-align: inherit;">Pada saat yang sama, kami membuat server diimplementasikan dalam platform C ++ independen, mampu bekerja pada Windows dan Linux.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server versi monolitik 8.0 digantikan oleh 3 jenis proses - proses kerja yang melayani klien, dan 2 proses layanan yang mendukung operasi cluster:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rphost adalah alur kerja yang melayani pelanggan dan menjalankan kode aplikasi. </font><font style="vertical-align: inherit;">Cluster dapat memiliki lebih dari satu alur kerja, alur kerja yang berbeda dapat dieksekusi pada server fisik yang berbeda - karena skalabilitas ini tercapai.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ragent - proses agen server yang memulai semua jenis proses lainnya, serta daftar utama cluster yang terletak di server ini.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rmngr adalah manajer kluster yang mengontrol operasi seluruh kluster (tetapi kode aplikasi tidak berfungsi di dalamnya). </font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di bawah cut adalah diagram operasi dari ketiga proses dalam cluster.</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/mn/yh/tc/mnyhtcaf9zf3_nqddsbfq4xgpsg.png" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama sesi, klien bekerja dengan satu alur kerja, penurunan alur kerja dimaksudkan untuk semua klien yang dilayani proses ini, sesi diakhiri secara tidak normal. </font><font style="vertical-align: inherit;">Pelanggan yang tersisa terus bekerja.</font></font><br>
<img src="https://habrastorage.org/webt/wm/tm/mc/wmtmmcct7xd6v2ecl6vi7nlx5dk.png" alt="gambar"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C: Perusahaan 8.2</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam versi 8.2, kami ingin aplikasi 1C dapat berjalan tidak hanya di klien asli (yang dapat dieksekusi), tetapi juga di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">browser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (tanpa mengubah kode aplikasi). </font><font style="vertical-align: inherit;">Dalam hal ini, khususnya, tugas muncul dari decoupling keadaan aplikasi saat ini dari koneksi saat ini dengan alur kerja rphost dan membuatnya stateless. </font><font style="vertical-align: inherit;">Akibatnya, konsep sesi dan data sesi muncul yang harus disimpan di luar alur kerja (karena itu stateless). </font><font style="vertical-align: inherit;">Layanan data sesi telah dikembangkan yang menyimpan dan menyimpan informasi sesi. </font><font style="vertical-align: inherit;">Layanan lain juga muncul - layanan kunci transaksional terkelola, layanan pencarian teks lengkap, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi ini juga memperkenalkan beberapa inovasi penting - peningkatan toleransi kesalahan, penyeimbangan muatan, dan mekanisme redundansi kluster.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toleransi kesalahan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena proses kerja menjadi stateless dan semua data yang diperlukan untuk pekerjaan disimpan di luar klien saat ini - koneksi alur kerja, dalam hal terjadi kecelakaan alur kerja, klien beralih ke yang lain, alur kerja "langsung" saat berikutnya mengakses server. Dalam kebanyakan kasus, saklar semacam itu tidak terlihat oleh klien.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mekanismenya bekerja seperti ini. Jika panggilan klien ke alur kerja karena alasan tertentu tidak dapat diselesaikan sampai akhir, maka bagian klien dapat, setelah menerima kesalahan panggilan, ulangi panggilan ini dengan membangun kembali koneksi ke alur kerja yang sama atau ke yang lain. Tetapi Anda tidak selalu dapat mengulangi panggilan; Ulangi panggilan berarti bahwa kami mengirim panggilan ke server, tetapi tidak menerima hasilnya. Kami mencoba mengulangi panggilan, saat melakukan panggilan kedua, kami mengevaluasi apa hasil dari panggilan sebelumnya di server (informasi tentang ini disimpan di server dalam data sesi), karena jika panggilan punya waktu untuk "mewarisi" di sana (menutup transaksi, simpan data sesi dll.) - tidak mungkin untuk mengulanginya, itu akan menyebabkan ketidakkonsistenan data. Jika panggilan tidak dapat diulang, klien akan menerima pesan tentang kesalahan yang tidak dapat dipulihkan,dan aplikasi klien harus memulai ulang. Jika Anda tidak berhasil "mewarisi" panggilan (dan ini adalah situasi yang paling umum, karena banyak panggilan tidak mengubah data, misalnya, melaporkan, menampilkan data pada formulir, dll., Dan mereka yang mengubah data tidak memiliki transaksi atau sampai perubahan dalam data sesi telah dikirim ke manajer - tidak ada jejak panggilan) - itu dapat diulang tanpa risiko inkonsistensi data. Jika alur kerja macet atau koneksi jaringan terputus, panggilan seperti itu diulangi, dan ini "bencana" untuk aplikasi klien terjadi sepenuhnya tanpa disadari.bahwa perubahan data - sampai transaksi dilakukan atau sampai perubahan data sesi dikirim ke manajer - tidak ada jejak panggilan) - hal itu dapat diulang tanpa risiko ketidakkonsistenan data. Jika alur kerja macet atau koneksi jaringan terputus, panggilan seperti itu diulangi, dan ini "bencana" untuk aplikasi klien terjadi sepenuhnya tanpa disadari.bahwa perubahan data - sampai transaksi dilakukan atau sampai perubahan data sesi dikirim ke manajer - tidak ada jejak panggilan) - hal itu dapat diulang tanpa risiko ketidakkonsistenan data. Jika alur kerja macet atau koneksi jaringan terputus, panggilan seperti itu diulangi, dan ini "bencana" untuk aplikasi klien terjadi sepenuhnya tanpa disadari.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyeimbang beban</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas load balancing dalam kasus kami adalah sebagai berikut: klien baru memasuki sistem (atau klien yang sudah bekerja membuat panggilan lain). </font><font style="vertical-align: inherit;">Kita harus memilih server dan alur kerja mana untuk mengirim panggilan klien untuk memberikan kecepatan maksimum kepada klien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah tugas standar untuk kluster yang seimbang beban. </font><font style="vertical-align: inherit;">Ada beberapa algoritma khas untuk menyelesaikannya, misalnya:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Round-Robin ()</a> –    ,      ,   –    . .    .           .    ,          «» .           (   )    .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Weighted Round Robin</a> –  Round-Robin:          ,    ́    .</li>
<li>Least Connections:     ,       .</li>
<li>Least Response Time:       :    ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk kluster kami, kami memilih algoritma yang pada dasarnya dekat dengan Least Response Time. Kami memiliki mekanisme yang mengumpulkan statistik tentang kinerja alur kerja di semua server di kluster. Itu membuat panggilan referensi untuk setiap proses server di cluster; panggilan referensi melibatkan subset fungsi dari subsistem disk, memori, prosesor, dan mengevaluasi seberapa cepat panggilan tersebut dibuat. Hasil dari pengukuran ini, rata-rata selama 10 menit terakhir, adalah kriteria - dimana server dalam cluster adalah yang paling produktif dan disukai untuk mengirim koneksi klien ke sana dalam periode waktu tertentu. Permintaan klien didistribusikan sedemikian rupa agar lebih baik memuat server paling produktif - muat orang yang beruntung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permintaan dari klien baru ditujukan ke server paling produktif saat ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permintaan dari klien yang ada dalam banyak kasus ditujukan ke server itu dan ke alur kerja yang permintaan sebelumnya ditangani. </font><font style="vertical-align: inherit;">Seperangkat data yang luas di server dikaitkan dengan klien yang bekerja, mentransfernya di antara proses (dan bahkan lebih lagi di antara server) cukup mahal (meskipun kita juga bisa melakukan ini). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permintaan dari klien yang ada ditransfer ke alur kerja lain dalam dua kasus:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak ada lagi proses: alur kerja yang sebelumnya berinteraksi dengan klien tidak lagi tersedia (proses telah jatuh, server menjadi tidak tersedia, dll.).</font></font></li>
<li>   :     ,            ,     ,   ,              .         ,  ,     –             .    –      (..   ).</li>
</ol><br>
<br>
<h3> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memutuskan untuk meningkatkan ketahanan cluster dengan beralih ke skema </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktif / pasif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ada kesempatan untuk mengkonfigurasi dua cluster - bekerja dan cadangan. </font><font style="vertical-align: inherit;">Jika cluster utama tidak tersedia (masalah jaringan atau, misalnya, pemeliharaan terjadwal), panggilan klien dialihkan ke cluster cadangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, desain ini cukup sulit untuk dikonfigurasi. </font><font style="vertical-align: inherit;">Administrator harus secara manual merakit dua grup server menjadi cluster dan mengkonfigurasinya. </font><font style="vertical-align: inherit;">Terkadang administrator membuat kesalahan dengan menetapkan pengaturan yang saling bertentangan, seperti </font><font style="vertical-align: inherit;">tidak ada mekanisme terpusat untuk memeriksa pengaturan. </font><font style="vertical-align: inherit;">Namun, bagaimanapun, pendekatan ini meningkatkan toleransi kesalahan sistem.</font></font><br>
<img src="https://habrastorage.org/webt/ik/k7/06/ikk7062chdd8qtpk0kzvfncq7vu.png" alt="gambar"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C: Perusahaan 8.3</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam versi 8.3, kami secara substansial menulis ulang kode sisi server yang bertanggung jawab untuk toleransi kesalahan. Kami memutuskan untuk meninggalkan skema kluster Aktif / pasif karena kerumitan konfigurasinya. Hanya satu cluster toleran-kesalahan yang tersisa dalam sistem, yang terdiri dari sejumlah server - ini lebih dekat dengan skema </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktif / aktif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di mana permintaan untuk simpul yang gagal didistribusikan di antara simpul-simpul kerja yang tersisa. Karena ini, kluster menjadi lebih mudah untuk dikonfigurasi. Sejumlah operasi yang meningkatkan toleransi kesalahan dan meningkatkan penyeimbangan muatan telah menjadi otomatis. Dari inovasi penting:</font></font><br>
<br>
<ul>
<li>   « »: , ,               .                ,           «»          .</li>
<li>     ,  ,            .</li>
<li>  ,     ,     ,   ,   ,    :</li>
</ul><br>
<img src="https://habrastorage.org/webt/o7/aw/pz/o7awpzltn3jxnderotcyf_wbahm.png" alt="gambar"><br>
<br>
<img src="https://habrastorage.org/webt/v5/kc/rj/v5kcrjv3ldm96l3ovj1seqobrga.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan utama dari perkembangan ini adalah untuk menyederhanakan pekerjaan administrator, memungkinkannya untuk mengkonfigurasi cluster dalam istilah yang akrab dengannya, pada tingkat operasi server, tidak turun lebih rendah, dan juga untuk meminimalkan tingkat "kontrol manual" dari pekerjaan cluster, memberikan mekanisme cluster untuk menyelesaikan sebagian besar tugas kerja dan kemungkinan masalah " dengan autopilot. "</font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/9i/zy/da9izy3cj4wlf80nr8s35tqnp3e.png" alt="gambar"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiga tautan toleransi kesalahan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda ketahui, bahkan jika komponen sistem secara terpisah dapat diandalkan, masalah dapat timbul di mana komponen sistem menyebabkan satu sama lain. </font><font style="vertical-align: inherit;">Kami ingin meminimalkan jumlah tempat penting untuk kinerja sistem. </font><font style="vertical-align: inherit;">Pertimbangan tambahan yang penting adalah minimalisasi perubahan mekanisme yang diterapkan dalam platform dan pengecualian perubahan dalam solusi yang diterapkan. </font><font style="vertical-align: inherit;">Dalam versi 8.3, ada 3 tautan untuk memastikan toleransi kesalahan “pada sambungan”:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kb/1g/s1/kb1gs1mfus_rsminiyizg4t5dma.png" alt="gambar"><br>
<ol>
<li>  ,   HTTP(S),  -.   -     -.    ,   HTTP  -,    (     HTTP)    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">libcurl</a>    . </li>
<li>  ,                     .</li>
<li>  -   .       1,   -     .    -            .       ,         .           ,     –    .    -         (,     ,   ,         ) –          .</li>
<li>     ,    rmngr.    20 (    ) —   ,     ..                .     1:          .</li>
</ol><br>
<br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat mekanisme toleransi kesalahan, aplikasi yang dibuat pada 1C: Platform perusahaan berhasil bertahan dari berbagai jenis kegagalan server produksi di cluster, sementara sebagian besar klien terus bekerja tanpa memulai ulang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada situasi ketika kita tidak dapat mengulangi panggilan, atau server crash menangkap platform pada titik waktu yang sangat disayangkan, misalnya, di tengah transaksi dan tidak begitu jelas apa yang harus dilakukan dengan mereka. Kami mencoba untuk memastikan kelangsungan hidup klien yang baik secara statistik ketika server jatuh dalam gugus. Sebagai aturan, kehilangan rata-rata klien untuk kegagalan server adalah beberapa persen. Dalam hal ini, semua klien "hilang" dapat terus bekerja di cluster setelah memulai kembali aplikasi klien.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keandalan cluster server 1C dalam versi 8.3 telah meningkat secara signifikan. </font><font style="vertical-align: inherit;">Sudah lama tidak jarang untuk memperkenalkan produk 1C, di mana jumlah pengguna yang bekerja secara bersamaan mencapai beberapa ribu. </font><font style="vertical-align: inherit;">Ada implementasi di mana 5.000 dan 10.000 pengguna bekerja secara bersamaan - misalnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengantar di Beeline</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di mana 1C: aplikasi Trade Management melayani semua </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">outlet</font></a><font style="vertical-align: inherit;"> penjualan Beeline di Rusia, atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penerapan Business Lines di pengangkutan barang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di mana aplikasinya, dibuat secara independen oleh pengembang departemen TI Lines Bisnis pada platform 1C: Enterprise, melayani siklus penuh transportasi kargo. </font><font style="vertical-align: inherit;">Tes beban kluster internal kami mensimulasikan operasi simultan hingga 20.000 pengguna.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai kesimpulan, saya ingin mendaftar secara singkat apa lagi yang berguna di cluster kami (daftar tidak lengkap):</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>,         . ,             ,   .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a> – ,   ,   ,   (      – <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="></a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   </a>  ..)      . ,   ,      (, )     ,   ERP, ,           ERP.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a> – ,     (,  ,    ..).  ,  ,    ,     ,   ,        .</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492994/index.html">Apa yang Baru di TestMace Bagian 1. Cloud Sync, Antarmuka yang Diperbarui, dan Lainnya</a></li>
<li><a href="../id492996/index.html">Membungkam dan menghapus format tanggal khusus di Go</a></li>
<li><a href="../id492998/index.html">Bagaimana kami bingung lepas di pusat data dan apa yang terjadi</a></li>
<li><a href="../id493000/index.html">Metode untuk berurusan dengan kode lawas menggunakan GitLab sebagai contoh</a></li>
<li><a href="../id493002/index.html">350 orang dari jarak jauh: bagaimana itu</a></li>
<li><a href="../id493010/index.html">Bagaimana Quarkus Menggabungkan Pemrograman Imperatif dan Reaktif</a></li>
<li><a href="../id493012/index.html">Udara, relay, kabel keluar jendela: bagaimana tidak bertemu penyedia monopoli di pusat bisnis</a></li>
<li><a href="../id493014/index.html">Wawancara dengan Vyacheslav Utochkin, Direktur Program Pengembangan Pendidikan di Sekolah Tinggi Ekonomi, Sekolah Tinggi Ekonomi, Sekolah Tinggi Ekonomi, 20 Pertanyaan tentang Gamedev</a></li>
<li><a href="../id493016/index.html">Judul "Baca artikel untuk Anda." Januari - Februari 2020</a></li>
<li><a href="../id493018/index.html">Pengembang menghargai kompleksitas browser modern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>