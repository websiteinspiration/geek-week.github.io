<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•ºğŸ¼ ğŸ‘â€ğŸ—¨ ğŸ§™ğŸ» ä½¿ç”¨TensorFlow Liteå’ŒAzureè‡ªå®šä¹‰è§†è§‰å¯¹Androidä¸Šçš„å›¾åƒè¿›è¡Œåˆ†ç±» ğŸŒ‚ ğŸ© ğŸ´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å›¾åƒåˆ†ç±»ä½¿æˆ‘ä»¬çš„Xamarinåº”ç”¨ç¨‹åºå¯ä»¥è¯†åˆ«ç…§ç‰‡ä¸­çš„å¯¹è±¡ã€‚
 
 æ‹ç…§å’Œè¯†åˆ«å…¶å†…å®¹çš„èƒ½åŠ›è¶Šæ¥è¶Šæ™®éã€‚æˆ‘ä»¬å¯ä»¥åœ¨é“¶è¡Œåº”ç”¨ç¨‹åºä¸­è¿›è¡Œç§»åŠ¨å­˜æ¬¾æ—¶ï¼Œåœ¨ç…§ç‰‡åº”ç”¨ç¨‹åºä¸­æ·»åŠ è¿‡æ»¤å™¨æ—¶ä»¥åŠåœ¨HotDogåº”ç”¨ç¨‹åºä¸­è§‚å¯Ÿåˆ°è¿™ä¸€ç‚¹ï¼Œä»¥ç¡®å®šæˆ‘ä»¬çš„é£Ÿç‰©æ˜¯å¦æ˜¯çƒ­ç‹—ã€‚
 
 å€ŸåŠ©Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡ï¼Œæˆ‘ä»¬æ— éœ€å­¦ä¹ å¤æ‚çš„æœºå™¨...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨TensorFlow Liteå’ŒAzureè‡ªå®šä¹‰è§†è§‰å¯¹Androidä¸Šçš„å›¾åƒè¿›è¡Œåˆ†ç±»</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/494782/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾åƒåˆ†ç±»ä½¿æˆ‘ä»¬çš„Xamarinåº”ç”¨ç¨‹åºå¯ä»¥è¯†åˆ«ç…§ç‰‡ä¸­çš„å¯¹è±¡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‹ç…§å’Œè¯†åˆ«å…¶å†…å®¹çš„èƒ½åŠ›è¶Šæ¥è¶Šæ™®éã€‚æˆ‘ä»¬å¯ä»¥åœ¨é“¶è¡Œåº”ç”¨ç¨‹åºä¸­è¿›è¡Œç§»åŠ¨å­˜æ¬¾æ—¶ï¼Œåœ¨ç…§ç‰‡åº”ç”¨ç¨‹åºä¸­æ·»åŠ è¿‡æ»¤å™¨æ—¶ä»¥åŠåœ¨HotDogåº”ç”¨ç¨‹åºä¸­è§‚å¯Ÿåˆ°è¿™ä¸€ç‚¹ï¼Œä»¥ç¡®å®šæˆ‘ä»¬çš„é£Ÿç‰©æ˜¯å¦æ˜¯çƒ­ç‹—ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å€ŸåŠ©Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡ï¼Œæˆ‘ä»¬æ— éœ€å­¦ä¹ å¤æ‚çš„æœºå™¨å­¦ä¹ ç®—æ³•å³å¯å®ç°å›¾åƒåˆ†ç±»ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Custom VisionæœåŠ¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow Lite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¼€æºæœºå™¨å­¦ä¹ å¹³å°ï¼‰ä»¥åŠ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/w6/7s/is/w67sispgfa1h0zaexrrmfixvnjm.jpeg"></div><a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹äº</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.iOSï¼Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬è¿˜å¯ä»¥å°†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Custom VisionæœåŠ¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CoreMLç»“åˆä½¿ç”¨</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä½†æœ€å¥½å°†å…¶ä¿å­˜åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img width="300" src="https://habrastorage.org/webt/ki/tc/xd/kitcxdmde-k-718arxf4blrp8dw.gif" alt="å›¾ç‰‡"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾åƒåˆ†ç±»åº“</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†ä½¿ç”¨Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡å’ŒTensorFlow Liteæ¥å®ç°å›¾åƒåˆ†ç±»ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®€åŒ–äº†æœºå™¨å­¦ä¹ æ¨¡å‹çš„åˆ›å»ºå’ŒåŸ¹è®­-æ— éœ€å…·å¤‡Artificail Intelligenceï¼ˆAIï¼‰æˆ–æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰çš„ç»éªŒã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom VisionæœåŠ¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Webé—¨æˆ·</font></a><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œè€Œæ— éœ€ç¼–å†™ä»»ä½•AI / MLä»£ç ï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹è½½åŸ¹è®­å›¾ç‰‡ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨å›¾åƒä¸­æ ‡è®°æ ‡ç­¾/å¯¹è±¡æ ‡ç­¾ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡å¤ï¼ˆé€šè¿‡æ›´å¤šè®­ç»ƒæ•°æ®ä½¿æ¨¡å‹å˜å¾—æ›´å¥½ï¼‰ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°±æ˜¯è¿™æ ·-Custom Visionè´Ÿè´£å…¶ä½™å·¥ä½œï¼ </font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. TensorFlow Lite</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow Lite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„æœºå™¨å­¦ä¹ å¹³å°ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿ</font><font style="vertical-align: inherit;">åœ¨ç‰©è”ç½‘å’Œç§»åŠ¨è®¾å¤‡ä¸­</font><font style="vertical-align: inherit;">ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TensorFlow Liteå’ŒTensorFlowå¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šçš„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">å¼€æºä¸Šè·å¾—</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨Azure + Xamarin.Androidå®ç°å›¾åƒåˆ†ç±»</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Œæ•´çš„ç¤ºä¾‹å›¾åƒåˆ†ç±»åº”ç”¨ç¨‹åºå¯ä»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubä¸Šè·å¾—</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.æ¨¡å‹è®­ç»ƒ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom VisionæœåŠ¡</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Webé—¨æˆ·</font></a><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬é¦–å…ˆè®­ç»ƒå›¾åƒåˆ†ç±»æ¨¡å‹ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom VisionæœåŠ¡Webé—¨æˆ·ä¸Šï¼Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–°å»ºé¡¹ç›®â€ã€‚</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sx/qn/kh/sxqnkh76fpwunev5ap2ez-9mjj8.png" alt="å›¾ç‰‡"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºæ–°é¡¹ç›®â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œ</font><font style="vertical-align: inherit;">è®¾ç½®ä»¥ä¸‹å‚æ•°ï¼š</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XamarinImageClassification</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯´æ˜ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯†åˆ«å›¾åƒä¸­çš„å¯¹è±¡</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èµ„æºï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [åˆ›å»ºæ–°èµ„æº]</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¡¹ç›®ç±»å‹ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ†ç±»</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ†ç±»ç±»å‹ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤šæ ‡ç­¾ï¼ˆæ¯ä¸ªå›¾åƒæœ‰å¤šä¸ªæ ‡ç­¾ï¼‰</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸŸï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸¸è§„ï¼ˆç´§å‡‘å‹ï¼‰</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡ºå£èƒ½åŠ›ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºæœ¬å¹³å°</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºæ–°é¡¹ç›®â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œ</font><font style="vertical-align: inherit;">å•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºé¡¹ç›®â€ </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XamarinImageClassification</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­</font><b><font style="vertical-align: inherit;">ï¼Œ</font></b><font style="vertical-align: inherit;">å•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ å›¾åƒâ€ </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰æ‹©åŒ…å«ç”¨äºæ ‡è¯†çš„å¯¹è±¡çš„å›¾åƒ</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚6.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾åƒä¸Šè½½â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æ·»åŠ æ ‡ç­¾</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨è˜‘è‡å›¾åƒ</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚7.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾åƒâ€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­</font><b><font style="vertical-align: inherit;">ä¸Šä¼ </font></b><font style="vertical-align: inherit;">ç‚¹å‡»</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šä¼ </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ˆä¸Šä¼ å›¾ç‰‡ï¼Œç›´åˆ°ä½ ä¸ºæ¯ä¸ªæ ‡ç­¾è‡³å°‘5å¼ å›¾ç‰‡</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/fd/4m/cffd4muzbpg6s4htghxencupfvw.png" alt="å›¾ç‰‡"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨çª—å£</font><font style="vertical-align: inherit;">å³ä¸Šè§’</font><font style="vertical-align: inherit;">çš„</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XamarinImageClassification</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£</font><font style="vertical-align: inherit;">ä¸­ï¼Œå•å‡»â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®­ç»ƒæ¨¡å‹â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‰é’®</font><font style="vertical-align: inherit;">ï¼ˆé½¿è½®çš„ç»¿è‰²å›¾åƒï¼‰</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚9.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰æ‹©è®­ç»ƒç±»å‹â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œé€‰æ‹©â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿«é€Ÿè®­ç»ƒâ€ </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚10.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰æ‹©è®­ç»ƒç±»å‹â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œé€‰æ‹©â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®­ç»ƒâ€ã€‚</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/2w/az/tq2waz6v9a7tvsvxwbaqfdszdbk.png" alt="å›¾ç‰‡"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.ä»Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡ä¸­å¯¼å‡ºç»è¿‡è®­ç»ƒçš„æ¨¡å‹</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬å·²ç»è®­ç»ƒäº†æ¨¡å‹ï¼Œç°åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†å…¶å¯¼å‡ºä»¥åœ¨æˆ‘ä»¬çš„ç§»åŠ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™å°†ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨æ²¡æœ‰Internetè¿æ¥çš„æƒ…å†µä¸‹ä½¿ç”¨è¯¥æ¨¡å‹ï¼Œè¿™å°†ç¡®ä¿ç”¨æˆ·çš„æœ€ä½³éšç§ï¼Œå› ä¸ºä»–çš„ç…§ç‰‡æ°¸è¿œä¸ä¼šç¦»å¼€ç§»åŠ¨è®¾å¤‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å¯¼å‡ºæ¨¡å‹ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font><font style="vertical-align: inherit;">é¡µé¢é¡¶éƒ¨</font><font style="vertical-align: inherit;">çš„</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XamarinImageClassifcation</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£</font><font style="vertical-align: inherit;">ä¸­ï¼Œé€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰é¡¹å¡</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performace</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰é¡¹å¡ä¸Šï¼Œå•å‡»</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Export</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‰é’®</font><font style="vertical-align: inherit;">ï¼ˆå‘ä¸‹ç®­å¤´ï¼‰</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choose your platform</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œé€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jr/xg/in/jrxginpgpbnk3sswvxexoli9a60.png" alt="å›¾ç‰‡"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰æ‹©å¹³å°â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹æ‹‰åˆ—è¡¨ä¸­ï¼Œ</font><font style="vertical-align: inherit;">é€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorFlow Lite </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰æ‹©å¹³å°â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œé€‰æ‹©â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹è½½â€ã€‚</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mb/hr/qg/mbhrqg-c8m1d2cngmz2dylwuamk.png" alt="å›¾ç‰‡"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.å°†TensorFlow Liteå¯¼å…¥æˆ‘ä»¬çš„Xamarin.Androidåº”ç”¨</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„Xamarin.Androidé¡¹ç›®ä¸­</font><font style="vertical-align: inherit;">å®‰è£…</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‚å½“çš„NuGetè½¯ä»¶åŒ…</font></font></a><font style="vertical-align: inherit;"></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤NuGetè½¯ä»¶åŒ…æ˜¯</font><font style="vertical-align: inherit;">ç”±Microsoft Xamarinå›¢é˜Ÿåˆ›å»ºçš„</font><font style="vertical-align: inherit;">ä¸€ä¸ª</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€æºé¡¹ç›®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®ƒåŒ…å«äº†Cï¼ƒç»‘å®šåœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸTensorFlowç²¾ç®€ç‰ˆåº“</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå®ƒå¯ä»¥åœ¨æˆ‘ä»¬çš„Xamarin.Androidä½¿ç”¨</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº”ç”¨ç¨‹åº</font><b><font style="vertical-align: inherit;">ã€‚</font></b><font style="vertical-align: inherit;">è§£å‹å¯¼å‡ºæ¨¡å‹ï¼Œæˆ‘ä»¬ä»ä¸‹è½½</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªå®šä¹‰è§†è§‰æœåŠ¡é—¨æˆ·ç½‘ç«™</font></font></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ZIPæ–‡ä»¶æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">model.tflite</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ…å«å‡†å¤‡åœ¨Custom Visionç½‘ç«™ä¸Šè¿›è¡ŒåŸ¹è®­æœŸé—´åˆ›å»ºçš„å›¾åƒæ ‡ç­¾</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">models.tflite</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯æˆ‘ä»¬ç”¨äºé¢„æµ‹çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Visual Studioçš„Xamarin.Androidé¡¹ç›®ä¸­ï¼Œå³é”®å•å‡»</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assets</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶å¤¹</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .åœ¨å¼¹å‡ºèœå•ä¸­ï¼Œé€‰æ‹©â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â†’â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç°æœ‰é¡¹...â€ </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ ç°æœ‰é¡¹â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èœå•ä¸­ï¼Œé€‰æ‹©ä¸¤ä¸ªæœ€è¿‘è§£å‹ç¼©çš„æ–‡ä»¶ï¼š</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å‹</font></font></b> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txt</font></font></b> </li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Visual Studioä¸­ï¼Œåœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â†’ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assetsä¸­</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå³é”®å•å‡»</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">labels.txtã€‚7 </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨å¼¹å‡ºèœå•ä¸­ï¼Œé€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Properties </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Properties</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ä¸­ï¼Œ</font><font style="vertical-align: inherit;">é€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â†’ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">Asset9 </font></b></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Visual Studioä¸­ï¼Œåœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â†’ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èµ„äº§</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå³é”®ç‚¹å‡»</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">models.tflite </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨å¼¹å‡ºçš„èœå•ä¸­é€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±æ€§</font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±æ€§</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çª—å£ï¼Œ</font><font style="vertical-align: inherit;">é€‰æ‹©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”Ÿæˆæ“ä½œ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â†’ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Androidçš„èµ„äº§</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xx/ez/af/xxezafr-mncdulrowkqnxwlhymm.png" alt="å›¾ç‰‡"></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Xamarin.Androidçš„å›¾åƒåˆ†ç±»ä»£ç çš„å®ç°</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬å·²ç»å¯¼å…¥äº†æ¨¡å‹ï¼Œæ˜¯æ—¶å€™è¿›è¡Œä¸€äº›ä»£ç ç¼–å†™äº†ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æé†’ä¸€ä¸‹ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubä¸Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æä¾›äº†å®Œæ•´çš„ç¤ºä¾‹å›¾åƒåˆ†ç±»åº”ç”¨ç¨‹åº</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Android</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¡¹ç›®ä¸­</font><font style="vertical-align: inherit;">ï¼Œæ·»åŠ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageClassifcationModel.cs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorflowClassifier.cs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageClassificationModel.cs</font></font></h4><br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ImageClassificationModel</span> <font></font>
{ <font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ImageClassificationModel</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> tagName, <span class="hljs-keyword">float</span> probability</span>)</span> <font></font>
    { <font></font>
        TagName = tagName; <font></font>
        Probability = probability; <font></font>
    } <font></font>
   <font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> Probability { <span class="hljs-keyword">get</span>; } 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> TagName { <span class="hljs-keyword">get</span>; } <font></font>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorflowClassifier.cs</font></font></h4><br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> System.Linq;
<span class="hljs-keyword">using</span> Android.App;
<span class="hljs-keyword">using</span> Android.Graphics;
<span class="hljs-keyword">using</span> Java.IO;
<span class="hljs-keyword">using</span> Java.Nio;
<span class="hljs-keyword">using</span> Java.Nio.Channels;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TensorflowClassifier</span><font></font>
{<font></font>
    <span class="hljs-comment">//FloatSize     4,        4 </span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> FloatSize = <span class="hljs-number">4</span>;
    <span class="hljs-comment">//PixelSize -     3,        : ,   .</span>
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> PixelSize = <span class="hljs-number">3</span>;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;ImageClassificationModel&gt; <span class="hljs-title">Classify</span>(<span class="hljs-params"><span class="hljs-keyword">byte</span>[] image</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> mappedByteBuffer = GetModelAsMappedByteBuffer();
        <span class="hljs-keyword">var</span> interpreter = <span class="hljs-keyword">new</span> Xamarin.TensorFlow.Lite.Interpreter(mappedByteBuffer);<font></font>
<font></font>
        <span class="hljs-comment">//   ,       </span>
        <span class="hljs-keyword">var</span> tensor = interpreter.GetInputTensor(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">var</span> shape = tensor.Shape();<font></font>
<font></font>
        <span class="hljs-keyword">var</span> width = shape[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">var</span> height = shape[<span class="hljs-number">2</span>];<font></font>
<font></font>
        <span class="hljs-keyword">var</span> byteBuffer = GetPhotoAsByteBuffer(image, width, height);<font></font>
<font></font>
        <span class="hljs-comment">// StreamReader    labels.txt</span>
        <span class="hljs-keyword">var</span> streamReader = <span class="hljs-keyword">new</span> StreamReader(Application.Context.Assets.Open(<span class="hljs-string">"labels.txt"</span>));<font></font>
<font></font>
        <span class="hljs-comment">// labels.txt  List&lt;string&gt;</span>
        <span class="hljs-keyword">var</span> labels = streamReader.ReadToEnd().Split(<span class="hljs-string">'\n'</span>).Select(s =&gt; s.Trim()).Where(s =&gt; !<span class="hljs-keyword">string</span>.IsNullOrEmpty(s)).ToList();<font></font>
<font></font>
        <span class="hljs-comment">//     Java.Lang.Object,    Xamarin.TensorFlow.List.Interpreter.</span>
        <span class="hljs-keyword">var</span> outputLocations = <span class="hljs-keyword">new</span> <span class="hljs-keyword">float</span>[<span class="hljs-number">1</span>][] { <span class="hljs-keyword">new</span> <span class="hljs-keyword">float</span>[labels.Count] };
        <span class="hljs-keyword">var</span> outputs = Java.Lang.Object.FromArray(outputLocations);<font></font>
<font></font>
        interpreter.Run(byteBuffer, outputs);<font></font>
        <span class="hljs-keyword">var</span> classificationResult = outputs.ToArray&lt;<span class="hljs-keyword">float</span>[]&gt;();<font></font>
<font></font>
        <span class="hljs-comment">// classificationResult     ,  ,     </span>
        <span class="hljs-keyword">var</span> classificationModelList = <span class="hljs-keyword">new</span> List&lt;ImageClassificationModel&gt;();<font></font>
<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; labels.Count; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> label = labels[i]; classificationModelList.Add(<span class="hljs-keyword">new</span> ImageClassificationModel(label, classificationResult[<span class="hljs-number">0</span>][i]));<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> classificationModelList;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// model.tflite  Java.Nio.MappedByteBuffer,    Xamarin.TensorFlow.Lite.Interpreter.</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> MappedByteBuffer <span class="hljs-title">GetModelAsMappedByteBuffer</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> assetDescriptor = Application.Context.Assets.OpenFd(<span class="hljs-string">"model.tflite"</span>);
        <span class="hljs-keyword">var</span> inputStream = <span class="hljs-keyword">new</span> FileInputStream(assetDescriptor.FileDescriptor);<font></font>
<font></font>
        <span class="hljs-keyword">var</span> mappedByteBuffer = inputStream.Channel.Map(FileChannel.MapMode.ReadOnly, assetDescriptor.StartOffset, assetDescriptor.DeclaredLength);<font></font>
<font></font>
        <span class="hljs-keyword">return</span> mappedByteBuffer;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//     TensorFlow</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> ByteBuffer <span class="hljs-title">GetPhotoAsByteBuffer</span>(<span class="hljs-params"><span class="hljs-keyword">byte</span>[] image, <span class="hljs-keyword">int</span> width, <span class="hljs-keyword">int</span> height</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">var</span> bitmap = BitmapFactory.DecodeByteArray(image, <span class="hljs-number">0</span>, image.Length);
        <span class="hljs-keyword">var</span> resizedBitmap = Bitmap.CreateScaledBitmap(bitmap, width, height, <span class="hljs-literal">true</span>);<font></font>
<font></font>
        <span class="hljs-keyword">var</span> modelInputSize = FloatSize * height * width * PixelSize;
        <span class="hljs-keyword">var</span> byteBuffer = ByteBuffer.AllocateDirect(modelInputSize);<font></font>
        byteBuffer.Order(ByteOrder.NativeOrder());<font></font>
<font></font>
        <span class="hljs-keyword">var</span> pixels = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[width * height];<font></font>
        resizedBitmap.GetPixels(pixels, <span class="hljs-number">0</span>, resizedBitmap.Width, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, resizedBitmap.Width, resizedBitmap.Height);<font></font>
<font></font>
        <span class="hljs-keyword">var</span> pixel = <span class="hljs-number">0</span>;<font></font>
<font></font>
        <span class="hljs-comment">//     Java.Nio.ByteBuffer</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; width; i++)<font></font>
        {<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; height; j++)<font></font>
            {<font></font>
                <span class="hljs-keyword">var</span> pixelVal = pixels[pixel++];<font></font>
<font></font>
                byteBuffer.PutFloat(pixelVal &gt;&gt; <span class="hljs-number">16</span> &amp; <span class="hljs-number">0xFF</span>);<font></font>
                byteBuffer.PutFloat(pixelVal &gt;&gt; <span class="hljs-number">8</span> &amp; <span class="hljs-number">0xFF</span>);<font></font>
                byteBuffer.PutFloat(pixelVal &amp; <span class="hljs-number">0xFF</span>);<font></font>
            }<font></font>
        }<font></font>
<font></font>
        bitmap.Recycle();<font></font>
<font></font>
        <span class="hljs-keyword">return</span> byteBuffer;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±è¿™æ ·ï¼</font><font style="vertical-align: inherit;">ç°åœ¨æˆ‘ä»¬å¯ä»¥å°†å›¾åƒä¼ é€’ç»™</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TensorflowClassifier.Classify</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥è·å¾—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ImageClassificationModel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿›ä¸€æ­¥ç ”ç©¶çš„ææ–™</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ£€æŸ¥ä¸‹æ–¹çš„é“¾æ¥ï¼š</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Œæ•´çš„githubä»£ç </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azureè‡ªå®šä¹‰è§†è§‰æœåŠ¡</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azureè®¤çŸ¥æœåŠ¡</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¤¾åŒºAIå±•è§ˆï¼šCustom Visionï¼ŒXamarinå’ŒSimpsons</font></font></a> </li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN494762/index.html">50ä¸ªæœ‰æ•ˆç»„ç»‡è¿œç¨‹å·¥ä½œçš„åº”ç”¨ç¨‹åº</a></li>
<li><a href="../zh-CN494766/index.html">æœªæ¥é€šä¿¡æŠ€æœ¯è¶‹åŠ¿</a></li>
<li><a href="../zh-CN494772/index.html">ç¾å›½å¦‚ä½•å‘å±•ä¸æœºå™¨äººé€šè¯çš„æ–—äº‰-æ”¿æ²»å®¶å’Œç”µä¿¡å…¬å¸é‡‡å–çš„æªæ–½</a></li>
<li><a href="../zh-CN494776/index.html">PostgreSQLåæ¨¡å¼ï¼šåœ¨SQLä¸­è®¡ç®—æ¡ä»¶</a></li>
<li><a href="../zh-CN494780/index.html">å† çŠ¶ç—…æ¯’æ—¶ä»£å¯¹äºšé©¬é€Šå‘˜å·¥çš„å¯ç¤ºå’Œææƒ§</a></li>
<li><a href="../zh-CN494784/index.html">DBLog-æ›´æ”¹æ•°æ®æ•è·çš„é€šç”¨æ¡†æ¶</a></li>
<li><a href="../zh-CN494786/index.html">GDBä¸­ç±»ä¼¼MitMçš„RTOSæ”¯æŒ</a></li>
<li><a href="../zh-CN494788/index.html">ç”µå­é‚®ä»¶å¦‚ä½•è¿ä½œ</a></li>
<li><a href="../zh-CN494792/index.html">Yandex.Routingï¼šæˆ‘ä»¬å¦‚ä½•æŠ•èº«äºç‰©æµå¹¶å†³å®šæ”¹å˜æœªæ¥</a></li>
<li><a href="../zh-CN494794/index.html">æˆ‘ä»¬æœ‰é•¿è‡‚</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>