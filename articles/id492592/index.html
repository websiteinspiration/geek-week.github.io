<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎮 🚎 🙁 Pemuatan malas menggunakan Intersection Observer API 📗 🍳 🎰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang teman! 
 
 Pada artikel ini, kami akan memperkenalkan Intersection Observer API, alat canggih baru untuk memuat gambar dengan malas dan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pemuatan malas menggunakan Intersection Observer API</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492592/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selamat siang teman! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kami akan memperkenalkan Intersection Observer API, alat canggih baru untuk memuat gambar dengan malas dan elemen lainnya pada halaman, didukung oleh semua browser modern. </font><font style="vertical-align: inherit;">Kita dapat menggunakan alat ini untuk mengontrol visibilitas elemen dengan mendefinisikan pemuatan awal atau yang tertunda dari konten DOM kami.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat web berkembang, browser mendukung lebih banyak fitur dan API baru, tetapi sesuatu masih menyakiti pengembang - rendering DOM. Ketika kita mulai mengembangkan aplikasi baru, membuat komponen, memikirkan struktur HTML, elemen gaya dengan CSS, kita juga memikirkan proses rendering, bagaimana tampilan halaman kita secara umum, dan beberapa hal penting lainnya yang memerlukan penanganan dan pengaruh yang cermat. rendering aplikasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini, pada gilirannya, mempengaruhi bagaimana kita membuat elemen kita, bagaimana CSS kita akan diatur, perpustakaan dan kerangka kerja mana yang akan digunakan dalam proyek, dll. Inilah sebabnya mengapa rendering sangat penting bagi pengembang.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu alasan popularitas perpustakaan Bereaksi di komunitas pengembang adalah kenyataan bahwa ia menggunakan DOM virtual. Intinya, ini adalah representasi virtual dari DOM nyata, yang dapat Anda kontrol sesuai keinginan. Setelah semua pembaruan, DOM virtual memutuskan perubahan apa yang perlu dilakukan pada DOM asli, dan membuat perubahan ini dengan cara "mulus"; tidak perlu me-refresh seluruh halaman saat mengubah satu elemen. Ini adalah salah satu keuntungan paling signifikan dari Bereaksi dibandingkan perpustakaan dan kerangka kerja lainnya. Render DOM adalah tugas yang mahal (dalam hal kinerja) yang Bereaksi baik-baik saja tanpa masalah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa perpustakaan dan API memungkinkan kami meningkatkan rendering elemen aplikasi kami. </font><font style="vertical-align: inherit;">Kita akan berkenalan dengan salah satu dari mereka - Intersection Observer API. </font><font style="vertical-align: inherit;">Tapi pertama-tama, mari kita cari tahu apa yang memuat gambar "malas".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana cara kerja lazy memuat gambar?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memuat malas adalah salah satu teknik untuk merender konten halaman. Konsep pemuatan "lazy" adalah bahwa alih-alih memuat halaman sepenuhnya, kami hanya memuat bagian yang diperlukan dan menunda (menunda) pemuatan bagian yang tersisa hingga dibutuhkan oleh pengguna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh unduhan "malas", yang mungkin Anda pernah dengar atau Anda temui, adalah pengguliran halaman yang tak ada habisnya. Ini berfungsi seperti ini: pengguna mengunjungi halaman, konten awal dimuat, dan hanya setelah pengguna menggulir halaman ke bawah sampai akhir, bagian selanjutnya dari konten dimuat. Dalam hal ini, tidak perlu mengunduh semua konten sekaligus, yang sangat memudahkan aplikasi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika unduhan "malas" hanya berfungsi untuk mengunduh konten "yang dibuat pengguna", teknik apa yang disebut sebaliknya? Beberapa telah mendengar tentang pemuatan malas sebelumnya, tetapi belum mendengar yang sebaliknya. Kebalikan dari pemuatan "malas" adalah pemuatan "energik" (opsi lain tidak sabar, bergerak cepat) - ketika semua konten langsung dirender. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apakah Anda tahu bahwa ada atribut HTML untuk malas memuat gambar? Untuk menggunakannya, cukup tambahkan memuat = "malas" ke elemen "img" atau "iframe".</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wo/6v/hy/wo6vhy3y4zhzk3kk1edxmtsgmvu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan menggunakan teknik ini, kami mendapatkan banyak keuntungan: hanya memuat sumber daya yang diperlukan akan mengurangi konsumsi memori dan, pada akhirnya, waktu pemuatan halaman. </font><font style="vertical-align: inherit;">Ini juga mencegah rendering kode "tidak diklaim", yang mengoptimalkan aplikasi untuk bekerja dalam kondisi bandwidth jaringan yang rendah. </font><font style="vertical-align: inherit;">Namun, ada beberapa kelemahan: ini dapat mempengaruhi peringkat halaman oleh mesin pencari. </font><font style="vertical-align: inherit;">Selain itu, perlu waktu untuk memilih perpustakaan atau API yang tepat untuk bekerja dengannya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Pengamat titik-temu</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScript berkembang sangat cepat sehingga kami mendapatkan API baru hampir setiap tahun. Tujuan utama API baru adalah membantu membuat aplikasi dan halaman yang luar biasa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengamat titik-temu adalah API yang memungkinkan Anda untuk memantau visibilitas dan posisi elemen DOM. Masalahnya adalah bahwa ia bekerja secara tidak sinkron, memungkinkan Anda untuk dengan lancar (tanpa terasa) mengubah visibilitas elemen, menentukan pemuatan awal atau yang tertunda dari konten DOM kami. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h7/yj/qj/h7yjqj1e_xj4luztht-s08hle1e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa tahun yang lalu, kami tidak memiliki API atau alat lain untuk penentuan posisi dan pelacakan elemen. Kami harus menulis fungsi yang gila dan besar, menciptakan metode yang mahal (dalam hal kinerja) yang menciptakan lebih banyak masalah. Menggunakan Intersection Observer API, kita dapat melakukan hal-hal keren seperti:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengguliran halaman tanpa akhir - membuat pengguliran tak berujung dari tabel, daftar, wadah kotak, dll. </font><font style="vertical-align: inherit;">Tidak pernah semudah ini.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar - mengapa mengunggah semua gambar sekaligus, ketika Anda dapat menggunakan unduhan "malas" dan hanya menampilkan konten yang dibutuhkan pengguna saat ini? </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemen pemantauan - Anda dapat memonitor elemen pada halaman. </font><font style="vertical-align: inherit;">Misalnya, Anda dapat menerima pesan tentang penutupan iklan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sinilah semuanya dimulai:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> myFirstObserver = <span class="hljs-keyword">new</span> IntersectionObserver(callback, options)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menginisialisasi konstruktor IntersectionObserver dan meneruskan dua parameter untuk itu. </font><font style="vertical-align: inherit;">Parameter pertama adalah fungsi callback, yang disebut sebagai respons terhadap persimpangan elemen kami dengan viewport (mis., Ketika elemen melampaui batas viewport) atau dengan elemen lain. </font><font style="vertical-align: inherit;">Parameter opsi adalah objek yang mengontrol kondisi untuk meluncurkan fungsi panggilan balik. </font><font style="vertical-align: inherit;">Objek ini memiliki bidang-bidang berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">root - elemen induk yang berfungsi sebagai viewport untuk elemen target (untuk elemen yang kami amati)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rootMargin - margin luar di sekitar elemen root (nilai-nilai bidang ini mirip dengan nilai margin di CSS). </font><font style="vertical-align: inherit;">Nilai-nilai ini dapat berubah untuk setiap sisi root sebelum melakukan persimpangan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">threshold - angka atau array angka yang menentukan persentase persimpangan elemen target dengan elemen root, di mana fungsi callback diluncurkan </font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/sp/up/tk/spuptkzkbpv0m30sblumsls7cgy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat menggunakan Intersection Observer API:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> options = {
    <span class="hljs-attr">root</span>: <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.scroll-list'</span>),
    <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">'5px'</span>,
    <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.5</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">let</span> myFirstObserver = <span class="hljs-keyword">new</span> IntersectionObserver(<span class="hljs-function"><span class="hljs-params">elements</span> =&gt;</span> { elements.forEach(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'element'</span>, element)) }, options)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulai "pemantauan" suatu elemen, Anda perlu menentukan target dan memanggil pengamat menggunakan metode "mengamati", melewati target sebagai parameter:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> myDivTarget = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.header'</span>)<font></font>
<font></font>
observer.observe(myDivTarget)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harus diingat bahwa semua elemen yang diamati oleh pengamat adalah persegi panjang. </font><font style="vertical-align: inherit;">Elemen berbentuk tidak teratur masuk ke dalam persegi panjang terkecil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana dengan dukungan browser? </font><font style="vertical-align: inherit;">API Intersection Observer didukung oleh semua browser modern seperti Chrome, Edge, Firefox dan Opera. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pp/0g/vc/pp0gvc64xhmxpi8ehtktge53zic.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda akan bekerja dengan banyak data, misalnya, dengan tabel yang berisi banyak informasi, Intersection Observer API akan sangat berguna bagi Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu kelebihan API ini adalah untuk mengatasi masalah seperti itu Anda tidak perlu lagi menggunakan perpustakaan apa pun.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mempelajari Intersection Observer API dan penggunaannya untuk pemuatan malas, mengamati posisi elemen DOM, dll. </font><font style="vertical-align: inherit;">Browser mendukung semakin banyak API yang mengurangi waktu rendering halaman, terutama untuk pengguna dengan koneksi yang lambat, mengurangi ukuran proyek dan hanya menampilkan konten yang relevan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari seorang penerjemah: artikel itu bagi saya tampaknya kurang informatif, jadi di sini ada tautan ke literatur tambahan:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spesifikasi</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel tentang Intersection Observer API di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MDN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Rusia)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh Trik CSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Bahasa Inggris)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel dengan contoh tentang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Envato</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Bahasa Inggris)</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh gulir tak berujung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Google</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebuah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh beberapa lebih</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada GitHub</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terima kasih atas perhatian Anda.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492572/index.html">Keadaan dunia Jawa saat ini: tren dan fakta untuk salah satu bahasa pemrograman paling populer</a></li>
<li><a href="../id492574/index.html">Refleksi Kemungkinan Pelepasan: Apple AirPods dengan Momentum True Wireless 2</a></li>
<li><a href="../id492580/index.html">Apa kesamaan coronavirus dan catur?</a></li>
<li><a href="../id492582/index.html">Cisco Menawarkan Akses Jarak Jauh Aman</a></li>
<li><a href="../id492590/index.html">Bagaimana sintesis bicara muncul di PC</a></li>
<li><a href="../id492594/index.html">Lokalisasi game indie: apakah game ini sepadan dengan lilin?</a></li>
<li><a href="../id492596/index.html">Space sebagai basis data</a></li>
<li><a href="../id492600/index.html">Panduan Semi-Ilmiah untuk Hosting Router WiFi</a></li>
<li><a href="../id492604/index.html">Bekerja dengan View asynchronous menggunakan coroutine</a></li>
<li><a href="../id492606/index.html">Masalah Toolkit dalam proyek besar</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>