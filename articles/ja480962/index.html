<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>➖ 👩🏻‍💼 🎾 新しいマルチクレットニューロプロセッサ用のCコンパイラの開発 👸🏼 👧🏼 🕵🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="2016年6月9〜10日（カザン）にイノポリスで開催されたシステムおよびツールソフトウェアの開発者会議-OS DAY 2016で、マルチセルラーアーキテクチャに関するレポートについて議論したところ、人工知能の問題を解決するのに最も効果的であるとの考えが表明されました。今年は、AIタスクを中心とした新...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>新しいマルチクレットニューロプロセッサ用のCコンパイラの開発</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480962/"><img src="https://habrastorage.org/webt/nm/q_/3x/nmq_3x1b_eccqomclbciqkb5go8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2016年6月9〜10日（カザン）にイノポリスで開催されたシステムおよびツールソフトウェアの開発者会議-OS DAY 2016で、マルチセルラーアーキテクチャに関するレポートについて議論したところ、人工知能の問題を解決するのに最も効果的であるとの考えが表明されました。</font><font style="vertical-align: inherit;">今年は、AIタスクを中心とした新しい汎用プロセッサの開発条件が整いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マルチクレットS2ニューロプロセッサは、Huawei Innovation Forum 2019で最初に発表されたプロジェクトであり、マルチセルアーキテクチャのさらなる発展です。これは、コマンドのシステムで以前に作成されたマルチセルとは異なります。つまり、新しいタイプの小さなサイズのデータ​​（固定小数点と浮動小数点）の導入とそれらの操作です。セルの数は256に増加し、周波数は2.5 GHzに増加しました。これにより、16Fで81.9 TFlopsのピークパフォーマンスが提供され、ニューラル計算に関して、最新の特殊ASIC TPU（TPU-3：90 TFlops 16F）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセッサの利用効率はコンパイラの最適性に大きく依存するため、開発されたコード最適化スキームが開発されました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より詳しく考えてみましょう。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、実装する価値があっコンパイラの最適化が挙げられました。</font><font style="vertical-align: inherit;">マルチセルラーアーキテクチャに精通していない場合は、マルチセルラーアーキテクチャに関する資料を見つけることができます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つの定数を持つ2つの引数を持つコマンドの生成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセッサS1では、新しい命令フォーマットが導入され、両方の引数を定数値として指定できるようになりました。</font><font style="vertical-align: inherit;">これにより、コード内のコマンドの数を減らし、定数をスイッチにロードするloadなどの不要なコマンドを取り除くことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例えば：</font></font><br>
<br>
<pre><code class="plaintext hljs">load_l func<font></font>
wr_l @1, #SP</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で置き換えることができます：</font></font><br>
<br>
<pre><code class="plaintext hljs">wr_l func, #SP</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または一度に2つのチーム：</font></font><br>
<br>
<pre><code class="plaintext hljs">load_l [foo]<font></font>
load_l [bar]<font></font>
add_l @1, @2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つの定数アドレスがあり、それらからの読み取りをコマンド引数に直接置き換えることもできます。</font></font><br>
<br>
<pre><code class="plaintext hljs">add_l [foo], [bar]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この最適化は、このフォーマットをサポートするすべての人に実装されました。</font><font style="vertical-align: inherit;">残念ながら、これは2つの理由で非常に効果がないことがわかりました。</font></font><br>
<br>
<ul>
<li> ,     ,  .      ,   -   ,  .        ,        .      ,  , .</li>
<li>          ,       load,     ,     .</li>
</ul><br>
<h4>      </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LLVMでは、基本ブロックはコードが分岐せずに実行される線形セクションです。マルチセルラーアーキテクチャの段落はまったく同じ機能を実行するため、コードを生成する場合、ほとんどの場合、1つの段落は1つの基本ブロックを反映します。プロセッサーR1では、段落間の仮想レジスターの転送は、目的のレジスターの値をスタックに書き込み、このレジスターを必要とする段落に読み戻すことにより、メモリーを介して実行されました。このメカニズムは2つの部分に分かれています。直接使用するための仮想レジスタの別の段落への転送と、phiノードのパラメータとしての仮想レジスタの転送です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Phiノードは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">SSA（静的単一割り当て）フォームの</font></a><font style="vertical-align: inherit;">結果です</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLVMの内部表現の言語が提示されています。</font><font style="vertical-align: inherit;">この形式では、変数（または、LLVM IR-仮想レジスターの場合のように）は1回だけ書き込むことができます。</font><font style="vertical-align: inherit;">たとえば、次の疑似コード：</font></font><br>
<br>
<pre><code class="cpp hljs">a = <span class="hljs-number">1</span>;
<span class="hljs-keyword">if</span> (v &lt; <span class="hljs-number">10</span>)<font></font>
    a = <span class="hljs-number">2</span>;
<span class="hljs-keyword">else</span>
    a = <span class="hljs-number">3</span>;<font></font>
b = a;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値は</font><font style="vertical-align: inherit;">上書きさ</font><b><font style="vertical-align: inherit;">れる</font></b><font style="vertical-align: inherit;">可能性がある</font><font style="vertical-align: inherit;">ため、SSA形式では表示されません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">phiノードを使用する場合、コードはこの形式で書き直すことができます。</font></font><br>
<br>
<pre><code class="cpp hljs">a1 = <span class="hljs-number">1</span>;
<span class="hljs-keyword">if</span> (v &lt; <span class="hljs-number">10</span>)<font></font>
    a2 = <span class="hljs-number">2</span>;
<span class="hljs-keyword">else</span>
    a3 = <span class="hljs-number">3</span>;<font></font>
b = phi(a2, a3);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
phiノードは、制御フローがどこから来たかに応じて、a2またはa3を選択します。LLVMIRでは、</font></font><br>
<img src="https://habrastorage.org/webt/ug/rw/-b/ugrw-brljdidipmpwg-iobfvjkm.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
phiノードは、制御がどのベースユニットから来たかに応じて、異なる仮想レジスタを選択する個別の命令として実装されます。プロセッサのメモリを介したこの命令の実装は非常に簡単です。異なるベースブロックが同じメモリセルに異なるデータを書き込み、サイトphiノードでこのメモリセルが読み取られます。データは前のベースブロックによって異なります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSA形式は、レジスタが初期化されるとき、そこにある値は常に同じであることを意味します。仮想レジスタの直接転送が実行されるとき、各仮想レジスタの値が独自の個別のメモリセルに書き込まれると、SSA条件は問題なく満たされます。つまり、データは上書きされるまでメモリ内にあります。ただし、スイッチを介してレジスタを転送する場合は、そのサイズが63セルのみであり、63のコマンドを実行すると値が消えることを覚えておく必要があります。したがって、仮想レジスタが最初の段落に記述されており、さらに数百が完了した後に使用される場合、スイッチを介して仮想レジスタを転送することはできません。メモリだけが残ります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この最適化の実装は、phiノードの最適化によって正確に開始されました。これは、仮想レジスタの直接転送とは異なり、phiノードのパラメーター値は常に​​前の段落（ベースブロック）で直接初期化されるため、スイッチが十分に大きいかどうかについてあまり考える必要がないためです。これらのパラメータを渡したい場合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マルチセルラーアセンブラーを使用すると、コマンドの結果に名前を割り当て、その結果をその名前で使用できます。各プログラマーがこの結果を取得したコマンドの数を計算する代わりに、アセンブラーは自分でこれを計算します。</font></font><br>
<br>
<pre><code class="plaintext hljs">result := add_l [A], [B]<font></font>
;<font></font>
;   <font></font>
;<font></font>
          wr_l @result, C</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメカニズムは線形セクションであり、コマンドの順序はそこで知られているため、現在の段落内で完全に機能します。これは、コンパイラーによってコードを生成するときに積極的に使用されます。すべてのコマンドには名前が割り当てられ、コンパイラーはコマンドの番号付けについて心配する必要がありません。より正確には、別の段落で実行されたコマンドの結果を取得したい場合、メカニズムは機能しないため、必要ではありませんでした。現在の段落に複数の入力がある場合、アセンブリ段階で前の段落によって実際に実行された段落を見つけることはできません。したがって、唯一の選択肢は、番号を通じてチームの結果にアクセスすることです。このため、隣接する段落のメモリから余分なレコードや読み取り値を捨てて、readコマンドからのレジスタ参照を前の段落のコマンドで置き換えることはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、非常に重要な結果に注意を払う価値があります。段落に複数の入力がある場合、</font><font style="vertical-align: inherit;">このセクションの最初のコマンドの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、前の段落に応じて完全に異なる結果を参照できます。 Phiノードはまさにそのような状況です。以前は、phiノードを初期化するすべての基本ブロックで、データは同じメモリセルに書き込まれ、phiノードの代わりにこのセルからの読み取りがありました。したがって、このセルが読み取られた場所と同様に、前の段落でこのセルにレコードがあった場所は絶対に重要ではありませんでした。あなたがメモリの使用を取り除くなら-それは変わります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
phiホストがメモリの代わりにスイッチを使用できるようにするには、次のようにしました。</font></font><br>
<br>
<ol>
<li>  phi      (    ),        </li>
<li>  phi      ,         (<b>loadu_q</b>),     phi </li>
<li>  phi     <b>loadu_q</b>    </li>
<li>      </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4番目のポイントは、すでに示した理由で必要です</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。loadu_q@ 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">がそのphiノードの結果に特にアクセスする</font><font style="vertical-align: inherit;">ようにしたい</font><font style="vertical-align: inherit;">場合、データをスイッチにロードするコマンドのすべての初期化段落は、まったく同じ順序である必要があります。</font><font style="vertical-align: inherit;">1つの基本ユニットに2つのphiノードがあるコードをコンパイルした実際の結果の例を挙げましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イニシャライザphiノードを含む段落：</font></font><br>
<br>
<pre><code class="plaintext hljs">LBB1_27:                            LBB1_30:<font></font>
SR4 :=  loadu_q @1                          setjf_l @0, LBB1_31<font></font>
        setjf_l @0, LBB1_31         SR4 :=  loadu_q [#SP + 8] <font></font>
SR5 :=  loadu_q [#SP + 16]          SR5 :=  loadu_q [#SP]   <font></font>
SR6 :=  loadu_l 0x1                 SR6 :=  add_l @SR4, 0xffffffff<font></font>
SR7 :=  add_l @SR6, [@SR4]                  loadu_q @SR5<font></font>
        wr_l @SR7, @SR4                     loadu_q @SR6<font></font>
        loadu_q @SR6                complete<font></font>
        loadu_q @SR5                <font></font>
complete<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つのphiノードを持つ段落：</font></font><br>
<br>
<pre><code class="plaintext hljs">LBB1_31:<font></font>
    SR4 :=  loadu_q @2<font></font>
    SR5 :=  loadu_q @2<font></font>
    SR6 :=  loadu_l [#SP + 124]<font></font>
    SR7 :=  loadu_l [#SP + 120]<font></font>
            setjf_l @0, @SR7<font></font>
            setrg_q #RETV, @SR4<font></font>
            wr_l @SR5, @SR6<font></font>
            setrg_q #SP, #SP + 120<font></font>
complete</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadu_q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドの代わりに、</font><font style="vertical-align: inherit;">メモリへの書き込みとメモリからの読み取りがありました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この最適化を実装する過程で、事前に予測されなかったいくつかの問題もありました。</font></font><br>
<br>
<ul>
<li>       ,          ,    /    /  .       phi  (  lowering LLVM    ),        <b>loadu_q</b>.          LLVM ,     phi           .</li>
<li>,   ,       phi      .  ,   ,        <b>loadu_q</b>    phi .   ,   phi     ,     2  <b>loadu_q</b>, ,  ,      , , , .  ,    ,      ,    phi   ,     ,        ,   —  ,  .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
phiノードのこのすべての最適化は、もう少し補足することができます。</font><font style="vertical-align: inherit;">たとえば、</font><font style="vertical-align: inherit;">上記の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LBB1_30</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段落</font><font style="vertical-align: inherit;">を見ると、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadu_qコマンド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が他で使用されていない値をロードしていることが</font><b><font style="vertical-align: inherit;">わかります</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">つまり、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadu_q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を削除</font><font style="vertical-align: inherit;">し、これらの値を作成するコマンドを同じ順序で設定する</font><font style="vertical-align: inherit;">と、次のセクションの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadu_q @ 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">も正しい値をロードします。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベンチマーク</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在の最適化の結果は、CoreMarkとWhetStoneのベンチマークでテストされました。それらの説明は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前の記事にあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">古い結果（S1コアの以前のバージョンのコンパイラー）と比較して、S2コアのCoreMark結果から始めましょう。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></th>
<th><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルチクレットS2</font></font></b></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルチクレットS1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elbrus-4C（E2S）</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキサス研究所 </font><font style="vertical-align: inherit;">AM5728 ARM Cortex-A15</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイカル-t1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インテルCore i7 7700K</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クロック周波数、MHz</font></font></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2500</font></font></b></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1600</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">800</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1500</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1200</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4500</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CoreMark全体スコア</font></font></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122425</font></font></b></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18356</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8850</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15789</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13142</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">182128</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
相対CoreMark / MHzインジケーターがヒストグラムに表示されます：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/c6/kw/nwc6kwtqwiejo48poskzc0zrzky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
phiノードの最適化のみによる加速推定を取得するには、S1コアとS2コアの1つのマルチセルのCoreMarkインジケーターを1600 MHzの周波数で再計算できます。これらはそれぞれ1147と1224であり、6.7％の増加を意味します。 。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WhetStoneでは、状況が多少異なります。</font><font style="vertical-align: inherit;">ここでのカーネルの変更は結果に影響し、さらに、このベンチマークは1つのコア（マルチセル）で起動され、メガヘルツで計算されるため、プロセッサー周波数は何の役割も果たしません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
砥石スコアカード：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></th>
<th><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルチクレットS2</font></font></b></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マルチクレットS1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Core i7 4820K</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ARM v8-A53</font></font></th>
</tr>
<tr>
<td>MWIPS / MHz</td>
<td><b>0.326</b></td>
<td>0.342</td>
<td>0.887</td>
<td>0.642</td>
</tr>
<tr>
<td>MFLOPS1 / MHz</td>
<td><b>0.141</b></td>
<td>0.156</td>
<td>0.341</td>
<td>0.268</td>
</tr>
<tr>
<td>MFLOPS2 / MHz</td>
<td><b>0.094</b></td>
<td>0.111</td>
<td>0.308</td>
<td>0.241</td>
</tr>
<tr>
<td>MFLOPS3 / MHz</td>
<td><b>0.108</b></td>
<td>0.124</td>
<td>0.167</td>
<td>0.239</td>
</tr>
<tr>
<td>COS MOPS / MHz</td>
<td><b>0.007</b></td>
<td>0.008</td>
<td>0.023</td>
<td>0.028</td>
</tr>
<tr>
<td>EXP MOPS / MHz</td>
<td><b>0.005</b></td>
<td>0.005</td>
<td>0.014</td>
<td>0.004</td>
</tr>
<tr>
<td>FIXPT MOPS / MHz</td>
<td><b>0.115</b></td>
<td>0.116</td>
<td>0.998</td>
<td>1.197</td>
</tr>
<tr>
<td>IF MOPS / MHz</td>
<td><b>0.196</b></td>
<td>0.196</td>
<td>1.504</td>
<td>1.436</td>
</tr>
<tr>
<td>EQUAL MOPS / MHz</td>
<td><b>0.156</b></td>
<td>0.149</td>
<td>0.251</td>
<td>0.439</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S1カーネルで以前のバージョンのコンパイラを使用した場合でも、主にMFLOPS1-3浮動小数点テストが原因で、全体的なインデックスが高くなっていることは明らかです。この欠点はテスト中に発見され、S1と比較してS2の浮動小数点ブロックの内部コンベヤーがもう1つのステップであるという事実によって引き起こされました。その結果、データ関連のコマンドの連続したチェーンは、各コマンドで1つのメジャーを失いました。このステップの必要性は、クロックサイクルの持続時間の短縮（プロセッサの周波数が1.6 GHzから2.5 GHzに増加したこと、およびコマンドの命名法の増加、たとえば、MACの累積を伴う乗算コマンドの出現）によって引き起こされました。この決定は一時的なものです。パイプラインの長さを短くする作業が進行中であり、将来的には修正される予定ですが、テストはS2の現在のバージョンで実行されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンパイラーの最適化の加速を評価するために、WhetStoneは以前のバージョンでコンパイルされ、S2の現在のバージョンで起動されました。指標の合計は0.3068 MWIPS / MHzでしたが、新しいコンパイラでは0.3267 MWIPS / MHzでした。上記の最適化により6.5％の加速を示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発およびテストされた最適化システムにより、将来、次の最適化スキーム、つまり、スイッチを介した仮想レジスタの直接転送を実装できます。</font><font style="vertical-align: inherit;">すでに述べたように、仮想レジスタのすべてのコピーがスイッチを介して実行できるわけではありません。</font><font style="vertical-align: inherit;">スイッチのサイズが制限されており、現在のエントリポイントにいくつかのエントリポイントがある場合、前の段落の結果に正しくアクセスできないため（これはphiノードによって部分的に解決されます）、唯一の可能なオプションは、1つの段落から次の段落に直接仮想レジスタをコピーすることですが、前の段落は1つしかありません。</font><font style="vertical-align: inherit;">実際、そのようなケースはそれほど少なくありません。多くの場合、データを直接転送する必要がありますが、事前に通知するコードアクセラレーションの量はもちろん困難です。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja480950/index.html">メビウス2019モスクワのhh.ruブースのAndroidクイズコンテスト分析</a></li>
<li><a href="../ja480954/index.html">タスク番号1。性別と関係の程度を調べる</a></li>
<li><a href="../ja480956/index.html">Как я нашел способ отследить всех водителей «Ситимобил»</a></li>
<li><a href="../ja480958/index.html">衛星接続。運営会社の概要と評価について少し</a></li>
<li><a href="../ja480960/index.html">複数のXcodeターゲットで失われたファイルを見つける</a></li>
<li><a href="../ja480964/index.html">フレネルゾーンとCCQ（クライアント接続品質）または高品質のワイヤレスブリッジの基本的な要素とは</a></li>
<li><a href="../ja480970/index.html">Dockerイメージセキュリティのベストプラクティス10 パート1</a></li>
<li><a href="../ja480974/index.html">VK miniアプリでのアプリケーション開発</a></li>
<li><a href="../ja480976/index.html">JSON-RPC APIテストライブラリ</a></li>
<li><a href="../ja480978/index.html">シニョーラの後に人生はありますか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>