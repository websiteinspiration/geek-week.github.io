<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐣 🕸️ 🐴 Kontrol perangkat eksternal di dalam mobil menggunakan tombol-tombol di setir ✌🏻 🐂 🧑🏾‍🤝‍🧑🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya. 
 
 Terkadang menjadi perlu untuk mengendalikan beberapa perangkat eksternal di dalam mobil, misalnya, perekam video atau winch. Dalam ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kontrol perangkat eksternal di dalam mobil menggunakan tombol-tombol di setir</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505026/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo semuanya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkadang menjadi perlu untuk mengendalikan beberapa perangkat eksternal di dalam mobil, misalnya, perekam video atau winch. Dalam hal ini, biasanya, tombol tambahan dipasang. Namun terkadang saya ingin membuat instalasi yang tersembunyi, sehingga interior mobil tetap tidak berubah. Kami akan melakukan ini hari ini, sebagai mobil akan ada Sedan VW Polo dengan unit pemantauan Vega MTX terpasang, dan sebagai beban akan ada tombol darurat. Mari kita pastikan bahwa sambil menahan tombol "ok" di setir, "lampu darurat" berkedip 3 kali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah potongan, sejumlah besar gambar dan video.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suatu ketika saya diminta membuat tombol terima kasih pada Renault Kaptur 2012. Dengan mengklik tombol ini, mobil akan berkedip "geng darurat" 3 kali. Mobil ini memiliki joystick kolom kemudi analog. Saya menghubungkan salah satu tombol pada joystick kolom kemudi ke relay waktu yang memberikan dorongan 3 detik ke tombol geng darurat. Kemudian, pemiliknya berbicara dengan sangat baik tentang fungsi baru mobilnya dan saya memutuskan untuk mencoba mengulanginya di Polo Sedan saya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak seperti Renault Kaptur, saya tidak memiliki tombol analog, tetapi sinyal dari semua tombol di setir dapat ditemukan di bus CAN. Sebagai tombol, tombol "ok" pada setir mobil dipilih. Dalam konfigurasi saya, tombol ini hampir tidak pernah digunakan. Sejauh ini, saya telah menemukan bahwa dengan itu Anda dapat mengatur operasi "limiter" ketika rapi berbunyi bip ketika kecepatan yang ditetapkan terlampaui. Dalam kasus lain, mengklik tombol ini tidak menghasilkan apa-apa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu mungkin untuk mengimplementasikan rencana kami dengan bantuan elektronik buatan sendiri, tetapi di mobil saya sudah ada unit telematika Vega MTX, jadi diputuskan untuk mencoba mengimplementasikan fungsi ini dengan menggunakannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menekan tombol ini dapat ditemukan di bus CAN, yang terletak di belakang radio. Saya menjelaskan secara terperinci pencarian sensor semacam itu di</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel sebelumnya tentang mendekripsi bus CAN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus kami, data ditemukan di 5BF. Ketika Anda mengklik tombol "ok" di byte nol, angka 40 muncul dalam format desimal. Ketika tombol tidak ditekan, byte nol akan menjadi 0. Ini akan perlu untuk membuat sensor di mana perubahan ini akan ditampilkan. Dalam kasus saya, ini adalah tombol di setir. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j7/2b/wi/j72bwiuv_uhzh2kbt9crf7pb6tc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita cari tahu cara mengontrol tombol geng darurat. Sayangnya, Polo Sedan tidak dapat mengendalikan geng darurat melalui bus CAN, jadi Anda harus mengelolanya dengan analogi. Untuk melakukan ini, Anda harus meregangkan kawat dari kabel putih-biru dari konektor tombol geng darurat. Jika sinyal ground diterapkan ke kabel ini dengan pulsa jangka pendek, maka geng darurat menyala. Demikian pula, mati.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sajikan "ground" akan menggunakan output digital Vega MTX. Di sini kita memiliki 4 output digital, kita akan menggunakan output ketiga (kabel biru). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uz/-o/ae/uz-oaegurh5p-8r1fczln8hiyrw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda perlu mengatur algoritma di mana tombol akan bekerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, saya tidak ingin geng darurat menyala segera dengan menekan tombol ok, saya ingin geng itu menyala setelah menahan tombol sebentar. Saya melakukan ini untuk melindungi dari penekanan yang tidak disengaja dan untuk menyimpan fungsionalitas tombol ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua, Anda harus mematikan geng darurat setelah 3 berkedip. 3 flash "geng darurat" dibuat dalam 2 detik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memasukkan semua algoritme ini, buka pengaturan Vega MTX, lalu buka tab "Scripts". Di sini Anda dapat mengatur kondisi di mana tindakan dilakukan. Untuk implementasi saya harus menggunakan 3 skenario.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara umum, skenario tidak dimaksudkan untuk operasi seperti itu, jadi saya harus bereksperimen lama sampai hasil yang diinginkan diperoleh. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/np/tb/dmnptb-c9bmonjlmutgpskje2fs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skenario pertama berfungsi untuk membuat penundaan per detik setelah mengklik tombol "ok". Ini bekerja jika dalam sensor CAN nilainya menjadi 40 dan output digital eksternal 1 adalah 0.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0n/2-/gh/0n2-gh3y6v3d9w4p8v-wpaflbdw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini saya akan menjelaskan tentang output digital eksternal. Jika tugas tersebut membutuhkan lebih dari 4 output digital, maka modul eksternal tambahan dapat dihubungkan ke Vega MTX, yang akan memiliki 15 output digital dan banyak lagi input dan output lainnya. Karena kita tidak memiliki unit eksternal ini, kita dapat menggunakan output ini sebagai variabel, menempatkan 0 atau 1 di sana (hidup atau mati). Secara default, semua output dimatikan. Output digital eksternal 1 akan menjadi variabel yang menunjukkan bahwa satu detik telah berlalu sejak menekan tombol ok. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skrip kami harus berbunyi seperti ini: sekarang tombol ok ditekan, dan itu ditekan kurang dari satu detik. Jika kondisi ini bersamaan, maka tindakan dilakukan: output digital eksternal 1 dimatikan selama 1 detik. Ini berarti bahwa ia masuk ke kondisi "mati", tetapi setelah satu detik itu akan masuk ke kondisi "aktif".</font></font><br>
<br>
<img src="https://habrastorage.org/webt/la/qw/v_/laqwv_wowjb0zzhvkkm9eiijnro.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita beralih ke skenario kedua. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/al/xc/gwalxcku5ectsxnsikszjeqkncu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berbeda dengan skenario pertama, ini akan bekerja dengan sensor "Tombol pada setir" sama dengan 40 dan dengan input digital eksternal sama dengan 1. Yaitu, tombol "ok" ditekan dan output digital eksternal 1 adalah 1. Dan output digital eksternal akan menjadi 1 hanya setelah satu detik setelah memicu skenario pertama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita akan menganalisis apa yang terjadi setelah skenario kedua dipicu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-n/vw/mp/-nvwmpbzqfua5nwiizr2llgqgyo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini pulsa 1 detik panjang diberikan ke output digital 3, yang mana output dari tombol geng darurat terhubung, dengan demikian kita menyalakannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, kita perlu mengatur ulang 0 output digital eksternal 1. Oleh karena itu, kita menyalakan output digital eksternal 1 selama 1 detik. Yaitu, 1 detik setelah skrip dipicu, output digital eksternal 1 akan menjadi 0.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Item terakhir, kami mentransfer 2 detik 15 ke posisi 0. Setelah 2 detik setelah skrip dipicu, output digital eksternal 15 akan menjadi 1. Output digital eksternal 15 digunakan sebagai variabel, bahwa lampu darurat dihidupkan menggunakan tombol pada roda kemudi. 2 detik adalah waktu di mana mobil berkedip "geng darurat" 3 kali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang skenario terakhir, yang seharusnya mengirim impuls, untuk mematikan geng darurat. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vy/g1/or/vyg1orbca6pqu-u3ufjcjr20ism.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skenario ini akan berfungsi ketika output digital eksternal 15 menjadi 1, yaitu, 2 detik setelah skenario kedua dipicu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0m/ke/8n/0mke8ngoswhi9jn9ject-paeftw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah skrip ketiga dipicu, kami mengirim impuls untuk mematikan geng darurat, dan mengatur ulang output digital eksternal 15 ke nol (off).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini mengakhiri pekerjaan dengan skrip, menyimpan hasilnya di Vega MTX dan memeriksa pengoperasian perangkat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, Anda dapat mengontrol perangkat apa pun menggunakan bus CAN mobil. </font><font style="vertical-align: inherit;">Manajemen tidak terbatas pada tombol di setir. </font><font style="vertical-align: inherit;">Misalnya, Anda dapat mengatur perangkat untuk dihidupkan dengan kecepatan kendaraan, dengan membuka jendela atau pintu, dengan menyalakan mesin, dengan kecepatan mesin, oleh suhu mesin, dll. </font><font style="vertical-align: inherit;">Anda dapat mengunci pintu dengan kecepatan tertentu (jika pabrikan tidak memberikan kesempatan seperti itu), hidupkan kamera ketika Anda membuka jendela dan banyak opsi lainnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua hal di atas adalah dalam format video, dan juga ada contoh mengaktifkan lampu darurat saat gigi mundur.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/70KNs2freow" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id504988/index.html">Wawancara dengan Analis - Denis Sobolev, Manajer Produk, Kepala analitik B2B Skyeng</a></li>
<li><a href="../id504996/index.html">BazarBackdoor: Titik Masuk Baru ke Sistem Perusahaan</a></li>
<li><a href="../id505016/index.html">Kursus Pendidikan Gratis: Administrasi</a></li>
<li><a href="../id505018/index.html">Bagaimana Selenium Bekerja: Episode 1 - 2</a></li>
<li><a href="../id505024/index.html">YouTrack sekarang dengan basis pengetahuan</a></li>
<li><a href="../id505034/index.html">Uji penuaan LED</a></li>
<li><a href="../id505036/index.html">Avalonia Tutorial: Menerapkan MVVM Langkah demi Langkah dengan Contoh</a></li>
<li><a href="../id505046/index.html">Apa kesamaan konten dan pub rock kelas satu? Kisah "kegagalan" dari satu proyek yang mengarah pada kesuksesan</a></li>
<li><a href="../id505052/index.html">Pengujian cepat Motionia.js dan Consoleimg.js</a></li>
<li><a href="../id505060/index.html">Masukkan numpy array ke dalam database MySQL melalui Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>