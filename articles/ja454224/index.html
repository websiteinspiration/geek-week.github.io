<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👧‍👧 🐷 👩🏼‍🎓 Okkoでの推奨事項：いくつかの行列を掛け合わせて数億ドルを稼ぐ方法 🐊 🔚 🌹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="あなたがそれを見ていた時間に匹敵する映画を選択するのに膨大な時間を費やす状況に精通していますか？これはオンライン映画のユーザーにとってはよくある問題であり、映画館自体にとっては利益を失っています。
 

 , Rekko — , Okko . , . A/B .
 

 . Okko 2011 , ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Okkoでの推奨事項：いくつかの行列を掛け合わせて数億ドルを稼ぐ方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/okko/blog/454224/"><p><img src="https://habrastorage.org/webt/lz/br/1e/lzbr1ep8ur0j8t_guasvydsyob8.jpeg" alt="Rekko-Okkoオンラインシネマでのパーソナライズされた推奨事項"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたがそれを見ていた時間に匹敵する映画を選択するのに膨大な時間を費やす状況に精通していますか？</font><font style="vertical-align: inherit;">これはオンライン映画のユーザーにとってはよくある問題であり、映画館自体にとっては利益を失っています。</font></font></p><br>
<p> ,    Rekko —   ,       Okko           .              ,          .       A/B   .</p><a name="habracut"></a><br>
<p>   . Okko     2011    , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>   Yota Play.</p><br>
<p><img src="https://habrastorage.org/webt/mv/a1/56/mva156eoduu0n4mxwzndqw8okia.jpeg" alt="古いYota Playインターフェース"></p><br>
<div class="spoiler"><b class="spoiler_title">  2011           </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/x9/qt/lw/x9qtlwkwdtshpzms52bk2_fcsem.png" alt="      -"></p></div></div><br>
<p>Yota Play      :                   ,      .</p><br>
<p><img src="https://habrastorage.org/webt/tg/es/vx/tgesvx1rincasogqygiajdlbkbc.jpeg" alt="Yota Playのソーシャルレコメンデーション"></p><br>
<p> 2012      .   «» —    - Okko.      -:</p><br>
<blockquote>        .     “” (, )  “” (, ).   [127..+127] 0 –    “”.                 “” . ,     +127 (  ),    — 127 (   ). <br>
<br>
  ,     ,     .     4-    ( .  – , , , ).<br>
<br>
           ,     .   ,    , ,      .       ,                 .</blockquote><p><img src="https://habrastorage.org/webt/2m/uu/lx/2muulx2mhqmdcnpife9rzqvosr8.jpeg" alt="映画「ラスベガスの恐怖と嫌悪」からのショット"></p><br>
<p>   ,    ,      ,            .         .</p><br>
<p>       , «»        ,   -.</p><br>
<p><img src="https://habrastorage.org/webt/0o/no/pg/0onopgsv10ay9p1gghbbkuy-bsq.jpeg" alt="アーキテクチャ「Oracle」"></p><br>
<p>  2013        -     .             A/B :     ,  —  .</p><br>
<p>                 ,     . ,  2013,   :    ,        . «»      .      ,  Yota Play   Okko.</p><br>
<p><img src="https://habrastorage.org/webt/zg/iy/si/zgiysix9gjqhvyvlzxxhbtkpjeo.jpeg" alt="名前を変更した直後のオンライン映画Okkoのインターフェイス"></p><br>
<p>  2013  2016   «»       :      .</p><br>
<p>  2017        .  Netflix              .    «»  ,      «» ,         .</p><br>
<p>           .        Okko  ,          .</p><br>
<p>   A/B             .</p><br>
<p>     A/B      Okko,        (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link">malekseev</a>)    - .          (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link">xaph</a>),    .</p><br>
<h2 id="obschie-soobrazheniya"> </h2><br>
<p>        -, ,   ,   ,         ,     ,     .</p><br>
<p><img src="https://habrastorage.org/webt/wc/yk/q1/wcykq1ofa4dbrgtlxzgwvnwnrj8.png" alt="機械学習に関するxkcd.comのコミック"></p><br>
<p>    .    —         —       —   ,     . </p><br>
<p><img src="https://habrastorage.org/webt/kz/7j/lv/kz7jlvh1g1-kyj_aivbafyjcei4.png"></p><br>
<p>,               k  .    ,            100   ,    — 105   .              10            ,                     100    .</p><br>
<p>     —    —        ,    ,        ,        .</p><br>
<p>  Okko  .    ,       A/B ,       ,                 .</p><br>
<p><img src="https://habrastorage.org/webt/a3/qs/52/a3qs52_u3h315fc3uilbjcfue6y.jpeg"></p><br>
<p>  Rekko, ,         50 ,    ,    ,   ,    ,        .  ,       ,       ().</p><br>
<p><img src="https://habrastorage.org/webt/ji/wk/wa/jiwkwartjggsztf_2tnsv1yfezc.png"></p><br>
<h2 id="o-rekomendatelnyh-sistemah">  </h2><br>
<p>      .</p><br>
<p>     ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.953ex" height="2.009ex" viewBox="0 -755.5 2563.1 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-55" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mo>∈</mo><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">u \in U</script>       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>&amp;#x2208;</mo><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.815ex" height="2.009ex" viewBox="0 -755.5 2073.1 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="1568" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>∈</mo><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">i \in I</script>       .    :        ,    ,        ,   .</p><br>
<p><img src="https://habrastorage.org/webt/l5/er/eb/l5erebrzv_nfgsliqcvwsgnms4u.jpeg" alt="多くの映画における秩序の関係の図解"></p><br>
<p>        :    ,      . ,    .               —      .</p><br>
<p><img src="https://habrastorage.org/webt/jf/jq/ur/jfjqur-h18fc3rzmphqaqwcnpoi.jpeg" alt="多くの映画から多くの実数へのマッピングの図"></p><br>
<p>     ,     -, ,     N             .</p><br>
<p>        ,   .      «»,      «»  «»,    «   »     .       ,    ,      .</p><br>
<p><img src="https://habrastorage.org/webt/-_/o4/qj/-_o4qjhy9azdbrp4plydn7yjkya.jpeg" alt="          "></p><br>
<p>          :   (collaborative filtering, CF),   (content models, CM)   ,    .</p><br>
<p>           .  ,  ,     ,    ,  ,        ,    ,  ,     .            .</p><br>
<p><img src="https://habrastorage.org/webt/_h/m3/7j/_hm37jb5xe7ddcdyg1nanl3fsbk.jpeg" alt="      "></p><br>
<p> ,  ,     , ,      .</p><br>
<p>  —          ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03B8;</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.09ex" height="2.134ex" viewBox="0 -809.3 469.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3B8" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>θ</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">\theta</script>.         ,         .           ,    ,     .</p><br>
<p><img src="https://habrastorage.org/webt/lx/lp/pd/lxlppd-mzqmhiy7yidyly3jeclu.jpeg" alt="  "></p><br>
<p> ,  ,   ,    ,      . ,        ,       ,        <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>,</mo><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.811ex" height="2.634ex" viewBox="0 -809.3 7668.6 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="2142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="2587" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="3437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-55" x="4382" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="5150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="5595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="6218" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="7164" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>,</mo><mi>u</mi><mo>∈</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>∈</mo><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">(u, i), u \in U, i \in I</script>.             .</p><br>
<p>     ,      .</p><br>
<p>           ,            (100 — 1000) ,        .                  .</p><br>
<p><img src="https://habrastorage.org/webt/gg/mm/aj/ggmmaj0ypd3aioq8uqwg985w_uu.jpeg" alt="  "></p><br>
<p>    :</p><br>
<ol>
<li>              ;</li>
<li>  ,     ;</li>
<li>  ,     ;</li>
<li>«»     ,        .</li>
</ol><br>
<p>    ,      .</p><br>
<p>       ,  ,     ,      ,  DSSM        .</p><br>
<p>        ,      .</p><br>
<p>  Okko          WARP loss     ,       .</p><br>
<h2 id="pervyy-etap-otbor-kandidatov"> :  </h2><br>
<p>  ,  ,             .     :               ,       « »,   — « ».             .</p><br>
<p><img src="https://habrastorage.org/webt/rn/_t/fv/rn_tfvt7uh_z56ojjyiqt-zpmky.jpeg" alt="  "></p><br>
<p> , ,          .    —  .</p><br>
<p> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.884ex" viewBox="-38.5 -540.2 1046.8 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-5">p_u</script> —   ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.953ex" height="2.009ex" viewBox="0 -755.5 2563.1 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-55" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi><mo>∈</mo><mi>U</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">u \in U</script>,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.884ex" viewBox="0 -540.2 790.8 811.3" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-7">q_i</script> —   ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>&amp;#x2208;</mo><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.815ex" height="2.009ex" viewBox="0 -755.5 2073.1 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="1568" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>∈</mo><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">i \in I</script>.       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.022ex" height="2.634ex" viewBox="0 -809.3 3023.3 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1397" y="0"></use><g transform="translate(1842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="2633" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">⟩</mo></math></span></span><script type="math/tex" id="MathJax-Element-9">\langle p_u , q_i \rangle</script>          .             <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.789ex" height="1.759ex" viewBox="0 -540.2 1200.6 757.5" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="572" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-10">r_{ui}</script>        <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2208;</mo><mi>T</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.452ex" height="2.634ex" viewBox="0 -809.3 4069.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="2419" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-54" x="3365" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>T</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">(u, i) \in T</script>,   ,   .</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>min</mo><mfrac><mn>1</mn><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>T</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></mrow></mfrac><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2208;</mo><mi>T</mi></mrow></munder><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.428ex" height="6.759ex" viewBox="0 -1401.3 12670.1 2910.2" role="img" focusable="false" style="vertical-align: -3.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-69" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6E" x="1112" y="0"></use><g transform="translate(1668,0)"><g transform="translate(286,0)"><rect stroke="none" width="1381" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="440" y="676"></use><g transform="translate(60,-726)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-54" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="983" y="0"></use></g></g></g><g transform="translate(3623,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="461" y="0"></use><g transform="translate(0,-1149)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="1975" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-54" x="2643" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="5990" y="0"></use><g transform="translate(6379,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="7802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="8803" y="0"></use><g transform="translate(9192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="10201" y="0"></use><g transform="translate(10646,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="11437" y="0"></use><g transform="translate(11826,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo movablelimits="true" form="prefix">min</mo><mfrac><mn>1</mn><mrow><mo fence="false" stretchy="false">|</mo><mi>T</mi><mo fence="false" stretchy="false">|</mo></mrow></mfrac><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>T</mi></mrow></munder><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>−</mo><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">⟩</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12">\min \frac{1}{\lvert T \rvert} \sum_{(u, i) \in T} (r_{ui} - \langle p_u , q_i \rangle)^2</script></p><br>
<p> ,     .</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>min</mo><mfrac><mn>1</mn><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>T</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></mrow></mfrac><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2208;</mo><mi>T</mi></mrow></munder><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mi>&amp;#x03BB;</mi><mo stretchy=&quot;false&quot;>(</mo><munder><mo>&amp;#x2211;</mo><mi>u</mi></munder><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x2016;</mo><msub><mi>p</mi><mi>u</mi></msub><msup><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x2016;</mo><mn>2</mn></msup><mo>+</mo><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x2016;</mo><msub><mi>q</mi><mi>i</mi></msub><msup><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x2016;</mo><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="55.92ex" height="6.759ex" viewBox="0 -1401.3 24076.5 2910.2" role="img" focusable="false" style="vertical-align: -3.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-69" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6E" x="1112" y="0"></use><g transform="translate(1668,0)"><g transform="translate(286,0)"><rect stroke="none" width="1381" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="440" y="676"></use><g transform="translate(60,-726)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-54" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="983" y="0"></use></g></g></g><g transform="translate(3623,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="461" y="0"></use><g transform="translate(0,-1149)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1586" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="1975" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-54" x="2643" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="5990" y="0"></use><g transform="translate(6379,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="7802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="8803" y="0"></use><g transform="translate(9192,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="10201" y="0"></use><g transform="translate(10646,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="11437" y="0"></use><g transform="translate(11826,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2B" x="12892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3BB" x="13893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="14476" y="0"></use><g transform="translate(14866,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="735" y="-1487"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2225" x="16310" y="0"></use><g transform="translate(16811,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(17819,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2225" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-32" x="707" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2B" x="18996" y="0"></use><g transform="translate(19996,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="848" y="-1536"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2225" x="21441" y="0"></use><g transform="translate(21941,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g><g transform="translate(22732,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2225" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-32" x="707" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="23686" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo movablelimits="true" form="prefix">min</mo><mfrac><mn>1</mn><mrow><mo fence="false" stretchy="false">|</mo><mi>T</mi><mo fence="false" stretchy="false">|</mo></mrow></mfrac><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>T</mi></mrow></munder><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>−</mo><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">⟩</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mi>λ</mi><mo stretchy="false">(</mo><munder><mo>∑</mo><mi>u</mi></munder><mo fence="false" stretchy="false">‖</mo><msub><mi>p</mi><mi>u</mi></msub><msup><mo fence="false" stretchy="false">‖</mo><mn>2</mn></msup><mo>+</mo><munder><mo>∑</mo><mi>i</mi></munder><mo fence="false" stretchy="false">‖</mo><msub><mi>q</mi><mi>i</mi></msub><msup><mo fence="false" stretchy="false">‖</mo><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-13">\min \frac{1}{\lvert T \rvert} \sum_{(u, i) \in T} (r_{ui} - \langle p_u , q_i \rangle)^2 + \lambda ( \sum_u \lVert p_u \rVert^2 + \sum_i \lVert q_i \rVert^2 )</script></p><br>
<p>     NP-.   ,              ,  ,     ,     ,   .    Alternating Least Squares (ALS).</p><br>
<p><img src="https://habrastorage.org/webt/pj/fd/-o/pjfd-owy8_ujaucnfd1pc4cilbc.jpeg"></p><br>
<p>  ALS —     .       .  ,        .</p><br>
<p>      ,    , ALS    .    —      .      .       ,      .</p><br>
<p>   ,      ,       .</p><br>
<p> ,      .      ,    ,    . ,   ,  «» ,  «», «»  «»   ,     ,  «».    ,     ,     ,    .   ,       ,   .    , , , «» —  ,   ,     ,   .</p><br>
<p><img src="https://habrastorage.org/webt/gk/pn/0b/gkpn0byianfyacfeq1byt0cfsd8.jpeg" alt="        "></p><br>
<p>,             ,  ,    ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo>:</mo><mi>U</mi><mo>&amp;#x00D7;</mo><mi>I</mi><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>Z</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.098ex" height="2.509ex" viewBox="0 -755.5 6070.1 1080.4" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3A" x="795" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-55" x="1351" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-D7" x="2341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="3342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2192" x="4124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJAMS-5A" x="5402" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo>:</mo><mi>U</mi><mo>×</mo><mi>I</mi><mo stretchy="false">→</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">Z</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-14">\rho: U \times I \to \mathbb{Z}</script>.   ,    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">u</script> ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.196ex" height="2.259ex" viewBox="0 -755.5 945.3 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="622" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-16">I_u</script>. ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.594ex" height="2.634ex" viewBox="0 -809.3 4561.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="3004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-30" x="4060" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-17">\rho(u, j) = 0</script>,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.384ex" viewBox="-11.5 -755.5 424 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-18">j</script>,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi><mo>&amp;#x2209;</mo><msub><mi>I</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.021ex" height="2.634ex" viewBox="-11.5 -809.3 2592.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2209" x="690" y="0"></use><g transform="translate(1635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="622" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi><mo>∉</mo><msub><mi>I</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-19">j \notin I_u</script>.  ,     ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.438ex" height="2.634ex" viewBox="0 -809.3 4494.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3C" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-30" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-20">\rho(u, i) < 0</script>,   ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.438ex" height="2.634ex" viewBox="0 -809.3 4494.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3E" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-30" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-21">\rho(u, i) > 0</script>.</p><br>
<p><img src="https://habrastorage.org/webt/cm/c1/xb/cmc1xb-_9fpvcdjszrwuu5yg45q.jpeg" alt=" ,       "></p><br>
<p>     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo>:</mo><mi>U</mi><mo>&amp;#x00D7;</mo><mi>I</mi><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.908ex" height="2.009ex" viewBox="0 -755.5 7710.6 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3A" x="2380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-55" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-D7" x="3926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="4927" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2192" x="5709" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJAMS-4E" x="6988" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo>:</mo><mi>U</mi><mo>×</mo><mi>I</mi><mo stretchy="false">→</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22">rank: U \times I \to \mathbb{N}</script>.</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mo>&amp;#x2208;</mo><mi>I</mi><mo>:</mo><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></munder><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>I</mtext></mrow><mo stretchy=&quot;false&quot;>(</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="49.886ex" height="5.884ex" viewBox="0 -1024.6 21478.7 2533.5" role="img" focusable="false" style="vertical-align: -3.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="4522" y="0"></use><g transform="translate(5579,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="1998" y="0"></use><g transform="translate(0,-1149)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="412" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="1080" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3A" x="1584" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="1863" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="2380" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="2770" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="3342" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="3621" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="4033" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3C" x="4423" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="5201" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="5719" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="6108" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="6681" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="6959" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="7305" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-49" x="11186" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="11548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="11937" y="0"></use><g transform="translate(12327,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="13335" y="0"></use><g transform="translate(13780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="14571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3C" x="15238" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="16295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2B" x="17017" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="18018" y="0"></use><g transform="translate(18408,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="19416" y="0"></use><g transform="translate(19861,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="20699" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="21089" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>j</mi><mo>∈</mo><mi>I</mi><mo>:</mo><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></munder><mrow class="MJX-TeXAtom-ORD"><mtext>I</mtext></mrow><mo stretchy="false">(</mo><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">⟩</mo><mo>&lt;</mo><mn>1</mn><mo>+</mo><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence="false" stretchy="false">⟩</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-23">rank(u, i) = \sum_{ j \in I: \rho(u, j) < \rho(u, i)} \textrm{I} ( \langle p_u , q_i \rangle < 1 + \langle p_u , q_j \rangle )</script></p><br>
<p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>I</mtext></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.979ex" height="2.634ex" viewBox="0 -809.3 1713 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="361" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1323" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mtext>I</mtext></mrow><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-24">\textrm{I}(x)</script>       ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-25">x</script>    .</p><br>
<p>     ,    . </p><br>
<p>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>u</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>u</mi></math></span></span><script type="math/tex" id="MathJax-Element-26">u</script>,  — -  ,   —   .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mi>u</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.884ex" viewBox="-38.5 -540.2 1046.8 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mi>u</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-27">p_u</script>  .</p><br>
<p>   ,   ,  «».    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="2.009ex" viewBox="0 -755.5 345.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-28">i</script>.   ,    ,  «».     «», «», «»,   ,     .</p><br>
<p><img src="https://habrastorage.org/webt/qv/mn/gm/qvmngmkgovxbalbbtbpdqjdnmrc.jpeg" alt="   "></p><br>
<p> «».    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.384ex" viewBox="-11.5 -755.5 424 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-29">j</script>.  ,    «» <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.884ex" viewBox="0 -540.2 790.8 811.3" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-30">q_i</script>     ,    ,     «» <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>q</mi><mi>j</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.947ex" height="2.134ex" viewBox="0 -540.2 838.2 918.9" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="631" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>q</mi><mi>j</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-31">q_j</script>      .      .     «»,  «»    ,       . </p><br>
<p>  ,        ,  «».    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.024ex" height="2.634ex" viewBox="0 -809.3 2593.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1858" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2204" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">r(u, i)</script>         ,    .</p><br>
<p>      .</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mo>&amp;#x2208;</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.093ex" height="5.634ex" viewBox="0 -1024.6 10804.1 2425.9" role="img" focusable="false" style="vertical-align: -3.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="959" y="0"></use><g transform="translate(2015,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="778" y="0"></use><g transform="translate(0,-1102)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="572" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-55" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="2007" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="2286" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2208" x="2631" y="0"></use><g transform="translate(2332,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="622" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3D5" x="5183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="5779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="6169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-61" x="6620" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6E" x="7150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6B" x="7750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="8272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="8661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="9234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="9679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="10025" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="10414" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mo>∈</mo><mi>U</mi><mo>,</mo><mi>i</mi><mo>∈</mo><msub><mi>I</mi><mi>u</mi></msub></mrow></munder><mi>ϕ</mi><mo stretchy="false">(</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-33">L = \sum_{u \in U, i \in I_u} \phi (rank(u, i))</script></p><br>
<p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo>:</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>N</mi></mrow><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;double-struck&quot;>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.293ex" height="2.384ex" viewBox="0 -755.5 4431.6 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3A" x="874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJAMS-4E" x="1430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2192" x="2430" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJAMS-52" x="3709" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ϕ</mi><mo>:</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">N</mi></mrow><mo stretchy="false">→</mo><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="double-struck">R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-34">\phi: \mathbb{N} \to \mathbb{R}</script> —  ,      .     ,        .     ,  ,          .</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.364ex" height="6.884ex" viewBox="0 -1670.4 5753.7 2964.1" role="img" focusable="false" style="vertical-align: -3.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3D5" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="986" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1558" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="2225" y="0"></use><g transform="translate(3282,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="1124" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="735" y="1627"></use></g><g transform="translate(4726,0)"><g transform="translate(286,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="137" y="-686"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>ϕ</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>x</mi></munderover><mfrac><mn>1</mn><mi>i</mi></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-35">\phi(x) = \sum_{i=1}^x \frac{1}{i}</script></p><br>
<p>   .       ? , ,        ,              ,           .</p><br>
<p>    :       .     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.384ex" viewBox="-11.5 -755.5 424 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">j</script> ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;lt;</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.633ex" height="2.634ex" viewBox="-38.5 -809.3 6730.9 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="1910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3C" x="2990" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="4046" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="4550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="4939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="5512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="5957" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="6302" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>&lt;</mo><mi>p</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-37">p(u, j) < p(u, i)</script>     ,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;lt;</mo><mn>1</mn><mo>+</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E8;</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.255ex" height="2.759ex" viewBox="0 -809.3 9151.5 1188" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1397" y="0"></use><g transform="translate(1842,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="2633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3C" x="3301" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="4357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2B" x="5080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E8" x="6080" y="0"></use><g transform="translate(6470,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="7478" y="0"></use><g transform="translate(7923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-27E9" x="8761" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>i</mi></msub><mo fence="false" stretchy="false">⟩</mo><mo>&lt;</mo><mn>1</mn><mo>+</mo><mo fence="false" stretchy="false">⟨</mo><msub><mi>p</mi><mi>u</mi></msub><mo>,</mo><msub><mi>q</mi><mi>j</mi></msub><mo fence="false" stretchy="false">⟩</mo></math></span></span><script type="math/tex" id="MathJax-Element-38">\langle p_u , q_i \rangle < 1 + \langle p_u , q_j \rangle</script>.     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.066ex" height="2.134ex" viewBox="0 -755.5 2611.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="2111" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-39">N - 1</script>      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-40">N</script>,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="2.009ex" viewBox="0 -755.5 345.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">i</script></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2248;</mo><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230A;</mo><mfrac><mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mo>&amp;#x2212;</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x230B;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.327ex" height="5.384ex" viewBox="0 -1562.8 9613.2 2318.2" role="img" focusable="false" style="vertical-align: -1.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-72" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-61" x="451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6E" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6B" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="2492" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="3065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="3510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="3855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2248" x="4522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-230A" x="5579" y="0"></use><g transform="translate(6023,0)"><g transform="translate(120,0)"><rect stroke="none" width="2904" height="60" x="0" y="220"></rect><g transform="translate(60,724)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="2284" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-4E" x="1008" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-230B" x="9168" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>≈</mo><mo fence="false" stretchy="false">⌊</mo><mfrac><mrow><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo><mo>−</mo><mn>1</mn></mrow><mi>N</mi></mfrac><mo fence="false" stretchy="false">⌋</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-42">rank(u, i) \approx \lfloor \frac{\lvert I \rvert - 1}{N} \rfloor</script></p><br>
<p> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo><mi>I</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x007C;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.465ex" height="2.634ex" viewBox="0 -809.3 1061.5 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-49" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-7C" x="783" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo fence="false" stretchy="false">|</mo><mi>I</mi><mo fence="false" stretchy="false">|</mo></math></span></span><script type="math/tex" id="MathJax-Element-43">\lvert I \rvert</script> —   .</p><br>
<p>  ,   ,         ,   .</p><br>
<p>    WARP        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">WSABIE: Scaling Up To Large Vocabulary Image Annotation</a>.   ,          ,     .          10%.</p><br>
<p>    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.634ex" viewBox="0 -809.3 2659.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-44">\rho(u, i)</script>.  Okko       :</p><br>
<ol>
<li> ;</li>
<li>  ;</li>
<li>   ( );</li>
<li>  ;</li>
<li>   0  10.</li>
</ol><br>
<p>     ,          ,   .       399 ,  ,   .       ,     .      -,        .</p><br>
<p> —  .      ,  explicit :               ,   .  ,   ,   implicit .</p><br>
<p> ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.177ex" height="2.634ex" viewBox="0 -809.3 2659.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2270" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-45">\rho(u, i)</script>    ,     .    .        ,     .</p><br>
<p><img src="https://habrastorage.org/webt/vm/qy/rx/vmqyrx0t4ts9hnrh6ixb2bc7e3w.png" alt="      "></p><br>
<p>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.091ex" height="2.634ex" viewBox="0 -809.3 5205.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="3993" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-63" x="4772" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">\rho(u, i) = -c</script>,          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>c</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.283ex" height="2.634ex" viewBox="0 -809.3 4427.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-3C1" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-75" x="907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2C" x="1479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="1924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="2270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="2937" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-63" x="3993" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>ρ</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">\rho(u, i) = c</script>,  .</p><br>
<p>    ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Cython</a>,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">LightFM</a>.</p><br>
<h2 id="vtoroy-etap-ranzhirovanie"> : </h2><br>
<p><img src="https://habrastorage.org/webt/sf/p3/lm/sfp3lmbozxs5riogkbuwp9yuka8.jpeg"></p><br>
<p>    ,   top-N   :            .    ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Approximate nearest neighbor algorithm based on navigable small world graphs</a>        .</p><br>
<p> , ,    ,    ,        .   ,       -  ,   .      :     ,   .</p><br>
<p>     .  ,        ,    .  —       ,   ,    .    ,    ,        ,    .     100       400 .</p><br>
<p><img src="https://habrastorage.org/webt/x8/yk/jg/x8ykjgbsvsfisy1-usfx9lsd7b4.jpeg"></p><br>
<p>,      ,     :  ,     .    50 .</p><br>
<p>           , :</p><br>
<ul>
<li>   ,</li>
<li> ,      ,</li>
<li>   ,</li>
<li> . .</li>
</ul><br>
<p>       -: ,  , , , ,     . .     -:    ,  ,   ,    ,    . .</p><br>
<p>                        , , ,     .</p><br>
<p>  , ,         ,   ,     .           ,    —   .          —     .</p><br>
<p><img src="https://habrastorage.org/webt/8s/21/uq/8s21uqwknfro5hoexboth6n6f2y.png" alt="          "></p><br>
<p>           .      ,       .   ,          .   positives,    negatives.         .</p><br>
<p><img src="https://habrastorage.org/webt/zd/dn/zw/zddnzwixuanlugakzjdv8hxe4j8.png" alt="      "></p><br>
<p>  ? -,       ,       —    . -,          — ,        ,     .</p><br>
<p> ?      —              .         , ,    —   ,   ,      .</p><br>
<p> XGBoost  LightGBM        LambdaMART.     ,     .  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.217ex" height="2.634ex" viewBox="0 -809.3 2246.3 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="550" y="0"></use><g transform="translate(940,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="1856" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-48">f(x_i)</script> —     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>i</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.129ex" height="1.759ex" viewBox="0 -540.2 916.8 757.5" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="809" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>i</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-49">x_i</script>,   ,   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="2.009ex" viewBox="0 -755.5 345.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi></math></span></span><script type="math/tex" id="MathJax-Element-50">i</script>       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.985ex" height="2.384ex" viewBox="-11.5 -755.5 424 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.027ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-51">j</script>,  </p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo>&amp;#x003E;</mo><mi>j</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mi>exp</mi><mo>&amp;#x2061;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2212;</mo><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></mrow></mfrac><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.812ex" height="5.759ex" viewBox="0 -1401.3 18002.5 2479.7" role="img" focusable="false" style="vertical-align: -2.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="345" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="1556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-50" x="2612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="3364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="3753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3E" x="4376" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="5433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="5845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="6512" y="0"></use><g transform="translate(7291,0)"><g transform="translate(397,0)"><rect stroke="none" width="9914" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="4707" y="676"></use><g transform="translate(60,-726)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2B" x="722" y="0"></use><g transform="translate(1723,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-65"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-78" x="444" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-70" x="973" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="3252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-66" x="3642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="4192" y="0"></use><g transform="translate(4582,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="5546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="6158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-66" x="7159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="7709" y="0"></use><g transform="translate(8099,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="809" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="9015" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="9405" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2E" x="17724" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>i</mi><mo>&gt;</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><mi>exp</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>−</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-52">P_{ij} = P(i \gt j) = \frac{1}{1 + \exp(f(x_j) - f(x_i))}.</script></p><br>
<p>       .</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>L</mi><mo>=</mo><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mi>log</mi><mo>&amp;#x2061;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mi>log</mi><mo>&amp;#x2061;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="40.04ex" height="2.759ex" viewBox="0 -809.3 17239.5 1188" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="2015" y="0"></use><g transform="translate(2794,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="345" y="0"></use></g></g><g transform="translate(4178,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-67" x="779" y="0"></use></g><g transform="translate(5624,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="7125" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="8125" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="8515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="9238" y="0"></use><g transform="translate(10238,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="11456" y="0"></use><g transform="translate(12012,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-67" x="779" y="0"></use></g><g transform="translate(13458,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-2212" x="1112" y="0"></use><g transform="translate(2112,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-50" x="0" y="0"></use><g transform="translate(642,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="345" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-29" x="3391" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>L</mi><mo>=</mo><mo>−</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mi>log</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo><mi>log</mi><mo>⁡</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>P</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-53">L = - Y_{ij} \log{P_{ij}} - (1 - Y_{ij}) \log{(1-P_{ij})}</script></p><br>
<p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>Y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.828ex" height="2.634ex" viewBox="0 -755.5 1217.5 1134.2" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-59" x="0" y="0"></use><g transform="translate(581,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="345" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>Y</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mi>j</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-54">Y_{ij}</script>  —   .     1  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>&amp;#x003E;</mo><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.859ex" height="2.384ex" viewBox="0 -755.5 2092.1 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3E" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>&gt;</mo><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-55">i \gt j</script>, 0  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>&amp;#x003C;</mo><mi>g</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.017ex" height="2.384ex" viewBox="0 -755.5 2160.1 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3C" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-67" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>&lt;</mo><mi>g</mi></math></span></span><script type="math/tex" id="MathJax-Element-56">i \lt g</script>  0.5   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>i</mi><mo>=</mo><mi>j</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.859ex" height="2.384ex" viewBox="0 -755.5 2092.1 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-69" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMAIN-3D" x="623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/okko/blog/454224/&amp;usg=ALkJrhh7u7hUoRg5l6qz0ZcjT4WySaTAWw#MJMATHI-6A" x="1679" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mo>=</mo><mi>j</mi></math></span></span><script type="math/tex" id="MathJax-Element-57">i = j</script>.</p><br>
<p>      50%    .      10%.</p><br>
<h2 id="bonus-pohozhie-filmy">:  </h2><br>
<p>,         «»    ,       ?  ,     —    —  .</p><br>
<p><img src="https://habrastorage.org/webt/pa/zp/bt/pazpbtfnwf1idcvg-qijo5wksac.jpeg" alt="   "></p><br>
<p>   :               .     .   —  -     .</p><br>
<p><img src="https://habrastorage.org/webt/ng/op/lf/ngoplf1c7oow_rrqxw6_lmujgwo.jpeg" alt="   Rekko   "></p><br>
<h2 id="tehnicheskaya-realizaciya"> </h2><br>
<p>        . Rekko    : lynch, rekko-tasks  rekko-service.</p><br>
<p>Lynch     ,  ,         S3.</p><br>
<p> rekko-tasks  rekko-service     Okko        .      S3   ,          .        ,            .</p><br>
<p><img src="https://habrastorage.org/webt/i3/u3/ar/i3u3arrkx8ducuzbryj-efwzxmg.jpeg" alt=" "></p><br>
<p>   Python   falcon, gunicorn  gevent         -.        Okko,   .</p><br>
<p>Lynch   .</p><br>
<p>  ,       ?  :</p><br>
<ol>
<li>  ,     ;</li>
<li> ;</li>
<li>  ;</li>
<li> ;</li>
<li> ;</li>
<li> -;</li>
<li>.</li>
</ol><br>
<p>   ,             :</p><br>
<pre><code class="python hljs">data = extract_data()<font></font>
data = transform_data(data)<font></font>
<font></font>
mf_model = train_mf_model(data)<font></font>
candidates = build_candidates(mf_model)<font></font>
<font></font>
predictions = build_predictions(content_model, candidates)<font></font>
upload_predictions(predictions)</code></pre><br>
<p> ,  , ?  .  ,     - ?   -  .    ,         ,      .</p><br>
<p>,        ,         ,          .         .         ,    ,    .      ,   —    .</p><br>
<p>,      .             .   ,       ,  .</p><br>
<p><img src="https://habrastorage.org/webt/le/ou/1r/leou1rkpcgl-g9mkkwygytfgwvu.jpeg" alt="  "></p><br>
<p> .           .         ,      ,      ,   ,         -     .        ,       (Directed Acyclic Graph, DAG).</p><br>
<p><img src="https://habrastorage.org/webt/-e/cc/nw/-eccnwex1lkhzeha9qwnk0er6au.jpeg" alt=" DAG"></p><br>
<p>DAG —      .       DAG: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Airflow</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Luigi</a>.   Okko   . Luigi   Spotify,  ,    ,        .</p><br>
<p>  Luigi  ,   <code>luigi.Task</code>     : <code>requires</code>, <code>output</code>  <code>run</code>.     :</p><br>
<pre><code class="python hljs"><span class="hljs-comment"># RekkoTask  luigi.Task  </span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DoSomething</span>(<span class="hljs-params">RekkoTask</span>):</span>
    <span class="hljs-comment">#  </span><font></font>
    date: datetime.datetime = luigi.DateSecondParameter()<font></font>
<font></font>
    <span class="hljs-comment">#  </span><font></font>
    resources = {<font></font>
        <span class="hljs-string">'cores'</span>: <span class="hljs-number">4</span>,
        <span class="hljs-string">'aws'</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">'memory'</span>: <span class="hljs-number">8</span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment"># Namespace    </span>
    task_namespace = <span class="hljs-string">'Transform'</span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">requires</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment"># ,         </span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'data'</span>: DownloadData(date=self.date),
            <span class="hljs-string">'element_mapping'</span>: MakeElementMapping(date=self.date)<font></font>
        }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">output</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment">#     </span>
        <span class="hljs-comment">#       ,        s3</span>
        <span class="hljs-keyword">return</span> luigi.LocalTarget(<font></font>
            os.path.join(self.data_root, <span class="hljs-string">f'some_output_<span class="hljs-subst">{self.date}</span>.msg'</span>),<font></font>
            format=luigi.format.Nop<font></font>
        )<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment">#  ,    </span><font></font>
<font></font>
        <span class="hljs-comment">#     </span>
        <span class="hljs-keyword">with</span> self.input()[<span class="hljs-string">'data'</span>].open(<span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:<font></font>
            data = pd.read_csv(f)<font></font>
<font></font>
        <span class="hljs-keyword">with</span> self.input()[<span class="hljs-string">'element_mapping'</span>].open(<span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:<font></font>
            element_mapping = json.load(f)<font></font>
<font></font>
        <span class="hljs-comment">#      </span><font></font>
        result = ...<font></font>
<font></font>
        <span class="hljs-comment">#         Splunk</span><font></font>
        self.log(<font></font>
            n_results=len(result)<font></font>
        )<font></font>
<font></font>
        <span class="hljs-comment">#   </span>
        <span class="hljs-keyword">with</span> self.output().open(<span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:<font></font>
            result.to_msgpack(f)</code></pre><br>
<p>Luigi    ,           .     ,    ,   CPU     .  -    ,            .    ,    ,  .  , ,              .</p><br>
<p>   Lynch   47  ,   100  .      ,  —        BI  Splunk.        Lynch      .    ,    .</p><br>
<h2 id="monitoring-splity-i-rezultaty">,   </h2><br>
<p><img src="https://habrastorage.org/webt/lc/3p/5j/lc3p5jberk7xqscaocnrr01bxja.jpeg"></p><br>
<p>  Data Science:       Data Science.   Data Science: ,   ,  .</p><br>
<p>    .    ,  ,     .                .</p><br>
<p>        ,   .    ,      ,     -  .             «»  ,    .        ,  A/B      -.</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/655/c71/0c9/655c710c96fa12b795f4a0457d592b47.png"></p><br>
<p> ,      , , ,   . .       ,           -.</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/b0c/494/02a/b0c49402add8febc6b6d667e766f32df.png"></p><br>
<p>        .                .</p><br>
<p>, ,  ,     — -.      -   :</p><br>
<ol>
<li>       (TVOD / SVOD revenue);</li>
<li>    (average revenue per visitor, ARPV);</li>
<li>  (average price per purchase, APPP);</li>
<li>     (average purchases per user, APPU);</li>
<li>   (CR to purchase);</li>
<li>     (CR to watch);</li>
<li>    (CR to trial).</li>
</ol><br>
<p>         «»  «»      ,          .</p><br>
<p>       :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/fd7/fcd/79f/fd7fcd79f0d63925319dc394844b6dc4.jpg"></p><br>
<p>     ,       ,           .         Rekko  ,             .   A/B      :</p><br>
<ul>
<li>ARPV +3.5%</li>
<li>ARPV    +5%</li>
<li>APPU +4.3%</li>
<li>CR to trial +2.6%</li>
<li>CR to watch +2.5%</li>
<li>APPP -1%</li>
</ul><br>
<p>  -      :    .      .     —       .          ,    , , .        ,         .</p><br>
<p>              .</p><br>
<h2 id="rekko-challenge">Rekko Challenge</h2><br>
<p> 18   18  2019      Boosters  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a> Rekko Challenge,           .</p><br>
<p><img src="https://habrastorage.org/webt/lc/93/ef/lc93efrsjm1w45ud7ftqev9leus.png" alt="  Rekko Challenge"> </p><br>
<p>    ,   ,   . ,     ,     RNN.               .</p><br>
<p> ,     ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>,     .</p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>   ,   ,    ,          .</p><br>
<h2 id="zaklyuchenie"></h2><br>
<p>     ,      —    ,    .  —   ,         .</p><br>
<p>           Okko,       .</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja454210/index.html">忘れられたenchantjs +新しい1C-Bitrix =顧客の動機付けのためのゲーム</a></li>
<li><a href="../ja454214/index.html">ほとんどすべてのソフトウェアが嫌い</a></li>
<li><a href="../ja454216/index.html">すべての変更が順序とチャンスの混合であるという証拠が見つかりました</a></li>
<li><a href="../ja454220/index.html">2桁温度計</a></li>
<li><a href="../ja454222/index.html">PCIe 1.0-2.0バスを備えた古いサーバーのディスクサブシステムのアップグレード</a></li>
<li><a href="../ja454226/index.html">円筒磁区の記憶。パート1.仕事の原則</a></li>
<li><a href="../ja454232/index.html">グラフィカルプログラミング言語でのOOP。パート2 MOSとOOP</a></li>
<li><a href="../ja454236/index.html">ANKIが外国語の学習と面接の準備にどのように役立つかについての2つのストーリー</a></li>
<li><a href="../ja454238/index.html">マーヴィン・ミンスキー「The Emotion Machine」（ハブラ訳、第2ラウンド）</a></li>
<li><a href="../ja454240/index.html">ウェーブレット分析。パート3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>