<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎇 👨🏻‍💻 🕹️ Construire un bot Telegram dans Yandex.Cloud 👨🏻‍🚀 ⏮️ 👩🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, à partir des documents disponibles, nous assemblerons un  bot Telegram dans Yandex.Cloud en utilisant les fonctions cloud Yandex (ou fonc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Construire un bot Telegram dans Yandex.Cloud</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486876/"><img src="https://habrastorage.org/webt/d7/xr/z6/d7xrz6dc2muckkxmtvcvdkofzo0.jpeg" alt="Création d'un bot télégramme"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui, à partir des documents disponibles, nous </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assemblerons un</font></font></i></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bot Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans </font><i><font style="vertical-align: inherit;">Yandex.Cloud en</font></i><font style="vertical-align: inherit;"> utilisant les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonctions cloud Yandex</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonctions Yandex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour faire court) et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex Object Storage</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Object Storage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour plus de clarté). Le code sera sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cependant, il y a une circonstance épicée - une sorte d'organisation appelée, par </font><font style="vertical-align: inherit;">exemple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RossKomTsenzur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (censure est interdite par l' </font><font style="vertical-align: inherit;">article 29 de la Constitution), ne permet pas aux </font><font style="vertical-align: inherit;">fournisseurs de services Internet pour envoyer des </font><font style="vertical-align: inherit;">requêtes vers la </font><font style="vertical-align: inherit;">Russie </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Télégramme</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à: </font></font><code>https://api.telegram.org/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Eh bien, nous ne le ferons pas - non, non, non. En effet, dans notre sac il y a ce qu'on appelle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webhooks</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- avec leur aide, nous ne faisons pas de demandes à une adresse spécifique, mais nous envoyons simplement votre demande en réponse à toute demande. </font><font style="vertical-align: inherit;">Autrement dit, comme à Odessa - nous répondons à la question par une question. </font><font style="vertical-align: inherit;">Par conséquent, l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'apparaîtra pas dans notre code.</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement</font></font></b>
                        <div class="spoiler_text"><i>     -    ,         — . </i> <br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, nous ferons un bot qui nous fournira des pensées intelligentes. </font><font style="vertical-align: inherit;">Tout comme dans l'image: </font><font style="vertical-align: inherit;">
vous pouvez l'essayer en action - voici le nom: </font><b><i><font style="vertical-align: inherit;">@SmartThoughtsBot</font></i></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Avez-vous remarqué le bouton </font><i><font style="vertical-align: inherit;">Alice Skill</font></i><font style="vertical-align: inherit;"> ? </font><font style="vertical-align: inherit;">C'est parce que le bot est une sorte de «compagnon» pour </font><i><font style="vertical-align: inherit;">la compétence d'Alice du</font></i><font style="vertical-align: inherit;"> même nom </font><font style="vertical-align: inherit;">, c'est-à-dire </font><font style="vertical-align: inherit;">il remplit les mêmes fonctions que </font><i><font style="vertical-align: inherit;">la compétence d'Alice</font></i><font style="vertical-align: inherit;"> et il est possible qu'ils puissent coexister pacifiquement en se faisant de la publicité. </font><font style="vertical-align: inherit;">Comment créer la </font><i><font style="vertical-align: inherit;">compétence Pensées intelligentes est</font></i><font style="vertical-align: inherit;"> décrite dans l'article </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><i><font style="vertical-align: inherit;">Alice acquiert la compétence</font></i></b></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Maintenant (après avoir apporté quelques modifications après la publication de l'article ci-dessus) sur un smartphone, cette </font><i><font style="vertical-align: inherit;">compétence</font></i><font style="vertical-align: inherit;"> ressemblera à ceci:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/zv/li/mo/zvlimoersu8dl6uefqgrqmc8ac8.png" alt="Télégramme bot Pensées intelligentes"></a><br>
<br><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><i><font style="vertical-align: inherit;"></font></i></b></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/kv/iv/ew/kvivewhmhzkelg2knxejacsipsm.png" alt="Pensées intelligentes de la compétence d'Alice"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Création de bots</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'aimerais que ce tutoriel soit utile à tout le monde, y compris et "botanistes" débutants. Par conséquent, dans cette section, je vais décrire en détail comment créer des </font><font style="vertical-align: inherit;">robots </font><font style="vertical-align: inherit;">dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour ceux qui n'ont pas besoin de ces informations, passez aux sections suivantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous ouvrons l'application </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegaram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , appelons le père de tous les bots (ils ont tout comme les gens) - </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@BotFather</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - et nous lui donnons d'abord la commande / help pour rafraîchir ce que nous pouvons faire. Nous allons maintenant nous intéresser à la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commande / newbot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lr/ht/hg/lrhthg8dd3ckzigfiwvhx5sndbo.png" alt="Créer un nouveau bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que le bot décrit ici a déjà été créé, à des fins de démonstration, je vais créer un autre bot pendant une courte période (puis je le supprimerai). Je l'appellerai </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DemoHabrBot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Noms ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nom d'utilisateur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) tous les bots de télégrammes doivent se terminer par le mot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , par exemple: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MyCoolBot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_cool_bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - c'est pour les bots. Mais d'abord, donnez un nom au bot ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nom</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - et c'est pour les gens. Le nom peut être dans n'importe quelle langue, contenir des espaces, ne doit pas nécessairement se terminer par le mot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et ne doit même pas être unique. Dans cet exemple, j'ai appelé ce bot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo Habr</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ah/m6/or/ahm6ors6d-tztj_krupnu-kxfqu.png" alt="Nom du bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sélectionnez maintenant le nom du bot (nom d' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisateur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , celui des bots). </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allons</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appellent </font><i><font style="vertical-align: inherit;">DemoHabrBot</font></i><font style="vertical-align: inherit;"> . Tout ce qui concerne le nom du bot ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nom</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ne s'applique pas du tout à son nom - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nom d'utilisateur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ou s'applique, mais exactement le contraire). Après avoir créé avec succès un nom de bot unique, nous devons copier et enregistrer (dans la plus stricte confidentialité!) Le jeton montré dans la capture d'écran avec une flèche rouge. Avec cela, nous installerons un peu plus tard le </font><font style="vertical-align: inherit;">webhook </font><font style="vertical-align: inherit;">provenant de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur notre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction Yandex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><i><font style="vertical-align: inherit;">Donnons</font></i></font><br>
<br>
<img src="https://habrastorage.org/webt/d4/3p/yz/d43pyzckl215byocc0_8zawkdxk.png" alt="Nom du bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
maintenant la commande au père de tous les bots: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ mybots</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et il nous montrera une liste de tous les bots que nous avons créés. Laissons simplement le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo Habr du</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bot fraîchement cuit </font><font style="vertical-align: inherit;">(il a été créé pour montrer comment créer des bots, mais nous allons l'utiliser aujourd'hui à d'autres fins de démonstration), et considérons le bot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smart Thoughts</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@SmartThoughtsBot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Appuyez sur le bouton avec son nom dans la liste des bots.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/t5/x0/b8/t5x0b8hcok0tyfbziu_f-rvwzcy.png" alt="Paramètres du bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous pouvons configurer notre bot. En cliquant sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifier ...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous continuerons à modifier telle ou telle option. Par exemple, en cliquant sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifier le nom,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous pouvons changer le nom du bot, par exemple au lieu de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pensées intelligentes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , écrire des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idées délirantes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Botpic</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un avatar de bot, doit mesurer au moins </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">150 x 150 px</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une brève description que l'utilisateur voit au premier démarrage du bot, comme réponse à la question: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que peut faire ce bot? </font></font></i> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À propos</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une description encore plus courte qui est transmise avec un lien vers le bot ( </font></font><code>https://t.me/SmartThoughtsBot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ou lors de la visualisation d'informations à son sujet.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9d/gz/64/9dgz64vehf4oyadmnrirllsnux0.png" alt="Bot: description et brèves informations"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il suffit de configurer l'équipe. </font><font style="vertical-align: inherit;">Pour ce faire, cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifier les commandes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour standardiser la pratique des utilisateurs, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recommande de toujours utiliser deux commandes: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ start</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ help</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et si le bot a besoin de paramètres, une commande / paramètres supplémentaires. </font><font style="vertical-align: inherit;">Notre bot est simple comme une balle, il n'a donc pas encore besoin de réglages. </font><font style="vertical-align: inherit;">Nous écrivons les deux premières commandes, que nous traitons ensuite dans le code. </font><font style="vertical-align: inherit;">Maintenant, si l'utilisateur entre une barre oblique (barre oblique: /) dans le champ de saisie, une liste de commandes pour sa sélection rapide apparaîtra. </font><font style="vertical-align: inherit;">Tout est comme dans l'image: à gauche - nous définissons les commandes via le bot-père; </font><font style="vertical-align: inherit;">à droite, ces commandes sont déjà disponibles pour les utilisateurs de notre bot.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qm/7k/lv/qm7klvn5vmb1yj8qd8hgkavn-0u.png" alt="Installation et utilisation dans la commande bot"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonction Yandex</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que notre bot est créé, allez sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex. Cloud</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour créer une fonction qui exécutera le code de notre bot. Si vous n'avez pas encore travaillé avec </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Cloud</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">lisez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le</font></font></i></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> matériel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><i><font style="vertical-align: inherit;">d'Alice dans le pays de Bitrix</font></i></b></a><font style="vertical-align: inherit;"> , puis les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonctions Yandex envoient du courrier</font></font></i></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Je suis à peu près sûr que ces deux articles relativement petits vous suffiront pour avoir une compréhension de base du sujet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, dans la console </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Cloud</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le menu de navigation de gauche, sélectionnez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctions cloud</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puis cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer une fonction</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous lui donnons un nom et pour elle-même une brève description. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-x/5w/vg/-x5wvg3arb1_ubuhzd6pyb8u3yc.png" alt="Création d'une fonction Yandex"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir cliqué sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et après quelques secondes, une nouvelle fonction apparaîtra dans la liste de toutes les fonctions. Cliquez sur son nom - cela nous mènera à la page </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Présentation</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><font style="vertical-align: inherit;">notre fonction. Ici, vous devez activer ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) le commutateur de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction publique</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> afin qu'il devienne accessible de l'extérieur (pour </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Cloud</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), et que la valeur des champs </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lien d'appel</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Identifiant</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> soit gardée secrète pour tout le monde sauf vous et Télégramme afin que votre fonction divers escrocs ne pouvaient pas appeler. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ig/ok/ae/igokaervkrjcizyomqg7onz7ti8.png" alt="Propriétés de la fonction Yandex"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, en utilisant le menu de gauche, allez dans l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éditeur de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonctions. Mettons de côté nos </font><i><font style="vertical-align: inherit;">pensées intelligentes</font></i><font style="vertical-align: inherit;"> pendant une courte période.</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et créer un modèle de fonction minimal pour tester les performances de notre bot ... Cependant, dans ce contexte, cette fonction est notre bot ... En bref, maintenant et ici, nous allons créer un bot simple qui sera "miroir" (c'est-à-dire renvoyé ) les demandes des utilisateurs. Ce modèle peut toujours être utilisé lors de la création de nouveaux robots de télégramme pour s'assurer que la communication avec </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonctionne correctement. Cliquez sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un fichier</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , appelez-le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et, dans l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éditeur de code en</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ligne </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> collez le code suivant dans ce fichier:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">module</span>.exports.bot = <span class="hljs-keyword">async</span> (event) =&gt; {<font></font>
  <font></font>
  <span class="hljs-keyword">const</span> body = <span class="hljs-built_in">JSON</span>.parse(event.body);<font></font>
<font></font>
  <span class="hljs-keyword">const</span> msg = {
    <span class="hljs-string">'method'</span>: <span class="hljs-string">'sendMessage'</span>,
    <span class="hljs-string">'chat_id'</span>: body.message.chat.id,
    <span class="hljs-string">'text'</span>: body.message.text<font></font>
  };<font></font>
<font></font>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-string">'statusCode'</span>: <span class="hljs-number">200</span>,
    <span class="hljs-string">'headers'</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span><font></font>
    },<font></font>
    <span class="hljs-string">'body'</span>: <span class="hljs-built_in">JSON</span>.stringify(msg),
    <span class="hljs-string">'isBase64Encoded'</span>: <span class="hljs-literal">false</span><font></font>
  };<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la console Yandex.Cloud, cela devrait ressembler à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/ek/bx/edekbx2vae-vw3luea9mkt-rt_0.png" alt="Le code du bot le plus simple sur les fonctions Yandex"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, juste en dessous, nous </font><i><font style="vertical-align: inherit;">spécifions le </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">point d'entrée</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , où </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le nom du fichier ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le nom de la fonction ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module.exports.bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Nous laissons tous les autres champs «tels quels» et, dans le coin supérieur droit, cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer une version</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Après quelques secondes, cette version de la fonction sera créée. </font><font style="vertical-align: inherit;">Bientôt, après avoir testé le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webhook</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous créerons une nouvelle version - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smart Thoughts</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f6/zo/1m/f6zo1mhnhzbtchv9gqqp-tpe79u.png" alt="Point d'entrée de la fonction Yandex"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage d'objets</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons établi la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction Yandex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , laissez-nous pendant que nous sommes dans la console </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandeks.Oblaka</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , créer un soi-disant un seau ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seau</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , c'est-à-dire un seau en russe, en aucun cas un bouquet) pour stocker les fichiers image qui seront utilisés dans notre bot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smart Thoughts</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans le menu de navigation de gauche, sélectionnez l'élément </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage d'</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> objets </font><font style="vertical-align: inherit;">, cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un compartiment</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , attribuez-lui un nom, par exemple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">img-bucket</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et, plus important encore, </font><font style="vertical-align: inherit;">nous rendons public l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">accès aux objets lus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - sinon Telegram ne verra pas nos images. Tous les autres champs restent inchangés. Cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer un compartiment</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g_/qo/i8/g_qoi8a480lrlddbydfvwu-rubc.png" alt="Construction du seau."><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après cela, la liste de tous les compartiments peut ressembler à ceci (si c'est votre seul compartiment): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xp/tf/te/xptftekqj2u_nol6kvgva0qdzei.png" alt="Liste de seaux"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, je suggère de cliquer sur le nom du compartiment et de créer un dossier à l'intérieur pour organiser le stockage des images pour différentes applications. Par exemple, pour le bot télégramme </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Smart Thoughts,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai créé un dossier appelé </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tg-bot-smart-pensées</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (rien, je comprends ce chiffre). Créez aussi certains d'entre vous. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ip/2j/mt/ip2jmt3wrxgnc3ft5le8_ujvvk4.png" alt="Création d'un dossier dans un compartiment"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, vous pouvez cliquer sur le nom du dossier, y accéder et télécharger des fichiers: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b4/f1/d_/b4f1d_-ohc4jzqezv7wqlwuy0xy.png" alt="Téléchargement d'un fichier dans un dossier dans un compartiment"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et en cliquant sur le nom du fichier - obtenez son </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à utiliser dans notre bot, et généralement quelque part (mais, ne publiez pas cette </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inutilement, car le trafic provenant du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stockage d'objets est</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> facturé ) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/va/mh/qb/vamhqbzx_grjoq_ybd843pd57he.png" alt="Obtention d'une adresse de fichier dans le stockage d'objets"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est, en fait, tout avec</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage d'objets</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vous saurez maintenant quoi faire lorsque vous verrez un appel pour y télécharger des fichiers.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webhook</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons maintenant installer un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webhook</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - c'est-à-dire lorsque le bot reçoit une mise à jour (par exemple, un message de l'utilisateur), une </font><i><font style="vertical-align: inherit;">demande</font></i><font style="vertical-align: inherit;"> avec des données </font><font style="vertical-align: inherit;">sera envoyée de </font><font style="vertical-align: inherit;">notre </font><font style="vertical-align: inherit;">serveur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à notre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction Yandex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Voici une ligne que vous pouvez simplement insérer dans le champ d'adresse du navigateur puis actualiser la page (cela ne doit être fait qu'une seule fois): </font><font style="vertical-align: inherit;">
Remplacez simplement </font><i><font style="vertical-align: inherit;">{bot_token}</font></i><font style="vertical-align: inherit;"> par le jeton que nous avons reçu du père du bot lors de la création de notre bot, et </font><i><font style="vertical-align: inherit;">{webhook_url}</font></i><font style="vertical-align: inherit;"> avec l' </font><i><font style="vertical-align: inherit;">URL</font></i><font style="vertical-align: inherit;"> notre </font><i><font style="vertical-align: inherit;">fonction Yandex</font></i><font style="vertical-align: inherit;"> . Juste un moment! Mais </font><i><font style="vertical-align: inherit;">RossKomTsensur</font></i><font style="vertical-align: inherit;"> interdit aux fournisseurs de la Fédération de Russie de servir l'adresse</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>https://api.telegram.org/bot{bot_token}/setWebHook?url={webhook_url}</code><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>https://api.telegram.org</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Oui c'est vrai. </font><font style="vertical-align: inherit;">Mais vous venez avec quelque chose. </font><font style="vertical-align: inherit;">Après tout, vous pouvez, par exemple, interroger votre grand-mère à ce sujet en Ukraine, en Israël ou au Canada - il n'y a pas de «commentaires russes» là-bas, et un dieu sait comment les gens vivent sans. </font><font style="vertical-align: inherit;">Par conséquent, la requête-réponse lors de l'installation d'un hook Web doit ressembler à ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/uw/s0/xfuws0k7aq1vtubr7kzon_eyqea.png" alt="Installation de Webhook"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Test. </font><font style="vertical-align: inherit;">Il devrait "refléter". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iv/8e/mm/iv8emmma9ind34jwiz0j-0nzux8.png" alt="Premier test de bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et voici. </font><font style="vertical-align: inherit;">Félicitations - maintenant la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction Yandex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est devenue un </font><font style="vertical-align: inherit;">bot </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pensées intelligentes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, nous faisons des pensées intelligentes. </font><font style="vertical-align: inherit;">Le code est ouvert et se trouve sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></i></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Elle est assez bien commentée et ne contient que cent lignes. </font><font style="vertical-align: inherit;">Lisez-le comme un livret de diva d'opéra! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ve/tu/am/vetuamgudx8apzad7wtia0omef8.png" alt="Réflexions intelligentes sur le code bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clonez le projet et installez les dépendances:</font></font><br>
<br>
<pre><code class="plaintext hljs">git clone https://github.com/stmike/tg-bot-smart-thoughts.git<font></font>
cd tg-bot-smart-thoughts<font></font>
npm i<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apportez les modifications nécessaires au fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (facultatif; vous ne pouvez rien changer). </font><font style="vertical-align: inherit;">Créer </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zip -</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Secondaire, le fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le dossier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node_modules</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans, par exemple, sous le nom </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smart.zip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8x/pw/f8/8xpwf8ztj_tsygkua5mnmw_6bcs.png" alt="Archive ZIP du bot Smart Thoughts"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Accédez maintenant à nos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonctions Yandex</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans la console </font><font style="vertical-align: inherit;">, sélectionnez l'onglet </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archive ZIP</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sélectionner un fichier</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et téléchargez notre archive </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smart.zip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Enfin, dans le coin supérieur droit, cliquez sur le bouton </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Créer une version</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lw/hs/3q/lwhs3qxapmdrl3vbpyefgtwm2r4.png" alt="Création d'une version de travail du bot"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après quelques secondes, lorsque la fonction sera mise à jour, nous testerons à nouveau notre bot. </font><font style="vertical-align: inherit;">Maintenant, il ne fait plus de «miroirs», mais émet des pensées intelligentes!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/rw/aj/rhrwajxdbkj-vwuzbwfeyc2ygws.png" alt="Achèvement du bot Smart Thoughts"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Références</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub </font></font></i></b></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex Cloud Functions </font></font></i></b></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex Object Storage </font></font></i></b></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bots: Une introduction pour les développeurs </font></font></i></b></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;">Telegram Bot API </font></i></b></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;">code</font></i></b></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"></font></i></b></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout pour aujourd'hui. </font><font style="vertical-align: inherit;">D'autres documents suivent. </font><font style="vertical-align: inherit;">À qui il est intéressant de lire, abonnez-vous aux notifications de nouvelles publications. </font><font style="vertical-align: inherit;">Vous pouvez vous abonner sur ce site (le bouton </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S'abonner</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ci-dessous), ou sur la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chaîne Telegram </font></font></i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IT Tutorial Zakhar</font></font></i></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ou sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">communauté du</font></font></i></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> même nom </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;">sur VK</font></i></b></a><font style="vertical-align: inherit;"> , ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter </font></font></i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@mikezaharov</font></font></i></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beignets</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/t7/ql/ms/t7qlmsob_3jtyzlm6vtroxvoave.jpeg" alt="Donut"><br>
</a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr486876/">https://habr.com/ru/post/fr486876/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr486866/index.html">Synchronous Fuete: Moteurs biologiques en nanotechnologie</a></li>
<li><a href="../fr486868/index.html">Pourquoi et pour qui nous faisons Slime Agile</a></li>
<li><a href="../fr486870/index.html">Comment nous avons éliminé la fraude de la hutte</a></li>
<li><a href="../fr486872/index.html">Linux Configuration du clavier</a></li>
<li><a href="../fr486874/index.html">Coronavirus 2019-nCoV: mortalité faible, mortalité élevée</a></li>
<li><a href="../fr486878/index.html">Ailes, jambes et queues</a></li>
<li><a href="../fr486880/index.html">Erreurs de traducteurs qui ont entraîné des conséquences désastreuses</a></li>
<li><a href="../fr486884/index.html">Une entreprise pharmaceutique japonaise commence à tester des médicaments synthétisés à l'aide d'un réseau neuronal</a></li>
<li><a href="../fr486888/index.html">Le livre «Object-Oriented Approach. 5e int. éd. "</a></li>
<li><a href="../fr486890/index.html">Développement personnel: comment je ne me suis pas assis sur deux chaises et en ai trouvé un troisième</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>