<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ğŸ½ ğŸ‘­ ğŸ“´ ConferÃªncia DEVOXX UK. Escolha uma estrutura: Docker Swarm, Kubernetes ou Mesos. Parte 2 ğŸ‘¨ğŸ¼â€ğŸ­ ğŸŠ â—</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Docker Swarm, Kubernetes e Mesos sÃ£o as estruturas de orquestraÃ§Ã£o de contÃªineres mais populares. Em seu discurso, Arun Gupta compara os seguintes asp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ConferÃªncia DEVOXX UK. Escolha uma estrutura: Docker Swarm, Kubernetes ou Mesos. Parte 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/506590/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker Swarm, Kubernetes e Mesos sÃ£o as estruturas de orquestraÃ§Ã£o de contÃªineres mais populares. </font><font style="vertical-align: inherit;">Em seu discurso, Arun Gupta compara os seguintes aspectos do trabalho de Docker, Swarm e Kubernetes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvimento local.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos de implantaÃ§Ã£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplicativos multicontainer.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descoberta de serviÃ§o descoberta de serviÃ§o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServiÃ§o de dimensionamento.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AtribuiÃ§Ãµes executadas uma vez.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IntegraÃ§Ã£o com o Maven.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma atualizaÃ§Ã£o "contÃ­nua".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando um cluster de banco de dados do Couchbase.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, vocÃª terÃ¡ uma idÃ©ia clara do que cada instrumento de orquestraÃ§Ã£o tem a oferecer e aprenderÃ¡ como usar essas plataformas de maneira eficaz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arun Gupta Ã© o principal tecnÃ³logo de produtos de cÃ³digo aberto da Amazon Web Services que desenvolve as comunidades de desenvolvedores Sun, Oracle, Red Hat e Couchbase hÃ¡ mais de 10 anos. Ele tem uma vasta experiÃªncia trabalhando em liderar equipes multifuncionais envolvidas no desenvolvimento e implementaÃ§Ã£o de campanhas e programas de marketing. Ele liderou a equipe de engenharia da Sun, Ã© um dos fundadores da equipe Java EE e criador da filial americana do Devoxx4Kids. Arun Gupta Ã© autor de mais de 2 mil posts em blogs de TI e fez apresentaÃ§Ãµes em mais de 40 paÃ­ses.</font></font><a name="habracut"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConferÃªncia DEVOXX UK. Escolha uma estrutura: Docker Swarm, Kubernetes ou Mesos. Parte 1</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O conceito de escala da Scale significa a capacidade de controlar o nÃºmero de rÃ©plicas aumentando ou diminuindo o nÃºmero de instÃ¢ncias de aplicativos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fw/gv/v3/fwgvv3n1z5ac0srlzcdfpw93qxq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo: se vocÃª quiser dimensionar o sistema para 6 rÃ©plicas, use o comando docker service scale web = 6. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juntamente com o conceito de ServiÃ§o Replicado no Docker, existe o conceito de ServiÃ§o Global de serviÃ§os compartilhados. Digamos que eu queira executar uma instÃ¢ncia do mesmo contÃªiner em cada nÃ³ do cluster; nesse caso, Ã© um contÃªiner do aplicativo de monitoramento da web Prometheus. Esse aplicativo Ã© usado quando vocÃª precisa coletar mÃ©tricas sobre a operaÃ§Ã£o de hosts. Nesse caso, vocÃª usa o subcomando - - mode = global - - name = prom prom / Prometheus.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oy/33/4b/oy334but50yvcsudtdiufymmirg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, o aplicativo Prometheus serÃ¡ iniciado em todos os nÃ³s do cluster, sem exceÃ§Ã£o, e se novos nÃ³s forem adicionados ao cluster, ele serÃ¡ iniciado automaticamente no contÃªiner e nesses nÃ³s. Espero que vocÃª entenda a diferenÃ§a entre ServiÃ§o Replicado e ServiÃ§o Global. Geralmente, o ServiÃ§o Replicado Ã© onde vocÃª inicia.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kn/aw/fn/knawfnwwuw8w3blgvr5u-gfrgv8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, examinamos os conceitos bÃ¡sicos ou entidades bÃ¡sicas do Docker e agora consideraremos as entidades do Kubernetes. O Kubernetes tambÃ©m Ã© um tipo de planejador, uma plataforma para orquestraÃ§Ã£o de contÃªineres. Deve-se lembrar que o principal conceito do planejador Ã© saber como agendar contÃªineres em hosts diferentes. Se vocÃª for para um nÃ­vel superior, podemos dizer que orquestraÃ§Ã£o significa expandir seus recursos para gerenciar clusters, obter certificados etc. Nesse sentido, o Docker e o Kubernetes sÃ£o plataformas de orquestraÃ§Ã£o, ambas com um planejador interno.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A orquestraÃ§Ã£o Ã© um gerenciamento automatizado de entidades relacionadas - clusters de mÃ¡quinas virtuais ou contÃªineres. Kubernetes Ã© uma coleÃ§Ã£o de serviÃ§os que implementam um cluster de contÃªineres e sua orquestraÃ§Ã£o. Ele nÃ£o substitui o Docker, mas expande significativamente seus recursos, simplificando o gerenciamento de implantaÃ§Ã£o, roteamento de rede, consumo de recursos, balanceamento de carga e tolerÃ¢ncia a falhas dos aplicativos em execuÃ§Ã£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comparado ao Kubernetes, o Docker concentra-se em trabalhar com contÃªineres, criando suas imagens usando um arquivo docker. Se vocÃª comparar os objetos Docker e Kubernetes, poderÃ¡ dizer que o Docker gerencia os contÃªineres, enquanto o Kubernetes gerencia o prÃ³prio Docker.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quantos de vocÃªs jÃ¡ lidaram com contÃªineres Rocket? AlguÃ©m usa Rocket em produÃ§Ã£o? Apenas uma pessoa levantou a mÃ£o no corredor, esta Ã© uma imagem tÃ­pica. Essa Ã© uma alternativa ao Docker, que ainda nÃ£o se enraizou na comunidade de desenvolvedores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, a essÃªncia do Kubernetes Ã© o Pod. Ã‰ um grupo relacionado de contÃªineres que usam um espaÃ§o para nome comum, armazenamento compartilhado e endereÃ§o IP compartilhado. Todos os contÃªineres na lareira se comunicam atravÃ©s do host local. Isso significa que vocÃª nÃ£o poderÃ¡ colocar o aplicativo e o banco de dados no mesmo lar. Eles devem ser colocados em diferentes pods, porque possuem requisitos de escala diferentes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/7g/39/xw7g39gpxvoahlobcyzap0-dch8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, vocÃª pode colocar em um pod, por exemplo, um contÃªiner WildFly, um contÃªiner de login, um proxy ou um contÃªiner de cache, e deve abordar com responsabilidade a composiÃ§Ã£o dos componentes do contÃªiner que serÃ¡ dimensionado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Geralmente, vocÃª agrupa seu contÃªiner no conjunto de rÃ©plicas, porque deseja executar um certo nÃºmero de instÃ¢ncias na lareira. O Conjunto de rÃ©plicas solicita que vocÃª inicie quantas rÃ©plicas o serviÃ§o de dimensionamento do Docker exige e informa quando e como fazÃª-lo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os pods sÃ£o semelhantes aos contÃªineres, no sentido de que, se um pod falhar em um host, ele serÃ¡ reiniciado em um pod diferente com um endereÃ§o IP diferente. Como desenvolvedor Java, vocÃª sabe que quando cria um aplicativo java e ele se comunica com o banco de dados, nÃ£o pode confiar em um endereÃ§o IP dinÃ¢mico. Nesse caso, o Kubernetes usa o ServiÃ§o - esse componente publica o aplicativo como um serviÃ§o de rede, criando um nome de rede permanente estÃ¡tico para um conjunto de lareiras, enquanto equilibra simultaneamente a carga entre as lareiras. Pode-se dizer que esse Ã© o nome do serviÃ§o do banco de dados e o aplicativo java nÃ£o depende do endereÃ§o IP, mas apenas interage com o nome constante do banco de dados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso Ã© obtido pelo fato de que cada Pod Ã© fornecido com uma etiqueta especÃ­fica, armazenada no armazenamento distribuÃ­do etcd, e o ServiÃ§o monitora essas etiquetas, fornecendo um link entre os componentes. Ou seja, os pods e serviÃ§os interagem de maneira estÃ¡vel usando esses rÃ³tulos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ver como criar um cluster Kubernetes. Para isso, como no Docker, precisamos de um nÃ³ mestre e um nÃ³ de trabalho. Um nÃ³ em um cluster geralmente Ã© representado por uma mÃ¡quina fÃ­sica ou virtual. Aqui, como no Docker, o assistente Ã© uma estrutura de controle central que permite controlar todo o cluster por meio do gerenciador de agendador e controlador. Por padrÃ£o, um nÃ³ principal existe no singular, mas hÃ¡ muitas ferramentas novas que permitem criar vÃ¡rios nÃ³s principais.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p_/vz/vt/p_vzvtatvsax9qkpzam3g6qi-yk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O nÃ³ mestre fornece interaÃ§Ã£o do usuÃ¡rio usando o servidor API e contÃ©m o armazenamento distribuÃ­do etcd, que contÃ©m a configuraÃ§Ã£o do cluster, o status de seus objetos e metadados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os nÃ³s de trabalho do nÃ³ de trabalho sÃ£o projetados exclusivamente para a execuÃ§Ã£o de contÃªineres; para isso, eles tÃªm dois serviÃ§os Kubernetes instalados - um roteador de rede de serviÃ§o proxy e um agente do agendador kubelet. Enquanto esses nÃ³s estÃ£o em execuÃ§Ã£o, o Docker os monitora usando systemd (CentOS) ou monit (Debian), dependendo do sistema operacional que vocÃª estÃ¡ usando.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere a arquitetura Kubernetes de forma mais ampla. Temos um mestre, que inclui um servidor de API (pods, serviÃ§os etc.), gerenciado usando o CLI kubectl. O Kubectl permite criar recursos do Kubernetes. Ele envia comandos para o servidor da API, como "criar em", "criar serviÃ§o", "criar um conjunto de rÃ©plicas". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AlÃ©m disso, aqui estÃ£o o Scheduler, o Controller Manager e o repositÃ³rio etcd. O gerente do controlador, apÃ³s receber as instruÃ§Ãµes do servidor da API, mapeia rÃ³tulos de rÃ©plicas para rÃ³tulos da lareira, garantindo uma interaÃ§Ã£o estÃ¡vel entre os componentes. O planejador, tendo recebido a tarefa para criar under, varre os nÃ³s de trabalho e o cria onde Ã© fornecido. Naturalmente, ele obtÃ©m essas informaÃ§Ãµes do etcd.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, temos vÃ¡rios nÃ³s em funcionamento, e o servidor da API se comunica com os agentes Kubelet contidos neles, informando como os pods devem ser criados. Aqui estÃ¡ o proxy que fornece acesso a um aplicativo que usa esses pods. Meu cliente Ã© mostrado Ã  direita no slide - essa Ã© uma solicitaÃ§Ã£o da Internet, enviada ao balanceador de carga, que se refere ao proxy, que distribui a solicitaÃ§Ã£o por envio e envia a resposta de volta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p3/ap/gd/p3apgd2pykmapgqbmvzwk5krzd0.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VocÃª vÃª o slide final, que descreve o cluster Kubernetes e como todos os seus componentes funcionam.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos falar mais sobre o Service Discovery e o balanceador de carga do Docker. Quando vocÃª inicia seu aplicativo Java, isso geralmente acontece em vÃ¡rios contÃªineres em vÃ¡rios hosts. HÃ¡ um componente do Docker Compose, que facilita a execuÃ§Ã£o de aplicativos com vÃ¡rios contÃªineres. Descreve aplicativos multicontainer e os lanÃ§a usando um ou mais arquivos de configuraÃ§Ã£o yaml.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bs/tf/au/bstfau9gn_rprqjs1vsxljmhp5k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por padrÃ£o, esses sÃ£o os arquivos docker-compose.yaml e docker-compose.override.yaml, com vÃ¡rios arquivos especificados usando - f. No primeiro arquivo, vocÃª escreve o serviÃ§o, imagens, rÃ©plicas, tags, etc. O segundo arquivo Ã© usado para substituir a configuraÃ§Ã£o. Depois de criar o docker-compose.yaml, ele Ã© implantado no cluster de vÃ¡rios hosts que o Docker Swarm criou anteriormente. VocÃª pode criar um arquivo de configuraÃ§Ã£o bÃ¡sico, docker-compose.yaml, no qual adicionarÃ¡ arquivos de configuraÃ§Ã£o especÃ­ficos para diferentes tarefas, indicando portas, imagens, etc. especÃ­ficas, falaremos sobre isso mais tarde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste slide, vocÃª vÃª um exemplo simples de um arquivo de descoberta de serviÃ§o. A primeira linha indica a versÃ£o e a linha 2 indica que se refere aos serviÃ§os de banco de dados e da web.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/4y/ip/b-4yiphrszxkitrj1wsnlybscem.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quero que meu serviÃ§o da web se comunique com o db-service depois de "aumentar". Esses sÃ£o aplicativos java simples implantados em contÃªineres do WildFly. Na linha 11, escrevo o ambiente couchbase_URI = db. Isso significa que meu serviÃ§o db usa esse banco de dados. Na linha 4, a imagem couchbase Ã© indicada e, nas linhas 5-9 e 15-16, respectivamente, as portas necessÃ¡rias para garantir a operaÃ§Ã£o dos meus serviÃ§os.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chave para entender o processo de descoberta de serviÃ§o Ã© que vocÃª cria algum tipo de dependÃªncia. VocÃª indica que o contÃªiner da web deve iniciar antes do contÃªiner db, mas isso Ã© apenas no nÃ­vel do contÃªiner. Como sua aplicaÃ§Ã£o reage, como comeÃ§a - essas sÃ£o coisas completamente diferentes. Por exemplo, geralmente o contÃªiner "aumenta" em 3 a 4 segundos, no entanto, o lanÃ§amento do contÃªiner do banco de dados leva muito mais tempo. Portanto, a lÃ³gica do lanÃ§amento do seu aplicativo deve ser "assada" no seu aplicativo java. Ou seja, o aplicativo deve executar ping no banco de dados para garantir que esteja pronto. Como o banco de dados couchbase Ã© uma API REST, vocÃª deve chamar essa API e perguntar: â€œEi, vocÃª estÃ¡ pronto? Nesse caso, estou pronto para lhe enviar perguntas!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, as dependÃªncias no nÃ­vel do contÃªiner sÃ£o determinadas usando o serviÃ§o docker-compose, mas no nÃ­vel do aplicativo, as dependÃªncias e a viabilidade sÃ£o determinadas com base em pesquisas de responsabilidade. Em seguida, vocÃª pega o arquivo docker-compose.yaml e o implementa no Docker de vÃ¡rios hosts usando o comando docker stack deploy e o subcomando - - compose-file = docker-compose.yaml webapp. Portanto, vocÃª tem uma pilha grande na qual existem vÃ¡rios serviÃ§os que resolvem vÃ¡rios problemas. Basicamente, essas sÃ£o as tarefas de lanÃ§amento de contÃªineres.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6v/mc/1q/6vmc1qxqno204x2oaymesl-hrsc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ver como o balanceador de carga funciona. No exemplo acima, usando o comando docker service create, criei um serviÃ§o - o contÃªiner WildFly, especificando o nÃºmero da porta no formato 8080: 8080. Isso significa que a porta 8080 no host - a mÃ¡quina local - serÃ¡ mapeada para a porta 8080 dentro do contÃªiner, para que vocÃª possa acessar o aplicativo atravÃ©s do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host local</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 8080. Essa serÃ¡ a porta de acesso a todos os nÃ³s de trabalho. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6v/06/dc/6v06dcpdnkzfwwlb9e-_npqeqo0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se de que o balanceador de carga Ã© orientado a host, nÃ£o a contÃªiner. Ele usa as portas 8080 de cada host, independentemente de os contÃªineres estarem em execuÃ§Ã£o no host ou nÃ£o, porque agora o contÃªiner trabalha em um host e, apÃ³s a conclusÃ£o da tarefa, pode ser transferido para outro host.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, as solicitaÃ§Ãµes do cliente sÃ£o recebidas pelo balanceador de carga, ele as redireciona para qualquer um dos hosts e, usando a tabela de endereÃ§os IP, ele chega ao host com o contÃªiner nÃ£o executando, ele redireciona automaticamente a solicitaÃ§Ã£o ao host em que o contÃªiner estÃ¡ sendo executado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um salto Ãºnico nÃ£o Ã© caro, mas Ã© completamente "contÃ­nuo" em termos de escalar seus serviÃ§os para cima ou para baixo. GraÃ§as a isso, vocÃª pode ter certeza de que sua solicitaÃ§Ã£o irÃ¡ exatamente para o host em que o contÃªiner estÃ¡ sendo executado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ver como o Service Discovery no Kubernetes funciona. Como eu disse, um serviÃ§o Ã© uma abstraÃ§Ã£o na forma de um conjunto de lareiras com o mesmo endereÃ§o IP e nÃºmero de porta e um simples balanceador de carga TCP / UDP. O slide a seguir mostra o arquivo de configuraÃ§Ã£o do Service Discovery.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l2/_h/ew/l2_hew4bmc8dg_bsq0he-pf9dgy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criando recursos como pods, serviÃ§os, rÃ©plicas etc. </font><font style="vertical-align: inherit;">acontece com base no arquivo de configuraÃ§Ã£o. </font><font style="vertical-align: inherit;">VocÃª vÃª que Ã© dividido em 3 partes usando as linhas 17 e 37, que consistem apenas em - - -. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejamos a linha 39 primeiro - ela diz tipo: ReplicaSet, ou seja, o que estamos criando. </font><font style="vertical-align: inherit;">As linhas 40-43 contÃªm metadados, com as linhas 44 especificando a especificaÃ§Ã£o para o nosso conjunto de rÃ©plicas. </font><font style="vertical-align: inherit;">A linha 45 indica que eu tenho 1 rÃ©plica, seus rÃ³tulos estÃ£o listados abaixo; nesse caso, o nome Ã© wildfly. </font><font style="vertical-align: inherit;">Ainda mais baixo, comeÃ§ando na linha 50, Ã© indicado em quais contÃªineres essa rÃ©plica deve ser lanÃ§ada - isto Ã© wildfly-rs-pod, e as linhas 53-58 contÃªm a especificaÃ§Ã£o desse contÃªiner. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
23:05 min </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para continuar em breve ...</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1dgUXNVQS5o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco de publicidade :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrigado por ficar com a gente. VocÃª gosta dos nossos artigos? Deseja ver materiais mais interessantes? Ajude-nos fazendo um pedido ou recomendando aos seus amigos o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS na nuvem para desenvolvedores a partir de US $ 4,99</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analÃ³gico exclusivo de servidores </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bÃ¡sicos </font></font></a><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">que foi inventado por nÃ³s para vocÃª: </font></b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Toda a verdade sobre o VPS (KVM) E5-2697 v3 (6 nÃºcleos) 10GB DDR4 480GB SSD 1Gbps de 10GB de US $ 19 ou como dividir o servidor?</font></a><font style="vertical-align: inherit;"> (as opÃ§Ãµes estÃ£o disponÃ­veis com RAID1 e RAID10, atÃ© 24 nÃºcleos e atÃ© 40GB DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 vezes mais barato no data center Equinix Tier IV em AmsterdÃ£?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Somente nÃ³s temos </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na Holanda!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - de US $ 99! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia sobre</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Como criar um prÃ©dio de infraestrutura. </font><font style="vertical-align: inherit;">classe c usando servidores Dell R730xd E5-2650 v4 que custam 9.000 euros por um centavo?</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt506572/index.html">Criando uma loja on-line do SPA protÃ³tipo no htmlix.js</a></li>
<li><a href="../pt506574/index.html">VisualizaÃ§Ã£o de uma lista de mulheres vencedoras do PrÃªmio Nobel na forma de cristais em 3d usando Vue, WebGL, three.js</a></li>
<li><a href="../pt506578/index.html">Volume de chumbo gerenciado</a></li>
<li><a href="../pt506586/index.html">FizzBuzz lÃ³gico</a></li>
<li><a href="../pt506588/index.html">O que Ã© um algoritmo! (parte 2)</a></li>
<li><a href="../pt506594/index.html">Melhores prÃ¡ticas do Redis, parte 3</a></li>
<li><a href="../pt506598/index.html">Microsoft: Rust ÑĞ²Ğ»ÑĞµÑ‚ÑÑ 'Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¼ ÑˆĞ°Ğ½ÑĞ¾Ğ¼' Ğ² Ğ¾Ñ‚Ñ€Ğ°ÑĞ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ñ… ÑĞ¸ÑÑ‚ĞµĞ¼</a></li>
<li><a href="../pt506600/index.html">O contrato para o desenvolvimento do site em termos de gerenciamento de projetos (teoria + amostra)</a></li>
<li><a href="../pt506604/index.html">Simultaneidade e eficiÃªncia: Python vs FSM</a></li>
<li><a href="../pt506606/index.html">CriaÃ§Ã£o de clicker PIXI.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>