<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍤 🙎 🙍 Como organizamos a análise e o processamento de dados no DomKlik 🥚 👨🏼‍🍳 👵🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A análise e o processamento de dados são uma das áreas principais de qualquer empresa moderna. Em nossa casa, existe no DomKlik desde 2016, quando o p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como organizamos a análise e o processamento de dados no DomKlik</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/domclick/blog/505448/"><div style="text-align:center;"><img src="https://lh3.googleusercontent.com/T5qaTObLmM98bnRC5Jj-5B6-rapMOVW48XzxLO25Q1vWMoVhGcfoJw2O3b2edlX1CNCY1pGXqbskkNUhJvGBapIll9DKPHWDY0bOPY_hpyged7Khqevv4UJdf2pqzaOpQarf91Tv" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A análise e o processamento de dados são uma das áreas principais de qualquer empresa moderna. Em nossa casa, existe no DomKlik desde 2016, quando o primeiro cientista de dados foi contratado. Desde então, muita água fluiu, tarefas e prioridades mudaram, nós desenvolvemos. Hoje, temos cerca de 40 especialistas trabalhando nessa área. Uma metade desenvolve modelos de aprendizado de máquina e a outra mantém um loop de dados: cria um repositório, verifica a qualidade e assim por diante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece - o que é difícil - organizar o trabalho de várias equipes? </font><font style="vertical-align: inherit;">Existem dados, existem especialistas em seu processamento, em teoria, deveria haver lucro na saída? </font><font style="vertical-align: inherit;">No entanto, como mostra nossa experiência, a idéia simples de "fazer o bem é bom e fazer o mal é ruim" nem sempre funciona. </font><font style="vertical-align: inherit;">Precisamos procurar respostas para muitas perguntas - como incorporar equipes de Data Science em uma organização já estabelecida, como garantir alta qualidade e velocidade no desenvolvimento de modelos, como preencher com eficiência o backlog com novas tarefas - todas essas são as perguntas para as quais procurávamos respostas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meu nome é Alexei Kuzmin, lidero a direção da Data Science e trabalho com dados no DomKlik. </font><font style="vertical-align: inherit;">E neste artigo, falarei sobre como resolvemos esses problemas e como apoiamos o trabalho de uma equipe tão grande.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulários de organização</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos começar com a pergunta principal - como encaixar as equipes de ciência de dados em uma organização existente. Se você ler artigos e livros inteligentes, poderá distinguir três formas de organização do trabalho da unidade DS: centralizada, descentralizada e híbrida, é claro, cada uma tem suas próprias vantagens e desvantagens.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh5.googleusercontent.com/boUj-hmrAdDjoLa-ahB9aEpYv1PMaKMUHGd_cdUmT_f8M5F1FCOA0tCAXpuRAKxwSlFqOhOfJVRzFtoZiScWVPEytk0ZdxmCnRQhyQqvwS4_jEbQxMwb9PvfJnN9dO9wpo04b5uf" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um </font><font style="vertical-align: inherit;">esquema </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centralizado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , há uma ou mais equipes que desenvolvem modelos de ciência de dados. As equipes são um único centro de competência e as unidades de negócios da empresa são o cliente para elas. O esquema é bom, pois a lista de pendências de comandos de ciência de dados é transparente para o manual. Muitas vezes acontece que duas tarefas concorrentes vêm de diferentes unidades de negócios e, em seguida, você pode se concentrar na que será útil para a empresa como um todo e trará maiores benefícios. No entanto, com essa forma de organização, a capacidade de resposta diminui, as unidades de negócios precisam aguardar a conclusão da tarefa. O desenvolvimento (especialmente nas etapas de pesquisa de dados e compreensão de um problema de negócios) para especialistas em Ciência de Dados também está se tornando mais complicado, pois a transição de tarefa para tarefa exige imersão em um novo contexto.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh5.googleusercontent.com/mCrv2i-IjD7qHsTG3cnYDO_sXj1zShuPvJxjbTvRF_OOG6Syv0-Gd7AuQTBRcuNtZTfZbsIfT_82syo5lhqMPiIIV-RFcltS4-tu_Hcl-Uga4Hddt6zPH7PYQ0tuhYb88roAizre" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descentralizado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No esquema, cada unidade de negócios tem sua própria equipe pequena ou um indivíduo que desenvolve modelos de ciência de dados especificamente para esta unidade. As vantagens do esquema são que a eficiência não é perdida e os especialistas estão sempre no contexto de seu campo de negócios. Mas a transparência está perdida. Nesse esquema, não é possível garantir que os especialistas estejam trabalhando em tarefas urgentes. Por exemplo, se agora uma unidade de negócios está em chamas para fazer algum tipo de relatório, elas podem instruir facilmente e sem hesitar o especialista em DS, e isso desmotiva. Além disso, com números cada vez maiores, perde-se o controle centralizado sobre seu trabalho. Para evitar isso, você precisa se encontrar com todos individualmente, mergulhar na tarefa dele, controlar o trabalho dele. Isso leva tempo, o que nem sempre é suficiente.Por esse motivo, a qualidade das soluções criadas geralmente sofre.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh4.googleusercontent.com/mpKwIo9NwLiIvexoFokIqHn4sQ4p1qOLZ2pmJQknwUrMvTjRgkL4vmNTyQltYWEo7sfIpQsil0jZJde0Sh6pFwte6BWqwY-ifngW0x_cgNoCV5Ukv4NAdDtfYtTnPAC3wCKCwRxR" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No </font><font style="vertical-align: inherit;">esquema </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">híbrido</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , há equipes básicas e, além disso, cada unidade de negócios tem seu próprio analista ou equipe para resolver certos problemas. </font><font style="vertical-align: inherit;">Esse esquema é bom, desprovido das falhas dos outros dois e está tentando tirar o melhor proveito deles. </font><font style="vertical-align: inherit;">Mas, como mostra a prática, essa estrutura funciona bem apenas com um grande número de especialistas. </font><font style="vertical-align: inherit;">Ou seja, é eficaz apenas dentro da estrutura de corporações gigantes e, em empresas com até mil pessoas, esse esquema é um desperdício.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como nós temos?</font></font></h3><br>
<div style="text-align:center;"><img src="https://lh4.googleusercontent.com/OMbFIETPwc7vsSFyybo0zx9wBCF2NLMP0K5VzuZsPBYqMf30fi9oCLm9NqVQjXVFuJwv5z9bxypIHAHcYzE9oVd2u53Bv2QtB9m4UyxyoGGpVUFMFR1HXElqUUP7IPJKAz91VBPn" alt="imagem" width="480"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossa empresa adotou um modelo centralizado. </font><font style="vertical-align: inherit;">Esta é uma decisão consciente, porque agora queremos entender que estamos trabalhando em tarefas realmente importantes. </font><font style="vertical-align: inherit;">Além disso, nossos especialistas são responsáveis ​​pelos inúmeros serviços raiz que atendem a todos os departamentos da empresa:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot de bate-papo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moderação e verificação de dados de texto; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reconhecimento e classificação de documentos e outras imagens;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelos de previsão, conversão, recomendações e assim por diante. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos duas equipes centralizadas. </font><font style="vertical-align: inherit;">Um está envolvido no processamento de dados de texto e voz, o segundo é responsável por trabalhar com imagens. </font><font style="vertical-align: inherit;">As tarefas do aprendizado de máquina clássico são distribuídas aproximadamente igualmente entre as duas equipes. </font><font style="vertical-align: inherit;">Este organograma existe há um ano e meio. </font><font style="vertical-align: inherit;">Se surgir uma pequena tarefa de transição na unidade de negócios, que precisa ser executada no momento, graças à vasta experiência e realizações em outros projetos, muitas vezes é possível resolvê-la rapidamente e com alta qualidade já no estágio de linha de base.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando mudamos para o esquema com duas equipes, surgiu um novo problema: parte das tarefas no campo de trabalhar com modelos era comum para eles - criar e armazenar conjuntos de treinamento e teste, documentação, iniciar treinamento etc. etc. Como resultado, em meados de 2019, Criamos uma terceira equipe, que também pertence à direção do DS, mas não desenvolve modelos, mas ferramentas, em particular, um pequeno registro interno - a plataforma na qual quase todos os nossos conjuntos de dados de treinamento e teste estão agora armazenados. Graças ao controle de versão estabelecido durante o planejamento, entendemos em quais dados esse ou aquele modelo foi treinado e podemos reproduzir o treinamento, se necessário. Bem, é claro, não estamos mais procurando conjuntos de dados em pastas de rede e tabelas de armazenamento)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também criamos um serviço que armazena informações sobre todos os nossos modelos. Ao criar um novo modelo, ele é imediatamente inserido no serviço, nós o descrevemos, especificamos o conjunto de dados de treinamento, adicionamos um link ao repositório no Bitbucket. Obviamente, há também uma biblioteca Python, que, a cada treinamento do modelo, registra o treinamento, as métricas e artefatos obtidos (pesos, estrutura do modelo etc.) no registro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equipe da plataforma ajudou muito a otimizar o trabalho nos modelos: agora sabemos quantos deles existem, o que são, quantas vezes treinaram, como seus resultados foram alterados. </font><font style="vertical-align: inherit;">Mas não pense que é útil exclusivamente para especialistas em DS. </font><font style="vertical-align: inherit;">A equipe cria ferramentas centralizadas de ciência de dados para toda a empresa. </font><font style="vertical-align: inherit;">Por exemplo, ela está atualmente desenvolvendo um serviço AutoML para unidades de negócios aplicadas. </font><font style="vertical-align: inherit;">Isso ajudará a realizar análises inteligentes sem envolver os cientistas de dados e removerá alguns dos problemas de um modelo de organização centralizado.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backlogs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, finalmente, falarei sobre como formamos backlogs de equipe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ambas as equipes centralizadas agora estão envolvidas em várias áreas-chave. Na abordagem tradicional do Agile, existe um proprietário do produto que coleta a lista de pendências e desenvolve o produto. Porém, quando uma equipe tem vários desses produtos, em nossa experiência, todos os proprietários de produtos estão envolvidos nas tarefas atuais e é difícil para eles desenvolver novos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, introduzimos o papel de um parceiro de negócios. </font><font style="vertical-align: inherit;">Ele não pertence a nenhuma das equipes, mas é responsável pelo desenvolvimento de um backlog para o futuro: ele se volta para as unidades de negócios aplicadas, pergunta o que elas têm tarefas interessantes e quais os principais problemas existentes, informa como os modelos podem ajudar. </font><font style="vertical-align: inherit;">Esse especialista é capaz de realizar a tarefa no nível mais alto e entender se a ciência de dados pode ser útil. </font><font style="vertical-align: inherit;">Ele formula as principais hipóteses para o teste, as analisa e as passa para as equipes. </font><font style="vertical-align: inherit;">Graças a isso, mantemos a relevância do backlog no médio prazo - entendemos que, quando resolvemos os problemas atuais, o trabalho não para.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No resíduo seco</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na linha inferior, a estrutura da unidade de ciência de dados está estruturada da seguinte maneira:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS-manager: sou eu. </font><font style="vertical-align: inherit;">Área de responsabilidade: formação de uma estratégia de desenvolvimento, manutenção da competência DS, trabalho com funcionários.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parceiro de negócios DS. </font><font style="vertical-align: inherit;">Área de responsabilidade: estudo de novas tarefas e orientações quanto à aplicabilidade da Ciência de Dados; </font><font style="vertical-align: inherit;">auditoria de processos existentes e implementações de modelos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equipe da plataforma: desenvolvimento e manutenção de ferramentas centralizadas - um registro de modelos e conjuntos de dados, AutoML, etc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equipes de CV e PNL: equipes de aplicativos desenvolvendo modelos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As solicitações de novas tarefas das unidades ou gerenciamento de negócios são auditadas primeiro para o parceiro de negócios e somente depois são enviadas para o backlog das equipes de aplicativos. </font><font style="vertical-align: inherit;">Depois disso, eles (equipes de aplicativos) já se comunicam diretamente com o cliente. </font><font style="vertical-align: inherit;">Esquematicamente, é assim:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://lh4.googleusercontent.com/0igFw-mi79JzT8gMRgV0QUMVueSqsg66Re1FOAW58wvXvqa1NRPLMdCxeIv8w9phvh7sD3cn1Pie5CvQlNd25fcfEWJZobbKH-XaDuE2MOV2jJB8YPXwMCsrx0vEhyTGE7smT17J" alt="imagem" width="480"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumário</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A organização do trabalho efetivo da equipe de ciência de dados no âmbito de uma grande empresa é uma tarefa difícil. </font><font style="vertical-align: inherit;">Não conheço exemplos de quando isso foi feito imediatamente e bem. </font><font style="vertical-align: inherit;">É um processo quando você passa de ruim a não tão ruim, e faz isso repetidamente, tentando e cometendo erros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que esta experiência seja útil, ou pelo menos interessante para os leitores)</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt505430/index.html">Princípios do SOLID nas imagens</a></li>
<li><a href="../pt505432/index.html">Em quais cidades da Rússia não há quarentena para visitantes</a></li>
<li><a href="../pt505438/index.html">Para onde ir para TI. Instruções detalhadas do Gerente de Projeto</a></li>
<li><a href="../pt505440/index.html">Mergulhe fundo nas estatísticas internas do PostgreSQL. Alexey Lesovsky</a></li>
<li><a href="../pt505442/index.html">Fábrica VxLAN. Parte 1</a></li>
<li><a href="../pt505452/index.html">A evolução dos cartões bancários: de metal em metal</a></li>
<li><a href="../pt505456/index.html">Por que as impressoras colocam pontos invisíveis nos documentos</a></li>
<li><a href="../pt505458/index.html">Como entender o aprendizado de máquina se você não é um grande matemático</a></li>
<li><a href="../pt505460/index.html">Pague pelo treinamento com a codificação: solteiros russos podem ganhar uma bolsa para estudar para um mestrado na Suíça</a></li>
<li><a href="../pt505462/index.html">Micro data center: por que precisamos de data centers em miniatura?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>