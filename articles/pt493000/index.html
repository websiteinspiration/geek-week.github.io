<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔲 👩🏾‍🚒 🎛️ Métodos para lidar com código legado usando o GitLab como exemplo 🐵 👨🏾 🛌🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Você pode enganar sem parar se o GitLab é um bom produto. É melhor observar os números: de acordo com os resultados da rodada de investimentos, a aval...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Métodos para lidar com código legado usando o GitLab como exemplo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/493000/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode enganar sem parar se o GitLab é um bom produto. É melhor observar os números: de acordo com os resultados da rodada de investimentos, a avaliação do GitLab foi de US $ 2,7 bilhões, enquanto a avaliação anterior foi de US $ 1,1 bilhão. Isso significa crescimento rápido e a empresa contratará cada vez mais desenvolvedores front-end. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta é a história da aparência do frontend no GitLab. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/uq/uh/cyuquhlxnzithh35ujtiswr5upy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este é um gráfico do número de fornecedores front-end no GitLab, começando em 2016, quando eles não estavam lá e terminando em 2019, quando já havia algumas dezenas deles. Mas o GitLab em si existe há 7 anos. Portanto, até 2017, o código principal do front-end foi escrito pelos desenvolvedores de back-end, pior, os desenvolvedores de back-end no Ruby on Rails (em nenhum caso, queremos ofender alguém e explicar abaixo do que estamos falando).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por 7 anos, qualquer projeto, goste ou não, está se tornando obsoleto. </font><font style="vertical-align: inherit;">Em algum momento, a refatoração se torna impossível de adiar. </font><font style="vertical-align: inherit;">E a jornada começa, cheia de aventura, cujo ponto final nunca chega. </font><font style="vertical-align: inherit;">Sobre como isso acontece no GitLab, disse Ilya Klimov.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3tdfBMRq34o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre o orador: Ilya Klimov (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xanf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) engenheiro front-end sênior do GitLab. </font><font style="vertical-align: inherit;">Antes disso, ele trabalhou em startups e terceirização, liderou uma pequena empresa de terceirização. </font><font style="vertical-align: inherit;">Então percebi que ainda não tinha tido tempo de elaborar o produto e vim para o GitLab. </font></font></em><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O artigo é baseado em um relatório de Ilya no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FrontendConf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , portanto, não estrutura tanto as informações como reflete a experiência do palestrante. </font><font style="vertical-align: inherit;">Pode parecer excessivamente conversacional, mas não menos interessante do ponto de vista de trabalhar com legado. </font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No GitLab, como em muitos outros projetos, eles estão migrando gradualmente das tecnologias antigas para algo mais relevante:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CoffeeScript em JavaScript. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os desenvolvedores do Ruby on Rails, quando começaram o projeto, não podiam deixar de prestar atenção no CoffeeScript, que é muito semelhante ao Ruby.</font></font></li>
<li><strong>JQuery  Vue. </strong>  ,        JQuery.   GitLab  SPA.  server-side rendering  progressive enhancement,        Vue-.  ,    :     Vue-,    .</li>
<li><strong>Karma  Jest. </strong>Jest  -     . Karma     , , .</li>
<li><strong>REST  GraphQL</strong> ,   , <strong>Vuex  Apollo</strong>.      Vuex,    Redux   Vue,  Apollo local state  ,     .    GraphQL    ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo, as substituições ocorrem em várias direções ao mesmo tempo; no projeto, há simultaneamente um código legado em diferentes estágios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora imagine que você está chegando a um projeto que está no meio de todas essas migrações. O ponto padrão e de referência para mim foi a situação em que você abre a edição de um projeto, pressiona o botão Salvar - e o que você acha que está por vir? Se você pensou que somos tão velhos que o HTML vem, então não. O JavaScript aparece e você precisa "evoluir" para exibir uma janela pop-up. Este é o ponto mais baixo da minha imagem herdada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais adiante: aulas auto-escritas em jQuery, componentes Vue e, como ponto mais alto, novos recursos modernos escritos com Vuex, Apollo, Jest, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É assim que fica meu gráfico de contribuições no GitLab.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ew/ml/io/ewmliousc_qzjvrr0pfshtqlrj0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nele - e isso é muito importante para entender a essência da história e todas as minhas dores - vários segmentos podem ser distinguidos:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onboarding</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na área de abril. </font><font style="vertical-align: inherit;">“Lua de mel” quando comecei a trabalhar no GitLab. </font><font style="vertical-align: inherit;">Neste momento, os iniciantes recebem tarefas mais fáceis.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desde o final de abril até meados de maio, há apenas alguns commits - um período de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">negação</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "Não, não pode ser que tudo seja feito dessa maneira!" </font><font style="vertical-align: inherit;">Tentei entender onde não entendo algo, então há tão poucos commits.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A segunda quinzena de maio é de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raiva</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "Não dou a mínima para tudo - preciso mudar a produção, compartilhar recursos, tentar fazer algo a respeito".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O início de junho (zero commit) é uma </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depressão</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Não era férias, vi e entendi que minhas mãos estavam caindo, não sei o que fazer com isso.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois disso, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concordei comigo mesmo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , decidi que fui contratado como profissional e posso melhorar o GitLab. </font><font style="vertical-align: inherit;">Em junho e julho, ofereci um grande número de melhorias. </font><font style="vertical-align: inherit;">Nem todos eles ressoaram por razões sobre as quais falaremos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora estou no estágio de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adoção</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e entendo claramente: como, onde, por que e o que fazer com tudo isso.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou contar com mais detalhes o que fiz de agosto a outubro. </font><font style="vertical-align: inherit;">Honestamente, em uma pequena empresa de terceirização ou em uma startup, eu teria sido demitido cinco vezes com tanta produtividade nesses três meses. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, em três meses eu fiz:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controle segmentado - três botões.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A cadeia de pesquisa que armazena o histórico local é um componente um pouco mais complexo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spinner. </font><font style="vertical-align: inherit;">E esse componente ainda não está congelado.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/p6/fw/uw/p6fwuwfxi5dxzpyuewu9vn7_zc4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, passo a passo, analisaremos por que isso aconteceu e como viver com isso. Se parece que estou exagerando, aqui está uma captura de tela de algumas das tarefas que dependem de mim no GitLab (você pode olhar diretamente no GitLab, ele está aberto). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/em/ax/o9/emaxo9j3iwkxpdefee2ghsokjpi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veja: perdeu 12.1, perdeu 12.2, perdeu 12.3. O sprint dura um mês e o controle segmentado - 3 sprints. Spinner ainda se foi, ele será nosso personagem principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema da refatoração e a filosofia da refatoração estão enfrentando a humanidade há muito tempo - há milênios. Agora vou provar:</font></font><br>
<blockquote><em>«        ;      ,   ,   ;        ;    ,  .<br>
<br>
 ,   ,    ,  :  ».<br>
<br>
 </em></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A Bíblia nos diz como combinar funcionalidades antigas e novas. </font><font style="vertical-align: inherit;">A segunda parte da citação é valiosa do ponto de vista da gerência: não importa como você saia com as iniciativas, você encontrará uma grande resistência. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na fase de depressão, assisti a muitos relatórios sobre refatoração de grandes projetos, mas cerca de 70% deles me lembraram uma piada. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javist talk: </font></font></em><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Como aceleramos nosso aplicativo Java? </font></font></em><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Ah, então eu tinha um relatório sobre isso! </font><font style="vertical-align: inherit;">Você quer contar? </font></font></em><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Para contar e eu posso, eu aceleraria! </font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você ainda decide seguir o caminho perigoso e instável da refatoração, tenho algumas receitas simples que desenvolvi para mim e que funcionam em condições próximas da realidade.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Isolação</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acelerar as coisas, melhorar, refatorar, você precisa cortar o elefante em bifes, ou seja, dividir a tarefa em partes. O GitLab é muito grande, temos um canal do Slack "Isso é conhecido", onde as pessoas fazem perguntas como "Isso é um bug ou um recurso, quem pode explicar?" - e a resposta nem sempre é encontrada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo simples: capturas de tela do mesmo local no GitLab, tiradas com a diferença de um dia. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_i/e7/t3/_ie7t3qfxsof8p9kwrdzy2wsymi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiquei muito chateado, porque estava trabalhando neste botão, e isso é tudo de uma maneira ou de outra com o botão. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que aconteceu? É simples: desenvolvemos um sistema de design e, como parte de uma ferramenta de livro de histórias separada para testar um sistema de design, desabilitamos o CSS GitLab global para verificar como os componentes CSS são isolados do CSS global. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resumindo: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS não é mais salvo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pelo menos no GitLab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trabalho com JavaScript há 14 anos e nunca vi um projeto com pelo menos um ou dois anos de duração preservando CSS totalmente gerenciado. A propósito, o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML também</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> não </font><strong><font style="vertical-align: inherit;">pode</font></strong><font style="vertical-align: inherit;"> ser salvo (no GitLab, com certeza). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitLab foi desenvolvido por um longo tempo e back-end. Eles tomaram uma decisão controversa de usar o Bootstrap porque o Bootstrap oferecia um sistema de layout amigável ao back-end. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o que é o Bootstrap em termos de filosofia de isolamento de componentes? São cerca de 600-700 classes globais (de fato, cada classe CSS é global) que permeiam todo o aplicativo. Em termos de gerenciabilidade, nada de bom resultará disso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A próxima ação (não vamos chamá-lo de erro) - o GitLab aceitou o Vue.js. A escolha foi razoável, por causa das três estruturas, é o Vue que permite reescrever algo com mais facilidade. Você não precisa jogar e cortar imediatamente um Aplicativo de Página Única grande, mas pode reescrever nós pequenos individuais. Agora, isso pode ser feito no Angular, mas há 3-4 anos atrás, quando o Angular 2 apareceu, ele não pôde coexistir em uma página em mais de uma instância. A reação também é possível agora, mas toda essa mágica com a falta de uma etapa de construção e assim por diante inclinou a balança em direção a Vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, um mal foi combinado com o segundo. Isso é ruim, porque os estilos do Bootstrap não sabem nada sobre o sistema de componentes e os componentes do Vue foram escritos no início, de qualquer maneira. Portanto, uma forte decisão foi tomada para criar seu próprio sistema de design. Nós chamamos</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pijama</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas ninguém poderia me explicar o porquê. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejo que agora existem cada vez mais nossos próprios sistemas de design, e isso é bom. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sistema de design envolve isolamento, mas desde que o GitLab já foi escrito no Bootstrap, aproximadamente 50-60% do nosso sistema de design é um invólucro sobre os componentes do Bootstrap / Vue com uma diminuição em sua funcionalidade. Isso é necessário para que o sistema de design não permita o uso incorreto do componente. Se falamos de uma biblioteca abstrata, a flexibilidade é importante por exemplo, a capacidade de criar qualquer botão que você desejar. Se os spinners do GitLab podem ter quatro tamanhos aprovados pelos designers, você não deve deixar fisicamente que outros o façam.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algum dia, o bom vencerá e teremos uma ferramenta importante com a qual, é claro, se você obteve suporte no IE e Edge, poderá refatorar efetivamente os projetos de front-end - este é o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shadow DOM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O Shadow DOM resolve o problema dos estilos globais que entram nos componentes. Por favor, não tome Polymer, que até o Google já enterrou. Use lit-element e lit-HTML, e você pode criar estilos isolados usando sua estrutura favorita.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode dizer que o React possui módulos CSS, o Vue tem estilos de escopo que fazem o mesmo. Tenha muito cuidado com eles: os módulos CSS não fornecem 100% de isolamento porque eles funcionam apenas com classes. E com os estilos com escopo definido no Vue, um cenário muito interessante pode ser realizado quando os estilos do componente superior se enquadram no elemento raiz do pai e os atributos de dados são usados ​​lá que diminuem a velocidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar de ter repreendido a Angular por três anos, agora tenho que admitir que no momento ela é implementada da melhor maneira possível. No Angular, para garantir um bom isolamento de estilo, basta mudar o modo de isolamento e, se necessário, usar o Shadow DOM, caso contrário a emulação normal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voltar ao botão rotativo. </font><font style="vertical-align: inherit;">Dos três meses em que lutei com ele, durante algum tempo estive envolvido em um negócio emocionante: limpeza. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s8/zv/u0/s8zvu0h5yauznhgfqthij_96rkc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma classe </font></font><code>loading-container</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é um detalhe de implementação de um girador, ou seja, é uma classe dentro de uma implementação de girador. </font><font style="vertical-align: inherit;">Decidimos, já que o CSS não deve ser salvo, no Pyjamas, para criar CSS separado com base no Atomic CSS. </font><font style="vertical-align: inherit;">Eu pessoalmente não gosto muito do conceito Atomic CSS, mas temos o que temos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, eu estava envolvido na limpeza de estilos no código do produto principal pendurado em elementos que são detalhes de implementação. </font><font style="vertical-align: inherit;">Tudo parece muito simples - porque, é claro, existem testes no GitLab.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Testes</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os testes no GitLab cobrem todo o código</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , fornecem confiabilidade. </font><font style="vertical-align: inherit;">E assim o pipeline é concluído em 98 minutos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fl/uz/bb/fluzbboaa7on25ueq9z6pkvcdb4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O GitLab coleta 40% do tempo dos corredores públicos no GitLab.com porque o GitLab coleta pipelines para cada solicitação de mesclagem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fiquei muito inspirado: finalmente entrei em um projeto onde tudo é coberto em testes! </font><font style="vertical-align: inherit;">A cobertura do código de back-end é próxima de 100%, e o código de front-end no momento da minha chegada era coberto por </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89,3%. </font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, a maior parte dessa cobertura é lixo porque:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quebra quando são feitas alterações que não estão relacionadas aos componentes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não quebra quando são feitas alterações.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou explicar com exemplos. </font><font style="vertical-align: inherit;">Pegamos Jest porque pensamos que ele nos permitiria, em certas situações, não escrever afirmações, mas usar instantâneos. </font><font style="vertical-align: inherit;">O problema é que, se você não configurou o Jest e adicionou o serializador correto, o Vue Test Utils simplesmente gera adereços em HTML. </font><font style="vertical-align: inherit;">Então, por exemplo, resultam adereços com o nome user, que tinha adereços nos parâmetros com os dados do nome, para os quais o objeto objeto foi passado. </font><font style="vertical-align: inherit;">Quaisquer alterações no formato dos dados transmitidos não levam à falha do instantâneo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os desenvolvedores Ruby estão acostumados a fazer testes, grosso modo, abrangendo todos os métodos.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando fazemos testes para os componentes Vue ou React, precisamos testar como a API pública se comporta.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim, tivemos grandes testes de propriedades calculadas que não foram usadas em alguns cenários, mas em outros era fisicamente impossível atingir o estado em que esse cálculo seria chamado. </font><font style="vertical-align: inherit;">Agradecimentos especiais ao Vue, em que os modelos são cadeias de caracteres, para que você não possa calcular a cobertura de teste do modelo. </font><font style="vertical-align: inherit;">No Vue 3, os Mapas de Origem aparecerão e a capacidade de corrigi-lo, mas não será em breve. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, existe uma habilidade simples que permitirá refatorar efetivamente o legado. </font><font style="vertical-align: inherit;">Essa é a capacidade de escrever o que é chamado de teste de fixação no mundo dos grandes testes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teste de fixação</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este é um teste que tenta capturar o comportamento que você está refatorando. Observe que o teste de fixação provavelmente não acabará sendo confirmado no repositório. Ou seja, você, através de todos os tipos de refinamentos, por exemplo, usando o ambiente de temporariedade, escreve para si mesmo um teste que descreve como seu componente é renderizado. Após a refatoração, o teste de fixação deve gerar o mesmo HTML, e isso provavelmente é um bom sinal, ou você deve entender quais alterações ocorreram.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou dar um exemplo da vida. Alguns meses atrás, conduzi uma revisão de solicitação de mesclagem com a refatoração de uma lista suspensa. O contexto legado é o seguinte: anteriormente, para separar os ramos de um amigo um do outro por um traço na lista suspensa, a cadeia de texto "divisor" era simplesmente passada. Portanto, se seu ramo foi chamado de divisor, você estará sem sorte. No processo de refatoração, uma pessoa trocou duas classes em um nó HTML, isso entrou em produção e o arruinou. Na justiça, é claro, não exatamente na produção, mas na encenação, mas mesmo assim.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, quando começamos a escrever esses testes, descobrimos que, apesar do indicador de cobertura legal, os testes foram gravados incorretamente. Porque, primeiro, fizemos testes para o Karma, ou seja, antigos. Em segundo lugar, quase todos os testes fizeram suposições sobre as partes internas do componente. Ou seja, eles fingiram ser testes de unidade e funcionaram essencialmente como de ponta a ponta, verificando se uma tag específica com uma classe específica estava sendo renderizada, em vez de verificar se um componente específico estava sendo renderizado com acessórios específicos. Entenda a diferença: classes são componentes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, minhas 18 solicitações de mesclagem com testes de refatoração para um total de 8 a 9 mil linhas, o changelog total acabou por ser de cerca de 20 mil, porque 11 mil foram cortados.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ay/q_/qs/ayq_qsjbluc3lyjaiwft9oxkefo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo, formalmente, refiz todos esses testes por uma coisa: remover afirmações sobre as classes de spinners e, em vez disso, verificar se o spinner com os adereços corretos é processado lá. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À primeira vista, este é um trabalho ingrato. </font><font style="vertical-align: inherit;">Mas reescrever testes para a arquitetura certa era muito fácil de vender para os negócios. </font><font style="vertical-align: inherit;">O GitLab é um produto comercialmente lucrativo. </font><font style="vertical-align: inherit;">Obviamente, se você informar ao gerente do produto que precisa de três iterações para reescrever 20 testes, adivinhe para onde será enviado. </font><font style="vertical-align: inherit;">Outra coisa: “Preciso de três iterações para reescrever o teste. </font><font style="vertical-align: inherit;">Isso nos permitirá introduzir spinners com mais eficiência e acelerar a implementação futura de novos elementos do sistema de design. ” </font><font style="vertical-align: inherit;">E aqui chegamos ao importante.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Resistência</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há outra funcionalidade que muitos dos meus spinners aguardam no sistema de design GitLab - esses são ícones SVG comuns.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yu/to/cc/yutoccm3twkiswgiyqe2flvse_w.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos ícones desenhados pelo designer que são usados ​​no projeto principal, mas eles não estão no sistema de design, porque o GitLab tem uma infância difícil. </font><font style="vertical-align: inherit;">Por exemplo, em 2019, o CSS é coletado não pelo Webpack, mas por uma peça chamada Sprockets - esse é o pipeline do Ruby, porque precisamos reutilizar o mesmo CSS no backend e no frontend. </font><font style="vertical-align: inherit;">Por esse motivo, os ícones devem estar conectados a diferentes projetos de maneiras diferentes. </font><font style="vertical-align: inherit;">Portanto, alguém refatorou a base de código principal por três meses para que você pudesse conectar os ícones do sistema de design a projetos relacionados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há um ponto importante aqui que você encontrará inevitavelmente. </font><font style="vertical-align: inherit;">A refatoração é um processo de melhoria contínua. </font><font style="vertical-align: inherit;">Mas mais cedo ou mais tarde você tem que parar.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É absolutamente normal parar, não concluindo a refatoração, mas obtendo melhorias mensuráveis ​​concretas.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas se você estiver trabalhando em um projeto herdado, inevitavelmente encontrará pessoas que fazem isso. </font></font><br>
<img src="https://habrastorage.org/webt/to/bx/ix/tobxixkebgoqq2lvl-2fijjeqme.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso significa que eles escrevem da maneira antiga, porque estão muito acostumados. Por exemplo, nossos defensores dizem: "Eu não quero ensinar esse seu gracejo. Escrevi testes para o Karma por três anos, preciso adicionar novas funcionalidades e, como eles não serão aceitos sem testes, aqui está um teste para o Karma. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sua tarefa é resistir a isso o máximo possível. Isso é relativamente fácil de combater, mas há um pecado ainda maior do que isso. Às vezes, no processo de refatoração, você se depara com um problema e geralmente há um desejo de ir para o lado.</font></font><br>
<img src="https://habrastorage.org/webt/pz/va/st/pzvast70b3gpomnqsaic1iignns.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, substituir uma nova muleta simplesmente porque, por certas razões, não é possível levar a refatoração até o fim. </font><font style="vertical-align: inherit;">Por exemplo, se tivermos problemas para integrar ícones na base de código principal, podemos deixar uma classe de utilitário que será extraída do CSS global do aplicativo. </font><font style="vertical-align: inherit;">Formalmente, a tarefa comercial será resolvida, mas na prática, como na história da hidra de Lernean: restavam 8 bugs, 4 corrigidos e 13 restantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Refatorar, como reparar uma casa - é impossível terminar, você só pode pará-lo.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os primeiros 80% da refatoração levam 20% do tempo, os 80% restantes da refatoração (exatamente assim) levam outros 80% do tempo.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É importante não introduzir novos hacks durante o processo de refatoração. </font><font style="vertical-align: inherit;">Acredite, durante o processo de desenvolvimento, eles próprios aparecerão.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Ferramentas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, mesmo antes de eu chegar, o GitLab embarcou no caminho correto da introdução de boas ferramentas: Prettier, Vue Test Utils, Jest. Embora Prettier tenha implementado torto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou explicar o que está em jogo. Enquanto eu descobri o que e por que tão historicamente, 80% das minhas pesquisas se depararam com um commit de 37 mil linhas de código de prettificação. Era quase impossível usar o histórico, e eu tive que configurar o plug-in para o VS Code, de modo a excluir esse commit ao procurar o histórico de alterações.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Claro, as ferramentas são importantes, mas você precisa escolhê-las com cuidado. Por exemplo, temos o Vue, e o Vue tem uma boa ferramenta de teste - o Vue Test Utils. Mas se o Vue 2 foi lançado há 2-3 anos, o Vue Test Utils ainda não saiu da versão beta. Além disso, de acordo com informações privilegiadas, no momento o único desenvolvedor do Vue Test Utils não escreve no Vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No processo de escolha das ferramentas, você joga o sorteio e realmente tenta vencer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O GitLab sofreu uma lesão na infância com o CoffeeScript. É por isso que é impossível empurrar até a idéia teórica de escrever no TypeScript no GitLab. Tudo se divide em um argumento simples: não será o mesmo que no CoffeeScript quando a linguagem que compila o JavaScript tiver morrido.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao escolher ferramentas, tente para que a ferramenta possa ser substituída ou, em casos extremos, mantida de forma independente.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nós do GitLab usamos uma coisa legal chamada Danger. </font></font><br>
<img src="https://habrastorage.org/webt/lv/ol/oh/lvolohfoqnrzwiqzur-ziqhaaxw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta é uma captura de tela real do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em 2019. </font><font style="vertical-align: inherit;">Mas, colegas disseram que, em 2019, o site pode parecer qualquer coisa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Danger é um bot que ocupa um estado intermediário entre o linter no seu IC e as diretrizes escritas. </font><font style="vertical-align: inherit;">Este bot pode ser expandido e virá para puxar solicitação ou, como são chamados corretamente conosco, mesclar solicitação e deixar comentários como:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Há um comentário de desativação do ESlint neste arquivo, corrija-o."</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Esse arquivo costumava ser governado por essa pessoa. </font><font style="vertical-align: inherit;">Talvez você precise fazer uma revisão.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na minha opinião, essa é uma estrutura muito boa, importante e extensível para monitorar o estado da base de código.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Abstração</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou começar com um exemplo. </font><font style="vertical-align: inherit;">Alguns meses atrás, vi a notícia: “O GitHub se livrou do jQuery. </font><font style="vertical-align: inherit;">Percorremos um longo caminho difícil e não usamos mais o jQuery. ” </font><font style="vertical-align: inherit;">Naturalmente, pensei que também precisamos nos livrar do jQuery no GitLab. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e3/3d/4z/e33d4zkjkbo05u2iz2ehkjp9oh8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma pesquisa rápida mostrou que o jQuery é usado em 300 arquivos. </font><font style="vertical-align: inherit;">Parece assustador, mas nada - os olhos estão com medo, as mãos estão fazendo. </font><font style="vertical-align: inherit;">Mas não! </font><font style="vertical-align: inherit;">O jQuery é uma cola integral na base de código do GitLab, porque temos o Bootstrap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Bootstrap foi originalmente escrito em jQuery. </font><font style="vertical-align: inherit;">Isso significa que, se você precisar, por exemplo, capturar o evento de abertura suspensa no Bootstrap, esse é um evento jQuery. </font><font style="vertical-align: inherit;">Você não pode interceptá-lo nativamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa é a primeira coisa que você deve abstrair ao trabalhar com código legado. </font><font style="vertical-align: inherit;">Se você tiver o jQuery que não pode ser descartado, escreva seu próprio Emissor de Eventos, que ficará oculto dentro do trabalho com os eventos do jQuery. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando um futuro brilhante chegar, podemos remover o jQuery, mas, por enquanto, desculpe, você precisa concentrar o govnokod. </font><font style="vertical-align: inherit;">Em um projeto legado regular, ele é distribuído igualmente por todo o código. </font><font style="vertical-align: inherit;">Colete-o em gargalos marcados com as bandeiras “Não entre sem traje de proteção química”.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Métricas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você não pode fazer algo cujo resultado não possa ser medido. No GitLab, medimos tudo o que fazemos para saber objetivamente que o código está funcionando melhor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/me/0g/qb/me0gqbigji1jssyvv6be_ve_bjq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, temos uma programação de migração dos testes de Karma (azul) para Jest (verde): </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
você vê que há um progresso gradual. E nós temos muitos desses horários. Mas é importante entender que nem sempre tudo termina bem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou dar mais um exemplo (a demonstração no relatório começa a partir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> momento). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6s/az/t7/6sazt7jddhpg2kshoo0sodo-hbu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui está a interface de solicitação de mesclagem usual na produção do GitLab. Obviamente, podemos recolher arquivos, clicar no cabeçalho e o arquivo começará a recolher.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que você acha, quanto tempo leva para recolher um arquivo de 50 linhas, enquanto a máquina com a oitava geração Core i7 é torcida para obter o máximo desempenho? </font><font style="vertical-align: inherit;">Quanto tempo leva a implantação? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O tempo necessário para o recolhimento do arquivo varia de 7 a 15 segundos. </font><font style="vertical-align: inherit;">A implantação ocorre instantaneamente. </font><font style="vertical-align: inherit;">Antes da refatoração, ambos trabalhavam igualmente rápido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É por isso que é muito importante ter métricas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou lhe contar o que está acontecendo aqui. </font><font style="vertical-align: inherit;">Este é o Vue, seu sistema de reatividade controla o valor: se ele mudar, todas as dependências que dependem desse valor serão chamadas. </font><font style="vertical-align: inherit;">Cada linha é um componente do Vue que consiste em várias coisas, porque você pode colocar comentários em uma linha, os comentários podem ser carregados dinamicamente no servidor etc. </font><font style="vertical-align: inherit;">Tudo isso é assinado na loja Vue, que também é um componente do Vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando você fecha a solicitação de mesclagem, todas as, digamos, 20 mil assinaturas de loja precisam ser atualizadas quando a loja é atualizada. Se a linha for excluída, ela deverá ser removida das dependências. E depois a matemática simples: você precisa examinar uma matriz de 20 mil elementos para encontrar aqueles que precisam ser removidos. Digamos que existem 500 dessas linhas, e cada linha possui vários componentes. O resultado é uma operação matemática O (N), ou seja, O (20.000) * 500. O JavaScript está sendo executado todo esse tempo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A implantação acontece instantaneamente, porque adicionar uma dependência é apenas um empurrão para a matriz, ou seja, operação matemática O (1). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Às vezes, melhorar a qualidade do código prejudica o desempenho e outras métricas. É muito importante medi-los. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em resumo: isole o código incorreto e acompanhe as métricas.</font></font></strong><br>
<br>
<blockquote>  legacy —  .   ,      –     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">TechLead Conf</a> — ,    .   –    ,  legacy        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> Python</a>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> PHP</a>.<br>
<br>
            ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">++</a>,        ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">FrontendConf</a>.          .</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt492980/index.html">9 ferramentas de TI para aumentar o capital humano em uma empresa</a></li>
<li><a href="../pt492990/index.html">Organização da educação de estudantes on-line</a></li>
<li><a href="../pt492994/index.html">O que há de novo no TestMace Parte 1. Sincronização em nuvem, interface atualizada e muito mais</a></li>
<li><a href="../pt492996/index.html">Organização de formatos de data personalizados e desserialização de marcações no Go</a></li>
<li><a href="../pt492998/index.html">Como ficamos confusos com o freelancer para um data center e o que aconteceu</a></li>
<li><a href="../pt493002/index.html">350 pessoas remotamente: como foi</a></li>
<li><a href="../pt493008/index.html">Sobre o cluster do servidor 1C</a></li>
<li><a href="../pt493010/index.html">Como o Quarkus combina programação imperativa e reativa</a></li>
<li><a href="../pt493012/index.html">Ar, relés, cabos pela janela: como não encontrar um fornecedor monopolista em um centro de negócios</a></li>
<li><a href="../pt493014/index.html">Entrevista com Vyacheslav Utochkin, diretor de programas de treinamento para desenvolvedores de jogos na Escola Superior de Economia, Escola Superior de Economia, Escola Superior de Economia Escola Superior de Economia: 20 perguntas sobre Game Dev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>