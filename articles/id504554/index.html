<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏷️ 🐓 ✌🏼 Unity Terrane dan Mesh Blending 👩🏼‍🚒 🙎🏻 🥥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya, pada bulan Juni OTUS meluncurkan kursus Pengembang Unity Games lagi . Untuk mengantisipasi dimulainya kursus, kami telah menyiapkan ter...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Unity Terrane dan Mesh Blending</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/504554/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo semuanya, pada bulan Juni OTUS meluncurkan kursus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengembang Unity Games</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lagi </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Untuk mengantisipasi dimulainya kursus, kami telah menyiapkan terjemahan materi yang menarik tentang topik ini.</font></font></b></i><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hari ini kita akan berbicara tentang cara memadukan mesh terrane (atau mesh lainnya) di Unity. </font><font style="vertical-align: inherit;">Panduan ini cukup canggih, tetapi saya mencoba memecahnya menjadi beberapa langkah terpisah. </font><font style="vertical-align: inherit;">Diasumsikan bahwa Anda memiliki keterampilan Persatuan umum dan pengetahuan C # dasar. </font><font style="vertical-align: inherit;">Panduan ini dirancang untuk memperkuat, tetapi saya pikir itu juga dapat diterapkan pada Grafik Shader. </font><font style="vertical-align: inherit;">Ini adalah panduan pertama saya, jadi saya harap ini akan cukup jelas. </font><font style="vertical-align: inherit;">Jika Anda ingin menambahkan sesuatu, beri tahu saya. </font><font style="vertical-align: inherit;">Saya telah memasukkan starter kit di sini, yang memiliki beberapa shader tambahan untuk proyek ini, serta kit dasar untuk memulai. </font><font style="vertical-align: inherit;">Semua file proyek dari manual hari ini tersedia untuk pelanggan saya seharga $ 5, tetapi dalam waktu dekat, mereka akan tersedia untuk semua orang.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Starter kit</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seluruh proyek</font></font></a><br>
<br>
<blockquote><i><b>:</b>    ,    ,         .       .      ,        ,  ,      .                (      )     unity    .       ,       ,      .</i> </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, mari kita mulai. </font><font style="vertical-align: inherit;">Untuk memulai, saya akan memilih masalah dan mempelajari teori yang menjadi dasar solusinya. </font><font style="vertical-align: inherit;">Untuk membuat campuran antara terrane dan jerat lainnya, Anda perlu memberi tahu shader di mana persimpangan dengan terran terjadi. </font><font style="vertical-align: inherit;">Mengatakan lebih mudah daripada melakukan, tetapi ada cara. </font><font style="vertical-align: inherit;">Dan apa isinya? </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan membantu kami </font><font style="vertical-align: inherit;">!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu tekstur render?</font></font></h3><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pada kenyataannya, adalah posisi kamera, yang disimpan dalam file aset. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam game paling sering digunakan untuk hal-hal seperti membuat layar pengawasan video. </font><font style="vertical-align: inherit;">Kita dapat menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tekstur Render</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menyimpan tampilan kamera di editor sehingga tekstur ini kemudian dapat digunakan sebagai shader. </font><font style="vertical-align: inherit;">Ini berguna karena kita dapat memanggang informasi tentang medan kita, seperti tinggi, normal dan warna, ke dalam tekstur yang kemudian dapat digunakan dalam runtime untuk memadukan antara jerat dan terran.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hv/iw/e8/hviwe8looo3tctln-egumqcolwu.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render tekstur digunakan untuk menampilkan gambar angsa di TV di Game Tanpa Judul Angsa</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kustomisasi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulai, mari buat adegan dan terrane baru. Tetapkan beberapa ukuran yang nyaman untuk bekerja, misalnya, 200x200. Sekarang Anda dapat mengatur terran sesuai keinginan Anda. Kemudian buat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">layer baru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">beri</font></a><font style="vertical-align: inherit;"> nama "Terrain" dan tetapkan terrain ke layer ini. Ini diperlukan agar topeng kamera dapat merekam terrane dalam </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Render Texture</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2u/h9/gt/2uh9gtaovl48lp8cvi2sswsnvc8.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My masterpiece terrane</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
File sumber proyek memiliki cetakan yang disebut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"BlendBakingCamera"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - seret ke atas panggung. </font><font style="vertical-align: inherit;">Anda akan mendapatkan kamera ortografi sederhana. </font><font style="vertical-align: inherit;">Pada kamera, Anda perlu menempatkan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">topeng pemusnahan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada lapisan terrane baru. </font><font style="vertical-align: inherit;">Posisikan kamera di tengah terran sedikit di atas titik tertinggi di medan. </font><font style="vertical-align: inherit;">Kemudian sesuaikan bidang </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">klip jauh</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sehingga kamera melihat lantai terrane. </font><font style="vertical-align: inherit;">Pada akhirnya, pemandangannya akan terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5b/u_/kr/5bu_krp8iertv5bgpzy0vtsuki4.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengganti shader</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sekarang setelah kamera diatur, Anda perlu menemukan cara untuk merekam data terrane. Untuk ini, kita perlu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penggantian Shader. Pengganti Shader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sepertinya prospek yang meragukan, saya sendiri belum mengerti cara kerjanya untuk waktu yang lama. Tetapi pada kenyataannya, semuanya sangat sederhana dan efektif. Menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shader Pengganti</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada dasarnya berarti merender setiap objek dalam bidang pandang kamera dengan shader tunggal, terlepas dari shader mana yang ditumpangkan pada objek. Akibatnya, semua objek akan dirender menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Replacement Shader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang </font><font style="vertical-align: inherit;">dipilih </font><font style="vertical-align: inherit;">, yang sebenarnya hanyalah shader biasa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shader yang kita butuhkan untuk blending adalah shader kedalaman. </font><font style="vertical-align: inherit;">Itu membuat kedalaman adegan dan merupakan komponen kunci dalam menciptakan efek blending kami, karena ia menulis nilai kedalaman kamera kami ke tekstur sehingga kami dapat membacanya nanti. </font><font style="vertical-align: inherit;">Untuk mempelajari lebih lanjut tentang shader ini dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengganti Shader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> secara umum, saya sarankan Anda membaca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manual ini dari Making Stuff Good Good in Unity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/71/5e/rc715exr4enoh7vf-lmhx3b9oei.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh Kedalaman Shader</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ayo mulai memanggang</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Mari kita buat kelas baru dan beri nama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"TerrainBlendingBaker"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mari kita mulai dengan menerapkan topeng kedalaman untuk terrane dasar. </font><font style="vertical-align: inherit;">Nanti kita akan kembali ke script ini untuk menambah warna dan normals. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentukan beberapa variabel.</font></font><br>
 <br>
<pre><code class="cs hljs"><span class="hljs-comment">//Shader that renders object based on distance to camera</span>
<span class="hljs-keyword">public</span> Shader depthShader;
<span class="hljs-comment">//The render texture which will store the depth of our terrain</span>
<span class="hljs-keyword">public</span> RenderTexture depthTexture;
<span class="hljs-comment">//The camera this script is attached to</span>
<span class="hljs-keyword">private</span> Camera cam;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sekarang mari kita membuat metode baru dan menyebutnya </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"UpdateBakingCamera"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dalam metode ini, kita akan menentukan data kamera yang shader mungkin perlu render dalam variabel global.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">UpdateBakingCamera</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-comment">//if the camera hasn't been assigned then assign it</span>
        <span class="hljs-keyword">if</span> (cam == <span class="hljs-literal">null</span>)<font></font>
        {<font></font>
            cam = GetComponent&lt;Camera&gt;();<font></font>
        }<font></font>
 <font></font>
        <span class="hljs-comment">//the total width of the bounding box of our cameras view</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_SCALE"</span>, GetComponent&lt;Camera&gt;().orthographicSize * <span class="hljs-number">2</span>);
        <span class="hljs-comment">//find the bottom corner of the texture in world scale by subtracting the size of the camera from its x and z position</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_OFFSET_X"</span>, cam.transform.position.x - cam.orthographicSize);<font></font>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_OFFSET_Z"</span>, cam.transform.position.z - cam.orthographicSize);
        <span class="hljs-comment">//we'll also need the relative y position of the camera, lets get this by subtracting the far clip plane from the camera y position</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_OFFSET_Y"</span>, cam.transform.position.y - cam.farClipPlane);
        <span class="hljs-comment">//we'll also need the far clip plane itself to know the range of y values in the depth texture</span>
        Shader.SetGlobalFloat(<span class="hljs-string">"TB_FARCLIP"</span>, cam.farClipPlane);<font></font>
 <font></font>
        <span class="hljs-comment">//<span class="hljs-doctag">NOTE:</span> some of the arithmatic here could be moved to the shader but keeping it here makes the shader cleaner so ¯\_(ツ)_/¯</span>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sekarang mari kita panggang kedalaman terrane ke dalam tekstur.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">// The context menu tag allows us to run methods from the inspector (https://docs.unity3d.com/ScriptReference/ContextMenu.html)</span>
[<span class="hljs-meta">ContextMenu(<span class="hljs-meta-string">"Bake Depth Texture"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BakeTerrainDepth</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//call our update camera method </span><font></font>
    UpdateBakingCamera();<font></font>
 <font></font>
    <span class="hljs-comment">//Make sure the shader and texture are assigned in the inspector</span>
    <span class="hljs-keyword">if</span> (depthShader != <span class="hljs-literal">null</span> &amp;&amp; depthTexture != <span class="hljs-literal">null</span>)<font></font>
    {<font></font>
        <span class="hljs-comment">//Set the camera replacment shader to the depth shader that we will assign in the inspector </span>
        cam.SetReplacementShader(depthShader, <span class="hljs-string">"RenderType"</span>);
        <span class="hljs-comment">//set the target render texture of the camera to the depth texture </span><font></font>
        cam.targetTexture = depthTexture;<font></font>
        <span class="hljs-comment">//set the render texture we just created as a global shader texture variable</span>
        Shader.SetGlobalTexture(<span class="hljs-string">"TB_DEPTH"</span>, depthTexture);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
        Debug.Log(<span class="hljs-string">"You need to assign the depth shader and depth texture in the inspector"</span>);<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Nilai-nilai akan menjadi lebih jelas ketika kita mulai bekerja dengan shader. </font><font style="vertical-align: inherit;">Berikut adalah gambar kecil yang dapat menjelaskan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pm/hj/i2/pmhji2hicayyxh7plycoopbx1x4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami akan memindahkan terrane ke tekstur kedalaman untuk kemudian membacanya dan memahami di mana harus melakukan blending.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sekarang kami memiliki semua yang kami butuhkan untuk menciptakan efek blending dasar di shader. Pada titik ini, skripnya terlihat seperti ini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pastebin.com/xNusLJfh</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Oke, sekarang kita memiliki skrip, kita dapat menambahkannya ke kamera pemanggang yang kita tambahkan sebelumnya. Aset awal memiliki shader yang disebut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'DepthShader' (Inresin / Shaders / DepthShader)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tekstur Render</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> disebut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'DepthTerrainRT' (Inresin / RenderTextures / DepthTextureRT)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Anda perlu menempatkannya di bidang yang sesuai di inspektur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, cukup jalankan metode melalui menu konteks untuk memanggang kedalaman medan kami di </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tekstur Render</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qh/dl/tm/qhdltmjap9-flgdtvl0twazylyi.gif"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shader</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Akhirnya mari kita buat shader untuk blending. Buat </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shader amplifikasi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> standar baru </font><font style="vertical-align: inherit;">dan buka, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beri</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nama </font><i><font style="vertical-align: inherit;">'TerrainBlending'</font></i><font style="vertical-align: inherit;"> atau lebih. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu membuat UV untuk </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tekstur render</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini akan menjadi perbedaan antara titik yang sedang diberikan dan posisi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kamera pemanggang</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diskalakan relatif terhadap total area. Tiga variabel global di sini adalah yang baru saja kita nyatakan dalam kode. Kami juga menetapkan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worldY</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sebagai variabel lokal, kami akan membutuhkannya nanti. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ei/ml/lm/eimllmdyi94c2_9tdwv_8orv9u8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita ambil tekstur kedalaman yang kita tetapkan sebagai variabel global (untuk ini, tambahkan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simpul sampel tekstur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , buat global dan </font><i><font style="vertical-align: inherit;">beri</font></i><font style="vertical-align: inherit;"> nama </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'TB_DEPTH'</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), jika kita menempatkan output di bidang </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug memperkuat shader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ', kita bisa melihat apa yang terjadi. Buat pesawat dengan bahan yang akan digunakan shader baru kami.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pz/hu/_i/pzhu_i59oxdberrgviej7cvbvci.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jadi, di shader, kami memiliki informasi tentang kedalaman, sekarang kami perlu menambahkan offset di y untuk mendapatkan blending. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ly/jy/lf/lyjylfsocd6cjfm46nu0z1xmjvg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok ini menskala posisi y dari mask </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bidang klip jarak jauh</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mengurangi nilai ini dari posisi dunia sepanjang sumbu y dari titik yang sedang dirender, dan akhirnya menggesernya ke sisi bawah kotak pembatas kamera (posisi kamera dikurangi bidang </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">farclip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sudah sesuatu! Kita melihat bagaimana ujung-ujung pesawat bergabung dengan terrane. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/fv/zu/rbfvzuc3sccy_dtknu6uitu-wns.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Ok, mari membuat blending lebih terkontrol. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uq/0o/1p/uq0o1prljhkkeiuxii5xmsnk5hm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sekarang kita dapat mengontrol ketebalan dan luas blending terrane. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/tv/_b/zctv_bwpjihiwxpehsdokdbidry.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Saya pikir kita bahkan dapat menambahkan sedikit noise. Mari kita gunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">posisi dunia</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menghasilkan noise dari tekstur.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xk/cv/po/xkcvpov6owwyfc7nxehrcmtyhiq.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Tekstur noise ada di folder tekstur dalam proyek startup, mereka dapat ditugaskan di inspektur atau sebagai konstanta dalam shader itu sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya saatnya untuk menambahkan beberapa tekstur! Untuk memulai, mari gunakan beberapa tekstur satu warna sederhana, saya menambahkan dua tekstur ke folder dengan aset tekstur. Jadikan </font><font style="vertical-align: inherit;">tekstur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'SingleColorGrass' sebagai</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tekstur </font><i><font style="vertical-align: inherit;">terrane</font></i><font style="vertical-align: inherit;"> . Kemudian dalam shader Anda perlu membuat tekstur terran dan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simpul tekstur objek</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kami akan beralih di antara mereka di saluran merah topeng yang baru saja kami buat. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/ny/8d/4fny8dg2v4godrj_khbragcc62s.png"><br>
<img src="https://habrastorage.org/webt/mw/6a/_v/mw6a_vyko0crhqvwgmqodlk46xa.png"><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan di sini adalah shader lengkap.</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/cf/lr/ut/cflrutnc9-qxa2e9v3kpxnidta0.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 Menambahkan pencahayaan kustom </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toon</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau model </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pencahayaan yang tidak menyala akan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memberikan hasil terbaik untuk shader ini. Saya menyalakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lampu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terrane shader dan </font><font style="vertical-align: inherit;">versi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gelap</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari shader dalam paket lengkap yang tersedia untuk sponsor.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/vn/to/17/vnto17ss8bwcmfk3o_e0iguuxh8.png"></div> <br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unlit Terrane dan Jerat</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saya juga merekomendasikan menambahkan triplanar shader ke terrane dan mungkin jerat lainnya. </font><font style="vertical-align: inherit;">Saya dapat mempertimbangkan masalah ini di panduan berikutnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yah, kita hampir selesai dengan tema utama panduan hari ini. </font><font style="vertical-align: inherit;">Saya telah menambahkan beberapa bagian yang dapat membantu dengan ekstensi shader.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstensi Shader - Normal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Saya menambahkan shader reguler ke file, Anda dapat menggunakannya untuk menulis normal ke permukaan terrane dan juga menggunakan blending. Untuk permainan saya, saya tidak perlu campuran normal, jadi saya hanya bereksperimen sedikit dan sepertinya percobaan itu sukses, dan ide saya berfungsi dengan baik untuk medan tanpa perubahan ketinggian tinggi. Saya menyertakan shader pemetaan normal dalam direktori dengan set shader awal. Di sini Anda dapat melihat implementasi dasar saya dari peta normal: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/lt/l1/vwltl1vedanxqwo5w0ofn4puf7k.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Kode hampir sama dengan peta kedalaman, tapi kali ini kita akan menggunakan peta normal sebagai </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengganti shader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Saya juga menambahkan satu set tekstur render untuk merekam normal (di sini Anda mungkin memerlukan konfigurasi tambahan).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar normal bekerja dengan baik, mungkin diperlukan sedikit usaha lebih banyak terkait penyetelan, dan mungkin juga ada batasan yang terkait dengan terran tingkat rendah (tapi saya belum melakukan tes yang cukup untuk mengonfirmasi hal ini).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstensi Shader - Semua Warna</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Saya tidak akan masuk jauh ke detail topik ini, karena melampaui apa yang diperlukan untuk permainan saya, tapi saya memikirkannya saat menulis panduan ini. Untuk menambahkan campuran banyak warna, kita dapat memilih </font><font style="vertical-align: inherit;">warna terran yang tidak </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terang</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan menyimpannya sebagai tekstur. Dalam hal ini, kami dibatasi oleh resolusi yang cukup rendah, tetapi metode ini berfungsi dengan baik saat menggunakan tekstur medan satu warna dan tekstur resolusi rendah, atau saat menggunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redup samar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dengan penyesuaian kecil, mereka juga dapat diterapkan pada jerat terrane. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah kode untuk opsi multicolor:</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Header(<span class="hljs-meta-string">"The following settings are only if using the multi-color terrain shader"</span>)</span>]
<span class="hljs-comment">//Shader that renders the unlit terraom of an object</span>
<span class="hljs-keyword">public</span> Shader unlitTerrainShader;
<span class="hljs-comment">//The render texture which will store the normals of our terrain</span>
<span class="hljs-keyword">public</span> RenderTexture surfaceTexture;
<span class="hljs-comment">//An unlit terrain material used to capture the texture of our terrain without any lighting</span>
<span class="hljs-keyword">public</span> Material unlitTerrainMaterial;
<span class="hljs-comment">//The terrain you want to capture the textures of</span>
<span class="hljs-keyword">public</span> Terrain yourTerrain;<font></font>
 <font></font>
[<span class="hljs-meta">ContextMenu(<span class="hljs-meta-string">"Bake Surface Texture"</span>)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BakeTerrainSurface</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    UpdateBakingCamera();<font></font>
 <font></font>
    <span class="hljs-comment">//return if there is no terrain assigned</span>
    <span class="hljs-keyword">if</span> (yourTerrain == <span class="hljs-literal">null</span>)<font></font>
    {<font></font>
        Debug.Log(<span class="hljs-string">"You need to assign a terrain to capture surface texture"</span>);
        <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
 <font></font>
    StartCoroutine(BakeColors());<font></font>
}<font></font>
 <font></font>
<span class="hljs-function">IEnumerator <span class="hljs-title">BakeColors</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    Material tempTerrainMaterial = yourTerrain.materialTemplate;<font></font>
 <font></font>
    yourTerrain.materialTemplate = unlitTerrainMaterial;<font></font>
 <font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
 <font></font>
    cam.SetReplacementShader(unlitTerrainShader, <span class="hljs-string">"RenderType"</span>);<font></font>
    cam.targetTexture = surfaceTexture;<font></font>
    Shader.SetGlobalTexture(<span class="hljs-string">"TB_SURFACE"</span>, surfaceTexture);<font></font>
 <font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
 <font></font>
    cam.targetTexture = <span class="hljs-literal">null</span>;<font></font>
    yourTerrain.materialTemplate = tempTerrainMaterial;<font></font>
 <font></font>
    <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
 <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Satu-satunya perubahan dalam shader adalah bahwa alih-alih menggunakan tekstur yang telah ditentukan, kami menggunakan tekstur permukaan medan yang ditentukan secara global yang akan menggunakan posisi relatif sebagai UV. </font><font style="vertical-align: inherit;">Ekstensi tambahan memungkinkan Anda mendapatkan perpaduan tekstur yang lebih menyenangkan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wl/ts/xe/wltsxewq-f-2ymxewxjfuew5wk4.png"> <br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memadukan banyak tekstur </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah grafik multicolor lengkap dengan shader blending normal:</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/jw/bx/vp/jwbxvprh_o3wt9iaw7mmh6vjufa.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Selamat jika Anda telah membaca hingga titik ini! </font><font style="vertical-align: inherit;">Seperti yang saya katakan, ini adalah panduan pertama saya, jadi saya akan sangat menghargai umpan balik. </font><font style="vertical-align: inherit;">Jika Anda ingin mendukung saya dalam membuat game dan tutorial, lihat di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau berlangganan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajari lebih lanjut tentang kursus</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id504510/index.html">Program sendiri. Cara mencari pekerjaan di TI</a></li>
<li><a href="../id504516/index.html">Taktik peretas favorit</a></li>
<li><a href="../id504520/index.html">Cara membuat 70 publikasi gratis tentang proyek yang tidak dikenal dalam seminggu</a></li>
<li><a href="../id504522/index.html">Apa yang harus dilihat di karantina? Pilihan bahan dari Technostream (bagian 6)</a></li>
<li><a href="../id504524/index.html">Model Pengembangan Epidemi COVID-19 Khas</a></li>
<li><a href="../pt486176/index.html">Memorando de correspondência por e-mail corporativo</a></li>
<li><a href="../pt486178/index.html">FOSS News No. 1 - revisão de notícias gratuitas e de código aberto de 27 de janeiro a 2 de fevereiro de 2020</a></li>
<li><a href="../pt486180/index.html">Dicas e fontes para criar aplicativos sem servidor</a></li>
<li><a href="../pt486184/index.html">Como usar a pesquisa efetivamente</a></li>
<li><a href="../pt486186/index.html">Nuvem catastrófica: como funciona</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>