<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🎓 🔪 🎚️ CelonisによるSAP Process Miningのデータを準備する方法 👴🏿 👠 ☠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="例として、ITサービス管理システム（ITSM）からのデータの使用。SAPプロセスマイニング
 
 に関する以前の記事またはビジネスプロセスを理解する方法で、企業環境におけるプロセスマイニングとそのアプリケーションについて説明しました。今日は、データモデルとその準備プロセスについて詳しく説明します。コ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CelonisによるSAP Process Miningのデータを準備する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sap/blog/462565/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例として、ITサービス管理システム（ITSM）からのデータの使用。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">SAPプロセスマイニング</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
に関する以前の記事</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">またはビジネスプロセスを理解する方法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、企業環境におけるプロセスマイニングとそのアプリケーションについて説明しました。</font><font style="vertical-align: inherit;">今日は、データモデルとその準備プロセスについて詳しく説明します。</font><font style="vertical-align: inherit;">コンポーネント、コンポーネントの相互接続方法、データ所有者から要求するデータ形式、およびCelonisによるSAP Process Miningのイベントテーブルを生成するためのアプローチについて説明します。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CELONISによるSAP PROCESS MININGのデータモデル</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CelonisツールによるSAP Process Miningのデータ構造は非常にシンプルです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「イベントテーブル」</font><font style="vertical-align: inherit;">これはデータモデルの必須部分です。</font><font style="vertical-align: inherit;">このようなテーブルは、個々のデータモデルごとに1つだけです。</font><font style="vertical-align: inherit;">プロセスグラフが自動的に生成されます。</font><font style="vertical-align: inherit;">図1を参照してください。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリは、追加の分析情報で「イベントテーブル」を拡張する他のテーブルです。彼女とは異なり、参照情報は時間とともに変化しません。より正確には、分析する時間間隔で変化してはなりません。たとえば、契約のプロパティ、調達品目、何かのアプリケーション、従業員、規制、請負業者、およびプロセスに何らかの形で関与しているその他のオブジェクトの説明を含むテーブルにすることができます。この場合、ディレクトリはこれらのオブジェクトのすべての種類の静的プロパティ（量、タイプ、名前、名前、サイズ、部門、住所、およびその他のすべての種類の属性）を記述します。ディレクトリはオプションです。それらなしでデータモデルを実行できます。そのようなプロセスを単に分析することはそれほど面白くないでしょう。</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/12/_k/_x/12_k_xejzbntkhaiom6fpnpmgge.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1.プロセスマイニングのデータモデル：イベントテーブルとプロセスインスタンス</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の</font><i><font style="vertical-align: inherit;">ディレクトリ</font></i><font style="vertical-align: inherit;">イベントテーブルは、インメモリSAP HANAプラットフォームの標準テーブル（論理テーブルではなく物理ストレージ）です。ディレクトリは、標準テーブル（物理ストレージ）および計算テーブル（計算ビュー）として提示できます。まれな例外を除いて、CSVまたはXLSXの形式の小さな参照を既存のデータモデルに追加する必要がある場合があります。この機能は、グラフィカルインターフェイスに直接存在します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下では、データモデルのこれら2つのコンポーネントのそれぞれを詳しく見ていきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「イベントテーブル」（別名「イベントログ」）には、少なくとも3つの必須列が含まれています。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセスIDは、各プロセスインスタンス（参照、インシデント、タスク番号など）の一意のキーです。</font><font style="vertical-align: inherit;">図2の例では、これは「CASE_ID」列です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクティビティ。</font><font style="vertical-align: inherit;">これはプロセスのステップの名前です-私たちが興味を持っているある種のイベントです。</font><font style="vertical-align: inherit;">プロセスグラフが構成されるのは、アクティビティからです（列「EVENT」）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントのタイムスタンプ（「TIMESTAMP」列）。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/sm/sz/pg/smszpglecovhwhmfwaytfpi0wme.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図2.イベントテーブルの例</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
現在のバージョンのCelonisによるSAP Process Miningでは、1つのデータモデルで最大1000個の一意のイベントがサポートされています。</font><font style="vertical-align: inherit;">つまり、上記の例の「EVENT」列の一意の値の数（イベントテーブルでは異なる方法で呼び出される場合があります）は1000以下にする必要があります。また、イベント自体（つまり、このテーブルの行）は非常に多くなる可能性があります。</font><font style="vertical-align: inherit;">1つのデータモデルで何億ものイベントの例を見てきました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイムスタンプは単一の列で表すことができ、それが何を意味するかを決定するのはあなたの仕事です-ステップの開始または終了、またはステップの開始と終了が明示的に示されている場合、図3のように2つの列。 2列バージョンの基本的な違いは、システムは互いに並行して実行されるステップを自動的に認識できることです。これは、さまざまなステップの開始時間と終了時間を比較すると明らかです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/6s/uv/dc6suvxtb50cenruxd4on-rmva8.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3. 2つのタイムスタンプを持つイベントテーブルの例</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このテーブルの他の列はすべてオプションです。必要な3つの列を使用してプロセスグラフを正常に復元できますが、何かが欠けているという感覚を取り除くことは困難です。したがって、スピーカーの最小セットだけに限定しないことを強くお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
追加の列-これは、プロセス中に変更されるか、特定のイベントに関連付けられている、興味のある情報です。たとえば、イベントを作成した従業員の名前、ワーキンググループ、アプリケーションの現在の優先度などです。時間依存の強調は、ここでは偶然ではありません。イベントテーブルには変更可能なデータのみを残すことをお勧めします。その他すべての静的情報は、別のディレクトリに配置するのが最適です。つまり、可能であれば、イベントログを正規化する必要があります。これは、データ量を減らすためではなく、分析レポートを作成する段階でPQL式をさらに処理するために行われます。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてが整っているようにしましょう</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「イベントテーブル」に参照情報を含む列を追加するとどうなりますか？一般に、少なくとも最初はひどいことは起こりません。また、いくつかのアイデアをすばやくテストするには、このオプションが非常に適しています。マイナスの影響は2つしかありません。データのコピーの不必要な複製と、一部の分析式での追加の困難です。すべての追加データがディレクトリに送信されていれば、これらの問題は回避できたはずです。一般に、すぐに実行するのが最善です。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライセンスについて少し</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントテーブルは、CelonisによるSAP Process Miningのライセンスに関連付けられています。 1つのデータモデル= 1ライセンス= 1イベントログ。一定の予約があれば、1つのイベントログ= 1つのビジネスプロセスと言えます。警告は次のようになります。複数のプロセスが1つのイベントログに収まる場合、またはその逆の場合に状況が発生する可能性があります。1つのプロセスに対して複数のイベントログが意図的に作成されます。さらに、「ビジネスプロセス」という用語は、データの観点から非常に広く解釈できます。したがって、ライセンスの目的で、明白な基準として、イベントログの数が選択されました。この基準に基づいて信頼する必要があります。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディレクトリはオプションであり、データモデルへの追加はオプションです。プロセスの分析に役立つ可能性のある追加情報が含まれています。ただし、イベントのテーブルとは異なり、ディレクトリ内の情報は静的であり、イベントが発生した時間には依存しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、1つの特定のケースに言及する必要があります。ビジネスプロセスのステップを実行するユーザーのデータに関しては、疑問が生じます。この情報は参照ですか？一方で、はい-これは静的データです。イベントテーブルに特定の「USER_ID」のみを残しておくと、ユーザーの名前、役職、部署、ワーキンググループのメンバーシップなどがアクティビティに関連付けられます。しかし一方で、ビジネスプロセスを2〜3年の期間で分析するとします。この間、ユーザーはいくつかの投稿を変更し、部門またはワーキンググループを切り替えることができます。これは、時間とともにすでに変化している情報であることがわかります。この場合、イベントテーブルに残しておく必要があります。「USER_ID」のほかに、「ワーキンググループ」、「役職」、「部門」、さらには「フルネーム」などの列がイベントログに表示されます（この間に姓も変更される可能性があります）。一般に、ユーザー情報を正規化するかどうかは、お客様の判断に委ねられています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディレクトリは既存のデータモデルにいつでも追加できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うのは非常に簡単です：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAP HANAにテーブルが作成されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[データのインポート]ボタンを使用して、テーブルが一般的なデータモデルに追加されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-h/dt/un/-hdtunkocklfpgs_m4u1sd6y0ca.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図4.テーブルまたはファイルを既存のデータモデルにインポートする</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーは、新しいインターフェイスがイベントテーブルや他のディレクトリに関連付けられるグラフィカルインターフェイスに表示されます。</font><font style="vertical-align: inherit;">これを行うには</font></font><img src="https://habrastorage.org/webt/m8/mk/8x/m8mk8x955o54qbv_gm2ewx3lx68.png" alt="画像"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、1つのテーブル</font><font style="vertical-align: inherit;">のアイコン</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">クリックしてから</font></font><img src="https://habrastorage.org/webt/m8/mk/8x/m8mk8x955o54qbv_gm2ewx3lx68.png" alt="画像"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、別のテーブルの</font><font style="vertical-align: inherit;">対応する</font><font style="vertical-align: inherit;">アイコン</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">クリックし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/xg/vw/xwxgvwuaonmge2ddo8y0-5jwvx8.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図5.任意のフィールド（この場合はCASE_ID）によるデータモデル内のテーブルのリンク</font></font></i></li>
<li>  «»    «  ».      .<br>
<br>
<img src="https://habrastorage.org/webt/g3/80/78/g38078xq1yrpi9yvthhk336aovo.jpeg" alt="画像"><i> 6.     </i></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの手順を完了すると、新しいレポートと既存のレポートの両方で、すぐに新しい分析を使用できます。データモデルの強化は、アナリストの現在の作業に悪影響を与えることはありません。作成されたすべてのレポートは引き続き機能し、やり直したり、何らかの方法で変更したりする必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
比較的小さなディレクトリの場合、もう1つの可能性があります。もちろん、完全に工業化されたバージョンではありませんが、それも役立ちます。これは、CSV、XLSX、DBFファイルをグラフィカルインターフェイスを介してデータモデルに直接ロードすることです。手順は上記とまったく同じですが、データベーステーブルの代わりに、事前に準備されたファイルが使用され、[データのインポート]ボタンでロードされます。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAテーブル：プロセスインスタンスリファレンス</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リファレンスブックに関するこれまでの会話は、リファレンスブックがオプションであることから始まりました。これらはデータモデルから完全に省略でき、イベントのテーブルのみに制限されます。これはほぼ本当です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必須の参照が1つ存在します。これは、ステータス「CAテーブル」でマークされたテーブルである必要があります。 CAは一連のイベントです。そして、ご想像のとおり、このディレクトリのキーは「CASE_ID」、つまりプロセスインスタンスの一意の識別子になります。このようなリファレンスでは、個々のプロセスインスタンスの静的プロパティについて説明しています。 ITSMの例：異議申し立ての作成者、ビジネスサービス、締め切り日、または問題を正常に解決した従業員、大衆のしるしなど。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7d/lf/-t/7dlf-t9r6snfbvw83qujkd1sfio.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図7. CAテーブルの例</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでも私はあなたをあまり騙しませんでした。何らかの理由で、必要なディレクトリをデータモデルに追加しないと決定した場合、システムはそれ自体を生成します。作業の結果は[ステータス]タブで確認できます。たとえば、イベントテーブルが「ITSM_EVENTS」と呼ばれている場合、図8のように、テーブル「ITSM_EVENTS_CASES」がそれに関連して生成されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g3/80/78/g38078xq1yrpi9yvthhk336aovo.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図8.イベントチェーン（CA）の自動生成テーブル</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動生成されたCAテーブルは、プロセスインスタンスの非常に単純な説明になります：キー、イベント数、プロセス期間（プロセスIDでイベントテーブルをグループ化した場合と同様に、行数と、最初のステップと最後のステップの時間の差を計算しました）。したがって、独自のより興味深いバージョンのCAテーブルを作成することは理にかなっています。いつでもデータモデルに追加できます。この場合、CAテーブルをモデルに追加するとすぐに、システムによって生成されたディレクトリ（この場合は「ITSM_EVENTS_CASES」）がデータモデルから自動的に削除されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「CAテーブル」が興味深いのはなぜですか？</font><font style="vertical-align: inherit;">プロセスの詳細としてグラフィカルインターフェイスに表示されるのは彼女です。</font><font style="vertical-align: inherit;">アナリストがデータモデルを使用しているときに、プロセスで何か面白いものを見つけて、個々の特定の例に行きたい場合、彼は「CAの表示」レポート、つまり詳細を使用します。</font><font style="vertical-align: inherit;">このようなレポートを開くと、プロセス参照がわかります（もちろん、イベントテーブルと結合されています）。</font><font style="vertical-align: inherit;">したがって、「CAテーブル」に、アナリストがプロセスのプロパティとそのコースの条件を理解するために使用できるすべてのものを追加します。</font></font><br>
 <br>
 <img src="https://habrastorage.org/webt/zv/_i/xb/zv_ixbz0ebqsvjugcoqrwxtxtzi.png" alt="画像"><br>
<img src="https://habrastorage.org/webt/jq/ga/zu/jqgazus0ddp1ab-nad7pf9xsek4.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図9.「ビューCA」レポートの合成例。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
プロセス参照をデータモデルに追加する方法：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAP HANAにテーブルが作成されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[データのインポート]ボタンを使用して、テーブルが一般的なデータモデルに追加されます。</font></font></li>
<li>  ,        «  ».<br>
<br>
<img src="https://habrastorage.org/webt/mx/u-/q3/mxu-q36e_tfs0bdgj19yq82vld4.png" alt="画像"><br>
<i> 10.  «  »     </i></li>
<li>           .      ,       –     (<img src="https://habrastorage.org/webt/m8/mk/8x/m8mk8x955o54qbv_gm2ewx3lx68.png" alt="画像">)   .</li>
<li>  «»    «  ».</li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要な注意：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセスIDが含まれ、イベントテーブルとの関連付けに使用されるCAテーブル</font><b><font style="vertical-align: inherit;">の</font></b><font style="vertical-align: inherit;">「CASE_ID」列（いずれの場合も、他の方法で呼び出される場合があります）には、一意の値のみを含める必要があります。</font><font style="vertical-align: inherit;">これはかなり論理的です。</font><font style="vertical-align: inherit;">そして、何らかの理由でそうでない場合、ステップ（5）でデータモデルをロードすると、対応するエラーが発生します（イベントテーブルとCAテーブルで「JOIN」操作を実行できないことについて）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更履歴からデータモデルを作成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、Process Miningの非常に異なるデータソースに出くわします。それらの構成は、選択したビジネスプロセスと顧客が採用した基準によって決まります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も一般的なケースの1つは、ITサービス管理システム（ITSM、ITサービス管理）からのデータであるため、この例を最初に解析することにしました。実際、このアプローチでは、特にITSMとの緊密な結びつきはありません。データソースが変更履歴または監査ログである他のビジネスプロセスに適用できます。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITに何を尋ねるべきか？</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
IT従業員またはITSMを担当するスペシャリストではない場合は、「何をアンロードしますか？」という質問に対する正確な回答を作成するように求められることに備えてください。または「あなたは私たちに何を望みますか？」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これは常に知られているわけではありません-正確に何が必要か。ビジネスプロセスの分析は、調査、パターンの検索、および「洞察」の探求です。どのような「洞察」を探しているのかを事前に知っていれば、これはもはや「洞察」にはなりません。実際、私は「すべて」、つまり属性、関係、変更を取得したいと考えています。しかし、実践が示すように、あまりにも一般的な質問に対して適切な正確な答えを得ることは不可能でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「何をアンロードするか」という質問には、2つの回答が考えられます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オプションが間違っています：アプリケーションステータスのすべての変更と一連の明らかな属性（たとえば、優先度、アーティスト、ワークグループなど）をアンロードするようにベースに依頼します。まず、限られた数のアナリストを取得します。つまり、プロセスで何を測定するかが既にわかっているため（属性のセットの取得元です）、プロセスマイニングはプロセスKPIを計算するためのツールになります（非常に便利ですが、ツールですが、それでも私はもっと）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、個々のIT部門がリクエストを異なる方法で解釈して、アップロードにリクエスト属性を追加します。</font><font style="vertical-align: inherit;">たとえば、優先順位を付けます。通話中に変更される可能性があります。</font><font style="vertical-align: inherit;">異議申し立ては1つの優先度で登録され、次にワーキンググループのスペシャリストが変更し、別のステータスで終了します。</font><font style="vertical-align: inherit;">そして今、問題は次のとおりです。あなたが要求した荷降ろしの中で、優先度はどの瞬間に対応しますか？</font><font style="vertical-align: inherit;">最初は、優先度の値は「イベントの日時」の列に対応しているようです。</font><font style="vertical-align: inherit;">ただし、実際には、示された日時はアプリケーションのステータス自体にのみ対応していることがよくわかります。他のすべての列は、アンロード時またはアプリケーションを閉じた時点の値です。</font><font style="vertical-align: inherit;">そして、あなたはすぐにこれについて知りません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私にはもっと良いオプションがあるようです。</font><font style="vertical-align: inherit;">次の表の形式でデータをリクエストできます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上訴、インシデント、タスクの数（SD *、IM *、RT *、...）は、ITSMシステム内のオブジェクトのID（NVARCHAR）です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイムスタンプ（TIMESTAMP）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性名（NVARCHAR）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古い値（NVARCHAR）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい値（NVARCHAR）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">誰が変更したか（NVARCHAR）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、これは属性の変更履歴にすぎません。</font><font style="vertical-align: inherit;">ITSMシステムのインターフェースでは、「履歴」または「ジャーナル」という名前のタブにそのようなテーブルが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの利点は明白です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シンプルで明確なアップロード形式。</font><font style="vertical-align: inherit;">彼は、システム自体のグラフィカルインターフェイスでITプロフェッショナルに精通しています。</font><font style="vertical-align: inherit;">基本からの質問を引き起こすべきではない。</font></font></li>
<li>         . ,   ,  ,  .       ,              (   ,      ).</li>
<li>   .   ,       .</li>
<li>  ,         .  ,          .            (« »)          .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のオプションの欠点も明らかです。</font><font style="vertical-align: inherit;">そして、それらは、私には思えますが、（不完全なデータの問題とは対照的に）解決できます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ準備用のSQLスクリプトは、ITベーシスチームが疑わずに部分的なデータ準備を行うオプション（上記のクエリの最初のバージョンを参照）と比較すると、やや複雑になります。</font><font style="vertical-align: inherit;">はい、彼（スクリプト）はもっと複雑ですが、彼は一人です。</font><font style="vertical-align: inherit;">ITSMチームとプロセスマイニングチームの間でデータ準備を共有することは悪い考えだと思います。</font><font style="vertical-align: inherit;">理想的には、変換全体をプロセスマイニングチームに転送して、データで何が起こっているかを正確に理解し、ソース側のデータへの干渉を最小限に抑える必要があります。</font><font style="vertical-align: inherit;">シンプルなデータ交換フォーマットは、この目標を達成するのに役立ちます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンロード量が多い。</font><font style="vertical-align: inherit;">注文は次のようになります。大企業の場合、10〜30 GB /年。</font><font style="vertical-align: inherit;">しかし、そのようなボリュームをHANAにロードすることはまったく問題ではなく、タスクとさえ見なされていません。</font><font style="vertical-align: inherit;">また、「アップロード」についてはパイロットプロジェクトでのみ説明しますが、データソースとHANA間のETL / ELT統合（HANAスマートデータ統合など）は産業運用で使用されるため、この項目は問題ではなくなります。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがプロセスマイニングタスクのためにITSMシステムからデータを取得する唯一の正しい方法であるとは言いたくありません。</font><font style="vertical-align: inherit;">しかし、現時点では、これがこのタスクに最も便利な形式であると信じる傾向があります。</font><font style="vertical-align: inherit;">おそらくもっと興味深いアプローチがたくさんあります。私と共有してくれるアイデアがあれば、喜んで話し合います。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントテーブルの生成</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、出口には、リクエスト、インシデント、コール、タスク、およびその他のITSMオブジェクトの属性の変更履歴があります。</font><font style="vertical-align: inherit;">このようなテーブルから、プロセスマイニングデータモデルの主要なコンポーネントであるイベントテーブルとCAテーブルの両方を生成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変更履歴に基づいてイベントを生成するには、次の手順を実行します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更履歴から、（条件付きで）「属性名」列のすべての一意の値を収集します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセスグラフに表示する属性の変更を決定します。</font><font style="vertical-align: inherit;">私たちにとって「イベント」とは何ですか？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">適切な計算ビューを作成するか、変更履歴から選択した行をフィルタリングしてイベントテーブルを生成するSQLスクリプトを記述します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変更テーブルが次のようであるとします。</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE COLUMN TABLE "SAP_PM"."ITSM_HISTORY" (<font></font>
<font></font>
	"CASE_ID"	NVARCHAR(256),<font></font>
	"ATTRIBUTE"	NVARCHAR(256),<font></font>
	"VALUE_OLD"	NVARCHAR(1024),<font></font>
	"VALUE_NEW"	NVARCHAR(1024),<font></font>
	"TS"		TIMESTAMP,<font></font>
	"USER"		NVARCHAR(256)<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、存在するすべての属性のリストを確認します。</font><font style="vertical-align: inherit;">これは、[データプレビューを開く]メニューで、または次のような単純なSQLクエリで実行できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">SELECT DISTINCT "ATTRIBUTE" FROM "SAP_PM"."ITSM_HISTORY";</code></pre><br>
<img src="https://habrastorage.org/webt/cg/vy/cz/cgvyczucqvufw0twxxeuvsn9izq.png" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図11. SAP HANA Studioの[データプレビューを開く]コマンドを含むコンテキストメニュー次に</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
、属性の構成を定義します。その変更は、プロセス内のイベントです。</font><font style="vertical-align: inherit;">以下は、そのようなリストの明らかな候補のリストです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状態</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事に連れて行かれた</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カテゴリが変更されました</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">期限違反</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応時間が違反しています</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改訂のリクエストが返されました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1行目エラー</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワーキンググループ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">優先事項</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、ここでの主なイベントは、異議申し立て/インシデント\アプリケーション\タスクのステータス間の遷移です。</font><font style="vertical-align: inherit;">「ステータス」属性（VALUE_NEW）の値自体が、プロセスステップの名前になります。</font><font style="vertical-align: inherit;">したがって、最初の近似としてイベントテーブルを作成すると、次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE COLUMN TABLE <font></font>
"SAP_PM"."ITSM_EVENTS" (<font></font>
 "CASE_ID"	NVARCHAR(256)<font></font>
,"EVENT"	NVARCHAR(1024)<font></font>
,"TS"		TIMESTAMP<font></font>
,"USER"	NVARCHAR(256)<font></font>
,"VALUE_OLD"	NVARCHAR(1024)<font></font>
,"VALUE_NEW"	NVARCHAR(1024)<font></font>
);<font></font>
<font></font>
INSERT INTO "SAP_PM"."ITSM_EVENTS"<font></font>
SELECT<font></font>
	 "CASE_ID"<font></font>
	,"VALUE_NEW" AS "EVENT"<font></font>
	,"TS"<font></font>
	,"USER"<font></font>
	,"VALUE_OLD"<font></font>
	,"VALUE_NEW"<font></font>
<font></font>
FROM "SAP_PM"."ITSM_HISTORY"<font></font>
WHERE "ATTRIBUTE" = ''<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残りの属性を変更することは、プロセスの研究をさらに面白くするための追加のステップです。</font><font style="vertical-align: inherit;">それらの構成は、ビジネスアナリストの要求によって決定され、会社でのプロセスマイニングの実践が進むにつれて変化する可能性があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_EVENTS"<font></font>
SELECT<font></font>
	 "CASE_ID"<font></font>
	,"ATTRIBUTE" AS "EVENT"<font></font>
	,"TS"<font></font>
	,"USER"<font></font>
	,"VALUE_OLD"<font></font>
	,"VALUE_NEW"<font></font>
<font></font>
FROM "SAP_PM"."ITSM_HISTORY"<font></font>
WHERE "VALUE_OLD" IS NOT NULL AND "ATTRIBUTE" IN (<font></font>
	 '   '<font></font>
	,'  '<font></font>
	,'  '<font></font>
	,'  '<font></font>
	,'    '<font></font>
	,' 1- '<font></font>
	,' '<font></font>
	,'')<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WHERE "ATTRIBUTE" INフィルター（.....）の属性リストの拡張プロセスグラフに表示されるステップの種類を増やします。</font><font style="vertical-align: inherit;">多種多様なステップが常に恵みであるとは限らないことは注目に値します。</font><font style="vertical-align: inherit;">細部が細かすぎると、プロセスの理解が難しくなる場合があります。</font><font style="vertical-align: inherit;">最初の反復の後、必要なステップとデータモデルから除外する必要があるステップを決定すると思います（そして、そのような決定を行い、それらにすばやく適応する自由は、データを変換する作業をプロセスマイニングチームの側に移すことを支持するもう1つの議論です）。 。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィルター「VALUE_OLD」はNULLではありません。ほとんどの場合、フィルターを条件および選択した属性に適したものに置き換えます。</font><font style="vertical-align: inherit;">このフィルターの意味を説明してみます。</font><font style="vertical-align: inherit;">ITSMシステムのいくつかの一般的な実装では、アピールの登録（オープン）時に、オブジェクトのすべての属性の初期化に関する情報がジャーナルに入力されます。</font><font style="vertical-align: inherit;">つまり、すべてのフィールドがいくつかのデフォルト値でマークされています。</font><font style="vertical-align: inherit;">この時点では、VALUE_NEWには同じ初期化値が含まれ、VALUE_OLDには何も含まれません-結局のところ、この瞬間まで履歴はありませんでした。</font><font style="vertical-align: inherit;">プロセスではこれらのレコードは絶対に必要ありません。</font><font style="vertical-align: inherit;">それらはあなたの特定の条件に適したフィルターで取り除く必要があります。</font><font style="vertical-align: inherit;">このようなフィルターは次のとおりです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「VALUE_OLD」はNULLではありません</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"VALUE_NEW" = 'はい'</font></font></li>
<li>     (   ,     ).</li>
<li>    «USER»,     .</li>
<li>    .</li>
</ul><br>
<h3>  C</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントのソースとして機能したのと同じ変更履歴は、プロセスインスタンス（CAテーブル）のディレクトリを作成するのに役立ちます。同様のアルゴリズム：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.次の</font><font style="vertical-align: inherit;">ような</font><font style="vertical-align: inherit;">属性のリストを定義します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。アプリケーションに対する作業中は、たとえば、異議申し立ての作成者とその部署、作業結果に基づくユーザーの評価、期限違反のフラグなど、変更しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b。それらは変更される可能性がありますが、私たちは特定の時点での値にのみ関心があります：登録時、クローズ時、採用時、2行目から1行目への転送など。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c。それらは変化する可能性がありますが、私たちは集約された値（最大、最小、数量など）にのみ関心があります</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.必要な列のセットで対角線テーブルを作成します。</font><font style="vertical-align: inherit;">関心のある各属性は、（プロセスインスタンスの数に応じて）独自の行のセットを生成します。この列では、1つの列のみに値があり、残りはすべて空（NULL）になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.プロセス識別子によるグループ化を使用して、対角表を最終ディレクトリに折りたたみます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CAテーブルに配置することが理にかなっている属性の例（実際には、このリストはさらに長くなる可能性があります）：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITシステム</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者組織</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション品質のユーザー評価</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">復職数</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いつ仕事に連れて行かれた</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって作成された</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">誰が閉じた</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1行目で解決</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">無効な分類/ルーティング</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">締め切り</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">期限違反</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同一の属性は、プロセス内のイベントのソースまたはプロセスインスタンスのプロパティのいずれかになります。たとえば、属性「優先度」。一方では、異議申し立ての登録時の値に関心があり、他方では、この属性の変更のすべての事実を独立したステップとしてプロセスグラフに送信できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の例はデッドラインです。これはプロセスの明らかな参照プロパティですが、プロセスグラフで仮想ステップを作成できます。「期限」などの操作はプロセスに存在しませんが、対応するエントリをイベントテーブルに追加すると、人為的に作成され、相対位置を視覚化できます。プロセスグラフ上の他のステップの実行時間。これは、迅速な分析に便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、属性変更の履歴に基づいてプロセスプロパティを作成する場合、有用な情報源は次のとおりです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性自体の値（例：「ユーザーの評価」）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更したユーザー</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間を変える</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性が特定の値をとった時間（例：属性「期限切れ違反」-興味があるのは属性の値ではなく、「はい」または1などのフラグが立てられたものと同じになる時間）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性がストーリーに存在するという事実（例：値が「yes」の「大事件」）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、このリストは、属性を使用するための他のアイデアやそれらに関連するすべてのものに続けることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対象となるプロパティのリストが既に決定されたので、CAテーブルを生成するための考えられるシナリオの1つを見てみましょう。</font><font style="vertical-align: inherit;">最初に、上で定義した一連の列を使用してテーブル自体を作成します。</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE COLUMN TABLE "SAP_PM"."ITSM_CASES" (<font></font>
<font></font>
	 "CASE_ID"      NVARCHAR(256)	NOT NULL<font></font>
	,"CATEGORY"		NVARCHAR(256)	DEFAULT NULL<font></font>
	,"AUTHOR"		NVARCHAR(256)	DEFAULT NULL<font></font>
	,"RESOLVER"		NVARCHAR(256)	DEFAULT NULL<font></font>
	,"RAITING"		INTEGER			DEFAULT NULL<font></font>
	,"OPEN_TIME"	TIMESTAMP		DEFAULT NULL<font></font>
	,"START_TIME"	TIMESTAMP		DEFAULT NULL<font></font>
	,"DEADLINE"		TIMESTAMP		DEFAULT NULL<font></font>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、プロセステーブルのディレクトリで必要なプロパティ列の属性のフラットリストを整理できるようにする一時テーブル「ITSM_CASES_STAGING」も必要です。</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE COLUMN TABLE "SAP_PM"."ITSM_CASES_STAGING" LIKE "SAP_PM"."ITSM_CASES" WITH NO DATA;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは対角表になります-各行で2つのフィールドのみに値があります： "CASE_ID"、つまり </font><font style="vertical-align: inherit;">プロセス識別子、およびプロセスプロパティを持つ単一のフィールド。</font><font style="vertical-align: inherit;">行の残りのフィールドは空（​​NULL）になります。</font><font style="vertical-align: inherit;">最終段階では、単純な集計によって対角要素を行に簡単に折りたたみ、必要なCAのテーブルを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
治療カテゴリーの例：</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "CATEGORY")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	LAST_VALUE("VALUE_NEW" ORDER BY "TS")<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	WHERE "ATTRIBUTE" = ''<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
異議申し立てを登録した異議申し立ての履歴の中で、著者がシステム以外の最初のユーザーであるとします（特定のケースでは、基準がより正確になる場合があります）。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "AUTHOR")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	FIRST_VALUE("USER" ORDER BY "TS")<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	WHERE "USER" != 'SYSTEM'<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のステータス「ソリューションが提案されました」を提示したプロセッサー（そしてソリューションは繰り返し提供される可能性がありますが、最後の1つだけが修正されている）が問題の解決に成功したと考えると、プロセスインスタンスのこのプロパティは次のように定式化できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "RESOLVER")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	LAST_VALUE("USER" ORDER BY "TS")<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	WHERE "ATTRIBUTE" = '' AND "VALUE_NEW" = ' '<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーの評価（決定に対する彼の満足度）：</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "RAITING")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	TO_INTEGER(LAST_VALUE("VALUE_NEW" ORDER BY "TS"))<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	WHERE "ATTRIBUTE" = ' ' AND "VALUE_NEW" IS NOT NULL<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
登録（作成）の時間は、流通の歴史の中で最も初期の記録です。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "OPEN_TIME")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	MIN("TS")<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
反応時間は、サービス品質の重要な特性です。</font><font style="vertical-align: inherit;">これを計算するには、「仕事に取り掛かった」というフラグが最初に立てられた時期を知る必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "START_TIME")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	MIN("TS")<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	WHERE "ATTRIBUTE" = '   ' AND 'VALUE_NEW' = ''<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
期限は、控訴またはインシデントの解決に対するタイムリーな応答のためのKPIを計算するために使用されます。</font><font style="vertical-align: inherit;">その過程で、締め切りは繰り返し変更される可能性があります。</font><font style="vertical-align: inherit;">KPIを計算するには、この属性の最新バージョンを知っている必要があります。</font><font style="vertical-align: inherit;">デッドラインの変更方法を明示的に追跡する場合、つまり、そのようなケースをプロセスグラフに表示する場合は、この属性を使用してイベントテーブルにエントリを生成する必要もあります。</font><font style="vertical-align: inherit;">これは、プロセスプロパティとイベントソースの両方として同時に機能する属性の例です。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES_STAGING" ("CASE_ID", "DEADLINE")<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID",<font></font>
	MAX(TO_DATE("VALUE_NEW"))<font></font>
	FROM "SAP_PM"."ITSM_HISTORY"<font></font>
	WHERE "ATTRIBUTE" = ' ' AND 'VALUE_NEW' IS NOT NULL<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の例はすべて同じです。</font><font style="vertical-align: inherit;">それらと同様に、CAテーブルは、興味のある属性で拡張できます。</font><font style="vertical-align: inherit;">さらに、これはプロジェクトの開始後にすでに実行できます。システムでは、操作中にデータモデルを拡張できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一時的な対角線テーブルにプロセスインスタンスのプロパティが入力されると、集計を実行してCAの最終的なテーブルを取得するだけです。</font></font><br>
<br>
<pre><code class="plaintext hljs">INSERT INTO "SAP_PM"."ITSM_CASES"<font></font>
SELECT<font></font>
<font></font>
	"CASE_ID"<font></font>
	,MAX("CATEGORY")<font></font>
	,MAX("AUTHOR")<font></font>
	,MAX("RESOLVER")<font></font>
	,MAX("RAITING")<font></font>
	,MAX("OPEN_TIME")<font></font>
	,MAX("START_TIME")<font></font>
	,MAX("DEADLINE")<font></font>
	FROM "SAP_PM"."ITSM_CASES_STAGING"<font></font>
	GROUP BY "CASE_ID"<font></font>
;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、一時テーブルのデータは不要になります。</font><font style="vertical-align: inherit;">テーブル自体を残して、上記のプロセスを定期的に繰り返し続け、プロセスマイニングでデータモデルを更新できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">DELETE FROM "SAP_PM"."ITSM_CASES_STAGING";</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイロットプロジェクトのCSVファイルを準備およびクリーニングするためのヒント</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、パイロットプロジェクトからプロセスマイニングの分野の紹介を開始します。この場合、データソースに直接アクセスすることはできず、IT従業員と情報セキュリティ担当者の両方がこれに抵抗します。つまり、パイロットプロジェクトの一環として、企業システムからCSVファイルにデータをエクスポートし、SAP HANAにインポートしてデータモデルを構築する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
工業施設では、CSVへのエクスポートは行われません。</font><font style="vertical-align: inherit;">代わりに、SAP HANA統合ツール、特にスマートデータ統合（SDI）、スマートデータアクセス（SDA）、またはSAPランドスケープトランスフォーメーションレプリケーションサーバー（SLT）が使用されます。</font><font style="vertical-align: inherit;">ただし、テストとテクノロジの理解のために、テキストCSVファイルへのエクスポートは、組織的に単純な方法です。</font><font style="vertical-align: inherit;">したがって、データベースへの迅速かつ正常なインポートのために、CSVでデータを準備するためのいくつかのヒントを共有することは有用です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エクスポート時のファイル自体の推奨フォーマット要件：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル形式：CSV</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エンコーディング：UTF8</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールド区切り文字：便利な任意の文字。</font><font style="vertical-align: inherit;">たとえば、「|」</font><font style="vertical-align: inherit;">または「^」または「〜」。</font><font style="vertical-align: inherit;">選択のロジックは単純です。「スプリット」がデータ自体に含まれている状況を回避する必要があります。</font></font></li>
<li>     . , ,  ,   , -,  . ,   ,      .  ,    ( )     .         ,       .</li>
<li>:       .       – ,  «».      :  « „“.      .         “\”,  ,   - .    .       .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャリッジトランスファー：フィールド値からすべてのCHAR（10）およびCHAR（13）文字を削除します。</font><font style="vertical-align: inherit;">そうしないと、CSVからインポートできなくなります。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポイント（4）+（5）+（6）を考慮に入れる場合、次の構成を選択に使用することは理にかなっています。</font></font><br>
<br>
<pre><code class="plaintext hljs">REPLACE(REPLACE(REPLACE(REPLACE("COLUMN", '|', ';'), '"', ''), CHAR(13), ' '), CHAR(10), ' ') as "COLUMN"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、CSVファイルの準備が整ったら、ファイルのインポートに対して安全であると宣言されているフォルダー（たとえば、/ usr / sap / HDB / import）内のHANAサーバーにコピーする必要があります。</font><font style="vertical-align: inherit;">ローカルCSVファイルからHANAへのデータのインポートは、ファイルが「クリーン」であれば、かなり迅速な手順です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">futureテーブルの各行は、ファイルの1行だけです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての行の列数は同じです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用符がペアになっているか、まったくありません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールド値の引用符は、「エスケープ」記号「\」を伴うか、完全に省略されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTF-8エンコード（Windowsシステムへのエクスポート時に発生するUTF8-BOMではありません）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらをインポートする前にCSVファイルをチェックし、それらが存在する場合は問題領域を見つける（そして、彼らはおそらく99％になります）するには、次のコマンドを使用することができます：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルの先頭にBOM文字を確認してください：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data.csvを</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドの結果はこのようであれば：「UTF-8 Unicode（with BOM）text」これは、エンコーディングがUTF8-BOMであり、ファイルからBOM文字を削除する必要があることを意味します。次のようにあなたがそれを削除することができます：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sedを-i「1S / ^ \ XEF \ XBB \ XBF //」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data.csv </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列の数は、ファイルの各行で同じである必要があります：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data.csv </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| awk -F»; "'{print NF}' | sort | uniq</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
またはthis：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for i in $（ls * .csv）; do echo $ i; cat $ i | awk -F ';' '{print NF}' |並べ替え| uniq -c;エコー;完了。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変化する ';'パラメータFで、あなたの場合のフィールドセパレータは何ですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのコマンドを実行した結果、各行の列数による行の分布が得られます。理想的には、同じようなものを取得する必要があります</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。EKKO.csv </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
79536 200 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、ファイルには79536行が含まれており、そのすべてに200列が含まれています。列数が異なる行はありません。そうなるはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、誤った結果の例を</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
示します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。LFA1.csv73636 180 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7 181</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、ほとんどの行に180列が含まれていることがわかります（おそらく、これは正しい列の数です）が、181列目の行があります。つまり、いずれかのフィールドの値に区切り記号が含まれています。私たちは幸運で、そのような行は7行しかありません-それらは手動で簡単に確認でき、何らかの形で修正できます。あなたは、列の数がこのように、180に等しくされていない行を参照することができます：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">猫</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data.csvを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">| awk -F ";" '{if（NF！= 180）{print $ 0}}'</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
上記のコマンドの使用に関するメモ。これらのコマンドは引用符に注意を払いません。区切り文字が引用符で囲まれたフィールドに含まれている場合（つまり、データベースへのインポートの観点からは、ここではすべて問題ありません）、次に、このメソッドでチェックすると、誤った問題（追加の列）が表示されます-これは、結果を分析するときにも考慮に入れられる必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引用符がペアになっておらず、この問題を解決できない場合は、ファイルからすべての引用符を削除できます</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。sed -i 's / "// g'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data.csv </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの危険性は、フィールド値に文字が含まれている場合に発生します。区切り文字を入力すると、行の列数が変わるため、エクスポート段階でフィールド値から区切り文字を削除する必要があります（削除するか、他の記号で置き換えます）</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空のフィールド</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
空のデータフィールドがデータのインポートを正常に実行できない状況に直面このように：; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
""</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どこ ";"この場合、フィールド区切り記号です。つまり、フィールドは2つの二重引用符（プレーンな空ストリング）です。突然データをインポートできなくなり、問題が空のフィールドであると思われる場合は、「」をNULLに置き換えてみてください</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sed -i 's /;”” /; NULL / g'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data.csv </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（「; 」</font><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">セパレータのバージョンです）</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ内の「ダーティ」な数値フォーマットを探すと便利です</font><b><font style="vertical-align: inherit;">：;「</font></b></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（数値にはスペースが含まれます）</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;「100.10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -」（「-」の後に「数値」の後）</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クレーンブガッティ3/4 "300-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インチは二重引用符で示されます-これにより、エクスポート時に対にならない引用符の問題が自動的に発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、これはデータベースにインポートするための不便なデータ形式で起こりうる問題の完全なリストではありません。</font><font style="vertical-align: inherit;">練習からあなたの選択肢を知るのは素晴らしいことです：あなたはどんな奇妙な間違いに遭遇しましたか？</font><font style="vertical-align: inherit;">それらをどのように検出して排除したか。</font><font style="vertical-align: inherit;">コメントで共有してください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、プロセスマイニングのデータモデルは非常に単純です。イベントテーブルに加えて、オプションで追加の参照があります。</font><font style="vertical-align: inherit;">しかし、通常発生するように、少なくとも1つの完全なタスクサイクルが完了した場合にのみ単純に見え始めます。その後、プロセス全体が全体的に表示され、作業計画が明確になります。</font><font style="vertical-align: inherit;">この記事が、最初のプロセスマイニングプロジェクトのデータを準備する方法を理解するのに役立つことを願っています。</font><font style="vertical-align: inherit;">一般に、準備プロセスは次のようになります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ所有者に変更履歴をリクエストする</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アップロードの確認とクリーニング（CSVファイルの準備）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAP HANAにインポート</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントテーブル構築</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAテーブルの作成（プロセス参照）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、実際には、ここからデータモデルの準備が始まり、最も興味深い部分であるプロセスマイニングが始まります。</font><font style="vertical-align: inherit;">プロセスマイニングプロジェクトの実装中に質問がある場合は、コメントに自由に書き込んでください。喜んでお手伝いします。</font><font style="vertical-align: inherit;">幸運を！</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fedor Pavlov、SAP CISプラットフォームエキスパート</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja462549/index.html">クォーラムブロックチェーン：Javaコードへの統合</a></li>
<li><a href="../ja462551/index.html">テストに関する開発者からのよくある質問</a></li>
<li><a href="../ja462553/index.html">シンプルについて少し。テスト設計。パート1</a></li>
<li><a href="../ja462555/index.html">ディスカッション：Cookieなしで機能する場合-代替案を教えてくれます</a></li>
<li><a href="../ja462563/index.html">ウェビナー「コンプライアンスを生き残る方法は？」規制要件を満たすための最善のアプローチ」</a></li>
<li><a href="../ja462567/index.html">Sodinokibiランサムウェア：詳細な調査</a></li>
<li><a href="../ja462569/index.html">私たちと一緒の輸送システムまたは「アグリゲーターに対するバスステーション2」</a></li>
<li><a href="../ja462571/index.html">とらえどころのないマルヴァリの冒険：多彩な防御（最終的な考え）</a></li>
<li><a href="../ja462573/index.html">プロジェクトコンテスト：何を、なぜ、なぜ？</a></li>
<li><a href="../ja462575/index.html">セキュリティウィーク32：iMessageの穴、音声入力のプライバシー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>