<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🎨 👵🏻 🧚🏼 1C: Assembler - escreva um bytecode limpo para a máquina empilhada 1C: Enterprise 🗨️ 💏 🛸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Máquinas de empilhar são usadas em uma ampla variedade de linguagens de programação modernas. Eles são fáceis de entender e ao mesmo tempo bastante ef...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>1C: Assembler - escreva um bytecode limpo para a máquina empilhada 1C: Enterprise</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489392/"><p><img src="https://habrastorage.org/webt/yv/e8/2k/yve82kxnmzd9jij9ma5tllnqggc.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Máquinas de empilhar são usadas em uma ampla variedade de linguagens de programação modernas. </font><font style="vertical-align: inherit;">Eles são fáceis de entender e ao mesmo tempo bastante eficazes. </font><font style="vertical-align: inherit;">Deseja experimentar um desses em ação?</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos vocês provavelmente já ouviram dizer que os apelidos 1C se queixam de seu sistema, considerando que o idioma 1C não é baixo o suficiente, chato etc. </font><font style="vertical-align: inherit;">Todos eles olham ansiosamente para as linguagens de programação "reais". </font><font style="vertical-align: inherit;">Então, senhores, eles estão errados. </font><font style="vertical-align: inherit;">No sistema 1C, há lugares onde você pode esticar o cérebro do programador e aproveitar a tecnologia de baixo nível. </font><font style="vertical-align: inherit;">Sugiro que você mergulhe nas entranhas da máquina virtual 1C e entenda como ela funciona. </font><font style="vertical-align: inherit;">Ele tem seu próprio "assembler" e hoje escreveremos o código de trabalho para 1C nele. </font><font style="vertical-align: inherit;">Venha para o corte, será divertido!</font></font></p><a name="habracut"></a><br>
<h2 id="stekovye-virtualnye-mashiny"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Máquinas virtuais empilhadas</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linguagens de programação dinâmicas estão cada vez mais capturando o mundo. </font><font style="vertical-align: inherit;">Das línguas nativas "honestas" nas fileiras, talvez, apenas C permanecesse (com vantagens e sem). </font><font style="vertical-align: inherit;">Isto é, se tomarmos o mainstream industrial. </font><font style="vertical-align: inherit;">Todas as linguagens populares, de uma maneira ou de outra, têm uma camada na forma de um "ambiente de tempo de execução" ou uma "máquina virtual", que fornece execução de código em uma arquitetura específica do iron. </font><font style="vertical-align: inherit;">E a grande maioria dessas "máquinas virtuais" está empilhada, ou seja, </font><font style="vertical-align: inherit;">implementar operações de processamento usando uma estrutura conhecida no mundo dos computadores como a "pilha".</font></font></p><br>
<h3 id="remarka-dlya-teh-kto-zabyl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observação para quem esqueceu</font></font></h3><br>
<p> (Stack)      "".      (, ) -  ,    .         . ..        .     "LIFO" — last in/first out.     ( ).    —   .</p><br>
<p>Java, Python, C#  1 —         .  ,  node.js — ,   ,    . 95% ,     . <em> JIT   ,   ,  ? :)</em></p><br>
<p>     ,   ,    .  ,  —    , -, .   ,    .   ,    —     ,   .     Java —   .   ,   . , ,  Java    JVM —  .     ( )   Dalvik.  ,    ,    .  — ,    . ,  ,   ,           ( )      ,  ,  .</p><br>
<p>  1    .  —  1,  — , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1Script</a>.   ,   .</p><br>
<h3 id="stekovaya-mashina"> </h3><br>
<p>    .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a>   2014 ,     .</p><br>
<p>,       = 1 + 1;     ?</p><br>
<pre><code class="plaintext hljs">PushConst 1<font></font>
PushConst 1<font></font>
Add<font></font>
LoadVar A</code></pre><br>
<p>   - 1 (2 ),    Add.</p><br>
<p> <code>Add</code>      (2 )  .     .  <code>LoadVar</code>         ,     (   —  ).</p><br>
<p>       . ,   = 1+1+2    :</p><br>
<pre><code class="plaintext hljs">PushConst 1 ;    <font></font>
PushConst 1 ;    <font></font>
Add ;  2    (1   1), ,    <font></font>
PushConst 2 ;    <font></font>
Add ;  2    (2   2), ,    <font></font>
LoadVar A ;    ,    (4)     .</code></pre><br>
<p>     ,   ,  ,     :     -     -  .</p><br>
<p>,   ,   "-".   ""   .</p><br>
<h2 id="kak-uvidet-bayt-kod-mashiny-1s">  -  1</h2><br>
<p> ,    1  - ,     , ,    . ,          ,    - -  —  . ,       1  -    . ,        ,    epf   .      v8unpack.</p><br>
<h3 id="kakoy-zhe-haker-bez-podhodyaschih-instrumentov">     </h3><br>
<p>    1. <em>      ,        .</em></p><br>
<p>      epf.   ,     chocolatey</p><br>
<pre><code class="plaintext hljs">choco install v8unpack --version 3.0.41 --source https://www.myget.org/F/onescript/api/v2</code></pre><br>
<p>,    chocolatey (, ,     ?)      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://github.com/e8tools/v8unpack/releases/download/v.3.0.40/v8unpack.exe</a>     exe   PATH,    .</p><br>
<p>,     1,     ,     .</p><br>
<pre><code class="plaintext hljs">v8unpack -P .epf content</code></pre><br>
<p>   content,         1 (  —     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://infostart.ru/public/250142/</a>)</p><br>
<p>,       "&lt;--GUID&gt;.0",     "info"  "text".  "text"    ,      ,     .    content      .         ""   " ". ,        .</p><br>
<p><img src="https://habrastorage.org/webt/vx/6f/i_/vx6fi_3nuscbs7ivgnevepmikt4.png"></p><br>
<p>,       ?   ,   content      </p><br>
<pre><code class="plaintext hljs">v8unpack -P .epf content</code></pre><br>
<p>    GUID.0 ,   image,    text — - .    ,    ,     -  , ?        1  -        image.   :</p><br>
<p><img src="https://habrastorage.org/webt/bq/pd/kc/bqpdkcbh7mttuxuoxtenpeggi6e.png"></p><br>
<p> —  1.    ,    .  ,   ?        ,     ! ?   ,   !</p><br>
<h3 id="a-zachem-eto-nuzhno">   ?</h3><br>
<p>, -,   ,          ,      .            .</p><br>
<p>-,   ,  - 1       ,       .    1-,   ,       .  " 1"     ,      .   ,    ,    ,             1.       . , ?</p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><p>     .    ,   ,     , ..     .  . ,        1  .  ,  ,    (  )     "  ", "    1" —    ,      .</p><br>
<p>,     .    ,       .       -   -,      1 .     ,    .</p><br>
<p> :    ,      ( , ),    ,   ,     .</p></div></div><br>
<h2 id="nu-che-poehali"> , ?</h2><br>
<p>    - 1, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a>.  -        .</p><br>
<p>      ,     v8unpack   ""   "image",     .</p><br>
<p><img src="https://habrastorage.org/webt/yv/e8/2k/yve82kxnmzd9jij9ma5tllnqggc.png"></p><br>
<p>      , ,  ,     1.</p><br>
<h3 id="razdel-operacii"> ""</h3><br>
<p>        ().      —  .     (OpCode),       .  ,      .     .  ,        ,    .      (     ). , ,   —   :    .</p><br>
<p>   ?   1  128,        ,    .    .</p><br>
<h3 id="razdel-konstanty"> ""</h3><br>
<p>   .     -   ,     —  ,   —  .                   " ",     . ..    - ,   ,         /   .        ,  /   . ,        .</p><br>
<p>    .       ,   ,     "".      " = 2"  1       .       .      "    -    ".</p><br>
<h3 id="razdel-peremennye"> ""</h3><br>
<p>  1 (    )  .     -  ( ).   ,   .         .        "",   (  )     ,        .</p><br>
<p><img src="https://habrastorage.org/webt/dd/vw/fu/ddvwfuwavjyydvuwwppwj_ccee0.png"></p><br>
<h3 id="kak-kodit-to"> -?</h3><br>
<p>     .   —     ,    —  ,        .    2    1.</p><br>
<p>      2.     0   .</p><br>
<p>  2  2    :</p><br>
<pre><code class="plaintext hljs">LdConst 0<font></font>
LdConst 0<font></font>
Add 0</code></pre><br>
<p>!   :  ,   -  ,      Ld   "Load".    , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">      </a>       .</p><br>
<p> LdConst  ,         ( ,     0  ).     ,          .     — .</p><br>
<p>     ,   2  (  — )</p><br>
<p>  —   .     ,         ,      ,     Add   0.    2          1 (      ).</p><br>
<p>     ,      ""   .</p><br>
<p> ,          ,   .</p><br>
<h3 id="preved-mir">, !</h3><br>
<p> ,            "Hello World".</p><br>
<p>  ""    ""    :</p><br>
<p><img src="https://habrastorage.org/webt/8z/jo/al/8zjoalqjgk82hfkrs-geqwxfewu.png"></p><br>
<p>  " "       ""  ,   .</p><br>
<p>,   "  "  </p><br>
<p><img src="https://habrastorage.org/webt/ck/t2/ld/ckt2ld-funlc2bfita3mwkwkkay.png"></p><br>
<p> ,    ""  :</p><br>
<pre><code class="plaintext hljs">LdConst 0<font></font>
ArgNum 1<font></font>
CallLoc 0<font></font>
End 0</code></pre><br>
<p>   "". , -       </p><br>
<p><img src="https://habrastorage.org/webt/f9/hz/7r/f9hz7r0-romutor1grpnwk09cho.png"></p><br>
<h3 id="a-cho-eto-bylo">   ?</h3><br>
<p>   ""        " "    v8unpack     .      1-    .       "  "   "".        .</p><br>
<p>  <br>
   .      .    </p><br>
<pre><code class="1c hljs"> = <span class="hljs-number">8</span>;<font></font>
 =  + <span class="hljs-number">2</span>;<font></font>
 =  - ;</code></pre><br>
<p>     : -,      8  2    "" .    0,   —  1. ,      ,   .            .</p><br>
<p><strong></strong></p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td></td>
<td>8</td>
</tr>
<tr>
<td>1</td>
<td></td>
<td>2</td>
</tr>
</tbody>
</table></div><br>
<p><strong></strong></p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div><br>
<p>       LdVar.       ,    .   ,   :</p><br>
<pre><code class="plaintext hljs">LineNum 1 ;   <font></font>
LdVar 0 ;     0 ()<font></font>
LdConst 0 ;     0 ( 8)<font></font>
Assign ;  -       , .<font></font>
LineNum 2 ;   <font></font>
LdVar 1 ;     1 ()<font></font>
LdVar 0 ;     0 ()<font></font>
LdConst 1 ;     1 ( 2)<font></font>
Add ;  2   ,     (+2)<font></font>
Assign ;  -       ,  ( = (+2)).<font></font>
LineNum 3 ;  <font></font>
LdVar 2 ;   2 ()<font></font>
LdVar 1 ;   1 ()<font></font>
LdVar 0 ;   0 ()<font></font>
Sub; .  2 ,  <font></font>
Assign;   = (-)<font></font>
End;   </code></pre><br>
<p>,   , , ,  . ,    LineNum?  ,       ,          ,    .             . ,  ,    "    ,   "   .       ,      LineNum. ,      ,      ,      .</p><br>
<h3 id="vyzovy-metodov"> </h3><br>
<p>   . -,     ,      .        (  )   .       :</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>ArgNum</td>
<td>   ,           (  )</td>
</tr>
<tr>
<td>CallLoc</td>
<td>       </td>
</tr>
<tr>
<td>CallProc</td>
<td>  ,  </td>
</tr>
<tr>
<td>CallFunc</td>
<td>  ,   (  )</td>
</tr>
<tr>
<td>Ret</td>
<td>   (  )</td>
</tr>
<tr>
<td>LdRet</td>
<td>     </td>
</tr>
</tbody>
</table></div><br>
<p>   .         ""   .      0.</p><br>
<p> ,    LineNum.    ""        1   .</p><br>
<pre><code class="plaintext hljs">LdConst 0;    - <font></font>
ArgNum 1;           <font></font>
CallLoc 0;     0.</code></pre><br>
<p>        ,   ArgNum.    —           .    ,         .           ,        .</p><br>
<h3 id="obrabotka-vozvratov"> </h3><br>
<p>    ,   (  ),   ,   —  - .   Assign,  .     2 .           .    LdRet.  ,    ,      .       ,   Ret,        .        LdRet — .   ,    .   .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1Script</a>             ""     .</p><br>
<h2 id="bolee-slozhnye-sluchai">  </h2><br>
<p>,  ,  .      .      ,  .  Jmp.      ,     Jmp .               .    ,      ,       1.   - —   ,   .</p><br>
<h3 id="sokraschennye-vychisleniya-logicheskih-vyrazheniy">   </h3><br>
<p> ,  ,  1     .   ,     "  "      ,    — .   = ,    "  "       . :</p><br>
<pre><code class="plaintext hljs"> () = ("")  . = 2 </code></pre><br>
<p> 2   :      .  1       .     ,       ,        .       ,      " "  .</p><br>
<p>  ,  .     ,      .      2  — And  Or .    ,      ,    .</p><br>
<p>,  ""      ,     ,    , ..    , ..      .        (   ). ,     ,        , ..   ,       ).</p><br>
<p>  2   : JmpTrue  JmpFalse.     ( ),    ,     ,        . ,  JmpTrue 1      . ..  ,  JmpTrue,   , ..    1     (trollface) , 1Script     JmpTrue         .</p><br>
<h3 id="usloviya"></h3><br>
<p>   ?    0   1,       0   1</p><br>
<pre><code class="plaintext hljs">0: LdVar 0 ;     <font></font>
1: LdConst 0 ;     1<font></font>
2: Cmp ;  (     )<font></font>
3: JmpFalse 6 ;    6,    <font></font>
4:  IF ;  <font></font>
5:  IF ;  <font></font>
6:  … ; </code></pre><br>
<p>    —     .   —         .</p><br>
<h3 id="cikly"></h3><br>
<p>   3 : "", "… "  " … ".   ""     ,     .</p><br>
<p>  "… "    " ",   ,   . ,        ,           .    Gte (--)     JmpFalse          .    ,           "".</p><br>
<h4 id="cikl-s-iteratorom-dlya-kazhdogo-iz">   "  "</h4><br>
<p>    .  —   ,               Next()</p><br>
<p>     Iter, Next    ,      . ,     …   ,     ,     1 ,   , .</p><br>
<p> .    <strong>,   ,   :</strong></p><br>
<pre><code class="1c hljs"><span class="hljs-function"><span class="hljs-keyword"></span> (<span class="hljs-params"></span></span>)<font></font>
<font></font>
    <span class="hljs-keyword"></span> <span class="hljs-keyword"></span>  <span class="hljs-keyword"></span>  <span class="hljs-keyword"></span><font></font>
        .();<font></font>
    <span class="hljs-keyword"></span>; <font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"></span></span></code></pre><br>
<p> ,       ""   0,  ""   1. , ,        "0",   .  ,        ? ,    :)</p><br>
<p>   ?   ,              :</p><br>
<pre><code class="plaintext hljs">PutTmp ;   <font></font>
LdTmp ;     </code></pre><br>
<p>       (    0)</p><br>
<pre><code class="plaintext hljs">LdLoc 0 ;    </code></pre><br>
<p>,     ,     .</p><br>
<pre><code class="plaintext hljs">Iter ;          -.<font></font>
Assign ;   Tmp</code></pre><br>
<p>    ,       :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>LineNum</td>
<td>4</td>
<td>  .     </td>
</tr>
<tr>
<td>1</td>
<td>PutTmp</td>
<td>0</td>
<td>      </td>
</tr>
<tr>
<td>2</td>
<td>LdTmp</td>
<td>0</td>
<td>        </td>
</tr>
<tr>
<td>3</td>
<td>LdLoc</td>
<td>0</td>
<td>    .      Var</td>
</tr>
<tr>
<td>4</td>
<td>Iter</td>
<td>0</td>
<td>   </td>
</tr>
<tr>
<td>5</td>
<td>Assign</td>
<td>0</td>
<td> = ()</td>
</tr>
<tr>
<td>6</td>
<td>LineNum</td>
<td>4</td>
<td>  .    </td>
</tr>
<tr>
<td>7</td>
<td>LdLoc</td>
<td>2</td>
<td>    .     Var</td>
</tr>
<tr>
<td>8</td>
<td>LdTmp</td>
<td>0</td>
<td>        </td>
</tr>
<tr>
<td>9</td>
<td>Assign</td>
<td>0</td>
<td> = ()</td>
</tr>
<tr>
<td>10</td>
<td>LdLoc</td>
<td>2</td>
<td>    .      Var</td>
</tr>
<tr>
<td>11</td>
<td>Next</td>
<td>0</td>
<td>     .     ,     ,          ( —   ,  — )</td>
</tr>
<tr>
<td>12</td>
<td>JmpFalse</td>
<td>26</td>
<td>,  .     Cmd</td>
</tr>
<tr>
<td>13</td>
<td>LdLoc</td>
<td>1</td>
<td>    .      Var</td>
</tr>
<tr>
<td>14</td>
<td>LdLoc</td>
<td>2</td>
<td>    .      Var</td>
</tr>
<tr>
<td>15</td>
<td>Assign</td>
<td>0</td>
<td> = ()</td>
</tr>
<tr>
<td>16</td>
<td>LdLoc</td>
<td>2</td>
<td>    .      Var</td>
</tr>
<tr>
<td>17</td>
<td>LdUndef</td>
<td>0</td>
<td>   </td>
</tr>
<tr>
<td>18</td>
<td>Assign</td>
<td>0</td>
<td> = ()</td>
</tr>
<tr>
<td>19</td>
<td>LineNum</td>
<td>5</td>
<td>  .     </td>
</tr>
<tr>
<td>20</td>
<td>LdLoc</td>
<td>1</td>
<td>    .      Var</td>
</tr>
<tr>
<td>21</td>
<td>ArgNum</td>
<td>0</td>
<td>       (, ).  ,    .  ,    ,   (     )      (  )</td>
</tr>
<tr>
<td>22</td>
<td>CallProc</td>
<td>0</td>
<td>  .&lt; &gt;() ( , ..   ).     Const,   </td>
</tr>
<tr>
<td>23</td>
<td>LineNum</td>
<td>5</td>
<td>  .     </td>
</tr>
<tr>
<td>24</td>
<td>LineNum</td>
<td>6</td>
<td>  .     </td>
</tr>
<tr>
<td>25</td>
<td>Jmp</td>
<td>6</td>
<td>   .     Cmd</td>
</tr>
<tr>
<td>26</td>
<td>PopTmp</td>
<td>1</td>
<td>       1? (,  -  )</td>
</tr>
<tr>
<td>27</td>
<td>LdLoc</td>
<td>2</td>
<td>    .      Var</td>
</tr>
<tr>
<td>28</td>
<td>LdUndef</td>
<td>0</td>
<td>   </td>
</tr>
<tr>
<td>29</td>
<td>Assign</td>
<td>0</td>
<td> = ()</td>
</tr>
<tr>
<td>30</td>
<td>LdLoc</td>
<td>2</td>
<td>    .      Var</td>
</tr>
<tr>
<td>31</td>
<td>LdUndef</td>
<td>0</td>
<td>   </td>
</tr>
<tr>
<td>32</td>
<td>Assign</td>
<td>0</td>
<td> = ()</td>
</tr>
<tr>
<td>33</td>
<td>LineNum</td>
<td>8</td>
<td>  .     </td>
</tr>
<tr>
<td>34</td>
<td>End</td>
<td>0</td>
<td>  (, )</td>
</tr>
<tr>
<td>35</td>
<td>End</td>
<td>0</td>
<td>  (, )</td>
</tr>
<tr>
<td>36</td>
<td>End</td>
<td>0</td>
<td>  (, )</td>
</tr>
</tbody>
</table></div></div></div><br>
<p>    5.  Assign,    2  —     .     .</p><br>
<p>   :</p><br>
<pre><code class="plaintext hljs">LdLoc 2 ;      0<font></font>
LdTmp 0 ;    <font></font>
Assign;     0<font></font>
LdLoc 2;   0  <font></font>
Next;        <font></font>
JmpFalse 26 ;     -      .</code></pre><br>
<p>     Next.           ,        (0),     ,      ,    ,  ,   .   JmpFalse         .</p><br>
<p>,   JmpFalse     <code>0</code>   ,     .           <code>0</code>,       <code>0</code> —   .      <code></code>     …</p><br>
<p>-     .  19-23   .  25 — Jmp   ,  26   —        .</p><br>
<p>    27-  32-.    <code>0</code>,   - 2 . ,      <code></code>  ,      … ,   +3       ,    <code>0</code>   .       ,   ,  …</p><br>
<p> ,      1Script   :</p><br>
<pre><code class="plaintext hljs">0  :(LineNum     3)<font></font>
1  :(PushLoc     0)<font></font>
2  :(PushIterator  0)<font></font>
3  :(LineNum     3)<font></font>
4  :(IteratorNext  0)<font></font>
5  :(JmpFalse   12)<font></font>
6  :(LoadLoc     1)<font></font>
7  :(LineNum     4)<font></font>
8  :(PushLoc     1)<font></font>
9  :(ArgNum      0)<font></font>
10 :(ResolveMethodProc  0)<font></font>
11 :(Jmp         3)<font></font>
12 :(StopIterator  0)<font></font>
13 :(PushConst   1)<font></font>
14 :(Return      0)</code></pre><br>
<p> 15    37.     , ..       ,      .   ,   1Script    1.       .</p><br>
<h2 id="hardkor-dlya-silnyh-duhom">   </h2><br>
<p>  ,    , , .       ?  , , .   ,    .</p><br>
<p>  ? ,   ,           ,    ""  "".</p><br>
<p>-    ,  1    .    BlckEnd     Jmp    .   , BlckEnd —  -     .        BlckEnd   0.</p><br>
<p>     .     ""    BlckEnd,            .</p><br>
<pre><code class="1c hljs"><span class="hljs-keyword"></span> <span class="hljs-comment">// 1</span>
    <span class="hljs-keyword"></span> <span class="hljs-comment">// 2</span>
        <span class="hljs-keyword"></span> <span class="hljs-comment">// 3</span>
            <span class="hljs-keyword"></span> <span class="hljs-number">2</span>; <span class="hljs-comment">// BlckEnd 3</span></code></pre><br>
<p>.. ""     —  <em>BlckEnd 0</em>,  ""   —  <em>BlckEnd &lt;   &gt;</em>. ,   " "     ,     <code></code>  <code></code>, ..     ""   " ".</p><br>
<h3 id="razbor-konstrukcii-popytka-isklyuchenie">  -</h3><br>
<p>     BeginTry,       . ..        . ,     ,       BlckEnd &lt;&gt;  Jmp    ;</p><br>
<p>    :</p><br>
<pre><code class="1c hljs"><span class="hljs-function"><span class="hljs-keyword"></span> ()</span>
    <span class="hljs-keyword"></span><font></font>
       ;<font></font>
    <span class="hljs-keyword"></span><font></font>
       ;<font></font>
    <span class="hljs-keyword"></span>;
<span class="hljs-function"><span class="hljs-keyword"></span></span></code></pre><br>
<h4 id="baytkod"></h4><br>
<pre><code class="plaintext hljs">0: BeginTry 4 ;    Cmd  <font></font>
1: LineNum 6 ;    <font></font>
2:BlckEnd 1 ;    1<font></font>
3:Jmp 6 ;   <font></font>
4:LineNum 6 ;  :    <font></font>
5:EndTry 0 ; (  )<font></font>
6:LineNum 7 ;  :    <font></font>
7:End 0 ;  (, )<font></font>
8:End 0 ;  (, )<font></font>
9:End 0 ;  (, ) </code></pre><br>
<p>   .     BeginTry   ,  ,     (  ).</p><br>
<p>    ( ),      BlckEnd       ( 2-3).     EndTry.</p><br>
<p> ,        ,     .             .</p><br>
<h2 id="samaya-vkusnyatina"> </h2><br>
<p>        ?    ,    ?  ,   ""   "".      image     -,     ,     v8unpack   epf.</p><br>
<p>     ,        .</p><br>
<p>  :     .           ,    .  ,         (-) ,  ? ,   " "     :</p><br>
<pre><code class="1c hljs"> = <span class="hljs-type"></span>.();<font></font>
<font></font>
<span class="hljs-keyword"></span> .() <span class="hljs-keyword"></span>
    <span class="hljs-built_in"></span>(.);
<span class="hljs-keyword"></span>;</code></pre><br>
<p>,   ,    " "   "-()".       1  ,    1    ,     !</p><br>
<p>   .   ""    ""   . ,         "" —       .     :</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th></th>
<th>  </th>
<th>  </th>
</tr>
</thead>
<tbody>
<tr>
<td>LdVar 0</td>
<td> -</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ArgNum 0</td>
<td>      ()</td>
<td></td>
</tr>
<tr>
<td>New 0</td>
<td>  ,      0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Assign</td>
<td>     </td>
<td>      </td>
<td></td>
</tr>
<tr>
<td>LdVar 0</td>
<td>     </td>
<td></td>
<td></td>
</tr>
<tr>
<td>Iter</td>
<td> </td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>  ,    </td>
<td> </td>
<td></td>
</tr>
<tr>
<td>ArgNum 1</td>
<td> ,     </td>
<td></td>
<td></td>
</tr>
<tr>
<td>CallLoc 0</td>
<td>  </td>
<td></td>
<td></td>
</tr>
<tr>
<td>End</td>
<td> </td>
<td></td>
<td></td>
</tr>
</tbody>
</table></div><br>
<p>         "".     "".    ?  ,   "<em>(())</em>"   "". -    -. ?   — !</p><br>
<p>       (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">dmpas</a>),     ,          :)</p><br>
<p><strong>Disclaimer</strong></p><br>
<p>     ,        ,      .      ,         ,   1     .  ,          .   ""     .      ,         .       .     ,    ""        ,   .</p><br>
<h2 id="k-chemu-ya-eto-vse">    </h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O 1C é um sistema complexo e multicamada e é extremamente interessante estudá-lo. </font><font style="vertical-align: inherit;">E quanto melhor você souber como seu sistema funciona, mais eficiente poderá usá-lo. </font><font style="vertical-align: inherit;">Hoje examinamos como a máquina virtual 1C funciona e, esperamos, expandimos nossos horizontes técnicos. </font><font style="vertical-align: inherit;">Bem, e além disso, colocamos nossas mãos em um brinquedo de construção, porque brincar com montador é muito divertido!</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desejo-lhe sucesso criativo!</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489382/index.html">O primeiro workshop sobre rebeldes corporativos na Rússia, 8 de abril</a></li>
<li><a href="../pt489384/index.html">Crie um curso poderoso de aprendizado de máquina: missão concluída</a></li>
<li><a href="../pt489386/index.html">Então você quer se tornar um desenvolvedor Ruby?</a></li>
<li><a href="../pt489388/index.html">6 cursos gratuitos de segurança da Microsoft</a></li>
<li><a href="../pt489390/index.html">Nova cozinha QIWI - 5 de março. Moscow, AGLOFT</a></li>
<li><a href="../pt489394/index.html">Como os animais de estimação podem fazer de você um bom programador (sim, eles realmente podem!)</a></li>
<li><a href="../pt489400/index.html">Naves estelares no motor de combustão interna. Sobreviver à batalha com dívidas técnicas</a></li>
<li><a href="../pt489402/index.html">Visualização do Terminal do Windows v0.9</a></li>
<li><a href="../pt489440/index.html">Vantagens de mudar para residência permanente em Berlim para profissionais de TI</a></li>
<li><a href="../pt489444/index.html">Transforme a natureza em decoração com digitalização 3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>