<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ≥Ô∏è üëßüèΩ ‚ùÑÔ∏è PyDERASN: como agregu√© soporte para big data üíâ üç≠ üöá</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Contin√∫o el √∫ltimo art√≠culo sobre PyDERASN : el c√≥dec ASN.1 DER / CER / BER gratuito en Python. Durante el a√±o pasado, desde el momento de su escritur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PyDERASN: como agregu√© soporte para big data</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498014/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contin√∫o el √∫ltimo art√≠culo sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyDERASN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : el c√≥dec ASN.1 DER / CER / BER gratuito en Python. </font><font style="vertical-align: inherit;">Durante el a√±o pasado, desde el momento de su escritura, adem√°s de todas las peque√±as cosas, peque√±as correcciones y una verificaci√≥n de datos a√∫n m√°s rigurosa (aunque antes era el c√≥dec libre m√°s estricto que conozco), apareci√≥ en esta biblioteca una funcionalidad para trabajar con grandes vol√∫menes de datos. arrastr√°ndose en la RAM. </font><font style="vertical-align: inherit;">Quiero hablar de esto en este art√≠culo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/241/bae/4fc/241bae4fcfb5d7f0c3a605bf5f3211cb.png" alt="Navegador ASN.1"></div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas / Tareas</font></font></h2><br>
<ul>
<li><strong> CRL</strong>:<br>
,      (CA)         X.509 .    ,    CRL (certificate revocation list). CRL  CACert.org,  8.72 MiB,   PyDERASN-  Python 3.6      (    <em>asn1crypto</em>  <em>pyasn1</em>   ).      416 .  .    ,           .  .<br>
</li>
<li><strong> CMS</strong>:<br>
CMS (Cryptographic Message Syntax)    <br>
// . ,<br>
<em>SignedData</em>     ,   ,<br>
  ,   - <em>EnvelopedData</em> <br>
 .<br>
<br>
                 CMS. , CMS   detached data,     - ,         .  10 GiB    20 GiB   :       10 GiB      . .<br>
</li>
</ul><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© objetos ASN.1 en la pr√°ctica pueden consumir muchos recursos y ocupar mucho espacio en la memoria? Solo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SECUENCIA DE</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONJUNTO DE que</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene numerosos objetos (cientos de miles en el caso de CACert.org), y todo tipo de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (como en el segundo caso problem√°tico). Como una de las virtudes de un programador es la pereza (seg√∫n Larry Wall), intentaremos superar los problemas del consumo de recursos con un cambio m√≠nimo en el c√≥digo de la biblioteca. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Los</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> objetos </font><em><font style="vertical-align: inherit;">STRING</font></em><font style="vertical-align: inherit;"> , desde el punto de vista del c√≥dec, casi no difieren entre s√≠ y se implementan en la biblioteca mediante una clase com√∫n. ¬øQu√© es la codificaci√≥n en </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OCTET STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en DER?</font></font><br>
<br>
<pre><code class="plaintext hljs">return tag + len_encode(len(value)) + value
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, el </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valor</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no tiene que estar en la RAM todo este tiempo. </font><font style="vertical-align: inherit;">Se requiere que sea un objeto similar a bytes desde el que pueda averiguar la longitud. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryview</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> satisface estas condiciones. </font><font style="vertical-align: inherit;">Y, sin embargo, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede hacer </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryview</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en cualquier archivo temporal que ya est√© reducido en la memoria 20 GiB 10 GiB requisitos para las copias de la base de datos CMS a la mitad: es suficiente especificar como el valor de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OCTET STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s (o cualquier otro </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s) similar a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryview</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para crearlo, PyDERASN tiene una funci√≥n auxiliar:</font></font><br>
<br>
<pre><code class="plaintext hljs">from pyderasn import file_mmaped<font></font>
with open("dump.sql.zst", "rb") as fd:<font></font>
    ... = OctetString(file_mmaped(fd))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si queremos decodificar una gran cantidad de datos, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryview tambi√©n se</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede utilizar para decodificar:</font></font><br>
<br>
<pre><code class="plaintext hljs">from pyderasn import file_mmaped<font></font>
with open("dump.sql.zst", "rb") as fd:<font></font>
    obj = Schema.decode(file_mmaped(fd))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consideramos que el problema con </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se ha resuelto parcialmente. </font><font style="vertical-align: inherit;">Volver a crear una gran CRL. </font><font style="vertical-align: inherit;">¬øC√≥mo es su estructura?</font></font><br>
<br>
<pre><code class="plaintext hljs">CertificateList SEQUENCE<font></font>
. tbsCertList: TBSCertList SEQUENCE<font></font>
. . version: Version INTEGER v2 (01) OPTIONAL<font></font>
. . signature: AlgorithmIdentifier SEQUENCE<font></font>
. . issuer: Name CHOICE rdnSequence<font></font>
. . thisUpdate: Time CHOICE utcTime<font></font>
. . nextUpdate: Time CHOICE utcTime OPTIONAL<font></font>
. . revokedCertificates: RevokedCertificates SEQUENCE OF OPTIONAL<font></font>
. . . 0: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 17 (11)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2003-04-01T14:25:08<font></font>
. . . 1: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 20 (14)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2002-10-01T02:18:01<font></font>
<font></font>
                                 [...]<font></font>
<font></font>
. . . 415753: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 1341859 (14:79:A3)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2020-02-08T06:51:56<font></font>
. . . 415754: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 1341860 (14:79:A4)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2020-02-08T06:53:01<font></font>
. . . 415755: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 1341861 (14:79:A5)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2020-02-08T07:25:06<font></font>
. signatureAlgorithm: AlgorithmIdentifier SEQUENCE<font></font>
. signatureValue: BIT STRING 4096 bits<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una larga lista de peque√±as </font><font style="vertical-align: inherit;">estructuras de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En este caso, contiene solo el n√∫mero de serie del certificado y el momento de su revocaci√≥n. </font><font style="vertical-align: inherit;">¬øCu√°l es su codificaci√≥n DER?</font></font><br>
<br>
<pre><code class="plaintext hljs">value = b"".join(revCert.encode() for revCert in revCerts)<font></font>
return tag + len_encode(len(value)) + value<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solo concatenaci√≥n de representaciones DER de cada elemento individual de esta lista. </font><font style="vertical-align: inherit;">¬øNecesitamos tener de antemano todos estos cientos de miles de objetos en el curso de ser serializados en 15 bytes de representaci√≥n DER? </font><font style="vertical-align: inherit;">Obviamente no. </font><font style="vertical-align: inherit;">Por lo tanto, reemplazamos la lista de objetos con un iterador / generador. </font><font style="vertical-align: inherit;">Lo m√°s probable es que la creaci√≥n de la CRL se base en datos del DBMS:</font></font><br>
<br>
<pre><code class="plaintext hljs">def revCertsGenerator(...):<font></font>
    for row in db.cursor:<font></font>
        yield RevokedCertificate((<font></font>
            ("userCertificate", CertificateSerialNumber(row.serial)),<font></font>
            ("revocationDate", Time(("utcTime", UTCTime(row.revdate)))),<font></font>
        ))<font></font>
<font></font>
crl["tbsCertList"]["revokedCertificates"] = revCertsGenerator()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora casi no consumimos memoria al crear una CRL de este tipo; solo necesitamos un lugar para trabajar con su representaci√≥n DER: en este caso, estamos hablando de un par de decenas de megabytes (en oposici√≥n a una lista de medio gigabyte de objetos RevokedCertificate). </font><font style="vertical-align: inherit;">Pero hay una diferencia en el comportamiento: la verificaci√≥n de tama√±o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SECUENCIA DE</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONJUNTO DE se</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> produce solo despu√©s de que el iterador se agota, y no en el momento de asignar un valor.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DER codificaci√≥n de transmisi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es imposible. Despu√©s de todo, esto es DER: ¬°las longitudes de todos los elementos TLV (etiqueta + longitud + valor) deben conocerse de antemano! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Pero me gustar√≠a mucho! Despu√©s de todo, todav√≠a necesitamos 10 GiB de memoria para almacenar la representaci√≥n DER de la copia de la base de datos: </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raw = cms.encode ()</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! Idealmente, quiero transmitir cierto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escritor</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> donde se escribir√≠a la representaci√≥n serializada. ¬øTal vez transferir el descriptor de archivo, dejar marcadores de posici√≥n en el archivo en el lugar de las longitudes y luego completarlos haciendo una b√∫squeda? Desafortunadamente, la longitud de la longitud (respectivamente, y el marcador de posici√≥n) tampoco se conocen de antemano. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PyDERASN ha recibido la posibilidad de codificaci√≥n DER de dos pasos. En la primera pasada, se recopila conocimiento sobre la longitud de los objetos, creando un estado temporal. El segundo es </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">streaming</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DER que codifica en un </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escritor</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> determinado </font><font style="vertical-align: inherit;">, ya posible debido al conocimiento de las longitudes. La implementaci√≥n de esto result√≥ simple, simplemente agregando un poco de m√©todos de dos pasos a cada uno de los tipos base ASN.1. Dado que el recorrido de los objetos est√° estrictamente determinado (¬°D - distinguido!), Luego, para almacenar las longitudes necesarias, se mantiene una lista simple, a la que, a medida que se recorre todo el √°rbol de objetos, se agregan valores de longitud. Para algunos tipos, la longitud es fija. Para algunos, solo es necesario para informar a un contenedor aguas arriba ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SECUENCIA</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONJUNTO</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SECUENCIA DE</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONJUNTO DE</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ETIQUETA EXPL√çCITA</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Por ejemplo, el estado de longitud para una lista de dos certificados revocados se ve as√≠:</font></font><br>
<br>
<pre><code class="plaintext hljs">revCert = RevokedCertificate((<font></font>
    ("userCertificate", CertificateSerialNumber(123)),<font></font>
    ("revocationDate", Time(("utcTime", UTCTime(datetime.utcnow())))),<font></font>
))<font></font>
revs = RevokedCertificates([revCert, revCert])<font></font>
<font></font>
(42, [40, 18, 18])<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, necesitamos conocer la longitud del valor solo para cada uno de los </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y la lista completa como un todo. La longitud de los enteros y el tiempo codificado (en DER es una longitud fija) en el estado no se almacena como innecesaria. Como resultado, para nuestra CRL CACert.org, dicha lista toma un poco m√°s de 3.5 MiB, y para el CMS gigante, en el que casi todo el peso cae en un solo campo con una copia de la base de datos, toma aproximadamente 0.5 KiB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La codificaci√≥n de dos pasos se realiza mediante dos llamadas:</font></font><br>
<br>
<pre><code class="plaintext hljs">fulllen, state = obj.encode1st()<font></font>
with open("result", "wb") as fd:<font></font>
    obj.encode2nd(fd.write, iter(state))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer paso tambi√©n informa la longitud completa de los datos, que se pueden usar para verificar el espacio libre o asignarlo mediante alguna </font><font style="vertical-align: inherit;">llamada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">posix_fallocate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando la funci√≥n auxiliar </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encode2pass (obj),</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede realizar la codificaci√≥n de dos pasos en la memoria. ¬øPara qu√©? Puede ser significativamente m√°s econ√≥mico en el consumo de memoria, ya que, en el caso de CACert.org CRL, no almacenar√° 416k + peque√±as l√≠neas binarias unidas por una </font><font style="vertical-align: inherit;">llamada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b "". Join ()</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sin embargo, esto requiere m√°s tiempo de procesador, ya que todos los objetos deber√°n caminar dos veces.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora podemos codificar un CMS arbitrariamente grande en DER, pr√°cticamente sin consumir memoria. </font><font style="vertical-align: inherit;">Pero en el caso de CRL, utilizamos el generador de revocaci√≥n de certificados, que se agotar√° despu√©s del final del primer pase. </font><font style="vertical-align: inherit;">¬øQu√© hacer? </font><font style="vertical-align: inherit;">¬°Solo rein√≠cielo de nuevo!</font></font><br>
<br>
<pre><code class="plaintext hljs">_, state = crl.encode1st()<font></font>
crl["tbsCertList"]["revokedCertificates"] = revCertsGenerator()<font></font>
crl.encode2nd(writer, iter(state))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, estamos </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obligados a</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> garantizar que el resultado del iterador sea exactamente el mismo, de lo contrario obtendremos un DER roto. </font><font style="vertical-align: inherit;">Si los datos se toman del cursor DBMS, no se olvide del </font><font style="vertical-align: inherit;">nivel y la clasificaci√≥n de la transacci√≥n </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REPEATABLE READ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codificaci√≥n de transmisi√≥n real: CER</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sabe, DER (reglas de codificaci√≥n distinguidas) es un subconjunto de BER (reglas de codificaci√≥n b√°sicas) que regula estrictamente las reglas de codificaci√≥n de una y solo una forma. Esto le permite ser utilizado en tareas criptogr√°ficas. Pero hay otro subconjunto notable de BER: CER (reglas de codificaci√≥n can√≥nicas). Al igual que DER, solo tiene una representaci√≥n posible de los datos. CER difiere de DER en varios detalles, pero le permiten realizar una verdadera codificaci√≥n de transmisi√≥n de datos. Desafortunadamente, CER no se hizo tan popular como DER. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Omitiendo diferencias no tan notables (como ordenar etiquetas en SET), CER tiene dos diferencias fundamentales de DER:</font></font><br>
<br>
<ul>
<li>    (constructed,  )  indefinite  (<em>LENINDEF</em>   PyDERASN).  ,  <em>SEQUENCE</em>/<em>SET</em>, <em>SEQUENCE OF</em>/<em>SET OF</em>, <em>EXPLICIT TAG</em>-  :<br>
<br>
<pre><code class="plaintext hljs">TAG_CONSTRUCTED || LEN(VALUE) || VALUE
</code></pre><br>
 <em>LENINDEF</em> (0x80)  EOC ( ,  )   :<br>
<br>
<pre><code class="plaintext hljs">TAG_CONSTRUCTED || 80 || VALUE || 00 00
</code></pre><br>
</li>
<li><em>*STRING</em>-,    1000-,  chunk-  1000-. ,      ,   DER. , 512          DER:<br>
<br>
<pre><code class="plaintext hljs">TAG_PRIMITIVE || LEN(512) || 512B
</code></pre><br>
 2048  :<br>
<br>
<pre><code class="plaintext hljs">TAG_CONSTRUCTED || 80 ||<font></font>
    TAG_PRIMITIVE || LEN(1000) || 1000B ||<font></font>
    TAG_PRIMITIVE || LEN(1000) || 1000B ||<font></font>
    TAG_PRIMITIVE || LEN(48) || 48B || 00 00<font></font>
</code></pre></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esto (adem√°s de algunas peque√±as cosas) permite la transmisi√≥n (con 1000 bytes de un b√∫fer para cadenas) para codificar cualquier objeto. Del mismo modo, puede usar </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e iteradores. La codificaci√≥n CER se realiza simplemente llamando al </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todo .encode_cer (escritor)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Desafortunadamente, PyDERASN a√∫n no puede verificar la validez de CER durante la decodificaci√≥n, por lo que nos vemos obligados a decodificar los datos como BER. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El est√°ndar CMS, por cierto, requiere codificaci√≥n en BER (tanto DER como CER, autom√°ticos, son BER). Por lo tanto, podemos codificar nuestra copia enorme de la base de datos en CER CMS sin un DER de dos pasos. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sin embargo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> requiere que </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SignedData</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tenga un </font><font style="vertical-align: inherit;">elemento </font><em><font style="vertical-align: inherit;">SignedAttributes</font></em><font style="vertical-align: inherit;"> codificado en DER, al igual que el </font><em><font style="vertical-align: inherit;">Certificado</font></em><font style="vertical-align: inherit;"> X.509</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certificados </font><font style="vertical-align: inherit;">PyDERASN le permite forzar el uso de DER en estructuras dadas simplemente agregando el </font><font style="vertical-align: inherit;">atributo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der_forced = True</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decodificaci√≥n de flujo: modo evgen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aprendimos a codificar, pero solo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ayudar√° con la decodificaci√≥n </font><font style="vertical-align: inherit;">. Un decodificador de flujo "real", que tiene botones de control en forma de "dame m√°s datos", "aqu√≠ est√°s", alg√∫n tipo de estado, requerir√≠a una alteraci√≥n radical de PyDERASN. Y, personalmente, no veo que sea m√°s conveniente que la soluci√≥n actual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y la soluci√≥n actual es extremadamente simple. En el proceso de decodificaci√≥n, tenemos en nuestras manos varios objetos primitivos decodificados en nuestras manos, a partir de ellos se ensamblan componentes superiores (construidos), de los cuales otros componentes, etc. ... Acumulamos objetos para hacerlos compuestos y, llegando a la parte superior danos un gran objeto. ¬øPor qu√© no "dar" inmediatamente todo tipo de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">decodificaci√≥n</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">objetos, tan pronto como aparecen en nuestras manos? </font><font style="vertical-align: inherit;">Es decir, devolver no un objeto final, sino un generador que genera muchos objetos decodificados. </font><font style="vertical-align: inherit;">De hecho, en PyDERASN ahora todos los m√©todos de decodificaci√≥n se han convertido en generadores de tales "eventos" (generaci√≥n de eventos, evgen). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si habilitamos el modo de decodificaci√≥n evgen de nuestra enorme CRL CACert.org, veremos la siguiente imagen:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ python -m pyderasn --schema tests.test_crl:CertificateList --evgen revoke.crl<font></font>
[][T,L,  V len]<font></font>
     10   [1,1,      1]   . . version: Version INTEGER v2 (01) OPTIONAL<font></font>
     15   [1,1,      9]   . . . algorithm: OBJECT IDENTIFIER 1.2.840.113549.1.1.13<font></font>
     26   [0,0,      2]   . . . parameters: [UNIV 5] ANY OPTIONAL<font></font>
     13   [1,1,     13]   . . signature: AlgorithmIdentifier SEQUENCE<font></font>
     34   [1,1,      3]   . . . . . . type: AttributeType OBJECT IDENTIFIER 2.5.4.10<font></font>
     39   [0,0,      9]   . . . . . . value: [UNIV 19] AttributeValue ANY<font></font>
     32   [1,1,     14]   . . . . . 0: AttributeTypeAndValue SEQUENCE<font></font>
     30   [1,1,     16]   . . . . 0: RelativeDistinguishedName SET OF<font></font>
<font></font>
                                 [...]<font></font>
<font></font>
    188   [1,1,      1]   . . . . userCertificate: CertificateSerialNumber INTEGER 17 (11)<font></font>
    191   [1,1,     13]   . . . . . utcTime: UTCTime UTCTime 2003-04-01T14:25:08<font></font>
    191   [0,0,     15]   . . . . revocationDate: Time CHOICE utcTime<font></font>
    191   [1,1,     13]   . . . . . utcTime: UTCTime UTCTime 2003-04-01T14:25:08<font></font>
    186   [1,1,     18]   . . . 0: RevokedCertificate SEQUENCE<font></font>
    208   [1,1,      1]   . . . . userCertificate: CertificateSerialNumber INTEGER 20 (14)<font></font>
    211   [1,1,     13]   . . . . . utcTime: UTCTime UTCTime 2002-10-01T02:18:01<font></font>
    211   [0,0,     15]   . . . . revocationDate: Time CHOICE utcTime<font></font>
    206   [1,1,     18]   . . . 1: RevokedCertificate SEQUENCE<font></font>
<font></font>
                                 [...]<font></font>
<font></font>
9144992   [0,0,     15]   . . . . revocationDate: Time CHOICE utcTime<font></font>
9144985   [1,1,     20]   . . . 415755: RevokedCertificate SEQUENCE<font></font>
    181   [1,4,9144821]   . . revokedCertificates: RevokedCertificates SEQUENCE OF OPTIONAL<font></font>
      5   [1,4,9144997]   . tbsCertList: TBSCertList SEQUENCE<font></font>
9145009   [1,1,      9]   . . algorithm: OBJECT IDENTIFIER 1.2.840.113549.1.1.13<font></font>
9145020   [0,0,      2]   . . parameters: [UNIV 5] ANY OPTIONAL<font></font>
9145007   [1,1,     13]   . signatureAlgorithm: AlgorithmIdentifier SEQUENCE<font></font>
9145022   [1,3,    513]   . signatureValue: BIT STRING 4096 bits<font></font>
      0   [1,4,9145534]  CertificateList SEQUENCE<font></font>
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al comienzo de la decodificaci√≥n, vimos la </font><font style="vertical-align: inherit;">etiqueta </font><em><font style="vertical-align: inherit;">SECUENCIA de </font></em></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CertificateList</font></font></em> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la longitud de los datos, pero el objeto a√∫n no se sabe si puede decodificarse hasta el final. </font><font style="vertical-align: inherit;">Hasta ahora solo estamos en el proceso de trabajar en ello.</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font></li>
<li>    <em>SEQUENCE</em>:  <em>version</em>,     <em>INTEGER</em>.   .   ,      . ( <strong>10</strong>)</li>
<li>   <em>signature</em>,  <em>SEQUENCE</em>-   : <em>algorithm</em>  <em>parameters</em>.   <em>OBJECT IDENTIFIER</em>  <em>ANY</em>     . ( <strong>15</strong>, <strong>26</strong>)</li>
<li>   ,  ,   <em>signature</em> <em>SEQUENCE</em>    ,    ,    :  . ( <strong>13</strong>)</li>
<li>,   <em>RevokedCertificate</em>        . ( <strong>186</strong>, <strong>206</strong>,  ..)</li>
<li> <em>tbsCertList</em>       . ( <strong>5</strong>)</li>
<li> <em>CertificateList</em>,   <em>SEQUENCE</em>,  ,        ,         . ( <strong>0</strong>)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, todos los </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y las listas ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) no tienen un significado real. </font><font style="vertical-align: inherit;">En el caso de DER, conociendo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.offset</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.vlen,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede leer el valor de una l√≠nea de un archivo (¬øun trozo de memoria?). </font><font style="vertical-align: inherit;">Los objetos de secuencia se pueden recopilar y agregar seg√∫n lo necesite, mientras recibe todos los eventos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ruta decodificada y evgen_mode_upto</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo entender qu√© tipo de objeto, qu√© </font><font style="vertical-align: inherit;">tipo de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tenemos a mano? </font><font style="vertical-align: inherit;">Cada objeto tiene su propia ruta de decodificaci√≥n, que identifica de forma exclusiva un objeto espec√≠fico en la estructura. </font><font style="vertical-align: inherit;">Por ejemplo, para los eventos de ruta de decodificaci√≥n de CACert.org CRL:</font></font><br>
<br>
<pre><code class="plaintext hljs">tbsCertList:version<font></font>
tbsCertList:signature:algorithm<font></font>
tbsCertList:signature:parameters<font></font>
tbsCertList:signature<font></font>
tbsCertList:issuer:rdnSequence:0:0:type<font></font>
                                 [...]<font></font>
tbsCertList:issuer:rdnSequence<font></font>
tbsCertList:issuer<font></font>
                                 [...]<font></font>
tbsCertList:revokedCertificates:0:userCertificate<font></font>
tbsCertList:revokedCertificates:0:revocationDate:utcTime<font></font>
tbsCertList:revokedCertificates:0:revocationDate<font></font>
tbsCertList:revokedCertificates:0<font></font>
tbsCertList:revokedCertificates:1:userCertificate<font></font>
tbsCertList:revokedCertificates:1:revocationDate:utcTime<font></font>
tbsCertList:revokedCertificates:1:revocationDate<font></font>
tbsCertList:revokedCertificates:1<font></font>
                                 [...]<font></font>
tbsCertList:revokedCertificates:415755:userCertificate<font></font>
tbsCertList:revokedCertificates:415755:revocationDate:utcTime<font></font>
tbsCertList:revokedCertificates:415755:revocationDate<font></font>
tbsCertList:revokedCertificates:415755<font></font>
tbsCertList:revokedCertificates<font></font>
tbsCertList<font></font>
signatureAlgorithm:algorithm<font></font>
signatureAlgorithm:parameters<font></font>
signatureAlgorithm<font></font>
signatureValue<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ es como podemos imprimir la lista de n√∫meros de serie de revocaci√≥n de certificados de esta CRL:</font></font><br>
<br>
<pre><code class="plaintext hljs">raw = file_mmaped(open("....crl", "rb"))<font></font>
for decode_path, obj, tail in CertificateList().decode_evgen(raw):<font></font>
    if (len(decode_path) == 5) and (decode_path[-1] == "userCertificate"):<font></font>
        print(int(obj))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La estructura </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede contener mucha informaci√≥n, incluidas varias extensiones. </font><font style="vertical-align: inherit;">Desde el punto de vista t√©cnico, obtenemos todos los datos sobre el certificado revocado en modo evgen, pero </font><font style="vertical-align: inherit;">no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muy conveniente </font><font style="vertical-align: inherit;">agregar eventos relacionados con un elemento </font><em><font style="vertical-align: inherit;">revokeado</font></em><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dado que cada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certificado Revoked</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> final </font><font style="vertical-align: inherit;">, en la pr√°ctica, no ocupar√° mucho espacio, ser√≠a genial tenerlo todo igual, no todos los objetos est√°n tan "ordenados" por eventos. </font><font style="vertical-align: inherit;">PyDERASN permite que la lista especifique rutas de decodificaci√≥n en las que el modo evgen est√° deshabilitado. </font><font style="vertical-align: inherit;">Por lo tanto, podemos establecer la ruta de decodificaci√≥n (cualquier elemento de la lista </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">("tbsCertList", "revokedCertificates"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) en la que deseamos obtener el </font><font style="vertical-align: inherit;">objeto </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> completo </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">for decode_path, obj, _ in CertificateList().decode_evgen(raw, ctx={<font></font>
    "evgen_mode_upto": (<font></font>
        (("tbsCertList", "revokedCertificates", any), True),<font></font>
    ),<font></font>
}):<font></font>
    if (len(decode_path) == 3) and (decode_path[1] == "revokedCertificates"):<font></font>
        print(int(obj["userCertificate"]))<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cadenas agregadas: agg_octet_string</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora no tenemos problemas para decodificar objetos de cualquier tama√±o. Tampoco hay problema en decodificar un CMS codificado con DER con una copia de la base de datos: estamos esperando un evento con una ruta de decodificaci√≥n que apunte a los datos firmados / cifrados en el CMS y procesando los datos del archivo usando offset + vlen. Pero, ¬øy si el CMS estuviera en formato CER? Entonces offset + vlen no ayudar√°, ya que todos nuestros 10 GiB se dividen en piezas de 1000 bytes, entre los cuales se encuentra el encabezado DER. Pero, ¬øqu√© </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pasa</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si tenemos un BER en el que la anidaci√≥n de </font><em><font style="vertical-align: inherit;">* STRING</font></em><font style="vertical-align: inherit;"> puede ser cualquier cosa?</font></font><br>
<br>
<pre><code class="plaintext hljs">SOME STRING[CONSTRUCTED]<font></font>
    OCTET STRING[CONSTRUCTED]<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
    OCTET STRING[PRIMITIVE]<font></font>
        DATA CHUNK<font></font>
    OCTET STRING[CONSTRUCTED]<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
    OCTET STRING[CONSTRUCTED]<font></font>
        OCTET STRING[CONSTRUCTED]<font></font>
            OCTET STRING[PRIMITIVE]<font></font>
                DATA CHUNK<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al decodificar en modo evgen, para cada pieza obtenemos el evento correspondiente y es suficiente para nosotros recolectar solo </font><font style="vertical-align: inherit;">eventos </font><font style="vertical-align: inherit;">primitivos (no construidos) </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donde offset + vlen contienen datos reales. PyDERASN tiene una conveniente </font><font style="vertical-align: inherit;">funci√≥n </font><font style="vertical-align: inherit;">auxiliar </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agg_octet_string</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que realiza esto. Es suficiente para ella pasar un generador de eventos, la ruta de decodificaci√≥n "debajo" de la cual es necesario agregar una cadena, datos binarios (o vista de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoria</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) y un </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escritor</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , una funci√≥n que se llama con cada pieza de datos recibida. Queremos calcular el hash SHA512 y al mismo tiempo guardar el contenido de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encapContentInfo.eContent</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CMS? Encuentre la ubicaci√≥n del </font><font style="vertical-align: inherit;">campo de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenido</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (en el que se </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ubicar√° SignedData</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), y luego decodifica su contenido CER, escribiendo simult√°neamente en el FS y hashing:</font></font><br>
<br>
<pre><code class="plaintext hljs">fdIn = open("data.p7m", "rb")<font></font>
raw = file_mmaped(fdIn)<font></font>
for decode_path, obj, _ in ContentInfo().decode_evgen(raw, ctx={"bered": True}):<font></font>
    if decode_path == ("content",):<font></font>
        content = obj<font></font>
        break<font></font>
hasher_state = sha512()<font></font>
fdOut = open("dump.sql.zst", "wb")<font></font>
def hash_n_save(data):<font></font>
    write_full(fdOut, data)<font></font>
    hasher_state.update(data)<font></font>
    return len(data)<font></font>
evgens = SignedData().decode_evgen(<font></font>
    raw[content.offset:],<font></font>
    offset=content.offset,<font></font>
    ctx={"bered": True},<font></font>
)<font></font>
agg_octet_string(evgens, ("encapContentInfo", "eContent"), raw, hash_n_save)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠, se </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utiliza</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> otra utilidad </font><em><font style="vertical-align: inherit;">write_full</font></em><font style="vertical-align: inherit;"> , que llama al </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escritor</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hasta que se escriben todos los datos, ya que, en general, cuando se escribe en un archivo, no se requiere que el sistema operativo procese todos los datos transferidos y debe continuar el proceso hasta que est√© completamente escrito.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un par de cari√±osos sobre SET OF</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde el punto de vista t√©cnico, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no puede codificarse sobre la marcha en las codificaciones DER y CER, ya que las representaciones codificadas de todos los elementos deben clasificarse. </font><font style="vertical-align: inherit;">Ni CER ni un DER de dos pasos ayudar√°n aqu√≠. </font><font style="vertical-align: inherit;">El est√°ndar ASN.1 moderno, por lo tanto, no recomienda el uso de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (que requiere una clasificaci√≥n similar en DER) y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øY cu√°l es esta imagen al comienzo del art√≠culo?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fue en PyDERASN que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apareci√≥ un navegador ASN.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interactivo y sin pretensiones </font><font style="vertical-align: inherit;">, que personalmente me ayud√≥ varias veces a escribir controladores para estructuras complejas. </font><font style="vertical-align: inherit;">Le permite caminar por toda la estructura decodificada, mostrando todos los detalles sobre cada objeto, su ubicaci√≥n en datos binarios, ruta de decodificaci√≥n. </font><font style="vertical-align: inherit;">Adem√°s, cualquier elemento se puede guardar en un archivo separado, como certificados o CRL incluidos en el CMS. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sergey Matveev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cipherpunk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Python / Go-developer, jefe de especialistas de FSUE "Centro Cient√≠fico y T√©cnico" Atlas ".</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es498000/index.html">Cosas que me gustar√≠a saber antes de desarrollar mi propio juego</a></li>
<li><a href="../es498002/index.html">Gu√≠a de bolsillo para el Z3</a></li>
<li><a href="../es498004/index.html">Estaci√≥n de trabajo en un contenedor acoplable</a></li>
<li><a href="../es498006/index.html">Elegir un abogado de patentes</a></li>
<li><a href="../es498012/index.html">Mikrotik RouterOS en Docker con Qemu</a></li>
<li><a href="../es498018/index.html">An√°lisis en l√≠nea en la arquitectura de microservicios: ayuda y sugerencia Postgres FDW Ã∂ –∏ Post Post Ã∂–øÃ∂—ÄÃ∂–æÃ∂—ÅÃ∂—ÇÃ∂–∏Ã∂—Ç –∏—åÃ∂</a></li>
<li><a href="../es498020/index.html">Aproximadamente un indicador aplicable para la evaluaci√≥n visual de las funciones de r√°pido crecimiento.</a></li>
<li><a href="../es498022/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 341 (del 13 al 19 de abril)</a></li>
<li><a href="../es498024/index.html">Construyendo ciudades con un clic del mouse con Houdini y Python</a></li>
<li><a href="../es498026/index.html">FOSS News No. 12 - revisi√≥n de noticias gratuitas y de c√≥digo abierto del 13 al 19 de abril de 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>