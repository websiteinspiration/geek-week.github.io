<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèΩ ü•ó üè≠ Probar proyectos sin dolor. Informe Yandex ‚öîÔ∏è ‚õèÔ∏è üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En el equipo Yandex.Maps para iOS creamos proyectos de prueba usando un peque√±o complemento para CocoaPods y varias clases de utilidades. Crear un pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Probar proyectos sin dolor. Informe Yandex</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/503660/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el equipo Yandex.Maps para iOS creamos proyectos de prueba usando un peque√±o complemento para CocoaPods y varias clases de utilidades. </font><font style="vertical-align: inherit;">Crear un proyecto es r√°pido y confiable. </font><font style="vertical-align: inherit;">¬øPero tal vez nos molestamos demasiado y no es tan dif√≠cil armar un proyecto manualmente con las configuraciones y dependencias necesarias? </font><font style="vertical-align: inherit;">En el informe, pas√© de lo opuesto: primero mir√© el proceso manual, luego el nuestro.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8iwkFkkV9es" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Primero, un poco de historia. </font><font style="vertical-align: inherit;">Yandex.Maps se recopilan durante m√°s de un minuto. </font><font style="vertical-align: inherit;">En mi computadora, construir la aplicaci√≥n lleva un poco m√°s de tres minutos. </font><font style="vertical-align: inherit;">Desarrollamos en proyectos de prueba para pasar menos tiempo en cada ensamblaje. </font><font style="vertical-align: inherit;">Tenemos suficiente modularidad, y para cada m√≥dulo estamos haciendo un proyecto de prueba. </font><font style="vertical-align: inherit;">En este proyecto de prueba, se est√°n desarrollando caracter√≠sticas.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear un proyecto de prueba ahora lleva de 15 minutos a una hora. Esto se debe al hecho de que el proyecto debe estar configurado. Es decir, debe configurar la firma para que podamos desarrollar en los mismos dispositivos a los que estamos acostumbrados. Es necesario configurar las bibliotecas necesarias. En el proceso de desarrollo de la funci√≥n en s√≠, constantemente volvemos y terminamos el proyecto de prueba para que satisfaga nuestras necesidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© necesitamos proyectos de prueba? Para ahorrar tiempo en el montaje. Cuanto m√°s peque√±o sea el proyecto, m√°s r√°pido se ensambla, m√°s a menudo podremos lanzar nuestra aplicaci√≥n en el dispositivo y m√°s c√≥modo ser√° para nosotros desarrollarlo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zh/d_/rt/zhd_rt3d8t6ojvedwzffktuan7e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© deber√≠a estar en el proyecto de prueba? Deber√≠amos poder iniciar, depurar nuestra aplicaci√≥n en los mismos dispositivos en los que estamos acostumbrados a iniciar y depurar nuestra aplicaci√≥n principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El proyecto debe configurarse de la forma m√°s similar posible al proyecto principal, de modo que en el proceso de transferencia de caracter√≠sticas del proyecto de prueba al proyecto principal, no nos sorprendamos. </font><font style="vertical-align: inherit;">O al menos redujo al m√≠nimo el n√∫mero de sorpresas recibidas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n necesitamos un entorno m√≠nimo en el proyecto de prueba, para no perder el tiempo creando UIWindows, configurando bibliotecas, anulando la llamada para abrir la aplicaci√≥n en la biblioteca que se ocupa de la autorizaci√≥n, etc.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CocoaPods app_spec</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda mi historia de hoy se basar√° en la funci√≥n CocoaPods llamada app_spec. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pk/eb/xf/pkebxfc7kvhzsszibluqrljlkai.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
App_spec es como una subespecificaci√≥n regular, solo que no genera un marco que se pueda conectar, sino una aplicaci√≥n que se puede iniciar en el dispositivo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ds/kj/67/dskj67urgk0wocvvue0rsaexelq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y listo para usar, CocoaPods nos permite insertar Info.plist y xcconfig en app_spec. Esto ya nos permite configurar nuestro proyecto bastante bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero si vamos a escribir grandes diccionarios en cada pods_spec, con valores para Info.plist y xcconfig, entonces creceremos podspec nosotros mismos y ser√° inconveniente modificarlos. Si necesitamos cambiar algo, tenemos que ir a cada archivo podspec y editar algo con bol√≠grafos. En cualquier caso, esto es inconveniente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/t6/go/mf/t6gomf0wb3koti2mtcxnlsm36e8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para deshacernos de esto, creamos un complemento local muy simple para CocoaPods. Incluso cabe completamente en una diapositiva. Y hace lo √∫nico: nos da la resoluci√≥n DSL CocoaPods, que crea app_spec con valores ya obstruidos en Info.plist y xcconfig. Esto ya nos permite configurar la firma, configurar esas cosas importantes que queremos ver configuradas en nuestro proyecto de prueba. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kk/7h/7w/kk7h7w7bl013cgrbwntjge0jjec.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pregunta: c√≥mo transferir la ruta a los derechos, m√°s precisamente, d√≥nde almacenar los derechos para que podamos codificar la ruta en complementos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay dos maneras. O indique la ruta de un archivo que simplemente se encuentra en nuestro repositorio, por ejemplo, a los derechos del proyecto principal. O guarde en el complemento un archivo de derechos especiales para proyectos de prueba. Y usando el mismo complemento, c√≥pielo en nuestro desarrollopod.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/37/xo/jr/37xojrk1orzo5d_2nj1eu1tconi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elegimos el primer camino, y aqu√≠ tuvimos algunas dificultades. El hecho es que en nuestro repositorio de desarrollo los iPod est√°n en diferentes subcarpetas. Por lo tanto, no podemos indicarles una ruta relativa desde el DevelopmentPod al archivo de derechos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es importante enfatizar aqu√≠ que debe especificar una ruta relativa, porque esta ruta permanece en pods_spec. Esto significa que participar√° en el c√°lculo del monto del cheque, que se almacena en Podfile.lock. Y si hay una ruta absoluta, esto afectar√° el monto del cheque. Esto significa que el monto del cheque variar√° dependiendo de la carpeta desde la cual llamar a $ pod install, desde d√≥nde tiene el repositorio, en qu√© m√°quina ejecuta $ pod install. En general, esto lleva al conflicto.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lo/ek/ng/loekngcf64nbbzuaaadwy3qmhl4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora mostrar√© otra peque√±a extensi√≥n del mismo complemento, que nos permite calcular la ruta relativa a estos derechos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conocemos la ruta relativa desde nuestro complemento al archivo con derechos, si est√°n en el mismo repositorio. </font><font style="vertical-align: inherit;">Y tambi√©n durante el lanzamiento de la instalaci√≥n de $ pod, conocemos el camino hacia nuestro desarrollopod. </font><font style="vertical-align: inherit;">Toda la magia que hay en este c√≥digo es una l√≠nea resaltada donde simplemente contamos la ruta relativa, conociendo estas dos rutas absolutas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ya/yg/1l/yayg1ll82qeeq2xg28xnfrm4i2g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øqu√© obtuvimos cuando ya ten√≠amos app_spec configurado de esta manera? </font><font style="vertical-align: inherit;">Podemos ejecutar nuestro proyecto de prueba en los mismos dispositivos de inmediato. </font><font style="vertical-align: inherit;">Tenemos una gran cantidad de configuraciones, incluidos los derechos, que necesitamos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Medio ambiente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo siguiente de lo que quiero hablar es del entorno, el entorno m√≠nimo necesario que necesitamos para comenzar a escribir c√≥digo de inmediato. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ui/f-/t2/uif-t2fox7l9twbo2isjpzcx_py.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro caso, necesitamos MapKit, ya configurado, con las claves transferidas, con reenv√≠o de llamadas en el AccountManager. Esta es nuestra biblioteca de autorizaciones. Tambi√©n necesita lanzar llamadas al sistema, tambi√©n necesita transferir claves, incluso para pasar la apertura de la aplicaci√≥n por referencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n necesitamos una pantalla de inicio con un mapa y una pila de navegaci√≥n, para que podamos usar la misma pila de navegaci√≥n que en Mapas, y es m√°s f√°cil transferir caracter√≠sticas del proyecto de prueba al principal. Y el punto de entrada para que, sin pensarlo, podamos comenzar a escribir c√≥digo √∫til de inmediato.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/l0/c_/jql0c_lfm6weosqqsvivxclmqro.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En su caso, esto podr√≠a ser, por ejemplo, configurar el SDK de Facebook, al que tambi√©n debe transferir claves; sus bibliotecas para iniciar sesi√≥n, que seguramente necesitar√° omitir el enlace de apertura de la aplicaci√≥n. Alg√∫n tipo de controlador de inicio de inicio de Windows y el mismo punto de entrada para ejecutar el script principal que desea desarrollar en su proyecto de prueba. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7u/6v/7o/7u6v7oxzg3dipiw2ztkcsub5ou8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo hicimos esto? Al hacer una sola plantilla AppDelegate. All√≠ inicializamos todos los entornos necesarios, bibliotecas. Reenviamos todas las llamadas necesarias, transferimos las claves necesarias. Al crear un proyecto de prueba, nos queda crear un nuevo AppDelegate para el proyecto de prueba y heredarlo de la plantilla.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, anulamos el √∫nico m√©todo que se llama despu√©s de que la plantilla AppDelegate haya hecho todo lo necesario. </font><font style="vertical-align: inherit;">Y all√≠ ya tenemos el ViewController de inicio y adem√°s podemos ejecutar nuestro script, que queremos depurar en el proyecto de prueba.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fue / se convirti√≥</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo puedo crear un proyecto de prueba en la frente y c√≥mo puedo crearlo usando el m√©todo que describ√≠ hoy? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear un proyecto de prueba en la frente: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Vamos a Xcode, creamos un nuevo proyecto (Archivo&gt; Nuevo proyecto). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Ingrese el nombre, preferiblemente sin errores, firme el ID del paquete. Estamos preparando este proyecto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cambiar la versi√≥n de Swift, cambiar la versi√≥n de destino. Estamos intentando ejecutarlo todo en el dispositivo, editar la firma, etc. Este es un proceso bastante triste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- A continuaci√≥n, creamos un podfile, conectamos dependencias all√≠, instalamos pods. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Despu√©s de eso, vamos y comenzamos a configurar muy tediosa y suavemente nuestro AppDelegate, transfiriendo a trav√©s de las piezas de inicializaci√≥n de las bibliotecas que necesitamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cree una UIWindows de inicio con nuestro ViewController</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y solo despu√©s de eso podemos comenzar el c√≥digo √∫til. </font><font style="vertical-align: inherit;">Procedimiento bastante desagradable, de acuerdo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo podemos crear un proyecto de prueba utilizando las mejores pr√°cticas que describ√≠ en el informe de hoy? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Creamos sample_app_spec, usando la extensi√≥n, para CocoaPods, con el que comenzamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cree un AppDelegate y herede de la plantilla AppDelegate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, podemos comenzar a escribir c√≥digo √∫til. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear un proyecto de prueba de esta manera es mucho m√°s r√°pido y m√°s confiable. </font><font style="vertical-align: inherit;">Definitivamente no nos equivocaremos en la configuraci√≥n de la firma, definitivamente no nos equivocaremos en la configuraci√≥n del proyecto. </font><font style="vertical-align: inherit;">Todo el entorno necesario para comenzar a trabajar se nos acerca de inmediato.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPuede ser m√°s f√°cil?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede hacer una pregunta: ¬øse puede hacer esto m√°s f√°cilmente? Por supuesto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9e/t_/ux/9et_uxcpepiyc5iavhfehkqen-q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
He identificado tres niveles de dificultad. Lo primero es de lo que habl√© hoy, de una vez, cuando creamos un complemento incorporado para CocoaPods, que puede reparar las rutas a los derechos, y una plantilla AppDelegate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El segundo m√©todo es ideal en la relaci√≥n de esfuerzos a ganancias. Contiene solo el complemento para CocoaPods, que fue el primero en la historia de hoy. Es decir, simplemente sustituye los valores en Info.plist y xcconfig. Ya hace la vida mucho m√°s f√°cil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no necesita su archivo de derechos en sus aplicaciones de prueba, si sus aplicaciones de prueba son bastante diferentes entre s√≠ y no necesitan componentes comunes, este m√©todo es muy adecuado para usted.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tercer m√©todo es el m√°s f√°cil, no requiere ninguna preparaci√≥n. Simplemente comience a usar app_spec. El proyecto que se genera desde app_spec se crea en el mismo espacio de trabajo que su proyecto principal. Por lo tanto, ya hereda, por ejemplo, Swift, la versi√≥n de destino y todas las configuraciones que tiene en Workspace. Ser√° mucho m√°s f√°cil para ti comenzar a trabajar con √©l. Eso es todo, gracias por su atenci√≥n. Hoy les dir√© c√≥mo crear proyectos de prueba sin problemas, y c√≥mo creamos proyectos de prueba en Yandex.Maps.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Primero, un poco de historia. Yandex.Maps se recopilan durante m√°s de un minuto. En mi computadora, construir la aplicaci√≥n lleva un poco m√°s de tres minutos. Desarrollamos en proyectos de prueba para pasar menos tiempo en cada ensamblaje. Tenemos suficiente modularidad, y para cada m√≥dulo estamos haciendo un proyecto de prueba. En este proyecto de prueba, se est√°n desarrollando caracter√≠sticas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear un proyecto de prueba ahora lleva de 15 minutos a una hora. Esto se debe al hecho de que el proyecto debe estar configurado. Es decir, debe configurar la firma para que podamos desarrollar en los mismos dispositivos a los que estamos acostumbrados. Es necesario configurar las bibliotecas necesarias. En el proceso de desarrollo de la funci√≥n en s√≠, constantemente volvemos y terminamos el proyecto de prueba para que satisfaga nuestras necesidades.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© necesitamos proyectos de prueba? Para ahorrar tiempo en el montaje. Cuanto m√°s peque√±o sea el proyecto, m√°s r√°pido se ensambla, m√°s a menudo podremos lanzar nuestra aplicaci√≥n en el dispositivo y m√°s c√≥modo ser√° para nosotros desarrollarlo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zh/d_/rt/zhd_rt3d8t6ojvedwzffktuan7e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© deber√≠a estar en el proyecto de prueba? Deber√≠amos poder iniciar, depurar nuestra aplicaci√≥n en los mismos dispositivos en los que estamos acostumbrados a iniciar y depurar nuestra aplicaci√≥n principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El proyecto debe configurarse de la forma m√°s similar posible al proyecto principal, de modo que en el proceso de transferencia de caracter√≠sticas del proyecto de prueba al proyecto principal, no nos sorprendamos. O al menos redujo al m√≠nimo el n√∫mero de sorpresas recibidas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n necesitamos un entorno m√≠nimo en el proyecto de prueba, para no perder el tiempo creando UIWindows, configurando bibliotecas, anulando la llamada para abrir la aplicaci√≥n en la biblioteca que se ocupa de la autorizaci√≥n, etc. </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CocoaPods app_spec</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda mi historia de hoy se basar√° en la funci√≥n CocoaPods llamada app_spec. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pk/eb/xf/pkebxfc7kvhzsszibluqrljlkai.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
App_spec es como una subespecificaci√≥n regular, solo que no genera un marco que se pueda conectar, sino una aplicaci√≥n que se puede iniciar en el dispositivo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ds/kj/67/dskj67urgk0wocvvue0rsaexelq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y listo para usar, CocoaPods nos permite insertar Info.plist y xcconfig en app_spec. Esto ya nos permite configurar nuestro proyecto bastante bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero si vamos a escribir grandes diccionarios en cada pods_spec, con valores para Info.plist y xcconfig, entonces creceremos podspec nosotros mismos y ser√° inconveniente modificarlos. Si necesitamos cambiar algo, tenemos que ir a cada archivo podspec y editar algo con bol√≠grafos. O no bol√≠grafos. En cualquier caso, esto es inconveniente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/t6/go/mf/t6gomf0wb3koti2mtcxnlsm36e8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para deshacernos de esto, creamos un complemento local muy simple para CocoaPods. Incluso cabe completamente en una diapositiva. Y hace lo √∫nico: nos da la resoluci√≥n DSL CocoaPods, que crea app_spec con valores ya obstruidos en Info.plist y xcconfig. Esto ya nos permite configurar la firma, configurar esas cosas importantes que queremos ver configuradas en nuestro proyecto de prueba. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kk/7h/7w/kk7h7w7bl013cgrbwntjge0jjec.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pregunta: c√≥mo transferir la ruta a los derechos, m√°s precisamente, d√≥nde almacenar los derechos para que podamos codificar la ruta en complementos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay dos maneras. O indique la ruta de un archivo que simplemente se encuentra en nuestro repositorio, por ejemplo, a los derechos del proyecto principal. O guarde en el complemento un archivo de derechos especiales para proyectos de prueba. Y usando el mismo complemento, c√≥pielo en nuestro desarrollopod.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/37/xo/jr/37xojrk1orzo5d_2nj1eu1tconi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elegimos el primer camino, y aqu√≠ tuvimos algunas dificultades. El hecho es que en nuestro repositorio de desarrollo los iPod est√°n en diferentes subcarpetas. Por lo tanto, no podemos indicarles una ruta relativa desde el DevelopmentPod al archivo de derechos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es importante enfatizar aqu√≠ que debe especificar una ruta relativa, porque esta ruta permanece en pods_spec. Esto significa que participar√° en el c√°lculo del monto del cheque, que se almacena en Podfile.lock. Y si hay una ruta absoluta, esto afectar√° el monto del cheque. Esto significa que el monto del cheque variar√° dependiendo de la carpeta desde la cual llamar a $ pod install, desde d√≥nde tiene el repositorio, en qu√© m√°quina ejecuta $ pod install. En general, esto lleva al conflicto.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lo/ek/ng/loekngcf64nbbzuaaadwy3qmhl4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora mostrar√© otra peque√±a extensi√≥n del mismo complemento, que nos permite calcular la ruta relativa a estos derechos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conocemos la ruta relativa desde nuestro complemento al archivo con derechos, si est√°n en el mismo repositorio. </font><font style="vertical-align: inherit;">Y tambi√©n durante el lanzamiento de la instalaci√≥n de $ pod, conocemos el camino hacia nuestro desarrollopod. </font><font style="vertical-align: inherit;">Toda la magia que hay en este c√≥digo es una l√≠nea resaltada donde simplemente contamos la ruta relativa, conociendo estas dos rutas absolutas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ya/yg/1l/yayg1ll82qeeq2xg28xnfrm4i2g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øqu√© obtuvimos cuando ya ten√≠amos app_spec configurado de esta manera? </font><font style="vertical-align: inherit;">Podemos ejecutar nuestro proyecto de prueba en los mismos dispositivos de inmediato. </font><font style="vertical-align: inherit;">Tenemos una gran cantidad de configuraciones, incluidos los derechos, que necesitamos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Medio ambiente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo siguiente de lo que quiero hablar es del entorno, el entorno m√≠nimo necesario que necesitamos para comenzar a escribir c√≥digo de inmediato. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ui/f-/t2/uif-t2fox7l9twbo2isjpzcx_py.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro caso, necesitamos MapKit, ya configurado, con las claves transferidas, con reenv√≠o de llamadas en el AccountManager. Esta es nuestra biblioteca de autorizaciones. Tambi√©n necesita lanzar llamadas al sistema, tambi√©n necesita transferir claves, incluso para pasar la apertura de la aplicaci√≥n por referencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n necesitamos una pantalla de inicio con un mapa y una pila de navegaci√≥n, para que podamos usar la misma pila de navegaci√≥n que en Mapas, y es m√°s f√°cil transferir caracter√≠sticas del proyecto de prueba al principal. Y el punto de entrada para que, sin pensarlo, podamos comenzar a escribir c√≥digo √∫til de inmediato.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/l0/c_/jql0c_lfm6weosqqsvivxclmqro.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En su caso, esto podr√≠a ser, por ejemplo, configurar el SDK de Facebook, al que tambi√©n debe transferir claves; sus bibliotecas para iniciar sesi√≥n, que seguramente necesitar√° omitir el enlace de apertura de la aplicaci√≥n. Alg√∫n tipo de controlador de inicio de inicio de Windows y el mismo punto de entrada para ejecutar el script principal que desea desarrollar en su proyecto de prueba. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7u/6v/7o/7u6v7oxzg3dipiw2ztkcsub5ou8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo hicimos esto? Al hacer una sola plantilla AppDelegate. All√≠ inicializamos todos los entornos necesarios, bibliotecas. Reenviamos todas las llamadas necesarias, transferimos las claves necesarias. Al crear un proyecto de prueba, nos queda crear un nuevo AppDelegate para el proyecto de prueba y heredarlo de la plantilla.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, anulamos el √∫nico m√©todo que se llama despu√©s de que la plantilla AppDelegate haya hecho todo lo necesario. </font><font style="vertical-align: inherit;">Y all√≠ ya tenemos el ViewController de inicio y adem√°s podemos ejecutar nuestro script, que queremos depurar en el proyecto de prueba.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fue / se convirti√≥</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo puedo crear un proyecto de prueba en la frente y c√≥mo puedo crearlo usando el m√©todo que describ√≠ hoy? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear un proyecto de prueba en la frente: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Vamos a Xcode, creamos un nuevo proyecto (Archivo&gt; Nuevo proyecto). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Ingrese el nombre, preferiblemente sin errores, firme el ID del paquete. Estamos preparando este proyecto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cambiar la versi√≥n de Swift, cambiar la versi√≥n de destino. Estamos intentando ejecutarlo todo en el dispositivo, editar la firma, etc. Este es un proceso bastante triste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- A continuaci√≥n, creamos un podfile, conectamos dependencias all√≠, instalamos pods. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Despu√©s de eso, vamos y comenzamos a configurar muy tediosa y suavemente nuestro AppDelegate, transfiriendo a trav√©s de las piezas de inicializaci√≥n de las bibliotecas que necesitamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cree una UIWindows de inicio con nuestro ViewController</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y solo despu√©s de eso podemos comenzar el c√≥digo √∫til. </font><font style="vertical-align: inherit;">Procedimiento bastante desagradable, de acuerdo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo podemos crear un proyecto de prueba utilizando las mejores pr√°cticas que describ√≠ en el informe de hoy? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Creamos sample_app_spec, usando la extensi√≥n, para CocoaPods, con el que comenzamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cree un AppDelegate y herede de la plantilla AppDelegate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, podemos comenzar a escribir c√≥digo √∫til. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear un proyecto de prueba de esta manera es mucho m√°s r√°pido y m√°s confiable. </font><font style="vertical-align: inherit;">Definitivamente no nos equivocaremos en la configuraci√≥n de la firma, definitivamente no nos equivocaremos en la configuraci√≥n del proyecto. </font><font style="vertical-align: inherit;">Todo el entorno necesario para comenzar a trabajar se nos acerca de inmediato.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPuede ser m√°s f√°cil?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede hacer una pregunta: ¬øse puede hacer esto m√°s f√°cilmente? Por supuesto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9e/t_/ux/9et_uxcpepiyc5iavhfehkqen-q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
He identificado tres niveles de dificultad. Lo primero es de lo que habl√© hoy, de una vez, cuando creamos un complemento incorporado para CocoaPods, que puede reparar las rutas a los derechos, y una plantilla AppDelegate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El segundo m√©todo es ideal en la relaci√≥n de esfuerzos a ganancias. Contiene solo el complemento para CocoaPods, que fue el primero en la historia de hoy. Es decir, simplemente sustituye los valores en Info.plist y xcconfig. Ya hace la vida mucho m√°s f√°cil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no necesita su archivo de derechos en sus aplicaciones de prueba, si sus aplicaciones de prueba son bastante diferentes entre s√≠ y no necesitan componentes comunes, este m√©todo es muy adecuado para usted.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tercer m√©todo es el m√°s f√°cil, no requiere ninguna preparaci√≥n. </font><font style="vertical-align: inherit;">Simplemente comience a usar app_spec. </font><font style="vertical-align: inherit;">El proyecto que se genera desde app_spec se crea en el mismo espacio de trabajo que su proyecto principal. </font><font style="vertical-align: inherit;">Por lo tanto, ya hereda la versi√≥n Swift, la versi√≥n de destino y todas las configuraciones que tiene en Workspace. </font><font style="vertical-align: inherit;">Ser√° mucho m√°s f√°cil para ti comenzar a trabajar con √©l. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias por la atenci√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es503648/index.html">¬øQu√© significa la salida de "ss -s"</a></li>
<li><a href="../es503650/index.html">VKCup 2020 Etapa I. Un largo camino</a></li>
<li><a href="../es503652/index.html">Eventos digitales en Mosc√∫ del 25 al 31 de mayo</a></li>
<li><a href="../es503654/index.html">Servicio web que permite a los usuarios mantener independientemente una cultura de comunicaci√≥n en l√≠nea</a></li>
<li><a href="../es503656/index.html">El algoritmo de supresi√≥n de banda en la imagen como herramienta para mejorar la calidad de la reconstrucci√≥n tomogr√°fica</a></li>
<li><a href="../es503662/index.html">NUEVO - Tel√©fono VoIP Snom D335</a></li>
<li><a href="../es503666/index.html">Inicio y traducci√≥n de cursos de negocios de la Universidad de Stanford. Conferencia n√∫mero 1. C√≥mo comenzar una startup</a></li>
<li><a href="../es503668/index.html">C√≠rculo cuadrado: evidencia visual</a></li>
<li><a href="../es503670/index.html">¬øMac OS se ralentiza? - Catalina comprueba cualquier c√≥digo sin firmar a trav√©s de Internet al inicio</a></li>
<li><a href="../es503672/index.html">De qu√© lado est√°s: Push and Pull en la configuraci√≥n de estado deseada</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>