<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👶🏼 ✌🏽 🌽 15,000のオフラインストアでA / Bテストを実施する方法 😍 🕺🏿 🏆</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは！X5 Retail Groupのコネクテッドビッグデータアドホック分析チーム。
 
 この記事では、A / Bテストの方法論と毎日直面する課題について説明します。
 
 ビッグデータX5は、科学者の日付とアナリストの日付を含めて、約200人を雇用しています。私たちの主要な部分は、特定の製...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>15,000のオフラインストアでA / Bテストを実施する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/X5RetailGroup/blog/466349/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは！</font><font style="vertical-align: inherit;">X5 Retail Groupのコネクテッドビッグデータアドホック分析チーム。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、A / Bテストの方法論と毎日直面する課題について説明します。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビッグデータX5は、科学者の日付とアナリストの日付を含めて、約200人を雇用しています。</font><font style="vertical-align: inherit;">私たちの主要な部分は、特定の製品に従事しています-需要、品揃え、プロモーションキャンペーンなど。</font><font style="vertical-align: inherit;">それらに加えて、独立したアドホック分析チームがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fc/ab/by/fcabbyvlt69yxmfimt4iidjbsze.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我々：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既存の製品に適合しないデータ分析リクエストをビジネスユニットに提供します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製品チームが追加の手を必要とする場合、私たちは製品チームを支援します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちはA / Bテストを行っており、これがチームの主な機能です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが作業する状況は、一般的なA / Bテストとは大きく異なります。通常、この手法はオンラインとオンラインの指標に関連付けられています。変更がコンバージョン、保持、CTRなどにどのように影響したか。ほとんどの実験はインターフェースの変更に関連しています。バナーの再配置、ボタンの再描画、テキストの置き換えなどです。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
X5ビジネスは異なります-それは全国に配布されている様々なフォーマットの15,000のオフラインストアのライブです。この機能には一定の制限があります。最初に、テストできるメトリックのセットは大きく異なります。次に、実験に制限が課されます。オンラインストアのストアフロントのデザインを変更するタスクは、オフラインストアの部門の順序を変更するタスクと労働力の点で比較できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同社にはロイヤルティプログラムに従事しているチームがあり、そのパイロットはA / Bテストの古典的なアイデアに最も近いものです。</font><font style="vertical-align: inherit;">私たちに来る質問は、「通常の」A / Bテストでは非常に異例です。</font><font style="vertical-align: inherit;">例えば：</font></font><br>
 <br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソーセージとケーキ部門の注文を変更すると、店舗の財務実績はどのように変化しますか？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顧客チャーンのモデルは、財務結果にどのように影響しますか？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postamateの設定はストアのパフォーマンスにどのように影響しますか？</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顧客は、特定の変更が指標の1つにプラスの影響を与えると信じています（これらについては後で説明します）。</font><font style="vertical-align: inherit;">私たちの仕事は、データに基づいて仮説を検証する手助けをすることです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指標</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どの指標をテストしていますか？</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均チェック</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トラフィック</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、オープンスペースウィングで最も頻繁に使用される単語です。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（小売売上高）-ストアが稼いだ金額。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビジネスの主要な指標の1つであり、テストが最も困難です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
店舗の毎日の売り上げは、数百万ルーブルで測定されます。</font><font style="vertical-align: inherit;">したがって、指標の広がりは少なくとも数千ルーブルで測定されます。</font><font style="vertical-align: inherit;">サンプルのサイズを決定するための複雑で長い式は、分散が大きいほど、有意義な結論に必要なデータが増えることを示しています。</font><font style="vertical-align: inherit;">PTOがこのように大きく分散していても、10分の1パーセントでさえ効果を得るには、店舗のパイロットは6か月を費やす必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らとのミーティングでパイロットがすべての店舗で6か月、または1年も費やす必要があると言った場合、理事会の反応を想像してみてください。</font><font style="vertical-align: inherit;">=）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つの標準的なアプローチがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のアプローチ：店舗全体のRTOではなく、ある種の製品カテゴリを検討しています。</font><font style="vertical-align: inherit;">たとえば、ストア内の2つのセクション（「ケーキ」と「ソーセージ」）を再配置した結果、両方のカテゴリーでPTOの増加が見込まれます。</font><font style="vertical-align: inherit;">1つのカテゴリーのRTOはストア全体のRTOよりもはるかに小さいため、分散は低くなります。</font><font style="vertical-align: inherit;">この場合、これらのカテゴリのパイロットが他のカテゴリから分離されていることを願っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のアプローチ：時間をサンプリングします。</font><font style="vertical-align: inherit;">観測の単位は、パイロット全体の店舗のPTOではなく、週または日ごとのPTOです。</font><font style="vertical-align: inherit;">したがって、生データの分散を維持しながら、観測数を増やします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kw/b_/w1/kwb_w1jmlkx4rynvidf5cfqvkny.jpeg"><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均小切手</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、または</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTO /小切手の数-1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">つ</font><b><font style="vertical-align: inherit;">の小切手</font></b><font style="vertical-align: inherit;">の平均金額。</font></font></li>
</ul> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変更の一部は、人々がより多く購入できるようにすることを目的としているため、通常のメトリックとの類似性を引き出す場合は、RTO /チェックの数、または平均チェックをテストします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメトリックのテストの難しさは、小売の詳細に関連しています。</font><font style="vertical-align: inherit;">たとえば、「2の価格で3」キャンペーンのパイロット版の起動中に、1つの製品を購入することを計画していた人は3つを購入し、チェックの量が増加します。</font><font style="vertical-align: inherit;">しかし、後で店に行く可能性が低くなり、パイロットが実際にはそれほど成功しなかった場合はどうなりますか？</font></font><br>
 <br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トラフィック</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -特定の期間のストア内のチェックの数。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平均チェックに影響を与える仮説をテストするときに誤った結論を回避するために、トラフィックの変化を同時に調べます。</font><font style="vertical-align: inherit;">来店数を直接追跡することはできません。</font><font style="vertical-align: inherit;">すべての訪問者がポイントプログラムのクライアントであるとは限らないため、A / Bテストでは、各チェックはクライアントへの「ユニークな訪問」です。</font><font style="vertical-align: inherit;">PTOに類似して、異なる時間間隔のトラフィックを考慮します。1日あたりのトラフィック、1時間あたりのトラフィックです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平均チェックとトラフィックの相互関係は非常に重要です。パイロットが平均チェックを増やしても、トラフィックを減らし、最終的にはPTOの増加ではなく減少につながるのでしょうか。</font><font style="vertical-align: inherit;">パイロットは、平均請求額を変更せずにトラフィックを増やすのに役立ちますか？</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マージン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -製品の価格とコストの差</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
商品の価格を変更するパイロットがいます-逆に、価格が上がったパイロットもあります。</font><font style="vertical-align: inherit;">製造コストには影響しないため、価格を変更することで商品のマージンを変更します。</font><font style="vertical-align: inherit;">このようなパイロットは、トラフィックの増加と平均チェックの増加につながる可能性があります。</font><font style="vertical-align: inherit;">しかし、これはパイロットが成功し、ネットワークのすべての店舗で価格を変更する価値があることを意味しますか？</font><font style="vertical-align: inherit;">いいえ、マージンがマイナスまたは小さい商品を頻繁に購入し、マージンが高い商品を放棄することはよくあります。</font><font style="vertical-align: inherit;">したがって、RTOの増加に続いて総マージンが増加するとは限らないため、これらの指標を個別にテストすることは価値があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、ターゲットのメトリックを決定したとしましょう。</font><font style="vertical-align: inherit;">次の質問：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顧客はどのようなサイズの影響を受ける予定ですか？ </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実験で実際に検出できる効果は何ですか？ </font></font></li>
<li>   ? </li>
<li>  ?</li>
</ul><br>
<h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オンラインユーザーに対して実施されたA / Bテストには大きな利点があります-それらは高い汎化能力を持っています。つまり、実験中に得られた結論は、すべてのユーザーに拡大することができます。汎化能力は、実験の設定によって保証されます。コントロールグループとテストグループはランダムに形成されます。ほぼ同じグループの両方が同じ分布であり、両方のグループで大量のトラフィックをキャッチできます-予算があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オフライン小売の場合、これらの設定はどれも機能しません。まず、店舗数には限りがあります。第二に、店は互いに非常に異なっています。住宅街のペレクレストク店とビジネスセンター近くのペレクレストクは、実際には、さまざまなディストリビューションからの非常に異なるオブジェクトです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-8/o_/so/-8o_sonaxffqinwcofkoegbxw58.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフでは、テストグループの店舗がネットワーク全体の店舗と異なることがわかります。これはかなり典型的な状況です。ピエテロカチェーン店は、都市だけでなく小さな集落にもあります。大規模なパイロットは、ほとんどの場合、都市で開催されます。どんな影響があっても、ネットワーク全体に拡大することは間違っています。</font><b><font style="vertical-align: inherit;">Je</font></b><font style="vertical-align: inherit;">パイロット</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の複合効果は</font><font style="vertical-align: inherit;">、次の式で推定します</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。a-</font></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/0p/t7/-w/0pt7-w_eyalkcs_fafhwwgqzjx0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
パイロットグループとすべての店舗の分布の交差領域。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは統計法則の結果ではなく、累積効果を考慮することが論理的であるという私たちの仮定に注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理想的なオプションは、代表的なサンプルをテストグループ、つまり、ネットワークの状態全体を正確に反映するストアに募集することです。</font><font style="vertical-align: inherit;">しかし、代表性はサンプルの不均一性につながります。</font><font style="vertical-align: inherit;">RTOが低いまたは高いショップがサンプリングされます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループのサイズ、パイロットの期間、最小限の検出可能な影響</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今最も重要なことのために-効果のサイズとパイロットの期間。</font><font style="vertical-align: inherit;">原則として、次の3つの状況のいずれかに直面しています。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顧客にはパイロットの時間制限と、一緒に作業できる店舗の数があります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顧客は、彼が受け取ると予想されるサイズの効果を知っており、パイロットが必要とする店舗の数（および店舗自体）を示すように要求します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顧客は私たちの提案にオープンです。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれの場合もエフェクトエラーの表を用意しているため、シナリオが単純であるとは言えません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tl/rb/dc/tlrbdcloe-j79-o-2rygs4aqira.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼女にとって重要：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1種のエラー-存在しない場合に効果が現れる確率。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二種の間違い-ある場合に効果をスキップする確率;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイロットが成功した場合に見られる効果の大きさ。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これら3つのパラメーターの組み合わせにより、パイロットの必要な期間を計算できます。表の値はサンプルサイズです。この場合、パイロットに必要な1日あたりのストア内のレシート数または平均メトリックです。現実の世界について話している場合、通常、第1種と第2種のエラーの確率は5〜10％です。表からわかるように、このような修正されたエラーでは、1パーセントの効果をキャッチするために421ピャテロチカ日が必要です。数字はかなり良いようです-結局のところ、421 Pyaterochka-dayは40店舗で10日間のパイロットです。ただし、「しかし」は1つあります。実際に1％の効果を期待しているパイロットはほとんどいません。通常、10分の1パーセントについて話します。 PTOは数十億で測定されるとすると、その後、パイロットが成功した場合の影響の10％で、収益が大幅に増加します。そのため、少しでも効果を測定したい。ただし、エフェクトサイズが小さいほど、第2種のエラーは大きくなります。これは理解できます。小さな影響はランダムノイズに似ており、標準からの実際の逸脱とはほとんど見なされません。これは、下のグラフではっきりとわかります。分散が大きいデータで小さな影響を捉えたい場合です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vr/na/lw/vrnalwenskdfrb2xpenvbhgq23o.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A / Aテスト</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パイロットを開始する前に、テストとコントロールグループを決定する必要があります。</font><font style="vertical-align: inherit;">顧客にはパイロットグループがある場合とない場合があります。</font><font style="vertical-align: inherit;">どちらの場合も、制限をリクエストすることで彼を支援する準備ができています。たとえば、店舗は特定の3つの地域に限定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何らかの方法でテストおよびコントロールグループを選択したとします。</font><font style="vertical-align: inherit;">選択したグループが良好であり、本当にそれらのグループでA / Bテストを実行できることを確認するにはどうすればよいですか？</font><font style="vertical-align: inherit;">すべてが調和のように聞こえます。必要な観測数をスコア付けしました。0.7％の効果をキャッチできる式に従って、同様の店舗を見つけました。</font><font style="vertical-align: inherit;">今、私たちに合わないものは何ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、多くの深刻な事実があります：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプルの要素は同じ分布からのものではありません-私たちのサンプルは異なるストアからの観測の混合であり、各ストアには独自の分布があります。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプルの要素は独立していません-サンプルにはそれぞれ1つのストアからの多くの観測が含まれており、それらの間には関係があります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイロットが不在の場合、手段の平等は保証されません。</font><font style="vertical-align: inherit;">パイロットがいなかったとしても、店舗の統計に違いがないかどうかは、まったくわかりません。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーと影響に応じて観測数を選択するための式の計算では、これらの問題はすべて考慮されません。</font><font style="vertical-align: inherit;">上記の問題の影響の程度を把握するために、A / Aテストを実施しています。</font><font style="vertical-align: inherit;">実際、これは店舗にパイロットがいないときの店舗内のパイロット全体のシミュレーションです。</font><font style="vertical-align: inherit;">この期間はプレパイロットと呼ばれます。</font></font><br>
<img src="https://habrastorage.org/webt/rf/zd/vz/rfzdvzpvmqlff2x6ed2bzeqtuxy.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プレパイロット期間中は、3つのステップを何度も繰り返します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">類似グループの選択;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つのグループでの平等テスト。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストグループに効果を追加し、平均が等しいかどうかをテストします。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/ri/ti/eg/ritieghfygj6kgxfyedloba-irk.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">類似グループのマッチング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは自転車を発明していないので、私たちは最近隣の古き良き方法で同様のグループを探しています。</font><font style="vertical-align: inherit;">ストアのフィーチャーを生成する戦略は、別のアートです。</font><font style="vertical-align: inherit;">私たちは3つの動作方法を見つけました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各店舗は、テストしている指標に応じた特徴ベクトルで記述されています。</font><font style="vertical-align: inherit;">たとえば、平均小切手を調べる場合、8週間の毎日の平均小切手について説明します。店舗には56の看板があります。</font><font style="vertical-align: inherit;">次に、1組の店の看板の間のユークリッド距離をとります。</font></font></li>
</ul><br>
 <img src="https://habrastorage.org/webt/ra/nq/sy/ranqsy12gvkgu2tgk1lsocvbwcu.jpeg"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダイナミクスが類似している店舗を見つけます。</font><font style="vertical-align: inherit;">ストアは、メトリックの絶対値が異なる場合がありますが、傾向は一致しています。また、特定の数学的な操作により、これらのストアは同じと見なすことができます。</font></font></li>
</ul><br>
 <img src="https://habrastorage.org/webt/gw/pz/99/gwpz99ikylr7lyv7nyteclwdk8y.jpeg"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイロットの期間中（将来）のストアのパフォーマンスを予測し、それに基づいて類似するものを選択します。ただし、ここではパイロットのパフォーマンスを非常に正確に予測できるオラクルが必要です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは非常に単純な仮説を堅持します。パイロットの前に店舗が類似していた場合、パイロットの変更がなければ、それらは類似したままでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの3つの作業方法でも、さまざまな側面があります。機能が考慮される日数/週数、インジケーターのダイナミクスを評価する方法などです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
普遍的な錠剤はありません。各実験では、目標に基づいてさまざまなオプションを検討します。</font><font style="vertical-align: inherit;">しかし、それは非常に単純です。第1種と第2種の妥当な誤差を与える最近傍を選択する方法を見つけます。</font><font style="vertical-align: inherit;">彼らがどこから来たのか、私たちはさらに伝えます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均値の等価性、または最初の種類のメソッドのエラーのテスト</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この時点で、次のことを思い出してください。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 効果の大きさとパイロットの期間をお客様と一緒に決定</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 第1種と第2種の間違いの本質を説明した</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 類似グループを選択する方法を構築しました</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このステージの目的は、セクション3で選択した方法で、パイロットが開始する前にこれらのストアのインジケーター（RTO、平均チェック、トラフィック）が統計的に異ならないグループを見つけることを確認することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このサイクルでは、選択したグループを繰り返し選択して、ある種の統計的検定とブートストラップとの同等性を確認します。</font><font style="vertical-align: inherit;">エラーの割合（つまり、グループが互いに等しくない）がしきい値よりも高い場合、メソッドは拒否され、新しいエラーが選択されます。</font><font style="vertical-align: inherit;">したがって、望ましいエラーのしきい値に達するまで。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-r/wn/sg/-rwnsgtq1jyngzxrsdm446piem0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこにないとき、つまりどれくらいの頻度で効果を捉えるかを知ることが重要です。</font><font style="vertical-align: inherit;">選択方法が店舗間のランダムな違いに反応するかどうか。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果の追加、または2番目の種類の方法の誤り</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは理にかなっている質問ですが、実際の影響をノイズとして認識して無視するように再トレーニングを行っていませんか？つまり、効果があったときにそれを検出できるのでしょうか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のステップでグループが一致することを確認した後、グループの1つに人工的な効果を追加します。パイロットが成功し、効果があるはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今回の目標は、平等仮説がどのくらいの頻度で却下されるかを見つけることです。このテストでは、2つのグループを区別できました。この場合の間違いは、グループが等しいと仮定することです。この間違いを第2種の間違いと呼びます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このサイクルでも、コントロールグループと「ノイズの多い」テストグループが等しいかどうかをテストします。</font><font style="vertical-align: inherit;">まれに間違いを犯した場合、グループの選択方法は検証に合格したと考えています。</font><font style="vertical-align: inherit;">パイロット期間中のグループを選択するために使用でき、パイロットが効果を発揮した場合、それを確実に検出できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bw/gh/vw/bwghvwsqzs2uaxq81gf06e1z2zo.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">異質性について</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データの不均一性は、私たちが戦っている最悪の敵の1つであることはすでに述べました。</font><font style="vertical-align: inherit;">不均一性はさまざまな根本原因から発生します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">買い物の多様性-各店舗にはメトリックごとに独自の平均値があります（モスクワのRTO店舗ではトラフィックは村の店舗よりもはるかに多い）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">曜日ごとの不均一性-トラフィックの分布の違いと曜日ごとの平均チェックの違い：火曜日のトラフィックは金曜日のトラフィックのようには見えない</font></font></li>
<li>   –         -</li>
<li>    –         –   ,     . </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
異質性により分散が増加します。これは、前述のように、店舗のPTOを評価する際にすでに非常に重要です。キャプチャされた効果のサイズは、分散に直接依存します。たとえば、分散を4分の1に減らすと、半分の効果を検出できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なケースでは、線形化の不均一性と闘っています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2店舗で3日間パイロットを行ったとします（そうです、これは効果のサイズに関するすべての規定された公式と矛盾しますが、これは例です）。</font><font style="vertical-align: inherit;">店舗で</font><font style="vertical-align: inherit;">の平均</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTO</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はそれぞれ200,000と500,000であり、両方のグループの差異は10,000であり、すべての観測結果によると-35,000です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パイロットの後、グループの平均は300と600で、差異はそれぞれ10,000と22,500であり、グループ全体は-40,000です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/om/yn/pb/omynpbpgftr7lsoa7bl6rubjos0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シンプルで洗練された動きは、データを線形化することです。</font><font style="vertical-align: inherit;">各期間の値から前の期間の平均を減算します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3t/xf/9t/3txf9tustucss6vaj6ydnkxnct8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力では、サンプルは100、0、200、-50、100、250です。パイロット期間の分散は3倍減少して13000になりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、元の絶対値よりもはるかに微妙な効果を確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、異質性に対処する唯一の方法ではありません。</font><font style="vertical-align: inherit;">次の記事で他の人について話します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A / Bテストへの一般的なアプローチ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大規模なパイロットの準備とその評価は私たちのチームを通過し、徹底的にテストされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのプロトコル：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指標と予想される効果について顧客から情報を受け取る。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループのサイズとパイロットの期間を決定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">店舗をグループに分配するためのアルゴリズムを開発する。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループ間でA / Aテストを実施し、このアルゴリズムを検証します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パイロットが終了するのを待ち、効果を計算します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの段階はどれも問題なく通過せず、それぞれに機能があります。</font><font style="vertical-align: inherit;">それらのいくつかにどのように対処するかについては、この記事で説明しました。</font><font style="vertical-align: inherit;">次回は...について話します</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チーム</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、すべての俳優について触れておきます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヴァレリー・バブシキン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アレクサンドル・サフノフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デニス・イワノフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セルゲイ・デムチェンコ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ニコライ・ナザロフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セルゲイ・カバノフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーリ・ガリムリン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘレン・テバニアン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウラジスラフ・ラデンコフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セルゲイ・ザハロフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヴァシリーストーリーズ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アレクサンドル・ベリャエフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キスマット・マゴメドフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エゴール・クラシェンニコフ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エゴール・カルナウク</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Svyatoslav Oreshin</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーリ・トルビッシン</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466337/index.html">あなたの機能は何色ですか？</a></li>
<li><a href="../ja466339/index.html">Microsoft SQL ServerでRを使用してGoogleアナリティクスからデータを取得する方法</a></li>
<li><a href="../ja466341/index.html">Cisco 200-125 CCNA v3.0のトレーニング。33日目。ICND1試験の準備</a></li>
<li><a href="../ja466345/index.html">配色を構築するウェーブ法</a></li>
<li><a href="../ja466347/index.html">Cisco 200-125 CCNA v3.0のトレーニング。34日目。高度なVLANの概念</a></li>
<li><a href="../ja466355/index.html">ワニは飛ぶが、低低（感情のないエクラノプレーンについてですが、余談があります）</a></li>
<li><a href="../ja466359/index.html">世界生態債務日と環境フットプリントが疑似科学的ナンセンスである理由</a></li>
<li><a href="../ja466361/index.html">コサックGICSP証明書の受信方法</a></li>
<li><a href="../ja466363/index.html">Slurm DevOps。最初の日。Git、CI / CD、IaCおよび緑の恐竜</a></li>
<li><a href="../ja466365/index.html">モノリシックなUnixライクなOSの開発-はじめに（1）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>