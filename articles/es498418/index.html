<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüî¨ üßõüèø ‚úåüèº Implementaci√≥n de WebRTC en un servidor de medios: pr√°ctica y pol√≠tica ‚ö†Ô∏è üíæ ü§ûüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Transmisi√≥n en tiempo real a los navegadores: no hay soluci√≥n. O hay
 
 Desde hace unos 20 a√±os, el ancho de banda de red y las capacidades inform√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Implementaci√≥n de WebRTC en un servidor de medios: pr√°ctica y pol√≠tica</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498418/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Transmisi√≥n en tiempo real a los navegadores: no hay soluci√≥n. </font><font style="vertical-align: inherit;">O hay</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde hace unos 20 a√±os, el ancho de banda de red y las capacidades inform√°ticas de las computadoras han permitido la compresi√≥n y transmisi√≥n de sonido y video a trav√©s del protocolo IP en modo casi en tiempo real. Durante este tiempo, organizaciones centrales de estandarizaci√≥n como el W3C e IETF, as√≠ como muchas compa√±√≠as grandes y peque√±as, han desarrollado cientos de est√°ndares y protocolos para comprimir, empaquetar, reenviar, sincronizar y reproducir eficientemente contenido de audio y video en computadoras y dispositivos m√≥viles. Se prest√≥ especial atenci√≥n a la captura, compresi√≥n y transmisi√≥n de video en tiempo real a trav√©s de IP, porque, en primer lugar, IP es la m√°s barata y accesible en todos los niveles, y en segundo lugar, las tecnolog√≠as de videoconferencia y videovigilancia son vitales y tienen una gran demanda.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece que han pasado tantos a√±os y se ha trabajado tanto. ¬øQu√© logros maravillosos en esta √°rea podemos observar despu√©s de 20 a√±os? Quitemos la tapa de la caja (por supuesto, esta no es la caja de Pandora y no la "lata de gusanos") y veamos qu√© maravillosas tecnolog√≠as y capacidades han estado disponibles despu√©s de muchos a√±os de trabajo de decenas de miles de ingenieros de software con talento. Un programador de 1998, que envi√≥ el sonido por primera vez a trav√©s de la red, un m√©dico que quiere una soluci√≥n de telemedicina simple, barata y confiable, un maestro que necesita llevar a cabo una lecci√≥n remota: ahora abren esta tapa, llenos de brillantes esperanzas, y ¬øqu√© ven? En una sart√©n ofensiva llena de marketing alucinante, capitalismo c√≠nico e intentos desesperados de los entusiastas para mejorar las cosas, flotan todo tipo de c√≥decs, protocolos, formatos y aplicaciones.Esto es lo que la sopa de TI "comunitaria" ofrece al consumidor en tiempo real. Detente a ti mismo que huele menos, prueba, prueba, compra. No existe una soluci√≥n simple y efectiva. A diferencia de la transmisi√≥n, que no requiere tiempo real: todav√≠a durante 5 a√±os ha habido un est√°ndar HLS que funciona en cualquier navegador y dispositivo donde el proveedor de soluciones simplemente puede instalar el segmentador HLS en su servidor y dormir tranquilo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ est√° RTSP: muchas consolas y equipos profesionales lo juegan, pero los navegadores no funcionan. Aqu√≠ est√° RTMP: Safari no quiere jugarlo en iOS y no todos los androides lo juegan. Chrome lo proh√≠be como no confiable. Aqu√≠ est√° MPEG2-TS: los navegadores tampoco lo reproducen. Extensiones de origen de medios HTML5 (MSE): bueno para segmentos de video de 5 a 10 segundos de duraci√≥n (es decir, para HLS / Dash), pero para segmentos cortos de menos de un segundo, no siempre estable, funciona de manera diferente en diferentes navegadores y nuevamente no es compatible con iOS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo, uno se pregunta, el jard√≠n de ni√±os env√≠a videos desde c√°maras instaladas en grupos a los padres que desean abrir el navegador en cualquier momento en cualquier dispositivo y sin instalar ning√∫n complemento para ver a sus hijos en tiempo real? ¬øPor qu√© todos los jardines de infancia no ofrecen tales servicios? S√≠, porque proporcionar ese servicio es muy costoso. Necesitamos desarrollar aplicaciones para dispositivos m√≥viles, donde se reproducir√° el video, porque los navegadores no se reproducen. Necesito mucho mas </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Definamos el concepto de "cerca del tiempo real". Esto es menos de 5 segundos de retraso para video vigilancia y menos de 1 segundo para videoconferencia. El retraso promedio del protocolo HLS es de 20-30 segundos. Tal vez sea de alguna manera adecuado para jardines de infantes, pero para video vigilancia de seguridad, videoconferencia y seminarios web, se necesita otra tecnolog√≠a.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, hasta ahora, m√°s precisamente hasta el verano de 2017, no hab√≠a un est√°ndar o protocolo √∫nico para transmitir audio-video a cualquier navegador en cualquier dispositivo en tiempo real. Las razones de esta situaci√≥n, las consideraremos en este art√≠culo m√°s adelante. No son de naturaleza t√©cnica, estas razones. Mientras tanto, veamos qu√© sucedi√≥ en el verano de 2017, que al menos, pero que a√∫n proporciona una tecnolog√≠a que nos permite resolver los problemas anteriores. Esta tecnolog√≠a es WebRTC, se ha escrito mucho sobre ella tanto en este recurso como en la red en general. Ya no se puede llamar completamente nuevo, y al momento de escribir este art√≠culo, W3C considera WebRTC 1.0 como un proyecto completado. No hablaremos aqu√≠ sobre qu√© es WebRTC; Si el lector no est√° familiarizado con esta tecnolog√≠a, le sugerimos que realice una b√∫squeda en el centro o en Google y se familiarice,para qu√© se utiliza y c√≥mo funciona en t√©rminos generales. Aqu√≠ solo decimos que esta tecnolog√≠a se desarroll√≥ para la comunicaci√≥n entre pares en los navegadores, con la que puede implementar video chat y aplicaciones de voz sin ning√∫n servidor: el navegador se comunica directamente con el navegador. WebRTC es compatible con todos los navegadores en todos los dispositivos, y en el verano de 2017, Apple finalmente se acerc√≥ a nosotros y lo agreg√≥ a su Safari en iOS. Fue este evento el que convirti√≥ a WebRTC en la tecnolog√≠a m√°s universal y generalmente aceptada para la transmisi√≥n en tiempo real a los navegadores, desde la puesta de sol de RTMP, que comenz√≥ en 2015.WebRTC es compatible con todos los navegadores en todos los dispositivos, y en el verano de 2017, Apple finalmente se acerc√≥ a nosotros y lo agreg√≥ a su Safari en iOS. Fue este evento el que convirti√≥ a WebRTC en la tecnolog√≠a m√°s universal y generalmente aceptada para la transmisi√≥n en tiempo real a los navegadores, desde la puesta de sol de RTMP, que comenz√≥ en 2015.WebRTC es compatible con todos los navegadores en todos los dispositivos, y en el verano de 2017, Apple finalmente se acerc√≥ a nosotros y lo agreg√≥ a su Safari en iOS. Fue este evento el que convirti√≥ a WebRTC en la tecnolog√≠a m√°s universal y generalmente aceptada para la transmisi√≥n en tiempo real a los navegadores, desde la puesta de sol de RTMP, que comenz√≥ en 2015.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, ¬øqu√© tiene que ver con la transmisi√≥n a los navegadores desde las c√°maras? Pero el hecho es que WebRTC es muy flexible en su funcionalidad y le permite enviar audio-video solo a uno de los dos participantes (pares), y solo acepta al otro. Por lo tanto, la idea naci√≥ para adaptar WebRTC en servidores de medios. El servidor de medios puede recibir video de la c√°mara, establecer comunicaci√≥n con el navegador y aceptar que solo se enviar√° y el navegador recibir√°. Por lo tanto, el servidor de medios puede enviar video simult√°neamente desde la c√°mara a muchos navegadores / visores. Por el contrario, un servidor de medios puede recibir un flujo de un navegador y reenviarlo a, por ejemplo, muchos otros navegadores, implementando la funci√≥n deseada de "uno a muchos".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øfinalmente todo se form√≥? Akuna Matata y el jard√≠n de infantes podr√°n instalar dicho servidor de medios en alg√∫n lugar del alojamiento o en AWS, enviar una transmisi√≥n desde cada c√°mara all√≠, y desde all√≠ ya se distribuir√° a los navegadores de los padres, todo con un retraso de no m√°s de un segundo. En general, s√≠, la vida est√° mejorando. Pero hay problemas. Y estos problemas est√°n relacionados con el hecho de que WebRTC es, por as√≠ decirlo, exagerado para tales tareas; no fue dise√±ado para ellas y no es muy adecuado para ellas. Los problemas, adem√°s de la compatibilidad del c√≥dec, existen principalmente con la escalabilidad de dicho servidor de medios. Es decir, al mismo tiempo, se puede atender a 100 padres desde una computadora servidor, y 500 ya es dif√≠cil. Aunque la red lo permite. Y observe la carga del procesador en el servidor con 100 conexiones: ya est√° cerca del 90%. ¬øC√≥mo es eso? Despu√©s de todo, solo env√≠e un video de sonido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con la misma transmisi√≥n, si se env√≠a a trav√©s del protocolo RTMP al reproductor Flash, puede admitir f√°cilmente 2000 conexiones simult√°neas desde un servidor. ¬øWebRTC es solo 100? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√©? Hay dos razones: en primer lugar, el protocolo WebRTC en s√≠ es mucho m√°s costoso desde el punto de vista computacional: all√≠, por ejemplo, el cifrado de todos los datos es obligatorio y requiere mucho tiempo de procesador. Y la segunda raz√≥n, que discutiremos con m√°s detalle, es la implementaci√≥n extremadamente ineficiente del protocolo por parte de su creador, Google, que proporciona el c√≥digo fuente de c ++ para esta implementaci√≥n para la adaptaci√≥n en servidores, puertas de enlace y otras aplicaciones que desean admitir WebRTC: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webrtc.org/native-code </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 Compatibilidad con la API nativa de WebRTC de Google y el servidor de medios</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recuerde que WebRTC se cre√≥ para transferir audio-video del navegador al navegador y que no hab√≠a tareas para soportar muchas conexiones simult√°neas. Por lo tanto, y no solo por lo tanto, la implementaci√≥n de WebRTC en el navegador no se preocup√≥ por el principio b√°sico del dise√±o y la arquitectura de los sistemas t√©cnicos: elegancia (nada m√°s), eficiencia, alto rendimiento. Se hizo hincapi√© en la fiabilidad y la capacidad de gesti√≥n con errores y situaciones extremas en la red: p√©rdida de paquetes, conexiones, etc. Lo cual, por supuesto, es bueno. Sin embargo, despu√©s de un examen m√°s detallado, resulta que esto es lo √∫nico bueno en la implementaci√≥n de Google de WebRTC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos los puntos principales por los cuales el uso de la implementaci√≥n de Google de WebRTC para servidores de medios es extremadamente problem√°tico.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.a El c√≥digo es 10 veces m√°s de lo que deber√≠a ser y es extremadamente ineficiente.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este es un n√∫mero comprobado. Para comenzar, descargue aproximadamente 5 gigabytes de c√≥digo, de los cuales solo 500 megabytes son relevantes para WebRTC. Luego intentas deshacerte del c√≥digo innecesario. Despu√©s de todo, para las necesidades de un servidor de medios no necesita codificaci√≥n / decodificaci√≥n; el servidor solo debe recibir contenido y reenviarlo a todos. Cuando eliminaste todo lo innecesario que pudiste (y pudiste eliminar mucho menos de lo que quisieras), a√∫n tienes 100 megabytes de c√≥digo. Esta es una figura monstruosa. Es ella quien es 10 veces m√°s grande de lo que deber√≠a ser.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, en este punto, muchos dir√°n: ¬øc√≥mo no es necesaria la codificaci√≥n / decodificaci√≥n? ¬øQu√© pasa con la transcodificaci√≥n de AAC a Opus y viceversa? ¬øQu√© pasa con la transcodificaci√≥n VP9-&gt; H264? Si va a realizar dicha transcodificaci√≥n en el servidor, tampoco podr√° extraer 5 conexiones simult√°neas. Si es realmente necesario, la transcodificaci√≥n no debe ser realizada por un servidor de medios, sino por otro programa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero volvamos al problema del c√≥digo hinchado e ilustrelo. ¬øCu√°l crees que es la profundidad de la pila de llamadas de funci√≥n al enviar un cuadro de video ya comprimido? ¬øUna llamada a winsock (en Windows) de la funci√≥n enviar o enviar a (WSASend / WSASendTo)? No, por supuesto, se necesita hacer m√°s trabajo. En el caso de WebRTC, debe empaquetar el marco sobre el protocolo RTP y cifrarlo, lo que en total nos da el protocolo SRTP. Es necesario guardar la trama en caso de p√©rdida de paquetes para enviarla nuevamente m√°s tarde. ¬øCu√°ntos objetos y subprocesos de C ++ deber√≠an estar involucrados en esto? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ es como lo hace WebRTC 61: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ft/lo/f9/ftlof9hwbtg9so0qbsoji-z93bw.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
como puede ver en esta captura de pantalla, desde el momento en que alimentamos el marco comprimido a WebRTC hasta la cola del objeto Paced_Sender, la profundidad de la pila de llamadas es 8 (!) ¬°Y 7 objetos est√°n involucrados!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego, un subproceso separado (subproceso) PacedSender extrae nuestro marco de la cola y lo env√≠a m√°s all√° para su procesamiento: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o8/m4/et/o8m4etbmhrvwhvk01zagwptrwoy.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y finalmente, llegamos al paso 4, donde el marco ya encriptado y empaquetado con RTP se basa en la cola que se enviar√° a la red, que participa en otro subproceso. En este punto, la profundidad de la pila de llamadas (en el subproceso PacedSender) es 7, y hay 3 nuevos objetos m√°s involucrados. El subproceso ocupado que se env√≠a llamar√° al WSASend / WSASendTo final tambi√©n despu√©s de 3-4 llamadas a funciones anidadas e involucrar√° 3-4 objetos nuevos m√°s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, vimos 3 hilos, cada uno de los cuales hace un gran trabajo. Todos los que programaron tales sistemas tienen una idea de c√≥mo se hacen esas cosas y qu√© es lo que realmente hay que hacer. Seg√∫n nuestras estimaciones, al menos el 90% de los objetos y el c√≥digo aqu√≠ son superfluos y violan los principios de la programaci√≥n orientada a objetos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.b se asignan 4-5 hilos por conexi√≥n</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin duda, con la cantidad de hilos en este ejemplo, todo est√° en orden. Es necesario proporcionar un procesamiento asincr√≥nico, no bloquear a nadie, y se necesitan los 3 hilos. En general, un PeerConnection WebRTC asigna 4-5 hilos. Bueno, ser√≠a posible mantenerse dentro de 3. Pero no menos. ¬°El problema es que esto es para cada conexi√≥n! En el servidor, por ejemplo, puede guardar 3 hilos, pero servir√°n todas las conexiones juntas, y no asignar√°n 3 hilos a cada conexi√≥n. El grupo de subprocesos es una soluci√≥n de servidor indudable para tales tareas. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.c Sockets as√≠ncronos que funcionan a trav√©s de mensajes de Windows</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El c√≥digo Google WebRTC en Windows usa sockets as√≠ncronos a trav√©s de WSAAsyncSelect. Los programadores de servidores saben que usar la funci√≥n de selecci√≥n en el servidor es un suicidio, y WSAAsyncSelect, aunque mejora la situaci√≥n, pero no en un orden de magnitud. Si desea admitir cientos y miles de conexiones, hay una mejor soluci√≥n en Windows que los sockets as√≠ncronos. Los sockets superpuestos y los puertos de finalizaci√≥n de E / S deben estar habilitados, enviando notificaciones al grupo de subprocesos que est√° haciendo el trabajo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.d Conclusi√≥n</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Por lo tanto, podemos concluir: es posible aplicar el c√≥digo WebRTC de Google, sin cambios importantes, a un servidor de medios, pero el servidor no podr√° extraer cientos de conexiones simult√°neas. Puede haber dos soluciones:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hacer cambios serios en el c√≥digo de Google es, sin exagerar, casi imposible: despu√©s de todo, todos estos objetos est√°n muy unidos entre s√≠, no encapsulan la funcionalidad, no son bloques independientes que realizan cierto trabajo, como deber√≠a ser. Involucrarlos sin cambios en otros escenarios es imposible.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No use el c√≥digo de Google en absoluto, pero implemente todo usted mismo usando bibliotecas abiertas como libsrtp y similares. Quiz√°s esta sea la forma correcta, pero adem√°s del hecho de que tambi√©n es un trabajo enorme, puede encontrar el hecho de que su implementaci√≥n no ser√° totalmente compatible con Google y, en consecuencia, no funcionar√° o no funcionar√° en todos los casos, para por ejemplo, con cromo, que no se puede tolerar. Luego puedes discutir con los chicos de Google durante mucho tiempo, demostrar que has cumplido con el est√°ndar, pero que no lo han hecho, y tendr√°s raz√≥n mil veces. Pero ellos, en el mejor de los casos, dir√°n: "lo arreglaremos, quiz√°s de alguna manera m√°s tarde". Tienes que ajustarte a Chrome ahora mismo. Y el punto. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. ¬øPor qu√© est√° todo tan triste?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta situaci√≥n con la transmisi√≥n a los navegadores en tiempo real es una ilustraci√≥n muy caracter√≠stica de lo que a veces lleva la "tecnolog√≠a impulsada por los negocios". La tecnolog√≠a motivada por los negocios se est√° desarrollando en la direcci√≥n en que es necesaria para los negocios y en la medida en que sea agradable para este negocio. Gracias al enfoque comercial, ahora tenemos computadoras personales y tel√©fonos m√≥viles: ning√∫n gobierno o ministerio de planificaci√≥n central podr√≠a estar tan interesado en desarrollar e introducir todas estas tecnolog√≠as de consumo a las masas. Las empresas privadas, motivadas por el beneficio personal de sus propietarios, lo hicieron tan pronto como surgi√≥ una oportunidad t√©cnica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde hace tiempo se sabe, se comprende y se acepta que los bienes y servicios de consumo no esenciales, aquellos sin los cuales se puede vivir en paz, est√°n mejor desarrollados por empresas privadas, entonces las cosas que son vitalmente necesarias para una persona (energ√≠a, carreteras, polic√≠a y educaci√≥n escolar) deben desarrollarse de manera centralizada. instituciones controladas por el estado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosotros, los ni√±os de la Uni√≥n Sovi√©tica y la mentalidad "hagamos una tecnolog√≠a t√©cnicamente correcta y fuerte para que la gente pueda usarla y todo est√© bien", podr√≠amos decir, por supuesto, que en un sistema sovi√©tico planificado (si el gobierno decidiera de repente), la tecnolog√≠a de transmisi√≥n La IP en tiempo real podr√≠a desarrollarse e implementarse en un a√±o y ser√≠a un orden de magnitud mejor que lo que el negocio ha ganado ahora en 20 a√±os. Pero tambi√©n entendemos que entonces no se desarrollar√≠a, se volver√≠a obsoleto y, al final, a la larga, a√∫n perder√≠a parte de la tecnolog√≠a occidental comercial.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, dado que es bastante posible llevarse bien sin el streaming shimming, se deja a merced de las empresas privadas. Lo cual lo desarrolla en sus propios intereses, y no en inter√©s del consumidor. ¬øC√≥mo no es en inter√©s del consumidor? Pero, ¬øqu√© pasa con la oferta y la demanda? ¬øQu√© necesita el consumidor y luego ofrecer√° el negocio? Pero no ofrece. Todos los consumidores est√°n gritando: Google admite el audio AAC en WebRTC, pero Google nunca lo har√°, aunque solo escupe hacerlo. A Apple no le importa en absoluto y no implementa nada de las tecnolog√≠as de transmisi√≥n tan necesarias en sus dispositivos. ¬øPor qu√©? S√≠, porque no siempre el negocio hace lo que el consumidor necesita. No hace esto cuando es monopolista y no teme que el consumidor pierda. Entonces el negocio est√° ocupado fortaleciendo su posici√≥n. As√≠ que Google compr√≥ en los √∫ltimos a√±os un grupo de fabricantes de c√≥decs de sonido.Y ahora empuja el audio Opus y obliga al mundo entero a transcodificar AAC-&gt; Opus para que coincida con WebRTC, ya que toda la tecnolog√≠a ha cambiado durante mucho tiempo al audio AAC. Google justifica esto supuestamente con el hecho de que AAC es una tecnolog√≠a paga, y Opus es gratis. Pero, de hecho, esto se hace para establecer su tecnolog√≠a como est√°ndar. Como Apple hizo una vez con su miserable HLS, que nos hizo amar, o como Adobe hizo con su irresponsable protocolo RTMP incluso antes. Los artilugios y los navegadores siguen siendo cosas t√©cnicamente bastante dif√≠ciles de desarrollar, de aqu√≠ surgen los monopolistas, de aqu√≠, como dicen, las cosas est√°n all√≠. Y el W3C y el IETF est√°n patrocinados por los mismos monopolistas, por lo que la mentalidad de "hagamos una tecnolog√≠a t√©cnicamente correcta y s√≥lida para que la gente pueda usarla y todo est√© bien" no est√° ah√≠ y nunca lo estar√°.Pero deber√≠a haber sido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øCu√°l es la salida de esta situaci√≥n? Aparentemente, solo esperar la tecnolog√≠a ‚Äúcorrecta‚Äù impulsada por los negocios, el resultado de la competencia y todo tipo de otras cosas grandiosas, finalmente, surgir√° algo democr√°tico, adecuado para un simple m√©dico rural, para que pueda proporcionar servicios de telemedicina con su Internet normal. De hecho, es necesario hacer una enmienda, no para un simple m√©dico rural, sino para aquellos que pueden pagar mucho dinero, el negocio ha estado ofreciendo soluciones de transmisi√≥n en tiempo real. Bueno, confiable, que requiere redes dedicadas y equipos especiales. En muchos casos, y no funciona en el protocolo IP. Lo cual, y esta es otra raz√≥n para una situaci√≥n tan triste, no se cre√≥ en tiempo real y no siempre lo garantiza. No siempre, pero no en situaciones vitales, es bastante adecuado en este momento.Entonces intentemos WebRTC. Hasta ahora, de todos los males, es el m√°s peque√±o y m√°s democr√°tico. Por lo cual, despu√©s de todo, debes agradecer a Google.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Un poco sobre los servidores de medios que implementan WebRTC</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wowza, Flashphoner, Kurento, Flussonic, Red5 Pro, Unreal Media Server: estos son algunos de los servidores de medios que admiten WebRTC. Proporcionan la publicaci√≥n de video desde los navegadores al servidor y transmiten video a los navegadores a trav√©s de WebRTC desde el servidor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los problemas descritos en este art√≠culo, de diferentes maneras y con diferentes grados de √©xito, se resuelven en estos productos de software. </font><font style="vertical-align: inherit;">Algunos de ellos, por ejemplo, Kurento y Wowza, realizan la transcodificaci√≥n de audio y video directamente en el servidor, otros, por ejemplo, Unreal Media Server, no se transcodifican, pero proporcionan otros programas para esto. </font><font style="vertical-align: inherit;">Algunos servidores, como Wowza y Unreal Media Server, admiten la transmisi√≥n en todas las conexiones a trav√©s de un puerto TCP y UDP central, porque WebRTC asigna un puerto separado para cada conexi√≥n, por lo que el proveedor tiene que abrir muchos puertos en el firewall, lo que crea problemas de seguridad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay muchos puntos y sutilezas implementados en todos estos servidores de diferentes maneras. </font><font style="vertical-align: inherit;">Cu√°nto les conviene al consumidor, juzguen, queridos usuarios.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es498404/index.html">La videoconferencia es f√°cil y gratuita</a></li>
<li><a href="../es498406/index.html">C√≥mo se destruy√≥ la personalidad de un joven programador brillante</a></li>
<li><a href="../es498410/index.html">Vivaldi para PC y Vivaldi para Android - Juego de equipo con puntaje 3.0</a></li>
<li><a href="../es498412/index.html">La conciencia es simple o lo que est√° mal con el tiempo</a></li>
<li><a href="../es498416/index.html">Yandex vincular√° autom√°ticamente la tarjeta a otra cuenta</a></li>
<li><a href="../es498426/index.html">C√≥mo evacuamos el turno de servicio de Yandex</a></li>
<li><a href="../es498428/index.html">WAL-G: nuevas caracter√≠sticas y expansi√≥n de la comunidad. Georgy Rylov</a></li>
<li><a href="../es498430/index.html">Que pasa con el transporte el 22 de abril</a></li>
<li><a href="../es498436/index.html">Gu√≠a de GitLab CI / CD para el principiante (casi) absoluto</a></li>
<li><a href="../es498438/index.html">8 preguntas f√°ciles para mentores de pasant√≠as</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>