<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤷🏻 🤜🏼 ✍🏻 Apa yang harus dilakukan ketika CSS memblokir parsing halaman? 😰 🥔 🚨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini, saya melakukan audit terhadap satu situs dan menemukan pola preload/polyfillyang sudah saya lihat dengan beberapa klien. Saat ini, peng...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Apa yang harus dilakukan ketika CSS memblokir parsing halaman?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/490628/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baru-baru ini, saya melakukan audit terhadap satu situs dan menemukan pola </font></font><code>preload/polyfill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang sudah saya lihat dengan beberapa klien. </font><font style="vertical-align: inherit;">Saat ini, penggunaan pola yang sebelumnya populer ini tidak dianjurkan. </font><font style="vertical-align: inherit;">Namun, penting untuk mempertimbangkannya untuk mengilustrasikan pentingnya penggunaan yang hati-hati dari mekanisme bahan preloading oleh browser web. </font><font style="vertical-align: inherit;">Hal ini juga menarik karena memungkinkan Anda untuk menunjukkan contoh nyata bagaimana urutan elemen dalam dokumen dapat mempengaruhi kinerja (ini adalah apa yang dibahas dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> artikel Harry Roberts indah). </font><font style="vertical-align: inherit;">
Bahan, terjemahan yang kami terbitkan hari ini, dikhususkan untuk analisis situasi di mana penanganan sumber daya CSS yang tidak tepat dan tidak tepat waktu mempengaruhi kinerja halaman web.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/j9/ku/dh/j9kudhouixuhlvhywk7misjih8w.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang loadCSS</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya penggemar berat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grup Filament</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mereka merilis banyak sekali proyek hebat. Selain itu, mereka terus-menerus membuat alat yang tak ternilai dan membagikannya demi meningkatkan web. Salah satu alat ini adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loadCSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang untuk waktu yang lama adalah alat yang saya rekomendasikan semua orang gunakan untuk memuat sumber daya CSS yang tidak penting. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meskipun ini sekarang telah berubah (dan Grup Filament telah menerbitkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bagus </font><font style="vertical-align: inherit;">tentang apa yang lebih disukai karyawannya saat ini), saya masih, ketika saya mengaudit lokasi, sering melihat bagaimana mereka </font></font><code>loadCSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakannya dalam produksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu pola yang saya temui adalah polanya</font></font><code>preload/polyfill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dengan menggunakan pendekatan ini, file apa pun dengan gaya dimuat dalam mode preload (atribut </font></font><code>rel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan yang sesuai diatur ke </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Setelah itu, ketika mereka siap untuk digunakan, terapkan acara mereka </font></font><code>onload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menghubungkannya ke halaman.</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;link rel=<span class="hljs-string">"preload"</span> href=<span class="hljs-string">"path/to/mystylesheet.css"</span> <span class="hljs-keyword">as</span>=<span class="hljs-string">"style"</span> onload=<span class="hljs-string">"this.rel='stylesheet'"</span>&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"path/to/mystylesheet.css"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena tidak semua browser mendukung desain </font></font><code>&lt;a href="https://caniuse.com/#feat=link-rel-preload"&gt;&lt;link rel="preload"&gt;&lt;/a&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, proyek </font></font><code>loadCSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memberikan pengembang polyfill yang nyaman, yang ditambahkan ke halaman setelah deskripsi tautan yang relevan:</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;link rel=<span class="hljs-string">"preload"</span> href=<span class="hljs-string">"path/to/mystylesheet.css"</span> <span class="hljs-keyword">as</span>=<span class="hljs-string">"style"</span> onload=<span class="hljs-string">"this.rel='stylesheet'"</span>&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"path/to/mystylesheet.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">/*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{ ... }());
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gangguan dalam prioritas jaringan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak pernah menjadi penggemar berat dari pola ini. </font><font style="vertical-align: inherit;">Preloading adalah alat yang kasar. </font><font style="vertical-align: inherit;">Materi yang diunduh menggunakan tautan atribut </font></font><code>rel="preload"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berhasil berkelahi dengan materi lain untuk sumber daya jaringan. </font><font style="vertical-align: inherit;">Penggunaan </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengasumsikan bahwa stylesheet yang memuat secara tidak sinkron karena fakta bahwa mereka tidak memainkan peran penting dalam output halaman menerima prioritas yang sangat tinggi dari browser. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar berikut, diambil dari WebPageTest, menunjukkan masalah ini dengan sangat baik. </font><font style="vertical-align: inherit;">Di baris 3-6, Anda dapat melihat pemuatan file CSS yang tidak sinkron menggunakan suatu pola </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tapi, sementara pengembang menganggap file-file ini tidak begitu penting sehingga mengunduhnya akan memblokir rendering, gunakan</font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berarti bahwa mereka akan dimuat sebelum browser menerima sumber daya yang tersisa.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f9/07f/75a/8f907f75ae91cafe98091b00c2e7750e.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File CSS yang menggunakan pola preload ketika dimuat akan tiba di browser lebih awal dari sumber daya lainnya, meskipun mereka bukan sumber daya yang penting untuk rendering awal halaman</font></font></font></i><br>
 <br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kunci parser HTML</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah yang terkait dengan prioritas pemuatan sumber daya sudah cukup untuk menghindari penggunaan pola di sebagian besar situasi </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tetapi dalam kasus ini, situasinya diperparah dengan kehadiran stylesheet lain, yang dimuat dengan cara biasa.</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;link rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"path/to/main.css"</span> /&gt;<font></font>
&lt;link rel="preload" href="path/to/mystylesheet.css" as="style" onload="this.rel='stylesheet'"&gt;<font></font>
&lt;noscript&gt;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;link rel="stylesheet" href="path/to/mystylesheet.css"&gt;<font></font>
&lt;/noscript&gt;<font></font>
&lt;script&gt;<font></font>
/*! loadCSS rel=preload polyfill. [c]2017 Filament Group, Inc. MIT License */<font></font>
(function(){ ... }());<font></font>
&lt;/script&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada masalah yang sama ketika menggunakan </font></font><code>preload</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengarah pada fakta bahwa bukan file yang paling penting mendapatkan prioritas tinggi. Tapi itu sama pentingnya, dan mungkin kurang jelas, apa efeknya pada kemampuan browser untuk mengurai halaman. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekali lagi, ini telah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditulis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> secara rinci </font><font style="vertical-align: inherit;">, jadi saya sarankan membaca materi itu untuk lebih memahami apa yang terjadi. Di sini saya akan membicarakan ini secara singkat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biasanya, memuat gaya memblokir rendering halaman. Browser perlu melakukan query dan mem-parsing style agar dapat menampilkan halaman. Namun, ini tidak mencegah browser mem-parsing sisa kode HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Script, di sisi lain, memblokir parser jika mereka tidak ditandai sebagai </font></font><code>defer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code>async</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena peramban harus berasumsi bahwa skrip dapat memanipulasi konten halaman itu sendiri atau gaya yang diterapkan padanya, ia harus berhati-hati ketika skrip ini dijalankan. </font><font style="vertical-align: inherit;">Jika browser tahu bahwa beberapa kode CSS sedang dimuat, itu akan menunggu kedatangan kode CSS ini, dan setelah itu akan menjalankan skrip. </font><font style="vertical-align: inherit;">Dan karena browser tidak dapat melanjutkan penguraian dokumen sampai skrip dieksekusi, ini berarti bahwa style tidak lagi hanya memblokir rendering. </font><font style="vertical-align: inherit;">Mereka mencegah browser mem-parsing HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perilaku ini berlaku untuk skrip eksternal dan skrip yang disematkan di halaman. </font><font style="vertical-align: inherit;">Jika CSS dimuat, skrip inline tidak berjalan sampai CSS ini tiba di browser.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Studi masalah</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cara yang paling dapat dimengerti untuk memvisualisasikan masalah ini adalah dengan menggunakan alat pengembang Chrome (saya sangat suka tingkat perkembangan alat ini). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di antara alat Chrome ada tab di </font></font><code>Performance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mana Anda dapat merekam profil pemuatan halaman. Saya sarankan secara artifisial memperlambat koneksi jaringan sehingga masalah memanifestasikan dirinya lebih cerah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, saya diuji menggunakan pengaturan jaringan 3G Cepat. Jika Anda melihat dengan cermat apa yang terjadi pada utas utama, Anda dapat memahami bahwa permintaan untuk memuat file CSS terjadi pada awal penguraian HTML (sekitar 1,7 detik setelah halaman mulai memuat).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/40b/881/a00/40b881a0060365bcbb5e4944b6784a2d.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotak kecil di bawah blok parsing HTML mewakili permintaan untuk file CSS.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Selama periode waktu berikutnya, yaitu sekitar satu detik, utas utama tidak aktif. </font><font style="vertical-align: inherit;">Di sini Anda dapat melihat pulau aktivitas kecil. </font><font style="vertical-align: inherit;">Ini adalah pemicu peristiwa yang mengindikasikan penyelesaian pemuatan gaya, itu adalah pengiriman oleh mekanisme preloading sumber daya permintaan lainnya. </font><font style="vertical-align: inherit;">Tetapi browser benar-benar berhenti mem-parsing HTML.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/059/fca/6f1/059fca6f1820ca9a3b841140ab912d4e.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda melihat gambaran besar, ternyata setelah dimulainya pemuatan CSS, aliran utama tidak aktif selama lebih dari 1,1 detik.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jadi, 2,8 detik telah berlalu, gaya dimuat, browser memprosesnya. </font><font style="vertical-align: inherit;">Hanya kemudian kita melihat pemrosesan skrip bawaan, dan setelah itu browser akhirnya kembali ke penguraian HTML.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65a/a96/da2/65aa96da21d2e1ac6db4116ad54a8f80.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS tiba dalam waktu sekitar 2,8 detik, setelah itu kita melihat bahwa browser melanjutkan penguraian HTML</font></font></font></i><br>
 <br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox adalah pengecualian yang bagus</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perilaku di atas umum untuk Chrome, Edge, dan Safari. </font><font style="vertical-align: inherit;">Firefox adalah pengecualian yang bagus untuk daftar browser populer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua peramban lain menangguhkan penguraian HTML, tetapi menggunakan pengurai proaktif (alat bahan preloading) untuk melihat kode untuk tautan ke sumber daya eksternal dan untuk memenuhi permintaan memuat sumber daya ini. </font><font style="vertical-align: inherit;">Firefox, bagaimanapun, melangkah lebih jauh dalam hal ini: Firefox secara spekulatif </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membangun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pohon DOM, meskipun ia mengharapkan skrip untuk dieksekusi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kecuali skrip memanipulasi DOM, yang mengarah pada kebutuhan untuk membuang hasil penguraian spekulatif, pendekatan ini memungkinkan Firefox untuk mengambil keuntungan. Tentu saja, jika browser harus menjatuhkan pohon DOM yang dibangun secara spekulatif, itu berarti bahwa dia tidak melakukan apa pun yang berguna dengan membangun pohon ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini merupakan pendekatan yang menarik. Saya sangat ingin tahu seberapa efektif itu. Namun, sekarang, tidak ada informasi tentang ini di Firefox Performance Profiler. Di sana Anda tidak dapat mengetahui apakah parser spekulatif berfungsi, apakah perlu untuk mengulang pekerjaan yang dilakukan olehnya, dan jika masih perlu diulang, bagaimana hal ini akan mempengaruhi kinerja.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya berbicara dengan mereka yang bertanggung jawab atas alat pengembang Firefox, dan saya dapat mengatakan bahwa mereka memiliki ide menarik tentang cara menyajikan informasi ini di profiler di masa depan. </font><font style="vertical-align: inherit;">Saya harap mereka berhasil.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi untuk masalah tersebut</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus klien, yang saya sebutkan di awal, langkah pertama dalam menyelesaikan masalah ini tampak sangat sederhana: singkirkan pola </font></font><code>preload/polyfill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Memulai CSS yang tidak penting tidak ada gunanya. </font><font style="vertical-align: inherit;">Di sini Anda perlu beralih menggunakan, alih-alih </font></font><code>rel="preload"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, atribut </font></font><code>media="print"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Inilah yang direkomendasikan oleh para ahli dari Grup Filament. </font><font style="vertical-align: inherit;">Pendekatan ini, di samping itu, memungkinkan Anda untuk sepenuhnya menghilangkan polyfill.</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;link rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"/path/to/my.css"</span> media=<span class="hljs-string">"print"</span> onload=<span class="hljs-string">"this.media='all'"</span>&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini sudah menempatkan kami pada posisi yang lebih baik: sekarang prioritas jaringan jauh lebih baik disejajarkan dengan pentingnya unduhan. Dan kami juga menyingkirkan skrip bawaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, masih ada skrip bawaan lain yang terletak di header dokumen, di bawah garis yang memulai permintaan untuk memuat CSS. Jika Anda memindahkan skrip ini sehingga berada di depan baris memuat CSS, ini akan menghilangkan kunci parser. Jika Anda menganalisis halaman lagi menggunakan Alat Pengembang Chrome, perbedaannya akan sangat jelas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d16/c64/170/d16c64170a5ae365154626fc77eea21f.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebelum membuat perubahan pada kode halaman, parser HTML berhenti pada baris 1939, setelah menemui skrip bawaan, dan tetap di sini selama sekitar satu detik. Setelah optimisasi, ia bisa sampai ke baris 5281.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sebelumnya, parser berhenti di baris 1939 dan sedang menunggu CSS untuk memuat, tetapi sekarang mencapai baris 5281. Di sana, di akhir halaman, ada skrip bawaan yang menghentikan parser lagi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah solusi cepat untuk masalah ini. Ini bukan opsi yang mewakili solusi akhir untuk masalah tersebut. Mengubah urutan elemen dan menghilangkan pola</font></font><code>preload/polyfill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hanyalah langkah pertama. Anda dapat memecahkan masalah ini dengan menanamkan kode CSS penting dalam sebuah halaman, daripada memuatnya dari file eksternal. Pola</font></font><code>preload/polyfill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dirancang untuk digunakan selain CSS inline. </font><font style="vertical-align: inherit;">Ini memungkinkan kami untuk sepenuhnya mengabaikan masalah yang terkait dengan skrip dan memastikan bahwa browser, setelah permintaan pertama, memiliki semua gaya yang diperlukan untuk merender halaman. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi untuk saat ini, harus dicatat bahwa kita dapat mencapai peningkatan kinerja yang baik dengan membuat perubahan yang sangat kecil pada proyek mengenai cara gaya dimuat dan urutan elemen dalam DOM.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda menggunakan </font></font><code>loadCSS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pola </font></font><code>preload/polyfill</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pergi ke pola memuat gaya </font></font><code>print</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda memiliki gaya eksternal yang dimuat dengan cara biasa (yaitu, menggunakan tautan reguler ke file gaya ini), pindahkan semua skrip bawaan yang dapat dipindahkan di atas tautan untuk memuat gaya.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cantumkan gaya kritis di halaman untuk memastikan permulaan render yang paling cepat.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pernahkah Anda mengalami masalah memperlambat rendering halaman karena CSS? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RUVDS mengucapkan selamat kepada semua profesional TI pada 8 Maret! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tahun ini, kami memutuskan untuk tidak memberi tulip dan tidak memilih kado geek. </font><font style="vertical-align: inherit;">Kami mengambil jalan yang berbeda dan menciptakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IT adalah halaman wanita</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menunjukkan keberadaan spesialis wanita di IT.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490618/index.html">Goroutine Stack Buffer</a></li>
<li><a href="../id490620/index.html">Ketika saya mendengar kata-kata "memulihkan jaringan saraf", saya memanjat untuk memeriksa cadangan</a></li>
<li><a href="../id490622/index.html">Memerangi kebocoran memori dalam aplikasi web</a></li>
<li><a href="../id490624/index.html">Fitur-Kebijakan HTTP Header dan Kontrol Browser Web</a></li>
<li><a href="../id490626/index.html">Panduan lengkap untuk data- * atribut HTML</a></li>
<li><a href="../id490630/index.html">Memuat NumPy Array dari Disk: Perbandingan memmap () dan Zarr / HDF5</a></li>
<li><a href="../id490634/index.html">Acara digital di Moskow dari 2 hingga 8 Maret</a></li>
<li><a href="../id490636/index.html">Acara digital di St. Petersburg dari 2 hingga 8 Maret</a></li>
<li><a href="../id490640/index.html">Kelebihan dalam C ++. Bagian III. Overloading pernyataan baru / hapus</a></li>
<li><a href="../id490642/index.html">Plugin untuk memantau aplikasi K8 DevOpsProdigy KubeGraf v1.3.0: rilis baru dan fitur baru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>