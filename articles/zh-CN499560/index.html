<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â˜ï¸ ğŸ‘©â€ğŸ¨ ğŸ‘©ğŸ»â€ğŸ¨ é€‚ç”¨äºLinuxçš„Xswitcherå¸ƒå±€æ ¡æ­£å™¨ï¼šç¬¬äºŒæ­¥ ğŸ–ğŸ» ğŸ‘¨ğŸ¿â€ğŸ’» ğŸ‘¨ğŸ¼â€ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç”±äºä¸Šä¸€æœŸå‡ºç‰ˆç‰©ï¼ˆå¤„äºâ€œæ¦‚å¿µéªŒè¯â€é˜¶æ®µçš„xswitcherï¼‰æ”¶åˆ°äº†å¾ˆå¤šå»ºè®¾æ€§çš„è¯„è®ºï¼ˆå¾ˆå¥½ï¼‰ï¼Œæ‰€ä»¥æˆ‘ç»§ç»­å°†ç©ºé—²æ—¶é—´ç”¨äºé¡¹ç›®çš„å¼€å‘ã€‚ç°åœ¨ï¼Œæˆ‘æƒ³èŠ±ç‚¹æ—¶é—´... ...ç¬¬äºŒæ­¥å°†ä¸å¤ªç†Ÿæ‚‰ï¼šé…ç½®è®¾è®¡çš„å»ºè®®/è®¨è®ºã€‚
 
 
 
 æŸç§ç¨‹åº¦ä¸Šï¼Œäº‹å®è¯æ˜æ™®é€šçš„ç¨‹åºå‘˜å¯¹è°ƒæ•´æ‰€æœ‰è¿™äº›æ›²æŠ˜æ„Ÿåˆ°æ— èŠã€‚
 
  ä¸ºäº†æ²¡æœ‰æ ¹æ®ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>é€‚ç”¨äºLinuxçš„Xswitcherå¸ƒå±€æ ¡æ­£å™¨ï¼šç¬¬äºŒæ­¥</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499560/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”±äºä¸Š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€æœŸå‡ºç‰ˆç‰©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¤„äºâ€œæ¦‚å¿µéªŒè¯â€é˜¶æ®µçš„xswitcherï¼‰æ”¶åˆ°äº†å¾ˆå¤šå»ºè®¾æ€§çš„è¯„è®º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¾ˆå¥½ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæ‰€ä»¥æˆ‘ç»§ç»­å°†ç©ºé—²æ—¶é—´ç”¨äºé¡¹ç›®çš„å¼€å‘ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç°åœ¨ï¼Œæˆ‘æƒ³èŠ±ç‚¹æ—¶é—´... ...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬äºŒæ­¥å°†ä¸å¤ªç†Ÿæ‚‰ï¼šé…ç½®è®¾è®¡çš„å»ºè®®/è®¨è®ºã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ld/it/ri/lditri2811ilg7kt2fxabhlvxzs.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æŸç§ç¨‹åº¦ä¸Šï¼Œäº‹å®è¯æ˜æ™®é€šçš„ç¨‹åºå‘˜å¯¹è°ƒæ•´æ‰€æœ‰è¿™äº›æ›²æŠ˜æ„Ÿåˆ°æ— èŠã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºäº†æ²¡æœ‰æ ¹æ®ï¼Œå†…éƒ¨æ˜¯æˆ‘æ­£åœ¨å¤„ç†çš„ç¤ºä¾‹ã€‚</font></font></b>
                        <div class="spoiler_text">    (  ) Apache Kafka &amp; ZooKeeper.<br>
â€” ?    ! - xml (  Â« Â»).<br>
â€” ,     ACL ?    ! -â€¦ - .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è€Œåœ¨æˆ‘çš„å·¥ä½œä¸­-æ°æ°ç›¸åã€‚</font><font style="vertical-align: inherit;">æ­£ç¡®åœ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆalasï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡ï¼Œå‡ ä¹ä»æ¥æ²¡æœ‰ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ„å»ºçš„æ¨¡å‹ä½¿æ‚¨èƒ½å¤Ÿè½»æ¾ï¼Œè½»æ¾åœ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¾ˆå¥½ï¼Œå‡ ä¹ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»„è£…ç”µè·¯ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€è¿‘å…³äºHabrÃ©çš„æ–‡ç« é‡åˆ°äº†ä¸€ç¯‡æœ‰å…³æ•°æ®ç§‘å­¦å®¶çš„è¾›å‹¤å·¥ä½œçš„æ–‡ç« ...</font></font></b>
                        <div class="spoiler_text">,        .    ,  , Â« Â».  ,   <s>  </s>  .. â€”    , <s>/</s> .         - .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®²åˆ°é‡ç‚¹ã€‚ä½œä¸ºå¥æ³•åŸºç¡€ï¼Œæˆ‘</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»è¿™ä¸ªå…¬æ°‘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‚£å„¿é€‰äº†TOML </font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› ä¸º</font><font style="vertical-align: inherit;">ä¸€æ–¹é¢</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆTOMLï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯äººç±»å¯ç¼–è¾‘çš„ã€‚å¦ä¸€æ–¹é¢-å®ƒä¼šå°†1ï¼š1ï¼š1è½¬æ¢ä¸ºä»»ä½•æ›´å¸¸è§çš„è¯­æ³•ï¼šXMLï¼ŒJSONï¼ŒYAMLã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è€Œä¸”ï¼Œå°½ç®¡ä¸æ˜¯æœ€æµè¡Œçš„ï¼ˆä»ç„¶æ˜¯è¯­æ³•1.4ï¼‰ï¼Œä½†æˆ‘åœ¨â€œ github.com/BurntSushi/tomlâ€ä¸­ä½¿ç”¨çš„å®ç°ä¸ç›¸åŒçš„ï¼ˆâ€œå†…ç½®â€ï¼‰JSONåœ¨è¯­æ³•ä¸Šå…¼å®¹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°è¯´â€œç”¨TOMLç©¿è¿‡æ£®æ—ï¼Œæˆ‘è¦XXXâ€ï¼Œç„¶åä»…ç”¨ä¸€è¡Œå°±å¯ä»¥â€œä¿®è¡¥â€ä»£ç ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³ç¼–å†™ä¸€äº›çª—å£</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆè‚¯å®šä¸æ˜¯æˆ‘ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥é…ç½®xswitcherï¼Œé‚£ä¹ˆ</font><font style="vertical-align: inherit;">â€œä½¿ç”¨æ­¤é…ç½®å³å¯â€ </font><i><font style="vertical-align: inherit;">æ²¡æœ‰</font></i><font style="vertical-align: inherit;">é—®é¢˜ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºæ‰€æœ‰å…¶å®ƒçš„ï¼Œè¯­æ³•åŸºäºâ€œé”®=å€¼â€ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå’Œå­—é¢å‡ ä¸ªé€‰é¡¹æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œç±»å‹= [ä¸€äº›ï¼Œå³ï¼Œé˜µåˆ—]ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æƒ³</font></font><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›´è§‚æ–¹ä¾¿ã€‚</font></font></b>
                        <div class="spoiler_text"> ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">Â«Â»</a>      (  2013 ). ,    ,  TOML    .<br>
<br>
        ,   .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ï¼Œæˆ‘ä»¬é‡‡ç”¨TOMLï¼ˆéå¸¸ç±»ä¼¼äºæ—§çš„Windows INIï¼‰ã€‚</font><font style="vertical-align: inherit;">å¹¶ä¸”æˆ‘ä»¬æœ‰ä¸€ä¸ªé…ç½®ï¼Œå…¶ä¸­æˆ‘ä»¬æè¿°äº†å¦‚ä½•æ ¹æ®é”®ç›˜ä¸Šçš„æœ€æ–°æ‰«æä»£ç é›†æ¥è¿æ¥ä¸€ç³»åˆ—æŒ‚é’©ã€‚</font><font style="vertical-align: inherit;">ä¸‹é¢æ˜¯ç¢ç‰‡-ç›®å‰å‘ç”Ÿäº†ä»€ä¹ˆã€‚</font><font style="vertical-align: inherit;">ä»¥åŠæˆ‘å¦‚æ­¤å†³å®šçš„è§£é‡Šã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.åŸºæœ¬æŠ½è±¡</font></font></h3><br>
<ul>
<li> -.     - ,        - (    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">loloswitcher</a>).<br>
 Â«ecodes.goÂ»  Â«golang-evdevÂ» (   ,       ).  ()    .  Â«LEFTBRACEÂ» â†’ Â«L_BRACEÂ».</li>
<li>   Â«  Â».          . <i>(     .    Â«Â» .)</i></li>
<li>  Â«Â» .  ,  Â«Â»=2   <b></b> .</li>
</ul><br>
<h3>1.  </h3><br>
<pre><code class="bash hljs">[Templates] <span class="hljs-comment"># "@name@" to simplify expressions</span>
 <span class="hljs-comment"># Words can consist of these chars (regex)</span>
 <span class="hljs-string">"WORD"</span> = <span class="hljs-string">"([0-9A-Z`;']|[LR]_BRACE|COMMA|DOT|SLASH|KP[0-9])"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…·æœ‰æ³¨éŸ³ç¬¦å·çš„äººç±»è¯­è¨€å•è¯ç”±ä»€ä¹ˆç»„æˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæˆ–è€…å®ƒæ˜¯ä¸€ä¸ªå­—å½¢ï¼ˆåˆç§°â€œè±¡å½¢æ–‡å­—â€ï¼‰æ¡ˆä¾‹ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Ÿ</font><font style="vertical-align: inherit;">æŸç§å¯æ€•çš„â€œå·¥ä½œè¡¨â€ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ç«‹å³æå‡ºäº†â€œæ¨¡æ¿â€çš„æ¦‚å¿µã€‚</font></font><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.æŒ‰ä¸‹æŸç‰©æ—¶ï¼ˆä¸‹ä¸€ä¸ªæ‰«æä»£ç åˆ°è¾¾æ—¶ï¼‰è¯¥æ€ä¹ˆåŠ</font></font></h3><br>
<pre><code class="bash hljs">[ActionKeys]
 <span class="hljs-comment"># Collect key and do the test for command sequence</span>
 <span class="hljs-comment"># !!! Repeat codes (code=2) must be collected once per key!</span>
 Add = [<span class="hljs-string">"1..0"</span>, <span class="hljs-string">"="</span>, <span class="hljs-string">"BS"</span>, <span class="hljs-string">"Q..]"</span>, <span class="hljs-string">"L_CTRL..CAPS"</span>, <span class="hljs-string">"N_LOCK"</span>, <span class="hljs-string">"S_LOCK"</span>,
        <span class="hljs-string">"KP7..KPDOT"</span>, <span class="hljs-string">"R_CTRL"</span>, <span class="hljs-string">"KPSLASH"</span>, <span class="hljs-string">"R_ALT"</span>, <span class="hljs-string">"KPEQUAL..PAUSE"</span>,
        <span class="hljs-string">"KPCOMMA"</span>, <span class="hljs-string">"L_META..COMPOSE"</span>, <span class="hljs-string">"KPLEFTPAREN"</span>, <span class="hljs-string">"KPRIGHTPAREN"</span>]<font></font>
<font></font>
 <span class="hljs-comment"># Drop all collected keys, including this.  This is default action.</span>
 Drop = [<span class="hljs-string">"ESC"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"TAB"</span>, <span class="hljs-string">"ENTER"</span>, <span class="hljs-string">"KPENTER"</span>, <span class="hljs-string">"LINEFEED..POWER"</span>]
 <span class="hljs-comment"># Store extra map for these keys, when any is in "down" state.</span>
 <span class="hljs-comment"># State is checked via "OFF:"|"ON:" conditions in action.</span>
 <span class="hljs-comment"># (Also, state of these keys must persist between buffer drops.)</span>
 <span class="hljs-comment"># ??? How to deal with CAPS and "LOCK"-keys ???</span>
 StateKeys = [<span class="hljs-string">"L_CTRL"</span>, <span class="hljs-string">"L_SHIFT"</span>, <span class="hljs-string">"L_ALT"</span>, <span class="hljs-string">"L_META"</span>, <span class="hljs-string">"CAPS"</span>, <span class="hljs-string">"N_LOCK"</span>, <span class="hljs-string">"S_LOCK"</span>,
              <span class="hljs-string">"R_CTRL"</span>, <span class="hljs-string">"R_SHIFT"</span>, <span class="hljs-string">"R_ALT"</span>, <span class="hljs-string">"R_META"</span>]<font></font>
<font></font>
 <span class="hljs-comment"># Test only, but don't collect.</span>
 <span class="hljs-comment"># E.g., I use F12 instead of BREAK on dumb laptops whith shitty keyboards (new ThinkPads)</span>
 Test = [<span class="hljs-string">"F1..F10"</span>, <span class="hljs-string">"ZENKAKUHANKAKU"</span>, <span class="hljs-string">"102ND"</span>, <span class="hljs-string">"F11"</span>, <span class="hljs-string">"F12"</span>,
          <span class="hljs-string">"RO..KPJPCOMMA"</span>, <span class="hljs-string">"SYSRQ"</span>, <span class="hljs-string">"SCALE"</span>, <span class="hljs-string">"HANGEUL..YEN"</span>,
          <span class="hljs-string">"STOP..SCROLLDOWN"</span>, <span class="hljs-string">"NEW..MAX"</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ€»å…±æä¾›äº†768ä¸ªä»£ç ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä½†æ˜¯ï¼Œä»¥é˜²ä¸‡ä¸€ï¼Œæˆ‘åœ¨xswitcherä»£ç ä¸­æ’å…¥äº†ä¸€ä¸ªâ€œæƒŠå–œâ€ï¼‰ã€‚</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å†…éƒ¨ï¼Œæˆ‘ç»˜åˆ¶äº†æŒ‡å‘â€œåšä»€ä¹ˆâ€åŠŸèƒ½çš„é“¾æ¥çš„æ•°ç»„ã€‚</font><font style="vertical-align: inherit;">åœ¨golangä¸Šï¼Œå®ƒ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çªç„¶</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜å¾—å¾ˆæ–¹ä¾¿è€Œä¸”å¾ˆæ˜æ˜¾ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æ‰“ç®—åœ¨è¿™ä¸ªåœ°æ–¹â€œé™ä½â€åˆ°æœ€å°ã€‚</font><font style="vertical-align: inherit;">æ”¯æŒæ›´çµæ´»çš„å¤„ç†ï¼ˆæˆ‘å°†åœ¨ä¸‹é¢æ˜¾ç¤ºï¼‰ã€‚</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.çª—å£ç±»æ ‡ç­¾</font></font></h3><br>
<pre><code class="bash hljs"><span class="hljs-comment"># Some behaviour can depend on application currently doing the input.</span><font></font>
[[WindowClasses]]<font></font>
 <span class="hljs-comment"># VNC, VirtualBox, qemu etc. emulates there input independently, so never intercept.</span>
 <span class="hljs-comment"># With the exception of some stupid VNC clients, which does high-level (layout-based) keyboard input.</span>
 Regex = <span class="hljs-string">"^VirtualBox"</span>
 Actions = <span class="hljs-string">""</span> <span class="hljs-comment"># Do nothing while focus stays in VirtualBox</span><font></font>
<font></font>
[[WindowClasses]]<font></font>
 Regex = <span class="hljs-string">"^konsole"</span>
 <span class="hljs-comment"># In general, mouse clicks leads to unpredictable (at the low-level where xswitcher resides) cursor jumps.</span>
 <span class="hljs-comment"># So, it's good choise to drop all buffers after click.</span>
 <span class="hljs-comment"># But some windows, e.g. terminals, can stay out of this problem.</span><font></font>
 MouseClickDrops = 0<font></font>
 Actions = <span class="hljs-string">"Actions"</span><font></font>
<font></font>
[[WindowClasses]] <span class="hljs-comment"># Default behaviour: no Regex (or wildcard like ".")</span><font></font>
 MouseClickDrops = 1<font></font>
 Actions = <span class="hljs-string">"Actions"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¡¨æ ¼è¡Œåœ¨å…¶åç§°çš„åŒæ–¹æ‹¬å·ä¸­ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®¹æ˜“èµ°æ²¡ç”¨ã€‚</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ¹æ®å½“å‰çš„æ´»åŠ¨çª—å£ï¼Œå¯ä»¥é€‰æ‹©ä»¥ä¸‹é€‰é¡¹ï¼š</font></font><br>
<br>
<ul>
<li>  Â« Â» Â«Actions = â€¦Â».  / â€”   .</li>
<li> Â«MouseClickDropsÂ» â€”      .      xswitcher    Â«  Â», -  .    ()      <i>( )</i>.</li>
</ul><br>
<h3>4.  ( )       </h3><br>
<pre><code class="bash hljs"><span class="hljs-comment"># action = [ regex1, regex2, ... ]</span>
<span class="hljs-comment"># "CLEAN" state: all keys are released</span><font></font>
[Actions]<font></font>
<span class="hljs-comment"># Inverse regex is hard to understand, so extract negation to external condition.</span>
<span class="hljs-comment"># Expresions will be checked in direct order, one-by-one. Condition succceds when ALL results are True.</span>
 <span class="hljs-comment"># Maximum key sequence length, extra keys will be dropped. More length - more CPU.</span><font></font>
 SeqLength = 8<font></font>
 <span class="hljs-comment"># Drop word buffer and start collecting new one</span>
 NewWord = [ <span class="hljs-string">"OFF:(CTRL|ALT|META)  SEQ:(((BACK)?SPACE|[LR]_SHIFT):[01],)*(@WORD@:1)"</span>, <span class="hljs-comment"># "@WORD@:0" then collects the char</span>
             <span class="hljs-string">"SEQ:(@WORD@:2,@WORD@:0)"</span>, <span class="hljs-comment"># Drop repeated char at all: unlikely it needs correction</span>
             <span class="hljs-string">"SEQ:((KP)?MINUS|(KP)?ENTER|ESC|TAB)"</span> ] <span class="hljs-comment"># Be more flexible: chars line "-" can start new word, but must not completelly invalidate buffer!</span>
 <span class="hljs-comment"># Drop all buffers</span>
 NewSentence = [ <span class="hljs-string">"SEQ:(ENTER:0)"</span> ]<font></font>
<font></font>
 <span class="hljs-comment"># Single char must be deleted by single BS, so there is need in compose sequence detector.</span>
 Compose = [ <span class="hljs-string">"OFF:(CTRL|L_ALT|META|SHIFT)  SEQ:(R_ALT:1,(R_ALT:2,)?(,@WORD@:1,@WORD@:0){2},R_ALT:0)"</span> ]<font></font>
<font></font>
 <span class="hljs-string">"Action.RetypeWord"</span> = [ <span class="hljs-string">"OFF:(CTRL|ALT|META|SHIFT)  SEQ:(PAUSE:0)"</span> ]
 <span class="hljs-string">"Action.CyclicSwitch"</span> = [ <span class="hljs-string">"OFF:(R_CTRL|ALT|META|SHIFT)  SEQ:(L_CTRL:1,L_CTRL:0)"</span> ] <span class="hljs-comment"># Single short LEFT CONTROL</span>
 <span class="hljs-string">"Action.Respawn"</span> = [ <span class="hljs-string">"OFF:(CTRL|ALT|META|SHIFT)  SEQ:(S_LOCK:2,S_LOCK:0)"</span> ] <span class="hljs-comment"># Long-pressed SCROLL LOCK</span><font></font>
<font></font>
 <span class="hljs-string">"Action.Layout0"</span> = [ <span class="hljs-string">"OFF:(CTRL|ALT|META|R_SHIFT)  SEQ:(L_SHIFT:1,L_SHIFT:0)"</span> ] <span class="hljs-comment"># Single short LEFT SHIFT</span>
 <span class="hljs-string">"Action.Layout1"</span> = [ <span class="hljs-string">"OFF:(CTRL|ALT|META|L_SHIFT)  SEQ:(R_SHIFT:1,R_SHIFT:0)"</span> ] <span class="hljs-comment"># Single short RIGHT SHIFT</span><font></font>
<font></font>
 <span class="hljs-string">"Action.Hook1"</span> = [ <span class="hljs-string">"OFF:(CTRL|R_ALT|META|SHIFT)  SEQ:(L_ALT:1,L_ALT:0)"</span> ]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æŒ‚é’©åˆ†ä¸ºä¸¤ç§ç±»å‹ã€‚å†…ç½®ï¼Œå…·æœ‰â€œå¯¹è¯â€åç§°ï¼ˆNewWordï¼ŒNewSentenceï¼ŒComposeï¼‰ï¼Œå¹¶ä¸”å¯ç¼–ç¨‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ç¼–ç¨‹åç§°ä»¥â€œåŠ¨ä½œâ€å¼€å¤´ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å› ä¸ºTOML v1.4ä¸­ï¼Œç‚¹åå¿…é¡»ç”¨å¼•å·å¼•èµ·æ¥ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æ¯ä¸ª</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒå</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†å‡åº”åœ¨ä¸‹é¢è¯´æ˜</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ä¸è®©â€œå…‰ç§ƒç§ƒçš„â€å¸¸è¯†å¼•èµ·äººä»¬çš„æ³¨æ„ï¼ˆæ ¹æ®ç»éªŒï¼Œ</font><font style="vertical-align: inherit;">ååˆ†ä¹‹åçš„</font><i><font style="vertical-align: inherit;">ä¸“ä¸šäººå‘˜</font></i><font style="vertical-align: inherit;">å¯ä»¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å†™</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™äº›å¸¸è¯†</font><font style="vertical-align: inherit;">ï¼‰ï¼Œæˆ‘ç«‹å³ä»‹ç»ä¸€ç§é™„åŠ çš„è¯­æ³•ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><b>Â«OFF:Â» ( Â«ON:Â»)</b>  regexp ( )        ( ).<br>
   Â«Â»  .       "|".       "[LR]_SHIFT" (     ).</li>
<li><b>Â«SEQ:Â»</b>     ( ),    Â«Â»  .     <s>^W</s>  Â«regexpÂ». <i>              pcre (Â«perl compatibleÂ»).</i></li>
<li>    <b>Â«_1: 1, _2: 2Â»</b>  ..,    -.</li>
<li><b>  Â«Â»   </b>,  "$"     .</li>
<li><b>        </b>    Â«Â».        ,      . <i>  - .</i></li>
<li> <b>Â«SeqLength = 8Â»</b>   ,     . <i>..    (  )    .</i></li>
</ul><br>
<h3>5.  ,    </h3><br>
<pre><code class="bash hljs"><span class="hljs-comment"># Action is the array, so actions could be chained (m.b., infinitely... Have I to check this?).</span>
<span class="hljs-comment"># For each action type, extra named parameters could be collected. Invalid parameters will be ignored(?).</span>
[Action.RetypeWord] <span class="hljs-comment"># Switch layout, drop last word and type it again</span>
 Action = [ <span class="hljs-string">"Action.CyclicSwitch"</span>, <span class="hljs-string">"RetypeWord"</span> ] <span class="hljs-comment"># Call Switch() between layouts tuned below, then RetypeWord()</span><font></font>
<font></font>
[Action.CyclicSwitch] <span class="hljs-comment"># Cyclic layout switching</span>
 Action = [ <span class="hljs-string">"Switch"</span> ] <span class="hljs-comment"># Internal layout switcher func</span><font></font>
 Layouts = [0, 1]<font></font>
<font></font>
[Action.Layout0] <span class="hljs-comment"># Direct layout selection</span>
 Action = [ <span class="hljs-string">"Layout"</span> ] <span class="hljs-comment"># Internal layout selection func</span><font></font>
 Layout = 0<font></font>
<font></font>
[Action.Layout1] <span class="hljs-comment"># Direct layout selection</span>
 Action = [ <span class="hljs-string">"Layout"</span> ] <span class="hljs-comment"># Internal layout selection func</span><font></font>
 Layout = 1<font></font>
<font></font>
[Action.Respawn] <span class="hljs-comment"># Completely respawn xswitcher. Reload config as well</span>
 Action = [ <span class="hljs-string">"Respawn"</span> ]<font></font>
<font></font>
[Action.Hook1] <span class="hljs-comment"># Run external commands</span>
  Action = [ <span class="hljs-string">"Exec"</span> ]<font></font>
  Exec = <span class="hljs-string">"/path/to/exec -a -b --key_x"</span><font></font>
  Wait = 1<font></font>
  SendBuffer = <span class="hljs-string">"Word"</span> <span class="hljs-comment"># External hook can process collected buffer by it's own means.</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™é‡Œçš„ä¸»è¦å†…å®¹æ˜¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ Action = [Array]â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¸ä¸Šä¸€èŠ‚ç±»ä¼¼ï¼Œå†…ç½®åŠ¨ä½œçš„æ•°é‡æœ‰é™ã€‚åŸåˆ™ä¸Šï¼Œå¯¹æ¥çš„å¯èƒ½æ€§æ˜¯æ— é™çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆç¼–å†™â€œ Action.XXXâ€ï¼Œä¸è¦å¤ªæ‡’æƒ°ä»¥è‡³äºä¸èƒ½ä¸ºå®ƒç”»å¦ä¸€ä¸ªéƒ¨åˆ†ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç‰¹åˆ«åœ°ï¼Œåœ¨æ ¡æ­£åçš„å¸ƒå±€ä¸­çš„å•è¯</font><i><font style="vertical-align: inherit;">é‡æ–°é”®å…¥</font></i><font style="vertical-align: inherit;">åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œåœ¨æ­¤å¤„è®¾ç½®çš„å¸ƒå±€ä¸­æ›´æ”¹å¸ƒå±€â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œé‡æ–°é”®å…¥â€ï¼ˆâ€œ RetypeWordâ€ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¶ä½™å‚æ•°å°†</font><font style="vertical-align: inherit;">ä¸ºæ­¤æ“ä½œ</font><font style="vertical-align: inherit;">å†™å…¥â€œå­—å…¸â€ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆgolangä¸­çš„â€œåœ°å›¾â€ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå…¶å‚æ•°å–å†³äºâ€œ Actionâ€ä¸­å†™å…¥çš„å†…å®¹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ä»¥åœ¨ä¸€ä¸ªå †</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆéƒ¨åˆ†ï¼‰ä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æè¿°å‡ ç§ä¸åŒçš„åŠ¨ä½œ</font><font style="vertical-align: inherit;">ã€‚æ‚¨å¯ä»¥å°†å…¶æ‹†å¼€ã€‚å¦‚ä¸Šæ‰€ç¤ºã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç«‹å³æ‰§è¡Œâ€œæ‰§è¡Œâ€æ“ä½œ-æ‰§è¡Œå¤–éƒ¨è„šæœ¬ã€‚</font><font style="vertical-align: inherit;">å¯ä»¥é€‰æ‹©å°†å†™å…¥ç¼“å†²åŒºæ¨å…¥æ ‡å‡†è¾“å…¥ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œç­‰å¾…= 1â€-ç­‰å¾…è¿è¡Œè¿‡ç¨‹å®Œæˆã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯èƒ½ï¼Œâ€œå †â€å°†è¦é¢å¤–æ”¾å…¥ç¯å¢ƒä¸­ã€‚</font><font style="vertical-align: inherit;">ä¿¡æ¯ï¼Œä¾‹å¦‚ä»å…¶æˆªè·çš„çª—å£ç±»çš„åç§°ã€‚</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œæƒ³è”ç³»æ‚¨çš„æœåŠ¡å‘˜å—ï¼Ÿâ€ </font><font style="vertical-align: inherit;">åœ¨è¿™é‡Œç»™ä½ ã€‚â€</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ewï¼ˆå‘¼æ°”ï¼‰ã€‚</font><font style="vertical-align: inherit;">ä¼¼ä¹ä»€ä¹ˆä¹Ÿæ²¡å¿˜è®°ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç³Ÿç³•ï¼</font><font style="vertical-align: inherit;">æ˜¯çš„ï¼Œæˆ‘æ²¡æœ‰å¿˜è®°...</font></font></b>
                        <div class="spoiler_text">   ?  -Ì?  :<br>
<br>
<pre><code class="bash hljs">[ScanDevices]
 <span class="hljs-comment"># Must exist on start. Self-respawn in case it is younger then 30s</span>
 Test = <span class="hljs-string">"/dev/input/event0"</span><font></font>
 Respawn = 30<font></font>
 <span class="hljs-comment"># Search mask</span>
 Search = <span class="hljs-string">"/dev/input/event*"</span>
 <span class="hljs-comment"># In my thinkPads there are such a pseudo-keyboards whith tons of unnecessary events</span>
 Bypass = <span class="hljs-string">"(?i)Video|Camera"</span> <span class="hljs-comment"># "(?i)" obviously differs from "classic" pcre's.</span>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æˆ‘å¿˜è®°/çŠ¯äº†ä¸€ä¸ªé”™è¯¯çš„æƒ…å†µä¸‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæ²¡æœ‰è¿™ç§æƒ…å†µ-ç»ä¸è¡Œï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæˆ‘çœŸçš„å¸Œæœ›ç»†å¿ƒçš„è¯»è€…ä¸è¦å¤ªæ‡’æƒ°ä»¥å…noseé¼»ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¥å¥½è¿</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN499544/index.html">åœ¨Googleè¡¨æ ¼ä¸­å­¦ä¹ ç¥ç»ç½‘ç»œ</a></li>
<li><a href="../zh-CN499546/index.html">æ¨¡æ‹Ÿæ‘„åƒæœºEVR-Y2022Fçš„å›ºä»¶å¼€å‘</a></li>
<li><a href="../zh-CN499548/index.html">é¢å…·-ç…§é¡¾åˆ«äººè¿˜æ˜¯å¯¹å®‰å…¨çš„å¹»æƒ³ï¼Ÿ</a></li>
<li><a href="../zh-CN499550/index.html">ç”Ÿæ€ç³»ç»Ÿä½ç è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN499556/index.html">MS Orleansä¸Šçš„æ¸¸æˆæœåŠ¡å™¨-ç¬¬3éƒ¨åˆ†ï¼šæ‘˜è¦</a></li>
<li><a href="../zh-CN499562/index.html">å…³äºåå°„åŠ é€Ÿçš„æ–‡ç« æœªæˆåŠŸ</a></li>
<li><a href="../zh-CN499564/index.html">YouTubeè§†é¢‘å’Œè¯„è®ºä¸­çš„å† çŠ¶ç—…æ¯’</a></li>
<li><a href="../zh-CN499566/index.html">åŠ¨æ€å¢å¼º-ç¥ç»ç½‘ç»œè®­ç»ƒä¸­çš„é‡è¦å·¥å…·</a></li>
<li><a href="../zh-CN499570/index.html">4æœˆåº•è¿è¾“ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œä½•æ—¶ç­‰å¾…æ¢å¤</a></li>
<li><a href="../zh-CN499574/index.html">Ğ®Ğ»Ğ¸Ñ â†’ Iuliia. Ğ’ÑÑ‘ Ğ¾ Ñ‚Ñ€Ğ°Ğ½ÑĞ»Ğ¸Ñ‚ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>