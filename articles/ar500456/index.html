<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐จ๐พโ๐ญ ๐ธ โธ๏ธ BpfTrace - ุฃุฎูุฑูุง ุ ุจุฏูู ูุงูู ุนู Dtrace ุนูู Linux ๐ฉ๐ปโ๐ ๐ ๐๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุญุฏุซ ุฃู ุงูุฃูุธูุฉ ุนุฑุจุงุช ุงูุชู ุชุฌุฑูุง ุงูุฏูุงุจ ุ ุชุจุทุฆ ุ ุชููุงุฑ. ูููุง ูุจุฑ ุงููุธุงู ุ ุฒุงุฏุช ุตุนูุจุฉ ุงูุนุซูุฑ ุนูู ุงูุณุจุจ. ููุนุฑูุฉ ุณุจุจ ุนุฏู ุนูู ุดูุก ููุง ูู ูุชููุน ุ ูุฅุตูุงุญ ุงู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BpfTrace - ุฃุฎูุฑูุง ุ ุจุฏูู ูุงูู ุนู Dtrace ุนูู Linux</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/500456/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุซ ุฃู ุงูุฃูุธูุฉ ุนุฑุจุงุช ุงูุชู ุชุฌุฑูุง ุงูุฏูุงุจ ุ ุชุจุทุฆ ุ ุชููุงุฑ. </font><font style="vertical-align: inherit;">ูููุง ูุจุฑ ุงููุธุงู ุ ุฒุงุฏุช ุตุนูุจุฉ ุงูุนุซูุฑ ุนูู ุงูุณุจุจ. </font><font style="vertical-align: inherit;">ููุนุฑูุฉ ุณุจุจ ุนุฏู ุนูู ุดูุก ููุง ูู ูุชููุน ุ ูุฅุตูุงุญ ุงููุดููุงุช ุงููุณุชูุจููุฉ ุฃู ููุนูุง ุ ุชุญุชุงุฌ ุฅูู ุงููุธุฑ ูู ุงูุฏุงุฎู. </font><font style="vertical-align: inherit;">ููุฐุง ุ ูุฌุจ ุฃู ุชูุชูู ุงูุฃูุธูุฉ ุฎุงุตูุฉ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุจููุฉ ุงูููุงุญุธุฉ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุงูุชู ูุชู ุชุญููููุง ุนู ุทุฑูู ุงูุฃุฌูุฒุฉ ุจุงููุนูู ุงููุงุณุน ูููููุฉ.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6ExXwQecMrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HighLoad ++ ุ ูุงู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจูุชุฑ ุฒุงูุชุณูู (Percona) ุจูุฑุงุฌุนุฉ ุงูุจููุฉ ุงูุชุญุชูุฉ ุงููุชุงุญุฉ ููุชุชุจุน ูู Linux ูุชุญุฏุซ ุนู bpfTrace ุ ูุงูุชู (ููุง ููุญู ุงูุงุณู) ุชูุฏู ุงูุนุฏูุฏ ูู ุงููุฒุงูุง. </font><font style="vertical-align: inherit;">ููุฏ ุฃูุดุฃูุง ูุณุฎุฉ ูุตูุฉ ูู ุงูุชูุฑูุฑ ุ ุญุชู ูููู ูู ุงูููุงุฆู ูู ูุฑุงุฌุนุฉ ุงูุชูุงุตูู ููุงูุช ุงูููุงุฏ ุงูุฅุถุงููุฉ ูู ูุชูุงูู ุงููุฏ ุฏุงุฆููุง.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุชูุณูู ุงูุฃุฌูุฒุฉ ุฅูู ูุชูุชูู ูุจูุฑุชูู:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุซุงุจุช</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุนูุฏูุง ูุชู ุชูุตูู ูุฌููุนุฉ ุงููุนูููุงุช ูู ุฑูุฒ: ุชุณุฌูู ุงูุณุฌูุงุช ุ ุงูุนุฏุงุฏุงุช ุ ุงูููุช ุ ุฅูุฎ.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏููุงูููู</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุนูุฏูุง ูุง ูููู ุงูููุฏ ูุนุฏูุง ุจููุณู ุ ูููู ูู ุงููููู ุงูููุงู ุจุฐูู ุนูุฏ ุงูุถุฑูุฑุฉ.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนุชูุฏ ุฎูุงุฑ ุชุตููู ุขุฎุฑ ุนูู ููุฌ ุชุณุฌูู ุงูุจูุงูุงุช:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุชุจุน</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุชู ุฅูุดุงุก ุงูุฃุญุฏุงุซ ุฅุฐุง ูุฌุญ ุฑูุฒ ูุนูู.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฎุฐ ุงูุนููุงุช</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุชู ุงูุชุญูู ูู ุญุงูุฉ ุงููุธุงู ุ ุนูู ุณุจูู ุงููุซุงู ุ 100 ูุฑุฉ ูู ุงูุซุงููุฉ ููุญุฏุฏ ูุง ูุญุฏุซ ููู.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชูุฌุฏ ุฃุฏูุงุช ุซุงุจุชุฉ ูุณููุงุช ุนุฏูุฏุฉ ููู ูู ูู ุดูุก ุชูุฑูุจูุง. </font><font style="vertical-align: inherit;">ุนูู ููููุณ ุ ุชุณุชุฎุฏู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงูููุงุณูุฉ ูุซู Vmstat ุฃู top. </font><font style="vertical-align: inherit;">ููุฑุฃูู ุงูุจูุงูุงุช ูู procfs ุ ุญูุซ ุ ุจุดูู ุชูุฑูุจู ุ ูุชู ูุชุงุจุฉ ุฃุฌูุฒุฉ ุชูููุช ูุนุฏุงุฏุงุช ูุฎุชููุฉ ูู ููุฏ ุงูููุงุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุง ููููู ุฅุฏุฑุงุฌ ุงููุซูุฑ ูู ูุฐู ุงูุนุฏุงุฏุงุช ุ ูุง ููููู ุชุบุทูุฉ ูู ุดูุก ูู ุงูุนุงูู ูุนูู. </font><font style="vertical-align: inherit;">ูุฐูู ุ ูููู ุฃู ุชููู ุงูุฃุฌูุฒุฉ ุงูุฏููุงููููุฉ ูููุฏุฉ ุ ููุง ูุณูุญ ูู ุจูุดุงูุฏุฉ ูุง ุชุญุชุงุฌ ุฅููู ุจุงูุถุจุท. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงูุช ููุงู ุฃูุฉ ูุดููุงุช ูู ููุฏุณ TCP / IP ุ ูููููู ุงูุชุนูู ูู ุงูุฃูุฑ ูุฅุฑุดุงุฏ ุชูุงุตูู ูุญุฏุฏุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x8/nh/hz/x8nhhza-v08u7nlo01rb778nxqs.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dtrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DTrace ูู ูุงุญุฏุฉ ูู ุฃููู ุฃุทุฑ ุงูุชุชุจุน ุงูุฏููุงููููุฉ ุงููุนุฑููุฉ ุงูุชู ุฃูุดุฃุชูุง Sun Microsystems. ุจุฏุฃ ุตูุนู ูู ุนุงู 2001 ุ ููููุฑุฉ ุงูุฃููู ุชู ุฅุตุฏุงุฑู ูู Solaris 10 ูู ุนุงู 2005. ุงุชุถุญ ุฃู ูุฐุง ุงูููุฌ ุดุงุฆุน ุฌุฏูุง ูุฐูุจ ูุงุญููุง ุฅูู ุงูุนุฏูุฏ ูู ุงูุชูุฒูุนุงุช ุงูุฃุฎุฑู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ุงููุซูุฑ ููุงูุชูุงู ุฃู DTrace ูุณูุญ ูู ุจุตูุน ูุณุงุญุฉ ุงูููุงุฉ ููุณุงุญุฉ ุงููุณุชุฎุฏู. ููููู ูุถุน ุขุซุงุฑ ุนูู ุฃู ููุงููุงุช ูุธูููุฉ ูุฅุฑุดุงุฏ ุงูุจุฑุงูุฌ ุชุญุฏูุฏูุง: ุชูุฏูู ููุงุท ุชุชุจุน DTrace ุฎุงุตุฉ ุ ูุงูุชู ูููู ูููุณุชุฎุฏููู ููููุง ุฃูุซุฑ ูู ุฃุณูุงุก ุงููุธุงุฆู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงู ูุฐุง ููููุง ุจุดูู ุฎุงุต ูู Solaris ุ ูุฃูู ููุณ ูุธุงู ุชุดุบูู ููุชูุญูุง. ูู ููู ูู ุงููููู ูุฌุฑุฏ ุฅููุงุก ูุธุฑุฉ ุนูู ุงูููุฏ ูููู ุฃู ููุทุฉ ุงูุชุชุจุน ุชุญุชุงุฌ ุฅูู ูุถุน ูุซู ูุฐู ุงููุธููุฉ ุ ุญูุซ ูููู ุงูููุงู ุจุฐูู ุงูุขู ูู ุจุฑูุงูุฌ Linux ุงูุฌุฏูุฏ ููุชูุญ ุงููุตุฏุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุญุฏุฉ ูู ุงูููุฒุงุช ุงููุฑูุฏุฉ ุ ุฎุงุตุฉ ูู ุฐูู ุงูููุช ุ ูู DTrace ูู ุฃูู ูู </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญูู ูู ูุชู ุชูููู ุงูุชุชุจุน ุ ูุฅูู ูุง ูููู ุดูุฆูุง</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูุนูู ุจุทุฑููุฉ ุชุณุชุจุฏู ุจุจุณุงุทุฉ ุจุนุถ ุชุนูููุงุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุจููุงููุฉ DTrace ุ ูุงูุชู ุชููุฐ ูุฐู ุงูุชุนูููุงุช ุนูุฏ ุนูุฏุชูุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู DTrace ุ ุชุชู ูุชุงุจุฉ ุงูุฃุฌูุฒุฉ ุจูุบุฉ D ุฎุงุตุฉ ุ ุนูู ุบุฑุงุฑ C ู Awk.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุธูุฑ DTrace ูุงุญููุง ูู ูู ููุงู ุชูุฑูุจูุง ุจุงุณุชุซูุงุก Linux: ุนูู MacOS ูู 2007 ุ ุนูู FreeBSD ูู 2008 ุ ูู NetBSD ูู 2010. ูุงูุช Oracle ูู 2011 ุจุชุถููู DTrace ูู Oracle Unbreakable Linux. </font><font style="vertical-align: inherit;">ููู ููุฉ ูู ุงููุงุณ ูุณุชุฎุฏููู Oracle Linux ุ ููู ูุฏุฎู DTrace ุฃุจุฏูุง Linux ุงูุฑุฆูุณู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃูู ูู ุนุงู 2017 ุ ูุงูุช Oracle ูู ุงูููุงูุฉ ุจุชุฑุฎูุต DTrace ุจููุฌุจ GPLv2 ุ ููุง ุฌุนู ูู ุงููููู ูู ุญูุซ ุงููุจุฏุฃ ุชุถููููุง ูู ููููุณ ุงูุฑุฆูุณู ุฏูู ุตุนูุจุงุช ุงูุชุฑุฎูุต ุ ูููู ูุงู ูุฏ ูุงุช ุงูุฃูุงู ุจุงููุนู. </font><font style="vertical-align: inherit;">ูู ุฐูู ุงูููุช ุ ูุงู ููููุณ ูุฏูู BPF ุฌูุฏ ุ ูุงูุฐู ุชู ุงุณุชุฎุฏุงูู ุจุดูู ุฃุณุงุณู ููุชูุญูุฏ ุงูููุงุณู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูุชู ุชุถููู DTrace ูู Windows ุ ูุงูุขู ูุชููุฑ ูู ุจุนุถ ุฅุตุฏุงุฑุงุช ุงูุงุฎุชุจุงุฑ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุชุจุน ููููุณ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ูู ููููุณ ุจุฏูุงู ูู DTraceุ </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ููุฌุฏ ูู ููููุณ ุงููุซูุฑ ูู ุงูุฃุดูุงุก ูู ุฃูุถู (ุฃู ุฃุณูุฃ) ูุธูุฑ ูุฑูุญ ุงููุตุฏุฑ ุงูููุชูุญ ุ ููุฏ ุชุฑุงููุช ูุฌููุนุฉ ูู ุฃุทุฑ ุงูุชุชุจุน ุงููุฎุชููุฉ ุฎูุงู ูุฐุง ุงูููุช. </font><font style="vertical-align: inherit;">ูุฐูู ุ ูุนุฑูุฉ ูุง ููุณ ุจูุฐู ุงูุจุณุงุทุฉ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/vu/ij/wrvuijy1unvtq2thcngvonvzsrq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงูุชุนุฑู ุนูู ูุฐุง ุงูุชููุน ูุชูุชู ุจุงูุชุงุฑูุฎ ุ ูุฑุงุฌุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุงูุฉ ุงูุชู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุญุชูู ุนูู ุตูุฑ ููุตู ููุตู ูููุงูุฌ ุงูุชุชุจุน ูู Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ุชุญุฏุซูุง ุนู ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุชุชุจุน ูู Linux ุจุดูู ุนุงู ุ ูููุงู ุซูุงุซุฉ ูุณุชููุงุช:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฌูุฉ ุฃุฌูุฒุฉ kernel:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kprobe ุ Uprobe ุ Dtrace ูุณุจุงุฑ ุ ุฅูุฎ.</font></font></li>
<li><strong>ยซยป,    .</strong> ,  probe,      ,          user space   .       :   ,     user space,  Kernel Module,   - ,  eBPF.</li>
<li><strong>-</strong>,    ,    : Perf, SystemTap, SysDig, BCC  .. bpfTtrace       ,  ,   .</li>
</ol><br>
<h2>eBPF โ   Linux</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุน ูู ูุฐู ุงูุฃุทุฑ ุ ุฃุตุจุญ eBPF ุงููุนูุงุฑ ูู Linux ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ. </font><font style="vertical-align: inherit;">ุฅููุง ุฃุฏุงุฉ ุฃูุซุฑ ุชูุฏููุง ููุฑููุฉ ููุนุงููุฉ ุชุณูุญ ุจูู ุดูุก ุชูุฑูุจูุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ูู eBPF ููู ุฃูู ุฃุชุชุ </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ eBPF ูู ูุฑุดุญ ุญุฒูุฉ Berkeley Extended ุ ููุฏ ุชู ุชุทููุฑ BPF ูู ุนุงู 1992 ูุขูุฉ ุงูุชุฑุงุถูุฉ ูุชุตููุฉ ุงูุญุฒูุฉ ุงููุนุงูุฉ ุจูุงุณุทุฉ ุฌุฏุงุฑ ุงูุญูุงูุฉ. </font><font style="vertical-align: inherit;">ูู ุงูุจุฏุงูุฉ ุ ูู ููู ูุฏูู ุฃู ุนูุงูุฉ ุจุงูุฑุตุฏ ุฃู ุงูููุงุญุธุฉ ุฃู ุงูุชุชุจุน. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุฅุตุฏุงุฑุงุช ุงูุฃูุซุฑ ุญุฏุงุซุฉ ุ ุชู ุชูุณูุน eBPF (ูุจุงูุชุงูู ุงููููุฉ ุงูููุณุนุฉ) ุ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฅุทุงุฑ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุดุชุฑู </font><strong><font style="vertical-align: inherit;">ููุชุนุงูู ูุน ุงูุฃุญุฏุงุซ</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุชู ุฏูุฌ ุงูุฅุตุฏุงุฑุงุช ุงูุญุงููุฉ ูุน ูุชุฑุฌู JIT ูุฒูุงุฏุฉ ุงูููุงุกุฉ. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุฎุชูุงูุงุช eBPF ุนู BPF ุงูููุงุณููู:</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฃุถุงู ุงูุณุฌูุงุช ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุธูุฑุช ูููุฉ.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ููุงูู ุจูุงูุงุช ุฅุถุงููุฉ (ุฎุฑุงุฆุท).</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/gj/9v/uh/gj9vuhqn64yciwp2zyjmekazpvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ููุณู ุงููุงุณ ูู ุงูุบุงูุจ ุฃูู ูุงู ููุงู BPF ูุฏูู ุ ููุณูู eBPF ุจุจุณุงุทุฉ BPF. </font><font style="vertical-align: inherit;">ูู ูุนุธู ุงูุชุนุจูุฑุงุช ุงูุญุฏูุซุฉ ุ eBPF ู BPF ูุชูุงุซูุงู. </font><font style="vertical-align: inherit;">ูุฐูู ุ ุชุณูู ุงูุฃุฏุงุฉ bpfTrace ุ ูููุณ eBpfTrace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุชุถููู eBPF ูู Linux ุงูุฑุฆูุณู ููุฐ 2014 ูุชู ุชุถูููู ุชุฏุฑูุฌููุง ูู ุงูุนุฏูุฏ ูู ุฃุฏูุงุช Linux ุ ุจูุง ูู ุฐูู Perf ู SystemTap ู SysDig. </font><font style="vertical-align: inherit;">ููุงู ุชูุญูุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ุงููุซูุฑ ููุงูุชูุงู ุฃู ุงูุชูููุฉ ูุง ุชุฒุงู ุฌุงุฑูุฉ. </font><font style="vertical-align: inherit;">ุงูููุงุฉ ุงูุญุฏูุซุฉ ุชุฏุนู eBPF ุจุดูู ุฃูุถู ูุฃูุถู. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f9/ad/xi/f9adxi6tahas6qaz0crpgc4fldk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููู ุฃู ุชุฑู ูุง ุธูุฑุช ุฅุตุฏุงุฑุงุช ุงูููุงุฉ ุงูุญุฏูุซุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฑุงูุฌ EBPF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐู ูุง ูู eBPF ูููุงุฐุง ูู ูุซูุฑ ููุงูุชูุงูุ </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eBPF ูู ุจุฑูุงูุฌ ูู ุฑูุฒู ุงูุซุงููู ุงูุฎุงุต</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุงูุฐู ูุชู ุชุถูููู ูุจุงุดุฑุฉ ูู ุงูููุงุฉ ููููู ุจูุนุงูุฌุฉ ุฃุญุฏุงุซ ุงูุชุชุจุน. ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุญูููุฉ ุฃูู ูุตููุน ูู ุฑูุฒ ุซุงููู ุฎุงุต ูุณูุญ ููููุงุฉ ุจุฅุฌุฑุงุก ุชุญูู ูุนูู ูู ุฃู ุงูุฑูุฒ ุขูู ุชูุงููุง. ุนูู ุณุจูู ุงููุซุงู ุ ุชุญูู ูู ุฃูู ูุง ูุณุชุฎุฏู ุญููุงุช ุ ูุฃู ุงูุญููุฉ ูู ุงููุณู ุงูุญุฑุฌ ูู ุงูููุงุฉ ูููู ุฃู ุชุชุณุจุจ ูู ุชุนููู ุงููุธุงู ุจุฃูููู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุฐุง ูุง ูุณูุญ ุจุฃู ูููู ุขูููุง ุชูุงููุง. ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุชุจุช ุจุฑูุงูุฌ eBPF ูุนูุฏูุง ุฌุฏูุง ุ ูุฃุฏุฎูู ูู ุญุฏุซ ูู ุงูููุงุฉ ูุญุฏุซ 10 ููุงููู ูุฑุฉ ูู ุงูุซุงููุฉ ุ ุซู ูููู ุฃู ูุชุจุงุทุฃ ูู ุดูุก ูุซูุฑูุง. ูููู ูู ุงูููุช ููุณู ุ ูุนุฏ eBPF ุฃูุซุฑ ุฃูุงููุง ูู ุงูููุฌ ุงููุฏูู ุ ุนูุฏูุง ุชู ุฅุฏุฎุงู ุจุนุถ ูุญุฏุงุช Kernel ููุท ูู ุฎูุงู insmod ุ ููููู ุฃู ูููู ุฃู ุดูุก ูู ูุฐู ุงููุญุฏุงุช. ุฅุฐุง ุฃุฎุทุฃ ุดุฎุต ูุง ุ ุฃู ุจุจุณุงุทุฉ ุจุณุจุจ ุนุฏู ุงูุชูุงูู ุงูุซูุงุฆู ุ ูููู ุฃู ูุณูุท ุงููุจ ุจุฃูููู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุชุฌููุน ููุฏ eBPF ุจูุงุณุทุฉ LLVM Clang ุ ุฃู ุจุดูู ุนุงู ุ ุงุณุชุฎุฏุงู ูุฌููุนุฉ ูุฑุนูุฉ ูู C ูุฅูุดุงุก ุจุฑุงูุฌ eBPF ุ ูุงูุชู ุ ุจุงูุทุจุน ุ ูุนูุฏุฉ ููุบุงูุฉ. ููู ุงูููู ุฃู ูุนุชูุฏ ุงูุชุฌููุน ุนูู ุงูููุงุฉ: ุชูุณุชุฎุฏู ุงูุฑุคูุณ ูููู ุงูููุงูู ุงูุชู ุชูุณุชุฎุฏู ููุง ุงูุบุฑุถ ูู ุงุณุชุฎุฏุงููุง ุ ููุง ุฅูู ุฐูู. ูุฐุง ููุณ ููุงุณุจูุง ุฌุฏูุง ุจูุนูู ุฃูู ูุชู ุฏุงุฆููุง ุชูููุฑ ุจุนุถ ุงููุญุฏุงุช ุงููุชุนููุฉ ุจููุงุฉ ูุนููุฉ ุ ุฃู ุชุญุชุงุฌ ุฅูู ุฅุนุงุฏุฉ ุงูุชุฑุฌูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุถุญ ุงูุฑุณู ุงูุจูุงูู ููููุฉ ุนูู eBPF. </font></font><br>
<img src="https://habrastorage.org/webt/vf/f6/fq/vff6fqzhay_0tskbjguckrqe6e4.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/ebpf.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุงููุณุชุฎุฏู ุจุฅูุดุงุก ุจุฑูุงูุฌ eBPF. ุนูุงูุฉ ุนูู ุฐูู ุ ุชููู ุงูููุงุฉ ุ ูู ุฌุงูุจูุง ุ ุจูุญุตูุง ูุชุญููููุง. ุจุนุฏ ุฐูู ุ ูููู ูู eBPF ุงูุงุชุตุงู ุจุฃุฏูุงุช ูุฎุชููุฉ ููุชุชุจุน ููุนุงูุฌุฉ ุงููุนูููุงุช ูุญูุธูุง ูู ุงูุฎุฑุงุฆุท (ุจููุฉ ุงูุจูุงูุงุช ููุชุฎุฒูู ุงููุคูุช). ุซู ูููู ูุจุฑูุงูุฌ ุงููุณุชุฎุฏู ูุฑุงุกุฉ ุงูุฅุญุตุงุฆูุงุช ุ ูุชููู ุฃุญุฏุงุซ ุงูุฃุฏุงุก ุ ููุง ุฅูู ุฐูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนุฑุถ ููุฒุงุช eBPF ุงูุชู ุชูุฌุฏ ูููุง ุฅุตุฏุงุฑุงุช ุญูุฒู Linux. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/ck/gr/cyckgrqgpnhpfmbg2wptd77b1q0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ููุงุญุธุฉ ุฃู ุฌููุน ุงูุฃูุธูุฉ ุงููุฑุนูุฉ ูููุงุฉ Linux ูุบุทุงุฉ ุชูุฑูุจูุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุฌูุฏ ุชูุงูู ุฌูุฏ ูุน ุจูุงูุงุช ุงูุฃุฌูุฒุฉ ุ ู eBPF ูุฏูู ุฅููุงููุฉ ุงููุตูู ุฅูู ุฌููุน ุฃููุงุน ุฃุฎุทุงุก ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฃู ุชูุจุคุงุช ุฃุฎุทุงุก ุงููุฑูุน ุ ููุง ุฅูู ุฐูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ููุชููุง ุจู eBPF ุ ูุฑุงุฌุน ูุดุฑูุน </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">IO</font></a><font style="vertical-align: inherit;"> Visor</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุญุชูู ุนูู ูุนุธู ุงูุฃุฏูุงุช. </font><font style="vertical-align: inherit;">ุชุดุงุฑู ุดุฑูุฉ IO Visor ูู ุชุทููุฑูุง ุ ูุณูููู ูุฏููู ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช ููุซุงุฆู ุฌูุฏุฉ ุฌุฏูุง. </font><font style="vertical-align: inherit;">ุชุธูุฑ ุงููุฒูุฏ ูุงููุฒูุฏ ูู ุฃุฏูุงุช eBPF ุนูู ุชูุฒูุนุงุช Linux ุ ูุฐุง ุฃูุตู ุจุฃู ุชุณุชุฎุฏู ุฏุงุฆููุง ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช ุงููุชุงุญุฉ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฏุงุก EBPF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุญูุซ ุงูุฃุฏุงุก ุ ูุฅู eBPF ูุนุงู ููุบุงูุฉ. </font><font style="vertical-align: inherit;">ูููู ููุฏุงุฑ ูุง ุฅุฐุง ูุงู ููุงู ุญูู ุนููู ููุง ุฅุฐุง ูุงู ููุงู ุญูู ุ ููููู ุฅุถุงูุฉ ูุณุจุงุฑ ุ ูุงูุฐู ููููุจ ุนุฏุฉ ูุฑุงุช ูู ุงูุซุงููุฉ ุ ูุงูุชุญูู ูู ุงูููุช ุงููุณุชุบุฑู ูู ุชูููุฐู. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/jb/tq/rbjbtq7wvfiqdggh5bohn0dcaxc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฌุนู ุงูุฑุฌุงู ูู Cloudflare </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูุงุฑูุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุฃุฎุฐูู ูุณุจุงุฑ eBPF ุจุณูุท ุญูุงูู 100 ูุงููุซุงููุฉ ุ ุจูููุง ุงุณุชุบุฑู ูุณุจุงุฑ ุฃูุซุฑ ุชุนููุฏูุง 300 ูุงููุซุงููุฉ. </font><font style="vertical-align: inherit;">ูุฐุง ูุนูู ุฃูู ุญุชู ุงููุณุจุงุฑ ุงููุนูุฏ ูููู ุงุณุชุฏุนุงุคู ุนูู ููุจ ูุงุญุฏ ุญูุงูู 3 ููุงููู ูุฑุฉ ูู ุงูุซุงููุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุฒ ุงููุณุจุงุฑ 100 ุฃูู ุฃู ููููู ูุฑุฉ ูู ุงูุซุงููุฉ ุนูู ูุนุงูุฌ ูุชุนุฏุฏ ุงูููุงุฉ ุ ููู ูุคุซุฑ ุฐูู ุนูู ุงูุฃุฏุงุก ูุซูุฑูุง.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูู eBPF</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ููุชููุง ุจู eBPF ูููุถูุน ุงูููุงุญุธุฉ ุจุดูู ุนุงู ุ ูุฑุจูุง ุชููู ูุฏ ุณูุนุช ุนู Brendan Gregg. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชุจ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุชุญุฏุซ </font><font style="vertical-align: inherit;">ูุซูุฑูุง ุนู ูุฐุง ุงูุฃูุฑ </font><font style="vertical-align: inherit;">ููุงู ุจุนูู ุตูุฑุฉ ุฌูููุฉ ุชุธูุฑ ุฃุฏูุงุช eBPF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/-o/fi/da-ofi9xtmuvnkvygmbhzdftz00.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ููููู ุฃู ุชุฑู ุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุงุณุชุฎุฏุงู Raw BPF - ููุท ุงูุชุจ ููุฏ ุงูุจุงูุช - ุณูุนุทู ูุฐุง ูุฌููุนุฉ ูุงููุฉ ูู ุงูููุฒุงุช ุ ูููู ุณูููู ูู ุงูุตุนุจ ุฌุฏูุง ุงูุนูู ูุนู. ูุฏูุฑ Raw BPF ุญูู ููููุฉ ูุชุงุจุฉ ุชุทุจูู ููุจ ูู ุงููุฌูุน - ูู ุญูุซ ุงููุจุฏุฃ ุ ูู ุงููููู ุ ูููู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูููุงู ุจุฐูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃู bpfTrace ุ ูู ูุงุญูุฉ ุ ูุณูุญ ูู ุจุงูุญุตูู ุนูู ูู ุดูุก ุชูุฑูุจูุง ูู BCC ู BPF ุงูุฎุงู ุ ูููู ูู ุงูุฃุณูู ุจูุซูุฑ ุงุณุชุฎุฏุงูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฑุฃูู ุ ููุงู ุฃุฏุงุชุงู ุฃูุซุฑ ูุงุฆุฏุฉ:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุฎุฉ ูุฎููุฉ ุงููุฌูุฉ. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃูู ููููุง ููุฎุทุท ุฌุฑูุฌ ุ ูุฅู BCC ูุนูุฏุฉ ุ ููู ุชุญุชูู ุนูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนุฏูุฏ ูู ุงููุธุงุฆู ุงูุฌุงูุฒุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชู ูููู ุฅุทูุงููุง ุจุจุณุงุทุฉ ูู ุณุทุฑ ุงูุฃูุงูุฑ.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BpfTrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุณูุญ ูู ุจุจุณุงุทุฉ ุจูุชุงุจุฉ ูุฌููุนุฉ ุฃุฏูุงุชู ุงูุฎุงุตุฉ ุฃู ุงุณุชุฎุฏุงู ุญููู ุฌุงูุฒุฉ.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููู ุฃู ุชุชุฎูู ูุฏู ุณูููุฉ ุงููุชุงุจุฉ ุนูู bpfTrace ุฅุฐุง ูุธุฑุช ุฅูู ุฑูุฒ ุงูุฃุฏุงุฉ ููุณูุง ูู ูุณุฎุชูู.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/yj/rg/dfyjrg8q4abkcjgcsnp00vuuymg.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DTrace ููุงุจู bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุดูู ุนุงู ุ ูุชู ุงุณุชุฎุฏุงู DTrace ู bpfTrace ูููุณ ุงูุดูุก. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/uo/rm/rhuormrzvwap7cr3uwlqk8hcnqu.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/blog/2018-10-08/dtrace-for-linux-2018.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุงููุฑู ูู ุฃู ููุงู ุฃูุถูุง ูุณุฎุฉ ูุฎููุฉ ุงููุฌูุฉ ูู ูุธุงู BPF ุงูุจูุฆู ูููู ุงุณุชุฎุฏุงููุง ููุฃุฏูุงุช ุงููุนูุฏุฉ. </font><font style="vertical-align: inherit;">ูุง ููุฌุฏ ููุงูุฆ BCC ูู DTrace ุ ูุฐูู ุ ูุฅูุดุงุก ูุฌููุนุงุช ุฃุฏูุงุช ูุนูุฏุฉ ุ ุนุงุฏุฉ ูุง ุชุณุชุฎุฏู ุญุฒูุฉ Shell + DTrace.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏ ุฅูุดุงุก bpfTrace ุ ูู ุชูู ููุงู ูููุฉ ููุญุงูุงุฉ DTrace ุจุงููุงูู. ุฃู ุฃูู ูุง ููููู ุฃุฎุฐ ุจุฑูุงูุฌ ูุตู DTrace ูุชุดุบููู ุนูู bpfTrace. ููู ูุฐุง ูุง ูุนูู ูู ุ ูุฃู ุงูููุทู ูู ุฃุฏูุงุช ุงููุณุชูู ุงูุฃุฏูู ุจุณูุท ููุบุงูุฉ. ุนุงุฏุฉ ูุง ูููู ุฃูุซุฑ ุฃูููุฉ ูููู ููุงุท ุงูุชุชุจุน ุงูุชู ุชุญุชุงุฌ ุฅูู ุงูุงุชุตุงู ุจูุง ุ ูุฃุณูุงุก ููุงููุงุช ุงููุธุงู ููุง ุชูุนูู ูุจุงุดุฑุฉ ุนูู ูุณุชูู ููุฎูุถ ุชุฎุชูู ูู Linux ู Solaris ู FreeBSD. ููุง ููุดุฃ ุงูุงุฎุชูุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุฅุฌุฑุงุก bpfTrace ุจุนุฏ 15 ุนุงููุง ูู DTrace. ูุฏููุง ุจุนุถ ุงูููุฒุงุช ุงูุฅุถุงููุฉ ุงูุชู ูุง ุชูุชูููุง DTrace. ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุงูููุงู ุจุชุชุจุนุงุช ุงูููุฏุณ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุจุงูุทุจุน ุ ุงููุซูุฑ ููุฑูุซ ูู DTrace. ุนูู ุณุจูู ุงููุซุงู ุ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุณูุงุก ุงูุฏูุงู ูุงูุจูุงุก ูุชุดุงุจูุฉ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุนูู ุงูุฑุบู ูู ุฃููุง ููุณุช ูุชูุงูุฆุฉ ุชูุงููุง.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9l/cf/0z/9lcf0z37mltxok_7fsdvdhxanv8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฎุทูุทุงุช DTrace ู bpfTrace ูุฑูุจุฉ ูู ุญุฌู ุงูุดูุฑุฉ ููุชุดุงุจูุฉ ูู ูุฏุฑุงุช ุงูุชุนููุฏ ูุงููุบุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/ud/br/reudbrcb_yoslb9ylo0loe9e-os.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูุฑู ุจูุฒูุฏ ูู ุงูุชูุตูู ูุง ูู ูู bpfTrace ุ ูููู ูููู ุงุณุชุฎุฏุงูู ููุง ูู ูุทููุจ ูุฐูู. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุทูุจุงุช Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุณุชุฎุฏุงู bpfTrace: </font></font><br>
<img src="https://habrastorage.org/webt/1_/sc/tk/1_sctkrpgkd3rd2b0ccrk4fur2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุณุชุฎุฏุงู ุฌููุน ุงูููุฒุงุช ุ ุชุญุชุงุฌ ุฅูู ุฅุตุฏุงุฑ 4.9 ุนูู ุงูุฃูู. </font><font style="vertical-align: inherit;">ูุณูุญ ูู BpfTrace ุจุนูู ุงููุซูุฑ ูู ุงููุณุงุจูุฑ ุงููุฎุชููุฉ ุ ุจุฏุกูุง ูู ุฎุฒุงูุฉ ุงูููุงุจุณ ูุฅุฌุฑุงุก ููุงููุฉ ูุธูููุฉ ูู ุชุทุจูู ุงููุณุชุฎุฏู ุ ููุณุงุจูุงุช kernel ุ ููุง ุฅูู ุฐูู.</font></font><br>
<img src="https://habrastorage.org/webt/la/v4/zq/lav4zqiss3uj4a42cx9lf5cu9hs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃู ููุงู ูุง ูุนุงุฏู uretprobe ููุธููุฉ ุฎุฒุงูุฉ ููุงุจุณ ูุฎุตุตุฉ. ุจุงููุณุจุฉ ููููุงุฉ ุ ุงูุดูุก ููุณู ูู kprobe ู kretprobe. ูุฐุง ูุนูู ุฃูู ูู ุงููุงูุน ูู ุฅุทุงุฑ ุงูุชุชุจุน ููููู ุฅูุดุงุก ุงูุฃุญุฏุงุซ ุนูุฏูุง ูุชู ุงุณุชุฏุนุงุก ุงููุธููุฉ ูุนูุฏ ุงูุงูุชูุงุก ูู ูุฐู ุงููุธููุฉ - ุบุงูุจูุง ูุง ููุณุชุฎุฏู ูุฐุง ููุชูููุช. ุฃู ููููู ุชุญููู ุงูููู ุงูุชู ุฃุนุงุฏุช ุงูุฏุงูุฉ ูุชุฌููุนูุง ููููุง ูููุนููุงุช ุงูุชู ุชู ุงุณุชุฏุนุงุก ุงูุฏุงูุฉ ุจูุง. ุฅุฐุง ุชูููุช ููุงููุฉ ูุธูููุฉ ูุนุงุฏุช ูููุง ุ ููููู ุงูููุงู ุจุงููุซูุฑ ูู ุงูุฃุดูุงุก ุงูุฑุงุฆุนุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนูู bpfTrace ูู ุงูุฏุงุฎู ุนูู ุงููุญู ุงูุชุงูู: ููุชุจ ุจุฑูุงูุฌ bpf ูุชู ุชุญูููู ูุชุญูููู ุฅูู C ุซู ูุนุงูุฌุชู ูู ุฎูุงู Clang ุ ูุงูุฐู ูููุฏ ููุฏ ุจุงูุช bpf ุ ูุจุนุฏ ุฐูู ูุชู ุชุญููู ุงูุจุฑูุงูุฌ.</font></font><br>
<img src="https://habrastorage.org/webt/2r/my/_i/2rmy_ipzm97oydg5q8xdltdbchs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุนูููุฉ ุตุนุจุฉ ููุบุงูุฉ ุ ูุฐูู ููุงู ูููุฏ. </font><font style="vertical-align: inherit;">ุนูู ุงูุฎูุงุฏู ุงููููุฉ ุ ูุนูู bpfTrace ุจุดูู ุฌูุฏ. </font><font style="vertical-align: inherit;">ููู ุณุญุจ Clang ุฅูู ุฌูุงุฒ ุตุบูุฑ ูุฏูุฌ ููุนุฑูุฉ ูุง ูุฌุฑู ููุณ ููุฑุฉ ุฌูุฏุฉ. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุงุฆู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุณุจุฉ ููุฐุง </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุจุทุจูุนุฉ ุงูุญุงู ุ ูุง ูุญุชูู ุนูู ุฌููุน ููุฒุงุช bpfTrace ุ ููููู ูููุฏ ุฑูุฒ ุงูุจุงูุช ูุจุงุดุฑุฉ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนู ููููุณ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุฅุตุฏุงุฑ ุฅุตุฏุงุฑ ุซุงุจุช ูู bpfTrace ููุฐ ุนุงู ุชูุฑูุจูุง ุ ูุฐุง ููู ุบูุฑ ูุชููุฑ ูู ุชูุฒูุนุงุช Linux ุงููุฏููุฉ. </font><font style="vertical-align: inherit;">ูู ุงูุฃูุถู ุฃุฎุฐ ุงูุญุฒู ุฃู ุชุฌููุน ุฃุญุฏุซ ุฅุตุฏุงุฑ ููุฒุนู IO Visor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ุงููุซูุฑ ููุงูุชูุงู ุ ุฃู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู Ubuntu LTS 18.04 ูุง ูุญุชูู ุนูู bpfTrace ุ ูููู ูููู ุชูุตููู ุจุงุณุชุฎุฏุงู ุญุฒูุฉ snap. </font><font style="vertical-align: inherit;">ูู ูุงุญูุฉ ุ ูุฐุง ุฃูุฑ ูุฑูุญ ุ ูููู ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุธุฑูุง ููุทุฑููุฉ ุงูุชู ูุชู ุจูุง ุตูุน ุญุฒู ุงูููุงุฌุฆุฉ ูุนุฒููุง ุ ูู ุชุนูู ุฌููุน ุงููุธุงุฆู. </font><font style="vertical-align: inherit;">ูุชุชุจุน ุงูููุงุฉ ุ ุชุนูู ุงูุญุฒูุฉ ุฐุงุช ุงูุฃุฏุงุฉ ุงูุฅุถุงููุฉ ุจุดูู ุฌูุฏ ุ ููุฏ ูุง ุชุนูู ุจุดูู ุตุญูุญ ูุชุชุจุน ุงููุณุชุฎุฏู.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/si/co/d3sicofnas8mpwyrsvmkp1kdbvm.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ูุชุชุจุน ุงูุนูููุฉ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฑ ูู ุฃุจุณุท ูุซุงู ูุณูุญ ูู ุจุงูุญุตูู ุนูู ุฅุญุตุงุฆูุงุช ุญูู ุทูุจุงุช IO:</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'kprobe:vfs_read { @start[tid] = nsecs; }
kretprobe:vfs_read /@start[tid]/ { @ns[comm] = hist(nsecs - @start[tid]); delete(@start[tid]); }'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ูููู ุจุชูุตูู ุงููุธููุฉ </font></font><code>vfs_read</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ kretprobe ู kprobe. </font><font style="vertical-align: inherit;">ุนูุงูุฉ ุนูู ุฐูู ุ ููู ูุนุฑู ูุคุดุฑ ุชุฑุงุจุท (tid) ุ ุฃู ููู ุทูุจ ุ ูุชุนูุจ ุจุฏุงูุฉ ูููุงูุฉ ุชูููุฐู. </font><font style="vertical-align: inherit;">ูููู ุชุฌููุน ุงูุจูุงูุงุช ููุณ ููุท ูู ุฎูุงู ูุฌูู ุงููุธุงู ุจุฃูููู ุ ูููู ุฃูุถูุง ูู ุฎูุงู ุนูููุงุช ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ูููุง ููู ุฅุฎุฑุงุฌ IO ูู MySQL. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e1/dx/om/e1dxomau1ormvas-7juk1as0sqy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชูุฒูุน ุงูุฅุฏุฎุงู / ุงูุฅุฎุฑุงุฌ ุงูุซูุงุฆู ุงูุชูููุฏู ูุฑุฆู. </font><font style="vertical-align: inherit;">ุนุฏุฏ ูุจูุฑ ูู ุงูุทูุจุงุช ุงูุณุฑูุนุฉ ูู ุงูุจูุงูุงุช ุงูุชู ุชุชู ูุฑุงุกุชูุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. </font><font style="vertical-align: inherit;">ุงูููุฉ ุงูุซุงููุฉ ูู ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงููุฑุต ุ ุญูุซ ูููู ุงููููู ุฃุนูู ุจูุซูุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููู ุญูุธ ูุฐุง ูุจุฑูุงูุฌ ูุตู (ูุณุชุฎุฏู ููุญู bt ุนุงุฏุฉ) ุ ููุชุงุจุฉ ุงูุชุนูููุงุช ุ ูุชูุณูููุง ูุงุณุชุฎุฏุงููุง ููุท </font></font><code>#bpftrace read.bt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs">// read.bt file<font></font>
tracepoint:syscalls:sys_enter_read<font></font>
{<font></font>
  @start[tid] = nsecs;<font></font>
}<font></font>
tracepoint:syscalls:sys_exit_read / @start[tid]/ <font></font>
{<font></font>
  @<span class="hljs-built_in">times</span> = hist(nsecs - @start[tid]);<font></font>
  delete(@start[tid]);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูููููู ุงูุนุงู ููุบุฉ ุจุณูุท ููุบุงูุฉ.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูุงุก ุงูุฌููุฉ:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุญุฏุฏ ุงููุณุจุงุฑ ููุงุชุตุงู </font></font><code>probe[,probe,...] /filter/ { action }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนุงูู ุงูุชุตููุฉ </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> ุญุฏุฏ ุนุงูู ุชุตููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุงูุจูุงูุงุช ููุท ุนูู ุนูููุฉ ูุนููุฉ ูู ูุนุฑู ุงูููุชุฌ.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฅุฌุฑุงุก: ุจุฑูุงูุฌ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุตุบูุฑ ูุชุญูู ูุจุงุดุฑุฉ ุฅูู ุจุฑูุงูุฌ bpf ููุนูู ุนูุฏ ุงุณุชุฏุนุงุก bpfTrace.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงูุชูุงุตูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฏูุงุช Bpftrace</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุชูู BpfTrace ุฃูุถูุง ุนูู ุตูุฏูู ุฃุฏูุงุช. </font><font style="vertical-align: inherit;">ูุชู ุงูุขู ุชูููุฐ ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ุงูุจุณูุทุฉ ุฅูู ุญุฏ ูุง ุนูู BCC ุนูู bpfTrace. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/sr/f1/dzsrf1-klsvpjawbgtdzffgegra.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฌููุนุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุง ุชุฒุงู ุตุบูุฑุฉ ุ ูููู ููุงู ุดูุก ุบูุฑ ููุฌูุฏ ูู ูุณุฎุฉ ูุฎููุฉ ุงููุฌูุฉ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูุชูุญ ูู killsnoop ุชุชุจุน ุงูุฅุดุงุฑุงุช ุงูุชู ุชุณุจุจูุง kill (). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ููุชููุง ุจุงููุธุฑ ุฅูู ููุฏ bpf ุ ูููููู ูู bpfTrace ุฃู </font></font><code>-v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑู ููุฏ ุงูุจุงูุช ุงูุฐู ุชู ุฅูุดุงุคู ูู </font><font style="vertical-align: inherit;">ุฎูุงูู </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุฐุง ูููุฏ ุฅุฐุง ููุช ุชุฑูุฏ ููู ูุณุจุงุฑ ุซููู ุฃู ูุง. </font><font style="vertical-align: inherit;">ุจุนุฏ ุงูุงุทูุงุน ุนูู ุงูุดูุฑุฉ ูุจุนุฏ ุชูุฏูุฑ ุญุฌููุง (ุตูุญุฉ ูุงุญุฏุฉ ุฃู ุตูุญุชูู) ุ ููููู ููู ูุฏู ุชุนููุฏูุง.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/sr/zg/fosrzgluhzrwsysvgvtsrkth8qe.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงู ูุชุชุจุน MySQL</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนูู ุฃุฑููู ูุซุงูุงู ุนูู MySQL ุ ููู ูุนูู. </font><font style="vertical-align: inherit;">ูุญุชูู MySQL ุนูู ูุธููุฉ ุชุญุฏุซ </font></font><code>dispatch_command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุง ุฌููุน ุนูููุงุช ุชูููุฐ ุงุณุชุนูุงู MySQL.</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'</span>
failed to <span class="hljs-built_in">stat</span> uprobe target file /usr/sbin/mysqld: No such file or directory</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุฑุฏุช ููุท ุชูุตูู ุฎุฒุงูุฉ ููุงุจุณ ูุทุจุงุนุฉ ูุต ุงูุงุณุชูุณุงุฑุงุช ุงูุชู ุชุฃุชู ุฅูู MySQL - ููู ูููุฉ ุจุฏุงุฆูุฉ. </font><font style="vertical-align: inherit;">ุญุตูุช ุนูู ูุดููุฉ - ุชููู ุฃูู ูุง ููุฌุฏ ูุซู ูุฐุง ุงูููู. </font><font style="vertical-align: inherit;">ููุณ ููุง ูู ูุงู ููุง:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:/# ls -la /usr/sbin/mysqld<font></font>
-rwxr-xr-x 1 root root 60718384 Oct 25 09:19 /usr/sbin/mysqld</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐู ูุฌุฑุฏ ููุงุฌุขุช ูุน ุงูููุงุฌุฆุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ุชู ุงูุถุจุท ุนุจุฑ snap ุ ููุฏ ุชููู ููุงู ูุดุงูู ุนูู ูุณุชูู ุงูุชุทุจูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุซู ููุช ุจุชุซุจูุช ุงูุฅุตุฏุงุฑ apt ุ ููู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู Ubuntu ุ ุจุฏุฃ ูุฑุฉ ุฃุฎุฑู:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
Could not resolve symbol: /usr/sbin/mysqld:dispatch_command</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"ูุง ููุฌุฏ ูุซู ูุฐุง ุงูุฑูุฒ" - ููู ูุง ุ! </font><font style="vertical-align: inherit;">ุฃููู ูุธุฑุฉ ุนูู </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุฅุฐุง ูุงู ููุงู ูุซู ูุฐุง ุงูุฑูุฒ ุฃู ูุง:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# nm -D /usr/sbin/mysqld | grep dispatch_command<font></font>
00000000005af770 T <font></font>
_Z16dispatch_command19enum_server_commandP3THDPcjbb<font></font>
<font></font>
root@localhost:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:_Z16dispatch_command19enum_server_commandP3THDPcjbb { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
select @@version_comment limit 1<font></font>
select 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฌุฏ ูุซู ูุฐุง ุงูุฑูุฒ ุ ูููู ุจูุง ุฃู MySQL ูุชู ุชุฌููุนู ูู C ++ ุ ูุฅูู ูุชู ุงุณุชุฎุฏุงู mangling ููุงู. </font><font style="vertical-align: inherit;">ูู ุงููุงูุนุ ูุฅู ุงูุงุณู ุงูุญุงูู ูููุธููุฉ ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ูู ูุฐุง ุงูุฃูุฑุ ููููุง ููู: </font></font><code>_Z16dispatch_command19enum_server_commandP3THDPcjbb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุชุณุชุฎุฏูู ูู ูุธููุฉ ุ ูููููู ุงูุงุชุตุงู ูุงูุญุตูู ุนูู ุงููุชูุฌุฉ. </font><font style="vertical-align: inherit;">ูู ุงููุธุงู ุงูุจูุฆู ุงููุซุงูู ุ ุชุฌุนู ุงูุนุฏูุฏ ูู ุงูุฃุฏูุงุช ูู ุงูุชุดููุฑ ุชููุงุฆููุง ุ ู bpfTrace ููุณุช ูุงุฏุฑุฉ ุจุนุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุชุจู ุฃูุถูุง ุฅูู ุงูุนูู </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎุงุต ุจู </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูู ุงูููู ุฃู MySQL ุ ูุงูุนุฏูุฏ ูู ุงูุญุฒู ุงูุฃุฎุฑู ุ ุชุฃุชู ุจุฏูู ุฑููุฒ ุฏููุงููููุฉ (ุฑููุฒ ุงูุชุตุญูุญ) - ุชุฃุชู ูู ุญุฒู ุฃุฎุฑู. </font><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุชุฑูุฏ ุงุณุชุฎุฏุงู ูุฐู ุงูุฃุญุฑู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุนูุงูุฉ </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฅูุง ููู ูุดุงูุฏูุง nm.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑูุงุจุท ูููุฏุฉ</font></font></b>
                        <div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">github.com/zoidbergwill/awesome-ebpf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">slideplayer.com/slide/12710510</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.brendangregg.com/ebpf.html</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">vger.kernel.org/netconf2018_files/BrendanGregg_netconf2018.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">www.brendangregg.com/Slides/Velocity2017_BPF_superpowers.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">lwn.net/Articles/740157</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">tracingsummit.org/w/images/8/82/Tracingsummit2018-bpftrace-robertson.pdf</a></li>
</ul></div>
                    </div><br>
<blockquote><i>   :</i>  ++ 25โ26    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>        ,     .    ,       ,            . <br>
<br>
<i>   :</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">++ Online</a>   .       5 900        ,      ,        -.<br>
<br>
<i>   :</i>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">DevOpsConf 2019</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HighLoad++ 2019</a> โ   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>. <br>
<br>
       โ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>, . </blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar500446/index.html">ุจุถุน ูููุงุช ุญูู R2DBC ู PostgreSQL</a></li>
<li><a href="../ar500448/index.html">ุจุฑูููุซููุณ: ุฑุตุฏ HTTP ูู ุฎูุงู ูุตุฏุฑ Blackbox</a></li>
<li><a href="../ar500450/index.html">ุตูุน ููุญุฉ ููุงุชูุญ MIDI ูู ูุฑูุจ ุฃุทูุงู ูุฏูู</a></li>
<li><a href="../ar500452/index.html">ุงูุชูููุฑ ุงูุนุงูู ูู ุงูุชุนูู ุงูุนููู</a></li>
<li><a href="../ar500454/index.html">"ูุง ุงููุฑุงุณูุ" ุฃู ูุชุญูู ูู ูุญุฏุฉ ุงูุชุญูู ุนุจุฑ ุงูุจููุชูุซ ุจุงุณุชุฎุฏุงู ุชุทุจูู ูุญููู ุนูู Xamarin (Android)</a></li>
<li><a href="../ar500458/index.html">ุงูููุฒุงุช ุงูุชูููุฉ ููููุงู ุนูู ุงูุฅูุชุฑูุช: ุญุฒูุฉ ุงููุจุชุฏุฆูู</a></li>
<li><a href="../ar500462/index.html">ุงูุชุดุงู ุชุบููุฑุงุช ุงููุดูุฏ ูุญูุธ ููุงุทุน ุงูููุฏูู h264 ุฅูู Raspberry Pi ุฏูู ูู ุงูุชุดููุฑ</a></li>
<li><a href="../ar500468/index.html">ุฏููู ููุฒุงุช ุฌุงูุง 8-14</a></li>
<li><a href="../ar500470/index.html">ุชูููู ุญู ุนููู ุงูุญุงูู ูุน SwiftUI. ุงูุฌุฒุก 3. ุงูุนูู ูุน ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ</a></li>
<li><a href="../ar500472/index.html">ููุฏ ุญุงู ููุช ุจุงูุซูู ูุฅูุณุงุญ ุงููุฌุงู. ุญูู ุขูุงู ุฌูููุง</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>