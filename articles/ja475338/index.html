<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍼 🎣 ❔ Pythonがなくても、KerasモデルとJavaがある場合 🛢️ 🤺 🛷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="みなさん、こんにちは！MLモデルの構築において、Pythonは今日、主導的な地位を占めており、データサイエンススペシャリストのコミュニティの間で広く人気があります[ 1 ]。
 
 ほとんどの開発者と同様に、Pythonはその単純さと簡潔な構文で私たちを魅了しています。人工ニューラルネットワークを使...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pythonがなくても、KerasモデルとJavaがある場合</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/naumen/blog/475338/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">みなさん、こんにちは！</font><font style="vertical-align: inherit;">MLモデルの構築において、Pythonは今日、主導的な地位を占めており、データサイエンススペシャリストのコミュニティの間で広く人気があります[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの開発者と同様に、Pythonはその単純さと簡潔な構文で私たちを魅了しています。</font><font style="vertical-align: inherit;">人工ニューラルネットワークを使用して機械学習の問題を解決するために使用します。</font><font style="vertical-align: inherit;">ただし、実際には、製品開発言語は必ずしもPythonであるとは限らないため、追加の統合問題を解決する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、Python言語のKerasモデルをJavaと関連付ける必要が生じたときに行ったソリューションについて説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが注意していること：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能にはKerasモデルとJavaがバンドルされています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeepLearning4jフレームワーク（略してDL4J）での作業の準備。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KerasモデルをDL4Jにインポートする（注意して、セクションには複数の洞察が含まれています）-レイヤーを登録する方法、インポートモジュールの制限、作業の結果を確認する方法。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜ読む？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初に時間を節約するために、同様の統合のタスクに直面している場合。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのソリューションがあなたに適しているかどうか、そして私たちの経験を再利用できるかどうかを確認するため。</font></font></li>
</ul><a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2m/2k/xj/2m2kxjbwgahv1gx0wejstn2qpjw.png" alt="画像代替"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
深層学習フレームワークの重要性に関する統合的な特性[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も人気のあるディープラーニングフレームワークの概要は、ここ[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]およびここ[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、これらのフレームワークのほとんどはPythonとC ++に基づいています。C++をカーネルとして使用して、基本的な高負荷の操作を高速化し、Pythonを対話インターフェイスとして使用して開発を高速化します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、多くの開発言語ははるかに広範です。 Javaは、大企業や組織の製品開発のリーダーです。ニューラルネットワーク用のいくつかの一般的なフレームワークには、JNI / JNAバインダーの形式でJava用のポートがありますが、この場合、各アーキテクチャ用のプロジェクトを構築する必要があり、クロスプラットフォームの問題におけるJavaの利点がぼやけています。このニュアンスは、複製ソリューションでは非常に重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の代替アプローチは、Jythonを使用してJavaバイトコードにコンパイルすることです。ただし、ここには欠点があります。サポートされているのは第2バージョンのPythonだけでなく、サードパーティのPythonライブラリを使用する機能にも制限があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Javaでのニューラルネットワークソリューションの開発を簡素化するために、DeepLearning4jフレームワーク（略してDL4J）が開発されています。 DL4は、Java APIに加えて、一連の事前トレーニング済みモデルを提供します[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。一般に、この開発ツールはTensorFlowと競合することが困難です。 TensorFlowは、より詳細なドキュメントと多数の例、技術的機能、コミュニティサイズ、および急速な開発により、DL4Jよりも優れています。それでも、Skymindが支持する傾向は非常に有望です。このツールのJavaにおける重要な競合他社はまだ見えていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DL4Jライブラリは、Kerasモデルのインポートを可能にする数少ない（1つだけではないにしても）ライブラリの1つであり、Kerasの通常のレイヤーで機能が拡張されます[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]。</font><font style="vertical-align: inherit;">DL4Jライブラリには、ニューラルネットワークMLモデル（dl4j-example）の実装例を含むディレクトリが含まれています。</font><font style="vertical-align: inherit;">私たちの場合、これらのモデルをJavaで実装することの微妙さはそれほど興味深いものではありません。</font><font style="vertical-align: inherit;">DL4Jメソッドを使用して、トレーニング済みのKeras / TFモデルをJavaにインポートすることに、より詳細な注意が払われます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事の始まり</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
始める前に、必要なプログラムをインストールする必要があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaバージョン1.7（64ビットバージョン）以降。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache Mavenプロジェクトビルドシステム。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択するIDE：Intellij IDEA、Eclipse、Netbeans。</font><font style="vertical-align: inherit;">開発者は最初のオプションを推奨します。また、利用可能なトレーニングの例についても説明します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git（プロジェクトをPCに複製するため）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
起動の例を含む詳細な説明は、ここ[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]またはビデオ[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルをインポートするために、DL4J開発者は</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KerasModelImport</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インポート</font><em><font style="vertical-align: inherit;">モジュール</font></em><font style="vertical-align: inherit;">（2016年10月に登場）の</font><font style="vertical-align: inherit;">使用を提案し</font><em><font style="vertical-align: inherit;">ます</font></em><font style="vertical-align: inherit;">。モジュールの機能は、Kerasのモデルの両方のアーキテクチャをサポートします。これは、シーケンシャル（Javaのアナログ-クラスMultiLayerNetwork）と機能（Javaのアナログ-クラスComputationGraph）です。モデルは、全体としてHDF5形式でインポートされるか、2つの個別のファイル（モデルの重みはh5拡張子、ニューラルネットワークアーキテクチャを含むjsonファイル）でインポートされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クイックスタートのために、DL4J開発者は、シーケンシャルタイプ[ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">9の</font></a><font style="vertical-align: inherit;">モデルのフィッシャーアイリスデータセットの簡単な例の段階的な分析を準備しました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]。</font><font style="vertical-align: inherit;">別のトレーニング例は、2つの方法（1：HDF5形式全体で、2：別のファイルで、モデルの重み（h5拡張子）とアーキテクチャ（json拡張子））でモデルをインポートする観点から検討され、続いてPythonおよびJavaモデルの結果の比較が行われました[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font><font style="vertical-align: inherit;">これで、インポートモジュールの実用的な機能の説明は終わりです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaにもTFがありますが、これは実験的な状態であり、開発者はその安定した動作を保証していません[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font><font style="vertical-align: inherit;">バージョン管理に問題があり、JavaのTFには不完全なAPIがあります。そのため、このオプションはここでは考慮されません。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オリジナルのKeras / TFモデルの特徴：</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニューラルネットワークのインポートは簡単です。</font><font style="vertical-align: inherit;">より詳細なコードでは、アーキテクチャがより複雑なニューラルネットワークの統合の例を分析します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このモデルの実用的な側面に入る必要はありません。これは、レイヤー（特にLambdaレイヤーの登録）、インポートモジュールの微妙な点と制限、およびDL4J全体の説明の観点から示されます。</font><font style="vertical-align: inherit;">実際には、上記のニュアンスはネットワークアーキテクチャの調整を必要とする場合があり、DL4Jを介してモデルを起動するアプローチを放棄する場合もあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルの特性：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデルの</font><font style="vertical-align: inherit;">タイプ-機能的（分岐のあるネットワーク）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トレーニングパラメーター（バッチのサイズ、元号の数）は小さく選択されます。バッチのサイズ-100、元号の数-10、元号あたりのステップ-10。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 13層の場合、層の概要を図に示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/85/of/hn/85ofhnioy_usez2msaeqpt2whja.png" alt="画像代替"></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">短いレイヤーの説明</font></font></b><div class="spoiler_text"><ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">input_1-入力層、2次元テンソル（行列で表される）を受け入れます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lambda_1-ユーザーレイヤー。この場合、テンソルのTFのパディングを同じ数値にします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">embedding_1-テキストデータの入力シーケンスの埋め込み（ベクトル表現）を構築します（2次元テンソルを3次元に変換）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conv1d_1-1-Dたたみ込み層。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lstm_2-LSTMレイヤー（embedding_1（No. 3）レイヤーの後）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lstm_1-LSTMレイヤー（conv1d（No. 4）レイヤーの後）。</font></font></li>
<li>lambda_2 —  ,      lstm_2 (№5)  (,  padding  lambda_1 (№2) );</li>
<li>lambda_3 —  ,      lstm_1 (№6)  conv1d_1 (№4)  (,  padding  lambda_1 (№2) );</li>
<li>concatenate_1 —   (№7)  (№8) ;</li>
<li>dense_1 —    8       «elu»;</li>
<li>batch_normalization_1 —  -;</li>
<li>dense_2 —    1      «sigmoid»;</li>
<li>lambda_4 —  ,      (squeeze  TF).</li>
</ol></div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">損失関数-binary_crossentropy</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mo stretchy=&quot;false&quot;>(</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow></msub><mo>&amp;#x22C5;</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22C5;</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><msub><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="60.823ex" height="7.259ex" viewBox="0 -1831.9 26187.7 3125.5" role="img" focusable="false" style="vertical-align: -3.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6F" x="298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-73" x="784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-73" x="1253" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-3D" x="2000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-2212" x="3057" y="0"></use><g transform="translate(3835,0)"><g transform="translate(120,0)"><rect stroke="none" width="1008" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-31" x="254" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-4E" x="60" y="-686"></use></g></g><g transform="translate(5250,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJSZ2-2211" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-31" x="771" y="-1541"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-4E" x="577" y="1627"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-28" x="6695" y="0"></use><g transform="translate(7084,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-72" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-75" x="812" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="1385" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-22C5" x="9207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="9707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6F" x="10006" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-67" x="10491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-28" x="10972" y="0"></use><g transform="translate(11361,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-72" x="503" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="955" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-64" x="1421" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-29" x="13327" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-2B" x="13939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-28" x="14939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-31" x="15329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-2212" x="16052" y="0"></use><g transform="translate(17052,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-72" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-75" x="812" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="1385" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-29" x="18953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-22C5" x="19564" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="20065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6F" x="20363" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-67" x="20849" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-28" x="21329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-31" x="21719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-2212" x="22442" y="0"></use><g transform="translate(23442,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-79" x="0" y="0"></use><g transform="translate(490,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-72" x="503" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="955" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-64" x="1421" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-29" x="25408" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-29" x="25798" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo>−</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>N</mi></mrow></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow></msub><mo>⋅</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi></mrow></msub><mo stretchy="false">)</mo><mo>⋅</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msub><mi>y</mi><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>r</mi><mi>e</mi><mi>d</mi></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">loss =- \frac{1}{N} \sum_{1}^{N}(y_{true}\cdot log(y_{pred})+ (1-y_{true})\cdot log(1-y_{pred})) </script></p><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデル品質メトリック-調和平均（Fメジャー）</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo>=</mo><mn>2</mn><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>&amp;#x00D7;</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.251ex" height="5.384ex" viewBox="0 -1455.1 11302.5 2318.2" role="img" focusable="false" style="vertical-align: -2.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-3D" x="1027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-32" x="2083" y="0"></use><g transform="translate(2584,0)"><g transform="translate(120,0)"><rect stroke="none" width="8478" height="60" x="0" y="220"></rect><g transform="translate(60,676)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-72" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="1203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-63" x="1669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-69" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-73" x="2448" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-69" x="2918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6F" x="3263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6E" x="3749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-D7" x="4571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-52" x="5572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="6331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-63" x="6798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-61" x="7231" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="7761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="8059" y="0"></use></g><g transform="translate(60,-686)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-72" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="1203" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-63" x="1669" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-69" x="2103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-73" x="2448" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-69" x="2918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6F" x="3263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6E" x="3749" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMAIN-2B" x="4571" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-52" x="5572" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-65" x="6331" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-63" x="6798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-61" x="7231" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="7761" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/naumen/blog/475338/&amp;usg=ALkJrhg_I7LfsH3rNwOzOXTFnb53ew4h1Q#MJMATHI-6C" x="8059" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo>=</mo><mn>2</mn><mfrac><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>×</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mi>c</mi><mi>i</mi><mi>s</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo>+</mo><mi>R</mi><mi>e</mi><mi>c</mi><mi>a</mi><mi>l</mi><mi>l</mi></mrow></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2">F = 2 \frac{Precision \times Recall}{Precision + Recall} </script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、品質指標の問題はインポートの正確さほど重要ではありません。</font><font style="vertical-align: inherit;">インポートの正確さは、推論モードで動作するPythonおよびJava NNモデルの結果の一致によって決まります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DL4JにKerasモデルをインポートします。</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用されているバージョン：Tensorflow 1.5.0およびKeras 2.2.5。</font><font style="vertical-align: inherit;">私たちの場合、PythonのモデルはHDF5ファイルによって全体としてアップロードされました。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># saving model</span>
model1.save(<span class="hljs-string">'model1_functional.h5'</span>)  </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルをDL4Jにインポートする場合、インポートモジュールは追加のパラメーターを渡すためのAPIメソッドを提供しません。テンソルフローモジュールの名前（モデルの構築時に関数がインポートされた場所）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に言えば、DL4JはKeras関数でのみ機能します。完全なリストはKerasインポートセクション[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]に記載されているため、モデルがTFのメソッドを使用してKerasで作成された場合（この場合のように）、インポートモジュールはそれらを識別できません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデルをインポートするための一般的なガイドライン</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
明らかに、Kerasモデルでの作業は、その繰り返しのトレーニングを意味します。</font><font style="vertical-align: inherit;">このため、時間を節約するために、トレーニングパラメーターが設定され（1エポック）、エポックごとに1ステップ（steps_per_epoch）が設定されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に、一意のユーザーレイヤーとまれなレイヤーの組み合わせを使用してモデルを最初にインポートする場合、成功する可能性は低いため、プロセスを実行することをお勧めします繰り返しインポート：エラーなしでJavaでモデルをインポートして実行できるようになるまでKerasモデルのレイヤー数を減らし、Kerasモデルに一度に1つのレイヤーを追加し、結果のモデルをJavaにインポートして、発生したエラーを解決します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TF損失関数の使用</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Javaにインポートする場合、トレーニング済みモデルの損失関数はKerasからのものでなければならないことを証明するために、（custom_loss関数に最も類似した）tensorflowからのlog_lossを使用します。</font><font style="vertical-align: inherit;">コンソールに次のエラーが表示されます。</font></font><br>
<br>
<pre><code class="java hljs">Exception in thread <span class="hljs-string">"main"</span>
org.deeplearning4j.nn.modelimport.keras.exceptions.UnsupportedKerasConfigurationException: Unknown Keras loss function log_loss.</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TFメソッドをKerasで置き換える</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、TFモジュールの関数は2回使用され、すべての場合にラムダレイヤーでのみ見つかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラムダレイヤーは、任意の関数を追加するために使用されるカスタムレイヤーです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルには4つのラムダレイヤーしかありません。実際、JavaではこれらのラムダレイヤーをKerasLayer.registerLambdaLayerを通じて手動で登録する必要があります（それ以外の場合は、エラーが発生します[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]）。この場合、ラムダ層内で定義された関数は、対応するJavaライブラリの関数でなければなりません。 Javaでは、これらのレイヤーを登録する例や、これに関する包括的なドキュメントはありません。例はこちら[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]です。一般的な考慮事項は、[例から借りた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Javaでのすべてのモデルラムダレイヤーの登録を検討します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。1）テンソル（行列）に定数を指定された方向（この場合は左と右）に沿って有限回数追加するラムダレイヤー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このレイヤー</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">入力はモデルの入力に接続されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.1）Pythonレイヤー：</font></font><br>
<br>
<pre><code class="python hljs">padding = keras.layers.Lambda(<span class="hljs-keyword">lambda</span> x: tf.pad(x, paddings=[[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">10</span>, <span class="hljs-number">10</span>]],<font></font>
                                                       constant_values=<span class="hljs-number">1</span>))(embedding)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかりやすくするために、このレイヤーの関数、python-layersの数値は明示的に置き換えられています。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意のテンソル2x2の例の表</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td> 2x2</td>
<td> 2x22</td>
</tr>
<tr>
<td>[[<strong>1</strong>,<strong>2</strong>],<br>
 [<strong>3</strong>,<strong>4</strong>]]</td>
<td>[[37, 37, 37, 37, 37, 37, 37, 37, 37, 37, <strong>1</strong>, <strong>2</strong>, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37],<br>
 [37, 37, 37, 37, 37, 37, 37, 37, 37, 37, <strong>3</strong>, <strong>4</strong>, 37, 37, 37, 37, 37, 37, 37, 37, 37, 37]]</td>
</tr>
</tbody></table></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.2）Javaレイヤー：</font></font><br>
<br>
<pre><code class="java hljs">KerasLayer.registerLambdaLayer(<span class="hljs-string">"lambda_1"</span>, <span class="hljs-keyword">new</span> SameDiffLambdaLayer()<font></font>
{<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> SDVariable <span class="hljs-title">defineLayer</span><span class="hljs-params">(SameDiff sameDiff, SDVariable sdVariable)</span>
    </span>{
        <span class="hljs-keyword">return</span> sameDiff.nn().pad(sdVariable, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[][]{ { <span class="hljs-number">0</span>, <span class="hljs-number">0</span> }, { <span class="hljs-number">10</span>, <span class="hljs-number">10</span> }}, <span class="hljs-number">1</span>);<font></font>
    }<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> InputType <span class="hljs-title">getOutputType</span><span class="hljs-params">(<span class="hljs-keyword">int</span> layerIndex, InputType inputType)</span>
    </span>{
        <span class="hljs-keyword">return</span> InputType.feedForward(<span class="hljs-number">20</span>);<font></font>
    }<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Javaで登録されているすべてのラムダレイヤーでは、2つの関数が再定義されています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の「definelayer」関数は、使用するメソッドを担当します（明らかな事実ではありません。このメソッドは、nn（）バックエンドの下からのみ使用できます）。</font><font style="vertical-align: inherit;">getOutputTypeは、登録済みレイヤーの出力を担当します。引数は数値パラメーターです（ここでは20ですが、一般的に任意の整数値が許可されています）。</font><font style="vertical-align: inherit;">一貫性がないように見えますが、このように機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2）テンソル（行列）を特定の方向（この場合は左と右）に沿ってトリミングするためのラムダレイヤー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、LSTMレイヤーがラムダレイヤーの入力に入力されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.1）Pythonレイヤー：</font></font><br>
<br>
<pre><code class="python hljs">slicing_lstm = keras.layers.Lambda(<span class="hljs-keyword">lambda</span> x: x[:, <span class="hljs-number">10</span>:<span class="hljs-number">-10</span>])(lstm)</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意のテンソル2x22x5の例の表</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td> 2x22x5</td>
<td> 2x2x5</td>
</tr>
<tr>
<td>[[[1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>], [<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5]],<br>
 <br>
 [[1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>], [<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5], [1,2,3,4,5]]]</td>
<td>[[[<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>], [<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>]],<br>
 [[<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>], [<strong>1</strong>,<strong>2</strong>,<strong>3</strong>,<strong>4</strong>,<strong>5</strong>]]]</td>
</tr>
</tbody></table></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.2）Javaレイヤー：</font></font><br>
<br>
<pre><code class="java hljs">KerasLayer.registerLambdaLayer(<span class="hljs-string">"lambda_2"</span>, <span class="hljs-keyword">new</span> SameDiffLambdaLayer()<font></font>
{<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> SDVariable <span class="hljs-title">defineLayer</span><span class="hljs-params">(SameDiff sameDiff, SDVariable sdVariable)</span>
    </span>{
        <span class="hljs-keyword">return</span> sameDiff.stridedSlice(sdVariable, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{ <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span> }, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{ (<span class="hljs-keyword">int</span>)sdVariable.getShape()[<span class="hljs-number">0</span>], (<span class="hljs-keyword">int</span>)sdVariable.getShape()[<span class="hljs-number">1</span>], (<span class="hljs-keyword">int</span>)sdVariable.getShape()[<span class="hljs-number">2</span>]-<span class="hljs-number">10</span>}, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{ <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span> });<font></font>
    }<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> InputType <span class="hljs-title">getOutputType</span><span class="hljs-params">(<span class="hljs-keyword">int</span> layerIndex, InputType inputType)</span>
    </span>{
        <span class="hljs-keyword">return</span> InputType.recurrent(<span class="hljs-number">60</span>);<font></font>
    }<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このレイヤーの場合、InputTypeパラメーターがフィードフォワード（20）から反復型（60）に変更されました。</font><font style="vertical-align: inherit;">繰り返し引数では、数値は任意の整数（ゼロ以外）にすることができますが、次のラムダレイヤーの繰り返し引数との合計は160になります（つまり、次のレイヤーでは、引数は100でなければなりません）。</font><font style="vertical-align: inherit;">数値160は、次元を持つテンソル（None、None、160）がレイヤーの入力concatenate_1で受信される必要があるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力文字列のサイズに応じて、最初の2つの引数は変数です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3）テンソル（行列）を特定の方向（この場合は左と右）に沿ってトリミングするためのラムダレイヤー：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LSTMレイヤーはこのレイヤーの前にあり、その前にconv1_dレイヤーがあります</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.1）Pythonレイヤー：</font></font><br>
<br>
<pre><code class="python hljs">slicing_convolution = keras.layers.Lambda(<span class="hljs-keyword">lambda</span> x: x[:,<span class="hljs-number">10</span>:<span class="hljs-number">-10</span>])(lstm_conv)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この操作は、2.1項の操作と完全に同じです</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。3.2）Javaレイヤー：</font></font><br>
<br>
<pre><code class="java hljs">KerasLayer.registerLambdaLayer(<span class="hljs-string">"lambda_3"</span>, <span class="hljs-keyword">new</span> SameDiffLambdaLayer()<font></font>
{<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> SDVariable <span class="hljs-title">defineLayer</span><span class="hljs-params">(SameDiff sameDiff, SDVariable sdVariable)</span>
    </span>{
        <span class="hljs-keyword">return</span> sameDiff.stridedSlice(sdVariable, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{ <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span> }, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{ (<span class="hljs-keyword">int</span>)sdVariable.getShape()[<span class="hljs-number">0</span>], (<span class="hljs-keyword">int</span>)sdVariable.getShape()[<span class="hljs-number">1</span>], (<span class="hljs-keyword">int</span>)sdVariable.getShape()[<span class="hljs-number">2</span>]-<span class="hljs-number">10</span>}, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{ <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span> });<font></font>
    }<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> InputType <span class="hljs-title">getOutputType</span><span class="hljs-params">(<span class="hljs-keyword">int</span> layerIndex, InputType inputType)</span>
    </span>{
        <span class="hljs-keyword">return</span> InputType.recurrent(<span class="hljs-number">100</span>);<font></font>
    }<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このラムダレイヤーは、recurrent（100）パラメーターを除いて、以前のラムダレイヤーを繰り返します。</font><font style="vertical-align: inherit;">なぜ「100」が取られるのかは、前のレイヤーの説明に記載されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポイント2と3では、ラムダレイヤーがLSTMレイヤーの後にあるため、リカレントタイプが使用されます。</font><font style="vertical-align: inherit;">ただし、ラムダレイヤーの前にLSTMではなくconv1d_1があった場合は、再発を設定する必要があります（一貫性がないように見えますが、そのように機能します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4）前の層の圧縮のためのラムダ層：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完全に接続された層がこの層の入力に入ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.1）Pythonレイヤー：</font></font><br>
<br>
<pre><code class="python hljs"> squeeze = keras.layers.Lambda(<span class="hljs-keyword">lambda</span> x: tf.squeeze(<font></font>
        x, axis=<span class="hljs-number">-1</span>))(dense)</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意のテンソル2x4x1の例の表</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody><tr>
<td> 2x4x1</td>
<td> 2x4</td>
</tr>
<tr>
<td>[[<strong>[1], [2], [3], [4]]</strong>,<br>
<br>
[<strong>[1], [2], [3], [4]</strong>]]</td>
<td>[[<strong>1, 2, 3, 4</strong>],<br>
 [<strong>1, 2, 3, 4</strong>]]</td>
</tr>
</tbody></table></div><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.2）Javaレイヤー：</font></font><br>
<br>
<pre><code class="java hljs">KerasLayer.registerLambdaLayer(<span class="hljs-string">"lambda_4"</span>, <span class="hljs-keyword">new</span> SameDiffLambdaLayer()<font></font>
{<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> SDVariable <span class="hljs-title">defineLayer</span><span class="hljs-params">(SameDiff sameDiff, SDVariable sdVariable)</span>
    </span>{
        <span class="hljs-keyword">return</span> sameDiff.squeeze(sdVariable, -<span class="hljs-number">1</span>);<font></font>
    }<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> InputType <span class="hljs-title">getOutputType</span><span class="hljs-params">(<span class="hljs-keyword">int</span> layerIndex, InputType inputType)</span>
    </span>{
        <span class="hljs-keyword">return</span> InputType.feedForward(<span class="hljs-number">15</span>);<font></font>
    }<font></font>
});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このレイヤーの入力は、完全に接続されたレイヤー、このfeedForwardレイヤーのInputType（15）を受け取ります。パラメーター15はモデルに影響しません（任意の整数値が許可されます）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インポートしたモデルをダウンロード</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルはComputationGraphモジュールを介して読み込まれます。</font></font><br>
<br>
<pre><code class="java hljs">ComputationGraph model = org.deeplearning4j.nn.modelimport.keras.KerasModelImport.importKerasModelAndWeights(<span class="hljs-string">"/home/user/Models/model1_functional.h5"</span>);</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaコンソールへのデータの出力</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Javaでは、特にDL4Jでは、テンソルは、PythonのNumpyライブラリのアナログと見なすことができる高性能Nd4jライブラリの配列として書き込まれます。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力文字列が4文字で構成されているとしましょう。</font><font style="vertical-align: inherit;">シンボルは、たとえば、いくつかの番号付けに従って、（インデックスとして）整数として表されます。</font><font style="vertical-align: inherit;">それらに対して、対応する次元（4）の配列が作成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、4つのインデックスエンコードされた文字</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
があります：</font><font style="vertical-align: inherit;">1、3、4、8。Javaの</font><font style="vertical-align: inherit;">コード：</font></font><br>
<br>
<pre><code class="java hljs">INDArray myArray = Nd4j.zeros(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>); <span class="hljs-comment">// one row 4 column array</span>
myArray.putScalar(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);<font></font>
myArray.putScalar(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>);<font></font>
myArray.putScalar(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>);<font></font>
myArray.putScalar(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>,<span class="hljs-number">8</span>);<font></font>
INDArray output = model.outputSingle(myArray);<font></font>
<font></font>
System.out.println(output);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソールには、各入力要素の確率が表示されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インポートされたモデル</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元のニューラルネットワークのアーキテクチャと重みは、エラーなしでインポートされます。</font><font style="vertical-align: inherit;">推論モードのKerasとJavaニューラルネットワークモデルの両方が結果に同意します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pythonモデル：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/om/sk/oe/omskoecug43s_gop5osadysm21m.png" alt="画像代替"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Javaモデル：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/es/qc/px/esqcpxwnhjdgrhqapedjukmvfec.png" alt="画像代替"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、モデルのインポートはそれほど単純ではありません。</font><font style="vertical-align: inherit;">以下では、場合によっては重要になる可能性があるいくつかのポイントを簡単に取り上げます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1）パッチ正規化レイヤーは、再帰レイヤーの後に機能しません。</font><font style="vertical-align: inherit;">問題はほぼ1年間GitHubで公開されています[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font><font style="vertical-align: inherit;">たとえば、この層をモデル（接触層の後）に追加すると、次のエラーが発生します。</font></font><br>
<br>
<pre><code class="java hljs">Exception in thread <span class="hljs-string">"main"</span> java.lang.IllegalStateException: Invalid input type: Batch norm layer expected input of type CNN, CNN Flat or FF, <span class="hljs-function">got <span class="hljs-title">InputTypeRecurrent</span><span class="hljs-params">(<span class="hljs-number">160</span>)</span> <span class="hljs-keyword">for</span> layer index -1, layer name </span>= batch_normalization_1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、モデルは動作を拒否し、conv1dの後に正規化の層が追加されたときに同様のエラーが発生しました。</font><font style="vertical-align: inherit;">完全に接続されたレイヤーの後、追加は問題なく機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2）完全に接続されたレイヤーの後、フラット化レイヤーを設定するとエラーが発生します。</font><font style="vertical-align: inherit;">同様のエラーがStackoverflow [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://stackoverflow.com/questions/55753493/problem-opening-a-keras-model-in-java-with-deeplearning4j-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]で</font><font style="vertical-align: inherit;">述べられています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">6か月間、フィードバックはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確かに、これはDL4Jを操作するときに遭遇する可能性があるすべての制限ではありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルの最終的な動作時間はここにあります[ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論として、DL4Jに痛みを伴わずにトレーニングされたKerasモデルをインポートできるのは、単純なケース（もちろん、そのような経験がなく、Javaについて十分な知識がある場合）に限られます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザー層が少ないほど、モデルのインポートは簡単になりますが、ネットワークアーキテクチャが複雑な場合は、DL4Jへの転送に多くの時間を費やす必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発されたインポートモジュールのドキュメンタリーサポート、関連するサンプルの数は、かなり湿っているように見えました。各段階で、新しい質問が発生します-Lambdaレイヤーの登録方法、パラメーターの有意性など。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニューラルネットワークアーキテクチャの複雑さとレイヤー間の相互作用の速度、レイヤーの複雑さを考えると、DL4Jは、人工ニューラルネットワークを操作するためのトップエンドフレームワークのレベルに到達するために、まだ活発に開発されていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれにせよ、彼らは彼らの仕事に敬意を払うに値するものであり、この方向の発展の継続を見たいと思っています。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考文献</font></font></strong><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人工知能分野に最適なプログラミング言語のトップ5</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディープラーニングフレームワークパワースコア2018</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ディープラーニングソフトウェアの比較</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 人工知能の世界のトップ9フレームワーク</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeepLearning4j。</font><font style="vertical-align: inherit;">利用可能なモデル</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeepLearning4j。</font><font style="vertical-align: inherit;">Kerasモデルのインポート。</font><font style="vertical-align: inherit;">サポートされている機能。</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deeplearning4j。</font><font style="vertical-align: inherit;">クイックスタート</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> レクチャー0：DeepLearning4jの使用開始</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Deeplearing4j：Kerasモデルのインポート</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">講義7 | </font><font style="vertical-align: inherit;">Kerasモデルのインポート</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> TensorFlow for Javaをインストールする </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  Keras  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> DeepLearning4j: Class KerasLayer</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> DeepLearning4j: SameDiffLambdaLayer.java</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> DeepLearning4j: KerasLambdaTest.java</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> DeepLearning4j: BatchNorm with RecurrentInputType</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://stackoverflow.com/questions/55753493/problem-opening-a-keras-model-in-java-with-deeplearning4j-"> StackOverFlow: Problem opening a keras model in java with deeplearning4j (https://deeplearning4j.org/)</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> GitHub:     </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Skymind: Comparison of AI Frameworks</a></li>
</ol><br></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja475326/index.html">詐欺師がこれを行う方法。不正行為ツール</a></li>
<li><a href="../ja475328/index.html">オペレーションTA505、パート4。双子</a></li>
<li><a href="../ja475330/index.html">21,000ドルの賞金プールを備えたMiroプラットフォームプラグインコンテスト</a></li>
<li><a href="../ja475332/index.html">3. Extremeスイッチのエンタープライズネットワーク設計</a></li>
<li><a href="../ja475336/index.html">正しく終了する方法（手順）</a></li>
<li><a href="../ja475340/index.html">AMDがThreadripperプロセッサを発表-最速のデスクトップCPU</a></li>
<li><a href="../ja475342/index.html">Andrey Sebrant（Yandex）：人工知能の時代のビジネス</a></li>
<li><a href="../ja475346/index.html">米軍が心を読もうとするにつれて</a></li>
<li><a href="../ja475354/index.html">ハッピーセキュリティスペシャリストデー</a></li>
<li><a href="../ja475358/index.html">アルメニアのIT部門の給与分析と、TOP10 IT企業の空席</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>