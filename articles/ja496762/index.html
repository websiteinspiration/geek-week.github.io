<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤒 👉🏼 🗒️ 粒子ベースの表面侵食シミュレーション 🦒 👩🏿‍🎓 ♎️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注：プロジェクトの完全なソースコード、およびその使用と読み取りに関する説明は、Github [ こちら ]にあります。
 私は、修士論文から一休みして、長年延期してきたもの、つまりTerritoryプロジェクトの地形生成の改善に取り組みました。それを実装する簡単な方法は水力侵食です。それが私が作成し...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>粒子ベースの表面侵食シミュレーション</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496762/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/l6/kc/cfl6kcm3exssgmt2bklqvwyt1ls.gif"></div><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：プロジェクトの完全なソースコード、およびその使用と読み取りに関する説明は、Github [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]にあります。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は、修士論文から一休みして、長年延期してきたもの、つまり</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Territoryプロジェクトの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地形生成の改善に取り組みました</font><font style="vertical-align: inherit;">。それを実装する簡単な方法は水力侵食です。それが私が作成した理由です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1日ソフトウェアパズルの場合、これはかなりうまくいき、予想したほど複雑ではありませんでした。結果はすぐに生成され、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物理的な意味があり、</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">驚くほどに見えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、粒子ベースの正方形メッシュの油圧侵食システムの簡単なC ++実装について説明します。</font><font style="vertical-align: inherit;">実装の基礎となるすべての物理的な正当化を説明し、数学について話します。</font><font style="vertical-align: inherit;">コードは非常にシンプルで（侵食の数学では約20行）、実装が迅速であるため、地形のリアルさを高めたい人にはお勧めです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Homebrew OpenGl Engineの簡略</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版</font><font style="vertical-align: inherit;">を使用してレンダリングされます。これは、ポイントの2D配列を高さマップとしてレンダリングするように変更しました。</font><font style="vertical-align: inherit;">C ++でOpenGLを学習することに興味がある場合は、エンジンの簡略版がはるかに理解しやすくなります。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの水力侵食源に触発されて、粒子を使用することが最も論理的であると私は決めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
粒子ベースの侵食は非常に簡単です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表面のランダムなポイントにパーティクルを作成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準の古典力学を使用して、表面に沿って移動/スライドします（以下で説明します）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表面と粒子の間の物質/堆積物の移動を実行します（これについても以下で説明します）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粒子の一部を蒸発させる</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粒子がマップの外にあるか小さすぎる場合は、それを破壊します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">希望する数のパーティクルでこのプロセスを繰り返します。</font></font></li>
</ul><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：システムパラメータについては、対応するセクションで説明します。</font><font style="vertical-align: inherit;">最も重要なのは、</font></font><code>dt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのパラメーターを比例的にスケーリング</font><font style="vertical-align: inherit;">するタイムステップ係数</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">これにより、パラメーターの相対的なスケールを変更せずに、シミュレーションの頻度を上げることができます（ノイズが増える代わりに）。</font><font style="vertical-align: inherit;">これは、以下のコードで確認できます。</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">粒子</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うために、必要なすべてのプロパティを含む単純なパーティクル構造を作成しました。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Particle</span>{</span>
  <span class="hljs-comment">//Construct particle at position _pos</span><font></font>
  Particle(glm::vec2 _pos){ pos = _pos; }<font></font>
<font></font>
  glm::vec2 pos;<font></font>
  glm::vec2 speed = glm::vec2(<span class="hljs-number">0.0</span>); <span class="hljs-comment">//Initialize to 0</span><font></font>
<font></font>
  <span class="hljs-keyword">float</span> volume = <span class="hljs-number">1.0</span>;   <span class="hljs-comment">//Total particle volume</span>
  <span class="hljs-keyword">float</span> sediment = <span class="hljs-number">0.0</span>; <span class="hljs-comment">//Fraction of volume that is sediment!</span>
};</code></pre><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：GLMライブラリに慣れていない場合は、ベクター操作を実行するために使用します。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パーティクルには、その動きを決定する位置と速度があります。</font><font style="vertical-align: inherit;">さらに、ボリュームとフラクションがあり、ボリュームのどれだけが堆積岩であるかを決定します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ムーブメント：古典的な力学</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表面上の粒子の動きは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古典力学</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してシミュレートされ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">つまり、</font><font style="vertical-align: inherit;">粒子の</font><font style="vertical-align: inherit;">位置</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xは</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、速度</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって変化し、加速度</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって変化し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd2/b52/84b/fd2b5284b87f7ddcaf420ae80dcffffa.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0d/a43/2cb/d0da432cb54f1e8992bffc1fc7cbe960.png"></div><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：太字は、値がベクトルであることを示します。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、力は質量と加速度の積に等しいことも知っています。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ad9/27b/bd6/ad927bbd6bc3be37ff5873488aab2759.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
粒子は重力によって下向きの加速を受けますが、それは表面上にあるため、下向きの加速は不可能です。</font><font style="vertical-align: inherit;">したがって、これの代わりに、粒子は</font><font style="vertical-align: inherit;">表面に沿って向けられ、表面の法線に比例</font><font style="vertical-align: inherit;">する力</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fを</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受け</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、加速度</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aは</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、表面</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nの</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法線ベクトルを</font><font style="vertical-align: inherit;">粒子の質量で除算したものに</font><font style="vertical-align: inherit;">比例する</font><font style="vertical-align: inherit;">と言え</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/321/54e/15c/32154e15c0a35751375f382938b8dd37.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、kは比例定数、mは粒子の質量です。</font><font style="vertical-align: inherit;">質量が密度を乗じた体積に等しい場合、古典力学を使用して粒子運動の完全なシステムを取得します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... particle "drop" was spawned above at random position</span><font></font>
<font></font>
glm::ivec2 ipos = drop.pos; <span class="hljs-comment">//Floored Droplet Initial Position</span>
glm::vec3 n = surfaceNormal(ipos.x, ipos.y);  <span class="hljs-comment">//Surface Normal</span><font></font>
<font></font>
<span class="hljs-comment">//Accelerate particle using classical mechanics</span><font></font>
drop.speed += dt*glm::vec2(n.x, n.z)/(drop.volume*density);<font></font>
drop.pos   += dt*drop.speed;<font></font>
drop.speed *= (<span class="hljs-number">1.0</span>-dt*friction);  <span class="hljs-comment">//Friction Factor</span><font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：パーティクルモーション後の速度は、摩擦ベクトルによって減少します。</font><font style="vertical-align: inherit;">時間ステップ係数がここに含まれていることに注意してください。</font><font style="vertical-align: inherit;">パーティクルは、加速度を使用してモーションをシミュレートするため、パーティクルには密度に比例する独自の慣性があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆積岩の形成過程：物質移動</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
堆積岩の形成のプロセスは、堆積岩が地球から粒子に移動し、粒子が配置されている点に戻るときに物理的に発生します（「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物質移動</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
化学技術では、2つの相（この場合、地表面と水滴）間の物質移動（つまり、時間の経過に伴う物質/堆積物の変化）は、通常、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">物質移動係数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して記述さ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">れ</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物質移動は、濃度cと平衡濃度c_eqの差に比例します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb1/a01/b90/fb1a01b906f182238079f25582725583.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、kは比例定数（物質移動係数）です。</font><font style="vertical-align: inherit;">平衡と実際の濃度の間のこの違いは、しばしば「駆動力」と呼ばれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平衡濃度が現在よりも高い場合、粒子は堆積岩を吸収します。</font><font style="vertical-align: inherit;">低い場合は、それらを失います。</font><font style="vertical-align: inherit;">それらが等しい場合、変更は発生しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物質移動係数はさまざまな方法で解釈できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェーズ間の遷移の頻度として（ここでは「堆積速度」）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">液滴濃度が平衡濃度になる傾向がある割合</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムは、平衡濃度の決定に完全に依存しています。</font><font style="vertical-align: inherit;">定義に応じて、システムは堆積岩堆積の異なるダイナミクスを示します。</font><font style="vertical-align: inherit;">私の実装では、下に移動すると平衡濃度が高くなり、速く移動すると、粒子の体積に比例します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//Compute Equilibrium Sediment Content</span>
<span class="hljs-keyword">float</span> c_eq = drop.volume*glm::length(drop.speed)*(heightmap[ipos.x][ipos.y]-heightmap[(<span class="hljs-keyword">int</span>)drop.pos.x][(<span class="hljs-keyword">int</span>)drop.pos.y]);<font></font>
<font></font>
<span class="hljs-keyword">if</span>(c_eq &lt; <span class="hljs-number">0.0</span>) c_eq = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
<span class="hljs-comment">//Compute Capacity Difference ("Driving Force")</span>
<span class="hljs-keyword">float</span> cdiff = c_eq - drop.sediment;<font></font>
<font></font>
<span class="hljs-comment">//Perform the Mass Transfer!</span><font></font>
drop.sediment += dt*depositionRate*cdiff;<font></font>
heightmap[ipos.x][ipos.y] -= dt*drop.volume*depositionRate*cdiff;<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：粒子内部の濃度の変化は、物質移動方程式によって完全に記述されます。</font><font style="vertical-align: inherit;">高さマップの変化は、粒子の体積でさらに乗算されます。これは、濃度ではなく質量に比例して変更するためです（濃度は体積で乗算されます）。</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他の側面</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
高さマップは、ランダムシードを持つマルチレイヤーパーリンノイズによって初期化されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各タイムステップの終わりに、粒子は蒸発率に従って少し質量を失います。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span><font></font>
<font></font>
drop.volume *= (<span class="hljs-number">1.0</span>-dt*evapRate);<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプロセスは、ランダムな場所で作成され、個別にシミュレートされた数千のパーティクルに対して繰り返されます（私の場合、計算はCPUで順次実行されます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のデフォルトの実装には、適切なパラメータのセットが含まれています。</font><font style="vertical-align: inherit;">20万個の粒子の後、侵食は非常に良く見えます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
侵食プロセスの完成したコードは、コメントなしで約20行です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、10サンプルの「前後」の比較です。</font><font style="vertical-align: inherit;">シミュレーションでは、標高に非常に美しい尾根が生成されます。堆積岩がいくつかの尾根の側面に堆積し、美しい高原の作成につながります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/983/70f/b95/98370fb957b09af4303e6c0d1df51587.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前後10の比較の選択。</font><font style="vertical-align: inherit;">私が書いたシェーダーは、入力で2つの色を受け取ります。</font><font style="vertical-align: inherit;">シャドウマッピング、距離依存のフォグ、フォンシェーディングも実装しました。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下に、結果を含む10個の（異なる）サンプルを示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/de6/eab/1cb/de6eab1cb6114ec31f27d9ebbc931be1.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに10個のサンプル結果。</font><font style="vertical-align: inherit;">一部のフォーメーションが類似していても、以前のものとは異なります。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マップの初期化中にシードを異なる方法で選択することにより、制御された異なる結果を作成できます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シミュレーション時間</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シミュレーション時間は、粒子の寿命とシミュレートされた粒子の数に直接関連しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの要因がパーティクルの寿命に影響を及ぼします。ランダムな場所で作成されるため、パーティクルごとに大きく異なる可能性があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摩擦と慣性：粒子速度</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グリッドサイズ：パーティクルがマップから外れる確率。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">蒸発率：粒子消滅率</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトのパラメータを使用すると、個々のパーティクルのシミュレーションには10〜100ミリ秒かかります。その結果、200,000パーティクルのシミュレーションでは10〜20秒になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シミュレートされたパーティクルの数を変更せずにタイムステップを増やすことで、侵食の度合いを増やし、パーティクルの寿命を短縮できます。</font><font style="vertical-align: inherit;">これにより、シミュレーションのノイズが増加し、タイムステップが大きすぎると、シミュレーションが失敗する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンジンでのシミュレーション自体は、レンダリング用のサーフェスメッシュを再作成するための追加のコストが発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッシュを再作成するコストを削減するか、個々のパーティクルの1つのタイムステップの速度を上げることにより、コードを最適化できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未来のために働く</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに、標高ジェネレーターで高さマップを生成するための基礎として、このコードをTerritoryプロジェクトに挿入します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はすでに気候システムにおける流体力学の簡略化されたシミュレーションのためのフレームワークを書きましたが、それはまだ公開の準備ができていません。このシステムは、高さマップから気候パターンを取得します。これは、物理的に正確な手続き型気候システムに関する今後の投稿のトピックになります！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シミュレートされた気候システムを使用すると、マップ上に均等に分布するのではなく、分布から（たとえば、雨が降っている場所で）粒子をサンプリングすることが可能になります。それらはレリーフの地質や気候と理想的に組み合わされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、さまざまなタイプの地層を追加した後、石の溶解度は異なります。</font><font style="vertical-align: inherit;">これは、物質移動係数（堆積速度）に直接影響し、異なる侵食速度を生み出します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このシステムは、実際の流体や河川の流れをシミュレートすることはできませんが、そのようなタスクに適応できる可能性があります。</font><font style="vertical-align: inherit;">私はそれを考え直します、そして多分将来的に私はポストの継続をリリースするでしょう。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja496752/index.html">エボラウイルスが感染データを処理する方法を教えてくれたので、彼の教訓をすべて忘れてしまいました</a></li>
<li><a href="../ja496754/index.html">OpenStreetMap No.506（2020年3月24日〜2020年3月3日）の世界からのニュース</a></li>
<li><a href="../ja496756/index.html">実際のAWS Lambda。パート2：開発およびテストツールについて理解する</a></li>
<li><a href="../ja496758/index.html">デジタル中世医療。COVID-19後のグローバルな技術転換</a></li>
<li><a href="../ja496760/index.html">ユーザーフロー：一般的なアプリケーションとサイトを作成する方法</a></li>
<li><a href="../ja496764/index.html">小さくても誇りに思う：DuckDuckGoと広告モンスター</a></li>
<li><a href="../ja496766/index.html">Azure Stack HCIとは何ですか？</a></li>
<li><a href="../ja496768/index.html">RGBとHEXを忘れる</a></li>
<li><a href="../ja496770/index.html">自動化されたエンジニアのアパート。パート1：問題の説明、鉄の選択</a></li>
<li><a href="../ja496772/index.html">無人車両は、最も過酷なドライバーが運転する自動車のブランドを「念頭に置いて」おくべきです</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>