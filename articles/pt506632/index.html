<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉ üèáüèæ ‚¨úÔ∏è Mapa geol√≥gico bonito e detalhado de Marte feito em Python, GDAL üëâüèø üê† üï∫üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Esta semana √© um repensar criativo do mapa geol√≥gico (ou areoreol√≥gico?) De Marte com base em um mapa feito pelo USCS . Os mesmos dados geol√≥gicos for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mapa geol√≥gico bonito e detalhado de Marte feito em Python, GDAL</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506632/"><img src="https://habrastorage.org/webt/ws/8o/5c/ws8o5cvnnmvo1mmylogt05whnwi.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta semana √© um repensar criativo do mapa geol√≥gico (ou areoreol√≥gico?) De Marte com base em um mapa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feito pelo USCS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Os mesmos dados geol√≥gicos foram usados ‚Äã‚Äãpara o original, mas mais top√¥nimos e assinaturas foram adicionados, um estilo visual foi redesenhado e os termos da legenda do mapa foram simplificados para entendimento geral.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma das partes mais dif√≠ceis do projeto foi traduzir os s√≠mbolos para o idioma de n√£o especialistas. O mapa original foi feito para ge√≥logos, portanto a maior parte do vocabul√°rio teve que ser revisada. Por exemplo, uma nova interpreta√ß√£o do valor da borda da caldeira √© "O limite da c√¢mara de magma vazia restante ap√≥s a erup√ß√£o vulc√¢nica". No original, havia o ‚Äútub√©rculo ov√≥ide, descrevendo uma ou v√°rias cavidades parcialmente ou completamente fechadas; o colapso de um vulc√£o associado a erup√ß√µes e possivelmente explos√µes explosivas ".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em muitos casos, as designa√ß√µes traduzidas eram mais imprecisas ou menos informativas que as originais, portanto, tamb√©m inclu√≠am abrevia√ß√µes originais para cada tipo de elemento geol√≥gico. Essas tags podem conter links para os dados de origem, se voc√™ desejar repentinamente aprender mais sobre cada tipo de forma√ß√£o geol√≥gica em termos cient√≠ficos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/78/y5/jm78y5rphwwzdvrjjvfceuuwxtc.jpeg" alt="imagem"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algumas das caracter√≠sticas geol√≥gicas not√°veis ‚Äã‚Äãem Marte. 1: Monte Olimpo, o maior vulc√£o do sistema solar. 2: Mariner Valley, um sistema de gargantas profundas com mais de 4000 km de comprimento. 3: Hellas Plain, a maior cratera de impacto vis√≠vel no sistema solar. 4: Marte √© geologicamente dividido nas terras baixas do norte (verde p√°lido) e nas terras altas do sul (marrom). Crateras de impacto formadas por aster√≥ides e cometas em queda (amarelo neon) est√£o espalhadas por todo o planeta.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/2c/ti/fn/2ctifnlnqvremlugjv2cbghrlrk.jpeg" alt="imagem"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As seguintes camadas separadas foram usadas para o mapa. 1-3: Elementos geol√≥gicos, contatos geol√≥gicos e recursos geol√≥gicos do conjunto de dados USGS. 4-5: n√≠vel de inclina√ß√£o e de duas fontes USGS. 6: Nomenclatura da IAU (Uni√£o Astron√¥mica Internacional). 7-8: linhas de grade e efeito 3D desenvolvidos no Photoshop.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Demorou muito tempo para escolher uma proje√ß√£o para o projeto. Para mostrar com precis√£o qual parte do planeta consistia em cada forma√ß√£o geol√≥gica, a proje√ß√£o de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Eckert IV foi</font></a><font style="vertical-align: inherit;"> finalmente usada.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Esse tipo de proje√ß√£o de mapa distorce os contornos do objeto, mas preserva a √°rea relativa das figuras em toda a superf√≠cie do planeta. </font><font style="vertical-align: inherit;">Essa proje√ß√£o n√£o √© adequada para a visualiza√ß√£o das regi√µes polares; portanto, tamb√©m adicionamos quatro inser√ß√µes de mapa nos cantos para mostrar cada hemisf√©rio de Marte (norte, sul, leste e oeste). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para comparar essas diferentes proje√ß√µes do mapa, voc√™ pode usar a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicatriz de Tissot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - um conjunto de c√≠rculos do mesmo tamanho, desenhados em diferentes lugares do globo. </font><font style="vertical-align: inherit;">Todas as proje√ß√µes do mapa distorcem o espa√ßo, mas voc√™ pode ver que os efeitos variam muito, dependendo da proje√ß√£o. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dw/jj/ot/dwjjotd-3h5wmsavwpxuatmuefu.jpeg" alt="imagem"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1: Equidistante. </font><font style="vertical-align: inherit;">2: Eckert IV. </font><font style="vertical-align: inherit;">3-5: Proje√ß√µes ortogr√°ficas centradas em diferentes longitudes e latitudes</font></font><br>
</i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hist√≥ria de implementa√ß√£o</font></font></h2><br>
<blockquote>      USGS, IAU  NASA. <br>
 : Python 3.7.1, GDAL 2.4.1, Illustrator CC 2019  Photoshop CC 2019 (    Gimp  Inkscape, ).<br>
<br>
   : matplotlib numpy, pandas, cartopy, jupyter.</blockquote><br>
<h2>   </h2><br>
<h3>   (DEM)</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo de terreno √© um dado que cont√©m informa√ß√µes sobre a altura de v√°rios pontos do planeta. </font><font style="vertical-align: inherit;">O projeto utilizou dados obtidos no US Geological Survey. </font><font style="vertical-align: inherit;">Cada pixel no arquivo GeoTIFF √© um n√∫mero de 16 bits que descreve a altura do ponto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota: muitos programas n√£o podem ler este arquivo normalmente, portanto, parece estranho no formato de visualiza√ß√£o ou em outros programas n√£o especializados. </font><font style="vertical-align: inherit;">No √¢mbito do projeto, o trabalho com eles passou pela GDAL (Biblioteca de Abstra√ß√£o de Dados Geoespaciais em Ingl√™s - uma biblioteca de abstra√ß√£o de dados geoespaciais).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando proje√ß√µes de mapas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como mencionado acima, a proje√ß√£o Eckert IV foi usada para o mapa principal, que mant√©m a √°rea inalterada, e a proje√ß√£o ortogr√°fica foi usada para mapas de p√≥los incorporados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Altere a proje√ß√£o no arquivo DEM: o arquivo de origem usou proje√ß√£o igual; portanto, √© necess√°rio inserir o seguinte c√≥digo na linha de comando para fazer a tradu√ß√£o. </font><font style="vertical-align: inherit;">O c√≥digo usa o arquivo intif original e cria uma nova outtif, no formato de proje√ß√£o eck4 (Eckert IV).</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">gdalwarp</span> <span class="hljs-selector-tag">-t_srs</span> "+<span class="hljs-selector-tag">proj</span>=<span class="hljs-selector-tag">eck4</span>" ./<span class="hljs-selector-tag">path_to_intif</span><span class="hljs-selector-class">.tif</span> ./<span class="hljs-selector-tag">path_to_outtif</span><span class="hljs-selector-class">.tif</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, diminu√≠mos a resolu√ß√£o do DEM simplesmente reduzindo o tamanho de cada pixel para 1500x1500 metros usando o m√©todo m√©dio. </font><font style="vertical-align: inherit;">Isso reduzir√° o tempo de processamento, e √© mais f√°cil fazer uma diminui√ß√£o na resolu√ß√£o neste momento.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">gdalwarp</span> <span class="hljs-selector-tag">-tr</span> 1500 1500 <span class="hljs-selector-tag">-r</span> <span class="hljs-selector-tag">average</span> ./<span class="hljs-selector-tag">path_to_intif</span><span class="hljs-selector-class">.tif</span> ./<span class="hljs-selector-tag">path_to_outtif</span><span class="hljs-selector-class">.tif</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa lavado e de declive</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, usamos o arquivo resultante para criar um mapa com mapas de lavagem e inclina√ß√£o para cada hemisf√©rio do planeta. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ap√≥s a lavagem, o mapa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mostra sombras de uma fonte de luz imagin√°ria; a luz cai no mapa de cima. </font><font style="vertical-align: inherit;">√â imagin√°rio, porque no mundo real isso n√£o acontece - uma √∫nica fonte de luz cria sombras em diferentes √¢ngulos em diferentes partes da bola. </font><font style="vertical-align: inherit;">A fun√ß√£o de colina integrada da GDAL define o √¢ngulo de incid√™ncia da luz para o mesmo em todo o mapa. </font><font style="vertical-align: inherit;">Para este projeto, z, a amplia√ß√£o vertical, foi definida como 20. Isso aumenta cada valor de altura em 20 vezes para tornar o relevo mais contrastante e proporcionar sombras.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">gdaldem</span> <span class="hljs-selector-tag">hillshade</span> <span class="hljs-selector-tag">-z</span> 20 ./<span class="hljs-selector-tag">path_to_intif</span><span class="hljs-selector-class">.tif</span> ./<span class="hljs-selector-tag">path_to_hillshade</span><span class="hljs-selector-class">.tif</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os mapas de declive</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> destacam as partes mais √≠ngremes do mapa e adicionam mais informa√ß√µes √† lavagem topogr√°fica (que enfatiza a altura absoluta em vez da inclina√ß√£o).</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">gdaldem</span> <span class="hljs-selector-tag">slope</span> ./<span class="hljs-selector-tag">path_to_intif</span><span class="hljs-selector-class">.tif</span> ./<span class="hljs-selector-tag">path_to_slope</span><span class="hljs-selector-class">.tif</span>
</code></pre><br>
<img src="https://habrastorage.org/webt/tx/nd/cs/txndcsxggdh03otjxihqga1ipyi.jpeg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proje√ß√µes ortogr√°ficas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m do mapa, quatro mapas dos hemisf√©rios de Marte tamb√©m s√£o feitos na proje√ß√£o de Eckert IV. </font><font style="vertical-align: inherit;">A proje√ß√£o Eckert IV n√£o √© adequada para exibir os polos norte e sul; portanto, essas duas inser√ß√µes s√£o muito √∫teis para entend√™-las. </font><font style="vertical-align: inherit;">Para obter um mapa de lavagem e declive, repita o c√≥digo com pequenas altera√ß√µes - orto em vez de eck4 e designe o centro de longitude e latitude para cada mapa (Norte: + lat_0 = 90 + lon_0 = 90, Sul: + lat_0 = -90 + lon_0 = 90, leste: + lat_0 = 0 + lon_0 = 90, oeste: + lat_0 = 0 + lon_0 = 270).</font></font><br>
<br>
<pre><code class="plaintext hljs">gdalwarp -t_srs "+proj=ortho +lat_0=90 +lon_0=0" ./path_to_intif.tif ./path_to_outtif.tif<font></font>
gdalwarp -tr 1500 1500 -r average ./path_to_intif.tif ./path_to_outtif.tif<font></font>
gdaldem hillshade -z 20 ./path_to_intif.tif ./path_to_hillshade.tif<font></font>
gdaldem slope ./path_to_intif.tif ./path_to_slope.tif<font></font>
</code></pre><br>
<img src="https://habrastorage.org/webt/uu/xf/q8/uuxfq8_c87nco3k30yxoo63yz6k.jpeg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cart√£o de legenda</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Uni√£o Astron√¥mica Internacional √© respons√°vel por nomear objetos extraterrestres. </font><font style="vertical-align: inherit;">Voc√™ pode simplesmente fazer o download do arquivo no formato CSV, contendo todos os objetos de cada planeta diretamente de seu site. </font><font style="vertical-align: inherit;">Para fazer isso, use a fun√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesquisa avan√ßada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para baixar todos os tipos de recursos para o seu planeta - Target (Marte), mas apenas com o status de aprova√ß√£o de adotado pela IAU - aprovado pelo MAC. </font><font style="vertical-align: inherit;">Na se√ß√£o Colunas a Incluir, selecione ID do Recurso, Nome do Recurso, Nome do Recurso Limpo, Destino, Di√¢metro, Lat / Lon Centro, Tipo de Recurso e C√≥digo do Tipo de Recurso. </font><font style="vertical-align: inherit;">Voc√™ tamb√©m pode ativar Origem (origem) se desejar adicionar informa√ß√µes adicionais sobre objetos ao projeto, como, por exemplo, em homenagem a quem foi nomeado.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estruturas e elementos geol√≥gicos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mapa geol√≥gico mostra v√°rios tipos de rochas e outras caracter√≠sticas, como linhas de falha e leitos de rios. </font><font style="vertical-align: inherit;">O USGS tem um belo mapa geol√≥gico de Marte, que usamos como fonte. </font><font style="vertical-align: inherit;">Para trabalhar com esses dados, fa√ßa o download do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquivo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">banco de dados</font></a><font style="vertical-align: inherit;"> (790 MB) no Mapa Geol√≥gico do USGS. </font><font style="vertical-align: inherit;">A pr√≥xima se√ß√£o sobre design de mapas no Python explica como acessar e exibir cada tipo de dados neste banco de dados.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design de mapa em Python</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criamos seis desenhos (parcelas) com elementos geol√≥gicos, estruturas, recursos, dois tipos de etiquetas de texto e uma grade. Vale a pena separar os dados para processamento, a fim de aplicar facilmente efeitos do Photoshop ou Illustrator, se necess√°rio. O Matplotlib usou o gridspec para personalizar todos os elementos para que cada subtrama ocupe um local espec√≠fico dentro do quadro decorativo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/px/jt/3j/pxjt3j6milv69xebwdk6gngm6ri.jpeg" alt="imagem"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elementos geol√≥gicos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Esses s√£o tipos diferentes de relevo que comp√µem a superf√≠cie do planeta. Diferentes elementos rochosos s√£o geralmente representados em cores diferentes. O conjunto de dados USGS marca cada ra√ßa com um c√≥digo de 2-3 letras para o tipo de item. Atribua uma cor a cada c√≥digo de letra compilando uma tabela de pares de c√≥digo-cor em Mars_geologic_units.csv. Nos referimos a esse arquivo ao construir cada elemento em cartopy e matplotlib. Salvar par√¢metros gr√°ficos em um arquivo separado facilita o uso de v√°rios esquemas de cores e separa o design do c√≥digo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/3x/y-/sy3xy-axn8kvsyx3nnhava5umlc.jpeg" alt="imagem"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contatos geol√≥gicos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- estas s√£o as fronteiras entre forma√ß√µes geol√≥gicas. Alguns limites geol√≥gicos s√£o aproximados ou ocultos sob poeira. Quanto √†s forma√ß√µes geol√≥gicas, usamos o arquivo de configura√ß√£o Mars_geologic_boundaries.csv para exibir cada tipo de contato geol√≥gico em uma cor diferente. No mapa final, configuramos a exibi√ß√£o de alguns contatos geol√≥gicos na forma de linhas tracejadas, basta abrir o PDF no Illustrator e selecionar todos os objetos da mesma cor (Selecionar -&gt; Mesmo -&gt; Cor do tra√ßado). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/og/ax/fm/ogaxfmjcw7cuc8a6g5updy7f73m.jpeg" alt="imagem"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caracter√≠sticas geol√≥gicas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Essas s√£o outras linhas vis√≠veis na superf√≠cie do planeta, como canais, bordas de crateras ou cordilheiras de montanhas. </font><font style="vertical-align: inherit;">Existem 13 tipos diferentes no conjunto de dados. </font><font style="vertical-align: inherit;">Para exibir cada um deles em um estilo especial, cada um foi exibido em uma cor diferente e as linhas foram estilizadas no Illustrator. </font><font style="vertical-align: inherit;">Isso permitiu a aplica√ß√£o de efeitos especiais, como caudas de gradiente, para mostrar a dire√ß√£o do movimento dos canais de sa√≠da e fluxos de lava.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lr/iq/_p/lriq_p991v_d5vbrf3-vp-8gj8y.jpeg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lenda</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dois conjuntos de dados para as tags foram usados ‚Äã‚Äãpara o mapa. O primeiro √© oficial da IAU. Os tamanhos das etiquetas s√£o criados de acordo com o tamanho do objeto, embora voc√™ ainda precise finalizar as dimens√µes no Illustarator. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ul/2b/so/ul2bsobgd0i6tmspifnwv4iveni.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O segundo conjunto de etiquetas adiciona uma abrevia√ß√£o para cada elemento geol√≥gico principal. Isso facilita o uso da legenda do mapa, pois algumas cores mudam devido √†s sombras. Era necess√°rio abordar o c√≥digo de forma criativa, ou seja, desenhar cada abrevia√ß√£o no centro geom√©trico da forma geol√≥gica, o que n√£o √© ideal para todos os casos. Mas para este projeto, isso era normal, porque, de acordo com o plano, essas assinaturas ser√£o movidas manualmente para evitar a sobreposi√ß√£o de assinaturas futuras. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5f/g7/ed/5fg7edin1eckzcvjspln7eitzwq.jpeg" alt="imagem"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Locais de desembarque</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Para exibir os locais de pouso de rovers de Marte e outras naves espaciais, uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagem digital</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aprimorada </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">da NASA foi usada</font></a><font style="vertical-align: inherit;"> como pano de fundo. </font><font style="vertical-align: inherit;">Para mostrar todos os quatro hemisf√©rios do planeta, tive que mudar a proje√ß√£o - landing_sites.ipynb.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salvando resultados do Matplotlib</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Normalmente, os resultados s√£o salvos em formato pdf para fazer edi√ß√µes finais em textos e formul√°rios no Illustrator. </font><font style="vertical-align: inherit;">Aqui est√£o alguns comandos padr√£o que facilitam a edi√ß√£o subsequente:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> matplotlib
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> matplotlib.backends.backend_pdf <span class="hljs-keyword">as</span> pdf<font></font>
<font></font>
<span class="hljs-comment">#     ,     :</span>
matplotlib.rcParams[<span class="hljs-string">'pdf.fonttype'</span>] = <span class="hljs-number">42</span><font></font>
<font></font>
<span class="hljs-comment">#     </span>
matplotlib.rcParams[<span class="hljs-string">'image.composite_image'</span>] = <span class="hljs-literal">False</span><font></font>
<font></font>
<span class="hljs-comment">#      subplot</span>
ax.axis(<span class="hljs-string">'off'</span>)<font></font>
<font></font>
<span class="hljs-comment">#  padding  margins </span>
plt.margins(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)<font></font>
plt.subplots_adjust(top=<span class="hljs-number">1</span>, bottom=<span class="hljs-number">0</span>, right=<span class="hljs-number">1</span>, left=<span class="hljs-number">0</span>, hspace=<span class="hljs-number">0</span>, wspace=<span class="hljs-number">0</span>)<font></font>
plt.gca().xaxis.set_major_locator(plt.NullLocator())<font></font>
plt.gca().yaxis.set_major_locator(plt.NullLocator())<font></font>
<font></font>
<span class="hljs-comment">#  pdf</span>
pp = pdf.PdfPages(<span class="hljs-string">'./savename.pdf'</span>, keep_empty=<span class="hljs-literal">False</span>)<font></font>
pp.savefig(fig)<font></font>
pp.close()<font></font>
<font></font>
<span class="hljs-comment">#      </span>
<span class="hljs-comment">#     PNG     Photoshop:</span>
plt.savefig(<span class="hljs-string">'./savename.png'</span>, format=<span class="hljs-string">'png'</span>, dpi=<span class="hljs-number">600</span>, pad_inches=<span class="hljs-number">0</span>, transparent=<span class="hljs-literal">True</span>)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de salvar o PDF, √© necess√°rio edit√°-lo para que cada objeto possa ser editado independentemente. </font><font style="vertical-align: inherit;">No Illustrator, selecione tudo no arquivo e v√° para Objeto -&gt; M√°scara de recorte -&gt; Liberar. </font><font style="vertical-align: inherit;">Nesse ponto, tamb√©m vale a pena excluir o plano de fundo e as bordas, se voc√™ os tiver feito antes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design no Illustrator e Photoshop</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A exporta√ß√£o do Python para o PDF permite o uso de alguns dos recursos dos editores gr√°ficos, que s√£o ou n√£o, ou sua implementa√ß√£o √© muito mais demorada. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o h√° muitos efeitos de texto especiais neste projeto, portanto a edi√ß√£o foi m√≠nima.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie sombras sob o texto no Photoshop</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para criar esse efeito, voc√™ precisa copiar a camada de legenda e ir para Filter -&gt; Blur Gallery -&gt; Field Blur. </font><font style="vertical-align: inherit;">Para sombras, √© bom criar duas camadas com desfoque com 20% de transpar√™ncia - uma com um Desfoque de 4 px e a outra com 10 px.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cores e fontes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer o cart√£o parecer pensado, foram selecionadas cores para o cart√£o em uma paleta pr√©-projetada de 70 cores. </font><font style="vertical-align: inherit;">Duas fontes (Redflowers e Moon).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/su/o6/tn/suo6tn4osepx_-dm9ljznxyhzdy.jpeg" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/webt/n0/se/ej/n0seejiob-lsvxfif4jjg_sn6ss.jpeg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvimento do esquema de cores</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No in√≠cio do projeto, foram criados 14 esquemas de cores diferentes. </font><font style="vertical-align: inherit;">A id√©ia original era ter uma paleta de cores exclusiva para cada planeta, mas no final usamos a mesma cole√ß√£o de cores em todos os projetos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/yl/5z/oqyl5zxesskd_tb7zuj24vk2yiu.jpeg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ilustra√ß√µes decorativas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O projeto queria combinar grandes conjuntos de dados e elementos manuais no estilo dos artistas William Morris ou Alphonse Mucha. </font><font style="vertical-align: inherit;">Para isso, uma grande cole√ß√£o de pinturas para inspira√ß√£o foi montada antes do desenvolvimento. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fw/s3/p3/fws3p3m7lgooqsi9cyo81pau3i8.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No come√ßo, eu queria experimentar diferentes varia√ß√µes da estrutura do mapa. </font><font style="vertical-align: inherit;">Uma cole√ß√£o de 18 padr√µes diferentes foi criada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, durante o processo de implementa√ß√£o, ficou claro que h√° muitos dados e tudo parece muito cheio de qualquer maneira. </font><font style="vertical-align: inherit;">Como resultado, apenas um padr√£o foi escolhido para enquadrar a proje√ß√£o principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resultado: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ny/kv/1v/nykv1vygy9bsng9dasz9qlqex3o.jpeg" alt="imagem"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link do Github</font></font></b></a><br>
<br>
<blockquote> :<br>
<br>
Astronomy. Andrew Fraknoi, David Morrison, Sidney C. Wolff et al. OpenStax 2016.<br>
Gazetteer of Planetary Nomenclature. International Astronomical Union (IAU) Working Group for Planetary System Nomenclature (WGPSN) 2019.<br>
<br>
Planetary Symbology Mapping Guidelines. Federal Geographic Data Committee.<br>
<br>
Mars HRSC MOLA Blended DEM Global 200m v2. NASA PDS and Derived Products Annex. USGS Astrogeology Science Center 2018.<br>
<br>
Geologic Map of Mars SIM 3292. Kenneth L. Tanaka, James A. Skinner, Jr., James M. Dohm, Rossman P. Irwin, III, Eric J. Kolb, Corey M. Fortezzo, Thomas Platz, Gregory G. Michael, and Trent M. Hare. USGS 2014.<br>
<br>
Viking Global Color Mosaic 925m v1. NASA PDS, 2019<br>
Missions to Mars. The Planetary Society.<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fontes: Moon de Jack Harvatt e RedFlower de Type &amp; Studio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conselho: Obrigado a Henrik Hargitai, Oliver Fraser, Thomas Mohren, Chris Liu, Chloe Pursey e Leah Willey por seus conselhos √∫teis ao fazer este mapa.</font></font></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt506612/index.html">Como aumentar a abrang√™ncia de cursos on-line em massa</a></li>
<li><a href="../pt506620/index.html">Pensamento criativo: o que √©, como medir e aumentar seu potencial</a></li>
<li><a href="../pt506624/index.html">FOSS News No. 20 - revis√£o de not√≠cias gratuitas e de c√≥digo aberto de 8 a 14 de junho de 2020</a></li>
<li><a href="../pt506626/index.html">Kamailio SBC ou n√£o SBC?</a></li>
<li><a href="../pt506628/index.html">Resumo de materiais interessantes para o desenvolvedor m√≥vel # 348 (de 8 a 14 de junho)</a></li>
<li><a href="../pt506634/index.html">Federa√ß√£o de m√≥dulo no Webpack 5, um plug-in para troca de m√≥dulos entre aplicativos Javascript, descri√ß√£o e exemplo</a></li>
<li><a href="../pt506638/index.html">Fot√¥nica topol√≥gica: como um conceito matem√°tico ajuda a criar dispositivos avan√ßados</a></li>
<li><a href="../pt506640/index.html">Com o que come√ßa o pseudo-Scrum na terceiriza√ß√£o (um pouco de teoria e estudo de caso)</a></li>
<li><a href="../pt506644/index.html">Novos desafios para os gerentes no trabalho remoto. Parte 2</a></li>
<li><a href="../pt506648/index.html">Laravel Digest (8 a 14 de junho de 2020)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>