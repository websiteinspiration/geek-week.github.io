<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☢️ 👩🏾‍🤝‍👨🏻 🎨 土の入ったフィルム。Yandexの研究と意味による検索の簡単な歴史 🧚 👨🏽‍🎤 🍏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="時々人々はYandexに目を向け、頭から飛び出した名前の映画を見つけます。彼らは陰謀、記憶に残る場面、鮮明な詳細を説明します：例えば、[人が赤または青の錠剤を選ぶところに呼ばれる映画は何ですか]。私たちは忘れられた映画の説明を研究し、映画の人々が最も覚えているものを見つけることにしました。
 
 今...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>土の入ったフィルム。Yandexの研究と意味による検索の簡単な歴史</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/464315/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時々人々はYandexに目を向け、頭から飛び出した名前の映画を見つけます。彼らは陰謀、記憶に残る場面、鮮明な詳細を説明します：例えば、[人が赤または青の錠剤を選ぶところに呼ばれる映画は何ですか]。私たちは忘れられた映画の説明を研究し、映画の人々が最も覚えているものを見つけることにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研究</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へのリンクを共有するだけでなく、</font><font style="vertical-align: inherit;">Yandexのセマンティック検索がどのように進化したかについても簡単に説明します。正確な要求を定式化することが単純に不可能である場合でも、検索が答えを見つけるのに役立つテクノロジーがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、実際の人々のリクエストの例を含む謎スライダーも追加しました-検索エンジンのように感じて、答えを推測してみてください。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://cdn.knightlab.com/libs/juxtapose/latest/embed/index.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての検索エンジンは単語検索から始まりました。すでに開始時のYandexはロシア語の形態を考慮に入れることができましたが、それでもネットワーク上のページのクエリから単語を検索するのと同じでした。各単語のすべての既知のページのリストを保持しました。リクエストにフレーズが含まれている場合は、単語リストを横断するだけで十分です。これが答えです。サイトの数が少なかった当時はうまく機能し、ランキングの問題はそれほど深刻ではありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Runetが開発され、サイトはますます増えました。単語交差要素にさらに2つの要素が追加されました。一方で、ユーザー自身が私たちを助けてくれました。私たちは、どのサイトをどのクエリに対して選択するかを検討し始めました。完全に一致する言葉はありませんが、サイトは人間の問題を解決していますか？これは有用なシグナルです。一方で、ページの重要性を評価するのに役立つサイト間のリンクが助けとなりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つの要因はごくわずかです。特に、非常に才能のある検索エンジンオプティマイザによって頻繁に試される場合。しかし、手でもっと消化するのは困難でした。そして、ここに機械学習の時代が始まりました。 2009年に、グラディエントブースティングに基づくMatrixnetを導入しました（このテクノロジーは、より高度なオープンソースライブラリである</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CatBoost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の基礎を形成し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それ以来、それらの間の関係を手動で探す必要がなくなったため、ますます多くの要因があります。車がやってくれました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検索でのその後のすべての変更について通知するには、投稿だけでなく本も十分であるため、最もわかりやすいものに焦点を当てます。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://cdn.knightlab.com/libs/juxtapose/latest/embed/index.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ランキングは、クエリワードとページの長期間の比較だけではありません。 2つの例。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2014年に、特徴的なクエリを使用したドキュメントアノテーションのテクノロジーを導入しました。過去にリクエスト[ブラジルから肉王についてのシリーズ]があったとします。そのリクエストについては、良い答えがすでに知られています。次に、別のユーザーがクエリ[ミートキングとミルクキングがあったブラジルシリーズ]を入力します。このクエリでは、マシンはまだ答えを知りません。しかし、これらのクエリには多くの一般的な単語があります。これは、最初のリクエストで見つかったページが2番目のリクエストに関連している可能性があるというシグナルです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう一つの例。 【ミートキングとミルクキングがあったブラジルシリーズ】と【致命的な相続シリーズ】を見てみよう。合計のうち、「シリーズ」という単語は1つしかありません。これは、リクエストを明示的に照合するには不十分です。この場合、検索の履歴を考慮に入れ始めました。 2つの異なる要求が発行時に同じサイトで要求される場合、要求は交換可能であると想定できます。これは、両方のクエリのテキストを使用して、より有用なページを検索するために便利です。ただし、これは、少なくともいくつかの統計がすでにある場合に繰り返しクエリに対してのみ機能します。新しいリクエストをどうするか</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
統計の欠如は、コンテンツ分析によって補うことができます。</font><font style="vertical-align: inherit;">また、同種データ（テキスト、音声、画像）の分析では、ニューラルネットワークが最もよく表示されます。</font><font style="vertical-align: inherit;">2016年、私たちは最初にHabrコミュニティにパレフ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テクノロジー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について伝え</font><font style="vertical-align: inherit;">ました。これは、検索でニューラルネットワークをより広く使用するための出発点となりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニューラルネットワークのトレーニングを開始して、リクエストテキストとページタイトルのセマンティック（セマンティック）近接性を比較しました。</font><font style="vertical-align: inherit;">2つのテキストは、多次元空間でベクトルの形で表現されるため、テキスト間の角度の余弦は、人がページを選択する確率、したがって意味論的近接性をよく予測します。</font><font style="vertical-align: inherit;">これにより、単語の交差がないテキストでも意味の近さを評価できます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好奇心旺盛な人のためのレイヤーアーキテクチャの例</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/404/470/082/4044700822614d34976b92f9caa6a38c.png" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、クエリテキスト間のリンクを特定するために、クエリテキストの比較を開始しました。検索エンジンの内部からの実際の例：クエリ[メタンフェタミンの沸騰に関するアメリカのシリーズ]の場合、意味が類似しているフレーズとして[悪い]と[悪い]を見つけるのはニューラルネットワークです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リクエストとヘッダーはすでに良好ですが、ページの全文でニューラルネットワークを使用するという希望はあきらめませんでした。さらに、ユーザーリクエストを受け取ると、数百万のインデックスページの中から最適なページの選択を開始しますが、パレフでは、ランキングの最新段階（L3）でのみニューラルネットワークモデルを使用しました。これは良い答えの喪失につながる可能性があります。</font></font><br>
<br>
<img src="https://habrastorage.org/web/0fa/5fb/280/0fa5fb280cf74efeab59bd9657aaeb00.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その理由は予測可能です-限られたリソースと応答速度に対する高い要件。計算の厳密な制限は、単純な事実に関連しています。ユーザーに強制的に待機させることはできません。しかし、それから私たちは何かを思いつきました。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://cdn.knightlab.com/libs/juxtapose/latest/embed/index.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2017年に、ニューラルネットワークの拡張された使用だけでなく、リソースを節約するためのアーキテクチャに関する真剣な取り組みを含むコロレフ検索更新を導入しました。</font><font style="vertical-align: inherit;">より詳細には、レイヤーのスキームやその他の詳細については、Habréの別の投稿ですでに説明しましたが、ここで主なことを思い出します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クエリの実行中にドキュメントのタイトルを取得してその意味ベクトルを計算する代わりに、このベクトルを事前に計算して検索データベースに保存できます。</font><font style="vertical-align: inherit;">つまり、作業のかなりの部分を事前に行うことができます。</font><font style="vertical-align: inherit;">もちろん、同時に、ベクトルを格納するためにより多くのスペースが必要でしたが、これによりCPU時間を節約できました。</font><font style="vertical-align: inherit;">しかし、それだけではありません。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好奇心のための別のスキーム</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/web/9ff/3a8/06a/9ff3a806a97647299ae6736cf02a7d06.png" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
追加のインデックスを作成しました。</font><font style="vertical-align: inherit;">これは、仮説に基づいています。複数の単語のクエリで各単語または語句に最も関連性の高いドキュメントの十分に大きなリストを取得すると、それらの中にすべての単語に同時に関連性のあるドキュメントが存在します。</font><font style="vertical-align: inherit;">実際には、これはこれを意味します。</font><font style="vertical-align: inherit;">すべての単語と人気のある単語のペアについて、ページのリストとクエリへの予備的な関連性を備えた追加のインデックスが生成されます。</font><font style="vertical-align: inherit;">つまり、作業の一部をステージL0からインデックス作成ステージに転送し、再び保存します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、アーキテクチャの変更と負荷の再配分により、L3ステージだけでなくL2とL1にもニューラルネットワークを使用できるようになりました。</font><font style="vertical-align: inherit;">さらに、事前にベクトルを形成することができ、パフォーマンス要件を緩和することで、ページタイトルだけでなくテキストも使用できるようになりました。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://cdn.knightlab.com/libs/juxtapose/latest/embed/index.html" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらにもっと。</font><font style="vertical-align: inherit;">時間の経過とともに、私たちはランキングの最も早い段階でニューラルネットワークを使用し始めました。</font><font style="vertical-align: inherit;">ニューラルネットワークでは、単語の順序とその相対的な位置にある暗黙のパターンを識別するように教えます。</font><font style="vertical-align: inherit;">そして、異なる言語のテキストの意味的な類似性を明らかにすることです。</font><font style="vertical-align: inherit;">これらの各領域は個別の記事に描かれており、近い将来にそれらを使用して戻るように努めます。</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、私たちはもう一度、あいまいなクエリと情報の欠如の条件で検索エンジンがどのように答えを見つけることを学ぶかを思い出しました。</font><font style="vertical-align: inherit;">説明で映画を検索することは、そのようなリクエストの特別なケースであるだけでなく、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">研究</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にとっても素晴らしいトピックです</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それから、次のことを学びます。映画の人々が最も記憶していること、さまざまな国のさまざまなジャンルや映画のグラフが関連付けられていること、プロットの動きが特別な印象を与えること。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja464299/index.html">0、0、1、0、2、0、2、2、1、6、0、5、0、2、6、5、4、0、5、3、0、3、2、9、0、 4、9、3、6、14、0、6、3、5、15、0、5、3、5 ...</a></li>
<li><a href="../ja464303/index.html">リレーショナルDBMSの時系列データ。TimescaleDBおよびPipelineDB for PostgreSQLの拡張機能</a></li>
<li><a href="../ja464305/index.html">小さい、はい。Firecrackerマイクロ仮想の開梱</a></li>
<li><a href="../ja464307/index.html">Scalaでのマイクロサービスの統合テスト</a></li>
<li><a href="../ja464309/index.html">DIY呼び出しボタン。Raspberry Pi、MajorDoMo、Freeswitch、Linphonec</a></li>
<li><a href="../ja464317/index.html">こんばんわプロジェクト</a></li>
<li><a href="../ja464327/index.html">さまざまなツールキットGUIのメモリ使用量の比較</a></li>
<li><a href="../ja464331/index.html">役に立たない利点：カシューナッツからの紫外線吸収化学物質の合成</a></li>
<li><a href="../ja464333/index.html">ペンチやテープなしでユーザーのライフサイクルを追跡</a></li>
<li><a href="../ja464335/index.html">DBMSでの単体テスト-Sportmasterでそれを行う方法、パート1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>