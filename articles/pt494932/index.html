<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêù ü•ã ü§ï Operando um grande sistema distribu√≠do: o que aprendi üèÆ ü§úüèø üéÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lendo v√°rios canais e boletins, frequentemente encontro artigos sobre ‚Äúdores‚Äù e problemas espec√≠ficos que surgem quando uma empresa cresce, quando a c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Operando um grande sistema distribu√≠do: o que aprendi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/494932/"><img src="https://habrastorage.org/webt/xy/c2/rk/xyc2rkmcwj7enywqjgy-vgdynzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lendo v√°rios canais e boletins, frequentemente encontro artigos sobre ‚Äúdores‚Äù e problemas espec√≠ficos que surgem quando uma empresa cresce, quando a confiabilidade e a escalabilidade v√™m √† tona. Este artigo √© diferente. N√£o h√° an√°lise detalhada de solu√ß√µes arquitet√¥nicas espec√≠ficas ou um guia passo a passo para mudar a cultura da engenharia. Em vez disso, √© uma vis√£o superior dos desafios que surgem ao operar sistemas distribu√≠dos e um ponto de partida que o ajudar√° a navegar no fluxo de termos, abrevia√ß√µes e tecnologias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trago a sua aten√ß√£o a tradu√ß√£o de um artigo escrito por um engenheiro da Uber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos √∫ltimos anos, criei e mantive um grande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistema de pagamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distribu√≠do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">no Uber</font></a><font style="vertical-align: inherit;"> . Durante esse per√≠odo, aprendi muito sobre os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conceitos de arquiteturas distribu√≠das.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, por experi√™ncia pr√≥pria, descobri como √© dif√≠cil criar e manter sistemas altamente carregados com alta disponibilidade. Construir esse sistema √© um trabalho interessante. Gosto de planejar como o sistema lidar√° com o crescimento do tr√°fego de 10 a 100 vezes, para garantir a confiabilidade dos dados, independentemente das falhas de hardware. No entanto, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operar um grande sistema distribu√≠do me proporcionou uma experi√™ncia inesperada</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto maior o sistema, maior a probabilidade de voc√™ encontrar uma manifesta√ß√£o da lei de Murphy: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo o que pode dar errado vai dar errado</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". A probabilidade √© especialmente alta com lan√ßamentos frequentes, quando muitos desenvolvedores lan√ßam c√≥digo, ao usar v√°rios data centers e com uma enorme audi√™ncia de usu√°rios em todo o mundo. Nos √∫ltimos anos, deparei-me com v√°rias falhas no sistema, muitas das quais me surpreenderam: desde problemas previs√≠veis, como falhas de hardware ou bugs inocentes, at√© quebras de cabos que conectam os data centers a in√∫meras falhas em cascata que ocorrem simultaneamente. Passei por dezenas de falhas nas quais partes do sistema n√£o funcionavam corretamente, o que afetou bastante os neg√≥cios.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este artigo resume as t√©cnicas que se beneficiaram com a opera√ß√£o de um grande sistema</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no Uber. </font><font style="vertical-align: inherit;">Minha experi√™ncia n√£o √© √∫nica: outros trabalham com sistemas do mesmo tamanho e passam pelas mesmas aventuras. </font><font style="vertical-align: inherit;">Conversei com engenheiros do Google, Facebook e Netflix, que enfrentaram situa√ß√µes semelhantes e criaram solu√ß√µes semelhantes. </font><font style="vertical-align: inherit;">Muitas das id√©ias e processos descritos aqui podem ser aplicados a sistemas da mesma escala, independentemente de trabalharem em data centers de propriedade da empresa (como costuma ser o caso do Uber) ou na nuvem (onde o Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√†s vezes escala</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">No entanto, essas dicas podem ser redundantes para sistemas n√£o t√£o grandes ou importantes para a empresa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos falar sobre esses t√≥picos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servi√ßo (de plant√£o), detec√ß√£o e notifica√ß√£o de anomalias.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de falhas e incidentes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post Mortems, an√°lise de incidentes e uma cultura de melhoria cont√≠nua.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover, planejamento de recursos e teste de caixa preta.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA e relat√≥rios sobre eles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE como uma equipe independente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confiabilidade como investimento permanente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Materiais √∫teis.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender se o sistema est√° √≠ntegro, precisamos responder √† pergunta: ‚ÄúFunciona </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corretamente? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font><font style="vertical-align: inherit;">Para isso, √© vital coletar informa√ß√µes sobre partes cr√≠ticas do sistema. </font><font style="vertical-align: inherit;">E quando voc√™ distribui sistemas que consistem em v√°rios servi√ßos em v√°rios servidores e em diferentes datacenters, pode ser dif√≠cil decidir quais pontos-chave voc√™ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">realmente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> precisa acompanhar. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitorando o status da infraestrutura.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se uma ou mais m√°quinas / m√°quinas virtuais estiverem sobrecarregadas, algumas partes do sistema distribu√≠do poder√£o sofrer uma redu√ß√£o no desempenho. As m√©tricas de estado das m√°quinas nas quais o servi√ßo est√° sendo executado - o consumo de recursos e mem√≥ria do processador - s√£o os par√¢metros b√°sicos que precisam ser monitorados. Existem plataformas que inicialmente rastreiam essas m√©tricas e escalam inst√¢ncias automaticamente. O Uber possui uma excelente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">equipe de infraestrutura principal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que por padr√£o fornece monitoramento e alerta. Independentemente do m√©todo de implementa√ß√£o, voc√™ deve ter informa√ß√µes de que inst√¢ncias, infraestrutura ou servi√ßos individuais t√™m problemas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento do status do servi√ßo: tr√°fego, erros, atraso</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Muitas vezes, voc√™ precisa ter a resposta para a pergunta "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O back-end est√° funcionando bem?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " O monitoramento de m√©tricas como a quantidade de tr√°fego recebido, a propor√ß√£o de erros e o atraso na resposta fornece informa√ß√µes valiosas sobre o status do servi√ßo. Eu prefiro criar pain√©is para todas essas m√©tricas. Ao criar um novo servi√ßo, o uso das respostas HTTP corretas e o monitoramento dos c√≥digos correspondentes podem dizer muito sobre o estado do sistema. Se voc√™ tiver certeza de que os c√≥digos 4xx s√£o retornados para erros do cliente e os c√≥digos 5xx s√£o retornados para erros do servidor, ser√° f√°cil criar e interpretar esse monitoramento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° algo mais a ser dito sobre o monitoramento de atrasos nas respostas. O objetivo dos servi√ßos de produ√ß√£o √© que a maioria dos usu√°rios finais aproveite o uso deles. E medir o atraso m√©dio n√£o √© a melhor solu√ß√£o, porque o valor m√©dio pode ocultar um pequeno n√∫mero de solicita√ß√µes com um grande atraso. √â muito melhor medir p95, p99 ou p999 - o atraso para o percentil 95, 99 ou 99,9 de solicita√ß√µes. Esses n√∫meros ajudam a responder a perguntas como " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual a rapidez da solicita√ß√£o para 99% dos visitantes?"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P99) ou" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu√£o lenta ser√° a solicita√ß√£o para um visitante em cada 1000?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P999). Se voc√™ estiver interessado nos detalhes, poder√° ler </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/xm/b_/e7xmb_bxizqg4bcqw40buaeylsc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gr√°fico para p95 e p99. Observe que o atraso m√©dio para este terminal √© inferior a 1 segundo e 1% das solicita√ß√µes leva 2 segundos. e mais - isso n√£o √© visto ao medir o valor m√©dio.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O t√≥pico de monitoramento e observabilidade √© muito mais profundo. Eu recomendo a leitura do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SRE</font></a><font style="vertical-align: inherit;"> e da se√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatro sinais dourados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre o monitoramento de sistemas distribu√≠dos. Se, para um sistema com o qual os usu√°rios interagem, voc√™ pode obter apenas quatro m√©tricas, concentre-se no tr√°fego, erros, atraso e satura√ß√£o. H√° menos material - o e-book de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observabilidade de Sistemas Distribu√≠dos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que descreve ferramentas √∫teis, como logs, bem como pr√°ticas recomendadas para o uso de m√©tricas e rastreamento.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitorando m√©tricas de neg√≥cios.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os servi√ßos de monitoramento nos informam sobre sua condi√ß√£o geral. Mas, de acordo apenas com os dados de monitoramento, n√£o podemos dizer se os servi√ßos est√£o funcionando corretamente, se tudo foi processado corretamente do ponto de vista comercial. No caso do sistema de pagamento, a principal quest√£o √©: ‚Äú </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As pessoas podem fazer viagens usando um m√©todo de pagamento espec√≠fico?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " Uma das etapas mais importantes no monitoramento √© identificar e rastrear eventos de neg√≥cios criados e processados ‚Äã‚Äãpor este servi√ßo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minha equipe criou um monitoramento das m√©tricas de neg√≥cios ap√≥s uma falha que n√£o pudemos detectar de outras maneiras. </font><font style="vertical-align: inherit;">Tudo parecia como se os servi√ßos estivessem funcionando normalmente, mas na verdade a funcionalidade principal n√£o funcionava. </font><font style="vertical-align: inherit;">Esse tipo de monitoramento era muito incomum para nossa empresa e campo de atividade. </font><font style="vertical-align: inherit;">Portanto, tivemos que fazer muitos esfor√ßos para configurar esse monitoramento por n√≥s mesmos, criando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nosso pr√≥prio sistema</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dever, detec√ß√£o de anomalias e alerta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O monitoramento √© uma √≥tima ferramenta para verificar o status atual do sistema. Mas este √© apenas um passo no caminho para detectar automaticamente falhas e alertar aqueles que devem fazer algo neste caso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O rel√≥gio √© um t√≥pico extenso. A Increment Magazine fez um excelente trabalho destacando muitos dos problemas da edi√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Na minha opini√£o, o dever √© uma continua√ß√£o l√≥gica da abordagem "voc√™ criou - voc√™ possui". Os servi√ßos s√£o de propriedade das equipes que os criaram e tamb√©m possuem um sistema de alerta e resposta a incidentes. Minha equipe possu√≠a esse sistema para o servi√ßo de pagamento que criamos. E quando o alerta chega, o engenheiro de plant√£o deve responder e descobrir o que est√° acontecendo. Mas como passamos do monitoramento para os alertas?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Determinar anomalias com base nos dados de monitoramento √© uma tarefa dif√≠cil</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e o aprendizado de m√°quina deve se manifestar completamente aqui. Existem muitos servi√ßos de terceiros para detectar anomalias. Felizmente para minha equipe, nossa empresa tem seu pr√≥prio grupo de aprendizado de m√°quina para resolver os problemas que o Uber enfrenta. A equipe de Nova York escreveu um artigo √∫til sobre como funciona a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">detec√ß√£o de anomalias</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Uber</font></a><font style="vertical-align: inherit;"> . Do ponto de vista da minha equipe, s√≥ transmitimos dados de monitoramento para esse pipeline e recebemos alertas com v√°rios graus de confian√ßa. E ent√£o decidimos se informaremos o engenheiro sobre isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando preciso enviar um alerta? A quest√£o √© interessante. Se houver poucos alertas, podemos perder uma falha importante. Se for demais, as pessoas n√£o v√£o dormir √† noite.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O rastreamento e a categoriza√ß√£o de alertas, bem como a medi√ß√£o da rela√ß√£o sinal / ru√≠do, desempenham um papel importante na configura√ß√£o de um sistema de alerta</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Um bom passo em dire√ß√£o a uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rota√ß√£o constante de engenheiros de servi√ßo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√° analisar alertas, categorizar eventos como "exigindo a√ß√£o" e "n√£o exigir" e, em seguida, reduzir o n√∫mero de alertas que n√£o exigem a√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/239/3be/498/2393be498f8076e4fdcd25d5c65ae6c9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de painel de servi√ßo de chamada</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> criado pela equipe Uber Developer Experience em Vilnius. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equipe do Uber para a cria√ß√£o de ferramentas de desenvolvimento a partir de Vilnius </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criou uma pequena ferramenta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que usamos para comentar alertas e visualizar trocas de tarefas. </font><font style="vertical-align: inherit;">Nossa equipe gera um relat√≥rio semanal sobre o trabalho do √∫ltimo turno de servi√ßo, analisa pontos fracos e aprimora a metodologia do servi√ßo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de falhas e incidentes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine: voc√™ √© um engenheiro de servi√ßo por uma semana. </font><font style="vertical-align: inherit;">No meio da noite, voc√™ acorda uma mensagem no pager. </font><font style="vertical-align: inherit;">Voc√™ est√° verificando se ocorreu uma falha na produ√ß√£o. </font><font style="vertical-align: inherit;">Porra, parece que parte do sistema caiu. </font><font style="vertical-align: inherit;">O que agora? </font><font style="vertical-align: inherit;">Monitorar e alertar apenas funcionou. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As falhas podem n√£o ser particularmente problem√°ticas para pequenos sistemas quando o engenheiro de servi√ßo pode entender o que aconteceu e por qu√™. </font><font style="vertical-align: inherit;">Geralmente nesses sistemas, voc√™ pode identificar rapidamente as causas e se livrar delas. </font><font style="vertical-align: inherit;">Por√©m, no caso de sistemas complexos que cont√™m muitos (micro) servi√ßos, quando muitos engenheiros colocam o c√≥digo em opera√ß√£o, a raz√£o da falha √© bastante dif√≠cil. </font><font style="vertical-align: inherit;">E a conformidade com v√°rios procedimentos padr√£o pode ser de grande ajuda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira linha de defesa s√£o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">runbooks de procedimentos de resposta padr√£o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que descrevem etapas simples de solu√ß√£o de problemas. Se a empresa tiver essas listas e for ativamente suportada, √© improv√°vel que uma id√©ia superficial do engenheiro de servi√ßo sobre o sistema seja um problema. As listas precisam ser atualizadas, atualizadas e processadas para novas formas de solu√ß√£o de problemas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informar sobre falhas de outros funcion√°rios</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Torna-se muito importante se v√°rias equipes estiverem envolvidas na implanta√ß√£o de um servi√ßo. No ambiente em que trabalho, os servi√ßos, conforme necess√°rio, s√£o implementados por milhares de engenheiros, com uma frequ√™ncia de centenas de lan√ßamentos por hora. E a implanta√ß√£o aparentemente in√≥cua de um servi√ßo pode afetar outro. Em tal situa√ß√£o, um papel importante √© desempenhado pela padroniza√ß√£o dos canais de comunica√ß√£o e comunica√ß√£o de falhas. Eu tive muitos casos em que o alerta n√£o era como qualquer outra coisa e percebi que para outras equipes isso tamb√©m parece estranho. Em um bate-papo geral sobre falhas, identificamos o servi√ßo respons√°vel pela falha e eliminamos rapidamente as consequ√™ncias. Juntos, conseguimos fazer isso muito mais r√°pido do que qualquer um de n√≥s individualmente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elimine as consequ√™ncias agora e descubra amanh√£</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No meio de um acidente, muitas vezes eu estava sobrecarregado por uma onda de adrenalina por causa do desejo de corrigir erros. </font><font style="vertical-align: inherit;">Muitas vezes, a causa do problema estava lan√ßando c√≥digo incorreto com um bug √≥bvio. </font><font style="vertical-align: inherit;">Anteriormente, eu teria encerrado tudo e come√ßado a corrigir erros, enviar uma corre√ß√£o e reverter o c√≥digo com falha. </font><font style="vertical-align: inherit;">Mas consertar a causa no meio de um acidente √© uma </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√©ssima</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id√©ia </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Com uma solu√ß√£o r√°pida, voc√™ pode conseguir pouco e perder muito</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como a corre√ß√£o precisa ser feita rapidamente, ela deve ser testada em batalha. </font><font style="vertical-align: inherit;">E este √© o caminho para um novo bug - ou uma nova falha - al√©m do existente. </font><font style="vertical-align: inherit;">Vi como isso causou uma s√©rie de falhas. </font><font style="vertical-align: inherit;">Apenas concentre-se em corrigir as consequ√™ncias, n√£o fique tentado a corrigir o c√≥digo ou a encontrar a causa. </font><font style="vertical-align: inherit;">A investiga√ß√£o vai esperar at√© amanh√£.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post Mortems, an√°lise de incidentes e uma cultura de melhoria cont√≠nua</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um relat√≥rio de incidente √© uma caracter√≠stica importante de como uma equipe lida com as consequ√™ncias de uma falha. A situa√ß√£o preocupa as pessoas? Eles fazem uma pequena pesquisa ou dedicam uma quantidade incr√≠vel de esfor√ßo √† observa√ß√£o, interrompem o produto e fazem corre√ß√µes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O post-mortem corretamente escrito √© um dos principais elementos da constru√ß√£o de sistemas sustent√°veis. N√£o condena ningu√©m e n√£o procura os culpados; este √© um estudo e an√°lise cuidadosos do incidente. Com o tempo, nossos modelos para tais relat√≥rios evolu√≠ram, se√ß√µes com conclus√µes finais, avalia√ß√£o de impacto, cronologia de eventos, an√°lise do principal motivo, li√ß√µes aprendidas e uma lista detalhada de elementos para observa√ß√£o adicional.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/652/c06/931/652c0693103d40024459362c326c723e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu usei esse padr√£o de manipula√ß√£o de erros no Uber. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um bom post-mortem, a causa da falha √© minuciosamente investigada e s√£o propostas medidas para prevenir, detectar ou eliminar rapidamente as consequ√™ncias de falhas semelhantes. </font><font style="vertical-align: inherit;">E quando digo "profundamente", quero dizer que os autores n√£o param no fato de que o motivo foi a rolagem do c√≥digo com um bug que o revisor n√£o notou. </font><font style="vertical-align: inherit;">Os autores devem aplicar a metodologia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Five Why</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para chegar a uma conclus√£o mais √∫til. </font><font style="vertical-align: inherit;">Por exemplo:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que existe um problema? </font><font style="vertical-align: inherit;">-&gt; O</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bug foi carregado como parte do c√≥digo.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que ningu√©m pegou um bug? </font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quem fez a revis√£o n√£o percebeu que alterar o c√≥digo poderia levar a esse problema.</font></font></li>
<li><i>     ,    ?</i> --&gt;         .</li>
<li><i>       ?</i> --&gt;         .</li>
<li><i>      ?</i> --&gt;       .</li>
<li>:          .    ,           .</li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A an√°lise de incidentes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© uma ferramenta complementar importante para o trabalho em bugs. Enquanto algumas equipes trabalham com cuidado em bugs, outras podem se beneficiar de dados adicionais e fazer melhorias preventivas. Tamb√©m √© importante que as equipes se considerem respons√°veis ‚Äã‚Äãe capazes de fazer as melhorias que prop√µem no n√≠vel do sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas organiza√ß√µes que levam a s√©rio a confiabilidade, os incidentes mais graves s√£o analisados ‚Äã‚Äãe eliminados por engenheiros experientes. Tamb√©m √© necess√°rio gerenciar a engenharia no n√≠vel da empresa para garantir que as corre√ß√µes possam ser feitas - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especialmente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se elas consomem tempo ou interferem em outros trabalhos. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um sistema confi√°vel n√£o pode ser criado em uma noite: ser√£o necess√°rias itera√ß√µes constantes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Itera√ß√µes resultantes de uma cultura da empresa de melhoria cont√≠nua com base nas li√ß√µes aprendidas com os incidentes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover, planejamento de recursos e teste de blackbox</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem v√°rios procedimentos regulares que requerem investimento significativo, mas s√£o cr√≠ticos para manter um grande sistema distribu√≠do. Cheguei a essas id√©ias no Uber, n√£o era necess√°rio aplic√°-las a outras empresas devido √† menor escala e indisponibilidade da infraestrutura. </font><font style="vertical-align: inherit;">Eu considerei o </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failover</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est√∫pido </font><strong><font style="vertical-align: inherit;">no data center (failover)</font></strong><font style="vertical-align: inherit;"> at√© me deparar com isso. Inicialmente, eu acreditava que o design de um sistema distribu√≠do est√°vel √© a estabilidade dos data centers em queda. Por que deveria ser testado regularmente se tudo deveria </font><font style="vertical-align: inherit;">funcionar </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teoricamente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? A resposta depende do dimensionamento e do teste da capacidade dos servi√ßos de lidar com efici√™ncia com o aumento inesperado do tr√°fego no novo data center.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O cen√°rio de falha mais comum que me deparei √© que o servi√ßo n√£o possui recursos suficientes no novo datacenter para lidar com o tr√°fego global no caso de um failover. Suponha que o servi√ßo A funcione em um data center e o servi√ßo B. Deixe o consumo de recursos ser de 60% - dezenas ou centenas de m√°quinas virtuais giram em cada data center, e alertas s√£o acionados quando um limite de 70% √© atingido. Todo o tr√°fego do datacenter A para o datacenter B. falhou. O segundo datacenter n√£o pode lidar com esse aumento de carga sem implantar novas m√°quinas. No entanto, isso pode levar muito tempo, portanto, as solicita√ß√µes come√ßam a se acumular e a cair. O bloqueio come√ßa a afetar outros servi√ßos, causando uma falha em cascata de outros sistemas que n√£o est√£o relacionados ao failover prim√°rio.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/kj/ak/rjkjakjltskllvgtcjatntsuvxy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma situa√ß√£o poss√≠vel em que o failover leva a problemas.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Outro cen√°rio de falha popular envolve problemas no n√≠vel de roteamento, problemas com largura de banda da rede ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contrapress√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O failover de data centers √© um desenvolvimento que qualquer sistema distribu√≠do confi√°vel deve executar sem causar impacto nos usu√°rios. Eu enfatizo - que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deve</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , este desenvolvimento √© um dos exerc√≠cios mais √∫teis para verificar a confiabilidade de sistemas web distribu√≠dos. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exerc√≠cios agendados de inatividade do servi√ßo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma √≥tima maneira de testar a estabilidade de um sistema inteiro. Tamb√©m √© uma √≥tima ferramenta para detectar depend√™ncias ocultas ou usos inadequados / inesperados de um sistema espec√≠fico. Exerc√≠cios programados de inatividade podem ser relativamente f√°ceis de executar com servi√ßos com os quais os clientes interagem e possuem depend√™ncias pouco conhecidas. No entanto, se estamos falando de sistemas cr√≠ticos para os quais √© permitido um tempo de inatividade muito curto ou dos quais muitos outros sistemas dependem, ser√° dif√≠cil realizar esses exerc√≠cios. Mas o que acontece se esse sistema ficar indispon√≠vel um dia? √â melhor responder a essa pergunta em um experimento controlado, para que todas as equipes estejam avisadas e prontas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teste de caixa preta</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(o m√©todo "caixa preta") √© uma maneira de avaliar a corre√ß√£o do sistema em uma situa√ß√£o o mais pr√≥xima poss√≠vel de como ocorre a intera√ß√£o com o usu√°rio final. Isso √© semelhante ao teste de ponta a ponta, exceto pelo fato de que, para a maioria dos produtos, o teste correto de caixa preta exige investimento pr√≥prio. Bons candidatos a esses testes s√£o os principais processos e cen√°rios do usu√°rio que envolvem a intera√ß√£o do usu√°rio: para testar o sistema, verifique se eles podem ser iniciados a qualquer momento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando o Uber como exemplo, um teste √≥bvio de caixa preta est√° verificando a intera√ß√£o motorista-passageiro no n√≠vel da cidade: um passageiro pode encontrar um motorista e fazer uma viagem mediante uma solicita√ß√£o espec√≠fica? Ap√≥s automatizar esse cen√°rio, o teste pode ser executado regularmente, emulando diferentes cidades. Um sistema confi√°vel de teste de caixa preta facilita a verifica√ß√£o da opera√ß√£o correta do sistema ou de suas partes. Tamb√©m ajuda bastante no teste de failover: a maneira mais r√°pida de obter feedback de troca √© executar o teste de caixa preta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/gz/mw/hxgzmwfqkyhrzxefxuhqrusne2e.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo de teste de caixa preta durante failover de failover e revers√£o manual. </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planejamento de recursos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desempenha um papel particularmente importante para grandes sistemas distribu√≠dos. Em geral, quero dizer aqueles em que o custo de computa√ß√£o e armazenamento √© calculado em dezenas ou centenas de milhares de d√≥lares por m√™s. Nessa escala, pode ser mais barato ter um n√∫mero fixo de implanta√ß√µes do que usar solu√ß√µes em nuvem auto-escal√°veis. Em casos extremos, as implanta√ß√µes fixas devem lidar com o tr√°fego caracter√≠stico dos "neg√≥cios normais", com dimensionamento autom√°tico apenas em cargas de pico. Mas qual √© o n√∫mero m√≠nimo de inst√¢ncias a serem aplicadas no pr√≥ximo m√™s? Nos pr√≥ximos tr√™s meses? Pr√≥ximo ano?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o √© dif√≠cil prever futuros padr√µes de tr√°fego para sistemas maduros com grandes volumes de estat√≠sticas. </font><font style="vertical-align: inherit;">Isso √© importante para o or√ßamento, a escolha de fornecedores ou para a fixa√ß√£o de descontos de provedores de nuvem. </font><font style="vertical-align: inherit;">Se o seu servi√ßo gera grandes contas e voc√™ n√£o pensou no planejamento de recursos, est√° faltando uma maneira f√°cil de reduzir custos e gerenci√°-los.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA e relat√≥rios sobre eles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLO significa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Level Objective</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , uma m√©trica para a disponibilidade do sistema. </font><font style="vertical-align: inherit;">√â uma boa pr√°tica definir </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLOs no n√≠vel de servi√ßo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para desempenho, tempo de resposta, corre√ß√£o e disponibilidade. </font><font style="vertical-align: inherit;">Esses SLOs podem ser usados ‚Äã‚Äãcomo limites de alerta. </font><font style="vertical-align: inherit;">Exemplo:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©trica SLO</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Subcategoria</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valor do Servi√ßo</font></font></strong></th>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atua√ß√£o</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Largura de banda m√≠nima</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 solicita√ß√µes por segundo</font></font></td>
</tr>
<tr>
<td></td>
<td>   </td>
<td>2 500   </td>
</tr>
<tr>
<td><strong> </strong></td>
<td>   </td>
<td>50-90 </td>
</tr>
<tr>
<td></td>
<td>   p99</td>
<td>500-800 </td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>0,5 %</td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>99,9 %</td>
</tr>
</tbody></table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO no n√≠vel de neg√≥cios</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ou SLOs funcionais, isso √© uma abstra√ß√£o sobre servi√ßos. Eles cobrem m√©tricas personalizadas ou comerciais. Por exemplo, um SLO em n√≠vel de neg√≥cios pode ser o seguinte: 99,99% dos recebimentos devem ser enviados por correio dentro de 1 minuto ap√≥s a conclus√£o de uma viagem. Esse SLO pode ser comparado ao SLO no n√≠vel de servi√ßo (por exemplo, com o atraso do sistema de pagamento ou do sistema de envio de cheques) e pode ser medido separadamente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLA - Contrato de N√≠vel de Servi√ßo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Este √© um acordo mais geral entre um provedor de servi√ßos e seu consumidor. Normalmente, v√°rios SLOs comp√µem um SLA. Por exemplo, a disponibilidade de um sistema de pagamento no n√≠vel de 99,99% pode ser SLA, que √© dividido em SLOs espec√≠ficos para cada sistema correspondente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de determinar o SLO, voc√™ precisa medi-los e fazer um relat√≥rio.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O monitoramento e os relat√≥rios autom√°ticos de SLAs e SLOs geralmente s√£o um projeto complexo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nem os engenheiros nem as empresas desejam priorizar. </font><font style="vertical-align: inherit;">Os engenheiros n√£o estar√£o interessados, porque eles j√° t√™m n√≠veis diferentes de monitoramento para identificar falhas em tempo real. </font><font style="vertical-align: inherit;">Uma empresa prioriza melhor a entrega da funcionalidade, em vez de investir em um projeto complexo que n√£o trar√° benef√≠cios imediatos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E isso nos leva a outro t√≥pico: organiza√ß√µes que operam grandes sistemas distribu√≠dos, mais cedo ou mais tarde, precisam alocar pessoas para garantir a confiabilidade desses sistemas. </font><font style="vertical-align: inherit;">Vamos falar sobre a equipe do SRE - Site Reliability Engineering.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE como equipe independente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O termo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engenharia de confiabilidade do site foi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cunhado pelo Google por volta de 2003 e hoje existem mais de 1.500 engenheiros do SRE. √Ä medida que a opera√ß√£o do ambiente de produ√ß√£o est√° se tornando uma tarefa cada vez mais complexa, exigindo mais automa√ß√£o, em breve se tornar√° um trabalho completo. Isso acontece quando as empresas percebem que os engenheiros trabalham na automa√ß√£o do ambiente de produ√ß√£o quase o dia inteiro: quanto mais importante o sistema e mais falhas ocorrem, mais cedo o SRE se torna uma posi√ß√£o separada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As empresas de tecnologia de r√°pido crescimento geralmente montam uma equipe de SRE desde o in√≠cio, que planejam para si mesmas. No Uber, essa equipe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foi criada em 2015.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seu objetivo era gerenciar a complexidade do sistema. Em outras empresas, a aloca√ß√£o de equipes de SRE pode ser associada √† cria√ß√£o de uma equipe de infraestrutura separada. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando a empresa cresce a um n√≠vel tal que garantir a confiabilidade do servi√ßo exija a aten√ß√£o de um n√∫mero significativo de engenheiros, √© hora de criar uma equipe separada.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equipe do SRE simplifica bastante a manuten√ß√£o de grandes sistemas distribu√≠dos para todos os engenheiros. A equipe do SRE provavelmente possui ferramentas padr√£o de monitoramento e alertas. Eles provavelmente est√£o comprando ou criando ferramentas de plant√£o e est√£o dispostos a compartilhar sua experi√™ncia. Eles podem facilitar a an√°lise de incidentes e criar sistemas que facilitam a detec√ß√£o de falhas, reduzem suas consequ√™ncias e as previnem no futuro. O comando SRE certamente facilita as opera√ß√µes de failover. √â frequentemente usado para testar caixas pretas e planejar o desempenho. Os engenheiros do SRE gerenciam a sele√ß√£o, personaliza√ß√£o ou cria√ß√£o de ferramentas padr√£o para determinar e medir os SLOs e gerar relat√≥rios sobre eles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que todas as empresas t√™m seus pr√≥prios problemas, cuja solu√ß√£o recrutam SRE, essas equipes em diferentes empresas t√™m estruturas diferentes. </font><font style="vertical-align: inherit;">At√© os nomes podem variar: pode ser um servi√ßo de opera√ß√£o, engenharia de plataforma ou servi√ßo de infraestrutura. </font><font style="vertical-align: inherit;">O Google publicou dois </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livros de leitura obrigat√≥ria para garantir a confiabilidade dos servi√ßos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Eles est√£o dispon√≠veis gratuitamente e s√£o uma excelente fonte de informa√ß√µes para um estudo mais aprofundado do t√≥pico da SRE.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confiabilidade como investimento permanente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao criar qualquer produto, montar a primeira vers√£o √© apenas o come√ßo. Depois disso, haver√° novas itera√ß√µes, com novos recursos. Se o produto for bem-sucedido e lucrativo, o trabalho continuar√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os sistemas distribu√≠dos t√™m o mesmo ciclo de vida, exceto que precisam de mais investimento n√£o apenas em novos recursos, mas tamb√©m em acompanhar o dimensionamento. Quando a carga no sistema aumenta, voc√™ precisa armazenar mais dados, mais engenheiros trabalham no sistema, voc√™ precisa cuidar constantemente do seu funcionamento normal. Muitos dos que criam sistemas distribu√≠dos pela primeira vez os consideram algo como uma m√°quina: depois de fazer isso, √© suficiente realizar determinadas manuten√ß√µes a cada poucos meses. √â dif√≠cil chegar a uma compara√ß√£o mais distante da realidade.</font></font><br>
<br>
<strong>         , , </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Para que o hospital funcione bem, s√£o necess√°rias verifica√ß√µes constantes (monitoramento, alertas, teste de caixa preta). O tempo todo √© necess√°rio para contratar novos funcion√°rios e equipamentos: para hospitais, s√£o enfermeiros, m√©dicos e dispositivos m√©dicos, e para sistemas distribu√≠dos, novos engenheiros e servi√ßos. √Ä medida que o n√∫mero de funcion√°rios e servi√ßos aumenta, os velhos m√©todos de trabalho se tornam ineficazes: uma pequena cl√≠nica no interior funciona de maneira diferente de um grande hospital em uma metr√≥pole. Conseguir maneiras mais eficazes de funcionar se transforma em um trabalho completo, e medi√ß√µes e alertas est√£o se tornando cada vez mais importantes. Como um hospital grande requer mais pessoal, como contabilidade, recursos humanos e seguran√ßa,e a opera√ß√£o de grandes sistemas distribu√≠dos depende de equipes de servi√ßo como infraestrutura e SRE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que a equipe mantenha um sistema distribu√≠do confi√°vel, a organiza√ß√£o deve investir constantemente em seu funcionamento, bem como no trabalho das plataformas nas quais o sistema foi constru√≠do.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Materiais √∫teis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embora o artigo tenha sido longo, apresenta apenas os momentos mais superficiais. </font><font style="vertical-align: inherit;">Para saber mais sobre os recursos dos sistemas distribu√≠dos operacionais, recomendo estas fontes: </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Livros</font></font></strong><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Google SRE Book</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um √≥timo livro gratuito do Google. </font><font style="vertical-align: inherit;">O cap√≠tulo sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento de sistemas distribu√≠dos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© especialmente importante para este artigo </font><font style="vertical-align: inherit;">.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observabilidade de sistemas distribu√≠dos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , outro √≥timo livro gratuito com √≥timas dicas sobre o monitoramento de sistemas distribu√≠dos.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projetar aplicativos intensivos em dados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© o livro mais pr√°tico sobre o conceito de sistemas distribu√≠dos que me deparei. </font><font style="vertical-align: inherit;">No entanto, n√£o abrange os aspectos operacionais que examinamos t√£o profundamente.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sites</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edi√ß√£o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call da Increment Magazine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Uma s√©rie de artigos sobre processos de resposta a incidentes na Amazon, Dropbox, Facebook, Google e Netflix.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprendendo a criar sistemas distribu√≠dos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - artigo do AWS Engineer que responde √† pergunta ‚ÄúComo aprender a criar grandes sistemas distribu√≠dos?‚Äù</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veja </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coment√°rios sobre este artigo no Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt494918/index.html">A terceira semana do v√¥o remoto - normal. Coment√°rios dos profissionais de TI QIWI sobre o trabalho em tempo integral em casa</a></li>
<li><a href="../pt494920/index.html">Maus conselhos ao desenvolvedor: o que fazer para "agradar" a ger√™ncia</a></li>
<li><a href="../pt494922/index.html">Nizhny Novgorod para um especialista em TI: perspectivas de trabalho e oportunidades para a vida</a></li>
<li><a href="../pt494924/index.html">A implementa√ß√£o do efeito aquarela nos jogos</a></li>
<li><a href="../pt494930/index.html">Unity3D: Agregador autom√°tico de gerenciador de scripts</a></li>
<li><a href="../pt494934/index.html">6 erros em palavras em ingl√™s que s√£o terrivelmente enfurecedoras</a></li>
<li><a href="../pt494938/index.html">Feliz dia de backup! N√£o esque√ßa dele</a></li>
<li><a href="../pt494940/index.html">DevOps - o que √©, por que e quanto √© demanda?</a></li>
<li><a href="../pt494942/index.html">CGI em casa com o Unreal Engine e o iPhone</a></li>
<li><a href="../pt494948/index.html">Criar uma caixa de correio VIP no Zimbra Collaboration Open-Source Edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>