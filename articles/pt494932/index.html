<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐝 🥋 🤕 Operando um grande sistema distribuído: o que aprendi 🏮 🤜🏿 🎂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lendo vários canais e boletins, frequentemente encontro artigos sobre “dores” e problemas específicos que surgem quando uma empresa cresce, quando a c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Operando um grande sistema distribuído: o que aprendi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/494932/"><img src="https://habrastorage.org/webt/xy/c2/rk/xyc2rkmcwj7enywqjgy-vgdynzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lendo vários canais e boletins, frequentemente encontro artigos sobre “dores” e problemas específicos que surgem quando uma empresa cresce, quando a confiabilidade e a escalabilidade vêm à tona. Este artigo é diferente. Não há análise detalhada de soluções arquitetônicas específicas ou um guia passo a passo para mudar a cultura da engenharia. Em vez disso, é uma visão superior dos desafios que surgem ao operar sistemas distribuídos e um ponto de partida que o ajudará a navegar no fluxo de termos, abreviações e tecnologias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trago a sua atenção a tradução de um artigo escrito por um engenheiro da Uber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos últimos anos, criei e mantive um grande </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistema de pagamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distribuído </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">no Uber</font></a><font style="vertical-align: inherit;"> . Durante esse período, aprendi muito sobre os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conceitos de arquiteturas distribuídas.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, por experiência própria, descobri como é difícil criar e manter sistemas altamente carregados com alta disponibilidade. Construir esse sistema é um trabalho interessante. Gosto de planejar como o sistema lidará com o crescimento do tráfego de 10 a 100 vezes, para garantir a confiabilidade dos dados, independentemente das falhas de hardware. No entanto, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">operar um grande sistema distribuído me proporcionou uma experiência inesperada</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto maior o sistema, maior a probabilidade de você encontrar uma manifestação da lei de Murphy: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo o que pode dar errado vai dar errado</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". A probabilidade é especialmente alta com lançamentos frequentes, quando muitos desenvolvedores lançam código, ao usar vários data centers e com uma enorme audiência de usuários em todo o mundo. Nos últimos anos, deparei-me com várias falhas no sistema, muitas das quais me surpreenderam: desde problemas previsíveis, como falhas de hardware ou bugs inocentes, até quebras de cabos que conectam os data centers a inúmeras falhas em cascata que ocorrem simultaneamente. Passei por dezenas de falhas nas quais partes do sistema não funcionavam corretamente, o que afetou bastante os negócios.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este artigo resume as técnicas que se beneficiaram com a operação de um grande sistema</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no Uber. </font><font style="vertical-align: inherit;">Minha experiência não é única: outros trabalham com sistemas do mesmo tamanho e passam pelas mesmas aventuras. </font><font style="vertical-align: inherit;">Conversei com engenheiros do Google, Facebook e Netflix, que enfrentaram situações semelhantes e criaram soluções semelhantes. </font><font style="vertical-align: inherit;">Muitas das idéias e processos descritos aqui podem ser aplicados a sistemas da mesma escala, independentemente de trabalharem em data centers de propriedade da empresa (como costuma ser o caso do Uber) ou na nuvem (onde o Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">às vezes escala</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">No entanto, essas dicas podem ser redundantes para sistemas não tão grandes ou importantes para a empresa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos falar sobre esses tópicos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serviço (de plantão), detecção e notificação de anomalias.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de falhas e incidentes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post Mortems, análise de incidentes e uma cultura de melhoria contínua.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover, planejamento de recursos e teste de caixa preta.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA e relatórios sobre eles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE como uma equipe independente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confiabilidade como investimento permanente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Materiais úteis.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender se o sistema está íntegro, precisamos responder à pergunta: “Funciona </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corretamente? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font><font style="vertical-align: inherit;">Para isso, é vital coletar informações sobre partes críticas do sistema. </font><font style="vertical-align: inherit;">E quando você distribui sistemas que consistem em vários serviços em vários servidores e em diferentes datacenters, pode ser difícil decidir quais pontos-chave você </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">realmente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> precisa acompanhar. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitorando o status da infraestrutura.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se uma ou mais máquinas / máquinas virtuais estiverem sobrecarregadas, algumas partes do sistema distribuído poderão sofrer uma redução no desempenho. As métricas de estado das máquinas nas quais o serviço está sendo executado - o consumo de recursos e memória do processador - são os parâmetros básicos que precisam ser monitorados. Existem plataformas que inicialmente rastreiam essas métricas e escalam instâncias automaticamente. O Uber possui uma excelente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">equipe de infraestrutura principal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que por padrão fornece monitoramento e alerta. Independentemente do método de implementação, você deve ter informações de que instâncias, infraestrutura ou serviços individuais têm problemas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento do status do serviço: tráfego, erros, atraso</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Muitas vezes, você precisa ter a resposta para a pergunta "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O back-end está funcionando bem?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " O monitoramento de métricas como a quantidade de tráfego recebido, a proporção de erros e o atraso na resposta fornece informações valiosas sobre o status do serviço. Eu prefiro criar painéis para todas essas métricas. Ao criar um novo serviço, o uso das respostas HTTP corretas e o monitoramento dos códigos correspondentes podem dizer muito sobre o estado do sistema. Se você tiver certeza de que os códigos 4xx são retornados para erros do cliente e os códigos 5xx são retornados para erros do servidor, será fácil criar e interpretar esse monitoramento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há algo mais a ser dito sobre o monitoramento de atrasos nas respostas. O objetivo dos serviços de produção é que a maioria dos usuários finais aproveite o uso deles. E medir o atraso médio não é a melhor solução, porque o valor médio pode ocultar um pequeno número de solicitações com um grande atraso. É muito melhor medir p95, p99 ou p999 - o atraso para o percentil 95, 99 ou 99,9 de solicitações. Esses números ajudam a responder a perguntas como " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual a rapidez da solicitação para 99% dos visitantes?"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P99) ou" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quão lenta será a solicitação para um visitante em cada 1000?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P999). Se você estiver interessado nos detalhes, poderá ler </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/xm/b_/e7xmb_bxizqg4bcqw40buaeylsc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gráfico para p95 e p99. Observe que o atraso médio para este terminal é inferior a 1 segundo e 1% das solicitações leva 2 segundos. e mais - isso não é visto ao medir o valor médio.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O tópico de monitoramento e observabilidade é muito mais profundo. Eu recomendo a leitura do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">SRE</font></a><font style="vertical-align: inherit;"> e da seção </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatro sinais dourados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre o monitoramento de sistemas distribuídos. Se, para um sistema com o qual os usuários interagem, você pode obter apenas quatro métricas, concentre-se no tráfego, erros, atraso e saturação. Há menos material - o e-book de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observabilidade de Sistemas Distribuídos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que descreve ferramentas úteis, como logs, bem como práticas recomendadas para o uso de métricas e rastreamento.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitorando métricas de negócios.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os serviços de monitoramento nos informam sobre sua condição geral. Mas, de acordo apenas com os dados de monitoramento, não podemos dizer se os serviços estão funcionando corretamente, se tudo foi processado corretamente do ponto de vista comercial. No caso do sistema de pagamento, a principal questão é: “ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As pessoas podem fazer viagens usando um método de pagamento específico?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " Uma das etapas mais importantes no monitoramento é identificar e rastrear eventos de negócios criados e processados ​​por este serviço.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minha equipe criou um monitoramento das métricas de negócios após uma falha que não pudemos detectar de outras maneiras. </font><font style="vertical-align: inherit;">Tudo parecia como se os serviços estivessem funcionando normalmente, mas na verdade a funcionalidade principal não funcionava. </font><font style="vertical-align: inherit;">Esse tipo de monitoramento era muito incomum para nossa empresa e campo de atividade. </font><font style="vertical-align: inherit;">Portanto, tivemos que fazer muitos esforços para configurar esse monitoramento por nós mesmos, criando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nosso próprio sistema</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dever, detecção de anomalias e alerta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O monitoramento é uma ótima ferramenta para verificar o status atual do sistema. Mas este é apenas um passo no caminho para detectar automaticamente falhas e alertar aqueles que devem fazer algo neste caso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O relógio é um tópico extenso. A Increment Magazine fez um excelente trabalho destacando muitos dos problemas da edição </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Na minha opinião, o dever é uma continuação lógica da abordagem "você criou - você possui". Os serviços são de propriedade das equipes que os criaram e também possuem um sistema de alerta e resposta a incidentes. Minha equipe possuía esse sistema para o serviço de pagamento que criamos. E quando o alerta chega, o engenheiro de plantão deve responder e descobrir o que está acontecendo. Mas como passamos do monitoramento para os alertas?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Determinar anomalias com base nos dados de monitoramento é uma tarefa difícil</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e o aprendizado de máquina deve se manifestar completamente aqui. Existem muitos serviços de terceiros para detectar anomalias. Felizmente para minha equipe, nossa empresa tem seu próprio grupo de aprendizado de máquina para resolver os problemas que o Uber enfrenta. A equipe de Nova York escreveu um artigo útil sobre como funciona a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">detecção de anomalias</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Uber</font></a><font style="vertical-align: inherit;"> . Do ponto de vista da minha equipe, só transmitimos dados de monitoramento para esse pipeline e recebemos alertas com vários graus de confiança. E então decidimos se informaremos o engenheiro sobre isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando preciso enviar um alerta? A questão é interessante. Se houver poucos alertas, podemos perder uma falha importante. Se for demais, as pessoas não vão dormir à noite.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O rastreamento e a categorização de alertas, bem como a medição da relação sinal / ruído, desempenham um papel importante na configuração de um sistema de alerta</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Um bom passo em direção a uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rotação constante de engenheiros de serviço</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> será analisar alertas, categorizar eventos como "exigindo ação" e "não exigir" e, em seguida, reduzir o número de alertas que não exigem ação.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/239/3be/498/2393be498f8076e4fdcd25d5c65ae6c9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de painel de serviço de chamada</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> criado pela equipe Uber Developer Experience em Vilnius. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equipe do Uber para a criação de ferramentas de desenvolvimento a partir de Vilnius </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">criou uma pequena ferramenta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que usamos para comentar alertas e visualizar trocas de tarefas. </font><font style="vertical-align: inherit;">Nossa equipe gera um relatório semanal sobre o trabalho do último turno de serviço, analisa pontos fracos e aprimora a metodologia do serviço.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciamento de falhas e incidentes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine: você é um engenheiro de serviço por uma semana. </font><font style="vertical-align: inherit;">No meio da noite, você acorda uma mensagem no pager. </font><font style="vertical-align: inherit;">Você está verificando se ocorreu uma falha na produção. </font><font style="vertical-align: inherit;">Porra, parece que parte do sistema caiu. </font><font style="vertical-align: inherit;">O que agora? </font><font style="vertical-align: inherit;">Monitorar e alertar apenas funcionou. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As falhas podem não ser particularmente problemáticas para pequenos sistemas quando o engenheiro de serviço pode entender o que aconteceu e por quê. </font><font style="vertical-align: inherit;">Geralmente nesses sistemas, você pode identificar rapidamente as causas e se livrar delas. </font><font style="vertical-align: inherit;">Porém, no caso de sistemas complexos que contêm muitos (micro) serviços, quando muitos engenheiros colocam o código em operação, a razão da falha é bastante difícil. </font><font style="vertical-align: inherit;">E a conformidade com vários procedimentos padrão pode ser de grande ajuda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira linha de defesa são </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">runbooks de procedimentos de resposta padrão</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que descrevem etapas simples de solução de problemas. Se a empresa tiver essas listas e for ativamente suportada, é improvável que uma idéia superficial do engenheiro de serviço sobre o sistema seja um problema. As listas precisam ser atualizadas, atualizadas e processadas para novas formas de solução de problemas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informar sobre falhas de outros funcionários</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Torna-se muito importante se várias equipes estiverem envolvidas na implantação de um serviço. No ambiente em que trabalho, os serviços, conforme necessário, são implementados por milhares de engenheiros, com uma frequência de centenas de lançamentos por hora. E a implantação aparentemente inócua de um serviço pode afetar outro. Em tal situação, um papel importante é desempenhado pela padronização dos canais de comunicação e comunicação de falhas. Eu tive muitos casos em que o alerta não era como qualquer outra coisa e percebi que para outras equipes isso também parece estranho. Em um bate-papo geral sobre falhas, identificamos o serviço responsável pela falha e eliminamos rapidamente as consequências. Juntos, conseguimos fazer isso muito mais rápido do que qualquer um de nós individualmente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elimine as consequências agora e descubra amanhã</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No meio de um acidente, muitas vezes eu estava sobrecarregado por uma onda de adrenalina por causa do desejo de corrigir erros. </font><font style="vertical-align: inherit;">Muitas vezes, a causa do problema estava lançando código incorreto com um bug óbvio. </font><font style="vertical-align: inherit;">Anteriormente, eu teria encerrado tudo e começado a corrigir erros, enviar uma correção e reverter o código com falha. </font><font style="vertical-align: inherit;">Mas consertar a causa no meio de um acidente é uma </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">péssima</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> idéia </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Com uma solução rápida, você pode conseguir pouco e perder muito</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como a correção precisa ser feita rapidamente, ela deve ser testada em batalha. </font><font style="vertical-align: inherit;">E este é o caminho para um novo bug - ou uma nova falha - além do existente. </font><font style="vertical-align: inherit;">Vi como isso causou uma série de falhas. </font><font style="vertical-align: inherit;">Apenas concentre-se em corrigir as consequências, não fique tentado a corrigir o código ou a encontrar a causa. </font><font style="vertical-align: inherit;">A investigação vai esperar até amanhã.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post Mortems, análise de incidentes e uma cultura de melhoria contínua</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um relatório de incidente é uma característica importante de como uma equipe lida com as consequências de uma falha. A situação preocupa as pessoas? Eles fazem uma pequena pesquisa ou dedicam uma quantidade incrível de esforço à observação, interrompem o produto e fazem correções? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O post-mortem corretamente escrito é um dos principais elementos da construção de sistemas sustentáveis. Não condena ninguém e não procura os culpados; este é um estudo e análise cuidadosos do incidente. Com o tempo, nossos modelos para tais relatórios evoluíram, seções com conclusões finais, avaliação de impacto, cronologia de eventos, análise do principal motivo, lições aprendidas e uma lista detalhada de elementos para observação adicional.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/652/c06/931/652c0693103d40024459362c326c723e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu usei esse padrão de manipulação de erros no Uber. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um bom post-mortem, a causa da falha é minuciosamente investigada e são propostas medidas para prevenir, detectar ou eliminar rapidamente as consequências de falhas semelhantes. </font><font style="vertical-align: inherit;">E quando digo "profundamente", quero dizer que os autores não param no fato de que o motivo foi a rolagem do código com um bug que o revisor não notou. </font><font style="vertical-align: inherit;">Os autores devem aplicar a metodologia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Five Why</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para chegar a uma conclusão mais útil. </font><font style="vertical-align: inherit;">Por exemplo:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que existe um problema? </font><font style="vertical-align: inherit;">-&gt; O</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bug foi carregado como parte do código.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que ninguém pegou um bug? </font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quem fez a revisão não percebeu que alterar o código poderia levar a esse problema.</font></font></li>
<li><i>     ,    ?</i> --&gt;         .</li>
<li><i>       ?</i> --&gt;         .</li>
<li><i>      ?</i> --&gt;       .</li>
<li>:          .    ,           .</li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A análise de incidentes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é uma ferramenta complementar importante para o trabalho em bugs. Enquanto algumas equipes trabalham com cuidado em bugs, outras podem se beneficiar de dados adicionais e fazer melhorias preventivas. Também é importante que as equipes se considerem responsáveis ​​e capazes de fazer as melhorias que propõem no nível do sistema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas organizações que levam a sério a confiabilidade, os incidentes mais graves são analisados ​​e eliminados por engenheiros experientes. Também é necessário gerenciar a engenharia no nível da empresa para garantir que as correções possam ser feitas - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especialmente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se elas consomem tempo ou interferem em outros trabalhos. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um sistema confiável não pode ser criado em uma noite: serão necessárias iterações constantes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Iterações resultantes de uma cultura da empresa de melhoria contínua com base nas lições aprendidas com os incidentes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failover, planejamento de recursos e teste de blackbox</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem vários procedimentos regulares que requerem investimento significativo, mas são críticos para manter um grande sistema distribuído. Cheguei a essas idéias no Uber, não era necessário aplicá-las a outras empresas devido à menor escala e indisponibilidade da infraestrutura. </font><font style="vertical-align: inherit;">Eu considerei o </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failover</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estúpido </font><strong><font style="vertical-align: inherit;">no data center (failover)</font></strong><font style="vertical-align: inherit;"> até me deparar com isso. Inicialmente, eu acreditava que o design de um sistema distribuído estável é a estabilidade dos data centers em queda. Por que deveria ser testado regularmente se tudo deveria </font><font style="vertical-align: inherit;">funcionar </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teoricamente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? A resposta depende do dimensionamento e do teste da capacidade dos serviços de lidar com eficiência com o aumento inesperado do tráfego no novo data center.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O cenário de falha mais comum que me deparei é que o serviço não possui recursos suficientes no novo datacenter para lidar com o tráfego global no caso de um failover. Suponha que o serviço A funcione em um data center e o serviço B. Deixe o consumo de recursos ser de 60% - dezenas ou centenas de máquinas virtuais giram em cada data center, e alertas são acionados quando um limite de 70% é atingido. Todo o tráfego do datacenter A para o datacenter B. falhou. O segundo datacenter não pode lidar com esse aumento de carga sem implantar novas máquinas. No entanto, isso pode levar muito tempo, portanto, as solicitações começam a se acumular e a cair. O bloqueio começa a afetar outros serviços, causando uma falha em cascata de outros sistemas que não estão relacionados ao failover primário.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/kj/ak/rjkjakjltskllvgtcjatntsuvxy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma situação possível em que o failover leva a problemas.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Outro cenário de falha popular envolve problemas no nível de roteamento, problemas com largura de banda da rede ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contrapressão</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O failover de data centers é um desenvolvimento que qualquer sistema distribuído confiável deve executar sem causar impacto nos usuários. Eu enfatizo - que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deve</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , este desenvolvimento é um dos exercícios mais úteis para verificar a confiabilidade de sistemas web distribuídos. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exercícios agendados de inatividade do serviço</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma ótima maneira de testar a estabilidade de um sistema inteiro. Também é uma ótima ferramenta para detectar dependências ocultas ou usos inadequados / inesperados de um sistema específico. Exercícios programados de inatividade podem ser relativamente fáceis de executar com serviços com os quais os clientes interagem e possuem dependências pouco conhecidas. No entanto, se estamos falando de sistemas críticos para os quais é permitido um tempo de inatividade muito curto ou dos quais muitos outros sistemas dependem, será difícil realizar esses exercícios. Mas o que acontece se esse sistema ficar indisponível um dia? É melhor responder a essa pergunta em um experimento controlado, para que todas as equipes estejam avisadas e prontas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teste de caixa preta</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(o método "caixa preta") é uma maneira de avaliar a correção do sistema em uma situação o mais próxima possível de como ocorre a interação com o usuário final. Isso é semelhante ao teste de ponta a ponta, exceto pelo fato de que, para a maioria dos produtos, o teste correto de caixa preta exige investimento próprio. Bons candidatos a esses testes são os principais processos e cenários do usuário que envolvem a interação do usuário: para testar o sistema, verifique se eles podem ser iniciados a qualquer momento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando o Uber como exemplo, um teste óbvio de caixa preta está verificando a interação motorista-passageiro no nível da cidade: um passageiro pode encontrar um motorista e fazer uma viagem mediante uma solicitação específica? Após automatizar esse cenário, o teste pode ser executado regularmente, emulando diferentes cidades. Um sistema confiável de teste de caixa preta facilita a verificação da operação correta do sistema ou de suas partes. Também ajuda bastante no teste de failover: a maneira mais rápida de obter feedback de troca é executar o teste de caixa preta. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/gz/mw/hxgzmwfqkyhrzxefxuhqrusne2e.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo de teste de caixa preta durante failover de failover e reversão manual. </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planejamento de recursos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desempenha um papel particularmente importante para grandes sistemas distribuídos. Em geral, quero dizer aqueles em que o custo de computação e armazenamento é calculado em dezenas ou centenas de milhares de dólares por mês. Nessa escala, pode ser mais barato ter um número fixo de implantações do que usar soluções em nuvem auto-escaláveis. Em casos extremos, as implantações fixas devem lidar com o tráfego característico dos "negócios normais", com dimensionamento automático apenas em cargas de pico. Mas qual é o número mínimo de instâncias a serem aplicadas no próximo mês? Nos próximos três meses? Próximo ano?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não é difícil prever futuros padrões de tráfego para sistemas maduros com grandes volumes de estatísticas. </font><font style="vertical-align: inherit;">Isso é importante para o orçamento, a escolha de fornecedores ou para a fixação de descontos de provedores de nuvem. </font><font style="vertical-align: inherit;">Se o seu serviço gera grandes contas e você não pensou no planejamento de recursos, está faltando uma maneira fácil de reduzir custos e gerenciá-los.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA e relatórios sobre eles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLO significa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Level Objective</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , uma métrica para a disponibilidade do sistema. </font><font style="vertical-align: inherit;">É uma boa prática definir </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLOs no nível de serviço</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para desempenho, tempo de resposta, correção e disponibilidade. </font><font style="vertical-align: inherit;">Esses SLOs podem ser usados ​​como limites de alerta. </font><font style="vertical-align: inherit;">Exemplo:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Métrica SLO</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Subcategoria</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valor do Serviço</font></font></strong></th>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atuação</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Largura de banda mínima</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 solicitações por segundo</font></font></td>
</tr>
<tr>
<td></td>
<td>   </td>
<td>2 500   </td>
</tr>
<tr>
<td><strong> </strong></td>
<td>   </td>
<td>50-90 </td>
</tr>
<tr>
<td></td>
<td>   p99</td>
<td>500-800 </td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>0,5 %</td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>99,9 %</td>
</tr>
</tbody></table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO no nível de negócios</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ou SLOs funcionais, isso é uma abstração sobre serviços. Eles cobrem métricas personalizadas ou comerciais. Por exemplo, um SLO em nível de negócios pode ser o seguinte: 99,99% dos recebimentos devem ser enviados por correio dentro de 1 minuto após a conclusão de uma viagem. Esse SLO pode ser comparado ao SLO no nível de serviço (por exemplo, com o atraso do sistema de pagamento ou do sistema de envio de cheques) e pode ser medido separadamente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLA - Contrato de Nível de Serviço</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Este é um acordo mais geral entre um provedor de serviços e seu consumidor. Normalmente, vários SLOs compõem um SLA. Por exemplo, a disponibilidade de um sistema de pagamento no nível de 99,99% pode ser SLA, que é dividido em SLOs específicos para cada sistema correspondente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de determinar o SLO, você precisa medi-los e fazer um relatório.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O monitoramento e os relatórios automáticos de SLAs e SLOs geralmente são um projeto complexo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nem os engenheiros nem as empresas desejam priorizar. </font><font style="vertical-align: inherit;">Os engenheiros não estarão interessados, porque eles já têm níveis diferentes de monitoramento para identificar falhas em tempo real. </font><font style="vertical-align: inherit;">Uma empresa prioriza melhor a entrega da funcionalidade, em vez de investir em um projeto complexo que não trará benefícios imediatos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E isso nos leva a outro tópico: organizações que operam grandes sistemas distribuídos, mais cedo ou mais tarde, precisam alocar pessoas para garantir a confiabilidade desses sistemas. </font><font style="vertical-align: inherit;">Vamos falar sobre a equipe do SRE - Site Reliability Engineering.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE como equipe independente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O termo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engenharia de confiabilidade do site foi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cunhado pelo Google por volta de 2003 e hoje existem mais de 1.500 engenheiros do SRE. À medida que a operação do ambiente de produção está se tornando uma tarefa cada vez mais complexa, exigindo mais automação, em breve se tornará um trabalho completo. Isso acontece quando as empresas percebem que os engenheiros trabalham na automação do ambiente de produção quase o dia inteiro: quanto mais importante o sistema e mais falhas ocorrem, mais cedo o SRE se torna uma posição separada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As empresas de tecnologia de rápido crescimento geralmente montam uma equipe de SRE desde o início, que planejam para si mesmas. No Uber, essa equipe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">foi criada em 2015.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seu objetivo era gerenciar a complexidade do sistema. Em outras empresas, a alocação de equipes de SRE pode ser associada à criação de uma equipe de infraestrutura separada. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando a empresa cresce a um nível tal que garantir a confiabilidade do serviço exija a atenção de um número significativo de engenheiros, é hora de criar uma equipe separada.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equipe do SRE simplifica bastante a manutenção de grandes sistemas distribuídos para todos os engenheiros. A equipe do SRE provavelmente possui ferramentas padrão de monitoramento e alertas. Eles provavelmente estão comprando ou criando ferramentas de plantão e estão dispostos a compartilhar sua experiência. Eles podem facilitar a análise de incidentes e criar sistemas que facilitam a detecção de falhas, reduzem suas consequências e as previnem no futuro. O comando SRE certamente facilita as operações de failover. É frequentemente usado para testar caixas pretas e planejar o desempenho. Os engenheiros do SRE gerenciam a seleção, personalização ou criação de ferramentas padrão para determinar e medir os SLOs e gerar relatórios sobre eles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que todas as empresas têm seus próprios problemas, cuja solução recrutam SRE, essas equipes em diferentes empresas têm estruturas diferentes. </font><font style="vertical-align: inherit;">Até os nomes podem variar: pode ser um serviço de operação, engenharia de plataforma ou serviço de infraestrutura. </font><font style="vertical-align: inherit;">O Google publicou dois </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livros de leitura obrigatória para garantir a confiabilidade dos serviços</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Eles estão disponíveis gratuitamente e são uma excelente fonte de informações para um estudo mais aprofundado do tópico da SRE.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confiabilidade como investimento permanente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao criar qualquer produto, montar a primeira versão é apenas o começo. Depois disso, haverá novas iterações, com novos recursos. Se o produto for bem-sucedido e lucrativo, o trabalho continuará. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os sistemas distribuídos têm o mesmo ciclo de vida, exceto que precisam de mais investimento não apenas em novos recursos, mas também em acompanhar o dimensionamento. Quando a carga no sistema aumenta, você precisa armazenar mais dados, mais engenheiros trabalham no sistema, você precisa cuidar constantemente do seu funcionamento normal. Muitos dos que criam sistemas distribuídos pela primeira vez os consideram algo como uma máquina: depois de fazer isso, é suficiente realizar determinadas manutenções a cada poucos meses. É difícil chegar a uma comparação mais distante da realidade.</font></font><br>
<br>
<strong>         , , </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Para que o hospital funcione bem, são necessárias verificações constantes (monitoramento, alertas, teste de caixa preta). O tempo todo é necessário para contratar novos funcionários e equipamentos: para hospitais, são enfermeiros, médicos e dispositivos médicos, e para sistemas distribuídos, novos engenheiros e serviços. À medida que o número de funcionários e serviços aumenta, os velhos métodos de trabalho se tornam ineficazes: uma pequena clínica no interior funciona de maneira diferente de um grande hospital em uma metrópole. Conseguir maneiras mais eficazes de funcionar se transforma em um trabalho completo, e medições e alertas estão se tornando cada vez mais importantes. Como um hospital grande requer mais pessoal, como contabilidade, recursos humanos e segurança,e a operação de grandes sistemas distribuídos depende de equipes de serviço como infraestrutura e SRE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que a equipe mantenha um sistema distribuído confiável, a organização deve investir constantemente em seu funcionamento, bem como no trabalho das plataformas nas quais o sistema foi construído.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Materiais úteis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embora o artigo tenha sido longo, apresenta apenas os momentos mais superficiais. </font><font style="vertical-align: inherit;">Para saber mais sobre os recursos dos sistemas distribuídos operacionais, recomendo estas fontes: </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Livros</font></font></strong><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Google SRE Book</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é um ótimo livro gratuito do Google. </font><font style="vertical-align: inherit;">O capítulo sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoramento de sistemas distribuídos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é especialmente importante para este artigo </font><font style="vertical-align: inherit;">.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observabilidade de sistemas distribuídos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , outro ótimo livro gratuito com ótimas dicas sobre o monitoramento de sistemas distribuídos.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projetar aplicativos intensivos em dados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é o livro mais prático sobre o conceito de sistemas distribuídos que me deparei. </font><font style="vertical-align: inherit;">No entanto, não abrange os aspectos operacionais que examinamos tão profundamente.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sites</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edição </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On-Call da Increment Magazine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Uma série de artigos sobre processos de resposta a incidentes na Amazon, Dropbox, Facebook, Google e Netflix.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprendendo a criar sistemas distribuídos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - artigo do AWS Engineer que responde à pergunta “Como aprender a criar grandes sistemas distribuídos?”</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veja </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comentários sobre este artigo no Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt494918/index.html">A terceira semana do vôo remoto - normal. Comentários dos profissionais de TI QIWI sobre o trabalho em tempo integral em casa</a></li>
<li><a href="../pt494920/index.html">Maus conselhos ao desenvolvedor: o que fazer para "agradar" a gerência</a></li>
<li><a href="../pt494922/index.html">Nizhny Novgorod para um especialista em TI: perspectivas de trabalho e oportunidades para a vida</a></li>
<li><a href="../pt494924/index.html">A implementação do efeito aquarela nos jogos</a></li>
<li><a href="../pt494930/index.html">Unity3D: Agregador automático de gerenciador de scripts</a></li>
<li><a href="../pt494934/index.html">6 erros em palavras em inglês que são terrivelmente enfurecedoras</a></li>
<li><a href="../pt494938/index.html">Feliz dia de backup! Não esqueça dele</a></li>
<li><a href="../pt494940/index.html">DevOps - o que é, por que e quanto é demanda?</a></li>
<li><a href="../pt494942/index.html">CGI em casa com o Unreal Engine e o iPhone</a></li>
<li><a href="../pt494948/index.html">Criar uma caixa de correio VIP no Zimbra Collaboration Open-Source Edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>