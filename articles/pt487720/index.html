<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì† üë®üèΩ‚Äçüî¨ üë®üèª‚Äçüéì Sobre corutinismo competitivo (usando programa√ß√£o reativa como exemplo) üàØÔ∏è üéã üìî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introdu√ß√£o
 A competi√ß√£o pelas mentes, humores e aspira√ß√µes dos programadores √©, como me parece, uma tend√™ncia moderna no desenvolvimento da progra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Sobre corutinismo competitivo (usando programa√ß√£o reativa como exemplo)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487720/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Introdu√ß√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A competi√ß√£o pelas mentes, humores e aspira√ß√µes dos programadores √©, como me parece, uma tend√™ncia moderna no desenvolvimento da programa√ß√£o. Quando quase nada √© proposto, embora sob o lema da luta por ele. √â muito, muito dif√≠cil reconhecer, no meio dos paradigmas de software, algo novo, que na verdade costuma ser bem conhecido e, √†s vezes, simplesmente desatualizado. Tudo √© "lavado" por del√≠cias terminol√≥gicas, an√°lises detalhadas e exemplos de m√∫ltiplas linhas em muitas linguagens de programa√ß√£o. Ao mesmo tempo, solicita√ß√µes para abrir e / ou considerar o plano de fundo da solu√ß√£o, a ess√™ncia das inova√ß√µes √© obstinadamente evitada, as tentativas de descobrir quanto isso √© necess√°rio e o que dar√° no final, o que distingue qualitativamente a inova√ß√£o das abordagens e ferramentas de programa√ß√£o j√° conhecidas, s√£o frustrados pela raiz.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu apareci em Habr√©, como foi notado em uma das discuss√µes, depois de um certo congelamento. Eu nem me importo. Pelo menos, a impress√£o, aparentemente, √© exatamente isso. Portanto, concordo, confesso, embora, se a culpa for minha, seja apenas parcialmente. Admito que vivo de acordo com as id√©ias sobre programa√ß√£o paralela, formadas nos anos 80 do s√©culo passado. Antiguidade? Talvez. Mas me diga o que h√° de novo, sobre o qual a ci√™ncia da programa√ß√£o [paralela] ainda n√£o seria conhecida (veja detalhes [1]). Naquela √©poca, os programas paralelos eram divididos em duas classes - paralelo-serial e ass√≠ncrono. Se o primeiro j√° era considerado arcaico, o segundo - avan√ßado e verdadeiramente paralelo. Entre os √∫ltimos, destacou-se a programa√ß√£o com controle de eventos (ou apenas programa√ß√£o de eventos), controle de fluxo e programa√ß√£o din√¢mica.Isso √© tudo em geral. Mais detalhes j√°.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E o que a programa√ß√£o atual oferece al√©m do que j√° √© conhecido h√° pelo menos 40 anos? No meu "olhar congelado" - nada. As corotinas, como se viu, agora s√£o chamadas de corotinas ou at√© goroutinas; os termos concorr√™ncia e concorr√™ncia entram em um estupor, ao que parece, n√£o apenas tradutores. E n√£o existem exemplos. Por exemplo, qual √© a diferen√ßa entre programa√ß√£o reativa (RP) e programa√ß√£o ou streaming de eventos? Em quais das categorias e / ou classifica√ß√µes conhecidas se enquadra? Ningu√©m parece estar interessado nisso, e ningu√©m pode esclarecer isso. Ou voc√™ pode classificar agora pelo nome? Ent√£o, de fato, corotinas e corotinas s√£o coisas diferentes, e a programa√ß√£o paralela √© simplesmente obrigada a diferir da competitiva. E as m√°quinas de estado? Que tipo de t√©cnica milagrosa √© essa?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O "espaguete" na cabe√ßa surge do esquecimento da teoria em que, quando um novo modelo √© introduzido, ele √© comparado com modelos j√° conhecidos e bem estudados. </font><font style="vertical-align: inherit;">Se isso ser√° feito bem, mas pelo menos voc√™ pode descobrir, porque o processo √© formalizado. </font><font style="vertical-align: inherit;">Mas como chegar ao fundo da quest√£o se voc√™ der um novo apelido √†s corotinas e depois escolher o ‚Äúc√≥digo de capa‚Äù simultaneamente em cinco idiomas, avaliando ainda a perspectiva de migra√ß√£o para threads. </font><font style="vertical-align: inherit;">E essas s√£o apenas corotinas, que, francamente, j√° devem ser esquecidas por causa de sua natureza elementar e seu pequeno uso (√©, √© claro, sobre a minha experi√™ncia).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Programa√ß√£o reativa e tudo, tudo, tudo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o estabeleceremos o objetivo de entender completamente o conceito de ‚Äúprograma√ß√£o reativa‚Äù, embora tomemos o ‚Äúexemplo reativo‚Äù como base para uma discuss√£o mais aprofundada. </font><font style="vertical-align: inherit;">Seu modelo formal ser√° criado com base no conhecido modelo formal. </font><font style="vertical-align: inherit;">E isso, espero, nos permitir√° entender de maneira clara, precisa e detalhada a interpreta√ß√£o e opera√ß√£o do programa original. </font><font style="vertical-align: inherit;">Mas quanto o modelo criado e sua implementa√ß√£o ser√£o "reativos" cabe aos apologistas desse tipo de programa√ß√£o decidir. </font><font style="vertical-align: inherit;">No momento, basta que o novo modelo tenha que implementar / modelar todas as nuances do exemplo original. </font><font style="vertical-align: inherit;">Se algo n√£o for levado em considera√ß√£o, espero que haja quem me corrija. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, em [2], foi considerado um exemplo de programa reativo, cujo c√≥digo √© mostrado na Listagem 1.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 1. C√≥digo do programa reativo</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">1. 1 = 2 <font></font>
2. 2 = 3 <font></font>
3. 3 = 1 + 2 <font></font>
4.  1, 2, 3 <font></font>
5. 1 = 4 <font></font>
6.  1, 2, 3</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No mundo da programa√ß√£o reativa, o resultado de seu trabalho ser√° diferente do resultado de um programa regular do mesmo tipo. Isso por si s√≥ √© ruim, se n√£o para dizer feiura, porque O resultado do programa deve ser inequ√≠voco e n√£o depender da implementa√ß√£o. Mas mais confunde o outro. Em primeiro lugar, na apar√™ncia, dificilmente √© poss√≠vel distinguir um c√≥digo semelhante regular de um c√≥digo reativo. Em segundo lugar, aparentemente, o pr√≥prio autor n√£o est√° inteiramente certo do trabalho do programa reativo, falando sobre o resultado "mais prov√°vel". E terceiro, qual dos resultados √© considerado correto?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tal ambiguidade na interpreta√ß√£o do c√≥digo levou ao fato de que n√£o √© imediatamente poss√≠vel "cort√°-lo". </font><font style="vertical-align: inherit;">Mas ent√£o, como costuma acontecer, tudo se tornou muito mais simples do que se poderia esperar. </font><font style="vertical-align: inherit;">A Figura 1 mostra dois diagramas estruturais que, esperan√ßosamente, correspondem √† estrutura e explicam a opera√ß√£o do exemplo. </font><font style="vertical-align: inherit;">No diagrama superior, os blocos X1 e X2 organizam a entrada de dados, sinalizando o bloco X3 sobre suas altera√ß√µes. </font><font style="vertical-align: inherit;">O √∫ltimo executa a soma e permite que o bloco Pr imprima os valores atuais das vari√°veis. </font><font style="vertical-align: inherit;">Depois de impresso, o bloco Pr sinaliza para o bloco X3, al√©m disso, para ele e somente para ele que ele est√° pronto para imprimir novos valores.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">1. Dois modelos estruturais do exemplo</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/tw/hs/rq/twhsrqxfdfuyxi4txtd9ciat6hs.jpeg" alt="image"><br>
</div></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O segundo esquema, em compara√ß√£o com o primeiro, √© bastante elementar. Como parte de um √∫nico bloco, ele insere dados e implementa sequencialmente: 1) calculando a soma dos dados de entrada e 2) imprimindo-os. O preenchimento interno do bloco neste n√≠vel de apresenta√ß√£o n√£o √© divulgado. Embora se possa dizer que, no n√≠vel estrutural, pode ser uma "caixa preta", incluindo um esquema de quatro blocos. Mas, ainda assim, seu dispositivo [algor√≠tmico] deve ser diferente. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comente. A abordagem do programa como uma caixa preta reflete essencialmente a atitude do usu√°rio em rela√ß√£o a ele. Este √∫ltimo n√£o est√° interessado em sua implementa√ß√£o, mas no resultado do trabalho. Seja um programa reativo, um programa de eventos ou algum outro, mas o resultado de acordo com a teoria dos algoritmos deve ser inequ√≠voco e previs√≠vel.</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na fig. </font><font style="vertical-align: inherit;">2 apresenta modelos algor√≠tmicos que esclarecem em detalhes a estrutura [algor√≠tmica] interna dos blocos de circuito. </font><font style="vertical-align: inherit;">O modelo superior √© representado por uma rede de aut√¥matos, onde cada um dos aut√¥matos √© um modelo algor√≠tmico de um bloco separado. </font><font style="vertical-align: inherit;">As conex√µes entre os aut√¥matos mostrados pelos arcos tracejados correspondem √†s conex√µes do circuito. </font><font style="vertical-align: inherit;">Um modelo de aut√¥mato √∫nico descreve o algoritmo de opera√ß√£o de um diagrama de blocos que consiste em um bloco (consulte um bloco Pr separado na Fig. 1).</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">2. Modelos algor√≠tmicos para esquemas estruturais</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/rj/4f/ds/rj4fdsx8kekihnbqqebmpji1y9e.jpeg" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os aut√¥matos X1 e X2 (os nomes dos aut√¥matos e blocos coincidem com os nomes de suas vari√°veis), detectam as altera√ß√µes e, se o aut√¥mato X3 estiver pronto para executar a opera√ß√£o de adi√ß√£o (no estado "s0"), entra no estado "s1", lembrando o valor atual da vari√°vel. A m√°quina X3, tendo recebido permiss√£o para entrar no estado ‚Äús1‚Äù, executa a opera√ß√£o de adi√ß√£o e, se necess√°rio, aguarda a conclus√£o da impress√£o das vari√°veis. ‚ÄúA m√°quina de impress√£o‚Äú Pr, ap√≥s concluir a impress√£o, retorna ao estado inicial ‚Äúp0‚Äù, onde aguarda o pr√≥ximo comando. Observe que seu estado "p1" inicia uma cadeia de transi√ß√µes reversas - o aut√¥mato X3 para o estado "s0" e X1 e X2 para o estado "s0". Depois disso, a an√°lise dos dados de entrada e o somat√≥rio e a impress√£o subsequente s√£o repetidos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comparado √† rede de aut√¥matos, o algoritmo de um aut√¥mato Pr separado √© bastante simples, mas, observamos, ele faz o mesmo trabalho e talvez at√© mais r√°pido. </font><font style="vertical-align: inherit;">Seus predicados revelam uma mudan√ßa nas vari√°veis. </font><font style="vertical-align: inherit;">Se isso acontecer, a transi√ß√£o para o estado ‚Äúp1‚Äù √© realizada com o in√≠cio da a√ß√£o y1 (veja a Fig. 2), que resume os valores atuais das vari√°veis, lembrando-os. </font><font style="vertical-align: inherit;">Em uma transi√ß√£o incondicional do estado ‚Äúp1‚Äù para o estado ‚Äúp0‚Äù, a a√ß√£o y2 imprime as vari√°veis. </font><font style="vertical-align: inherit;">Depois disso, o processo retorna √† an√°lise dos dados de entrada. </font><font style="vertical-align: inherit;">O c√≥digo de implementa√ß√£o para o modelo mais recente √© mostrado na Listagem 2.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 2. Implementa√ß√£o do aut√¥mato Pr</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fsynch.h"</span></span>
<span class="hljs-keyword">extern</span> LArc TBL_PlusX3[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FPlusX3</span> :</span> <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FPlusX3(nameFsa, pCVarFsaLibrary); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
    FPlusX3(<span class="hljs-built_in">string</span> strNam, CVarFsaLibrary *pCVFL): LFsaAppl(TBL_PlusX3, strNam, <span class="hljs-literal">nullptr</span>, pCVFL) { }<font></font>
<font></font>
    CVar *pVarY;        		<span class="hljs-comment">// </span>
    CVar *pVarX1;        		<span class="hljs-comment">// </span>
    CVar *pVarX2;        		<span class="hljs-comment">// </span>
    CVar *pVarX3;        		<span class="hljs-comment">// </span>
    CVar *pVarStrNameX1;		<span class="hljs-comment">//   X1</span>
    CVar *pVarStrNameX2;		<span class="hljs-comment">//   X2</span>
    CVar *pVarStrNameX3;		<span class="hljs-comment">//   X3</span>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x2</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarX1 != <span class="hljs-literal">nullptr</span> &amp;&amp; pVarX2 &amp;&amp; pVarX3; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span> </span>{ FInit(); };
    <span class="hljs-keyword">double</span> dSaveX1{<span class="hljs-number">0</span>};
    <span class="hljs-keyword">double</span> dSaveX2{<span class="hljs-number">0</span>};<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fplusx3.h"</span></span><font></font>
<font></font>
LArc TBL_PlusX3[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>), 		<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"p0"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"p0"</span>,		<span class="hljs-string">"p1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"p0"</span>,		<span class="hljs-string">"p1"</span>,<span class="hljs-string">"x2"</span>,  <span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"p1"</span>,		<span class="hljs-string">"p0"</span>,<span class="hljs-string">"--"</span>,  <span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">// creating local variables and initialization of pointers</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FPlusX3::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// creating local variables</span>
    pVarY = CreateLocVar(<span class="hljs-string">"strY"</span>, CLocVar::vtString, <span class="hljs-string">"print of output string"</span>);			<span class="hljs-comment">//  </span>
    pVarX1 = CreateLocVar(<span class="hljs-string">"dX1"</span>, CLocVar::vtDouble, <span class="hljs-string">""</span>);			<span class="hljs-comment">//  </span>
    pVarX2 = CreateLocVar(<span class="hljs-string">"dX2"</span>, CLocVar::vtDouble, <span class="hljs-string">""</span>);			<span class="hljs-comment">//  </span>
    pVarX3 = CreateLocVar(<span class="hljs-string">"dX3"</span>, CLocVar::vtDouble, <span class="hljs-string">""</span>);			<span class="hljs-comment">//  </span>
    pVarStrNameX1 = CreateLocVar(<span class="hljs-string">"strNameX1"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);			<span class="hljs-comment">//   </span>
    pVarStrNameX2 = CreateLocVar(<span class="hljs-string">"strNameX2"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);			<span class="hljs-comment">//   </span>
    pVarStrNameX3 = CreateLocVar(<span class="hljs-string">"strNameX3"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);			<span class="hljs-comment">//   </span>
<span class="hljs-comment">// initialization of pointers</span>
    <span class="hljs-built_in">string</span> str;<font></font>
    str = pVarStrNameX1-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarX1 = pTAppCore-&gt;GetAddressVar(str.c_str(), <span class="hljs-keyword">this</span>);	}<font></font>
    str = pVarStrNameX2-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarX2 = pTAppCore-&gt;GetAddressVar(str.c_str(), <span class="hljs-keyword">this</span>);	}<font></font>
    str = pVarStrNameX3-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarX3 = pTAppCore-&gt;GetAddressVar(str.c_str(), <span class="hljs-keyword">this</span>);	}
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FPlusX3::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarX1-&gt;GetDataSrc() != dSaveX1; }
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FPlusX3::x2</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarX2-&gt;GetDataSrc() != dSaveX2; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FPlusX3::y1</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// X3 = X1 + X2</span>
    <span class="hljs-keyword">double</span> dX1 = pVarX1-&gt;GetDataSrc(); <span class="hljs-keyword">double</span> dX2 = pVarX2-&gt;GetDataSrc();
    <span class="hljs-keyword">double</span> dX3 = dX1 + dX2;<font></font>
    pVarX3-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, dX3);<font></font>
    dSaveX1 = dX1; dSaveX2 = dX2;<font></font>
<span class="hljs-comment">//  1, 2, 3</span><font></font>
    QString strX1; strX1.setNum(dX1); QString strX2; strX2.setNum(dX2);<font></font>
    QString strX3; strX3.setNum(dX3);<font></font>
    QString qstr = <span class="hljs-string">"X1="</span> + strX1 + <span class="hljs-string">", X2="</span> + strX2 + <span class="hljs-string">", X3="</span> + strX3;<font></font>
    pVarY-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, qstr.toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A quantidade de c√≥digo √© claramente incomparavelmente maior que o exemplo original. Mas, observe, nem um √∫nico c√≥digo. A nova solu√ß√£o remove todos os problemas de funcionamento, n√£o permitindo fantasias na interpreta√ß√£o do programa. Um exemplo que parece compacto e elegante, mas sobre o qual voc√™ pode dizer "provavelmente", n√£o causa, digamos, emo√ß√µes positivas e um desejo de trabalhar com ele. Deve-se notar tamb√©m que √© necess√°rio comparar realmente com a a√ß√£o do aut√¥mato y1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O restante do c√≥digo est√° relacionado aos requisitos do "ambiente autom√°tico", que, observo, n√£o √© falado no c√≥digo-fonte. Portanto, o m√©todo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FCreationOfLinksForVariables</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da </font><font style="vertical-align: inherit;">classe de aut√¥mato base </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LFsaAppl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cria vari√°veis ‚Äã‚Äãlocais para a m√°quina e vincula a elas quando no n√≠vel do ambiente VKPA s√£o indicados nomes simb√≥licos das outras vari√°veis ‚Äã‚Äãde ambiente associadas a elas. A primeira vez que ele inicia ao criar um aut√¥mato e depois dentro da estrutura do m√©todo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FInit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (consulte a etapa y12), porque nem todos os links s√£o conhecidos ao criar um objeto. A m√°quina permanecer√° no estado "st" at√© que todos os links necess√°rios que as verifica√ß√µes do predicado x12 sejam inicializados. Uma refer√™ncia a uma vari√°vel, se receber seu nome, retorna o m√©todo GetAddressVar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para remover poss√≠veis perguntas, apresentamos o c√≥digo da rede de aut√¥matos. </font><font style="vertical-align: inherit;">√â mostrado na Listagem 3 e inclui o c√≥digo para tr√™s classes de aut√¥matos. </font><font style="vertical-align: inherit;">√â com base nisso que s√£o criados muitos objetos que correspondem ao diagrama estrutural da rede mostrado na Fig. </font><font style="vertical-align: inherit;">1. Observe que os objetos X1 e X2 s√£o derivados da classe geral FSynch.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listagem 3. Classes de rede automatizadas</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> LArc TBL_Synch[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FSynch</span> :</span> <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">dGetData</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarX-&gt;GetDataSrc(); };
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FSynch(nameFsa, pCVarFsaLibrary); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
    FSynch(<span class="hljs-built_in">string</span> strNam, CVarFsaLibrary *pCVFL): LFsaAppl(TBL_Synch, strNam, <span class="hljs-literal">nullptr</span>, pCVFL) { }<font></font>
<font></font>
    CVar *pVarX;			<span class="hljs-comment">// </span>
    CVar *pVarStrNameX;		<span class="hljs-comment">//   </span>
    CVar *pVarStrNameObject;<span class="hljs-comment">//  -</span>
    LFsaAppl *pL {<span class="hljs-literal">nullptr</span>};
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarX-&gt;GetDataSrc() != dSaveX; }
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x2</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pL-&gt;FGetState() == <span class="hljs-string">"s1"</span>; }
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pL != <span class="hljs-literal">nullptr</span>; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span> </span>{ dSaveX = pVarX-&gt;GetDataSrc(); }
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span> </span>{ FInit(); };
    <span class="hljs-keyword">double</span> dSaveX{<span class="hljs-number">0</span>};<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fsynch.h"</span></span><font></font>
<font></font>
LArc TBL_Synch[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>), 		<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"s0"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s0"</span>,		<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s1"</span>,		<span class="hljs-string">"s0"</span>,<span class="hljs-string">"x2"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">// creating local variables and initialization of pointers</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FSynch::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// creating local variables</span>
    pVarX = CreateLocVar(<span class="hljs-string">"x"</span>, CLocVar::vtDouble, <span class="hljs-string">" "</span>);<font></font>
    pVarStrNameX = CreateLocVar(<span class="hljs-string">"strNameX1"</span>, CLocVar::vtString, <span class="hljs-string">"name of external input variable(x1)"</span>);			<span class="hljs-comment">//   </span>
    pVarStrNameObject = CreateLocVar(<span class="hljs-string">"strNameObject"</span>, CLocVar::vtString, <span class="hljs-string">"name of function"</span>);                   <span class="hljs-comment">//  </span>
<span class="hljs-comment">// initialization of pointers</span>
    <span class="hljs-built_in">string</span> str;
    <span class="hljs-keyword">if</span> (pVarStrNameX) {<font></font>
        str = pVarStrNameX-&gt;strGetDataSrc();<font></font>
        <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarX = pTAppCore-&gt;GetAddressVar(str.c_str(), <span class="hljs-keyword">this</span>);	}<font></font>
    }<font></font>
    str = pVarStrNameObject-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pL = FGetPtrFsaAppl(str);	}
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fsynch.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> LArc TBL_X1X2X3[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FX1X2X3</span> :</span> <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">dGetData</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarX3-&gt;GetDataSrc(); };
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FX1X2X3(nameFsa, pCVarFsaLibrary); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
    FX1X2X3(<span class="hljs-built_in">string</span> strNam, CVarFsaLibrary *pCVFL): LFsaAppl(TBL_X1X2X3, strNam, <span class="hljs-literal">nullptr</span>, pCVFL) { }<font></font>
<font></font>
    CVar *pVarX1{<span class="hljs-literal">nullptr</span>};			<span class="hljs-comment">//</span>
    CVar *pVarX2{<span class="hljs-literal">nullptr</span>};			<span class="hljs-comment">//</span>
    CVar *pVarX3{<span class="hljs-literal">nullptr</span>};			<span class="hljs-comment">//</span>
    CVar *pVarStrNameFX1;		<span class="hljs-comment">//  X1</span>
    CVar *pVarStrNameFX2;		<span class="hljs-comment">//  X2</span>
    CVar *pVarStrNameFPr;		<span class="hljs-comment">//  Pr</span>
    CVar *pVarStrNameX3;		<span class="hljs-comment">//   </span>
    FSynch *pLX1 {<span class="hljs-literal">nullptr</span>};<font></font>
    FSynch *pLX2 {<span class="hljs-literal">nullptr</span>};<font></font>
    LFsaAppl *pLPr {<span class="hljs-literal">nullptr</span>};
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pLX1-&gt;FGetState() == <span class="hljs-string">"s1"</span>; }
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x2</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pLX2-&gt;FGetState() == <span class="hljs-string">"s1"</span>; }
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x3</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pLPr-&gt;FGetState() == <span class="hljs-string">"p1"</span>; }
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pLPr != <span class="hljs-literal">nullptr</span> &amp;&amp; pLX1 &amp;&amp; pLX2 &amp;&amp; pVarX3; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span> </span>{ pVarX3-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pLX1-&gt;dGetData() + pLX2-&gt;dGetData()); }
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span> </span>{ FInit(); };<font></font>
};<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fx1x2x3.h"</span></span><font></font>
<font></font>
LArc TBL_X1X2X3[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>), 		<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"s0"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s0"</span>,		<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s0"</span>,		<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x2"</span>,  <span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s1"</span>,		<span class="hljs-string">"s0"</span>,<span class="hljs-string">"x3"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<span class="hljs-comment">// creating local variables and initialization of pointers</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FX1X2X3::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// creating local variables</span>
    pVarX3 = CreateLocVar(<span class="hljs-string">"x"</span>, CLocVar::vtDouble, <span class="hljs-string">" "</span>);<font></font>
    pVarStrNameFX1 = CreateLocVar(<span class="hljs-string">"strNameFX1"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    pVarStrNameFX2 = CreateLocVar(<span class="hljs-string">"strNameFX2"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    pVarStrNameFPr = CreateLocVar(<span class="hljs-string">"strNameFPr"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);<font></font>
    pVarStrNameX3 = CreateLocVar(<span class="hljs-string">"strNameX3"</span>, CLocVar::vtString, <span class="hljs-string">""</span>);
<span class="hljs-comment">// initialization of pointers</span>
    <span class="hljs-built_in">string</span> str; str = pVarStrNameFX1-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pLX1 = (FSynch*)FGetPtrFsaAppl(str);	}<font></font>
    str = pVarStrNameFX2-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pLX2 = (FSynch*)FGetPtrFsaAppl(str);	}<font></font>
    str = pVarStrNameFPr-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pLPr = FGetPtrFsaAppl(str);	}
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fsynch.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> LArc TBL_Print[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FX1X2X3</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FPrint</span> :</span> <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FPrint(nameFsa, pCVarFsaLibrary); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
<font></font>
    FPrint(<span class="hljs-built_in">string</span> strNam, CVarFsaLibrary *pCVFL): LFsaAppl(TBL_Print, strNam, <span class="hljs-literal">nullptr</span>, pCVFL) { }<font></font>
<font></font>
    CVar *pVarY;        		<span class="hljs-comment">// </span>
    CVar *pVarStrNameFX1;		<span class="hljs-comment">//    X1</span>
    CVar *pVarStrNameFX2;		<span class="hljs-comment">//    X2</span>
    CVar *pVarStrNameFX3;		<span class="hljs-comment">//    X3</span>
    FSynch *pLX1 {<span class="hljs-literal">nullptr</span>};     <span class="hljs-comment">//    X1</span>
    FSynch *pLX2 {<span class="hljs-literal">nullptr</span>};     <span class="hljs-comment">//    X2</span>
    FX1X2X3 *pLX3 {<span class="hljs-literal">nullptr</span>};    <span class="hljs-comment">//    X3</span>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pLX3 != <span class="hljs-literal">nullptr</span> &amp;&amp; pLX1 &amp;&amp; pLX2 &amp;&amp; pLX3; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span> </span>{ FInit(); };<font></font>
};<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fprint.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fx1x2x3.h"</span></span><font></font>
<font></font>
LArc TBL_Print[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>), 		<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"p0"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"p0"</span>,		<span class="hljs-string">"p1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"p1"</span>,		<span class="hljs-string">"p0"</span>,<span class="hljs-string">"--"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<span class="hljs-comment">// creating local variables and initialization of pointers</span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FPrint::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// creating local variables</span>
    pVarY = CreateLocVar(<span class="hljs-string">"strY"</span>, CLocVar::vtString, <span class="hljs-string">"print of output string"</span>);			<span class="hljs-comment">//  </span>
    pVarStrNameFX1 = CreateLocVar(<span class="hljs-string">"strNameFX1"</span>, CLocVar::vtString, <span class="hljs-string">"name of external input object(x1)"</span>);			<span class="hljs-comment">//   </span>
    pVarStrNameFX2 = CreateLocVar(<span class="hljs-string">"strNameFX2"</span>, CLocVar::vtString, <span class="hljs-string">"name of external input object(x2)"</span>);			<span class="hljs-comment">//   </span>
    pVarStrNameFX3 = CreateLocVar(<span class="hljs-string">"strNameFX3"</span>, CLocVar::vtString, <span class="hljs-string">"name of external input object(pr)"</span>);			<span class="hljs-comment">//   </span>
<span class="hljs-comment">// initialization of pointers</span>
    <span class="hljs-built_in">string</span> str;<font></font>
    str = pVarStrNameFX1-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pLX1 = (FSynch*)FGetPtrFsaAppl(str);	}<font></font>
    str = pVarStrNameFX2-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pLX2 = (FSynch*)FGetPtrFsaAppl(str);	}<font></font>
    str = pVarStrNameFX3-&gt;strGetDataSrc();<font></font>
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pLX3 = (FX1X2X3*)FGetPtrFsaAppl(str);	}
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FPrint::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pLX3-&gt;FGetState() == <span class="hljs-string">"s1"</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FPrint::y1</span><span class="hljs-params">()</span> </span>{<font></font>
    QString strX1; strX1.setNum(pLX1-&gt;dGetData());<font></font>
    QString strX2; strX2.setNum(pLX2-&gt;dGetData());<font></font>
    QString strX3; strX3.setNum(pLX3-&gt;dGetData());<font></font>
    QString qstr = <span class="hljs-string">"X1="</span> + strX1 + <span class="hljs-string">", X2="</span> + strX2 + <span class="hljs-string">", X3="</span> + strX3;<font></font>
    pVarY-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, qstr.toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
</code></pre> <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse c√≥digo √© diferente da Listagem 1, como a figura de um avi√£o de sua documenta√ß√£o de design. Penso, por√©m, que somos principalmente programadores e, sem ofensas, alguns designers. Nosso "c√≥digo de projeto" deve ser f√°cil de entender e interpretar de forma inequ√≠voca, para que nosso "avi√£o" n√£o caia no primeiro v√¥o. E se tal infort√∫nio aconteceu, e com programas isso acontece com mais frequ√™ncia do que com avi√µes, ent√£o o motivo pode ser encontrado com facilidade e rapidez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, considerando a Listagem 3, voc√™ precisa imaginar que o n√∫mero de classes n√£o est√° diretamente relacionado ao n√∫mero de objetos correspondentes no programa paralelo. O c√≥digo n√£o reflete o relacionamento entre objetos, mas cont√©m os mecanismos que os criam. Portanto, a classe </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FSynch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cont√©m um ponteiro </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para um objeto do tipo</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LFsaAppl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O nome desse objeto √© determinado por uma vari√°vel local, que no ambiente VKPa corresponder√° a uma vari√°vel de aut√¥mato com o nome </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strNameObject</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Um ponteiro √© necess√°rio para usar o m√©todo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FGetState para</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> monitorar o estado atual de um objeto de aut√¥mato do tipo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FSynch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (consulte o c√≥digo de predicado x2). Ponteiros semelhantes para objetos, vari√°veis ‚Äã‚Äãpara especificar os nomes de objetos e predicados necess√°rios para organizar relacionamentos cont√™m outras classes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, algumas palavras sobre a "constru√ß√£o" de um programa paralelo no ambiente VKPA. √â criado durante o carregamento da configura√ß√£o do programa. Nesse caso, os primeiros objetos s√£o criados com base em classes de bibliotecas din√¢micas tem√°ticas de um tipo de aut√¥mato (seu conjunto √© determinado pela configura√ß√£o do aplicativo / programa). Objetos criados s√£o identificados por seus nomes (vamos cham√°-los de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vari√°veis ‚Äã‚Äãautom√°ticas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Em seguida, os valores necess√°rios s√£o gravados nas vari√°veis ‚Äã‚Äãlocais dos aut√¥matos. </font><font style="vertical-align: inherit;">No nosso caso, vari√°veis ‚Äã‚Äãcom um tipo de sequ√™ncia s√£o definidas para os nomes de vari√°veis ‚Äã‚Äãde outros objetos e / ou os nomes dos objetos. </font><font style="vertical-align: inherit;">Dessa maneira, as conex√µes entre os objetos de um programa de aut√¥mato paralelo s√£o estabelecidas (veja a Fig. 1). </font><font style="vertical-align: inherit;">Al√©m disso, alterando os valores das vari√°veis ‚Äã‚Äãde entrada (usando os di√°logos individuais de controle de objeto ou os di√°logos padr√£o de di√°logo / ambiente para definir valores para vari√°veis ‚Äã‚Äãde ambiente), corrigimos o resultado. </font><font style="vertical-align: inherit;">Pode ser visto usando um di√°logo de ambiente padr√£o para exibir os valores das vari√°veis.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. √Ä an√°lise de programas paralelos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No funcionamento de um programa paralelo, a menos que seja bastante simples sequencialmente paralelo, √© muito, muito dif√≠cil dizer algo concreto. A rede de aut√¥matos considerada n√£o √© exce√ß√£o. A seguir, veremos isso, entendendo o que se pode esperar dele.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O aut√¥mato resultante e a rede para a qual ele √© constru√≠do s√£o mostrados na Fig. </font><font style="vertical-align: inherit;">3. A partir da rede na Fig. </font><font style="vertical-align: inherit;">2, al√©m de renomear seus elementos - aut√¥matos, sinais de entrada e sa√≠da, distingue-se pela aus√™ncia de uma ‚Äúm√°quina de impress√£o‚Äù de vari√°veis. </font><font style="vertical-align: inherit;">O √∫ltimo n√£o √© essencial para a opera√ß√£o da rede e a renomea√ß√£o permite que voc√™ use a opera√ß√£o de composi√ß√£o para criar o aut√¥mato resultante. </font><font style="vertical-align: inherit;">Al√©m disso, para criar nomes mais curtos, a codifica√ß√£o foi introduzida quando, por exemplo, o estado "a0" do aut√¥mato A √© representado pelo s√≠mbolo "0" e "a1" pelo s√≠mbolo "1". </font><font style="vertical-align: inherit;">Da mesma forma para outras m√°quinas. </font><font style="vertical-align: inherit;">Nesse caso, o estado do componente da rede, por exemplo, "a1b0c1", recebe o nome "101". </font><font style="vertical-align: inherit;">Da mesma forma, os nomes s√£o formados para todos os estados componentes da rede, cujo n√∫mero √© determinado pelo produto dos estados dos aut√¥matos dos componentes.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIG. </font><font style="vertical-align: inherit;">3. O aut√¥mato de rede resultante</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/a8/oc/9k/a8oc9kfwbbm3apemxhjzpbz5mxw.jpeg" alt="image"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 O aut√¥mato resultante pode, √© claro, ser calculado de maneira puramente formal, mas para isso precisamos de uma ‚Äúcalculadora‚Äù apropriada. Mas se n√£o for, voc√™ pode usar um algoritmo intuitivo bastante simples. Dentro de sua estrutura, um ou outro estado de componente da rede √© gravado e, em seguida, classificando todas as poss√≠veis situa√ß√µes de entrada, os estados de componente de destino s√£o determinados por "identificadores". Assim, tendo fixado o estado "000" correspondente aos estados atuais dos aut√¥matos do componente - "a0", "b0", "c0", transi√ß√µes para as conjun√ß√µes das vari√°veis ‚Äã‚Äãde entrada ^ x1 ^ x2, ^ x1x2, x1 ^ x2, x1x2 s√£o determinadas. Obtemos as transi√ß√µes respectivamente em indica "a0b0c0", "a0b1c0", "a1b0c0", "a1b1c0", marcados como "000", "010", "100" e "110" na m√°quina resultante. Voc√™ deve repetir esta opera√ß√£o sequencialmente para todos os estados alcan√ß√°veis. rota√ß√µesque n√£o s√£o carregados com a√ß√µes podem ser exclu√≠dos do gr√°fico.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que temos "no res√≠duo seco". Conseguimos o principal - recebemos o aut√¥mato resultante, que descreve com precis√£o o funcionamento da rede. Descobrimos que dos oito poss√≠veis estados da rede, um √© inacess√≠vel (isolado) - estado ‚Äú001‚Äù. Isso significa que a opera√ß√£o de somat√≥ria nunca ser√° acionada para vari√°veis ‚Äã‚Äãde entrada que n√£o alteraram o valor atual.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que √© preocupante, embora o teste n√£o tenha revelado erros. No gr√°fico do aut√¥mato resultante, foram encontradas transi√ß√µes conflitantes nas a√ß√µes de sa√≠da. Eles s√£o marcados com uma combina√ß√£o das a√ß√µes y1y3 e y2y3. As a√ß√µes y1 e y2 s√£o acionadas quando os dados de entrada s√£o alterados e, em seguida, outra a√ß√£o y3 calcula a soma das vari√°veis ‚Äã‚Äãem paralelo com elas. Em quais valores ele operar√° - antigo ou apenas alterado por novos? Para eliminar a ambiguidade, voc√™ pode simplesmente alterar as a√ß√µes de y3 e y4. Nesse caso, o c√≥digo ser√° o seguinte: X3 = X1Sav + X2Sav e print (X1Sav, X2Sav, X3).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim. </font><font style="vertical-align: inherit;">A constru√ß√£o do aut√¥mato resultante revelou problemas √≥bvios no modelo paralelo criado. </font><font style="vertical-align: inherit;">Se eles aparecem no programa reativo √© uma quest√£o. </font><font style="vertical-align: inherit;">Aparentemente, tudo vai depender da abordagem da implementa√ß√£o do paralelismo no paradigma reativo. </font><font style="vertical-align: inherit;">De qualquer forma, essa depend√™ncia deve ser levada em considera√ß√£o e de alguma forma eliminada. </font><font style="vertical-align: inherit;">No caso de uma rede automatizada, √© mais f√°cil sair da vers√£o alterada do que tentar mudar a rede. </font><font style="vertical-align: inherit;">Tudo bem se os dados "antigos" que iniciaram a opera√ß√£o da rede forem impressos primeiro e depois os dados atuais forem impressos a seguir.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Conclus√µes </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada uma das solu√ß√µes consideradas tem seus pr√≥s e contras. A inicial √© muito simples, a rede √© mais complicada e, criada com base em uma √∫nica m√°quina, come√ßar√° a analisar os dados de entrada somente ap√≥s a visualiza√ß√£o. Devido ao seu paralelismo, a mesma rede autom√°tica iniciar√° a an√°lise dos dados de entrada antes do final do procedimento de impress√£o. E se o tempo de visualiza√ß√£o for longo, mas esse for o caso da opera√ß√£o de soma, a rede ser√° mais r√°pida do ponto de vista do controle de entrada. Essa. uma avalia√ß√£o baseada em uma estimativa da quantidade de c√≥digo no caso de programas paralelos nem sempre √© objetiva. Em termos mais simples, a rede √© paralela, a solu√ß√£o de um componente √© amplamente seq√ºencial (seus predicados e a√ß√µes s√£o paralelas). E n√≥s, antes de tudo, estamos falando sobre programas paralelos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo de rede tamb√©m √© um exemplo de solu√ß√£o flex√≠vel. Primeiro, os componentes podem ser projetados independentemente um do outro. Em segundo lugar, qualquer componente pode ser substitu√≠do por outro. E terceiro, qualquer componente de rede pode ser um elemento de uma biblioteca de processos autom√°ticos e √© usado em outra solu√ß√£o de rede. E esses s√£o apenas os benef√≠cios mais √≥bvios de uma solu√ß√£o paralela.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas voltando √† programa√ß√£o reativa. O RP considera todas as instru√ß√µes do programa inicialmente paralelas? S√≥ podemos assumir que sem isso √© dif√≠cil falar sobre um paradigma de programa√ß√£o ‚Äúorientado para fluxos de dados e propaga√ß√£o de mudan√ßas‚Äù (veja a defini√ß√£o de programa√ß√£o reativa em [3]). Mas qual √© a diferen√ßa da programa√ß√£o com controle de streaming (para mais detalhes, veja [1])? Ent√£o, voltamos ao ponto em que come√ßamos: como classificar a programa√ß√£o reativa no quadro de classifica√ß√µes conhecidas? E, se RP √© algo de programa√ß√£o especial, ent√£o o que √© diferente dos paradigmas de programa√ß√£o conhecidos?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, sobre a teoria. Sem ele, a an√°lise de algoritmos paralelos n√£o seria apenas dif√≠cil - imposs√≠vel. O processo de an√°lise √†s vezes revela problemas que, mesmo com uma an√°lise cuidadosa e cuidadosa do programa, como, ali√°s, no "documento de design", √© imposs√≠vel adivinhar. De qualquer forma, sou a favor do fato de que os avi√µes, tanto em sentido figurado quanto em qualquer outro sentido, n√£o colidem. Sou eu o fato de que, √© claro, voc√™ precisa se esfor√ßar pela simplicidade e gra√ßa da forma, mas sem perda de qualidade. N√≥s, programadores, n√£o apenas ‚Äúdesenhamos‚Äù programas, mas frequentemente controlamos o que est√° oculto ali, inclusive por avi√µes!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, quase esqueci. Eu classificaria a programa√ß√£o autom√°tica (AP) como programa√ß√£o com controle din√¢mico. Quanto √† assincronia - eu aposto. Dado que a base do modelo de controle do AP √© uma rede em um √∫nico momento, ou seja, redes s√≠ncronas de aut√¥matos, ent√£o √© s√≠ncrono. Mas como o ambiente VKPa tamb√©m implementa muitas redes atrav√©s do conceito de "mundos de aut√¥matos", √© completamente ass√≠ncrono. Em geral, sou contra qualquer estrutura de classifica√ß√£o muito r√≠gida, mas n√£o a favor da anarquia. Nesse sentido, em VKPa, espero que um certo compromisso tenha sido alcan√ßado entre a rigidez da programa√ß√£o paralela serial e um certo anarquismo ass√≠ncrono. Dado o fato de que a programa√ß√£o autom√°tica tamb√©m abrange a classe de programas de eventos (consulte [4]), e os programas de fluxo s√£o facilmente modelados nela,com qual programa√ß√£o voc√™ ainda pode sonhar? Com certeza - para mim.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Literatura</font></font></b><div class="spoiler_text">1.   /.. , .. , .. , .. ;  . .. . ‚Äì .:   , 1983. ‚Äì 240.<br>
2.      . [ ],  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">habr.com/ru/post/486632</a> . . . (  07.02.2020).<br>
3.  . . [ ],  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">ru.wikipedia.org/wiki/_</a> . . . (  07.02.2020).<br>
4.  ‚Äî  ? [ ],  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">habr.com/ru/post/483610</a> . . . (  07.02.2020).<br>
</div></div></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487698/index.html">Eventos digitais em S√£o Petersburgo, de 10 a 16 de fevereiro</a></li>
<li><a href="../pt487702/index.html">Uma sele√ß√£o de artigos sobre aprendizado de m√°quina: estudos de caso, guias e pesquisas para janeiro de 2020</a></li>
<li><a href="../pt487704/index.html">Como criamos relat√≥rios din√¢micos no SSRS 2014</a></li>
<li><a href="../pt487706/index.html">Service Discovery em sistemas distribu√≠dos usando o exemplo Consul. Alexander Sigachev</a></li>
<li><a href="../pt487716/index.html">Perfeito SAST. Analisador</a></li>
<li><a href="../pt487724/index.html">BlazingPizza: aplicativo Blazor do in√≠cio ao fim. Parte 2. Adicione um componente</a></li>
<li><a href="../pt487728/index.html">@Pythonetc compilation, janeiro 2020</a></li>
<li><a href="../pt487730/index.html">Processamento de linguagem natural. Resultados 2019 e tend√™ncias para 2020</a></li>
<li><a href="../pt487734/index.html">Acelerando o Entity Framework Core</a></li>
<li><a href="../pt487738/index.html">Anima√ß√£o de esquema no SCADA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>