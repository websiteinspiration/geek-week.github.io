<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¦ ğŸ‘ğŸ¼ â˜ğŸ½ Cara kerja rendering game 3D: tekstur dan pemfilteran tekstur ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸµ âš•ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ketiga tentang rendering dalam game 3D, kita akan mengetahui apa yang terjadi pada dunia 3D setelah memproses pemrosesan vertex dan meras...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cara kerja rendering game 3D: tekstur dan pemfilteran tekstur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499540/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a4/fee/0c7/2a4fee0c701c2b2200faf2b8c6929832.jpg" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ketiga tentang rendering dalam game 3D, kita akan mengetahui apa yang terjadi pada dunia 3D setelah memproses pemrosesan vertex dan meraster adegan. </font><font style="vertical-align: inherit;">Texturing adalah salah satu tahapan rendering yang paling penting, meskipun faktanya hanya menghitung dan mengubah warna kotak dua dimensi dari blok multi-warna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagian besar efek visual dalam gim modern bermuara pada penggunaan tekstur yang disengaja - tanpanya, gim akan terasa membosankan dan tidak bernyawa. </font><font style="vertical-align: inherit;">Jadi mari kita lihat bagaimana semuanya bekerja! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian 1: pemrosesan simpul </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian 2: rasterisasi dan penelusuran sinar</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari kita mulai dengan yang sederhana</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengambil game terlaris tiga dimensi yang dirilis tahun lalu, dan mengatakan dengan keyakinan bahwa mereka semua memiliki kesamaan: mereka menggunakan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peta tekstur</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (atau hanya </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tekstur</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Ini adalah istilah yang umum bahwa ketika berpikir tentang tekstur, kebanyakan orang menyajikan gambar yang sama: kotak datar atau persegi panjang sederhana yang berisi gambar permukaan (rumput, batu, logam, kain, wajah, dll.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi ketika digunakan dan dikombinasikan menggunakan perhitungan yang rumit, gambar sederhana seperti itu dalam adegan 3D dapat membuat gambar yang sangat realistis. Untuk memahami bagaimana ini mungkin, mari kita matikan mereka sepenuhnya dan lihat bagaimana objek dari dunia 3D tanpa tekstur akan terlihat.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang kita lihat dari artikel sebelumnya, dunia 3D terdiri dari simpul - bentuk sederhana yang bergerak dan kemudian diwarnai. Mereka kemudian digunakan untuk membuat primitif, yang pada gilirannya dikompresi menjadi grid piksel dua dimensi. Karena kita tidak akan menggunakan tekstur, kita perlu mewarnai piksel ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu metode yang dapat diterapkan disebut </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">naungan datar</font></font></em></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : warna titik pertama primitif diambil, dan kemudian warna ini diterapkan ke semua piksel yang dicakup oleh gambar dalam raster. Itu terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0b/f5c/61b/a0bf5c61be539c776d00fa1b11177ced.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelas, ketel terlihat tidak realistis, dan paling tidak karena warna permukaan yang tidak teratur. Warna melompat dari satu level ke level lainnya, tidak ada transisi yang mulus. Salah satu solusi untuk masalah ini adalah dengan menggunakan </font></font><em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gouraud shading</font></font></a></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam proses ini, warna dari simpul diambil, setelah itu perubahan warna di sepanjang permukaan segitiga dihitung. Untuk ini, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interpolasi linier digunakan</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kedengarannya rumit, tetapi dalam kenyataannya ini berarti bahwa jika, misalnya, satu sisi primitif memiliki warna 0,2 merah dan lainnya 0,8 merah, maka bagian tengah gambar akan memiliki warna di tengah antara 0,2 dan 0,8 (mis. 0,5).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proses ini cukup sederhana, dan ini adalah keunggulan utamanya, karena kesederhanaan berarti kecepatan. Banyak game 3D lama menggunakan teknik ini karena peralatan komputasi terbatas dalam kemampuannya.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/128/447/3c8/1284473c8e1e2ce7d32dbf2202065afe.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Barrett dan Cloud dalam keagungan naungan Gouraud (Final Fantasy VII, 1997)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tetapi bahkan solusi semacam itu memiliki masalah - jika cahaya jatuh tepat di tengah-tengah segitiga, maka sudut-sudutnya (dan simpulnya) mungkin tidak membawa properti ini. </font><font style="vertical-align: inherit;">Ini berarti bahwa cahaya yang diciptakan oleh cahaya bisa sepenuhnya hilang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meskipun arsir datar dan naungan Gouraud telah mengambil tempat yang tepat dalam alat rendering, contoh-contoh yang ditunjukkan di atas adalah kandidat yang jelas untuk peningkatan tekstur. </font><font style="vertical-align: inherit;">Dan untuk memahami dengan baik apa yang terjadi ketika tekstur ditumpangkan pada permukaan, kita akan kembali ke masa ... sudah di tahun 1996.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sejarah game dan GPU secara singkat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekitar 23 tahun yang lalu, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id Software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> merilis Quake, dan itu menjadi tonggak utama. </font><font style="vertical-align: inherit;">Meskipun ini bukan game pertama yang menggunakan poligon dan tekstur 3D untuk membuat lingkungan, itu pasti salah satu yang pertama menggunakannya secara efektif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi dia melakukan sesuatu yang lain juga - dia menunjukkan apa yang bisa dilakukan dengan menggunakan OpenGL (API grafik ini kemudian dalam keadaan versi pertama), dan juga sangat membantu generasi pertama kartu grafis seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendition Verite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3Dfx Voodoo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a86/9a9/667/a869a966718cfc8ddf4b6d7618b2fdbf.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puncak pencahayaan dan tekstur sederhana. </font><font style="vertical-align: inherit;">Bersihkan 1996, bersihkan Gempa. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan standar modern, Voodoo sangat sederhana: tidak ada dukungan grafis 2D, tidak ada pemrosesan simpul, hanya pemrosesan piksel paling sederhana. </font><font style="vertical-align: inherit;">Namun, dia cantik:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66c/509/911/66c5099113c9b08098b73ce31436ecb8.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VGA Museum</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dia memiliki seluruh chip (TMU) untuk mendapatkan piksel dari tekstur dan chip lain (FBI) untuk kemudian mencampurnya dengan piksel raster. Peta dapat melakukan beberapa proses tambahan, misalnya, penerapan efek kabut atau transparansi, tetapi ini, pada dasarnya, kemampuannya berakhir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita melihat arsitektur yang mendasari struktur dan operasi kartu grafis, kita akan melihat bagaimana proses ini bekerja.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/064/c83/ee4/064c83ee4f63da2be0d5a968c33df0d5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spesifikasi 3Dfx. Sumber: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falconfly Central</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Chip FBI menerima dua nilai warna dan mencampurnya; salah satunya bisa menjadi nilai dari suatu tekstur. Proses pencampuran secara matematis cukup sederhana, tetapi sedikit bervariasi tergantung pada apa yang dicampur dan API mana yang digunakan untuk menjalankan instruksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melihat apa yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditawarkan Direct3D kepada kami</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> terkait dengan fungsi dan operasi pencampuran, kami akan melihat bahwa setiap piksel dikalikan terlebih dahulu dengan angka dari 0,0 hingga 1,0. Ini menentukan seberapa besar warna pixel akan mempengaruhi hasil jadi. Kemudian dua warna piksel yang diubah ditambahkan, dikurangi atau dikalikan; dalam beberapa fungsi, operasi logis dilakukan di mana, misalnya, pixel paling terang selalu dipilih.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa1/c8b/c8a/aa1c8bc8a2e35a1867c5f6028d958fa8.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengambil blog teknologi Inisiatif</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gambar di atas menunjukkan cara kerjanya dalam praktik; perhatikan bahwa nilai </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alpha</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel digunakan sebagai koefisien untuk </font><font style="vertical-align: inherit;">piksel </font><font style="vertical-align: inherit;">kiri </font><font style="vertical-align: inherit;">. Angka ini menunjukkan jumlah </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transparansi</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> piksel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahap lain, nilai kabut diterapkan (diambil dari tabel yang dibuat oleh programmer, dan kemudian perhitungan pencampuran yang sama dilakukan); melakukan pemeriksaan dan perubahan visibilitas dan transparansi; pada akhirnya, warna piksel ditulis ke memori kartu grafis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengapa Anda membutuhkan perjalanan ini ke dalam sejarah? </font><font style="vertical-align: inherit;">Nah, terlepas dari kesederhanaan relatif dari desain (terutama dibandingkan dengan monster modern), proses ini menggambarkan prinsip-prinsip mendasar dari texturing: kami mengambil nilai warna dan mencampurnya sehingga model dan lingkungan terlihat sebagaimana mestinya dalam situasi tertentu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Game modern melakukan hal yang sama, satu-satunya perbedaan adalah jumlah tekstur yang digunakan dan kompleksitas perhitungan pencampuran. </font><font style="vertical-align: inherit;">Bersama-sama, mereka mensimulasikan efek visual yang ditemukan dalam film, atau interaksi pencahayaan dengan bahan dan permukaan yang berbeda.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dasar-dasar Tekstur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagi kami, tekstur adalah gambar 2D datar yang ditumpangkan pada poligon yang membentuk struktur 3D dalam bingkai. Namun, untuk komputer, ini hanya blok kecil memori dalam bentuk array 2D. Setiap elemen dari array menunjukkan nilai warna dari salah satu piksel dalam gambar tekstur (biasa disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">texels</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tekstur piksel). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap dhuwur poligon memiliki satu set dua koordinat (biasanya dilambangkan sebagai </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), memberi tahu komputer piksel mana dari tekstur yang terkait dengannya. Vertex itu sendiri memiliki satu set tiga koordinat ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, y, z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), dan proses menghubungkan texels ke simpul disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemetaan tekstur</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melihat bagaimana ini terjadi, mari kita beralih ke alat yang telah kita gunakan beberapa kali dalam seri artikel ini - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebGL Rendering Real Time</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Untuk saat ini, kami juga membuang koordinat </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font><font style="vertical-align: inherit;">simpul dan mempertimbangkan semuanya pada bidang datar.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e1/d20/fbb/8e1d20fbb308d78a19a2e54d5da96900.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari kiri ke kanan: koordinat </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tekstur, diikat langsung ke koordinat </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font><font style="vertical-align: inherit;">simpul sudut. Pada gambar kedua, koordinat </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> meningkat di simpul atas </font><font style="vertical-align: inherit;">, tetapi karena tekstur masih melekat padanya, itu membentang secara vertikal. Tekstur telah diubah di gambar kanan: nilai </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> telah meningkat, tetapi sebagai hasilnya, tekstur telah dikompresi dan kemudian diulang.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hal ini terjadi karena, meskipun faktanya, pada kenyataannya, teksturnya telah menjadi lebih tinggi karena peningkatan nilai </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ia masih harus sesuai dengan primitif - pada kenyataannya, teksturnya diulang sebagian. Ini adalah salah satu cara untuk menerapkan efek yang sering ditemukan di game 3D: </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tekstur berulang</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Contoh efek ini dapat dilihat dalam adegan dengan lanskap berbatu atau berumput, serta dengan dinding bata. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita ubah adegan sehingga ada lebih banyak primitif, dan kembali lagi kedalaman adegan. Tampilan lansekap klasik ditunjukkan di bawah ini, tetapi sekarang tekstur kotak disalin dan diulang untuk semua primitif.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9e/9e1/0cb/a9e9e10cb533b78330f90fd7eaea3891.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tekstur kotak dalam format gif aslinya memiliki ukuran 66 KB dan resolusi 256 x 256 piksel. Resolusi awal dari bagian bingkai yang dicakup oleh tekstur kotak adalah 1900 x 680, yaitu, dari sudut pandang pixel "area", area seperti itu harus menampilkan hanya 20 tekstur kotak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi jelas bahwa kita melihat lebih dari dua puluh kotak, dan ini berarti bahwa tekstur kotak di kejauhan harus </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jauh</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih kecil dari 256 x 256 piksel. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memang</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mereka menjalani proses yang disebut </font><em><font style="vertical-align: inherit;">"minification tekstur"</font></em><font style="vertical-align: inherit;"> (ya, kata seperti itu ada dalam bahasa Inggris!). Sekarang, mari kita ulangi, tetapi kali ini bawa kamera lebih dekat ke salah satu laci.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/404/c02/f70/404c02f70291916245ec931642c79860.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jangan lupa bahwa tekstur hanya memiliki ukuran 256 x 256 piksel, tetapi di sini kita melihat tekstur yang lebih besar dari setengah gambar dengan lebar 1.900 piksel. </font><font style="vertical-align: inherit;">Tekstur ini menjadi sasaran operasi </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œpembesaran teksturâ€</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua proses tekstur ini terus-menerus terjadi dalam permainan 3D, karena ketika kamera bergerak di sekitar layar, model mendekati atau menjauh, dan semua tekstur yang diterapkan pada primitif harus berskala bersama dengan poligon. </font><font style="vertical-align: inherit;">Dari sudut pandang matematika, ini adalah masalah kecil, pada kenyataannya, bahkan chip grafis terintegrasi yang paling sederhana dapat dengan mudah melakukan pekerjaan seperti itu. </font><font style="vertical-align: inherit;">Namun, mengurangi dan memperbesar tekstur adalah tantangan baru yang perlu diatasi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salinan mini tekstur muncul di tempat kejadian</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah pertama yang harus dipecahkan untuk tekstur adalah jarak. Jika kita kembali ke gambar pertama dengan lansekap kotak, maka kotak yang terletak di dekat cakrawala sebenarnya memiliki ukuran hanya beberapa piksel. Karena itu, mencoba mengompres gambar 256 x 256 piksel dalam ruang sekecil itu tidak ada gunanya karena dua alasan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, tekstur yang lebih kecil membutuhkan lebih sedikit memori kartu grafis, yang nyaman, karena Anda dapat mencoba memasukkannya ke dalam cache yang lebih kecil. Ini berarti bahwa lebih kecil kemungkinannya untuk dihapus dari cache, yaitu penggunaan berulang dari tekstur ini akan memberikan peningkatan kinerja, karena data akan berada dalam memori yang dekat. Untuk alasan kedua, kami akan segera kembali, karena ini terkait dengan masalah yang sama yang muncul dalam tekstur di dekat kamera.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solusi standar untuk masalah perlunya mengompres tekstur besar menjadi primitif kecil adalah dengan menggunakan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mip-textures (mipmaps)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini adalah versi yang diperkecil dari tekstur aslinya; mereka dapat dihasilkan oleh mesin itu sendiri (menggunakan perintah API yang sesuai) atau dibuat sebelumnya oleh desainer game. Setiap level berikutnya dari tekstur mip memiliki ukuran setengah dibandingkan dengan yang sebelumnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yaitu, untuk tekstur kotak, dimensi akan menjadi: 256 x 256 â†’ 128 x 128 â†’ 64 x 64 â†’ 32 x 32 â†’ 16 x 16 â†’ 8 x 8 â†’ 4 x 4 â†’ 2 x 2 â†’ 1 x 1.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/074/973/1ea/0749731eae53d112d545c0297ac14584.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua tekstur mip dikemas bersama, sehingga tekstur memiliki nama file yang sama, tetapi menjadi lebih besar ukurannya. Teksturnya dikemas sedemikian rupa sehingga koordinat </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak hanya menentukan texel mana yang ditumpangkan pada piksel dalam bingkai, tetapi juga dengan tekstur mip mana. Kemudian programmer menulis renderer, berdasarkan nilai kedalaman pixel dari frame, yang menentukan tekstur mip yang digunakan. Misalnya, jika nilainya sangat tinggi, maka pikselnya jauh, yang berarti Anda dapat menggunakan tekstur mip kecil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pembaca yang penuh perhatian dapat melihat kurangnya tekstur-mip - mereka harus membayarnya dengan meningkatkan ukuran tekstur. Tekstur asli kotak adalah 256 x 256 piksel, tetapi seperti yang Anda lihat pada gambar di atas, tekstur dengan tekstur mip sekarang memiliki ukuran 384 x 256. Ya, ia memiliki banyak ruang kosong, tetapi tidak peduli bagaimana kami mengemas tekstur yang lebih kecil, secara umum ukuran tekstur di satu sisi akan meningkat setidaknya 50%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi ini hanya berlaku untuk tekstur mip yang dibuat sebelumnya; jika mesin game diprogram untuk membuatnya dengan benar, peningkatannya tidak lebih dari 33% dari ukuran tekstur asli. Oleh karena itu, karena peningkatan kecil dalam jumlah memori untuk menyimpan tekstur-mip, kami mendapatkan keuntungan dalam kinerja dan kualitas visual.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah ini adalah perbandingan gambar dengan tekstur mip dinonaktifkan / diaktifkan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e96/b67/e71/e96b67e71c3f41aed3ce09ed728f98ea.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sisi kiri gambar, tekstur kotak digunakan "apa adanya", yang menyebabkan penampilan granularitas dan apa yang disebut </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moire</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di kejauhan. </font><font style="vertical-align: inherit;">Di sebelah kanan, penggunaan tekstur mip diizinkan untuk transisi yang lebih halus, dan di cakrawala tekstur kotak diburamkan menjadi warna yang seragam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, siapa yang ingin tekstur buram merusak latar belakang gim favorit mereka?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilinear, trilinear, anisotropic - semua ini bagiku surat Cina</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proses memilih piksel dari tekstur untuk melapisinya pada piksel dalam bingkai disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tekstur sampel</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan dalam dunia ideal akan ada tekstur yang cocok dengan primitif yang dirancangnya, terlepas dari ukuran, posisi, arah, dan sebagainya. </font><font style="vertical-align: inherit;">Dengan kata lain, mengambil sampel tekstur akan menjadi pemetaan piksel satu-ke-satu yang sederhana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi karena ini tidak benar, ada beberapa faktor yang perlu dipertimbangkan ketika mengambil sampel tekstur:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah teksturnya dikurangi atau diperbesar?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah tekstur sumber atau tekstur mip?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada sudut apa tekstur ditampilkan?</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita menganalisa mereka secara berurutan. Faktor pertama cukup jelas: jika teksturnya telah meningkat, maka pada primitif akan ada lebih banyak texels yang menutupi piksel pada primitif daripada yang dibutuhkan; ketika menurun, yang terjadi adalah sebaliknya - setiap texel sekarang harus mencakup beberapa piksel. Dan itu masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktor kedua tidak menyebabkan masalah, karena mip-tekstur digunakan untuk mem-bypass masalah pengambilan sampel tekstur primitif jauh-jauh, jadi satu-satunya tugas adalah menampilkan tekstur pada sudut. Dan ya, ini juga masalah. Mengapa? Karena semua tekstur adalah gambar yang dihasilkan untuk melihat "ketat di depan". Berbicara dalam bahasa matematika, tekstur permukaan normal cocok dengan nominal permukaan tempat tekstur saat ini ditampilkan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, jika texels terlalu sedikit atau terlalu banyak, atau mereka terletak pada suatu sudut, maka diperlukan proses tambahan yang disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"penyaringan tekstur"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jika proses ini tidak digunakan, maka kami mendapatkan ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/792/a12/552/792a125529b7f3baa79c072fdf42acba.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami mengganti tekstur kotak dengan tekstur dengan huruf R, untuk lebih jelas menunjukkan kekacauan gambar berubah tanpa menyaring tekstur! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
API Grafik seperti Direct3D, OpenGL, dan Vulkan menyediakan set tipe penyaringan yang sama, tetapi gunakan nama yang berbeda untuk mereka. </font><font style="vertical-align: inherit;">Bahkan, mereka semua bermuara sebagai berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Near Point Sampling</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyaringan tekstur linier</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyaringan tekstur anisotropik</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengambilan sampel titik pengambilan sampel terdekat</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bukanlah filter, karena dengan itu hanya teks terdekat dari piksel tekstur yang diperlukan yang disampel (misalnya, disalin dari memori), dan kemudian dicampur dengan warna asli piksel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini penyaringan linier datang untuk membantu kami. Koordinat </font><font style="vertical-align: inherit;">texel yang </font><font style="vertical-align: inherit;">diperlukan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ditransfer ke peralatan pengambilan sampel, tetapi alih-alih mengambil texel terdekat dengan koordinat ini, sampler mengambil </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">empat</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> texel. Ini adalah texel yang terletak di atas, di bawah, ke kiri dan ke kanan dari texel yang dipilih dengan mengambil sampel titik-titik terdekat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keempat texels ini kemudian dicampur menggunakan formula dengan bobot. Di Vulkan, misalnya, rumusnya terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57b/9bb/63c/57b9bb63cc81fa5721b007717f6b200a.png"></div><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menunjukkan warna texel, di mana </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah hasil penyaringan, dan 1-4 adalah warna dari empat texels sampel. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alpha</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beta</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nilai-nilai </font><font style="vertical-align: inherit;">yang diambil tergantung pada seberapa jauh titik dengan koordinat </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah dari tengah tekstur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya bagi mereka yang terlibat dengan grafik 3D, ini terjadi secara otomatis dalam chip grafis. Faktanya, inilah yang dilakukan chip TMU card 3dfx TMU: mengambil sampel empat texels dan kemudian mencampurnya. Di Direct3D, proses ini memiliki nama aneh </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk pemfilteran bilinear.</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tetapi sejak zaman Gempa dan chip TMU, kartu grafis telah belajar bagaimana melakukan penyaringan bilinear hanya dalam satu siklus clock (tentu saja, jika teksturnya sudah terletak di memori terdekat). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemfilteran linear dapat digunakan bersama dengan tekstur-mip, dan jika Anda ingin menyulitkan pemfilteran, Anda dapat mengambil empat tekstur dari tekstur, dan kemudian empat lagi dari tingkat tekstur-mip berikutnya, mencampur semuanya. Dan apa namanya di Direct3D? </font><font style="vertical-align: inherit;">Penyaringan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trilinear</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dari mana </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"tiga" itu</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berasal dari proses ini </font><font style="vertical-align: inherit;">? Jadi kami tidak tahu ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode pemfilteran terakhir yang layak disebut adalah </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anisotropik</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bahkan, ini merupakan peningkatan dalam proses yang dilakukan oleh penyaringan bilinear atau trilinear. Awalnya, itu menghitung</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tingkat anisotropi dari</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permukaan primitif (dan ini merupakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proses yang sangat kompleks</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - nilai ini meningkatkan perubahan dalam aspek rasio primitif karena orientasinya:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/247/dfe/e60/247dfee60846988a5e94a1020d9ecef6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar di atas menunjukkan primitif kuadrat yang sama dengan panjang sisi yang sama; tetapi secara bertahap berubah, itu berubah menjadi persegi panjang, dan lebarnya berubah lebih dari tingginya. Oleh karena itu, primitif di sebelah kanan memiliki tingkat anisotropi lebih besar daripada di sebelah kiri (dan dalam kasus kuadrat, derajatnya nol). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banyak game 3D modern memungkinkan Anda untuk mengaktifkan pemfilteran anisotropik dan kemudian mengubah levelnya (dari 1x ke 16x), tetapi apa yang benar-benar berubah? Parameter ini mengontrol jumlah maksimum sampel texel tambahan yang diambil pada setiap sampel linier awal. Misalkan penyaringan bilinear anisotropik 8x termasuk dalam game. Ini berarti bahwa alih-alih empat nilai texel, ia akan mendapatkan 32 nilai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbedaan saat menggunakan penyaringan anisotropik jelas terlihat:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df7/302/372/df7302372c6dc0d34730ba572f695063.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cukup naik ke gambar di atas dan bandingkan pengambilan sampel dari titik terdekat dengan maksimum 16x pemfilteran trilinear anisotropik. Luar biasa mulus! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi untuk keindahan tekstur yang halus ini Anda harus membayar dengan kinerja: pada pengaturan maksimum, pemfilteran trilinear anisotropik akan menerima 128 sampel dari tekstur untuk setiap piksel render. Bahkan dengan GPU modern terbaik, ini tidak dapat dicapai dalam satu siklus clock. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda mengambil, misalnya, AMD </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Radeon RX 5700 XT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka masing-masing blok texturing di dalam prosesor dapat menggunakan hingga 32 alamat texel dalam satu siklus clock, dan kemudian dalam siklus clock berikutnya memuat 32 nilai texel dari memori (masing-masing memiliki ukuran 32 bit), dan kemudian mencampur empat dari mereka dalam satu lagi. kebijaksanaan. Artinya, untuk mencampur 128 sampel texel menjadi satu membutuhkan setidaknya 16 siklus jam.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa4/abf/cf4/fa4abfcf4411b6cc2622c8e77986ab3c.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU AMD RDNA Radeon RX 5700 dengan teknologi proses 7-nanometer.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika kecepatan clock 5700 XT adalah 1605 MHz, maka enam belas siklus hanya membutuhkan 10 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nanodetik</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Melakukan siklus ini untuk setiap piksel dalam bingkai 4K menggunakan hanya </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satu</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unit tekstur hanya membutuhkan waktu 70 milidetik. Hebat, sepertinya kinerja bukan masalah besar! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan pada tahun 1996, 3Dfx Voodoo dan kartu serupa dengan cepat diatasi dengan tekstur. Paling-paling mereka bisa memberikan 1 texel dengan penyaringan bilinear per siklus, dan dengan frekuensi chip TMU 50 MHz, ini berarti bahwa 50 juta texel dapat diproses per detik. Gim yang beroperasi pada 800 x 600 dan 30 fps hanya membutuhkan 14 juta texel dengan penyaringan bilinear per detik.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, ini benar hanya dengan asumsi bahwa semua tekstur berada dalam memori terdekat dan hanya satu texel yang sesuai dengan setiap piksel. </font><font style="vertical-align: inherit;">Dua puluh tahun yang lalu, gagasan perlunya melapisi beberapa tekstur pada primitif benar-benar asing, tetapi hari ini adalah standar. </font><font style="vertical-align: inherit;">Mari kita lihat mengapa ini semua berubah.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambahkan pencahayaan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memahami mengapa tekstur menjadi sangat penting, lihat adegan ini dari Quake:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bda/dcf/ee4/bdadcfee4354ea561b9239e1ca5a143b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah gambar gelap, karena kegelapan adalah atmosfer permainan, tetapi kita melihat bahwa kegelapan tidak sama di mana-mana - beberapa fragmen dinding dan lantai lebih ringan daripada yang lain, yang menciptakan perasaan ringan di area ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primitif yang membentuk dinding dan lantai ditumpangkan dengan tekstur yang sama, tetapi ada tekstur lain yang disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"peta cahaya"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dicampur dengan nilai-nilai texels sebelum diterapkan pada frame pixel. Pada waktu gempa, peta pencahayaan dihitung sebelumnya dan dibuat oleh mesin game. Mereka digunakan untuk menghasilkan tingkat pencahayaan statis dan dinamis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan penggunaannya adalah bahwa perhitungan pencahayaan yang rumit dilakukan dengan tekstur daripada simpul, yang sangat meningkatkan penampilan pemandangan dengan mengorbankan biaya kecepatan rendah. Jelas, gambarnya tidak sempurna: di lantai terlihat bahwa batas antara area yang diterangi dan bayangan sangat tajam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam banyak hal, sebuah lightmap hanyalah tekstur lain (jangan lupa bahwa semuanya adalah dataset 2D biasa), jadi adegan ini adalah salah satu contoh pertama penggunaan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multitekstur</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Seperti namanya, ini adalah proses di mana dua atau lebih tekstur ditumpangkan pada primitif. Penggunaan peta penerangan di Quake telah menjadi cara untuk mengatasi keterbatasan arsiran Gouraud, tetapi dalam proses meningkatkan jangkauan kemampuan kartu grafis, metode penerapan multitekstur juga telah berkembang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dfx Voodoo, seperti banyak kartu lain pada zaman itu, terbatas dalam jumlah operasi yang dapat dilakukannya dalam satu </font><font style="vertical-align: inherit;">rendering </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pass</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Faktanya, sebuah pass adalah siklus rendering lengkap: dari pemrosesan simpul hingga rasterisasi frame, dan kemudian mengubah piksel dan menuliskannya ke buffer frame yang sudah jadi. Dua puluh tahun yang lalu, game hampir selalu menggunakan rendering satu arah.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a55/0b6/bc9/a550b6bc98c07f1c90276e1aa3721819.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nvidia GeForce 2 Ultra, sekitar akhir tahun 2000. Gambar: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikimedia</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ini terjadi karena pemrosesan simpul kedua hanya untuk menerapkan tekstur tambahan terlalu mahal dalam hal kinerja. Setelah Voodoo, kami harus menunggu beberapa tahun ketika kartu grafis ATI Radeon dan Nvidia GeForce 2 muncul, mampu melakukan multitekstur dalam satu pass. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPU ini memiliki beberapa unit tekstur di area pemrosesan piksel (yaitu, dalam </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pipa</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), sehingga mendapatkan texel dengan penyaringan bilinear dari dua tekstur terpisah menjadi tugas yang paling sederhana. Ini semakin meningkatkan popularitas peta pencahayaan dan memungkinkan game menjadikannya sepenuhnya dinamis, mengubah nilai pencahayaan tergantung pada kondisi lingkungan game.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi dengan beberapa tekstur, masih banyak yang bisa dilakukan, jadi mari kita menjelajahi kemampuan mereka.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk mengubah ketinggian itu normal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam seri artikel tentang rendering 3D ini, kami tidak berbicara tentang bagaimana peran GPU mempengaruhi keseluruhan proses (kami akan membicarakan ini, tetapi tidak sekarang!). Tetapi jika Anda kembali ke </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan membaca tentang seluruh proses pemrosesan simpul yang kompleks, Anda mungkin berpikir bahwa ini adalah bagian paling sulit dari semua pekerjaan yang harus dilakukan GPU. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk waktu yang lama, dan programmer game melakukan segala yang mungkin untuk mengurangi beban ini. Mereka harus pergi ke segala macam trik untuk memastikan kualitas gambar yang sama seperti ketika menggunakan banyak simpul, tetapi tidak memprosesnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagian besar trik ini menggunakan tekstur yang disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peta ketinggian</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peta normal.</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kedua konsep ini dihubungkan oleh fakta bahwa yang terakhir dapat dibuat dari yang pertama, tetapi untuk sekarang, mari kita lihat teknik yang disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"pemetaan benjolan"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/db2/5b6/1e3db25b6ecefc0dd3f75c84f767800c.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar dibuat dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendering demo oleh Emil Persson</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Embossed texturing dimatikan / onture. Embossed texturing</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
menggunakan array 2D yang disebut "peta tinggi" yang terlihat seperti versi aneh dari tekstur asli. </font><font style="vertical-align: inherit;">Sebagai contoh, gambar di atas menunjukkan tekstur bata realistis yang dilapisi pada dua permukaan datar. </font><font style="vertical-align: inherit;">Tekstur dan peta tingginya terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7a1/87f/221/7a187f2215bcf0723bd4d4f820350858.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warna-warna peta ketinggian menunjukkan normals dari permukaan batu bata (kita berbicara tentang normals di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 1 dari</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> serangkaian artikel). Ketika proses rendering mencapai tahap menerapkan tekstur bata ke permukaan, serangkaian perhitungan dilakukan untuk mengubah warna tekstur bata berdasarkan normalnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai akibatnya, batu bata itu sendiri terlihat lebih tiga dimensi, meskipun faktanya batu bata itu tetap benar-benar datar. Jika Anda melihat lebih dekat, terutama di tepi batu bata, Anda dapat melihat keterbatasan teknik ini: teksturnya terlihat sedikit terdistorsi. Tapi ini adalah trik cepat yang memungkinkan Anda untuk menambahkan lebih banyak detail permukaan, sehingga tekstur yang timbul sangat populer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peta normal mirip dengan peta ketinggian, hanya warna tekstur yang normalnya sendiri. Dengan kata lain, perhitungan untuk mengubah peta ketinggian menjadi normal tidak diperlukan. Anda dapat mengajukan pertanyaan: bagaimana warna dapat menggambarkan vektor di ruang angkasa? Jawabannya sederhana: setiap texel memiliki seperangkat nilai </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r, g, b</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (merah, hijau, biru) dan nilai-nilai ini secara langsung sesuai dengan nilai </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, y, z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari vektor normal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c1f/105/c3b/c1f105c3b93c455ba7661489770172c9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagram kiri menunjukkan perubahan arah normal pada permukaan yang tidak rata. Untuk menggambarkan normals yang sama dengan tekstur datar (garis tengah), kami menetapkan warna. Dalam kasus ini, kami menggunakan nilai </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r, g, b</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (0.255.0) untuk vektor yang diarahkan lurus ke atas, dan kemudian meningkatkan nilai merah untuk kemiringan ke kiri, dan biru untuk kemiringan ke kanan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingatlah bahwa warna ini tidak bercampur dengan piksel asli, ia hanya memberi tahu prosesor ke arah mana yang biasa ditunjukkan sehingga dapat dengan benar menghitung sudut antara kamera, sumber cahaya, dan permukaan bertekstur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan dari tekstur timbul dan peta normal sepenuhnya terlihat ketika pencahayaan dinamis digunakan dalam adegan, dan ketika proses rendering menghitung efek perubahan pencahayaan pixel demi pixel, dan tidak untuk setiap vertex. Saat ini, permainan modern menggunakan serangkaian tekstur untuk meningkatkan kualitas trik ini.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ef/d59/660/3efd596604528593b16923297f10f044.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ryan Benno</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Anehnya, dinding yang tampak realistis ini hanya permukaan datar, detail batu bata dan semen tidak dibuat menggunakan jutaan poligon. Sebaliknya, hanya lima tekstur dan penggunaan perhitungan yang bijaksana sudah cukup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peta ketinggian digunakan untuk menghasilkan pengecoran bayangan dengan batu bata, dan peta normal digunakan untuk mensimulasikan semua perubahan permukaan kecil. Tekstur kekasaran digunakan untuk mengubah cara cahaya dipantulkan dari berbagai elemen dinding (misalnya, bata halus memantulkan cahaya lebih merata daripada semen kasar).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kartu terakhir, yang disebutkan dalam gambar AO, menciptakan bagian dari proses yang disebut ambient occlusion: kita akan memeriksa teknik ini lebih rinci dalam artikel berikut, tetapi untuk sekarang katakanlah itu membantu meningkatkan realisme bayangan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemetaan tekstur adalah proses kritis.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tekstur sangat penting ketika mengembangkan game. Ambil, misalnya, game 2019 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kingdom Come: Deliverance</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , RPG orang pertama yang dibuat di Bohemia pada abad ke-15. Desainer berusaha menciptakan dunia yang paling realistis pada periode itu. Dan untuk membenamkan pemain dalam kehidupan ratusan tahun yang lalu, yang terbaik adalah menerapkan lanskap yang akurat secara historis, bangunan, pakaian, gaya rambut, barang sehari-hari, dan banyak lagi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap tekstur dalam gambar ini dari game secara manual dibuat oleh seniman, dan juga berkat mesin rendering yang dikendalikan oleh programmer. Beberapa di antaranya kecil, dengan detail sederhana, dan karenanya sedikit disaring atau diproses dengan tekstur lain (misalnya, sayap ayam).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2e/7d0/24a/e2e7d024ad0c700d26390940caf339ed.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang lain memiliki resolusi tinggi dan banyak detail kecil; </font><font style="vertical-align: inherit;">mereka menjalani penyaringan dan pencampuran anisotropik dengan peta normal dan tekstur lainnya - lihat saja wajah orang tersebut di latar depan. </font><font style="vertical-align: inherit;">Perbedaan dalam persyaratan tekstur setiap objek adegan diperhitungkan oleh programmer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua ini terjadi hari ini di banyak permainan, karena pemain mengharapkan tingkat detail dan realisme yang lebih tinggi. </font><font style="vertical-align: inherit;">Tekstur menjadi lebih besar, dan semakin banyak yang ditumpangkan di permukaan, tetapi proses pengambilan sampel texels dan melapisinya pada piksel pada dasarnya tetap sama seperti pada hari-hari Gempa. </font><font style="vertical-align: inherit;">Teknologi terbaik tidak pernah mati, berapa pun usianya!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id499524/index.html">Quarkus: peningkatan aplikasi menggunakan contoh helloworld dari JBoss EAP Quickstart</a></li>
<li><a href="../id499528/index.html">Jembatan matematika "menakjubkan" yang melampaui Teorema Besar Fermat</a></li>
<li><a href="../id499532/index.html">Kata-kata dalam angka: analitik blog gratis dengan Yandex.Metrica</a></li>
<li><a href="../id499534/index.html">Panduan pengembangan layanan backend Python</a></li>
<li><a href="../id499536/index.html">Growbox sebagai metode untuk mengenal diri sendiri</a></li>
<li><a href="../id499542/index.html">Fakapov Cyan Teratas</a></li>
<li><a href="../id499544/index.html">Pelajari jaringan saraf di Google Sheets</a></li>
<li><a href="../id499546/index.html">Pengembangan firmware untuk kamera video analog EVR-Y2022F</a></li>
<li><a href="../id499548/index.html">Topeng - merawat orang lain atau ilusi keamanan?</a></li>
<li><a href="../id499550/index.html">Solusi Kode Rendah Ekosistem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>