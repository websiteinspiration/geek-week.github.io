<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👶🏿 ⛄️ 🐍 Sandbox-Anpassung: Warum brauchen Sie es jetzt? 🚸 👦🏻 🏎️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Problem der Anpassung von Sandbox-Bildern war von Anfang an relevant. Die ersten Versionen solcher Programme waren interne Lösungen von Unternehme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Sandbox-Anpassung: Warum brauchen Sie es jetzt?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/494240/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/w0/kd/as/w0kdasxxfgrntuq6bpubjtse6ym.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem der Anpassung von Sandbox-Bildern war von Anfang an relevant. </font><font style="vertical-align: inherit;">Die ersten Versionen solcher Programme waren interne Lösungen von Unternehmen für Informationssicherheit, aber selbst dann bestand die Notwendigkeit, isolierte Maschinen sorgfältig abzustimmen. </font><font style="vertical-align: inherit;">Und es war nicht nur die Installation von Hilfssoftware zur Überwachung des Systemzustands. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noch vor 10 Jahren war die Logik des Erfassens und Verarbeitens von Umgebungsmerkmalen in böswillige Beispiele eingebettet: Benutzername und Computer, Privat- oder Unternehmensdomäne, Administratorrechte, Sprachlayout, Anzahl der Prozessorkerne, Version des Betriebssystems, Vorhandensein von Antivirensoftware, Anzeichen von Virtualisierung und sogar das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorhandensein von Updates in System</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bisher hat die Anzahl der Parameter und Methoden zu deren Erlangung nur zugenommen.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sandbox-Bypass-Malware-Techniken</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anfangs war der Ansatz ziemlich einfach: Wenn die Malware den Benutzer mit dem Namenstest überprüft, nennen wir ihn John. Wenn wir den Registrierungsschlüssel SYSTEM \ CurrentControlSet \ Enum \ SCSI \ Disk &amp; Ven_VMware_ &amp; Prod_VMware_Virtual_S verwenden, um herauszufinden, ob wir uns in einer virtuellen Umgebung befinden, ersetzen wir (wenn möglich) den Schlüssel oder die zurückgegebenen Ergebnisse, indem wir den Aufruf abfangen. Als Ergebnis zahlreicher Studien wurde eine bestimmte Wissensbasis für Detektions-Bypass-Methoden rekrutiert, die dann zur Einrichtung der Umgebung verwendet wurde. Jahre vergingen, und Virenschreiber ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und nicht nur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) nutzten dieses Wissen zunehmend für ihre Arbeit, was letztendlich zu Folgendem führte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Frage "Ist das eine Forschungsumgebung?" </font><font style="vertical-align: inherit;">wurde ersetzt durch "Ist die Umgebung interessant?" </font><font style="vertical-align: inherit;">Und das Interesse besteht nicht darin, Spuren eines FTP-Clients für nachfolgenden Datendiebstahl zu finden. </font><font style="vertical-align: inherit;">Wenn dies die Maschine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eines Buchhaltungsmitarbeiters ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der bestimmte Software verwendet, dann eine andere Sache. </font><font style="vertical-align: inherit;">Es gibt andere Ansätze: Um den Benutzer mit einem leichten Bootloader zu infizieren, der alle erforderlichen Informationen über das System sammelt, an den Verwaltungsserver sendet und ... die Nutzdaten nicht als Antwort erhält. </font><font style="vertical-align: inherit;">Unbekannte Serverlogik hat entschieden, dass dieses Opfer nicht von Interesse ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen also: Standardmäßig konfigurierte Sandboxen sind keine effektive Geschäftslösung. </font><font style="vertical-align: inherit;">Angreifer verlassen sich zunehmend nicht auf Selbstverteidigung gegen Entdeckung, sondern auf die Einschränkung des Suchbereichs nach interessanten Zielen für die weitere Entwicklung des Angriffs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie bekämpfen wir sie?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit einfachen Worten, wir bieten an, ein einzigartiges Bild einer isolierten Umgebung zu erstellen. </font><font style="vertical-align: inherit;">Ziel ist es, eine Umgebung zu schaffen, die der Workstation eines Mitarbeiters so ähnlich wie möglich ist und für Angreifer einen attraktiven Zugriff bietet: eine Finanzabteilung, einen Build-Server für die kontinuierliche Integration während der Entwicklung, einen Webserver, einen Domänenadministrator-Computer und schließlich eine CEO-Station.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich können Sie für eine solche Aufgabe eine Reihe von Leerzeichen mit der entsprechenden Software „an Bord“ freigeben, aber dann müssen Sie sie mit bestimmten Daten starten, die einer bestimmten Organisation entsprechen: dem Domänennamen, den verwendeten Ressourcen oder Anwendungen, den Namen und Inhalten von Arbeitsdokumenten - je mehr Nuancen, desto besser . </font><font style="vertical-align: inherit;">Manchmal muss die Umgebung bis zu Systemupdateversionen und Patches genau abgestimmt werden. </font><font style="vertical-align: inherit;">Im einfachsten Fall kann das Bild einfach "voller Löcher" gemacht werden. </font><font style="vertical-align: inherit;">Wenn Ihr IT-Infrastrukturpark jedoch nicht älter als bestimmte Versionen ist, kann dies auch berücksichtigt und viele irrelevante Penetrationsvektoren mit einer bestimmten Anzahl von Schwachstellen beseitigt werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis erhalten wir ein Bild, das Virenschreibern unbekannt ist, für sie wirklich von Interesse ist und dadurch die Wahrscheinlichkeit, einen gezielten Angriff zu erkennen, erheblich erhöht.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum muss ich die Arbeit eines "Live" -Computers emulieren? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Emulation von Benutzeraktionen ist ein Muss, ohne das die Sandbox ihre Wirksamkeit verliert. </font><font style="vertical-align: inherit;">In einigen Fällen führt das Fehlen von Aktionen dazu, dass das Vorhandensein in der Sandbox erkannt wird: Wenn beispielsweise der Mauszeiger seine Position längere Zeit nicht ändert, neue Fenster nicht angezeigt werden, Anwendungen nicht beendet werden oder zu wenige gestartet werden, wenn neue Dateien nicht in temporären Verzeichnissen angezeigt werden, nein Netzwerkaktivität. </font><font style="vertical-align: inherit;">In anderen Situationen wirkt sich dies auf den Betrieb der Malware selbst aus: Zum Ausführen ist beispielsweise die Zustimmung des Benutzers erforderlich, Makros in das Office-Dokument aufzunehmen, oder der Trojaner zeigt ein Zwischendialogfeld an, in dem eine Übereinstimmung mit etwas (oder von etwas) erforderlich ist sich weigern), seine Arbeit fortzusetzen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal sind einfach unbedeutende Aktionen erforderlich: Der Benutzer muss ein Dokument öffnen und etwas aufschreiben oder das Kennwort zur weiteren Eingabe in die Zwischenablage kopieren. Genau in diesen Momenten kann ein Spionagetrojaner arbeiten, der wichtige Daten abfängt und an den Server seines Autors sendet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie geht das bei uns?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere Lösung wird schrittweise mit neuen Aktionen ergänzt, die die Arbeit eines lebenden Benutzers nachahmen. </font><font style="vertical-align: inherit;">Natürlich können die vordefinierten Sequenzen geplanter Ereignisse jeglicher Komplexität niemals mit der Vielfalt der tatsächlichen Verwendung verglichen werden. </font><font style="vertical-align: inherit;">Wir erforschen und verbessern diese Seite des Produkts weiter und erhöhen seine Wirksamkeit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neben den oben beschriebenen Funktionen ist ein grundlegendes Merkmal zu beachten: Unsere Sandbox gehört zur Klasse der agentenlosen. In den meisten Lösungen befindet sich in der virtuellen Maschine ein Hilfsagent, der für die Verwaltung des Systemstatus, den Empfang und die Übertragung interessanter Ereignisse und Artefakte an den Hostserver verantwortlich ist. Trotz der Vorteile bei der Überwachung und des klaren Prinzips der Interaktion zwischen Host- und Gastcomputern weist diese Lösung einen erheblichen Nachteil auf: Die Notwendigkeit, mit dem Agenten verknüpfte Objekte vor Malware zu verbergen und zu schützen. Wenn es keinen Ereignisanbieter gibt, stellt sich die Frage: Wie kann man dann Informationen darüber erhalten, was in der virtuellen Maschine geschieht? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hierfür verwenden wir die Technologie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extended Page Table</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(EPT) Intel Corporation. </font><font style="vertical-align: inherit;">Es handelt sich um eine Zwischenspeicherseite, die sich zwischen dem physischen Gastspeicher und dem physischen Hostspeicher befindet. </font><font style="vertical-align: inherit;">Kurz gesagt, dies ermöglicht Ihnen Folgendes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überprüfen Sie die Anzeige der Speicherseiten des Gastes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interessante Abschnitte hervorheben (z. B. Adressen oder Code von Kernfunktionen);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Markieren Sie die ausgewählten Seiten so, dass die Zugriffsrechte auf die Speicherseiten in der EPT nicht mit den Zugriffsrechten auf die Seiten im Gastcomputer übereinstimmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um den Appell an die markierten Speicherbereiche zu fangen (in diesem Moment tritt ein Zugriffsfehler (#PF) auf, wodurch der Gastcomputer angehalten wird);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den Zustand analysieren, die notwendigen Informationen über das Ereignis extrahieren;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layout der Speicherseite im richtigen Zustand;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stellen Sie den Gastcomputer wieder her.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Überwachung aller Vorgänge erfolgt außerhalb der isolierten Maschine. Die darin enthaltene Malware kann die Tatsache der Beobachtung nicht erkennen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ausführen einer Probe in der Sandbox und das Analysieren ihres Verhaltens ist nur eine der Komponenten eines komplexen Produkts. Nach dem Start wird der Prozessspeicher auf schädlichen Code überprüft, die Netzwerkaktivität aufgezeichnet und anschließend anhand von mehr als 5000 Erkennungsregeln analysiert. Darüber hinaus ist es möglich, sichere Interaktionen zu entschlüsseln.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Kompromissindikatoren (IOC), die während der Studie identifiziert werden konnten, werden anhand von Reputationslisten überprüft. </font><font style="vertical-align: inherit;">Bevor die </font><font style="vertical-align: inherit;">dynamische Analyse unterziehen, wird die Probe für statische Verarbeitung gesendet: es auf mehrere Antivirenprogramme und gescannt von unseren eigenen Motor mit Erkennungsregeln von Experten des vorgefilterten ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Experte Sicherheitszentrum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (PT Expert Security Center). </font><font style="vertical-align: inherit;">Wir verwenden eine umfassende Untersuchung, um Anomalien in Metainformationen und eingebetteten Artefakten der Stichprobe zu identifizieren.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Welche Aufgaben erledigt PT Sandbox am besten und warum?</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PT Sandbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kombiniert das Wissen und die Erfahrung mehrerer Teams und Produkte, um gezielten Angriffen entgegenzuwirken. </font><font style="vertical-align: inherit;">Trotz der Tatsache, dass das Produkt zur Abwehr von Bedrohungen (Prävention) eingesetzt werden kann, ist es nach wie vor in erster Linie ein Mittel zur Überwachung (Erkennung) der Sicherheit von IT-Systemen. </font><font style="vertical-align: inherit;">Der Hauptunterschied zu den klassischen Endpoint Protection-Lösungen besteht darin, dass PT Sandbox die Aufgabe hat, auf Anomalien zu achten und eine bisher unbekannte Bedrohung zu registrieren. </font><font style="vertical-align: inherit;">Gepostet </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Alexey Vishnyakov, Senior Specialist, Forschungsgruppe Threat Technologies, Positive Technologies</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de494228/index.html">3D-Druck bei der Erstellung der Boeing 777</a></li>
<li><a href="../de494230/index.html">AI vs. COVID-19: Hubei und Florida Erfahrung</a></li>
<li><a href="../de494232/index.html">Warum gibt es Fehler im Gehirn?</a></li>
<li><a href="../de494234/index.html">Eine Auswahl an VR-Helmen für industrielle Anwendungen</a></li>
<li><a href="../de494238/index.html">Lektionen, die in 3 Jahren Fernarbeit gelernt wurden, um in einem nüchternen Geist und einer hellen Erinnerung zu bleiben</a></li>
<li><a href="../de494242/index.html">Bayesian Ninja</a></li>
<li><a href="../de494244/index.html">Börsen- und Risikomanagement: 5 Tipps zur Diversifizierung Ihres Anlageportfolios</a></li>
<li><a href="../de494252/index.html">3D-Druck: dreieinhalb Häuser in vier Tagen</a></li>
<li><a href="../de494254/index.html">OpenShift als Unternehmensversion von Kubernetes</a></li>
<li><a href="../de494256/index.html">Wer braucht noch Selen? Verwendet jemand BDD im Jahr 2020? Maschinelles Lernen bei Selen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>