<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéÖ ü§òüèª ‚öΩÔ∏è Luncurkan Jupyter ke orbit LXD üò¶ üÉè üè≥Ô∏è‚Äçüåà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pernahkah Anda bereksperimen dengan kode atau utilitas sistem di Linux sedemikian rupa sehingga Anda tidak mengguncang sistem basis dan melepas semuan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Luncurkan Jupyter ke orbit LXD</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497100/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pernahkah Anda bereksperimen dengan kode atau utilitas sistem di Linux sedemikian rupa sehingga Anda tidak mengguncang sistem basis dan melepas semuanya jika terjadi kesalahan kode yang harus dijalankan dengan hak istimewa root?</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapi bagaimana dengan fakta bahwa, misalnya, perlu untuk menguji atau menjalankan seluruh gugus berbagai layanan microser pada satu mesin? </font><font style="vertical-align: inherit;">Seratus atau bahkan seribu?</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan mesin virtual yang dikelola oleh hypervisor, tugas seperti itu dapat dan akan berhasil, tetapi berapa biayanya? </font><font style="vertical-align: inherit;">Sebagai contoh, sebuah wadah di LXD berdasarkan distribusi Alpine Linux minimal mengkonsumsi semua </font></font><code>7.60MB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM, dan di mana ia memakan partisi root setelah startup </font></font><code>9.5MB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!</font></font><del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana Anda suka itu, Elon Musk?</font></font></del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya sarankan untuk berkenalan dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kemampuan dasar sistem kontainer LXD di Linux</font></font></a></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah secara umum menjadi jelas apa wadah LXD, mari kita lanjutkan dan pikirkan bagaimana jika ada platform-prosesor di mana akan aman untuk menjalankan kode untuk host, menghasilkan grafik, secara dinamis (interaktif) mengikat UI- widget dengan kode Anda, tambahkan kode dengan teks </font></font><del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blackjack ...</font></font></del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memformat? </font><font style="vertical-align: inherit;">Sesuatu seperti blog interaktif?</font></font><del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wow ... aku menginginkannya! </font><font style="vertical-align: inherit;">Ingin!</font></font></del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :)</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lihatlah kucing tempat kami akan meluncurkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JupyterLab</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di dalam wadah </font><font style="vertical-align: inherit;">- generasi berikutnya dari antarmuka pengguna, bukan Notebook Jupyter yang sudah usang, dan juga memasang modul Python seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumPy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pandas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matplotlib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPyWidgets</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang memungkinkan Anda melakukan semua hal di atas dan menyimpannya dalam file khusus - IPython-laptop .</font></font></p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/bbc/cbe/820/bbccbe8205363b9d772a35dd19b744b9.png" alt="gambar"></p><a name="habracut"></a><br>
<h1 id="navigaciya"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigasi</font></font></h1><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paket Take-Off Orbit</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal dan konfigurasikan sistem dasar</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemasangan perangkat lunak dasar dan pengaturan sistem</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal dan konfigurasikan JupyterLab</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berbagi data dengan tuan rumah</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo Dunia!</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memperluas Fitur Python</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul pengujian di JupyterLab</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa lagi?</font></font></a></li>
</ul><br>
<h1 id="plan-vzlyota-na-orbitu-navigaciya"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencanakan untuk lepas landas ke orbit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">^</font></font></a></h1><br>
<p><img src="https://habrastorage.org/webt/5l/h3/uo/5lh3uoo-ykraipnjp-lfea7a59q.png" alt="gambar"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami akan menguraikan rencana tindakan singkat sehingga lebih mudah bagi kami untuk mengimplementasikan skema di atas:</font></font></p><br>
<ul>
<li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Alpine Linux</a>.                   ,  .</li>
<li>         ‚Äî <code>hostfs</code>     .             .         .    ,    . ,                 .</li>
<li> Bash, sudo,  ,     </li>
<li> Python,       </li>
<li>   <em>JupyterLab</em>,   ,    .</li>
</ul><br>
<p>         ,       LXD,         ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  LXD ‚Äî    Linux</a>.</p><br>
<h1 id="ustanovka-i-nastroyka-bazovoy-sistemy-navigaciya">     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p>       ‚Äî <code>alpine3</code>,    ‚Äî <code>jupyterlab</code>     :</p><br>
<pre><code class="bash hljs">lxc init alpine3 jupyterlab --profile=default --profile=hddroot</code></pre><br>
<p>     <code>hddroot</code>      root-  <em>Storage Pool</em>    HDD :</p><br>
<pre><code class="plaintext hljs">lxc profile show hddroot<font></font>
<font></font>
config: {}<font></font>
description: ""<font></font>
devices:<font></font>
  root:<font></font>
    path: /<font></font>
    pool: hddpool<font></font>
    type: disk<font></font>
name: hddroot<font></font>
used_by: []</code></pre><br>
<pre><code class="plaintext hljs">lxc storage show hddpool<font></font>
<font></font>
config:<font></font>
  size: 10GB<font></font>
  source: /dev/loop1<font></font>
  volatile.initial_source: /dev/loop1<font></font>
description: ""<font></font>
name: hddpool<font></font>
driver: btrfs<font></font>
used_by:<font></font>
- /1.0/images/ebd565585223487526ddb3607f5156e875c15a89e21b61ef004132196da6a0a3<font></font>
- /1.0/profiles/hddroot<font></font>
status: Created<font></font>
locations:<font></font>
- none</code></pre><br>
<p>        HDD    SSD        :)         <code>ssdroot</code>.</p><br>
<p>       <code>STOPPED</code>,       init-:</p><br>
<pre><code class="plaintext hljs">lxc start jupyterlab</code></pre><br>
<p>    LXD   <code>-c</code>    <strong>c</strong>olumns   :</p><br>
<pre><code class="plaintext hljs">lxc list -c ns4b<font></font>
+------------+---------+-------------------+--------------+<font></font>
|    NAME    |  STATE  |       IPV4        | STORAGE POOL |<font></font>
+------------+---------+-------------------+--------------+<font></font>
| jupyterlab | RUNNING | 10.0.5.198 (eth0) | hddpool      |<font></font>
+------------+---------+-------------------+--------------+</code></pre><br>
<p>   IP    ,       <code>default</code>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  LXD ‚Äî    Linux</a>.</p><br>
<p>   IP    ,      ,            .    ,    .</p><br>
<p>   <code>eth0</code>     ( ) <code>lxdbr0</code>     NAT          ,      IP  ‚Äî <code>10.0.5.5</code>:</p><br>
<pre><code class="plaintext hljs">lxc config device add jupyterlab eth0 nic name=eth0 nictype=bridged parent=lxdbr0 ipv4.address=10.0.5.5</code></pre><br>
<p>  ,   :</p><br>
<pre><code class="plaintext hljs">lxc restart jupyterlab</code></pre><br>
<p>  :</p><br>
<pre><code class="plaintext hljs">lxc list -c ns4b<font></font>
+------------+---------+------------------+--------------+<font></font>
|    NAME    |  STATE  |       IPV4       | STORAGE POOL |<font></font>
+------------+---------+------------------+--------------+<font></font>
| jupyterlab | RUNNING | 10.0.5.5 (eth0)  | hddpool      |<font></font>
+------------+---------+------------------+--------------+</code></pre><br>
<h1 id="ustanovka-bazovogo-softa-i-nastroyka-sistemy-navigaciya">      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p>       :</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bash</td>
<td>The GNU Bourne Again shell</td>
</tr>
<tr>
<td>bash-completion</td>
<td>Programmable completion for the bash shell</td>
</tr>
<tr>
<td>sudo</td>
<td>Give certain users the ability to run some commands as root</td>
</tr>
<tr>
<td>shadow</td>
<td>Password and account management tool suite with support for shadow files and PAM</td>
</tr>
<tr>
<td>tzdata</td>
<td>Sources for time zone and daylight saving time data</td>
</tr>
<tr>
<td>nano</td>
<td>Pico editor clone with enhancements</td>
</tr>
</tbody>
</table></div><br>
<p>,       man-pages    ‚Äî <code>man man-pages mdocml-apropos less</code></p><br>
<pre><code class="plaintext hljs">lxc exec jupyterlab -- apk add bash bash-completion sudo shadow tzdata nano</code></pre><br>
<p>      :</p><br>
<ul>
<li><code>lxc</code> ‚Äî   LXD</li>
<li><code>exec</code> ‚Äî   LXD,     </li>
<li><code>jupyterlab</code> ‚Äî  </li>
<li><code>--</code> ‚Äî  ,          <code>lxc</code>         </li>
<li><code>apk</code> ‚Äî    Alpine Linux</li>
<li><code>add</code> ‚Äî         </li>
</ul><br>
<p>,    - <code>Europe/Moscow</code>:</p><br>
<pre><code class="plaintext hljs">lxc exec jupyterlab -- cp /usr/share/zoneinfo/Europe/Moscow /etc/localtime</code></pre><br>
<p>  -,  <code>tzdata</code>     ,    , ,  :</p><br>
<pre><code class="plaintext hljs">lxc exec jupyterlab -- apk del tzdata</code></pre><br>
<p> -:</p><br>
<pre><code class="plaintext hljs">lxc exec jupyterlab -- date<font></font>
<font></font>
Wed Apr 15 10:49:56 MSK 2020</code></pre><br>
<p>       Bash     ,          <code>.bash_profile</code>, <code>.bashrc</code>, <code>.dir_colors</code>   <code>/etc/skel</code>  ,   Bash  ,   .  ,      Manjaro Linux      ,      ,            .</p><br>
<p> skel-  .  <code>--create-dirs</code>   ,    :</p><br>
<pre><code class="bash hljs">lxc file push /etc/skel/.bash_profile jupyterlab/etc/skel/.bash_profile --create-dirs<font></font>
lxc file push /etc/skel/.bashrc jupyterlab/etc/skel/.bashrc<font></font>
lxc file push /etc/skel/.dir_colors jupyterlab/etc/skel/.dir_colors</code></pre><br>
<p>   <code>root</code>           skel-:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- cp /etc/skel/.bash_profile /root/.bash_profile<font></font>
lxc <span class="hljs-built_in">exec</span> jupyterlab -- cp /etc/skel/.bashrc /root/.bashrc<font></font>
lxc <span class="hljs-built_in">exec</span> jupyterlab -- cp /etc/skel/.dir_colors /root/.dir_colors</code></pre><br>
<p> Alpine Linux      <code>/bin/sh</code>,     <code>root</code>   Bash:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- usermod --shell=/bin/bash root</code></pre><br>
<p>        <code>root</code>         .     -  ,        :)</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- /bin/bash -c <span class="hljs-string">"PASSWD=\$(head /dev/urandom | tr -dc A-Za-z0-9 | head -c 12); echo \"root:\$PASSWD\" | chpasswd &amp;&amp; echo \"New Password: \$PASSWD\""</span><font></font>
<font></font>
New Password: sFiXEvBswuWA</code></pre><br>
<p>    ‚Äî <code>jupyter</code>     <em>JupyterLab</em></p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- useradd --create-home --shell=/bin/bash jupyter</code></pre><br>
<p>    :</p><br>
<pre><code class="plaintext hljs">lxc exec jupyterlab -- /bin/bash -c "PASSWD=\$(head /dev/urandom | tr -dc A-Za-z0-9 | head -c 12); echo \"jupyter:\$PASSWD\" | chpasswd &amp;&amp; echo \"New Password: \$PASSWD\""<font></font>
<font></font>
New Password: ZIcbzWrF8tki</code></pre><br>
<p>   ,     <code>sudo</code>,       <code>jupyter</code>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- groupadd --system sudo<font></font>
lxc <span class="hljs-built_in">exec</span> jupyterlab -- groupmems --group sudo --add jupyter</code></pre><br>
<p>,      <code>jupyter</code>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- id -Gn jupyter<font></font>
<font></font>
jupyter sudo</code></pre><br>
<p> ‚Äî ,  . </p><br>
<p>       <code>sudo</code>   <code>sudo</code>.     ,  <code>sed</code>         <code>/etc/sudoers</code>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- /bin/bash -c <span class="hljs-string">"sed --in-place -e '/^#[ \t]*%sudo[ \t]*ALL=(ALL)[ \t]*ALL$/ s/^[# ]*//' /etc/sudoers"</span></code></pre><br>
<h1 id="ustanovka-i-nastroyka-jupyterlab-navigaciya">   JupyterLab <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p><em>JupyterLab</em> ‚Äî  Python ,       . , <em>JupyterLab</em>         <code>pip</code>,   ,         ,  ,           ‚Äî <code>python3 python3-dev gcc libc-dev zeromq-dev</code>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- apk add python3 python3-dev gcc libc-dev zeromq-dev</code></pre><br>
<p> python-    <code>pip</code>   :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- python3 -m pip install --upgrade pip setuptools wheel</code></pre><br>
<p> <em>JupyterLab</em>    <code>pip</code>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- python3 -m pip install jupyterlab</code></pre><br>
<p>    <em>JupyterLab</em>           jupyterlab, ,       .</p><br>
<p> NodeJS      ‚Äî NPM,   <em>JupyterLab</em>     :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- apk add nodejs npm</code></pre><br>
<p>   <em>JupyterLab</em>    ,              <code>jupyter</code>.   ,          ,           .  ,      <code>JUPYTERLAB_DIR</code>    <code>jupyter</code>,   <code>.bashrc</code>,         :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"echo -e \"\nexport JUPYTERLAB_DIR=\$HOME/.local/share/jupyter/lab\" &gt;&gt; .bashrc"</span></code></pre><br>
<p>     ‚Äî    <em>JupyterLab</em>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"export JUPYTERLAB_DIR=\$HOME/.local/share/jupyter/lab; jupyter labextension install --no-build @jupyter-widgets/jupyterlab-manager"</span></code></pre><br>
<p>       <em>JupyterLab</em>,        :</p><br>
<ul>
<li><code>toc</code> ‚Äî Table of Contents,     /</li>
<li><code>jupyterlab-horizon-theme</code> ‚Äî   UI</li>
<li><code>jupyterlab_neon_theme</code> ‚Äî   UI</li>
<li><code>jupyterlab-ubu-theme</code> ‚Äî   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">   </a>   :)    ,      GitHub</li>
</ul><br>
<p>,    ,    :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"export JUPYTERLAB_DIR=\$HOME/.local/share/jupyter/lab; jupyter labextension install --no-build @jupyterlab/toc @mohirio/jupyterlab-horizon-theme @yeebc/jupyterlab_neon_theme"</span></code></pre><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"wget -c https://github.com/microcoder/jupyterlab-ubu-theme/archive/master.zip"</span></code></pre><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"unzip -q master.zip &amp;&amp; rm master.zip"</span></code></pre><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"export JUPYTERLAB_DIR=\$HOME/.local/share/jupyter/lab; jupyter labextension install --no-build jupyterlab-ubu-theme-master"</span></code></pre><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"rm -r jupyterlab-ubu-theme-master"</span></code></pre><br>
<p>      ,   ,     <code>--no-build</code>   .           :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"export JUPYTERLAB_DIR=\$HOME/.local/share/jupyter/lab; jupyter lab build"</span></code></pre><br>
<p>  :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter -c <span class="hljs-string">"jupyter lab clean &amp;&amp; jlpm cache clean &amp;&amp; npm cache clean --force"</span></code></pre><br>
<p>        <em>JupyterLab</em>.       ,    ,   <em>JupyterLab</em>   bash'  ,    ,           :)</p><br>
<p>     <code>jupyter</code>:</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- su -l jupyter</code></pre><br>
<p>  <em>JupyterLab</em>      :</p><br>
<pre><code class="bash hljs">[jupyter@jupyterlab ~]$ jupyter lab --ip=0.0.0.0 --no-browser</code></pre><br>
<p>  web-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">http://10.0.5.5:8888</a>      <em>token</em>      .      ,   <em>Login</em>.  ,     ,     ,                      <em>JupyterLab development</em>   :</p><br>
<p><img src="https://habrastorage.org/webt/nk/pv/ct/nkpvctnhpljzi_zhskuces-hs1u.png" alt="gambar"></p><br>
<p>,        <em>JupyterLab</em>     ,       NodeJS          ,     .         <code>/home</code>      ,    ,           ,       <strong> </strong>.            <em>JupyterLab</em>.</p><br>
<p> IPython- (  <em>JupyterLab</em>)        ‚Äî <code>/home/jupyter</code>,       ()    , ,      <em>JupyterLab</em>  hotkey ‚Äî <code>CTRL+C</code>   <code>y</code>  .      <code>jupyter</code>   <code>CTRL+D</code>.</p><br>
<h1 id="razdelyaem-dannye-s-hostom-navigaciya">    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p>    ,      ,               :</p><br>
<ul>
<li><code>lxc config device add</code> ‚Äî    </li>
<li><code>jupyter</code> ‚Äî      </li>
<li><code>hostfs</code> ‚Äî  .     .</li>
<li><code>disk</code> ‚Äî   </li>
<li><code>path</code> ‚Äî       LXD   </li>
<li><code>source</code> ‚Äî  ,           .     </li>
</ul><br>
<pre><code class="bash hljs">lxc config device add jupyterlab hostfs disk path=/mnt/hostfs <span class="hljs-built_in">source</span>=/home/dv/projects/ipython-notebooks</code></pre><br>
<p>  <code>/home/dv/projects/ipython-notebooks</code>          UID  <code>SubUID + UID</code>,   <em>.  </em>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  LXD ‚Äî    Linux</a>.</p><br>
<p>   ,      <code>jupyter</code>,   <code>$USER</code>       :</p><br>
<pre><code class="plaintext hljs">sudo chown 1001000:$USER /home/dv/projects/ipython-notebooks</code></pre><br>
<h1 id="hello-world-navigaciya">Hello, World! <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p>          <em>JupyterLab</em>,       <code>--notebook-dir</code>   <code>/mnt/hostfs</code>                :</p><br>
<pre><code class="bash hljs">jupyter lab --ip=0.0.0.0 --no-browser --notebook-dir=/mnt/hostfs</code></pre><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">http://10.0.5.5:8888</a>              :</p><br>
<p><img src="https://habrastorage.org/webt/sr/wk/op/srwkop0ikiml__nkuym7wyzzvru.png" alt="gambar"></p><br>
<p>         Python    <code>Hello World!</code>.     <code>CTRL+ENTER</code>   "play"      JupyterLab  :</p><br>
<p><img src="https://habrastorage.org/webt/kd/k4/gc/kdk4gcna2gqvin6ix5hgc4ubu5i.png" alt="gambar"></p><br>
<p>      ,   ,      Python- ( )       Python  <em>JupyterLab</em>, ,   :)</p><br>
<p>P.S.  ,    <em>Jupyter</em>    <em>Jupyter Notebook</em>         <em>JupyterLab</em>.            <code>/tree</code>,         <code>/lab</code>,     :</p><br>
<ul>
<li>Jupyter Notebook ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">http://10.0.5.5:8888/tree</a></li>
<li>Jupyter Lab ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">http://10.0.5.5:8888/lab</a></li>
</ul><br>
<h1 id="rasshiryaem-vozmozhnosti-python-navigaciya">  Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p>         Python  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">NumPy</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Pandas</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Matplotlib</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">IPyWidgets</a>       <em>JupyterLab</em>.</p><br>
<p>     Python    <code>pip</code>        Alpine Linux:</p><br>
<ul>
<li><code>g++</code> ‚Äî    ,         <em>C++</em>    Python     </li>
<li><code>freetype-dev</code> ‚Äî   Python  <em>Matplotlib</em></li>
</ul><br>
<p> :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- apk add g++ freetype-dev</code></pre><br>
<p>  ,     Alpine Linux    NumPy  ,        :</p><br>
<blockquote><strong>ERROR</strong>: Could not build wheels for numpy which use PEP 517 and cannot be installed directly</blockquote><p>,            ,   ,     :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- apk add py3-numpy py3-numpy-dev</code></pre><br>
<p>  Python-    <code>pip</code>.  ,           .      ~15 :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- python3 -m pip install pandas matplotlib ipywidgets</code></pre><br>
<p>  :</p><br>
<pre><code class="bash hljs">lxc <span class="hljs-built_in">exec</span> jupyterlab -- rm -rf /home/*/.cache/pip/*<font></font>
lxc <span class="hljs-built_in">exec</span> jupyterlab -- rm -rf /root/.cache/pip/*</code></pre><br>
<h1 id="testiruem-moduli-v-jupyterlab-navigaciya">   JupyterLab <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p>    <em>JupyterLab</em>,  ,     .       <code>CTRL+C</code>         <code>y</code>   ,     <em>JupyterLab</em>     "",        <code>Enter</code>  :</p><br>
<pre><code class="bash hljs">jupyter lab --ip=0.0.0.0 --no-browser --notebook-dir=/mnt/hostfs</code></pre><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">http://10.0.5.5:8888/lab</a>     ,         :</p><br>
<pre><code class="python hljs">%matplotlib inline<font></font>
<font></font>
<span class="hljs-keyword">from</span> ipywidgets <span class="hljs-keyword">import</span> interactive
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">f</span>(<span class="hljs-params">m, b</span>):</span>
    plt.figure(<span class="hljs-number">2</span>)<font></font>
    x = np.linspace(<span class="hljs-number">-10</span>, <span class="hljs-number">10</span>, num=<span class="hljs-number">1000</span>)<font></font>
    plt.plot(x, m * x + b)<font></font>
    plt.ylim(<span class="hljs-number">-5</span>, <span class="hljs-number">5</span>)<font></font>
    plt.show()<font></font>
<font></font>
interactive_plot = interactive(f, m=(<span class="hljs-number">-2.0</span>, <span class="hljs-number">2.0</span>), b=(<span class="hljs-number">-3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0.5</span>))<font></font>
output = interactive_plot.children[<span class="hljs-number">-1</span>]<font></font>
output.layout.height = <span class="hljs-string">'350px'</span>
interactive_plot</code></pre><br>
<p>        ,  <em>IPyWidgets</em>  UI-        ,   <em>Matplotlib</em>         :</p><br>
<p><img src="https://habrastorage.org/webt/pe/-m/h_/pe-mh_emja1ovbrpq6pegk22zfk.png" alt="gambar"></p><br>
<p>  <em>IPyWidgets</em>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a></p><br>
<h1 id="chto-eschyo-navigaciya"> ? <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">^</a></h1><br>
<p> ,        .              <em>JupyterLab</em>  " ",    :)      ,     ,     Bash  :)</p><br>
<p>,  :</p><br>
<ul>
<li>      IP      <code>/etc/hosts</code>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">http://jupyter.local:8888</a></li>
<li>     ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  LXD</a>        LXD.</li>
<li>  :</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/iw/a8/2s/iwa82sha9mee0uzuf8mx8fyp-y0.png" alt="gambar"></p><br>
<p>     !   .   !</p><br>
<hr><br>
<p>UPDATE: 15.04.2020 18:30 ‚Äî     "Hello, World!"<br>
UPDATE: 16.04.2020 10:00 ‚Äî          <em>JupyterLab</em><br>
UPDATE: 16.04.2020 10:40 ‚Äî            "     "</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id497086/index.html">CQRS dan Layanan Mikro dalam Pengembangan Produk</a></li>
<li><a href="../id497090/index.html">Node.js pada tahun 2020: Keluar dan Keluar Secara Normal</a></li>
<li><a href="../id497092/index.html">Komputer buatan sendiri dari papan AON</a></li>
<li><a href="../id497096/index.html">Pertahanan ancaman seluler: langkah pemasaran atau tren baru?</a></li>
<li><a href="../id497098/index.html">Bagaimana kami membuat autopilot pertama untuk pemanen gabungan pada analitik video di dunia</a></li>
<li><a href="../id497106/index.html">Tutorial jaringan simulator ns-3. Bab 1.2</a></li>
<li><a href="../id497108/index.html">Fighting Covid-2019: Giliran Besar datang</a></li>
<li><a href="../id497110/index.html">Apakah saya perlu akting suara untuk klip video tentang game?</a></li>
<li><a href="../id497116/index.html">Robot tanpa awak Starsky Robotics berakhir</a></li>
<li><a href="../id497118/index.html">[Forecast] Akankah semua truk tak berawak berakhir atau hanya Robot Starsky?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>