<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏀 👓 🤽🏽 Parallelität und Effizienz: Python vs FSM 🈚️ 🌻 👩🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich gebe zu, aber ich kenne Python nicht. Nur weil ich es nicht benutze. Trotzdem nahm ich seine Entwicklung auf und versuchte, die mysteriöse Abkürzu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Parallelität und Effizienz: Python vs FSM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506604/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich gebe zu, aber ich kenne Python nicht. Nur weil ich es nicht benutze. Trotzdem nahm ich seine Entwicklung auf und versuchte, die mysteriöse Abkürzung GIL zu entschlüsseln. Ich ging zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einem Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der die „unerklärlichen magischen Phänomene“ einer parallelen Version einer CPU-abhängigen Funktion in Python beschrieb. Es bestand der Wunsch, diesen Test erneut zu überprüfen und mit der entsprechenden Implementierung in Form eines Zustandsmaschinenmodells (kurz Finite-State-Machine oder kurz FSM) in der Umgebung von Visual Component Programming (automatisch) - VKP (a) zu vergleichen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keine</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Programm ist zum Teil CPU-abhängig. Wenn dies jedoch nicht nur ein Assembler ist, werden wir durch Testen in der einen oder anderen Hochsprache mit größerer Wahrscheinlichkeit die darin verborgene Softwareschicht untersuchen. In Anbetracht von Python wäre es daher korrekter, über die CPU-Abhängigkeit seines Interpreters zu sprechen. Es kann sogar argumentiert werden, dass ein Python-Programm abhängig von der Version des Interpreters eine Geschwindigkeit hat und eine charakteristische „Mystik“ dafür hat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig gibt es Situationen, in denen möglicherweise fast keine Abhängigkeit von der CPU besteht (wir werden dies sehen). </font><font style="vertical-align: inherit;">Wir sprechen von Sprachen, deren Rechenmodell sich von der typischen Prozessorarchitektur unterscheidet. </font><font style="vertical-align: inherit;">Das Rechenmodell von Python entspricht ihm, und das Automatenmodell von Berechnungen, das später erörtert wird, hat eine andere Architektur, und dies bestimmt die Besonderheiten seiner Tests. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie schnell es sein wird und ob der Mystiker stattfinden wird, wird beim Testen des „Automatencodes“ bekannt gegeben</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der aus dem Artikel entliehene Python-Code in serieller und paralleler Version wird in Listing 1 bzw. 2 gezeigt. In unserem Fall wird er durch Zeilen ergänzt, in denen die Arbeitszeit festgelegt ist, und der sequentielle Test ist in einem „Wrapper“ enthalten, mit dem Sie die Anzahl der Wiederholungen festlegen können (eine Folge meiner Bekanntschaft mit Dekorateure in Python). </font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 1. Sequentieller CPU-Test in Python</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">import</span> time

def <span class="hljs-title">count</span><span class="hljs-params">(n)</span>:
  st_time </span>= time.time()
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<font></font>
    n -= <span class="hljs-number">1</span><font></font>
  t = time.time() - st_time<font></font>
  print(<span class="hljs-string">"speed CPU------%s---"</span> % t)
  <span class="hljs-keyword">return</span> t<font></font>
<font></font>
def TestTime(fn, n):<font></font>
  def wrapper(*args):<font></font>
    tsum=<span class="hljs-number">0</span><font></font>
    st = time.time()<font></font>
    i=<span class="hljs-number">1</span>
    <span class="hljs-keyword">while</span> (i&lt;=n):<font></font>
      t = fn(*args)<font></font>
      tsum +=t<font></font>
      i +=<span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> tsum
  <span class="hljs-keyword">return</span> wrapper<font></font>
<font></font>
test1 = TestTime(count, <span class="hljs-number">2</span>)<font></font>
tt = test1(<span class="hljs-number">100000000</span>)<font></font>
print(<span class="hljs-string">"Total ---%s seconds ---"</span> % tt)
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 2. Paralleler CPU-Test</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">import</span> time
from threading <span class="hljs-keyword">import</span> Thread
def <span class="hljs-title">count</span><span class="hljs-params">(n)</span>:
  start_time </span>= time.time()
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<font></font>
    n -= <span class="hljs-number">1</span>
  print(<span class="hljs-string">"speed CPU-%s seconds ---"</span> % (time.time() - start_time))<font></font>
<font></font>
k = <span class="hljs-number">2</span>
<span class="hljs-keyword">while</span> k &gt; <span class="hljs-number">0</span>:<font></font>
  print(<span class="hljs-string">"k=%d "</span> % k)<font></font>
  t1 = Thread(target=count,args=(<span class="hljs-number">100000000</span>,)); t1.start()<font></font>
  t2 = Thread(target=count,args=(<span class="hljs-number">100000000</span>,)); t2.start()<font></font>
  t1.join();<font></font>
  t2.join();<font></font>
  k -= <span class="hljs-number">1</span>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abb. 1 und Abb. 2 zeigen die Testergebnisse für zwei aufeinanderfolgende Testläufe (Python 3.8.3 64-Bit) für die Intel® Core (TM) i5-2400S-CPU bei 2,5 GHz und 6,0 ​​GB RAM. </font><font style="vertical-align: inherit;">Die Ergebnisse sind wie folgt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sequentieller Test - 14,221 Sek</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paralleltest - 13.995 Sek</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dem Artikel über GIL (im Folgenden als Originalartikel bezeichnet) waren dies 24,6 Sekunden bzw. 45,5 Sekunden. </font><font style="vertical-align: inherit;">Bemerkenswert ist der Zeitpunkt des Paralleltests. </font><font style="vertical-align: inherit;">Im Vergleich zu den Ergebnissen des Originalartikels zeigt dies, dass die Dinge Fortschritte gemacht haben, wenn auch nur unter dem Gesichtspunkt der Implementierung der Parallelität durch den Interpreten (obwohl dies nur eine Annahme ist). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uo/mk/w6/uomkw6xfskl2xmcvhqzzuqo1yrk.jpeg" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 1. </font><font style="vertical-align: inherit;">Laufzeit des sequentiellen Python-Tests </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/w6/il/dw/w6ildwbdjwthschinfwkvvh66vc.jpeg" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 2. </font><font style="vertical-align: inherit;">Python parallele Testlaufzeit</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass die parallele Version fast zweimal langsamer ist als die ähnliche sequentielle. Wenn wir drei Flüsse erzeugen, verlangsamt sich das Ergebnis proportional (siehe Abb. 3). Daraus können wir schließen, dass eine Erhöhung der Anzahl der Threads zu einer mehrfachen Erhöhung der Betriebszeit führt. Wenn Sie nicht unter die Haube kommen, kann es nach dem derzeitigen Verständnis von Python wie Mystik aussehen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r7/lw/rm/r7lwrmuef38balputxp2u0vuguc.jpeg" alt="Bild"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 3. CPU-Test auf drei Threads in Python</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bevor wir mit der Erstellung von Automatencode und dem Testen in der VKP (a) -Umgebung fortfahren, betrachten wir die Implementierung von Automaten außerhalb von </font><i><font style="vertical-align: inherit;">Python</font></i><font style="vertical-align: inherit;"> . Ein Modell in Form eines Graphen eines Automaten, der dem Algorithmus des Originalartikels entspricht, ist in Abb. 1 dargestellt. 4. Aus der Vielzahl möglicher Optionen (siehe zum Beispiel den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Betrachten Sie das typischste und bekannteste - im Format der sogenannten SWITCH-Technologie (weitere Einzelheiten finden Sie auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der ITMO-Website</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes werden wir das Python-Programm mit der C ++ - Implementierung vergleichen. </font><font style="vertical-align: inherit;">Der C ++ - Code, der dem Diagramm mit seinem Startcode entspricht (siehe Hauptfunktion), ist in Listing 3 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8l/io/zk/8liozkw_9cogioozutoi3xsadoq.jpeg" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dargestellt. Abbildung 4. </font><font style="vertical-align: inherit;">Automatisiertes Modell der CPU-abhängigen Funktion</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 3. Implementierung eines C ++ - Tests</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FsmCount</span>
{</span>
<span class="hljs-keyword">public</span>:<font></font>
    FsmCount(<span class="hljs-keyword">int</span> n) { nCount = n; nState = <span class="hljs-number">0</span>; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ExecOneStep</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">int</span> nState;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-keyword">int</span> nCount;
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FsmCount.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FsmCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> nCount &gt; <span class="hljs-number">0</span>; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::y1</span><span class="hljs-params">()</span> </span>{ nCount--; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::ExecOneStep</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">switch</span> (nState) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
        <span class="hljs-keyword">if</span> (x1())<font></font>
            y1();<font></font>
        <span class="hljs-keyword">else</span> nState = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QCoreApplication&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FsmCount.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span>
</span>{
    <span class="hljs-function">QCoreApplication <span class="hljs-title">a</span><span class="hljs-params">(argc, argv)</span></span>;<font></font>
<font></font>
    QTime time;<font></font>
    FsmCount *pFsmCount{<span class="hljs-literal">nullptr</span>};<font></font>
<font></font>
    pFsmCount = <span class="hljs-keyword">new</span> FsmCount(<span class="hljs-number">100000000</span>);<font></font>
    time.start();<font></font>
    <span class="hljs-keyword">while</span> (!pFsmCount-&gt;nState)<font></font>
        pFsmCount-&gt;ExecOneStep();<font></font>
    <span class="hljs-keyword">double</span> dTime = QString::number(time.elapsed()).toDouble();
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%f"</span>, dTime);
    <span class="hljs-keyword">if</span> (pFsmCount) <span class="hljs-keyword">delete</span> pFsmCount;<font></font>
<font></font>
    <span class="hljs-keyword">return</span> a.exec();<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Testlaufzeit auf der genannten Hardwarebasis liegt innerhalb von 250 ms. </font><font style="vertical-align: inherit;">Dies ist über 55-mal schneller als Python-Code. </font><font style="vertical-align: inherit;">Es wurde ein Vergleich mit einem parallelen Testfall für zwei Fäden durchgeführt (siehe Abb. 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Geschwindigkeit kann jedoch noch weiter erhöht werden, wenn die Funktion berechnet wird, ohne über die Aktion / Methode y1 hinauszugehen (siehe Listing 4). </font><font style="vertical-align: inherit;">Infolgedessen verringerte sich die Geschwindigkeit des Tests auf weniger als 1 ms (schwieriger zu sagen, da der Test einen Wert gleich Null erzeugt). </font><font style="vertical-align: inherit;">Wenn auch nur dieser Wert zugrunde gelegt wird, ist die Geschwindigkeit mehr als 14000 (!) Mal höher als in Python. </font><font style="vertical-align: inherit;">Es wird deutlich, warum C ++ beim Entwurf derselben Echtzeitsysteme bevorzugt wird.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 4. Schnelle Methodenvariante für die FsmCount-Klasse</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::y1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (nCount&gt;<span class="hljs-number">0</span>)<font></font>
        nCount--;<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unser nächstes Ziel ist es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Python mit der CPSU (a) -Umgebung</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><i><font style="vertical-align: inherit;">vergleichen</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Der automatische Test sollte wie oben dem Modell in Abb. 1 entsprechen. </font><font style="vertical-align: inherit;">4. Sein Code zeigt Listing 5.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 5. Automatisiertes CPU-Testprogramm</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FCount(<span class="hljs-built_in">string</span> strNam);<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FCount.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>),<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x12"</span>, <span class="hljs-string">"y2"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x1"</span>, <span class="hljs-string">"y3"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FCount::FCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam)<font></font>
{ }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> n = <span class="hljs-keyword">int</span>(pVarCount-&gt;GetDataSrc());<font></font>
    pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, --n);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y2</span><span class="hljs-params">()</span> </span>{<font></font>
    time.start();<font></font>
    pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarExtVarCount-&gt;GetDataSrc());<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Testausführungszeit liegt im Bereich von 5,35 Sekunden bei einer Anzahl von Zyklen von 100.000. In </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schnellem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++ geschrieben, läuft es mehr als 2600 Mal (!?) langsamer als der Paralleltest in Python. Ein solches Ergebnis kann nur stören :( Wir stellen jedoch fest, dass die Dauer des diskreten Takts 0,0535 ms beträgt. Beispielsweise beträgt der Standard-SPS-Zyklus vom Typ OVEN-100 1 ms, und daher ist das Ergebnis aus Sicht von Echtzeit-Steuerungssystemen recht anständig Manchmal ist das Ergebnis auf den ersten Blick nicht für den AP, da der Code umfangreich ist und die Geschwindigkeit einen Alarm auslöst (z. B. für rein rechnerische Aufgaben).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von C ++ als Entwurfssprache des VKP (a) macht es recht einfach, das aufgetretene Geschwindigkeitsproblem zu lösen. Listing 6 zeigt den Code für einen Automaten unter Verwendung von Standardsystemthreads basierend auf der QThread-Klasse der Qt-Bibliothek. Infolgedessen sank die Zeit auf 70-80 ms, selbst wenn die Zyklen auf 100000000 anstiegen. Somit ist der Test mit dem Stream bereits 200-mal schneller als in Python. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass das erhaltene Ergebnis eine langsamere Version des Tests ist, die mit der Umgebung der KPdSU synchronisiert ist (a). Wenn Sie eine Zeile auskommentieren (Listing 6):</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">while</span> (bIfExecuteStep) { bIfExecuteStep = <span class="hljs-literal">false</span>; }, </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dann "kollabiert" die Zeit auf 1 ms oder weniger. </font><font style="vertical-align: inherit;">Infolgedessen wird die Geschwindigkeit in Bezug auf Python bereits mehr als 14.000 Mal höher sein. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinweis 1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Das Flag bIfExecuteStep wird von der VKP (a) -Umgebung verwaltet. </font><font style="vertical-align: inherit;">Sie wird zu Beginn des aktuellen diskreten Maßes festgelegt. </font><font style="vertical-align: inherit;">Eingeführt zur Synchronisation mit der diskreten Zeit des Automatenraums des Prozesses. </font></font><br>
</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Geschwindigkeit zu erhöhen, haben wir eine Kombination aus einem Automaten und einem Stream erstellt, wobei letzterer die gewünschte Funktionalität implementiert und der Automat sie umschließt. </font><font style="vertical-align: inherit;">Es stellte sich heraus, dass es sich um ein ziemlich spezifisches Objekt handelte, aber wir lösten auch das Problem der Erhöhung der Arbeitsgeschwindigkeit, das wir als Ergebnis beschlossen hatten.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 6. Thread-basierter CPU-Test</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QThread&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThCount</span> :</span> <span class="hljs-keyword">public</span> QThread<font></font>
{<font></font>
    Q_OBJECT<font></font>
<span class="hljs-keyword">public</span>:<font></font>
    ThCount(QCount *p, QObject *parent);<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-keyword">bool</span> bIfRun{<span class="hljs-literal">false</span>};
    <span class="hljs-keyword">bool</span> bIfStop{<span class="hljs-literal">false</span>};
    <span class="hljs-keyword">bool</span> bIfExecuteStep{<span class="hljs-literal">false</span>};<font></font>
    QCount *pQCount;<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ExecuteThreadStep</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">WaitForThreadToFinish</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> QCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    QCount(<span class="hljs-built_in">string</span> strNam);
    <span class="hljs-keyword">virtual</span> ~QCount(<span class="hljs-keyword">void</span>);<font></font>
    ThCount  *pThCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount;<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
<font></font>
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThCount</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"QCount.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTimer&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"s2"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s2"</span>,		<span class="hljs-string">"s3"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"y2"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s3"</span>,		<span class="hljs-string">"s2"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<font></font>
QCount::QCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
<font></font>
QCount::~QCount(<span class="hljs-keyword">void</span>) { }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">QCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarExtVarCount = <span class="hljs-literal">nullptr</span>;<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::ExecuteThreadStep</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">if</span> (pThCount) pThCount-&gt;bIfExecuteStep = <span class="hljs-literal">true</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::WaitForThreadToFinish</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (pThCount) {
        <span class="hljs-comment">//  </span>
        pThCount-&gt;bIfRun = <span class="hljs-literal">false</span>;<font></font>
        pThCount-&gt;quit();<font></font>
        pThCount-&gt;wait(<span class="hljs-number">500</span>);<font></font>
        pThCount-&gt;<span class="hljs-built_in">terminate</span>();<font></font>
    }<font></font>
    <span class="hljs-keyword">delete</span> pThCount;<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">QCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">QCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }
<span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y1</span><span class="hljs-params">()</span> </span>{<font></font>
    pThCount    = <span class="hljs-keyword">new</span> ThCount(<span class="hljs-keyword">this</span>, pTAppCore-&gt;pMainFrame);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y2</span><span class="hljs-params">()</span> </span>{ pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarExtVarCount-&gt;GetDataSrc()); }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
<span class="hljs-comment">//                         </span><font></font>
ThCount::ThCount(QCount *p, QObject *parent) :<font></font>
    QThread(parent)<font></font>
{<font></font>
    pQCount = p;<font></font>
    bIfRun = <span class="hljs-literal">true</span>;      <span class="hljs-comment">//   / </span>
    start(QThread::IdlePriority);            <span class="hljs-comment">//  </span><font></font>
}<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ThCount::run</span><span class="hljs-params">()</span>
</span>{<font></font>
    bIfStop = <span class="hljs-literal">false</span>;       <span class="hljs-comment">//    </span>
    pQCount-&gt;pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, <span class="hljs-string">""</span>, <span class="hljs-literal">nullptr</span>);<font></font>
    pQCount-&gt;pVarCount-&gt;SetDataSrc(pQCount, pQCount-&gt;pVarExtVarCount-&gt;GetDataSrc());<font></font>
    pQCount-&gt;pVarCount-&gt;UpdateVariable();<font></font>
    <span class="hljs-keyword">while</span>(bIfRun)  {
        <span class="hljs-keyword">if</span> (pQCount-&gt;pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>) {<font></font>
            bIfExecuteStep = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">int</span> n = pQCount-&gt;pVarCount-&gt;GetDataSrc();
            <span class="hljs-keyword">if</span> (n&gt;<span class="hljs-number">0</span>) {<font></font>
                pQCount-&gt;time.start();<font></font>
            }<font></font>
            pQCount-&gt;time.start();<font></font>
            <span class="hljs-keyword">while</span> (n&gt;<span class="hljs-number">0</span>) {<font></font>
                n--;<font></font>
                <span class="hljs-keyword">while</span> (bIfExecuteStep) { bIfExecuteStep = <span class="hljs-literal">false</span>; }<font></font>
            }<font></font>
            <span class="hljs-built_in">string</span> str = QString::number(pQCount-&gt;time.elapsed()).toStdString();<font></font>
            pQCount-&gt;pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(pQCount-&gt;time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
            pQCount-&gt;pVarCount-&gt;SetDataSrc(pQCount, <span class="hljs-number">0.0</span>);
            <span class="hljs-keyword">while</span> (n&lt;=<span class="hljs-number">0</span>) {<font></font>
                n = <span class="hljs-keyword">int</span>(pQCount-&gt;pVarCount-&gt;GetDataSrc());<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
    bIfStop = <span class="hljs-literal">true</span>;        <span class="hljs-comment">//    </span><font></font>
} <font></font>
</code></pre><br>
</div>
                    </div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrachten Sie einen anderen Test und achten Sie dabei auf die Laufzeit der Threads.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Da sie absolut identisch sind und dann gleichzeitig gestartet werden, müssen sie gleichzeitig die Arbeit abschließen. Wenn dies für Python nur innerhalb eines bestimmten Fehlers zutrifft (siehe Abb. 5), stimmt die Zeit für die Prozesse in der KPdSU (a) vollständig überein (siehe Abb. 6). Beachten Sie, dass das zusätzlich erstellte Stoppuhrobjekt, das die Zeit bestimmt, zu der der Test außerhalb ausgeführt wird, praktisch dieselbe Zeit anzeigt wie die Zeit, die vom Test / den Tests selbst gemessen wurde (siehe Listing 4). </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anmerkung 2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> „Stoppuhr“ ist ein automatischer Prozess, der den Countdown startet, wenn der gesteuerte Prozess in den Status „s1“ wechselt, und den Zeitpunkt festlegt, zu dem er in den Status „st“ wechselt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (siehe die Tabelle für den </font><i><font style="vertical-align: inherit;">automatischen</font></i><font style="vertical-align: inherit;"> Übergang in Listing 4).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ye/m9/9j/yem99jhhwbjomjniiquk588avdq.jpeg" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb.5. Testlaufzeit in Python </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/gj/vv/la/gjvvlahvngzhh_agxuwgesij9l0.jpeg" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 6. Testlaufzeit in der VKP-Umgebung (a)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Automaten haben im Vergleich zu anderen Modellen eine diskrete Zeit. Der Wert der diskreten Uhr kann für Synchronmaschinen festgelegt werden oder schwebend - für Asynchron (Klassifizierung nach Glushkov V.M.). </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der nächste Test besteht darin, die Umgebung der KPdSU (a) auf Synchronität zu überprüfen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - die Fähigkeit, ein konstantes Maß für die diskrete Zeit aufrechtzuerhalten. Es sei daran erinnert, dass der Synchronbetrieb von Automaten bei der Konstruktion von Automatiksteuersystemen besonders gefragt ist (siehe Details [1]). Gleichzeitig dient dieser Modus als </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel für die tatsächliche Unabhängigkeit des Rechenmodells von der CPU-Geschwindigkeit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Testlaufzeit mit einem diskreten Taktzyklus (in der Theorie der automatischen Steuerung (TAU) als Quantisierungsintervall bezeichnet) von 1 ms und der Anzahl der Zyklen 100000 sollte 100 Sekunden betragen. </font><font style="vertical-align: inherit;">Die während des Tests erhaltenen Ergebnisse sind in Fig. 1 gezeigt. </font><font style="vertical-align: inherit;">7. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bk/jk/po/bkjkpof2u2aemojgtv4at2jpvuq.jpeg" alt="Bild"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 7. </font><font style="vertical-align: inherit;">Testen im synchronen Modus (1 ms)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wir haben den Haupttest tatsächlich abgeschlossen und können nun die Codemenge diskutieren, da Kritiker in Listing 3 nicht versäumen werden, darauf hinzuweisen. </font><font style="vertical-align: inherit;">Aber noch einmal werden sie vergessen, was mehr als einmal gesagt wurde. </font><font style="vertical-align: inherit;">Der Code enthält eine Shell, die die Interaktion mit der Umgebung der KPdSU organisiert (a). </font><font style="vertical-align: inherit;">Welche Art von Automaten benötigt wird, wenn Sie sie ausschließen, wird in Listing 7 erläutert, bei dem es sich um reinen Code für eine </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatenfunktion handelt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 7. Automatencode reinigen</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> LArc TBL_CountMini[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCountMini</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:<font></font>
    FCountMini(<span class="hljs-built_in">string</span> strNam): LFsaAppl(TBL_CountMini, strNam) {};
    <span class="hljs-keyword">int</span> nCount;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fcountmini.h"</span></span><font></font>
<font></font>
LArc TBL_CountMini[] = {<font></font>
    LArc(<span class="hljs-string">"1"</span>,	<span class="hljs-string">"1"</span>,<span class="hljs-string">"x1"</span>,	<span class="hljs-string">"y1"</span>),<font></font>
    LArc(<span class="hljs-string">"1"</span>,	<span class="hljs-string">"00"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"--"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCountMini::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> nCount &gt; <span class="hljs-number">0</span>; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCountMini::y1</span><span class="hljs-params">()</span> </span>{ --nCount; }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellte sich heraus, nicht wahr, viel einfacher, obwohl die Betriebszeit gleich blieb. </font><font style="vertical-align: inherit;">Wie wir bereits herausgefunden haben, beträgt die Zeit einer in einem Stream eingeschlossenen Funktion buchstäblich einige Mikrosekunden. </font><font style="vertical-align: inherit;">Eine ähnliche Aktion wurde bereits in Betracht gezogen (siehe Listing 4). </font><font style="vertical-align: inherit;">Damit wird die Testzeit nach wie vor in Mikrosekunden berechnet (siehe Abb. 8). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit können viele Probleme automatisierter Programme gelöst werden, wenn Sie sich vorstellen, wie ihre Wirksamkeit verwaltet werden kann. </font><font style="vertical-align: inherit;">C ++ - Funktionen in diesem Sinne sind praktisch unbegrenzt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/9e/dd/jc9eddl6kh2-ycdztw6ukgrgcl4.jpeg" alt="Bild"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 8. </font><font style="vertical-align: inherit;">Ergebnisse des Testens der Wirkung von y1 (Listing 6). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der „automatische Wrapper“ für die Funktion in Listing 7 muss noch berücksichtigt werden. Listing 8 demonstriert dies. Der Code ist umfangreich, aber wiederum generisch und führt den Funktionsstandard für die Umgebung aus.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listing 8. Wrapper für die Automatenfunktion in Listing 5</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCountMini</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FCount(<span class="hljs-built_in">string</span> strNam);
    <span class="hljs-keyword">virtual</span> ~FCount(<span class="hljs-keyword">void</span>);<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y4</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
    FCountMini *pCountMini{<span class="hljs-literal">nullptr</span>};<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FCount.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fcountmini.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>,<span class="hljs-string">"y4"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"--"</span>,<span class="hljs-string">"y3"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FCount::FCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam)<font></font>
{ }<font></font>
<font></font>
FCount::~FCount(<span class="hljs-keyword">void</span>)<font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (pCountMini) <span class="hljs-keyword">delete</span> pCountMini;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y4</span><span class="hljs-params">()</span> </span>{<font></font>
    time.start();<font></font>
    <span class="hljs-keyword">if</span> (pCountMini) <span class="hljs-keyword">delete</span> pCountMini;<font></font>
        pCountMini = <span class="hljs-keyword">new</span> FCountMini(<span class="hljs-string">"CountMini"</span>);<font></font>
<font></font>
    pCountMini-&gt;nCount = pVarExtVarCount-&gt;GetDataSrc();<font></font>
    pCountMini-&gt;FCall(<span class="hljs-keyword">this</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können also zusammenfassen. Im Allgemeinen arbeiten Maschinen in der KPdSU (a) fast 2.600-mal langsamer als Prozesse in Python. Dies ist in der Tat die Bewertung des „automatischen Dolmetschers“ der VKP (a) -Umgebung. Einerseits sind darin kolossale Wachstumsreserven verborgen, andererseits ist unter dem Gesichtspunkt der Reaktivität des Mediums sogar eine solche Geschwindigkeit völlig ausreichend. Aber erinnern Sie sich, die Verwendung von Threads ermöglicht es uns, dieses Problem jetzt zu bewältigen und umgekehrt, auf dieser Basis mehr als 200 Mal schneller als Phython zu sein. Zusätzlich zu Threads gibt es eine noch einfachere und theoretisch genauere „automatische Lösung“ - das Aufrufen einer Problemfunktion innerhalb einer oder mehrerer Aktionen (analog zum „Aufteilen einer Operation oder eines Prozesses in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blöcke</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “, siehe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) In jedem Fall sieht die Situation im AP unter dem Gesichtspunkt der Programmleistung in C ++ nicht hoffnungslos aus, und in einer bestimmten Situation (z. B. beim Entwerfen von Echtzeitsystemen) ist sie sogar vorteilhaft. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und zum Schluss noch ein wenig darüber, was über einfaches Testen hinausgeht.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich war begeistert von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einem Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich stimme zu, dass "genug, um Angst vor subjektiv schönen Entscheidungen im Kodex zu haben". Mit einem wesentlichen Änderungsantrag - ich bin für Objektivität. Der Code eines Automatenprogramms mag umständlich (was ziemlich reparabel ist), nicht sehr schön (dies ist sehr subjektiv) und möglicherweise nicht einmal schnell angeordnet sein (hier gibt es, wie wir gesehen haben, mehr als eine Lösung in AP), aber das Verständnis seiner Essenz enthüllt etwas, das von außen verborgen ist Anblick der Schönheit. Darüber hinaus objektive Schönheit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist hier das Kriterium der Objektivität? Theorie. In unserem Fall die Theorie der Automaten. Seine Implementierung, egal wie es aussieht, kann per Definition nicht hässlich sein;) Und umgekehrt, wenn die Implementierung nicht mit ihr übereinstimmt, hat sie, egal wie vorteilhaft sie aussieht, normalerweise aus theoretischer Sicht keine Perspektive. Das ist der Grund, warum wir, egal in welchem ​​Eifer Sie die SWITCH-Technologie verbreiten, egal wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hoch gelobt das UniMod ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber wenn sie nicht den Anforderungen der Automatentheorie entsprechen und ihre Schönheit verzerren, begegnen wir unfreiwillig und objektiv der Situation, dass „der Automat nicht anders ist als viele“. Und solche „Wirrwarr“ und „Tanzen mit einem Tamburin“ können diese Situation nicht korrigieren. Wenn Sie jedoch der Theorie folgen, ist dies nicht erforderlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich schoss kritische Pfeile in Richtung Maschinengewehre und konnte mich, wie der "Miese über das Bad", an die Coroutinen erinnern;)</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich würde sie auch gerne testen, aber gleichzeitig ihre Schönheit bewerten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , weil ist es wirklich die Schönheit von "Designs" wie die in Abb. 9 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siehe auch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), welche Implementierung, wenn ich mich nicht irre, zwei parallele (?) Operatoren a = ab und b = a + b, können zumindest minimale Bewunderung verursachen? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_1/lj/2t/_1lj2tagueuf7u2itoqbltdrvnu.jpeg" alt="Bild"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 9. Ein Beispiel für Corutin.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Vielleicht ist dieser Code sogar effektiv, aber für jemanden ist er zweifellos schön, aber es ist etwas anderes. Ich bin nicht hier über den manischen Wunsch, Parallelität mit Mustern konsequenten Denkens zu beschreiben. Obwohl dies, wenn es einfach ist, ärgerlich, weil </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Denken muss geändert werden</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ich bin ganz anders. Gibt es eine von der Programmiersprache unabhängige Coroutinentheorie, die es uns ermöglicht, die „Kringel“ der Sprache einfach und klar zu überwinden (siehe noch einmal Abb. 9) und die gestellte Frage eindeutig zu beantworten? In Bezug auf Coroutine kenne ich eine solche Theorie nicht, obwohl ich sie ehrlich gesagt gesucht habe;) Für endliche Automaten ist dies eine Theorie von Automaten, in der ein Automat immer ein Automat in irgendeiner Form (Grafik, Tabelle, Matrix usw.) ohne Verbindung mit ist Sprache / Programmiersprachen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir zogen an der scheinbar einfachsten „Testschnur“ und berührten ein Gewirr von ... parallelen Problemen. Vielleicht ist es wahr, dass sie es nur ein wenig aufgewirbelt haben. Und sie begannen, wenn jemand es nicht vergessen hat, mit einer elementaren CPU-abhängigen Funktion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wer hätte gedacht, was daraus resultieren würde ... :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Literatur</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Miroshnik IV </font><font style="vertical-align: inherit;">Theorie der automatischen Steuerung. </font><font style="vertical-align: inherit;">Lineare Systeme. </font><font style="vertical-align: inherit;">- St. Petersburg: Peter, 2005 - 336 p.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de506588/index.html">Was ist ein Algorithmus? (Teil 2)</a></li>
<li><a href="../de506590/index.html">Konferenz DEVOXX UK. Wählen Sie ein Framework: Docker Swarm, Kubernetes oder Mesos. Teil 2</a></li>
<li><a href="../de506594/index.html">Redis Best Practices, Teil 3</a></li>
<li><a href="../de506598/index.html">Microsoft: Rust является 'лучшим шансом' в отрасли программирования безопасных систем</a></li>
<li><a href="../de506600/index.html">Der Auftrag zur Entwicklung des Standortes im Hinblick auf das Projektmanagement (Theorie + Stichprobe)</a></li>
<li><a href="../de506606/index.html">PIXI.js Clicker-Erstellung</a></li>
<li><a href="../de506610/index.html">WAL-G: PostgreSQL-Datenbanksicherungen und -wiederherstellung</a></li>
<li><a href="../de506612/index.html">So erhöhen Sie die Vollständigkeit umfangreicher Online-Kurse</a></li>
<li><a href="../de506620/index.html">Kreatives Denken: Was es ist, wie Sie Ihr Potenzial messen und steigern können</a></li>
<li><a href="../de506624/index.html">FOSS News Nr. 20 - Überprüfung der kostenlosen und Open Source-Nachrichten für den 8. bis 14. Juni 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>