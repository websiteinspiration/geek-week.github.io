<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧝🏽 👩🏾‍💻 🏪 分散トレース：すべてが間違っていました 💟 🤜🏽 👨🏻‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注意ペレフ。：この資料の著者は、APIの開発、特にマイクロサービスのテストに携わるimgixのエンジニアであるCindy Sridharanです。この記事では、分散トレースの分野での実際の問題に関する彼女の詳細なビジョンを共有します。彼女の意見では、差し迫った問題を解決するための本当に効果的なツール...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>分散トレース：すべてが間違っていました</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/460365/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意ペレフ。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：この資料の著者は、APIの開発、特にマイクロサービスのテストに携わるimgixのエンジニアであるCindy Sridharanです。この記事では、分散トレースの分野での実際の問題に関する彼女の詳細なビジョンを共有します。彼女の意見では、差し迫った問題を解決するための本当に効果的なツールが不足しています。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/zu/va/og/zuvaogffo6d3gqi1mmzq5ts3zoc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[この図は</font><font style="vertical-align: inherit;">、分散トレースに関する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他の資料</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から借用した</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ものです</font><i><font style="vertical-align: inherit;">。] </font></i></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散トレースは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">が</font></a><font style="vertical-align: inherit;">困難であり、その結果の返り</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">はよく</font></a><font style="vertical-align: inherit;">て</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">も疑わしい</font></a><font style="vertical-align: inherit;">と考えられてい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。トレースの「問題」は多くの理由で説明されます。多くの場合、システムの各コンポーネントをセットアップして、各リクエストとともに対応するヘッダーを送信する複雑さを指します。この問題は発生しますが、乗り越えられないとは言えません。ちなみに、開発者がトレース機能（すでに機能している場合でも）をあまり好まない理由は説明されていません。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分散トレースの主な問題は、データの収集、結果の配布と表示のためのフォーマットの標準化、サンプリングのタイミング、場所、方法の決定ではありません。私は</font><font style="vertical-align: inherit;">これらの「消化の問題」</font><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">些細な</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こと</font><font style="vertical-align: inherit;">として</font><font style="vertical-align: inherit;">表現</font><font style="vertical-align: inherit;">しようとはしていません。</font><font style="vertical-align: inherit;">実際、</font><font style="vertical-align: inherit;">これらの問題を検討できるように克服する必要のある</font><font style="vertical-align: inherit;">技術的および（オープンソースの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準とプロトコルを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際に見ている場合）非常に重要な</font><font style="vertical-align: inherit;">政治的課題があります。解決しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、これらの問題がすべて解決されたと想像すると、</font><i><font style="vertical-align: inherit;">エンドユーザーエクスペリエンスの</font></i><font style="vertical-align: inherit;">点で大きな変化はありません</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">トレースは、デプロイされた後でも、最も一般的なデバッグシナリオではまだ実用的でない場合があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのような別の痕跡</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分散トレースには、いくつかの異なるコンポーネントが含まれています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> アプリケーションとミドルウェアにコントロールを装備する。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 分散コンテキスト送信</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> トレースコレクション;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> トレースストレージ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> それらの抽出と視覚化。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分散トレースについての多くの話は、それを一種の単項演算と見なすことになります。その唯一の目的は、システムの完全な診断に役立つことです。これは主に、分散トレースの概念が形成された方法によるものです。で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブログ記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Zipkinソースが開かれたとき、それがいることを言及して作られた</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼[Zipkin]が速くツイッターになります</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。トレース用の最初の商用製品も</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APMツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として宣伝されました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意ペレフ。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：詳細なテキストをよりよく理解するため</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、OpenTracingプロジェクトのドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に従って2つの基本的な用語を定義します</font><font style="vertical-align: inherit;">。</font></font></i><br>
<br>
<ul>
<li> <i><b>Span</b> —    .       (,    )  ,    , ,   .</i></li>
<li> <i>Span'      span',     span'  <b>Trace</b> —          .</i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trace'yには、本番環境でのテスト、障害復旧テストの実施、エラーを伴うテストなどのタスクに役立つ非常に貴重なデータが含まれています。</font><font style="vertical-align: inherit;">実際、一部の企業はそのような目的ですでにトレースを使用しています。</font><font style="vertical-align: inherit;">まず、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユニバーサルコンテキスト転送</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">には、単にスパンをストレージシステムに転送する以外にも、次のような用途があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トレース結果を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">使用して</font></a><font style="vertical-align: inherit;">、テストトラフィックと本番トラフィックを区別します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facebook </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トレースデータを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">使用</font></a><font style="vertical-align: inherit;">して、クリティカルパスを分析し、定期的な災害復旧テスト中にトラフィックを切り替えます。</font></font></li>
<li>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  Jupyter,        .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">LDFI</a> (Lineage Driven Failure Injection) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  trace'     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のオプションはいずれも、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッグ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シナリオに完全に関連しているわけではありません</font><font style="vertical-align: inherit;">。その間、エンジニアはトレースを見て問題を解決しようとします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それはときに</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まだ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッグスクリプトに来る、プライマリインターフェイスは、ダイアグラムである</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（一部はまた、それを呼び出すが、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ガントチャート」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「カスケード図」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一緒にトレースを構成するすべてのスパンと関連するメタデータを。各オープンソーストレースシステムおよび各商用トレースソリューションは、</font><i><font style="vertical-align: inherit;">traceview</font></i><font style="vertical-align: inherit;">ベースの</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trace'ovを視覚化、詳細化、およびフィルタリングするためのユーザーインターフェイス。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在私がよく知っているすべてのトレースシステムの問題は、最終的な</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">視覚化（traceview）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がトレース生成プロセスの機能をほぼ完全に反映していることです。別の視覚化が提供されている場合でも、強度マップ（ヒートマップ）、サービストポロジー、レイテンシヒストグラム-最終的には</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceviewになり</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
過去に、</font><font style="vertical-align: inherit;">UI / UXに関するトレーサビリティの「革新」のほとんどは、</font><font style="vertical-align: inherit;">追加のメタデータをトレースに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">含めること</font></a><font style="vertical-align: inherit;">、それらに高いカーディナリティを持つ情報を埋め込む</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ことに</font></a><font style="vertical-align: inherit;">限定されているようだ</font><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不満</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">述べ</font></a><font style="vertical-align: inherit;">ました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（カーディナリティが高い）、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または特定のスパンにドリルダウンしたり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、トレース間およびトレース内</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエストを実行したりする機能を提供することによって</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が視覚化の主な手段です。</font><font style="vertical-align: inherit;">この状況が続く限り、分散トレースは（最高でも）デバッグツールとして4位になり、その後にメトリック、ログ、スタックトレースが続き、最悪の場合、お金と時間の浪費になります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceviewの問題</font></font></h2><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の目的は、</font><i><font style="vertical-align: inherit;">関連</font></i><font style="vertical-align: inherit;">する分散システムのすべてのコンポーネントにわたる個々の要求の動きの完全な図を提供することです。一部のより高度なトレースシステムでは、個々のスパンにドリルダウンして</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単一のプロセス</font><i><font style="vertical-align: inherit;">内</font></i><font style="vertical-align: inherit;">の時間の内訳を表示でき</font><font style="vertical-align: inherit;">ます（スパンに機能的な境界がある場合）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロサービスアーキテクチャの基本的な前提は、企業のニーズに応じて組織構造が成長するという考えです。マイクロサービスの支持者は、個々のサービスにさまざまなビジネスタスクを分散することで、小規模なスタンドアロンの開発チームがそのようなサービスのライフサイクル全体を制御し、これらのサービスを個別に作成、テスト、デプロイできるようになると主張しています。ただし、この配布の欠点は、各サービスが他のサービスと相互作用する方法に関する情報が失われることです。このような状況では、分散トレースは</font><font style="vertical-align: inherit;">、サービス間の複雑な相互作用</font><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッグ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するための不可欠なツールであると主張してい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本当に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">驚くほど複雑な分散システム</font></a><font style="vertical-align: inherit;">がある場合</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、一人の人間が彼女の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全な</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写真を</font><font style="vertical-align: inherit;">彼女の頭に保持することはできません</font><font style="vertical-align: inherit;">。実際、一般に可能であるという仮定に基づいてツールを開発することは、少しアンチパターン（非効率的で非生産的なアプローチ）です。理想的には、デバッグには、</font><font style="vertical-align: inherit;">エンジニアが問題のシナリオに関連するディメンションのサブセット（サービス/ユーザー/ホストなど）に集中できるように、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">検索</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><i><font style="vertical-align: inherit;">絞り込むの</font></i><font style="vertical-align: inherit;">に役立つツールが必要です</font><font style="vertical-align: inherit;">。障害の原因を特定するとき、エンジニアは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのサービスで</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何が起こったか</font><i><font style="vertical-align: inherit;">を一度</font></i><font style="vertical-align: inherit;">に理解する必要はありません。</font><font style="vertical-align: inherit;">そのような要件はマイクロサービスアーキテクチャの概念そのものと矛盾するためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、traceviewは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正確に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この。はい、一部のトレースシステムでは、トレース内のスパンの数が多すぎて単一の視覚化で表示できない場合に、圧縮トレースビューを提供します。ただし、このような切り捨てられた視覚化にも大量の情報が含まれているため、エンジニアはそれ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ふるいにかける」ことを</font><i><font style="vertical-align: inherit;">余儀なくされ</font></i><font style="vertical-align: inherit;">、問題のサービスソースのセットに手動で選択を絞り込みます。悲しいかな、この分野では、マシンは人間よりもはるかに高速で、エラーが発生しにくく、結果の再現性が高くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
traceviewメソッドが間違っていると思うもう1つの理由は、仮定されたデバッグには適さないためです。</font><i><font style="vertical-align: inherit;">基本的に</font></i><font style="vertical-align: inherit;">、デバッグは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反復的です。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仮説で始まり、その後、さまざまなベクトルを使用してシステムから受け取ったさまざまな観察と事実の検証、結論/一般化、および仮説の真実のさらなる評価。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
能力</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト仮説</font><i><font style="vertical-align: inherit;">迅速かつ安価に</font></i><font style="vertical-align: inherit;">し、それに応じてメンタルモデルを改善している</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の礎</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッグ。デバッグツールはすべて</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インタラクティブ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、検索スペースを狭める</font><font style="vertical-align: inherit;">必要が</font><font style="vertical-align: inherit;">あります。または、トレースが誤っている場合は、ユーザーが戻ってシステムの別の領域に集中できるようにする必要があります。理想的なツールはこれを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">積極的に行い</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、問題のある可能性のある領域にユーザーの注意をすぐに引き付けます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
悲しいかな、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インタラクティブなインターフェースを持つツールとは言えません。それを使用するときに期待できる最善の方法は、遅延の増加の特定の原因を検出し、それに関連するすべての種類のタグとログを表示することです。これは、エンジニア</font><font style="vertical-align: inherit;">がトラフィックの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パターン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（遅延の特定の分布など）</font><font style="vertical-align: inherit;">を識別し</font><font style="vertical-align: inherit;">たり、異なる測定間の相関を検出したりするのに</font><font style="vertical-align: inherit;">役立ちません</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汎用トレース分析</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、これらの問題のいくつかを回避できます。確かに、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例があります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械学習を使用して正常な分析を行い、異常なスパンを識別し、異常な動作に関連付けられている可能性のあるタグのサブセットを識別します。</font><font style="vertical-align: inherit;">それにもかかわらず、私はまだ、トレースビューやDAG（方向性非循環グラフ）とは大幅に異なるスパンに適用される機械学習またはデータ分析を使用して行われた発見の説得力のある視覚化に遭遇していません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スパンが低すぎる</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
traceviewの根本的な問題は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スパン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がレイテンシ分析と根本原因分析の両方にとって低すぎるプリミティブであることです。これは、例外を排除するために個々のプロセッサコマンドを分析するようなものであり、バックトレースのようなより高度なツールがあり、操作がはるかに便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、私は自由に次のことを主張します。理想的には</font><font style="vertical-align: inherit;">、トレースの最新のツールに代表される、要求のライフサイクル中</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何が起こったかを</font><i><font style="vertical-align: inherit;">完全に把握</font></i><font style="vertical-align: inherit;">する必要はありません</font><font style="vertical-align: inherit;">。代わりに、何</font><i><font style="vertical-align: inherit;">が問題だった</font></i><font style="vertical-align: inherit;">かに関する情報を含む、何らかの高レベルの抽象化が必要です</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（バックトレースと同様）、いくつかのコンテキストとともに。</font><font style="vertical-align: inherit;">トレース全体を観察するの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なく、何か興味深いまたは異常なことが発生</font><font style="vertical-align: inherit;">するトレースの</font><i><font style="vertical-align: inherit;">一部</font></i><font style="vertical-align: inherit;">を確認することを好み</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">現在、検索は手動で行われています。エンジニアはトレースを受け取り、スパンを個別に分析して興味深いものを探します。</font><font style="vertical-align: inherit;">疑わしいアクティビティを検出するために人々が別々のトレースでスパンを見つめるときのアプローチはまったくスケーリングしません（特に、スパンID、RPCメソッド名、スパン期間など、異なるスパンでエンコードされたすべてのメタデータを理解する必要がある場合）。 'a、ログ、タグなど）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traceviewの代替</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果の追跡は、システムの相互接続された部分で何が起こっているのかを自明ではない方法で視覚化できる場合に最も役立ちます。</font><font style="vertical-align: inherit;">これが事実となるまで、デバッグプロセスはほとんど</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不活性の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ままであり</font><font style="vertical-align: inherit;">、ユーザーがこれらの仮説を立てるのに役立つ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツール</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とは</font><font style="vertical-align: inherit;">異なり、正しい相関に気づく、システムの正しい部分をチェックする、またはモザイクの断片を組み立てるユーザーの能力に依存します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はビジュアルデザイナーでもUXスペシャリストでもありませんが、次のセクションでは、そのような視覚化がどのように見えるかについていくつかのアイデアを共有したいと思います。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定のサービスに焦点を当てる</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
業界が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO（サービスレベル目標）とSLI（サービスレベル指標）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の考え方を中心に統合している環境では</font><font style="vertical-align: inherit;">、個々のチームが最初にこれらの目標に対するサービスの適合性を監視する必要があります。したがって、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス指向の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">視覚化は、このようなチームに最適です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特にサンプリングのないトレースは、分散システムの各コンポーネントに関する情報の保管場所です。この情報は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指向の検索結果を</font><font style="vertical-align: inherit;">ユーザーに配信する狡猾なハンドラーに送る</font><font style="vertical-align: inherit;">ことができ</font><font style="vertical-align: inherit;">ます。これ</font><font style="vertical-align: inherit;">は、ユーザーがトレースを見る前でも事前に検出できます。</font></font><br>
<br>
<ol>
<li>         <i>(outlier requests)</i>;</li>
<li>     ,  SLO-   ;</li>
<li>  «», «»  «»   ,    <i></i>;</li>
<li>    ,  <i></i>     SLO-;</li>
<li>      (downstream) .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
組み込みの指標では、これらの質問の一部に答えることができないため、ユーザーはスパンを慎重に検討する必要があります。その結果、私たちはユーザーに対して非常に敵対的なメカニズムを持っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この点で、疑問が生じます。異なるチームによって制御されているさまざまなサービス間の複雑な相互作用はどうですか？</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、このような状況をカバーするための最も適切なツールと見なされて</font><font style="vertical-align: inherit;">いません</font><font style="vertical-align: inherit;">か？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モバイル開発者、ステートレスサービスの所有者、マネージドステートフルサービスの所有者（データベースなど）、およびプラットフォームの所有者</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散システムの</font><font style="vertical-align: inherit;">別の</font><i><font style="vertical-align: inherit;">見方に</font></i><font style="vertical-align: inherit;">関心があるかもしれません</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traceview</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これは、これらの根本的に優れたニーズに対する解決策としては、普遍的すぎます。非常に複雑なマイクロサービスアーキテクチャであっても、サービス所有者は2つまたは3つを超えるアップストリームおよびダウンストリームサービスについての深い知識を必要としません。実際、ほとんどのシナリオでは、ユーザーは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限られた一連のサービス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に関する質問に答えるだけ</font><i><font style="vertical-align: inherit;">で済みます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、詳細な調査のために虫眼鏡を通してサービスの小さなサブセットを見るようなものです。これにより、ユーザーは、これらのサービスとその直接の依存関係の間の複雑な相互作用について、より緊急の質問をすることができます。これは、エンジニアが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が悪いの</font><i><font style="vertical-align: inherit;">かを</font></i><font style="vertical-align: inherit;">知って</font><i><font style="vertical-align: inherit;">いる</font></i><font style="vertical-align: inherit;">サービスの世界のバックトレースに似ており、</font><font style="vertical-align: inherit;">理解するために周囲のサービスで何が起こっているのかについての考えも持っています</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が推進しているアプローチは、トレースビューに基づくトップダウンアプローチとは正反対であり、分析はトレース全体から始まり、その後、個々のスパンに徐々に下っていきます。</font><font style="vertical-align: inherit;">逆に、ボトムアップアプローチは、インシデントの潜在的な原因に近い小さな領域の分析から始まり、その後、必要に応じてサーチスペースが拡張されます（他のチームが関与してより広範なサービスを分析する可能性があります）。</font><font style="vertical-align: inherit;">2番目のアプローチは、初期仮説をすばやくテストするのに適しています。</font><font style="vertical-align: inherit;">特定の結果が得られたら、より焦点を絞った詳細な分析に進むことができます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トポロジー構築</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーが知っている場合、特定のサービスに関連付けられている見解は非常に便利なことができ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスのサービスまたはグループが増加遅延の責任があるか、エラーの原因です。ただし、複雑なシステムでは、特にサービスからエラーメッセージを受信して​​いない場合は、障害時に侵入者サービスを特定することは簡単な作業ではない場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービストポロジの構築は、どのサービスがエラー率の急増またはレイテンシの増加を示しているかを把握するのに非常に役立ち、サービスのパフォーマンスが著しく低下します。トポロジの構築について言えば</font><font style="vertical-align: inherit;">、システムで利用可能なすべてのサービスを表示</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するサービスマップ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">意味</font><i><font style="vertical-align: inherit;">するので</font></i><font style="vertical-align: inherit;">はなく</font><font style="vertical-align: inherit;">、その</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">アーキテクチャマップがデススターの形で</font></a><font style="vertical-align: inherit;">知られてい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。このような表現は、有向非巡回グラフに基づくトレースビューと同じです。代わりに、</font><font style="vertical-align: inherit;">エラー率、応答時間、または特定の不審なサービスの状況を明確にするのに役立つユーザー定義のパラメーターなど、特定の属性に基づいて</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">動的に生成されるサービストポロジ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例を見てみましょう。架空のニュースサイトを想像してみてください。サービスメインページ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（フロントページ）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis、推奨サービス、広告サービスおよびビデオサービスと通信します。ビデオサービスはS3からビデオを受け取り、DynamoDBからメタデータを受け取ります。レコメンデーションサービスは、DynamoDBからメタデータを受信し、RedisおよびMySQLからデータをダウンロードし、Kafkaにメッセージを書き込みます。広告サービスはMySQLからデータを受信し、Kafkaにメッセージを書き込みます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下はこのトポロジーの概略図です（多くの商用ルーティングプログラムがトポロジーを構築しています）。サービスの依存関係を理解する必要がある場合に便利です。ただし、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッグ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中に、特定のサービス（ビデオサービスなど）が応答時間の増加を示している場合、このようなトポロジはあまり役に立ちません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/85/y9/qr85y98gth6ybvwt5yuditlnack.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架空のニュースサイトサービススキーム</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下の図の方が良いでしょう。</font><font style="vertical-align: inherit;">その上に、問題のあるサービス</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ビデオ）が</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真ん中に描かれています。</font><font style="vertical-align: inherit;">ユーザーはすぐに彼に気づきます。</font><font style="vertical-align: inherit;">この可視化から、メインページの一部のダウンロード速度に影響を与えるS3の応答時間の増加により、ビデオサービスが異常に動作していることが明らかになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v2/w5/za/v2w5zaf_s1_r8mzo0j6r2dopyyk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「興味深い」サービスのみを表示する動的トポロジ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
動的に生成されたトポロジスキームは、特に柔軟で自動スケーラブルなインフラストラクチャでは、静的サービスマップよりも効率的です。</font><font style="vertical-align: inherit;">サービストポロジを比較および対比する機能により、ユーザーはより関連性の高い質問をすることができます。</font><font style="vertical-align: inherit;">システムについてのより正確な質問は、システムがどのように機能するかについてのより良い理解につながる可能性が高くなります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比較表示</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の有用な視覚化は、比較表示になります。現在、トレースは並べて比較するのにはあまり適していません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そのため、通常は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スパン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が比較され</font><font style="vertical-align: inherit;">ます。そして、この記事の主な考え方は、スパンがトレース結果から最も価値のある情報を抽出するには低すぎるということです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つのtrace'ovの比較は、根本的に新しい視覚化を要求しません。実際、traceviewと同じ情報を表すヒストグラムのようなもので十分です。驚くべきことに、この単純な方法でも、2つのトレースを個別に調べるだけの場合よりもはるかに多くの実を結ぶことができます。さらに強力なのは</font><i><font style="vertical-align: inherit;">、集約内</font></i><font style="vertical-align: inherit;">のトレース</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比較</font><font style="vertical-align: inherit;">を</font><i><font style="vertical-align: inherit;">視覚化する</font></i><font style="vertical-align: inherit;">機能です。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">GC（ガベージコレクション）の追加による最近展開されたデータベース構成の変更が、ダウンストリームサービスの応答時間に数時間でどのように影響するかを確認することは非常に役立ちます。</font><font style="vertical-align: inherit;">ここで説明しているのが、</font><font style="vertical-align: inherit;">トレース結果を使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したさまざまなサービスにおける</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャ変更の影響のA / B分析のようである</font><font style="vertical-align: inherit;">場合、真実からそれほど離れていません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トレース自体の有用性については質問しません。トレースに含まれているデータほど豊富で、カジュアルで、状況に応じたデータを収集する方法は他にないと私は心から信じています。ただし、すべてのトレースソリューションがこのデータを非常に非効率的に使用していることも信じています。トレース用のツールがtraceview表現に固定されている限り、トレースに含まれるデータから抽出できる貴重な情報の使用を最大化する能力が制限されます。さらに、完全に非友好的で非直感的なビジュアルインターフェースがさらに開発されるリスクがあり、アプリケーションのエラーを修正するユーザーの能力が大幅に制限されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最新のツールを使用していても、複雑なシステムのデバッグは非常に複雑です。ツールは、開発者が</font><font style="vertical-align: inherit;">関連情報を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">積極的に提供し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、外れ値を特定し、遅延の分布の特徴に注目する</font><b><font style="vertical-align: inherit;">こと</font></b><font style="vertical-align: inherit;">により、仮説を立ててテストするのに役立ちます</font><font style="vertical-align: inherit;">。開発者がプロ​​ダクションの失敗を解決したり、さまざまなサービスに関連する問題を解決したりするためのトレースツールを開発者が選択するためには、これらのサービスを作成して運用する開発者のメンタルモデルとより整合性のある、独自のユーザーインターフェイスと視覚化が必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析と推論を容易にするために最適化された方法でトレース結果で利用可能なさまざまな信号を表示するシステムを設計するには、深刻な精神的努力が必要になります。ユーザーが個々のトレースやスパンを見ることなく死角を克服できるように、デバッグ中にシステムトポロジを抽象化する方法を検討する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（特にUIで）優れた抽象化機能と階層化機能が必要です。</font><font style="vertical-align: inherit;">仮説に基づいたデバッグプロセスにうまく適合し、繰り返し質問したり仮説をテストしたりできるもの。</font><font style="vertical-align: inherit;">可観測性に関するすべての問題を自動的に解決するわけではありませんが、ユーザーが直感を磨き、よりバランスのとれた質問を作成するのに役立ちます。</font><font style="vertical-align: inherit;">私は、より思慮深く革新的な視覚化アプローチを求めています。</font><font style="vertical-align: inherit;">視野を広げる本当の見通しがあります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳者からのPS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのブログも読んでください：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KubernetesポッドでデバッグするためのKubectl-debugプラグイン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロサービス：Kubernetesを使用している場合でも、サイズが重要です</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モニタリングとKubernetes（レビューとビデオレポート）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460353/index.html">ガラスのニューラルネットワーク。電力を必要とせず、数字を認識します</a></li>
<li><a href="../ja460355/index.html">溺死を救うことは私たちのビジネスです：チームの意欲低下に対処する方法</a></li>
<li><a href="../ja460359/index.html">ヤングゲームデザイナー2コース：数学を使わずに進行とダイナミクスのバランスを取る</a></li>
<li><a href="../ja460361/index.html">医療情報システムのサイバーセキュリティに関する素晴らしいFAQ</a></li>
<li><a href="../ja460363/index.html">アプローチに欠けている7つの要素12 Factor App</a></li>
<li><a href="../ja460367/index.html">カオスエンジニアリング：意図的な破壊の芸術。パート1</a></li>
<li><a href="../ja460373/index.html">フードターボページの下で：ウェブページの高速ダウンロード技術のアーキテクチャ</a></li>
<li><a href="../ja460375/index.html">本「ビジネスとマーケティングのための機械学習」</a></li>
<li><a href="../ja460377/index.html">Liquibaseを使用してSpring Bootアプリケーションでデータベース構造を管理する。パート1</a></li>
<li><a href="../ja460381/index.html">主張性とは何か、なぜ必要なのか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>