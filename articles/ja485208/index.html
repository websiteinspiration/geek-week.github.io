<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙎🏿 👋🏾 🏇🏼 フォールトトレラントITインフラストラクチャの作成。パート2. oVirt 4.3クラスターのインストールと構成 🌡️ 🤹🏾 🖌️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事は前の記事の続きです-「フォールトトレラントITインフラストラクチャの作成。パート1-oVirt 4.3クラスターのデプロイメントの準備。
 

インフラストラクチャを準備するためのすべての準備手順がすでに完了しているという事実を考慮して、アクセス性の高い仮想マシンをホストするためのoVir...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>フォールトトレラントITインフラストラクチャの作成。パート2. oVirt 4.3クラスターのインストールと構成</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lenvendo/blog/485208/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事は前の記事の続きです-「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォールトトレラントITインフラストラクチャの作成。</font><font style="vertical-align: inherit;">パート1-oVirt 4.3クラスターのデプロイメントの準備</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャを準備するためのすべての準備手順がすでに完了しているという事実を考慮して、アクセス性の高い仮想マシンをホストするためのoVirt 4.3クラスターの基本的なインストールと構成のプロセスを検討します。 </font></font></p><a name="habracut"></a><br>
<h2 id="vvodnaya-chast"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事の主な目的は、「</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次へ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt; </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt; </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">という形式の段階的な手順を説明することではなく</font><font style="vertical-align: inherit;">、インストールおよび構成時にいくつかの機能を示すことです。</font><font style="vertical-align: inherit;">クラスターとデプロイのプロセスは、インフラストラクチャと環境の特殊性のために、クラスターで説明されているプロセスと常に一致するとは限りませんが、一般的な原則は同じです。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主観的な観点から見ると、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oVirt 4.3の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能はVMware vSphereバージョン5.xと似ていますが、もちろん独自の構成および操作機能があります。</font></font></p><br>
<p> ,    RHEV (aka oVirt)  VMware vSphere    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>,             ,   .</p><br>
<p>          .  oVirt         ( ),    VMware vSphere:</p><br>
<ul>
<li>   Linux bridge ( VMware — <em>Standard vSwitch</em>),    ;</li>
<li>  Open vSwitch (OVS) ( VMware — <em>Distributed vSwitch</em>) –    ,     :   OVN   OVN   . </li>
</ul><br>
<p> ,  -  ,        oVirt'      Linux bridge,    ,    KVM.</p><br>
<p>             ,    :</p><br>
<ul>
<li>         oVirt,   ,  IP .</li>
<li> ,      oVirt',      -     ,      ,    oVirt     ,     .</li>
<li>    ,     ,       oVirt'.</li>
</ul><br>
<p>  <u> </u> —     (    ), -        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Red Hat Virtualization 4.3</a>.     oVirt,    ,         ,      . </p><br>
<p> , <u></u>    oVirt,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>,          ,       . </p><br>
<p>        oVirt,    :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">oVirt Installation Guide</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">oVirt Self-Hosted Engine Guide</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">oVirt Administration Guide<br>
</a></li>
</ul><br>
<p>    ,  -     ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Product Documentation for Red Hat Virtualization 4.3</a> — RHEV  oVirt     .</p><br>
<p>,      ,    ,     oVirt.</p><br>
<h2 id="chast-2-ustanovka-i-nastroyka-klastera-ovirt-43"> 2.     oVirt 4.3</h2><br>
<p>  ,        ,     :</p><br>
<ol>
<li>   oVirt</li>
<li>  </li>
<li>  </li>
<li>    Self-Hosted </li>
<li>    Storage Domains</li>
<li>      </li>
<li>      </li>
<li>  </li>
</ol><br>
<h3 id="ustanovka-upravlyayuschego-servera-ovirt">   oVirt</h3><br>
<p><strong>  oVirt</strong> –       oVirt,    , ,   ,    oVirt. </p><br>
<p>     :</p><br>
<ul>
<li>VMware vSphere — vCenter Server</li>
<li>Microsoft Hyper-V — System Center Virtual Machine Manager (VMM).</li>
</ul><br>
<p>    oVirt,     :</p><br>
<p><u> 1</u><br>
       .</p><br>
<p>   ,   ,       , ..    -          KVM.</p><br>
<p>       ?</p><br>
<p>       oVirt,     —    ,      ,       ?  –  KVM    ,      , ,   CentOS     oVirt engine.           ,    ,     ,   100%      :</p><br>
<ul>
<li>      oVirt   () ;</li>
<li>   KVM  <em>virsh migrate</em>,         oVirt.</li>
<li>      <strong>Maintenance mode </strong>( ),           <em>virsh migrate</em>.</li>
</ul><br>
<p>      —     oVirt   ,   ,   ,        .</p><br>
<p><u> 2</u><br>
 oVirt Engine Appliance      .</p><br>
<p>     ,        .<br>
     ,  ,        ,       ,    .    ,         ,       <em>splitbrain</em>   oVirt   ,    hosted-engine   .</p><br>
<h4 id="ustanovka-ovirt-engine-appliance-na-pervyy-host-klastera"> oVirt Engine Appliance    </h4><br>
<p>    — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">oVirt Self-Hosted Engine Guide</a>,  «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Deploying the Self-Hosted Engine Using the Command line</a>»</p><br>
<p>    ,       hosted-engine ,        ,        ,       .</p><br>
<ul>
<li>   ,       BIOS  .</li>
<li>      hosted-engine:</li>
</ul><br>
<pre><code class="plaintext hljs">yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm <font></font>
yum -y install epel-release<font></font>
yum install screen ovirt-hosted-engine-setup</code></pre><br>
<ul>
<li>     oVirt Hosted Engine  screen' (     Ctrl-A + D,   Ctrl-D):</li>
</ul><br>
<pre><code class="plaintext hljs">screen<font></font>
hosted-engine --deploy</code></pre><br>
<p>         :</p><br>
<pre><code class="plaintext hljs">hosted-engine --deploy --config-append=/var/lib/ovirt-hosted-engine-setup/answers/answers-ohe.conf</code></pre><br>
<ul>
<li>   hosted-engine,    : </li>
</ul><br>
<pre><code class="plaintext hljs">-  <font></font>
-  vCPU  vRAM ( 4 vCPU  16 )<font></font>
- <font></font>
-    hosted engine  –    FC<font></font>
-  LUN   hosted engine<font></font>
-       hosted engine –     Local (  PostgreSQL    )<font></font>
 . . </code></pre><br>
<ul>
<li>     hosted engine,        LUN   4   150 ,       – .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.</li>
</ul><br>
<p>       :</p><br>
<pre><code class="plaintext hljs">multipath -ll<font></font>
…<font></font>
3600a098000e4b4b3000003c95d171065 dm-3 DELL    , MD38xxf<font></font>
size=150G features='3 queue_if_no_path pg_init_retries 50' hwhandler='1 rdac' wp=rw<font></font>
|-+- policy='service-time 0' prio=14 status=active<font></font>
| `- 15:0:0:4  sdc 8:32  active ready running<font></font>
`-+- policy='service-time 0' prio=9 status=enabled<font></font>
  `- 18:0:0:4  sdj 8:144 active ready running</code></pre><br>
<ul>
<li>   hosted-engine      ,         : </li>
</ul><br>
<pre><code class="plaintext hljs">[ INFO  ] Generating answer file '/var/lib/ovirt-hosted-engine-setup/answers/answers-20191129131846.conf'<font></font>
[ INFO  ] Generating answer file '/etc/ovirt-hosted-engine/answers.conf'<font></font>
[ INFO  ] Stage: Pre-termination<font></font>
[ INFO  ] Stage: Termination<font></font>
[ INFO  ] Hosted Engine successfully deployed</code></pre><br>
<div class="spoiler"><b class="spoiler_title">   oVirt  :</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/qv/kd/c8/qvkdc8tkfhqkxar1v13jxt4ozxs.png"></p></div></div><br>
<p>    ,        -  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://ovirt_hostname/ovirt-engine</a></em>   ,   [<strong>Administration Portal</strong>]. </p><br>
<div class="spoiler"><b class="spoiler_title"> «Administration Portal»</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/m7/sq/xp/m7sqxpd7qkl3dugl4oj7_5bga5g.png"></p></div></div><br>
<p>    (   )     ,     Open Virtualization Manager,         :</p><br>
<ol>
<li> </li>
<li>   </li>
<li>    </li>
<li>    Storage Domains,    </li>
<li>      </li>
<li>  ,  ,     </li>
</ol><br>
<p><img src="https://habrastorage.org/webt/4r/t_/qg/4rt_qg6irvl-mf6bsorclnmr36e.png"></p><br>
<p>     , -   , -     .<br>
      ,     .</p><br>
<p><strong></strong></p><br>
<p><strong>1)</strong>  ,    ,        KVM   ,   <strong><em>libvirt</em></strong>  <strong><em>qemu-kvm</em></strong> ( <strong><em>qemu-kvm-ev</em></strong>)  ,      oVirt,      .</p><br>
<p>  <strong><em>libvirt</em></strong>  <strong><em>qemu-kvm</em></strong>      ,         hosted engine:</p><br>
<pre><code class="plaintext hljs">error: unsupported configuration: unknown CPU feature: md-clear</code></pre><br>
<p>..   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a> <strong><em>libvirt</em></strong>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">MDS</a>,    : </p><br>
<pre><code class="plaintext hljs">&lt;feature policy='require' name='md-clear'/&gt;</code></pre><br>
<p> libvirt v.4.5.0-10.el7_6.12,   md-clear:</p><br>
<pre><code class="plaintext hljs">yum-config-manager --disable mirror.centos.org_centos-7_7_virt_x86_64_libvirt-latest_<font></font>
<font></font>
yum install centos-release-qemu-ev<font></font>
yum update<font></font>
yum install qemu-kvm qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer libguestfs libguestfs-tools dejavu-lgc-sans-fonts virt-top libvirt libvirt-python libvirt-client<font></font>
<font></font>
systemctl enable libvirtd<font></font>
systemctl restart libvirtd &amp;&amp; systemctl status libvirtd</code></pre><br>
<div class="spoiler"><b class="spoiler_title">   'md-clear':</b><div class="spoiler_text"><br>
<pre><code class="plaintext hljs">virsh domcapabilities kvm | grep require<font></font>
      &lt;feature policy='require' name='ss'/&gt;<font></font>
      &lt;feature policy='require' name='hypervisor'/&gt;<font></font>
      &lt;feature policy='require' name='tsc_adjust'/&gt;<font></font>
      &lt;feature policy='require' name='clflushopt'/&gt;<font></font>
      &lt;feature policy='require' name='pku'/&gt;<font></font>
      &lt;feature policy='require' name='md-clear'/&gt;<font></font>
      &lt;feature policy='require' name='stibp'/&gt;<font></font>
      &lt;feature policy='require' name='ssbd'/&gt;<font></font>
      &lt;feature policy='require' name='invtsc'/&gt;</code></pre></div></div><br>
<p>     hosted engine.</p><br>
<p><strong>2)</strong>  oVirt 4.3     <strong>firewalld </strong>  .</p><br>
<div class="spoiler"><b class="spoiler_title">      hosted-engine   :</b><div class="spoiler_text"><br>
<pre><code class="plaintext hljs">[ ERROR ] fatal: [localhost]: FAILED! =&gt; {"changed": false, "msg": "firewalld is required to be enabled and active in order to correctly deploy hosted-engine. Please check, fix accordingly and re-deploy.\n"}<font></font>
[ ERROR ] Failed to execute stage 'Closing up': Failed executing ansible-playbook<font></font>
[https://bugzilla.redhat.com/show_bug.cgi?id=1608467</code></pre></div></div><br>
<p>     (  ),     <strong>firewalld</strong>:</p><br>
<pre><code class="plaintext hljs">yum install firewalld<font></font>
systemctl enable firewalld<font></font>
systemctl start firewalld<font></font>
<font></font>
firewall-cmd --state<font></font>
firewall-cmd --get-default-zone<font></font>
firewall-cmd --get-active-zones<font></font>
firewall-cmd --get-zones</code></pre><br>
<p> ,    ovirt     ,      <strong>firewalld</strong> .</p><br>
<p><strong>3)</strong>         hosted engine.</p><br>
<p> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 1</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 2</a>   .</p><br>
<p>  hosted engine       <strong>hosted-engine</strong>  ,   ,  <strong>virsh</strong>  , ,    ,        SSH      «<strong>shutdown</strong>».</p><br>
<div class="spoiler"><b class="spoiler_title">      :</b><div class="spoiler_text"><br>
<pre><code class="plaintext hljs">hosted-engine --set-maintenance --mode=global<font></font>
<font></font>
hosted-engine --vm-status<font></font>
!! Cluster is in GLOBAL MAINTENANCE mode !!<font></font>
--== Host host1.test.local (id: 1) status ==--<font></font>
conf_on_shared_storage             : True<font></font>
Status up-to-date                  : True<font></font>
Hostname                           : host1.test.local<font></font>
Host ID                            : 1<font></font>
Engine status                      : {"health": "good", "vm": "up", "detail": "Up"}<font></font>
Score                              : 3400<font></font>
stopped                            : False<font></font>
Local maintenance                  : False<font></font>
crc32                              : dee1a774<font></font>
local_conf_timestamp               : 1821<font></font>
Host timestamp                     : 1821<font></font>
Extra metadata (valid at timestamp):<font></font>
        metadata_parse_version=1<font></font>
        metadata_feature_version=1<font></font>
        timestamp=1821 (Sat Nov 29 14:25:19 2019)<font></font>
        host-id=1<font></font>
        score=3400<font></font>
        vm_conf_refresh_time=1821 (Sat Nov 29 14:25:19 2019)<font></font>
        conf_on_shared_storage=True<font></font>
        maintenance=False<font></font>
        state=GlobalMaintenance<font></font>
        stopped=False<font></font>
<font></font>
hosted-engine --vm-shutdown</code></pre></div></div><br>
<p>   hosted engine agent       . </p><br>
<p>      hosted engine:</p><br>
<pre><code class="plaintext hljs">hosted-engine --vm-status</code></pre><br>
<p>    hosted-engine           : </p><br>
<div class="spoiler"><b class="spoiler_title">   :</b><div class="spoiler_text"><br>
<pre><code class="plaintext hljs">journalctl -u ovirt-ha-agent<font></font>
...<font></font>
Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.hosted_engine.HostedEngine ERROR Failed to start necessary monitors<font></font>
Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.agent.Agent ERROR Traceback (most recent call last):#012  File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/agent.py", line 131, in _run_agent#012    return action(he)#012  File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/agent.py", line 55, in action_proper#012    return he.start_monitoring()#012  File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/hosted_engine.py", line 413, in start_monitoring#012    self._initialize_broker()#012  File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/agent/hosted_engine.py", line 537, in _initialize_broker#012    m.get('options', {}))#012  File "/usr/lib/python2.7/site-packages/ovirt_hosted_engine_ha/lib/brokerlink.py", line 86, in start_monitor#012    ).format(t=type, o=options, e=e)#012RequestError: brokerlink - failed to start monitor via ovirt-ha-broker: [Errno 2] No such file or directory, [monitor: 'ping', options: {'addr': '172.20.32.32'}]<font></font>
Jun 29 14:34:44 host1 journal: ovirt-ha-agent ovirt_hosted_engine_ha.agent.agent.Agent ERROR Trying to restart agent</code></pre></div></div><br>
<p>     :</p><br>
<pre><code class="plaintext hljs">hosted-engine --connect-storage<font></font>
systemctl restart ovirt-ha-agent<font></font>
systemctl status ovirt-ha-agent<font></font>
<font></font>
hosted-engine --vm-start<font></font>
hosted-engine --vm-status</code></pre><br>
<p>    hosted-engine,     :</p><br>
<div class="spoiler"><b class="spoiler_title">      :</b><div class="spoiler_text"><br>
<pre><code class="plaintext hljs">hosted-engine --check-liveliness<font></font>
hosted-engine --set-maintenance --mode=none<font></font>
hosted-engine --vm-status<font></font>
<font></font>
--== Host host1.test.local (id: 1) status ==--<font></font>
<font></font>
conf_on_shared_storage             : True<font></font>
Status up-to-date                  : True<font></font>
Hostname                           : host1.test.local<font></font>
Host ID                            : 1<font></font>
Engine status                      : {"health": "good", "vm": "up", "detail": "Up"}<font></font>
Score                              : 3400<font></font>
stopped                            : False<font></font>
Local maintenance                  : False<font></font>
crc32                              : 6d1eb25f<font></font>
local_conf_timestamp               : 6222296<font></font>
Host timestamp                     : 6222296<font></font>
Extra metadata (valid at timestamp):<font></font>
        metadata_parse_version=1<font></font>
        metadata_feature_version=1<font></font>
        timestamp=6222296 (Fri Jan 17 11:40:43 2020)<font></font>
        host-id=1<font></font>
        score=3400<font></font>
        vm_conf_refresh_time=6222296 (Fri Jan 17 11:40:43 2020)<font></font>
        conf_on_shared_storage=True<font></font>
        maintenance=False<font></font>
        state=EngineUp<font></font>
        stopped=False</code></pre></div></div><br>
<p><strong>4)</strong>  hosted engine     .</p><br>
<p>       hosted engine — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>   .</p><br>
<p>    :</p><br>
<pre><code class="plaintext hljs">/usr/sbin/ovirt-hosted-engine-cleanup</code></pre><br>
<p>   ,    - ,   :</p><br>
<pre><code class="plaintext hljs">yum autoremove ovirt* qemu* virt* libvirt* libguestfs </code></pre><br>
<h4 id="sozdanie-novogo-datacentra">  </h4><br>
<p>  — oVirt Administration Guide. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 4: Data Centers</a></p><br>
<p> ,   <strong></strong> (  ) —   ,    ,    . </p><br>
<p> —    ,  :</p><br>
<ul>
<li>       </li>
<li>           , </li>
<li>  (  , , )     (Storage Domains).</li>
</ul><br>
<p>      ,       ,   ,        ,   .<br>
   ,      .  ovirt     ,     ,    ,       .</p><br>
<p>,     ,       .</p><br>
<p>  ,        :<br>
<strong>Compute</strong> &gt;&gt; <strong>Data Centers</strong> &gt;&gt; <strong>New</strong></p><br>
<p>        ,    (Storage Type)   Shared:</p><br>
<div class="spoiler"><b class="spoiler_title">    </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/bf/eg/id/bfegid-tcvqsfjjxa1oqzop_9iw.png"></p></div></div><br>
<p>     hosted-engine,     – <strong>Datacenter1</strong>,           (Storage Type)  .</p><br>
<p>  —   ,  -  ,         .  ,        ()  ,   c Storage Type — Shared    (    ),        – ..      ,    .</p><br>
<h4 id="sozdanie-novogo-klastera">  </h4><br>
<p>   — oVirt Administration Guide. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 5: Clusters</a></p><br>
<p>  , <strong></strong> –    ,     (     ,    ).  ,        ,       (Intel  AMD).   ,       . </p><br>
<p>     (c    — <em>Local</em>  <em>Shared</em>),         - ,    ,        .</p><br>
<p>     hosted-engine  ,     — <strong>Datacenter1</strong>,    – <strong>Cluster1</strong>,       ,   ,      ..</p><br>
<p> ,       ,     .  -   ,  ,            <strong><em>General</em></strong>.</p><br>
<p>   :</p><br>
<ul>
<li><em>Processor type</em> — ,   ,      ,    ,       ,     ,       . </li>
<li><em>Switch type</em> –       Linux bridge,    .</li>
<li><em>Firewall type</em> –   ,  firewalld,        .</li>
</ul><br>
<div class="spoiler"><b class="spoiler_title">   </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/os/vn/qy/osvnqyj3srg8vjpflkdy9l4e84e.png"></p></div></div><br>
<h4 id="ustanovka-dopolnitelnyh-hostov-v-self-hosted-okruzhenii">    Self-Hosted </h4><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a> .</p><br>
<p>   Self-Hosted ,   ,    ,         hosted engine — <strong><em>Choose hosted engine deployment action</em></strong> &gt;&gt; <strong><em>Deploy</em></strong>.         LUN    hosted engine,   ,              hosted engine.<br>
    ,     ,        hosted engine. </p><br>
<p>    iptables ( ),  firewalld</p><br>
<pre><code class="plaintext hljs">systemctl stop iptables<font></font>
systemctl disable iptables<font></font>
<font></font>
systemctl enable firewalld<font></font>
systemctl start firewalld</code></pre><br>
<p>   KVM ( ):</p><br>
<pre><code class="plaintext hljs">yum-config-manager --disable mirror.centos.org_centos-7_7_virt_x86_64_libvirt-latest_<font></font>
<font></font>
yum install centos-release-qemu-ev<font></font>
yum update<font></font>
yum install qemu-kvm qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer libguestfs libguestfs-tools dejavu-lgc-sans-fonts virt-top libvirt libvirt-python libvirt-client<font></font>
<font></font>
systemctl enable libvirtd<font></font>
systemctl restart libvirtd &amp;&amp; systemctl status libvirtd<font></font>
<font></font>
virsh domcapabilities kvm | grep md-clear</code></pre><br>
<p>     hosted engine:</p><br>
<pre><code class="plaintext hljs">yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm<font></font>
yum -y install epel-release<font></font>
yum update<font></font>
yum install screen ovirt-hosted-engine-setup</code></pre><br>
<p>    <strong><em>Open Virtualization Manager</em></strong>,   ,    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p> ,    ,        ,   .</p><br>
<div class="spoiler"><b class="spoiler_title">   - </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/wh/hr/nc/whhrnchajorr5ogqxinvecjdxi0.png"></p></div></div><br>
<p>,     hosted-engine    ,      «<em>Running the Hosted Engine VM</em>», ,          –  «<em>Can run the Hosted Engine VM</em>». </p><br>
<p>      «<em>Running the Hosted Engine VM</em>»,      .          ,   .</p><br>
<p><u> Power Management / fencing   oVirt</u></p><br>
<p>  :</p><br>
<ul>
<li>Red Hat Virtualization 4.3 –&gt; Technical Reference -&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 4. Power Management</a></li>
<li>oVirt Administration Guide -&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 7: Hosts</a></li>
</ul><br>
<p>  ,      ,     .<br>
   ,  /   -  ,   Power Management / fencing.</p><br>
<p><strong>Fencing</strong>,   –          ,       oVirt  ,   .</p><br>
<p>      Power Management / fencing ,    ,    ,     ,     Dell R640  iDRAC 9.</p><br>
<ol>
<li>   ,  <strong>Compute </strong> &gt;&gt; <strong>Hosts</strong>  .</li>
<li> <strong>Edit</strong>.</li>
<li>  <strong>Power Management</strong>.</li>
<li>    <strong>Enable Power Management</strong>.</li>
<li>    <em>Kdump integration</em>,        (fencing),      . </li>
</ol><br>
<div class="spoiler"><b class="spoiler_title">.</b><div class="spoiler_text"><p>  Kdump integration    ,          oVirt Administration Guide -&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 7: Hosts</a> -&gt; Reinstalling Hosts.</p></div></div><br>
<ol>
<li>    <em>Disable policy control of power management</em>,    ,    ,     (Scheduling Policy) .</li>
<li>  (<em>+</em>),      ,     .<br>
 iDRAC9,  :<br>
<ul>
<li><em>Address </em>–  iDRAC9</li>
<li><em>User Name / Password</em> –        iDRAC9</li>
<li><em>Type </em> — drac5</li>
<li> <em>Secure</em></li>
<li>  : <em>cmd_prompt=&gt;,login_timeout=30</em></li>
</ul></li>
</ol><br>
<div class="spoiler"><b class="spoiler_title">   «Power Management»   </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/kz/be/ky/kzbekyoxr6cromqq0epltd2cjbo.png"></p></div></div><br>
<h4 id="sozdanie-oblasti-hraneniya-ili-storage-domains">    Storage Domains</h4><br>
<p>   — oVirt Administration Guide, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 8: Storage</a>.</p><br>
<p><strong>Storage Domain</strong>,    –        ,  ,   .</p><br>
<p>     ,   ,     . </p><br>
<p> oVirt     :</p><br>
<ul>
<li><strong>Data Domain</strong> –    ,     (, ). Data Domain      . </li>
<li><strong>ISO Domain</strong> (   ) –     . ISO Domain     . </li>
<li><strong>Export Domain</strong> (   ) –    ,   .</li>
</ul><br>
<p>        Data Domain,  Fibre Channel Protocol (FCP),    LUN'  . </p><br>
<p>   oVirt,    (FC  iSCSI)   ,    —   .<br>
      (  )   Volume Group      LVM   ,      .</p><br>
<p>      LVM,     ,    <strong>vgs</strong>  <strong>lvs</strong>. ,            oVirt,   .</p><br>
<p>        — QCOW2  RAW.    "<em></em>"  "<em></em>".     "<em></em>".</p><br>
<p>  Storage domains,   ,      FC,   —         ,       .     FC, oVirt  -   LVM.</p><br>
<p> ,     ,    ,      .</p><br>
<p>   ,   oVirt,     VMware vSphere   Hyper-V,       –    ,     «»,        . </p><br>
<p>        ( ),        .<br>
,      LUN'  ,         «<strong>multipath -ll</strong>».</p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>,      <strong><em>Storage</em></strong> &gt;&gt; <strong><em>Domains</em></strong> -&gt; <strong><em>New Domain</em></strong>      "Adding FCP Storage".</p><br>
<p>  ,   :</p><br>
<ul>
<li><em>Name</em> —   </li>
<li><em>Domain Function</em> — Data</li>
<li><em>Storage Type</em> — Fibre Channel</li>
<li><em>Host to Use</em> —  ,      LUN</li>
</ul><br>
<p>  LUN'   ,  <em>Add</em>   <em></em>.        ,   <em>Advanced Parameters</em>.</p><br>
<div class="spoiler"><b class="spoiler_title">    «Storage domain»</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/tk/tz/gq/tktzgqwyqioqf45ere-qi2ll6bc.png"></p></div></div><br>
<p>   ,      ,       <strong>UP</strong>,  :</p><br>
<div class="spoiler"><b class="spoiler_title">      :</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/dj/4j/zm/dj4jzmtuzoyu4ustvkcaqxgywoo.png"></p><br>
<p><img src="https://habrastorage.org/webt/5l/tn/gd/5ltngdb3ipqfrfkkvktqriegwzq.png"></p></div></div><br>
<h4 id="sozdanie-i-nastroyka-setey-dlya-virtualnyh-mashin">      </h4><br>
<p>   — oVirt Administration Guide, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 6: Logical Networks</a></p><br>
<p>Networks,   –     ,     oVirt. </p><br>
<p>      ,     ,     Linux bridge. </p><br>
<p>      ,    VLAN'. </p><br>
<p>        oVirt,     ,   VLAN  ,        ,        .</p><br>
<p>               <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a> –    <strong>bond1</strong>,           oVirt.</p><br>
<p>    hosted-engine,      ,           – <strong>ovritmgmt</strong>,      . </p><br>
<p>       <strong>ovritmgmt </strong>  ,    ,      oVirt.</p><br>
<div class="spoiler"><b class="spoiler_title">   ovritmgmt</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/li/ym/4o/liym4ottpmognydqgsc7mi3lvfi.png"></p></div></div><br>
<p>       ,      <strong><em>Network</em></strong> &gt;&gt; <strong><em>Networks</em></strong> &gt;&gt; <strong><em>New</em></strong>,    <strong><em>General</em></strong>      VLAN,      «<em>VM Network</em>»,          .</p><br>
<div class="spoiler"><b class="spoiler_title">    VLAN32</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/gx/3x/nd/gx3xndfoeo-cniaf-cjlnjcefq4.png"></p></div></div><br>
<p>  <strong><em>Cluster</em></strong>,       <strong>Cluster1</strong>.</p><br>
<p>    <strong><em>Compute</em></strong> &gt;&gt; <strong><em>Hosts</em></strong>,      ,   <strong><em>Network interfaces</em></strong>,    <em>Setup host networks</em>,       .</p><br>
<div class="spoiler"><b class="spoiler_title">  «Setup host networks»</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/l8/87/me/l887meiynekpssdplkxid4_11yo.png"></p></div></div><br>
<p> oVirt         –  VLAN  BRIDGE.</p><br>
<div class="spoiler"><b class="spoiler_title">       :</b><div class="spoiler_text"><pre><code class="plaintext hljs">cat ifcfg-bond1<font></font>
# Generated by VDSM version 4.30.17.1<font></font>
DEVICE=bond1<font></font>
BONDING_OPTS='mode=1 miimon=100'<font></font>
MACADDR=00:50:56:82:57:52<font></font>
ONBOOT=yes<font></font>
MTU=1500<font></font>
DEFROUTE=no<font></font>
NM_CONTROLLED=no<font></font>
IPV6INIT=no<font></font>
<font></font>
cat ifcfg-bond1.432<font></font>
# Generated by VDSM version 4.30.17.1<font></font>
DEVICE=bond1.432<font></font>
VLAN=yes<font></font>
BRIDGE=ovirtvm-vlan432<font></font>
ONBOOT=yes<font></font>
MTU=1500<font></font>
DEFROUTE=no<font></font>
NM_CONTROLLED=no<font></font>
IPV6INIT=no<font></font>
<font></font>
cat ifcfg-ovirtvm-vlan432<font></font>
# Generated by VDSM version 4.30.17.1<font></font>
DEVICE=ovirtvm-vlan432<font></font>
TYPE=Bridge<font></font>
DELAY=0<font></font>
STP=off<font></font>
ONBOOT=yes<font></font>
MTU=1500<font></font>
DEFROUTE=no<font></font>
NM_CONTROLLED=no<font></font>
IPV6INIT=no</code></pre></div></div><br>
<p>  ,     <u> </u>      <strong>ifcfg-bond1.432</strong>  <strong>ifcfg-ovirtvm-vlan432</strong>.</p><br>
<p>           c hosted engine,      .</p><br>
<h4 id="sozdanie-ustanovochnogo-obraza-dlya-razvyortyvaniya-virtualnoy-mashiny">      </h4><br>
<p>   — oVirt Administration Guide, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 8: Storage</a>,  Uploading Images to a Data Storage Domain.</p><br>
<p>   ,     ,       ,    , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Cobbler</a>    .</p><br>
<p>     ,        oVirt. ,     ISO Domain,     oVirt    ,         Storage domain   .</p><br>
<p>     <strong>Storage</strong> &gt;&gt; <strong>Disks</strong> &gt;&gt; <strong>Upload</strong> &gt;&gt; <strong>Start</strong><br>
      ISO ,     ,    "<em>Test connection</em>".</p><br>
<div class="spoiler"><b class="spoiler_title">    </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/mf/f6/mq/mff6mqownqd8xt9zhyesnobmt2y.png"></p></div></div><br>
<div class="spoiler"><b class="spoiler_title">    :</b><div class="spoiler_text"><p><code> Unable to upload image to disk d6d8fd10-c1e0-4f2d-af15-90f8e636dadc due to a network error. Ensure that ovirt-imageio-proxy service is installed and configured and that ovirt-engine's CA certificate is registered as a trusted CA in the browser. The certificate can be fetched from https://ovirt.test.local/ovirt-engine/services/pki-resource?resource=ca-certificate&amp;format=X509-PEM-CA` </code></p></div></div><br>
<p>    oVirt  «<strong>  </strong>» (Trusted Root CA)    ,    .</p><br>
<p>    Trusted Root CA,   "<em>Test connection</em>",  :</p><br>
<pre><code class="plaintext hljs">Connection to ovirt-imageio-proxy was successful.</code></pre><br>
<p>    ,      ISO  Storage Domain.</p><br>
<p> ,    Storage Domain   Data,         ,      Storage Domain  hosted engine,      .</p><br>
<div class="spoiler"><b class="spoiler_title">   ISO  Storage Domain  hosted engine</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/1c/eg/vl/1cegvlrj_jio2lyrw8bzwwxqik0.png"></p></div></div><br>
<h4 id="sozdanie-virtualnoy-mashiny">  </h4><br>
<p>  :<br>
oVirt Virtual Machine Management Guide –&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Chapter 2: Installing Linux Virtual Machines<br>
Console Clients Resources</a></p><br>
<p>   oVirt    ,       .    ,       ,       –        .       –      -   ,   .</p><br>
<p>     CentOS 7,       .</p><br>
<p>   ,   <strong>Compute</strong> &gt;&gt; <strong>Virtual Machines</strong>,     .     ,   <em></em>.   ,   .</p><br>
<p>  ,       ,   ,   ,      :</p><br>
<div class="spoiler"><b class="spoiler_title">    </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/b-/ax/5r/b-ax5rq6w4tfzjp26f0x_oassb8.png"></p><br>
<p><img src="https://habrastorage.org/webt/zf/og/yc/zfogycv0ghsys-pjj6xl4f6uj64.png"></p><br>
<p><img src="https://habrastorage.org/webt/da/k9/9s/dak99sg1l7ktd-_kujmswznaveq.png"></p><br>
<p><img src="https://habrastorage.org/webt/ej/ra/rr/ejrarrisp1wubzm2-cdsawkq0kq.png"></p><br>
<p><img src="https://habrastorage.org/webt/ka/gi/mv/kagimvvhxi2bei9i-n6gp-ozbse.png"></p></div></div><br>
<p>    ,  ,        .<br>
         :</p><br>
<div class="spoiler"><b class="spoiler_title">        </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ph/lz/vv/phlzvvb-isibuzvomxhg-ligxtm.png"></p></div></div><br>
<p>    ,        .</p><br>
<div class="spoiler"><b class="spoiler_title">  ,  «Console»</b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ay/w8/7h/ayw87h-2eubjlamhixkkap2j2ag.png"></p></div></div><br>
<p>      , , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Virtual Machine Viewer</a>.</p><br>
<p>        ,       :</p><br>
<p><img src="https://habrastorage.org/webt/wu/yj/nm/wuyjnmj_wk_qm_hmzffxkrji0dw.png"></p><br>
<p>    ,   oVirt guest agent:</p><br>
<pre><code class="plaintext hljs">yum -y install epel-release<font></font>
yum install -y ovirt-guest-agent-common<font></font>
systemctl enable ovirt-guest-agent.service &amp;&amp; systemctl restart ovirt-guest-agent.service<font></font>
systemctl status ovirt-guest-agent.service</code></pre><br>
<p> ,    ,    , ..     ,    , oVirt      .           ,   .</p><br>
<h4 id="zaklyuchenie"></h4><br>
<p>,     ,  oVirt –       ,       —      ,    ,    .</p><br>
<p>-          ,           ,   - ,  ..          ,     , -         .   –   ,     ,             .</p><br>
<p>    ,           : ,  ,  ,     .</p><br>
<p>          ,       —     VyOS      (  ,           oVirt).</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja485198/index.html">.NETアプリケーションメソッドのパフォーマンスを測定する別の方法</a></li>
<li><a href="../ja485200/index.html">混乱の始まり：iOSアプリケーションの起動速度に関する検死</a></li>
<li><a href="../ja485202/index.html">抑制システム</a></li>
<li><a href="../ja485204/index.html">トップに戻る：Amazonの資本金がまもなく1兆ドルを超える理由</a></li>
<li><a href="../ja485206/index.html">Typescriptはどのように私をがっかりさせましたか？</a></li>
<li><a href="../ja485210/index.html">Unityのシンプルなゾンビシューター</a></li>
<li><a href="../ja485214/index.html">CLRium＃7：実用的。ワークショップ、確認付きの宿題、メンタリング</a></li>
<li><a href="../ja485216/index.html">Apple Lightningビデオアダプタのcheckm8</a></li>
<li><a href="../ja485218/index.html">Cでの定数とGitフックの予約＃</a></li>
<li><a href="../ja485220/index.html">Webアプリケーションファイアウォールの進化：ファイアウォールから機械学習のクラウドベースのセキュリティへ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>