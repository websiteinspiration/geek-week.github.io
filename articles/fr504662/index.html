<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚ÄçüöÄ üéå üèÅ Dessiner de la musique: danse du cercueil dans Pure Data üõ∏ üë©‚Äçüåæ üîè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Programmation et m√®mes
 La programmation est un processus au bord de la science et de la cr√©ativit√©. Sans programme bien con√ßu, un ordinateur est une ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Dessiner de la musique: danse du cercueil dans Pure Data</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504662/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation et m√®mes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La programmation est un processus au bord de la science et de la cr√©ativit√©. Sans programme bien con√ßu, un ordinateur est une unit√© sans d√©fense qui d√©pense de l'√©lectricit√©. La plupart des sp√©cialistes modernes travaillent avec des langages symboliques d√©claratifs - ils cr√©ent des programmes √† partir de commandes textuelles: simple - affectation, multiplication; et complexe - v√©rification des conditions, ex√©cution de routines en boucle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais tous les langages de programmation ne sont pas con√ßus pour r√©soudre les probl√®mes du syst√®me. Certains sont cr√©√©s pour la formation, les pr√©sentations et les spectacles num√©riques. Lorsque les performances et les fonctionnalit√©s disparaissent en arri√®re-plan, des solutions originales telles que l'environnement de programmation visuelle Pure Data voient le jour.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2020, la danse de la vid√©o archiv√©e de la c√©r√©monie fun√©raire de l'agence Dada awu du Ghana est devenue le m√®me le plus populaire de Russie. </font><font style="vertical-align: inherit;">Aujourd'hui, nous devons recr√©er √©tape par √©tape le l√©gendaire th√®me musical Coffin Dance, en utilisant l'environnement de description sonore algorithmique Pure Data.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos de la programmation visuelle</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par programmation visuelle, il est habituel de comprendre le processus de description d'un programme pour un dispositif informatique √† l'aide d'√©l√©ments graphiques fonctionnels. Ainsi, l'utilisation du concepteur de formulaires WPF dans l'environnement de d√©veloppement Visual Studio peut √™tre appel√©e programmation visuelle de l'interface. Les graphistes sont apparus avec les premiers ordinateurs personnels. Maintenant en cours d'informatique, Visual Pascal est √©tudi√© dans certaines √©coles. et la moiti√© des am√©liorations standard de 1C peuvent √™tre effectu√©es sans √©crire de ligne de code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais des environnements de programmation visuelle √† part enti√®re sont apparus plus tard. Lorsqu'il s'agit de cr√©er un langage de programmation qui se compose uniquement de commandes graphiques, un certain nombre de difficult√©s se posent, √† cause desquelles la fonctionnalit√© du langage lui-m√™me doit √™tre r√©duite.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, plusieurs appels du m√™me sous-programme dans diff√©rentes parties du code C ++ sont naturels pour le programmeur. Dans un environnement graphique, un appel de sous-programme peut √™tre repr√©sent√©, par exemple, par une fl√®che d'un objet dans le texte du programme principal vers un sous-programme d'objet, et lorsqu'il y a trop de telles fl√®ches, le code graphique devient illisible. Les d√©veloppeurs d'environnements de d√©veloppement √©ducatif imposent souvent eux-m√™mes une limite (sur le nombre d'appels, d'objets dans le programme, de variables utilis√©es) pour prot√©ger l'utilisateur et rendre le processus de programmation visuelle plus visuel. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple d'un programme sanscrit simple:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hr/ls/o6/hrlso6fck0hzhuds-9exlb49ch8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais si vous vous distrayez de la programmation au sens large, vous pouvez trouver des probl√®mes appliqu√©s importants qui sont r√©solus graphiquement plus facilement et plus efficacement qu'en symbolique. Une de ces t√¢ches: une description des instruments virtuels. Dans les ann√©es 80 du si√®cle dernier, la plupart des enregistrements musicaux ont √©t√© r√©alis√©s en direct. Les synth√©tiseurs num√©riques √©taient de qualit√© sonore inf√©rieure aux instruments acoustiques, et les syst√®mes num√©riques v√©ritablement ¬´musicaux¬ª √©taient chers.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout a chang√© avec l'introduction de la technologie VST, introduite en 1996 comme une biblioth√®que volumineuse pour travailler avec le son. La fonctionnalit√© VST nous a permis de d√©crire l'architecture de vrais synth√©tiseurs num√©riques, de processeurs d'effets et d'√©muler tr√®s pr√©cis√©ment leur travail sur ordinateur. Cependant, seule une √©quipe de programmeurs qualifi√©s et d'ing√©nieurs du son a pu construire une telle description. La question de la cr√©ation d'instruments virtuels personnalis√©s restait ouverte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ces m√™mes ann√©es, dans une tentative de vulgariser la synth√®se sonore aupr√®s des amateurs, le projet exp√©rimental Pure Data est apparu - un environnement de d√©veloppement visuel ax√© sur la description de synth√©tiseurs simples. </font><font style="vertical-align: inherit;">Autour de Pure Data, un petit groupe de ¬´fans¬ª s'est form√© qui a promu la programmation visuelle en FB, Youtube: ils ont √©crit et traduit du mat√©riel de formation, publi√© des exemples de synth√©tiseurs et des mixages de musique entiers sur un patch (c'est le nom du programme Pure Data par analogie avec les patchs des synth√©tiseurs mat√©riels modulaires). ) </font><font style="vertical-align: inherit;">Mais l'environnement n'a pas √©t√© largement diffus√© dans le monde.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bases de donn√©es pures</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'environnement de d√©veloppement Pure Data peut √™tre t√©l√©charg√© gratuitement sur le site officiel. Le programme distribue l'open source et est disponible pour les utilisateurs de Windows, Linux et MacOS X. Installez et ex√©cutez Pure Data. Dans le menu Fichier, cr√©ez un nouveau patch. La fen√™tre d'√©dition suivante appara√Ætra:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/gl/-z/zmgl-zoapffl0y3myycn_q37sho.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le menu Put contient une liste d'objets graphiques √† partir desquels nous ferons notre premier synth√©tiseur. Apr√®s avoir s√©lectionn√© l'√©l√©ment appropri√©, l'√©l√©ment est ajout√© au champ graphique (Canvas) du patch actuel. Les √©l√©ments peuvent √™tre modifi√©s (changer la signature, qui affecte leur comportement, ainsi que d√©plac√©s) et connect√©s par des lignes (en maintenant le bouton gauche de la souris sur l'une des sorties de l'objet source, en d√©pla√ßant le curseur sur l'entr√©e de l'objet de destination et en le rel√¢chant). Pour un exemple, nous allons cr√©er un √©l√©ment de type "Object" avec la cl√© de nom et un √©l√©ment de type "Number". Les entr√©es de l'√©l√©ment sont surlign√©es en noir et sont situ√©es au-dessus du cadre de l'√©l√©ment lui-m√™me, et les sorties sont en dessous. Connectez la sortie de l'objet cl√© √† l'entr√©e de l'√©l√©ment Number. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On a:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gu/zp/rn/guzprndwbfigxd8fg_61165v9hm.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant tout ce temps, nous √©tions en mode d'√©dition de patchs. Pour passer en mode ex√©cution, allez dans le menu √âdition et d√©cochez l'√©l√©ment Mode √âdition. Le pointeur de la souris sur le contour doit passer de la main √† la fl√®che. Appuyez maintenant sur n'importe quelle touche du clavier principal. Nous verrons comment la valeur de Number change lorsque vous appuyez dessus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/1l/ha/or1lhauqj7qptoenr7mbbn6lf6k.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analysons le r√©sultat du patch. Apr√®s avoir attribu√© la cl√© de nom √† l'objet, il a une sortie, mais aucune entr√©e. Un objet portant ce nom √©coute le clavier et envoie un code cl√© √† chaque fois qu'il est enfonc√© lors de l'ex√©cution. L'√©l√©ment Number a une entr√©e et une sortie. Prenant un nombre en entr√©e, Number l'affiche √† l'√©cran et envoie la m√™me valeur √† la sortie. Notez qu'apr√®s avoir rel√¢ch√© la cl√©, le num√©ro continue d'√™tre affich√©. Cela montre que les entr√©es conservent la derni√®re valeur qu'elles acceptent.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenez en mode √©dition et ajoutez un autre objet nomm√© sel 49. Il aura deux entr√©es et deux sorties. Cet objet envoie un signal √† la premi√®re sortie chaque fois qu'une valeur arrive sur l'une des entr√©es et correspond √† la valeur stock√©e sur l'autre entr√©e. Si l'entr√©e re√ßoit une valeur autre que celle accumul√©e, le signal est envoy√© √† la deuxi√®me sortie. La premi√®re partie du nom sel sp√©cifie le type d'objet, la seconde 49 - √©crit la valeur par d√©faut pour la deuxi√®me entr√©e. 49 est le code cl√© "1". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un signal est un type de donn√©es sp√©cial qui ne peut pas √™tre simplement √©mis, par exemple, en envoyant Number √† l'entr√©e. Mais √† l'aide de signaux, vous pouvez "d√©marrer" le travail de certains √©l√©ments.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenez au menu Put et ajoutez l'√©l√©ment Bang √† notre patch. Connectez la sortie Number √† la premi√®re entr√©e sel 49 et la premi√®re sortie sel 49 √† l'entr√©e Bang. Nous recevrons le patch suivant: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/km/0h/xl/km0hxl9boh04ly05jx_o9a-snyc.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous passerons √† un mode d'ex√©cution. En appuyant sur diff√©rentes touches, leurs codes appara√Ætront. Lorsque vous appuyez sur la ¬´touche sp√©ciale¬ª avec le code 49, l'objet sel g√©n√®re un singal qui, lorsqu'il est enfonc√© sur le bouton bang, le presse automatiquement: l' </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/ul/8c/jmul8cdj85z7rfpb5jzgtkien3k.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
objet bang g√©n√®re un signal √† sa seule sortie lorsqu'il est enfonc√© en mode ex√©cution, le signal ou la valeur arrive √† l'entr√©e. Ajoutez un peu de son √† notre projet. Pour que le patch fonctionne correctement avec les donn√©es audio, le menu M√©dia doit avoir une coche en face de l'√©l√©ment DSP On. Vous devrez √©galement entrer dans le menu Param√®tres Midi et installer le p√©riph√©rique de sortie. Sous Windows:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vg/da/lf/vgdalf9khobz1oiegpchb4x1smw.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cliquez sur OK et revenez en mode √©dition. Pour travailler avec des signaux Midi, 2 √©l√©ments sont le plus souvent utilis√©s: les objets makenote et noteout. Ajoutez un tel objet et cr√©ez √©galement plusieurs messages Message avec les valeurs suivantes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dp/zu/dr/dpzudr7j9afz_36b-lyfzbw6un8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Message est un √©l√©ment de programmation visuelle avec un comportement complexe. Si le message est appel√© un certain nombre, puis en cliquant sur le message ou √† la r√©ception d'un signal √† son entr√©e, dans les deux cas, ce num√©ro et ce signal seront √©mis simultan√©ment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objet noteout, lorsqu'il re√ßoit la valeur √† la premi√®re entr√©e, g√©n√®re du son sur l'un des canaux MIDI. Le num√©ro de canal peut √™tre indiqu√© explicitement dans le nom de l'objet (dans notre cas 1 - piano) ou transf√©r√© vers la troisi√®me note d'entr√©e. La premi√®re entr√©e prend la hauteur en termes de midi: (60 - c'est √† la premi√®re octave puis +1 - une augmentation d'un demi-ton, -1 - une diminution d'un demi-ton), et la seconde - une description de la note: volume, dur√©e, nature de la production sonore.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objet makenote re√ßoit la hauteur tonale √† la premi√®re entr√©e et au deuxi√®me volume (0 - silence, 127 - volume maximum) traduit la hauteur tonale √† la premi√®re sortie, et g√©n√®re une description de note pour la deuxi√®me note d'entr√©e sur la deuxi√®me sortie. Les valeurs par d√©faut des premi√®re et deuxi√®me entr√©es makenote sont sp√©cifi√©es imm√©diatement apr√®s le nom de l'objet. Connectez les √©l√©ments comme indiqu√© sur la figure et passez en mode ex√©cution: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wm/a0/ww/wma0ww1rrscei7obc0fcwt3mti8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
lorsque vous cliquez sur un message, une note doit retentir correspondant √† la hauteur du nom du message. 60 - note √†, 62 - re, 67 - la. Maintenant en mode √©dition, connectez la premi√®re sortie du s√©lecteur (objet sel) avec le message 60. Ajoutez 2 s√©lecteurs suppl√©mentaires avec les codes pour les touches 2 et 3 sur le clavier et obtenez le synth√©tiseur le plus simple:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4t/9y/z4/4t9yz49gennzvvaexvs5pfc0pag.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Appuyez sur les touches 1 √† 3 dans makenote pour envoyer un message avec la hauteur appropri√©e et une note retentit. </font><font style="vertical-align: inherit;">Dans la section suivante, nous allons essayer de d√©crire une m√©lodie complexe qui sera jou√©e s√©quentiellement note par note lors de l'envoi d'un seul signal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recr√©er la danse du cercueil</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La musique</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour d√©crire une m√©lodie complexe, nous devons √©tudier 2 objets importants - m√©tro et f, ainsi qu'un certain nombre d'objets auxiliaires. </font><font style="vertical-align: inherit;">Prenons un exemple simple:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/44/lg/1b/44lg1b-q5gr5b3kvpngey-n6h74.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objet metro a deux entr√©es. Le premier signal est re√ßu. Tout signal autre que l'arr√™t comprend un m√©tronome. Pour d√©sactiver, utilisez le signal de sortie du message avec l'arr√™t de texte. La deuxi√®me entr√©e, metro, re√ßoit un intervalle en millisecondes. Lorsque le m√©tronome est activ√©, il enverra imm√©diatement un signal √† sa seule sortie et le renverra toutes les n millisecondes. L'intervalle n peut √™tre sp√©cifi√© par la valeur par d√©faut dans le nom de l'objet ou transf√©r√© √† la deuxi√®me entr√©e. Apr√®s √™tre entr√© en mode d'ex√©cution, nous pouvons d√©marrer le m√©tronome avec le bouton bang au-dessus et voir comment le bouton en dessous est press√© toutes les 0,4 secondes. En envoyant un message avec un nouvel intervalle, nous acc√©l√©rerons ou ralentirons la fr√©quence d'envoi des signaux. Apr√®s l'envoi du message d'arr√™t, la signalisation s'arr√™te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rappelez-vous la musique de Coffin Dance:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/j9V78UbdzWI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©lodie principale peut √™tre d√©crite par une s√©quence de 64 notes et pauses de la 8e dur√©e, soit √† 8 mesures en 4/4. Nous devons donc organiser l'envoi cyclique du 64e signal aux messages de note correspondants. Pour ce faire, utilisez l'objet f. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F - de float - repr√©sente une variable r√©elle. L'objet f a deux entr√©es. √Ä la deuxi√®me entr√©e, vous pouvez soumettre une valeur num√©rique (par exemple, √† partir de la sortie du message ou de la sortie de Number), qui est √©crite comme la valeur de la variable. La valeur par d√©faut est 0. Avec la premi√®re entr√©e et sortie, les choses sont un peu plus compliqu√©es. Prenons un exemple:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l_/kq/-y/l_kq-yw8d7atslq4bcfstto13ka.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons donc trouv√© un lien magique entre les m√®mes ¬´Appuyez sur F pour rendre hommage¬ª et ¬´Danse du cercueil¬ª. </font><font style="vertical-align: inherit;">Passons en mode ex√©cution. </font><font style="vertical-align: inherit;">Lorsque vous cliquez sur le message 3, la valeur sera √©crite dans la variable objet f, mais en nombre, nous ne le verrons pas. </font><font style="vertical-align: inherit;">Si vous soumettez le signal √† la premi√®re entr√©e f avec le bouton bang, ce qui se passe en termes de donn√©es pures est une it√©ration, √† savoir:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La sortie f enverra la valeur actuelle de la variable (3)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'objet + 5 recevra le num√©ro 3 sur la premi√®re entr√©e et renverra la somme de deux entr√©es 8 (ici, la valeur √† la deuxi√®me entr√©e est d√©finie par d√©faut apr√®s le nom + objet d'addition) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'objet% 40 recevra le nombre 8 sur la premi√®re entr√©e et renverra le reste de la division de la 8e par 40 (la valeur de la deuxi√®me entr√©e est d√©finie par d√©faut) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La variable f recevra la valeur (3 + 5)% 40 = 8 sur la deuxi√®me entr√©e. L'it√©ration est termin√©e</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, apr√®s la premi√®re it√©ration, nous voyons la valeur 3 au num√©ro d'entr√©e et a une valeur r√©elle de 8 pour la variable f. √Ä l'it√©ration suivante, nombre obtiendra les huit pr√©c√©demment enregistr√©s, et f augmentera de 5 et prendra la valeur 13. En ce qui concerne l'it√©ration avec la sortie 38, nous obtenons la valeur (38 + 5)% 40 = 3 pour la variable f. Ainsi, les valeurs f et les valeurs de sortie seront r√©p√©t√©es cycliquement. L'utilisation de l'addition et de la division modulo vous permet d'obtenir un cycle avec n'importe quelle p√©riode et n'importe quelle valeur pour les it√©rations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Connectez la sortie du m√©tronome √† la premi√®re entr√©e f et r√©glez plusieurs s√©lecteurs et boutons sur la sortie f. Lancez le m√©tronome et voyez comment les boutons s'allument tour √† tour et apr√®s avoir automatiquement appuy√© sur le dernier bouton, le cycle se r√©p√®te. Pi√®ce:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l_/yj/id/l_yjid_13wqo4kqarltfygkm9l8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que la boucle s'ex√©cute √† chaque fois √† partir de la valeur 3, j'ai connect√© la sortie du message d'arr√™t √† l'entr√©e du message 3 en envoyant la valeur initiale √† f. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©crivons la m√©lodie. </font><font style="vertical-align: inherit;">Pour ce faire, cr√©ez un patch propre et d√©crivez le m√©tronome √† des intervalles de 230 (exactement 230 millisecondes durent une croche dans la m√©lodie) et un cycle de 64 notes. </font><font style="vertical-align: inherit;">Pour s√©lectionner les valeurs, nous utilisons la variable f et le nouvel √©l√©ment moses pour nous, dont la fonctionnalit√© sera d√©crite ci-dessous. </font><font style="vertical-align: inherit;">Nous ajoutons √©galement quelques objets makenote, messages avec notes, noteout avec les canaux 1 (piano) et 10 (batterie), et combinons les s√©lecteurs de moses de chaque it√©ration avec les notes correspondantes. </font><font style="vertical-align: inherit;">Obtenez le patch:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lw/0-/q8/lw0-q8l1nhwk2u0zyu26pob2694.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, avec la programmation visuelle, l'utilisation d'un grand nombre d'objets r√©duit la lisibilit√© du programme. </font><font style="vertical-align: inherit;">En fait, un patch est une combinaison d'√©l√©ments simples. </font><font style="vertical-align: inherit;">Consid√©rez la "routine" suivante:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l4/gi/kl/l4giklqerqykxtoxu3dqqk5l4c8.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objet moses stocke un nombre sur la deuxi√®me entr√©e, qui peut √™tre d√©fini par d√©faut. Si la premi√®re entr√©e re√ßoit un nombre inf√©rieur √† la valeur stock√©e de la deuxi√®me entr√©e, alors un signal est envoy√© depuis la premi√®re sortie de mo√Øse, sinon le signal est envoy√© depuis la deuxi√®me sortie. Ainsi, la premi√®re sortie de moses 1 se comporte de la m√™me mani√®re que la premi√®re sortie de sel 0. Regardons un tas de + 63% 64. Cela vous permet de r√©duire les valeurs dans la boucle d'une unit√©. Si l'on a √©t√© entr√©, la sortie sera 0, pour l'entr√©e 0 la sortie sera 63 - nous obtiendrons un cycle de 64 √©l√©ments dans l'ordre inverse. Si nous connectons la sortie de ce bundle √† l'entr√©e de la construction suivante + 63% 64 et connectons moses 1 √† la sortie de chaque bundle, mais pour chacune des 64 valeurs possibles de f, exactement un moses enverra un signal √† la premi√®re sortie. Donc, le nombre 7 doit √™tre r√©duit 7 fois de 1,pour obtenir 0, le 7e Mo√Øse 1 √† l'it√©ration 7 recevra 0 sur la premi√®re entr√©e et enverra un signal √† la note correspondante. Si, pour 64 s√©lecteurs, vous devez modifier manuellement les valeurs par d√©faut des param√®tres, les routines + 63% 64 mo√Øse 1 peuvent √™tre copi√©es et la connexion des sorties du% 64 pr√©c√©dent aux entr√©es + 63 obtient un s√©lecteur cyclique complexe √† 64 positions.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le patch de m√©lodie utilise la duplication d'objets noteout. Cette technique vous permet d'augmenter le volume en contournant la marque limite. Donc, si vous connectez le m√™me makenote 67127 √† 2 noteout 1, mais lors de l'envoi d'un signal depuis la premi√®re entr√©e makenote, la note la (code 67, premi√®re octave) sera jou√©e avec un volume de 127 * 2 = 254. Instruments MIDI dans Pure Data tr√®s silencieux, donc cette technique est utile pour cr√©er des m√©lodies d'ensemble (dans notre cas, 2 pianos sont jou√©s sur les canaux 1 et 5 et le kit de batterie 10 avec triple volume).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour d√©corer la simulation (le processus de d√©placement des donn√©es entre les objets du code du patch lors de l'ex√©cution), il est pratique d'utiliser des boutons dupliqu√©s. </font><font style="vertical-align: inherit;">Dans l'exemple ci-dessus, leurs objets √† 6 coups ont une silhouette du bouton Lecture, qui est automatiquement mise en surbrillance lorsque le bouton de coup extr√™me est enfonc√© √† droite. </font><font style="vertical-align: inherit;">Le traitement du signal Bang est un processus gourmand en ressources, mais dans la section suivante, nous allons placer toute une gamme de ces boutons et essayer de repr√©senter une danse de la vid√©o avec leur aide.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Animation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'animation, nous avons besoin des m√™mes variables f, objets - op√©rateurs arithm√©tiques et m√©tronome, ainsi que des s√©lecteurs. </font><font style="vertical-align: inherit;">Cette fois, nous n'avons besoin que de 8 images, nous allons donc utiliser des objets sel. </font><font style="vertical-align: inherit;">Cr√©ez un champ de 20x10 √† partir des boutons de bang (nous utiliserons l'op√©ration de copie). </font><font style="vertical-align: inherit;">Apr√®s avoir plac√© le patch avec la m√©lodie au centre, nous obtenons la figure suivante: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/ny/zs/qrnyzsuffr2aweah91p052imvne.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez simplement connecter les sorties gauche de chaque s√©lecteur aux boutons qui doivent √™tre enfonc√©s sur cette trame et envoyer le signal du m√©tronome √† l'entr√©e d'une nouvelle variable du cycle f. </font><font style="vertical-align: inherit;">Mais cette approche a 2 d√©fauts:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,23 sec par image - trop rapide pour notre danse. </font><font style="vertical-align: inherit;">Et l'utilisation du deuxi√®me m√©tronome nous fera perdre le rythme: noteout et bang ont un retard diff√©rent en r√©ponse au signal;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le bouton reste enfonc√© pendant 0,05 seconde √† partir du moment o√π le signal a √©t√© re√ßu, ce qui signifie que pendant les 0,18 secondes restantes, ¬´l'√©cran¬ª de l'animation sera vide et l'image dans la boucle clignotera. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©soudre ces probl√®mes, nous utilisons la division. </font><font style="vertical-align: inherit;">La construction suivante: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/vu/zr/dcvuzrwh4rlchbtu8e_r6i_rccw.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
prend la valeur d'entr√©e f du cycle-m√©lodie principal. </font><font style="vertical-align: inherit;">Apr√®s avoir divis√© par 2, nous obtenons un ralentissement du changement de trame: pour 0 et 1, la trame 1 sera affich√©e, pour 2 et 3, la trame 2 et ainsi de suite. </font><font style="vertical-align: inherit;">Pour chaque trame, un signal est toujours envoy√© toutes les 0,23 seconde. </font><font style="vertical-align: inherit;">Utilisons maintenant une autre boucle:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/y5/u-/fjy5u-lexob9-vev31mpuxotwde.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour se synchroniser avec la m√©lodie principale, un retard lui a √©t√© ajout√©: le signal d'inclusion passe d'abord du s√©lecteur par le bouton puis seulement √† la premi√®re entr√©e du m√©tronome. Maintenant, si vous cr√©ez un bang et connectez sa sortie √† tous les boutons de pixels d'une certaine image, alors l'image ci-dessus vous pouvez mettre en √©vidence l'image toutes les 0,046 secondes, ce qui est plus rapide que la fr√©quence de mise √† jour des boutons, c'est-√†-dire le cadre s'allumera en continu jusqu'√† ce que le prochain cadre change. Un cycle de 5 it√©rations garantit que les images ne seront pas superpos√©es, car 0,046 * 5 = 0,23 s - la p√©riode des s√©lecteurs d'images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la cr√©ation d'une animation, l'ordinateur plantait r√©guli√®rement, mais il √©tait possible de dessiner 5 images diff√©rentes et de cr√©er un cycle de 8 images dans l'ordre: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 2 3 2 1 4 5 2</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le patch final avec Coffin Dance (de nombreux √©l√©ments d√©coratifs - boutons et commentaires ajout√©s) en mode √©dition: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gj/qv/8-/gjqv8-_xv_qe5swgzu7ktfdkdym.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √† peine possible d'analyser le code source de la simulation dans cette image infernale, cependant le patch fonctionne correctement: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/el/ml/sn/elmlsnkdwsk9kafkdg-kfw4wajo.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le coin inf√©rieur droit un compteur est utilis√© pour arr√™ter automatiquement le joueur apr√®s le 121e Remarques. </font><font style="vertical-align: inherit;">Initialement, une animation de 48x24 pixels √©tait suppos√©e, mais l'ordinateur l'a cat√©goriquement refus√©e avec un rugissement triste du refroidisseur et un red√©marrage inattendu de Windows en mode sans √©chec. </font><font style="vertical-align: inherit;">Le pixel art original 48x24 de l'artiste LikaLou joint √† la fin de la vid√©o. </font><font style="vertical-align: inherit;">Donc, apr√®s 3 jours de ¬´dessin de musique¬ª, nous avons Coffin Dance in Pure Data:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3RwNmnAq13A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La programmation visuelle des m√®mes est une activit√© amusante, m√™me si elle prend beaucoup de temps et d√©truit parfois votre mat√©riel. </font><font style="vertical-align: inherit;">M√™me une telle t√¢che de danse fun√©raire apparemment simple n√©cessite une approche modulaire de la cr√©ation d'un programme, une connaissance des caract√©ristiques non seulement du langage de mise en ≈ìuvre, mais aussi de l'environnement de d√©veloppement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant l'exemple de patch pour Coffin Dance, vous pouvez juger du niveau de d√©veloppement de la programmation visuelle. </font><font style="vertical-align: inherit;">Il existe des langages graphiques qui g√®rent bien certaines t√¢ches d'application, si les environnements de d√©veloppement sont pratiques. </font><font style="vertical-align: inherit;">Mais l'industrie de la programmation visuelle dans son ensemble en est √† ses balbutiements.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©f√©rences</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site officiel de Pure Data </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bases de la programmation visuelle dans Pure Data A </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propos du standard VST </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coffin Dance article sur Wikipedia </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coffin Dance dans Pure Data: vid√©o originale</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504650/index.html">Alpine.js sur un exemple concret</a></li>
<li><a href="../fr504654/index.html">ZPM - gestionnaire de paquets pour InterSystems IRIS</a></li>
<li><a href="../fr504656/index.html">Attachez vos ceintures de s√©curit√©: comment l'industrie du cloud va changer</a></li>
<li><a href="../fr504658/index.html">Pourquoi Yota est un op√©rateur g√™nant et ce qui peut √™tre mieux fait</a></li>
<li><a href="../fr504660/index.html">Princess Frog 2.0 alias Pelophylax ridibundus</a></li>
<li><a href="../fr504664/index.html">Ajout intelligent de groupes musicaux √† Google Sheets via VK API, Tampermonkey et Telegram bot</a></li>
<li><a href="../hi486176/index.html">‡§ï‡•â‡§∞‡•ç‡§™‡•ã‡§∞‡•á‡§ü ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡•ç‡§∞‡§æ‡§ö‡§æ‡§∞ ‡§Æ‡•á‡§Æ‡•ã</a></li>
<li><a href="../hi486178/index.html">FOSS News No. 1 - 27 ‡§ú‡§®‡§µ‡§∞‡•Ä - 2 ‡§´‡§∞‡§µ‡§∞‡•Ä, 2020 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§î‡§∞ ‡§Æ‡•Å‡§ï‡•ç‡§§ ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞ ‡§ï‡•Ä ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ</a></li>
<li><a href="../hi486180/index.html">‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§∞‡§π‡§ø‡§§ ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§î‡§∞ ‡§∏‡•ç‡§∞‡•ã‡§§</a></li>
<li><a href="../hi486184/index.html">‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡•Ä ‡§¢‡§Ç‡§ó ‡§∏‡•á ‡§ñ‡•ã‡§ú ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡•à‡§∏‡•á ‡§ï‡§∞‡•á‡§Ç</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>