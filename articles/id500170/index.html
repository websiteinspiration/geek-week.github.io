<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👃🏿 ⚫️ 🎻 Tutorial jaringan simulator ns-3. Bab 6 🛌🏾 🚶🏿 🤡</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="bab 1.2 
 bab 3 
 bab 4 
 bab 5
 

Bab 6 Membangun topologi 
 6.1 Membangun topologi jaringan bus 
 6.2 Model, atribut dan kenyataan 
 6.3 Membangun t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Tutorial jaringan simulator ns-3. Bab 6</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500170/"><p><img src="https://habrastorage.org/webt/oq/g3/-x/oqg3-xyphklp7lki3udrmwh5xks.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bab 1.2 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bab 3 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bab 4 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bab 5</font></font></a></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 6 Membangun topologi </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.1 Membangun topologi jaringan bus </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.2 Model, atribut dan kenyataan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.3 Membangun topologi jaringan nirkabel </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.4 Antrian di ns-3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.4.1 Model antrian tersedia di ns-3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.4.2 Mengubah pengaturan default</font></font></p><br>
<h2 id="glava-6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bab 6</font></font></h2><br>
<h2 id="stroim-topologii"> </h2><br>
<h3 id="61-postroenie-topologii-shinnoy-seti">6.1    </h3><br>
<p>             ns‑3,     . Ns‑3     ,    CSMA (    ).</p><br>
<p> CSMA  ns‑3      Ethernet.  Ethernet  CSMA/CD (       )        .    CSMA ns‑3    .</p><br>
<p> ,         -,          CSMA.           .</p><br>
<p>   examples/tutorial    .      first.cc    CSMA   -,    .  <em>examples/tutorial/second.cc</em>    .      ns‑3,     ,     ,           .</p><a name="habracut"></a><br>
<p>    first.cc (    ns‑3),      emacs    GPL .</p><br>
<p>         ,       first.cc.</p><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/core-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/network-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/csma-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/internet-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/point-to-point-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/applications-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/ipv4-global-routing-helper.h"</span></span></code></pre><br>
<p> ,     ,   ASCII ,     ,    .    «»    .</p><br>
<p>     ,        (   n0  n1 ),      .  ,      ,     ,    .    nCsma  ,    ( CSMA)     —      «» .     «» ,   :</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Default Network Topology</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">//       10.1.1.0</span>
<span class="hljs-comment">// n0 -------------- n1   n2   n3   n4</span>
<span class="hljs-comment">//    point-to-point  |    |    |    |</span>
<span class="hljs-comment">//                    ================</span>
<span class="hljs-comment">//                      LAN 10.1.2.0</span></code></pre><br>
<p>    ns‑3    .   ,     first.cc,    .</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> ns3;<font></font>
NS_LOG_COMPONENT_DEFINE (<span class="hljs-string">"SecondScriptExample"</span>);</code></pre><br>
<p>    -.    verbose   ,         <em>UdpEchoClientApplication</em>  <em>UdpEchoServerApplication</em>.       true (  ),          .</p><br>
<p>   ,         CSMA    .           5.2.2,     .   ,        «» .<br>
      API,      .</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">bool</span> verbose = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">uint32_t</span> nCsma = <span class="hljs-number">3</span>;<font></font>
CommandLine cmd;<font></font>
cmd.AddValue (<span class="hljs-string">"nCsma"</span>, <span class="hljs-string">"Number of \"extra\" CSMA nodes/devices"</span>, nCsma);<font></font>
cmd.AddValue (<span class="hljs-string">"verbose"</span>, <span class="hljs-string">"Tell echo applications to log if true"</span>, verbose);<font></font>
cmd.Parse (argc, argv);<font></font>
<span class="hljs-keyword">if</span> (verbose)<font></font>
{<font></font>
LogComponentEnable(<span class="hljs-string">"UdpEchoClientApplication"</span>, LOG_LEVEL_INFO);<font></font>
LogComponentEnable(<span class="hljs-string">"UdpEchoServerApplication"</span>, LOG_LEVEL_INFO);<font></font>
}<font></font>
nCsma = nCsma == <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : nCsma;</code></pre><br>
<p>     ,       -.  NodeContainer   ,      <em>first.cc</em>.</p><br>
<pre><code class="cpp hljs">NodeContainer p2pNodes;<font></font>
p2pNodes.Create (<span class="hljs-number">2</span>);</code></pre><br>
<p>     NodeContainer   ,      (CSMA).       -.</p><br>
<pre><code class="cpp hljs">NodeContainer csmaNodes;<font></font>
csmaNodes.Add (p2pNodes.Get (<span class="hljs-number">1</span>));<font></font>
csmaNodes.Create (nCsma);</code></pre><br>
<p>      (,   )          ,   CSMA .         -  CSMA .     «» ,     CSMA .           CSMA — ,      -  CSMA ,  «»        CSMA  .</p><br>
<p>      .    <em>PointToPointHelper </em>      ,   ,                  .</p><br>
<pre><code class="cpp hljs">PointToPointHelper pointToPoint;<font></font>
pointToPoint.SetDeviceAttribute (<span class="hljs-string">"DataRate"</span>, StringValue (<span class="hljs-string">"5Mbps"</span>));<font></font>
pointToPoint.SetChannelAttribute (<span class="hljs-string">"Delay"</span>, StringValue (<span class="hljs-string">"2ms"</span>));<font></font>
NetDeviceContainer p2pDevices;<font></font>
p2pDevices = pointToPoint.Install (p2pNodes);</code></pre><br>
<p>    NetDeviceContainer     «-»      -.</p><br>
<p>  ,        CSMA   . <em>CsmaHelper</em>   ,  <em>PointToPointHelper</em>,      CSMA   .  ,    CSMA    — ,      channelAttribute  deviceAttribute.  ,    CSMA   ,  10Base-T  100Base-T   .        100   ,     6560         (   1   ,     100 ).  ,     ,     .</p><br>
<pre><code class="cpp hljs">CsmaHelper csma;<font></font>
csma.SetChannelAttribute (<span class="hljs-string">"DataRate"</span>, StringValue (<span class="hljs-string">"100Mbps"</span>));<font></font>
csma.SetChannelAttribute (<span class="hljs-string">"Delay"</span>, TimeValue (NanoSeconds (<span class="hljs-number">6560</span>)));<font></font>
NetDeviceContainer csmaDevices;<font></font>
csmaDevices = csma.Install (csmaNodes);</code></pre><br>
<p> ,    NetDeviceContainer   ,  PointToPointHelper,   NetDeviceContainer   ,   CsmaHelper.    <em>Install</em> <em>CsmaHelper</em>      csmaNodes <em>NodeContainer</em>.</p><br>
<p>     ,   ,      .   <em>first.cc</em> ,    <em>InternetStackHelper</em>    .</p><br>
<pre><code class="cpp hljs">InternetStackHelper <span class="hljs-built_in">stack</span>;
<span class="hljs-built_in">stack</span>.Install (p2pNodes.Get (<span class="hljs-number">0</span>));
<span class="hljs-built_in">stack</span>.Install (csmaNodes);</code></pre><br>
<p>,        p2pNodes      csmaNodes.       ,         <em>p2pNodes</em>     csmaNodes.      first.cc,   IP-       Ipv4AddressHelper.     <code>10.1.1.0</code>   ,      -.</p><br>
<pre><code class="cpp hljs">Ipv4AddressHelper address;<font></font>
address.SetBase (<span class="hljs-string">"10.1.1.0"</span>, <span class="hljs-string">"255.255.255.0"</span>);<font></font>
Ipv4InterfaceContainer p2pInterfaces;<font></font>
p2pInterfaces = address.Assign (p2pDevices);</code></pre><br>
<p>,       ,            .     IP-   CSMA .    ,     -,   ,           CSMA  — ,     CSMA      .  CSMA       IP- <code>10.1.2.0</code>,   .</p><br>
<pre><code class="cpp hljs">address.SetBase (<span class="hljs-string">"10.1.2.0"</span>, <span class="hljs-string">"255.255.255.0"</span>);<font></font>
Ipv4InterfaceContainer csmaInterfaces;<font></font>
csmaInterfaces = address.Assign (csmaDevices);</code></pre><br>
<p>    ,    .           <em>first.cc</em>,            CSMA     ,    .    -.   <em>UdpEchoServerHelper</em>      ,     . ,   ,  ,   ,   <em>SetAttribute</em>,         .</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">UdpEchoServerHelper <span class="hljs-title">echoServer</span> <span class="hljs-params">(<span class="hljs-number">9</span>)</span></span>;<font></font>
ApplicationContainer serverApps = echoServer.Install (csmaNodes.Get (nCsma));<font></font>
serverApps.Start (Seconds (<span class="hljs-number">1.0</span>));<font></font>
serverApps.Stop (Seconds (<span class="hljs-number">10.0</span>));</code></pre><br>
<p>,   csmaNodes    ,    ,  nCsma «» . ,      «» .     csmaNodes  -.     ,   ,      «» CSMA ,    csmaNodes     1. ,   ,    <em>nCsma</em> «» ,       <em>nCsma</em>.          <em>Get</em>.</p><br>
<p>   ,        <em>first.cc</em>.  ,       <em>UdpEchoClientHelper</em> (       ).       ,        «» CSMA .        ,    .</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">UdpEchoClientHelper <span class="hljs-title">echoClient</span> <span class="hljs-params">(csmaInterfaces.GetAddress (nCsma), <span class="hljs-number">9</span>)</span></span>;<font></font>
echoClient.SetAttribute (<span class="hljs-string">"MaxPackets"</span>, UintegerValue (<span class="hljs-number">1</span>));<font></font>
echoClient.SetAttribute (<span class="hljs-string">"Interval"</span>, TimeValue (Seconds (<span class="hljs-number">1.0</span>)));<font></font>
echoClient.SetAttribute (<span class="hljs-string">"PacketSize"</span>, UintegerValue (<span class="hljs-number">1024</span>));<font></font>
ApplicationContainer clientApps = echoClient.Install (p2pNodes.Get (<span class="hljs-number">0</span>));<font></font>
clientApps.Start (Seconds (<span class="hljs-number">2.0</span>));<font></font>
clientApps.Stop (Seconds (<span class="hljs-number">10.0</span>));</code></pre><br>
<p>       ,      . Ns‑3,   ,   ,     .     ,            ,    —             .  ,     ,       OSPF1,            .               ,            .       :</p><br>
<pre><code class="cpp hljs">Ipv4GlobalRoutingHelper::PopulateRoutingTables ();</code></pre><br>
<p>    pcap.       pcap        .     pcap   CSMA,    ,      .</p><br>
<pre><code class="cpp hljs">pointToPoint.EnablePcapAll (<span class="hljs-string">"second"</span>);<font></font>
csma.EnablePcap (<span class="hljs-string">"second"</span>, csmaDevices.Get (<span class="hljs-number">1</span>), <span class="hljs-literal">true</span>);</code></pre><br>
<p> CSMA   .  ,           (   ).         .          .    —           ,      .   —    .       (Promiscuous mode).     «»          pcap .  , , tcpdump.     CSMA      .</p><br>
<p>       CSMA            ,    ,   <em>tcpdump</em>.       Linux,     -  <code>tcpdump -i eth0</code>.         <em>csmaDevices.Get(1)</em>,      .      true   .        ,    first.cc.</p><br>
<pre><code class="cpp hljs">Simulator::Run ();<font></font>
Simulator::Destroy ();<font></font>
<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}</code></pre><br>
<p>   ,  - second.cc      waf  ,       <em>first.cc</em>.        ,   ,</p><br>
<pre><code class="plaintext hljs">$ cp examples/tutorial/second.cc scratch/mysecond.cc<font></font>
$ ./waf</code></pre><br>
<p>:  <em>second.cc</em>       ,    . ..     second    .   ,        second.cc     <em>mysecond.cc</em>.</p><br>
<p>     (  ),        NS_LOG, ,          .</p><br>
<pre><code class="plaintext hljs">$ export NS_LOG=<font></font>
$ ./waf --run scratch/mysecond</code></pre><br>
<p>    UDP -  ,      first.cc,    ,    .</p><br>
<pre><code class="plaintext hljs">Waf: Entering directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
Waf: Leaving directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
'build' finished successfully (0.415s)<font></font>
Sent 1024 bytes to 10.1.2.4<font></font>
Received 1024 bytes from 10.1.1.1<font></font>
Received 1024 bytes from 10.1.2.4<font></font>
,    «<font></font>
Sent 1024 bytes to 10.1.2.4</code></pre><br>
<p>»  UDP -,   .         (10.1.2.0).   «<code>Received 1024 bytes from 10.1.1.1</code><br>
»  UDP -,    -.   «<code>Received 1024 bytes from 10.1.2.4</code>»  -, ,        .</p><br>
<p>       ,     :</p><br>
<pre><code class="plaintext hljs">second-0-0.pcap second-1-0.pcap second-2-0.pcap</code></pre><br>
<p>     .      ,<code>&lt;&gt; - &lt;&gt; - &lt;&gt; .pcap</code>. ,     — <em>second-0-0.pcap</em>  pcap    0,  0.       .  <em>second-1-0.pcap</em> — pcap       ,     -;   <em>second-2-0.pcap</em> —  pcap       .         ,  ,         -,   1 —  ,     -,    CSMA .   ,   2   «»   CSMA ,    0          .</p><br>
<p>     -  .   tcpdump       - — 0.</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r second-0-0.pcap</code></pre><br>
<p>     <em>pcap</em>:</p><br>
<pre><code class="plaintext hljs">reading from file second-0-0.pcap, link-type PPP (PPP)<font></font>
2.000000 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.017607 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<p>    ,    — PPP (-)3.    -,   0   ,   IP-<br>
<code>10.1.1.1</code>,   IP- 10.1.2.4 (  CSMA ).       «-»     «-»   .  :<br>
<code>$ tcpdump -nn -tt -r second-1-0.pcap</code><br>
     <em>pcap</em>      :</p><br>
<pre><code class="plaintext hljs">reading from file second-1-0.pcap, link-type PPP (PPP)<font></font>
2.003686 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<p>  ,     PPP,    .     IP- <code>10.1.1.1</code> (    2.000000 )   IP- <code>10.1.2.4</code>   .          CSMA,    ,      ,      .</p><br>
<p>,     2      CSMA ,     <code>second-2-0.pcap</code>   .</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r second-2-0.pcap</code></pre><br>
<p>       0   2:</p><br>
<pre><code class="plaintext hljs">reading from file second-2-0.pcap, link-type EN10MB (Ethernet)<font></font>
2.007698 ARP, Request who-has 10.1.2.4 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50<font></font>
2.007710 ARP, Reply 10.1.2.4 is-at 00:00:00:00:00:06, length 50<font></font>
2.007803 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.013815 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.4, length 50<font></font>
2.013828 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50<font></font>
2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<p> ,    «Ethernet».   - .     ARP,   .  ,       IP- <code>10.1.2.4</code>,     MAC-  .    CSMA  (<code>ff: ff: ff: ff: ff: ff</code>),     IP- <code>10.1.2.4</code>.       ,     MAC- <code>00: 00: 00: 00: 00: 06</code>.  ,         ,          .      ,</p><br>
<pre><code class="plaintext hljs">2.007698 ARP, Request who-has 10.1.2.4 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50<font></font>
2.007710 ARP, Reply 10.1.2.4 is-at 00:00:00:00:00:06, length 50</code></pre><br>
<p>,  1  1     -  UDP -  IP- <code>10.1.2.4</code>.</p><br>
<pre><code class="plaintext hljs">2.007803 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024</code></pre><br>
<p>  -   ,     .  ,       ,      IP- <code>10.1.2.1</code>.    ,     ,       .   -   MAC-  CSMA ,     ARP ,    CSMA .</p><br>
<pre><code class="plaintext hljs">2.013815 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.4, length 50<font></font>
2.013828 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50</code></pre><br>
<p>   -    .</p><br>
<pre><code class="plaintext hljs">2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<p> ,      ,</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r second-1-0.pcap</code></pre><br>
<p>         ,    .</p><br>
<pre><code class="plaintext hljs">reading from file second-1-0.pcap, link-type PPP (PPP)<font></font>
2.003686 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<p>,      ,   </p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r second-0-0.pcap</code></pre><br>
<p> ,         2,017607 ,</p><br>
<pre><code class="plaintext hljs">reading from file second-0-0.pcap, link-type PPP (PPP)<font></font>
2.000000 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.017607 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<p> ,       CSMA        .       ,        <em>first.cc</em>.       :</p><br>
<pre><code class="plaintext hljs">$ ./waf --run "scratch/mysecond --nCsma=4"</code></pre><br>
<p>   ,</p><br>
<pre><code class="plaintext hljs">Waf: Entering directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
Waf: Leaving directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
'build' finished successfully (0.405s)<font></font>
At time 2s client sent 1024 bytes to 10.1.2.5 port 9<font></font>
At time 2.0118s server received 1024 bytes from 10.1.1.1 port 49153<font></font>
At time 2.0118s server sent 1024 bytes to 10.1.1.1 port 49153<font></font>
At time 2.02461s client received 1024 bytes from 10.1.2.5 port 9</code></pre><br>
<p> ,   -     CSMA ,   <code>10.1.2.5</code>    , <code>10.1.2.4</code>.</p><br>
<p> ,       ,     CSMA.         ,       .    .<br>
   ,    scratch/mysecond.cc    .  ns‑3  ,          .      EnablePcap  .</p><br>
<pre><code class="plaintext hljs">pointToPoint.EnablePcap ("second", p2pNodes.Get (0)-&gt;GetId (), 0);<font></font>
csma.EnablePcap ("second", csmaNodes.Get (nCsma)-&gt;GetId (), 0, false);<font></font>
csma.EnablePcap ("second", csmaNodes.Get (nCsma-1)-&gt;GetId (), 0, false);</code></pre><br>
<p> ,     pcap    «second»,    ,        0,      .</p><br>
<p>   ,     : ,            ,     .       —    «»,    ,      .          ,     ,   ,   CSMA      <br>
<code>nCsma + 1</code>.         .</p><br>
<p> ,    ,   ,      <em>Node</em> ns‑3,    <em>NodeContainer</em>.  <em>Node </em>  <em>GetId</em>,     ,    ,   .    Doxygen  Node    ,     <em>ns‑3</em>  ,      .        .</p><br>
<p>   <em>Doxygen</em>    (,       - ).       <em>Node</em>,   «»   « »,    <em>ns3::Node</em>.  <em>ns3::Node</em>,        <em>Node</em>.      <em>GetId</em>   ,       .    <em>GetId</em>         .</p><br>
<p>        ,     ,  ,</p><br>
<pre><code class="plaintext hljs">$ rm *.pcap<font></font>
$ rm *.tr</code></pre><br>
<p>         <br>
nCsma=100,</p><br>
<pre><code class="plaintext hljs">$ ./waf --run "scratch/mysecond --nCsma=100"</code></pre><br>
<p>   :</p><br>
<pre><code class="plaintext hljs">Waf: Entering directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
Waf: Leaving directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
'build' finished successfully (0.407s)<font></font>
At time 2s client sent 1024 bytes to 10.1.2.101 port 9<font></font>
At time 2.0068s server received 1024 bytes from 10.1.1.1 port 49153<font></font>
At time 2.0068s server sent 1024 bytes to 10.1.1.1 port 49153<font></font>
At time 2.01761s client received 1024 bytes from 10.1.2.101 port 9</code></pre><br>
<p> ,   -    <code>10.1.2.101</code><br>
,    100 «»  CSMA  -  .      pcap    ,  ,</p><br>
<pre><code class="plaintext hljs">second-0-0.pcap second-100-0.pcap second-101-0.pcap</code></pre><br>
<p>  <em>second-0-0.pcap</em>   « »  ,    -.  <em>second-101-0.pcap</em>     CSMA,    -.  , ,        pcap   -  <em>false</em>.  ,  ,    ,    .</p><br>
<p>       ,          .     tcpdump  <em>second-100-0.pcap</em>.</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r second-100-0.pcap</code></pre><br>
<p>   ,   100     -.  ,   ,  ARP-,     CSMA .</p><br>
<pre><code class="plaintext hljs">reading from file second-100-0.pcap, link-type EN10MB (Ethernet)<font></font>
2.006698 ARP, Request who-has 10.1.2.101 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50<font></font>
2.013815 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.101, length 50</code></pre><br>
<p>   <em>tcpdump</em>  <em>second-101-0.pcap</em>.</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r second-101-0.pcap</code></pre><br>
<p>   ,   101    -.</p><br>
<pre><code class="plaintext hljs">reading from file second-101-0.pcap, link-type EN10MB (Ethernet)<font></font>
2.006698 ARP, Request who-has 10.1.2.101 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50<font></font>
2.006698 ARP, Reply 10.1.2.101 is-at 00:00:00:00:00:67, length 50<font></font>
2.006803 IP 10.1.1.1.49153 &gt; 10.1.2.101.9: UDP, length 1024<font></font>
2.013803 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.101, length 50<font></font>
2.013828 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50<font></font>
2.013828 IP 10.1.2.101.9 &gt; 10.1.1.1.49153: UDP, length 1024</code></pre><br>
<h4 id="62-modeli-atributy-i-realnost">6.2 ,   </h4><br>
<p>  ,        .   .        ,   ,  -  ,   ,  ,   . ,       CSMA,    ,      Ethernet ;  ,      ,     Ethernet.   .</p><br>
<p>,  ,   .         « »  « »            .</p><br>
<p>  , , <em> Csma</em>,   ,   .    (<em>csma.h</em>)   ,    CSMA   ,  ,              .</p><br>
<p>          ,        ,      .         ,         .</p><br>
<p>  , ns‑3  ,         .    <em>CsmaNetDevice</em>: <em>Mtu</em>  <em>EncapsulationMode</em>.  <em>Mtu</em>       (Maximum Transmission Unit).        ( PDU),    .</p><br>
<p> <em>CsmaNetDevice</em>  MTU    1500 .      ,   RFC 894, «   IP-   Ethernet».          10Base5 (  Ethernet) — 1518 .          Ethernet DIX4 (18 ),        (MTU) 1500 .   ,  MTU   IEEE 802.3  1492 .  ,   LLC/SNAP        .         1518 ,    .</p><br>
<p>   , CsmaNetDevice  ,  EncapsulationMode,     Dix  Llc.    Ethernet  LLC/SNAP .</p><br>
<p>  Mtu  1500       Llc,   ,   1500- PDU   LLC/SNAP,      1526 .      ,        1518 .    ,           .</p><br>
<p>,   ,  jumbo ()  (1500 &lt; MTU ≤ 9000 )  super-jumbo (-) (MTU &gt; 9000) ) ,     IEEE,      ()    .       Dix    <em>Mtu</em>  <em>CsmaNetDevice</em>  64000  —    ,      CsmaChannel DataRate    10   .  ,    Ethernet   10Base5   « »   1980- ,   - . , ,  ,  -   ,    -  ,     «» .</p><br>
<p>         ,    100  <em>Csma</em>.          500 .         10Base5  ,     Ethernet-  500 ,      — 2,5 .    ,          200 .  ,        .  ,         ,      .</p><br>
<p>       ns‑3     . ,      ,                     ,  ,      .<br>
Ns‑3   ,       ,      -    .    ,  ns‑3      .   ,     ,          .</p><br>
<h4 id="63-postroenie-topologii-besprovodnoy-seti">6.3    </h4><br>
<p>  ,          ns‑3,     . Ns‑3    802.11,      MAC   802.11  «  »  PHY-  802.11a.</p><br>
<p>        Wi-Fi  ,       -  CSMA.          .</p><br>
<p>       <em>examples/tutorial</em>.      <em>second.cc</em>    Wi-Fi.  ,  <em>examples/tutorial/third.cc</em>    .       ns‑3,     ,     ,     ,          .</p><br>
<p>    second.cc (    ns‑3),      emacs    GPL.</p><br>
<p>  ASCII  ( ),      ,   .   ,      ,      . ,      ,      ,      .     <em>second.cc</em>,    <em>nCsma</em>,     «» CSMA .         <em>nWifi</em>,       STA  ().        AP ( ).     «» CSMA     STA .<br>
        ,      <em>second.cc</em>.   ,    Wi-Fi   ,    .</p><br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/core-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/point-to-point-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/network-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/applications-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/wifi-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/mobility-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/csma-module.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"ns3/internet-module.h"</span></span></code></pre><br>
<p>     :</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Default Network Topology</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// Wifi 10.1.3.0</span>
<span class="hljs-comment">//                 AP</span>
<span class="hljs-comment">//  *    *    *    *</span>
<span class="hljs-comment">//  |    |    |    |     10.1.1.0</span>
<span class="hljs-comment">// n5   n6   n7   n0 -------------- n1   n2   n3   n4</span>
<span class="hljs-comment">//                   point-to-point  |    |    |    |</span>
<span class="hljs-comment">//                                   ================</span>
<span class="hljs-comment">//                                     LAN 10.1.2.0</span></code></pre><br>
<p>  ,             ,       .    STA     <br>
<code>10.1.3.0</code>,      .      ns‑3    .      .</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> ns3;<font></font>
NS_LOG_COMPONENT_DEFINE (<span class="hljs-string">"ThirdScriptExample"</span>);</code></pre><br>
<p>    ,  <em>second.cc</em>,                  .</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">bool</span> verbose = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">uint32_t</span> nCsma = <span class="hljs-number">3</span>;
<span class="hljs-keyword">uint32_t</span> nWifi = <span class="hljs-number">3</span>;<font></font>
CommandLine cmd;<font></font>
cmd.AddValue (<span class="hljs-string">"nCsma"</span>, <span class="hljs-string">"Number of \"extra\" CSMA nodes/devices"</span>, nCsma);<font></font>
cmd.AddValue (<span class="hljs-string">"nWifi"</span>, <span class="hljs-string">"Number of wifi STA devices"</span>, nWifi);<font></font>
cmd.AddValue (<span class="hljs-string">"verbose"</span>, <span class="hljs-string">"Tell echo applications to log if true"</span>, verbose);<font></font>
cmd.Parse (argc,argv);<font></font>
<span class="hljs-keyword">if</span> (verbose)<font></font>
{<font></font>
LogComponentEnable(<span class="hljs-string">"UdpEchoClientApplication"</span>, LOG_LEVEL_INFO);<font></font>
LogComponentEnable(<span class="hljs-string">"UdpEchoServerApplication"</span>, LOG_LEVEL_INFO);<font></font>
}</code></pre><br>
<p>     ,      ,      -.</p><br>
<pre><code class="cpp hljs">NodeContainer p2pNodes;<font></font>
p2pNodes.Create (<span class="hljs-number">2</span>);</code></pre><br>
<p>    .   <em>PointToPointHelper</em>        ,            ,        .          .</p><br>
<pre><code class="cpp hljs">PointToPointHelper pointToPoint;<font></font>
pointToPoint.SetDeviceAttribute (<span class="hljs-string">"DataRate"</span>, StringValue (<span class="hljs-string">"5Mbps"</span>));<font></font>
pointToPoint.SetChannelAttribute (<span class="hljs-string">"Delay"</span>, StringValue (<span class="hljs-string">"2ms"</span>));<font></font>
NetDeviceContainer p2pDevices;<font></font>
p2pDevices = pointToPoint.Install (p2pNodes);</code></pre><br>
<p>     NodeContainer   ,      (CSMA).</p><br>
<pre><code class="cpp hljs">NodeContainer csmaNodes;<font></font>
csmaNodes.Add (p2pNodes.Get (<span class="hljs-number">1</span>));<font></font>
csmaNodes.Create (nCsma);</code></pre><br>
<p>      (,   )          ,    CSMA.      -  CSMA .     «» ,     CSMA .</p><br>
<p>,    CsmaHelper    ,        .   NetDeviceContainer     CSMA ,    CSMA    .</p><br>
<pre><code class="cpp hljs">CsmaHelper csma;<font></font>
csma.SetChannelAttribute (<span class="hljs-string">"DataRate"</span>, StringValue (<span class="hljs-string">"100Mbps"</span>));<font></font>
csma.SetChannelAttribute (<span class="hljs-string">"Delay"</span>, TimeValue (NanoSeconds (<span class="hljs-number">6560</span>)));<font></font>
NetDeviceContainer csmaDevices;<font></font>
csmaDevices = csma.Install (csmaNodes);</code></pre><br>
<p>    ,     Wi-Fi.      «»,      ,     « »        .</p><br>
<pre><code class="cpp hljs">NodeContainer wifiStaNodes;<font></font>
wifiStaNodes.Create (nWifi);<font></font>
NodeContainer wifiApNode = p2pNodes.Get (<span class="hljs-number">0</span>);</code></pre><br>
<p>    Wi-Fi     Wi-Fi   .     PHY  :</p><br>
<pre><code class="cpp hljs">YansWifiChannelHelper channel = YansWifiChannelHelper::Default ();<font></font>
YansWifiPhyHelper phy = YansWifiPhyHelper::Default ();</code></pre><br>
<p> ,    PHY-       ,   <br>
<em>YansWifiChannelHelper::Default</em>  <em>YansWifiPhyHelper::Default</em>,     Doxygen API.      ,            PHY ,   ,    PHY ,  <em>YansWifiPhyHelper</em>       ,      ,      :</p><br>
<pre><code class="cpp hljs">phy.SetChannel (channel.Create ());</code></pre><br>
<p>  PHY  ,     MAC .      non-Qos MAC.    MAC   WifiMacHelper.</p><br>
<pre><code class="cpp hljs">WifiHelper wifi;<font></font>
wifi.SetRemoteStationManager (<span class="hljs-string">"ns3::AarfWifiManager"</span>);<font></font>
WifiMacHelper mac;</code></pre><br>
<p> <em>SetRemoteStationManager</em>       .      AARF (Adaptive AutoRate Fallback) — , ,   <em>Doxygen</em>.</p><br>
<p>    MAC, SSID (Service Set Identification),    ,    :</p><br>
<pre><code class="cpp hljs">Ssid ssid = Ssid (<span class="hljs-string">"ns-3-ssid"</span>);<font></font>
mac.SetType (<span class="hljs-string">"ns3::StaWifiMac"</span>,
  <span class="hljs-string">"Ssid"</span>, SsidValue (ssid),
  <span class="hljs-string">"ActiveProbing"</span>, BooleanValue (<span class="hljs-literal">false</span>));</code></pre><br>
<p>        (SSID) 802.11,       «<em>Ssid</em>»,   MAC .  «<em>ns3::StaWifiMac</em>»    MAC ,    .  «QosSupported»   <em>WifiMacHelper</em>     false.     ,     MAC    (STA)  QoS   AP   BSS (   BSS  AP). ,  «<em>ActiveProbing</em>»   false.  ,  MAC,        .  ,      ,   MAC ,    PHY ,            Wi-Fi  :</p><br>
<pre><code class="cpp hljs">NetDeviceContainer staDevices;<font></font>
staDevices = wifi.Install (phy, mac, wifiStaNodes);</code></pre><br>
<p>  Wi-Fi    STA ,      AP  ( ).    AP,    ,       <em>WifiMacHelper</em>.</p><br>
<pre><code class="cpp hljs">mac.SetType (<span class="hljs-string">"ns3::ApWifiMac"</span>,
<span class="hljs-string">"Ssid"</span>, SsidValue (ssid));</code></pre><br>
<p>   WifiMacHelper   MAC <br>
«<em>ns3::ApWifiMac</em>»,   ,      MAC,   AP.         «<em>QosSupported</em>»,    false —   QoS       802.11e/WMM.      ,       PHY  ( ),    :</p><br>
<pre><code class="cpp hljs">NetDeviceContainer apDevices;<font></font>
apDevices = wifi.Install (phy, mac, wifiApNode);</code></pre><br>
<p>    .  ,  STA        ,   AP    .   ,   <em>MobilityHelper</em>.     <em>MobilityHelper</em>    ,   « ».</p><br>
<pre><code class="cpp hljs">MobilityHelper mobility;<font></font>
mobility.SetPositionAllocator (<span class="hljs-string">"ns3::GridPositionAllocator"</span>,
<span class="hljs-string">"MinX"</span>, DoubleValue (<span class="hljs-number">0.0</span>),
<span class="hljs-string">"MinY"</span>, DoubleValue (<span class="hljs-number">0.0</span>),
<span class="hljs-string">"DeltaX"</span>, DoubleValue (<span class="hljs-number">5.0</span>),
<span class="hljs-string">"DeltaY"</span>, DoubleValue (<span class="hljs-number">10.0</span>),
<span class="hljs-string">"GridWidth"</span>, UintegerValue (<span class="hljs-number">3</span>),
<span class="hljs-string">"LayoutType"</span>, StringValue (<span class="hljs-string">"RowFirst"</span>));</code></pre><br>
<p>         STA   .    Doxygen   <em>ns3::GridPositionAllocator</em>,   ,  .       ,      ,  .    <em>RandomWalk2dMobilityModel</em>,             .</p><br>
<pre><code class="cpp hljs">mobility.SetMobilityModel (<span class="hljs-string">"ns3::RandomWalk2dMobilityModel"</span>,
<span class="hljs-string">"Bounds"</span>, RectangleValue (Rectangle (<span class="hljs-number">-50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">-50</span>, <span class="hljs-number">50</span>)));</code></pre><br>
<p>   <em>MobilityHelper</em>     STA .</p><br>
<pre><code class="cpp hljs">mobility.Install (wifiStaNodes);</code></pre><br>
<p> ,          .   ,       </p><br>
<pre><code class="cpp hljs">ns3::ConstantPositionMobilityModel:<font></font>
mobility.SetMobilityModel (<span class="hljs-string">"ns3::ConstantPositionMobilityModel"</span>);<font></font>
mobility.Install (wifiApNode);</code></pre><br>
<p>     , ,    ,    Wi-Fi.      .   ,      <em>InternetStackHelper</em>.</p><br>
<pre><code class="cpp hljs">InternetStackHelper <span class="hljs-built_in">stack</span>;
<span class="hljs-built_in">stack</span>.Install (csmaNodes);
<span class="hljs-built_in">stack</span>.Install (wifiApNode);
<span class="hljs-built_in">stack</span>.Install (wifiStaNodes);</code></pre><br>
<p>     <em>second.cc</em>,    <em>Ipv4AddressHelper</em>   IP-   .    <br>
<code>10.1.1.0</code>    ,      -.     <code>10.1.2.0</code>    CSMA ,        <code>10.1.3.0</code>  STA       .</p><br>
<pre><code class="cpp hljs">Ipv4AddressHelper address;<font></font>
address.SetBase (<span class="hljs-string">"10.1.1.0"</span>, <span class="hljs-string">"255.255.255.0"</span>);<font></font>
Ipv4InterfaceContainer p2pInterfaces;<font></font>
p2pInterfaces = address.Assign (p2pDevices);<font></font>
address.SetBase (<span class="hljs-string">"10.1.2.0"</span>, <span class="hljs-string">"255.255.255.0"</span>);<font></font>
Ipv4InterfaceContainer csmaInterfaces;<font></font>
csmaInterfaces = address.Assign (csmaDevices);<font></font>
address.SetBase (<span class="hljs-string">"10.1.3.0"</span>, <span class="hljs-string">"255.255.255.0"</span>);<font></font>
address.Assign (staDevices);<font></font>
address.Assign (apDevices);</code></pre><br>
<p>  -  « »      .    .</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">UdpEchoServerHelper <span class="hljs-title">echoServer</span> <span class="hljs-params">(<span class="hljs-number">9</span>)</span></span>;<font></font>
ApplicationContainer serverApps = echoServer.Install (csmaNodes.Get (nCsma));<font></font>
serverApps.Start (Seconds (<span class="hljs-number">1.0</span>));<font></font>
serverApps.Stop (Seconds (<span class="hljs-number">10.0</span>));</code></pre><br>
<p>   -     STA ,      CSMA .      .</p><br>
<pre><code class="cpp hljs"><span class="hljs-function">UdpEchoClientHelper <span class="hljs-title">echoClient</span> <span class="hljs-params">(csmaInterfaces.GetAddress (nCsma), <span class="hljs-number">9</span>)</span></span>;<font></font>
echoClient.SetAttribute (<span class="hljs-string">"MaxPackets"</span>, UintegerValue (<span class="hljs-number">1</span>));<font></font>
echoClient.SetAttribute (<span class="hljs-string">"Interval"</span>, TimeValue (Seconds (<span class="hljs-number">1.0</span>)));<font></font>
echoClient.SetAttribute (<span class="hljs-string">"PacketSize"</span>, UintegerValue (<span class="hljs-number">1024</span>));<font></font>
ApplicationContainer clientApps =<font></font>
echoClient.Install (wifiStaNodes.Get (nWifi - <span class="hljs-number">1</span>));<font></font>
clientApps.Start (Seconds (<span class="hljs-number">2.0</span>));<font></font>
clientApps.Stop (Seconds (<span class="hljs-number">10.0</span>));</code></pre><br>
<p>     ,      ,        second.cc.</p><br>
<pre><code class="cpp hljs">Ipv4GlobalRoutingHelper::PopulateRoutingTables ();</code></pre><br>
<p>    ,        « ».  ,         ( beacon ).     ,     ,        .      ,           .      ,         .</p><br>
<pre><code class="cpp hljs">Simulator::Stop (Seconds (<span class="hljs-number">10.0</span>));</code></pre><br>
<p>  ,      :</p><br>
<pre><code class="cpp hljs">pointToPoint.EnablePcapAll (<span class="hljs-string">"third"</span>);<font></font>
phy.EnablePcap (<span class="hljs-string">"third"</span>, apDevices.Get (<span class="hljs-number">0</span>));<font></font>
csma.EnablePcap (<span class="hljs-string">"third"</span>, csmaDevices.Get (<span class="hljs-number">0</span>), <span class="hljs-literal">true</span>);</code></pre><br>
<p>      pcap    ,    ,    ()  Wi-Fi   CSMA .           .<br>
,      ,      .</p><br>
<pre><code class="cpp hljs">Simulator::Run ();<font></font>
Simulator::Destroy ();<font></font>
<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}</code></pre><br>
<p>        <em>third.cc</em>        <em>Waf</em>,       second.cc.        ,  ,</p><br>
<pre><code class="plaintext hljs">$ cp examples/tutorial/third.cc scratch/mythird.cc<font></font>
$ ./waf<font></font>
$ ./waf --run scratch/mythird</code></pre><br>
<p> ,    UDP -  ,     <em>second.cc</em>,    .</p><br>
<pre><code class="plaintext hljs">Waf: Entering directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
Waf: Leaving directory `/home/craigdo/repos/ns-3-allinone/ns-3-dev/build'<font></font>
'build' finished successfully (0.407s)<font></font>
At time 2s client sent 1024 bytes to 10.1.2.4 port 9<font></font>
At time 2.01796s server received 1024 bytes from 10.1.3.3 port 49153<font></font>
At time 2.01796s server sent 1024 bytes to 10.1.3.3 port 49153<font></font>
At time 2.03364s client received 1024 bytes from 10.1.2.4 port 9</code></pre><br>
<p>,    «<code>sent 1024 bytes to 10.1.2.4</code>» —  UDP -,   .         (10.1.3.0).   «<code>received 1024 bytes from 10.1.3.3</code>»  UDP -,    -.   «<code>received 1024 bytes from 10.1.2.4</code>»  -, ,        .        ,       ,    0     1:</p><br>
<pre><code class="plaintext hljs">third-0-0.pcap third-0-1.pcap third-1-0.pcap third-1-1.pcap</code></pre><br>
<p> «third-0-0.pcap»   «-»    —     («backborn»).  «<em>third-1-0.pcap</em>»   -    —     .  «<em>Third-0-1.pcap</em>» —    (  )   Wi-Fi   «<em>third-1-1.pcap</em>»    CSMA .     ,  ?<br>
 -    Wi-Fi,   .      ( ),      .</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r third-0-1.pcap</code></pre><br>
<p>   wifi- ,      :</p><br>
<pre><code class="plaintext hljs">reading from file third-0-1.pcap, link-type IEEE802_11 (802.11)<font></font>
0.000025 Beacon (ns-3-ssid) [6.0* 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit] IBSS<font></font>
0.000308 Assoc Request (ns-3-ssid) [6.0 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit]<font></font>
0.000324 Acknowledgment RA:00:00:00:00:00:08<font></font>
0.000402 Assoc Response AID(0) :: Successful<font></font>
0.000546 Acknowledgment RA:00:00:00:00:00:0a<font></font>
0.000721 Assoc Request (ns-3-ssid) [6.0 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit]<font></font>
0.000737 Acknowledgment RA:00:00:00:00:00:07<font></font>
0.000824 Assoc Response AID(0) :: Successful<font></font>
0.000968 Acknowledgment RA:00:00:00:00:00:0a<font></font>
0.001134 Assoc Request (ns-3-ssid) [6.0 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit]<font></font>
0.001150 Acknowledgment RA:00:00:00:00:00:09<font></font>
0.001273 Assoc Response AID(0) :: Successful<font></font>
0.001417 Acknowledgment RA:00:00:00:00:00:0a<font></font>
0.102400 Beacon (ns-3-ssid) [6.0* 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit] IBSS<font></font>
0.204800 Beacon (ns-3-ssid) [6.0* 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit] IBSS<font></font>
0.307200 Beacon (ns-3-ssid) [6.0* 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit] IBSS</code></pre><br>
<p> ,     802.11,    .    ,     ,   IP- -  .         .     pcap     «-»,</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r third-0-0.pcap</code></pre><br>
<p> ,      :</p><br>
<pre><code class="plaintext hljs">reading from file third-0-0.pcap, link-type PPP (PPP)<font></font>
2.008151 IP 10.1.3.3.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.026758 IP 10.1.2.4.9 &gt; 10.1.3.3.49153: UDP, length 1024</code></pre><br>
<p> -,    ( Wi-Fi  CSMA)     «-».     pcap     «-»,</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r third-1-0.pcap</code></pre><br>
<p> ,     :</p><br>
<pre><code class="plaintext hljs">reading from file third-1-0.pcap, link-type PPP (PPP)<font></font>
2.011837 IP 10.1.3.3.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.023072 IP 10.1.2.4.9 &gt; 10.1.3.3.49153: UDP, length 1024</code></pre><br>
<p>  -,    ( Wi-Fi  CSMA)     -    ,    .<br>
-   CSMA ,      :</p><br>
<pre><code class="plaintext hljs">$ tcpdump -nn -tt -r third-1-1.pcap</code></pre><br>
<p>    :</p><br>
<pre><code class="plaintext hljs">reading from file third-1-1.pcap, link-type EN10MB (Ethernet)<font></font>
2.017837 ARP, Request who-has 10.1.2.4 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50<font></font>
2.017861 ARP, Reply 10.1.2.4 is-at 00:00:00:00:00:06, length 50<font></font>
2.017861 IP 10.1.3.3.49153 &gt; 10.1.2.4.9: UDP, length 1024<font></font>
2.022966 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.4, length 50<font></font>
2.022966 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50<font></font>
2.023072 IP 10.1.2.4.9 &gt; 10.1.3.3.49153: UDP, length 1024</code></pre><br>
<p>   .   ,       <em>second.cc</em>.    .</p><br>
<p>           ,      ,  STA      .   ,       <em>MobilityModel</em>.         7,      ,     .</p><br>
<p>    5,   ns‑3       ,       .             .         ,      .    ,   .       <em>scratch/mythird.cc</em> (..   <br>
NS_LOG_COMPONENT_DEFINE),   :</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span>
<span class="hljs-title">CourseChange</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-built_in">string</span> context, Ptr&lt;<span class="hljs-keyword">const</span> MobilityModel&gt; model)</span>
</span>{<font></font>
Vector position = model-&gt;GetPosition ();<font></font>
NS_LOG_UNCOND (context &lt;&lt;<font></font>
<span class="hljs-string">" x = "</span> &lt;&lt; position.x &lt;&lt; <span class="hljs-string">", y = "</span> &lt;&lt; position.y);<font></font>
}</code></pre><br>
<p>            x  y  .     ,      ,     -   .       <em>Config::Connect</em>.         <em>Simulator::Run</em>.</p><br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">ostringstream</span> oss;<font></font>
oss &lt;&lt;<font></font>
<span class="hljs-string">"/NodeList/"</span> &lt;&lt; wifiStaNodes.Get (nWifi - <span class="hljs-number">1</span>)-&gt;GetId () &lt;&lt;
<span class="hljs-string">"/$ns3::MobilityModel/CourseChange"</span>;<font></font>
Config::Connect (oss.str (), MakeCallback (&amp;CourseChange));</code></pre><br>
<p>   ,      ,     . -,      GetId,   ,    .    CSMA      ,              ,<br>
<code>/NodeList/7/$ns3::MobilityModel/CourseChange</code>.</p><br>
<p>     ,    ,           <em>NodeList</em>.   ,      <em>ns3::MobilityModel</em>.      ,  MobilityModel    .    ,      «CourseChange»  .</p><br>
<p>        7    ,  <em>Config::Connect</em>     .     ,             ,       .</p><br>
<p>    ,    ,     .</p><br>
<pre><code class="cpp hljs"><span class="hljs-string">'build'</span> <span class="hljs-function">finished <span class="hljs-title">successfully</span> <span class="hljs-params">(<span class="hljs-number">5.989</span>s)</span>
/NodeList/7/$ns3::MobilityModel/CourseChange x </span>= <span class="hljs-number">10</span>, y = <span class="hljs-number">0</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">10.3841</span>, y = <span class="hljs-number">0.923277</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">10.2049</span>, y = <span class="hljs-number">1.90708</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">10.8136</span>, y = <span class="hljs-number">1.11368</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">10.8452</span>, y = <span class="hljs-number">2.11318</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">10.9797</span>, y = <span class="hljs-number">3.10409</span>
At time <span class="hljs-number">2</span>s client sent <span class="hljs-number">1024</span> bytes to <span class="hljs-number">10.1</span><span class="hljs-number">.2</span><span class="hljs-number">.4</span> port <span class="hljs-number">9</span>
At time <span class="hljs-number">2.01796</span>s server received <span class="hljs-number">1024</span> bytes from <span class="hljs-number">10.1</span><span class="hljs-number">.3</span><span class="hljs-number">.3</span> port <span class="hljs-number">49153</span>
At time <span class="hljs-number">2.01796</span>s server sent <span class="hljs-number">1024</span> bytes to <span class="hljs-number">10.1</span><span class="hljs-number">.3</span><span class="hljs-number">.3</span> port <span class="hljs-number">49153</span>
At time <span class="hljs-number">2.03364</span>s client received <span class="hljs-number">1024</span> bytes from <span class="hljs-number">10.1</span><span class="hljs-number">.2</span><span class="hljs-number">.4</span> port <span class="hljs-number">9</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">11.3273</span>, y = <span class="hljs-number">4.04175</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">12.013</span>, y = <span class="hljs-number">4.76955</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">12.4317</span>, y = <span class="hljs-number">5.67771</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">11.4607</span>, y = <span class="hljs-number">5.91681</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">12.0155</span>, y = <span class="hljs-number">6.74878</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">13.0076</span>, y = <span class="hljs-number">6.62336</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">12.6285</span>, y = <span class="hljs-number">5.698</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">13.32</span>, y = <span class="hljs-number">4.97559</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">13.1134</span>, y = <span class="hljs-number">3.99715</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">13.8359</span>, y = <span class="hljs-number">4.68851</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">13.5953</span>, y = <span class="hljs-number">3.71789</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">12.7595</span>, y = <span class="hljs-number">4.26688</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">11.7629</span>, y = <span class="hljs-number">4.34913</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">11.2292</span>, y = <span class="hljs-number">5.19485</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">10.2344</span>, y = <span class="hljs-number">5.09394</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">9.3601</span>, y = <span class="hljs-number">4.60846</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">8.40025</span>, y = <span class="hljs-number">4.32795</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">9.14292</span>, y = <span class="hljs-number">4.99761</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">9.08299</span>, y = <span class="hljs-number">5.99581</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">8.26068</span>, y = <span class="hljs-number">5.42677</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">8.35917</span>, y = <span class="hljs-number">6.42191</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">7.66805</span>, y = <span class="hljs-number">7.14466</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">6.71414</span>, y = <span class="hljs-number">6.84456</span>
/NodeList/<span class="hljs-number">7</span>/$ns3::MobilityModel/CourseChange x = <span class="hljs-number">6.42489</span>, y = <span class="hljs-number">7.80181</span></code></pre><br>
<h4 id="64-ocheredi-v-ns-3">6.4   ns-3</h4><br>
<p>    ns‑3      ,     ,    ,         .<br>
, ns‑3      IP      .     ns‑3,  ,     ,    .     —  ,   ns‑3  «  »;     (RFC7567)    -   (QoS)        .        <em>NetDevice</em>.   (, LTE, Wi-Fi)     .     ,    , ( ,  ,   ,   ).  ,     . ,      . Wi-Fi  Linux     (<em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">https://lwn.net/Articles/705884/</a></em>).</p><br>
<p>       ,  <em>NetDevice</em>    ,    ,          <em>NetDevice</em>.        ,   .   ,  ,       ,   <em>NetDevices</em>,       Queue (   <em>Queue</em>):</p><br>
<ul>
<li>-</li>
<li>Csma</li>
<li>Wi-Fi</li>
<li>SimpleNetDevice<br>
   ,  NetDevices,    .   ,  ns‑3           ( , )  ,     (, FIFO     (drop tail),       ).   ,        BQL (Byte Queue Limits),     Linux           ,        «».    BQL   <em>NetDevices</em>,    .          ,     ns‑3   ,  :<br>
<blockquote>.   . . «            ».     , 80 ( C): 1–18,  2018 . DOI: 10.1016 / j.simpat.2017.09.008<br>
<br>
P. Imputato and S. Avallone. An analysis of the impact of network device buffers on packet schedulers through experiments and simulations. Simulation Modelling Practice and Theory, 80(Supplement C):1–18, January 2018. DOI: 10.1016/j.simpat.2017.09.008<br>
</blockquote></li>
</ul><br>
<h4 id="641-modeli-ocheredey-dostupnye-v-ns-3">6.4.1     ns-3</h4><br>
<p>     :</p><br>
<ul>
<li>PFifoFastQueueDisc:     — 1000 .</li>
<li>FifoQueueDisc:     — 1000 .</li>
<li>RedQueueDisc:     — 25 .</li>
<li>CoDelQueueDisc:      1500 .</li>
<li>FqCoDelQueueDisc:     — 10024 .</li>
<li>PieQueueDisc:      25 .</li>
<li>MqQueueDisc:        .</li>
<li>TbfQueueDisc:     — 1000 .<br>
   IPv4  IPv6-,   NetDevice,        ,   ,  NetDevice   <em>pfifo_fast</em>.</li>
</ul><br>
<p>       :</p><br>
<ul>
<li><em>PointToPointNetDevice</em>.    ( )     DropTail  .  (100 ).</li>
<li><em>CsmaNetDevice</em>.    ( )     DropTail    (100 ).</li>
<li><em>WiFiNetDevice</em>:    —   DropTail     (100 )  non-QoS     DropTail     (100 )   QoS.</li>
<li><em>SimpleNetDevice</em>:    —   DropTail c    (100 ).</li>
<li><em>LTENetDevice</em>:     RLC  ( RLC UM     10 * 1024 , RLC AM    ).</li>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UanNetDevice</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : secara default di tingkat MAC memiliki antrian 10 paket.</font></font></li>
</ul><br>
<h4 id="642-izmenenie-nastroek-po-umolchaniyu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.4.2 Mengubah pengaturan default</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis antrian yang digunakan oleh NetDevice biasanya dapat diubah menggunakan asisten perangkat:</font></font><br>
<pre><code class="cpp hljs">NodeContainer nodes;<font></font>
nodes.Create (<span class="hljs-number">2</span>);<font></font>
PointToPointHelper p2p;<font></font>
p2p.SetQueue (<span class="hljs-string">"ns3::DropTailQueue"</span>, <span class="hljs-string">"MaxSize"</span>, StringValue (<span class="hljs-string">"50p"</span>));<font></font>
NetDeviceContainer devices = p2p.Install (nodes);</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis disiplin antrian yang diinstal di NetDevice dapat diubah menggunakan asisten kontrol lalu lintas:</font></font><br>
<pre><code class="cpp hljs">InternetStackHelper <span class="hljs-built_in">stack</span>;
<span class="hljs-built_in">stack</span>.Install (nodes);<font></font>
TrafficControlHelper tch;<font></font>
tch.SetRootQueueDisc (<span class="hljs-string">"ns3::CoDelQueueDisc"</span>, <span class="hljs-string">"MaxSize"</span>, StringValue (<span class="hljs-string">"1000p"</span>));<font></font>
tch.Install (devices);</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika BQL didukung oleh perangkat, maka itu dapat diaktifkan melalui asisten kontrol lalu lintas:</font></font><br>
<pre><code class="cpp hljs">InternetStackHelper <span class="hljs-built_in">stack</span>;
<span class="hljs-built_in">stack</span>.Install (nodes);<font></font>
TrafficControlHelper tch;<font></font>
tch.SetRootQueueDisc (<span class="hljs-string">"ns3::CoDelQueueDisc"</span>, <span class="hljs-string">"MaxSize"</span>, StringValue (<span class="hljs-string">"1000p"</span>));<font></font>
tch.SetQueueLimits (<span class="hljs-string">"ns3::DynamicQueueLimits"</span>, <span class="hljs-string">"HoldTime"</span>, StringValue (<span class="hljs-string">"4ms"</span>));<font></font>
tch.Install (devices);</code></pre></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500154/index.html">Pembelajaran Mesin Rahasia. Perpustakaan PySyft</a></li>
<li><a href="../id500158/index.html">Interaksi SwiftUI dengan Redux</a></li>
<li><a href="../id500160/index.html">Elemen visual</a></li>
<li><a href="../id500162/index.html">Tutorial pemrosesan data olahraga python yang bagus</a></li>
<li><a href="../id500164/index.html">Tutor: biaya profesi</a></li>
<li><a href="../id500178/index.html">Terjemahan buku Andrew Un, Passion for Machine Learning, Bab 38 dan 39</a></li>
<li><a href="../id500184/index.html">David O'Brien (Xirus): Metrik! Metrik! Metrik! Bagian 2</a></li>
<li><a href="../id500186/index.html">HackTheBox. Panduan OpenAdmin. RCE di OpenNetAdmin dan GTFOBins di nano</a></li>
<li><a href="../id500188/index.html">Buat Pengalaman VR Audiovisual Menggunakan A-Frame dan Tone.js</a></li>
<li><a href="../id500190/index.html">HTML untuk Pemula: Pertanyaan dan Jawaban</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>