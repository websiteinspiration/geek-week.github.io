<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌞 👩 🔷 Erstellen Sie eine Aufgabe für einen Remote-Befehl auf Laravel 👩🏽‍🎨 🚣🏼 👨‍👨‍👧‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gruß, Chabrowsk. Der folgende Artikel wurde von einem unserer regelmäßigen Leser geschrieben und behauptet definitiv nicht, Hardcore-Material zu sein,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Erstellen Sie eine Aufgabe für einen Remote-Befehl auf Laravel</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/497506/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gruß, Chabrowsk. </font><font style="vertical-align: inherit;">Der folgende Artikel wurde von einem unserer regelmäßigen Leser geschrieben und behauptet definitiv nicht, Hardcore-Material zu sein, kann aber durchaus als Tutorial für Anfänger dienen. </font><font style="vertical-align: inherit;">Wir freuen uns auf Ihre Meinung zu dem Artikel in den Kommentaren und laden Sie für weitere Hardcore-Kenntnisse zu unserem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Framework Laravel-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kurs ein </font><font style="vertical-align: inherit;">.</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/0k/zr/tc/0kzrtcgvl777bqznfbpicgqsepc.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Hallo alle zusammen! </font><font style="vertical-align: inherit;">Heute, in einer so „abgelegenen“ Zeit für alle, möchte ich die Erstellung einer einfachen Aufgabe erkennen, in der Sie Ihre eigenen Aufgaben erstellen können. </font><font style="vertical-align: inherit;">Es klingt wie das, was in der offiziellen Laravel-Dokumentation geschrieben steht und wie es ist - ich verwende ihre Aufgaben als Basis, transformiere sie ein wenig, und der Großteil meiner Geschichte wird sich damit befassen, wie man eine Administratorrolle erstellt und </font></font><strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen weiteren lächerlichen Klon erstellt Trello scheint sehr inkonsistent zu sein</font></font></strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <a name="habracut"></a><br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Erstellen Sie das Fundament </font></font></h3><br>
 <img src="https://habrastorage.org/webt/hg/vy/ak/hgvyakmhibjsmwd1zethg1wbgmm.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie gesagt, wir werden den nächsten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leitfaden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> als Grundlage nehmen </font><font style="vertical-align: inherit;">. Es ist sehr einfach und konzentriert sich mehr auf die Arbeit mit Migrationen und Routing als auf die Programmierung von Controllern und Modellen. Leider wurde es nicht von Version 5.1 aktualisiert, und wenn Sie gerade mit dem Programmieren in Laravel auf der letzten 7-Version beginnen (es war erst am 3. März frisch), müssen Sie das Routing nicht auf schreiben </font></font><code>app/Http/routes.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sondern auf </font></font><code>routes/web.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(dies hat sich bereits seit Version 6 geändert ), und im Allgemeinen endet der ganze Unterschied hier. Am Ende sollten Sie so etwas bekommen:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vt/kw/at/vtkwatppc_py1c7l9jutt16qouq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe auch das Layout-Framework von Bootstrap auf Bulma geändert. </font><font style="vertical-align: inherit;">Erstens gefällt es mir besser, aber zweitens hatte ich bereits die Codebasis der Blade-Registrierungsvorlagen (obwohl das Erstellen der Registrierungs- und Autorisierungsseiten sehr einfach ist, werde ich zeigen, wie). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Version des Projekts kann </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im Hauptzweig </font><font style="vertical-align: inherit;">heruntergeladen </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">werden</font></a><font style="vertical-align: inherit;"> (und im neuen Zweig können Sie die fertige Anwendung herunterladen). </font><font style="vertical-align: inherit;">Sie können es mit den folgenden Befehlen aktivieren, sofern Sie bereits Composer und Laravel installiert haben:</font></font><br>
<br>
<pre><code class="plaintext hljs">composer install<font></font>
//   .env,    .env example,     <font></font>
php artisan key:generate //  <font></font>
php artisan serve // <font></font>
</code></pre><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wir erstellen Autorisierung und Registrierung</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Standardberechtigungen wurden von Version 6 geändert. </font><font style="vertical-align: inherit;">Für eine schnelle Erstellung müssen Sie jetzt ein Paket installieren, mit dem Controller und Blade-Vorlagen schnell generiert werden können:</font></font><br>
<br>
<pre><code class="plaintext hljs">composer install laravel/ui<font></font>
php artisan ui vue --auth<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Ihrem Projekt sollten mehrere neue Dateien </font><i><font style="vertical-align: inherit;">angezeigt werden: Im</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ordner " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resourses</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">wird </font><font style="vertical-align: inherit;">ein </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auth-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unterordner </font><i><font style="vertical-align: inherit;">angezeigt</font></i><font style="vertical-align: inherit;"> , in dem sich Blade-Vorlagendateien für Autorisierung und Kennwörter befinden. Ursprünglich wurden die Blade-Vorlagen in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bootstrap erstellt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber ich habe sie ein wenig in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bulma umgewandelt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um das im Projekt übliche </font><i><font style="vertical-align: inherit;">CSS-</font></i><font style="vertical-align: inherit;"> Framework </font><i><font style="vertical-align: inherit;">beizubehalten</font></i><font style="vertical-align: inherit;"> . Um die Website bequem nutzen zu können, benötigen wir jedoch eine Navigationsleiste. In den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressourcen habe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Includes-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ordner erstellt </font><font style="vertical-align: inherit;">, in dem ich die Zusatzdateien - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Header</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - abgelegt habe </font><font style="vertical-align: inherit;">. Um nicht viel Platz in Anspruch zu nehmen, werde ich sagen, dass ich in der Kopfzeile nur einen Kopf mit einer Bulma-Verbindung hatte und darin </font></font><code>nav.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Folgendes war:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar has-background-black-ter"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"navigation"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"main navigation"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-brand"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-white is-size-4"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>&gt;</span><font></font>
      TODO<font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-burger"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"menu"</span> <span class="hljs-attr">aria-expanded</span>=<span class="hljs-string">"false"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-menu"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-start"</span>&gt;</span><font></font>
      @if (Auth::check())<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button is-primary"</span>&gt;</span>
        <span class="hljs-comment">&lt;!--   ,  -&gt;   --&gt;</span><font></font>
        {{{ Auth::user()-&gt;name}}}<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><font></font>
      @else<font></font>
      <span class="hljs-comment">&lt;!--    --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{route('register')}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{route('login')}}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><font></font>
      @endif<font></font>
      @if (Auth::check())<font></font>
      <span class="hljs-comment">&lt;!--  ,       --&gt;</span>
      <span class="hljs-comment">&lt;!--      --&gt;</span><font></font>
<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-item has-text-danger"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{url('/logout') }}"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"event.preventDefault();
                  document.getElementById('logout-form').submit();"</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logout-form"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"{{ url('/logout') }}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display: none;"</span>&gt;</span><font></font>
        {{ csrf_field() }}<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><font></font>
<font></font>
      @endif<font></font>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"navbar-end"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- navbar items --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
 </code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir beginnen unsere Architektur zu schaffen </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist Zeit, die Struktur unseres Projekts bereits zu diskutieren. </font><font style="vertical-align: inherit;">Dann kann der Leser die Anwendung an seine Bedürfnisse anpassen, aber jetzt möchte ich, dass die Anwendung einen Administrator (z. B. einen Projektmanager) hat, der Aufgaben festlegen und löschen kann, und eine Art Team, das diese Befehle sehen kann. </font><font style="vertical-align: inherit;">Natürlich wäre es sehr schön, wenn jemand Aufgaben übernehmen und darauf hinweisen könnte, dass er sie ausgeführt hat, aber dazu später mehr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, wir werden also zwei Benutzergruppen haben und uns einig sein, dass nur autorisierte Benutzer, denen Zugriff gewährt wurde, unser Task Board sehen können und einige Superadministratoren Aufgaben hinzufügen können. </font><font style="vertical-align: inherit;">Lass uns anfangen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Vereinfachung habe ich beschlossen, die Anwendung in zwei Seiten aufzuteilen: eine, auf der wir nur Aufgaben haben, die nicht bearbeitet werden können, und die zweite, die nur dem Superadministrator zur Verfügung steht. </font><font style="vertical-align: inherit;">Ich habe beschlossen, die dem Team zur Verfügung stehende Seite zu benennen </font></font><code>welcome.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="php hljs">@<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.header'</span>)<font></font>
<font></font>
&lt;body&gt;<font></font>
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.nav'</span>)<font></font>
    &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">columns</span> <span class="hljs-title">is</span>-<span class="hljs-title">centered</span>"&gt;
        &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">column</span> <span class="hljs-title">is</span>-<span class="hljs-title">half</span>"&gt;
            &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>"&gt;
                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">heading</span>"&gt;
                     
                &lt;/<span class="hljs-title">div</span>&gt;

                &lt;<span class="hljs-title">div</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">body</span>"&gt;
                    @<span class="hljs-title">foreach</span> ($<span class="hljs-title">tasks</span> <span class="hljs-title">as</span> $<span class="hljs-title">task</span>)
                    &lt;<span class="hljs-title">a</span> <span class="hljs-title">class</span>="<span class="hljs-title">panel</span>-<span class="hljs-title">block</span>"&gt;
                        &lt;<span class="hljs-title">button</span> <span class="hljs-title">class</span>="<span class="hljs-title">button</span> <span class="hljs-title">is</span>-<span class="hljs-title">rounded</span>"&gt;
                            &lt;<span class="hljs-title">span</span>&gt;</span>{{ $task-&gt;name }}&lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                        @<span class="hljs-keyword">endforeach</span><font></font>
                &lt;/div&gt;<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
    &lt;/div&gt;<font></font>
&lt;body&gt;<font></font>
&lt;/html&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Seite listet nur die Aufgaben auf. </font><font style="vertical-align: inherit;">Um es anzuzeigen, füge ich einen neuen Pfad in web.php hinzu:</font></font><br>
<br>
<pre><code class="php hljs">Route::get(<span class="hljs-string">'/'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'welcome'</span>, [
        <span class="hljs-string">'tasks'</span> =&gt; Task::orderBy(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'asc'</span>)-&gt;get(),<font></font>
    ]);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Vorlage, in der wir dieselbe Liste haben, die jedoch bearbeitet und hinzugefügt werden kann, wird aufgerufen </font></font><code>task.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es ist zu groß, also werde ich es unter den Spoiler legen:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">task.blade.php</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">@extends('layouts.app')<font></font>
<font></font>
@section('content')<font></font>
&lt;div class="columns is-centered"&gt;<font></font>
    &lt;div class="column is-half"&gt;<font></font>
        &lt;div class="panel"&gt;<font></font>
            &lt;div class="panel-heading"&gt;<font></font>
                 <font></font>
            &lt;/div&gt;<font></font>
            &lt;div class="panel-block"&gt;<font></font>
                @include('common.errors')<font></font>
                &lt;!--     --&gt;<font></font>
                &lt;form action="{{ url('task')}}" method="POST"&gt;<font></font>
                    {{ csrf_field() }}<font></font>
<font></font>
                    &lt;div class="field"&gt;<font></font>
                        &lt;label for="task-name" class="label is-medium"&gt;&lt;/label&gt;<font></font>
                        &lt;input type=" text" name="name" id="task-name" class="input is-medium"<font></font>
                            value="{{ old('task') }}"&gt;<font></font>
                    &lt;/div&gt;<font></font>
<font></font>
                    &lt;div class="field"&gt;<font></font>
                        &lt;button type="submit" class="button is-success"&gt;<font></font>
                            &lt;span class="icon"&gt;<font></font>
                                &lt;i class="fa fa-btn fa-plus"&gt;<font></font>
                            &lt;/span&gt;&lt;/i&gt;<font></font>
                            &lt;span&gt; &lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                    &lt;/div&gt;<font></font>
                &lt;/form&gt;<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
<font></font>
        &lt;!-- Current Tasks --&gt;<font></font>
        @if (count($tasks) &gt; 0)<font></font>
        &lt;div class="panel"&gt;<font></font>
            &lt;div class="panel-heading"&gt;<font></font>
                 <font></font>
            &lt;/div&gt;<font></font>
<font></font>
            &lt;div class="panel-body"&gt;<font></font>
                {{-- &lt;table class="table table-striped task-table"&gt;<font></font>
                    &lt;thead&gt;<font></font>
                        &lt;th&gt;&lt;/th&gt;<font></font>
                        &lt;th&gt;&nbsp;&lt;/th&gt;<font></font>
                    &lt;/thead&gt;<font></font>
                    &lt;tbody&gt; --}}<font></font>
                @foreach ($tasks as $task)<font></font>
                &lt;a class="panel-block"&gt;<font></font>
                    &lt;button class="button is-rounded"&gt;<font></font>
                    &lt;span&gt;{{ $task-&gt;name }}&lt;/span&gt;<font></font>
                &lt;/button&gt;<font></font>
                    &lt;form action="{{ url('task/'.$task-&gt;id) }}" method="POST"&gt;<font></font>
                        {{ csrf_field() }}<font></font>
                        {{ method_field('DELETE') }}<font></font>
                        &lt;button type="submit" class="button is-danger"&gt;<font></font>
                            &lt;span class="icon is-small"&gt; &lt;i class="fa fa-btn fa-trash"&gt;&lt;/i&gt;&lt;/span&gt;<font></font>
                            &lt;span&gt;  &lt;/span&gt;<font></font>
                        &lt;/button&gt;<font></font>
                    &lt;/form&gt;<font></font>
                &lt;/a&gt;<font></font>
                @endforeach<font></font>
            &lt;/div&gt;<font></font>
        &lt;/div&gt;<font></font>
        @endif<font></font>
    &lt;/div&gt;<font></font>
&lt;/div&gt;<font></font>
@endsection<font></font>
<font></font>
</code></pre><br>
 </div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und diese Vorlage erweitert sich wie das ursprüngliche Tutorial auf </font></font><code>app/layouts.blade.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="php hljs">@<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.header'</span>)<font></font>
<font></font>
&lt;body&gt;<font></font>
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">'includes.nav'</span>)<font></font>
<font></font>
    @<span class="hljs-keyword">yield</span>(<span class="hljs-string">'content'</span>)<font></font>
<font></font>
&lt;/body&gt;<font></font>
<font></font>
&lt;/html&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fein! </font><font style="vertical-align: inherit;">Wir haben uns für das Erscheinungsbild entschieden, jetzt können wir mit dem Routing und Erstellen unseres fortfahren </font></font><code>middlewares</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns zunächst in das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzermodell</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gehen </font><font style="vertical-align: inherit;">und neue </font><i><font style="vertical-align: inherit;">Benutzertypen</font></i><font style="vertical-align: inherit;"> hinzufügen:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">const</span> ADMIN_TYPE = <span class="hljs-string">'admin'</span>;
<span class="hljs-keyword">const</span> TEAM_TYPE = <span class="hljs-string">'team'</span>;
<span class="hljs-comment">#       :</span><font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAdmin</span>(<span class="hljs-params"></span>)</span>{        
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;type === <span class="hljs-built_in">self</span>::ADMIN_TYPE;
    <span class="hljs-comment">//        </span><font></font>
}<font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wechseln Sie als Nächstes zur letzten Migration der Benutzertabelle (Datenbank- / Migrationsordner) und fügen Sie eine Spalte mit unserem neuen Datentyp hinzu:</font></font><br>
<br>
<pre><code class="plaintext hljs">$table-&gt;string('type')-&gt;default('team');<font></font>
//  ,         <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes gehen Sie durch </font></font><code>app/Http/Controllers/Auth/RegisterController.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und bearbeiten die Erstellungsfunktion ein wenig (sie sah auch in Version 5 etwas anders aus):</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $data</span>)
    </span>{
        <span class="hljs-keyword">return</span> User::create([
            <span class="hljs-string">'name'</span> =&gt; $data[<span class="hljs-string">'name'</span>],
            <span class="hljs-string">'email'</span> =&gt; $data[<span class="hljs-string">'email'</span>],
            <span class="hljs-string">'password'</span> =&gt; Hash::make($data[<span class="hljs-string">'password'</span>]),
            <span class="hljs-string">'type'</span> =&gt; User::TEAM_TYPE,  <font></font>
        ]);<font></font>
    }<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, dann müssen wir unsere Middleware für den Administrator erstellen. </font><font style="vertical-align: inherit;">Der einfachste Weg, dies zu tun, ist mit dem folgenden Befehl:</font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan make:middleware IsAdmin
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe es ist dir gelungen. </font><font style="vertical-align: inherit;">In dem Ordner </font></font><code>HTTP/middleware</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sollten Sie erschienen sein </font></font><code>isAdmin.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in dem die Handle-Funktion wie folgt bearbeitet werden muss:</font></font><br>
<br>
<pre><code class="plaintext hljs">public function handle($request, Closure $next)<font></font>
    {<font></font>
        if(auth()-&gt;user()-&gt;isAdmin()) {<font></font>
            return $next($request);<font></font>
        //   , .   -   <font></font>
    }<font></font>
        return redirect('/');<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes müssen wir unsere registrieren </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Middleware</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font></font><code>app/HTTP/Kernel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ordnung , </font><font style="vertical-align: inherit;">es zu benutzen:</font></font><br>
<br>
<pre><code class="plaintext hljs">protected $routeMiddleware = [<font></font>
    #  ,      <font></font>
        is_admin' =&gt; \App\Http\Middleware\IsAdmin::class,<font></font>
];<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir transformieren den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strichpfad</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font></font><code>web.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, der nur den Superadministrator sehen sollte:</font></font><br>
<br>
<pre><code class="php hljs">Route::get(<span class="hljs-string">'/dash'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'tasks'</span>, [
        <span class="hljs-string">'tasks'</span> =&gt; Task::orderBy(<span class="hljs-string">'created_at'</span>, <span class="hljs-string">'asc'</span>)-&gt;get(),<font></font>
    ]); <font></font>
})<font></font>
-&gt;middleware(<span class="hljs-string">'is_admin'</span>)    <font></font>
-&gt;name(<span class="hljs-string">'admin'</span>);<font></font>
<font></font>
<span class="hljs-comment">#       </span><font></font>
<font></font>
Auth::routes();<font></font>
Route::post(<span class="hljs-string">'/logout'</span>, <span class="hljs-string">'Auth\LoginController@logout'</span>)-&gt;name(<span class="hljs-string">'logout'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt noch ein benutzerdefinierter Controller für unseren Administrator zu erstellen:</font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan make:controller AdminController
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bearbeitung:</font></font><br>
<br>
<pre><code class="plaintext hljs">public function __construct()<font></font>
    {<font></font>
        $this-&gt;middleware('auth');<font></font>
    }<font></font>
    public function admin()<font></font>
    {<font></font>
        return view('admin');<font></font>
    }<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht, die Weiterleitung </font></font><code>RouteServiceProvider.php</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu </font><font style="vertical-align: inherit;">korrigieren, um die Registrierung aller verdienten genau zu korrigieren </font><font style="vertical-align: inherit;">, </font></font><code>app/HTTP/Providers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">da sie ursprünglich für das Home-Muster entwickelt wurde:</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">const</span> HOME = <span class="hljs-string">'/'</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt kann der Administrator nur noch mit Hilfe unseres Assistenten im Bastelterminal erscheinen: </font></font><br>
<br>
<pre><code class="plaintext hljs">php artisan tinker<font></font>
use App\User;<font></font>
User::where('email', 'admin@mail.com')-&gt;update(['type' =&gt; 'admin']);<font></font>
//    <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles. Wenn Sie die fertige Anwendung ausprobieren möchten, wiederhole ich den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Natürlich kann unsere Anwendung derzeit nicht in der Produktion verwendet werden, da jeder, der sich in der Ressource registriert hat, Ihre Aufgaben sehen kann. Aber wie werden Sie den Zugang einschränken? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Möglicherweise haben Sie Firmenpost, und dann können Sie den Zugriff auf das Team mithilfe von Stammkunden bei der E-Mail-Validierung einschränken. Oder Sie können auf die gleiche Weise wie der Administrator einen Scheck für die Mitgliedschaft im Team hinzufügen, nachdem Sie ähnliche Manipulationen vorgenommen haben. Traditionell werde ich einige nützliche Links für diejenigen bereitstellen, die gerade erst anfangen, Laravel zu beherrschen: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein etwas ausführlicherer Artikel als in der Dokumentation über Migrationen nach Laravel</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→ Ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guter Artikel über Medien zu Rollen in Laravel</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
→</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">      Laravel 7</a><br>
<br>
<hr><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     « »   Forge/Envoyer.<br>
</a></b><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de497486/index.html">Datenaufteilung. Jahr 2013. Rückblick</a></li>
<li><a href="../de497488/index.html">Automatisieren Sie HR-Prozesse mit Microsoft Teams, PowerApps und Power Automate. Rücktrittsanträge von Mitarbeitern</a></li>
<li><a href="../de497490/index.html">Schwierigkeiten bei der Vaterschaft von Seepferdchen: genetische Metamorphosen des Immunsystems</a></li>
<li><a href="../de497492/index.html">Anwendung auf TSD und Kommunikation mit 1C: Enterprise 8.3 über HTTP-Service. Teil 1.1 (Detaillierte Beschreibung der API)</a></li>
<li><a href="../de497504/index.html">Wie Quarkus MicroProfile und Spring integriert</a></li>
<li><a href="../de497508/index.html">In RESTinio stoßen wir weiterhin auf mehrstöckige C ++ - Vorlagen: eine typsichere Alternative zum Express-JS-Router</a></li>
<li><a href="../de497510/index.html">Videospiel-Audiosynthese - Ausgabe 2. Beute</a></li>
<li><a href="../de497512/index.html">Werden schmelzende Gletscher in Zukunft Wasserkraft liefern?</a></li>
<li><a href="../de497516/index.html">So erstellen Sie selbst eine schalldichte, abgeschirmte Box</a></li>
<li><a href="../de497520/index.html">Leistungsvergleich von HTTP / 3 und HTTP / 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>