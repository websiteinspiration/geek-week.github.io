<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧔 🚗 🐱 Visualização de uma lista de mulheres vencedoras do Prêmio Nobel na forma de cristais em 3d usando Vue, WebGL, three.js 🏏 👦🏿 🏂🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ano 1 | inspiração
 Este mês, tentei por muito tempo decidir o conjunto de dados e a idéia de processá-lo. Embora eu tenha começado a pensar nisso em ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Visualização de uma lista de mulheres vencedoras do Prêmio Nobel na forma de cristais em 3d usando Vue, WebGL, three.js</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506574/"><img src="https://habrastorage.org/webt/qf/93/-6/qf93-6wsmayf9fht3syimnzdnp0.jpeg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ano 1 | </font><font style="vertical-align: inherit;">inspiração</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este mês, tentei por muito tempo decidir o conjunto de dados e a idéia de processá-lo. </font><font style="vertical-align: inherit;">Embora eu tenha começado a pensar nisso em maio, eu consegui terminar o fato somente após 8 meses (droga, eu sou ruim), e eu consegui descrever o projeto um mês depois (oh, eu sou maldita). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A idéia do projeto veio a mim depois de assistir o filme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Madly Rich Asians</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Eu realmente gostei da atriz </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Michelle Yeo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas a idéia só tomou forma depois que eu li mais sobre ela e descobri como ela era excelente e legal. </font><font style="vertical-align: inherit;">Isso me fez pensar em mulheres extraordinárias que eu não tenho idéia. </font><font style="vertical-align: inherit;">E agora - surgiu a ideia de alguma forma visualizá-la.</font></font><br>
<a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 semana | </font><font style="vertical-align: inherit;">dados</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após a formação do conceito, surgiu a seguinte pergunta - como coletar os dados necessários? Eu rapidamente tive a ideia de usar a Wikipedia, tentando analisar as “melhores” mulheres de lá. Eu não tinha idéia de como determinar o "melhor" (visualizações de página? Comprimento da página? Links da página?). Embora eu tenha examinado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um artigo no The Pudding</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre visualização com base nos dados da Wikipedia, ainda não tinha certeza de que queria seguir nessa direção. E eu realmente não tinha tempo livre suficiente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ocorreu-me que talvez eu devesse usar uma lista fixa de mulheres, e isso de alguma forma me levou à página das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">51 mulheres vencedoras do Prêmio Nobel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Eu não ouvi falar sobre a maioria deles e queria saber mais. Para o projeto, isso foi perfeito.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sm/bh/zh/smbhzhkygpwpy1_tajvziadlvja.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A partir desse momento, comecei a aprender métodos diferentes de usar a API da Wikipedia. Não foi fácil descobrir isso (não tinha certeza se precisava usar o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikidata</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MediaWiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - essas são as opções que surgiram ao procurar a “API da Wikipedia” no Google), mas, felizmente, o artigo Pudding já mencionado acima me ajudou a resolver esses problemas . Uma rápida olhada no repositório </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki-billboard-data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> me levou a escolher um dos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scripts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wikijs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e eu poderia usar este pacote. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo o que eu precisava fazer era copiar e colar a lista de mulheres notáveis ​​laureadas em uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">planilha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e fazer uma pequena formatação / limpeza.</font></font><br>
<br>
<blockquote>    ,       —       .        ,        .        ,         ​​   CSV —    . <br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exportei a planilha como CSV e usei o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conversor online</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para obter os </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dados no formato JSON</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, escrevi um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">script simples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usando páginas wiki para obter mais informações sobre cada mulher, incluindo o número de links para sua página ("backlinks") e o número de fontes abaixo para obter o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conjunto final de dados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apesar de a criação da ideia levar uma eternidade, a coleta de dados levou apenas algumas horas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semana 2 | </font><font style="vertical-align: inherit;">esboço</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não vou mentir, pensei nesse projeto por tanto tempo que nem me lembro de todas as idéias que tive no processo. Tudo o que me lembro é que olhei para os indicados ao prêmio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Information is Beautiful</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> quando decidi que precisava destacar de alguma forma os registros que realmente gosto em minha preservação. Isso me fez perceber que eu deveria organizar melhor meu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quadro branco no Pinterest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , como antes de despejar todas as minhas idéias e visão em um quadro. No processo de limpeza, deparei-me com esta magnífica imagem com cristais da artista </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rebecca Chaperon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que guardei para o futuro há vários anos. Quase imediatamente, percebi que queria recriá-los programaticamente. Afinal, seria bom visualizar essas mulheres extraordinárias como cristais multicoloridos brilhantes? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2t/vg/o1/2tvgo12nwbbewc3clp8xbse1vq0.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez eu tenha tido outras idéias até o momento (sim, é muito possível), mas não consigo me lembrar delas - a idéia com cristais foi perfeita.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, pensei em outros detalhes: o tamanho dos cristais deve refletir a influência da mulher - o número de links para sua página na Wikipedia. O número de faces no cristal será comparado com o número de fontes na parte inferior da página (uma vez que é “multifacetado”), e a cor será determinada pela categoria de prêmio. A única coisa que eu ainda não entendia era como organizar os cristais. Pensei por um longo tempo que só precisava colocá-los em duas dimensões x / y e fazer o leitor rolar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E então participei do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Seminário de codificação criativa de</font></a><font style="vertical-align: inherit;"> Matt DesLoriers</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onde ele ensinou canvas, three.js e WebGL. </font><font style="vertical-align: inherit;">O seminário abriu o conceito da terceira dimensão para mim e percebi imediatamente que eu usaria o ano de receber o prêmio como o eixo z. </font><font style="vertical-align: inherit;">Além disso, um amigo meu sugeriu criar threads conectando aqueles que colaboraram entre si, para que sua posição também mudasse dependendo disso (mas, no final, não tive tempo de implementar essa idéia). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo o conceito veio a mim de maneira tão rápida e natural que não fiz um único esboço no processo. </font><font style="vertical-align: inherit;">Olhei para o meu caderno, mas não havia nada.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semanas 3 e 4 | </font><font style="vertical-align: inherit;">codificação</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi um ótimo mês para a codificação. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos últimos anos, eu queria criar algo com uma personificação física e, no ano passado, finalmente decidi fazer disso meu objetivo. Mas na maior parte do ano eu não sabia o que seria. Toda vez que pensava nisso, ficava preso em projeções bidimensionais nas paredes e não sabia como usar todo o volume. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, uma vez que me dei conta (não sei qual era o motivo), não sei pensar no espaço físico tridimensional, precisamente porque trabalho constantemente em um formato digital plano. Se eu pudesse aprender a trabalhar com 3D em digital, seria capaz de pensar em volume e no mundo físico. Adicionei three.js e WebGL ao topo da minha lista para aprendizado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No final de outubro, participei do workshop de codificação criativa de Matt e aprendi o básico do three.js, uma introdução aos shaders fragmentados e de vértice. Aprendi a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regra do verruma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : use o polegar para o eixo X (aumenta para a direita), o dedo indicador para o eixo Y (aumenta para cima, o que é oposto ao SVG e à tela) e o dedo médio para o eixo Z (para aumentar a tela e aumentar o zoom). Descobri que o WebGL não funciona em pixels, mas em unidades (uma associação semelhante é em pés ou metros). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, em novembro, eu me encaixei em um concurso WebGL. Embora eu não tivesse negócios com ele antes, esperava que o prazo me desse a motivação necessária para concluir o projeto. Comecei no dia 1º de dezembro e estabeleci a meta de fazer um pouco todos os dias da semana até conseguir algo apresentável no dia 23 de dezembro (a final da competição).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, li os dois primeiros capítulos do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guia de programação</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">WebGL</font></a><font style="vertical-align: inherit;"> , que explicavam como configurar o WebGL. Depois, repeti meu conhecimento do three.js. Depois disso, lancei um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notebook</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do Observable para entender as configurações mínimas necessárias para desenhar algo em three.js (renderizador, câmera e cena e, em seguida, chamei renderer.render (cena, câmera) para exibição). Eu sempre gostei de entender o básico do código, por isso foi muito útil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após o ajuste, decidi criar uma forma de cristal. Eu usei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PolyhedronGeometry</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> porque dessa maneira eu poderia apenas definir um conjunto de vértices e depois especificar os vértices que formariam a face triangular. No primeiro dia, consegui criar apenas um triângulo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g8/pi/xh/g8pixhqjww6qdzoqviuoszjjgv0.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E no segundo dia - um cristal (que levou duas tentativas, porque a primeira vez que me ajustei com a matemática). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/xs/kp/krxskp2w_fwx12hczeumdcyxcv8.gif" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E então, no final, a forma do cristal que estava na minha cabeça. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xy/gt/j4/xygtj413utj9glteu1wonogw_qo.gif" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais tarde, percebi que havia maneiras melhores de fazer o que eu queria (e o PolyhedronGeometry é realmente uma maneira bastante tediosa de fazer isso), mas fiquei muito feliz por poder praticar as coordenadas x / y / z no WebGL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que fiquei satisfeito com as formas criadas, comecei a estudar suas cores em cores. Para fazer isso, comecei a brincar com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sombreadores de vértices e fragmentos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/sr/zr/nhsrzrd8rcl1culxbcujjxxk9a4.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A próxima tarefa foi aprender a usar um shader de fragmento para colorir o cristal. Aqui, tive que me afastar um pouco do plano, porque não conseguia entender como usar o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glslify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (um sistema modular baseado em nó para GLSL, no qual os shaders que tirei como amostra) estão escritos. Em vez disso, comecei a aprender várias ferramentas de compilação / compilação para finalmente implantar meu código na Internet. No final, decidi usar o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parcel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (em vez da </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Vue</font></a><font style="vertical-align: inherit;"> , que venho usando regularmente nos últimos seis meses), porque possui suporte interno para o Vue e o GLSL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui está um cristal com o mesmo padrão de ruído sobreposto em mim.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q7/-k/mp/q7-kmpypwk4n3bshmgvf04yf1ta.gif" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como não gostei do resultado, decidi que precisava aprender mais sobre shaders e o uso de cores em shaders. Foi nesse momento que me referi aos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livros de Shader,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Patricio González Vivo, e, em particular, ao </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capítulo “Shaping Functions”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Aprendi sobre senos, cossenos, polinômios e expoentes - funções que podem pegar um número (ou um conjunto de números) e derivar outros com base neles. Também aprendi sobre a mistura de cores e como podemos obter duas cores, e não apenas obter uma nova cor no meio entre as duas, mas também misturar cores RGB e criar cores completamente novas baseadas nelas. Se combinarmos isso com funções de formulário, podemos obter gradientes e formas:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dd/k8/ya/ddk8ya9ocb1kkioomsk5yx2bmog.jpeg" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estes foram obtidos misturando azul e amarelo, além de alterar os valores RGB em cada posição usando graus, senos, valores absolutos, etapas e suavização.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Assim que fiquei satisfeito com as cores resultantes, passei a trabalhar com dados: o número de links na parte inferior para o número de participantes, o número de backlinks por tamanho e a categoria do Prêmio Nobel por cores. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8o/si/s2/8osis2cgt0ko198ro61ooardolu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas não gostei do resultado por dois motivos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eu defini rigidamente as formas de cada figura, então só tinha três formas diferentes: um retângulo, um retângulo com um triângulo na parte superior e um retângulo com um triângulo na parte superior e inferior. </font><font style="vertical-align: inherit;">Isso significava que a maioria dos "cristais" eram simplesmente retângulos.</font></font></li>
<li>  ,          ,         .     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na mesma época, deparei-me com a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Bloom</font></a><font style="vertical-align: inherit;"> (efeito de pós-processamento para criar um brilho), e ela continha objetos redondos, semelhantes a pedras preciosas, que se pareciam bastante com os cristais que eu queria obter: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/1i/da/dm1idagcwsm9awyl_864gmjg6ks.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
observei o código-fonte e percebi que eles usaram o SphereGeometry, mas com o flatShading ativado - então, em vez de renderizar uma superfície lisa, ele mostrava cada face individual. Percebi que como posso manipular e misturar cores para obter novas cores completamente diferentes do original, para controlar os parâmetros geométricos (por exemplo, o número de faces) e obter uma nova geometria parecida, mas diferente da original .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Substituí PolyhedronGeometry por SphereGeometry, defina a altura como 4 e a largura como meus dados, estiquei a forma, defini a escala vertical duas vezes mais horizontalmente, adicionei jitter (jitter) para cada vértice e obtive formas muito mais interessantes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cn/pa/xh/cnpaxhrqm6k_pnbdo-ozqypds1q.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, quando decidi sobre os formulários, estava na hora de voltar à cor. Dessa vez, usei duas cores e as misturei com as funções do formulário: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/4e/-n/yr4e-nq7td5zopp9k-9tguraigs.png" alt="imagem"><br>
<img src="https://habrastorage.org/webt/j1/3g/el/j13gelfrk8mfjmyt5tikde0koye.png" alt="imagem"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gosto da primeira opção - parece uma batata</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o shader padrão apenas envolve a forma (pelo menos eu gosto de pensar dessa maneira), perdi bordas nítidas. Felizmente, fui ensinado a retornar formulários chamando computeFlatVertexNormals () na geometria, obtendo os normais no sombreador de vértice e passando-o para o sombreador de fragmento enquanto o adicionava à cor. Isso não apenas tornou as bordas claramente definidas, mas também deu a ilusão de luz e sombra: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rr/ky/q_/rrkyq_zorqov_uqmjkpqpwelzpu.png" alt="imagem"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">código para adicionar o normal aos lados.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Depois disso, brinquei com dois conjuntos de gradientes: um para as "humanidades" (mundo, literatura, economia) e outro para as "ciências naturais" (física, química, medicina). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/ea/c_/qoeac_yzccd70fcm8r2xlelzyje.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então ela pegou o fundo. Eu criei um "piso" usando PlaneGeometry e agitando aleatoriamente a posição y de cada vértice (inspirado neste </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo de codrops</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), bem como o "céu", criando uma enorme esfera ao redor da cena. Eu experimentei três tipos diferentes de fontes de luz: um hemisfério, difuso (para criar uma sensação de pôr-do-sol / nascer do sol para o “céu”) e direcional (para projetar sombras de cristais no “chão”). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qt/sd/zw/qtsdzwqnf4vmjjmehh_1dtkyvlm.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No final, adicionei “estrelas” que visualizam todos os homens que ganharam o prêmio pelo mesmo período de tempo, bem como anotações para cada cristal e por décadas. Foi difícil, porque com o texto que eu tinha, usar TextGeometry era praticamente inútil. A solução que encontrei após pesquisar na Internet foi renderizar o texto em uma tela HTML5, criar uma PlaneGeometry e usar essa tela como textura para preencher a PlaneGeometry. Abordagem muito interessante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu realmente gostei de encontrar um motivo real para usar a terceira dimensão - décadas de recebimento de prêmios. </font><font style="vertical-align: inherit;">Quanto mais próximos eles estiverem da linha de frente, mais fresca será a recompensa no tempo e quanto mais distantes estiverem de nós, mais velho será o prêmio. </font><font style="vertical-align: inherit;">Mas não mostro essas décadas até que o usuário "decole" para olhar os cristais de cima. </font><font style="vertical-align: inherit;">Se eles “andam” entre os cristais ao nível do solo, mostro apenas informações sobre cada mulher, porque quero que o visitante se concentre apenas nas mulheres durante a caminhada. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/oa/yu/ugoayu8bnjdyzbk12iu_z0jpfq0.png" alt="imagem"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui está um link para o resultado final no GitHub</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
E um vídeo demonstrando o resultado:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jIn5qBxovXY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se você quiser tentar outra coisa ou começar com projetos mais simples:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando o efeito de um voo rápido pelo espaço (ou queda de neve) em 10 minutos no p5.js</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como recriar o efeito padrão moiré na biblioteca p5.js. para iniciantes (guia rápido)</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobrepor uma textura 2D em um objeto 3d usando p5.js (parte 1 - criando um padrão)</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobrepondo uma textura 2D em um objeto 3D usando p5.js (parte 2 - aplicando um padrão a um cubo)</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando triângulos após 3 horas de aprendizado do p5.js</font></font></a></li>
</ul></blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt506560/index.html">O que ouvir no fim de semana: 5 edições selecionadas do podcast em russo sobre tecnologia de áudio</a></li>
<li><a href="../pt506562/index.html">Por que é melhor compilar o TS em JS antecipadamente</a></li>
<li><a href="../pt506568/index.html">Níveis e momentos de avaliação do projeto</a></li>
<li><a href="../pt506570/index.html">FizzBuzz funcional no Scala</a></li>
<li><a href="../pt506572/index.html">Criando uma loja on-line do SPA protótipo no htmlix.js</a></li>
<li><a href="../pt506578/index.html">Volume de chumbo gerenciado</a></li>
<li><a href="../pt506586/index.html">FizzBuzz lógico</a></li>
<li><a href="../zh-CN486176/index.html">企业电子邮件通讯备忘录</a></li>
<li><a href="../zh-CN486178/index.html">FOSS新闻1-2020年1月27日至2月2日免费和开源新闻的回顾</a></li>
<li><a href="../zh-CN486180/index.html">创建无服务器应用程序的提示和资源</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>