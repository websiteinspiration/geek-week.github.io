<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕🏼 🚷 ⛹🏼 Comment recréer l'effet de motif moiré dans la bibliothèque p5.js pour un débutant (guide rapide) 👊🏽 ✋🏾 👩🏾‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le motif moiré est une illusion d'optique qui se produit lorsque deux motifs de maillage périodiques sont appliqués. Les éléments répétitifs des deux ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment recréer l'effet de motif moiré dans la bibliothèque p5.js pour un débutant (guide rapide)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505190/"><img src="https://habrastorage.org/webt/r4/y5/c3/r4y5c3ll3ab62bu_giksqihzjx4.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le motif moiré est une illusion d'optique qui se produit lorsque deux motifs de maillage périodiques sont appliqués. Les éléments répétitifs des deux motifs se chevauchent ou forment des espaces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la vie ordinaire, on le rencontre souvent, par exemple, quand on regarde les rideaux de tulle. Sans surprise, le nom français Moire lui-même signifiait à l'origine un type similaire de tissu en soie. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yi/1q/9d/yi1q9drnqyien6jqpq4l-x-s5sq.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet effet peut souvent être observé dans une variété de domaines - de la photographie à la radiologie et à la navigation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin d'obtenir cet effet, et en même temps de pratiquer dans p5.js, j'ai décidé d'écrire du code simple qui le recrée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
p5.js est une bibliothèque Javascript créée en 2014. </font><font style="vertical-align: inherit;">Son objectif principal est de devenir une fenêtre sur le monde de la programmation pour les designers, artistes, enseignants et autres représentants des professions créatives. </font><font style="vertical-align: inherit;">Il prend en charge à la fois l'animation et les diagrammes, se traduit facilement au format Web.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, vous devez créer un nouvel éditeur de projet en ligne. </font><font style="vertical-align: inherit;">Par défaut, le nouveau projet est le suivant:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  createCanvas(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
configuration de la fonction () - définit une fonction qui n'est exécutée qu'une fois la </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fonction draw () - se répète dans une boucle infinie </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous commençons par configurer notre «toile». </font><font style="vertical-align: inherit;">Pour la fonction createCanvas (), nous définissons les paramètres 720 et 500 (largeur et hauteur, respectivement). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour faire apparaître une ellipse en arrière-plan, nous insérons les paramètres suivants dans la fonction draw () (qui, rappelons-le, est responsable de la répétition):</font></font><br>
<br>
<pre><code class="javascript hljs">{<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>) }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce qui se passe ici? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
noFill () - ne remplit l'intérieur de l'ellipse d'aucune couleur. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
stroke ('purple') - crée une ligne de couleur violette. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
strokeWeight (3) - définit l'épaisseur de cette ligne. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ellipse (360,250,100,100) - dit que la ligne doit être torsadée en une ellipse avec les paramètres donnés (position le long de X, position le long de Y, diamètre le long de X, diamètre le long de Y). Les premier et deuxième paramètres sont égaux à la moitié des paramètres de la fonction createCanvas (400, 400) - pour être exactement au centre. Les mêmes paramètres 3 et 4 créent la forme d'un cercle, pas d'un ovale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, vous obtenez quelque chose comme ça. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z1/3a/ga/z13agansua-rb64spcr1h-v2zdq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas encore impressionnant, non?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons faire plus ces ellipses, chacune un peu plus que la précédente. Pour ce faire, nous devons créer une boucle, y retirer notre ellipse et créer les troisième et quatrième variables de paramètres.</font></font><br>
<br>
<pre><code class="javascript hljs"> background(<span class="hljs-number">220</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>; i+=<span class="hljs-number">10</span>) {<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,i,i)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez déjà traité des cycles au moins une fois dans votre vie, vous comprendrez ce qui se passe. Nous définissons la valeur initiale i = 0, donc au début, nous dessinons une ellipse dans un rayon nul. Ensuite, nous fixons la limite à quelle valeur i nous allons répéter le cycle (jusqu'à 1000), après quoi nous déterminons l'étape de changement i + = 10 - chaque fois que i sera ajouté au résultat précédent i. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous substituons le paramètre i dans la fonction de dessin de l'ellipse comme troisième et quatrième paramètre responsable du diamètre en largeur et en hauteur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, lorsque nous exécutons le code, nous obtenons ce qui suit. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q_/um/3m/q_um3mbhly7bkqy0gexgd48ud48.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'est pas du moiré, mais c'est déjà similaire. Qu'a fait le code? Il a simplement systématiquement dessiné 100 cercles (jusqu'à ce que le diamètre de ce dernier devienne 1000), dont le diamètre diffère de 10, ce qui a à chaque fois sauvé le résultat.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'oubliez pas de saisir noFill () sinon vous n'enregistrerez et n'afficherez que le résultat de la dernière itération.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, pour obtenir la deuxième ellipse, nous l'entrons dans la même boucle, mais avec des paramètres légèrement différents:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>; i+=<span class="hljs-number">10</span>) {<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,i,i)<font></font>
    <font></font>
  stroke(<span class="hljs-string">"red"</span>)<font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>, <span class="hljs-number">250</span>,i<span class="hljs-number">-500</span>,i<span class="hljs-number">-500</span>)<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, vous obtiendrez une séquence de cercles, dont le plus grand aura un diamètre égal à 1000 moins 500. La hauteur de notre toile n'est que de 500, de sorte que le perfectionniste interne sera satisfait. </font><font style="vertical-align: inherit;">Eh bien, ce sera rouge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est temps pour l'action finale - de faire en sorte que ces cercles se dépassent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, HORS de la boucle, ajoutez la variable x avec la valeur 0 au tout début du code entier et la boucle if APRÈS la fonction draw ()</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  createCanvas(<span class="hljs-number">720</span>, <span class="hljs-number">500</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>; i+=<span class="hljs-number">10</span>) {<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,i,i)<font></font>
    <font></font>
  stroke(<span class="hljs-string">"red"</span>)<font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(x,<span class="hljs-number">250</span>,i<span class="hljs-number">-500</span>,i<span class="hljs-number">-500</span>)<font></font>
  }<font></font>
<span class="hljs-keyword">if</span> (x&gt;width) {<font></font>
  x= <span class="hljs-number">0</span>
} <span class="hljs-keyword">else</span> {x= x+<span class="hljs-number">3</span>}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a une condition. </font><font style="vertical-align: inherit;">Si x est inférieur à la largeur du canevas, nous réinitialisons x à la valeur zéro par défaut. </font><font style="vertical-align: inherit;">Jusqu'à ce que cela se produise, nous ajoutons 3 à notre valeur x. </font><font style="vertical-align: inherit;">Comme on peut le comprendre, à travers X, nous voulons définir les coordonnées le long de l'axe X pour le deuxième cercle. </font><font style="vertical-align: inherit;">Puisqu'il changera légèrement à chaque fois, notre cercle se déplacera horizontalement vers la droite jusqu'à ce que son centre atteigne le bord de l'écran.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3v/ww/so/3vwwsobznt-udcvzksly9kipe5s.png" alt="image"><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N'oubliez pas de changer le premier paramètre de la deuxième ellipse de 360 ​​en variable x.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminé. </font><font style="vertical-align: inherit;">En conséquence, vous obtenez un effet moiré répétitif sur votre écran d'ordinateur, qui est facile à intégrer dans vos projets Web. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lien vers le résultat final</font></font></a><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'idée du projet a été tirée de Superfun P5.js Projects - Nazia Fakhruddin, honnêtement achetée d'Amazon.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une partie du matériel est tirée d'un article du même auteur sur Medium </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">medium.com/@naziafakhruddin/the-mysterious-moir%C3%A9-pattern-49d797897355</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr505142/index.html">Comment Amazon veut que l'innovation sorte de la pandémie</a></li>
<li><a href="../fr505156/index.html">Django: un utilisateur pour tout</a></li>
<li><a href="../fr505176/index.html">Quels actifs ont permis aux investisseurs de protéger les ressources lors d'une pandémie?</a></li>
<li><a href="../fr505178/index.html">DIY Exergaming en vase clos</a></li>
<li><a href="../fr505186/index.html">Trois façons de combiner la masse sur une carte de circuit imprimé</a></li>
<li><a href="../fr505194/index.html">Windows Defender SmartScreen nuit aux développeurs indépendants</a></li>
<li><a href="../fr505196/index.html">Mauvais leader - manuel d'instructions</a></li>
<li><a href="../fr505208/index.html">Comment et pourquoi un produit devrait-il contenir CustDev?</a></li>
<li><a href="../fr505212/index.html">Apple a averti les pillards de suivre tous les téléphones volés</a></li>
<li><a href="../fr505218/index.html">Réunion de sécurité en ligne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>