<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòè üëÇüèø üåø Nos verificamos a nosotros mismos: c√≥mo implementar y c√≥mo administrar 1C: flujo de documentos dentro de la compa√±√≠a 1C üò£ üö∫ üå°Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En 1C, utilizamos ampliamente nuestros propios desarrollos para organizar el trabajo de la empresa. En particular, "1C: Gesti√≥n de documentos 8" . Ade...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Nos verificamos a nosotros mismos: c√≥mo implementar y c√≥mo administrar 1C: flujo de documentos dentro de la compa√±√≠a 1C</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1c/blog/496532/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En 1C, utilizamos ampliamente nuestros propios desarrollos para organizar el trabajo de la empresa. En particular, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"1C: Gesti√≥n de documentos 8"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Adem√°s de la gesti√≥n de documentos (como su nombre lo indica), tambi√©n es un </font><font style="vertical-align: inherit;">sistema </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ECM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> moderno </font><font style="vertical-align: inherit;">(Enterprise Content Management - gesti√≥n de contenido corporativo) con una amplia gama de funcionalidades: correo, calendarios de trabajo de empleados, organizaci√≥n de acceso compartido a recursos (por ejemplo, reserva de salas de conferencias), contabilidad horario de trabajo, foro corporativo y mucho m√°s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 1C, m√°s de mil empleados usan documentos. La base de datos ya se ha vuelto impresionante (11 mil millones de registros), lo que significa que requiere un mantenimiento m√°s completo y un equipo m√°s potente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥mo describiremos el trabajo de nuestro sistema, qu√© dificultades enfrentamos para el servicio de la base de datos y c√≥mo las resolvemos (usamos MS SQL Server como DBMS), lo describiremos en el art√≠culo. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para quienes leyeron por primera vez acerca de los productos 1C. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1C: la gesti√≥n de documentos es una soluci√≥n de aplicaci√≥n (configuraci√≥n) implementada sobre la base de un marco para el desarrollo de aplicaciones comerciales - 1C: plataforma empresarial.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/5a/ts/rb/5atsrbr1r_0dfqiyrdimcyze4by.png" alt="imagen"><br>
<br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"1C: Document Management 8" (en forma abreviada - DO) le permite automatizar el trabajo con documentos en la empresa. </font><font style="vertical-align: inherit;">Una de las principales herramientas para la interacci√≥n de los empleados es el correo electr√≥nico. </font><font style="vertical-align: inherit;">Adem√°s del correo, DO tambi√©n resuelve otras tareas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seguimiento de tiempo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contabilizaci√≥n de ausencias</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solicitudes de mensajer√≠a / transporte</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calendarios de empleados</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registro de correspondencia</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contactos de empleados (libreta de direcciones)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foro corporativo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reserva de habitaci√≥n</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evento planeado</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRM</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trabajo colectivo con archivos (conservando versiones de archivo)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y etc. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingresamos a Document Management como un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cliente ligero</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (aplicaci√≥n ejecutable nativa) desde Windows, Linux, macOS, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cliente web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (desde navegadores) y un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cliente m√≥vil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , seg√∫n la situaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y gracias a nuestro otro producto conectado a la Gesti√≥n de documentos: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el Sistema de interacci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- directamente en Document Management obtenemos la funcionalidad de mensajer√≠a: chats, llamadas de audio y video (incluidas llamadas grupales, que ahora se ha vuelto especialmente importante, incluso desde un cliente m√≥vil), intercambio r√°pido de archivos m√°s la capacidad de escribir bots de chat que simplifican el trabajo con el sistema. Otra ventaja de usar el Sistema de interacci√≥n (en comparaci√≥n con otros mensajeros) es la capacidad de llevar a cabo discusiones contextuales vinculadas a objetos espec√≠ficos de la Gesti√≥n de documentos: documentos, eventos, etc. Es decir, el Sistema de interacci√≥n se integra profundamente con la aplicaci√≥n de destino y no act√∫a como un "bot√≥n separado".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El n√∫mero de letras en nuestro DL ya ha excedido los 100 millones, y en general en el DBMS, m√°s de 11 mil millones de registros. </font><font style="vertical-align: inherit;">En total, el sistema usa casi 30 TB de almacenamiento: la base de datos es de 7.5 TB, los archivos para el trabajo colectivo est√°n separados y ocupan otros 21 TB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si hablamos de n√∫meros m√°s espec√≠ficos, entonces aqu√≠ est√° el n√∫mero de letras y archivos en este momento:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartas salientes: 14,7 millones.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartas entrantes - 85.4 millones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versiones de archivo: 70.8 millones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentos internos - 30,6 mil</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En DO no solo hay correo y archivos. </font><font style="vertical-align: inherit;">A continuaci√≥n se muestran los n√∫meros de otros objetos contables:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reserva de sala de conferencias - 52126</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informes semanales - 153,940</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informes diarios - 628153</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aprobaci√≥n de visa - 11,821</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentos entrantes - 79 677</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentos salientes - 28 357</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registros de eventos en los calendarios de trabajo de los usuarios: 168,228</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solicitudes de mensajer√≠a - 21 883</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrapartes - 81 029</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registros de trabajo con contratistas - 45 632</font></font></li>
<li>   ‚Äì 41 795</li>
<li> ‚Äì 10 243</li>
<li> ‚Äì 6 320</li>
<li>  ‚Äì 245 980</li>
<li>   ‚Äì 26 282</li>
<li>   ‚Äì 891 095</li>
<li>- ‚Äì 109 056.       ‚Äì , , , ,   ..     ,  ,  ,  ,     .      ,  ,           .</li>
</ul><br>
<h2>      ?</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas cifras indican una cantidad impresionante de tareas, por lo que enfrentamos la necesidad de asignar equipos bastante productivos para las necesidades de las subsidiarias internas. </font><font style="vertical-align: inherit;">Hasta la fecha, sus caracter√≠sticas son las siguientes: 38 n√∫cleos, 240 GB de RAM, unidades de 26 TB. </font><font style="vertical-align: inherit;">Le </font></font><br>
<img src="https://habrastorage.org/webt/lt/l1/8t/ltl18tfpfsmxrdo8drblk-04r2o.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
damos la </font><font style="vertical-align: inherit;">tabla de servidores: </font><font style="vertical-align: inherit;">en el futuro planeamos aumentar la capacidad del equipo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© pasa con la carga del servidor?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La actividad de la red nunca ha sido un problema para nosotros o nuestros clientes. Como regla general, el punto d√©bil es el procesador y los discos, porque todos ya saben c√≥mo lidiar con la falta de memoria. Aqu√≠ hay capturas de pantalla de nuestros servidores de Resource Monitor, que muestran que no tenemos una carga terrible, es muy modesto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, en la captura de pantalla a continuaci√≥n, vemos un servidor SQL donde la CPU tiene una carga del 23%. Y este es un muy buen indicador (en comparaci√≥n: si la carga se acerca al 70%, lo m√°s probable es que los empleados observen desaceleraciones bastante significativas). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vz/-w/oo/vz-woobphp0n1zll7bnpvwlxflk.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda captura de pantalla muestra el servidor de aplicaciones en el que se ejecuta la plataforma 1C: Enterprise: solo sirve sesiones de usuario. Aqu√≠ la carga del procesador es ligeramente mayor: 38%, es suave y tranquila. Hay carga de disco, pero es aceptable.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/qd/uv/bzqduvuuvjk4i0dchiimfrauum0.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tercera captura de pantalla muestra otro servidor 1C: Enterprise (es el segundo, tenemos dos de ellos en el cl√∫ster). </font><font style="vertical-align: inherit;">Solo el anterior sirve a los usuarios, y los robots trabajan en esto. </font><font style="vertical-align: inherit;">Por ejemplo, reciben correo, documentos de ruta, intercambian datos, consideran derechos, etc. </font><font style="vertical-align: inherit;">Todas estas actividades en segundo plano realizan aproximadamente 90-100 tareas en segundo plano. </font><font style="vertical-align: inherit;">Y este servidor est√° muy ocupado, al 88%. </font><font style="vertical-align: inherit;">Pero esto no afecta a las personas, e implementa toda la automatizaci√≥n que debe hacer Document Management.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fi/k7/o3/fik7o3yrdbucybkekjymjrgq1aa.png" alt="imagen"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°les son las m√©tricas para determinar el rendimiento?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hemos incorporado a la BS un subsistema serio para medir indicadores de rendimiento y calcular varias m√©tricas. </font><font style="vertical-align: inherit;">Esto es necesario para comprender en el momento actual y en la perspectiva hist√≥rica qu√© est√° sucediendo en el sistema, qu√© est√° empeorando, qu√© est√° mejorando. </font><font style="vertical-align: inherit;">Las herramientas de monitoreo (m√©tricas y medidas de tiempo) se incluyen en el paquete est√°ndar "1C: Gesti√≥n de documentos 8". </font><font style="vertical-align: inherit;">Las m√©tricas requieren ajustes en la implementaci√≥n, pero el mecanismo en s√≠ es t√≠pico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las m√©tricas son mediciones de varios indicadores comerciales en ciertos momentos (por ejemplo, el tiempo promedio de entrega de correo en el momento de 10 minutos). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las m√©tricas muestra el n√∫mero de usuarios activos en la base de datos. </font><font style="vertical-align: inherit;">En promedio, hay 1000-1400 de ellos por d√≠a. </font><font style="vertical-align: inherit;">El gr√°fico muestra que en el momento de la captura de pantalla hab√≠a 2144 usuarios activos en la base de datos.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pr/ca/is/prcaismpjrysr1jm8pr3m77w4j8.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay m√°s de 30 acciones de este tipo, la lista est√° debajo del corte.</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista</font></font></b><div class="spoiler_text"><ul>
<li>  </li>
<li>  </li>
<li> </li>
<li>  </li>
<li>  </li>
<li>  </li>
<li>   </li>
<li>  </li>
<li> </li>
<li> </li>
<li>  </li>
<li> </li>
<li> </li>
<li> </li>
<li>  </li>
<li> </li>
<li> </li>
<li> </li>
<li></li>
<li></li>
<li> </li>
<li></li>
<li>  </li>
<li> </li>
<li>  </li>
<li> </li>
<li>    </li>
<li>  </li>
<li>  </li>
<li></li>
<li> </li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La semana anterior a la √∫ltima, nuestra actividad promedio de usuarios aument√≥ una vez y media (se muestra en rojo en el gr√°fico), esto se debe a la transici√≥n de la mayor√≠a de los empleados al trabajo remoto (en relaci√≥n con eventos conocidos). Adem√°s, el n√∫mero de usuarios activos aument√≥ 3 veces (se muestra en azul en la pantalla), a medida que los empleados comenzaron a usar el m√≥vil de manera activa: cada cliente m√≥vil crea una conexi√≥n con el servidor. Ahora, en promedio, para cada uno de nuestros empleados, hay 2 conexiones al servidor.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_p/la/oy/_plaoyah-fhvkshuadl9ftidsty.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para nosotros, como para los administradores, esta es una se√±al de que debemos estar m√°s atentos a los problemas de velocidad, para ver si ha empeorado. Y lo vemos de otras maneras. Por ejemplo, c√≥mo cambia el tiempo de entrega del correo para el enrutamiento interno (la siguiente captura de pantalla muestra azul). Vemos que salt√≥ hasta este a√±o, y ahora es estable, para nosotros es un indicador de que todo est√° en orden con el sistema. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/-j/es/ws-jes5n002oaglztg92x6rhc70.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra m√©trica aplicada para nosotros es el tiempo de espera promedio para descargar cartas del servidor de correo (que se muestra en rojo en la captura de pantalla). En t√©rminos generales, ¬øcu√°nto tiempo durar√° la carta en Internet antes de que llegue a nuestro empleado? La captura de pantalla muestra que esta vez tampoco ha cambiado de ninguna manera reciente. Hay arrebatos separados, pero no est√°n asociados con demoras, sino con el hecho de que se pierde tiempo en los servidores de correo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e-/tq/yk/e-tqykeehhyd-ztfieowpmodpro.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O, por ejemplo, otra m√©trica (que se muestra en azul en la captura de pantalla): actualizar letras en una carpeta. Abrir una carpeta de correo es una operaci√≥n muy com√∫n, y debe hacerse r√°pidamente. Medimos qu√© tan r√°pido se est√° realizando. Este indicador se mide para cada cliente. Puede ver la imagen general de la empresa y la din√°mica, por ejemplo, de un empleado individual. La captura de pantalla muestra que hasta este a√±o la m√©trica estaba desequilibrada, luego hicimos una serie de mejoras y ahora no empeora, un cronograma casi uniforme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w-/ew/ay/w-eway3c2wyaubpqk1onjq4ptjm.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las m√©tricas son b√°sicamente una herramienta de administrador para monitorear el sistema, para responder r√°pidamente a cualquier cambio en el comportamiento del sistema. En una captura de pantalla: m√©tricas de OD interno durante un a√±o. El salto en los gr√°ficos se debe al hecho de que se nos ha asignado la tarea de desarrollar filiales internas.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/pt/d1/fjptd1wgq42u1dpgl6p96cwuwv4.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay una lista de algunas m√©tricas m√°s (debajo del corte).</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©trica</font></font></b><div class="spoiler_text"><ul>
<li> </li>
<li> </li>
<li> </li>
<li> </li>
<li>  ()</li>
<li> </li>
<li>    </li>
<li> </li>
<li> </li>
<li>          10 </li>
<li>  :  </li>
<li>    </li>
<li> </li>
<li> </li>
<li>      </li>
<li>      ( )</li>
<li>      ( )</li>
<li>      ( )</li>
<li>      ( )</li>
<li>      ()</li>
<li>  </li>
<li>  </li>
<li>  ¬´    ¬ª</li>
<li>    </li>
<li>   </li>
<li>    </li>
<li>   </li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestro sistema realiza mediciones de m√°s de 150 indicadores durante todo el d√≠a, pero no todos pueden ser monitoreados r√°pidamente. </font><font style="vertical-align: inherit;">Pueden ser √∫tiles m√°s tarde, en una perspectiva hist√≥rica, y puede centrarse en lo m√°s importante para los negocios.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En una de las implementaciones, por ejemplo, solo se seleccionaron 5 indicadores. El cliente se fij√≥ el objetivo de hacer un conjunto m√≠nimo de indicadores, pero al mismo tiempo cubri√≥ los principales escenarios de trabajo. Ser√≠a injustificado incluir 150 indicadores en el acto de aceptaci√≥n, porque incluso dentro de la empresa es dif√≠cil acordar qu√© indicadores se consideran aceptables. Y conoc√≠an estos 5 indicadores y ya los presentaron al sistema antes del inicio del proyecto de implementaci√≥n, incluido en la documentaci√≥n de la licitaci√≥n: tiempo de apertura de la tarjeta no m√°s de 3 segundos, tiempo de ejecuci√≥n de la tarea con un archivo no m√°s de 5 segundos, etc. En nuestras filiales, hab√≠a m√©tricas precisas que reflejaban muy claramente la solicitud inicial de los requisitos del cliente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y tambi√©n tenemos un an√°lisis de perfil de mediciones de rendimiento. </font><font style="vertical-align: inherit;">Los indicadores de rendimiento son la fijaci√≥n de la duraci√≥n de cada operaci√≥n que se realiza (escribir una carta a la base de datos, enviar una carta al servidor de correo, etc.). </font><font style="vertical-align: inherit;">Es utilizado exclusivamente por especialistas t√©cnicos. </font><font style="vertical-align: inherit;">Tenemos muchos indicadores de rendimiento en nuestro programa. </font><font style="vertical-align: inherit;">Ahora medimos aproximadamente 1.500 operaciones clave, que se desglosan por perfil. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/kw/ht/kpkwhtmfno5e6log8ozegzltuie.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uno de los perfiles m√°s importantes para nosotros es la "Lista de indicadores clave del correo desde el punto de vista de los consumidores". </font><font style="vertical-align: inherit;">Este perfil incluye, por ejemplo, los siguientes indicadores:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejecuci√≥n de comandos: Filtrar por etiqueta</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abrir un formulario: formulario de lista</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejecuci√≥n de comandos: seleccionar por carpeta</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mostrar letras en el √°rea de lectura</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guardar una carta en tu carpeta favorita</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buscar cartas por detalles</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear una carta</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vemos que la m√©trica para alg√∫n indicador comercial se ha vuelto demasiado grande (por ejemplo, las cartas de un usuario espec√≠fico comenzaron a llegar durante mucho tiempo), comenzamos a comprender, pasamos a medir el tiempo de las operaciones t√©cnicas. </font><font style="vertical-align: inherit;">Tenemos la operaci√≥n t√©cnica "Archivar cartas en el servidor de correo": vemos el exceso de tiempo para esta operaci√≥n durante el √∫ltimo per√≠odo. </font><font style="vertical-align: inherit;">Esta operaci√≥n, a su vez, se descompone en otras operaciones, por ejemplo, establecer una conexi√≥n con el servidor de correo. </font><font style="vertical-align: inherit;">Vemos que, por alguna raz√≥n, de repente se hizo muy grande (tenemos todas las mediciones en un mes; podemos comparar esa semana pasada 10 milisegundos, y ahora 1000 milisegundos). </font><font style="vertical-align: inherit;">Y entendemos que algo aqu√≠ est√° roto, tenemos que arreglarlo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo mantenemos una base de datos tan grande?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestro DO interno es un ejemplo de un proyecto muy cargado que realmente funciona. </font><font style="vertical-align: inherit;">Hablemos de las caracter√≠sticas t√©cnicas de su base de datos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°nto dura la reestructuraci√≥n de grandes tablas de bases de datos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El servidor SQL requiere mantenimiento peri√≥dico, limpiando las tablas. </font><font style="vertical-align: inherit;">En el buen sentido, esto debe hacerse al menos una vez al d√≠a y para mesas muy demandadas, incluso con mayor frecuencia. </font><font style="vertical-align: inherit;">Pero si la base es grande (y nuestro n√∫mero de registros ya ha excedido los 11 mil millones), entonces no es f√°cil cuidarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hicimos la reestructuraci√≥n de las mesas hace 6 a√±os, pero luego comenz√≥ a tomar tanto tiempo que ya no encajamos en los intervalos nocturnos. </font><font style="vertical-align: inherit;">Y dado que estas operaciones cargan mucho el servidor SQL, no puede proporcionar servicios de calidad a otros usuarios.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, ahora tenemos que aplicar varios trucos. Por ejemplo, no podemos realizar estos procedimientos en conjuntos de datos completos. Debe recurrir al procedimiento Actualizar muestra 500000 filas: esto lleva 14 minutos. No actualiza las estad√≠sticas para todos los datos de la tabla, pero selecciona medio mill√≥n de filas y calcula las estad√≠sticas que utiliza para toda la tabla. Esta es una suposici√≥n, pero nos vemos obligados a hacerlo, porque para una tabla en particular, la recopilaci√≥n de estad√≠sticas para todo el bill√≥n de registros ser√° inaceptablemente larga. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/mq/9q/dlmq9qvlqsafte96p7yjhllxegm.png" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n optimizamos otras operaciones de mantenimiento al hacerlas parciales.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mantenimiento de un DBMS es generalmente una tarea dif√≠cil. </font><font style="vertical-align: inherit;">En el caso de la interacci√≥n activa entre los empleados, la base de datos est√° creciendo r√°pidamente, cada vez es m√°s dif√≠cil para los administradores mantenerla, actualizando estad√≠sticas, desfragmentando e indexando. </font><font style="vertical-align: inherit;">Aqu√≠ necesitamos aplicar diferentes estrategias, sabemos c√≥mo hacerlo, tenemos experiencia, podemos compartirla.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo se implementa el respaldo con tales vol√∫menes?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se realiza una copia de seguridad completa del DBMS una vez al d√≠a por la noche, incremental, cada hora. </font><font style="vertical-align: inherit;">Adem√°s, se crea un directorio de archivos todos los d√≠as, y es una parte de la copia de seguridad incremental del almacenamiento de archivos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°nto dura una copia de seguridad completa?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En un disco duro, se realiza una copia de seguridad completa en tres horas, parcial, en una hora. </font><font style="vertical-align: inherit;">Lleva m√°s tiempo escribir en la cinta (un dispositivo especial que realiza una copia de seguridad en un casete especial almacenado fuera de la oficina; se realiza una copia enajenable en la cinta, que se guardar√° si, por ejemplo, el servidor se quema). </font><font style="vertical-align: inherit;">La copia de seguridad se realiza exactamente en el mismo servidor, cuyos par√°metros eran m√°s altos: servidor SQL con una carga del procesador del 20%. </font><font style="vertical-align: inherit;">En el momento de la copia de seguridad, por supuesto, el sistema empeora mucho, pero a√∫n est√° operativo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xq/sb/6j/xqsb6jqlw7y8fg5pgpwwhghhm74.png" alt="imagen"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øHay deduplicaci√≥n?</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">deduplicaci√≥n de</font></a><font style="vertical-align: inherit;"> archivos, lo ejecutamos nosotros mismos y pronto se incluir√° en la nueva versi√≥n de Document Management. </font><font style="vertical-align: inherit;">Tambi√©n corremos en el mecanismo de deduplicaci√≥n de contraparte. </font><font style="vertical-align: inherit;">No hay deduplicaci√≥n de registros en el nivel DBMS, ya que esto no es necesario. </font><font style="vertical-align: inherit;">La plataforma 1C: Enterprise almacena objetos en el DBMS, y solo la plataforma puede ser responsable de su coherencia.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øHay nodos de solo lectura?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No hay nodos para leer (nodos de sistema dedicados que sirven a aquellos que necesitan recibir datos de lectura). </font><font style="vertical-align: inherit;">DO no es un sistema de contabilidad para poner en un nodo de BI separado, pero hay un nodo separado para el departamento de desarrollo, que se intercambia con mensajes en formato JSON, y los tiempos de replicaci√≥n t√≠picos son unidades y decenas de segundos. </font><font style="vertical-align: inherit;">El nodo a√∫n es peque√±o, tiene alrededor de 800 millones de entradas, pero est√° creciendo r√°pidamente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øY los mensajes marcados para eliminaci√≥n no se eliminan en absoluto?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A√∫n no. </font><font style="vertical-align: inherit;">No tenemos tareas para facilitar la base. </font><font style="vertical-align: inherit;">Hubo varios casos bastante serios en los que tuve que recurrir a las letras marcadas para su eliminaci√≥n, incluido el 2009. </font><font style="vertical-align: inherit;">Por lo tanto, por ahora, decidimos mantener todo. </font><font style="vertical-align: inherit;">Pero cuando el costo de esto se vuelva injustificado, pensaremos en la eliminaci√≥n. </font><font style="vertical-align: inherit;">Pero, si necesita eliminar una letra separada de la base de datos con los extremos para que no haya rastros, esto se puede hacer mediante una solicitud especial.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPor qu√© almacenarlo? </font><font style="vertical-align: inherit;">¬øExisten estad√≠sticas sobre los accesos a documentos antiguos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No hay estad√≠sticas </font><font style="vertical-align: inherit;">M√°s precisamente, tiene la forma de un registro de usuario, pero no se almacena por mucho tiempo. </font><font style="vertical-align: inherit;">Los registros de m√°s de un a√±o se eliminan del protocolo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hubo situaciones en las que fue necesario elevar la correspondencia anterior de cinco a√±os o incluso diez a√±os atr√°s. </font><font style="vertical-align: inherit;">Y esto siempre se ha hecho no por curiosidad ociosa, sino por tomar decisiones comerciales complejas. </font><font style="vertical-align: inherit;">Hubo un caso en el que sin el historial de correspondencia se tomar√≠a una decisi√≥n comercial incorrecta.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo es el examen del valor y la destrucci√≥n de los documentos seg√∫n el per√≠odo de almacenamiento?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para documentos en papel, esto se hace de la manera tradicional habitual, como todos los dem√°s. </font><font style="vertical-align: inherit;">En el caso de la electr√≥nica, no lo hacemos, dejemos que se almacene. </font><font style="vertical-align: inherit;">La sentada est√° aqu√≠. </font><font style="vertical-align: inherit;">Hay un beneficio </font><font style="vertical-align: inherit;">Todo est√° bien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øCu√°les son las perspectivas de desarrollo?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora nuestro DO resuelve alrededor de 30 problemas internos, algunos de los cuales enumeramos al comienzo del art√≠culo. </font><font style="vertical-align: inherit;">Tambi√©n DO se utiliza para preparar conferencias que realizamos dos veces al a√±o para nuestros socios: todo el programa, todos los informes, todas las secciones paralelas, salas: todo esto se compone en DO y luego se descarga de √©l y se hace un programa impreso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el camino para OD, hay varias tareas m√°s, adem√°s de las que ya resuelve. </font><font style="vertical-align: inherit;">Hay tareas para toda la empresa, pero hay tareas √∫nicas y raras que solo necesita una unidad en particular. </font><font style="vertical-align: inherit;">Es necesario ayudarlos y, por lo tanto, expandir la "geograf√≠a" del uso del sistema dentro de 1C: para ampliar el alcance, resolver las tareas de todos los departamentos. </font><font style="vertical-align: inherit;">Esta ser√≠a la mejor prueba de rendimiento y fiabilidad. </font><font style="vertical-align: inherit;">Me gustar√≠a ver que el sistema funcionara con billones de registros, petabytes de informaci√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es496512/index.html"># 05 - Y un byte completo no es suficiente ... | Anime</a></li>
<li><a href="../es496514/index.html">IPIP IPsec VPN t√∫nel entre la m√°quina Linux y Mikrotik detr√°s del proveedor NAT</a></li>
<li><a href="../es496516/index.html">Telegram bot en python vs COVID-19</a></li>
<li><a href="../es496518/index.html">¬øC√≥mo llegamos al control remoto?</a></li>
<li><a href="../es496528/index.html">La localizaci√≥n de un c√≥digo QR es una tarea importante, sin atenci√≥n inmerecida</a></li>
<li><a href="../es496536/index.html">DeepCode: vista lateral</a></li>
<li><a href="../es496538/index.html">Fractales en Python. Tutorial</a></li>
<li><a href="../es496542/index.html">El tr√°fico de Internet en Europa ha crecido una vez y media. Los proveedores de red troncal registran registros de carga</a></li>
<li><a href="../es496544/index.html">Hackathon en l√≠nea de proyectos para aut√≥nomos: 500 mil rublos por sus ideas y el apoyo del Servicio Federal de Impuestos</a></li>
<li><a href="../es496546/index.html">Startup dentro de la corporaci√≥n</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>