<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏸 🧗🏾 🎆 あなたが知らないかもしれない3つのパンダの方法 ➡️ 💇 👷🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本日の翻訳を公開している記事の著者は、ここで話したいパンダスライブラリのメソッドについて知ったとき、彼は完全に無能なプログラマのように感じたと言います。どうして？実際、彼が以前にコードを書いたとき、彼は検索エンジンを調べて、いくつかの問題を解決するいくつかの効果的な方法があるかどうかを見つけるのが面...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>あなたが知らないかもしれない3つのパンダの方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/479276/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本日の翻訳を公開している記事の著者は、ここで話したいパンダスライブラリのメソッドについて知ったとき、彼は完全に無能なプログラマのように感じたと言います。</font><font style="vertical-align: inherit;">どうして？</font><font style="vertical-align: inherit;">実際、彼が以前にコードを書いたとき、彼は検索エンジンを調べて、いくつかの問題を解決するいくつかの効果的な方法があるかどうかを見つけるのが面倒だったということです。</font><font style="vertical-align: inherit;">その結果、彼はいくつかの非常に便利なパンダ法の存在さえ知らなかった。</font><font style="vertical-align: inherit;">これらの方法を使用しなくても、必要なロジックを実装することはできましたが、これには数時間の作業が必要で、緊張しました。</font><font style="vertical-align: inherit;">そしてもちろん、その過程で、彼は不必要なコードをたくさん書きました。</font><font style="vertical-align: inherit;">彼は彼の状況になりたくない人のためにこの記事を準備しました。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/2p/cy/ol/2pcyoln6y8ammn1mawt3vly1c9y.jpeg"></a><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idxmin（）およびidxmax（）メソッド</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">については</font><font style="vertical-align: inherit;">
すでに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書き</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ましたが、ここでそれらについて話さないと、次に説明する内容を理解するのは簡単ではありません。</font><font style="vertical-align: inherit;">
これらのメソッドは、簡単に説明すると、目的のレコードのインデックス（ポインター位置）を返します。</font><font style="vertical-align: inherit;">次の</font><font style="vertical-align: inherit;">Pandas </font><font style="vertical-align: inherit;">オブジェクトを作成したとします</font><font style="vertical-align: inherit;">。</font></font><code>idxmin()</code><font style="vertical-align: inherit;"></font><code>idxmax()</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>Series</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"> x = pd.Series ([
 <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">124</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>
])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最小要素と最大要素のインデックスを見つける必要があります。</font><font style="vertical-align: inherit;">もちろん、オブジェクトの説明を見るだけで見つけるのは難しくありませんが、実際のプロジェクトでは、そのような少数の要素で構成されるデータセットに出会うことはありません（まったく同じ-「決して」）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何をすべきか？</font><font style="vertical-align: inherit;">メソッド</font></font><code>idxmin()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とを</font><font style="vertical-align: inherit;">使用します</font></font><code>idxmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce5/4c8/340/ce54c83405f1ecc4e8051687ae209eca.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b4d/01d/777/b4d01d77756d96a86c911daff3459e5e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのメソッドを使用すると、最小値または最大値の最初の発生のインデックスを返すことを忘れてはなりません。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne（）メソッド</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法</font></font><code>ne()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は私にとって大きな発見でした。少し前に、時系列のデータを処理していて、最初の</font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">観測値が0の</font><font style="vertical-align: inherit;">ときに問題が発生しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何かを購入したが、それを一定期間使用しなかったとします。購入したものは自由に使えますが、使っていないのである日の消費量は0です。実際に使い始めたときの消費量データに興味があったので「購入しました。「この方法</font></font><code>ne()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がまさに私が必要としていたものであることがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のシナリオを検討してください。</font></font><code>DataFrame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リストの一番上にある0の値で表されるいくつかの観測の結果を含む</font><font style="vertical-align: inherit;">Pandasオブジェクト</font><font style="vertical-align: inherit;">があります。</font></font><pre><code class="python hljs">df = pd.DataFrame()</code></pre><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/905/f12/1d1/905f121d19fbfc15e80b0bba7f0f349d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッド</font></font><code>ne()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、現在の値がこのメソッドが呼び出されたときに指定された値でない場合にのみ</font><font style="vertical-align: inherit;">返さ</font><font style="vertical-align: inherit;">れます（たとえば、呼び出された場合、値0を指定できます）。それ以外の場合は、次の値が返され</font></font><code>False</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><pre><code class="python hljs">df[<span class="hljs-string">'X'</span>].ne(<span class="hljs-number">0</span>)</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93c/b3b/f66/93cb3bf66532db9f0ac6101061be1671.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法だけでは、特に便利とは言えません。</font><font style="vertical-align: inherit;">ここで、資料の冒頭で、記事を理解するにはメソッドに慣れる必要があると述べたことを思い出してください</font></font><code>idxmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その時私は冗談を言っていなかった。</font><font style="vertical-align: inherit;">上記の通話に</font></font><code>ne()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通話</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">添付でき</font><font style="vertical-align: inherit;">ます</font></font><code>idxmax()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">結果は次のとおりです。</font></font><pre><code class="python hljs">df[<span class="hljs-string">'X'</span>].ne(<span class="hljs-number">0</span>).idxmax()</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d6/544/38e/4d654438e0aeb4bc676b56f8d0a9e2a9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、最初のゼロ以外の観測結果が6番目の位置にあることを示しています。ここでも、これはそのような重要な発見のようには見えないかもしれません。</font><font style="vertical-align: inherit;">ただし、ここで最も重要なことは、この情報を使用してオブジェクトのサブセットを選択</font></font><code>DataFrame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、検出された位置から始まる値のみを表示できることです。</font></font><pre><code class="python hljs">df.loc[df[<span class="hljs-string">'X'</span>].ne(<span class="hljs-number">0</span>).idxmax():]</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/530/299/cd7/530299cd784ccf0b70b3301c0d95e31e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この手法は、時系列データを処理する必要がある多くの状況で非常に役立ちます。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nsmallest（）およびnlargest（）メソッド</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのメソッドの名前を見るだけで、その目的を推測できると思います。</font><font style="vertical-align: inherit;">次のオブジェクトを作成したとします</font></font><code>DataFrame</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><pre><code class="python hljs">df = pd/DataFrame({
<span class="hljs-string">'Name'</span>: [<span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Mark'</span>, <span class="hljs-string">'Steph'</span>, <span class="hljs-string">'Jess'</span>, <span class="hljs-string">'Becky'</span>],
<span class="hljs-string">'Points'</span>: [<span class="hljs-number">55</span>, <span class="hljs-number">98</span>, <span class="hljs-number">46</span>, <span class="hljs-number">77</span>, <span class="hljs-number">81</span>]<font></font>
})</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/756/c11/52b/756c1152b45e7947b262ca2888b35ec7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より興味深いものにするために、一部の学生が合格したテストの結果を以下に示します。</font><font style="vertical-align: inherit;">テストで最悪の成績を収めた3人の生徒を探します。</font></font><pre><code class="python hljs">df.nsmallest(<span class="hljs-number">3</span>, <span class="hljs-string">'Points'</span>)</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04c/afe/a95/04cafea95cb32bb60a9cf2d18de215f3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または-トップ3に誰がいるかを調べます。</font></font><br>
<pre><code class="python hljs">df.nlargest(<span class="hljs-number">3</span>, <span class="hljs-string">'Points'</span>)</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fd/c97/12d/0fdc9712d1da471274682b34b4209fee.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのメソッドは、などのメソッドの非常に優れた代替品です</font></font><code>sort_values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、いくつかの便利なPandasメソッドを確認しました。</font><font style="vertical-align: inherit;">それらについて知っている人にとって、それらのアプリケーションは完全に自然に見えるかもしれませんが、それらについて学んだばかりの人にとっては、彼らは本当の発見のように見えるかもしれません。</font><font style="vertical-align: inherit;">彼らがあなたによく役立つことを願っています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読者の皆様！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他の人が知らないかもしれないパンダの便利な方法を知っていますか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/yx/3g/bv/yx3gbv0xlht1gyjfwlg2z_kgylo.png"></div></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479266/index.html">個々のJavaScriptコンポーネントによって生成されたCPU負荷の分析</a></li>
<li><a href="../ja479268/index.html">イベントリスナーとWebワーカー</a></li>
<li><a href="../ja479270/index.html">2020年にNode.jsから何が期待できますか？</a></li>
<li><a href="../ja479272/index.html">[ブックマーク] Web開発者の生産性を向上させる9つのツール</a></li>
<li><a href="../ja479274/index.html">知っておくべき10のPythonトリック</a></li>
<li><a href="../ja479278/index.html">膝のpiの100から500桁</a></li>
<li><a href="../ja479282/index.html">データがメモリに収まらない場合。最も簡単な方法</a></li>
<li><a href="../ja479284/index.html">ロボットが建てた家</a></li>
<li><a href="../ja479286/index.html">Spring MVC、Spring Data JPA、およびHibernateを使用した単純なWebアプリケーションの作成</a></li>
<li><a href="../ja479288/index.html">サービスデスクを実装する理由と、会社のソリューションを選択する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>