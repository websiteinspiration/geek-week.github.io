<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🎨 ✊🏻 🈁 Levenshtein kleinste Entfernung Zeichenerkennung 👨🏻‍🚒 👩🏻‍🌾 ⚱️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In letzter Zeit ist die Aufgabe der Zeichenerkennung in Anwendungsprogrammen nicht besonders schwierig - Sie können viele vorgefertigte OCR-Bibliothek...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Levenshtein kleinste Entfernung Zeichenerkennung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488690/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In letzter Zeit ist die Aufgabe der Zeichenerkennung in Anwendungsprogrammen nicht besonders schwierig - Sie können viele vorgefertigte OCR-Bibliotheken verwenden, von denen viele nahezu perfektioniert sind. </font><font style="vertical-align: inherit;">Trotzdem kann es manchmal schwierig sein, einen eigenen Erkennungsalgorithmus zu entwickeln, ohne „hoch entwickelte“ OCR-Bibliotheken von Drittanbietern zu verwenden.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies ist genau die Aufgabe, die sich während meiner Arbeit ergeben hat, und es gibt mehrere Gründe, warum es besser ist, keine vorgefertigten Bibliotheken zu verwenden: Das geschlossene Projekt mit seiner weiteren Zertifizierung, eine gewisse Einschränkung der Anzahl der Codezeilen und der Größe der verbundenen Bibliotheken, umso mehr, als Sie im Themenbereich genug erkennen müssen spezifischer Zeichensatz.</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Erkennungsalgorithmus ist einfach und gibt natürlich nicht vor, der genaueste, schnellste und effektivste zu sein, sondern bewältigt seine kleine Aufgabe gut. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angenommen, wir haben Eingaben in Form von gescannten Bildern von Dokumenten in strukturierter Form. </font><font style="vertical-align: inherit;">Diese Dokumente haben einen speziellen einstelligen Code in der oberen linken Ecke. </font><font style="vertical-align: inherit;">Unsere Aufgabe ist es, dieses Symbol zu erkennen und dann einige Aktionen auszuführen, z. B. das Quelldokument gemäß den angegebenen Regeln zu klassifizieren.</font></font></p><br>
<img src="https://habrastorage.org/webt/0d/ci/sx/0dcisxfqw3hrvhzyyygmjbw7lvu.png"><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Algorithmusdiagramm lautet wie folgt:</font></font></p><br>
<img src="https://habrastorage.org/webt/j7/fq/hw/j7fqhwh0jck5mgbo1l3lx9yspbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da wir im Voraus wissen, wo sich unser Symbol befindet, ist es nicht schwierig, einen bestimmten Bereich zu schneiden. </font><font style="vertical-align: inherit;">Um alle „Unregelmäßigkeiten“ an den Rändern des Symbols zu beseitigen, übersetzen wir das Bild in Schwarzweiß (Schwarzweiß).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pq/l_/tg/pql_tg-oyx-ra39gqe55hvlkz50.png"><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">short</span> width = <span class="hljs-number">45</span>, height = <span class="hljs-number">40</span>, offsetTop = -<span class="hljs-number">10</span>, offsetLeft = -<span class="hljs-number">70</span>;<font></font>
BufferedImage image = ImageIO.read(file);<font></font>
BufferedImage symbol = <span class="hljs-keyword">new</span> BufferedImage(width, height, BufferedImage.TYPE_BYTE_BINARY);<font></font>
Graphics2D g = symbol.createGraphics();<font></font>
g.drawImage(image, offsetLeft, offsetTop, <span class="hljs-keyword">null</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes müssen Sie das resultierende Fragment "Pixel für Pixel" in eine binäre Zeichenfolge konvertieren, dh eine Zeichenfolge, bei der beispielsweise "*" einem schwarzen Pixel und ein Leerzeichen einem weißen entspricht.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9u/gb/q_/9ugbq_okwhabztyjhv6tef2b_u0.png"><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">short</span> whiteBg = -<span class="hljs-number">1</span>;<font></font>
StringBuilder binaryString = <span class="hljs-keyword">new</span> StringBuilder();  
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">short</span> y = <span class="hljs-number">1</span>; y &lt; height; y++)
   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">short</span> x = <span class="hljs-number">1</span>; x &lt; width; x++) {
       <span class="hljs-keyword">int</span> rgb = symbol.getRGB(x, y);<font></font>
       binaryString.append(rgb == whiteBg ? <span class="hljs-string">" "</span> : <span class="hljs-string">"*"</span>);<font></font>
   }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes müssen Sie den minimalen Levenshtein-Abstand zwischen der empfangenen Zeichenfolge und den vorbereiteten Referenzzeichenfolgen ermitteln (Sie können sogar eine beliebige Zeichenfolgenvergleichsmethode verwenden).</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">int</span> min = <span class="hljs-number">1000000</span>;
<span class="hljs-keyword">char</span> findSymbol = <span class="hljs-string">""</span>;
<span class="hljs-keyword">for</span> (Map.Entry&lt;Character, String&gt; entry : originalMap.entrySet()) {
     <span class="hljs-keyword">int</span> levenshtein = levenshtein(binaryString.toString(), entry.getValue());
     <span class="hljs-keyword">if</span> (levenshtein &lt; min) {<font></font>
             min = levenshtein;<font></font>
             findSymbol = entry.getKey();<font></font>
     }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Funktion zum Ermitteln der Levenshtein-Entfernung wird als Methode gemäß dem Standardalgorithmus implementiert:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">levenshtein</span><span class="hljs-params">(String targetStr, String sourceStr)</span> </span>{
        <span class="hljs-keyword">int</span> m = targetStr.length(), n = sourceStr.length();
        <span class="hljs-keyword">int</span>[][] delta = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[m + <span class="hljs-number">1</span>][n + <span class="hljs-number">1</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<font></font>
            delta[i][<span class="hljs-number">0</span>] = i;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)<font></font>
            delta[<span class="hljs-number">0</span>][j] = j;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) {
                <span class="hljs-keyword">if</span> (targetStr.charAt(i - <span class="hljs-number">1</span>) == sourceStr.charAt(j - <span class="hljs-number">1</span>))<font></font>
                    delta[i][j] = delta[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];
                <span class="hljs-keyword">else</span>
                    delta[i][j] = Math.min(delta[i - <span class="hljs-number">1</span>][j] + <span class="hljs-number">1</span>,<font></font>
                            Math.min(delta[i][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>, delta[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>));<font></font>
            }<font></font>
        <span class="hljs-keyword">return</span> delta[m][n];<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das resultierende findSymbol wird unser anerkannter Charakter sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Algorithmus kann optimiert werden, um die Leistung zu verbessern, und durch verschiedene Überprüfungen ergänzt werden, um die Erkennungseffizienz zu verbessern. Viele Indikatoren hängen vom spezifischen Themenbereich des zu lösenden Problems ab (Anzahl der Zeichen, Vielfalt der Schriftarten, Bildqualität usw.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde auf praktische Weise festgestellt, dass die Methode auch problematische Probleme wie „Ähnlichkeit“ der Zeichen, z. B. „L“ &lt;-&gt;, qualitativ bewältigt "P", "5" &lt;-&gt; "S", "O" &lt;-&gt; "0". Da beispielsweise der Abstand zwischen den Binärzeichenfolgen "L" und "P" auch bei einigen "Unregelmäßigkeiten" immer größer ist als zwischen dem erkannten "L" und der Referenzzeichenfolge "L".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie ein ähnliches Problem (z. B. das Erkennen von Spielkarten) mit einer Reihe von Einschränkungen bei der Verwendung von Neuronen und anderen vorgefertigten Lösungen lösen müssen, können Sie diese Methode im Allgemeinen sicher anwenden und ändern.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de488668/index.html">CI / CD-Verkettung und Docker-Automatisierung</a></li>
<li><a href="../de488674/index.html">Infografik mit Excel und PowerPoint</a></li>
<li><a href="../de488678/index.html">Großer Appetit auf kleine Puffer bei Node.js.</a></li>
<li><a href="../de488682/index.html">Wie teste ich Python-Programmierkenntnisse? Aufgaben von Yandex</a></li>
<li><a href="../de488686/index.html">Verwenden von Flowmon-Netzwerken zur Überwachung der Leistung verteilter Anwendungen und Datenbanken</a></li>
<li><a href="../de488692/index.html">So migrieren Sie einen großen Prozess von IBM BPM nach Camunda und stoppen die Feature-Entwicklung nicht</a></li>
<li><a href="../de488696/index.html">Trends führen</a></li>
<li><a href="../de488698/index.html">Zugangskontrolle als Service: Cloud-Videoüberwachung in Zugangskontrollsystemen</a></li>
<li><a href="../de488700/index.html">Implementierte Mikromarkierung, aber keine erweiterten Schnipsel: 10 mögliche Gründe</a></li>
<li><a href="../de488702/index.html">Ein Modell einer natürlichen Zahlenreihe und ihrer Elemente. Mehrzeilige Zellen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>