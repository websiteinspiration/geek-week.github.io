<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎🏽 🗽 😲 カブーム：珍しいサッパー 🚷 🚿 ❌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="子供の頃、私は父の職場に週3回1時間半座っていました。私は、エンターテインメントからサッパーとペイントしかなかったコンピューターに行くことを許可されました。私はすぐに絵を描くのに疲れていましたが、フィールド全体を開き、爆発しないという欲求が、このゲームをプレイするための新しい方法を探す動機になりまし...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>カブーム：珍しいサッパー</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cloud4y/blog/487052/"><img src="https://habrastorage.org/webt/8r/zx/fj/8rzxfjri6jhsbbuodzrjy8eauae.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子供の頃、私は父の職場に週3回1時間半座っていました。私は、エンターテインメントからサッパーとペイントしかなかったコンピューターに行くことを許可されました。私はすぐに絵を描くのに疲れていましたが、フィールド全体を開き、爆発しないという欲求が、このゲームをプレイするための新しい方法を探す動機になりました。数年後、私は偶然、サッパーのクローンについての興味深い記事に出くわし、通りがかった。それに慣れることをお勧めします。これは、独自の熱意を持つ伝説的なマインスイーパゲームのクローンであるKaboomの開発に関するストーリーです。</font></font></i><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マインスイーパは、かなり前にコンピュータゲームの標準として登場しました。</font><font style="vertical-align: inherit;">しかし、ほとんどの人は以前のバージョンのWindowsに含まれていたゲームを覚えているようです。</font><font style="vertical-align: inherit;">マインスイーパーは得意ではありませんでしたが、時々遊んでいました。</font><font style="vertical-align: inherit;">一部の人々は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より真剣に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレーし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして、元気を出したい人のために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マインスイーパ-ザムービーを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見ることをお勧めし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近、私はアイデアを持っていました：賢いコンピューターに対してマインスイーパーをプレイしなければならない場合はどうでしょうか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、地雷の位置はゲームの開始時に決定されます（ただし、ここにはいくつかのトリックがあります。たとえば、最初のクリックを失うことはありません）。しかし、鉱山の位置が事前に決定されておらず、ゲームがゲームの開始後に鉱山の位置を選択できた場合はどうなるでしょうか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それはかなり残酷です：地雷が含まれている可能性がある正方形をクリックすると、常にそれが含まれます！したがって、正方形が安全であることを事前に証明する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/0i/hg/um0ihg9b97wzjslibzfalc5ovmy.png"><br>
<font color="#999999"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上の画像では、ドットでマークされたセルには地雷がないことが保証されており、感嘆符でマークされたセルには地雷が含まれていることが保証されています。疑問符は不確実性を意味します。おそらく、より多くのセルを開くと、地雷がそこに隠れているかどうかを計算できます。</font></font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
一方、推測する必要がある状況があります：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/_r/c0/ji_rc06pslel8r2olgyyjfeqx5g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下部のセルの1つに地雷がある。しかし、どれを理解することは不可能です。それらの1つを選択する必要があります。しかし、私が話したばかりの状態によると、これは確実な死を意味します！私はゲームを残忍なものにしたかったのですが、今は明らかに負けています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、少し考えを変えます。推測できますが、安全なセルが残っていない場合のみです。したがって、ゲームは残酷ですが公平です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言い換えると：</font></font><br>
<br>
<ul>
<li>      ,   .</li>
<li>      ,    ,   .</li>
<li>      , :<br>
<br>
<ol>
<li>     ,       ,      .</li>
<li>   ,   ,      .</li>
</ol></li>
</ul><br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなゲームを実装する方法は？可能なすべてのフィールドを計算することもできますが、これは非現実的です。10x10の小さなフィールドでも2 ^ 100の可能性を意味します。正確にN minを含むものだけを選択しても役に立ちません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸いなことに、分野全体を気にする必要はありません。タグに隣接していない地雷については何も知りません。私は国境にいる人だけに興味があります、残りは偶然にかなり決定できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zl/vp/qc/zlvpqcqpuapldwssoa5lhjtaff4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ラベルに従って地雷の位置に関するすべてのオプションを計算できます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックトラッキング</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（バックトラッキング）-すべての組み合わせを並べ替えることができる優れた手法ですが、ブランチが計算できないと判断するとすぐに後退することもできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6z/0h/cf/6z0hcf6bfakj_2x3n0jyfz9bpf8.png"><br>
<font color="#999999"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上の図は、国境にある2つの鉱山の場所を示しています。</font><font style="vertical-align: inherit;">それらを組み合わせると、どのセルが空であるか、またはマイニングされることが保証されているかがわかります。</font></font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
地雷の総数も追跡する必要があります。</font><font style="vertical-align: inherit;">したがって、場所は「境界線で5分、外で5分」のように見えます。</font><font style="vertical-align: inherit;">さもなければ、国境で作成した地雷が多すぎる（または少なすぎる）可能性があるため、これは重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで、私にはすべての選択肢があります。</font><font style="vertical-align: inherit;">プレイヤーがケージを開けようとするとどうなりますか？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ランダムなオプションを選択します（「残酷だが公正な」ルールを満たすオプション）。</font><font style="vertical-align: inherit;">これは国境での鉱山の位置を決定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国境の外に残っているものをランダムに散らします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択したセルに地雷がある場合、ゲームオーバーです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さもないと：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">識別されたセルの新しいラベルを定義します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0の場合、追加のセルを表示します</font></font></li>
<li>    ,    !       .</li>
</ol></li>
</ul><br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小さなフィールドの場合、これは正常です。</font><font style="vertical-align: inherit;">通常、可能な組み合わせはほんのわずかです...待って、それは何ですか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/9n/k_/df9nk_sulyltttsf-u4pafb8fxe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大野！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g1/5w/nu/g15wnu_xlthcmvg94n7kjeqsg_k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか、私はなんとか1800万の可能な鉱山の場所のロックを解除することができました。</font><font style="vertical-align: inherit;">私のFirefoxは12ギガバイトのメモリを食い尽くしており、セルを開くには30分かかります。</font><font style="vertical-align: inherit;">明らかに、もっと良いアルゴリズムが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マインスイーパは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NPコンプリートゲーム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であるため、指数関数的に増加する時間が避けられない</font><font style="vertical-align: inherit;">ことに気付く人もいるかもしれ</font><font style="vertical-align: inherit;">ません。</font><font style="vertical-align: inherit;">そして一般的なケースでは、これは本当です-計算するのに長い時間がかかるポジションがあります。</font><font style="vertical-align: inherit;">しかし、小さな領域ではこれでうまくいきます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての組み合わせを覚える必要はありません。</font><font style="vertical-align: inherit;">すべての組み合わせを計算する必要さえありません。</font><font style="vertical-align: inherit;">必要なのは方法です：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セルが安全か、危険か、曖昧かを確認し、</font></font></li>
<li>    (,   ,       ).</li>
</ul><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自分でオプションを試す代わりに、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SATソルバー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用します</font><font style="vertical-align: inherit;">。これらは、論理変数で構成される式を受け取り、式を真にする値のセットを探すツールです。そのような想像上の、しかし非常に有効な方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より強力なソフトウェアのクラスは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMTソルバー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、これは、一次論理（量化子）、配列、整数など、より広い範囲の値と数式を処理します。これは、少なくとも整数のいくつかの方程式を定義するのに役立ちます。しかし、ブラウザで動作するものが必要です。人々はなんとか</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z3Proverの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようないくつかの洗練されたツールを</font><font style="vertical-align: inherit;">ブラウザーに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">移植でき</font></a><font style="vertical-align: inherit;">ましたが、WebAssemblyバージョンの方が重いです</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 MB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それは多すぎる。</font><font style="vertical-align: inherit;">Joel GalensonによってJavascript用にコンパイルされた小さなSATソルバーである</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">MiniSat</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を見つけました</font><font style="vertical-align: inherit;">。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">コンパイルしたファイルの</font></a><font style="vertical-align: inherit;">サイズは200キロバイトなので、使用します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNFの公式</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SATソルバーは、連言正規方程式（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）で機能します。たとえば、CNFの式は「ORのAND」です。たとえば</font></font><br>
<br>
<code>(a | ~ b | ~ c) &amp; (c | d ~ e) &amp; f</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、文の論理式（変数、含意、または含意ではない）のすべての式をCNFに変換できるため、一種の汎用フォーマットになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうやって使うの？ボードがある</font><font style="vertical-align: inherit;">
とします</font><font style="vertical-align: inherit;">：</font><font style="vertical-align: inherit;">不明なセルの変数を作成する場合（時計回り：x1、x2、x3）、それらは次の方程式を満たさなければなりません：</font><font style="vertical-align: inherit;">
しかし、CNFで「変数の合計は2」を表現する方法は？</font><font style="vertical-align: inherit;">
後で学んだように、「二項コーディング」と呼ばれる最も単純なコーディング方法を見つけました。変数のすべての可能なサブセットを考慮する必要があります。たとえば</font><font style="vertical-align: inherit;">、次の数式</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">必要な場合：</font></font><br>
<br>
<code>? ? 1<br>
2 ? 1</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>1 + 2 + 3 = 2<br>
2 + 3 = 1<br>
2 + 3 = 1 (   )</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>x1 + x2 + x3 = 2 </code><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つの変数のサブセットごとに、少なくとも1つがtrueです。</font><font style="vertical-align: inherit;">これにより、金額は1より大きくなります。</font></font><br>
<code>(x1 | x2) &amp; (x1 | x3) &amp; (x2 | x3)</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少なくとも1つの変数がfalseです。</font><font style="vertical-align: inherit;">これにより、金額は3未満になります。</font></font><br>
<code>(~ x1 | ~ x2 | ~ x3)</code></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下のために</font></font><code>x2 + x3 = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は私の式の同様のセットが必要になります。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少なくとも1つの変数が正しい： </font></font><code>(x2 | x3)</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少なくとも1つの変数がfalse </font></font><code>(~ x2 | ~ x3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを組み合わせると、6ポイントのCNF式が得られます。標準のDIMACS形式：</font><font style="vertical-align: inherit;">
すべてのポジションラインは0で終わり、否定はマイナスでマークされます。 MiniSatに接続すると（自分で試してみてください）、次のようになります。</font><font style="vertical-align: inherit;">
これは、MiniSatがx1とx2がtrueでx3がfalseであるソリューションを見つけたことを意味します。ボードは次のようになります。</font><font style="vertical-align: inherit;">
プログラム全体はもう少し複雑です。これは1つのソリューションにすぎず、別のソリューションがあります。したがって、x1、x2、x3がtrue（またはfalse）であるかどうかを確認するには、さらにリクエストを行う必要があります。私は尋ねる必要があります：「上記の式とx1を考えると、これは実現可能ですか？上記の式、および〜x1 "はどうですか？</font></font><br>
<br>
<code>p cnf 3 6<br>
1 2 0<br>
1 3 0<br>
2 3 0<br>
-1 -2 -3 0<br>
2 3 0<br>
-2 -3 0 </code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>SAT 1 2 -3</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>! ! 1<br>
2 . 1</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンコーディングとは、一連の変数のすべての可能な組み合わせ（たとえば、3のすべてのサブセット）を見つける必要があることを意味します。</font><font style="vertical-align: inherit;">ただし、この方程式では変数は8つまでしかありません。そのため、式は通常、MiniSatがすばやく解くことができるほど十分に小さくなります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最小追跡</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、これは完全なソリューションではありません！残っている地雷の数を追跡する必要があります。一部の組み合わせは不可能です。それ以外の場合、許可されているよりも多くの地雷を作成でき、勝つことが不可能になるためです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vj/ic/pz/vjicpzij8cclzqcvewcn3hpzgpq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、逆の場合も可能です。地雷が少なすぎると、配置するものがなくなるため、ゲームは終了します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、「地雷の数はX以上Y以下」であることをSATの公式で示す必要があります。最初は、すべての組み合わせでこのトリックを使用できると思いました。残念ながら、それは大きな数ではうまく機能しません。たとえば、20セルと10分がある場合、数値を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二項係数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に接続した後</font><font style="vertical-align: inherit;">、組み合わせの数はすでに6桁</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">である</font></a><font style="vertical-align: inherit;">ことがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数の合計をSAT式にエンコードする方法は他にもたくさんあることがわかりました。個々の変数を組み合わせるスキーマを作成する必要があります。たとえば、</font><font style="vertical-align: inherit;">StackExchangeの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この回答</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結局、</font><font style="vertical-align: inherit;">Olivier BaillotとYasin Bufhad </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって書かれた</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Effective CNF Encoding with Boolean Cardinality Constraints」というタイトルの記事からアイデアを実現しました</font><font style="vertical-align: inherit;">。単項数を再帰的に追加する（またはビットを並べ替えて全員が最初になるようにする）ツリーが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cg/_s/n8/cg_sn8kuz4tyzsklfiftc9pxr6i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この図の最後に、「出力」変数のソートされたセットが表示されます。合計がX以上であることを確認するには、結果の変数の最初のXが1であることを確認します。合計がY以下であることを主張するには、結果の変数の最後のN-Yが0であることを確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、可能なすべての組み合わせを使用するよりもはるかに優れています。ただし、このスキームは文generates（N ^ 2）を生成するため、依然として不合理です。オープンセルの数が約100になると、ゲームが遅くなります。ゲームをさらに最適化できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リクエストを減らす</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題を調査していると、ソルバーへのクエリの数を減らすことができることに気付きました。</font><font style="vertical-align: inherit;">私はすべてのセルのステータスを確認したいと考えていました（つまり、セルが危険であるか、安全であるかどうかが確認されています）。</font><font style="vertical-align: inherit;">単純なループを使用してこれを行いました。</font><font style="vertical-align: inherit;">ボードが式Fで記述されているとします。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><code>F &amp; ~ x1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x1が0かどうかを確認するかどうかを</font><font style="vertical-align: inherit;">決定し</font><font style="vertical-align: inherit;">ます</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>F &amp; x1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x1が1かどうかを確認するかどうかを</font><font style="vertical-align: inherit;">決定し</font><font style="vertical-align: inherit;">ます</font></font></li>
<li><font style="vertical-align: inherit;"></font><code> F &amp; ~ x2 </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x2が0になる可能性があるかどうかを確認</font><font style="vertical-align: inherit;">するため</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">決定する</font></font></li>
<li><font style="vertical-align: inherit;"></font><code>F &amp; x2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x2が1かどうかを確認するかどうかを</font><font style="vertical-align: inherit;">決定し</font><font style="vertical-align: inherit;">ます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は何に気づきましたか？</font><font style="vertical-align: inherit;">F＆〜x1の解を取得すると、他のすべての変数の値も含まれます。</font><font style="vertical-align: inherit;">これはすでに他の多くの質問に答えています：ソリューションにx2 = 0が含まれている場合、x2が0であるかどうかを尋ねる必要はありません。これはすでに知っているためです。</font><font style="vertical-align: inherit;">これにより、リクエスト数を約2〜5倍に減らすことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャッシング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、「カウント」回路によって生成される巨大な数式の問題を解決しません。すでに述べたように、文の数はN ^ 2のオーダーです。大きなボードでは、式は最大10,000の仮定になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸い、ほとんどの場合、多くの細胞の正確な意味を知っています。セルが空であるか、塗りつぶされていることが保証されている場合、値は変更されません。これは、それをキャッシュして、SAT式に含めないことを意味します。セルの状態を決定したら、それを再び計算に含める必要はありません。セルは、定義されていない限り使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この最適化は少し危険です。ボード全体の正確性を確認する公式はもはやありません。他のすべてが計画どおりに機能する場合、これは問題ではありませんが、エラー追跡が複雑になる可能性があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のケース：海外で遊ぶ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィールドの開いている領域と開いていない領域の境界線の外にあるマップ上の任意の場所をクリックすることはできますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は、推測と同じだと思っていました。安全なセルがない場合は、フィールドの任意の場所をクリックするだけです。</font><font style="vertical-align: inherit;">しかし、これが空のケージの開放を保証するのは奇妙だと考える人もいます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、枠外のクリックは常に罰せられるようにゲームを変更しました。</font><font style="vertical-align: inherit;">もちろん、ゲームの開始を除いて、ボード全体が「外」にあるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、別のシナリオがあることがわかります。すべての境界線フィールドが致命的である場合はどうなりますか？</font><font style="vertical-align: inherit;">
あなたは他に何かを明らかにするしかない。</font><font style="vertical-align: inherit;">この状況は、ゲームを最初から通行不可能にする可能性があります。</font><font style="vertical-align: inherit;">したがって、もう1つ例外があります。</font><font style="vertical-align: inherit;">次の場合、国境を越えてプレイすることが許可されます。</font></font><br>
<br>
<code>3 . .<br>
. . .<br>
. . .<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドは開いていません</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイニングされたセルは境界線上にある可能性があります（外側をクリックしても安全です）、または</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界線上のすべてのセルに爆弾がなければなりません（外側をクリックする必要があります）。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：制限はやや人為的であるため、変更は物議を醸すことが判明しました。</font><font style="vertical-align: inherit;">これらの条件でのプレイを許可/禁止するスイッチを追加しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはすべてです</font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
でKaboomをプレイでき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。デバッグモードをオンにしてみてください。ゲームは簡単になりますが、それがどのように機能するかをよく示しています。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Github</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ソースコード</font><font style="vertical-align: inherit;">。彼はあまりハンサムではない。</font><font style="vertical-align: inherit;">PuTTYの作成者であるSimon Tathamの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">同様のゲームに</font></a><font style="vertical-align: inherit;"> 
も興味があるかもしれません</font><font style="vertical-align: inherit;">。そのバージョンには別のひねりがあります。それは推測なしで常に解決可能です。</font><font style="vertical-align: inherit;">
賢くプレイしましょう！</font><b><font style="vertical-align: inherit;">上で読むことが有益な他に何をすることができ</font></b><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Cloud4Yの</font></a></b><b><font style="vertical-align: inherit;">ブログ</font></b><font style="vertical-align: inherit;"> 
→ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">銀行は「壊した」方法</font></a><font style="vertical-align: inherit;"> 
→ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">個人のプライバシーを？いいえ、聞こえませんでした</font></a><font style="vertical-align: inherit;"> 
→ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">雪片</font></a><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">大理論</font></a><font style="vertical-align: inherit;"> 
→ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">仮想EDGEルーターのネットワーク接続の診断</font></a><font style="vertical-align: inherit;"> 
→</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a></b><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRISPR耐性ウイルスは、DNA侵入酵素からゲノムを保護するためのシェルターを構築</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
します</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">。</font></a><font style="vertical-align: inherit;">別の記事を見逃さないよう</font><font style="vertical-align: inherit;">に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャンネルに</font><font style="vertical-align: inherit;">登録して</font><font style="vertical-align: inherit;">ください！</font><font style="vertical-align: inherit;">執筆は週に2回以下であり、業務上のみです。</font><font style="vertical-align: inherit;">スタートアップは100万ルーブルを獲得できることを思い出してください。</font><font style="vertical-align: inherit;">Cloud4Yから。</font><font style="vertical-align: inherit;">希望する方のための利用規約-私たちのウェブサイト：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bit.ly/2sj6dPK</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja487038/index.html">突然、ごみ収集システムだけでは不十分</a></li>
<li><a href="../ja487040/index.html">Android版Firefox Preview NightlyがuBlock Originをサポート</a></li>
<li><a href="../ja487042/index.html">64コアのRyzen Threadripper 3990Xは、20,000ドルのXeonを含むすべてのIntelプロセッサーをテストで打ち負かします</a></li>
<li><a href="../ja487044/index.html">プライバシー？聞いたことがない</a></li>
<li><a href="../ja487046/index.html">Androidのネイティブライブラリを構築する方法</a></li>
<li><a href="../ja487054/index.html">ROS：ガゼボで立ち往生している人に捧げる... 28,000ルーブルのロボット用プラットフォーム</a></li>
<li><a href="../ja487056/index.html">インターネット上でRDPを開いたままにしておくのは危険ですか？</a></li>
<li><a href="../ja487058/index.html">「Hadoop。ZooKeeper「Mail.Ruグループテクノストリームシリーズ」「Hadoopでの大規模データの分散処理」</a></li>
<li><a href="../ja487060/index.html">Google Chromeを使用していますか？したがって、GoogleはX-client-dataを介してデータを収集します</a></li>
<li><a href="../ja487062/index.html">CBSのおかげで、Linuxユーザーはスタートレックを見ることができました。</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>