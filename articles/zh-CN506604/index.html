<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“¶ ğŸ§˜ğŸ¾ ğŸ‘¨ğŸ¼â€ğŸŒ¾ å¹¶å‘å’Œæ•ˆç‡ï¼šPythonä¸FSM ğŸ›³ï¸ ğŸ‘¨â€ğŸ’¼ â¬›ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘æ‰¿è®¤ï¼Œä½†æˆ‘ä¸äº†è§£Pythonã€‚åªæ˜¯å› ä¸ºæˆ‘ä¸ä½¿ç”¨å®ƒã€‚å°½ç®¡å¦‚æ­¤ï¼Œåœ¨ç ”ç©¶å®ƒçš„å‘å±•ä»¥åŠè¯•å›¾è§£é‡Šç¥ç§˜çš„ç¼©å†™GILæ—¶ï¼Œæˆ‘å»äº†ä¸€ç¯‡æ–‡ç« ï¼Œæè¿°äº†Pythonä¾èµ–äºCPUçš„å¹¶è¡ŒåŠŸèƒ½çš„å¹¶è¡Œç‰ˆæœ¬çš„â€œè«åå…¶å¦™çš„é­”æœ¯ç°è±¡â€ã€‚å¸Œæœ›é‡æ–°æ£€æŸ¥è¯¥æµ‹è¯•ï¼Œå¹¶å°†å…¶ä¸å¯è§†åŒ–ç»„ä»¶ç¼–ç¨‹ï¼ˆè‡ªåŠ¨ï¼‰-VKPï¼ˆaï¼‰ç¯å¢ƒä¸­çš„çŠ¶æ€æœºæ¨¡å‹ï¼ˆç®€ç§°ä¸ºæœ‰é™çŠ¶æ€æœº...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>å¹¶å‘å’Œæ•ˆç‡ï¼šPythonä¸FSM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506604/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘æ‰¿è®¤ï¼Œä½†æˆ‘ä¸äº†è§£Pythonã€‚åªæ˜¯å› ä¸ºæˆ‘ä¸ä½¿ç”¨å®ƒã€‚å°½ç®¡å¦‚æ­¤ï¼Œåœ¨ç ”ç©¶å®ƒçš„å‘å±•ä»¥åŠè¯•å›¾è§£é‡Šç¥ç§˜çš„ç¼©å†™GILæ—¶ï¼Œæˆ‘å»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†ä¸€ç¯‡æ–‡ç« ï¼Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æè¿°äº†Pythonä¾èµ–äºCPUçš„å¹¶è¡ŒåŠŸèƒ½çš„å¹¶è¡Œç‰ˆæœ¬çš„â€œè«åå…¶å¦™çš„é­”æœ¯ç°è±¡â€ã€‚å¸Œæœ›é‡æ–°æ£€æŸ¥è¯¥æµ‹è¯•ï¼Œå¹¶å°†å…¶ä¸å¯è§†åŒ–ç»„ä»¶ç¼–ç¨‹ï¼ˆè‡ªåŠ¨ï¼‰-VKPï¼ˆaï¼‰ç¯å¢ƒä¸­çš„çŠ¶æ€æœºæ¨¡å‹ï¼ˆç®€ç§°ä¸ºæœ‰é™çŠ¶æ€æœºæˆ–FSMï¼‰å½¢å¼çš„ç­‰æ•ˆå®ç°è¿›è¡Œæ¯”è¾ƒã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ˜¾ç„¶</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»ä½•</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥ç¨‹åºåœ¨æŸç§ç¨‹åº¦ä¸Šå–å†³äºCPUã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœè¿™ä¸ä»…æ˜¯æ±‡ç¼–ç¨‹åºï¼Œåˆ™é€šè¿‡ä½¿ç”¨ä¸€ç§æˆ–å¦ä¸€ç§é«˜çº§è¯­è¨€è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬å°†æ›´æœ‰å¯èƒ½æ£€æŸ¥å…¶éšè—çš„è½¯ä»¶å±‚ã€‚å› æ­¤ï¼Œè€ƒè™‘åˆ°Pythonï¼Œè°ˆè®ºå…¶è§£é‡Šå™¨å¯¹CPUçš„ä¾èµ–ä¼šæ›´æ­£ç¡®ã€‚ç”šè‡³å¯ä»¥è¯´ï¼ŒPythonç¨‹åºçš„é€Ÿåº¦å–å†³äºè§£é‡Šå™¨çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”å…·æœ‰ç‰¹å®šçš„â€œç¥ç§˜ä¸»ä¹‰â€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ—¶ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½å‡ ä¹ä¸ä¾èµ–CPUï¼ˆæˆ‘ä»¬å°†çœ‹åˆ°è¿™ä¸€ç‚¹ï¼‰ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬æ­£åœ¨è°ˆè®ºçš„æ˜¯å…¶è®¡ç®—æ¨¡å‹ä¸å…¸å‹å¤„ç†å™¨ä½“ç³»ç»“æ„ä¸åŒçš„è¯­è¨€ã€‚</font><font style="vertical-align: inherit;">Pythonçš„è®¡ç®—æ¨¡å‹ä¸ä¹‹ç›¸å¯¹åº”ï¼Œç¨åå°†è®¨è®ºçš„è®¡ç®—è‡ªåŠ¨æœºæ¨¡å‹å…·æœ‰ä¸åŒçš„ä½“ç³»ç»“æ„ï¼Œè¿™å°†å†³å®šå…¶æµ‹è¯•çš„ç»†èŠ‚ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨â€œè‡ªåŠ¨æœºä»£ç â€çš„æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå°†æ­ç¤ºé€Ÿåº¦ä»¥åŠç¥ç§˜äº‹ç‰©æ˜¯å¦ä¼šå‘ç”Ÿ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¸…å•1å’Œ2åˆ†åˆ«æ˜¾ç¤ºäº†ä»æœ¬æ–‡ä¸­å€Ÿç”¨çš„Pythonä»£ç çš„ä¸²è¡Œå’Œå¹¶è¡Œç‰ˆæœ¬ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒç”¨å›ºå®šå·¥ä½œæ—¶é—´çš„è¡Œè¿›è¡Œäº†è¡¥å……ï¼Œå¹¶ä¸”é¡ºåºæµ‹è¯•åŒ…å«åœ¨â€œåŒ…è£…å™¨â€ä¸­ï¼Œè¯¥åŒ…è£…å™¨å…è®¸æ‚¨è®¾ç½®é‡å¤æ¬¡æ•°ï¼ˆç”±äºæˆ‘ç†Ÿæ‚‰Pythonä¸­çš„è£…é¥°å™¨ï¼‰ã€‚ </font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•1.ç”¨Pythonè¿›è¡Œé¡ºåºCPUæµ‹è¯•</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">import</span> time

def <span class="hljs-title">count</span><span class="hljs-params">(n)</span>:
  st_time </span>= time.time()
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<font></font>
    n -= <span class="hljs-number">1</span><font></font>
  t = time.time() - st_time<font></font>
  print(<span class="hljs-string">"speed CPU------%s---"</span> % t)
  <span class="hljs-keyword">return</span> t<font></font>
<font></font>
def TestTime(fn, n):<font></font>
  def wrapper(*args):<font></font>
    tsum=<span class="hljs-number">0</span><font></font>
    st = time.time()<font></font>
    i=<span class="hljs-number">1</span>
    <span class="hljs-keyword">while</span> (i&lt;=n):<font></font>
      t = fn(*args)<font></font>
      tsum +=t<font></font>
      i +=<span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> tsum
  <span class="hljs-keyword">return</span> wrapper<font></font>
<font></font>
test1 = TestTime(count, <span class="hljs-number">2</span>)<font></font>
tt = test1(<span class="hljs-number">100000000</span>)<font></font>
print(<span class="hljs-string">"Total ---%s seconds ---"</span> % tt)
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•2.å¹¶è¡ŒCPUæµ‹è¯•</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">import</span> time
from threading <span class="hljs-keyword">import</span> Thread
def <span class="hljs-title">count</span><span class="hljs-params">(n)</span>:
  start_time </span>= time.time()
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<font></font>
    n -= <span class="hljs-number">1</span>
  print(<span class="hljs-string">"speed CPU-%s seconds ---"</span> % (time.time() - start_time))<font></font>
<font></font>
k = <span class="hljs-number">2</span>
<span class="hljs-keyword">while</span> k &gt; <span class="hljs-number">0</span>:<font></font>
  print(<span class="hljs-string">"k=%d "</span> % k)<font></font>
  t1 = Thread(target=count,args=(<span class="hljs-number">100000000</span>,)); t1.start()<font></font>
  t2 = Thread(target=count,args=(<span class="hljs-number">100000000</span>,)); t2.start()<font></font>
  t1.join();<font></font>
  t2.join();<font></font>
  k -= <span class="hljs-number">1</span>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å›¾1å’Œå›¾2æ˜¾ç¤ºäº†åœ¨2.5 GHzï¼Œ6.0 GB RAMçš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªè¿ç»­æµ‹è¯•è¿è¡Œï¼ˆPython 3.8.3 64ä½ï¼‰è·å¾—çš„æµ‹è¯•ç»“æœã€‚</font><font style="vertical-align: inherit;">ç»“æœå¦‚ä¸‹ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¡ºåºæµ‹è¯•-14.221ç§’</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶è¡Œæµ‹è¯•-13.995ç§’</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ‰å…³GILçš„æ–‡ç« ï¼ˆä»¥ä¸‹ç®€ç§°åŸå§‹æ–‡ç« ï¼‰ä¸­ï¼Œåˆ†åˆ«ä¸º24.6ç§’å’Œ45.5ç§’ã€‚</font><font style="vertical-align: inherit;">å¹¶è¡Œæµ‹è¯•çš„æ—¶é—´å€¼å¾—æ³¨æ„ã€‚</font><font style="vertical-align: inherit;">ä¸åŸå§‹æ–‡ç« çš„ç»“æœç›¸æ¯”ï¼Œè¿™è¡¨æ˜ï¼Œå³ä½¿ä»…ä»è§£é‡Šå™¨å®ç°å¹¶è¡Œæ€§çš„è§’åº¦æ¥çœ‹ï¼ˆå°½ç®¡è¿™åªæ˜¯ä¸€ä¸ªå‡è®¾ï¼‰ï¼Œäº‹æƒ…å·²ç»å–å¾—äº†è¿›å±•ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uo/mk/w6/uomkw6xfskl2xmcvhqzzuqo1yrk.jpeg" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚1ã€‚</font><font style="vertical-align: inherit;">Pythoné¡ºåºæµ‹è¯•è¿è¡Œæ—¶</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/w6/il/dw/w6ildwbdjwthschinfwkvvh66vc.jpeg" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾2ã€‚</font><font style="vertical-align: inherit;">Pythonå¹¶è¡Œæµ‹è¯•è¿è¡Œæ—¶</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯·æ³¨æ„ï¼Œå¹¶è¡Œç‰ˆæœ¬æ¯”ç±»ä¼¼çš„é¡ºåºç‰ˆæœ¬æ…¢å‡ ä¹ä¸¤å€ã€‚è€Œä¸”ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºä¸‰ä¸ªæµï¼Œé‚£ä¹ˆç»“æœå°†æˆæ¯”ä¾‹åœ°å‡æ…¢ï¼ˆè§å›¾3ï¼‰ã€‚ç”±æ­¤å¯ä»¥å¾—å‡ºç»“è®ºï¼Œçº¿ç¨‹æ•°é‡çš„å¢åŠ å¯¼è‡´æ“ä½œæ—¶é—´çš„å¢åŠ ã€‚å¦‚æœæ‚¨ä¸æ‡‚å¾—æ·±å…¥äº†è§£ï¼Œé‚£ä¹ˆæŒ‰ç…§ç›®å‰å¯¹Pythonçš„äº†è§£ï¼Œå®ƒå¯èƒ½çœ‹èµ·æ¥åƒæ˜¯ç¥ç§˜ä¸»ä¹‰ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r7/lw/rm/r7lwrmuef38balputxp2u0vuguc.jpeg" alt="å›¾ç‰‡"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾3ã€‚åœ¨Pythonä¸­çš„ä¸‰ä¸ªçº¿ç¨‹ä¸Šè¿›è¡ŒCPUæµ‹è¯•</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
åœ¨ç»§ç»­åˆ›å»ºè‡ªåŠ¨ä»£ç å¹¶åœ¨VKPï¼ˆaï¼‰ç¯å¢ƒä¸­è¿›è¡Œæµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬è€ƒè™‘åœ¨å…¶å¤–éƒ¨æ‰§è¡Œè‡ªåŠ¨æœºã€‚å›¾ä¸­æ˜¾ç¤ºäº†è‡ªåŠ¨æœºå›¾å½¢å¼çš„æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ç­‰æ•ˆäºåŸå§‹æ–‡ç« çš„ç®—æ³•ã€‚ 4.ä»å„ç§å¯èƒ½çš„é€‰é¡¹ä¸­é€‰æ‹©ï¼ˆä¾‹å¦‚ï¼Œå‚è§</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ç« </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ä»¥æ‰€è°“çš„SWITCHæŠ€æœ¯çš„æ ¼å¼ï¼ˆæœ€è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¯·å‚é˜…</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITMOç½‘ç«™</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰æ¥</font><font style="vertical-align: inherit;">è€ƒè™‘æœ€å…¸å‹å’Œ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">æœ€è‘—åçš„å†…å®¹</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ¯”è¾ƒPythonç¨‹åºå’ŒC ++å®ç°ã€‚</font><font style="vertical-align: inherit;">æ¸…å•3ä¸­æ˜¾ç¤ºäº†ä¸å›¾ç›¸å¯¹åº”çš„C ++ä»£ç åŠå…¶å¯åŠ¨ä»£ç ï¼ˆè¯·å‚è§mainå‡½æ•°ï¼‰</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8l/io/zk/8liozkw_9cogioozutoi3xsadoq.jpeg" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">CPUç›¸å…³åŠŸèƒ½çš„è‡ªåŠ¨åŒ–æ¨¡å‹</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•3.å®ç°ä¸€ä¸ªC ++æµ‹è¯•</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FsmCount</span>
{</span>
<span class="hljs-keyword">public</span>:<font></font>
    FsmCount(<span class="hljs-keyword">int</span> n) { nCount = n; nState = <span class="hljs-number">0</span>; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ExecOneStep</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">int</span> nState;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-keyword">int</span> nCount;
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FsmCount.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FsmCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> nCount &gt; <span class="hljs-number">0</span>; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::y1</span><span class="hljs-params">()</span> </span>{ nCount--; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::ExecOneStep</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">switch</span> (nState) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
        <span class="hljs-keyword">if</span> (x1())<font></font>
            y1();<font></font>
        <span class="hljs-keyword">else</span> nState = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QCoreApplication&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FsmCount.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span>
</span>{
    <span class="hljs-function">QCoreApplication <span class="hljs-title">a</span><span class="hljs-params">(argc, argv)</span></span>;<font></font>
<font></font>
    QTime time;<font></font>
    FsmCount *pFsmCount{<span class="hljs-literal">nullptr</span>};<font></font>
<font></font>
    pFsmCount = <span class="hljs-keyword">new</span> FsmCount(<span class="hljs-number">100000000</span>);<font></font>
    time.start();<font></font>
    <span class="hljs-keyword">while</span> (!pFsmCount-&gt;nState)<font></font>
        pFsmCount-&gt;ExecOneStep();<font></font>
    <span class="hljs-keyword">double</span> dTime = QString::number(time.elapsed()).toDouble();
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%f"</span>, dTime);
    <span class="hljs-keyword">if</span> (pFsmCount) <span class="hljs-keyword">delete</span> pFsmCount;<font></font>
<font></font>
    <span class="hljs-keyword">return</span> a.exec();<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æåˆ°çš„ç¡¬ä»¶åŸºç¡€ä¸Šçš„æµ‹è¯•è¿è¡Œæ—¶é—´åœ¨250æ¯«ç§’å†…ã€‚</font><font style="vertical-align: inherit;">è¿™æ¯”Pythonä»£ç å¿«55å€ä»¥ä¸Šã€‚</font><font style="vertical-align: inherit;">ç”¨ä¸¤ä¸ªçº¿ç¨‹çš„å¹¶è¡Œæµ‹è¯•ç”¨ä¾‹è¿›è¡Œäº†æ¯”è¾ƒï¼ˆè§å›¾2ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œå¦‚æœåœ¨ä¸è¶…å‡ºæ“ä½œ/æ–¹æ³•y1çš„å‰æä¸‹è®¡ç®—å‡½æ•°ï¼Œåˆ™é€Ÿåº¦ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥æé«˜ï¼ˆè¯·å‚è§æ¸…å•4ï¼‰ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œæµ‹è¯•é€Ÿåº¦é™ä½åˆ°äº†ä¸åˆ°1æ¯«ç§’ï¼ˆå¾ˆéš¾è¯´å¾—æ›´å‡†ç¡®ï¼Œå› ä¸ºæµ‹è¯•ç»™å‡ºçš„å€¼ä¸ºé›¶ï¼‰ã€‚</font><font style="vertical-align: inherit;">å¦‚æœç”šè‡³å°†æ­¤å€¼ä½œä¸ºåŸºç¡€ï¼Œåˆ™é€Ÿåº¦æ¯”Pythonå¿«14000ï¼ˆï¼ï¼‰å€ã€‚</font><font style="vertical-align: inherit;">å¾ˆæ˜æ˜¾ï¼Œåœ¨è®¾è®¡ç›¸åŒçš„å®æ—¶ç³»ç»Ÿæ—¶ä¸ºä»€ä¹ˆé¦–é€‰C ++ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•4. FsmCountç±»çš„å¿«é€Ÿæ–¹æ³•å˜ä½“</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::y1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (nCount&gt;<span class="hljs-number">0</span>)<font></font>
        nCount--;<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çš„ä¸‹ä¸€ä¸ªç›®æ ‡æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†Pythonä¸CPSUï¼ˆaï¼‰ç¯å¢ƒ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿›è¡Œ</font><i><font style="vertical-align: inherit;">æ¯”è¾ƒ</font></i><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¦‚ä¸Šæ‰€è¿°ï¼Œè‡ªåŠ¨æµ‹è¯•åº”ä¸å›¾1ä¸­çš„æ¨¡å‹ç›¸å¯¹åº”ã€‚</font><font style="vertical-align: inherit;">4.ä»–çš„ä»£ç æ˜¾ç¤ºäº†æ¸…å•5ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•5.è‡ªåŠ¨åŒ–çš„CPUæµ‹è¯•ç¨‹åº</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FCount(<span class="hljs-built_in">string</span> strNam);<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FCount.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>),<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x12"</span>, <span class="hljs-string">"y2"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x1"</span>, <span class="hljs-string">"y3"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FCount::FCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam)<font></font>
{ }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> n = <span class="hljs-keyword">int</span>(pVarCount-&gt;GetDataSrc());<font></font>
    pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, --n);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y2</span><span class="hljs-params">()</span> </span>{<font></font>
    time.start();<font></font>
    pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarExtVarCount-&gt;GetDataSrc());<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æµ‹è¯•æ‰§è¡Œæ—¶é—´ä¸º5.35ç§’ï¼Œå‘¨æœŸæ•°ä¸º100,000ã€‚ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿«é€Ÿ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++ </font><font style="vertical-align: inherit;">ç¼–å†™</font><font style="vertical-align: inherit;">ï¼Œå®ƒçš„è¿è¡Œé€Ÿåº¦æ¯”Pythonä¸­çš„å¹¶è¡Œæµ‹è¯•æ…¢2600å€ï¼ˆï¼ï¼Ÿï¼‰ã€‚è¿™æ ·çš„ç»“æœä¸å…è®©äººçƒ¦æ¼ï¼š(ä½†æ˜¯ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ç¦»æ•£æ—¶é’Ÿçš„æŒç»­æ—¶é—´ä¸º0.0535 msã€‚ä¾‹å¦‚ï¼ŒOVEN-100ç±»å‹çš„æ ‡å‡†PLCå‘¨æœŸä¸º1 msï¼Œå› æ­¤ï¼Œä»å®æ—¶æ§åˆ¶ç³»ç»Ÿçš„è§’åº¦æ¥çœ‹ï¼Œç»“æœæ˜¯ç›¸å½“ä¸é”™çš„ã€‚ä¹ä¸€çœ‹ï¼Œç»“æœä¸åˆ©äºAPï¼Œå› ä¸ºä»£ç é‡å·¨å¤§ï¼Œå¹¶ä¸”é€Ÿåº¦ä¼šå¼•èµ·ä¸€å®šçš„è­¦æŠ¥ï¼ˆä¾‹å¦‚ï¼Œå¯¹äºçº¯è®¡ç®—ä»»åŠ¡ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨C ++ä½œä¸ºVKPçš„è®¾è®¡è¯­è¨€ï¼ˆaï¼‰ä½¿è§£å†³å·²å‡ºç°çš„é€Ÿåº¦é—®é¢˜å˜å¾—éå¸¸ç®€å•ã€‚æ¸…å•6æ˜¾ç¤ºäº†ä½¿ç”¨åŸºäºQtåº“çš„QThreadç±»çš„æ ‡å‡†ç³»ç»Ÿçº¿ç¨‹çš„è‡ªåŠ¨æœºçš„ä»£ç ã€‚ç»“æœï¼Œå³ä½¿å‘¨æœŸå¢åŠ åˆ°100000000ï¼Œæ—¶é—´ä¹Ÿé™è‡³70-80 msã€‚å› æ­¤ï¼Œä½¿ç”¨æµçš„æµ‹è¯•å·²ç»æ¯”Pythonä¸­çš„é€Ÿåº¦å¿«200å€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯·æ³¨æ„ï¼Œè·å¾—çš„ç»“æœæ˜¯æµ‹è¯•çš„è¾ƒæ…¢ç‰ˆæœ¬ï¼Œä¸CPSUçš„ç¯å¢ƒï¼ˆaï¼‰åŒæ­¥ã€‚å¦‚æœæ³¨é‡Šæ‰ä¸€è¡Œï¼ˆæ¸…å•6ï¼‰ï¼š</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">while</span> (bIfExecuteStep) { bIfExecuteStep = <span class="hljs-literal">false</span>; }, </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‚£ä¹ˆæ—¶é—´å°†â€œæ”¶ç¼©â€åˆ°1æ¯«ç§’æˆ–æ›´çŸ­ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œç›¸å¯¹äºPythonçš„é€Ÿåº¦å°†å·²ç»é«˜å‡º14,000å€ã€‚</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bIfExecuteStepæ ‡å¿—ç”±VKPï¼ˆaï¼‰ç¯å¢ƒç®¡ç†ã€‚</font><font style="vertical-align: inherit;">å®ƒæ˜¯åœ¨å½“å‰ç¦»æ•£é‡åº¦çš„å¼€å§‹å¤„è®¾ç½®çš„ã€‚</font><font style="vertical-align: inherit;">ä»‹ç»äº†ä¸è¿‡ç¨‹è‡ªåŠ¨æœºç©ºé—´çš„ç¦»æ•£æ—¶é—´åŒæ­¥çš„æ–¹æ³•ã€‚</font></font><br>
</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æé«˜é€Ÿåº¦ï¼Œæˆ‘ä»¬åˆ›å»ºäº†è‡ªåŠ¨æœºå’Œæµçš„ç»„åˆï¼Œå…¶ä¸­æµå®ç°æ‰€éœ€çš„åŠŸèƒ½ï¼Œç„¶åè‡ªåŠ¨æœºå°†å…¶åŒ…è£…ã€‚</font><font style="vertical-align: inherit;">äº‹å®è¯æ˜è¿™æ˜¯ä¸€ä¸ªç›¸å½“å…·ä½“çš„å¯¹è±¡ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è§£å†³äº†æé«˜å·¥ä½œé€Ÿåº¦çš„é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å†³å®šäº†è¿™ä¸€ç‚¹ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•6.åŸºäºçº¿ç¨‹çš„CPUæµ‹è¯•</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QThread&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThCount</span> :</span> <span class="hljs-keyword">public</span> QThread<font></font>
{<font></font>
    Q_OBJECT<font></font>
<span class="hljs-keyword">public</span>:<font></font>
    ThCount(QCount *p, QObject *parent);<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-keyword">bool</span> bIfRun{<span class="hljs-literal">false</span>};
    <span class="hljs-keyword">bool</span> bIfStop{<span class="hljs-literal">false</span>};
    <span class="hljs-keyword">bool</span> bIfExecuteStep{<span class="hljs-literal">false</span>};<font></font>
    QCount *pQCount;<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ExecuteThreadStep</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">WaitForThreadToFinish</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> QCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    QCount(<span class="hljs-built_in">string</span> strNam);
    <span class="hljs-keyword">virtual</span> ~QCount(<span class="hljs-keyword">void</span>);<font></font>
    ThCount  *pThCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount;<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
<font></font>
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThCount</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"QCount.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTimer&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"s2"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s2"</span>,		<span class="hljs-string">"s3"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"y2"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s3"</span>,		<span class="hljs-string">"s2"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<font></font>
QCount::QCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
<font></font>
QCount::~QCount(<span class="hljs-keyword">void</span>) { }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">QCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarExtVarCount = <span class="hljs-literal">nullptr</span>;<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::ExecuteThreadStep</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">if</span> (pThCount) pThCount-&gt;bIfExecuteStep = <span class="hljs-literal">true</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::WaitForThreadToFinish</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (pThCount) {
        <span class="hljs-comment">//  </span>
        pThCount-&gt;bIfRun = <span class="hljs-literal">false</span>;<font></font>
        pThCount-&gt;quit();<font></font>
        pThCount-&gt;wait(<span class="hljs-number">500</span>);<font></font>
        pThCount-&gt;<span class="hljs-built_in">terminate</span>();<font></font>
    }<font></font>
    <span class="hljs-keyword">delete</span> pThCount;<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">QCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">QCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }
<span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y1</span><span class="hljs-params">()</span> </span>{<font></font>
    pThCount    = <span class="hljs-keyword">new</span> ThCount(<span class="hljs-keyword">this</span>, pTAppCore-&gt;pMainFrame);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y2</span><span class="hljs-params">()</span> </span>{ pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarExtVarCount-&gt;GetDataSrc()); }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
<span class="hljs-comment">//                         </span><font></font>
ThCount::ThCount(QCount *p, QObject *parent) :<font></font>
    QThread(parent)<font></font>
{<font></font>
    pQCount = p;<font></font>
    bIfRun = <span class="hljs-literal">true</span>;      <span class="hljs-comment">//   / </span>
    start(QThread::IdlePriority);            <span class="hljs-comment">//  </span><font></font>
}<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ThCount::run</span><span class="hljs-params">()</span>
</span>{<font></font>
    bIfStop = <span class="hljs-literal">false</span>;       <span class="hljs-comment">//    </span>
    pQCount-&gt;pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, <span class="hljs-string">""</span>, <span class="hljs-literal">nullptr</span>);<font></font>
    pQCount-&gt;pVarCount-&gt;SetDataSrc(pQCount, pQCount-&gt;pVarExtVarCount-&gt;GetDataSrc());<font></font>
    pQCount-&gt;pVarCount-&gt;UpdateVariable();<font></font>
    <span class="hljs-keyword">while</span>(bIfRun)  {
        <span class="hljs-keyword">if</span> (pQCount-&gt;pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>) {<font></font>
            bIfExecuteStep = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">int</span> n = pQCount-&gt;pVarCount-&gt;GetDataSrc();
            <span class="hljs-keyword">if</span> (n&gt;<span class="hljs-number">0</span>) {<font></font>
                pQCount-&gt;time.start();<font></font>
            }<font></font>
            pQCount-&gt;time.start();<font></font>
            <span class="hljs-keyword">while</span> (n&gt;<span class="hljs-number">0</span>) {<font></font>
                n--;<font></font>
                <span class="hljs-keyword">while</span> (bIfExecuteStep) { bIfExecuteStep = <span class="hljs-literal">false</span>; }<font></font>
            }<font></font>
            <span class="hljs-built_in">string</span> str = QString::number(pQCount-&gt;time.elapsed()).toStdString();<font></font>
            pQCount-&gt;pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(pQCount-&gt;time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
            pQCount-&gt;pVarCount-&gt;SetDataSrc(pQCount, <span class="hljs-number">0.0</span>);
            <span class="hljs-keyword">while</span> (n&lt;=<span class="hljs-number">0</span>) {<font></font>
                n = <span class="hljs-keyword">int</span>(pQCount-&gt;pVarCount-&gt;GetDataSrc());<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
    bIfStop = <span class="hljs-literal">true</span>;        <span class="hljs-comment">//    </span><font></font>
} <font></font>
</code></pre><br>
</div>
                    </div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è€ƒè™‘å¦ä¸€ä¸ªæµ‹è¯•ï¼Œæ³¨æ„çº¿ç¨‹çš„è¿è¡Œæ—¶é—´ã€‚</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”±äºå®ƒä»¬æ˜¯ç»å¯¹ç›¸åŒçš„ï¼Œç„¶ååŒæ—¶å¯åŠ¨ï¼Œå› æ­¤å®ƒä»¬å¿…é¡»åŒæ—¶å®Œæˆå·¥ä½œã€‚å¦‚æœå¯¹äºPythonï¼Œè¿™ä»…åœ¨æŸä¸ªé”™è¯¯å†…æ˜¯æ­£ç¡®çš„ï¼ˆè¯·å‚è§å›¾5ï¼‰ï¼Œåˆ™å¯¹äºCPSUä¸­çš„è¿‡ç¨‹ï¼ˆaï¼‰ï¼Œæ—¶é—´å®Œå…¨é‡åˆï¼ˆè¯·å‚è§å›¾6ï¼‰ã€‚æ³¨æ„ï¼Œå¦å¤–åˆ›å»ºçš„ç§’è¡¨å¯¹è±¡ï¼ˆç¡®å®šæµ‹è¯•åœ¨å…¶å¤–éƒ¨è¿è¡Œçš„æ—¶é—´ï¼‰æ˜¾ç¤ºçš„æ—¶é—´å®é™…ä¸Šä¸æµ‹è¯•/æµ‹è¯•æœ¬èº«æ‰€æµ‹é‡çš„æ—¶é—´ç›¸åŒï¼ˆè¯·å‚è§æ¸…å•4ï¼‰ã€‚</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤‡æ³¨2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€œ Stopwatchâ€æ˜¯ä¸€ä¸ªè‡ªåŠ¨è¿‡ç¨‹ï¼Œå®ƒåœ¨å—æ§è¿‡ç¨‹è¿›å…¥çŠ¶æ€â€œ s1â€æ—¶å¯åŠ¨å€’è®¡æ—¶ï¼Œå¹¶åœ¨å…¶è¿›å…¥â€‹â€‹çŠ¶æ€â€œ stâ€æ—¶ç¡®å®šæ—¶é—´</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆè¯·å‚è§æ¸…å•4ä¸­çš„è‡ªåŠ¨æœºè½¬æ¢è¡¨ï¼‰ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ye/m9/9j/yem99jhhwbjomjniiquk588avdq.jpeg" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾5ã€‚åœ¨Pythonä¸­æµ‹è¯•è¿è¡Œæ—¶é—´</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/gj/vv/la/gjvvlahvngzhh_agxuwgesij9l0.jpeg" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾6ã€‚ VKPç¯å¢ƒä¸­çš„æµ‹è¯•è¿è¡Œæ—¶é—´ï¼ˆaï¼‰</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¸å…¶ä»–æ¨¡å‹ç›¸æ¯”ï¼Œè‡ªåŠ¨æœºå…·æœ‰ç¦»æ•£æ—¶é—´ã€‚ç¦»æ•£æ—¶é’Ÿçš„å€¼å¯¹äºåŒæ­¥æœºå¯ä»¥æ˜¯å›ºå®šçš„ï¼Œå¯¹äºå¼‚æ­¥æœºå¯ä»¥æ˜¯æµ®åŠ¨çš„ï¼ˆæ ¹æ®Glushkov V.M.åˆ†ç±»ï¼‰ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸‹ä¸€ä¸ªæµ‹è¯•å°†æ˜¯æ£€æŸ¥CPSUçš„ç¯å¢ƒï¼ˆaï¼‰æ˜¯å¦å…·æœ‰åŒæ­¥æ€§</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ä¿æŒæ’å®šçš„ç¦»æ•£æ—¶é—´åº¦é‡çš„èƒ½åŠ›ã€‚å›æƒ³ä¸€ä¸‹ï¼Œåœ¨è‡ªåŠ¨æ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡ä¸­ç‰¹åˆ«éœ€è¦è‡ªåŠ¨æœºçš„åŒæ­¥æ“ä½œï¼ˆè¯·å‚è§è¯¦ç»†ä¿¡æ¯[1]ï¼‰ã€‚åŒæ—¶ï¼Œæ­¤æ¨¡å¼ç”¨ä½œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¡ç®—æ¨¡å‹ä¸CPUé€Ÿåº¦å®é™…ç‹¬ç«‹æ€§çš„ç¤ºä¾‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¦»æ•£æ—¶é’Ÿå‘¨æœŸçš„æµ‹è¯•è¿è¡Œæ—¶é—´ï¼ˆåœ¨è‡ªåŠ¨æ§åˆ¶ç†è®ºï¼ˆTAUï¼‰ä¸­ç§°ä¸ºé‡åŒ–é—´éš”ï¼‰æŒç»­1 msï¼Œå‘¨æœŸæ•°100000åº”ä¸º100ç§’ã€‚</font><font style="vertical-align: inherit;">æµ‹è¯•è¿‡ç¨‹ä¸­è·å¾—çš„ç»“æœå¦‚å›¾2æ‰€ç¤ºã€‚</font><font style="vertical-align: inherit;">7. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bk/jk/po/bkjkpof2u2aemojgtv4at2jpvuq.jpeg" alt="å›¾ç‰‡"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾7ã€‚</font><font style="vertical-align: inherit;">åŒæ­¥æ¨¡å¼ä¸‹çš„æµ‹è¯•ï¼ˆ1æ¯«ç§’ï¼‰</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
å®é™…ä¸Šï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä¸»è¦çš„æµ‹è¯•ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è®¨è®ºä»£ç é‡ï¼Œå› ä¸ºä»æ¸…å•3å¯ä»¥çœ‹å‡ºï¼Œæ‰¹è¯„è€…ä¼šæŒ‡å‡ºè¿™ä¸€ç‚¹ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ä»–ä»¬ä¼šå†æ¬¡å¿˜è®°å·²ç»è¯´è¿‡çš„è¯ã€‚</font><font style="vertical-align: inherit;">è¯¥ä»£ç åŒ…æ‹¬ä¸€ä¸ªå¤–å£³ï¼Œç”¨äºç»„ç»‡ä¸CPSUï¼ˆaï¼‰ç¯å¢ƒçš„äº¤äº’ã€‚</font><font style="vertical-align: inherit;">å¦‚æœå°†è‡ªåŠ¨æœºæ’é™¤åœ¨å¤–ï¼Œå°†é‡‡ç”¨å“ªç§è‡ªåŠ¨æœºï¼Œå¦‚æ¸…å•7æ‰€ç¤ºï¼Œå®ƒæ˜¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªåŠ¨æœºå‡½æ•°çš„</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çº¯ä»£ç </font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•7.å¹²å‡€çš„è‡ªåŠ¨å”®è´§æœºä»£ç </font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> LArc TBL_CountMini[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCountMini</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:<font></font>
    FCountMini(<span class="hljs-built_in">string</span> strNam): LFsaAppl(TBL_CountMini, strNam) {};
    <span class="hljs-keyword">int</span> nCount;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fcountmini.h"</span></span><font></font>
<font></font>
LArc TBL_CountMini[] = {<font></font>
    LArc(<span class="hljs-string">"1"</span>,	<span class="hljs-string">"1"</span>,<span class="hljs-string">"x1"</span>,	<span class="hljs-string">"y1"</span>),<font></font>
    LArc(<span class="hljs-string">"1"</span>,	<span class="hljs-string">"00"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"--"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCountMini::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> nCount &gt; <span class="hljs-number">0</span>; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCountMini::y1</span><span class="hljs-params">()</span> </span>{ --nCount; }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
äº‹å®è¯æ˜ï¼Œä¸æ˜¯ï¼Œå®ƒè¦ç®€å•å¾—å¤šï¼Œå°½ç®¡æ“ä½œæ—¶é—´ä¿æŒä¸å˜ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œæ­£å¦‚æˆ‘ä»¬å·²ç»å‘ç°çš„ï¼Œæµä¸­å°è£…çš„å‡½æ•°çš„æ—¶é—´å®é™…ä¸Šæ˜¯å‡ å¾®ç§’ã€‚</font><font style="vertical-align: inherit;">å·²ç»è€ƒè™‘è¿‡ç±»ä¼¼çš„æ“ä½œï¼ˆè¯·å‚è§æ¸…å•4ï¼‰ã€‚</font><font style="vertical-align: inherit;">æœ‰äº†å®ƒï¼Œå°†åƒä»¥å‰ä¸€æ ·ä»¥æ¯«ç§’ä¸ºå•ä½è®¡ç®—æµ‹è¯•æ—¶é—´ï¼ˆè§å›¾8ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³åƒå¦‚ä½•ç®¡ç†è‡ªåŠ¨åŒ–ç¨‹åºçš„æ•ˆç‡ï¼Œåˆ™å¯ä»¥è§£å†³è®¸å¤šé—®é¢˜ã€‚</font><font style="vertical-align: inherit;">ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼ŒC ++åŠŸèƒ½å®é™…ä¸Šæ˜¯æ— é™çš„ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/9e/dd/jc9eddl6kh2-ycdztw6ukgrgcl4.jpeg" alt="å›¾ç‰‡"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾8ã€‚</font><font style="vertical-align: inherit;">æµ‹è¯•y1çš„ä½œç”¨çš„ç»“æœï¼ˆæ¸…å•6ï¼‰ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ç„¶éœ€è¦è€ƒè™‘æ¸…å•7ä¸­å‡½æ•°çš„â€œè‡ªåŠ¨åŒ…è£…å™¨â€ï¼Œæ¸…å•8å¯¹æ­¤è¿›è¡Œäº†æ¼”ç¤ºï¼Œè¯¥ä»£ç è™½ç„¶å¾ˆå¤šï¼Œä½†è¿˜æ˜¯é€šç”¨çš„ï¼Œå®ƒä¸ºç¯å¢ƒæ‰§è¡Œæ ‡å‡†åŠŸèƒ½ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¸…å•8.æ¸…å•5ä¸­çš„automatonå‡½æ•°çš„åŒ…è£…å™¨</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCountMini</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FCount(<span class="hljs-built_in">string</span> strNam);
    <span class="hljs-keyword">virtual</span> ~FCount(<span class="hljs-keyword">void</span>);<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y4</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
    FCountMini *pCountMini{<span class="hljs-literal">nullptr</span>};<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FCount.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fcountmini.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>,<span class="hljs-string">"y4"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"--"</span>,<span class="hljs-string">"y3"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FCount::FCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam)<font></font>
{ }<font></font>
<font></font>
FCount::~FCount(<span class="hljs-keyword">void</span>)<font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (pCountMini) <span class="hljs-keyword">delete</span> pCountMini;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y4</span><span class="hljs-params">()</span> </span>{<font></font>
    time.start();<font></font>
    <span class="hljs-keyword">if</span> (pCountMini) <span class="hljs-keyword">delete</span> pCountMini;<font></font>
        pCountMini = <span class="hljs-keyword">new</span> FCountMini(<span class="hljs-string">"CountMini"</span>);<font></font>
<font></font>
    pCountMini-&gt;nCount = pVarExtVarCount-&gt;GetDataSrc();<font></font>
    pCountMini-&gt;FCall(<span class="hljs-keyword">this</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“ä¸€ä¸‹ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒCPSUï¼ˆaï¼‰ä¸­çš„è®¡ç®—æœºå·¥ä½œé€Ÿåº¦æ¯”Pythonä¸­çš„è¿›ç¨‹æ…¢å°†è¿‘2,600å€ã€‚å®é™…ä¸Šï¼Œè¿™å°±æ˜¯å¯¹VKPï¼ˆaï¼‰ç¯å¢ƒçš„â€œè‡ªåŠ¨è§£é‡Šå™¨â€çš„è¯„ä¼°ã€‚ä¸€æ–¹é¢ï¼Œå·¨å¤§çš„å¢é•¿å‚¨å¤‡è¢«éšè—åœ¨å…¶ä¸­ï¼Œå¦ä¸€æ–¹é¢ï¼Œä»ä»‹è´¨çš„ååº”æ€§çš„è§’åº¦æ¥çœ‹ï¼Œå³ä½¿è¿™æ ·çš„é€Ÿåº¦ä¹Ÿè¶³å¤Ÿäº†ã€‚ä½†æ˜¯ï¼Œå›æƒ³ä¸€ä¸‹ï¼Œçº¿ç¨‹çš„ä½¿ç”¨ä½¿æˆ‘ä»¬ç°åœ¨å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåä¹‹äº¦ç„¶ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ƒæ¯”Phythonå¿«200å€ä»¥ä¸Šã€‚é™¤çº¿ç¨‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•ä¸”ç†è®ºä¸Šæ›´å‡†ç¡®çš„â€œè‡ªåŠ¨è§£å†³æ–¹æ¡ˆâ€-åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªåŠ¨ä½œä¸­è°ƒç”¨é—®é¢˜å‡½æ•°ï¼ˆç±»ä¼¼äºâ€œå°†æ“ä½œæˆ–è¿‡ç¨‹åˆ†æˆå¤šä¸ª</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å—</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€ï¼‰ï¼Œè¯·å‚é˜…</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ç« </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œå¯¹äºC ++ï¼Œä»ç¨‹åºæ€§èƒ½çš„è§’åº¦æ¥çœ‹ï¼ŒAPä¸­çš„æƒ…å†µçœ‹èµ·æ¥éƒ½ä¸æ˜¯ç»æœ›çš„ï¼Œå¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ï¼Œè®¾è®¡å®æ—¶ç³»ç»Ÿï¼‰ï¼Œè¿™ç”šè‡³æ˜¯æœ‰åˆ©çš„ã€‚</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åï¼Œå…³äºç®€å•æµ‹è¯•ä¹‹å¤–çš„å†…å®¹ã€‚</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘è¢«</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€ç¯‡æ–‡ç« </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿·ä½</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">äº†</font></a><font style="vertical-align: inherit;">ã€‚æˆ‘åŒæ„â€œè¶³ä»¥å®³æ€•ä»£ç ä¸­çš„ä¸»è§‚å†³å®šâ€ã€‚ç»è¿‡ä¸€é¡¹é‡å¤§ä¿®æ­£-æˆ‘æ˜¯ä¸ºäº†å®¢è§‚ã€‚è‡ªåŠ¨æœºç¨‹åºçš„ä»£ç çœ‹èµ·æ¥å¾ˆéº»çƒ¦ï¼ˆå¾ˆå®¹æ˜“ä¿®å¤ï¼‰ï¼Œä¸æ˜¯å¾ˆæ¼‚äº®ï¼ˆè¿™å¾ˆä¸»è§‚ï¼‰ï¼Œç”šè‡³å¯èƒ½æ²¡æœ‰é€Ÿåº¦å®‰æ’ï¼ˆå¦‚æˆ‘ä»¬æ‰€è§ï¼Œåœ¨APä¸­æœ‰å¤šä¸ªè§£å†³æ–¹æ¡ˆï¼‰ï¼Œä½†æ˜¯å¯¹å®ƒæœ¬è´¨çš„ç†è§£æ­ç¤ºäº†ä¸€äº›éšè—åœ¨å¤–éƒ¨çš„ä¸œè¥¿ç¾æ™¯ã€‚è€Œä¸”ï¼Œå®¢è§‚ç¾ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™é‡Œçš„å®¢è§‚æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿç†è®ºã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ˜¯è‡ªåŠ¨æœºç†è®ºã€‚å®ƒçš„å®ç°ï¼Œæ— è®ºä»å¤–è§‚ä¸Šçœ‹ï¼Œä»å®šä¹‰ä¸Šçœ‹ï¼Œéƒ½ä¸æ˜¯å¾ˆéš¾çœ‹çš„ï¼›ï¼‰åä¹‹äº¦ç„¶ï¼Œå¦‚æœå®ç°ä¸å®ƒä¸åŒ¹é…ï¼Œåˆ™æ— è®ºå®ƒçœ‹èµ·æ¥æœ‰å¤šæœ‰åˆ©ï¼Œå®ƒé€šå¸¸éƒ½æ²¡æœ‰ä»ç†è®ºè§’åº¦å‡ºå‘çš„è§†è§’ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ— è®ºæ‚¨å¯¹SWITCHæŠ€æœ¯è¿›è¡Œä½•ç§çƒ­çƒˆå®£ä¼ ï¼Œæ— è®º</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UniMod</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤šä¹ˆå—</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">èµèª‰</font></a><font style="vertical-align: inherit;">ï¼Œä½†æ˜¯å¦‚æœå®ƒä»¬ä¸ç¬¦åˆè‡ªåŠ¨æœºç†è®ºçš„è¦æ±‚ï¼Œå´æ‰­æ›²äº†å®ƒçš„ç¾æ„Ÿï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šä¸ç”±è‡ªä¸»åœ°å®¢è§‚åœ°é‡åˆ°</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">``</font></a><font style="vertical-align: inherit;">è‡ªåŠ¨æœºä¸è®¸å¤šäººæ²¡æœ‰ä»€ä¹ˆä¸åŒ''çš„æƒ…å†µã€‚è¿™æ ·çš„â€œæ··ä¹±â€å’Œâ€œä¸æ‰‹é¼“è·³èˆâ€ä¸èƒ½çº æ­£è¿™ç§æƒ…å†µã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éµå¾ªè¯¥ç†è®ºï¼Œåˆ™ä¸éœ€è¦è¿™æ ·åšã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘åƒæœºæªé‚£å¤´â€œçƒ‚é€äº†â€ä¸€æ ·ï¼Œæœç€æœºæªçš„æ–¹å‘å‘å°„å…³é”®ç®­å¤´ï¼Œä¸ç¦è®©äººæƒ³èµ·åç¨‹ï¼›ï¼‰</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä¹Ÿæƒ³æµ‹è¯•å®ƒä»¬ï¼Œä½†åŒæ—¶è¦è¯„ä¼°å®ƒä»¬çš„ç¾è§‚</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå› ä¸ºçœŸçš„åƒå›¾æ‰€ç¤ºçš„â€œè®¾è®¡â€ä¹‹ç¾å—ï¼Ÿ 9ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦è¯·å‚è§</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œå¦‚æœæ²¡æœ‰è®°é”™çš„è¯ï¼Œå“ªä¸ªå®ç°ï¼ˆaï¼‰å’Œa = bï¼ˆbï¼‰ä¸¤ä¸ªå¹¶è¡Œè¿ç®—ç¬¦å¯ä»¥è‡³å°‘å¼•èµ·æœ€å°‘çš„èµèµï¼Ÿ</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_1/lj/2t/_1lj2tagueuf7u2itoqbltdrvnu.jpeg" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾9ã€‚ corutinçš„ä¸€ä¸ªç¤ºä¾‹ï¼Œ</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¹Ÿè®¸æ­¤ä»£ç ç”šè‡³æœ‰æ•ˆï¼Œä½†å¯¹äºæŸäººè€Œè¨€ï¼Œå®ƒæ— ç–‘æ˜¯ç¾ä¸½çš„ï¼Œä½†è¿™æ˜¯å¦å¤–ä¸€å›äº‹ã€‚æˆ‘ä¸æ˜¯åœ¨è¿™é‡Œç”¨ç‹‚èºçš„æ¬²æœ›ç”¨ä¸€è‡´çš„æ€ç»´æ¨¡å¼æ¥æè¿°å¹¶è¡Œæ€§ã€‚å°½ç®¡è¿™å¾ˆç®€å•ï¼Œä½†å¾ˆçƒ¦äººï¼Œå› ä¸º</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€ç»´éœ€è¦æ”¹å˜</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚æˆ‘å®Œå…¨ä¸åŒã€‚æœ‰æ²¡æœ‰ä¸€ç§ä¸ç¨‹åºè®¾è®¡è¯­è¨€æ— å…³çš„åç¨‹ç†è®ºï¼Œè¯¥ç†è®ºå¯ä»¥ä½¿æˆ‘ä»¬ç®€å•ï¼Œæ¸…æ¥šåœ°å…‹æœè¯¥è¯­è¨€çš„â€œèŠ±æ‹›â€ï¼ˆå†æ¬¡å‚è§å›¾9ï¼‰å¹¶ç»™å‡ºæ‰€æé—®é¢˜çš„æ˜ç¡®ç­”æ¡ˆï¼Ÿå…³äºåç¨‹ï¼Œæˆ‘ä¸çŸ¥é“è¿™æ ·ä¸€ä¸ªç†è®ºï¼Œå°½ç®¡ï¼Œè€å®è¯´ï¼Œæˆ‘æœç´¢è¿‡ï¼›ï¼‰å¯¹äºæœ‰é™è‡ªåŠ¨æœºï¼Œè¿™æ˜¯ä¸€ç§è‡ªåŠ¨æœºç†è®ºï¼Œå…¶ä¸­è‡ªåŠ¨æœºå§‹ç»ˆæ˜¯ä»»ä½•å½¢å¼ï¼ˆå›¾å½¢ï¼Œè¡¨æ ¼ï¼ŒçŸ©é˜µç­‰ï¼‰çš„è‡ªåŠ¨æœºï¼Œä¸è¯­è¨€/ç¼–ç¨‹è¯­è¨€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‹‰èµ·çœ‹ä¼¼æœ€ç®€å•çš„â€œæµ‹è¯•å­—ç¬¦ä¸²â€ï¼Œæˆ‘ä»¬ç¢°åˆ°äº†â€¦â€¦å¹¶è¡Œé—®é¢˜çš„çº ç»“ã€‚ä¹Ÿè®¸æ˜¯çš„ï¼Œä»–ä»¬åªæ˜¯æŠŠå®ƒå¼„ç³Šäº†ä¸€ç‚¹ã€‚ä»–ä»¬å¼€å§‹äº†ï¼ˆå¦‚æœæ²¡æœ‰å¿˜è®°çš„è¯ï¼‰ä½¿ç”¨äº†åŸºæœ¬çš„ä¾èµ–äºCPUçš„åŠŸèƒ½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è°ä¼šæƒ³åˆ°è¿™ä¼šå¯¼è‡´... :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ–‡å­¦</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.ç±³ç½—ä»€å°¼å…‹å››ä¸– </font><font style="vertical-align: inherit;">è‡ªåŠ¨æ§åˆ¶ç†è®ºã€‚</font><font style="vertical-align: inherit;">çº¿æ€§ç³»ç»Ÿã€‚</font><font style="vertical-align: inherit;">-åœ£å½¼å¾—å ¡ï¼šå½¼å¾—ï¼ˆPeterï¼‰ï¼Œ2005å¹´-336ç¾½ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN506588/index.html">ä»€ä¹ˆæ˜¯ç®—æ³•ï¼ï¼ˆç¬¬2éƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN506590/index.html">è‹±å›½DEVOXXä¼šè®®ã€‚é€‰æ‹©ä¸€ä¸ªæ¡†æ¶ï¼šDocker Swarmï¼ŒKubernetesæˆ–Mesosã€‚ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN506594/index.html">Redisæœ€ä½³åšæ³•ï¼Œç¬¬3éƒ¨åˆ†</a></li>
<li><a href="../zh-CN506598/index.html">å¾®è½¯ï¼šRustæ˜¯å®‰å…¨ç³»ç»Ÿç¼–ç¨‹è¡Œä¸šä¸­çš„â€œæœ€ä½³æœºä¼šâ€</a></li>
<li><a href="../zh-CN506600/index.html">åœ¨é¡¹ç›®ç®¡ç†æ–¹é¢è¿›è¡Œç«™ç‚¹å¼€å‘çš„åˆåŒï¼ˆç†è®º+æ ·æœ¬ï¼‰</a></li>
<li><a href="../zh-CN506606/index.html">PIXI.jsç­”é¢˜å™¨çš„åˆ›å»º</a></li>
<li><a href="../zh-CN506610/index.html">WAL-Gï¼šPostgreSQLæ•°æ®åº“å¤‡ä»½å’Œæ¢å¤</a></li>
<li><a href="../zh-CN506612/index.html">å¦‚ä½•æé«˜å¤§è§„æ¨¡åœ¨çº¿è¯¾ç¨‹çš„å®Œæ•´æ€§</a></li>
<li><a href="../zh-CN506620/index.html">åˆ›é€ æ€§æ€ç»´ï¼šè¿™æ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•è¡¡é‡å’Œå¢åŠ æ‚¨çš„æ½œåŠ›</a></li>
<li><a href="../zh-CN506624/index.html">FOSSæ–°é—»ç¬¬20å·-2020å¹´6æœˆ8æ—¥è‡³14æ—¥å…è´¹å’Œå¼€æºæ–°é—»å›é¡¾</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>