<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🤝‍👨🏾 🎅🏼 🤰🏽 Cryptons les certificats SSL avec cert-manager dans Kubernetes ◾️ 🤦 🤸🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je vais parler de la façon d'automatiser la commande et le renouvellement des certificats de Let's Encrypt (et pas seulement) pour I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cryptons les certificats SSL avec cert-manager dans Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/496936/"><img src="https://habrastorage.org/webt/la/qd/o7/laqdo7i6ovirl5ciie_qmnbrau4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je vais parler de la façon d'automatiser la commande et le renouvellement des certificats de Let's Encrypt (et pas seulement) pour Ingress in Kubernetes à l'aide du gestionnaire de certificats complémentaire. </font><font style="vertical-align: inherit;">Mais je vais commencer par une brève introduction à l'essence du problème.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de programme éducatif</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le protocole HTTP, développé au début des années 90 du siècle dernier, est entré si étroitement dans notre vie quotidienne qu’il est difficile d’imaginer au moins une journée sans l’utiliser. Cependant, en soi, il n'offre même pas un niveau de sécurité minimum lors de l'échange d'informations entre un utilisateur et un serveur Web. Le HTTPS («S» - sécurisé) vient à la rescousse: en utilisant le conditionnement des données transmises en SSL / TLS, ce protocole a fait ses preuves dans la protection des informations contre l'interception et est activement promu par l'industrie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, Google a </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;">adhéré</font></a><font style="vertical-align: inherit;"> à 2014</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Position "HTTPS partout" et diminue même la priorité des sites sans elle dans les résultats de recherche. Cette «propagande» ne contourne pas non plus les consommateurs ordinaires: les navigateurs modernes avertissent leurs utilisateurs de la présence et de l'exactitude des certificats SSL pour les sites visités. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/me/il/srmeilomqktrr7qofwjlgpiw01i.png"><br>
<img src="https://habrastorage.org/webt/mj/jo/pf/mjjopfpjvy84bnbdae_mv6vluw8.png"><br>
<img src="https://habrastorage.org/webt/dd/t4/vn/ddt4vnh-3yseofqyzip5qma-dti.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le coût d'un certificat pour un site personnel commence à partir de dizaines de dollars. L'acheter n'est pas toujours justifié et approprié. Heureusement, depuis fin 2015, une alternative gratuite sous forme de certificats </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encrypt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (LE) </font><font style="vertical-align: inherit;">est disponible </font><font style="vertical-align: inherit;">. Ce projet à but non lucratif a été créé par des passionnés de Mozilla afin de couvrir la plupart des sites Web avec cryptage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'autorité de certification émet </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">des</font></a><font style="vertical-align: inherit;"> certificats </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validés par domaine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(le plus simple parmi ceux disponibles sur le marché) avec une période de validité de 90 jours, et depuis de nombreuses années, il est possible de délivrer le certificat dit générique pour plusieurs sous-domaines. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour obtenir le certificat, le site utilise les algorithmes décrits dans le protocole </font><font style="vertical-align: inherit;">ACME ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automated Certificate Management Environment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), créé spécifiquement pour Let's Encrypt. </font><font style="vertical-align: inherit;">Lors de son utilisation, la confirmation de la propriété du domaine est effectuée par des demandes via le placement d'un code HTTP spécifique (appelé </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP-01</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ou l'installation d'enregistrements </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS (DNS-01)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - plus d'informations à leur sujet seront données ci-dessous.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Responsable Certification</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cert-manager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un projet spécial pour Kubernetes, qui est un ensemble de CustomResourceDefinitions (d'où la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limitation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la version minimale prise en charge de K8s - v1.12) pour la configuration CA (autorités de certification) et la commande directe de certificats. </font><font style="vertical-align: inherit;">L'installation de CRD dans un cluster est triviale et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revient</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à utiliser un seul fichier YAML:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl create ns cert-manager<font></font>
kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v0.13.0/cert-manager.yaml</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aussi la possibilité d'installer à l'aide de Helm.)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour lancer la procédure de commande, les ressources des autorités de certification (CA) doivent être déclarées dans le cluster: </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui sont utilisées pour signer le CSR (demandes d'émission de certificats). </font><font style="vertical-align: inherit;">La différence entre la première ressource et la seconde est dans la portée:</font></font><br>
<br>
<ul>
<li> <code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut être utilisé dans le même espace de noms,</font></font></li>
<li> <code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un objet cluster global.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pratique avec cert-manager</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N ° 1. </font><font style="vertical-align: inherit;">Certificat auto-signé</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par le cas le plus simple - commander un certificat auto-signé. </font><font style="vertical-align: inherit;">Cette option est assez courante, par exemple, pour les environnements de test dynamiques pour les développeurs ou dans le cas de l'utilisation d'un équilibreur externe qui met fin au trafic SSL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ressource </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ressemblera à ceci:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: selfsigned<font></font>
spec:<font></font>
  selfSigned: {}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et pour émettre un certificat, il est nécessaire de décrire la ressource </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, où il est indiqué comment l'émettre (voir la section </font></font><code>issuerRef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ci </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">dessous) et où se trouve la clé privée (champ </font></font><code>secretName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Après cela, Ingress devra se référer à cette clé (voir la section </font></font><code>tls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font><code>spec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: selfsigned-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: selfsigned<font></font>
  commonName: "yet-another.website"<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
---<font></font>
apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  name: app<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelques secondes après avoir ajouté ces ressources au cluster, le certificat sera émis. </font><font style="vertical-align: inherit;">Vous pouvez voir le rapport correspondant dans la sortie de la commande:</font></font><br>
<br>
<pre><code class="plaintext hljs">kubectl -n app describe  certificate selfsigned-crt<font></font>
...<font></font>
  Normal  GeneratedKey  5s    cert-manager  Generated a new private key<font></font>
  Normal  Requested     5s    cert-manager  Created new CertificateRequest resource "selfsigned-crt-4198958557"<font></font>
  Normal  Issued        5s    cert-manager  Certificate issued successfully</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez la ressource secrète elle-même, elle contient:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clé privée </font></font><code>tls.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certificat racine </font></font><code>ca.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notre certificat auto-signé </font></font><code>tls.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le contenu de ces fichiers peut être vu en utilisant l'utilitaire </font></font><code>openssl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, par exemple, comme ceci:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:01:59 2020 GMT<font></font>
notAfter=May 10 21:01:59 2020 GMT<font></font>
issuer=O = cert-manager, CN = yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que, dans le cas général, le certificat émis à l'aide de celui- </font><b><font style="vertical-align: inherit;">ci ne sera pas approuvé par les</font></b></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> clients connectés </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La raison est simple: elle n'a pas de CA </font><i><font style="vertical-align: inherit;">(voir la </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">note sur le site du projet</font></a></i><i><font style="vertical-align: inherit;"> )</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour éviter cela, vous devez spécifier dans le </font><font style="vertical-align: inherit;">chemin d'accès au fichier secret où il se trouve </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il peut s'agir d'une organisation d'autorité de certification d'entreprise - pour signer les certificats émis pour Ingress avec une clé déjà utilisée pour les besoins d'autres services de serveur / systèmes d'information.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>Certificate</code><font style="vertical-align: inherit;"></font><code>ca.crt</code><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N ° 2. </font><font style="vertical-align: inherit;">Cryptons le certificat avec la validation HTTP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour émettre des certificats LE, comme mentionné précédemment, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deux types de confirmation de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propriété </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de</font></a><font style="vertical-align: inherit;"> domaine </font><font style="vertical-align: inherit;">sont disponibles </font><font style="vertical-align: inherit;">: HTTP-01 et DNS-01. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première approche (HTTP-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://cert-manager.io/docs/configuration/acme/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consiste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à lancer un petit serveur Web avec un déploiement séparé, qui enverra à Internet via le lien </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;YOUR_DOMAIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; /. Bien connu / acme-challenge / &lt;TOKEN&gt; certaines données demandées au serveur de certification. </font><font style="vertical-align: inherit;">Par conséquent, cette méthode implique la disponibilité d'Ingress de l'extérieur sur le port 80 et la résolution de l'enregistrement DNS du domaine en adresses IP publiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxième option pour vérifier le certificat émis (DNS-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">provient de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'avoir une API pour le serveur DNS hébergeant les enregistrements de domaine. L'émetteur, à l'aide des jetons indiqués, crée des enregistrements TXT sur le domaine, que le serveur ACME reçoit ensuite lors de la confirmation. Parmi les fournisseurs DNS officiellement pris en charge figurent CloudFlare, AWS Route53, Google CloudDNS et d'autres, y compris sa propre implémentation ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acme-dns</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Let's Encrypt a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des limites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> assez </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">strictes</font></a><font style="vertical-align: inherit;"> sur les demandes aux serveurs ACME. Afin de ne pas entrer dans une longue interdiction, il est recommandé d'utiliser le type de certificat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">letsencrypt-staging</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour le débogage </font><font style="vertical-align: inherit;">(la différence ne concerne que le serveur ACME). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous décrivons donc les ressources:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-staging-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que l' </font><font style="vertical-align: inherit;">adresse du </font><font style="vertical-align: inherit;">serveur de </font><b><font style="vertical-align: inherit;">transfert</font></b><font style="vertical-align: inherit;"> est spécifiée </font><font style="vertical-align: inherit;">comme </font></font><code>server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>acme</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Le remplacer par une bataille sera possible plus tard. </font><font style="vertical-align: inherit;">
En appliquant cette configuration, nous suivons l'intégralité du chemin de commande:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La création a </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">engendré une nouvelle ressource </font></font><code>CertificateRequest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificate le-crt<font></font>
...<font></font>
Created new CertificateRequest resource <span class="hljs-string">"le-crt-1127528680"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans sa description - une marque sur la création </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificaterequests le-crt-1127528680<font></font>
…<font></font>
Created Order resource app/le-crt-1127528680-1805948596</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">décrit avec quels paramètres le test réussit et quel est son état actuel. </font><font style="vertical-align: inherit;">Cette vérification est effectuée par la ressource </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe order le-crt-1127528680-1805948596<font></font>
…<font></font>
Created Challenge resource <span class="hljs-string">"le-crt-1127528680-1805948596-1231544594"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Enfin, les détails de cette ressource contiennent des informations sur l'état de l'analyse elle-même:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges le-crt-1127528680-1805948596-1231544594<font></font>
...<font></font>
  Reason:      Successfully authorized domain                                                                                                                                                                      <font></font>
...<font></font>
  Normal  Started         2m45s  cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented       2m45s  cert-manager  Presented challenge using http-01 challenge mechanism<font></font>
  Normal  DomainVerified  2m22s  cert-manager  Domain <span class="hljs-string">"yet-another.website"</span> verified with <span class="hljs-string">"http-01"</span> validation</code></pre></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si toutes les conditions sont remplies (c'est-à-dire que le domaine est accessible de l'extérieur, il n'y a pas d'interdiction du LE ...) - en moins d'une minute, le certificat sera émis. </font><font style="vertical-align: inherit;">En cas de succès, un </font></font><code>describe certificate le-crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enregistrement apparaîtra </font><font style="vertical-align: inherit;">dans la sortie </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant modifier en toute sécurité l'adresse du serveur pour combattre ( </font></font><code>https://acme-v02.api.letsencrypt.org/directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) et réorganiser les vrais certificats déjà signés non </font></font><code>Fake LE Intermediate X1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais </font></font><code>Let's Encrypt Authority X3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ce faire, vous devez d'abord supprimer la ressource </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: sinon, aucune procédure de commande n'est activée, car le certificat existe déjà et il est pertinent. </font><font style="vertical-align: inherit;">La suppression d'un secret entraînera son retour immédiat avec un message à </font></font><code>describe certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">  Normal  PrivateKeyLost  44s                   cert-manager  Lost private key for CertificateRequest "le-crt-613810377", deleting old resource</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il reste à appliquer le manifeste «combat» à </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">celui déjà décrit ci-dessus </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(il n'a pas changé):</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory<font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir reçu le message </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>describe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vérifiez-le:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:11:48 2020 GMT<font></font>
notAfter=May 10 21:11:48 2020 GMT<font></font>
issuer=C = US, O = Let<span class="hljs-string">'s Encrypt, CN = Let'</span>s Encrypt Authority X3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Numéro 3. </font><font style="vertical-align: inherit;">Wildcard LE avec validation DNS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous compliquerons la tâche en écrivant un certificat immédiatement à tous les sous-domaines du site et en utilisant cette fois la vérification DNS (via CloudFlare). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, récupérez le jeton dans le panneau de configuration CloudFlare pour travailler via l'API:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Profil → Jetons d'API → Créer un jeton.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Définissez les autorisations comme suit:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autorisations:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zone - DNS - Modifier</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zone - Zone - Lire</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressources de zone:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inclure - Toutes les zones</font></font></li>
</ul></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copiez le jeton reçu après l'enregistrement (par exemple :) </font></font><code>y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Créez un secret dans lequel ce jeton sera stocké et faites-y référence dans l'émetteur:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: v1<font></font>
kind: Secret<font></font>
metadata:<font></font>
  name: cloudflare-api-token<font></font>
type: Opaque<font></font>
stringData:<font></font>
  api-token: y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token<font></font>
<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
  - "*.yet-another.website"</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(N'oubliez pas d'utiliser la mise en scène si vous expérimentez!)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Passons en revue le processus de confirmation de la propriété du domaine:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges.acme.cert-manager.io le-crt-613810377-1285319347-3806582233<font></font>
...<font></font>
Status:<font></font>
  Presented:   <span class="hljs-literal">true</span>
  Processing:  <span class="hljs-literal">true</span>
  Reason:      Waiting <span class="hljs-keyword">for</span> dns-01 challenge propagation: DNS record <span class="hljs-keyword">for</span> <span class="hljs-string">"yet-another.website"</span> not yet propagated<font></font>
  State:       pending<font></font>
Events:<font></font>
  Type    Reason     Age   From          Message<font></font>
  ----    ------     ----  ----          -------<font></font>
  Normal  Started    54s   cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented  53s   cert-manager  Presented challenge using dns-01 challenge mechanism</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un enregistrement TXT apparaîtra dans le panneau: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/hk/jc/pohkjc19ui1olxdlfeaiuuqm3ne.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... et après un certain temps, le statut passera à:</font></font><br>
<br>
<pre><code class="plaintext hljs">Domain "yet-another.website" verified with "dns-01" validation</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assurez-vous que le certificat est valide pour n'importe quel sous-domaine:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -text |grep DNS:<font></font>
          DNS:*.yet-another.website, DNS:yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La validation par DNS, en règle générale, ne se fait pas rapidement, car la plupart des fournisseurs DNS ont une période de mise à jour des données qui montre combien de temps s'écoule entre le moment où l'enregistrement DNS est modifié et la mise à jour réelle de tous les serveurs DNS du fournisseur. </font><font style="vertical-align: inherit;">Cependant, la norme ACME fournit également une combinaison de deux options de vérification, qui peuvent être utilisées pour accélérer la réception d'un certificat pour le domaine principal. </font><font style="vertical-align: inherit;">Dans ce cas, la description </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sera la suivante:</font></font><br>
<br>
<pre><code class="1c hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https:<span class="hljs-comment">//acme-v02.api.letsencrypt.org/directory</span><font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"*.yet-another.website"</span><font></font>
      dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token            <font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"yet-another.website"</span><font></font>
      http01:<font></font>
        ingress:<font></font>
          class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous appliquez cette configuration, deux ressources seront créées </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe orders le-crt-613810377-1285319347<font></font>
…<font></font>
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-3996324737"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span>                 
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-1443470517"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Numéro 4. </font><font style="vertical-align: inherit;">Utilisation d'annotations spéciales Ingress</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus du chemin d'accès direct à la création de certificats dans cert-manager, il est possible d'utiliser un composant appelé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ingress-shim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et de ne pas créer explicitement de ressources </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. L'idée est qu'à l'aide d'annotations Ingress spéciales, le certificat sera automatiquement commandé en utilisant celui qui y est indiqué </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le résultat est à peu près la ressource Ingress suivante:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  annotations:<font></font>
    cert-manager.io/cluster-issuer: letsencrypt<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un fonctionnement correct, seule la présence de l'émetteur suffit ici, c'est-à-dire la création d'une entité de moins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, il existe une </font><font style="vertical-align: inherit;">annotation </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obsolète</font></font></b></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kube-lego</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>kubernetes.io/tls-acme: "true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, - qui nécessite une tâche </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par défaut lors de l'installation de cert-manager à l'aide des paramètres de Helm (ou dans les options de lancement du conteneur de gestionnaire). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous, dans l'entreprise, n'utilisons pas ces options et ne pouvons pas les conseiller en raison de l'opacité des approches utilisées pour commander des certificats SSL (et en même temps de divers </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">problèmes qui surviennent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), mais </font><font style="vertical-align: inherit;">nous avons </font><font style="vertical-align: inherit;">tout de même décidé de mentionner dans l'article pour une image plus complète.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au lieu d'une conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grâce à de simples manipulations avec CRD, nous avons appris à écrire des certificats SSL auto-renouvelables, auto-signés et gratuits à partir du projet Let's Encrypt pour les domaines de sites Web lancés dans le cadre des clusters Ingresss in Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article fournit des exemples de résolution des problèmes les plus courants dans notre pratique. </font><font style="vertical-align: inherit;">Cependant, les fonctions cert-manager ne sont pas limitées aux fonctionnalités décrites ci-dessus. </font><font style="vertical-align: inherit;">Sur le site Web de l'utilitaire, vous pouvez trouver des exemples de travail avec d'autres services - par exemple, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bundle avec Vault</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisation de centres d'émission externes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (émetteurs).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez aussi dans notre blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">« </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une introduction aux politiques du réseau Kubernetes pour les professionnels de la sécurité</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">« </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trucs et astuces Kubernetes: page d'erreur personnalisée dans Ingress NGINX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> »;</font></font></li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    Ingress  Kubernetes</a>».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496914/index.html">Le programme décimal le plus court</a></li>
<li><a href="../fr496916/index.html">Enseignement, négociation et consultation à distance - Partie 3: Serveur de réunion Yealink et 4 offres spéciales</a></li>
<li><a href="../fr496920/index.html">Faire une maison intelligente avec ASP.NET Core et Arduino</a></li>
<li><a href="../fr496922/index.html">Guide sur l'apk client-serveur inverse sur l'exemple du job NeoQUEST-2020</a></li>
<li><a href="../fr496924/index.html">Routage des composants Web</a></li>
<li><a href="../fr496938/index.html">Supercalculateurs, séquençage du génome et perspectives de vaincre le coronavirus</a></li>
<li><a href="../fr496940/index.html">Comment les ingénieurs de GM testent l'électronique</a></li>
<li><a href="../fr496942/index.html">Événements numériques à Moscou du 13 au 19 avril</a></li>
<li><a href="../fr496944/index.html">Événements numériques à Saint-Pétersbourg du 13 au 19 avril</a></li>
<li><a href="../fr496946/index.html">Encore une fois sur les clés matérielles GPG pour un sou</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>