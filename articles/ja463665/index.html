<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¸ğŸ¼ â™‘ï¸ ğŸ‚ğŸ¼ 11å„„ã®ã‚¿ã‚¯ã‚·ãƒ¼ï¼š108ã‚³ã‚¢ã®ClickHouseã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ ğŸ”“ ğŸ¤¾ğŸ¼ ğŸ’¦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¨˜äº‹ã®ç¿»è¨³ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚³ãƒ¼ã‚¹ã®å­¦ç”Ÿå‘ã‘ã«ç‰¹åˆ¥ã«ä½œæˆã•ã‚Œã¾ã—ãŸã€‚
 
 
 
 
 ClickHouseã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®åˆ—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã™ã€‚ã“ã‚Œã¯ã€ä½•ç™¾ã‚‚ã®ã‚¢ãƒŠãƒªã‚¹ãƒˆãŒ1æ—¥ã«æ•°ç™¾å„„ã®æ–°ã—ã„ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå…¥åŠ›ã•ã‚ŒãŸå ´åˆã§ã‚‚ã€è©³ç´°ãªãƒ‡ãƒ¼ã‚¿ã‚’ã™ã°ã‚„ãè¦æ±‚ã§ãã‚‹å„ªã‚ŒãŸç’°å¢ƒã§ã™ã€‚ã“ã®ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚µãƒãƒ¼...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>11å„„ã®ã‚¿ã‚¯ã‚·ãƒ¼ï¼š108ã‚³ã‚¢ã®ClickHouseã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/463665/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨˜äº‹ã®ç¿»è¨³ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ¼ã‚¹ã®å­¦ç”Ÿå‘ã‘ã«ç‰¹åˆ¥ã«ä½œæˆã•ã‚Œã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/tn/35/7p/tn357puvfbdxdyajjdoxagm47ju.png"><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ClickHouse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®åˆ—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ã™ã€‚ã“ã‚Œã¯ã€ä½•ç™¾ã‚‚ã®ã‚¢ãƒŠãƒªã‚¹ãƒˆãŒ1æ—¥ã«æ•°ç™¾å„„ã®æ–°ã—ã„ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒå…¥åŠ›ã•ã‚ŒãŸå ´åˆã§ã‚‚ã€è©³ç´°ãªãƒ‡ãƒ¼ã‚¿ã‚’ã™ã°ã‚„ãè¦æ±‚ã§ãã‚‹å„ªã‚ŒãŸç’°å¢ƒã§ã™ã€‚ã“ã®ã‚ˆã†ãªã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®ã‚³ã‚¹ãƒˆã¯ã€å¹´é–“10ä¸‡ç±³ãƒ‰ãƒ«ã«é”ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€ä½¿ç”¨çŠ¶æ³ã«ã‚ˆã£ã¦ã¯åŠåˆ†ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚ã‚‹æ™‚ç‚¹ã§ã€Yandex.Metrica ClickHouseã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¯10å…†ã®ã‚¨ãƒ³ãƒˆãƒªãŒå«ã¾ã‚Œã¦ã„ã¾ã—ãŸã€‚ Yandexã«åŠ ãˆã¦ã€ClickHouseã¯Bloombergã¨Cloudflareã§ã‚‚æˆåŠŸã‚’åã‚ã¾ã—ãŸã€‚</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2å¹´å‰ã€ç§ã¯</font><font style="vertical-align: inherit;">1å°ã®ãƒã‚·ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¯”è¼ƒåˆ†æ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’è¡Œã„ã€</font><font style="vertical-align: inherit;">ã“ã‚ŒãŒä»Šã¾ã§ã«ãªã„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€é€Ÿã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç„¡æ–™ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«</font><font style="vertical-align: inherit;">ãªã‚Šã¾ã—</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãŸ</font></a><font style="vertical-align: inherit;">ã€‚ãã‚Œä»¥æ¥ã€é–‹ç™ºè€…ã¯Kafkaã€HDFSã€ZStandardåœ§ç¸®ã®ã‚µãƒãƒ¼ãƒˆã‚’å«ã‚€æ©Ÿèƒ½ã®è¿½åŠ ã‚’æ­¢ã‚ã¦ã„ã¾ã›ã‚“ã€‚æ˜¨å¹´ã€ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰åœ§ç¸®æ–¹å¼ã®ã‚µãƒãƒ¼ãƒˆãŒè¿½åŠ ã•ã‚Œã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ«ã‚¿-ãƒ‡ãƒ«ã‚¿</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚æ™‚ç³»åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’åœ§ç¸®ã™ã‚‹å ´åˆã€ã‚²ãƒ¼ã‚¸å€¤ã¯ãƒ‡ãƒ«ã‚¿ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦é©åˆ‡ã«åœ§ç¸®ã§ãã¾ã™ãŒã€ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã«ã¯ãƒ‡ãƒ«ã‚¿ãƒ‡ãƒ«ã‚¿ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã™ã‚‹æ–¹ãŒè‰¯ã„ã§ã—ã‚‡ã†ã€‚è‰¯å¥½ãªåœ§ç¸®ãŒClickHouseã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®éµã¨ãªã£ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ClickHouseã¯ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’é™¤ã„ã¦ã€17ä¸‡è¡Œã®C ++ã‚³ãƒ¼ãƒ‰ã§æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€åˆ†æ•£ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®æœ€å°ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®1ã¤ã§ã™ã€‚æ¯”è¼ƒã¨ã—ã¦ã€SQLiteã¯Cè¨€èªã§235,000è¡Œã®ã‚³ãƒ¼ãƒ‰ã§æ§‹æˆã•ã‚Œã‚‹ãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚ã“ã®è¨˜äº‹ã®åŸ·ç­†æ™‚ç‚¹ã§ã¯ã€207äººã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒClickHouseã«è²¢çŒ®ã—ã¦ãŠã‚Šã€æœ€è¿‘ã‚³ãƒŸãƒƒãƒˆã®å¼·åº¦ãŒé«˜ã¾ã£ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2017å¹´3æœˆã€ClickHouseã¯ã€</font><font style="vertical-align: inherit;">é–‹ç™ºã‚’è¿½è·¡ã™ã‚‹ç°¡å˜ãªæ–¹æ³•ã¨ã—ã¦</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤‰æ›´ãƒ­ã‚°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">é–‹å§‹ã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚ã¾ãŸã€ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’Markdownãƒ™ãƒ¼ã‚¹ã®ãƒ•ã‚¡ã‚¤ãƒ«éšå±¤ã«åˆ†å‰²ã—ã¾ã™ã€‚å•é¡Œã¨æ©Ÿèƒ½ã¯GitHubã‚’é€šã˜ã¦è¿½è·¡ã•ã‚Œã€å…¨ä½“ã¨ã—ã¦ã€ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯ã“ã“æ•°å¹´ã§ã¯ã‚‹ã‹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€36ã‚³ã‚¢ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã¨NVMeãƒ‰ãƒ©ã‚¤ãƒ–ã‚’ä½¿ç”¨ã—ãŸAWS EC2ã§ã®ClickHouseã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°ï¼šã“ã®æŠ•ç¨¿ãŒæœ€åˆã«å…¬é–‹ã•ã‚Œã¦ã‹ã‚‰1é€±é–“å¾Œã€æ§‹æˆã‚’æ”¹å–„ã—ã¦ãƒ†ã‚¹ãƒˆã‚’å†å®Ÿè¡Œã—ã€ã¯ã‚‹ã‹ã«å„ªã‚ŒãŸçµæœã‚’é”æˆã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã®æŠ•ç¨¿ã¯ã€ã“ã‚Œã‚‰ã®å¤‰æ›´ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«æ›´æ–°ã•ã‚Œã¦ã„ã¾ã™ã€‚</font></font></blockquote> <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS EC2ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®èµ·å‹•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æŠ•ç¨¿ã§ã¯ã€c5d.9xlarge EC2ã®3ã¤ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã‚Œãã‚Œã«36å€‹ã®ä»®æƒ³CPUã€72 GBã®RAMã€900 GBã®NVMe SSDãŒå«ã¾ã‚Œã€10ã‚®ã‚¬ãƒ“ãƒƒãƒˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã§èµ·å‹•ã—ãŸå ´åˆã€eu-west-1ãƒªãƒ¼ã‚¸ãƒ§ãƒ³ã§1æ™‚é–“ã‚ãŸã‚Š1,962ãƒ‰ãƒ«ã‹ã‹ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦Ubuntu Server 16.04 LTSã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã¯ã€å„ãƒã‚·ãƒ³ãŒåˆ¶é™ãªã—ã«ç›¸äº’ã«é€šä¿¡ã§ãã‚‹ã‚ˆã†ã«æ§‹æˆã•ã‚Œã¦ãŠã‚Šã€SSHã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§IPv4ã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã¿ãŒãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ã‚¿ãƒ³ãƒã‚¤NVMe </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ClickHouseã‚’æ©Ÿèƒ½ã•ã›ã‚‹ãŸã‚ã«ã€NVMeãƒ‰ãƒ©ã‚¤ãƒ–ã®å„ã‚µãƒ¼ãƒãƒ¼ã«EXT4ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo mkfs -t ext4 /dev/nvme1n1<font></font>
$ sudo mkdir /ch<font></font>
$ sudo mount /dev/nvme1n1 /ch</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã¹ã¦ã®æ§‹æˆãŒå®Œäº†ã™ã‚‹ã¨ã€å„ã‚·ã‚¹ãƒ†ãƒ ã§ä½¿ç”¨å¯èƒ½ãªãƒã‚¦ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒˆã¨783 GBã®ã‚¹ãƒšãƒ¼ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ lsblk</code></pre><br>
<pre><code class="sql hljs">NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT<font></font>
loop0         7:0    0  87.9M  1 loop /snap/core/5742<font></font>
loop1         7:1    0  16.5M  1 loop /snap/amazon-ssm-agent/784<font></font>
nvme0n1     259:1    0     8G  0 disk<font></font>
â””â”€nvme0n1p1 259:2    0     8G  0 part /<font></font>
nvme1n1     259:0    0 838.2G  0 disk /ch</code></pre><br>
<pre><code class="sql hljs">$ df -h</code></pre><br>
<pre><code class="sql hljs">Filesystem      Size  Used Avail <span class="hljs-keyword">Use</span>% Mounted <span class="hljs-keyword">on</span>
udev             <span class="hljs-number">35</span>G     <span class="hljs-number">0</span>   <span class="hljs-number">35</span>G   <span class="hljs-number">0</span>% /dev<font></font>
tmpfs           <span class="hljs-number">6.9</span>G  <span class="hljs-number">8.8</span>M  <span class="hljs-number">6.9</span>G   <span class="hljs-number">1</span>% /run<font></font>
/dev/nvme0n1p1  <span class="hljs-number">7.7</span>G  <span class="hljs-number">967</span>M  <span class="hljs-number">6.8</span>G  <span class="hljs-number">13</span>% /<font></font>
tmpfs            <span class="hljs-number">35</span>G     <span class="hljs-number">0</span>   <span class="hljs-number">35</span>G   <span class="hljs-number">0</span>% /dev/shm<font></font>
tmpfs           <span class="hljs-number">5.0</span>M     <span class="hljs-number">0</span>  <span class="hljs-number">5.0</span>M   <span class="hljs-number">0</span>% /run/<span class="hljs-keyword">lock</span>
tmpfs            <span class="hljs-number">35</span>G     <span class="hljs-number">0</span>   <span class="hljs-number">35</span>G   <span class="hljs-number">0</span>% /<span class="hljs-keyword">sys</span>/fs/cgroup<font></font>
/dev/loop0       <span class="hljs-number">88</span>M   <span class="hljs-number">88</span>M     <span class="hljs-number">0</span> <span class="hljs-number">100</span>% /snap/core/<span class="hljs-number">5742</span>
/dev/loop1       <span class="hljs-number">17</span>M   <span class="hljs-number">17</span>M     <span class="hljs-number">0</span> <span class="hljs-number">100</span>% /snap/amazon-ssm-<span class="hljs-keyword">agent</span>/<span class="hljs-number">784</span>
tmpfs           <span class="hljs-number">6.9</span>G     <span class="hljs-number">0</span>  <span class="hljs-number">6.9</span>G   <span class="hljs-number">0</span>% /run/<span class="hljs-keyword">user</span>/<span class="hljs-number">1000</span>
/dev/nvme1n1    <span class="hljs-number">825</span>G   <span class="hljs-number">73</span>M  <span class="hljs-number">783</span>G   <span class="hljs-number">1</span>% /ch</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¯ã€ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ã§6å¹´é–“ã«è¡Œã‚ã‚ŒãŸ11å„„ã®ã‚¿ã‚¯ã‚·ãƒ¼ã§ç”Ÿæˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ€ãƒ³ãƒ—ã§ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redshift</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Billion Taxi</font></a><font style="vertical-align: inherit;">ãƒ–ãƒ­ã‚°</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã§</font></a><font style="vertical-align: inherit;">ã¯ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®åé›†æ–¹æ³•ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã‚Œã‚‰ã¯AWS S3ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚¢ã‚¯ã‚»ã‚¹ã¨ç§˜å¯†ã‚­ãƒ¼ã‚’ä½¿ç”¨ã—ã¦AWSã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æ§‹æˆã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo apt <span class="hljs-keyword">update</span>
$ sudo apt <span class="hljs-keyword">install</span> awscli<font></font>
$ aws configure</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ™‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¦æ±‚æ•°ã®åˆ¶é™ã‚’100ã«è¨­å®šã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ¨™æº–è¨­å®šã‚ˆã‚Šã‚‚é€Ÿããƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ aws configure <span class="hljs-keyword">set</span> \<font></font>
    default.s3.max_concurrent_requests \<font></font>
    <span class="hljs-number">100</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AWS S3ã‹ã‚‰ã‚¿ã‚¯ã‚·ãƒ¼ã®ä¹—è»Šãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€æœ€åˆã®ã‚µãƒ¼ãƒãƒ¼ã®NVMeãƒ‰ãƒ©ã‚¤ãƒ–ã«ä¿å­˜ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¯ã€GZIPåœ§ç¸®CSVå½¢å¼ã§ç´„104 GBã§ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo mkdir -p /ch/csv<font></font>
$ sudo chown -R ubuntu /ch/csv<font></font>
$ aws s3 sync s3://&lt;bucket&gt;/csv /ch/csv</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ClickHouseã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3ã¤ã®ãƒã‚·ãƒ³ã™ã¹ã¦ã«ClickHouseã‚’åˆ†æ•£ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã«å¿…è¦ãªApache ZooKeeperã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€Java 8ç”¨ã®OpenJDKãƒ‡ã‚£ã‚¹ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo apt <span class="hljs-keyword">update</span>
$ sudo apt <span class="hljs-keyword">install</span> \<font></font>
    openjdk<span class="hljs-number">-8</span>-jre \<font></font>
    openjdk<span class="hljs-number">-8</span>-jdk-headless</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ã¾ã™</font></font><code>JAVA_HOME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo vi /etc/profile<font></font>
 <font></font>
export JAVA_HOME=/usr<font></font>
 <font></font>
$ source /etc/profile</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€Ubuntuã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½¿ç”¨ã—ã¦ã€3å°ã™ã¹ã¦ã®ãƒã‚·ãƒ³ã«ClickHouse 18.16.1ã€glancesã€ZooKeeperã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo apt-key adv \
    <span class="hljs-comment">--keyserver hkp://keyserver.ubuntu.com:80 \</span>
    <span class="hljs-comment">--recv E0C56BD4</span><font></font>
$ echo "deb http://repo.yandex.ru/clickhouse/deb/stable/ main/" | \<font></font>
    sudo tee /etc/apt/sources.list.d/clickhouse.list<font></font>
$ sudo apt-get <span class="hljs-keyword">update</span></code></pre><br>
<pre><code class="sql hljs">$ sudo apt <span class="hljs-keyword">install</span> \<font></font>
    clickhouse-<span class="hljs-keyword">client</span> \<font></font>
    clickhouse-<span class="hljs-keyword">server</span> \<font></font>
    glances \<font></font>
    zookeeperd</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ClickHouseç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€3ã¤ã™ã¹ã¦ã®ã‚µãƒ¼ãƒãƒ¼ã§ã„ãã¤ã‹ã®æ§‹æˆã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo mkdir /ch/clickhouse<font></font>
$ sudo chown -R clickhouse /ch/clickhouse<font></font>
<font></font>
$ sudo mkdir -p /etc/clickhouse-server/conf.d<font></font>
$ sudo vi /etc/clickhouse-server/conf.d/taxis.conf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚‰ã¯ã€ä½¿ç”¨ã™ã‚‹æ§‹æˆã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã§ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">&lt;?xml version="1.0"?&gt;<font></font>
&lt;yandex&gt;<font></font>
    &lt;listen_host&gt;0.0.0.0&lt;/listen_host&gt;<font></font>
    &lt;path&gt;/ch/clickhouse/&lt;/path&gt;<font></font>
</code></pre><br>
 <pre><code class="sql hljs"> &lt;remote_servers&gt;<font></font>
        &lt;perftest_3shards&gt;<font></font>
            &lt;shard&gt;<font></font>
                &lt;replica&gt;<font></font>
                    &lt;host&gt;172.30.2.192&lt;/host&gt;<font></font>
                    &lt;port&gt;9000&lt;/port&gt;<font></font>
                 &lt;/replica&gt;<font></font>
            &lt;/shard&gt;<font></font>
            &lt;shard&gt;<font></font>
                 &lt;replica&gt;<font></font>
                    &lt;host&gt;172.30.2.162&lt;/host&gt;<font></font>
                    &lt;port&gt;9000&lt;/port&gt;<font></font>
                 &lt;/replica&gt;<font></font>
            &lt;/shard&gt;<font></font>
            &lt;shard&gt;<font></font>
                 &lt;replica&gt;<font></font>
                    &lt;host&gt;172.30.2.36&lt;/host&gt;<font></font>
                    &lt;port&gt;9000&lt;/port&gt;<font></font>
                 &lt;/replica&gt;<font></font>
            &lt;/shard&gt;<font></font>
        &lt;/perftest_3shards&gt;<font></font>
    &lt;/remote_servers&gt;</code></pre><br>
 <pre><code class="sql hljs">  &lt;zookeeper-servers&gt;<font></font>
        &lt;node&gt;<font></font>
            &lt;host&gt;172.30.2.192&lt;/host&gt;<font></font>
            &lt;port&gt;2181&lt;/port&gt;<font></font>
        &lt;/node&gt;<font></font>
        &lt;node&gt;<font></font>
            &lt;host&gt;172.30.2.162&lt;/host&gt;<font></font>
            &lt;port&gt;2181&lt;/port&gt;<font></font>
        &lt;/node&gt;<font></font>
        &lt;node&gt;<font></font>
            &lt;host&gt;172.30.2.36&lt;/host&gt;<font></font>
            &lt;port&gt;2181&lt;/port&gt;<font></font>
        &lt;/node&gt;<font></font>
    &lt;/zookeeper-servers&gt;</code></pre><br>
 <pre><code class="sql hljs"> &lt;macros&gt;<font></font>
        &lt;shard&gt;03&lt;/shard&gt;<font></font>
        &lt;replica&gt;01&lt;/replica&gt;<font></font>
    &lt;/macros&gt;<font></font>
&lt;/yandex&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€3ã¤ã®ãƒã‚·ãƒ³ã™ã¹ã¦ã§ZooKeeperã¨ClickHouseã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo /etc/init.d/zookeeper <span class="hljs-keyword">start</span>
$ sudo service clickhouse-<span class="hljs-keyword">server</span> <span class="hljs-keyword">start</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ClickHouseã¸ã®ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆã®ã‚µãƒ¼ãƒãƒ¼ã§ã€ãƒˆãƒ©ãƒ™ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ</font></font><code>trips</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font><font style="vertical-align: inherit;">ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«</font><font style="vertical-align: inherit;">ã¯ã€ãƒ­ã‚°ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã‚¿ã‚¯ã‚·ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ clickhouse-client <span class="hljs-comment">--host=0.0.0.0</span><font></font>
 <font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> trips (<font></font>
    trip_id                 UInt32,<font></font>
    vendor_id               <span class="hljs-keyword">String</span>,<font></font>
<font></font>
    pickup_datetime         DateTime,<font></font>
    dropoff_datetime        Nullable(DateTime),<font></font>
<font></font>
    store_and_fwd_flag      Nullable(FixedString(<span class="hljs-number">1</span>)),<font></font>
    rate_code_id            Nullable(UInt8),<font></font>
    pickup_longitude        Nullable(Float64),<font></font>
    pickup_latitude         Nullable(Float64),<font></font>
    dropoff_longitude       Nullable(Float64),<font></font>
    dropoff_latitude        Nullable(Float64),<font></font>
    passenger_count         Nullable(UInt8),<font></font>
    trip_distance           Nullable(Float64),<font></font>
    fare_amount             Nullable(Float32),<font></font>
    extra                   Nullable(Float32),<font></font>
    mta_tax                 Nullable(Float32),<font></font>
    tip_amount              Nullable(Float32),<font></font>
    tolls_amount            Nullable(Float32),<font></font>
    ehail_fee               Nullable(Float32),<font></font>
    improvement_surcharge   Nullable(Float32),<font></font>
    total_amount            Nullable(Float32),<font></font>
    payment_type            Nullable(<span class="hljs-keyword">String</span>),<font></font>
    trip_type               Nullable(UInt8),<font></font>
    pickup                  Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff                 Nullable(<span class="hljs-keyword">String</span>),<font></font>
<font></font>
    cab_type                Nullable(<span class="hljs-keyword">String</span>),<font></font>
<font></font>
    precipitation           Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    snow_depth              Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    snowfall                Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    max_temperature         Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    min_temperature         Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    average_wind_speed      Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
<font></font>
    pickup_nyct2010_gid     Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    pickup_ctlabel          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_borocode         Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    pickup_boroname         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_ct2010           Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_boroct2010       Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_cdeligibil       Nullable(FixedString(<span class="hljs-number">1</span>)),<font></font>
    pickup_ntacode          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_ntaname          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_puma             Nullable(<span class="hljs-keyword">String</span>),<font></font>
<font></font>
    dropoff_nyct2010_gid    Nullable(UInt8),<font></font>
    dropoff_ctlabel         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_borocode        Nullable(UInt8),<font></font>
    dropoff_boroname        Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_ct2010          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_boroct2010      Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_cdeligibil      Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_ntacode         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_ntaname         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_puma            Nullable(<span class="hljs-keyword">String</span>)<font></font>
) <span class="hljs-keyword">ENGINE</span> = <span class="hljs-keyword">Log</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€å„CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’è§£å‡ã—ã¦ãƒˆãƒ©ãƒ™ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ï¼ˆ</font></font><code>trips</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹ã¯55åˆ†10ç§’ã§è¡Œã‚ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®æ“ä½œå¾Œã€ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚µã‚¤ã‚ºã¯134 GBã§ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ time (for FILENAME in /ch/csv/trips_x*.csv.gz; <span class="hljs-keyword">do</span><font></font>
            echo $FILENAME<font></font>
            gunzip -c $FILENAME | \<font></font>
                clickhouse-<span class="hljs-keyword">client</span> \
                    <span class="hljs-comment">--host=0.0.0.0 \</span>
                    <span class="hljs-comment">--query="INSERT INTO trips FORMAT CSV"</span>
        done)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ³ãƒãƒ¼ãƒˆé€Ÿåº¦ã¯ã€1ç§’ã‚ãŸã‚Š155 MBã®éåœ§ç¸®CSVã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã¯GZIPè§£å‡ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ãŒåŸå› ã§ã‚ã£ãŸã¨æ€ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">xargsã‚’ä½¿ç”¨ã—ã¦ã™ã¹ã¦ã®gzipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸¦è¡Œã—ã¦è§£å‡ã—ã€è§£å‡ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹æ–¹ãŒé«˜é€Ÿã ã£ãŸã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹ã¯ã€CSVã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ—ãƒ­ã‚»ã‚¹ä¸­ã«å ±å‘Šã•ã‚ŒãŸå†…å®¹ã®èª¬æ˜ã§ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo glances</code></pre><br>
<pre><code class="sql hljs">ip-172-30-2-200 (Ubuntu 16.04 64bit / Linux 4.4.0-1072-aws)                                                                                                 Uptime: 0:11:42<font></font>
CPU       8.2%  nice:     0.0%                           <span class="hljs-keyword">LOAD</span>    <span class="hljs-number">36</span>-core                           MEM      <span class="hljs-number">9.8</span>%  active:    <span class="hljs-number">5.20</span>G                           SWAP      <span class="hljs-number">0.0</span>%
<span class="hljs-keyword">user</span>:     <span class="hljs-number">6.0</span>%  irq:      <span class="hljs-number">0.0</span>%                           <span class="hljs-number">1</span> <span class="hljs-keyword">min</span>:    <span class="hljs-number">2.24</span>                            total:  <span class="hljs-number">68.7</span>G  inactive:  <span class="hljs-number">61.0</span>G                           total:       <span class="hljs-number">0</span>
<span class="hljs-keyword">system</span>:   <span class="hljs-number">0.9</span>%  iowait:   <span class="hljs-number">1.3</span>%                           <span class="hljs-number">5</span> <span class="hljs-keyword">min</span>:    <span class="hljs-number">1.83</span>                            used:   <span class="hljs-number">6.71</span>G  buffers:   <span class="hljs-number">66.4</span>M                           used:        <span class="hljs-number">0</span>
idle:    <span class="hljs-number">91.8</span>%  steal:    <span class="hljs-number">0.0</span>%                           <span class="hljs-number">15</span> <span class="hljs-keyword">min</span>:   <span class="hljs-number">1.01</span>                            free:   <span class="hljs-number">62.0</span>G  cached:    <span class="hljs-number">61.6</span>G                           free:        <span class="hljs-number">0</span><font></font>
<font></font>
NETWORK     Rx/s   Tx/s   TASKS <span class="hljs-number">370</span> (<span class="hljs-number">507</span> thr), <span class="hljs-number">2</span> run, <span class="hljs-number">368</span> slp, <span class="hljs-number">0</span> oth sorted automatically <span class="hljs-keyword">by</span> cpu_percent, flat <span class="hljs-keyword">view</span>
ens5        <span class="hljs-number">136</span>b    <span class="hljs-number">2</span>Kb<font></font>
lo         <span class="hljs-number">343</span>Mb  <span class="hljs-number">343</span>Mb     CPU%  MEM%  VIRT   RES   PID <span class="hljs-keyword">USER</span>        NI S    <span class="hljs-built_in">TIME</span>+ IOR/s IOW/s Command
                           <span class="hljs-number">100.4</span>   <span class="hljs-number">1.5</span> <span class="hljs-number">1.65</span>G <span class="hljs-number">1.06</span>G  <span class="hljs-number">9909</span> ubuntu       <span class="hljs-number">0</span> S  <span class="hljs-number">1</span>:<span class="hljs-number">01.33</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> clickhouse-<span class="hljs-keyword">client</span> <span class="hljs-comment">--host=0.0.0.0 --query=INSERT INTO trips FORMAT CSV</span>
DISK I/O     R/s    W/s     <span class="hljs-number">85.1</span>   <span class="hljs-number">0.0</span> <span class="hljs-number">4.65</span>M  <span class="hljs-number">708</span>K  <span class="hljs-number">9908</span> ubuntu       <span class="hljs-number">0</span> R  <span class="hljs-number">0</span>:<span class="hljs-number">50.60</span>   <span class="hljs-number">32</span>M     <span class="hljs-number">0</span> gzip -d -c /ch/csv/trips_xac.csv.gz<font></font>
loop0          <span class="hljs-number">0</span>      <span class="hljs-number">0</span>     <span class="hljs-number">54.9</span>   <span class="hljs-number">5.1</span> <span class="hljs-number">8.14</span>G <span class="hljs-number">3.49</span>G  <span class="hljs-number">8091</span> clickhous    <span class="hljs-number">0</span> S  <span class="hljs-number">1</span>:<span class="hljs-number">44.23</span>     <span class="hljs-number">0</span>   <span class="hljs-number">45</span>M /usr/<span class="hljs-keyword">bin</span>/clickhouse-<span class="hljs-keyword">server</span> <span class="hljs-comment">--config=/etc/clickhouse-server/config.xml</span>
loop1          <span class="hljs-number">0</span>      <span class="hljs-number">0</span>      <span class="hljs-number">4.5</span>   <span class="hljs-number">0.0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>   <span class="hljs-number">319</span> root         <span class="hljs-number">0</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">07.50</span>    <span class="hljs-number">1</span>K     <span class="hljs-number">0</span> kworker/u72:<span class="hljs-number">2</span>
nvme0n1        <span class="hljs-number">0</span>     <span class="hljs-number">3</span>K      <span class="hljs-number">2.3</span>   <span class="hljs-number">0.0</span> <span class="hljs-number">91.1</span>M <span class="hljs-number">28.9</span>M  <span class="hljs-number">9912</span> root         <span class="hljs-number">0</span> R  <span class="hljs-number">0</span>:<span class="hljs-number">01.56</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> /usr/<span class="hljs-keyword">bin</span>/python3 /usr/<span class="hljs-keyword">bin</span>/glances<font></font>
nvme0n1p1      <span class="hljs-number">0</span>     <span class="hljs-number">3</span>K      <span class="hljs-number">0.3</span>   <span class="hljs-number">0.0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>   <span class="hljs-number">960</span> root       <span class="hljs-number">-20</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">00.10</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> kworker/<span class="hljs-number">28</span>:<span class="hljs-number">1</span>H<font></font>
nvme1n1    <span class="hljs-number">32.1</span>M   <span class="hljs-number">495</span>M      <span class="hljs-number">0.3</span>   <span class="hljs-number">0.0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>  <span class="hljs-number">1058</span> root       <span class="hljs-number">-20</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">00.90</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> kworker/<span class="hljs-number">23</span>:<span class="hljs-number">1</span>H</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¶šè¡Œã™ã‚‹å‰ã«ã‚½ãƒ¼ã‚¹CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã¦ã€NVMeãƒ‰ãƒ©ã‚¤ãƒ–ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’è§£æ”¾ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ sudo rm -fr /ch/csv</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—å½¢å¼ã«å¤‰æ›</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Log ClickHouseã‚¨ãƒ³ã‚¸ãƒ³ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’è¡ŒæŒ‡å‘ã®å½¢å¼ã§æ ¼ç´ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ˆã‚Šé€Ÿããƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã€MergeTreeã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’åˆ—å½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ clickhouse-client <span class="hljs-comment">--host=0.0.0.0</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã¯ã€34åˆ†50ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®æ“ä½œå¾Œã€ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ã‚µã‚¤ã‚ºã¯237 GBã§ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> trips_mergetree
    <span class="hljs-keyword">ENGINE</span> = MergeTree(pickup_date, pickup_datetime, <span class="hljs-number">8192</span>)
    <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span><font></font>
        trip_id,<font></font>
        <span class="hljs-keyword">CAST</span>(vendor_id <span class="hljs-keyword">AS</span> Enum8(<span class="hljs-string">'1'</span> = <span class="hljs-number">1</span>,
                                <span class="hljs-string">'2'</span> = <span class="hljs-number">2</span>,
                                <span class="hljs-string">'CMT'</span> = <span class="hljs-number">3</span>,
                                <span class="hljs-string">'VTS'</span> = <span class="hljs-number">4</span>,
                                <span class="hljs-string">'DDS'</span> = <span class="hljs-number">5</span>,
                                <span class="hljs-string">'B02512'</span> = <span class="hljs-number">10</span>,
                                <span class="hljs-string">'B02598'</span> = <span class="hljs-number">11</span>,
                                <span class="hljs-string">'B02617'</span> = <span class="hljs-number">12</span>,
                                <span class="hljs-string">'B02682'</span> = <span class="hljs-number">13</span>,
                                <span class="hljs-string">'B02764'</span> = <span class="hljs-number">14</span>)) <span class="hljs-keyword">AS</span> vendor_id,<font></font>
        toDate(pickup_datetime)                 <span class="hljs-keyword">AS</span> pickup_date,
        <span class="hljs-keyword">ifNull</span>(pickup_datetime, toDateTime(<span class="hljs-number">0</span>))  <span class="hljs-keyword">AS</span> pickup_datetime,<font></font>
        toDate(dropoff_datetime)                <span class="hljs-keyword">AS</span> dropoff_date,
        <span class="hljs-keyword">ifNull</span>(dropoff_datetime, toDateTime(<span class="hljs-number">0</span>)) <span class="hljs-keyword">AS</span> dropoff_datetime,<font></font>
        assumeNotNull(store_and_fwd_flag)       <span class="hljs-keyword">AS</span> store_and_fwd_flag,<font></font>
        assumeNotNull(rate_code_id)             <span class="hljs-keyword">AS</span> rate_code_id,<font></font>
<font></font>
        assumeNotNull(pickup_longitude)         <span class="hljs-keyword">AS</span> pickup_longitude,<font></font>
        assumeNotNull(pickup_latitude)          <span class="hljs-keyword">AS</span> pickup_latitude,<font></font>
        assumeNotNull(dropoff_longitude)        <span class="hljs-keyword">AS</span> dropoff_longitude,<font></font>
        assumeNotNull(dropoff_latitude)         <span class="hljs-keyword">AS</span> dropoff_latitude,<font></font>
        assumeNotNull(passenger_count)          <span class="hljs-keyword">AS</span> passenger_count,<font></font>
        assumeNotNull(trip_distance)            <span class="hljs-keyword">AS</span> trip_distance,<font></font>
        assumeNotNull(fare_amount)              <span class="hljs-keyword">AS</span> fare_amount,<font></font>
        assumeNotNull(extra)                    <span class="hljs-keyword">AS</span> extra,<font></font>
        assumeNotNull(mta_tax)                  <span class="hljs-keyword">AS</span> mta_tax,<font></font>
        assumeNotNull(tip_amount)               <span class="hljs-keyword">AS</span> tip_amount,<font></font>
        assumeNotNull(tolls_amount)             <span class="hljs-keyword">AS</span> tolls_amount,<font></font>
        assumeNotNull(ehail_fee)                <span class="hljs-keyword">AS</span> ehail_fee,<font></font>
        assumeNotNull(improvement_surcharge)    <span class="hljs-keyword">AS</span> improvement_surcharge,<font></font>
        assumeNotNull(total_amount)             <span class="hljs-keyword">AS</span> total_amount,<font></font>
        assumeNotNull(payment_type)             <span class="hljs-keyword">AS</span> payment_type_,<font></font>
        assumeNotNull(trip_type)                <span class="hljs-keyword">AS</span> trip_type,<font></font>
<font></font>
        pickup <span class="hljs-keyword">AS</span> pickup,<font></font>
        pickup <span class="hljs-keyword">AS</span> dropoff,<font></font>
<font></font>
        <span class="hljs-keyword">CAST</span>(assumeNotNull(cab_type)
            <span class="hljs-keyword">AS</span> Enum8(<span class="hljs-string">'yellow'</span> = <span class="hljs-number">1</span>, <span class="hljs-string">'green'</span> = <span class="hljs-number">2</span>))
                                <span class="hljs-keyword">AS</span> cab_type,<font></font>
<font></font>
        precipitation           <span class="hljs-keyword">AS</span> precipitation,<font></font>
        snow_depth              <span class="hljs-keyword">AS</span> snow_depth,<font></font>
        snowfall                <span class="hljs-keyword">AS</span> snowfall,<font></font>
        max_temperature         <span class="hljs-keyword">AS</span> max_temperature,<font></font>
        min_temperature         <span class="hljs-keyword">AS</span> min_temperature,<font></font>
        average_wind_speed      <span class="hljs-keyword">AS</span> average_wind_speed,<font></font>
<font></font>
        pickup_nyct2010_gid     <span class="hljs-keyword">AS</span> pickup_nyct2010_gid,<font></font>
        pickup_ctlabel          <span class="hljs-keyword">AS</span> pickup_ctlabel,<font></font>
        pickup_borocode         <span class="hljs-keyword">AS</span> pickup_borocode,<font></font>
        pickup_boroname         <span class="hljs-keyword">AS</span> pickup_boroname,<font></font>
        pickup_ct2010           <span class="hljs-keyword">AS</span> pickup_ct2010,<font></font>
        pickup_boroct2010       <span class="hljs-keyword">AS</span> pickup_boroct2010,<font></font>
        pickup_cdeligibil       <span class="hljs-keyword">AS</span> pickup_cdeligibil,<font></font>
        pickup_ntacode          <span class="hljs-keyword">AS</span> pickup_ntacode,<font></font>
        pickup_ntaname          <span class="hljs-keyword">AS</span> pickup_ntaname,<font></font>
        pickup_puma             <span class="hljs-keyword">AS</span> pickup_puma,<font></font>
<font></font>
        dropoff_nyct2010_gid    <span class="hljs-keyword">AS</span> dropoff_nyct2010_gid,<font></font>
        dropoff_ctlabel         <span class="hljs-keyword">AS</span> dropoff_ctlabel,<font></font>
        dropoff_borocode        <span class="hljs-keyword">AS</span> dropoff_borocode,<font></font>
        dropoff_boroname        <span class="hljs-keyword">AS</span> dropoff_boroname,<font></font>
        dropoff_ct2010          <span class="hljs-keyword">AS</span> dropoff_ct2010,<font></font>
        dropoff_boroct2010      <span class="hljs-keyword">AS</span> dropoff_boroct2010,<font></font>
        dropoff_cdeligibil      <span class="hljs-keyword">AS</span> dropoff_cdeligibil,<font></font>
        dropoff_ntacode         <span class="hljs-keyword">AS</span> dropoff_ntacode,<font></font>
        dropoff_ntaname         <span class="hljs-keyword">AS</span> dropoff_ntaname,<font></font>
        dropoff_puma            <span class="hljs-keyword">AS</span> dropoff_puma
    <span class="hljs-keyword">FROM</span> trips;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ“ä½œä¸­ã®glanceå‡ºåŠ›ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">ip-172-30-2-200 (Ubuntu 16.04 64bit / Linux 4.4.0-1072-aws)                                                                                                 Uptime: 1:06:09<font></font>
CPU      10.3%  nice:     0.0%                           <span class="hljs-keyword">LOAD</span>    <span class="hljs-number">36</span>-core                           MEM     <span class="hljs-number">16.1</span>%  active:    <span class="hljs-number">13.3</span>G                           SWAP      <span class="hljs-number">0.0</span>%
<span class="hljs-keyword">user</span>:     <span class="hljs-number">7.9</span>%  irq:      <span class="hljs-number">0.0</span>%                           <span class="hljs-number">1</span> <span class="hljs-keyword">min</span>:    <span class="hljs-number">1.87</span>                            total:  <span class="hljs-number">68.7</span>G  inactive:  <span class="hljs-number">52.8</span>G                           total:       <span class="hljs-number">0</span>
<span class="hljs-keyword">system</span>:   <span class="hljs-number">1.6</span>%  iowait:   <span class="hljs-number">0.8</span>%                           <span class="hljs-number">5</span> <span class="hljs-keyword">min</span>:    <span class="hljs-number">1.76</span>                            used:   <span class="hljs-number">11.1</span>G  buffers:   <span class="hljs-number">71.8</span>M                           used:        <span class="hljs-number">0</span>
idle:    <span class="hljs-number">89.7</span>%  steal:    <span class="hljs-number">0.0</span>%                           <span class="hljs-number">15</span> <span class="hljs-keyword">min</span>:   <span class="hljs-number">1.95</span>                            free:   <span class="hljs-number">57.6</span>G  cached:    <span class="hljs-number">57.2</span>G                           free:        <span class="hljs-number">0</span><font></font>
<font></font>
NETWORK     Rx/s   Tx/s   TASKS <span class="hljs-number">367</span> (<span class="hljs-number">523</span> thr), <span class="hljs-number">1</span> run, <span class="hljs-number">366</span> slp, <span class="hljs-number">0</span> oth sorted automatically <span class="hljs-keyword">by</span> cpu_percent, flat <span class="hljs-keyword">view</span>
ens5         <span class="hljs-number">1</span>Kb    <span class="hljs-number">8</span>Kb<font></font>
lo           <span class="hljs-number">2</span>Kb    <span class="hljs-number">2</span>Kb     CPU%  MEM%  VIRT   RES   PID <span class="hljs-keyword">USER</span>        NI S    <span class="hljs-built_in">TIME</span>+ IOR/s IOW/s Command
                           <span class="hljs-number">241.9</span>  <span class="hljs-number">12.8</span> <span class="hljs-number">20.7</span>G <span class="hljs-number">8.78</span>G  <span class="hljs-number">8091</span> clickhous    <span class="hljs-number">0</span> S <span class="hljs-number">30</span>:<span class="hljs-number">36.73</span>   <span class="hljs-number">34</span>M  <span class="hljs-number">125</span>M /usr/<span class="hljs-keyword">bin</span>/clickhouse-<span class="hljs-keyword">server</span> <span class="hljs-comment">--config=/etc/clickhouse-server/config.xml</span>
DISK I/O     R/s    W/s      <span class="hljs-number">2.6</span>   <span class="hljs-number">0.0</span> <span class="hljs-number">90.4</span>M <span class="hljs-number">28.3</span>M  <span class="hljs-number">9948</span> root         <span class="hljs-number">0</span> R  <span class="hljs-number">1</span>:<span class="hljs-number">18.53</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> /usr/<span class="hljs-keyword">bin</span>/python3 /usr/<span class="hljs-keyword">bin</span>/glances<font></font>
loop0          <span class="hljs-number">0</span>      <span class="hljs-number">0</span>      <span class="hljs-number">1.3</span>   <span class="hljs-number">0.0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>   <span class="hljs-number">203</span> root         <span class="hljs-number">0</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">09.82</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> kswapd0<font></font>
loop1          <span class="hljs-number">0</span>      <span class="hljs-number">0</span>      <span class="hljs-number">0.3</span>   <span class="hljs-number">0.1</span>  <span class="hljs-number">315</span>M <span class="hljs-number">61.3</span>M <span class="hljs-number">15701</span> ubuntu       <span class="hljs-number">0</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">00.40</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> clickhouse-<span class="hljs-keyword">client</span> <span class="hljs-comment">--host=0.0.0.0</span>
nvme0n1        <span class="hljs-number">0</span>     <span class="hljs-number">3</span>K      <span class="hljs-number">0.3</span>   <span class="hljs-number">0.0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">7</span> root         <span class="hljs-number">0</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">00.83</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> rcu_sched<font></font>
nvme0n1p1      <span class="hljs-number">0</span>     <span class="hljs-number">3</span>K      <span class="hljs-number">0.0</span>   <span class="hljs-number">0.0</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span>   <span class="hljs-number">142</span> root         <span class="hljs-number">0</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">00.22</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-keyword">migration</span>/<span class="hljs-number">27</span>
nvme1n1    <span class="hljs-number">25.8</span>M   <span class="hljs-number">330</span>M      <span class="hljs-number">0.0</span>   <span class="hljs-number">0.0</span> <span class="hljs-number">59.7</span>M <span class="hljs-number">1.79</span>M  <span class="hljs-number">2764</span> ubuntu       <span class="hljs-number">0</span> S  <span class="hljs-number">0</span>:<span class="hljs-number">00.00</span>     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> (sd-pam)</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€å¾Œã®ãƒ†ã‚¹ãƒˆã§ã¯ã€ã„ãã¤ã‹ã®åˆ—ãŒå¤‰æ›ã•ã‚Œã€å†ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®é–¢æ•°ã®ã„ãã¤ã‹ã¯ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§ã¯æ­£ã—ãæ©Ÿèƒ½ã—ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€ä¸é©åˆ‡ãªé–¢æ•°ã‚’å‰Šé™¤ã—ã€ã‚ˆã‚Šè©³ç´°ãªå‹ã«å¤‰æ›ã›ãšã«ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿åˆ†æ•£</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¯ãƒ©ã‚¹ã‚¿ã®3ã¤ã®ãƒãƒ¼ãƒ‰ã™ã¹ã¦ã«ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æ•£ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãšã€3ã¤ã®ãƒã‚·ãƒ³ã™ã¹ã¦ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ clickhouse-client <span class="hljs-comment">--host=0.0.0.0</span></code></pre><br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> trips_mergetree_third (<font></font>
    trip_id                 UInt32,<font></font>
    vendor_id               <span class="hljs-keyword">String</span>,<font></font>
    pickup_date             <span class="hljs-built_in">Date</span>,<font></font>
    pickup_datetime         DateTime,<font></font>
    dropoff_date            <span class="hljs-built_in">Date</span>,<font></font>
    dropoff_datetime        Nullable(DateTime),<font></font>
    store_and_fwd_flag      Nullable(FixedString(<span class="hljs-number">1</span>)),<font></font>
    rate_code_id            Nullable(UInt8),<font></font>
    pickup_longitude        Nullable(Float64),<font></font>
    pickup_latitude         Nullable(Float64),<font></font>
    dropoff_longitude       Nullable(Float64),<font></font>
    dropoff_latitude        Nullable(Float64),<font></font>
    passenger_count         Nullable(UInt8),<font></font>
    trip_distance           Nullable(Float64),<font></font>
    fare_amount             Nullable(Float32),<font></font>
    extra                   Nullable(Float32),<font></font>
    mta_tax                 Nullable(Float32),<font></font>
    tip_amount              Nullable(Float32),<font></font>
    tolls_amount            Nullable(Float32),<font></font>
    ehail_fee               Nullable(Float32),<font></font>
    improvement_surcharge   Nullable(Float32),<font></font>
    total_amount            Nullable(Float32),<font></font>
    payment_type            Nullable(<span class="hljs-keyword">String</span>),<font></font>
    trip_type               Nullable(UInt8),<font></font>
    pickup                  Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff                 Nullable(<span class="hljs-keyword">String</span>),<font></font>
<font></font>
    cab_type                Nullable(<span class="hljs-keyword">String</span>),<font></font>
<font></font>
    precipitation           Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    snow_depth              Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    snowfall                Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    max_temperature         Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    min_temperature         Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    average_wind_speed      Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
<font></font>
    pickup_nyct2010_gid     Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    pickup_ctlabel          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_borocode         Nullable(<span class="hljs-built_in">Int8</span>),<font></font>
    pickup_boroname         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_ct2010           Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_boroct2010       Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_cdeligibil       Nullable(FixedString(<span class="hljs-number">1</span>)),<font></font>
    pickup_ntacode          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_ntaname          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    pickup_puma             Nullable(<span class="hljs-keyword">String</span>),<font></font>
<font></font>
    dropoff_nyct2010_gid    Nullable(UInt8),<font></font>
    dropoff_ctlabel         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_borocode        Nullable(UInt8),<font></font>
    dropoff_boroname        Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_ct2010          Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_boroct2010      Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_cdeligibil      Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_ntacode         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_ntaname         Nullable(<span class="hljs-keyword">String</span>),<font></font>
    dropoff_puma            Nullable(<span class="hljs-keyword">String</span>)<font></font>
) <span class="hljs-keyword">ENGINE</span> = MergeTree(pickup_date, pickup_datetime, <span class="hljs-number">8192</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€æœ€åˆã®ã‚µãƒ¼ãƒãƒ¼ãŒã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®3ã¤ã®ãƒãƒ¼ãƒ‰ã™ã¹ã¦ã‚’èªè­˜ã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> *
<span class="hljs-keyword">FROM</span> system.clusters
<span class="hljs-keyword">WHERE</span> cluster = <span class="hljs-string">'perftest_3shards'</span>
<span class="hljs-keyword">FORMAT</span> Vertical;</code></pre><br>
 <br>
<pre><code class="sql hljs">Row 1:<font></font>
â”€â”€â”€â”€â”€â”€<font></font>
cluster:          perftest_3shards<font></font>
shard_num:        1<font></font>
shard_weight:     1<font></font>
replica_num:      1<font></font>
host_name:        172.30.2.192<font></font>
host_address:     172.30.2.192<font></font>
port:             9000<font></font>
is_local:         1<font></font>
user:             default<font></font>
default_database:</code></pre><br>
<br>
<pre><code class="sql hljs">Row 2:<font></font>
â”€â”€â”€â”€â”€â”€<font></font>
cluster:          perftest_3shards<font></font>
shard_num:        2<font></font>
shard_weight:     1<font></font>
replica_num:      1<font></font>
host_name:        172.30.2.162<font></font>
host_address:     172.30.2.162<font></font>
port:             9000<font></font>
is_local:         0<font></font>
user:             default<font></font>
default_database:</code></pre><br>
<pre><code class="sql hljs">Row 3:<font></font>
â”€â”€â”€â”€â”€â”€<font></font>
cluster:          perftest_3shards<font></font>
shard_num:        3<font></font>
shard_weight:     1<font></font>
replica_num:      1<font></font>
host_name:        172.30.2.36<font></font>
host_address:     172.30.2.36<font></font>
port:             9000<font></font>
is_local:         0<font></font>
user:             default<font></font>
default_database:</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€æœ€åˆã®ã‚µãƒ¼ãƒãƒ¼ã«æ–°ã—ã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚¹ã‚­ãƒ¼ãƒã«åŸºã¥ã„ã¦</font></font><code>trips_mergetree_third</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠã‚Šã€åˆ†æ•£ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨</font><font style="vertical-align: inherit;">ã—ã¦ã„ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> trips_mergetree_x3
    <span class="hljs-keyword">AS</span> trips_mergetree_third
    <span class="hljs-keyword">ENGINE</span> = <span class="hljs-keyword">Distributed</span>(perftest_3shards,
                         <span class="hljs-keyword">default</span>,<font></font>
                         trips_mergetree_third,<font></font>
                         <span class="hljs-keyword">rand</span>());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€MergeTreeã«åŸºã¥ããƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰3ã¤ã®ã‚µãƒ¼ãƒãƒ¼ã™ã¹ã¦ã«ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹ã¯ã€34åˆ†44ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> trips_mergetree_x3
    <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> trips_mergetree;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸Šè¨˜ã®æ“ä½œã®å¾Œã€ClickHouseã«æœ€å¤§ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ¬ãƒ™ãƒ«ãƒãƒ¼ã‚¯ã‹ã‚‰é›¢ã‚Œã‚‹ã‚ˆã†ã«15åˆ†ã®æ™‚é–“ã‚’ä¸ãˆã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">3ã¤ã®ã‚µãƒ¼ãƒãƒ¼ã®ãã‚Œãã‚Œã§ã€ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ãã‚Œãã‚Œ264 GBã€34 GBã€33 GBã«ãªã‚Šã¾ã—ãŸã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ClickHouseã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«è¦‹ãŸã®ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®å„ã‚¯ã‚¨ãƒªã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ãŸã¨ãã«è¦‹ãŸæœ€é€Ÿã®æ™‚é–“ã§ã—ãŸ</font></font><code>trips_mergetree_x3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="sql hljs">$ clickhouse-client <span class="hljs-comment">--host=0.0.0.0</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã¯2.449ç§’ã§å®Œäº†ã—ã¾ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> cab_type, <span class="hljs-keyword">count</span>(*)
<span class="hljs-keyword">FROM</span> trips_mergetree_x3
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> cab_type;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã¯0.691ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> passenger_count,
       <span class="hljs-keyword">avg</span>(total_amount)
<span class="hljs-keyword">FROM</span> trips_mergetree_x3
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> passenger_count;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã¯0ç§’ã§å®Œäº†ã—ã¾ã—ãŸã€‚582ç§’ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> passenger_count,<font></font>
       toYear(pickup_date) <span class="hljs-keyword">AS</span> <span class="hljs-keyword">year</span>,
       <span class="hljs-keyword">count</span>(*)
<span class="hljs-keyword">FROM</span> trips_mergetree_x3
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> passenger_count,
         <span class="hljs-keyword">year</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã¯0.983ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> passenger_count,<font></font>
       toYear(pickup_date) <span class="hljs-keyword">AS</span> <span class="hljs-keyword">year</span>,
       <span class="hljs-keyword">round</span>(trip_distance) <span class="hljs-keyword">AS</span> distance,
       <span class="hljs-keyword">count</span>(*)
<span class="hljs-keyword">FROM</span> trips_mergetree_x3
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> passenger_count,
         <span class="hljs-keyword">year</span>,<font></font>
         distance<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">year</span>,
         <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">DESC</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¯”è¼ƒã®ãŸã‚ã«ã€æœ€åˆã®ã‚µãƒ¼ãƒãƒ¼ã«ã®ã¿é…ç½®ã•ã‚Œã¦ã„ã‚‹MergeTreeã«åŸºã¥ããƒ†ãƒ¼ãƒ–ãƒ«ã§åŒã˜ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ã¤ã®ClickHouseãƒãƒ¼ãƒ‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è©•ä¾¡</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«è¦‹ãŸã®ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®å„ã‚¯ã‚¨ãƒªã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ãŸã¨ãã«è¦‹ãŸæœ€é€Ÿã®æ™‚é–“ã§ã—ãŸ</font></font><code>trips_mergetree_x3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã¯0.241ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> cab_type, <span class="hljs-keyword">count</span>(*)
<span class="hljs-keyword">FROM</span> trips_mergetree
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> cab_type;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã¯0.826ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> passenger_count,
       <span class="hljs-keyword">avg</span>(total_amount)
<span class="hljs-keyword">FROM</span> trips_mergetree
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> passenger_count;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹ã¯1.209ç§’ã§å®Œäº†ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> passenger_count,<font></font>
       toYear(pickup_date) <span class="hljs-keyword">AS</span> <span class="hljs-keyword">year</span>,
       <span class="hljs-keyword">count</span>(*)
<span class="hljs-keyword">FROM</span> trips_mergetree
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> passenger_count,
         <span class="hljs-keyword">year</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã¯1.781ç§’ã§å®Œäº†ã—ã¾ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> passenger_count,<font></font>
       toYear(pickup_date) <span class="hljs-keyword">AS</span> <span class="hljs-keyword">year</span>,
       <span class="hljs-keyword">round</span>(trip_distance) <span class="hljs-keyword">AS</span> distance,
       <span class="hljs-keyword">count</span>(*)
<span class="hljs-keyword">FROM</span> trips_mergetree
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> passenger_count,
         <span class="hljs-keyword">year</span>,<font></font>
         distance<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">year</span>,
         <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">DESC</span>;</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµæœã«ã¤ã„ã¦ã®è€ƒå¯Ÿ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ã®ãƒ†ã‚¹ãƒˆã§ã¯ã€ç„¡æ–™ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒGPUãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ã—ã®ãã“ã¨ãŒã§ããŸã®ã¯ã“ã‚ŒãŒåˆã‚ã¦ã§ã™ã€‚ãã®GPUãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ãã‚Œä»¥æ¥2ã¤ã®æ”¹è¨‚ã‚’å—ã‘ã¾ã—ãŸãŒã€ãã‚Œã§ã‚‚ã€ClickHouseãŒ1ã¤ã®ãƒãƒ¼ãƒ‰ã§ç¤ºã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯éå¸¸ã«å°è±¡çš„ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ™‚ã«ã€åˆ†æ•£ã‚¨ãƒ³ã‚¸ãƒ³ã§ã‚¯ã‚¨ãƒª1ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ãŒ1æ¡é«˜ããªã‚Šã¾ã™ã€‚ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã¨ã‚¯ã‚¨ãƒªæ™‚é–“ãŒã©ã®ã‚ˆã†ã«æ¸›å°‘ã™ã‚‹ã‹ã‚’ç¢ºèªã§ãã‚‹ã®ã§ã€ã“ã®æŠ•ç¨¿ã®ç ”ç©¶ã§ä½•ã‹ã‚’è¦‹é€ƒã—ãŸã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚ãŸã ã—ã€ä»–ã®ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç”Ÿç”£æ€§ãŒç´„2å€ã«å‘ä¸Šã—ãŸã“ã¨ã¯æ³¨ç›®ã«å€¤ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ClickHouseãŒé€²åŒ–ã—ã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¨ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’åˆ†é›¢ã—ã¦ç‹¬ç«‹ã—ã¦æ‹¡å¼µã§ãã‚‹ã‚ˆã†ã«ãªã‚Œã°ã€ã™ã°ã‚‰ã—ã„ã¨æ€ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ˜¨å¹´è¿½åŠ ã•ã‚ŒãŸHDFSã‚µãƒãƒ¼ãƒˆã¯ã€ã“ã‚Œã«å‘ã‘ãŸä¸€æ­©ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«é–¢ã—ã¦ã¯ã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§å˜ä¸€ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’åŠ é€Ÿã§ãã‚‹å ´åˆã€ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®å°†æ¥ã¯éå¸¸ã«æ˜ã‚‹ã„ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æŠ•ç¨¿ã‚’èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">åŒ—ç±³ã¨ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€å®Ÿè·µçš„ãªé–‹ç™ºã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã®ææ¡ˆãŒã‚ãªãŸã®ãƒ“ã‚¸ãƒã‚¹ã«ã©ã®ã‚ˆã†ã«å½¹ç«‹ã¤ã‹ã«ã¤ã„ã¦è©±ã—åˆã„ãŸã„å ´åˆã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LinkedIn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµŒç”±ã§ç§ã«é€£çµ¡ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463651/index.html">WMSã®é›¢æ•£æ•°å­¦ï¼šã‚»ãƒ«å†…ã®å•†å“ã‚’åœ§ç¸®ã™ã‚‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆãƒ‘ãƒ¼ãƒˆ2ï¼‰</a></li>
<li><a href="../ja463653/index.html">Unityã§ã®16ãƒ“ãƒƒãƒˆã‚²ãƒ¼ãƒ ã¨ãã®ãƒ¬ã‚¯ãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ¶é™</a></li>
<li><a href="../ja463655/index.html">1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª•ç”Ÿã¾ãŸã¯ç‹¬è‡ªã®CMSã®ä½œæˆæ–¹æ³•</a></li>
<li><a href="../ja463657/index.html">ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã¯å¸ã†</a></li>
<li><a href="../ja463663/index.html">æ ªå¼å¸‚å ´ã®æ§‹é€ ã€è¨¼åˆ¸å–å¼•æ‰€ã¸ã®æŠ•è³‡ã€è‡ªå‹•å–å¼•ã«ã¤ã„ã¦ç†è§£ã™ã‚‹ãŸã‚ã®10å†Šã®æœ¬</a></li>
<li><a href="../ja463667/index.html">ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆã¯æ¤œç´¢æŠ€è¡“ã«èº«ã‚’ä»»ã›ã¾ã›ã‚“ãŒã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯åæ’ƒã—ã¾ã™</a></li>
<li><a href="../ja463669/index.html">MQTTãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼šæ¦‚å¿µçš„ãªæ²¡å…¥</a></li>
<li><a href="../ja463673/index.html">ã‚«ãƒŠãƒ€ã§ITã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚’è¨­ç«‹ã™ã‚‹6ã¤ã®ç†ç”±</a></li>
<li><a href="../ja463675/index.html">äººäº‹éŒ¬é‡‘è¡“ï¼šGosSOPKAã‚»ãƒ³ã‚¿ãƒ¼ã®ãƒãƒ¼ãƒ ã®æœ€é©ãªæ§‹æˆã¯ä½•ã§ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja463677/index.html">é›¢ã‚ŒãŸå ´æ‰€ã®ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ‰ï¼šå®¶æ—ã¨ä¸€ç·’ã«æ—…è¡Œã—ã€ã‚®ãƒªã‚·ãƒ£ã¨ãƒ™ãƒˆãƒŠãƒ ã§åƒã„ãŸæ–¹æ³•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>