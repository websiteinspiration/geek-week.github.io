<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍💼 👎🏾 🔪 Zahnbürst-Timer ☄️ 👘 👨🏾‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, Habr! 
 
 
 
 Dieser Artikel richtet sich an Personen, die nicht alle Bürsten mit Timer im Badezimmer haben und keine Sanduhr verwenden möc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Zahnbürst-Timer</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494058/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guten Tag, Habr! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kf/9-/jw/kf9-jwevd_sekilnlp_-ervkxgw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Artikel richtet sich an Personen, die nicht alle Bürsten mit Timer im Badezimmer haben und keine Sanduhr verwenden möchten.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben zwei Töchter. Jedes Mal, wenn sie das Badezimmer betreten, um sich die Zähne zu putzen, bitten sie darum, zwei Minuten lang entdeckt zu werden (von vier Kinderbürsten hat nur eine einen Timer zum Zähneputzen). Um den Prozess interessanter zu gestalten und wir die Kinder nicht daran erinnern mussten, viermal am Tag das Badezimmer zu verlassen, beschloss ich, einen Timer zu finden. Die Sanduhr fiel sofort weg - es ist irgendwie nicht sportlich. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yn/z0/di/ynz0dieaj7n70tdbqwmqspauruu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 1. Timer-Schaltung</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zeitschaltung ist sehr einfach und in Abb. 1 dargestellt. Die mechanischen Knöpfe sind nicht sehr gut für das Badezimmer geeignet, da sie beim Drücken mit nassen Händen versagen können (ich werde das Brett lackieren), daher wurde beschlossen, den Knopf zu berühren. Ich habe zuvor den TTP223-Chip verwendet und ihn entsprechend installiert, aber jetzt funktioniert er als Reset für den Mikrocontroller. Ich dachte, da der Timer fast immer ausgeschaltet ist (wenn Sie nicht berücksichtigen, dass Kinder ständig in ihn eindringen und sich die Hände waschen), können Sie den Standby-Modus verwenden. Wenn Sie die Taste drücken, setzen Sie einfach den MK zurück. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Mikrocontroller verwendete den verfügbaren - STM32F031G4. Das kleine UFQFPN-28 ist sehr praktisch für Miniaturhandwerk. Speziell kein Hochtöner (um Batterie zu sparen) und Buck-Boost hinzugefügt, so dass die Abmessungen minimal waren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hz/0c/qm/hz0cqmbl3qxqpn2rqakpknmddu8.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 2. Leiterplatte oben</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Auf der Leiterplatte habe ich nur zehn Durchkontaktierungen hergestellt, und um kein Dorn im Auge zu sein, befanden sich acht davon auf LED-Plattformen. Ich wollte auch unbedingt irgendwo ein Fingerabdruckbild anbringen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mu/uu/t7/muuut7av1aj7acl9fly_vypjub8.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 3. Leiterplattenboden Ich habe</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
versucht, die </font><i><font style="vertical-align: inherit;">Leiterplatte</font></i><font style="vertical-align: inherit;"> so klein wie möglich zu halten, da ich noch nicht weiß, ob ich das Gehäuse drucken oder nur das doppelseitige Klebeband auf die Fliese oder den Spiegel im Batteriefach kleben werde. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1o/u3/ir/1ou3irruebs43lawnqmwx4hqc0u.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abb. 4. Die</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Karte </font><i><font style="vertical-align: inherit;">mit den unteren Komponenten. Die</font></i><font style="vertical-align: inherit;"> Firmware ist auch recht einfach (generiert in CubeMX für IAR). Blinken Sie die Dioden beim Starten und Löschen, leuchten Sie dann in Abständen von jeweils 30 Sekunden und blinken Sie vor dem Schlafengehen erneut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den Standby-Modus werden nur einige Leitungen verwendet:</font></font><br>
<br>
<pre><code class="cpp hljs">DBGMCU-&gt;CR |= DBGMCU_CR_DBG_STANDBY;  </code></pre><br>
<pre><code class="cpp hljs">HAL_PWR_EnterSTANDBYMode();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Einschlafen fällt der SWD ab, aber da ich einen Sensor am Reset habe, drücken wir einfach die Berührung und blinken ihn. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LEDs verwenden Chinesisch mit Ali. </font><font style="vertical-align: inherit;">Mit einem Multimeter (UNI-T UT70A) stellte sich heraus, dass etwa Folgendes gemessen wurde:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 LED - 3,2 mA;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 LEDs - 3,4 mA;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 LEDs - 3,6 mA;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 LEDs - 3,8 mA;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Standby-Modus 8uA.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, mit der Frequenz von STM zu spielen und in der Betriebsart, um es minimal zu machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe, die Kinder werden begeistert sein) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Die </font></font><br>
<img src="https://habrastorage.org/webt/5a/ei/mi/5aeimimvj-trwjxe4pvxzswduiy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kinder sind begeistert! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank für Ihre Aufmerksamkeit!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de494048/index.html">Die besten Materialien für die selbständige Herstellung von medizinischen Masken</a></li>
<li><a href="../de494050/index.html">"Udalenka". Notizen vom gestrigen Büroentwickler</a></li>
<li><a href="../de494052/index.html">Was ist los mit Sammlungen in Java und warum wird Guava nicht helfen</a></li>
<li><a href="../de494054/index.html">Problem Nr. 33: IT-Schulung - aktuelle Probleme und Herausforderungen führender Unternehmen</a></li>
<li><a href="../de494056/index.html">Lab X - Googles Fabrik für streng geheime Projekte</a></li>
<li><a href="../de494062/index.html">Internetgeschichte: Ära der Fragmentierung; Teil 1: Lastfaktor</a></li>
<li><a href="../de494064/index.html">Spielen Sie mit der Katze, kaufen Sie einen Bademantel: Linus Torvalds Gedanken zur Arbeit von zu Hause aus</a></li>
<li><a href="../de494072/index.html">Die Zukunft ist da: Wie Sprachroboter funktionieren und was sie können</a></li>
<li><a href="../de494074/index.html">Wie man die Aufmerksamkeit des Spielers im Spiel hält</a></li>
<li><a href="../de494076/index.html">Analyse: Anlegerverhaltensstrategien bei Börsencrashs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>