<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¿â€ğŸŒ¾ ğŸŒ‰ ğŸ§ stm32ã‚’ä½¿ã„å§‹ã‚ã‚‹ã‹ã€é–“é•ã„ã‚’ç¹°ã‚Šè¿”ã•ãªã„ã§ãã ã•ã„ ğŸ¤¶ğŸ» ğŸ˜¿ ğŸ‘µğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="stm32f103c8t6ã¨stm32l151rct6ã®ä¾‹ã§ARMã‚’çŸ¥ã‚‹é€”ä¸­ã§é­é‡ã—ãŸãƒ¬ãƒ¼ã‚­ã«ã¤ã„ã¦ã®çŸ­ã„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã€‚
 

ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¨ã®çŸ¥ã‚Šåˆã„ã¯AVRã‹ã‚‰å§‹ã¾ã‚Šã¾ã—ãŸã€‚AtmelStudio4ã®ã‚¹ã‚¯ãƒ©ãƒƒãƒãƒˆãƒ©ãƒƒã‚¯ã¨ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒ¼ã®ã‚ã‚‹ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã€ãƒ¡ãƒ¢å¸³ï¼ˆç§ã®å ´åˆã¯KWriteï¼‰ã¨ã‚³ãƒ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>stm32ã‚’ä½¿ã„å§‹ã‚ã‚‹ã‹ã€é–“é•ã„ã‚’ç¹°ã‚Šè¿”ã•ãªã„ã§ãã ã•ã„</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456280/"><p><img src="https://habrastorage.org/getpro/habr/post_images/7af/bf8/34a/7afbf834aacfe9204173342ee1d2787c.jpg" alt="ç”»åƒ"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stm32f103c8t6ã¨stm32l151rct6ã®ä¾‹ã§ARMã‚’çŸ¥ã‚‹é€”ä¸­ã§é­é‡ã—ãŸãƒ¬ãƒ¼ã‚­ã«ã¤ã„ã¦ã®çŸ­ã„ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã€‚</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¤ã‚¯ãƒ­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã¨ã®çŸ¥ã‚Šåˆã„ã¯AVRã‹ã‚‰å§‹ã¾ã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">AtmelStudio4ã®ã‚¹ã‚¯ãƒ©ãƒƒãƒãƒˆãƒ©ãƒƒã‚¯ã¨ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒ¼ã®ã‚ã‚‹ãƒœãƒ¼ãƒ‰ã‹ã‚‰ã€ãƒ¡ãƒ¢å¸³ï¼ˆç§ã®å ´åˆã¯KWriteï¼‰ã¨ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ä½œæ¥­ã™ã‚‹ãŸã‚ã®é€šå¸¸ã®ãƒ«ãƒ¼ãƒˆã¨è‡ªå·±ä½œæˆã®makefileã«è‡³ã‚‹ã¾ã§ã€ã‹ãªã‚Šé•·ã„é–“ãã‚Œã‚‰ã«å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚</font></font></p><br>
<p>          â€” ARM.        (    ,    ),       stm32f1,  , , .  ,    Discovery  blue pill?  ,     AVR-!     ,   ,   ,   .    stm32f103c8t6      .    ?       â€¦ ,    .   ,   8  â€”   A  (0-7),  B â€”  (8-15). , ,   ,      .              2-3   1-2 ,       .      ?     PA8, PA9,   .   USB,  BOOT0, BOOT1     .    ,    (       ).       3.6 ,   USB  5 .   .  ,        â€¦ ?   ,    78l33 .    JTAG.  Atmel     ISP10  ISP6.  JTAG   . , â€¦        .    st-link: , 10-.   -   AVR: ,  20-.   -:      . ,  ,   .  ,        ISP-6  ISP-10.    ,   .  ,  0,5      ,      .</p><br>
<p>   .   USB, ,    .   â€” ,  USB  ,   UART1 . ,   -    .  ,      ,     PA9 .   ,   ,       .          stm32flash.</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/180/277/876/180277876d736da44658abbce5e5d426.jpg" alt="ç”»åƒ"></p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/4d8/341/8a5/4d83418a5f8bb271a41aefa94fd5d42c.jpg" alt="ç”»åƒ"></p><br>
<p>    ,    .          gcc-arm-none-eabi. ,     ,  .    hello-world'    .        ,    HAL â€”     . ,    ,   ,     .        BOOT0  ,   , -  JTAG-.   ,        .  ,   TurboPascal'    .       ili9341  raspberry pi     72 .    â€”  200     11 fps.  ,         .</p><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/D9KuP8Q5qTM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<p> -     ,     .      :  ARM        AVR-!    (    ,   ATmega88p)   0,8    ,         * â€” 25  Â± 1.4   RTC.    . , stm32f103      .    STmicroelectronics       stm32l1:    1 ,        . ,   ,  36  ( 24    USB),    - . :   stm32l151rct6   32   (  256  ,       .        ).</p><br>
<ul>
<li><em>)     (sleep, stop)   (standby)</em></li>
</ul><br>
<p>    stm32f103  st-link v2,       BOOT0  ,    . ,   UART  â€”   .     ,   .       openocd  .     :</p><br>
<pre><code class="plaintext hljs">openocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg -c "init" -c "reset halt" -c "flash write_image erase "$(firmware).bin" 0x08000000" -c "reset run" -c "exit"</code></pre><br>
<p> stm32l151 ,  ,  target  "target/stm32l1.cfg"</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/4e7/20b/8b2/4e720b8b2a7c604796d911ac8c989f2f.jpg" alt="ç”»åƒ"></p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/6ec/f47/a66/6ecf47a661552fd60fd9fae056b1828c.jpg" alt="ç”»åƒ"></p><br>
<p>    ,    . ,     !     ,    smd-.  ,             .        JTAG.   -   ,    .  ,  ,   UART   "",  . ,  ,      , .        .   .   .  ,      ,    - ,    .        .  .</p><br>
<p>   ,       ,     â€”  . ,     l151    ,   IDE.    ,   ,   (  â€” ,   -   ).      ,    .  78l33   ,      ,       ( -  ,     ).     ,     â€” !      , .   UART1  ,            . , JTAG    ,    .  ,    (   )     ,     .</p><br>
<p>      .  -  ,       ,   .   ,    ST   , .       ? ,  ,    ,   .  ,     , .      .     .  ,         "",         .    .    ,    ,    ,   , ,   .  ,          :           . ,  -  ,   .   ,  ,        - .       ,      .     .    ,    - ?  -    .  , ,   ,   .      ?  ,   ,    .     ,    .      ,     I2C,     ,         USB, JTAG, UART  BOOT.  â€”  ,    . -     ,   .        ,  -   .        ?!      ,   ,       .  ,    " "   . ,  ,     â€¦ ,  - .    ,    ,      .      TX  UART1,       .   ,   ,   ,                  .   â€” . .   â€”  ,    .       â€”  :          . ,   ,       .     ,    .</p><br>
<p>    UART1  ,        .    ,    ,              .        ,         .  ,     ,   .    ,           ?  â€” .   ,      ,  .</p><br>
<p>,       ,      .    . ,      ,   .         -  . -   .      ,      (-,    ,     ,   ,   ),    .   , " "         (     ).</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/db2/03e/a69/db203ea69ff912c7d012e3f39ab94c17.jpg" alt="ç”»åƒ"></p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/6ec/f47/a66/6ecf47a661552fd60fd9fae056b1828c.jpg" alt="ç”»åƒ"></p><br>
<p>,  ,    .       gcc   CMSIS.     ,    ?  , STmicroelectronics    . ,         â€”  ,    ,    .        ! ,    ,           ,       â€”  .           ?   ,  ?  ,      ! ,         , , , ST  -  .     ,   ,      .</p><br>
<p>    ,       (   ,      ).   â€”     CubeMX,    . ,         ,         ,    "  ".</p><br>
<p>  ,   .      .          Discovery.    stm32l152,         stm32l151,   .   , ,   ""     .  ,        .          ,    . ,         VLCD  ,      0-   ,        .    ,      .       .     ,      " ,  ,  ".    . -, ,   "   RTC   ".     ,    , ,    RC-.           LSE.                   GPIO.   . WTF?!  ,       ,      - .</p><br>
<p>   : ,      (  ,    ,      ...),         . ,    ,        .        ,      .   ,    .    (???)  .      ,   .          ,    .       -  (, ?   ,  ?). ,    ,        â€¦           . ,  ,    ,     (  ). ,    ,   ,    ,    ,  .   -  !  ,    ,           .     , ?!      .  :   .     ,      .     ,       .  ,     ,   !      .  ,     .  ,  , ,      .   ,      ,   .   ,     . </p><br>
<p>     RTC   ,    ,      .  ,   - ,    .    (    ?)   .  !</p><br>
<p>          ,   , makefile'  .    gcc-arm-none-eabi, openocd, stm32flash   .<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">stm32f103</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">stm32l151</a></p><br>
<p>             .  ,   â€”   .  ,     ,    ,  BGA-,   -,      . , ,       . ,    <del>,   ,</del>            .</p><br>
<p>:</p><br>
<ol>
<li>       ,    .   -    ,     .  , , ,  -    ,    â€”     . ,  , .          .</li>
<li>      UART1,     BOOT0, BOOT1.   ,  UART'    .</li>
<li>  LQFP64  ,    .        .</li>
<li>        .          "".    ""    ,    ..    ,     .</li>
<li>    .         smd  , , .    ,       (, ), , .</li>
<li>    â€”   .     ,     .</li>
<li>           ,   .      </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¶³ãŒè¶…å°å‹å›è·¯ã‹ã‚‰è„±è½ã—ã¦ã‚‚ã€å…ƒã«æˆ»ã™ã“ã¨ãŒã§ãã¾ã™ï¼</font><font style="vertical-align: inherit;">ãƒ”ãƒƒãƒãŒ0.5mmã§ã‚‚ã€‚</font><font style="vertical-align: inherit;">ä¸»ãªã“ã¨ã¯ã€å°é›»æ€§æ¥ç€å‰¤ã§ã¯ãªãã€ã¯ã‚“ã ä»˜ã‘ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒãƒ—ã«ã‚·ã‚¢ãƒã‚¢ã‚¯ãƒªãƒ¬ãƒ¼ãƒˆæ¥ç€å‰¤ï¼ˆã‚¹ãƒ¼ãƒ‘ãƒ¼æ¥ç€å‰¤ï¼‰ã‚’å…¥ã‚Œãªã„ã§ãã ã•ã„ã€‚</font><font style="vertical-align: inherit;">å½¼ã«ã¯é©åˆ‡ãªé›»æ°—çš„ã€ãã—ã¦å®Ÿéš›ã«ã¯æ©Ÿæ¢°çš„ãªç‰¹æ€§ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ã‚»ãƒˆãƒ³ã¯ã€å±Šãã«ãã„å ´æ‰€ã‹ã‚‰æ¥ç€å‰¤ã‚’å–ã‚Šé™¤ãã®ã«æœ€é©ã§ã™ã€‚</font><font style="vertical-align: inherit;">å®Œå…¨ã«æº¶è§£ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ä¸»ãªã“ã¨ã¯ã€å‘¨å›²ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå½±éŸ¿ã‚’å—ã‘ãªã„ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚</font><font style="vertical-align: inherit;">å±Šãã«ãã„å ´æ‰€ã‹ã‚‰æ©Ÿæ¢°çš„ã«å–ã‚Šé™¤ãã“ã¨ãŒã§ãã¾ã™ã€‚</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja456266/index.html">ãƒ¢ãƒã‚¤ãƒ«ï¼ƒ302é–‹ç™ºè€…å‘ã‘ã®èˆˆå‘³æ·±ã„è³‡æ–™ã®ãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆï¼ˆ6æœˆ10ã€œ16æ—¥ï¼‰</a></li>
<li><a href="../ja456270/index.html">Redisã‚¹ãƒˆãƒªãƒ¼ãƒ -ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã®ä¿¡é ¼æ€§ã¨ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£</a></li>
<li><a href="../ja456272/index.html">Android Lintã¨ã¯ä½•ã§ã™ã‹ï¼Ÿã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°ã«ã©ã®ã‚ˆã†ã«å½¹ç«‹ã¡ã¾ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja456274/index.html">å¿ƒç†å­¦è€…ï¼šã‚»ãƒƒã‚¯ã‚¹ãƒ­ãƒœãƒƒãƒˆã¯ã€ä»–ã®äººã€…ã¨ã®é–¢ä¿‚ã‚’å¿…è¦ã¨ã—ãªã„ã‚«ãƒƒãƒ—ãƒ«ãŒã„ãªã„å ´åˆã€äººã€…ã®æ•°ã®å¢—åŠ ã«ã¤ãªãŒã‚Šã¾ã™</a></li>
<li><a href="../ja456276/index.html">æƒ…å ±ã¨ã¯ï¼Ÿ</a></li>
<li><a href="../ja456282/index.html">Pythonã®å¤šæ¬¡å…ƒã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹-3æ¬¡å…ƒã‹ã‚‰6æ¬¡å…ƒã¸</a></li>
<li><a href="../ja456288/index.html">MAMï¼šç—›ã¿ã®ãªã„ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ã‚»ãƒ³ãƒ–ãƒª</a></li>
<li><a href="../ja456290/index.html">é›»å ± ç„¡åˆ¶é™ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‰ãƒ©ã‚¤ãƒ–ã€‚è‡ªç”±</a></li>
<li><a href="../ja456294/index.html">SciKit Learnã§ã®LabelEncoderã¨OneHotEncoderã®é•ã„</a></li>
<li><a href="../ja456296/index.html">ä¸‰æ¬¡å…ƒè¶…çƒã®ä¸–ç•Œã€‚çƒå½¢çŠ¶ã®é–‰ã˜ãŸå®‡å®™ã§ã®æ¸¬åœ°ç·šè¿½è·¡</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>