<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬇️ 🤪 🐋 Estruturas teóricas de dados e sua aplicação em JavaScript. P1 Casais 🉐 👩🏿‍🤝‍👩🏻 🧓🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="“Os programadores ruins pensam em código. Bons programadores pensam sobre estruturas de dados e seus relacionamentos ”, Linus Torvalds, criador do Lin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Estruturas teóricas de dados e sua aplicação em JavaScript. P1 Casais</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493692/"><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Os programadores ruins pensam em código. </font><font style="vertical-align: inherit;">Bons programadores pensam sobre estruturas de dados e seus relacionamentos ”, Linus Torvalds, criador do Linux.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tomamos como axioma que muitas vezes a solução para qualquer problema de programação se resume a escolher a estrutura de dados correta. </font><font style="vertical-align: inherit;">Esse axioma pode ser provado, mas faz muito tempo e o artigo é um pouco sobre outro. </font><font style="vertical-align: inherit;">Hoje falaremos sobre uma das estruturas teóricas mais simples, sobre o par. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um par é uma estrutura de dados que armazena quaisquer dois elementos de dados em si, o que implica que queremos combiná-los de alguma maneira logicamente em um. </font><font style="vertical-align: inherit;">Resolve precisamente esse problema, ou seja, </font><font style="vertical-align: inherit;">se houver alguns elementos de dados </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">precisarmos apresentá-los no formulário </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, podemos implementar esse design em pares.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você acha que nunca encontrou ou não encontrará algo assim, não é assim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui está o exemplo mais simples de uma propriedade calculada da documentação do VUE:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#demo'</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Foo'</span>,
    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'Bar'</span><font></font>
  },<font></font>
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">' '</span> + <span class="hljs-keyword">this</span>.lastName<font></font>
    }<font></font>
  }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do ponto de vista da teoria, </font></font><code>fullName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isso é um casal. E existem inúmeros exemplos na tecnologia e no mundo real, que frequentemente modelamos com o código do programa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode perceber com razão que podemos combinar logicamente qualquer número de elementos e você estará certo. Isso nos leva a um conceito estrutural mais complexo de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dados compostos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um dos quais é um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">casal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Lidaremos com os dados compostos um pouco mais tarde, agora vamos nos concentrar no par. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A teoria nos diz que os pares têm as seguintes propriedades:</font></font><br>
<br>
<ul>
<li><b></b>, ..    -    ,        ,     .      ,    (     -  .           ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>)</li>
<li><b>          </b>.     .          .      ,   ,     ,     ,    ,     .<br>
<br>
    :<br>
<br>
<pre><code class="plaintext hljs">pair = { a, b }
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se no código de chamada trabalharemos com o par diretamente nesse estilo: </font></font><code>pair.a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mudando a implementação do par, seremos forçados a reescrever o código de chamada sempre que a chamada para o par aparecer. </font><font style="vertical-align: inherit;">Isso não é ótimo! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um casal é uma abstração (mesmo um nível baixo); portanto, seria errado trabalhar diretamente com seus componentes. </font><font style="vertical-align: inherit;">Ao trabalhar com os componentes de qualquer abstração, precisamos usar a interface de abstração, caso contrário, o código se tornará um caos (será mais difícil de ler, mais fácil cometer um erro, mas o mais importante é mais difícil de mudar, porque uma alteração terá que ser feita em diferentes partes do código).</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os pares podem ser implementados de maneiras muito diferentes. </font><font style="vertical-align: inherit;">Em qualquer linguagem de programação, há mais de uma oportunidade para implementar essa estrutura de dados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, você pode implementar um par para tipos de dados arbitrários:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//       </span>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">const</span> pair = <span class="hljs-function">(<span class="hljs-params">first, second</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">elementType</span>) =&gt;</span> {
  <span class="hljs-keyword">switch</span>(elementType) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'first'</span>:
     <span class="hljs-keyword">return</span> first;
   <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span>:
     <span class="hljs-keyword">return</span> second;<font></font>
  }<font></font>
};<font></font>
<span class="hljs-comment">//    ,      ,</span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> getFirstElement = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair(<span class="hljs-string">'first'</span>));
<span class="hljs-keyword">const</span> getSecondElement = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair(<span class="hljs-string">'second'</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa maneira de trabalhar é chamada de envio de mensagens. Por estranho que pareça, mas era essa maneira de interação entre entidades que antes era chamada de OOP antes do C / C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos que usar o design </font></font><code>switch </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Claro, não necessariamente. Estes são os detalhes da implementação técnica, e pode haver muitas implementações! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mais importante é tornar o casal mutável! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, você pode implementar a mesma funcionalidade usando o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa</font></font></a><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//     </span>
<span class="hljs-comment">//  ,       </span>
<span class="hljs-keyword">const</span> pair = <span class="hljs-function">(<span class="hljs-params">first, second</span>) =&gt;</span> (
  <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([<font></font>
    [<span class="hljs-string">'first'</span>, first],<font></font>
    [<span class="hljs-string">'second'</span>, second],<font></font>
  ])<font></font>
);<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> getFirst = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.get(<span class="hljs-string">'first'</span>));
<span class="hljs-keyword">const</span> getSecond = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.get(<span class="hljs-string">'second'</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que a primeira implementação pode ser facilmente substituída pela segunda. e o segundo ao primeiro! O código de chamada não será alterado. Essa é uma vantagem importante das abstrações. Podemos alterar facilmente a implementação de uma abstração em um programa, mas o código que trabalha com essa abstração não saberá sobre essas alterações. Não precisaremos editar o código que funciona com essas abstrações se quisermos alterar a implementação das abstrações. Isso é muito importante porque economiza dinheiro do cliente e aumenta os bônus do desenvolvedor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A propósito, digamos que não sabemos sobre a existência de Mapov em js, mas podemos trabalhar com objetos.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//       </span>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">const</span> pair = <span class="hljs-function">(<span class="hljs-params">first, second</span>) =&gt;</span> (
  <span class="hljs-built_in">Object</span>.freeze({
    <span class="hljs-string">'first'</span>: first,
    <span class="hljs-string">'second'</span>: second,<font></font>
  })<font></font>
);<font></font>
<span class="hljs-comment">//    ,       </span>
<span class="hljs-keyword">const</span> getFirst = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.first);
<span class="hljs-keyword">const</span> getSecond = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.second);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você pode adivinhar com facilidade, as duas implementações anteriores também podem ser substituídas por uma terceira e nada mudará disso (na </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdade, há alguma diferença. Os mapas não lançam exceções ao tentar alterar propriedades diretamente, mas lançam "objetos congelados" </font></font><code>TypeError: Cannot assign to read only property</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. No entanto, no contexto deste artigo importante.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que precisamos de conhecimento de estruturas de dados teóricos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se observarmos o trabalho de um programador do ponto de vista de pássaros, veremos que, em essência, ele está envolvido nisso. que cria ferramentas que manipulam determinados conjuntos de dados. Portanto, precisamos constantemente selecionar algum tipo de estrutura de armazenamento para os dados e criar maneiras de trabalhar com eles ou fornecer ao conjunto de dados caóticos uma estrutura específica. A compreensão de estruturas de dados típicas nos permite possuir um conjunto de soluções prontas para diferentes tarefas típicas e simplesmente escolher a maneira mais conveniente para uma tarefa específica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
analisar </font><font style="vertical-align: inherit;">um exemplo: </font><font style="vertical-align: inherit;">“Implemente um mecanismo para trabalhar com frações. As frações devem ser armazenadas no formato usual. Essa. sob a forma de 1/2. Também é necessário implementar operações básicas (adição, subtração, multiplicação, divisão). A normalização precisa ser fornecida. ”</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos entender a condição do problema! Precisamos implementar uma abstração para alguma entidade matemática, portanto, é razoável fazer referência à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonte original</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Obviamente, se programadores experientes leem este texto, devem ter imaginado imediatamente a solução em código sem ler o artigo sobre frações em matemática, mas assumiremos. que imaginamos fracamente como as frações funcionam e ilustramos todo o curso do raciocínio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O material da Wikipedia nos diz que as frações são comuns (1/4) e decimais (0,1). Obviamente, pela condição do problema, precisamos trabalhar com frações no formato de apresentação usual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também vemos que a fração ordinária é uma </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">união lógica de dois</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">números (numerador e denominador), este é o sinal mais seguro sobre a necessidade de usar um par como estrutura de dados para esta tarefa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No código, poderíamos descrever essa estrutura da seguinte maneira:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//        ,</span>
<span class="hljs-comment">//  ,    </span>
<span class="hljs-comment">//          ,</span>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">const</span> makeRational = <span class="hljs-function">(<span class="hljs-params">num, denom</span>) =&gt;</span> (
  <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([<font></font>
    [<span class="hljs-string">'num'</span>, num],<font></font>
    [<span class="hljs-string">'denom'</span>, denom],<font></font>
  ])<font></font>
);<font></font>
<font></font>
<span class="hljs-comment">//  ,    </span>
<span class="hljs-comment">//   ,      ,    </span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> getNumer = <span class="hljs-function">(<span class="hljs-params">rat</span>) =&gt;</span> (rat.get(<span class="hljs-string">'num'</span>));
<span class="hljs-keyword">const</span> getDenom = <span class="hljs-function">(<span class="hljs-params">rat</span>) =&gt;</span> (rat.get(<span class="hljs-string">'denom'</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, devemos analisar a situação com frações de tal plano 8/4, 6/9. </font><font style="vertical-align: inherit;">A condição da tarefa diz sobre a necessidade de fornecer normalização. </font><font style="vertical-align: inherit;">A normalização de uma fração é a remoção do maior divisor comum (MDC) dele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implementamos uma função para procurar dois números da GCD:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//Gcd     </span>
<span class="hljs-keyword">const</span> getGcd = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> ((a % b) ? getGcd(b, a % b) : <span class="hljs-built_in">Math</span>.abs(b));
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o texto da função não estiver claro, recomendamos que você leia sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursão</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para normalizar a fração, precisamos dividir seu numerador e denominador por GCD. </font><font style="vertical-align: inherit;">Escrevemos a função de normalização:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> normalize = <span class="hljs-function">(<span class="hljs-params">n1, n2</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> commonDivisor = getGcd(n1, n2);
  <span class="hljs-keyword">return</span> [n1 / commonDivisor, n2 / commonDivisor];<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seria lógico colocar a normalização no construtor makeRational para normalizar sempre os dados ao criar a fração. </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> makeRational = <span class="hljs-function">(<span class="hljs-params">num, denom</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> [normalizeNum, normalizeDenom] = normalize(num, denom);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([<font></font>
    [<span class="hljs-string">'num'</span>, normalizeNum],<font></font>
    [<span class="hljs-string">'denom'</span>, normalizeDenom],<font></font>
  ]);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, trabalharemos na interface de operações. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) Adição </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para adicionar duas frações comuns, você deve trazê-las para um denominador comum. </font><font style="vertical-align: inherit;">Em seguida, adicione os numeradores e deixe o denominador inalterado.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//..       ,</span>
<span class="hljs-comment">//       ,</span>
<span class="hljs-comment">//         </span>
<span class="hljs-keyword">const</span> add = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getDenom(rat2) + getNumer(rat2) * getDenom(rat1),<font></font>
    getDenom(rat1) * getDenom(rat2),<font></font>
  ));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) Subtração </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obter a diferença de frações, elas também precisam ser reduzidas a um denominador comum e, subtraído os numeradores, o denominador deve permanecer inalterado.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//    </span>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">const</span> sub = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getDenom(rat2) - getNumer(rat2) * getDenom(rat1),<font></font>
    getDenom(rat1) * getDenom(rat2),<font></font>
  ));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) Multiplicação </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para multiplicar duas frações comuns, você precisa multiplicar seus numeradores e denominadores.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> multi = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getNumer(rat2),<font></font>
    getDenom(rat1) * getDenom(rat2),<font></font>
  ));<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4) Divisão </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para dividir uma fração comum em outra, é necessário multiplicar a primeira fração pela fração inversa da segunda. </font><font style="vertical-align: inherit;">O inverso é uma fração cujo numerador é igual ao denominador do original e o denominador é o numerador do original.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> div = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getDenom(rat2),<font></font>
    getDenom(rat1) * getNumer(rat2),<font></font>
  ));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você pode ver, em cada operação, criamos uma nova entidade. </font><font style="vertical-align: inherit;">Isso é uma consequência da regra de imutabilidade. </font><font style="vertical-align: inherit;">Note-se que em matemática operações não alterar o número original de números, e criar novo: </font></font><code>1 + 2 = 3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deve prestar atenção. </font><font style="vertical-align: inherit;">que podemos alterar a implementação </font></font><code>makeRational</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para outra, mas o código de chamada não saberá sobre isso e continuará funcionando. </font><font style="vertical-align: inherit;">Isso é uma conseqüência do fato de termos implementado corretamente a abstração e trabalhamos com seus componentes por meio da interface, e não diretamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também é importante que o usuário possa obter seus dados da maneira usual, por isso introduzimos uma função adicional.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> ratToString = <span class="hljs-function">(<span class="hljs-params">rat</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${getNumer(rat)}</span>/<span class="hljs-subst">${getDenom(rat)}</span>`</span>;
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anexarei uma lista de testes:</font></font><br>
<br>
<pre><code class="javascript hljs">describe(<span class="hljs-string">'normalize'</span>, () =&gt; {<font></font>
  test(<span class="hljs-string">'should work'</span>, () =&gt; {<font></font>
    expect(normalize(<span class="hljs-number">21</span>, <span class="hljs-number">6</span>)).toEqual([<span class="hljs-number">7</span>, <span class="hljs-number">2</span>]);<font></font>
    expect(normalize(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)).toEqual([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<font></font>
  });<font></font>
});<font></font>
<font></font>
<font></font>
describe(<span class="hljs-string">'rational'</span>, () =&gt; {<font></font>
  test(<span class="hljs-string">'getters'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>);<font></font>
    expect(getNumer(rat1)).toBe(<span class="hljs-number">1</span>);<font></font>
    expect(getDenom(rat1)).toBe(<span class="hljs-number">3</span>);<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">-4</span>, <span class="hljs-number">16</span>);<font></font>
    expect(getNumer(rat3)).toBe(<span class="hljs-number">-1</span>);<font></font>
    expect(getDenom(rat3)).toBe(<span class="hljs-number">4</span>);<font></font>
  });<font></font>
<font></font>
  test(<span class="hljs-string">'add&amp;sub'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>);
    <span class="hljs-keyword">const</span> rat2 = makeRational(<span class="hljs-number">10</span>, <span class="hljs-number">3</span>);<font></font>
    expect(add(rat1, rat2)).toEqual(makeRational(<span class="hljs-number">11</span>, <span class="hljs-number">3</span>));<font></font>
    expect(sub(rat1, rat2)).toEqual(makeRational(<span class="hljs-number">-3</span>, <span class="hljs-number">1</span>));<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat4 = makeRational(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>);
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">-4</span>, <span class="hljs-number">16</span>);<font></font>
    expect(add(rat3, rat4)).toEqual(makeRational(<span class="hljs-number">43</span>, <span class="hljs-number">20</span>));<font></font>
    expect(sub(rat3, rat4)).toEqual(makeRational(<span class="hljs-number">-53</span>, <span class="hljs-number">20</span>));<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat5 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">15</span>);
    <span class="hljs-keyword">const</span> rat6 = makeRational(<span class="hljs-number">4</span>, <span class="hljs-number">25</span>);<font></font>
    expect(add(rat5, rat6)).toEqual(makeRational(<span class="hljs-number">17</span>, <span class="hljs-number">75</span>));<font></font>
    expect(sub(rat5, rat6)).toEqual(makeRational(<span class="hljs-number">-7</span>, <span class="hljs-number">75</span>));<font></font>
  });<font></font>
<font></font>
  test(<span class="hljs-string">'multi&amp;div'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">const</span> rat2 = makeRational(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<font></font>
    expect(multi(rat1, rat2)).toEqual(makeRational(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>));<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>);
    <span class="hljs-keyword">const</span> rat4 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<font></font>
    expect(div(rat3, rat4)).toEqual(makeRational(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));<font></font>
  });<font></font>
<font></font>
  test(<span class="hljs-string">'ratToString'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>);
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">-4</span>, <span class="hljs-number">16</span>);<font></font>
    expect(ratToString(rat1)).toBe(<span class="hljs-string">'1/3'</span>);<font></font>
    expect(ratToString(rat3)).toBe(<span class="hljs-string">'-1/4'</span>);<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusão</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O texto acabou sendo bastante volumoso, mas espero que esteja claro. </font><font style="vertical-align: inherit;">Para resumir:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Podemos usar a estrutura de dados do vapor sempre que precisamos combinar logicamente dois valores não relacionados </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O casal deve estar imune</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O casal deve fornecer uma interface para trabalhar com seus componentes</font></font></li>
</ol> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peço desculpas antecipadamente se o artigo parecer sobrecarregado para alguém. </font><font style="vertical-align: inherit;">Eu me concentro principalmente em desenvolvedores não muito experientes, então tento escrever de tal maneira que a lógica do meu raciocínio e a escolha de uma ou outra solução sejam extremamente claras. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o artigo for de interesse da comunidade. </font><font style="vertical-align: inherit;">então a direção das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estruturas de dados típicas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> continuará. </font><font style="vertical-align: inherit;">O próximo tópico é uma lista relacionada.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493678/index.html">Boston Dynamics: das ordens do exército dos EUA para localizar robôs comerciais</a></li>
<li><a href="../pt493680/index.html">10 truques para não mesclar o konfu online</a></li>
<li><a href="../pt493686/index.html">A origem misteriosa do jogo de tabuleiro sobre códigos de hackers Mastermind</a></li>
<li><a href="../pt493688/index.html">Tornamos as equipes da Microsoft gratuitas - mantenha contato com colegas neste momento difícil</a></li>
<li><a href="../pt493690/index.html">20 dicas para o piloto DJI Mavic Mini para proteger seu drone de acidentes e perdas</a></li>
<li><a href="../pt493696/index.html">Acelerando o Subsistema de Disco Qemu KVM no Linux</a></li>
<li><a href="../pt493700/index.html">Usando malware no Azure para obter acesso aos inquilinos do Microsoft 365</a></li>
<li><a href="../pt493702/index.html">Transição maciça para o trabalho remoto: problemas técnicos e ameaças à segurança</a></li>
<li><a href="../pt493704/index.html">Usando TypeScript em JavaScript sem escrever TypeScript</a></li>
<li><a href="../pt493706/index.html">Conheça o seu inimigo: crie um backdoor do Node.js.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>