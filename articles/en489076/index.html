<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé© üë®üèø‚Äç‚öïÔ∏è üë®‚Äçüë©‚Äçüëß‚Äçüëß Simulation model of the process of processing material by cutting on a CNC lathe üë®üèæ üëèüèæ üíÖüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction
 The methodology for the development of simulation models and simulators in various technical disciplines is mainly focused on reducing t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Simulation model of the process of processing material by cutting on a CNC lathe</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489076/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The methodology for the development of simulation models and simulators in various technical disciplines is mainly focused on reducing the level of abstraction of educational material. Along with the theoretical teaching material, visual simulation of a particular technological process or operation allows the student to more fully master the taught material with the maximum approximation to natural conditions. In this case, simulation models and simulators can only be considered as an auxiliary tool in the educational process. The main purpose of this category of educational resources is a basic (initial) familiarization with the principles of operation of complex technical facilities in the absence of the possibility of using real industrial equipment,or in order to preliminary increase the competence of the student before undergoing practical training.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of particular relevance is the methodology of combining educational tasks with engineering and applied tasks in a single toolbox that meets the current level of development of technology and industry as a whole. Here we are talking about the integrated implementation of computer-aided design (CAD / CAM) functions and the principles of simulation-numerical simulation of technological processes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main trend in introducing simulation training models into engineering education practice is to achieve maximum interactivity. </font><font style="vertical-align: inherit;">A prerequisite here is the ability to perform ‚Äúerroneous‚Äù actions by students and adequate response of the simulation model to these actions in order to achieve the required level of understanding of the educational material for students. </font><font style="vertical-align: inherit;">The higher the degree of freedom of the simulated object (device or machine), the greater the effect of real interaction is achieved in the learning process.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The purpose and objectives of the project</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The aim of the presented project is to develop an educational and methodological software product (simulation model or simulator), intended for the basic familiarization of novice engineering specialists with the principles of programming the operations of turning parts using a standard G / M code.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fields of application of the software product primarily cover the educational process using computer technology in the form of laboratory classes for students in computer classes, distance learning, as well as demonstration support of lecture material in the group of training areas and specialties (OKSO) ‚ÄúMetallurgy, mechanical engineering and material processing‚Äù. The flexible functionality and mobility of the software product also allows it to be used as an application tool for verification and preliminary testing of control programs for material turning operations on numerically controlled machines (CNC) using Fanuc program code (code system A). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The functionality of the simulator should provide the following tasks:</font></font><br>
<br>
<ul>
<li>          G/M          ;</li>
<li>           ,             ;</li>
<li>           ;</li>
<li>        ;</li>
<li>       .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The technical advantage of the simulator under development is its relatively low resource consumption and multi-platform support, allowing you to use this software product on various computing devices, including interactive whiteboards, smartphones, tablet and desktop computers, which, in turn, increases the flexibility and mobility of the educational process, corresponding to the modern level of information education.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modeling object</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The basis of the three-dimensional simulation model is the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TS1625FZ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lathe </font><font style="vertical-align: inherit;">manufactured by the Tver machine-tool plant of StankoMashKompleks JSC with a horizontal bed and a classic assembly of units, equipped with a CNC system, an eight-position turret, a three-jaw turning cartridge, a tailstock, a lubricant-coolant supply system and other units. Material processing is performed in two coordinates in the horizontal plane of the machine. The main technical characteristics of the equipment prototype are presented in table 1. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/81f/d0f/4a9/81fd0f4a900b467ab7ff25a15c0882d8.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simulator simulates a set of cutting tools (prefabricated turning tools and drills), including 185 items. The types of replaceable cutting inserts used for turning tools are presented in table 2.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7dd/33f/d10/7dd33fd1071049682820bf5475e064c2.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also in the model, cutters with special thread-cutting plates and drills are used. </font><font style="vertical-align: inherit;">Figure 1 shows a geometric model of a precast turning tool. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9d5/3d3/b62/9d53d3b62977444fb3125859a7d9c965.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Geometrical model of a precast turning tool and designation of the main characteristics of a removable cutting insert: the main angle in terms of œÜ1, the auxiliary angle in terms of œÜ2, the diameter of the inscribed circle D, the radius of rounding at the vertex R</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A brief description of the method of geometric modeling of the formation of parts during turning</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the project under consideration, a simplified model of shaping the workpiece is used, based on the assumption that the axial symmetry of the part is constant throughout the entire turning process [1, 2]. This model excludes the possibility of constructing helical surfaces, and threaded elements of parts are depicted conditionally - by sections of concentric ribbing. Basic calculations using this technique are formalized by the geometric problem of intersecting two flat closed loops in the working plane of the machine ‚Äî the contour of the workpiece and the contour of the cutting tool. Based on the shape-forming contour, which is a logical difference at the intersection of two source contours,a three-dimensional surface of the simulated part is formed by uniformly turning the forming contour around the main axis of the machine (axis of rotation of the workpiece). The applied method makes it possible to simulate the shaping of a part such as a body of revolution in real time at relatively low computational costs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The initial stage of the algorithm is the formation of many points Wi of the contour of the workpiece (Fig. 2.a). In the initial state (before the start of the processing process), the part contour includes four points, while the longitudinal section of the part is represented by a rectangle. In subsequent iterations of the algorithm, the initial contour of the part is the previously calculated shape-forming contour. The contour is described counterclockwise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the second stage of the algorithm, the contour of the cutting insert of the turning tool is formed taking into account its geometric characteristics - overall dimensions, the main angle in plan and the radius of rounding at the apex. The contour of the insert is described by points Cj in the opposite direction with respect to the contour of the part (clockwise). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/550/767/84f/55076784f10fe892790efe7020654711.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- To the task of calculating the shape-forming contour of the workpiece: the </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
intersection of the original contours of the part and the cutting insert (a); obtaining the shape-forming contour of the part as the logical difference of the source contours (b) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third stage of the algorithm is to determine the set of intersection points Ik of the source contours. In this case, the found intersection points are indexed in accordance with how much closer they lie to the starting point of the part‚Äôs contour, and are included in the generalized set of points of both contours in the indexing order. The coordinates of the intersection points are determined for two segments belonging to two different contours (Fig. 3). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/eec/fd9/3f6/eecfd93f690e623f1fb30a58c62f2030.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Towards determining the coordinates of the intersection point of two segments</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the segments P1 ‚Äì P2 and P3 ‚Äì P4 belonging to two intersecting straight lines L1 and L2, it follows: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ec8/cb8/d43/ec8cb8d43d03e6cf033f367e16d990e3.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The x, y coordinates of the intersection point of the lines L1 and L2 are determined by the matrix equation: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4ec/e34/a02/4ece34a02b8609b7062e2e6774bfba68.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
therefore: The </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/327/a38/f8d/327a38f8d9c61fdae120aa38f4b42330.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
points of the generalized set belonging to the contour of the cutting insert are outside the intervals between the points intersections are excluded from the generalized set of points of both contours. Thus, the final set of points Fn is formed that describe the shape-forming contour of the part (Fig. 2.b). The resulting contour is described in the same direction as the original contour of the part.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The considered algorithm is a simplified version of the Weiler ‚Äì Azerton cut-off algorithm [3]. A number of simplifications of the algorithm is due to the geometrical features of the problem being solved, namely: a constant condition for the convexity of the cutting insert contour, conditions for detecting collisions of inoperative elements of the cutter (holder) with the workpiece, the condition for excluding the completely cut-off part of the part from the computational process when modeling the operation segments, etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Due to the fact that the shaping of the part is carried out during the movement of the cutting tool, at each iteration of the algorithm, a discrete change in the coordinates of the points of the contour of the cutting insert relative to the contour of the workpiece occurs. The step of discreteness in this case is due to a given parameter of the movement of the cutting tool (the value of the working feed) and the iteration time of the simulation cycle. In this case, the step of discreteness of movement of the tool (Œ¥) may exceed the linear dimensions of the overlapping area of ‚Äã‚Äãthe contours of the cutting insert and the workpiece (Fig. 4.a), which leads to the appearance of artifacts (‚Äúuncut‚Äù sections) of the forming contour of the part (Fig. 4.b ) </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/948/487/71a/94848771a4c916178ba6993d3bad7af9.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The problem of discreteness of computing intersections of contours</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One solution to the described problem is the Jarvis method, which consists in constructing a minimal convex hull around the set of vertices of the contours of the cutting insert in the current and previous discrete states (Fig. 5). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3c5/8cd/ed3/3c58cded342e6c16b01a1599237d18c5.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 5</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Construction of the minimum convex hull around the contours of the cutting insert in two successive discrete states</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, the intersection of the contour of the workpiece with the contour of the minimum convex shell is calculated, which provides the required overlap area in the gaps between the discrete states of the cutting tool. When constructing a minimal convex hull, the condition of invariance of the circumvention of its contour is especially important. The minimum convex hull can cover several discrete states of the cutting insert, provided that the direction of the working feed of the cutter does not change in these states (the cutter moves along a straight path).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the project under consideration, an alternative method of eliminating artifacts of the formative contour is used, based on the Ramer ‚Äì Douglas ‚Äì Peker generalization algorithm [4, 5], which is widely used in topography and cartography problems. The main goal of the recursive generalization procedure is to reduce the number of vertices of the polyline based on a given threshold value of the distance between the vertices. The initial condition for the algorithm to work is to select the most distant point with respect to the starting point of the polyline of the contour. In subsequent iterations of the algorithm, the distances between the intermediate points of the polyline are determined and compared with the threshold value. The connection of points in the approximating polyline is carried out provided that the distance between them exceeds a predetermined threshold value (Fig. 6). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/66a/d4d/0b1/66ad4d0b16b492a00c3f2edfb16b93ea.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Iterations of the Ramer-Douglas-Pecker generalization algorithm using an example of an arbitrary broken line. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Technically, the procedure for approximating the shape-forming contour of a part is combined with the initial stage of the general modeling algorithm, at which many vertices of the initial contour of the workpiece are formed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The formation of the three-dimensional surface of the simulated part is carried out by calculating the coordinates of the points in the circles of the cross sections of the part along the length of the shape-forming contour, followed by combining these points into triangular facets (between sections). The length of the radius vector Ri of each point of the forming contour is calculated as the distance from this point to the main axis of the machine (Fig. 7). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b77/0e8/ba6/b770e8ba6ef9e827f45f2e157160e644.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 7</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Polygonal model of a part such as a body of revolution in a section (partition of polygons into triangular facets not shown) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The order of traversal of vertices when assembling a three-dimensional frame is strictly defined. Each polygon of a three-dimensional surface is divided into 2 triangular facets, uniting 4 vertices (Fig. 8). The radial smoothness of the formed three-dimensional surface depends on a given number of segments (circle sectors) in the section of the simulated part. The procedure for assembling a three-dimensional wireframe also calculates the normal vectors at each vertex (Fig. 9) and the texture coordinates of UV. According to the calculated texture coordinates, the surface of the part is drawn with an overlaid image of the metal texture, which in turn increases the realistic perception of the simulated process.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, the final three-dimensional model of the workpiece allows you to visualize the results of material removal by the cutter in real-time dynamics with the required degree of realism. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/738/d98/676/738d9867656686b208f01f884639dcfc.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The facet skeleton of the three-dimensional model of the workpiece, inscribed in the overall cylinder of the original workpiece </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/99c/b2e/c05/99cb2ec0536e7455d1d8f250d75b67aa.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 9</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Normal vectors at the vertices of the facet model of the workpiece</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The principles of simulation of numerical program control of the process of turning material</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The list of basic functions of program control of the machine</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a linguistic basis for programming the basic technological operations during material turning, GM codes of the Fanuc numerical control system were selected: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G00 / G01</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - linear interpolation at accelerated / working feed; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G02 / G03</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - circular interpolation clockwise / counterclockwise; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G04</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - time delay; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G20 / G21</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - data entry in inches / millimeters; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G32 / G34</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - threading with constant / variable pitch in one pass; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G50</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - setting the maximum spindle speed; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G53 ‚Äì G59</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - switching between working coordinate systems </font><b><font style="vertical-align: inherit;">No.</font></b><font style="vertical-align: inherit;"> 1‚Äì6; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G70 ‚Äì G76</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - main turning cycles; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G80 ‚Äì G83</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- hole machining cycles; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G90</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the cycle of the main turning of the outer / inner diameter; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G92</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - constant-pitch threading cycle; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G94</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cycle of the main external / internal end turning; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G96 / G97</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - constant cutting / rotation speed of the spindle; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G98 / G99</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - feed rate [mm / min] / feed rate [mm / rev]; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M00 / M01</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - soft stop with confirmation; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M02 / M30</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - completion of the control program; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M03 / M04</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - start spindle rotation clockwise / counterclockwise; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M05</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - spindle rotation stop; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M07 ‚Äì M09</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - turning on / off the coolant supply; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M38 / M39</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- opening / closing of automatic doors; </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M97 ‚Äì M99</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - call and end of internal / external routines.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The structure and format of the control program code</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The control program code is represented as a sequence of lines (frames). The simulator allows you to develop and execute control programs up to 999 frames (taking into account the first uneditable line containing the number of the control program). Each frame consists of a sequence of words, which is a combination of an alphabetic address and a numerical parameter. No spaces are allowed between the address and the parameter. The typing of the control program is carried out in alphanumeric characters using a monospace font. Some special characters are allowed. Any group of characters that cannot be parsed should be enclosed in parentheses or written after the characters ‚Äú;‚Äù or "/". This information is considered a comment on the code and is not analyzed during the simulation.The addresses of the preparatory (G) and auxiliary (M) functions are programmed with integer parameters defining the numbers of these functions. Numerical positioning parameters (after addresses X, Z, U, W, I, K, R, etc.) can be specified in fractional or integer values. The minus sign is allowed here.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After starting the simulation process, the control program code is automatically checked for compliance with the format. </font><font style="vertical-align: inherit;">In case of errors, the corresponding messages are displayed.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brief description of control program parsing algorithm</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Syntactic analysis (parsing) of the control program (UE) code and simulation of its execution are carried out according to the standard algorithm [6], the block diagram of which is shown in Figure 10. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c04/f9b/882/c04f9b882898e5b3b43b010c7b22991a.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Block diagram of the UE parsing algorithm </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In accordance with the block diagram shown in Figure 10 the parsing scheme of the control program begins with the formation of a list of frames. </font><font style="vertical-align: inherit;">For each frame, a list of words is generated. </font><font style="vertical-align: inherit;">A word is a data structure ‚Äî a command that includes a letter address and a numeric parameter. </font><font style="vertical-align: inherit;">Teams are conditionally classified as modal and positional.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modal commands change the status of the simulation model of the machine, and determine its current state - the mode of movement of the tool (moving at accelerated or working feed, type of interpolation), spindle rotation mode, position of automatic doors, condition of the cooling system, etc. </font><font style="vertical-align: inherit;">In turn, positional commands directly determine the parameters of movements - the coordinates of the end points, the parameters of the arcs during circular interpolation, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
According to the obtained motion parameters, the coordinates of the cutting tool, the rotation angles of the rotating elements of the machine, the position of the automatic doors, etc. are interpolated. Thus, a frame-by-frame simulation of the control program occurs. </font><font style="vertical-align: inherit;">When the last frame is reached, the simulation process ends.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementation of turning tool movement control</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By analogy with a real CNC system, the movement of the cutting tool is programmed by linear and circular interpolation methods. Linear interpolation is the main type of movement when machining on a CNC lathe. With linear interpolation, the tool moves along a straight path with the known coordinates of its beginning and end (Fig. 11). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a0f/d5a/d7e/a0fd5ad7eab1de277337185162b5f6b9.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectory of the tool during linear interpolation </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the calculated point C moves from point A to point B along a straight line section with a constant feed rate, both coordinates are linearly interpolated in time. By designating the start time of the movement as tA and the end time as tB, the current coordinates of point C corresponding to the current time tC can be determined by linear interpolation formulas:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e67/bb1/506/e67bb1506b7d9337cd218841f454f51a.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The final travel time is defined as: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9b3/1da/ddf/9b31daddff226f6a3e0f75e7fa298065.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where tS is the time spent on a straight travel at a constant feed rate F (mm / min):</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/45a/d10/b53/45ad10b53e28f4c5034b3dc910b246a2.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linear interpolation at rapid feed is programmed with the modal function G00 (this function is active in the initial state of the CNC system). Linear interpolation at the feed rate is programmed with the modal function G01. After these functions, the coordinates of the end point of the straight section of the path are set. The current position of the tool is always taken as the starting point. The set feedrate for rapid traverse is ignored. The coordinates of the end point can be specified in absolute values ‚Äã‚Äã(X, Z), that is, relative to zero of the working coordinate system, or in relative (incremental) values ‚Äã‚Äã(U, W), that is, relative to the starting point of a rectilinear trajectory. If one of the coordinates is omitted, movement along its axis is not carried out.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Circular interpolation is used to grind curved surfaces, the shape of which is described by an arc of a circle of a certain radius. Two arc programming methods are used. The first method is to set the coordinates of the center of the arc and the end point, while the radius of the arc is calculated automatically. The second method involves specifying the radius of the arc and the coordinates of the end point, while the coordinates of the center of the arc are automatically calculated. Clockwise circular interpolation is specified using function G02, and counterclockwise circular interpolation is specified by function G03, respectively.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider one of the cases of circular interpolation counterclockwise with the center of the arc (Fig. 12.a). When the calculated point C moves from point A to point B along an arc with a constant feed rate, both coordinates can also be interpolated in time. The trajectory of motion is determined by the position of the end point B and the position of the center of the arc O in incremental coordinates (i, k) relative to the starting point A. The </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
angular position of the radius vectors OA, OB and OC is described by the trigonometric angles œÜA, œÜB and œÜC, respectively. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e2a/339/ae9/e2a339ae9a2894a27a4c8a4e6a075c1f.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 12</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The tool path during circular interpolation counterclockwise with the task: the center of the arc (a); arc radius (b)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By designating the start time of the movement as tA and the end time as tB, the angle œÜC corresponding to the current time tC can be determined by the linear interpolation formula: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a80/b14/666/a80b14666297de15f9daa194feb2922c.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where œÜA, œÜB are the trigonometric angles of the radius vectors of the starting and ending points of the arc: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/474/c48/953/474c489532aea423e824b0a6342fedc7.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note: when calculating trigonometric the angles of the extreme points of the arc, it is necessary to take into account situations in which the arc tangent function takes singular values. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Cartesian coordinates of point C are defined as: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/217/c6f/96c/217c6f96cd12a6d03f6cb5c8940bd2e7.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4ce/050/525/4ce050525700f47728594c598f4483a1.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The final time of displacement is determined by expression (6). In this case, the time tS spent on moving along the arc at a constant feed rate F (mm / min) can be determined using the expression for the length of the arc:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/470/ace/15c/470ace15cdd30149996b5f5fad8bd049.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The incremental coordinates of the center of the arc are programmed with addresses I and K in the directions of the X and Z axes, respectively. When programming circular interpolation with an indication of the center of the arc, it is necessary that the radius vectors of the start and end points of the arc have the same length. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Circular interpolation is always performed on the feedrate.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second method for programming an arc is to specify the radius of the arc circle. </font><font style="vertical-align: inherit;">In this case, two cases of setting the radius are allowed - with a positive or negative value. </font><font style="vertical-align: inherit;">If the radius value is positive, the arc angle is less than 180 degrees. </font><font style="vertical-align: inherit;">Otherwise, the angle of the arc is more than 180 degrees (Fig. 12.b). </font><font style="vertical-align: inherit;">When defining an arc with a radius, the TNC automatically determines the position of the center of the arc (O + or O‚Äì depending on the sign of the radius). </font><font style="vertical-align: inherit;">In this method of specifying the arc, the condition must be met: the radius modulus cannot be less than half the length of the chord (AB) of the arc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 13 shows an example of the formation of a curved surface when programming circular interpolation counterclockwise. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/064/57e/42a/06457e42a50a8b2a3a9a5a0b73101db5.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 13</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The formation of a curved surface when programming circular interpolation counterclockwise</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementation of functions of work with coordinate systems</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The presented simulation model includes several coordinate systems (Fig. 14). </font><font style="vertical-align: inherit;">The main and invariable coordinate system is the coordinate system of the machine with the origin corresponding to the machine zero point M, geometrically coinciding with the point of intersection of the end plane of the spindle and its axis of rotation. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bf8/161/4c0/bf81614c018f6ea85a98a339432aadce.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 14</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The basic coordinate system of the simulation model The </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
second important coordinate system is the reference coordinate system with the origin corresponding to the reference point R or the point of tool change. </font><font style="vertical-align: inherit;">In this coordinate system, the basic movements of the moving parts of the machine are calculated, and collisions of the tool with the structural elements of the machine are determined when modeling possible emergency situations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The programming of the turning process is carried out in the working coordinate system. The simulator provides 6 independent working coordinate systems with zero points W1‚Äì6. The initial settings for the position of these zeros are set by the user in the parameters of the simulation model and are designated as zero corrections. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The directions of the axes in each coordinate system are the same. The longitudinal axis Z is always directed from the turning chuck towards the tailstock of the machine. The transverse axis X (or the axis of the diameters) is directed towards the caliper (towards yourself with a front view to the machine). The Y axis is the normal to the work plane ZX and is directed vertically upward. Movements in the direction of the Y axis in the considered model of the machine are not carried out.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switching between working coordinate systems is carried out programmatically using the corresponding functions G54 ‚Äì G59 (for coordinate systems with zero points W1 ‚Äì W6, respectively). The zero coordinates W1‚Äì6 are calculated in the machine coordinate system relative to machine zero M. The syntax of the functions G54 ‚Äì G59 suggests two possible ways to use them. In the first version, the functions are set without specifying the X and Z coordinates. In this case, the position of the selected working coordinate system is determined by the predefined zero corrections. In this case, the functions G54 ‚Äì G59 can be programmed separately in an individual block or in one block with other commands. The second option for using the G54 ‚Äì G59 functions involves the programmed displacement of the axes of the selected working coordinate system relative to a predefined zero W1.In this case, the X and Z axis offsets are programmed immediately after the function in the same block (for example, ‚ÄúG54 X30.5 Z15‚Äù). Figure 15 shows the position of the first coordinate origin after programmatically shifting the axes to a point [X = 10, Z = ‚Äì20] relative to the initial zero position W1 specified in the zero corrector settings block.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/336/0a3/3aa/3360a33aa5af399ca85786f91460bc60.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 15</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Illustration of the software offset of the axes of the working coordinate system No. 1</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Programming with respect to machine zero is carried out using function G53. This function is not modal, and is executed in the block in which it is programmed. The function temporarily cancels the modal functions of the G54-G59. In this case, all movements are counted in the coordinate system of the machine with the beginning at point M, and the active zero corrector is temporarily canceled. The G53 function must be programmed whenever it is necessary to indicate the coordinates relating to machine zero. The syntax of the function does not imply the presence of parameters after the word G53. The function is programmed in any block that has path control commands (for example, ‚ÄúG53 G00 X0 Z120‚Äù). Figure 16 shows the position of the origin of the working coordinate system during the operation of function G53. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2ad/db9/a4c/2addb9a4c82a792603ce8c1e7f646be1.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 16</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Illustration of the position of the origin of the working coordinate system during the operation of function G53</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementation of basic turning and hole machining cycles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The implemented control program parsing algorithm allows simulating the execution of turning and drilling cycles of the Fanuc system. When each cycle is performed, a so-called buffer list of frames is created in the memory of the computing device, including intermediate tool movements when a programmed part contour is received. Turning cycles are defined by one or two consecutive initiating frames, in which the main parameters of the cycle are prescribed - roughing and finishing allowances, cutting depth during roughing with the cutter, the number of roughing passes with the cutting, the amount of cutting back, parameters of the processing mode, etc. The part contour is programmed by a sequence of frames with the required numbering of the first and last frame.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The stock removal cycle parallel to the Z axis is initiated by function G71. The parameters of the cycle are programmed in two consecutive blocks in the format: </font><font style="vertical-align: inherit;">
where in the first block: U is the processing depth for rough passes (programming mode in radii), R is the distance of the cutter retraction after the end of each pass; in the second frame: P is the sequence number of the first description frame of the processed circuit; Q is the serial number of the last frame of the description of the machined contour, U is the size and direction of removal of the finishing allowance along the X axis (programming mode in diameters), W is the value and direction of removal of the final allowance along the Z axis, F is the feed rate for roughing cutters, S - spindle speed or cutting speed during finishing.</font></font><br>
<br>
<code>G71 U_ R_<br>
G71 P_ Q_ U_ W_ F_ S_</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 17 shows the tool paths during the G71 turning cycle. The green lines show the movements of the cutter on the working feed, the purple lines show the accelerated feed. As can be seen from the figure, the processed circuit may include curved sections programmed by the method of circular interpolation. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/788/c19/783/788c1978323088cd257da8528a1eabb3.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 17</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the G71 turning cycle and a code fragment of the control program </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The allowance removal cycle parallel to the X axis is initiated by the G72 function. The programming principle of this cycle is similar to the G71 cycle. The execution of rough passes by the cutter is carried out in the direction of the X axis of the working coordinate system. The loop parameters are programmed in two consecutive blocks in the format:</font></font><br>
<br>
<code>G72 W_ R_<br>
G72 P_ Q_ U_ W_ F_ S_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where in the first frame: W is the working depth for rough passes, R is the distance of the cutter retraction after the end of each pass; in the second frame: P - serial number of the first description frame of the machined contour, Q - serial number of the last description frame of the machined contour, U - size and direction of removal of the finishing allowance along the X axis (programming mode in diameters), W - size and direction of removal of the final allowance along the Z, F axis is the feed rate for rough passes with a cutter, S is the spindle speed or cutting speed during finishing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 18 shows the tool paths during the G72 turning cycle. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/482/bd7/e06/482bd7e06aa2f1e7aea46dd85adbc2be.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 18</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the execution of the turning cycle G72 and a code fragment of the control program</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The stock removal cycle parallel to the specified contour is initiated by function G73. The loop parameters are programmed in two consecutive blocks in the format:</font></font><br>
<br>
<code>G73 U_ W_ R_<br>
G73 P_ Q_ U_ W_ F_ S_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where in the first frame: U is the size and direction of removal of the total allowance along the X axis (programming mode in radii), W is the value and direction of removal of the total allowance along the Z axis, R is the number of consecutive passes when removing the rough allowance, including a half-pass; in the second frame: P is the sequence number of the first description frame of the processed circuit; Q - serial number of the last description frame of the processed circuit; U is the value and direction of removal of the finishing allowance along the X axis (programming mode in diameters), W is the value and direction of removal of the final allowance along the Z axis, F is the feed rate for rough cuts, S is the spindle speed or cutting speed during finishing . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 19 shows the tool paths during the G73 turning cycle.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/18c/7a5/091/18c7a5091bb864279e8f8e5deb3c0b77.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 19</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the G73 turning cycle and a code fragment of the control program </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The final stock removal cycle is initiated by the G70 function. The parameters of the cycle are programmed in one </font></font><br>
<br>
<code>G70 P_ Q_ F_ S_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
block </font><font style="vertical-align: inherit;">in the format: </font><font style="vertical-align: inherit;">where P is the sequence number of the first description frame of the machined contour, Q is the sequence number of the last description frame of the machined contour, F is the feedrate during finishing, S is the spindle speed or cutting speed during finishing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The G70 Finishing Cycle complements Cycles G71, G72, and G73. It allows you to finish the contour after applying the cycles of rough turning. Using the G70 cycle as an independent cycle is impractical.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Programming the machining of the outer / inner and end grooves is carried out using special cycles G74 and G75. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
End grooving / rebound cycle initiated by function G74. The parameters of the cycle are programmed in two consecutive blocks in the format: </font><font style="vertical-align: inherit;">
where in the first block: R is the distance to which the cutting tool is retracted after completing the grooving step; in the second frame: X (U) - coordinate of the end point on the X axis, Z (W) - coordinate of the end point on the Z axis, P - step of the groove on the X axis in microns, Q - step of the groove on the Z axis in microns, F - feed rate.</font></font><br>
<br>
<code>G74 R_<br>
G74 X(U)_ Z(W)_ P_ Q_ F_</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 20 shows the tool paths during the grooving cycle of the end grooves G74. When performing this cycle, the tool after each working pass is retracted by the specified rebound value in order to remove chips from the machined groove. The G74 cycle can also be used when programming the end hole drilling operation. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f03/cfc/d5b/f03cfcd5b6f6ce6f080195a3b46660c3.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 20</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the execution of the grooving cycle of the end grooves G74 and a code fragment of the control program</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The groove cycle of the external / internal grooves with a rebound is initiated by the G75 function. The principle of using the G75 cycle is similar to the G74 cycle. The groove groove is carried out in the direction of the X axis. The set value of the groove pitch along the Z axis allows grooving with overlapping. After each working pass, the tool is retracted by a predetermined rebound value. The parameters of the cycle are programmed in two consecutive blocks in the format: </font><font style="vertical-align: inherit;">
where in the first block: R is the distance to which the tool is retracted after the completion of the grooving step; in the second frame: X (U) - coordinate of the end point on the X axis, Z (W) - coordinate of the end point on the Z axis, P - step of the groove on the X axis in microns, Q - step of the groove on the Z axis in microns, F - feed rate.</font></font><br>
<br>
<code>G75 R_<br>
G75 X(U)_ Z(W)_ P_ Q_ F_</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 21 shows the tool paths during the grooving cycle of the outer groove G75. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d77/de2/fce/d77de2fce6b5dfb91ff1824ef33c0064.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 21</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the grooving cycle of the external / internal grooves G75 and a code fragment of the control program. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For processing threaded joints, a multi-pass threading cycle initiated by the G76 function is implemented. The loop parameters are programmed in two consecutive blocks in the format:</font></font><br>
<br>
<code>G76 Pxxyyzz Q_ R_<br>
G76 X(U)_ Z(W)_ R_ P_ Q_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where in the first frame: xx is the two-digit number of screw passes with a thread-cutting tool; yy is a two-digit number that defines the size of the chamfer, zz is a two-digit number that determines the angle of the cutting edge of the cutting tool, Q is the minimum depth of threading in microns (programming mode in radii), R is the depth of cut during the final pass; in the second block: X (U) - coordinate of the end point of threading on the X axis, Z (W) - coordinate of the end point of threading on the Z axis, R - amount of movement along the X axis when cutting tapered thread (not programmed when cutting cylindrical thread ), P is the height of the thread in microns, Q is the depth of threading for the first pass in microns, F is the thread pitch along the Z axis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 22 shows the tool paths during a multi-pass cylindrical thread G76 cycle. Blue lines indicate the movement of the thread-cutting tool on the working feed. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/549/492/5f8/5494925f82d0a592644a3c77621a24d3.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 22</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during a multi-pass thread cutting cycle G76 and a code fragment of the control program </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cycle G76 also allows you to program the processing of tapered threads (Fig. 23). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bd4/257/cf9/bd4257cf993b758f909c029fc5c87c61.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 23</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during a multi-pass taper thread G76 and a code fragment of the control program</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When programming the machining of threaded joints, an alternative constant-pitch threading cycle initiated by the G92 function can be used. The cycle parameters are programmed in one block in the format: </font></font><br>
<br>
<code>G92 X(U)_ Z(W)_ R_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where X (U) is the coordinate of the end point of thread cutting along the X axis, Z (W) is the coordinate of the end point of thread cutting along the Z axis, R is the amount of movement along the X axis when cutting tapered thread (not is programmed when cutting cylindrical threads), F is the thread pitch along the Z axis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each working pass with a thread-cutting tool is programmed as a separate block, which goes in the general sequence of frames after the G92 cycle initialization block. In this case, only the X coordinate is specified, that is, the diameter value at which the calculated point of the cutter is located on the current working pass.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure 24 shows the tool paths during a taper cycle with a constant pitch of G92. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b93/8ca/f26/b938caf269ec4c78dd8f73bc7540fdba.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 24</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the threading cycle with a constant pitch G92 and a code fragment of the control program </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To program the grooving of long cylindrical or conical sections of the part, the main turning / outside diameter turning cycle initiated by the G90 function is used. The structure of the cycle is similar to the threading cycle G92. Before the start of the cycle, the cutter is displayed at the starting point. The cycle parameters are programmed in one block in the format: </font></font><br>
<br>
<code>G90 X(U)_ Z(W)_ R_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where X (U) is the coordinate of the end point along the X axis, Z (W) is the coordinate of the end point along the Z axis, R is the change in the radius of the base of the cone, F is the feedrate.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each working pass with the cutter is programmed by a separate block, which goes in the general sequence of frames after the G90 cycle initialization block. In this case, only the X coordinate can be specified, that is, the diameter value at which the calculated point of the cutter is located on the current working pass. Also in the frames of the description of the working passages, the Z coordinate can also be set in case it is necessary to process the stepped part of the part. Figure 25 shows the tool paths during the main turning cycle of the outer / inner diameter G90. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2a8/1cb/c41/2a81cbc415702fd4a1145b0251b7d1ee.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 25</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Trajectories of the cutting tool during the cycle of the main turning of the outer / inner diameter G90 and a code fragment of the control program</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The machining of the end surfaces of parts can be programmed using the main external / internal end turning cycle initiated by the G94 function. The parameters of the cycle are programmed in one block in the format: </font></font><br>
<br>
<code>G94 X(U)_ Z(W)_ R_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where X (U) is the coordinate of the end point along the X axis, Z (W) is the coordinate of the end point along the Z axis, R is the change in the radius of the base of the cone, F is the feedrate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By analogy with the G90 cycle, the cutter passes are programmed in separate blocks after the G94 cycle initialization block. In this case, for each passage, the coordinates Z and / or X can be set, as well as the parameter R, which determines the change in the radius of the base of the cone. Figure 26 shows the tool paths during the main external / internal end turning cycle G94. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5d0/c49/594/5d0c4959411b886bbf3f1b5a1a5cc085.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 26</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Trajectories of the cutting tool during the main external / internal end turning cycle G94 and a code fragment of the control program The </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
simulation model also allows you to program end hole drilling operations using constant cycles: simple single-pass drilling, single-pass drilling with holding at the bottom of the hole and multi-pass (intermittent ) drilling (Fig. 27). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simple one-pass drilling cycle is initiated by the G81 function, and has the frame format: </font></font><br>
<br>
<code>G81 X(U)_ Z(W)_ R_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where X (U) is the coordinate of the end point along the X axis, Z (W) is the coordinate of the end point along the Z axis, R is the absolute coordinate of the tool retraction plane along the Z, F axis - feed rate.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The single-pass drilling cycle with a shutter speed at the bottom of the hole is initiated by the G82 function and has the frame format: </font></font><br>
<br>
<code>G82 X(U)_ Z(W)_ R_ P_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where X (U) is the coordinate of the end point along the X axis, Z (W) is the coordinate of the end point along the Z axis, R is the absolute coordinate of the tool retraction plane along axis Z, P - holding time at the bottom of the hole in milliseconds, F - feed rate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The intermittent drilling cycle is initiated by the G83 function, and has the frame format: </font></font><br>
<br>
<code>G83 X(U)_ Z(W)_ R_ P_ Q_ F_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where X (U) is the coordinate of the end point along the X axis, Z (W) is the coordinate of the end point along the Z axis, R is the absolute coordinate of the tool retraction plane along the Z axis, P - the exposure time at the bottom of the hole in milliseconds, Q is the drilling step along the Z axis in microns, F is the feed rate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The cancellation of the continuous hole machining cycle is carried out by function G80. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a75/fa2/05b/a75fa205ba828dccb9c9a093a927b437.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 27</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Drill paths during intermittent drilling cycle G83 and a code fragment of the control program</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementation of general functions of numerical control</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spindle rotation is started clockwise by the modal function M03, and counterclockwise by the function M04, respectively. Spindle rotation is stopped using function M05. Functions M03 ‚Äì M04 give the command to start the spindle rotation, but do not determine the rotation speed parameters. For this purpose, the main motion function S is used with the rotation speed (or cutting speed) indicated. In this case, the spindle speed is set by address S, after which the number of revolutions per minute is indicated (if the modal function G97 is active). In the event that processing occurs at a constant cutting speed (modal function G96 is active), the number following the address S indicates the cutting speed in m / min. In this case, the actual spindle speed is determined by the calculation based on the expression:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e6e/dd5/205/e6edd5205056150422fdea6e6e5c3c95.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where V is the specified cutting speed m / min, d is the current processing diameter, m, œÄ = 3.14159. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The movement of the machine supports is carried out at working and accelerated feeds. Material processing by cutting is carried out at a working feed. The feedrate is set by the feedrate F in two ways. Using the modal function G98, a mode is set in which the feedrate is set in mm / min. The second programming mode of the feed quantity is carried out using the modal function G99. The feed rate is set in mm / rev. Function G99 is active in the initial state of the CNC system. When cutting a thread with address F, a constant thread pitch or the initial pitch in case of a thread with a variable (increasing or decreasing) pitch is programmed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tool function T is used to select and switch the position of a turret equipped with a cutting tool. The function is programmed in the format "T0A0B", where A is the number of the target position of the turret, B is the number of the corrector for the radius of the tool. In the process of switching the position of the turret, the tool returns to the reference point, where the tool disc of the turret is rotated over the shortest distance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simulation model implements the ability to use internal and external routines. Internal routines are placed in the main program code after the program termination functions M02 or M30. The call of the internal subprogram is carried out by function M97 in the format:</font></font><br>
<br>
<code>M97 P_ L_</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where P is the frame number of the start of the internal subprogram, L is the number of calls to the internal subprogram. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
External subprograms are autonomous texts with their own headings and frame numbering. The simulation model supports five external control programs in one session. The call of external subprograms is carried out by function M98 in the format: </font></font><br>
<br>
<code>M98 Pxxyyyy</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
where xx is the number of calls of the external subprogram; yyyy is the number of the external routine (for example, 0005). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The completion of the internal and external routines with the subsequent return to the main program is carried out using function M99.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Other auxiliary functions of the CNC system include: functions to stop the execution of the control program M00 / M01, functions to complete the control program M02 / M30, functions to turn on / off the supply of cutting fluid MZ / M08 / M09, and functions to open / close automatic doors M38 / M39. </font><font style="vertical-align: inherit;">These functions can be programmed both in separate blocks, and in conjunction with other commands. </font><font style="vertical-align: inherit;">After performing the functions M02 and M30, the simulation process ends - the tool is taken to the referencing point, the spindle rotation is stopped, the peripheral devices are turned off.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description of CNC Turning Simulator</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">General product description</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The CNC turning simulator is implemented in the form of a multi-platform graphical </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Type of target computing device and supported platform: IBM-compatible personal computer running Microsoft Windows and Linux operating systems, Apple Macintosh personal computer running MacOS operating system, mobile devices based on Android and iOS operating systems. </font><font style="vertical-align: inherit;">Additionally, the program can be run in a web browser environment with support for HTML5 technology and hardware support for 3D graphics (WebGL technology). </font><font style="vertical-align: inherit;">The graphic component of the software uses the OpenGL 2.0 component base. </font><font style="vertical-align: inherit;">The graphical user interface of the program is implemented in Russian and English.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minimum system requirements for a computing device:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CPU clock speed: 1.6 GHz;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RAM capacity: 1 GB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> video memory capacity: 512 MB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> screen resolution: 1024 √ó 768 (for desktop computers);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> support for OpenGL version 2.0;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> standard keyboard and computer mouse with scroll wheel (for desktop computers);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sound reproduction means (speakers, audio speakers or headphones).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When working with web versions of the application, it is recommended to use the MicrosoftEdge web browser, which is part of the Windows 10 operating system.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User Data Format</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During the installation of the software product in the standard "Documents" directory of the operating system, the root directory of the simulator projects is created, which includes a number of subdirectories with examples of control programs. </font><font style="vertical-align: inherit;">For example, in the Microsoft Windows 10 operating system, the Documents directory is located at: C: \ Users \ Current User \ Documents. </font><font style="vertical-align: inherit;">Creating, renaming and deleting files and subdirectories should be done using the standard file manager of the operating system. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simulator project files have the extension * .csdata. </font><font style="vertical-align: inherit;">For optimization purposes, byte input / output of data is performed, therefore, opening a project file in an external text editor is not possible. </font><font style="vertical-align: inherit;">The byte structure of the file is presented in table 3.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9be/a4a/c6d/9bea4ac6d8455e024b30bdd0e4b7734f.jpg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GUI Structure</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simulator runs in full-screen graphics mode. The sizes of the structural elements of the graphical interface adaptively vary depending on the format (aspect ratio) of the screen. Thus, the execution of the program is possible on screens with different aspect ratios, both close to 1.0 (resolution 1024x768, 1280x1024, etc.), and 2.0 (resolution 1920x1080, 2160x1080, etc.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interaction with elements of the graphical interface is carried out using a standard computer mouse (when working on a desktop computer) or by sensory interaction with the screen (when working on an interactive whiteboard, tablet or smartphone).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main screen of the program is represented by a three-dimensional scene, the main object of which is a graphic polygonal model of a lathe placed in a conditional spatial environment (Fig. 28). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/792/dd5/4c3/792dd54c3813b32edc02b15e885a629f.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 28</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - View of the main screen of the program</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Throughout the entire session with the program, a navigation bar is displayed on the right side of the screen. The first (top to bottom) button on the panel is designed to open the program termination dialog. The program shutdown dialog displays warning information about a possible data loss if the current project has not been saved to a file. Closing the dialog screen is also carried out by repeated pressing the corresponding button on the navigation panel. The second button of the navigation panel brings up the dialog screen of the built-in file manager (Fig. 29). The elements of this dialog screen are three vertically arranged buttons: ‚ÄúNew Project‚Äù, ‚ÄúOpen Project‚Äù and ‚ÄúSave Project‚Äù. The first (top to bottom) function button resets all parameters of the current project to the default values.This action is accompanied by an additional confirmation dialog. The second button displays the elements of the file system in the most traditional representation (Fig. 30).</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/68f/f60/432/68ff604322a5347dbc68aa795197ef19.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 29</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dialog screen of the built-in file manager The </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
list of directories is presented in the left part of the file open dialog. The root directory is created in the system during the installation of the program. Directories located above the root hierarchy are not accessed through the built-in file manager. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d69/79c/eb8/d6979ceb891d2eb3b0ee1691a2ca97e1.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 30</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The dialog box for opening a project file </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The right side of the dialog box for opening a file shows a list of files in the current active directory. Files are filtered by extension corresponding to the type of program files (files with a different extension are not displayed in the list).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Navigation in the directory structure is carried out by a single mouse click (or a single click on the touch screen) on the directory name in the list. Return to the upper hierarchical level is carried out by clicking on the upper empty line with the corresponding icon (Fig. 31). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/636/e78/bd8/636e78bd86cf1e2eaadd9860b09d1388.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 31</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Image of the return line to the top level of directories. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The file is selected by a similar single click on the file name in the right list. The name of the selected file is displayed in bright green (Fig. 32). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cb2/76c/527/cb276c52725e1afa993ee1dd16c8938c.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 32</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Highlighting the name in color when selecting a file. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Directory and </font><font style="vertical-align: inherit;">file </font><font style="vertical-align: inherit;">lists are equipped with vertical and horizontal scrollbars, allowing you to place any number of list items in a fixed-size field.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third button on the file manager dialog screen displays a file save dialog, similar to the open dialog, but equipped with a text box for entering the file name (Fig. 33). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/772/a6f/fbe/772a6ffbe39907d037c619536eaba598.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 33</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dialog screen for saving a project file</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The text field located at the top of the screen is intended for keyboard input of the file name. If you work on a device without a physical keyboard, you are supposed to use a virtual keyboard, which is a component of the operating system or a stand-alone background application. Enter the file name without extension. When entering text in a field, only text and numeric characters are supported. The maximum length of the input text is 128 characters. If you want to overwrite an existing project file, you must select it in the list of files. In this case, the actual name of the selected file will be displayed in the file name field.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Confirmation (or cancellation) of the action in the dialog screens for opening and saving files is carried out using the corresponding buttons located in the lower right corner of the screen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third button of the navigation panel brings up the dialog box for setting the workpiece parameters (Fig. 34). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/36f/bd9/493/36fbd94939300a4ffcb1049026a5c101.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 34</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dialog screen for setting blank parameters</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main elements of the blank settings screen are the dimensional reference field and the blank parameters panel. The dimensional reference field shows the working area of ‚Äã‚Äãthe lathe with a top view. The conditional drawing shows the main moving parts of the machine: a three-jaw chuck, turret and tailstock (for long workpieces). Using the appropriate buttons to increase / decrease the numerical values ‚Äã‚Äãof the first four parameters (on the right panel), the basic dimensions of the workpiece and its departure from the chuck are set (table 4). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8bc/646/bc5/8bc646bc5e1ef6c9b053d461b576a6d8.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parameters L1 and L2 are the fixed dimensions of the three-jaw chuck, which are set aside from the machine zero point indicated by the letter M. Parameter L3 represents the actual overhang of the workpiece and depends on the parameters L, D and L4 set by the user.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The group of ten parameters located in the lower part of the right panel is intended for changing the values ‚Äã‚Äãof the machine zero corrections or, in other words, for positioning the zeros W2‚Äì6 of five additional working coordinate systems, switching between which is carried out programmatically using the corresponding functions G55 ‚Äì G59. The coordinates of the zeros of additional coordinate systems are counted from the point of machine zero. The main working coordinate system with zero W1 is always positioned on the right end of the workpiece, fixed in the chuck, taking into account the allowance for primary face machining L5. The working coordinate systems and their zeros are shown in the drawing with colored axes and corresponding icons (Fig. 35). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/031/5a2/562/0315a256264e5251f258b355743f0956.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 35</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Fragment of a drawing of the dimensional reference of the workpiece</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Along with the workpiece, a turret with a tool installed in it is shown in the field of the dimensional reference drawing. If the turret is equipped with an axial tool, the drawing simultaneously shows a drill with a nominal longitudinal reach of Zm and a cutter for external machining with a nominal lateral reach of Xm (Fig. 36.a). When using tools only for external machining, the axial tool is not shown in the drawing (Fig. 36.b). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/367/19f/a3e/36719fa3e99b4883d17e81522b1b4463.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 36</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Various configuration options for the turret when using an axial tool (a) and without using an axial tool (b)</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The reference position of the turret is determined in such a way that a theoretical tool with nominal overhangs Zm and Xm has safe longitudinal Z 'and transverse X' indents from the lower right corner of the workpiece contour in plan. The safety margins Z 'and X' are not adjustable and are 30 mm. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When setting the dimensions of the workpiece, the compliance with the conditions for preloading long workpieces by the rear center is automatically controlled. So, if the offset value L3 exceeds 3 diameters of the workpiece, the tailstock quill with the back center installed in it is displayed in the drawing field. When changing the setting of the part after the first machining, the machine is not readjusted with respect to the workpiece binding and the zeros of the working coordinate systems.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The fourth button of the navigation panel brings up the dialog box for setting tool parameters (Fig. 37). On the left side of the screen is a list (catalog) of tools, including 185 names of various tools for external and internal processing of parts. Each item in the list begins with an interactive tool icon that outlines the shape of the plate and the recommended directions for the feeds. To the right of the tool icon are a serial number and a short text description of the tool, including its geometric characteristics and the type of turning in which it is recommended to use this tool. The tool list has a vertical scroll bar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the right side of the tool parameter settings screen, a row of square cells with serial numbers from 1 to 8 is located at the top, which corresponds to the positions of the turret. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d77/090/a82/d77090a82089a9962dfaac26543c3944.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 37</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dialog screen for setting tool parameters</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To set the tool in the desired position of the turret, you must hover over the icon with the image of the tool in the list, then press the left mouse button and hold it pressed, move the icon to a free cell in the upper right part of the screen, and then release the mouse button. If the tool moves to an already occupied position, it will be automatically returned to the catalog. When working on a device with a touch screen, the movement of tool icons is carried out in a similar way by continuously touching the screen with moving around the screen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The installed tool is returned to the catalog by a similar movement of the icon. In this case, it is enough to move the icon of the returned tool to any area of ‚Äã‚Äãthe tool list field.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To rearrange an already installed tool from one position to another (free or occupied by another tool), it is enough to move the icon within the position block of the turret. If at the same time the cell into which the tool moves is already occupied by another tool, these tools will be swapped. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below the block of positions of the turret head is a drawing of the dimensional reference of the tool, showing the model of the tool and equipment in plan, the actual values ‚Äã‚Äãof the longitudinal and transverse flights, as well as the geometric diagram of the tool insert in the plan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The position of the zero point of the tool, indicated by the corresponding icon, cannot be changed, and corresponds to the center of the hole in the plane of the front surface of the turret.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Departures of the tool can be changed depending on the type of tool using the buttons for increasing / decreasing the offset value located in the lower right part of the dimension reference drawing field (Figure 38). For external tools, the lateral offset along the X axis changes to a smaller side, and for axial tools, the longitudinal offset along the Z axis changes to a greater or lesser side. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setting tool departures is one of the stages of setting up the machine. Shortening the outreach of axial tools by deepening them into the cavity of technological equipment (and, accordingly, the turret) allows you to expand the boundaries of the working space of the machine when machining the outer surface near the cartridge, provided that both the axial tools and the tools for external processing are fixed in the turret.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switching between tools installed in the turret is carried out using the corresponding left / right buttons located in the upper right corner of the dimensional drawing drawing field. The main geometric parameters of the tool are displayed at the bottom of the drawing. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/991/b21/da6/991b21da6ce9b38d020908ed4e372884.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 38</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Drawing view of the dimensional reference of the tool The </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
axial tool is not used in case of preloading the workpiece by the rear center. Moreover, if the turret is pre-equipped with an axial tool, and the dimensions of the workpiece are changed in the second place, as a result of which the rear center is involved, the axial tool automatically returns to the catalog. In order to avoid this situation, the turret must be completed after dimensional adjustment of the workpiece.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The fifth button of the navigation panel displays on the main screen of the simulator a built-in text editor of control programs (Fig. 39). The text editor has in the upper part a panel of functional buttons necessary for working with the machine control program code. The main part of the text editor is occupied by a text field equipped with vertical and horizontal scrollbars. The button for showing / hiding the virtual keyboard is located in the lower right part of the editor. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/878/e61/014/878e61014d0e08aa1ee596a5bade4374.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 39</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - View of the main screen of the simulator with an open editor of control programs </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Typing in a text field can be carried out using both physical and virtual keyboards (Fig. 40). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/464/0a7/b82/4640a7b8286c05ebb66b4ff4c07563f8.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 40</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Virtual keyboard for typing in the code editor</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basic text editing operations in the code editor are similar to text editing operations in the standard Notepad text editor of the Microsoft Windows operating system. The editor allows you to carry out standard text editing operations, including transferring data through the system clipboard (copy, cut, and paste fragments of text). Selecting text fragments is carried out in three ways, including operations with the cursor keys of the physical keyboard (with the Shift key pressed), mouse buttons, and touch interaction with the screen (using the special Select Start button on the virtual keyboard).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The panel of functional buttons of a text editor includes 8 buttons (Fig. 41), the activity status of which depends on the current state of the simulation process, as well as the presence of the selected text fragment. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a5b/16f/f72/a5b16ff723a0f84cba77e719431cd5ef.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 41</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Functional buttons panel of the code editor</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If not a single fragment is selected in the text of the control program, the Copy button (1) has an additional inscription ‚ÄúALL‚Äù. This means that when you click on this button all the text of the control program will be copied to the clipboard. Otherwise (if there is a selected fragment of text), only the selected text is copied to the clipboard. The ‚ÄúCut‚Äù button (2) is activated when there is a selected fragment of text. When you click on this button, a standard copy operation is performed with the subsequent removal of the selected fragment from the text. The Paste button (3) is activated when there is text in the clipboard. The insert is in the position of the flickering cursor (carriage). If a fragment is selected in the text, this text fragment is replaced.The ‚ÄúDelete‚Äù button (4) is designed to instantly delete all the text of the control program with confirmation. The Start, Pause, Stop buttons (5-7) are used to control the simulation process. To start the execution of the control program, you must click on the "Start" button. During the simulation, editing the control program is not available. Button "Directory of used codes" (8) is intended to display on the screen a list of used G / M codes with a brief description of their format.Button "Directory of used codes" (8) is intended to display on the screen a list of used G / M codes with a brief description of their format.Button "Directory of used codes" (8) is intended to display on the screen a list of used G / M codes with a brief description of their format.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below the functional buttons panel of the text editor of control programs, there are 5 interactive tabs with the names of control programs of the current project. Using these tabs, switching between control programs is carried out. When the simulation process starts, the current open control program is executed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the left side of the main screen of the simulator there are additional function buttons (Fig. 42) that are responsible for various program settings. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/eab/6fb/77c/eab6fb77cf632b5f87acace13a30f1c8.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 42</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Additional functional buttons of the main screen of the program</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ‚ÄúAbout program‚Äù button (1) displays on the screen information about the current version of the program, contact information of the developer, as well as licensed information. The ‚ÄúSwitch language‚Äù button (2) is used to switch the language settings of the graphical interface of the program. Depending on the current language, the image on the button changes. By default, after installation, the program runs in English. The ‚ÄúTurn on / off sound‚Äù button (3) is used to turn on / off the sound accompaniment of the simulation process. The button "Switching the graphics mode" (4) is used to switch the display mode of the 3D model of the machine and the environment. In this case, two display modes are available - the high-poly mode (enabled by default) and the low-poly mode, designed to hide minor graphic elements.In the low-poly mode, the geometric model of the machine is significantly simplified and is shown in monochromatic translucent blocks. In this mode, graphic textures are not displayed, there is no imitation of the environment, cutting fluid and chips. The low-poly mode is used if it is necessary to concentrate the user's attention on the contour of the workpiece and the tool paths. Depending on the current graphic mode, the image on the button changes. The ‚ÄúTurn on / off 2D geometry‚Äù button (5) is used to turn on / off two-dimensional geometric constructions in the three-dimensional space of the simulator. 2D geometry refers to graphic elements such as coordinate axes, zero point icons, and the contours of the workpiece and tool.When processing internal surfaces of a part (drilling and boring), displaying a 2D contour of a part to the fullest extent contributes to visual control of the processing of internal surfaces. The ‚ÄúOn / Off tool trajectories‚Äù button (6) is used to enable / disable the function of displaying tool paths and drills in the cutting plane. The calculation of the trajectory of movement of each tool installed in the turret is carried out from the moment the simulation is launched until its completion. Trajectories are shown by solid colored lines.The ‚ÄúOn / Off tool trajectories‚Äù button (6) is used to enable / disable the function of displaying tool paths and drills in the cutting plane. The calculation of the trajectory of movement of each tool installed in the turret is carried out from the moment the simulation is launched until its completion. Trajectories are shown by solid colored lines.The ‚ÄúOn / Off tool trajectories‚Äù button (6) is used to enable / disable the function of displaying tool paths and drills in the cutting plane. The calculation of the trajectory of movement of each tool installed in the turret is carried out from the moment the simulation is launched until its completion. Trajectories are shown by solid colored lines.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also on the main screen of the program additional textual information is displayed: the number of the current setting of the part, the current simulation time, the coordinates of the calculated point of the cutter, the parameters of the high-speed processing mode. If the text editor of control programs is closed during the simulation, the buttons for controlling the simulation process ‚ÄúStart‚Äù, ‚ÄúPause‚Äù, ‚ÄúStop‚Äù and the line of the currently executed frame are displayed at the top of the main screen (Fig. 43). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/233/fa2/c26/233fa2c2692c9fbfa9b152a57cc27817.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 43</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Additional elements of the main screen of the program during the simulation with a closed text editor</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After machining the part from the first installation, an additional button for changing the installation is displayed on the left side of the main screen (Fig. 44.a). After changing the setup from the first to the second contour of the part, it is mirrored relative to the center of mass of the initial workpiece in the direction of the Z axis, and the screen displays three additional buttons for longitudinal displacement of the part (Fig. 44.b). Pressing the button 1 leads to a discrete longitudinal displacement of the part to the left (towards the machine zero point). Pressing button 2 displaces the part to the right. Button 3 is used to reset the specified displacements of the part. It should be borne in mind that the workpiece is not re-referenced (the location of the zero offsets is saved from the previous setting). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c0a/fcc/0ec/c0afcc0ec6e3577ed0de446906cfcc7c.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 44</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Additional buttons for setting the part setting</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recalling the workpiece parameters dialog box after machining the part from the first setting initiates the dialog for confirming the reset of part contour changes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the lower part of the main screen of the program, the system information about the resources is displayed in small print: the current value of the frame frequency (Frame Per Second), the amount of video memory used in megabytes, the number of polygonal facets displayed on the screen at a time, the number of drawings loaded in the memory, the number of graphic sprites used and time renderings of one full-screen frame in seconds.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the lower left corner of the main screen there is a button for switching the virtual camera mode (Fig. 45). The button shows the number of the target (next) camera mode to which the screen will be switched. In total, 5 camera operation modes are provided. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/242/1cb/22b/2421cb22b4da18ee42e5d29e230e08dd.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 45</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - The button for switching the virtual camera mode in various display options </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The virtual camera mode No. 1 is controllable. In this case, the camera moves in a spherical coordinate system around the focus point (Fig. 46). The camera‚Äôs focus point can be moved in the vertical frontal plane of the model‚Äôs space. In addition, the camera can distance itself from the focus point to an arbitrary distance limited by the dimensions of the space.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main manipulations with the camera in mode No. 1 are carried out using a computer mouse (touch control is described below). At the same time, pressing and holding the left mouse button with the accompanying movement of the mouse moves the focus point of the camera in the frontal plane of space. Pressing and holding the right mouse button with the associated mouse movement rotates the camera relative to the focus point. The rotation angles (azimuth and elevation) of the camera are limited by the dimensions of the model space. Changing the camera distance is carried out by rotating the scroll wheel in the forward and reverse directions. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/223/8c1/ecf/2238c1ecfd864e1256354edf97266a97.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 46</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Camera control diagram in mode No. 1 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To the right of the camera mode switching button (in mode No. 1), the button for disabling camera control with the mouse is displayed (Fig. 47.a).</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e86/487/d50/e86487d50cdc2970973dcb77923a3c69.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 47</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Button for switching the virtual camera mode in various display options </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When disabling camera control with the mouse, a group of switch buttons (Fig. 47.b) is displayed at the bottom of the main screen to perform touch control of the camera in mode No. 1. Button 1 activates the operation of shifting the focus point of the camera, button 2 - the operation of rotating the camera relative to the focus point, and button 3 - the operation of changing the distance from the camera to the focus point, respectively. The manipulations themselves are carried out by interacting with the touch screen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Camera modes No. 2-5 are designed to position the camera at a fixed-angle point. Mode No. 2 positions the camera above the top of the current instrument (top view). Perspective camera distortions are disabled in this mode (orthogonal projection is used). In mode No. 3, the camera operates in isometry. Modes No. 4 and No. 5 fix the camera at two additional points of view. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All program settings, including camera position, are saved when shutting down.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simulator does not simulate specific CNC system software. The control panel of the machine is represented by a conditional display on which the main technological information is displayed during the simulation (Fig. 48). The current coordinates of the cutter‚Äôs calculated point along the X and Z axes are presented in the upper left part of the display. These are the coordinates of the programmable point lying on the tool path at the current time. In the initial state, these values ‚Äã‚Äãare presented in millimeters. When programmatically changing the measurement system, the coordinates (as well as the feed value) are displayed in inches. Units are displayed to the right of the numerical coordinates themselves. All lateral movements are programmed for the diameter of the workpiece. Therefore, the coordinate axes X and Z have different scales.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The current technological parameters are displayed (in yellow) on the bottom left of the display: spindle speed S (rpm), feedrate F (mm / min) and current turret position number T. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are 6 cells in the bottom right of the display for display active modal functions of the CNC system. </font><font style="vertical-align: inherit;">From left to right, the following functions are displayed in the cells: spindle rotation direction M03 / M04, coolant system operation M07 ‚Äì M09, current working coordinate system G53 ‚Äì G59, work feed type G98 / G99 and interpolation type G00 ‚Äì G03. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/750/d7a/907/750d7a907ed246a47a7ab94a79eb21c3.jpg" alt="image"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 48</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Appearance of the display of the control system of the simulation model of the machine</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project Development Prospects</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The immediate prospects for the development of the presented project include a number of tasks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Task No. 1: expanding the functionality of the software product in terms of turning technology, including: automated preparation of a calculation and technological map of the processed product, a system for controlling product sizes at all stages of the process simulation, compatibility of control program formats, and support for standards of existing CAD / CAM packages . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Task No. 2: realization of the possibility of user configuration of the simulated machine, including: selection of the type of layout of the main components of the machine, selection and change of types of technological equipment and tools, simulation of the stages of setting up the machine for specific technological operations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Task No. 3: expanding the functionality in terms of numerical control of the machine, including: support for additional CNC systems, simulating the control panel interface of specific CNC systems, implementing macro programming capabilities and dialog programming of technological operations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Task No. 4: implementation of a physical and mathematical model of the turning process taking into account the properties of materials, and building on its basis a component of an expert system that engages in a dialogue with the user in the form of recommendations and corrective prompts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Task No. 5: modification of the forming algorithm of the part, which makes it possible to simulate milling operations using the appropriate drive tool.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Along with the listed main tasks, it is necessary to introduce a number of optimizations into the general functionality of the software product.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusions and Conclusions</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To date, the achieved results for the project fully comply with the goals and objectives set at the beginning of the work. </font><font style="vertical-align: inherit;">The software product has been tested in the educational process on the basis of several educational organizations, including Maikop State Technological University, ANO "UTsDPO CityMasterov-NN" and Central University of Queensland (CQUniversity, Australia). </font><font style="vertical-align: inherit;">Mobile versions of the application are being tested among private users through the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GooglePlay</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppStore</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> platforms </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The expansion of functionality in terms of the implementation of the promising tasks described above will improve the performance indicators of the software product and increase its competitiveness in general.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliographic list</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. G√∂k√ße Harun - Object Modeling Based Polygon For 3D CNC Lathe Simulation Softwares // Journal of Polytechnic, 2016; 19 (2): 155-161. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Okan Top√ßu, Ersan Aslan - Web-based Simulation of a Lathe using Java 3D API // 2nd International Symposium on Computing in Science &amp; Engineering. 2011. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Abramova O. F. - Comparative analysis of algorithms for removing invisible lines and surfaces working in image space / O.F. Abramova, N.S. Nikonova // NovaInfo. Technical science. 2015. No. 38-1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. David Douglas, Thomas Peucker - Algorithms for the reduction of the number of points required to represent a digitized line or its caricature // The Canadian Cartographer 10 (2), 112-122 (1973).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. John Hershberger, Jack Snoeyink - Speeding Up the Douglas-Peucker Line-Simplification Algorithm // Proc 5th Symp on Data Handling, 134-143 (1992). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. Ahmet Gencoglu - Physics Based Turning Process Simulation / A Thesis Submitted In Partial Fulfillment Of The Requirements For The Degree Of Master Of Applied Science // The University of British Columbia (Vancouver). </font><font style="vertical-align: inherit;">August, 2011. 122 p.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489062/index.html">Incredible parallel Apache Parquet I / O performance in Python</a></li>
<li><a href="../en489068/index.html">Digital Immortality - An Engineering Approach</a></li>
<li><a href="../en489070/index.html">It will cost 354 pairs of socks. A selection of gifts for February 23</a></li>
<li><a href="../en489072/index.html">Advantages of 3CX in building a distributed network</a></li>
<li><a href="../en489074/index.html">How to determine the operator and region by phone number</a></li>
<li><a href="../en489080/index.html">Strengthen your agile teams using Tacman's developmental stages</a></li>
<li><a href="../en489082/index.html">Neural networks in trading. Bury early</a></li>
<li><a href="../en489086/index.html">RabbitMQ. Part 2. Understanding Exchanges</a></li>
<li><a href="../en489092/index.html">How I independently learned a new language in 12 months: a total guide</a></li>
<li><a href="../en489100/index.html">SARS-CoV-2 Coronavirus Data Analysis (2019-nCov)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>