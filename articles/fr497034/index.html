<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÑ üßë üë©üèΩ‚Äçüîß Qu'est-ce que le nouveau SDK nRF Connect pour les pays nordiques? √âvolution, r√©volution ou alternative? üî£ üê∏ üè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La semaine derni√®re, Nordic Semiconductor a ajout√© la prise en charge de la s√©rie nRF52 au SDK nRF Connect. 
 
 
 
 La principale question que se pose...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Qu'est-ce que le nouveau SDK nRF Connect pour les pays nordiques? √âvolution, r√©volution ou alternative?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497034/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La semaine derni√®re, Nordic Semiconductor a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ajout√© la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prise en charge de la s√©rie nRF52 au SDK nRF Connect. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6l/rn/68/6lrn68dbbfqzq7nvalyoaq6zcrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La principale question que se posent la plupart des gens est de savoir de quoi il s'agit et pourquoi est-ce important? </font><font style="vertical-align: inherit;">Cette question est particuli√®rement pertinente pour ceux qui ont une exp√©rience avec le SDK nRF5, et ils sont nombreux.</font></font><br>
<a name="habracut"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je note tout de suite que l'article est principalement √©crit pour ceux qui utilisent des approches traditionnelles dans le d√©veloppement d'appareils de niveau Cortex-M ou proches. </font><font style="vertical-align: inherit;">Par cons√©quent, certaines d√©finitions et analogies peuvent ne pas sembler compl√®tement correctes du point de vue de ceux qui travaillent √† un niveau √©lev√© (regarde ce qui se passe du c√¥t√© de Linux), mais ce sera plus facile √† comprendre pour ceux qui commencent juste de cette fa√ßon. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les commentaires et clarifications sont toujours les bienvenus.</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu sur qui est le nordique et comment il se porte bien maintenant</font></font></b>
                        <div class="spoiler_text">    Nordic     . ,   ,    Bluetooth Low Energy,  90%     .         : Starline, Pandora, Scher-Khan      .         Redmond,   Ready4Sky.             .         2     .<br>
<br>
    Nordic Semiconductor   40%,  2.5  ,     (TI). ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"></a>.   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Samsung</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Xiaomi</a>   Nordic   ,   ,        .<br>
 <br>
   ,      Nordic,   ,         .      nRF5x   STM   (   ).<br>
<br>
   :<br>
<br>
<ul>
<li>    </li>
<li>   (       )</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"></a>  SDK </li>
<li>  (    )</li>
<li>  Altium   </li>
<li> </li>
</ul><br>
 ,  Nordic Semiconductor       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, la question principale se pose, pourquoi le nouveau SDK a-t-il √©t√© publi√© et en quoi diff√®re-t-il de l'actuel? </font><font style="vertical-align: inherit;">Si c'est le cas, tout va bien avec la solution actuelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDK nRF5</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> actuel </font><font style="vertical-align: inherit;">fonctionne sur la base d'une simple file d'attente, et dans la plupart des cas, cela suffit pour impl√©menter presque toutes les t√¢ches (bien que certaines entreprises utilisent toujours leurs propres SDK, mais ce sont des exceptions aux r√®gles). </font><font style="vertical-align: inherit;">Le nouveau </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDK nRF Connect</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilise une approche radicalement diff√©rente bas√©e sur Zephyr RTOS. </font><font style="vertical-align: inherit;">Consid√©rez les diff√©rences plus en d√©tail. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les RTOS (RTOS) comportent √† la fois certains avantages et inconv√©nients connus. </font><font style="vertical-align: inherit;">Ces derniers comprennent:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">frais g√©n√©raux suppl√©mentaires pour la maintenance du syst√®me d'exploitation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grande complexit√© de d√©veloppement sur des projets simples</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">complexit√© de construction accrue</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les autres RTOS sont:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fiabilit√© accrue gr√¢ce au contr√¥le des flux individuels</font></font></li>
<li>           </li>
<li>     </li>
<li>  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au sein des pays nordiques, cela est devenu int√©ressant et pertinent depuis l'introduction du nouveau syst√®me en bo√Ætier (SIP) avec LTE Cat-M / NB-IoT / GPS - la s√©rie nRF91. Ce SIP a des performances plus √©lev√©es en raison du nouveau c≈ìur Cortex-M33 et d'autres exigences pour le composant r√©seau, qui sont apparues en raison de la transition du BLE aux r√©seaux cellulaires. Une autre innovation ici √©tait le modem SDR, qui fonctionne sur un noyau s√©par√© et avec lequel il √©tait n√©cessaire d'organiser une interaction internucl√©aire. Pour la premi√®re fois, le SDK bas√© sur RTOS est apparu ici, et pour ceux qui ont rencontr√© pour la premi√®re fois une nouvelle approche, il a soulev√© un certain nombre de questions, √† partir de la phase de pr√©paration. Un assistant sp√©cial a √©galement √©t√© lib√©r√© pour l'assemblage correct de l'environnement de d√©veloppement - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assistant de d√©marrage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il vous indique les composants que vous devez installer (il y en a beaucoup, voir ci-dessous) et v√©rifie que tout est correctement install√©. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b04/168/443/b04168443c2e299b22756b152308d774.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De ce point de vue, on peut comparer la transition vers Zephyr avec l'apparition de la premi√®re masse ARM Cortex-M et la transition vers 32 bits. Maintenant, la majorit√© utilise des MK 32 bits comme principaux, sur lesquels il y a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur Habr√©. Il raconte √©galement la transition, qui semblait initialement inutilement compliqu√©e. Mais au fil du temps, presque tout le monde est venu √† la conclusion que cela est devenu la norme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que Zephyr OS n'est pas le seul RTOS fonctionnant sur des puces nordiques. Exemples de projets avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disponible dans le SDK v.11 √† partir de 2016, et m√™me plus t√¥t dans le SDK v.9, la famille nRF51 √©tait prise en charge par Keil RTX (2015). </font><font style="vertical-align: inherit;">Cependant, auparavant, ces fonctions √©taient plus exp√©rimentales et le support a √©t√© fourni dans une plus large mesure par les fabricants de RTOS. </font><font style="vertical-align: inherit;">Ce qui, en principe, est vrai maintenant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le soutien non officiel de Zephyr aux familles nRF5x est apparu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en 2016</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zephyr Nordic a d√©cid√© de cr√©er un SDK compl√®tement nouveau sur RTOS seulement maintenant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a un certain nombre de conditions pr√©alables √† cela:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Un certain nombre de technologies sont h√©rit√©es de Linux:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">travailler avec des flux, des files d'attente en temps r√©el (particuli√®rement important pour les protocoles d√©pendants du temps tels que BLE) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®ques pour la mise en r√©seau et la s√©curit√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mod√®le de description de mat√©riel flexible avec optimisation √©nerg√©tique</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®ques pour travailler avec des p√©riph√©riques (capteurs, etc.)</font></font></li>
</ul><br>
 </li>
<li>  : <br>
<br>
<ul>
<li>     </li>
<li>   </li>
<li>   </li>
</ul><br>
 </li>
<li>      <br>
<br>
<ul>
<li>  ,   Nordic,    </li>
</ul><br>
 </li>
<li>    (       )</li>
<li>   ( )         .    ,     ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre comment des changements spectaculaires se sont produits, le diagramme structurel de la documentation officielle est bien adapt√©. </font><font style="vertical-align: inherit;">Le gris indique les composants qui font partie de Zephyr. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/362/736/89c/36273689c10a66b97f33142745dc7f22.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En pratique, lors de la mise en ≈ìuvre de cette approche, un certain nombre de probl√®mes cognitifs se posent. </font><font style="vertical-align: inherit;">Les d√©veloppeurs habitu√©s au produit et aux solutions connaissent une dissonance avec un grand nombre de changements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consid√©rez la version de d√©veloppement sous Windows, car cela posera plus de questions concernant ceux qui ont l'habitude de d√©velopper sous Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les packages suivants sont requis:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (gestionnaire de paquets)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (syst√®me de contr√¥le de version)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (syst√®me de construction orient√© vitesse)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (syst√®me de construction de haut niveau)</font></font></li>
<li><b>DTC-MSYS2</b> (   (device tree))</li>
<li><b>GPerf</b> ( )</li>
<li><b>west</b> (          )</li>
<li><b>pip</b> (  Python)</li>
<li><b>Python3</b></li>
<li><b>GNU Arm Embedded Toolchain</b> (GCC, GDB      ARM)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour quelqu'un qui est confront√© pour la premi√®re fois √† un ensemble similaire d'utilitaires, il peut sembler que tout est inutilement compliqu√© et que l'ancien paradigme pourrait √™tre utilis√©, que les approches de d√©veloppement existantes sont assez efficaces. </font><font style="vertical-align: inherit;">Cependant, si vous regardez plus profond√©ment, alors tout devient beaucoup plus int√©ressant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permettent d'installer tous les packages n√©cessaires via la console pour OS et Python, respectivement. </font><font style="vertical-align: inherit;">Et Python lui-m√™me, comme la plupart des logiciels en question, est plac√© dans une seule commande:</font></font><br>
<br>
<pre><code class="bash hljs">hoco install python xxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √©galement mis √† jour avec une seule commande:</font></font><br>
<br>
<pre><code class="bash hljs">choco upgrade all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'approche est un peu inhabituelle pour les utilisateurs de Windows, pour ceux qui connaissent les gestionnaires de packages de console sous Linux (apt, zypper, etc.), rien de nouveau. J'ai souvent remarqu√© que les d√©veloppeurs de logiciels pour MK ne mettent √† jour le logiciel que lors de la r√©installation du syst√®me d'exploitation sur un PC. A propos de pourquoi c'est mauvais, nous ne parlerons pas, je note seulement qu'ici ce probl√®me est r√©solu automatiquement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les innovations dans le domaine de la configuration et du montage de projets sont beaucoup plus int√©ressantes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja a √©t√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con√ßu et positionn√© en remplacement de la marque et ax√© sur la vitesse de construction. C'est particuli√®rement bon dans les applications o√π il est n√©cessaire de reconstruire des projets avec un tas de petits fichiers, o√π il n'y a pas eu de changements. L'effet peut √™tre un ordre de grandeur, voire deux, voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tests</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cmake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† son tour, il permet de g√©n√©rer des fichiers de configuration pour Ninja dans un langage de haut niveau (script) pour la plate-forme sur laquelle l'assemblage aura lieu. A propos de Cmake peut √™tre lu sur Habr√©, par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPerf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©n√®re une table de pointeurs, ce qui √©conomise de la m√©moire, voir l'√©tape 3 de l'assemblage ci-dessous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous devons √©galement pr√™ter attention √† une nouvelle approche de la description du fer. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devicetree</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est apparu </font><font style="vertical-align: inherit;">, d√©crivant la structure mat√©rielle de l'appareil. Ceci est le r√©sultat direct du soutien de Zephyr par la Linux Foundation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les avantages sont que la description du mat√©riel est maintenant dans un fichier .dts distinct, qui a une </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">structure</font></a><font style="vertical-align: inherit;"> simple</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, il est facile √† modifier et, par cons√©quent, √† porter le code entre diff√©rentes familles de puces. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, je peux illustrer clairement le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dtsi de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> base </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">sur nRF52840</font></a><font style="vertical-align: inherit;"> , qui √† son tour est utilis√© dans la description de la carte nRF52840-DK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nrf52840dk_nrf52840.dts</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Le nombre de cartes m√®res prises en charge par Zephyr est d√©j√† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sup√©rieur √† 200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme indiqu√© pr√©c√©demment, Nordic a d'abord publi√© Zephyr sur la s√©rie nRF91, puis sur le nRF53, et maintenant il a finalement atteint le nRF52 le plus massif.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le passage √† RTOS permet √† son tour de r√©soudre le probl√®me de l'adaptation du code au nouveau mat√©riel. M√™me parmi les puces d'une m√™me famille, la transition n√©cessitait certaines ressources du c√¥t√© du d√©veloppement, si elle s'accompagnait d'une transition vers un autre logiciel (la biblioth√®que BLE pr√©compil√©e). Sans parler de la transition, par exemple, de la s√©rie 51 ou 91 √† 52, lorsque la plate-forme mat√©rielle elle-m√™me change consid√©rablement. Maintenant, cette t√¢che sera r√©solue beaucoup plus facilement et plus rapidement. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le fer chez Nordic est constamment am√©lior√©, mais cela doit √™tre √©crit s√©par√©ment. Dans le cadre de cet article, nous pouvons seulement noter que l'accent est mis sur l'int√©gration avec RTOS, la s√©curit√©, l'efficacit√© √©nerg√©tique et l'am√©lioration du canal radio (BLE 5.2). Merci de dire le dual-core Cortex-M33, ARM Cryptocell et ARM TrustZone.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour construire devicetree utilis√©</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Device Tree Compiler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui fait partie de MSYS2 (syst√®me de construction am√©lior√© bas√© sur Cygwin et MinGW-64). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me partie de la configuration du projet se trouve dans </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (configuration du noyau), √©galement h√©rit√© de Linux. Il vous permet de s√©lectionner les blocs n√©cessaires via une interface graphique et de d√©finir des param√®tres d'assemblage pour une t√¢che sp√©cifique, ce qui est particuli√®rement important dans les conditions de ressources limit√©es des syst√®mes sur une puce. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez utiliser des utilitaires traditionnels comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menuconfig,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou dans le cadre de Segger Embedded Studio (l'IDE officiel recommand√©) il y a une interface int√©gr√©e qui peut √™tre lanc√©e via l'√©l√©ment de menu correspondant: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projet&gt; Configurer nRF Connect SDK Project</font></font></b> <br>
<br>
<img src="https://habrastorage.org/webt/cv/sz/bq/cvszbqtv9frwur8ss1hncds-b2k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de configuration de projet avec SSL / TLS bas√© sur nRF9160 est pr√©sent√© ci-dessous. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir, vous pouvez configurer √† la fois les fonctionnalit√©s mat√©rielles du projet (plate-forme, nombre de threads, modules de noyau de plug-in) et les logiciels (cl√©s, adresses, etc.). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/mm/f9/b-mmf98mpjwxi_ts0tlwopujgfm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/nk/7e/qu/nk7equjwisyaxyzknpyyxwplbys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consid√©rez les √©tapes de l'assemblage du projet: Il y en a cinq au total:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - traitement pr√©liminaire de toutes les configurations (devicetree, KConfig), √† la sortie, nous obtenons des fichiers d'en-t√™te d√©crivant le mat√©riel et la configuration pour Ninja</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©-assemblage (I)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - traitement des structures √† un niveau √©lev√©, compilation des fichiers syst√®me et des d√©calages (d√©calage), cr√©ation de tables d'appel</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assemblage initial (II)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - compilation des principaux codes source et leur conditionnement dans des archives, liaison</font></font></li>
<li><b>  (III)</b> ‚Äî             (GPerf),         </li>
<li><b>- (IV)</b> ‚Äî  hex, bin  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez en savoir plus sur le syst√®me d'assemblage Zephyr avec des photos dans la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> officielle </font><font style="vertical-align: inherit;">. Il y a beaucoup de texte et d'images, nous ne consid√©rerons donc pas les d√©tails dans le cadre de cet article. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est important de comprendre que les outils utilis√©s ici ne remplacent pas le pr√©processeur C (cpp) et l'√©diteur de liens C (ld). Les deux sont utilis√©s √† toutes les √©tapes, sauf le post-traitement. Cependant, le r√©sultat de leur travail est soumis √† des am√©liorations suppl√©mentaires, qui permettent √† la fois de r√©duire consid√©rablement le temps d'assemblage et les besoins en m√©moire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous ne pouvez pas comparer directement les r√©sultats des programmes cr√©√©s sur deux SDK. √âtant donn√© que les biblioth√®ques et les approches sont tr√®s diff√©rentes et qu'il n'y a pas encore de tels tests. On peut certainement dire que la solution se sent bien sur les puces moyennes et haut de gamme de la gamme (nRF52832 et plus), et qu'il reste une grande r√©serve de ressources. Cependant, on ne peut pas dire que le nouveau SDK ne s'applique pas aux puces plus jeunes comme le nRF52810. Il est n√©cessaire d'examiner le probl√®me plus en d√©tail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenant √† la question pos√©e dans le titre de l'article, on peut dire que ce paradigme est d√©finitivement une nouvelle r√©alit√©. Ce qui √† premi√®re vue apporte des am√©liorations significatives. Au moins 2 nouvelles familles de puces du plus grand fabricant de BLE au monde fonctionnent pr√©cis√©ment et uniquement sur cette technologie et aucun retour n'est attendu. √Ä mon avis, c'est une r√©volution qui a √©t√© pr√©par√©e √† l'avance.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mise √† jour</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Le 14 mai, Nordic a organis√© un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webinaire sur le nouveau SDK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans lequel il a annonc√© que toutes les versions de BLE ant√©rieures √† 5.0 ne seront disponibles que dans le SDK nRF Connect. </font><font style="vertical-align: inherit;">En cons√©quence, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Directino Finding</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aka AoA / AoD (BLE 5.1) et </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE Audio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (BLE 5.2), que beaucoup attendent, apporteront avec eux de nouveaux outils cette ann√©e et les changements de d√©veloppement arriveront plus t√¥t que pr√©vu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©sultats:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les changements sont radicaux, le code fonctionnant avec le SDK nRF5 actuel n'est pas compatible avec le nouveau (SDK nRF Connect)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le passage √† RTOS avec Devicetree et KConfig vous permet d'obtenir un niveau d'abstraction suppl√©mentaire pour le mat√©riel, ce qui acc√©l√®re consid√©rablement le d√©veloppement et le transfert du projet vers une nouvelle plate-forme</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le passage √† Zephyr permet de prendre en charge un grand nombre de protocoles et de biblioth√®ques pr√™ts √† l'emploi; pour les appareils IoT, les plus int√©ressants sont les fonctions r√©seau et de s√©curit√©, o√π Linux est traditionnellement fort</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zephyr OS utilise un certain nombre d'outils lors de l'assemblage, ce qui peut r√©duire consid√©rablement le temps d'assemblage et les besoins en m√©moire, ce qui est particuli√®rement important pour les applications int√©gr√©es</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nouveau SDK permet d'utiliser des d√©veloppeurs de niveau sup√©rieur, qui sont beaucoup plus sur le march√© que ceux de bas niveau. </font><font style="vertical-align: inherit;">Cela r√©sout le probl√®me du personnel et de l'augmentation des parts de march√©.</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr497022/index.html">Mise √† jour de l'acc√®s au r√©seau d'entreprise. Nouveaux commutateurs Gigabit ExtremeSwitching X435</a></li>
<li><a href="../fr497024/index.html">Pourquoi l'hyperconvergence? Pr√©sentation et tests de Cisco HyperFlex</a></li>
<li><a href="../fr497028/index.html">Bienvenue sur Robot Operating System MeetUp</a></li>
<li><a href="../fr497030/index.html">Exp√©rience dans la mise en ≈ìuvre d'usines de r√©seau bas√©es sur EVPN VXLAN et Cisco ACI et une petite comparaison</a></li>
<li><a href="../fr497032/index.html">Entreprise de services et crise: histoires de r√©ussite. Comment pensez-vous que vous sortez des sentiers battus?</a></li>
<li><a href="../fr497036/index.html">Quand arr√™ter le processus de reconnaissance de s√©quence vid√©o?</a></li>
<li><a href="../fr497040/index.html">Strat√©gie de croissance ax√©e sur les produits. Comment Miro grandit x3 chaque ann√©e</a></li>
<li><a href="../fr497046/index.html">Comment amener un site √† l'ouest dans TOP10 sans rien savoir du r√©f√©rencement</a></li>
<li><a href="../fr497050/index.html">TeamLead Conf 2020: principaux rapports</a></li>
<li><a href="../fr497052/index.html">Semaine de la s√©curit√© 16: xHelper - Trojan de survie Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>