<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👸 👩‍🎤 💓 時間、神経、工数を節約 🏔️ 🌉 🛠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私たちのプロジェクトは通常地域であり、顧客は通常省庁です。しかし、公共部門に加えて、民間組織も私たちのシステムを使用しています。実質的に問題ありません。
 
 ですから、主なプロジェクトは地域的なものであり、時には問題があります。たとえば、パフォーマンスが2万以上の地域では、貴重なユーザーが新機能を...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>時間、神経、工数を節約</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/barsgroup/blog/495942/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのプロジェクトは通常地域であり、顧客は通常省庁です。</font><font style="vertical-align: inherit;">しかし、公共部門に加えて、民間組織も私たちのシステムを使用しています。</font><font style="vertical-align: inherit;">実質的に問題ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ですから、主なプロジェクトは地域的なものであり、時には問題があります。</font><font style="vertical-align: inherit;">たとえば、パフォーマンスが2万以上の地域では、貴重なユーザーが新機能を製品サーバーに展開する時期にいます。</font><font style="vertical-align: inherit;">それは苦痛です... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の名前はルスランで、BARSグループの情報システムのエスコートと、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">残忍なシリアルDBAのためのキラーボットの開発</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に携わってい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">断食は心の弱い人のためではありません-多くの手紙と写真。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_2/kf/av/_2kfavets7hbt3nwzvy_bd9mqos.jpeg"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ awr</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のアプリケーションはOracle DBMSで実行されます。 PostgreSQL DBMSにはプロジェクトがあります。 Oracleには、DBMSの負荷に関する統計情報を収集するという素晴らしい機能があります。これにより、既存の問題が強調表示され、排除の推奨事項さえ提供されます-自動ワークロードリポジトリ（AWR）。ある時点（つまり、苦痛の時）に、開発者</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はパフォーマンス分析の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために</font><b><font style="vertical-align: inherit;">AWRレポート</font></b><font style="vertical-align: inherit;">を収集するよう常に求めていました</font><font style="vertical-align: inherit;">。私たちは正直にDBMSサーバーに行き、レポートを収集し、それらを私たちにドラッグして、分析のために本番に送信しました。 5回目から一度、それは緊張し始めました... 10回目以降-刺激を引き起こすために...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ある日、私の同僚の1人が、複数回行われるすべてのことを自動化するべきだという考えを表明しました。正直言って、煩わしい瞬間まで、私はそれについて考えず、自動化できるすべてのものを自動化しようとしましたが、多くの場合、それは需要がなく、適用されるよりも研究的でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「レポートを生成するのに管理者は必要ない...」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と思いました</font><font style="vertical-align: inherit;">。結局のところ、レポートを収集するには、SQLスクリプト@ $ ORACLE_HOME / rdbms / admin / awrrpt.sqlを実行して、サーバーから自分自身にレポートを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、必要な情報をグーグルで調べ、記事からテストベースで関数を作成し、スクリプトと奇跡を引き出しました。レポートが収集され、ローカルに保存できます。 AWRレポートが必要になることが多い関数を作成し、その使用方法を開発者に伝えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この頃、余暇には、@ BotFatherと話し合った後、楽しみのために自分用のTelegramボットを作成しました。私はそこに単純な機能をねじ込みました-現在の時間、為替レート、天気を表示するために、スケジュールに従って妻（当時は女の子）に褒め言葉を送るように彼に教えました。おそらく、当時、褒め言葉を送ることがボットの最も人気のある機能だったと妻は高く評価しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そう。開発者はTelegramで私たちに書き込み、レポートをTelegramで送信します...しかし、開発者が私たちではなくボットに書き込むとどうなりますか？確かに、それは誰にとってもより良いでしょう、レポートはより速く、そして最も重要なことに、私たちによって受信されます。それで、最初に求められていた機能のアイデアは、私のボットのために生まれました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実装を開始しました。私が管理したように、PHPでそれを行いました（実際のアプリケーションはPHPであり、Pythonよりも理解しています）。エンコーダはまあまあなので、コードは表示しません:) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボットは企業ネットワーク内にあり、ターゲットデータベースを含む特定のプロジェクトにアクセスできます。コマンドやメニューのパラメーターを気にしないように、この機能を監視通知付きのグループチャットにねじ込みました。したがって、ボットはレポートを収集するデータベースをすぐに認識します。</font><b><font style="vertical-align: inherit;">/ awr N</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
という形式のコマンドを受け取った</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで、Nは、レポートが必要な完全な時間の数（デフォルトでは1時間）です。1週間でも、データベースが再起動しない場合、ボットはすぐに動作を開始し、レポートを収集してWebページとして公開します（ほとんどすぐそこにあります）は、非常に必要なレポートへのリンクを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクをたどると、ここにAWRレポートがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/yr/tk/kiyrtktigm4qjsumovp2vl4roa0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
予想通り、開発者はこのレポート生成に対処しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チームの利便性を高く評価し、他の地域のプロジェクトマネージャーも同じことを望んでいました。</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何よりも、</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼ら</font><font style="vertical-align: inherit;">はシステムのパフォーマンスと可用性</font><s><font style="vertical-align: inherit;">を</font></s><font style="vertical-align: inherit;">心配</font><s><font style="vertical-align: inherit;">している顧客から</font></s><font style="vertical-align: inherit;">大</font><s><font style="vertical-align: inherit;">喜びして</font></s><font style="vertical-align: inherit;">います。他のチャットにボットを追加しました。彼らはまだそれを使用しており、私はそれを嬉しく思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、CITの同僚がレポートの収集方法について書きました。</font><font style="vertical-align: inherit;">私はそれらをチャットに追加しませんでした。スケジュールと要求に応じてレポートを生成する別のチャットを作成しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ pgBadger</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PHPには、PostgreSQLと連携した他のアプリケーションがあります。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じ原則でグループチャットで必要な人のためにpgBadgerレポートのコレクションを実装しました。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初はそれを使用しましたが、その後停止しました。</font><font style="vertical-align: inherit;">不要な機能をカット。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ 関税</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの部署には夜勤があり、それに応じてスケジュールがあります。</font><font style="vertical-align: inherit;">それはグーグルテーブルにあります。</font><font style="vertical-align: inherit;">リンクを探したり、スケジュールを開いたり、自分自身を探したりするのは必ずしも便利ではありません。以前の同僚の1人が彼のTelegramボットを使用して、部署の</font><b><font style="vertical-align: inherit;">従業員の勤務開始の通知に関する</font></b><font style="vertical-align: inherit;">部署のチャットに紹介しました</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボットはスケジュールを解析し、現在の日付でアテンダントを決定し、スケジュールまたは要求に応じて、今日の担当者を報告します。</font><font style="vertical-align: inherit;">それは素晴らしく、快適です。</font><font style="vertical-align: inherit;">確かに、私はメッセージ形式があまり好きではありませんでした。</font><font style="vertical-align: inherit;">また、別の部署（たとえば、「医療」ビジネスセンター）の従業員の場合、他の領域の当直人員に関する情報は実際には必要ありませんが、「薬」の当直人が問題を抱えている場合は誰であるかを知る必要があります。</font><font style="vertical-align: inherit;">機能を「借りる」ことを決めましたが、気に入らないものを変更しました。</font><font style="vertical-align: inherit;">自分や他の人にとって便利なメッセージ形式を作成し、冗長な情報を削除しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ tnls</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Telegramボットによる自動化の「ペンのテスト」の後、多くの異なるアイデアが現れましたが、私は厳密に必要なことをしたいと思いました。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アピールの統計</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を残すことにしました</font><b><font style="vertical-align: inherit;">。</font></b><font style="vertical-align: inherit;">お客様のプロジェクトにアクセスするために、いわゆる「ホップサーバー」または転送サーバーを実装しました。その上でVPN接続が確立され、ssh、アプリケーションポート、データベース、その他の補助プローブを通じてローカルネットワークに転送されるため、VPN接続に問題を生じることなく、従業員のプロジェクトに簡単にアクセスできます。企業ネットワークへのVPN接続を設定するだけで十分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
呼び出しの統計によると、トンネルの1つが落ちた後（ネットワークの問題が発生した場合、タイムアウトなど）、プロジェクトへのアクセスを回復しようとしていることがよくあります。</font><font style="vertical-align: inherit;">ほとんどの場合、接続を再起動するだけで十分であり、すべてが正常になります。</font><font style="vertical-align: inherit;">自分でやりましょう。</font><font style="vertical-align: inherit;">コマンドは次のとおりです</font></font><br>
<img src="https://habrastorage.org/webt/pq/th/ad/pqthadwkyi0tegqd7tn2qzrpxws.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。目的のメニュー項目に「フォールスルー」し、プロジェクトを選択</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
し、少し</font><font style="vertical-align: inherit;">待って、全員が満足して満足します... </font><font style="vertical-align: inherit;">コマンドを受信すると</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイトとビットの</font><font style="vertical-align: inherit;">わずかな動きによって</font><font style="vertical-align: inherit;">、ボットは転送サーバーに接続し、どの転送を再開する必要があるかを事前に知っています。そして彼の仕事をします-プロジェクトへの接続を復元します。</font><font style="vertical-align: inherit;">私はそのような問題を自分で解決するための指示を書きました。</font><font style="vertical-align: inherit;">そして、提供されたツールが機能しない場合にのみ連絡を受けました...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ ecp_to_pem</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、統計によると</font><font style="vertical-align: inherit;">、さまざまな統合の</font><font style="vertical-align: inherit;">ために、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crypto Proデジタル署名をpem形式</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">に変換する必要があることが多く</font><font style="vertical-align: inherit;">、多くの統合があります。タスク：コンテナーを取得し、それをP12FromGostCSPユーティリティがインストールされた（ちなみに、有料の）Windowsコンピューターにコピーし、それをpfxに変換し、OpenSSL（GOST暗号化のサポート付き）を使用してpfxをpemに変換します。あまり便利ではありませんが、指一本で欲しいです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleが再び助けになりました。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">親切な人のユーティリティを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見つけました</font><font style="vertical-align: inherit;">。 READMEに記載されているとおりに収集-獲得。彼はボットにユーティリティを使用するように教え、ほぼ瞬時に変換されました。</font></font><br>
<img src="https://habrastorage.org/webt/aq/qo/yu/aqqoyu8qmwsrjbske46acai6bie.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的な実装の時点で、新しい暗号化形式であるgost-2012に切り替えるように命令が出されました。</font><font style="vertical-align: inherit;">私が覚えている限りでは、その時点でのユーティリティは古いGOST（2001）でのみ機能しました。おそらくそれは別の善良な人の別の同様のユーティリティだったのかもしれませんが、正確には覚えていません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいGOSTへの移行後、ボットの機能はセキュリティ上の理由から削除されました。</font><font style="vertical-align: inherit;">Dockerコンテナに実装しました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerfile、突然必要な人：</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">FROM ubuntu:16.04                                                                                                                                                                        <font></font>
RUN apt update &amp;&amp; apt -y install git sudo wget unzip gcc g++ make &amp;&amp; \                       <font></font>
   cd /srv/ &amp;&amp; git clone https://github.com/kov-serg/get-cpcert.git &amp;&amp; \                    <font></font>
   cd get-cpcert &amp;&amp; chmod +x *.sh &amp;&amp; ./prepare.sh &amp;&amp; ./build.sh &amp;&amp; \                        <font></font>
   mkdir -p /srv/{in,out} &amp;&amp; \                                                              <font></font>
   echo '#!/bin/bash' &gt; /srv/getpem.sh &amp;&amp; \                                                 <font></font>
   echo 'cd /srv/get-cpcert' &gt;&gt; /srv/getpem.sh &amp;&amp; \                                         <font></font>
   echo './get-cpcert /srv/in/$CONT.000 $PASS &gt; /srv/out/$CONT.pem' &gt;&gt; /srv/getpem.sh &amp;&amp; \  <font></font>
   chmod +x /srv/getpem.sh                                                                  ENTRYPOINT /srv/getpem.sh</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変換するには、ソースコンテナ（xxx.000形式のディレクトリ）を/ srv / inディレクトリに配置し、完成したpemを/ srv / outに取得する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変換する：</font></font><br>
<br>
<pre><code class="plaintext hljs"> docker run -t -i -e CONT='&lt;   ( ".000")&gt;' -e PASS='&lt;  &gt;' -v /srv/in:/srv/in -v /srv/out:/srv/out --name ecptopem &lt;  &gt;/med/ecptopem:latest </code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ emstopおよび/ emstart</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
かつて、私たちの会社は、DBMSの管理と開発の経験が豊富な非常に優れたOracle DBAを手に入れました。また、DBMSサーバーへのssh接続ではすぐには起こりませんでした。接続先と接続方法がわからないため、アクセスが明確に記述されていないため、何かを自分自身に転送することは不可能です。さて、私たちは喜んでお手伝いし、接続方法について話し、Enterprise Managerを転送しました。しかし、sshを使用しても問題は解決しませんでした。同僚の1人が簡単に説明しました：DBAサラブレッド:)サーバー上で何かを強化する必要があるかどうかを決定しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EMは高負荷でクラッシュし、再起動します... ssh経由で接続し、ターミナルから再起動する必要があります。</font><font style="vertical-align: inherit;">「管理者はこれをよく知っています」と私たちの新しい同僚は決めました。</font><font style="vertical-align: inherit;">DBMSへの大きな負荷は珍しいことではなく、EMの再起動の要求も頻繁にあります。</font><font style="vertical-align: inherit;">次に、同じシナリオ：緊張、刺激、問題の解決策の検索。</font><font style="vertical-align: inherit;">そのため、同じグループのチャットにコマンド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ emstopおよび/ emstartが現れました。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/kk/yd/8j/kkyd8jikdyflvrkkoqvyens8dym.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ 殺します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基地で激しい競争があり、これが時々発生する場合、データベースをすばやくアンロードする必要があります。</font><font style="vertical-align: inherit;">最速の方法は、問題のあるプロセスをkillすることです...これを行うには、sshを介して接続し、-9をkillします...ボットが役立ちます！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jb/8q/cs/jb8qcsft8ce6jp5e7rijqtvcjti.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アレクセイはチームに感謝し、愛情のこもった名前を付けました- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Kilyalka」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または銃。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alexがどのようにして苦しんでいるかを確認した後、プロセスごとにxxxを入力/強制終了するたびに、銃に「多国間主義」を追加することにし</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5d/sc/kh/5dsckh_3qe5lhmvhop1pmxkt1hk.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ました。</font><font style="vertical-align: inherit;">あなたのためのすべて、アレックス、ただ働いて、親愛なる！</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然のことながら、そのような重要なコマンドへのアクセスは</font><b><font style="vertical-align: inherit;">、user_id-"愚か者からの保護"によって</font></b><font style="vertical-align: inherit;">制限</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">されていました。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leshaがデータベースサーバーのプロセスを巧みに巧みに釘付けにしたのを見て、何人かの人々がランダムなプロセス番号でコマンドを入力しようとしましたが、私のスマートボットを騙すことはできず、彼はすぐに拒否しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/アラートログ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">念の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために、次のコマンドを実行しました：</font><b><font style="vertical-align: inherit;">/ alertlog &lt;number of lines&gt;</font></b><font style="vertical-align: inherit;"> -指定された行数を取得しますalertlog'a </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボットはアラートログをプルし、pysteと呼ばれるペーストビンなどのサービスに送信して、リクエストチャットへのペーストへのリンクを送信します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/チェック</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アプリケーションの実際のパフォーマンス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">監視</font></b><font style="vertical-align: inherit;">する要求が出されました</font><b><font style="vertical-align: inherit;">。</font></b><font style="vertical-align: inherit;">これまで、プロジェクトのテクニカルサポートがこのデータを手動で収集してきました。契約ではありません！私たちの勇敢なテスターは、このためのテストケースを開発しました。結果のテストログは読むのにあまり便利ではありません。経験の浅いユーザーは、必要な情報を強調するという事実ではなく、長い間理解します。そして、手ではできないことを手で行うのは好きではありません...ボットの新しいタスクです！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/--/u6/1l/--u61ld0yk0fljkwuerjn3g8zsa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ checksコマンドは、わかりやすく明確なメニューを表示します。今回は、指示なしにこのコマンドを使用する方法を学びました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メニューではなく目的の項目を選択すると、テストの開始について通知が表示されるため、イライラしたユーザーがテストを100500回実行することはありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j7/xv/sv/j7xvsv_byo8gdw7y3qweig15msq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
選択したメニュー項目に応じて、特定のテストがネットワークから起動されます。つまり、ボットが存在するマシン（jmeterがそこで事前設定され、必要なテストが配置されます...）から、またはデータセンターからすぐに（アプリケーションの横にある準備されたマシンから）起動します。ネットワークの遅延をなくすか、最小限に抑えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストを完了してログを受け取った後、ボットはそれを解析し、「人間が読める」形式で結果を表示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7w/xp/s8/7wxps8jupg80bbq_uuywyz1-gag.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メトリックコレクション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能が「開始」され、プロジェクトマネージャーが地域でこのような機能を受け取りました。そして、思いやりのあるプロジェクトマネージャーの1人は、「時間に関する統計情報が欲しい」と言いました。 CITの誰かが、Zabbixでこれをすべて監視すると便利だと彼女に話しました。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zabbix、それでZabbix ...</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ソリューションを複製する必要性に備える必要があると思いました...私はDockerコンテナーでアイデアを設計しました。コンテナーでは、スケジュールに従って（10分ごと）、jmeterが起動し、ログを特定の場所に追加し、phpがログを解析して、必要なデータをWebページの形式で表示します。 Zabbixはweb.page.getキーを使用してこのページを取得し、特定の依存要素に必要なデータを定期的に選択してグラフを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/aq/cd/oqaqcdqj2mjodianmnwmrucyix8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは悪くないことが判明したようです。</font><font style="vertical-align: inherit;">グラフを観察すると、最初にアプリケーションのおおよその速度がわかります。グラフでピークが検出された場合は、「プラグ」がどこにあるかがおおよそわかります。</font><font style="vertical-align: inherit;">すべてが簡単です。</font><font style="vertical-align: inherit;">これまでのところ、1つの地域でのみ需要があることが判明していますが、希望する人のために複製する準備ができています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーション開発</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じタイプのタスクに関する統計は、少し前まで、作業を簡素化および促進するためのアイデアを投げ出しました。一部のプロジェクトでは、アプリケーションサーバーで、Crypto Proの主要なコンテナーをインストールする必要があり、それらの多くがあり、デジタル署名は時間の経過とともに期限切れになります。 1日に2つのタスクが「ハエ」になることがあります。しかし、ボットをこれらの目的で使用することは危険であると考え、アプリケーションで直接機能を実行することにしました。当然、承認とアクセス制御を備えています。必要な権限がある場合は、デジタル署名の操作、インストール、削除、情報の表示などを行うための追加のメニュー項目を利用できます。...現在、機能は開発中です。結局のところ、これはそれほど難しくはありません。手順を少し読んで、コード例を見て、開発中のより経験豊富な同僚に尋ねる必要があります。研究の過程で、アプリケーションに追加するためのアイデアが現れました。私はナポレオンの計画を立てません-開発があります、みんなに自分のことをさせてください。しかし、今のところ興味深いです-私は自分でやっています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">予定</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前述のように、ボットを使用するためにさまざまなアイデアが生まれました。たとえば、「自動化ポイント」のアイデアだけではなく、書き留める時間がなかったために、その多くが忘れられていました。</font><font style="vertical-align: inherit;">今私は頭に浮かぶすべてを書き留めようとします、そして私は他の人が同じことをすることを勧めます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、アレックスは彼のウィッシュリストを投げることを忘れません。</font><font style="vertical-align: inherit;">後者の場合：</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ kill_sql SQL_ID-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このようなSQL_IDクエリですべてのセッションを終了します</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ kill_block-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルートブロッキングセッションを終了します</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ show_em-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンスの写真を表示しますEM </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トリック、電話からDBAスティッチを実行します=）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが祖国のために働く方法です！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、どのようにして日常的で面白くない仕事から身を守りますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読書がおもしろく、多分誰かにとっても役立つかもしれないと私は願っています、そして私は読者を疲れさせることができませんでした...私たち全員に幸運を。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja495924/index.html">優れたCOVID-19配布モデルを構築することがそれほど難しいのはなぜですか？</a></li>
<li><a href="../ja495926/index.html">ZigbeeリレーSonoff BASICZBR3（ds18b20センサー付き）のZ-Stack 3.0上のTI cc2530のファームウェアを作成しています</a></li>
<li><a href="../ja495932/index.html">SCRUMガイドで著者の隠された意味は何ですか？パート1.プロセスについて</a></li>
<li><a href="../ja495934/index.html">家庭でのDataGovernance</a></li>
<li><a href="../ja495938/index.html">機械学習に関する一連の記事：2020年3月の事例、ガイド、および研究</a></li>
<li><a href="../ja495944/index.html">更新されたTOP50（CISスーパーコンピューターの評価）：ダイナミクスとトレンド</a></li>
<li><a href="../ja495946/index.html">ノーベルト・ウィーナー：サイバネティックスの気が散る父</a></li>
<li><a href="../ja495948/index.html">Rust Embedded。STM32F103C8T6（Black Pill）デバッグボードを使用したCortex-M3プロセッサの開発</a></li>
<li><a href="../ja495954/index.html">シスコは、リモートアクセスモードで不在の境界で20年間どのように動作していますか？</a></li>
<li><a href="../ja495956/index.html">早く行かなきゃ IMAPメールコンテンツリクエストの最適化</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>