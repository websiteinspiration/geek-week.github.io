<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèΩ üöµüèº ü•ñ Acerca de los m√©todos mutables de un objeto matem√°tico en JavaScript üò¥ üë®üèø‚Äçüç≥ üèê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoy publicamos una traducci√≥n de un art√≠culo sobre c√°lculos matem√°ticos en JavaScript, que es una versi√≥n escrita de la presentaci√≥n de su autor en Wa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Acerca de los m√©todos mutables de un objeto matem√°tico en JavaScript</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/489826/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hoy publicamos una traducci√≥n de un art√≠culo sobre c√°lculos matem√°ticos en JavaScript, que es una versi√≥n escrita de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">presentaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de su autor en </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">WaffleJS</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Y esta declaraci√≥n en s√≠ misma fue una continuaci√≥n de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conversaci√≥n en Twitter.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c50/bea/705/c50bea705dc18becfec75951a06de4df.jpg"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Educaci√≥n matem√°tica</font></font></font></i><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inter√©s en las matem√°ticas</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo comenz√≥ con mi educaci√≥n matem√°tica, con el recibo que retras√© un poco. Cuando estudi√© ciencias de la computaci√≥n, pude comunicarme con maestros de matem√°ticas de clase mundial, pero perd√≠ esta oportunidad. No me gustaban las matem√°ticas: los temas estudiados estaban muy lejos de la pr√°ctica. Adem√°s, ya estaba fuera de balance por un programa profundamente te√≥rico de capacitaci√≥n en inform√°tica. Entonces cre√≠ que estaba divorciada de la vida y, en su mayor parte, sigo pensando que s√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero ahora, unos a√±os despu√©s de completar mis estudios, una sed de aprender matem√°ticas despert√≥ en m√≠. Me inspir√≥ el efecto que incluso una peque√±a aplicaci√≥n de conocimiento matem√°tico puede tener en mi trabajo y en mi pasatiempo. Pero no ten√≠a un plan de estudio claro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego, en 2012, encontr√© una manera de estudiar matem√°ticas comenzando a trabajar en el proyecto de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estad√≠sticas simples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Desde entonces he expandido y apoyado este proyecto. Ahora incluye implementaciones de muchos algoritmos, result√≥ ser una de las </font><font style="vertical-align: inherit;">bibliotecas de JavaScript matem√°ticas </font><font style="vertical-align: inherit;">m√°s " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estrelladas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Y, aparentemente, la gente realmente usa esta biblioteca. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero empec√© a trabajar en 2012. Si hablamos sobre c√≥mo la tecnolog√≠a ha cambiado durante este tiempo, entonces fue hace mucho, mucho tiempo. Desde entonces, 8 lanzamientos LTS de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> han sido puestos en libertad </font><font style="vertical-align: inherit;">. Desde entonces, JavaSript y los entornos en los que funcionan los programas escritos en este lenguaje han cambiado mucho. En 2012, la biblioteca React a√∫n no exist√≠a, entonces el primer compromiso con el proyecto Babel a√∫n no se hab√≠a realizado.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d8/832/415/5d8832415ee3bf56c1f3a18e294f39fb.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El paso del tiempo</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A lo largo de los a√±os, not√© que mis pruebas fallaban al actualizar Node.js. </font><font style="vertical-align: inherit;">Por ejemplo, podr√≠a tener algo como esta prueba:</font></font><br>
<br>
<pre><code class="javascript hljs">t.equal(ss.gamma(<span class="hljs-number">11.54</span>), <span class="hljs-number">13098426.039156161</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta prueba funciona bien en Node.js v10, pero se rompe en Node.js v12. </font><font style="vertical-align: inherit;">Y aqu√≠ no se prueba un m√©todo s√∫per complicado: la funci√≥n se </font></font><code>gamma</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementa utilizando funciones est√°ndar de JavaScript </font></font><code>Math.pow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Math.sqrt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>Math.sin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aritm√©tica</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√© lo que puedes pensar aqu√≠: aritm√©tica. </font><font style="vertical-align: inherit;">En Twitter, las acaloradas discusiones estallan peri√≥dicamente debido a los resultados del c√°lculo de la siguiente expresi√≥n:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> = <span class="hljs-number">0.30000000000000004</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, como ya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escrib√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , todos los lenguajes de programaci√≥n populares se comportan de esta manera, incluso los antiguos y pedantes como Haskell. </font><font style="vertical-align: inherit;">La aritm√©tica de punto flotante puede parecer extra√±a, pero se comportan igual, su comportamiento est√° bien documentado. </font><font style="vertical-align: inherit;">Es decir, estamos hablando del est√°ndar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IEEE 754</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cuyos requisitos se implementan estrictamente en lenguajes de programaci√≥n. </font><font style="vertical-align: inherit;">Entonces, el problema no est√° en la aritm√©tica: la implementaci√≥n de la suma, la resta, la divisi√≥n y la multiplicaci√≥n en lenguajes, la programaci√≥n se puede decir que est√° "tallada en piedra".</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objeto matem√°tico</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mi problema estaba en el objeto est√°ndar de JavaScript </font></font><code>Math</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En particular, en todos los </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todos de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> este objeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
T√©cnicas tales como </font></font><code>Math.sin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Math.cos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Math.exp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Math.pow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Math.tan</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- es los ingredientes b√°sicos para </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geom√©tricas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c√°lculos y otros. </font><font style="vertical-align: inherit;">Cuando entend√≠ esto, comenc√© a estudiar por separado los cambios en el comportamiento de los m√©todos b√°sicos del objeto </font></font><code>Math</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en diferentes versiones de Node.js. </font><font style="vertical-align: inherit;">Aqu√≠ hay unos ejemplos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calculo </font></font><code>Math.tanh(0.1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Node 4</span>
<span class="hljs-number">0.09966799462495590234</span>
<span class="hljs-comment">// Node 6</span>
<span class="hljs-number">0.09966799462495581907</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calculo </font></font><code>Math.pow(1/3, 3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Node 10</span>
<span class="hljs-number">0.03703703703703703498</span>
<span class="hljs-comment">// Node 12</span>
<span class="hljs-number">0.03703703703703702804</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peor a√∫n, este problema no solo es aparente en Node.js. </font><font style="vertical-align: inherit;">Lo mismo sucede en los navegadores y en otros entornos que admiten JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto nos lleva a la siguiente pregunta: ¬øqu√© es el c√°lculo matem√°tico?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a45/45e/f7c/a4545ef7cf6e282546aee3ea506d762f.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Representaci√≥n gr√°fica de los c√°lculos Los</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
m√©todos trigonom√©tricos son f√°ciles de visualizar. Si tienes un solo c√≠rculo y varios meses de secundaria a tu disposici√≥n, entonces sabes que el coseno y el seno son las coordenadas de cierto punto en el borde del c√≠rculo, y que las gr√°ficas de las funciones pecado y cos parecen ondas. De hecho, en la escuela secundaria est√°n estudiando c√≥mo obtener estos valores, pero el m√©todo utilizado para esto, la</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> serie Taylor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , se basa en una serie infinita, y no es f√°cil para una computadora resolver tales problemas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto es lo que puedes aprender de</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con respecto al algoritmo de c√°lculo de seno: ‚ÄúNo existe un algoritmo est√°ndar para calcular el seno. IEEE 754-2008, el est√°ndar m√°s utilizado para c√°lculos de coma flotante, no afecta el c√°lculo de funciones trigonom√©tricas como un seno ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las computadoras usan muchas aproximaciones y algoritmos diferentes para realizar c√°lculos, algo as√≠ como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CORDIC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , todo tipo de trucos dif√≠ciles y tablas de b√∫squeda. Toda esta heterogeneidad explica la presencia de muchas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bibliotecas de matem√°ticas r√°pidas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en GitHub </font><font style="vertical-align: inherit;">. El hecho es que hay muchas formas de implementar el m√©todo </font></font><code>Math.sin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Y otras funciones tambi√©n. Por ejemplo, como sabes, Quake III Arena us√≥ un equipo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√°s r√°pido</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reemplazando el m√©todo est√°ndar de c√°lculo de la ra√≠z cuadrada inversa para acelerar el renderizado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, los c√°lculos matem√°ticos son el resultado de la implementaci√≥n de ciertos algoritmos. En la pr√°ctica, se utilizan muchos algoritmos comunes y sus variantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La especificaci√≥n de JavaScript, en lugar de especificar qu√© algoritmo particular usar en implementaciones de lenguaje, les da mucho margen de maniobra a las implementaciones en t√©rminos de funciones utilizadas en los c√°lculos matem√°ticos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto es lo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dice el </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">est√°ndar</font></a><font style="vertical-align: inherit;"> sobre esto </font><font style="vertical-align: inherit;">(ECMA-262, edici√≥n 10, secci√≥n 20.2.2):</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"El comportamiento de las funciones acos, acosh, asin, asinh, atan, atanh, atan2, cbrt, cos, cosh, exp, expm1, hypot, log, log1p, log2, log10, pow, random, sin, sinh, sqrt, tan y tanh no se describe completamente aqu√≠, con la excepci√≥n de los requisitos para la devoluci√≥n de ciertos resultados para valores espec√≠ficos de los argumentos, que son casos l√≠mite notables ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No s√© c√≥mo funcionan las actividades internas de los miembros del comit√© responsable del est√°ndar ECMA-262, pero creo que hicieron el est√°ndar para que no hubiera una crisis de compatibilidad en JavaScript si Intel o AMD emitieran nuevas instrucciones matem√°ticas ultrarr√°pidas en sus procesadores frescos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido al hecho de que hay muchos int√©rpretes de JavaScript ampliamente utilizados, debido al hecho de que JavaScript se usa a menudo en los navegadores, y entre los navegadores todav√≠a hay algo parecido a la competencia, y al hecho de que incluso las implementaciones populares de JavaScript est√°n bajo presi√≥n constante y obligados a evolucionar r√°pidamente, proporcionando el mejor rendimiento ... debido a todo esto, tenemos lo que tenemos. </font><font style="vertical-align: inherit;">Cualquiera que use JavaScript encontrar√° regularmente el hecho de que en diferentes implementaciones los resultados de los c√°lculos matem√°ticos realizados por medio del objeto </font></font><code>Math</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">son diferentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto no es tan significativo en otros lenguajes interpretados, ya que generalmente tienen algunas implementaciones "can√≥nicas". </font><font style="vertical-align: inherit;">Por ejemplo, esto es cierto para el int√©rprete de Python.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øD√≥nde se realizan los c√°lculos?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora echemos un vistazo m√°s de cerca exactamente donde se realizan los c√°lculos. </font><font style="vertical-align: inherit;">En el caso de JavaScript, hay tres √°reas en las que se realizan c√°lculos matem√°ticos b√°sicos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPC.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int√©rprete de lenguaje (c√≥digo C ++ y C de una implementaci√≥n espec√≠fica de JavaScript).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo JavaScript, por ejemplo, c√≥digo para bibliotecas especializadas.</font></font></li>
</ol><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç1. </font><font style="vertical-align: inherit;">UPC</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera idea que se me ocurri√≥ cuando pens√© en los lugares donde se realizan los c√°lculos fue que los c√°lculos se realizan en el procesador. Suger√≠ que, dado que los procesadores implementan c√°lculos aritm√©ticos, tambi√©n pueden implementar algunos c√°lculos m√°s complejos. Result√≥ que los procesadores tienen instrucciones para realizar c√°lculos trigonom√©tricos y de otro tipo, pero estas instrucciones rara vez se usan. Por ejemplo, la implementaci√≥n del c√°lculo de seno en procesadores con arquitectura x86 no fue muy popular, ya que esta implementaci√≥n no necesariamente resulta ser m√°s r√°pida que las implementaciones de software (aquellas que usan operaciones aritm√©ticas de procesador). Adem√°s, no es necesariamente m√°s preciso que las implementaciones de software. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Intel tambi√©n sufri√≥ una verg√ºenza debido a la muy fuerte</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobreestimaci√≥n de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> precisi√≥n de las operaciones trigonom√©tricas en la documentaci√≥n. </font><font style="vertical-align: inherit;">Tales errores son especialmente tr√°gicos debido al hecho de que un microchip, a diferencia de un programa, no puede ser parcheado.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç2. </font><font style="vertical-align: inherit;">Int√©rprete de idiomas</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ es como funcionan los subsistemas inform√°ticos en la mayor√≠a de las implementaciones de JavaScript. </font><font style="vertical-align: inherit;">Implementan estos subsistemas de varias maneras.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los motores V8 y SpiderMonkey usan puertos de biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fdlibm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para los c√°lculos </font><font style="vertical-align: inherit;">, que son ligeramente diferentes. </font><font style="vertical-align: inherit;">Esta biblioteca, originalmente escrita en Sun Microsystems, se ha transmitido de generaci√≥n en generaci√≥n.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScriptCore (Safari) usa la biblioteca cmath para realizar la mayor√≠a de las operaciones.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet Explorer usa cmath y algunos bloques de c√≥digo escritos en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ensamblador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Aqu√≠ incluso se utilizaron m√©todos trigonom√©tricos de procesadores, en el caso de que el navegador se compilara para procesadores que ten√≠an instrucciones similares.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por razones hist√≥ricas, las herramientas utilizadas para realizar c√°lculos en diferentes motores JS han cambiado. </font><font style="vertical-align: inherit;">Entonces, V8 us√≥ su propia soluci√≥n para los c√°lculos, luego us√≥ el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puerto JavaScript</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fdlibm, y solo entonces la versi√≥n C de fdlibm.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç ¬øPor qu√© es esto un problema?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El punto aqu√≠ es que todo esto reduce la capacidad de JavaScript para producir resultados uniformes en la resoluci√≥n de cualquier problema que implique c√°lculos matem√°ticos. </font><font style="vertical-align: inherit;">Esto es especialmente dif√≠cil en Data Science. </font><font style="vertical-align: inherit;">Me gustar√≠a que JavaScript sea m√°s adecuado para hacer c√°lculos de Data Science en un navegador. </font><font style="vertical-align: inherit;">Adem√°s, la incapacidad de producir resultados uniformes significa el agravamiento de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la crisis de reproducibilidad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que es caracter√≠stica de todas las ciencias. </font><font style="vertical-align: inherit;">Esto sin mencionar otros problemas de JavaScript, como las caracter√≠sticas de escribir n√∫meros y la falta de una biblioteca ampliamente utilizada para trabajar con marcos de datos.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç3. </font><font style="vertical-align: inherit;">Usando bibliotecas especializadas</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay una forma confiable de hacer los c√°lculos en JavaScript. Consiste en utilizar bibliotecas especializadas. Entonces, la biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stdlib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> implementa c√°lculos de alto nivel utilizando solo operaciones aritm√©ticas. Los c√°lculos aritm√©ticos se describen completamente en las especificaciones, son est√°ndar, por lo que los resultados devueltos por stdlib nos dan, independientemente de la plataforma en la que se ejecuta el c√≥digo, resultados completamente uniformes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto se logra a costa de la complejidad y la velocidad de las decisiones. Los m√©todos stdlib no son tan r√°pidos como los m√©todos integrados. Adem√°s, para "solo contar el seno", debe conectar una biblioteca completa al proyecto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, si piensas m√°s ampliamente, esto es completamente normal. La plataforma WebAssembly, por ejemplo, no le da al programador ning√∫n medio para realizar c√°lculos matem√°ticos de alto nivel. En la documentaci√≥n para ello, se recomienda que incluya independientemente implementaciones de los mecanismos correspondientes en sus propios m√≥dulos: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚ÄúWebAssembly no incluye sus propias implementaciones de funciones matem√°ticas, como sin, cos, exp, pow, etc. La estrategia de WebAssembly para tales funciones es permitir que los desarrolladores las implementen como herramientas de biblioteca en la plataforma WebAssembly (tenga en cuenta que las instrucciones sin y cos de la plataforma x86 son lentas e inexactas, y en estos d√≠as, de todos modos, intenta no usar) ".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ es como siempre han funcionado los lenguajes compilados: al compilar un programa escrito en C, los m√©todos importados </font></font><code>math.h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se incluyen en el programa compilado.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando el valor epsilon</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si alguien no desea incluir la biblioteca stdlib en su proyecto de JavaScript para realizar c√°lculos, pero necesita probar el c√≥digo que realiza algunos c√°lculos complejos, entonces probablemente deber√≠a recurrir al m√©todo que ya se utiliza en la biblioteca de estad√≠sticas simples. Se trata de utilizar un valor </font></font><code>epsilon</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que defina los l√≠mites dentro de los cuales no se tienen en cuenta las diferencias en los n√∫meros. Si consideramos las </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opciones para</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usar el s√≠mbolo √©psilon en matem√°ticas, entonces podemos decir que estoy hablando de √©l como un "peque√±o valor positivo arbitrario". Simple-statistics </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utiliza</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> el valor √©psilon de igual </font></font><code>0.0001</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si necesita averiguar si dos n√∫meros son iguales, se verifica una condici√≥n del formulario</font></font><code>Math.abs(result ‚Äî expected) &lt; epsilon</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si esta condici√≥n resulta ser cierta, entonces podemos decir que la diferencia entre los n√∫meros cae dentro del rango dado y considerarlos iguales.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adiciones</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç precisi√≥n</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los comentaristas en Twitter indicaron que las variaciones en los resultados obtenidos en el ejemplo est√°n fuera del rango de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√≠gitos significativos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del n√∫mero de coma flotante. </font><font style="vertical-align: inherit;">Desde un punto de vista t√©cnico, esto es correcto, y esto significa que puede encontrar una forma m√°s precisa de comparar n√∫meros que la que usa el valor </font></font><code>epsilon</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pero en la pr√°ctica, la misma historia aqu√≠: los n√∫meros al final del n√∫mero afectan el resultado e introducen imprecisiones en el resultado final. </font><font style="vertical-align: inherit;">Adem√°s, los ejemplos dados aqu√≠ no son exhaustivos. </font><font style="vertical-align: inherit;">El hecho es que las caracter√≠sticas de implementaci√≥n de los int√©rpretes de JavaScript pueden, sin apartarse de la especificaci√≥n, dar lugar a la aparici√≥n de diferencias en la mayor√≠a de los resultados num√©ricos.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçJavaScript</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No quiero criticar JavaScript. </font><font style="vertical-align: inherit;">Creo que JavaScript hizo un compromiso justificable, teniendo en cuenta la incertidumbre del futuro y la cantidad de plataformas en las que se crean las implementaciones de lenguaje. </font><font style="vertical-align: inherit;">Debo decir que es muy dif√≠cil comparar directamente JavaScript y otros idiomas. </font><font style="vertical-align: inherit;">El punto es el ecosistema de JavaScript. </font><font style="vertical-align: inherit;">El hecho de que al mismo tiempo haya muchos int√©rpretes del mismo idioma es completamente at√≠pico para otros idiomas. </font><font style="vertical-align: inherit;">Y esto, adem√°s, es una de las principales fortalezas de JavaScript. </font><font style="vertical-align: inherit;">Adem√°s, uno no puede dejar de decir que estos son fen√≥menos de un plan completamente diferente a los que ocurren en el lenguaje mismo. </font><font style="vertical-align: inherit;">Y JavaScript cambia con el tiempo y aparecen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muchas cosas buenas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TdStdlib o epsilon?</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creo que en la pr√°ctica, en la mayor√≠a de los casos, vale la pena usar el enfoque que implica el uso del valor √©psilon. </font><font style="vertical-align: inherit;">La biblioteca stdlib es una herramienta poderosa y maravillosa, pero el precio de incluir una biblioteca adicional para c√°lculos matem√°ticos en el proyecto puede ser bastante alto. </font><font style="vertical-align: inherit;">Y en la mayor√≠a de los casos, las peque√±as discrepancias en los resultados de los c√°lculos no son importantes para las aplicaciones.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ me gustar√≠a sacar conclusiones de lo anterior y compartir algunas ideas.</font></font><br>
<br>
<ol>
<li>,     ,   ,    .         .     ‚Äî    ¬´ ¬ª. ,   ,   ,   <code>Math.sin</code>   ,   ,      ,      .      ,   ,      ,   ,   ,   .    ,       ,   ,       .</li>
<li>      . ,   ,       Node.js,         ,    ,     simply-statistics.    ,    , ,     ,      .  ‚Äî    .</li>
<li>  ,    .    V8,      ,   .    ,    .    , ,         ,     .</li>
</ol><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Queridos lectores! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øHa encontrado problemas con respecto a los cambios en los resultados de los c√°lculos al actualizar a nuevas versiones de Node.js?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489812/index.html">Configurar LDAP en Oracle BI</a></li>
<li><a href="../es489818/index.html">JavaScript y m√°s: 4 enfoques creativos para medir el tiempo en los navegadores</a></li>
<li><a href="../es489820/index.html">Estilizar el viejo elemento de bot√≥n</a></li>
<li><a href="../es489822/index.html">Generando n√∫meros pseudoaleatorios usando un aut√≥mata celular: Regla 30</a></li>
<li><a href="../es489824/index.html">7 herramientas de monitoreo de seguridad en la nube de c√≥digo abierto que vale la pena conocer</a></li>
<li><a href="../es489828/index.html">Trabajando con GeoJSON en Node.js: una introducci√≥n pr√°ctica</a></li>
<li><a href="../es489832/index.html">Cuentas at√≥micas hechas por el hombre: manipulaciones con macrociclos</a></li>
<li><a href="../es489834/index.html">Incruste su dispositivo Smart Home en el ecosistema SmartThings</a></li>
<li><a href="../es489836/index.html">Lidares del futuro: 11,000 l√°seres en lugar de 128</a></li>
<li><a href="../es489838/index.html">Fuga de memoria del lado del servidor Nuxt mediante SSR (representaci√≥n del lado del servidor)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>