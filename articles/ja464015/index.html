<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🎤 💽 😻 WindowsにOpenCV + CUDAをインストールする 🏴 🎽 👩🏿‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前書き
 この記事では、Windows上の追加のCUDA 10モジュールを含むソースファイルからのC / C ++、Python 2およびPython 3用のOpenCV 4のアセンブリとインストールに焦点を当てます。 インストール中に遭遇する可能性のあるすべての繊細さとニュアンスをここに含めようと...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>WindowsにOpenCV + CUDAをインストールする</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464015/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">Windows</font></i><font style="vertical-align: inherit;">上の</font><font style="vertical-align: inherit;">追加の</font><i><font style="vertical-align: inherit;">CUDA 10</font></i><font style="vertical-align: inherit;">モジュール</font><font style="vertical-align: inherit;">を含む</font><font style="vertical-align: inherit;">ソースファイルからの</font><i><font style="vertical-align: inherit;">C / C ++</font></i><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">Python 2</font></i><font style="vertical-align: inherit;">および</font><i><font style="vertical-align: inherit;">Python 3</font></i><font style="vertical-align: inherit;">用</font><font style="vertical-align: inherit;">の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV 4の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブリとインストールに焦点を当て</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
インストール中に遭遇する可能性のあるすべての繊細さとニュアンスをここに含めようとしましたが、それについては</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">公式マニュアルに</font></a><font style="vertical-align: inherit;">は記載されていません</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<img src="https://habrastorage.org/webt/sz/2t/4w/sz2t4w5o4_ijeltgbajfkopxx0a.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アセンブリは以下についてテストされました。</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 8.1 + Visual Studio 2017 + Python 2/3 + CUDA 10.0 + GeForce 840m</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 10 + Visual Studio 2019 + Python 2/3 + CUDA 10.0 + GeForce GTX 1060</font></font></i></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビルドは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV 4.0.1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および/または</font><font style="vertical-align: inherit;">バージョン10より前の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョンで</font><font style="vertical-align: inherit;">は機能しません</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA 9 </font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前はOpenCV 3で</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サポートされてい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストールする必要があるもの</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のツールが私のアセンブリで使用されました：</font></font><br>
<br>
<ol>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake 3.15</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSのVisual Studio 2019</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の64ビット+ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMakeのC ++</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツール</font><font style="vertical-align: inherit;">のため</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のWindows</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 3.7.3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 64ビット+ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumPy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 64ビット</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 2.7.16</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 64ビット+ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumPy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 64ビット</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA 10.0</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CuDNN 7.6.2</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV 4.1.1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV-contrib-4.1.1</font></font></i></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取り付け</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールはコンソールコマンドを使用して行われるため、すべての手順を注意深く正確に実行する必要があります。</font><font style="vertical-align: inherit;">また、必要に応じて、インストールパスを独自のパスに変更します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、必要なソフトウェアをインストールする必要があり、</font><i><font style="vertical-align: inherit;">CUDAの</font></i><font style="vertical-align: inherit;">前に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をインストールする必要が</font><font style="vertical-align: inherit;">あります</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（バージョン&gt; = 3.9.1）</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS Visual Studio</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 3.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Anaconda3ディストリビューション）</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUDA 10.0</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CuDNN 7.6.2</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのコンポーネントをインストールしたら、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake、Visual Studio、Python、CUDA、CuDNNの</font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が変数</font><i><font style="vertical-align: inherit;">PATH、PYTHONPATH、CUDA_PATH</font></i><font style="vertical-align: inherit;">、および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cudnnに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それぞれ</font><font style="vertical-align: inherit;">書き込まれている</font><i><font style="vertical-align: inherit;">ことを確認</font></i><font style="vertical-align: inherit;">して</font><i><font style="vertical-align: inherit;">ください</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opencv-4.1.1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opencv-contrib-4.1.1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースアーカイブ</font><font style="vertical-align: inherit;">を目的の場所</font><font style="vertical-align: inherit;">にダウンロードし</font><font style="vertical-align: inherit;">ます（私の場合、これは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ OpenCV \です</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/opencv/opencv.git -b <span class="hljs-string">"4.1.1"</span>
git <span class="hljs-built_in">clone</span> https://github.com/opencv/opencv_contrib.git -b <span class="hljs-string">"4.1.1"</span></code></pre><br>
<img src="https://habrastorage.org/webt/ao/q4/a5/aoq4a5f0divuygldly6ygfv4btu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opencv-4.1.1内に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">build /</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
フォルダーを作成します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/25/g0/3m/25g03mnahjar1bn46dw_fmcymly.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmake</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してアセンブリファイルを生成します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私たちは、のコンソールバージョンを使用します</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmakeのが</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いるので、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cmakeの-GUIが</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（たとえば、ためのいくつかの変数の型を混乱させる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPENCV_PYTHON3_VERSION</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果として、間違ってファイルを生成し、）と。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パス</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ OpenCV \に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">沿ってコンソールを開き、</font><font style="vertical-align: inherit;">変数を登録します。</font></font><br>
<br>
<pre><code class="cmake hljs"><span class="hljs-keyword">set</span> <span class="hljs-string">"opencvSource=opencv-4.1.1"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"opencvExtraModules=opencv_contrib-4.1.1/modules"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"opencvBuild=%opencvSource%\build"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"compiler=Visual Studio 16 2019"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"buildType=Release"</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下のため</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のVisual Studio 2017、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発電機を"と書かれている</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studioの15 2017のWin64</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "となし</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の-A</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグ</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コレクターがそれらを自動的に検出できない場合に備えて、python 2およびpython 3のPythonライブラリーを明示的に指定することもできます。</font></font><br>
<br>
<pre><code class="cmake hljs"><span class="hljs-keyword">set</span> <span class="hljs-string">"python2_executable=C:/Python27/python.exe"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python2_include_dir=C:/Python27/include"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python2_library=C:/Python27/libs/python27.lib"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python2_numpy_include_dirs=C:/Python27/Lib/site-packages/numpy/core/include"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python2_packages_path=C:/Python27/Lib/site-packages"</span><font></font>
<font></font>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python3_executable=C:/Users/root/Anaconda3/python.exe"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python3_include_dir=C:/Users/root/Anaconda3/include"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python3_library=C:/Users/root/Anaconda3/libs/python37.lib"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python3_numpy_include_dirs=C:/Users/root/Anaconda3/lib/site-packages/numpy/core/include"</span>
<span class="hljs-keyword">set</span> <span class="hljs-string">"python3_packages_path=C:/Users/root/Anaconda3/Lib/site-packages"</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumPy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリ</font><font style="vertical-align: inherit;">は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と同じビット深度でなければならないことに</font><font style="vertical-align: inherit;">注意してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これを確認するのは簡単です：</font></font><br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> numpy.distutils.system_info <span class="hljs-keyword">as</span> sysinfo<font></font>
print(sysinfo.platform_bits)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下の長いコマンドを使用してアセンブリファイルを生成します。</font><font style="vertical-align: inherit;">コマンドの実行後に生成が失敗したりエラーが発生した場合は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">build /</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.cache /</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内のすべてのファイルをクリーニングして、繰り返し生成を実行する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cmake hljs">cmake ^<font></font>
-B<span class="hljs-string">"%opencvBuild%/"</span> ^<font></font>
-H<span class="hljs-string">"%opencvSource%/"</span> ^<font></font>
-G<span class="hljs-string">"%compiler%"</span> ^<font></font>
-Ax64 ^<font></font>
-DCMAKE_BUILD_TYPE=%buildType% ^<font></font>
-DBUILD_opencv_world=<span class="hljs-keyword">ON</span> ^<font></font>
-DINSTALL_TESTS=<span class="hljs-keyword">OFF</span> ^<font></font>
-DINSTALL_C_EXAMPLES=<span class="hljs-keyword">OFF</span> ^<font></font>
-DBUILD_EXAMPLES=<span class="hljs-keyword">OFF</span> ^<font></font>
-DOPENCV_EXTRA_MODULES_PATH=<span class="hljs-string">"%opencvExtraModules%/"</span> ^<font></font>
-DBUILD_PROTOBUF=<span class="hljs-keyword">ON</span> ^<font></font>
-DBUILD_opencv_python_bindings_generator=<span class="hljs-keyword">ON</span> ^<font></font>
-DWITH_CUDA=<span class="hljs-keyword">ON</span> ^<font></font>
-DCUDA_FAST_MATH=<span class="hljs-keyword">ON</span> ^<font></font>
-DWITH_CUBLAS=<span class="hljs-keyword">ON</span> ^<font></font>
-DCUDA_ARCH_PTX=<span class="hljs-number">7.5</span> ^<font></font>
-DBUILD_opencv_python2=<span class="hljs-keyword">ON</span> ^<font></font>
-DPYTHON2_EXECUTABLE=<span class="hljs-string">"%python2_executable%"</span> ^<font></font>
-DOPENCV_PYTHON2_VERSION=<span class="hljs-number">2.7</span>.<span class="hljs-number">16</span> ^<font></font>
-DPYTHON2_INCLUDE_DIR=<span class="hljs-string">"%python2_include_dir%"</span> ^<font></font>
-DPYTHON2_LIBRARY=<span class="hljs-string">"%python2_library%"</span> ^<font></font>
-DPYTHON2_NUMPY_INCLUDE_DIRS=<span class="hljs-string">"%python2_numpy_include_dirs%"</span> ^<font></font>
-DPYTHON2_PACKAGES_PATH=<span class="hljs-string">"%python2_packages_path%"</span> ^<font></font>
-DBUILD_opencv_python3=<span class="hljs-keyword">ON</span> ^<font></font>
-DPYTHON3_EXECUTABLE=<span class="hljs-string">"%python3_executable%"</span> ^<font></font>
-DOPENCV_PYTHON3_VERSION=<span class="hljs-number">3.7</span>.<span class="hljs-number">3</span> ^<font></font>
-DPYTHON3_INCLUDE_DIR=<span class="hljs-string">"%python3_include_dir%"</span> ^<font></font>
-DPYTHON3_LIBRARY=<span class="hljs-string">"%python3_library%"</span> ^<font></font>
-DPYTHON3_NUMPY_INCLUDE_DIRS=<span class="hljs-string">"%python3_numpy_include_dirs%"</span> ^<font></font>
-DPYTHON3_PACKAGES_PATH=<span class="hljs-string">"%python3_packages_path%"</span></code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いくつかのフラグの意味</font></font></b><div class="spoiler_text"><ul>
<li>BUILD_opencv_world –  ,        .     <i>C++</i>,       <i>opencv</i>     <i>opencv_world411.lib</i>  </li>
<li>INSTALL_EXAMPLES/INSTALL_TESTS –  /  <i>opencv</i></li>
<li>CUDA_FAST_MATH, WITH_CUBLAS –    <i>CUDA</i>,   </li>
<li>CUDA_ARCH_PTX –  <i>PTX</i>     </li>
<li>OPENCV_EXTRA_MODULES_PATH –      <i>opencv-contrib</i> (  <i>CUDA</i>)</li>
<li>BUILD_PROTOBUF –     <i>opencv</i>  <i>Protobuf</i> ( <i>opencv</i>     <i>BUILD_PROTOBUF=ON</i>)</li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
約10分後、アセンブリ情報と最後の行「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成完了</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」および「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成完了</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">がコンソールに表示され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">すべての情報、特に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NVIDIA CUDA、Python 2、Python 3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のセクションをチェックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yc/to/wc/yctowcq5cgnrtx1-bxarwaihc-8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ソリューションを収集します。</font><font style="vertical-align: inherit;">プロセッサと</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studioの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョンによっては、ビルドに数時間かかる場合があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="cmake hljs">cmake --build %opencvBuild% --<span class="hljs-keyword">target</span> ALL_BUILD --config Release</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソリューションをインストールします。</font></font><br>
<br>
<pre><code class="cmake hljs">cmake --build %opencvBuild% --<span class="hljs-keyword">target</span> <span class="hljs-keyword">INSTALL</span> --config Release</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールが成功し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たら</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、値</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ OpenCV \ opencv-4.1.1 \ build \ install \ x64 \ vc15 \ bin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用して</font><i><font style="vertical-align: inherit;">OPENCV_DIR</font></i><font style="vertical-align: inherit;">システム変数</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">作成し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PATHに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行列乗算の簡単な例を使用</font><font style="vertical-align: inherit;">して、</font><i><font style="vertical-align: inherit;">CUDA</font></i><font style="vertical-align: inherit;">モジュール</font><font style="vertical-align: inherit;">
で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の機能をテストします</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCVをVisual Studioプロジェクトに接続する</font></font></b><div class="spoiler_text"><ol>
<li>   Release/x64 ( Debug   OpenCV   Debug)</li>
<li>Project Properties → C/C++ → General →   «C:\OpenCV\opencv-4.1.1\build\install\include»  Additional Include Directories</li>
<li>Project Properties → Linker → General →   « C:\OpenCV\opencv-4.1.1\build\install\x64\vc16\lib»  Additional Library Directories</li>
<li>Project Properties → Linker → General →  «;opencv_world411.lib» («;opencv_world411d.lib»  Debug)   Additional Dependencies</li>
</ol><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">Python 3の</font></i><font style="vertical-align: inherit;">例</font></font><i><font style="vertical-align: inherit;"></font></i></b><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> cv2 <span class="hljs-keyword">as</span> cv
<span class="hljs-keyword">import</span> time<font></font>
<font></font>
rand = np.random.random((<span class="hljs-number">1024</span>, <span class="hljs-number">1024</span>)).astype(np.float32)<font></font>
h_array1 = np.stack([rand, rand],axis=<span class="hljs-number">2</span>)<font></font>
h_array2 = h_array1<font></font>
d_array1 = cv.cuda_GpuMat()<font></font>
d_array2 = cv.cuda_GpuMat()<font></font>
d_array1.upload(h_array1)<font></font>
d_array2.upload(h_array2)<font></font>
<font></font>
start = time.time()<font></font>
cv.cuda.gemm(d_array1, d_array2, <span class="hljs-number">1</span>, <span class="hljs-literal">None</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">None</span>, <span class="hljs-number">1</span>)<font></font>
end = time.time()<font></font>
print(<span class="hljs-string">"Time elapsed:"</span>, end - start, <span class="hljs-string">"sec"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソール出力</font></font><br>
<br>
<pre><code class="bash hljs">Time elapsed: 0.3130002021789551</code></pre><br>
<b><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">C ++の</font></i><font style="vertical-align: inherit;">例</font></font><i><font style="vertical-align: inherit;"></font></i></b><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;opencv2/opencv.hpp&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;opencv2/cudaarithm.hpp&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv;
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> cv::cuda;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
	Mat h_array1 = Mat::ones(<span class="hljs-number">1024</span>, <span class="hljs-number">1024</span>, CV_32FC2);<font></font>
	Mat h_array2 = Mat::ones(<span class="hljs-number">1024</span>, <span class="hljs-number">1024</span>, CV_32FC2);<font></font>
	Mat h_array3 = Mat::zeros(<span class="hljs-number">1024</span>, <span class="hljs-number">1024</span>, CV_32FC2);<font></font>
	Mat h_result;<font></font>
	GpuMat d_array1, d_array2, d_array3, d_result;<font></font>
<font></font>
	d_array1.upload(h_array1);<font></font>
	d_array2.upload(h_array2);<font></font>
<font></font>
	<span class="hljs-keyword">const</span> <span class="hljs-keyword">clock_t</span> begin_time = clock();<font></font>
	cuda::gemm(d_array1, d_array2, <span class="hljs-number">1.0</span>, d_array3, <span class="hljs-number">0.0</span>, d_result);
	<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Time elapsed: "</span> &lt;&lt; (<span class="hljs-keyword">float</span>(clock() - begin_time) / CLOCKS_PER_SEC) &lt;&lt; <span class="hljs-string">" sec"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<font></font>
<font></font>
	d_result.download(h_result);<font></font>
<font></font>
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンソール出力</font></font><br>
<br>
<pre><code class="bash hljs">Time elapsed: 0.354</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">削除する</font></font></h3><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を削除</font><font style="vertical-align: inherit;">するには、コマンドを実行する必要があります。</font></font><br>
<br>
<pre><code class="cmake hljs">cmake --build %opencvBuild% --<span class="hljs-keyword">target</span> uninstall --config Release</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPENCV_DIR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
システム変数</font><font style="vertical-align: inherit;">を削除し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PATH</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からOpenCVへのパスを削除します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV 4</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 10の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストールについて検討しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このアルゴリズムは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 8.1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 10</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">テストされました</font><font style="vertical-align: inherit;">が、理論的には</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 7</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で構築できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">詳細については、以下のソースのリストを参照してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS最後に、インストール</font><font style="vertical-align: inherit;">を自動化したい</font><font style="vertical-align: inherit;">人のために、すべてのインストールコマンドを1つの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.bat</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルに</font><font style="vertical-align: inherit;">まとめ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install_opencv411.bat</font></font></b><div class="spoiler_text"><pre><code class="markdown hljs">cd C:\OpenCV<font></font>
<font></font>
git clone https://github.com/opencv/opencv<span class="hljs-emphasis">_contrib.git -b "4.1.1"
git clone https://github.com/opencv/opencv.git -b "4.1.1"

ren opencv opencv-4.1.1
ren opencv_</span>contrib-4.1.1<font></font>
<font></font>
set "opencvSource=opencv-4.1.1"<font></font>
set "opencvExtraModules=opencv<span class="hljs-emphasis">_contrib-4.1.1/modules"
set "opencvBuild=%opencvSource%\build"
set "compiler=Visual Studio 16 2019"
set "buildType=Release"

set "python2_</span>executable=C:/Python27/python.exe"<font></font>
set "python2<span class="hljs-emphasis">_include_</span>dir=C:/Python27/include"<font></font>
set "python2<span class="hljs-emphasis">_library=C:/Python27/libs/python27.lib"
set "python2_</span>numpy<span class="hljs-emphasis">_include_</span>dirs=C:/Python27/Lib/site-packages/numpy/core/include"<font></font>
set "python2<span class="hljs-emphasis">_packages_</span>path=C:/Python27/Lib/site-packages"<font></font>
<font></font>
set "python3<span class="hljs-emphasis">_executable=C:/Users/root/Anaconda3/python.exe"
set "python3_</span>include<span class="hljs-emphasis">_dir=C:/Users/root/Anaconda3/include"
set "python3_</span>library=C:/Users/root/Anaconda3/libs/python37.lib"<font></font>
set "python3<span class="hljs-emphasis">_numpy_</span>include<span class="hljs-emphasis">_dirs=C:/Users/root/Anaconda3/lib/site-packages/numpy/core/include"
set "python3_</span>packages<span class="hljs-emphasis">_path=C:/Users/root/Anaconda3/Lib/site-packages"

cmake ^
-B"%opencvBuild%/" ^
-H"%opencvSource%/" ^
-G"%compiler%" ^
-Ax64 ^
-DCMAKE_</span>BUILD<span class="hljs-emphasis">_TYPE=%buildType% ^
-DBUILD_</span>opencv<span class="hljs-emphasis">_world=ON ^
-DINSTALL_</span>TESTS=OFF ^<font></font>
-DINSTALL<span class="hljs-emphasis">_C_</span>EXAMPLES=OFF ^<font></font>
-DBUILD<span class="hljs-emphasis">_EXAMPLES=OFF ^
-DOPENCV_</span>EXTRA<span class="hljs-emphasis">_MODULES_</span>PATH="%opencvExtraModules%/" ^<font></font>
-DBUILD<span class="hljs-emphasis">_PROTOBUF=ON ^
-DBUILD_</span>opencv<span class="hljs-emphasis">_python_</span>bindings<span class="hljs-emphasis">_generator=ON ^
-DWITH_</span>CUDA=ON ^<font></font>
-DCUDA<span class="hljs-emphasis">_FAST_</span>MATH=ON ^<font></font>
-DWITH<span class="hljs-emphasis">_CUBLAS=ON ^
-DCUDA_</span>ARCH<span class="hljs-emphasis">_PTX=7.5 ^
-DBUILD_</span>opencv<span class="hljs-emphasis">_python2=ON ^
-DPYTHON2_</span>EXECUTABLE="%python2<span class="hljs-emphasis">_executable%" ^
-DOPENCV_</span>PYTHON2<span class="hljs-emphasis">_VERSION=2.7.16 ^
-DPYTHON2_</span>INCLUDE<span class="hljs-emphasis">_DIR="%python2_</span>include<span class="hljs-emphasis">_dir%" ^
-DPYTHON2_</span>LIBRARY="%python2<span class="hljs-emphasis">_library%" ^
-DPYTHON2_</span>NUMPY<span class="hljs-emphasis">_INCLUDE_</span>DIRS="%python2<span class="hljs-emphasis">_numpy_</span>include<span class="hljs-emphasis">_dirs%" ^
-DPYTHON2_</span>PACKAGES<span class="hljs-emphasis">_PATH="%python2_</span>packages<span class="hljs-emphasis">_path%" ^
-DBUILD_</span>opencv<span class="hljs-emphasis">_python3=ON ^
-DPYTHON3_</span>EXECUTABLE="%python3<span class="hljs-emphasis">_executable%" ^
-DOPENCV_</span>PYTHON3<span class="hljs-emphasis">_VERSION=3.7.3 ^
-DPYTHON3_</span>INCLUDE<span class="hljs-emphasis">_DIR="%python3_</span>include<span class="hljs-emphasis">_dir%" ^
-DPYTHON3_</span>LIBRARY="%python3<span class="hljs-emphasis">_library%" ^
-DPYTHON3_</span>NUMPY<span class="hljs-emphasis">_INCLUDE_</span>DIRS="%python3<span class="hljs-emphasis">_numpy_</span>include<span class="hljs-emphasis">_dirs%" ^
-DPYTHON3_</span>PACKAGES<span class="hljs-emphasis">_PATH="%python3_</span>packages<span class="hljs-emphasis">_path%"

cmake --build %opencvBuild% --target ALL_</span>BUILD --config Release<font></font>
cmake --build %opencvBuild% --target INSTALL --config Release</code></pre><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースのリスト</font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.opencv.org/4.1.1/d3/d52/tutorial_windows_install.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.learnopencv.com/install-opencv-4-on-windows</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jamesbowley.co.uk/build-opencv-4-0-0-with-cuda-10-0-and-intel-mkl-tbb-in-windows</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lightbuzz.com/opencv-cuda</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCVおよびCUDAを使用したハンズオンGPUアクセラレーテッドコンピュータービジョンの章「ソースからのライブラリの構築」</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja464001/index.html">OpenTracingとOpenCensusの合併：収束への道</a></li>
<li><a href="../ja464003/index.html">IoTのユニバーサルサーバーとしての4Gルーター</a></li>
<li><a href="../ja464007/index.html">コールがユーザーに不快感を与えないようにコールセンターの予測モデルを構築した方法</a></li>
<li><a href="../ja464011/index.html">心理学にITをどのように残したか</a></li>
<li><a href="../ja464013/index.html">HeadHunter API FAQ（求人情報）</a></li>
<li><a href="../ja464017/index.html">PKCS＃11トークンに基づく暗号化ワークステーション。EGAISの証明書の取得。パート4</a></li>
<li><a href="../ja464019/index.html">オープンソース：グラフィックカード開発者がLinuxのドライバードキュメントを公開</a></li>
<li><a href="../ja464021/index.html">機能の切り替えとは何ですか、または耐え難いセイウチと長命の枝を取り除く方法は？</a></li>
<li><a href="../ja464023/index.html">「プログラミングの基礎」がJavaScriptの例付きの無料コースに設定されています</a></li>
<li><a href="../ja464027/index.html">情報爆発の時代にコンテンツを生き残る方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>