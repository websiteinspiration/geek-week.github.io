<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏾 🧜🏼 🤫 使用Nikto检查任何站点的漏洞 🤘🏼 🅰️ 👨🏼‍🤝‍👨🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大家好！ OTUS在三月启动了一个新的Kali Linux Workshop。预期课程的开始，我们已为您准备了有用材料的翻译。我们也想邀请大家关于这一主题的免费课程：“拒绝服务攻击和防御他们。”
 
 
 
 
 在攻击任何站点之前，黑客或pentester会首先制定目标列表。在进行了良好的侦查并发...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>使用Nikto检查任何站点的漏洞</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492546/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大家好！ OTUS在三月启动了一个新的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kali Linux Workshop</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。预期课程的开始，我们已为您准备了有用材料的翻译。我们也想邀请大家关于这一主题的免费课程：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“拒绝服务攻击和防御他们</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">”</font></a></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/ri/uu/xs/riuuxsfgsubm2aulz9wsu4zgtxw.png"><br>
<hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在攻击任何站点之前，黑客或pentester会首先制定目标列表。在进行了良好的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦查</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并发现“瞄准”的弱点之后，他将需要Web服务器扫描工具（例如Nikto），这将帮助他发现漏洞-潜在的攻击媒介。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nikto是一个简单的开源Web服务器扫描程序，它扫描网站并报告发现的可被利用或黑客攻击的漏洞。此外，它是在整个行业中用于扫描网站漏洞的最广泛使用的工具之一，在许多圈子中，它被认为是行业标准。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管此工具非常有效，但它并不暗中起作用。</font><font style="vertical-align: inherit;">任何具有入侵检测系统或其他安全措施的站点都将了解正在对其进行扫描。</font><font style="vertical-align: inherit;">Nikto旨在测试安全性，没有人想到其工作的保密性。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何使用Nikto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果仅在目标网站上运行Nikto，则可能不了解如何处理扫描后获得的信息。 Nikto实际上更像是激光指示器，需要进行拍摄，一段时间后，您将看到其工作原理。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，让我们谈谈目标。目标几乎可以是黑客可以攻击的任何地方，例如网络打印机或Web服务器。稍后再使用Nikto时，我们将需要为它提供以下三种信息之一：本地服务的IP地址，攻击域或SSL / HTTPS网站。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
开始使用Nikto扫描之前，最好使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Maltego之</font></a><font style="vertical-align: inherit;">类的开放工具进行初步探索</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此类工具可用于创建概要文件并形成要关注的更具体的目标列表。</font><font style="vertical-align: inherit;">完成此操作后，您可以使用Nikto从列表中搜索目标的潜在漏洞。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸运的是，将发现一个漏洞利用漏洞众所周知的漏洞，这意味着已经有一个工具可以帮助利用这一弱点。</font><font style="vertical-align: inherit;">黑客使用适当的工具来自动利用此漏洞，黑客可以访问目标，以执行任何数量的隐藏攻击，例如添加恶意代码。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤1：安装Nikto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您使用的是Kali Linux，则将预先安装Nikto，因此您无需下载和安装任何东西。</font><font style="vertical-align: inherit;">它将位于“漏洞分析”类别中。</font><font style="vertical-align: inherit;">如果由于某种原因没有它，则可以从</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub上的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nikto存储库下载Nikto </font><font style="vertical-align: inherit;">或只使用命令</font></font><code>apt install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">apt install nikto</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您使用的是Mac，则可以使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Homebrew</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装Nikto。</font></font><br>
<br>
<pre><code class="bash hljs">brew install nikto</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2步：了解Nikto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用Nikto扫描Web服务器之前，请使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Help</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参数</font><font style="vertical-align: inherit;">查看使用此工具可以执行的所有操作：</font></font><br>
<br>
<pre><code class="bash hljs">nikto -Help</code></pre><br>
<pre><code class="bash hljs">Options:<font></font>
       -ask+               Whether to ask about submitting updates<font></font>
                               yes   Ask about each (default)<font></font>
                               no    Don<span class="hljs-string">'t ask, don'</span>t send<font></font>
                               auto  Don<span class="hljs-string">'t ask, just send
       -Cgidirs+           Scan these CGI dirs: "none", "all", or values like "/cgi/ /cgi-a/"
       -config+            Use this config file
       -Display+           Turn on/off display outputs:
                               1     Show redirects
                               2     Show cookies received
                               3     Show all 200/OK responses
                               4     Show URLs which require authentication
                               D     Debug output
                               E     Display all HTTP errors
                               P     Print progress to STDOUT
                               S     Scrub output of IPs and hostnames
                               V     Verbose output
       -dbcheck           Check database and other key files for syntax errors
       -evasion+          Encoding technique:
                               1     Random URI encoding (non-UTF8)
                               2     Directory self-reference (/./)
                               3     Premature URL ending
                               4     Prepend long random string
                               5     Fake parameter
                               6     TAB as request spacer
                               7     Change the case of the URL
                               8     Use Windows directory separator (\)
                               A     Use a carriage return (0x0d) as a request spacer
                               B     Use binary value 0x0b as a request spacer
        -Format+           Save file (-o) format:
                               csv   Comma-separated-value
                               htm   HTML Format
                               nbe   Nessus NBE format
                               sql   Generic SQL (see docs for schema)
                               txt   Plain text
                               xml   XML Format
                               (if not specified the format will be taken from the file extension passed to -output)
       -Help              Extended help information
       -host+             Target host
       -404code           Ignore these HTTP codes as negative responses (always). Format is "302,301".
       -404string         Ignore this string in response body content as negative response (always). Can be a regular expression.
       -id+               Host authentication to use, format is id:pass or id:pass:realm
       -key+              Client certificate key file
       -list-plugins      List all available plugins, perform no testing
       -maxtime+          Maximum testing time per host (e.g., 1h, 60m, 3600s)
       -mutate+           Guess additional file names:
                               1     Test all files with all root directories
                               2     Guess for password file names
                               3     Enumerate user names via Apache (/~user type requests)
                               4     Enumerate user names via cgiwrap (/cgi-bin/cgiwrap/~user type requests)
                               5     Attempt to brute force sub-domain names, assume that the host name is the parent domain
                               6     Attempt to guess directory names from the supplied dictionary file
       -mutate-options    Provide information for mutates
       -nointeractive     Disables interactive features
       -nolookup          Disables DNS lookups
       -nossl             Disables the use of SSL
       -no404             Disables nikto attempting to guess a 404 page
       -Option            Over-ride an option in nikto.conf, can be issued multiple times
       -output+           Write output to this file ('</span>.<span class="hljs-string">' for auto-name)
       -Pause+            Pause between tests (seconds, integer or float)
       -Plugins+          List of plugins to run (default: ALL)
       -port+             Port to use (default 80)
       -RSAcert+          Client certificate file
       -root+             Prepend root value to all requests, format is /directory
       -Save              Save positive responses to this directory ('</span>.<span class="hljs-string">' for auto-name)
       -ssl               Force ssl mode on port
       -Tuning+           Scan tuning:
                               1     Interesting File / Seen in logs
                               2     Misconfiguration / Default File
                               3     Information Disclosure
                               4     Injection (XSS/Script/HTML)
                               5     Remote File Retrieval - Inside Web Root
                               6     Denial of Service
                               7     Remote File Retrieval - Server Wide
                               8     Command Execution / Remote Shell
                               9     SQL Injection
                               0     File Upload
                               a     Authentication Bypass
                               b     Software Identification
                               c     Remote Source Inclusion
                               d     WebService
                               e     Administrative Console
                               x     Reverse Tuning Options (i.e., include all except specified)
       -timeout+          Timeout for requests (default 10 seconds)
       -Userdbs           Load only user databases, not the standard databases
                               all   Disable standard dbs and load only user dbs
                               tests Disable only db_tests and load udb_tests
       -useragent         Over-rides the default useragent
       -until             Run until the specified time or duration
       -update            Update databases and plugins from CIRT.net
       -useproxy          Use the proxy defined in nikto.conf, or argument http://server:port
       -Version           Print plugin and database versions
       -vhost+            Virtual host (for Host header)
   		+ requires a value</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤3：使用基本语法</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
从上一步中可以看到，Nikto有很多用例，但是出于我们的目的，我们将使用基本语法&lt;IP或主机名&gt;以及不带尖括号的实际IP地址或主机名。</font></font><br>
<br>
<pre><code class="bash hljs">nikto -h &lt;IP or hostname&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，Nikto能够扫描HTTPS站点使用的SSL和端口443（默认情况下，HTTP使用端口80）。</font><font style="vertical-align: inherit;">因此，我们不仅限于爬网旧站点，还可以使用SSL评估站点的漏洞，而今天，SSL已成为对搜索结果建立索引的几乎强制性要求。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果我们知道目标站点具有SSL，则可以在Nikto中指定此站点，</font><font style="vertical-align: inherit;">以在命令末尾</font><font style="vertical-align: inherit;">添加</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ssl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font><font style="vertical-align: inherit;">节省一些爬网时间</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">nikto -h &lt;IP or hostname&gt; -ssl</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤4：使用SSL扫描网站</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，让我们开始扫描站点</font></font><code>pbs.org</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以查看Nikto爬网可以提供的信息类型。</font><font style="vertical-align: inherit;">在连接到端口443之后，我们会看到一些有关加密的有用信息和其他详细信息，例如，服务器正在nginx上运行，但是这里没有太多有趣的信息。</font></font><br>
<br>
<pre><code class="bash hljs">nikto -h pbs.org -ssl</code></pre><br>
<pre><code class="bash hljs">- Nikto v2.1.6<font></font>
------------------------------------------------------------------------------<font></font>
- STATUS: Starting up!<font></font>
+ Target IP:			54.225.198.196<font></font>
+ Target Hostname:		pbs.org<font></font>
+ Traget Port:			443<font></font>
------------------------------------------------------------------------------<font></font>
+ SSl Info:			Subject:	/CN=www.pbs.org<font></font>
					Altnames:	account.pbs.org, admin.pgs.org, dipsy-tc.pbs.org, docs.pbs.org, ga.video.cdn.pbs.org, git.pbs.org, heart.ops.pbs.org, hub-dev.pbs.org, image.pbs.org,<font></font>
                    			jaws..pbs.org, kids.pbs.org, koth-qa.svp.pbs.org, login.pbs.org, ops.pbs.org, pbs.org, player.pbs.org, projects.pbs.org, sentry.pbs.org, teacherline.pbs.org,<font></font>
                                urs.pbs.org, video.pbs.org, weta-qa.svp.pbs.org, whut-qa.svp.pbs.org, wnet.video-qa.pbs.org, wnet.video-staging.pbs.org, www-cache.pbs.org, www.pbs.org<font></font>
                    Ciphers:	ECDHE-RSA-AES128-GCM-SHA256<font></font>
                    Issuer:		/C-US/0=Let<span class="hljs-string">'s Encrypt/CN=Let'</span>s Encrypt Authority X3<font></font>
+ Start Time:			2018-12-05 23:34:06 (GMT-8)<font></font>
------------------------------------------------------------------------------<font></font>
+ Server: nginx<font></font>
+ The anti-clickjacking X-Frame-Options header is not present.<font></font>
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS<font></font>
+ Uncommon header <span class="hljs-string">'x-pbs-fwsrvname'</span> found, with contents: fwcacheproxy1<font></font>
+ The site uses SSL and the Strict-Transport-Security HTTP header is not defined.<font></font>
+ The X-Content-Type-Options header is not <span class="hljs-built_in">set</span>. This could allow the user agent to render the content of the site <span class="hljs-keyword">in</span> a different fashion to the MIME <span class="hljs-built_in">type</span><font></font>
+ Root page / redirects to: https://www.pbs.org/<font></font>
+ No CGI Directories found (use <span class="hljs-string">'-C all'</span> to force check all possible <span class="hljs-built_in">dirs</span>)<font></font>
+ RC-1918 IP address found <span class="hljs-keyword">in</span> the <span class="hljs-string">'x-pbs-appsvrip'</span> header: The IP is <span class="hljs-string">"10.137.181.52"</span>.<font></font>
+ Uncommon header <span class="hljs-string">'x-cache-fs-status'</span> found, with contents: EXPIRED<font></font>
+ Uncommon header <span class="hljs-string">'x-pbs-appsvrname'</span> found, with contents: fwcacheproxy1<font></font>
+ Uncommon header <span class="hljs-string">'x-pbs-appsvrip'</span> found, with contents: 10.137.181.52<font></font>
+ Server leaks inodes via ETags, header found with file /pbs.org.zip, fields: 0x5b96537e 0x1678<font></font>
+ 7446 requests: 0 error(s) and 10 item(s) reported on remote host<font></font>
+ End Time:				2018-12-06 00:30:29 (GMT-8) (3383 seconds)<font></font>
------------------------------------------------------------------------------<font></font>
+ 1 host(s) tested</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤5：扫描IP地址</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们已经完成了对网站的快速扫描，我们可以尝试在本地网络上使用Nikto查找嵌入式服务器，例如路由器的登录页面或另一台机器上的HTTP服务，这仅仅是一个没有网站的服务器。要查找IP地址，我们将使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><code>ifconfig</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们需要的IP地址是inet。在它上面我们可以使用</font></font><code>ipcalc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获得网络范围。如果没有ipcalc，则可以使用命令进行安装</font></font><code>apt install ipcalc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，然后重试。范围将在“网络”之后，在我的情况下为192.168.0.0/24。</font></font><br>
<br>
<pre><code class="bash hljs">ifconfig</code></pre><br>
<pre><code class="bash hljs">en0: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt;  mtu 1500<font></font>
        inet 192.168.0.48  netmask 0xffffff00  broadcast 192.168.0.255<font></font>
        inet6 XXXX::XXX:XXXX:XXXX:XXXX%en0  prefixlen 64  secured scopeid 0x8<font></font>
        ether XX:XX:XX:XX:XX:XX  txqueuelen 1000  (Ethernet)<font></font>
        inet6 XXXX::XXX:XXXX:XXXX:XXXX%en0  prefixlen 64 autoconf secured<font></font>
        inet6 XXXX::XXX:XXXX:XXXX:XXXX%en0  prefixlen 64 autoconf temporary<font></font>
        nd6 options=201&lt;PERFORMNUD,DAD&gt;<font></font>
        media: autoselect<font></font>
        status: active<font></font>
<font></font>
en2: flags=8863&lt;UP,BROADCAST,SMART,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt;  mtu 1500<font></font>
        options=60&lt;TS04,TS06&gt;<font></font>
        ether XX:XX:XX:XX:XX:XX<font></font>
        media: autoselect &lt;full-duplex&gt;<font></font>
        status: inactive</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们要启动</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nmap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来查找在此网络范围内</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">可用的</font></a><font style="vertical-align: inherit;">服务。让我们使用范围扫描端口80，为此，我们</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加</font><i><font style="vertical-align: inherit;">-oG（可重复输出），</font></i><font style="vertical-align: inherit;">以仅获取那些正在运行的主机，即通过说端口80已打开进行响应的主机。然后，我们将所有这些都保存在一个文件中，我将其命名为</font></font><code>nullbyte.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您可以随意命名。</font></font><br>
<br>
<pre><code class="bash hljs">ipcalc 192.168.0.48</code></pre><br>
<pre><code class="bash hljs">Address:   192.168.0.48         11000000.10101000.00000000. 00110000<font></font>
Netmask:   255.255.255.0 = 24   11111111.11111111.11111111. 00000000<font></font>
Wildcard:  0.0.0.255            00000000.00000000.00000000. 11111111<font></font>
=&gt;<font></font>
Network:   192.168.0.0/24       11000000.10101000.00000000. 00000000<font></font>
HostMin:   192.168.0.1          11000000.10101000.00000000. 00000001<font></font>
HostMax:   192.168.0.254        11000000.10101000.00000000. 11111110<font></font>
Broadcast: 192.168.0.255        11000000.10101000.00000000. 11111111<font></font>
Hosts/Net: 254                   Class C, Private Internet</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有一个小技巧可以帮助将所有主机直接发送到Nikto进行扫描。</font><font style="vertical-align: inherit;">我们习惯于</font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">cat</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取存储在我们文档中的输入</font></font><code>nullbyte.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或者您自己所说的）。</font><font style="vertical-align: inherit;">之后，我们使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">awk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Linux中的特殊工具），它将帮助您找到下一个模板，其中Up表示主机已启动，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">print $ 2</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示您需要在每行上打印第二个单词，即仅打印IP地址。</font><font style="vertical-align: inherit;">然后，我们会将接收到的数据发送到一个名为</font></font><code>targetIP.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（或任何您想要</font><font style="vertical-align: inherit;">的文件）的文件中</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">cat nullbyte.txt | awk <span class="hljs-string">'/Up$/{print $2}'</span> | cat &gt;&gt; targetIP.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，我们可以使用cat查看新文件的内容，以查看打开了端口80的所有IP地址。</font></font><br>
<br>
<pre><code class="bash hljs">cat targetIP.txt</code></pre><br>
<pre><code class="bash hljs">192.168.0.1<font></font>
192.168.0.2<font></font>
192.168.0.4<font></font>
192.168.0.5<font></font>
192.168.0.11<font></font>
192.168.0.24<font></font>
192.168.0.31<font></font>
192.168.0.48<font></font>
192.168.0.60</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这种格式非常适合Nikto，因为它可以轻松解释此类文件。</font><font style="vertical-align: inherit;">因此，我们可以使用以下命令将此输出发送给Nikto。</font></font><br>
<br>
<pre><code class="bash hljs">nikto -h targetIP.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果将类似于我们使用SSL扫描时获得的结果。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤6：扫描HTTP站点</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们扫描了本地网络上的安全网站和IP地址，现在是时候寻找使用端口80的不安全Web域了。</font><font style="vertical-align: inherit;">对于此示例，我使用的是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">afl.com.au</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，在我扫描此文件时没有SSL。</font></font><br>
<br>
<pre><code class="bash hljs">nikto -h www.afl.com.au</code></pre><br>
<pre><code class="bash hljs">- Nikto v2.1.6<font></font>
---------------------------------------------------------------------------<font></font>
+ Target IP:          159.180.84.10<font></font>
+ Target Hostname:    www.afl.com.au<font></font>
+ Target Port:        80<font></font>
+ Start Time:         2018-12-05 21:48:32 (GMT-8)<font></font>
---------------------------------------------------------------------------<font></font>
+ Server: instart/nginx<font></font>
+ Retried via header: 1.1 varnish (Varnish/6.1), 1.1 e9ba0a9a729ff2960a04323bf1833df8.cloudfront.net (CloudFront)<font></font>
+ The anti-clickjacking X-Frame-Options header is not present.<font></font>
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS<font></font>
+ Uncommon header <span class="hljs-string">'x-cache'</span> found, with contents: Miss from cloudfront<font></font>
+ Uncommon header <span class="hljs-string">'x-instart-cache-id'</span> found, with contents: 17:12768802731504004780::1544075250<font></font>
+ Uncommon header <span class="hljs-string">'v-cache-hit'</span> found, with contents: Hit<font></font>
+ Uncommon header <span class="hljs-string">'x-amz-cf-id'</span> found, with contents: Dr-r6OwO5kk9ABt4ejzpc7R7AIF6SuH6kfJHQgP0v6xZoHwMLE55rQ==<font></font>
+ Uncommon header <span class="hljs-string">'x-instart-request-id'</span> found, with contents: 12814413144077601501:BEQ01-CPVNPPRY18:1552504721:0<font></font>
+ Uncommon header <span class="hljs-string">'x-oneagent-js-injection'</span> found, with contents: <span class="hljs-literal">true</span>
+ Uncommon header <span class="hljs-string">'grace'</span> found, with contents: cache<font></font>
+ The X-Content-Type-Options header is not <span class="hljs-built_in">set</span>. This could allow the user agent to render the content of the site <span class="hljs-keyword">in</span> a different fashion to the MIME <span class="hljs-built_in">type</span>
+ Uncommon header <span class="hljs-string">'x-ruxit-js-agent'</span> found, with contents: <span class="hljs-literal">true</span><font></font>
+ Cookie dtCookie created without the httponly flag<font></font>
+ Server banner has changed from <span class="hljs-string">'instart/nginx'</span> to <span class="hljs-string">'nginx'</span> <span class="hljs-built_in">which</span> may suggest a WAF, load balancer or proxy is <span class="hljs-keyword">in</span> place<font></font>
+ No CGI Directories found (use <span class="hljs-string">'-C all'</span> to force check all possible <span class="hljs-built_in">dirs</span>)<font></font>
+ Entry <span class="hljs-string">'/sites/'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (200)<font></font>
+ Entry <span class="hljs-string">'/search/'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (200)<font></font>
+ Entry <span class="hljs-string">'*.mobileapp'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (400)<font></font>
+ Entry <span class="hljs-string">'*.liveradio'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (400)<font></font>
+ Entry <span class="hljs-string">'*.smartmobile'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (400)<font></font>
+ Entry <span class="hljs-string">'*.responsive'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (400)<font></font>
+ Entry <span class="hljs-string">'/stats?*/'</span> <span class="hljs-keyword">in</span> robots.txt returned a non-forbidden or redirect HTTP code (200)<font></font>
+ <span class="hljs-string">"robots.txt"</span> contains 8 entries <span class="hljs-built_in">which</span> should be manually viewed.<font></font>
+ OSVDB-3092: /sitemap.xml: This gives a nice listing of the site content.<font></font>
+ OSVDB-3092: /psql_history: This might be interesting...<font></font>
+ OSVDB-3092: /global/: This might be interesting...<font></font>
+ OSVDB-3092: /home/: This might be interesting...<font></font>
+ OSVDB-3092: /news: This might be interesting...<font></font>
+ OSVDB-3092: /search.vts: This might be interesting...<font></font>
+ OSVDB-3092: /stats.htm: This might be interesting...<font></font>
+ OSVDB-3092: /stats.txt: This might be interesting...<font></font>
+ OSVDB-3092: /stats/: This might be interesting...<font></font>
+ OSVDB-3092: /Stats/: This might be interesting...<font></font>
+ OSVDB-3093: /.wwwacl: Contains authorization information<font></font>
+ OSVDB-3093: /.www_acl: Contains authorization information<font></font>
+ OSVDB-3093: /.htpasswd: Contains authorization information<font></font>
+ OSVDB-3093: /.access: Contains authorization information<font></font>
+ OSVDB-3093: /.addressbook: PINE addressbook, may store sensitive e-mail address contact information and notes<font></font>
+ OSVDB-3093: /.bashrc: User home dir was found with a shell rc file. This may reveal file and path information.<font></font>
+ OSVDB-3093: /.bash_history: A user<span class="hljs-string">'s home directory may be set to the web root, the shell history was retrieved. This should not be accessible via the web.
+ OSVDB-3093: /.forward: User home dir was found with a mail forward file. May reveal where the user'</span>s mail is being forwarded to.<font></font>
+ OSVDB-3093: /.<span class="hljs-built_in">history</span>: A user<span class="hljs-string">'s home directory may be set to the web root, the shell history was retrieved. This should not be accessible via the web.
+ OSVDB-3093: /.htaccess: Contains configuration and/or authorization information
+ OSVDB-3093: /.lynx_cookies: User home dir found with LYNX cookie file. May reveal cookies received from arbitrary web sites.
+ OSVDB-3093: /.mysql_history: Database SQL?
+ OSVDB-3093: /.passwd: Contains authorization information
+ OSVDB-3093: /.pinerc: User home dir found with a PINE rc file. May reveal system information, directories and more.
+ OSVDB-3093: /.plan: User home dir with a .plan, a now mostly outdated file for delivering information via the finger protocol
+ OSVDB-3093: /.proclog: User home dir with a Procmail rc file. May reveal mail traffic, directories and more.
+ OSVDB-3093: /.procmailrc: User home dir with a Procmail rc file. May reveal subdirectories, mail contacts and more.
+ OSVDB-3093: /.profile: User home dir with a shell profile was found. May reveal directory information and system configuration.
+ OSVDB-3093: /.rhosts: A user'</span>s home directory may be <span class="hljs-built_in">set</span> to the web root, a .rhosts file was retrieved. This should not be accessible via the web.<font></font>
+ OSVDB-3093: /.sh_history: A user<span class="hljs-string">'s home directory may be set to the web root, the shell history was retrieved. This should not be accessible via the web.
+ OSVDB-3093: /.ssh: A user'</span>s home directory may be <span class="hljs-built_in">set</span> to the web root, an ssh file was retrieved. This should not be accessible via the web.<font></font>
+ OSVDB-5709: /.nsconfig: Contains authorization information<font></font>
+ /portal/changelog: Vignette richtext HTML editor changelog found.<font></font>
+ 7587 requests: 4 error(s) and 55 item(s) reported on remote host<font></font>
+ End Time:           2018-12-05 22:42:41 (GMT-8) (3249 seconds)<font></font>
---------------------------------------------------------------------------<font></font>
+ 1 host(s) tested</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
根据上面的信息，我们了解到有一个Varnish服务器和一些标头可以告诉您网站的配置方式。但是，发现了更多有用的信息，这些目录可以帮助捕获包含凭据或其他未正确配置并且无意提供的凭据的配置文件。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
带有OSVDB前缀的元素是在“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开源漏洞数据库”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（该网站于2016年关闭）中</font><font style="vertical-align: inherit;">报告的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">漏洞</font></a><font style="vertical-align: inherit;">。它类似于其他漏洞数据库，例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SecurityFocus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Technet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及漏洞和披露（https://cve.mitre.org/）。就个人而言，我更接近</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家漏洞数据库</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管我们的扫描没有发现任何可以利用的严重漏洞，但是您可以使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">帮助工具</font><font style="vertical-align: inherit;">将OSVDB标识符转换为CVE记录，以便可以使用上面列出的站点之一。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
假设您发现值得探索的东西，例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2018-10933</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Libssh漏洞），我们</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之前已对其进行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了详细</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">讨论</font></a><font style="vertical-align: inherit;">。 CVE包含有关如何利用它，漏洞的严重程度（例如，严重漏洞）的信息以及其他一些有助于确定攻击媒介的信息。如果这值得，您可以使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Metasploit</font></a><font style="vertical-align: inherit;">进行搜索</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为很可能有人已经开发了一个有助于轻松利用此漏洞的模块。 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sk/ec/04/skec04ezmzo2rcduvb_c7bojghw.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">步骤7：使用Metasploit进行扫描</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nikto最好的事情之一就是您可以简单地将扫描中收到的信息导出为Metasploit可以读取的格式。</font><font style="vertical-align: inherit;">为此，只需使用命令执行上述扫描，然后在末尾添加</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Format msf +</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这种格式可以帮助您快速匹配通过漏洞利用获得的数据。</font></font><br>
<br>
<pre><code class="bash hljs">nikto -h &lt;IP or hostname&gt; -Format msf+</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，在今天的指南中，我们从定义目标到发现其中的漏洞，然后将漏洞与漏洞利用相关联，因此我们不必手动完成所有工作。</font><font style="vertical-align: inherit;">由于Nikto不能秘密运行，因此最好通过VPN，Tor或其他类型的服务运行这些扫描，以免您的IP地址被标记为可疑。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注册免费课程</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN492524/index.html">我是如何在没有经验和人脉的情况下获得1,000,000美元的，然后又花了他们来做我的翻译</a></li>
<li><a href="../zh-CN492530/index.html">针对UIKit开发人员的UIKit和SwiftUI应用程序中基于组合的MVVM</a></li>
<li><a href="../zh-CN492534/index.html">那么，莫斯科是否有真正的飓风？在紧追中分析2020年3月13日的情况</a></li>
<li><a href="../zh-CN492538/index.html">Wrike TechClub：交付基础结构-流程和工具（DevOps + QAA）。英文论文</a></li>
<li><a href="../zh-CN492540/index.html">游戏“等一下！” 在arduino上</a></li>
<li><a href="../zh-CN492548/index.html">Unity机器学习：教MO代理跳过墙</a></li>
<li><a href="../zh-CN492552/index.html">如何在巴塞罗那隔离区生活和工作</a></li>
<li><a href="../zh-CN492558/index.html">您好，这是COVID19：冠状病毒是否存在于智能手机表面？</a></li>
<li><a href="../zh-CN492560/index.html">GPU的简单哈希表</a></li>
<li><a href="../zh-CN492562/index.html">隔离程序中的三个有用的Apache Ignite网络研讨会</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>