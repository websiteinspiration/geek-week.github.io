<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧖🏿 ☦️ 👶🏻 LDA pada artikel LiveJournal + visualisasi 👋🏿 🍷 🚸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Setelah menjadi topik yang menarik, apa yang akan ditonjolkan LDA (penempatan dirichlet laten) pada materi "Live Journal". Seperti yang mereka katakan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>LDA pada artikel LiveJournal + visualisasi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495852/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah menjadi topik yang menarik, apa yang akan ditonjolkan LDA (penempatan dirichlet laten) pada materi "Live Journal". Seperti yang mereka katakan, ada minat - tidak ada masalah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai permulaan, sedikit tentang LDA di jari, kami tidak akan masuk ke detail matematika (siapa pun yang tertarik - membaca). Jadi, LDA - adalah salah satu algoritma paling umum untuk topik pemodelan. Setiap dokumen (baik itu artikel, buku, atau sumber data tekstual lainnya) adalah campuran dari topik, dan setiap topik adalah campuran dari kata-kata. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/so/xn/yb/soxnybbxasatclgqktqkyyafhhu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar diambil dari Wikipedia</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, tugas LDA adalah menemukan kelompok kata yang membentuk topik dari kumpulan dokumen. Kemudian, berdasarkan topik, Anda dapat mengelompokkan teks atau hanya menyorot kata kunci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekitar 1800 artikel diterima dari situs LifeJournal, semuanya dikonversi ke format jsonl, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
saya akan meninggalkan artikel-artikel yang tidak bersih pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disk Yandex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kami akan melakukan pembersihan dan normalisasi data: membuang komentar, menghapus kata-kata penghentian (daftar bersama dengan kode sumber tersedia di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), kami akan membawa semua kata ke ejaan huruf kecil, kami akan menghapus tanda baca dan kata-kata yang mengandung 3 huruf atau kurang. </font><font style="vertical-align: inherit;">Tetapi salah satu operasi pra-pemrosesan utama: menghapus kata-kata yang sering muncul, pada prinsipnya, dapat dibatasi dengan menghapus hanya kata-kata berhenti, tetapi kemudian kata-kata yang sering digunakan akan dimasukkan dalam hampir semua topik dengan probabilitas tinggi. </font><font style="vertical-align: inherit;">Dalam hal ini, dimungkinkan untuk memposting dan menghapus kata-kata tersebut. </font><font style="vertical-align: inherit;">Pilihan ada padamu.</font></font><br>
<br>
<pre><code class="python hljs">stop=open(<span class="hljs-string">'stop.txt'</span>)<font></font>
stop_words=[]<font></font>
<span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> stop:<font></font>
    stop_words.append(line)<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,len(stop_words)):<font></font>
    stop_words[i]=stop_words[i][:<span class="hljs-number">-1</span>]
<span class="hljs-comment"># specific regular expresion for this texts </span>
texts=[re.split( <span class="hljs-string">r' [\w\.\&amp;\?!,_\-#)(:;*%$№"\@]* '</span> ,texts[i])[<span class="hljs-number">0</span>].replace(<span class="hljs-string">"\n"</span>,<span class="hljs-string">""</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,len(texts))]   
    <span class="hljs-comment"># remove punctuation</span>
texts=[test_re(line) <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> texts]<font></font>
texts=[t.lower() <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> texts]
<span class="hljs-comment"># remove stop words</span>
texts = [[word <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> document.split() <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> stop_words] <span class="hljs-keyword">for</span> document <span class="hljs-keyword">in</span> texts]<font></font>
texts=[[word <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> document <span class="hljs-keyword">if</span> len(word)&gt;=<span class="hljs-number">3</span>]<span class="hljs-keyword">for</span> document <span class="hljs-keyword">in</span> texts]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kami membawa semua kata ke bentuk normal: untuk ini kami menggunakan pymorphy2 library, yang dapat diinstal melalui pip.</font></font><br>
<br>
<pre><code class="python hljs">morph = pymorphy2.MorphAnalyzer()
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,len(texts)):
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,len(texts[i])):<font></font>
        texts[i][j] =  morph.parse(texts[i][j])[<span class="hljs-number">0</span>].normal_form</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ya, kami akan kehilangan informasi tentang bentuk kata, tetapi dalam konteks ini, kami lebih tertarik pada kompatibilitas kata satu sama lain. Di sinilah persiapan awal kami selesai, tidak lengkap, tetapi cukup untuk melihat bagaimana algoritma LDA bekerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih lanjut, poin yang disebutkan di atas, pada prinsipnya, dapat dihilangkan, tetapi menurut pendapat saya, hasilnya lebih memadai, sekali lagi, ambang apa yang akan, Anda memutuskan, misalnya, Anda dapat membangun fungsi yang tergantung pada panjang rata-rata dokumen dan jumlah mereka :</font></font><br>
<br>
<pre><code class="python hljs">counter = collections.Counter()
<span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> texts:
    <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> t:<font></font>
        counter[r]+=<span class="hljs-number">1</span>
limit = len(texts)/<span class="hljs-number">5</span>
too_common = [w <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> counter <span class="hljs-keyword">if</span> counter[w] &gt; limit]<font></font>
too_common=set(too_common)<font></font>
texts = [[word <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> document <span class="hljs-keyword">if</span> word <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> too_common] <span class="hljs-keyword">for</span> document <span class="hljs-keyword">in</span> texts]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lanjutkan langsung ke pelatihan model, untuk ini kita perlu menginstal perpustakaan gensim, yang berisi banyak roti keren. </font><font style="vertical-align: inherit;">Pertama, Anda perlu menyandikan semua kata, fungsi Kamus akan melakukannya untuk kami, lalu ganti kata-kata itu dengan angka-angka yang setara. </font><font style="vertical-align: inherit;">Versi panggilan LDA yang dikomentari lebih panjang, karena diperbarui setelah setiap dokumen, Anda dapat bermain dengan pengaturan dan memilih opsi yang sesuai.</font></font><br>
<br>
<pre><code class="python hljs">texts=preposition_text_for_lda(my_r)<font></font>
dictionary = gensim.corpora.Dictionary(texts)<font></font>
corpus = [dictionary.doc2bow(text) <span class="hljs-keyword">for</span> text <span class="hljs-keyword">in</span> texts]
<span class="hljs-comment">#lda = gensim.models.ldamodel.LdaModel(corpus=corpus, id2word=dictionary, num_topics=10, update_every=1, chunksize=1, passes=1)</span>
lda = gensim.models.ldamodel.LdaModel(corpus=corpus, id2word=dictionary, num_topics=<span class="hljs-number">10</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah pekerjaan program, topik dapat dilihat menggunakan perintah</font></font><br>
<br>
<pre><code class="python hljs">lda.show_topic(i,topn=<span class="hljs-number">30</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, di mana saya adalah nomor topik, dan topn adalah jumlah kata dalam topik yang akan ditampilkan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang bonus kecil untuk memvisualisasikan tema, untuk ini Anda perlu menginstal perpustakaan wordcloud (seperti, utilitas serupa juga di matplotlib). </font><font style="vertical-align: inherit;">Kode ini memvisualisasikan tema dan menyimpannya di folder saat ini.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> wordcloud <span class="hljs-keyword">import</span> WordCloud, STOPWORDS
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>):<font></font>
    a=lda.show_topic(i,topn=<span class="hljs-number">30</span>)<font></font>
    wordcloud = WordCloud(<font></font>
                          relative_scaling = <span class="hljs-number">1.0</span>,<font></font>
                          stopwords = too_common <span class="hljs-comment"># set or space-separated string</span><font></font>
                          ).generate_from_frequencies(dict(a))<font></font>
    wordcloud.to_file(<span class="hljs-string">'society'</span>+str(i)+<span class="hljs-string">'.png'</span>) 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan akhirnya, beberapa contoh topik yang saya dapatkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3f/9f/r_/3f9fr_c5ta3bvodrtk2ugnaolo8.png"><br>
<br>
<img src="https://habrastorage.org/webt/jb/zi/32/jbzi32wizbdzbooiakzojxbo9d0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eksperimen dan Anda bisa mendapatkan hasil yang lebih bermakna.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id495834/index.html">Acara digital di Moskow dari 6 hingga 12 April</a></li>
<li><a href="../id495836/index.html">Acara digital di St. Petersburg dari 6 hingga 12 April</a></li>
<li><a href="../id495838/index.html">PHP Digest No. 177 (23 Maret - 6 April 2020)</a></li>
<li><a href="../id495844/index.html">Analis bisnis dan sistem. Apa yang perlu Anda ketahui</a></li>
<li><a href="../id495850/index.html">Kehidupan sehari-hari Scrum-Masters: tim dan transformasi diri</a></li>
<li><a href="../id495854/index.html">Bagaimana cara melarikan diri dari Covid dan dari pengawasan?</a></li>
<li><a href="../id495856/index.html">Intel DevCloud for oneAPI - layanan cloud untuk pengembang yang duduk di rumah</a></li>
<li><a href="../id495858/index.html">Terpencil dan mandiri: pengalaman ruang untuk membantu penduduk bumi</a></li>
<li><a href="../id495884/index.html">Prediksi Rangkaian Waktu Menggunakan Jaringan Syaraf Berulang</a></li>
<li><a href="../id495888/index.html">PyCon Russia telah membuka CFP untuk pembicara masa depan. Formulir Partisipasi dan Topik yang Diharapkan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>