<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🏭 👐🏿 🤸🏽 Redd合成プロセッサのプログラムを最適化せずに高速化：クロックを置き換える 👩‍🎓 🚵 👐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="これまで、いくつかの集中的な方法を使用してシステムの速度を向上させる方法のトピックについて説明してきました。しかし、実際には、広範な方法があります。現在、50 MHzのクロック周波数で作業しています。これは、大学のプログラムのセットからのコンポーネントの使用に関連しています（そして、SDRAMをクロ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Redd合成プロセッサのプログラムを最適化せずに高速化：クロックを置き換える</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469985/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これまで、いくつかの集中的な方法を使用してシステムの速度を向上させる方法のトピックについて説明してきました。しかし、実際には、広範な方法があります。現在、50 MHzのクロック周波数で作業しています。これは、大学のプログラムのセットからのコンポーネントの使用に関連しています（そして、SDRAMをクロックすることは不可能であり、マイクロ回路に向かうクロックパルスをメインのクロックに対してシフトする必要があります）。このコンポーネントをゲームに導入したとき、このソリューションは一時的なものであると警告しました。次に、読者に非常に多くの新しい情報をダンプしたので、余分な退屈さは感嘆につながる可能性があります。「まあ、これらのFPGA、すべてがここでは非常に複雑です！」現在、私たちはすでに簡単かつ自然にプロセッサシステムを構築しています。すべての恐ろしいことが背後にあります。コンポーネントを作成する方法を理解する時が来ました。これにより、プロセッサとそれに接続されている周辺機器の両方のクロック周波数を上げることができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cw/bq/hz/cwbqhzbsc0zb9fvgee5j7_7gyqw.png"><br>
<a name="habracut"></a><br>
<h4>  :</h4><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  «»  ,   Redd,      .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  «»  ,   Redd.  2.  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">          .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     Redd     .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">              Redd.</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> ,       .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    Redd.  1:  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    Redd.  2:      .</a></li>
</ol><br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのアイアンのクロッキングに苦痛なく設定できる周波数を見積もりましょう。コンプレックスで使用されるSDRAMチップは、133 MHzの制限周波数を許容します。プロセッサのクロック速度については、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nios IIパフォーマンスベンチマークを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。そこでは、当社のFPGA Cyclone IV Eに対して、160 MHzのNios II / fコア周波数が保証されています。私はシステムからすべてのジュースを搾り出すことを支持しているわけではないので、100 MHzの周波数での作業について説明します。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正直なところ、セクション</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32.7で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示したクロックシフトを計算するための方法論をまだ取り入れていません</font><b><font style="vertical-align: inherit;">。クロック、PLL、およびタイミングに関する考慮事項の</font></b><font style="vertical-align: inherit;">ドキュメント</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み込みペリフェラルIPユーザーガイド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、私だけではないようです。少なくとも、ネットを長時間検索しても、同じ方法で計算された結果が含まれる記事は見つかりませんでしたが、メインのドキュメントで指定されている周波数（同じ50 MHz）は対象外でした。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が直接リンクする興味深い記事があります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.emb4fun.de/fpga/nutos1/index.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。それを参照して「Let's do as the author」と書いてもよいが、そうではない場合でも、この記事の作成者はPLLブロックを使用します（ロシア語-PLL、家庭用レベル-周波数コンバーター）。 VHDLの独自のコード。私は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、楽しいQuartuselに関する記事で</font></a><font style="vertical-align: inherit;">すでに述べたように</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は、プロセッサシステムがプロジェクト階層の最上位にあるべきであるというイデオロギーに従います。 VHDLやVerilogなど、どの言語でも挿入は必要ありません。最近、この私のアプローチはもう1つの確認を受け取りました：新しい従業員、まだVerilogを話さない学生がいますが、選択されたアプローチがこれを可能にするため、Reddのコードを完全に作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
著者にとっては、すべてがマイナス54度のシフトで機能することを根拠としていることがわかりました（記事にはどのような度数が記載されているか、上の段落に示したリンクを使用しています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、別の興味深い記事</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">asral.unimap.edu.my/wp-content/uploads/2019/07/2019_IJEECS_Chan_Implementation-Camera-System.pdfに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注目して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。すべてがマイナス65度のシフトで作者に働きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この範囲の値を使用してシステムを作成してみましょう。</font><font style="vertical-align: inherit;">RAMの毎日のテスト中に単一の誤動作がない場合、この値は戦闘のままにします。</font><font style="vertical-align: inherit;">Redd向けに開発された「ファームウェア」は顧客に提供されるのではなく、内部のニーズに使用され、数量単位で使用されるため、私たちには権利があります。</font><font style="vertical-align: inherit;">どちらかと言えば、不必要な困難なしに常にすべてを修正することが可能です（販売された数千台のデバイスの「ファームウェア」を更新する必要があり、リモートの顧客から単純に更新する必要がある場合に困難が生じます）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいハードウェア構成</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか、この記事のプロセッサシステムは、古いものから作り直すよりも、ゼロから行う方が簡単なようです。 「ツイスト、ツイスト、混乱したい」プロセスをどのようにデモンストレーションするかについては、過去の記事を常に参照しながら、最初からもう一度すべて示したいと思います。同時に、素材を修正します。それでは、始めましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は、クロックとリセット信号ソースのみを含む完全に空のシステムが表示されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7q/lb/nb/7qlbnbmbkenpbeqgwna6jk4jnn4.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常は何も変更しませんが、今日は例外とします。リセット回路に気を取られたくないので、デバッガの下から作業します。したがって、リセット条件をレベルから負の差に切り替え、その後、脚自体を無効にします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dg/wl/tq/dgwltqtfn-kmqrd7wln66eenqxa.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ここでのクロック信号の周波数は50 MHzです（この周波数は、ボードにはんだ付けされたジェネレーターの特性によって設定されます）。上記の最初の記事では、メインプロジェクトに追加されたPLLブロックが使用されました。どこで入手できますか？そして、ここにいます！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/08/oy/om/08oyom1okdqkzb2ifmkuzqnjjw0.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは同じブロックですが、VerilogまたはVHDL言語でコードを埋め込む必要はありません。すべてがすでに挿入されています！確かに、さまざまなタイプのFPGAの設定は、完全にではなくわずかに異なります。より正確には、調整可能なパラメータは多かれ少なかれ同じですが、構成ダイアログの根本的に異なる場所にあります。 Cyclone IV E FPGAはReddコンプレックスで使用されるため、このオプションの構成を検討します。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のタブで、入力周波数を50 MHz（デフォルトでは100）に置き換え、次のタブに移動します（[次へ]をクリックします。CycloneIV Eの場合、これを何度も行う必要があります）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w-/rd/um/w-rdummwtsajd7lb__-cdwzp5ko.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
追加の入力と出力をオフにします。それらは必要ありません</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ed/0q/_o/ed0q_otou0y9f25tgvrlxmcpzgm.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。出力C0を設定するまで、次のいくつかのタブ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">スキップします。そこで、ラジオボタンを切り替えて周波数を設定し、100 MHzの値を入力します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r0/lr/xp/r0lrxpaypyrhi9k3yvdhe8qaqp4.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C1では、状況はもう少し複雑です。まず、使用する必要があることを示すチェックボックスを選択します。次に、同様に100 MHzの周波数を設定します。さて、そして第三に、周波数シフトを設定します。どちらを質問しますか？マイナス58またはマイナス65？もちろん、私は両方のオプションを試しました。どちらも私を獲得しています。しかし、トピックマイナス58に関する議論は少し説得力がないように見えるので、ここではマイナス65度の値を入力することをお勧めします（自動化により、実際の値はマイナス63度になることがわかります）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bc/p2/qq/bcp2qqfzxrhq5dnpg8xrkxeq4cm.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、それだけです。これで、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次へ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ボタン</font><font style="vertical-align: inherit;">を最後まで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">進める</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">か、[ </font><b><font style="vertical-align: inherit;">完了</font></b><font style="vertical-align: inherit;"> ]をクリックするだけ</font><font style="vertical-align: inherit;">です。入力</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inclk_interface</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inclk_interface_reset</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を接続し</font><font style="vertical-align: inherit;">ます。出力</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システム全体の時計として使用します。</font><font style="vertical-align: inherit;">出力</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c1は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sdram</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チップをクロッキングするためにエクスポートされ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">将来的には、データバスを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pll_slave</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入力に</font><b><font style="vertical-align: inherit;">必ず</font></b><font style="vertical-align: inherit;">接続する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Cyclone Vの場合、これは必要ありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d8/ka/fr/d8kafro1xgmvgyh2ofbytqoo7a0.png"> <br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他のハードウェア部品、純粋に固定用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセッサコアを追加します。今日、SDRAMはテストの対象となります。したがって、コードをその中に配置しないでください。そしてこれは、すべてのコードがFPGAの内部RAMに配置されることを意味します。つまり、命令キャッシュは必要ありません。オフにして、FPGAメモリを節約します。また、命令とデータの1つの高度に接続されたバスを介して接続します。プロセッサコアにこれ以上興味深い設定は必要ありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2s/h2/jz/2sh2jzypydrpub1i5pzsqfymbyc.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常の手の動きで、内部RAM FPGAの2つのブロックを追加します。 1つは容量が16キロバイトのデュアルポートで、もう1つは容量が4キロバイトのシングルポートです。それらに名前を付ける方法と接続する方法、私は皆が覚えていることを望みます。前回、おそらく読みやすくするために、花でタイヤを強調表示したかったので、この記事で強調します。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lu/fs/sh/lufsshayqwws2kmrbr1isy3bjow.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのメモリブロックに個人用範囲の特別なアドレスを割り当ててロックすることを忘れないでください。してみましょう</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CodeMemoryが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0x20000000に割り当てられ、そして</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がDataMemory</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0x20004000に。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDRAM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックをシステム</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">追加し</font><font style="vertical-align: inherit;">てセットアップし、</font><font style="vertical-align: inherit;">メッセージを出力するための</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JTAG-UART</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロック</font><font style="vertical-align: inherit;">とシングルビット</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPIOを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加して</font><font style="vertical-align: inherit;">、実際の周波数を測定して増加を確認します。参考のために、わかりにくい設定をいくつか示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i3/eo/1h/i3eo1hx2p7ozz4h_9t026n6h-io.png"> <br>
<br>
<img src="https://habrastorage.org/webt/t9/af/br/t9afbrimkhlvmd-n8qkhc08ol50.png"> <br>
<br>
<img src="https://habrastorage.org/webt/hw/f3/gc/hwf3gcxo8y4dt4exehzc-v_qoli.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
全体として、このようなシステムが得られます（すべての外部デバイスをスキャンするため、データバスを強調表示しました）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/km/rv/jqkmrvm8acbrz3gqqq_asxque_a.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセッサにベクトルを割り当て、アドレスを自動的に割り当て、割り込み番号を自動的に割り当て、システムを生成します。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムをプロジェクトに接続し、大まかな組み立てを行い、レッグ番号を割り当てます。今回は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CKE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">だけ</font><font style="vertical-align: inherit;">でなく、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reset_n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も</font><font style="vertical-align: inherit;">仮想化</font><font style="vertical-align: inherit;">します（これを行う方法</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、以前の記事の1つで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明しましたが、そこで</font><font style="vertical-align: inherit;">仮想ピンを探します）。</font><font style="vertical-align: inherit;">最終的な組み立てを行い、機器をFPGAに充填します。</font><font style="vertical-align: inherit;">すべて。</font><font style="vertical-align: inherit;">機器は完成しました。ソフトウェア部分に進みます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境に合わせてBSPを設定します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変更の場合は、のではないのテンプレートに基づいてプロジェクトを作成しましょう</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello Worldの小</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、しかしの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリテスト小を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fh/bf/zj/fhbfzjbc6dqxyirgnhffs5nmzmw.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それが作成されると、BSPエディタにアクセスしてください。いつものように、最初に行うことはSysIDチェックをオフにしてC ++の使用を許可することです（今回はファイルの種類を変更しませんが、これは既に私の習慣です）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ro/z3/4m/roz34m7na_mx3tzwawyu98qrrgs.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、最も重要なことは[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンカースクリプト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]タブで修正すること</font><font style="vertical-align: inherit;">です。オートメーションは、命令バスが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CodeMemory</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">のみ行くことを認識した</font><font style="vertical-align: inherit;">ため、コードのセクション（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.text</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれる</font><font style="vertical-align: inherit;">）を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CodeMemoryに配置しました</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。しかし、彼女は私たちの世話をして、</font><b><font style="vertical-align: inherit;">SDRAMに</font></b><font style="vertical-align: inherit;">ある最大のデータ領域に他のすべてのものを配置しました</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私たちが容赦なくこの記憶を消すことを彼女はどのようにして知りましたか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vo/tm/wq/votmwq4a0fiiu1irm0nud86hvwa.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
行ごとに手動で領域を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataMemoryに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置き換える</font><font style="vertical-align: inherit;">必要があります（選択リストがそこに表示され、選択範囲をそれらに再配置する必要があります）。</font><font style="vertical-align: inherit;">次の画像を取得する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-f/xf/gs/-fxfgskf00akgti0fab5r_nn-h0.png"> <br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラム実験</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エディターを終了し、BSPを生成して、デバッグのためにプログラムを実行してみます。</font><font style="vertical-align: inherit;">次のテキストが表示されます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wd/wo/w2/wdwow2im-i13rjmekzoj2ada9ag.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。Enterキーを押しても成功しませんでした。</font><font style="vertical-align: inherit;">何か（はい、スペースも）を入力して、Enterキーを押しました。</font><font style="vertical-align: inherit;">それから彼らは私に尋ねました：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f8/or/rz/f8orrztu-bfgdmvrwfs5pmi6bag.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
時間ごとの時間は簡単ではありません。</font><font style="vertical-align: inherit;">そして、どの住所を入力しますか？</font><font style="vertical-align: inherit;">Platform Designerを開いて、その値を確認できます。</font><font style="vertical-align: inherit;">しかし、私は通常、ユニバーサルリファレンスファイルsystem.hを調べます（私のプロジェクトの完全パスはC：\ Work \ CachePlay5 \ software \ MemoryTest_bsp \ system.hです）。</font><font style="vertical-align: inherit;">そこで、次の2行に注目します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6s/jd/mn/6sjdmnjd-k-jpho1b21472e6xek.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じテキスト</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">#define ALT_MODULE_CLASS_new_sdram_controller_0 altera_avalon_new_sdram_controller<font></font>
#define NEW_SDRAM_CONTROLLER_0_BASE 0x0<font></font>
#define NEW_SDRAM_CONTROLLER_0_CAS_LATENCY 3<font></font>
#define NEW_SDRAM_CONTROLLER_0_CONTENTS_INFO<font></font>
#define NEW_SDRAM_CONTROLLER_0_INIT_NOP_DELAY 0.0<font></font>
#define NEW_SDRAM_CONTROLLER_0_INIT_REFRESH_COMMANDS 2<font></font>
#define NEW_SDRAM_CONTROLLER_0_IRQ -1<font></font>
#define NEW_SDRAM_CONTROLLER_0_IRQ_INTERRUPT_CONTROLLER_ID -1<font></font>
#define NEW_SDRAM_CONTROLLER_0_IS_INITIALIZED 1<font></font>
#define NEW_SDRAM_CONTROLLER_0_NAME "/dev/new_sdram_controller_0"<font></font>
#define NEW_SDRAM_CONTROLLER_0_POWERUP_DELAY 100.0<font></font>
#define NEW_SDRAM_CONTROLLER_0_REFRESH_PERIOD 15.625<font></font>
#define NEW_SDRAM_CONTROLLER_0_REGISTER_DATA_IN 1<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_ADDR_WIDTH 0x18<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_BANK_WIDTH 2<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_COL_WIDTH 9<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_DATA_WIDTH 16<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_NUM_BANKS 4<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_NUM_CHIPSELECTS 1<font></font>
#define NEW_SDRAM_CONTROLLER_0_SDRAM_ROW_WIDTH 13<font></font>
#define NEW_SDRAM_CONTROLLER_0_SHARED_DATA 0<font></font>
#define NEW_SDRAM_CONTROLLER_0_SIM_MODEL_BASE 0<font></font>
#define NEW_SDRAM_CONTROLLER_0_SPAN 33554432<font></font>
#define NEW_SDRAM_CONTROLLER_0_STARVATION_INDICATOR 0<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、10進数の33554432は16進数の0x2000000と同じです。</font><font style="vertical-align: inherit;">したがって、私の答えと作業の結果は次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4a/uq/tz/4auqtz8lgb-ql61btoxiqbskzfk.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
優れていますが、これは日常のテストには適していません。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数を次の</font><font style="vertical-align: inherit;">よう</font><font style="vertical-align: inherit;">に書き直しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">int main(void)<font></font>
{<font></font>
   int step = 0;<font></font>
<font></font>
   while (1)<font></font>
   {<font></font>
       if (step++%100 == 0)<font></font>
       {<font></font>
           alt_printf (".");<font></font>
       }<font></font>
       if (MemTestDevice(NEW_SDRAM_CONTROLLER_0_BASE, NEW_SDRAM_CONTROLLER_0_SPAN)!=0)<font></font>
       {<font></font>
           printf ("*");<font></font>
       }<font></font>
   }<font></font>
<font></font>
   return (0);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドットは、プログラムが「ハング」しなかったことを示します。</font><font style="vertical-align: inherit;">エラーがある場合は、アスタリスクが表示されます。</font><font style="vertical-align: inherit;">信頼性を高めるために、出力にブレークポイントを設定して、スリープしないでください。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確かに、「左」のポイントはどこかから上昇しました。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MemTestDevice（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数内に表示されることが</font><b><font style="vertical-align: inherit;">わかりました</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そこで私は彼らの結論を消した。</font><font style="vertical-align: inherit;">テストは成功しました。</font><font style="vertical-align: inherit;">結果として得られるシステムは、少なくとも内部のニーズに使用できます（つまり、そのような開発はReddコンプレックスで行われます）。</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システム全体のパフォーマンスの確認</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私はすでに、機器を扱うときに何も信用できないという事実に慣れています。</font><font style="vertical-align: inherit;">すべてを注意深くチェックする必要があります。</font><font style="vertical-align: inherit;">以前の記事に比べて2倍の頻度で作業するようにしましょう。</font><font style="vertical-align: inherit;">よく知られた関数MagicFunction1（）を追加します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼女の様子を思い出させてください。</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">void MagicFunction1()<font></font>
{<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
		IOWR (PIO_0_BASE,0,1);<font></font>
		IOWR (PIO_0_BASE,0,0);<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main（）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼び</font><font style="vertical-align: inherit;">、オシロスコープでパルスをキャッチしますが、今回はその美しさだけでなく、周波数にも注目します（少なくとも各ドロップは上向きで、下向きでも1つのコマンドであるため、ドロップ間の距離を測定できます）</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sm/pt/xf/smptxfb1x4sub0-v-6lbu7wkdpy.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わずか50メガヘルツ。</font><font style="vertical-align: inherit;">頻度は本当に増加していませんか？</font><font style="vertical-align: inherit;">最後の記事を書くときに開発されたコードの頻度と比較してください。すべてが順調であることがわかります。</font><font style="vertical-align: inherit;">通常のpioユニットは、ポートへの出力ごとに2クロックサイクルを必要とするだけです（自家製のものでは1クロックを得ましたが、ここでは、システムのパフォーマンスが2倍になったことを確認するのに十分です）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w3/in/uo/w3inuobmvzdoa7pebgadrjigute.png"> <br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
固定クロックジェネレーターの代わりにカスタムPLLブロックを使用する方法を学びました。確かに、検出された定数は100 MHzの周波数用に設計されていますが、既知の計算を使用するか、試行錯誤することで、誰でも他の周波数に調整できます。また、最適なプロセッサシステムを作成するスキルを強化し、より高い周波数のメモリが安定して動作し、周波数が本当に増加することを確認しました。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、私たちはすでにあらゆるコンピューティングを生成でき、中央プロセッサと交換することもできますが、複合施設の中央プロセッサは、平凡な計算をより効率的に処理します。</font><font style="vertical-align: inherit;">FPGAはReddに追加され、高速インターフェイスを実装したり、情報フローをキャプチャ（適切に、または再生）したりします。</font><font style="vertical-align: inherit;">私たちはすでに設計の基本をマスターしており、多かれ少なかれ高いパフォーマンスを提供する方法を学びました。</font><font style="vertical-align: inherit;">次の記事で行うのは、インターフェイスを引き続き使用するときです。</font><font style="vertical-align: inherit;">より正確には、「1つの記事-1つのもの」というルールに留意した一連の記事。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja469975/index.html">ノートパソコンとサンティアゴの道</a></li>
<li><a href="../ja469977/index.html">3人のクラスメートがFacebookパートナーになった経緯-Revealbotストーリー</a></li>
<li><a href="../ja469979/index.html">2番目のiOS mitap Redmadrobotからのレポートの記録</a></li>
<li><a href="../ja469981/index.html">チャットボットの内部には何がありますか？</a></li>
<li><a href="../ja469983/index.html">老化を克服するための戦略を作成するには？</a></li>
<li><a href="../ja469989/index.html">C＃例の正規表現</a></li>
<li><a href="../ja469991/index.html">RabbitMQとTypeScriptを使用してオンラインストアからの注文を処理します</a></li>
<li><a href="../ja469995/index.html">Python SAXパーサーとPython DOMパーサー。Parsim FIAS-houses</a></li>
<li><a href="../ja469997/index.html">注意を引く可能性が最も高い見出しまたはHabraHabr</a></li>
<li><a href="../ja469999/index.html">サーバーが互いにネゴシエートする方法：Raft分散コンセンサスアルゴリズム</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>