<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™‹ğŸ¾ ğŸ§ â™“ï¸ å¦‚ä½•ä½¿ç”¨CRDä»¥ç­–ç•¥å³ä»£ç çš„æ–¹å¼è‡ªåŠ¨åŒ–å®¹å™¨çš„å®‰å…¨æ€§ ğŸš¦ ğŸ‘©â€â¤ï¸â€ğŸ‘¨ ğŸ›„</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨Kubernetes CRDè‡ªåŠ¨åŒ–å®‰å…¨æ€§å¹¶ä¿æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åºã€‚
 
 ç¿»è¯‘æ¥è‡ªæ‚å¿—Tomorrow Cloudy Mail.ru Cloud Solutionså›¢é˜Ÿã€‚èµ„æ–™æ¥æºï¼šNiteen Koleå¦‚ä½•ä½¿ç”¨CRDé€šè¿‡é™„åŠ ä»£ç è·å–å®‰å…¨ç­–ç•¥ä½œä¸ºä»£ç æ¥è‡ªåŠ¨åŒ–å®¹å™¨å®‰å…¨ã€‚
 
 ä¸ºä»€ä¹ˆéœ€è¦...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>å¦‚ä½•ä½¿ç”¨CRDä»¥ç­–ç•¥å³ä»£ç çš„æ–¹å¼è‡ªåŠ¨åŒ–å®¹å™¨çš„å®‰å…¨æ€§</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/490796/"><img src="https://habrastorage.org/webt/re/se/j_/resej_lfa2uc6q7hw98dpinxlio.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨Kubernetes CRDè‡ªåŠ¨åŒ–å®‰å…¨æ€§å¹¶ä¿æŠ¤æ‚¨çš„åº”ç”¨ç¨‹åºã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¿»è¯‘æ¥è‡ªæ‚å¿—Tomorrow Cloudy </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¢é˜Ÿ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">èµ„æ–™æ¥æºï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Niteen Koleå¦‚ä½•ä½¿ç”¨CRD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">é™„åŠ ä»£ç è·å–å®‰å…¨ç­–ç•¥ä½œä¸ºä»£ç æ¥è‡ªåŠ¨åŒ–å®¹å™¨å®‰å…¨</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºä»€ä¹ˆéœ€è¦CRD</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é•¿æœŸä»¥æ¥ï¼Œå®‰å…¨ä¸€ç›´æ˜¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DevOpså›¢é˜Ÿ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„å¤´ç–¼é—®é¢˜</font><font style="vertical-align: inherit;">ã€‚ç°æœ‰çš„è½¯ä»¶å·¥å…·æˆåŠŸåœ°è§£å†³äº†è‡ªåŠ¨åŒ–ç»„è£…å’Œæ¨å‡ºåº”ç”¨ç¨‹åºçš„é—®é¢˜-åŸºäºå®¹å™¨çš„è‡ªåŠ¨æ¨å‡ºåº”ç”¨ç¨‹åºå·²æˆä¸ºæ ‡å‡†ã€‚åŒæ—¶ï¼Œå®‰å…¨è®¾ç½®çš„è‡ªåŠ¨åŒ–ä¹Ÿå¾ˆè½åã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥å®ç°è‡ªåŠ¨æ¼æ´æ‰«æï¼Œä½†æ˜¯ä¸ºåº”ç”¨ç¨‹åºå®‰å…¨æ€§æ‰‹åŠ¨é…ç½®ç­–ç•¥çš„éœ€æ±‚å˜å¾—ä»¤äººå¤´ç–¼ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Kubernetesè‡ªå®šä¹‰èµ„æºå®šä¹‰ï¼ˆCRDï¼‰</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
çš„å¼•å…¥</font><font style="vertical-align: inherit;">å°†æœ‰åŠ©äºè§£å†³åœ¨åº”ç”¨ç¨‹åºç»„è£…å’Œæ¨å‡ºçš„åˆå§‹é˜¶æ®µå°†å®‰å…¨ç­–ç•¥å®šä¹‰ä¸ºä»£ç çš„é—®é¢˜ï¼Œå¹¶åœ¨å°†åº”ç”¨ç¨‹åºæ¨å¹¿åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶è‡ªåŠ¨ä½¿ç”¨å®ƒä»¬ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRDå¯ç”¨äºå®æ–½å…¨å±€å®‰å…¨ç­–ç•¥ï¼Œè¿™äº›ç­–ç•¥å®šä¹‰åº”ç”¨ç¨‹åºè¡Œä¸ºå¹¶é…ç½®æ‰€ä½¿ç”¨çš„å¤šä¸ªKubernetesé›†ç¾¤çš„å®‰å…¨æ€§ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨CRDè¿›è¡Œè‡ªåŠ¨åŒ–å¹¶å°†å®‰å…¨è®¾ç½®é›†ä¸­å®šä¹‰ä¸ºä»£ç ï¼Œæ‚¨å¯ä»¥åŒæ—¶åŠ å¼ºå®‰å…¨è®¾ç½®å¹¶ç®€åŒ–å…¶åº”ç”¨ã€‚</font><font style="vertical-align: inherit;">æœ€ç»ˆï¼Œè¿™å°†å¯¼è‡´åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ é«˜æ•ˆï¼Œé”™è¯¯æ›´å°‘ï¼Œæœ€é‡è¦çš„æ˜¯æ›´åŠ å®‰å…¨ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRDå¦‚ä½•å·¥ä½œï¼Ÿ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†å®šä¹‰å®‰å…¨ç­–ç•¥ï¼Œæˆ‘ä»¬å°†åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NeuVector</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®¹å™¨å¹³å°å†…ä½¿ç”¨NeuVector CRD </font><font style="vertical-align: inherit;">ã€‚ NeuVectoråœ¨å®¹å™¨å®‰å…¨æ–¹é¢çš„æ›¿ä»£æ–¹æ¡ˆï¼šAquaSecï¼ŒStackRoxï¼ŒSysdig Secureï¼ŒTwistlockã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NeuVector CRDåŒ…å«çš„ç­–ç•¥é¦–å…ˆæ”¶é›†æ­£å¸¸åº”ç”¨ç¨‹åºè¡Œä¸ºçš„å®Œæ•´æ¡£æ¡ˆã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ”¶é›†åˆ°çš„è¡Œä¸ºä¼šæ·»åŠ åˆ°ç™½åå•ï¼ŒåŒ…æ‹¬æ‰€æœ‰ç½‘ç»œè§„åˆ™ï¼Œè¿›ç¨‹ï¼Œåè®®å’Œæ–‡ä»¶æ“ä½œã€‚æ‰€æœ‰è¿™äº›å…±åŒæ„æˆäº†ä¸€ç»„æ ‡å‡†åº”ç”¨ç¨‹åºæ“ä½œã€‚ç„¶åï¼Œåº”ç”¨å®‰å…¨è®¾ç½®ï¼Œä»…å…è®¸åœ¨ç»„æˆåº”ç”¨ç¨‹åºçš„å®¹å™¨å†…è¿›è¡Œå·²ç¡®è®¤çš„ç½‘ç»œè¿æ¥ã€‚è¿™äº›è¿æ¥æ˜¯åœ¨æ£€æŸ¥OSIæ¨¡å‹å±‚7ï¼ˆåº”ç”¨ç¨‹åºåè®®å±‚ï¼‰æœŸé—´è¯†åˆ«çš„ã€‚å› æ­¤ï¼Œå°†é˜²æ­¢ä»»ä½•æœªç»æˆæƒçš„å¤–éƒ¨è¿æ¥å°è¯•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®‰å…¨ç­–ç•¥å°†é˜»æ­¢æ”»å‡»è€…ä½¿ç”¨å®¹å™¨å¤–éƒ¨æˆ–å†…éƒ¨çš„é€šä¿¡æ¥å°†åº”ç”¨ç¨‹åºç”¨äºè‡ªå·±çš„ç›®çš„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRDå…è®¸æ‚¨åˆ†åˆ«å®šä¹‰å…¨å±€è§„åˆ™å’Œæ¯ä¸ªæœåŠ¡çš„è§„åˆ™ã€‚</font><font style="vertical-align: inherit;">CRDè¿˜ä¸Kubernetes RBACå…¼å®¹ï¼Œå…è®¸æ‚¨ä½¿ç”¨æœåŠ¡å¸æˆ·å’ŒKubernetesè§’è‰²æ¥å®æ–½å®‰å…¨ç­–ç•¥ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦å¤–ï¼Œç‰ˆæœ¬æ§åˆ¶å¯ç”¨äºä¸ºåº”ç”¨ç¨‹åºçš„æ¯ä¸ªç‰ˆæœ¬åˆ›å»ºå…¶è‡ªå·±çš„ç­–ç•¥ï¼›æ”¯æŒä¸å®‰å…¨ç­–ç•¥ç®¡ç†å·¥å…·ï¼ˆå¦‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open Policy Agentï¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é›†æˆ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¯ä»¥åœ¨Mail.ruäº‘è§£å†³æ–¹æ¡ˆäº‘ä¸­å…è´¹æµ‹è¯•</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Kubernetes</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç°æˆçš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¾¤é›†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¯¥</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ç¾¤é›†</font></a><font style="vertical-align: inherit;">å…·æœ‰åŸºäºPrometheuså’ŒGrafanaä»¥åŠTLSå’ŒRBACçš„ç»è¿‡ç‰¹æ®Šè°ƒæ•´çš„ç›‘æ§ç³»ç»Ÿï¼Œç”¨äºç®¡ç†è®¿é—®æƒé™å’Œæ ‡å‡†åŒ–åˆ†å¸ƒå¼å›¢é˜Ÿä¸­çš„å¼€å‘ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºNeuVector CRD</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NeuVector CRDå…è®¸æ‚¨ä½¿ç”¨æœ¬æœºYAML Kubernetesæ–‡ä»¶åˆ›å»ºå®‰å…¨è§„åˆ™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ›å»ºä¸€ä¸ªåŒ…å«NeuVector CRDæè¿°çš„nvsecurityrule.yamlæ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">è¯¥æ–‡ä»¶æ§åˆ¶</font></font><code>NvSecurityRule</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸æ€§è´¨</font></font><code>namespaced</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><code>NvClusterSecurityRule</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¾¤é›†æœ‰å…³çš„å†…å®¹ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: apiextensions.k8s.io/v1beta1<font></font>
kind: CustomResourceDefinition<font></font>
metadata:<font></font>
  name: nvsecurityrules.neuvector.com<font></font>
spec:<font></font>
  group: neuvector.com<font></font>
  names:<font></font>
    kind: NvSecurityRule<font></font>
    listKind: NvSecurityRuleList<font></font>
    plural: nvsecurityrules<font></font>
    singular: nvsecurityrule<font></font>
  scope: Namespaced<font></font>
  version: v1<font></font>
  versions:<font></font>
  â€” name: v1<font></font>
    served: true<font></font>
    storage: true<font></font>
<font></font>
---<font></font>
<font></font>
apiVersion: apiextensions.k8s.io/v1beta1<font></font>
kind: CustomResourceDefinition<font></font>
metadata:<font></font>
  name: nvclustersecurityrules.neuvector.com<font></font>
spec:<font></font>
  group: neuvector.com<font></font>
  names:<font></font>
    kind: NvClusterSecurityRule<font></font>
    listKind: NvClusterSecurityRuleList<font></font>
    plural: nvclustersecurityrules<font></font>
    singular: nvclustersecurityrule<font></font>
  scope: Cluster<font></font>
  version: v1<font></font>
  versions:<font></font>
  â€” name: v1<font></font>
    served: true<font></font>
    storage: true<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦åˆ›å»ºCRDï¼Œè¯·è¿è¡Œï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">$ kubectl create -f nvsecurityrule.yaml</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åªè¦NeuVector CRDè¢«åˆ›å»ºï¼Œæ‰€æœ‰èµ„æºåä¸å‚æ•°åˆ›å»º</font></font><code>kind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><code>NvSecurityRule</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†ç”±è¯¥CRDå¤„ç†ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿æ¥çš„å®‰å…¨ç­–ç•¥æ¥åˆ›å»ºè‡ªå·±çš„èµ„æºã€‚åœ¨åšä»»ä½•äº‹æƒ…ä¹‹å‰ï¼Œå»ºè®®å…ˆå­¦ä¹ NeuVectoræ–‡æ¡£å¹¶æ·»åŠ å¿…è¦çš„</font></font><code>clusterroles</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><code>clusterrolebindings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦å¤–ï¼Œä½¿ç”¨æ­¤CRDåœ¨Kubernetesç¾¤é›†ä¸­åº”ç”¨NeuVectorå®‰å…¨ç­–ç•¥éœ€è¦æ­£ç¡®çš„æƒé™è®¾ç½®ï¼ˆRBACï¼‰ã€‚ CRDä¸ºä»»ä½•åç§°ç©ºé—´å®šä¹‰çš„å®‰å…¨ç­–ç•¥åªèƒ½ç”±æœ‰æƒéƒ¨ç½²åˆ°æŒ‡å®šåç§°ç©ºé—´çš„ç”¨æˆ·åº”ç”¨ã€‚å°†å®‰å…¨ç­–ç•¥åº”ç”¨äºç¾¤é›†éœ€è¦ç¾¤é›†ç®¡ç†å‘˜æƒé™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹æ˜¯æ¥è‡ªdemo-security-v1.yamlçš„ä¸€æ®µæµ‹è¯•ä»£ç ï¼Œè¯¥ä»£ç </font><font style="vertical-align: inherit;">é€šè¿‡ä»…é€šè¿‡HTTPæä¾›å¯¹ç›¸åŒåç§°ç©ºé—´çš„å…¶ä»–å®¹å™¨çš„è®¿é—®æ¥</font><font style="vertical-align: inherit;">é™åˆ¶</font></font><code>nginx-pod</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°ç©ºé—´ä¸­</font></font><code>demo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„å®¹å™¨ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: v1<font></font>
items:<font></font>
- apiVersion: neuvector.com/v1<font></font>
  kind: NvSecurityRule<font></font>
  metadata:<font></font>
    name: nv.nginx-pod.demo<font></font>
  spec:<font></font>
    egress:<font></font>
    â€” Selector:<font></font>
        criteria:<font></font>
        â€” key: service<font></font>
          op: =<font></font>
          value: node-pod.demo<font></font>
        â€” key: domain<font></font>
          op: =<font></font>
          value: demo<font></font>
        name: nv.node-pod.demo<font></font>
      action: allow<font></font>
      applications:<font></font>
      - HTTP<font></font>
      name: nv.node-pod.demo-egress-0<font></font>
      ports: any<font></font>
    â€” Selector:<font></font>
        criteria:<font></font>
        â€” key: service<font></font>
          op: =<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç‰‡æ®µä¸‹æ–¹åº”æ˜¯å¯¹åç§°ç©ºé—´ä¸­çš„å®¹å™¨æ‰€å…è®¸çš„æ‰€æœ‰ç½‘ç»œè¿æ¥çš„æè¿°</font></font><code>demo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä¾‹å¦‚ï¼Œä¸æœåŠ¡å™¨çš„è¿æ¥</font></font><code>redis</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥åŠæ¯ä¸ªå®¹å™¨æ‰€å…è®¸çš„è¿›ç¨‹å’Œç£ç›˜æ´»åŠ¨ã€‚</font><font style="vertical-align: inherit;">ä¸è¦å¿˜è®°å…ˆéƒ¨ç½²NeuVectorå®‰å…¨ç­–ç•¥ï¼Œç„¶åå†éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå®‰å…¨ç­–ç•¥å°†ä»åº”ç”¨ç¨‹åºå¯åŠ¨çš„é‚£ä¸€åˆ»èµ·ç”Ÿæ•ˆã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦åº”ç”¨å®‰å…¨ç­–ç•¥ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">$ kubectl create -f demo-security-v1.yaml</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NeuVectorè¯»å–åˆ›å»ºçš„èµ„æºä¸­çš„å®‰å…¨ç­–ç•¥ï¼Œå¹¶ä½¿ç”¨REST APIä¸NeuVectoræ§åˆ¶å™¨è”ç³»ï¼Œåè€…æ ¹æ®ä¼ è¾“çš„å®‰å…¨ç­–ç•¥åˆ›å»ºè§„åˆ™å’Œé…ç½®ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†å®‰å…¨ç­–ç•¥ä½œä¸ºä»£ç åº”ç”¨çš„é€‰é¡¹ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†å®‰å…¨ç­–ç•¥ç”¨ä½œä»£ç ä¸ºDevOps / DevSecOpså‘½ä»¤å’Œç¨‹åºå‘˜éƒ½æä¾›äº†å¾ˆå¤šæœºä¼šã€‚</font><font style="vertical-align: inherit;">è¿™é‡Œæœ‰äº›ä¾‹å­ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨å»ºç­‘åº”ç”¨ç¨‹åºçš„åˆå§‹é˜¶æ®µå¼€å‘å’Œæµ‹è¯•å®‰å…¨æ¸…å•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¼€å‘äººå‘˜å¯ä»¥åœ¨å¼€å‘çš„æ—©æœŸé˜¶æ®µä½¿ç”¨CRDä½¿åº”ç”¨ç¨‹åºæ›´å®‰å…¨ã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬å¯ä»¥åŒæ—¶åˆ¶ä½œç”¨äºéƒ¨ç½²å’Œåº”ç”¨å®‰å…¨ç­–ç•¥çš„æ¸…å•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ„å»ºæ˜ åƒï¼Œè‡ªåŠ¨æ£€æŸ¥æ¼æ´å¹¶å¾—åˆ°DevOpså›¢é˜Ÿçš„æ‰¹å‡†åï¼ŒDevOpså¯ä»¥éªŒè¯è¿™ä¸¤ä¸ªæ¸…å•ï¼Œå¹¶ä»å®‰å…¨çš„è§’åº¦å‘å¼€å‘å›¢é˜Ÿæä¾›å»ºè®®ã€‚</font><font style="vertical-align: inherit;">ä»æœ€åˆçš„éƒ¨ç½²åˆ°ç”Ÿäº§ï¼Œæ–°çš„åº”ç”¨ç¨‹åºå°†ä¸æœ‰æ•ˆçš„å®‰å…¨ç­–ç•¥ä¸€èµ·éƒ¨ç½²ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ml/ks/wl/mlkswl2haoy3el68vvrbk9iei7o.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨è¡Œä¸ºåˆ†ææ¥åˆ›å»ºå®‰å…¨ç­–ç•¥</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DevOpså›¢é˜Ÿå¯ä»¥åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨NeuVectorè¡Œä¸ºåˆ†æåŠŸèƒ½æ¥å¼€å‘å®‰å…¨ç­–ç•¥å¹¶åˆ›å»ºé€‚ç”¨äºNeuVector CRDçš„Yamlæ–‡ä»¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸‹å›¾ä»è¯¥å›¾çš„å³ä¸‹è§’å¼€å§‹ï¼Œæ˜¾ç¤ºäº†æ‚¨çš„DevOpså›¢é˜Ÿå¦‚ä½•å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒï¼Œåœ¨è¯¥ç¯å¢ƒä¸­å¯¹åº”ç”¨ç¨‹åºçš„è¡Œä¸ºè¿›è¡Œäº†å®Œæ•´çš„åˆ†æï¼Œå¹¶å½¢æˆäº†ç½‘ç»œï¼Œæ–‡ä»¶æ´»åŠ¨å’Œæµç¨‹çš„å®‰å…¨é…ç½®æ–‡ä»¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™äº›è§„åˆ™å°†å¯¼å‡ºå¹¶ä¼ é€’ç»™è¿›è¡Œå¿…è¦è°ƒæ•´çš„å¼€å‘äººå‘˜å’ŒDevOpsï¼Œåè€…åœ¨å°†å…¶ç”¨äºç”Ÿäº§ä¹‹å‰å¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b2/ot/4s/b2ot4sh13g3djhzmohn3ketxliy.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¨çƒå®‰å…¨æ”¿ç­–</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NeuVector CRDå…è®¸æ‚¨å®šä¹‰ä¸ä¸ç‰¹å®šåº”ç”¨ç¨‹åºæˆ–ç¾¤é›†ä¸­çš„ä¸€ç»„åº”ç”¨ç¨‹åºç»‘å®šçš„å…¨å±€å®‰å…¨æ€§ç­–ç•¥ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œæ‚¨çš„å®‰å…¨æˆ–å®æ–½å›¢é˜Ÿå¯èƒ½ä¼šå®šä¹‰å…¨å±€ç½‘ç»œè§„åˆ™ï¼Œä»¥é˜»æ­¢æ‰€æœ‰å®¹å™¨ä¸­çš„ä»»ä½•è¿æ¥æˆ–é…ç½®å¯¹ç¾¤é›†ä¸­æ‰€æœ‰è¿›ç¨‹çš„ç›‘è§†è®¿é—®ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c5/tr/dk/c5trdkiv7j4gcsmnniniezn9bko.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“åˆä½¿ç”¨é€šç”¨å®‰å…¨ç­–ç•¥å’Œåº”ç”¨ç¨‹åºå®‰å…¨ç­–ç•¥ï¼Œæ‚¨å¯ä»¥æ„å»ºç»„ç»‡æ‰€éœ€çš„å¤æ‚è€Œç²¾ç¡®çš„å®‰å…¨è®¾ç½®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹æ˜¯ç¦æ­¢ä»å®¹å™¨åˆ°å¤–éƒ¨çš„sshè¿æ¥çš„ç¤ºä¾‹ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">- apiVersion: neuvector.com/v1<font></font>
  kind: NvClusterSecurityRule<font></font>
  metadata:<font></font>
    name: containers<font></font>
    namespace: default<font></font>
  spec:<font></font>
    egress: []<font></font>
    file: []<font></font>
    ingress:<font></font>
    â€” Selector:<font></font>
        criteria: []<font></font>
        name: external<font></font>
      action: deny<font></font>
      applications:<font></font>
      - SSH<font></font>
      name: containers-ingress-0<font></font>
      ports: tcp/22<font></font>
    process:<font></font>
    â€” action: deny<font></font>
      name: ssh<font></font>
      path: /bin/ssh<font></font>
    target:    <font></font>
      Selector:<font></font>
        criteria:<font></font>
        â€” key: container<font></font>
          op: =<font></font>
          value: '*'<font></font>
        name: containers<font></font>
      policymode: null<font></font>
    version: v1  <font></font>
 </code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†å®‰å…¨ç­–ç•¥ä»æµ‹è¯•è¿ç§»åˆ°ç”Ÿäº§</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å€ŸåŠ©NeuVector CRDï¼Œæ‚¨å¯ä»¥æ§åˆ¶ä»æµ‹è¯•ç¯å¢ƒåˆ°ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨ç­–ç•¥ï¼ˆå…¨éƒ¨æˆ–ä»…æ‰€éœ€ç­–ç•¥ï¼‰çš„è‡ªåŠ¨è¿ç§»ã€‚</font><font style="vertical-align: inherit;">åœ¨NeuVectoræ§åˆ¶å°ä¸­ï¼Œæ‚¨å¯ä»¥é…ç½®æ–°æœåŠ¡çš„æ¨¡å¼ä»¥è¿›è¡Œæ£€æµ‹ï¼Œç›‘è§†æˆ–ä¿æŠ¤ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€‰æ‹©ç›‘è§†æˆ–ä¿æŠ¤æ¨¡å¼æ„å‘³ç€ä»»ä½•éƒ¨ç½²æˆ–æœåŠ¡æ›´æ–°éƒ½å¿…é¡»åŒ…å«æ‚¨å®šä¹‰çš„å®‰å…¨ç­–ç•¥è®¾ç½®ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œä»…åœ¨åº”ç”¨å®‰å…¨ç­–ç•¥åï¼ŒæœåŠ¡æ‰ä¼šè¿›å…¥æ´»åŠ¨çŠ¶æ€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨Kubernetes CRDå’Œå®‰å…¨ç­–ç•¥çš„åŠŸèƒ½ä½œä¸ºä»£ç ï¼Œæ‚¨çš„å¼€å‘äººå‘˜å’ŒDevOpså°†èƒ½å¤Ÿä¸ºåº”ç”¨ç¨‹åºåº”ç”¨å®‰å…¨ç­–ç•¥çš„è‡ªåŠ¨åŒ–ï¼Œå¹¶ç¡®ä¿åœ¨ä»å¼€å‘å¼€å§‹åˆ°æŠ•å…¥ç”Ÿäº§çš„å„ä¸ªé˜¶æ®µï¼Œéƒ½æ›´å¥½åœ°ä¿æŠ¤äº†åº”ç”¨ç¨‹åºã€‚</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><strong>  </strong>:<br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">    Kubernetes</a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> -  Kubernetes</a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> DevOps ,    </a>. </li>
</ol></td>
</tr>
</tbody></table></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN490784/index.html">æˆ‘æ˜¯ä¸€åAndroidå¼€å‘äººå‘˜ï¼Œæˆ‘ä¸å–œæ¬¢åšæ‰‹å·¥å·¥ä½œã€‚</a></li>
<li><a href="../zh-CN490786/index.html">äºŒé˜¶æ³„æ¼åˆ†æï¼šå½“æ³„æ¼ä»çªƒå–é“¶è¡Œæ•°æ®çš„äººé‚£é‡Œæ³„æ¼æ—¶</a></li>
<li><a href="../zh-CN490788/index.html">æ— ç”¨çš„REPLã€‚YandexæŠ¥å‘Š</a></li>
<li><a href="../zh-CN490790/index.html">Zipæ–‡ä»¶ï¼šå†å²è®°å½•ï¼Œè¯´æ˜å’Œå®ç°</a></li>
<li><a href="../zh-CN490792/index.html">NSX-Vä¸­çš„VXLAN-æ•…éšœæ’é™¤</a></li>
<li><a href="../zh-CN490804/index.html">é»‘å®¢çš„å¦ˆå¦ˆå¦‚ä½•å…¥ç‹±å¹¶æ„ŸæŸ“è€æ¿çš„è®¡ç®—æœº</a></li>
<li><a href="../zh-CN490808/index.html">èˆªç©ºæ•°å­¦ï¼šæ—‹è½¬çˆ†éœ‡å‘åŠ¨æœº</a></li>
<li><a href="../zh-CN490812/index.html">æ˜¥å­£ä¸“ä¸šè®¤è¯5æäº¤ç»éªŒ</a></li>
<li><a href="../zh-CN490816/index.html">ç”µå­å•†åŠ¡ç½‘ç«™å¦‚ä½•æŠµæŠ—AuthBotsåƒµå°¸ç½‘ç»œï¼Ÿ</a></li>
<li><a href="../zh-CN490820/index.html">ä¸€ç«™å¼æœåŠ¡æ‰€æœ‰å“ˆä¼¯</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>