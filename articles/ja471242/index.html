<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥪 👨🏿‍🔧 🤱 Bash Shellの概要 🥨 🐧 🙉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="みなさん、こんにちは。これは、RedHat RHCE試験準備書からの翻訳です。私の意見では、bashの基本は非常にアクセシブルです。
 
 シェルスクリプトはそれ自体が科学です。「内部」で発生するすべての詳細については説明しませんが、独自のスクリプトを作成するための基本的な要素の使用方法を学び、サー...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bash Shellの概要</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471242/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">みなさん、こんにちは。</font><font style="vertical-align: inherit;">これは、RedHat RHCE試験準備書からの翻訳です。</font><font style="vertical-align: inherit;">私の意見では、bashの基本は非常にアクセシブルです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シェルスクリプトはそれ自体が科学です。</font><font style="vertical-align: inherit;">「内部」で発生するすべての詳細については説明しませんが、独自のスクリプトを作成するための基本的な要素の使用方法を学び、サードパーティのシェルスクリプトで何が発生するかを分析します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8w/vx/z3/8wvxz3nzeh5uaiubay0ezgvrbwm.jpeg"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シェルスクリプトのコア要素を理解する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、シェルスクリプトは、順次実行されるコマンドのリストと、特定の条件下でのみコードを実行できるようにするロジックです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複雑なシェルスクリプトを理解するには、基本的なスクリプトから始めることをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は非常に単純なスクリプトです。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># #This is a script that greets the world</span>
<span class="hljs-comment"># Usage: ./hello</span><font></font>
clear<font></font>
<span class="hljs-built_in">echo</span> hello world
<span class="hljs-built_in">exit</span> 0
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのスクリプトで使用する必要があるいくつかの要素が含まれています。手始めに、シバンがあります-これは＃！/ Bin / bashという行です。スクリプトが親シェルから起動されると、スクリプトで指定されたコマンドが実行されるサブシェルが開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのコマンドは、さまざまな方法で解釈できます。それらがどのように解釈されるべきかを正確に理解するために、シバンが使用されます。上記の例では、shebangはスクリプトがbashシェルによって実行されなければならないことを明確にしています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のシェルも示される場合があります。たとえば、スクリプトにPerlコードが含まれている場合、shebangは＃！/ Usr / bin / perlにする必要があります。シバンでスクリプトを開始することは良い習慣です。省略した場合、スクリプトコードは、スクリプトの実行に使用されたのと同じシェルによって実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シバンの直後に、脚本の内容を説明する部分があります。各シナリオの最初の数行のコメント行は良い考えです。短いスクリプトでは多くの場合それが何をするかは明らかですが、スクリプトが長くなり、より多くの人々がそれを書いたりサポートしたりするにつれて、作者が何をするつもりなのかがはっきりしなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この状況を回避するには、各＃文字で始まるコメント行を必ず追加してください。コメントは、最初の行だけでなく、スクリプトの各サブセクションの先頭にも置くことができます。これは、数か月後にスクリプトを読む場合に確かに役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サブセクションだけでなく、個々の行にもコメントを付けることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用される位置に関係なく、＃文字から行の終わりまでのすべてがコメントです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コメントブロックの後に、スクリプトの本文があります。上記の例では、これらは順次実行されるいくつかのコマンドです。シェルスクリプトの本体は、開発されるにつれて増加する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトの最後に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exit 0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステートメントを含めました</font><font style="vertical-align: inherit;">。 exitステートメントは、スクリプトが成功したかどうかを親シェルに伝えます。スクリプトの最後で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exit 0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が使用されてい</font><font style="vertical-align: inherit;">ない限り、スクリプトの最後のコマンドの終了状態は、スクリプト自体の終了状態です</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">exit</font></b><font style="vertical-align: inherit;">を使用して親シェルに状況を伝える</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ことができることを知っておくと便利です</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<blockquote>   ,  echo $?       .<br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトを作成したら、実行できることを確認してください。これを行う最も一般的な方法は、実行ビットを適用することです。したがって、スクリプトファイル名がhelloの場合は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod + x ./helloコマンド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して実行可能にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトは、bashコマンドの引数として実行することもできます。この場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash ./hello</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">入力し</font><font style="vertical-align: inherit;">てhelloスクリプトを実行します。スクリプトがbashコマンドの引数として実行される場合、スクリプトファイルは実行可能である必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、スクリプトはどこにでも格納できますが、$ PATH変数に含まれていないディレクトリに格納する場合は、スクリプト名の前に./を付けて実行する必要があります。</font><b><font style="vertical-align: inherit;">./helloと</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
入力し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトを実行するため、または$ PATH変数に含まれている標準ディレクトリ（たとえば、/ usr / local / bin）に配置します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトを/ binディレクトリに配置することもできます。その後、ファイルシステムの任意の場所にファイル名を入力するだけで、スクリプトが実行されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の使用</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VI / binに/日時を、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / binディレクトリに日時という名前のファイルを作成します。</font><font style="vertical-align: inherit;">このコンテンツを作成したファイルに貼り付けます。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment">#    .     ,     </span><font></font>
<font></font>
date<font></font>
who<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルを保存した後、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod + x / bin / datetimeと入力</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して、ファイルに実行権限を付与します。</font><font style="vertical-align: inherit;">たとえば、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cd〜コマンド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してホームディレクトリに移動し、</font><font style="vertical-align: inherit;">単に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">datetime</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と入力し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、cd〜ホームディレクトリに移動して、datetimeと入力します。</font></font><br>
<br>
<pre><code class="bash hljs">[root@localhost ~]<span class="hljs-comment"># datetime</span><font></font>
Sat Sep 28 00:33:41 EDT 2019<font></font>
root     tty1         2019-09-25 20:28<font></font>
root     pts/0        2019-09-27 20:07 (comp.corp.domain.ru)<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数と入力の使用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bashスクリプトは、順次実行されるコマンドのリストだけではありません。</font><font style="vertical-align: inherit;">スクリプトの優れた点の1つは、変数と入力を使用してスクリプトを柔軟にすることができることです。</font><font style="vertical-align: inherit;">このセクションでは、それらの使用方法を学習します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位置パラメーターの使用</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトを実行するときに、引数を使用できます。引数は、スクリプトコマンドの背後に置くすべてのことです。引数を使用して、スクリプトをより柔軟にすることができます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useradd lisa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを実行し</font><font style="vertical-align: inherit;">ます。この例では、コマンドは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">useradd</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、その引数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lisa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は実行する必要があることを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなコマンドの結果、lisaという名前のユーザーが作成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトでは、最初の引数は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1、2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">番目の引数は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">というようになり、リスト1は引数の使用方法を示しています。ユーザー名をパラメーターとして指定して、このコードを実行してみてください。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト1</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># run this script with a few arguments</span>
<span class="hljs-built_in">echo</span> The first argument is <span class="hljs-variable">$1</span>
<span class="hljs-built_in">echo</span> The second argument is <span class="hljs-variable">$2</span>
<span class="hljs-built_in">echo</span> The third argument is <span class="hljs-variable">$3</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータは、スクリプトを実行する前のデータ入力を意味します。</font><font style="vertical-align: inherit;">この場合、引数スクリプト名の後にパラメーターとして</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lisa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lori</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bob</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を指定しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">[root@server1 ~]<span class="hljs-comment"># ./argument lisa lori bob</span><font></font>
The first argument is lisa<font></font>
The second argument is lori<font></font>
The third argument is bob<font></font>
[root@server1 ~]<span class="hljs-comment">#</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サンプルコードを実行しようとすると、その内容が完全ではないことに気付くでしょう。</font><font style="vertical-align: inherit;">リスト1のスクリプトを実行するときに3つの引数を使用すると、問題なく機能します。</font><font style="vertical-align: inherit;">2つの引数のみを使用する場合、3番目は$ 3の値なしで出力されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4つの引数を使用する場合、4番目の値（$ 4に格納されます）は表示されません。</font><font style="vertical-align: inherit;">したがって、引数を使用する場合は、より柔軟なアプローチを使用することをお勧めします。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト2</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># run this script with a few arguments </span>
<span class="hljs-built_in">echo</span> you have entered <span class="hljs-variable">$#</span> arguments
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-variable">$@</span>
 <span class="hljs-keyword">do</span>
       <span class="hljs-built_in">echo</span> <span class="hljs-variable">$i</span>
 <span class="hljs-keyword">done</span>
<span class="hljs-built_in">exit</span> 0
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト2は、引数に関連する2つの新しい要素を示しています。</font></font></b><br>
<br>
<ul>
<li>$# —  ,  ,       .</li>
<li>$@ —   ,     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトの実行時に使用された引数をリストするには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ループが使用され</font><font style="vertical-align: inherit;">ます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ループで</font><font style="vertical-align: inherit;">は、条件が真である限り</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">命令が実行されます。このシナリオでは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、$ @のi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の条件</font><font style="vertical-align: inherit;">は「各引数について」を意味します。スクリプトがループを通過するたびに、変数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ @の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">が変数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ iに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">割り当てられます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、引数がある限り、スクリプトの本体が実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
forループの本体は常に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">始まり、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">done</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">終了</font><font style="vertical-align: inherit;">します。実行されるコマンドは、これら2つのキーワードの間にリストされます。したがって、サンプルスクリプトは</font><b><font style="vertical-align: inherit;">エコー</font></b><font style="vertical-align: inherit;">を使用します</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各引数の値を表示し、使用可能な引数がなくなると停止します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この例でリスト2のスクリプトを試してみましょう。</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VI引数を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数ファイルを作成し、このファイルにリスト2のスクリプトから内容をコピーします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを保存して実行可能にします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./argument abcを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">3本の線が表示されていることがわかります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./argument abcdefを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">abcに加えて、de fも表示されることがわかります。</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数は、特定の値を含むメモリ内の特定の場所を示すために使用されるラベルです。</font><font style="vertical-align: inherit;">変数は、NAME = valueを使用して静的に、または動的に定義できます。</font><font style="vertical-align: inherit;">変数を動的に定義するには、2つの解決策があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">read</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーワード</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">して、スクリプトを実行しているユーザーにデータを要求します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド置換を使用して、コマンドの結果を使用し、それを変数に割り当てます。</font><font style="vertical-align: inherit;">たとえば、コマンド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">date +％d-％m-％y</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、現在の日付を日-月-年の形式で表示します。</font><font style="vertical-align: inherit;">スクリプトでこれを行うには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TODAY = $（date +％d-％m-％y）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">コマンドを置き換えるには、結果を使用したいコマンドを大括弧の間に置くだけです。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
位置パラメーターに関する前のセクションでは、スクリプトの実行時に変数に引数を割り当てる方法を学びました。場合によっては、何かが欠けていることがわかったときに情報を要求する方が効率的です。以下のスクリプトは、これを行う方法を示しています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト3. </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">read</font></b><font style="vertical-align: inherit;">コマンドを使用したサンプルスクリプト</font></font><b><font style="vertical-align: inherit;"></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-keyword">if</span> [ -z <span class="hljs-variable">$1</span> ]; <span class="hljs-keyword">then</span>
     <span class="hljs-built_in">echo</span> enter a text
     <span class="hljs-built_in">read</span> TEXT
<span class="hljs-keyword">else</span>
     TEXT=<span class="hljs-variable">$1</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> you have entered the text <span class="hljs-variable">$TEXT</span>
<span class="hljs-built_in">exit</span> 0
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト3のスクリプトでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if ... then ... else ... fiステートメントを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用して、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数の存在をテストしています</font><font style="vertical-align: inherit;">。これは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して行われ</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">（テストは別のコマンドです）。 testコマンドは2つの方法で書くことができます*：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[...]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。この例では、行</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if [-z $ 1] ...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を実行して、テスト（チェック）</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-z $ 1を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認してい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-実際、3つの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソース</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（翻訳者注）の</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-zテストで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が存在するかどうかを確認します</font><font style="vertical-align: inherit;">。換言すれば、ライン</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なら[-z $ 1]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">かどうかをチェック</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空。これは、このスクリプトの実行時に引数が提供されなかったことを意味します。その場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステートメントの後のコマンド</font><font style="vertical-align: inherit;">が実行されます。</font><font style="vertical-align: inherit;">角かっこを使用し</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
て</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">記述する</font><font style="vertical-align: inherit;">場合は、開始角かっこの後ろと右角かっこの前にスペースを使用することが重要です。スペースがないとコマンドは機能しません。</font><b><font style="vertical-align: inherit;">then</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ステートメント</font><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">testの</font></b><font style="vertical-align: inherit;">直後に続く</font><font style="vertical-align: inherit;">ことに注意してください</font><font style="vertical-align: inherit;">。これは、セミコロン（;）が使用されているために可能です。セミコロンはコマンドの区切り文字であり、スクリプトの新しい行を置き換えることができます。</font><b><font style="vertical-align: inherit;">then</font></b><font style="vertical-align: inherit;"> 
ステートメント</font><font style="vertical-align: inherit;">は2つのコマンド</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">実行します：</font><b><font style="vertical-align: inherit;">echo</font></b><font style="vertical-align: inherit;">コマンド</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面にメッセージを表示し、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み取り</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">read</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コマンド</font><font style="vertical-align: inherit;">はスクリプトを停止し、ユーザー入力を処理してTEXT変数に格納できるようにします。したがって、</font><b><font style="vertical-align: inherit;">READ TEXT</font></b><font style="vertical-align: inherit;">は、すべてのユーザー入力をTEXT変数に入れます。この変数は、後でスクリプトで使用されます。</font><font style="vertical-align: inherit;">
次の部分は、</font><b><font style="vertical-align: inherit;">elseステートメントで</font></b><font style="vertical-align: inherit;">表され</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">elseステートメントの</font></b><font style="vertical-align: inherit;">後のコマンドは、</font><b><font style="vertical-align: inherit;">他の</font></b><font style="vertical-align: inherit;">すべての場合に実行されます。つまり、この場合は、「引数が指定されている場合はそれ以外」です。その場合、TEXT変数が決定され、</font><b><font style="vertical-align: inherit;">$ 1の</font></b><font style="vertical-align: inherit;">現在の値</font><b><font style="vertical-align: inherit;">が</font></b><font style="vertical-align: inherit;">割り当てられます</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数の定義方法に注意してください。変数名の直後に=記号とそれに続く$ 1があります。</font><font style="vertical-align: inherit;">変数を定義するときは、スペースを使用しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、if条件が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子を使用して閉じられ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">if条件が完了すると、TEXT変数が定義され、値が設定されていることが確実にわかります。</font><font style="vertical-align: inherit;">スクリプトの最後から2番目の行は、TEXT変数の値を読み取り、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用してこの値をSTDOUTにマップします</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">変数の現在の値を照会するには、変数名の前にある$記号で始まる変数名を参照することに注意してください。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入力を処理するときに、この例を使用して練習できます。</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エディターを開き、textというファイルを作成します。</font><font style="vertical-align: inherit;">リスト3のコードをこのファイルに入力します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルをディスクに書き込み、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chmod + xテキスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を実行して実行可能にします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加の引数なしで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./text</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">実行してスクリプトを実行し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">入力を要求することがわかります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数として</font><font style="vertical-align: inherit;">「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hello</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">を使用してスクリプトを実行し</font><font style="vertical-align: inherit;">ます（./text hello）。</font><font style="vertical-align: inherit;">結果には、STDOUTに「テキストhelloを入力しました」と表示されます。</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件とループの使用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
既に説明したように、スクリプトでは条件ステートメントを使用できます。</font><font style="vertical-align: inherit;">これらの条件ステートメントは、特定の条件が満たされた場合にのみ実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bashには、頻繁に使用されるいくつかの条件ステートメントとループがあります。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if ... then ... else-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の条件が満たされた場合にコードを実行するために使用されます</font></font></li>
<li><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for-値の範囲に対してコマンドを実行する</font><b><font style="vertical-align: inherit;">ために</font></b><font style="vertical-align: inherit;">使用されます</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一方、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -特定の条件が満たされた場合、コードを実行するために使用</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -特定の条件が満たされるまでコードを実行するために使用</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケース</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -限られた数の特定の値を評価するために使用されます</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もしそうなら</font></font></h3><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合は、他の構築物は、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の条件を評価するのが一般的です。</font><font style="vertical-align: inherit;">あなたはすでに彼の例を見てきました。</font><font style="vertical-align: inherit;">この条件ステートメントは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドでよく使用され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このコマンドを使用すると、たとえば、ファイルが存在するかどうかだけでなく、ファイルの比較、整数の比較など、さまざまなことを確認できます。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リファレンスについては、man testコマンドを使用して、testの詳細を学ぶことができます。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的な</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構文</font><font style="vertical-align: inherit;">は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if ... then ... fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の例に示すように、1つの条件を比較します。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">if</span> [ -z <span class="hljs-variable">$1</span> ]
<span class="hljs-keyword">then</span>
     <span class="hljs-built_in">echo</span> no value provided
<span class="hljs-keyword">fi</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト3では、2つの条件（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">含む）を評価する方法を説明し</font><font style="vertical-align: inherit;">ました。</font><font style="vertical-align: inherit;">リスト4は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">else</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">までのいくつかの条件を評価する方法を示し</font><font style="vertical-align: inherit;">てい</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、さまざまな値を確認する必要がある場合に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例でもいくつかの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用していることに注意してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">if elseの</font></b><font style="vertical-align: inherit;">例</font></font><b><font style="vertical-align: inherit;"></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># run this script with one argument</span>
<span class="hljs-comment"># the goal is to find out if the argument is a file or a directory</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-variable">$1</span> ]
<span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is a file"</span>
<span class="hljs-keyword">elif</span> [ -d <span class="hljs-variable">$1</span> ]
<span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is a directory"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"I do not know what \$1 is"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">exit</span> 0</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|| </font><font style="vertical-align: inherit;">と&amp;&amp;</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完全な</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if ...ステートメントを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記述する代わりに</font><font style="vertical-align: inherit;">、論理演算子</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">||を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用できます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と同様</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">||</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論理 "OR"であり、最初の部分がtrueでない場合にのみ、ステートメントの2番目の部分を実行します。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は論理的な「AND」であり、最初の部分がtrueの場合にのみ、ステートメントの2番目の部分を実行します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の2行について考えてみます。</font></font></b><br>
<br>
<pre><code class="bash hljs">[ -z <span class="hljs-variable">$1</span> ] &amp;&amp; <span class="hljs-built_in">echo</span> no argument provided</code></pre><br>
<pre><code class="bash hljs">ping -c 1 8.8.8.8 2&gt;/dev/null || <span class="hljs-built_in">echo</span> node is not available
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の例では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ 1が</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空かどうかを確認します</font><font style="vertical-align: inherit;">。このチェックが正しい場合（つまり、コマンドが終了コード0で終了することを基本的に意味します）、2番目のコマンドが実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の例では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><b><font style="vertical-align: inherit;">を</font></b><font style="vertical-align: inherit;">使用して、ホストの可用性を確認しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では、論理「OR」を使用して、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドが失敗した場合に「node is not available」というテキストを表示します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
条件付き</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ifステートメント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ではなく</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">||</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が頻繁に見つかります。</font><font style="vertical-align: inherit;">。以下の演習では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if ... then ... else</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">|| </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演習</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if ... then ... else</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用</font><b><font style="vertical-align: inherit;">する</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
この演習では、ファイルとディレクトリを確認するスクリプトを作成します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エディターを実行し、filechkというスクリプトを作成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト4の内容をこのスクリプトにコピーします。</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./filechk / etc / hosts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./filechck / usr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、. </font><b><font style="vertical-align: inherit;">/ </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filechk non-existing-file</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などのテストをいくつか実行し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">forループ</font></font></h2><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ループ</font><font style="vertical-align: inherit;">は、データ範囲を処理するための優れたソリューションです。</font><font style="vertical-align: inherit;">リスト5に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用した最初の例を示し</font><font style="vertical-align: inherit;">ます。この</font><font style="vertical-align: inherit;">例で</font><b><font style="vertical-align: inherit;">は</font></b><font style="vertical-align: inherit;">、この範囲に未加工の値がある間に範囲が決定され処理されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト5</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment">#</span>
<span class="hljs-keyword">for</span> (( COUNTER=100; COUNTER&gt;1; COUNTER-- )); <span class="hljs-keyword">do</span>
     <span class="hljs-built_in">echo</span> <span class="hljs-variable">$COUNTER</span>
<span class="hljs-keyword">done</span>
<span class="hljs-built_in">exit</span> 0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サイクル</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alwaysは、キーワード</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">始まり、</font><font style="vertical-align: inherit;">チェックする必要がある条件が続きます。この後に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーワード</font><font style="vertical-align: inherit;">が続き、その後に実行する必要のあるコマンドが続きます。条件が真の場合、ループは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">done</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーワードを使用して終了し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト5の例では、条件がCOUNTER変数に割り当てられた括弧内の数値の範囲であることがわかります。</font><font style="vertical-align: inherit;">
内部の</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小さな説明</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">（（...））</font></b></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">算術式が計算され、その結果が返されます。たとえば、最も単純なケースでは、構造a = $（（5 + 3））は、変数 "a"に式 "5 + 3"、または8の値を割り当てます。さらに、二重括弧を使用すると、C言語のスタイルで変数を操作できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、変数100に初期化され、値が1より大きい限り、反復ごとに1が減算されます。条件がtrueである限り、$ COUNTER変数の値は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">echo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用して表示されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト6に、私のお気に入りの1行の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">forを示し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。今回は、範囲は100から始まり104に達する一連の数値として定義されています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト6</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {100..104}; <span class="hljs-keyword">do</span> ping –c 1 192.168.4.<span class="hljs-variable">$i</span> &gt;/dev/null &amp;&amp; <span class="hljs-built_in">echo</span> 192.168.4.<span class="hljs-variable">$i</span> is up; <span class="hljs-keyword">done</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
範囲の決定方法に注意してください。最初に最初の数値を指定し、次に2つの点を指定して、範囲の最後の数値を示します。この場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for i inでは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これらの数値のそれぞれに対して、変数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">割り当てられ</font><font style="vertical-align: inherit;">ます。これらの番号のそれぞれが変数</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">割り当てられ</font><font style="vertical-align: inherit;">、次に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ping</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドが実行されます</font><font style="vertical-align: inherit;">。ここで、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション</font><font style="vertical-align: inherit;">は、1つの要求のみが送信されることを保証し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">ping</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コマンドの結果は</font><font style="vertical-align: inherit;">考慮されないため、その出力は/ dev / nullにリダイレクトされます。</font><b><font style="vertical-align: inherit;">ping</font></b><font style="vertical-align: inherit;">コマンドの終了ステータスに基づいて、</font><font style="vertical-align: inherit;">式の一部が</font><b><font style="vertical-align: inherit;">&amp;&amp;</font></b><font style="vertical-align: inherit;">として実行され</font><font style="vertical-align: inherit;">ます。したがって、ホストが使用可能な場合、実行中であることを示す線が表示されます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理解する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
先ほど読んだforステートメントが要素の範囲の操作に</font><font style="vertical-align: inherit;">役立つ場合</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">while</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステートメント</font><font style="vertical-align: inherit;">はプロセスのアクセシビリティなどを追跡したい場合に役立ちます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">until</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステートメントもあり、</font><font style="vertical-align: inherit;">チェックされる条件がfalseである限り実行されます。</font><font style="vertical-align: inherit;">リスト7では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whileを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用してプロセスアクティビティを監視する方法を示しています。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意。</font><font style="vertical-align: inherit;">このスクリプトの機能がわかりませんでした。</font><font style="vertical-align: inherit;">私の場合、CentOS 7が使用され、デフォルトではモニターはありませんが、スクリプトは次のように明示的に言っています。</font></font><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用法：モニター&lt;プロセス名&gt;</font></font></pre>-     CetOS  monitor,     .        monitor   ps aux.       ,    .      ,    / .</blockquote><b> 7</b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># usage: monitor &lt;processname&gt;</span>
<span class="hljs-keyword">while</span> ps aux | grep <span class="hljs-variable">$1</span> | grep -v grep &gt; /dev/tty11
<span class="hljs-keyword">do</span><font></font>
     sleep 5<font></font>
<span class="hljs-keyword">done</span><font></font>
<font></font>
clear<font></font>
<span class="hljs-built_in">echo</span> your process has stopped<font></font>
logger <span class="hljs-variable">$1</span> is no longer present<font></font>
mail -s <span class="hljs-string">"process <span class="hljs-variable">$1</span> has stopped"</span> root &lt; .</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト7のスクリプトは2つの部分で構成されています。まず、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whileループ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><b><font style="vertical-align: inherit;">あります</font></b><font style="vertical-align: inherit;">。次に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">whileループが</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> trueと評価されなくなった</font><font style="vertical-align: inherit;">ときに実行する必要があるすべてのこと</font><font style="vertical-align: inherit;">です。</font><b><font style="vertical-align: inherit;">whileループ</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の中心は</font><b><font style="vertical-align: inherit;">ps</font></b><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">で、値は</font><b><font style="vertical-align: inherit;">$ 1</font></b><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">結果から</font><b><font style="vertical-align: inherit;">grepコマンド</font></b><font style="vertical-align: inherit;">を含む行を除外する</font><b><font style="vertical-align: inherit;">grep -v grepの</font></b><font style="vertical-align: inherit;"> 
使用に注意してください</font><font style="vertical-align: inherit;">。ことを忘れないでください</font><b><font style="vertical-align: inherit;">のps</font></b><font style="vertical-align: inherit;">コマンドが</font><font style="vertical-align: inherit;">含むすべての実行中のプロセスが含まれます</font><b><font style="vertical-align: inherit;">grepコマンド</font></b><font style="vertical-align: inherit;">の出力先の、</font><b><font style="vertical-align: inherit;">PSの</font></b><b><font style="vertical-align: inherit;">コマンドが</font></b><font style="vertical-align: inherit;">渡されますが</font><font style="vertical-align: inherit;">。これは、誤検出の一致につながる可能性があります。</font><font style="vertical-align: inherit;">
チーム出力</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps auxは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / dev / tty11にリダイレクトされます。これにより、必要に応じて後でtty11から結果を読み取ることができますが、デフォルトでは表示されません。</font><b><font style="vertical-align: inherit;">while</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ステートメントの</font><font style="vertical-align: inherit;">後には、チェックされる条件が真の場合に実行する必要があるコマンドが続きます。この場合、</font><font style="vertical-align: inherit;">スクリプトの実行を5秒間一時停止</font><font style="vertical-align: inherit;">するのは、</font><b><font style="vertical-align: inherit;">sleep 5</font></b><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">です。</font><b><font style="vertical-align: inherit;">while</font></b><font style="vertical-align: inherit;"> 
ステートメントの条件が</font><font style="vertical-align: inherit;">trueである</font><font style="vertical-align: inherit;">限り</font><font style="vertical-align: inherit;">、ループは実行を続けます。条件がfalseの場合（この場合、プロセスが使用できなくなったことを意味します）、サイクルが停止し、それに続くコマンドを実行できます。</font><font style="vertical-align: inherit;">
最後のコマンドを除いて、これらすべてのコマンドに精通している必要があります。ラインで</font><b><font style="vertical-align: inherit;">メール-sルートを&lt;「プロセス$ 1を停止しました」。</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メッセージは、デフォルトでLinux *で実行される内部メールシステムを使用してrootユーザーに送信されます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド</font><font style="vertical-align: inherit;">は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-s</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプションで指定されたメッセージの件名を最初の引数として受け入れます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*-少なくともCentOSでは、デフォルトで動作します。 （翻訳者）</font></font></i><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">&lt;に</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
注意してください</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チームの終わりに。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、</font><b><font style="vertical-align: inherit;">mail</font></b><font style="vertical-align: inherit;">コマンドを使用する場合</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対話モードでは、エディターが開き、メッセージの本文を書き込むことができます。このエディタは閉じており、ピリオドのみの行を提供しています。このコマンドでは、ドットはSTDINをリダイレクトすることによって提供されます。これにより、ユーザーアクティビティの追加要件なしでメッセージを処理できます。</font><b><font style="vertical-align: inherit;">ループはながら</font></b><font style="vertical-align: inherit;">の反対である</font><b><font style="vertical-align: inherit;">まで</font></b><font style="vertical-align: inherit;">ループ</font><font style="vertical-align: inherit;">、表8に示されている例</font><b><font style="vertical-align: inherit;">まで</font></b><font style="vertical-align: inherit;">の条件が真になるまで続く反復を開始します。</font><font style="vertical-align: inherit;">
リスト8はこれを使用して、</font><b><font style="vertical-align: inherit;">users</font></b><font style="vertical-align: inherit;">コマンドの出力</font><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">$ 1の</font></b><font style="vertical-align: inherit;">出現で</font><font style="vertical-align: inherit;">フィルターします</font><b><font style="vertical-align: inherit;">。</font></b></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これがユーザー名になります。</font><font style="vertical-align: inherit;">このコマンドが正しくなるまで、反復が続行されます。</font><font style="vertical-align: inherit;">ユーザー名がユーザー出力で見つかった場合、反復は閉じられ、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">until</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ループの後、</font><font style="vertical-align: inherit;">残りのコマンドが実行されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト8</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment">#</span>
until users | grep <span class="hljs-variable">$1</span> &gt; /dev/null
<span class="hljs-keyword">do</span>
     <span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span> is not logged <span class="hljs-keyword">in</span> yet<font></font>
     sleep 5<font></font>
<span class="hljs-keyword">done</span>
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$1</span> has just logged <span class="hljs-keyword">in</span>
mail -s <span class="hljs-string">"<span class="hljs-variable">$1</span> has just logged in"</span> root &lt; .</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケースを理解する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の重要な反復ループは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケース</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> *です。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">case文がされた</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">期待値の数を評価するために使用されます。特に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caseステートメント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、以前のバージョンではサービスを開始するために使用されていたLinux起動スクリプトで重要です。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*-サイクルですか？</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
では</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">case文、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたが期待するそれぞれの具体的な引数を定義し、その引数を使用した場合のニーズを実行することをコマンドが続きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト9に</font><font style="vertical-align: inherit;">は、以前のバージョンでほとんどすべてのサービスを実行するために使用されてい</font><font style="vertical-align: inherit;">た</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caseステートメント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が示されています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト9</font></font></b><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">case</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> <span class="hljs-keyword">in</span><font></font>
     start)<font></font>
          start;;<font></font>
     stop)<font></font>
          rm -f <span class="hljs-variable">$lockfile</span><font></font>
          stop;;<font></font>
     restart)<font></font>
          restart;;<font></font>
     reload)<font></font>
          reload;;<font></font>
     status)<font></font>
          status<font></font>
          ;;<font></font>
     *)<font></font>
          <span class="hljs-built_in">echo</span> <span class="hljs-string">"Usage: <span class="hljs-variable">$0</span> (start|stop|restart|reload|status)"</span><font></font>
          ;;<font></font>
<span class="hljs-keyword">esac</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケースに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はいくつかの機能があります。最初に、ライン</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケースが順番に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。この後に、評価する必要があるすべての可能な値のリストが続きます。各要素はブラケットで閉じられ</font><font style="vertical-align: inherit;">ます</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この後に、特定の引数が使用された場合に実行する必要があるコマンドのリストが続きます。コマンドのリストは、二重セミコロンで閉じられます;;最後のコマンドの直後に使用でき、別の行で使用できます。</font><b><font style="vertical-align: inherit;">*）</font></b><font style="vertical-align: inherit;">は、以前に指定されていない他のすべてのパラメーターに適用される</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ことにも注意してください</font><font style="vertical-align: inherit;">。これは包括的な演算子です。</font><b><font style="vertical-align: inherit;">ケース</font></b><font style="vertical-align: inherit;"> 
反復ループ</font><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">esacステートメントで</font></b><font style="vertical-align: inherit;">終了し</font><font style="vertical-align: inherit;">ます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">case</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
のシーケンスは順番に</font><font style="vertical-align: inherit;">実行される</font><font style="vertical-align: inherit;">ことに注意してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最初の一致が行われると、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caseステートメント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は何も評価しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
評価の一環として、テンプレートと同様のテンプレートを使用できます。</font><font style="vertical-align: inherit;">これは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*）で</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">示され、</font><font style="vertical-align: inherit;">すべてに一致</font><b><font style="vertical-align: inherit;">する</font></b><font style="vertical-align: inherit;">シーケンスです。</font><font style="vertical-align: inherit;">ただし、start | Start | START）などのシーケンスを使用して、別の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ケース</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して照合することもできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bashでのスクリプトのデバッグ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトが期待どおりに動作しない場合は、デバッグを行うと便利です。</font><font style="vertical-align: inherit;">はじめに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash -x</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドの引数として実行してみてください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、スクリプトが行おうとしている行が1行ずつ表示され、期待どおりに機能しない場合は特定のエラーが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト10は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bash -x</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の使用例を示して</font><font style="vertical-align: inherit;">います。この操作の引数がないため</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grepコマンド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が何をすべきかわからない</font><font style="vertical-align: inherit;">ことがすぐにわかり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="bash hljs">[root@server1 ~]<span class="hljs-comment"># bash -x 319.sh</span><font></font>
+ grep<font></font>
Usage: grep [OPTION]... PATTERN [FILE]...<font></font>
Try <span class="hljs-string">'grep --help'</span> <span class="hljs-keyword">for</span> more information.<font></font>
+ users<font></font>
+ <span class="hljs-built_in">echo</span> is not logged <span class="hljs-keyword">in</span> yet is not logged <span class="hljs-keyword">in</span> yet<font></font>
+ sleep 5</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要約する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、シェル・スクリプトの作成方法を学びました。</font><font style="vertical-align: inherit;">あなたはいくつかの例を見てきましたが、今ではスクリプトを成功させるために必要ないくつかの基本的な要素に精通しています。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja471228/index.html">Grokay PyTorch</a></li>
<li><a href="../ja471230/index.html">ユーザーによる暗号トークンのUsbipベースの共有</a></li>
<li><a href="../ja471232/index.html">LPS331APをOmega Onion2に接続した経験</a></li>
<li><a href="../ja471236/index.html">Seryozhaの線量計。パートIII。国立放射計</a></li>
<li><a href="../ja471240/index.html">「Bitchy Betty」と最新のオーディオインターフェース：なぜ女性の声で話すのですか？</a></li>
<li><a href="../ja471244/index.html">ロゼッタコード：膨大な数のプログラミング言語でコードの長さを測定し、言語同士の近接性を研究します</a></li>
<li><a href="../ja471248/index.html">米国の規制当局はテレグラムオープンネットワークトークンの配布を禁止しています</a></li>
<li><a href="../ja471254/index.html">ITMOユニバーシティアクセラレータスタートアップ-マシンビジョンプロジェクトの開始</a></li>
<li><a href="../ja471258/index.html">データストレージ/ローディングシステム</a></li>
<li><a href="../ja471260/index.html">Android上のKali Linux NetHunterパート2：ワイヤレスネットワークへの攻撃</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>