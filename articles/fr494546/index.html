<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß£ üö£üèæ üöâ Mod√©lisation de l'univers: la m√©canique c√©leste clairement üñïüèº üõ¢Ô∏è üßíüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imaginons que nous devons lancer un ballon de football sur l'orbite de la Terre. Aucune fus√©e n√©cessaire! Assez de montagnes, une hauteur de 100 kilom...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mod√©lisation de l'univers: la m√©canique c√©leste clairement</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494546/"><img src="https://habrastorage.org/webt/qr/sq/rt/qrsqrtig-au84ql57mqzfsvfz4c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginons que nous devons lancer un ballon de football sur l'orbite de la Terre. </font><font style="vertical-align: inherit;">Aucune fus√©e n√©cessaire! </font><font style="vertical-align: inherit;">Assez de montagnes, une hauteur de 100 kilom√®tres et une force remarquable. </font><font style="vertical-align: inherit;">Mais de combien avez-vous besoin pour lancer la balle afin qu'elle ne revienne jamais sur Terre? </font><font style="vertical-align: inherit;">Comment envoyer la balle dans un voyage vers les √©toiles, n'ayant que la force brute et la connaissance de la m√©canique c√©leste? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui au programme:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Possibilit√©s infinies d'une formule</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment prendre l'√©nergie de Jupiter</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'o√π viennent les plan√®tes </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment les math√©matiques ont aid√© √† d√©couvrir Neptune </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement, nous vivons √† l'√®re de la technologie informatique. </font><font style="vertical-align: inherit;">Nous n'avons pas besoin de gravir une haute montagne et de botter le ballon de toutes nos forces, tout peut √™tre mod√©lis√©! </font><font style="vertical-align: inherit;">Commen√ßons.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une formule</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le m√™me, connu des le√ßons de physique et d'astronomie: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nd/zg/mj/ndzgmjxjc0wp_f9mesuk0msgmeo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
il montre √† quel point les corps vont interagir, selon leurs masses, la distance entre eux et la constante gravitationnelle G. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai √©crit un programme dans lequel vous pouvez placer des boules interagissant les unes avec les autres par des forces gravitationnelles, avec Chaque balle a sa propre masse, vitesse et coordonn√©es. Pour plus de clart√©, les boules laissent une trace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mettons une grande et massive boule bleue (Terre) et une petite boule rouge pr√®s d'elle. Ex√©cutez la simulation: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bd/c9/g7/bdc9g74bhavrklo1fn9nimxf1ha.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
il est tomb√©! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour entrer en orbite, il faut de la vitesse pour que la balle tombe et rate la terre tout le temps. Mais QUELLE vitesse? Et encore une fois, les connaissances scolaires viennent √† la rescousse: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la vitesse minimale requise pour entrer dans l'orbite de la Terre est appel√©e</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">premi√®re vitesse cosmique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la Terre, c'est 7,91 km / s. Et pour la simulation, il peut √™tre facilement calcul√©: nous </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/tt/sv/stttsvj38vrmajpgoau213lohts.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dispersons le ballon et voyons le r√©sultat: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kw/wo/sx/kwwosxhyppp5qmnuhr0c5b-1pnw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vol normal! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La balle d√©crit un cercle avec la Terre au centre. Que se passera-t-il si vous lui donnez un peu plus de vitesse? Maintenant </font></font><br>
<br>
<img src="https://habrastorage.org/webt/od/in/um/odinumvzny6ywgxhdsq16idxigo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, </font><font style="vertical-align: inherit;">v√©rifions: </font><font style="vertical-align: inherit;">maintenant la forme de l'orbite est elliptique, nous pouvons distinguer 2 points tr√®s importants - l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apog√©e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p√©rig√©e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apogee est le point o√π la balle est aussi √©loign√©e que possible de la Terre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
P√©rig√©e - au contraire, le point le plus proche de la Terre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec une augmentation de la vitesse initiale, le p√©rig√©e ne change pas, mais l'apog√©e va plus loin, et √† la fin, il a une distance infinie avec la Terre. Ici, nous nous rapprochons du concept</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deuxi√®me vitesse spatiale</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">C'est la vitesse qui doit √™tre donn√©e au ballon pour qu'il surmonte la gravit√© de la Terre et s'envole pour labourer les √©tendues de l'univers. </font><font style="vertical-align: inherit;">Pour la terre, c'est 11,2 km / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une astuce int√©ressante: si nous multiplions la premi√®re vitesse cosmique par ‚àö2, nous obtenons la deuxi√®me vitesse cosmique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Multipli√©. </font><font style="vertical-align: inherit;">Lanc√©. </font><font style="vertical-align: inherit;">Re√ßu: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/oa/p-/n2oap-wffotxeboxo2ezcu7acva.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'envola irr√©vocablement! </font><font style="vertical-align: inherit;">Au fait, il a maintenant une orbite parabolique. </font><font style="vertical-align: inherit;">Et si vous ex√©cutez le ballon encore plus fort, nous obtenons une hyperbole. </font><font style="vertical-align: inherit;">Il s'av√®re que les math√©matiques nous hantent partout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, la formule reste la m√™me. </font><font style="vertical-align: inherit;">Le cercle se transforme en ellipse, une ellipse en parabole et une parabole en hyperbole en raison de l'allongement de l'orbite ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">excentricit√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> accrue </font><font style="vertical-align: inherit;">).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment prendre l'√©nergie de Jupiter?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©veloppons notre mod√®le, ajoutons le Soleil, faisons tourner la Terre autour de lui. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8s/vc/vt/8svcvt5ubgpzguozlheom9o28uw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez que la balle ait besoin d'une vitesse telle qu'elle vole en dehors du syst√®me solaire - la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">troisi√®me vitesse cosmique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans le monde r√©el, c'est 16,7 km / s. Malheureusement, cette vitesse est trop √©lev√©e, je crains que nous n'ayons pas assez de force ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Attendez! Mais que se passe-t-il si vous prenez un peu de vitesse d'un corps massif, par exemple Jupiter. Nous pouvons voler jusqu'√† quelque chose de tr√®s massif et faire une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">man≈ìuvre gravitationnelle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En survolant Jupiter, les forces gravitationnelles attirent mutuellement la balle et la g√©ante gazeuse, mais la masse de la balle est si petite qu'elle n'a presque aucun effet sur le mouvement de Jupiter, et Jupiter acc√©l√®re lui-m√™me le corps qui passe √† grande vitesse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parlez moins, travaillez plus:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/au/02/1h/au021ho0j9l8arq8dn8qb4y9fj8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moment de la man≈ìuvre gravitationnelle - la balle a vol√© jusqu'√† Jupiter. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/zc/sr/vlzcsrmmjiydwlzbsteqebnjgck.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hourra! </font><font style="vertical-align: inherit;">Nous avons obtenu une vitesse suffisante pour sortir du syst√®me solaire, sans rien d√©penser. </font><font style="vertical-align: inherit;">Certes, Jupiter a commenc√© √† se d√©placer un peu plus lentement, mais nous ne le remarquerons certainement pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les vaisseaux spatiaux lanc√©s par l'homme au-del√† des limites du syst√®me solaire (Voyagers 1 et 2, Pionniers 10 et 11, New Horizons) ont utilis√© une telle m√©thode d'acc√©l√©ration.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agrandir!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai ajout√© le frottement des particules pour que lorsqu'elles entrent en collision, elles se transf√®rent une partie de l'√©nergie les unes aux autres. J'ai √©galement introduit le pouvoir d'une r√©action normale, maintenant les particules respectent leur espace personnel, √©loignant les autres d'eux-m√™mes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous mettons la g√©n√©ration al√©atoire de balles et leur donnons une direction et une vitesse al√©atoires. Qu'ils soient, disons, 100 pi√®ces. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wb/9a/nv/wb9anvwqfq8qfd_fvrvmycfrvvw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaos complet, chaque particule se d√©place o√π elle veut, mais n√©anmoins, les forces gravitationnelles font des ravages et des grappes de balles commencent √† se former: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ms/bm/pb/msbmpbcbw6_rt83vav4sbxqnuey.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et apr√®s un certain temps, un grand corps se forme, compos√© de 99 balles et d'une seule balle en orbite autour d'elle: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ei/jl/nr/eijlnrddky0hdpzvviqlgwa7ibo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec un autre lancement, ce qui suit : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/et/-y/fu/et-yfufpsujieyl8t8s3leh7m9y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deux corps massifs en orbite autour d'un centre de masse commun. Si nous imaginons que ces deux objets sont des √©toiles, alors nous obtenons une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">double √©toile</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Fait int√©ressant, environ la moiti√© des √©toiles de notre galaxie sont binaires. </font><font style="vertical-align: inherit;">Si notre Soleil avait une √©toile compagnon, alors dans le ciel, nous pourrions observer l'image suivante:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/jg/ne/lcjgneyjd4py4kgkzeoe_oskpns.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'o√π viennent les plan√®tes?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La principale raison de l'apparition d'anneaux est la destruction de satellites volant trop pr√®s de la plan√®te, ou plut√¥t franchissant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la limite de Roche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans ce cas, les forces de mar√©e caus√©es par la gravit√© de la plan√®te deviennent plus importantes que les forces qui maintiennent le satellite intact, et il se divise en plusieurs parties, laissant derri√®re lui un anneau qui encercle la plan√®te. </font><font style="vertical-align: inherit;">Simulons cette situation: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/go/l9/db/gol9db01lgvjj-puclravymtvki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
le satellite est un peu plus loin que la limite de Roche, il tourne autour de la plan√®te sur une orbite circulaire stable. </font><font style="vertical-align: inherit;">Mais que se passe-t-il si vous le g√©n√©rez un peu plus pr√®s de la plan√®te?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fw/7z/ql/fw7zql9igjiz5qm11gap36ksetw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le satellite s'est dispers√© en de nombreuses petites parties qui ont form√© des anneaux autour de la plan√®te. </font><font style="vertical-align: inherit;">C'est donc dans le monde r√©el. </font><font style="vertical-align: inherit;">Triton (satellite de Neptune) s'approche progressivement de la plan√®te et, dans 2 milliards d'ann√©es, il sera d√©chir√© et Neptune aura plus d'anneaux que Saturne.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment Neptune a-t-il √©t√© d√©couvert et qu'est-ce que les math√©matiques ont √† voir avec √ßa?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque nous parlons de Neptune, parlons de sa d√©couverte. </font><font style="vertical-align: inherit;">¬´Une plan√®te ouverte √† la pointe d'un stylo¬ª a une masse, ce qui signifie qu'elle agit sur les objets alentour. </font><font style="vertical-align: inherit;">Les astronomes du 19√®me si√®cle ont remarqu√© des changements dans l'orbite d'Uranus, son orbite √©tait diff√©rente de celle calcul√©e, apparemment, quelque chose l'influen√ßa. </font><font style="vertical-align: inherit;">L'orbite d'Uranus avait des perturbations: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jr/hs/zi/jrhszio9dizwno87wq-uuxjc2xw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ce mod√®le exag√©r√© montre comment un corps inconnu au-del√† d'Uranus a affect√© son orbite. </font><font style="vertical-align: inherit;">Les astronomes ne pouvaient calculer que la position d'une plan√®te secr√®te et regarder √† travers un t√©lescope. </font><font style="vertical-align: inherit;">En effet, la plan√®te Neptune √©tait exactement l√† o√π elle √©tait pr√©vue!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ue/d7/vy/ued7vyhfbawgo-0nqa8swbmyeva.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, cette simulation ne g√©n√©ralise pas toutes les lois et ph√©nom√®nes se produisant dans l'espace, par exemple, la th√©orie de la relativit√© d'Einstein n'est pas prise en compte ici, car la vitesse des particules est loin de la vitesse de la lumi√®re. </font><font style="vertical-align: inherit;">Mais il y a beaucoup d'autres choses int√©ressantes qui peuvent √™tre impl√©ment√©es dans cette simulation. </font><font style="vertical-align: inherit;">Essayez-le vous-m√™me! </font><font style="vertical-align: inherit;">Tout ce dont vous avez besoin est Python3 et la biblioth√®que Pygame.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La source</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># </span>
Track = <span class="hljs-literal">True</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
Track_time = <span class="hljs-number">5</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
G = <span class="hljs-number">5</span><font></font>
<font></font>
<span class="hljs-comment">#  (  -</span>
<span class="hljs-comment">#,  - )</span>
MagnConst = <span class="hljs-number">0</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
count = <span class="hljs-number">100</span><font></font>
<font></font>
<span class="hljs-comment">#  </span>
kv = <span class="hljs-number">6</span><font></font>
<font></font>
<span class="hljs-comment">#  </span>
RANDOM = <span class="hljs-literal">True</span><font></font>
<font></font>
<span class="hljs-comment">#  </span>
r = <span class="hljs-number">3</span><font></font>
<font></font>
<span class="hljs-comment">#   </span>
WIN_WIDTH, WIN_HEIGHT = <span class="hljs-number">900</span>, <span class="hljs-number">650</span><font></font>
<font></font>
<font></font>
<span class="hljs-string">''',  ,   '''</span><font></font>
<font></font>
<span class="hljs-comment">#   </span>
zg = <span class="hljs-number">2</span><font></font>
<font></font>
<span class="hljs-comment">#   </span>
zm = <span class="hljs-number">2</span><font></font>
<font></font>
<span class="hljs-comment">#. ,    -   </span>
k = <span class="hljs-number">40</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
antiG = <span class="hljs-number">0.1</span><font></font>
<font></font>
max_speed = <span class="hljs-number">3</span><font></font>
<font></font>
ResDist = <span class="hljs-number">1</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
EarthG = <span class="hljs-number">0</span><font></font>
<font></font>
<span class="hljs-comment">#   </span>
Mirror = <span class="hljs-literal">True</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> pygame
<span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> hypot, ceil, sqrt
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint, random<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">custom_pos</span>():</span>
    <span class="hljs-string">'''      '''</span>
    <span class="hljs-string">'''   RANDOM = FALSE'''</span>
    B.append(Ball(<span class="hljs-number">200</span>, <span class="hljs-number">300</span>, YELLOW, r = <span class="hljs-number">10</span>, mass = <span class="hljs-number">200</span>, vx = <span class="hljs-number">0.151</span>))    <span class="hljs-comment">#x, y, col, r, vx, vy, mass</span>
    B.append(Ball(<span class="hljs-number">200</span>, <span class="hljs-number">50</span>, GREEN, r = <span class="hljs-number">6</span>, mass = <span class="hljs-number">10</span>, vx = -(<span class="hljs-number">200</span> * G / <span class="hljs-number">250</span>)**<span class="hljs-number">0.5</span>))<font></font>
    <font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ball</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, x, y, col, r = <span class="hljs-number">4</span>, vx = <span class="hljs-number">0</span>, vy = <span class="hljs-number">0</span>, mass = <span class="hljs-number">4</span></span>):</span><font></font>
        self.x = x<font></font>
        self.y = y<font></font>
        self.r = r<font></font>
        self.col = col<font></font>
        self.vx = vx<font></font>
        self.vy = vy<font></font>
        self.mass = mass<font></font>
        <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">move</span>(<span class="hljs-params">self, Walls, WIN_WIDTH, WIN_HEIGHT, ofs_x, ofs_y</span>):</span>
        <span class="hljs-keyword">if</span> Walls:<font></font>
            x = self.x - ofs_x<font></font>
            y = self.y - ofs_y<font></font>
            <span class="hljs-keyword">if</span> x &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> self.vx &lt; <span class="hljs-number">0</span>:
                <span class="hljs-keyword">if</span> Mirror:<font></font>
                    self.vx = -self.vx<font></font>
                <span class="hljs-keyword">else</span>:<font></font>
                    self.x += WIN_WIDTH<font></font>
                self.vx, self.vy = self.v_norm(self.vx, self.vy)<font></font>
            <span class="hljs-keyword">if</span> x &gt;= WIN_WIDTH <span class="hljs-keyword">and</span> self.vx &gt; <span class="hljs-number">0</span>:
                <span class="hljs-keyword">if</span> Mirror:<font></font>
                    self.vx = -self.vx<font></font>
                <span class="hljs-keyword">else</span>:<font></font>
                    self.x -= WIN_WIDTH<font></font>
                self.vx, self.vy = self.v_norm(self.vx, self.vy)<font></font>
            <span class="hljs-keyword">if</span> y &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> self.vy &lt; <span class="hljs-number">0</span>:
                <span class="hljs-keyword">if</span> Mirror:<font></font>
                    self.vy = -self.vy<font></font>
                <span class="hljs-keyword">else</span>:<font></font>
                    self.y += WIN_HEIGHT<font></font>
                self.vx, self.vy = self.v_norm(self.vx, self.vy)<font></font>
            <span class="hljs-keyword">if</span> y &gt;= WIN_HEIGHT <span class="hljs-keyword">and</span> self.vy &gt; <span class="hljs-number">0</span>:
                <span class="hljs-keyword">if</span> Mirror:<font></font>
                    self.vy = -self.vy<font></font>
                <span class="hljs-keyword">else</span>:<font></font>
                    self.y -= WIN_HEIGHT<font></font>
                self.vx, self.vy = self.v_norm(self.vx, self.vy)<font></font>
            <font></font>
        self.x += self.vx<font></font>
        self.y += self.vy<font></font>
<font></font>
        <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">force</span>(<span class="hljs-params">self, ind, selfind</span>):</span><font></font>
        ox = B[ind].x<font></font>
        oy = B[ind].y<font></font>
        m = B[ind].mass<font></font>
        <span class="hljs-keyword">if</span> m &lt; <span class="hljs-number">0.01</span> <span class="hljs-keyword">and</span> self.mass &lt; <span class="hljs-number">0.01</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><font></font>
        r = B[ind].r<font></font>
        vx = B[ind].vx<font></font>
        vy = B[ind].vy<font></font>
        dist = hypot(self.x - ox, self.y - oy)<font></font>
        min_dist = (self.r + B[ind].r) * ResDist<font></font>
        f = <span class="hljs-number">0</span><font></font>
        m_relative = self.mass / B[ind].mass<font></font>
        <span class="hljs-keyword">if</span> dist &lt;= min_dist:<font></font>
            newVx = (vx * m + self.vx * self.mass) / (m + self.mass)<font></font>
            newVy = (vy * m + self.vy * self.mass) / (m + self.mass)<font></font>
            self.vx = (newVx + k * self.vx) / (k + <span class="hljs-number">1</span>)<font></font>
            B[ind].vx = (newVx + k * B[ind].vx) / (k + <span class="hljs-number">1</span>)<font></font>
            self.vy = (newVy + k * self.vy) / (k + <span class="hljs-number">1</span>)<font></font>
            B[ind].vy = (newVy + k * B[ind].vy) / (k + <span class="hljs-number">1</span>)<font></font>
            f -= antiG * min(abs(min_dist - dist), min(m, self.mass) * <span class="hljs-number">3</span>)
        <span class="hljs-keyword">else</span>:<font></font>
            f += min(self.mass * B[ind].mass * G  / (dist ** zg), G / <span class="hljs-number">10</span>)<font></font>
            mf = MagnConst * self.mass / (dist ** zm)<font></font>
            <span class="hljs-keyword">if</span> B[ind].col == B[selfind].col:<font></font>
                mf = - mf<font></font>
            f += mf<font></font>
        fx = f * ((ox - self.x) / dist)<font></font>
        fy = f * ((oy - self.y) / dist)<font></font>
        ax = fx / self.mass<font></font>
        ay = fy / self.mass<font></font>
        self.vx += ax<font></font>
        self.vy += ay + EarthG<font></font>
        B[ind].vx -= ax * m_relative<font></font>
        B[ind].vy -= ay * m_relative - EarthG<font></font>
<font></font>
<span class="hljs-meta">    @staticmethod</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">v_norm</span>(<span class="hljs-params">vx, vy</span>):</span><font></font>
        v = hypot(vx, vy)<font></font>
        <span class="hljs-keyword">if</span> v &gt; max_speed:<font></font>
            vx = max_speed * (vx / v)<font></font>
            vy = max_speed * (vy / v)<font></font>
        <span class="hljs-keyword">return</span> vx, vy<font></font>
<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, x, y, col, r = <span class="hljs-number">0</span>, max_age = Track_time</span>):</span>
        self.age = <span class="hljs-number">0</span><font></font>
        self.x = x<font></font>
        self.y = y<font></font>
        self.col = col<font></font>
        self.r = r<font></font>
        self.max_age = max_age<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">vis</span>(<span class="hljs-params">self, ofs_x, ofs_y</span>):</span><font></font>
        pygame.draw.circle(sc, self.col, (round(self.x - ofs_x),<font></font>
                                          round(self.y - ofs_y)), self.r, <span class="hljs-number">0</span>)<font></font>
        self.age += <span class="hljs-number">1</span>
        <span class="hljs-keyword">if</span> self.age &gt; self.max_age:<font></font>
            T.remove(self)<font></font>
        <font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">rand</span>(<span class="hljs-params">count, WIN_WIDTH, WIN_HEIGHT</span>):</span>
    <span class="hljs-keyword">global</span> kv<font></font>
    B = []<font></font>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(count):<font></font>
        m = r ** <span class="hljs-number">2</span>
        x = randint(<span class="hljs-number">0</span>, WIN_WIDTH) + random()<font></font>
        y = randint(<span class="hljs-number">0</span>, WIN_HEIGHT) + random()<font></font>
        vx = kv * randint(<span class="hljs-number">-100</span>, <span class="hljs-number">100</span>) / <span class="hljs-number">100</span>
        vy = kv * randint(<span class="hljs-number">-100</span>, <span class="hljs-number">100</span>) / <span class="hljs-number">100</span>
        col = Colors[randint(<span class="hljs-number">0</span>, len(Colors) - <span class="hljs-number">1</span>)]<font></font>
        B.append(Ball(x, y, col, r = r, vx = vx, vy = vy, mass = m))<font></font>
    <span class="hljs-keyword">return</span> B<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">createBall</span>(<span class="hljs-params">col, x, y, r = r, m = r</span>):</span><font></font>
    m = r<font></font>
    B.append(Ball(x, y, col))<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_offset</span>(<span class="hljs-params">B</span>):</span>
    sum_x, sum_y = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
    m = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(B)):<font></font>
        sum_x += B[i].x * B[i].mass<font></font>
        sum_y += B[i].y * B[i].mass<font></font>
        m += B[i].mass<font></font>
    <span class="hljs-keyword">if</span> len(B) == <span class="hljs-number">0</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> sum_x / m, sum_y / m<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">visBalls</span>(<span class="hljs-params">B</span>):</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(B)):<font></font>
        pygame.draw.circle(sc, B[i].col, (round(B[i].x - ofs_x),<font></font>
                                          round(B[i].y - ofs_y)), B[i].r, <span class="hljs-number">0</span>)<font></font>
        T.append(Point(B[i].x, B[i].y, B[i].col))<font></font>
        <font></font>
FPS = <span class="hljs-number">60</span>
darkblue = (<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">25</span>)<font></font>
ORANGE = (<span class="hljs-number">255</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>)<font></font>
RED = (<span class="hljs-number">255</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>)<font></font>
GREEN = (<span class="hljs-number">150</span>, <span class="hljs-number">255</span>, <span class="hljs-number">150</span>)<font></font>
BLUE = (<span class="hljs-number">150</span>, <span class="hljs-number">150</span>, <span class="hljs-number">255</span>)<font></font>
YELLOW = (<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>)<font></font>
Colors = [RED, BLUE]<span class="hljs-comment">#, GREEN]#, ORANGE]                       </span><font></font>
pygame.init() <font></font>
clock = pygame.time.Clock()<font></font>
sc = pygame.display.set_mode((WIN_WIDTH, WIN_HEIGHT))<font></font>
sc.fill(darkblue)<font></font>
<font></font>
maxF = <span class="hljs-number">0.3</span>
minv = <span class="hljs-number">0.01</span>
Walls = <span class="hljs-literal">True</span>
Collisions = <span class="hljs-literal">True</span>
Same = <span class="hljs-literal">True</span>
Check = <span class="hljs-literal">False</span><font></font>
tt = []<font></font>
<font></font>
B = []<font></font>
<span class="hljs-keyword">if</span> RANDOM:<font></font>
    B = rand(count, WIN_WIDTH, WIN_HEIGHT)<font></font>
<span class="hljs-keyword">else</span>:<font></font>
    custom_pos()<font></font>
    <font></font>
Pause = <span class="hljs-literal">False</span>
delay = <span class="hljs-number">0</span><font></font>
<font></font>
<span class="hljs-keyword">if</span> Track:<font></font>
    T = []<font></font>
<span class="hljs-keyword">for</span> z <span class="hljs-keyword">in</span> range(<span class="hljs-number">100000</span>):<font></font>
    sc = pygame.display.set_mode((WIN_WIDTH, WIN_HEIGHT))<font></font>
    sc.fill(darkblue)<font></font>
    ofs_x, ofs_y = get_offset(B)<font></font>
    ofs_x -= WIN_WIDTH // <span class="hljs-number">2</span>
    ofs_y -= WIN_HEIGHT // <span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> pygame.event.get():
        <span class="hljs-keyword">if</span> i.type == pygame.QUIT:<font></font>
            pygame.quit()<font></font>
            quit()<font></font>
        <span class="hljs-keyword">if</span> i.type == pygame.KEYDOWN:
            <span class="hljs-keyword">if</span> i.key == pygame.K_SPACE:<font></font>
                Pause = <span class="hljs-keyword">not</span> Pause
            <span class="hljs-keyword">elif</span> i.key == pygame.K_w:<font></font>
                WIN_HEIGHT += <span class="hljs-number">10</span>
                WIN_WIDTH += <span class="hljs-number">10</span>
            <span class="hljs-keyword">elif</span> i.key == pygame.K_s:<font></font>
                WIN_HEIGHT -= <span class="hljs-number">10</span>
                WIN_WIDTH -= <span class="hljs-number">10</span><font></font>
                <font></font>
    pressed = pygame.mouse.get_pressed()<font></font>
    pos = pygame.mouse.get_pos()<font></font>
    x = pos[<span class="hljs-number">0</span>]<font></font>
    y = pos[<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> pressed[<span class="hljs-number">0</span>] <span class="hljs-keyword">and</span> delay &lt; <span class="hljs-number">0</span>:<font></font>
        delay = <span class="hljs-number">20</span><font></font>
        createBall(RED, x + ofs_x, y + ofs_y)<font></font>
    <span class="hljs-keyword">if</span> pressed[<span class="hljs-number">2</span>] <span class="hljs-keyword">and</span> delay &lt; <span class="hljs-number">0</span>:<font></font>
        delay = <span class="hljs-number">20</span><font></font>
        createBall(BLUE, x + ofs_x, y + ofs_y )<font></font>
    delay -= <span class="hljs-number">1</span><font></font>
    <font></font>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> Pause:
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(B)):
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(i + <span class="hljs-number">1</span>, len(B)):<font></font>
                B[i].force(j, i)<font></font>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(B)):<font></font>
            B[i].move(Walls, WIN_WIDTH, WIN_HEIGHT, ofs_x, ofs_y)<font></font>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(T)):
        <span class="hljs-keyword">try</span>:<font></font>
            T[i].vis(ofs_x, ofs_y)<font></font>
        <span class="hljs-keyword">except</span> IndexError:
            <span class="hljs-keyword">pass</span><font></font>
    visBalls(B)<font></font>
    <font></font>
    pygame.display.update()<font></font>
    clock.tick(FPS)<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'esp√®re que cet article vous a √©t√© instructif. </font><font style="vertical-align: inherit;">Merci pour l'attention!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr494534/index.html">Pas de masques, mais vous d√©tenez 1/2</a></li>
<li><a href="../fr494536/index.html">Normes √©pist√©miques des inventions</a></li>
<li><a href="../fr494538/index.html">Les streamers Twitch gagnent des milliers de dollars en r√™ve</a></li>
<li><a href="../fr494542/index.html">La preuve arc-en-ciel d√©montre la disponibilit√© de composants standard dans les graphiques</a></li>
<li><a href="../fr494544/index.html">Analyser des photos de cian.ru en utilisant Selenium</a></li>
<li><a href="../fr494548/index.html">Langage de programmation Karasic</a></li>
<li><a href="../fr494552/index.html">Les mauvais employeurs les bons employ√©s: les passions apr√®s la semaine de cong√©</a></li>
<li><a href="../fr494554/index.html">Cycle de le√ßon SDL 2.0: Le√ßon 6 - T√©l√©chargement de polices avec SDL_ttf</a></li>
<li><a href="../fr494560/index.html">Conduite pr√©cise: comment et pourquoi les innovations automobiles provoquent des accidents - √©tude</a></li>
<li><a href="../fr494562/index.html">Comment transf√©rer correctement les employ√©s vers une t√©l√©commande? Lifehacks l√©gales</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>