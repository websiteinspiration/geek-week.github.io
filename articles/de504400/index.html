<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚óªÔ∏è üìø üëßüèø Caching. Teil 2: 60 Tage vor der Ver√∂ffentlichung ü§±üèæ üõÉ üêª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! Ich habe Ihnen bereits geschrieben, wie Sie Initiativen in einem Unternehmen f√∂rdern k√∂nnen. Genauer gesagt, wie (manchmal) dies gelingt und we...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Caching. Teil 2: 60 Tage vor der Ver√∂ffentlichung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/504400/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo! </font><font style="vertical-align: inherit;">Ich habe Ihnen bereits geschrieben, wie Sie Initiativen in einem Unternehmen f√∂rdern k√∂nnen. </font><font style="vertical-align: inherit;">Genauer gesagt, wie (manchmal) dies gelingt und welche Schwierigkeiten auftreten k√∂nnen: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Rake-Retrospektive. </font><font style="vertical-align: inherit;">Wie sich herausstellte, dass eine selbst erstellte L√∂sung cooler ist als eine bezahlte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie wir uns f√ºr ein Caching-System entschieden haben. </font><font style="vertical-align: inherit;">Teil 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heute m√∂chte ich fortfahren und √ºber den psychisch stressigsten Moment in diesem Projekt sprechen, √ºber den die ersten beiden Artikel - als das Ergebnis des Projekts weniger von den technischen F√§higkeiten des Teams als vielmehr vom Vertrauen in ihre Berechnungen und der Bereitschaft, bis zum Ende zu gehen - bestimmt wurden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich muss sagen - ich denke , </font><font style="vertical-align: inherit;">dass das Projekt zu einem </font><font style="vertical-align: inherit;">solchen intensiven Moment zu bringen - es ist </font><font style="vertical-align: inherit;">ein Fehler weit verwendet </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etwa</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lshaya als jeder Heroismus durch das Projekt ausstreckt dieses Problem ....</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ich verstecke diese Erfahrung nicht und teile sie gerne - weil ich √ºberlege:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerade Problembereiche sind Wachstumspunkte</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die gr√∂√üten Probleme "kommen" genau dort an, wo Sie es nicht erwarten</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Kombination dieser Punkte verpflichtet Sie lediglich dazu, die wunderbare Erfahrung zu teilen, "wie man aus heiterem Himmel eine Dachrinne verdient". </font><font style="vertical-align: inherit;">Es ist jedoch anzumerken, dass eine √§hnliche Situation bei der Firma Sportmaster au√üergew√∂hnlich ist. </font><font style="vertical-align: inherit;">Das hei√üt, es ist m√∂glich, dass diese Situation erneut auftritt - Planung und Definition der Verantwortung jetzt - auf einer v√∂llig anderen Ebene. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint also, dass die Einf√ºhrung ausreicht, wenn Sie bereit sind - willkommen bei cat.</font></font><br>
 <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/sa/3o/8k/sa3o8kskmgz_ptdsflpadmiycra.png"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juni 2017 </font><font style="vertical-align: inherit;">Wir √§ndern das Admin-Panel. </font><font style="vertical-align: inherit;">Das Admin-Panel besteht nicht nur aus einer Reihe von Formularen und Tabellen in der Weboberfl√§che. Die eingegebenen Werte m√ºssen mit Dutzenden anderer Daten verkn√ºpft werden, die wir von Systemen von Drittanbietern erhalten. </font><font style="vertical-align: inherit;">Verwandeln Sie es au√üerdem irgendwie und senden Sie es letztendlich an die Verbraucher (die wichtigste davon ist die ElasticSearch-Website von Sportmaster). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptschwierigkeit besteht darin, nur zu konvertieren und zu senden. </font><font style="vertical-align: inherit;">N√§mlich:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie m√ºssen Daten in Form von json mit einem Gewicht von jeweils 100 KB bereitstellen und einige werden f√ºr 10 MB angezeigt (scannen Sie nach Verf√ºgbarkeit und Kriterien f√ºr die Lieferung von Waren an Gesch√§fte).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt JSON mit einer Struktur, die rekursive Anh√§nge jeder Verschachtelungsebene enth√§lt (z. B. ein Men√º innerhalb eines Men√ºelements, in dem sich wieder Men√ºelemente befinden usw.).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die endg√ºltige Aussage wird nicht genehmigt und √§ndert sich st√§ndig (z. B. wird die Arbeit mit Waren nach Modellen durch einen Ansatz ersetzt, wenn wir nach Farbmodellen arbeiten). </font><font style="vertical-align: inherit;">St√§ndig - dies ist mehrmals pro Woche, mit einer Spitzenrate von 2 mal pro Tag f√ºr eine Woche.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die ersten beiden Punkte rein technisch sind und von der Aufgabe selbst vorgegeben werden, m√ºssen Sie sich beim dritten Punkt nat√ºrlich organisatorisch damit befassen. </font><font style="vertical-align: inherit;">Aber die reale Welt ist alles andere als ideal, also arbeiten wir mit dem, was wir haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie haben n√§mlich herausgefunden, wie Webformulare und ihre Objekte auf der Serverseite schnell vernietet werden k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Person aus dem Team wurde in die Rolle eines professionellen ‚ÄûForm Slap‚Äú berufen und f√ºhrte mithilfe vorbereiteter Webkomponenten eine Demo f√ºr die Benutzeroberfl√§che schneller ein, als die Analysten die Zeichnungen dieser Benutzeroberfl√§che korrigierten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um jedoch das Transformationsschema zu √§ndern, entstand hier Komplexit√§t.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst gingen wir den √ºblichen Weg - um die Transformation in der SQL-Abfrage zu Oracle durchzuf√ºhren. Es gab einen DB-Spezialisten im Team. Es dauerte bis zu dem Moment, als die Anfrage 2 Seiten fortlaufenden SQL-Text umfasste. Ich k√∂nnte weiter und weiter machen, aber als die √Ñnderungen von den Analysten kamen - objektiv gesehen war es am schwierigsten, den Ort zu finden, an dem die √Ñnderungen vorgenommen werden konnten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analysten ausgedr√ºckt Regel in den Systemen, die, obwohl sie in etwas von dem Code (etwas von einem visio / draw.io / Gliffy) abgel√∂st gemalt wurden, aber es gab </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√§hnlich wie Quadrate und Pfeile in ETL-Systemen (zum Beispiel Pentaho Kettle, der zu dieser Zeit zur Bereitstellung von Daten f√ºr die Sportmaster-Website verwendet wurde). Wenn wir keine SQL-Abfrage h√§tten, sondern ein ETL-Schema! Dann w√ºrden die Anweisung und die L√∂sung topologisch identisch ausgedr√ºckt, was bedeutet, dass das Bearbeiten des Codes genauso lange dauern kann wie das Bearbeiten der Anweisung!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei ETL-Systemen gibt es jedoch eine andere Schwierigkeit. Der gleiche Pentaho-Wasserkocher - eignet sich hervorragend, wenn Sie in ElasticSearch einen neuen Index erstellen m√ºssen, in den alle aus mehreren Quellen geklebten Daten geschrieben werden k√∂nnen (Anmerkung: Tats√§chlich funktioniert der Pentaho-Wasserkocher nicht sehr gut, da er bei Transformationen kein Javascript verwendet in Verbindung mit Java-Klassen, √ºber die der Verbraucher auf Daten zugreift. Aus diesem Grund k√∂nnen Sie etwas schreiben, das Sie sp√§ter nicht in die erforderlichen Pojo-Objekte umwandeln k√∂nnen. Dies ist jedoch ein separates Thema, das vom Hauptgang des Artikels abweicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber was tun, wenn der Benutzer im Admin-Bereich ein Feld in einem Dokument korrigiert hat? Um diese √Ñnderung auf die ElasticSearch-Website von Sportmaster zu √ºbertragen, erstellen Sie keinen neuen Index, in den alle Dokumente dieses Typs, einschlie√ülich eines aktualisierten, eingetragen werden k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich wollte, dass, wenn sich ein Objekt in den Eingabedaten √§ndert, ein Update </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr das entsprechende Ausgabedokument </font><font style="vertical-align: inherit;">an ElasticSearch </font><i><font style="vertical-align: inherit;">der</font></i><font style="vertical-align: inherit;"> Site gesendet wird </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, das Eingabedokument selbst, aber schlie√ülich k√∂nnte es gem√§√ü dem Transformationsschema durch Join an Dokumente eines anderen Typs angeh√§ngt werden! Sie m√ºssen also das Transformationsschema analysieren und berechnen, welche Ausgabedokumente von der √Ñnderung der Daten in den Quellen betroffen sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Suche nach verpackten Produkten zur L√∂sung dieses Problems f√ºhrte zu nichts. Nicht gefunden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und als sie verzweifelt waren, fanden sie es heraus, aber wie sollte es im Inneren funktionieren und wie kann dies getan werden? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Idee entstand sofort.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die endg√ºltige ETL in ihre Bestandteile zerlegt werden kann, von denen jeder einen bestimmten Typ aus einer endlichen Menge (z. B. Filter, Join usw.) hat, ist es m√∂glich, dieselbe endliche Menge spezieller Knoten zu erstellen, die den urspr√ºnglichen Knoten entsprechen mit dem Unterschied, dass sie nicht mit den Daten selbst arbeiten, sondern mit ihrer Ver√§nderung? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Detail, mit Beispielen und Schl√ºsselpunkten in der Implementierung, unsere L√∂sung - ich m√∂chte in einem separaten Artikel behandeln. Um mit unterst√ºtzenden Positionen fertig zu werden, ist ein ernsthaftes Eintauchen erforderlich, die F√§higkeit, abstrakt zu denken und sich auf das zu verlassen, was noch nicht manifestiert wurde. In der Tat wird es gerade aus mathematischer Sicht interessant sein und ist nur f√ºr diejenigen Habroviten interessant, die an </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">technischen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Details </font><font style="vertical-align: inherit;">interessiert sind </font><font style="vertical-align: inherit;">.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier kann ich nur sagen, dass wir ein mathematisches Modell erstellt haben, in dem wir 7 Knotentypen beschrieben und gezeigt haben, dass dieses System vollst√§ndig ist - dh unter Verwendung dieser 7 Knotentypen und der Verbindungen zwischen ihnen -, dass jedes Datentransformationsschema ausgedr√ºckt werden kann. </font><font style="vertical-align: inherit;">Die Implementierung basiert auf der aktiven Nutzung des Erhaltens und Aufzeichnens von Daten nach Schl√ºssel (n√§mlich nach Schl√ºssel ohne zus√§tzliche Bedingungen). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher hatte unsere L√∂sung eine St√§rke in Bezug auf alle Einf√ºhrungsschwierigkeiten:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Daten m√ºssen in Form von JSON geliefert werden -&gt; Wir arbeiten mit Pojo-Objekten (einfaches altes Java-Objekt, wenn jemand die Zeiten, in denen eine solche Bezeichnung verwendet wurde, nicht gefunden hat), die in JSON leicht zu √ºberholen sind</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es gibt JSON mit einer Struktur, die rekursive Einbettungen jeder Verschachtelungsebene enth√§lt -&gt; wieder Pojo (Hauptsache, es gibt keine Schleifen, aber wie viele Verschachtelungsebenen nicht wichtig sind, ist in Java durch Rekursion einfach zu verarbeiten.)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die endg√ºltige Aussage √§ndert sich st√§ndig -&gt; ausgezeichnet, da wir das Transformationsschema schneller √§ndern, als Analysten (in den Diagrammen) W√ºnsche f√ºr Experimente formulieren</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von den riskanten Momenten nur einer - wir schreiben die L√∂sung von Grund auf selbst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich lie√üen die Fallen nicht lange auf sich warten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besonderer Moment N1. </font><font style="vertical-align: inherit;">Falle. </font><font style="vertical-align: inherit;">"Gut extrapoliert"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine weitere organisatorische √úberraschung war, dass gleichzeitig mit unserer Entwicklung das Haupt-Master-Repository auf eine neue Version umgestellt wurde und sich das Format, in dem dieses Repository Daten bereitstellt, √§nderte. Und es w√§re sch√∂n, wenn unser System sofort mit dem neuen Speicher und nicht mit dem alten arbeiten w√ºrde. Der neue Speicher ist jedoch noch nicht fertig. Aber dann sind die Datenstrukturen bekannt und sie k√∂nnen uns einen Demo-Stand geben, auf den eine kleine Menge verwandter Daten gegossen wird. Geht? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier im Produktansatz wird bei der Arbeit mit dem Wertsch√∂pfungsstrom eindeutig eine Warnung an alle Optimisten geh√§mmert: Es gibt einen Blocker -&gt; die Aufgabe funktioniert nicht, Punkt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber eine solche Abh√§ngigkeit erregte nicht einmal Verdacht. In der Tat waren wir vom Erfolg mit dem Delta-Prozessor-Prototyp - einem System zur Verarbeitung von Daten auf Deltas (Implementierung eines mathematischen Modells, wenn √Ñnderungen der Ausgabedaten unter Verwendung des Transformationsschemas als Reaktion auf eine √Ñnderung der Eingabedaten berechnet werden) euphorisch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter allen Transformationsschemata war eines das wichtigste. Zus√§tzlich zu der Tatsache, dass die Schaltung selbst die gr√∂√üte und komplexeste war, bestand auch eine strikte Anforderung, dass die Transformation gem√§√ü dieser Schaltung durchgef√ºhrt werden musste - eine zeitliche Begrenzung f√ºr die Ausf√ºhrung der gesamten Datenmenge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Transformation sollte also 15 Minuten und keine Sekunde l√§nger durchgef√ºhrt werden. Die Haupteingabe ist eine Tabelle mit 5,5 Millionen Datens√§tzen. In der Entwicklungsphase ist die Tabelle noch nicht gef√ºllt. Genauer gesagt ist es mit einem kleinen Testdatensatz in H√∂he von 10.000 Zeilen gef√ºllt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, fangen wir an. In der ersten Implementierung arbeitete der Delta-Prozessor an der HashMap als Schl√ºsselwertspeicher (ich m√∂chte Sie daran erinnern, dass wir Objekte viel nach Schl√ºssel lesen und schreiben m√ºssen). Nat√ºrlich passen auf Produktionsvolumina im Speicher nicht alle Zwischenobjekte - daher wechseln wir anstelle von HashMap zu Hazelcast. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum genau Hazelcast - also weil dieses Produkt bekannt war, wurde es im Backend zur Site des Sportmasters verwendet. Au√üerdem ist dies ein verteiltes System, und wie es uns schien - wenn ein Freund etwas mit der Leistung falsch macht - f√ºgen wir einigen Computern weitere Instanzen hinzu, und das Problem ist behoben. Im Extremfall - ein Dutzend Autos. Horizontale Skalierung und alles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deshalb starten wir unseren Delta-Prozessor f√ºr eine gezielte Transformation. Es funktioniert fast sofort. Das ist verst√§ndlich - die Daten sind nur 10 Tausend statt 5,5 Millionen. Daher multiplizieren wir die gemessene Zeit mit 550 und erhalten das Ergebnis: etwa 2 Minuten. Fein! In der Tat - ein Sieg! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies war ganz am Anfang der Projektarbeit - genau dann, wenn Sie sich f√ºr die Architektur entscheiden m√ºssen, die Hypothesen best√§tigen (Tests durchf√ºhren, die sie best√§tigen), die Pilotl√∂sung vertikal integrieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die Tests ein hervorragendes Ergebnis zeigten - das hei√üt, wir haben alle Hypothesen best√§tigt und den Piloten schnell umgedreht -, haben wir ein vertikal integriertes ‚ÄûSkelett‚Äú f√ºr ein kleines St√ºck Funktionalit√§t zusammengestellt. Und sie begannen mit der Hauptcodierung - das "Skelett mit Fleisch f√ºllen".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was erfolgreich und energisch engagiert. Bis zu diesem sch√∂nen Tag, an dem ein </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vollst√§ndiger</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datensatz </font><font style="vertical-align: inherit;">in den Master Store hochgeladen wurde </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºhren Sie den Test f√ºr dieses Set aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach 2 Minuten hat nicht funktioniert. Ich habe auch nach 5, 10, 15 Minuten nicht gearbeitet. Das hei√üt, sie passten nicht in den notwendigen Rahmen. Aber mit wem es nicht passiert, wird es notwendig sein, etwas im Detail zu optimieren und zu passen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber der Test funktionierte eine Stunde sp√§ter nicht. Und selbst nach 2 Stunden gab es Hoffnung, dass er arbeiten w√ºrde, und wir werden suchen, was wir festziehen k√∂nnen. Hoffnungsreste waren auch nach 5 Stunden noch vorhanden. Aber nach 10 Stunden, als sie nach Hause gingen, funktionierte der Test immer noch nicht - es gab keine Hoffnung mehr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem war, dass der Test am n√§chsten Tag, als sie ins B√ºro kamen, immer noch flei√üig weiter funktionierte. Infolgedessen wurde 30 Stunden lang gescrollt, nicht gewartet, ausgeschaltet.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katastrophe! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem wurde schnell genug lokalisiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hazelcast hat - wenn er an einer kleinen Datenmenge arbeitet - tats√§chlich alles im Speicher gescrollt. </font><font style="vertical-align: inherit;">Wenn jedoch Daten auf einer Festplatte gespeichert werden mussten, sank die Leistung tausende Male. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Programmieren w√§re langweilig und geschmacklos, wenn nicht die Beh√∂rden und die Verpflichtung, das fertige Produkt zu liefern. </font><font style="vertical-align: inherit;">Wir m√ºssen also buchst√§blich einen Tag sp√§ter, nachdem wir einen vollst√§ndigen Datensatz erhalten haben, mit einem Bericht an die Beh√∂rden gehen, wie der Test des Produktionsvolumens bestanden hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist eine sehr ernste und schwierige Wahl:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sagen Sie "wie es ist" = geben Sie das Projekt auf</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sagen Sie "wie ich m√∂chte" = zu riskieren, vielleicht ist nicht bekannt, ob wir das Problem beheben k√∂nnen</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um zu verstehen, welche Gef√ºhle in diesem Fall entstehen, ist es nur m√∂glich, vollst√§ndig in die Idee zu investieren, den Plan f√ºr ein halbes Jahr umzusetzen und ein Produkt zu entwickeln, das Kollegen bei der L√∂sung einer gro√üen Schicht von Problemen hilft. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und so ist es sehr schwierig, deine geliebte Sch√∂pfung aufzugeben. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist charakteristisch f√ºr alle Menschen - wir lieben das, in das wir uns viel M√ºhe gegeben haben. Daher ist Kritik schwer zu h√∂ren - Sie m√ºssen sich bewusst bem√ºhen, Feedback angemessen wahrzunehmen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen haben wir festgestellt, dass es immer noch sehr, sehr viele verschiedene Systeme gibt, die als Schl√ºsselwertspeicher verwendet werden k√∂nnen. Wenn Hazelcast nicht passt, funktioniert definitiv etwas. </font><font style="vertical-align: inherit;">Das hei√üt, sie beschlossen, ein Risiko einzugehen. </font><font style="vertical-align: inherit;">Zu unserer Rechtfertigung k√∂nnen wir sagen, dass es noch keine ‚Äûblutige Frist‚Äú war - im Allgemeinen gab es noch eine gewisse Zeitspanne, um zu einer Backup-L√∂sung zu ‚Äûwechseln‚Äú. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei diesem Treffen mit den Vorgesetzten gab unser Manager an, dass ‚Äûder Test gezeigt hat, dass das System bei Produktionsmengen stabil funktioniert und nicht abst√ºrzt‚Äú. </font><font style="vertical-align: inherit;">In der Tat funktionierte das System stabil. </font><u><font style="vertical-align: inherit;">60</font></u><font style="vertical-align: inherit;"> Tage </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bis zur Ver√∂ffentlichung </font><font style="vertical-align: inherit;">.</font></font><u><font style="vertical-align: inherit;"></font></u><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besonderer Moment N2. </font><font style="vertical-align: inherit;">Keine Falle, aber keine Entdeckung. </font><font style="vertical-align: inherit;">"Weniger ist mehr"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um einen Ersatz f√ºr Hazelcast mit der Key-Value-Data-Warehouse-Rolle zu finden, haben wir eine Liste aller Kandidaten zusammengestellt - wir haben eine Liste mit 31 Produkten. Das ist alles, was ich geschafft habe, zu googeln und von meinen Freunden herauszufinden. Dar√ºber hinaus gab Google einige absolut obsz√∂ne Optionen heraus, beispielsweise die Hausarbeit eines Studenten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Kandidaten schneller zu testen, haben wir einen kleinen Test vorbereitet, der in wenigen Minuten nach dem Start die Leistung auf den richtigen Volumes zeigte. Und sie haben die Arbeit parallelisiert - jeder hat das n√§chste System von der Liste genommen, konfiguriert, den Test ausgef√ºhrt und das n√§chste genommen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie arbeiteten schnell und schnappten mehrere Systeme pro Tag.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim 18. System wurde klar, dass dies sinnlos war. Unter unserem Lastprofil ist keines dieser Systeme gesch√§rft. Sie haben viele R√ºschen und Knicks, um die Verwendung zu vereinfachen, viele sch√∂ne Ans√§tze zur horizontalen Skalierung - aber das bringt uns keinen Gewinn. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir brauchen ein System, das den Schl√ºssel schnell auf einem Objekt auf der Festplatte speichert und den Schl√ºssel schnell liest. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall skizzieren wir den Algorithmus, wie dies implementiert werden kann. Im Allgemeinen scheint dies durchaus machbar zu sein - wenn gleichzeitig: a) die Datenmenge geopfert wird, die die Festplatte belegt, b) ungef√§hr Sch√§tzungen der Menge und der charakteristischen Gr√∂√üe der Daten in jeder Tabelle vorliegen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weisen Sie etwas mit Stil Speicher (auf der Festplatte) f√ºr Objekte mit einem Rand zu, Teile eines festen maximalen Volumens. Dann mit den Indextabellen ... und so weiter ...</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war ein Gl√ºck, dass es nicht dazu kam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erl√∂sung erfolgte in Form von RocksDB. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein Produkt von Facebook, das zum schnellen Lesen und Speichern einer Reihe von Bytes auf der Festplatte entwickelt wurde. Gleichzeitig wird der Zugriff auf Dateien √ºber eine Schnittstelle bereitgestellt, die dem Schl√ºsselwertspeicher √§hnelt. Tats√§chlich ist der Schl√ºssel ein Array von Bytes, der Wert ist ein Array von Bytes. Optimiert, um diese Aufgabe schnell und zuverl√§ssig zu erledigen. Alle. Wenn Sie etwas Sch√∂neres und Hochwertigeres brauchen, schrauben Sie es selbst auf. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Genau das, was wir brauchen!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RocksDB, in der Rolle des Schl√ºsselwertspeichers verankert, brachte den Zieltestindikator auf das Niveau von 5 Stunden. </font><font style="vertical-align: inherit;">Es war weit von 15 Minuten entfernt, aber die Hauptsache war erledigt. </font><font style="vertical-align: inherit;">Die Hauptsache war zu verstehen, was geschah, zu verstehen, dass das Schreiben auf die Festplatte so schnell wie m√∂glich, schneller als unm√∂glich war. </font><font style="vertical-align: inherit;">Auf SSD dr√ºckte RocksDB in verfeinerten Tests 400 MBit / s, und das war genug f√ºr unsere Aufgabe. </font><font style="vertical-align: inherit;">Verz√∂gerungen - irgendwo in unserem, in einem verbindlichen Code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unserem</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Code bedeutet dies, dass wir damit umgehen k√∂nnen. </font><font style="vertical-align: inherit;">Nehmen wir es auseinander, aber wir k√∂nnen damit umgehen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besonderer Moment N3. </font><font style="vertical-align: inherit;">Unterst√ºtzung. </font><font style="vertical-align: inherit;">"Theoretische Berechnung"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben einen Algorithmus und eine Eingabe. Wir nehmen den Bereich der Eingabedaten, berechnen, wie viele Aktionen das System ausf√ºhren soll, wie diese Aktionen in den JVM-Laufzeitkosten ausgedr√ºckt werden (einer Variablen einen Wert zuweisen, eine Methode eingeben, ein Objekt erstellen, ein Array von Bytes kopieren usw.) sowie wie viele Aufrufe an RocksDB sollte gehalten werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berechnungen zufolge sollten sie 2 Minuten dauern (ungef√§hr, wie der Test f√ºr HashMap am Anfang gezeigt hat, aber dies ist nur ein Zufall - der Algorithmus hat sich seitdem ge√§ndert). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und doch l√§uft der Test 5 Stunden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und jetzt vor der Ver√∂ffentlichung von </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tagen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein besonderes Datum - jetzt kann es nicht mehr zusammenbrechen - wir haben keine Zeit mehr, zur Sicherungsoption zu wechseln.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nat√ºrlich wird an diesem Tag der Projektmanager zu den Beh√∂rden gerufen. Die Frage ist die gleiche - Zeit haben, ist alles in Ordnung? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ip/ci/ps/ipcipst6tfldoo7vmigaxcmsmta.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist der beste Weg, um diese Situation zu beschreiben - ein erweitertes Titelbild f√ºr diesen Artikel. Das hei√üt, den Chefs wird der Teil des Bildes angezeigt, der im Titel gerendert wird. Aber in Wirklichkeit - so. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obwohl in Wirklichkeit nat√ºrlich - wir waren √ºberhaupt nicht lustig. Und sagen Sie: "Alles ist cool!" - Dies ist nur f√ºr eine Person mit einer sehr starken F√§higkeit zur Selbstbeherrschung m√∂glich. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gro√üer, gro√üer Respekt f√ºr den Manager, f√ºr das Vertrauen in die Entwickler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wirklich, wirklich verf√ºgbarer Code - zeigt 5 Stunden. Eine theoretische Berechnung - zeigt 2 Minuten. Wie kann man das glauben?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist jedoch m√∂glich, wenn: das Modell klar formuliert ist, wie zu z√§hlen verst√§ndlich ist und welche zu ersetzenden Werte ebenfalls verst√§ndlich sind. Das hei√üt, die Tatsache, dass die Ausf√ºhrung in der Realit√§t mehr Zeit in Anspruch nimmt, bedeutet, dass in der Realit√§t nicht genau der Code ausgef√ºhrt wird, den wir dort ausf√ºhren m√∂chten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zentrale Aufgabe besteht darin, "Ballast" im Code zu finden. Das hei√üt, einige Aktionen werden zus√§tzlich zum Hauptstrom zum Erstellen der endg√ºltigen Daten ausgef√ºhrt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eilte davon. Unit-Tests, funktionale Zusammensetzungen, Fragmentierung von Funktionen und Lokalisierung von Orten mit unverh√§ltnism√§√üig viel Zeitaufwand f√ºr die Ausf√ºhrung. Es wurden viele Dinge getan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unterwegs haben wir solche Stellen formuliert, an denen Sie sich ernsthaft versch√§rfen k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel Serialisierung. </font><font style="vertical-align: inherit;">Zuerst wurde der Standard java.io verwendet. </font><font style="vertical-align: inherit;">Wenn wir Cryo jedoch befestigen, erhalten wir in unserem Fall eine 2,5-fache Erh√∂hung der Serialisierungsgeschwindigkeit und eine 3-fache Verringerung der Menge serialisierter Daten (was bedeutet, dass IO dreimal kleiner ist, was nur die Hauptressourcen verschlingt). </font><font style="vertical-align: inherit;">Im Detail ist dies jedoch ein Thema f√ºr einen separaten technischen Artikel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber der entscheidende Punkt oder ‚Äûwo sich der Elefant versteckt hat‚Äú - ich werde versuchen, ihn in einem Absatz zu beschreiben.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besonderer Punkt 4. Empfang zur L√∂sungsfindung. </font><font style="vertical-align: inherit;">"Problem = L√∂sung"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir nach Schl√ºssel abrufen / setzen - in den Berechnungen ging es um 1 Operation, wirkt sich auf die E / A in dem Volumen aus, das Schl√ºssel + Objektwert entspricht (nat√ºrlich in serialisierter Form). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was aber, wenn das Objekt selbst, auf dem wir get / set aufrufen, eine Map ist, die wir auch durch get / set von der Festplatte erhalten. Wie viel wird das IO in diesem Fall tun? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unseren Berechnungen wurde diese Funktion nicht ber√ºcksichtigt. Das hei√üt, es wurde als 1 E / A f√ºr Schl√ºssel + Objektwert betrachtet. Aber in der Tat?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielsweise gibt es im Schl√ºsselwertspeicher nach Schl√ºssel 1 ein Objekt obj-1 vom Typ Map, in dem ein bestimmtes Objekt obj-2 unter dem Schl√ºssel Schl√ºssel-2 gespeichert werden muss. Hier dachten wir, dass die Operation eine E / A f√ºr Schl√ºssel-2 + obj-2 erfordern w√ºrde. In Wirklichkeit m√ºssen Sie jedoch obj-1 in Betracht ziehen, manipulieren und an IO senden: key-1 + obj-1. Und wenn es sich um eine Karte handelt, auf der sich 1000 Objekte befinden, ist der E / A-Verbrauch etwa 1000-mal h√∂her. Und wenn 10.000 Objekte, dann ... so haben sie den "Ballast" bekommen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein Problem identifiziert wird, ist die L√∂sung normalerweise offensichtlich.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Fall ist dies eine spezielle Struktur f√ºr Manipulationen in verschachtelten Karten geworden. </font><font style="vertical-align: inherit;">Das hei√üt, ein solcher Schl√ºsselwert, der f√ºr get / set zwei Schl√ºssel gleichzeitig ben√∂tigt, die nacheinander angewendet werden sollten: Schl√ºssel-1, Schl√ºssel-2 - das hei√üt, f√ºr die erste Ebene und f√ºr die verschachtelte. </font><font style="vertical-align: inherit;">Wie man eine solche Struktur implementiert - ich werde es Ihnen gerne ausf√ºhrlich erl√§utern, aber auch hier in einem separaten technischen Artikel. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier aus dieser Episode betone und bewerbe ich eine solche Funktion: Ein √§u√üerst detailliertes Problem ist eine gute L√∂sung.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fertigstellung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel habe ich versucht, die organisatorischen Punkte und Fallen aufzuzeigen, die auftreten k√∂nnen. </font><font style="vertical-align: inherit;">Solche Fallen sind ‚Äûvon der Seite‚Äú oder im Laufe der Zeit sehr gut sichtbar, aber es ist sehr einfach, in sie hineinzukommen, wenn Sie sich zum ersten Mal neben ihnen befinden. </font><font style="vertical-align: inherit;">Ich hoffe, jemand wird sich an eine solche Beschreibung erinnern und im richtigen Moment wird die Erinnerung funktionieren: "Ich habe so etwas schon einmal geh√∂rt." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und vor allem - jetzt, wo alles √ºber den Prozess erz√§hlt wird, √ºber psychologische Momente, √ºber organisatorische. </font><font style="vertical-align: inherit;">Jetzt haben wir eine Vorstellung davon, welche Aufgaben und unter welchen Bedingungen das System erstellt wurde. </font><font style="vertical-align: inherit;">Nun - Sie k√∂nnen und sollten von der technischen Seite √ºber das System erz√§hlen - was f√ºr ein mathematisches Modell dies ist, welche Tricks im Code wir verwendet haben und an welche innovativen L√∂sungen wir gedacht haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber im n√§chsten Artikel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Zwischenzeit Happy New Code!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504374/index.html">Einfache Diagrammdurchquerung: Tiefensuche und Breitensuche am Beispiel von JavaScript</a></li>
<li><a href="../de504382/index.html">Wie ich (PhD Neurobiology) in 6 Monaten Data Scientist wurde</a></li>
<li><a href="../de504384/index.html">F√ºhren Sie TypeScript schrittweise in Ihr React-Projekt ein</a></li>
<li><a href="../de504386/index.html">Virtuelle Variablen der Klasse Vassbotn H.</a></li>
<li><a href="../de504392/index.html">Wie viele Programmierer und W√∂rter ben√∂tigen Sie, um einen handschriftlichen Pass zu erkennen?</a></li>
<li><a href="../de504402/index.html">29. Mai Java Digest</a></li>
<li><a href="../de504408/index.html">Einfache und bequeme Testframework-Vorlage auf Selenide f√ºr UI-Autotests</a></li>
<li><a href="../de504412/index.html">Online-Programmiermeisterschaft "Open Finals of Moscow Training"</a></li>
<li><a href="../de504414/index.html">Wie Microsoft AppGet get√∂tet hat</a></li>
<li><a href="../de504420/index.html">Schreiben einer rundenbasierten PvP-Arena mit gleichzeitigen Bewegungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>