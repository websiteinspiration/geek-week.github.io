<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ℹ️ 🌠 🚆 一种使用响应图像的简单方法 🔻 🙎 🏄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="响应式图像规范是一个出色的文档，描述了此类图像的许多用途。但是经验告诉我，大多数情况下，与他们合作时，您只需要知道如何为客户提供不同大小的同一图像的副本，并根据页面视图区域的宽度进行选择即可。我们称此为“分辨率切换”。要解决此问题，可以使用属性srcset和sizes。
 
 响应图像的输出涉及相当...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>一种使用响应图像的简单方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/500292/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应式图像</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">规范</font></a><font style="vertical-align: inherit;">是一个出色的文档，描述了此类图像的许多用途。但是经验告诉我，大多数情况下，与他们合作时，您只需要知道如何为客户提供不同大小的同一图像的副本，并根据页面视图区域的宽度进行选择即可。我们称此为“分辨率切换”。要解决此问题，可以使用属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
响应图像的输出涉及相当复杂的逻辑的使用。除其他外，这包括确定将显示哪个图像，以及确定用户是否正在使用高分辨率屏幕。幸运的是，浏览器比可以确定最适合每个特定用户的图像的人更好。我们需要做的就是给他们一些线索。该属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为浏览器提供图形资源列表，从中可以选择最合适的图像。该属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使您可以告知浏览器在特定情况下要显示的尺寸图像。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/jg/ak/so/jgakso592dsr1styfdmh_bpazxy.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
顺便说一下，使用自适应图像，您不必担心浏览器对该技术的支持。</font><font style="vertical-align: inherit;">我们感兴趣的属性享有</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出色的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浏览器支持。</font><font style="vertical-align: inherit;">此外，我们还为备用浏览器（如IE11）设计了一种备份机制。</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签如何与浏览器“通信”</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
标签就是这样</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">告诉浏览器要选择哪个图像的。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/700/2a9/a1a/7002a9a1a7d7fe46cb74820c62385b5d.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标签和浏览器的“对话”标签</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在这里</font></font><code>&lt;img&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">告诉浏览器以下内容：“在此屏幕尺寸下，我将以大约以下尺寸显示（表示属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">您可以拍摄任何具有以下宽度的图像（表示属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">因此，请选择现在最适合的图像。”</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Srcset属性</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为浏览器提供了一组图形资源，可以从中选择最合适的图形资源。</font><font style="vertical-align: inherit;">它还包含有关每个建议图像大小的信息。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/33d/3af/9ec/33d3af9ecb3f55bf3afbc808dc38f7c1.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Srcset</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
属性此属性</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含不了解该属性的浏览器的后备图像</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。该</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL包含图像及其宽度信息。浏览器将从提供给他的图像集中选择最合适的图像。此外，如果用户具有高像素密度的显示器（视网膜显示器），则浏览器在选择图像时会考虑到这一点。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含图像URL列表，后跟图像宽度信息。每对</font></font><code>URL-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之间用逗号分隔。列表项如下所示：</font></font><code>image.jpg 1000w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这样的记录告诉浏览器图像</font></font><code>image.jpg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为1000像素宽。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以这种方式描述图像集时，我们告诉浏览器以下内容：“我给您提供图像列表，并相信您选择最合适的图像。” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
浏览器将在一组复杂的准则的指导下选择最佳图像，这些准则包括用户显示什么图像，查看区域的当前大小是什么以及用户是否具有高分辨率显示。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
浏览器足够智能，可以知道在低分辨率桌面显示器上，如果输出图像的宽度为800像素，则需要从列表中选择宽度至少为800像素的图像。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，浏览器知道如果在高分辨率显示器上显示宽度为320像素的图像，则需要选择宽度至少为640像素的图像文件。</font><font style="vertical-align: inherit;">因此，我们不必担心1x和2x图形资源。</font><font style="vertical-align: inherit;">您需要做的就是为浏览器提供一组良好的图像，并使其发挥作用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如何描述适合不同屏幕的图像？</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尺寸属性</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一个很棒的工具。</font><font style="vertical-align: inherit;">但是，当浏览器读取页面的HTML代码时，例如，它不知道是否使用CSS样式，该样式将图像大小设置为屏幕宽度的50％。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是该属性起作用的地方</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有了它，我们可以向浏览器提示在将CSS应用于图像后将显示图像的大小。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7f/d25/56a/c7fd2556af1608fc3626a43cf067931c.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尺寸属性</font></font></font></i><br>
<br>
<ul>
<li><code>100vw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-不满足任何条件时的默认大小。</font><font style="vertical-align: inherit;">在属性中列表的最后指示</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><code>1023px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -窗口宽度。</font></font></li>
<li><code>780px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -满足指定条件时的图像宽度。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
浏览器将在第一个满足条件时停止。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含以逗号分隔的媒体条件列表。媒体条件是媒体查询的子集。在这里，您不能指定条件（</font></font><code>print</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>screen</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">适用的环境类型</font><font style="vertical-align: inherit;">，但是可以使用与查看区域的宽度有关的媒体查询。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个列表条目均包含视口窗口的宽度和相应的图像宽度。列表项的格式为</font></font><code>(min-width: 1023px) 780px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这样的记录告诉浏览器，如果视口的宽度为1023像素（或更多），则您需要使用宽度为780像素的图像。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另外，这里可以使用相对宽度单位。例如，类似</font></font><code>50vw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这告诉浏览器图像的宽度将是视口宽度的50％。在更复杂的情况下，您甚至可以使用函数</font></font><code>calc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例如，视图设计</font></font><code>calc(50vw — 2rem)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">告诉浏览器，图像宽度将为视口宽度的50％减</font></font><code>2rem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。也许以这种方式设置宽度时要考虑到某些压痕或某些边框的宽度。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
列表的最后一个元素未提供媒体条件。如果将宽度添加到列表中，但未指定媒体条件，则相应的值将被视为默认值，即在不满足其他条件的情况下。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
浏览器将从上至下查看此列表，并在与视口宽度相对应的第一个合适元素处停止。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
假设属性中包含</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下内容：</font></font><br>
<br>
<pre><code class="css hljs">(<span class="hljs-selector-tag">min-width</span>: 1023<span class="hljs-selector-tag">px</span>) 780<span class="hljs-selector-tag">px</span>,<font></font>
(<span class="hljs-selector-tag">min-width</span>: 675<span class="hljs-selector-tag">px</span>) 620<span class="hljs-selector-tag">px</span>,<font></font>
100<span class="hljs-selector-tag">vw</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是在不同情况下会发生的情况：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果用户正在使用大型桌面显示器，则浏览器将认为列表的第一个元素合适，并且将知道图像应为780像素宽。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直立的iPad屏幕的观看区域的标准宽度为768像素。</font><font style="vertical-align: inherit;">在这种情况下，浏览器将跳过列表中的第一项，但会发现当前条件与第二项匹配。</font><font style="vertical-align: inherit;">它告诉浏览器图像将为620像素宽。</font></font></li>
<li>       ,          <code>sizes</code>.      ,     ,      100%   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，这些仅仅是示例。在现实世界中，一切都变得更加复杂。例如，大屏幕用户在狭窄的浏览器窗口中查看页面时，所收到的图像将比窗口扩展到全屏时所获得的图像小。如果使用iPad Pro的用户将设备置于横向模式，则可能会获得更大的图像。如果他以纵向模式使用平板电脑，则可能会获得中等大小的图像。并且如果他在屏幕划分为多个窗口时以该模式使用浏览器，那么他可能会得到一个小的图像。在横向模式下使用某些大屏幕手机时，它们将符合我们列表中的第二条规则。这是所描述系统的魅力：开发人员无需照顾所有这些特殊情况以及设备的不同外形尺寸。他足以告诉浏览器为特定查看区域选择图像的哪个版本。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如何准备浏览器将从中选择最适合的图像列表？</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Src属性</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可能已经注意到，以上所有示例中仍使用该属性</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。您可能想知道给定该属性是否需要此属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这里的关键是，如果我们给浏览器的属性</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，那么如果它是一个现代的浏览器，它</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会替换</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对应于从选择的图像值在DOM </font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。结果，事实证明现代浏览器会忽略该属性</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，而将重点放在该属性上</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，属性</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本身对于不支持使用响应图像的浏览器仍然很重要。此类浏览器非常老，忽略了</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。他们只是不知道他们的存在。但是属性</font></font><code>src</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他们了解，因此您可以将图像的地址写入其中，这将用作此类浏览器的备份选项。</font><font style="vertical-align: inherit;">我通常在此属性中写入在像素密度不高的台式机显示器上看起来不错的最小图像的地址。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题和解答</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍如何生成图像集？</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以通过多种方式生成图像：手动，使用用于创建响应图像的工具以及适当的CDN功能。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了手动创建图像，您需要在Photoshop（或您使用的其他编辑器）中打开原始图像，并以所有必要的尺寸导出它。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这可能需要很多时间，因此您可能需要使用适当的工具来自动化这项工作。在这些工具中，我最喜欢</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">响应式图像断点生成器</font></a><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自Cloudinary。使用此工具时，只需将图像传输到其中，然后它将自动创建其大小不同的变体。您可以在此处调整生成图像的数量。一旦准备好图像，就可以将其下载并在项目中使用。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
支持响应图像的另一种选择是使用适当的CDN来托管它们。例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Cloudinary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imgix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用类似的服务，可以将最高分辨率的图像下载到CDN。</font><font style="vertical-align: inherit;">然后，您可以使用URL参数请求不同大小的图像版本。</font><font style="vertical-align: inherit;">在这种情况下，您不必担心调整图像大小的麻烦：只需告诉CDN您将要显示相应图像的大小即可。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务和项目</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">的</font></a><font style="vertical-align: inherit;">列表，可用于创建不同大小的图像的变体。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">should我应该为浏览器提供什么尺寸？</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好问题！如果为浏览器提供了太多的图形资源，那么您只会浪费时间和精力来创建它们。如果资源太少，这意味着您将迫使站点用户下载大于他们所需图像的图像。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果使用单个图像，并且有机会自定义该图像输出的布局，则可以使用“ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">响应图像断点生成器”</font></a><font style="vertical-align: inherit;">工具</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。他将自动检查图像并确定从该图像生成的最佳资源集（就文件大小及其分辨率之间的平衡而言）是什么。然后，此工具不仅会生成文件，还会自动准备</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ea3/caa/501/ea3caa5018c52c91f262bcc466c6e353.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一组标准的图像尺寸，宽度为320到2560像素。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
如果您在特定的CMS上工作，或者正在创建Web应用程序，并且不知道将在一个或另一个位置显示的图像尺寸，那么我建议使用该标准尺寸图片。以前，我用的尺寸如下：</font></font><code>320w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>640w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>960w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>1280w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>1920w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>2560w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这些是通过将320乘以不同的系数而获得的整数。这组资源涵盖了各种屏幕的需求-从小型移动显示器到大型台式机显示器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，考虑到项目的功能，使用标准资源集总是比使用您自己的资源集效率低。在这种情况下，尽管我们看到了一个相当合乎逻辑的序列，但是它显示了文件大小的逐渐增加，因为如果图像的宽度（以及相应的高度）加倍，则该图像中的像素数将增加</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">四倍</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。因此，如果您必须使用一组标准的图像尺寸，则可能需要选择一个对小尺寸图像具有较少选项而对大尺寸图像具有更多选项的集合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您将映像托管在Cloudinary上，则可以使用另一种方法。是用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloudinary API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，使您可以在下载图像时使用响应图像断点生成器来处理图像。</font><font style="vertical-align: inherit;">自动处理完图像后，您可以使用API​​响应动态填充</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the应该在size属性中输入什么值？</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了弄清楚应该在属性中输入什么值</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您需要分析CSS并了解在不同条件下显示的图像宽度。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有时，这取决于图像本身的宽度：</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">img</span> {<font></font>
&nbsp;&nbsp;width 320px;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width:</span> <span class="hljs-number">37.5em</span>) {
&nbsp;&nbsp;<span class="hljs-selector-tag">width</span>: 640<span class="hljs-selector-tag">px</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这种情况下，有两个固定的图像尺寸选项。</font><font style="vertical-align: inherit;">这个事实可以直接反映在属性中</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">img</span>
&nbsp;&nbsp;<span class="hljs-selector-tag">alt</span>="<span class="hljs-selector-tag">Ferrari</span>"
&nbsp;&nbsp;<span class="hljs-selector-tag">src</span>="<span class="hljs-selector-tag">ferrari</span><span class="hljs-selector-class">.jpg</span>"
&nbsp;&nbsp;<span class="hljs-selector-tag">srcset</span>="<span class="hljs-selector-tag">ferrari-s</span><span class="hljs-selector-class">.jpg</span> 320<span class="hljs-selector-tag">w</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-selector-tag">ferrari-m</span><span class="hljs-selector-class">.jpg</span> 960<span class="hljs-selector-tag">w</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-selector-tag">ferrari-l</span><span class="hljs-selector-class">.jpg</span> 1920<span class="hljs-selector-tag">w</span>"
&nbsp;&nbsp;<span class="hljs-selector-tag">sizes</span>="(<span class="hljs-selector-tag">min-width</span>: 37<span class="hljs-selector-class">.5em</span>) 640<span class="hljs-selector-tag">px</span>, 320<span class="hljs-selector-tag">px</span>"&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，通常会发现图像大小是灵活的。</font><font style="vertical-align: inherit;">通常，图片会从其容器继承尺寸：</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">img</span> {
&nbsp;&nbsp;<span class="hljs-attribute">height</span>: auto;
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.container</span> {
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: <span class="hljs-number">1rem</span>;
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">@media</span> screen <span class="hljs-keyword">and</span> (<span class="hljs-attribute">min-width:</span> <span class="hljs-number">37.5em</span>) {
&nbsp;&nbsp;<span class="hljs-selector-class">.container</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;<font></font>
&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此示例中（假设影响图像宽度的唯一元素是</font></font><code>.container</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），可以将容器的宽度视为图像的宽度。</font><font style="vertical-align: inherit;">在此值得注意的是，从容器的宽度减去内凹痕的宽度。</font><font style="vertical-align: inherit;">您可能需要考虑这一点，也许不需要考虑。</font><font style="vertical-align: inherit;">这完全取决于压痕对图像最终宽度的影响程度。</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span>
&nbsp;&nbsp;<span class="hljs-attr">alt</span>=<span class="hljs-string">"Ferrari"</span>
&nbsp;&nbsp;<span class="hljs-attr">src</span>=<span class="hljs-string">"ferrari.jpg"</span>
&nbsp;&nbsp;<span class="hljs-attr">srcset</span>=<span class="hljs-string">"ferrari-s.jpg 320w,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ferrari-m.jpg 960w,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ferrari-l.jpg 1920w"</span>
&nbsp;&nbsp;<span class="hljs-attr">sizes</span>=<span class="hljs-string">"(min-width: 37.5em) calc(50vw - 2rem),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calc(100vw - 2rem)"</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，设置属性</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高度依赖于特定的布局。</font><font style="vertical-align: inherit;">通常，我会进行工作，首先是在浏览器开发人员工具中研究图像，然后找出哪些选项会影响图像的大小。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍如何检查响应图像的正确设置？</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不难想象，为响应图像测试正确的设置可能既困难又耗时。</font><font style="vertical-align: inherit;">但是，令我们高兴的是，有一种工具可以简化此类问题的解决方案。</font><font style="vertical-align: inherit;">这是一个</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">响应式图像棉绒</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是一个书签，可以添加到浏览器并在您自己的站点上使用。</font><font style="vertical-align: inherit;">调用它时，它将使用各种大小的查看区域和屏幕像素密度自动扫描页面以测试图像。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后，他显示一个报告，其中包含有关页面所有图像的信息，以及是否正确组织了图像尺寸的管理。</font><font style="vertical-align: inherit;">如果在测试页面时出现问题，您将得到有关此信息的通知，甚至会得到有关解决问题的建议。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摘要</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正如你所看到的，属性的组合</font></font><code>srcset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并</font></font><code>sizes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了一个巨大的机会。通过设置这两个属性，您可以向浏览器告知要用于特定查看区域宽度的图像的宽度，并提供图形资源列表，浏览器从中选择最适合的图形资源。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果在使用图像时需要解决更复杂的问题，请注意，有解决这些问题的工具。假设这就像使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebP之</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类的现代图形格式</font><font style="vertical-align: inherit;">，或者</font><font style="vertical-align: inherit;">根据屏幕大小</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同的图像</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">发送</font></a><font style="vertical-align: inherit;">给客户端一样。如果您想研究响应式图像的工作，请查看</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">材料。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亲爱的读者们！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 您在项目中使用响应式图像吗？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/a_/bs/aa/a_bsaactpbr8fltzymtkhqbw1d4.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN500282/index.html">如何衡量和评估开发人员的生产力</a></li>
<li><a href="../zh-CN500284/index.html">操作系统“ Sivelkiriya”：构建程序的示例</a></li>
<li><a href="../zh-CN500286/index.html">我的Linux</a></li>
<li><a href="../zh-CN500288/index.html">股市初学者：诚实谈交易</a></li>
<li><a href="../zh-CN500290/index.html">选择和CSS</a></li>
<li><a href="../zh-CN500294/index.html">5个免费的Web开发人员生产力工具</a></li>
<li><a href="../zh-CN500296/index.html">Python中的41个字符串操作问题</a></li>
<li><a href="../zh-CN500300/index.html">以hackathon格式跟踪芯片。没有实体设计，没有iPhone</a></li>
<li><a href="../zh-CN500304/index.html">了解CSS网格（第2部分）：网格线</a></li>
<li><a href="../zh-CN500308/index.html">5月4日至10日在莫斯科举行的数字活动</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>