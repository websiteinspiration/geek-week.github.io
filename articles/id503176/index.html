<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™‰ ğŸª ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ» Implementasi suatu algoritma untuk menentukan lebar suatu objek menggunakan pengintai ultrasonik dan penyandi dalam bahasa RobotC ğŸ± ğŸ‘©â€ğŸš€ ğŸ‘¨ğŸ¼â€ğŸ«</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang! 
 
 Hari ini saya ingin berbagi implementasi algoritma untuk menentukan lebar suatu objek menggunakan pengintai ultrasonik dan encoder ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Implementasi suatu algoritma untuk menentukan lebar suatu objek menggunakan pengintai ultrasonik dan penyandi dalam bahasa RobotC</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503176/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selamat siang! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hari ini saya ingin berbagi implementasi algoritma untuk menentukan lebar suatu objek menggunakan pengintai ultrasonik dan encoder dalam bahasa pemrograman RobotC (menggunakan platform VEX EDR).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prasejarah</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baru-baru ini, saya ditawari untuk menyelenggarakan kelas master pada pemecahan masalah yang menarik menggunakan bahasa pemrograman RobotC. </font><font style="vertical-align: inherit;">Selama kelas master, saya mempertimbangkan tugas menentukan lebar objek, implementasi algoritma yang ingin saya bagikan dalam publikasi ini.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basis unsur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai tempat pelatihan eksperimental, saya menggunakan lingkungan Robot Dunia Maya untuk platform VEX, model robot virtual VEX Launcher, model virtual elemen kompetisi VRC Turning Point (Gambar 1) dan rumus matematika paling sederhana (untuk menentukan panjang akor dalam lingkaran dengan sudut tengah yang diketahui). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/17/tx/x-/17txx-doqjqt3baxzodq7lefbmm.png" alt="gambar"><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar 1</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tempat pelatihan virtual dengan robot</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tugas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Menentukan diameter bola hanya menggunakan pengintai ultrasonik dan encoders yang dipasang pada robot</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Landasan teori</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menentukan lebar objek, saya menggunakan konsep </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pola radiasi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Gambar 2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8m/1x/qw/8m1xqw4-9xx-e_hrazmepq8zdpq.png" alt="gambar"><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar 2.</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sensitivitas dan pola arah dari pencari rentang ultrasonik </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada intinya, perlu untuk menentukan sudut yang terbentuk ketika beralih dari posisi kanan ekstrem ke posisi kiri ekstrim antara tangen pada titik ekstrim diagram. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan Gambar 3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ym/pq/5j/ympq5j8yf8hlcecpz8j-kbvxjfa.png" alt="gambar"><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar 3</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Algoritma geometri </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mencari sudut tengah busur berdasarkan hubungan antara jari-jari sudut dan busur rotasi robot. </font><font style="vertical-align: inherit;">Nilai lebar akhir akan sesuai dengan kord busur.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter input</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai parameter input, saya telah memilih: </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dist = 100 mm (jarak di mana robot berhenti mengukur, parameter dipilih berdasarkan keberadaan benda lain di sekitar objek yang mungkin jatuh ke bidang pandang sensor dan mengganggu pengukuran)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d_wheel = 102 mm (diameter roda robot)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d_ball = 102 mm (diameter bola aktual)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kesalahan ditentukan sebagai parameter output dari tugas ini, yang akan menunjukkan keakuratan metode kami dan parameter yang dipilih: </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">error = abs (d_ball_exper - d_ball)</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritma Operasi Program</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tahap-tahap algoritma berikut diidentifikasi.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerakan ke objek.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Putar ke titik paling kanan dari suatu objek.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Putar ke titik paling kiri dari objek.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhitungan sudut menggunakan bacaan yang diambil dari encoders.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhitungan kesalahan.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementasi algoritma RobotC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, kita perlu menginisialisasi konfigurasi standar robot virtual:</font></font><br>
<br>
<pre><code class="plaintext hljs">#pragma config(StandardModel, "VEX Launchbot")</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menerapkan fungsi yang akan bertanggung jawab untuk mengubah robot ke posisi paling kanan dan / atau ekstrim kiri. </font><font style="vertical-align: inherit;">Fungsi mengembalikan encoder setelah belokan, yang akan digunakan dalam perhitungan lebih lanjut:</font></font><br>
<br>
<pre><code class="1c hljs">int turn_to_over_object(int leftSpeed, int rightSpeed, int distance, bool need_object, bool left_side)<font></font>
{<font></font>
if(need_object == true)<font></font>
{<font></font>
if(left_side == true)<font></font>
{<font></font>
while(SensorValue[sonarSensor] &gt; distance)<font></font>
{<font></font>
setMultipleMotors(-leftSpeed, leftMotor,frontLeftMotor);<font></font>
setMultipleMotors(rightSpeed, rightMotor,frontRightMotor);<font></font>
}<font></font>
}<font></font>
else<font></font>
{<font></font>
while(SensorValue[sonarSensor] &gt; distance)<font></font>
{<font></font>
setMultipleMotors(leftSpeed, leftMotor,frontLeftMotor);<font></font>
setMultipleMotors(-rightSpeed, rightMotor,frontRightMotor);<font></font>
}<font></font>
}<font></font>
}<font></font>
else<font></font>
{<font></font>
if(left_side == true)<font></font>
{<font></font>
while(SensorValue[sonarSensor] &lt; (distance + <span class="hljs-number">1</span>))<font></font>
{<font></font>
setMultipleMotors(-leftSpeed, leftMotor,frontLeftMotor);<font></font>
setMultipleMotors(rightSpeed, rightMotor,frontRightMotor);<font></font>
}<font></font>
}<font></font>
else<font></font>
{<font></font>
while(SensorValue[sonarSensor] &lt; (distance + <span class="hljs-number">1</span>))<font></font>
{<font></font>
setMultipleMotors(leftSpeed, leftMotor,frontLeftMotor);<font></font>
setMultipleMotors(-rightSpeed, rightMotor,frontRightMotor);<font></font>
}<font></font>
}<font></font>
}<font></font>
<font></font>
return getMotorEncoder(leftMotor);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat lebih dekat argumen fungsi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leftSpeed â€‹â€‹- kecepatan drive kiri </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rightSpeed â€‹â€‹- kecepatan drive yang tepat </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rightSpeed â€‹â€‹- kecepatan drive yang tepat </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jarak - jarak ke objek tempat robot berhenti</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">need_object - mode gerak: Benar, jika suatu objek diperlukan di bidang sensor, Salah jika objek diperlukan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">left_side - arah rotasi robot. </font><font style="vertical-align: inherit;">Benar - belok kiri, Salah - belok kanan</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan nilai need_object = True, robot akan berputar hingga objek berada jauh dari robot (dalam kasus kami, 100 mm). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan nilai need_object = False, robot akan berputar hingga objek berada pada jarak (jarak +1) dari robot. Parameter unit secara total mempengaruhi keakuratan akhir dalam menentukan tidak adanya objek dalam bidang pandang sensor (dimungkinkan untuk meningkatkan program dengan mengambil parameter ini ke dalam argumen fungsi). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita menulis bagian utama dari program ini:</font></font><br>
<br>
<pre><code class="plaintext hljs">task main()<font></font>
{<font></font>
int d_ball = 10.2; //sm<font></font>
int d_wheel = 10.2;<font></font>
<font></font>
int dist = 10; //sm<font></font>
//  <font></font>
setMotor(armMotor, -50);<font></font>
wait(1);<font></font>
<font></font>
while(SensorValue[sonarSensor] &gt; 10)<font></font>
{<font></font>
setMultipleMotors(50, leftMotor, rightMotor, frontLeftMotor, frontRightMotor);<font></font>
}<font></font>
stopAllMotors();<font></font>
int enc = 0;<font></font>
enc = turn_to_over_object(50, 50, dist, false, false);<font></font>
enc = turn_to_over_object(50, 50, dist, true, true);<font></font>
resetMotorEncoder(leftMotor);<font></font>
enc = turn_to_over_object(50, 50, dist, false, true);<font></font>
stopAllMotors();<font></font>
<font></font>
float teta = abs(enc) * PI * d_wheel * d_wheel / (dist * 627);<font></font>
float d_ball_exper = 2 * dist * sin(teta / 2);<font></font>
	<font></font>
float error = abs(d_ball_exper - d_ball);<font></font>
while(1)<font></font>
{<font></font>
}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Loop sementara pertama berjalan hingga robot mencapai jarak yang ditentukan ke objek. Selanjutnya, kita perlu memanggil fungsi yang ditulis di atas satu per satu untuk mengukur pembacaan enkoder antara posisi paling kanan dan paling kiri (perhatikan bahwa sebelum mengukurnya perlu mengatur ulang enkoder ke nol). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mendapatkan rumus sudut, saya dipandu oleh rumus berikut: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - enc = N * 627, di mana </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;N adalah jumlah putaran roda, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;enc adalah pembacaan encoder, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;627 adalah resolusi encoder =&gt; express N; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - S = N * l, di mana </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;l adalah panjang roda, l = PI * d_wheel * d_wheel =&gt; kita mengganti N dan l =&gt; S = enc * PI * d_wheel * d_wheel / 627; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - di sisi lain, S = dist * teta, di mana</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;S adalah besarnya busur yang dihidupkan robot, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;teta adalah sudut tengah yang diinginkan; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - berdasarkan data di atas, kami menyatakan teta =&gt; teta = enc * PI * d_wheel * d_wheel / (627 * dist) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menemukan chord yang sama dengan diameter bola yang diinginkan, kami menggunakan rumus: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;d_ball_exper = 2 * dist * sin (teta / 2) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Loop sementara tak berujung pada akhir program diperlukan untuk melihat nilai yang diterima dalam debugger.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data ringkasan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai diameter bola dan kesalahan berikut diperoleh pada bidang virtual: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;d_ball_exper = 10,6 cm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;kesalahan = 0,4 cm </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, metode yang diperoleh untuk mengukur lebar memberikan nilai kesalahan yang kecil, yang dapat diterima untuk kelas akurasi sensor yang digunakan. </font><font style="vertical-align: inherit;">Nilai kesalahan dapat dikurangi dengan memilih nilai parameter dist (misalnya, memulai siklus dengan robot bergerak kembali dengan langkah tertentu yang berubah menjadi dist) atau menggunakan pengontrol PID, yang akan mengurangi pengaruh inersia robot pada nilai akhir encoder selama pengereman.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prospek</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di masa depan, saya akan mempertimbangkan metode lain menggunakan sensor robot untuk menentukan parameter lingkungan.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id503154/index.html">Skenario Masa Depan untuk Stack Overflow</a></li>
<li><a href="../id503156/index.html">Stasiun kereta api Rusia dapat dilengkapi dengan pencitra panas Rusia, dalam penampilan mereka sangat mirip dengan Cina</a></li>
<li><a href="../id503158/index.html">Kecerdasan buatan melukis gambar dengan sendirinya, benar-benar dengan sendirinya - tanpa belajar dari contoh lukisan lain</a></li>
<li><a href="../id503164/index.html">Iklan perjudian: ringkasan kebijakan Google</a></li>
<li><a href="../id503172/index.html">C #: Memperkenalkan Generator Kode Sumber</a></li>
<li><a href="../id503178/index.html">Apple Mac dan perangkat mewah. KPP, SAS, Fibre Channel, eSATA</a></li>
<li><a href="../id503182/index.html">"Saya pengembang buta pertama di perusahaan saya." Bagian 1</a></li>
<li><a href="../id503184/index.html">Kami mengundang Anda ke pertemuan online Zabbix</a></li>
<li><a href="../id503192/index.html">OVirt dalam 2 jam. Bagian 4. Operasi dasar</a></li>
<li><a href="../id503194/index.html">ISA tidak memaafkan kesalahan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>