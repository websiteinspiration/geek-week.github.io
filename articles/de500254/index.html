<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïî üë©üèø‚Äçüè≠ ‚¨úÔ∏è Wir schreiben ein Frontend, das funktioniert. Oder wie man Ingenieur von einem Entwickler wird. Teil 2 üë©üèø‚Äçüíº üï∂Ô∏è üë©üèº‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im zweiten Teil beginnen wir mit der Implementierung. Lassen Sie uns zun√§chst die Technologie festlegen. Ich w√§hle Webkomponenten. Der Komponentenansa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wir schreiben ein Frontend, das funktioniert. Oder wie man Ingenieur von einem Entwickler wird. Teil 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500254/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im zweiten Teil beginnen wir mit der Implementierung. </font><font style="vertical-align: inherit;">Lassen Sie uns zun√§chst die Technologie festlegen. </font><font style="vertical-align: inherit;">Ich w√§hle Webkomponenten. </font><font style="vertical-align: inherit;">Der Komponentenansatz, native API, ist einfach wiederzuverwenden und zu debuggen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 1 - Beschreiben Sie die Endpositionen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Tag f√ºr unser virtuelles Ansichtsfenster wird als benutzerdefiniertes Ansichtsfenster bezeichnet. </font><font style="vertical-align: inherit;">Zun√§chst beschreiben wir die allgemeinen Eigenschaften f√ºr das Ansichtsfenster:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">custom-viewport</span> {
<span class="hljs-attribute">min-height</span>: <span class="hljs-number">50vh</span>;
<span class="hljs-attribute">max-height</span>: <span class="hljs-number">100vh</span>;
<span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
<span class="hljs-attribute">position</span>: absolute;
<span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
<span class="hljs-attribute">overflow</span>: hidden;
<span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span> <span class="hljs-number">100%</span> <span class="hljs-number">0</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Position inited:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">custom-viewport</span><span class="hljs-selector-attr">[data-mode = <span class="hljs-string">"inited"</span>]</span> {
<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(calc(<span class="hljs-number">100%</span> - <span class="hljs-number">50vh</span>));
<span class="hljs-attribute">transition</span>: transform <span class="hljs-number">1s</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Position ge√∂ffnet:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">custom-viewport</span><span class="hljs-selector-attr">[data-mode = <span class="hljs-string">"opened"</span>]</span> {
<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
<span class="hljs-attribute">transition</span>: transform <span class="hljs-number">1s</span>;
<span class="hljs-attribute">overflow-y</span>: scroll;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gel√∂schte Position:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">custom-viewport</span><span class="hljs-selector-attr">[data-mode = <span class="hljs-string">"deleted"</span>]</span> {
<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">100%</span>);
<span class="hljs-attribute">transition</span>: transform <span class="hljs-number">1s</span>;<font></font>
}</code></pre><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 2 - Beginnen Sie mit dem Schreiben einer benutzerdefinierten Ansichtsfenster-Komponente</font></font></h3><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{
 <span class="hljs-keyword">constructor</span>() {
  <span class="hljs-keyword">super</span>();<font></font>
 }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir implementieren DragUp / DragDown-Ereignisse</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{
 <span class="hljs-keyword">constructor</span>() {
  <span class="hljs-keyword">super</span>();<font></font>
 }<font></font>
 connectedCallback() {<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchstart"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.firstTouch = ev.touches[<span class="hljs-number">0</span>];<font></font>
  });<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchmove"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.deltaY = ev.touches[<span class="hljs-number">0</span>].clientY - <span class="hljs-keyword">this</span>.firstTouch.clientY;
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deltaY &gt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span>.dragDown(ev) : <span class="hljs-keyword">this</span>.dragUp(ev);<font></font>
  });<font></font>
 }<font></font>
 dragUp(ev) {}<font></font>
 dragDown(ev) {}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der obige Code kann schematisch wie folgt beschrieben werden. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ya/tp/4m/yatp4mzqxfwzyepfp98rkaigmpc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun k√∂nnen wir zwischen DragUp / DragDown-Ereignissen unterscheiden. </font><font style="vertical-align: inherit;">Das n√§chste Dienstprogramm ist die Berechnung der Gangreserve.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{
 <span class="hljs-keyword">constructor</span>() {
  <span class="hljs-keyword">super</span>();
  <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT = <span class="hljs-built_in">window</span>.innerHeight; <span class="hljs-comment">// +</span><font></font>
 }<font></font>
 connectedCallback() {<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchstart"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.firstTouch = ev.touches[<span class="hljs-number">0</span>];
   <span class="hljs-keyword">const</span> rect = <span class="hljs-keyword">this</span>.getBoundingClientRect(); <span class="hljs-comment">// +</span>
   <span class="hljs-keyword">const</span> { height, top } = rect; <span class="hljs-comment">// +</span>
   <span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging = (height + top) - <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT; <span class="hljs-comment">// +</span><font></font>
  });<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchmove"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.deltaY = ev.touches[<span class="hljs-number">0</span>].clientY - <span class="hljs-keyword">this</span>.firstTouch.clientY;
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deltaY &gt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span>.dragDown() : <span class="hljs-keyword">this</span>.dragUp();<font></font>
  });<font></font>
 }<font></font>
 dragUp() {}<font></font>
 dragDown() {}<font></font>
 isBottomOffset() { <span class="hljs-comment">// +</span>
   <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging + <span class="hljs-keyword">this</span>.deltaY) &gt; <span class="hljs-number">0</span>; <span class="hljs-comment">// +</span>
 } <span class="hljs-comment">// +</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier erinnern wir uns zuerst daran, wie viel Gangreserve wir zu Beginn der Bewegung hatten, und dann addieren wir einfach DeltaY zu diesem Wert und sehen, ob wir nach oben gehen k√∂nnen oder nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich logisches DragUp:</font></font><br>
<br>
<pre><code class="javascript hljs">...<font></font>
dragUp() {<font></font>
 <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.isBottomOffset()) {
  <span class="hljs-comment">//  </span>
  <span class="hljs-keyword">return</span>;<font></font>
 }<font></font>
 <span class="hljs-keyword">this</span>.style.transform = <span class="hljs-string">'translateY(0)'</span>;<font></font>
}<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir schreiben eine Methode, die das Ansichtsfenster verschiebt:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{
 <span class="hljs-keyword">constructor</span>() {
  <span class="hljs-keyword">super</span>();
  <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT = <span class="hljs-built_in">window</span>.innerHeight;<font></font>
 }<font></font>
 connectedCallback() {<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchstart"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.firstTouch = ev.touches[<span class="hljs-number">0</span>];
   <span class="hljs-keyword">const</span> rect = <span class="hljs-keyword">this</span>.getBoundingClientRect();
   <span class="hljs-keyword">const</span> { height, top } = rect;
   <span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging = (height + top) - <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT;
   <span class="hljs-keyword">this</span>.lastPosY = <span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging - <span class="hljs-keyword">this</span>.scrollTop; <span class="hljs-comment">// +</span><font></font>
  });<font></font>
   ...<font></font>
 }<font></font>
translateY() { <span class="hljs-comment">// +</span>
  <span class="hljs-keyword">const</span> pixels = <span class="hljs-keyword">this</span>.deltaY + <span class="hljs-keyword">this</span>.lastPosY; <span class="hljs-comment">// +</span>
  <span class="hljs-keyword">this</span>.style.transform = <span class="hljs-string">`translateY(<span class="hljs-subst">${pixels}</span>px)`</span>; <span class="hljs-comment">// +</span>
  <span class="hljs-keyword">this</span>.style.transition = <span class="hljs-string">'none'</span>; <span class="hljs-comment">// +</span>
 } <span class="hljs-comment">// +</span><font></font>
...<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns genauer untersuchen, was this.lastPosY ist und wie es berechnet wird. </font><font style="vertical-align: inherit;">Wenn wir in CSS transform geschrieben haben: translateY (calc (100% - 50vh)); </font><font style="vertical-align: inherit;">Wenn 100% die H√∂he des virtuellen Ansichtsfensters selbst ist und 50vh die H√§lfte der H√∂he des realen Ansichtsfensters ist und dies gut f√ºr eine statische Beschreibung der Position geeignet ist, ist es bequemer, mit absoluten Werten zu arbeiten, um die Bewegung in der Dynamik zu berechnen. Wir f√ºhren diese Transformationen hier durch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This.lastPosY ist also der Bewegungsumfang des virtuellen Ansichtsfensters in Pixel zu Beginn der Bewegung. Wir f√ºgen this.deltaY hinzu und ermitteln die neue Position des Ansichtsfensters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da haben wir die Eigenschaften definiert:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">bottom</span>: 0;
<span class="hljs-selector-tag">transform-origin</span>: 50% 100% 0;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann hat unser Koordinatensystem zum Z√§hlen der Bewegung des Ansichtsfensters die Form </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/wx/kh/kzwxkhv9m76qmrgmtbvjgglf3fu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DragDown:</font></font><br>
<br>
<pre><code class="javascript hljs">...<font></font>
dragDown() {<font></font>
 <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.lastPosY &lt; <span class="hljs-number">0</span>) {
  <span class="hljs-keyword">return</span>;<font></font>
 }<font></font>
 <span class="hljs-keyword">this</span>.translateY();<font></font>
}<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich DragEnd-Ereignis:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{
 <span class="hljs-keyword">constructor</span>() {
  <span class="hljs-keyword">super</span>();
  <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT = <span class="hljs-built_in">window</span>.innerHeight;<font></font>
 }<font></font>
 connectedCallback() {<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchend"</span>, ev =&gt; { <span class="hljs-comment">// +</span>
   <span class="hljs-keyword">const</span> { <span class="hljs-attr">mode</span>: currentMode } = <span class="hljs-keyword">this</span>.dataset; <span class="hljs-comment">// +</span>
   <span class="hljs-keyword">this</span>.style = <span class="hljs-literal">null</span>; <span class="hljs-comment">// +</span>
   <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(deltaY) &lt; <span class="hljs-number">10</span>) { <span class="hljs-comment">// +</span>
    <span class="hljs-keyword">this</span>.dataset.mode = currentMode; <span class="hljs-comment">// +</span>
    <span class="hljs-keyword">return</span>; <span class="hljs-comment">// +</span>
   } <span class="hljs-comment">// +</span>
    <span class="hljs-keyword">if</span> (deltaY &gt; <span class="hljs-number">0</span>) { <span class="hljs-comment">// +</span>
     <span class="hljs-keyword">if</span> (currentMode === <span class="hljs-string">"inited"</span>) { <span class="hljs-comment">// +</span>
       <span class="hljs-keyword">this</span>.dataset.mode = <span class="hljs-string">"deleted"</span>; <span class="hljs-comment">// +</span>
       <span class="hljs-keyword">return</span>; <span class="hljs-comment">// +</span>
      } <span class="hljs-comment">// +</span>
      <span class="hljs-keyword">this</span>.dataset.mode = <span class="hljs-string">"inited"</span>; <span class="hljs-comment">// +</span>
      <span class="hljs-keyword">return</span>; <span class="hljs-comment">// +</span>
    } <span class="hljs-comment">// +</span>
    <span class="hljs-keyword">this</span>.dataset.mode = <span class="hljs-string">"opened"</span>; <span class="hljs-comment">// +</span>
  }); <span class="hljs-comment">// +</span><font></font>
   ...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Zeile if (Math.abs (deltaY) &lt;10) geben wir an, dass Sie die aktuelle Position verlassen, wenn Sie weniger als 10 Pixel verschoben haben.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Als Ergebnis sollten wir eine Komponente wie erhalten</font></font></h3><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomViewport</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{
 <span class="hljs-keyword">constructor</span>() {
  <span class="hljs-keyword">super</span>();
  <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT = <span class="hljs-built_in">window</span>.innerHeight;<font></font>
 }<font></font>
 connectedCallback() {<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchstart"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.firstTouch = ev.touches[<span class="hljs-number">0</span>];
   <span class="hljs-keyword">const</span> rect = <span class="hljs-keyword">this</span>.getBoundingClientRect();
   <span class="hljs-keyword">const</span> { height, top } = rect;
   <span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging = (height + top) - <span class="hljs-keyword">this</span>.VIEWPORT_HEIGHT;
   <span class="hljs-keyword">this</span>.lastPosY = <span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging - <span class="hljs-keyword">this</span>.scrollTop;<font></font>
  });<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchmove"</span>, ev =&gt; {
   <span class="hljs-keyword">this</span>.deltaY = ev.touches[<span class="hljs-number">0</span>].clientY - <span class="hljs-keyword">this</span>.firstTouch.clientY;
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deltaY &gt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span>.dragDown() : <span class="hljs-keyword">this</span>.dragUp();<font></font>
  });<font></font>
  <span class="hljs-keyword">this</span>.addEventListener(<span class="hljs-string">"touchend"</span>, ev =&gt; {
   <span class="hljs-keyword">const</span> { <span class="hljs-attr">mode</span>: currentMode } = <span class="hljs-keyword">this</span>.dataset;
   <span class="hljs-keyword">this</span>.style = <span class="hljs-literal">null</span>;
   <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(<span class="hljs-keyword">this</span>.deltaY) &lt; <span class="hljs-number">10</span>) {
    <span class="hljs-keyword">this</span>.dataset.mode = currentMode;
    <span class="hljs-keyword">return</span>;<font></font>
   }<font></font>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.deltaY &gt; <span class="hljs-number">0</span>) {
     <span class="hljs-keyword">if</span> (currentMode === <span class="hljs-string">"inited"</span>) {
       <span class="hljs-keyword">this</span>.dataset.mode = <span class="hljs-string">"deleted"</span>;
       <span class="hljs-keyword">return</span>;<font></font>
      }<font></font>
      <span class="hljs-keyword">this</span>.dataset.mode = <span class="hljs-string">"inited"</span>;
      <span class="hljs-keyword">return</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">this</span>.dataset.mode = <span class="hljs-string">"opened"</span>;<font></font>
  });<font></font>
 }<font></font>
 dragUp() {<font></font>
  <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.isBottomOffset()) {
   <span class="hljs-keyword">this</span>.translateY();
   <span class="hljs-keyword">return</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">this</span>.style.transform = <span class="hljs-string">'translateY(0)'</span>;<font></font>
}<font></font>
 dragDown() {<font></font>
   <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.lastPosY &lt; <span class="hljs-number">0</span>) {
   <span class="hljs-keyword">return</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">this</span>.translateY();<font></font>
}<font></font>
translateY() {<font></font>
  <span class="hljs-keyword">const</span> pixels = <span class="hljs-keyword">this</span>.deltaY + <span class="hljs-keyword">this</span>.lastPosY;
  <span class="hljs-keyword">this</span>.style.transform = <span class="hljs-string">`translateY(<span class="hljs-subst">${pixels}</span>px)`</span>;
  <span class="hljs-keyword">this</span>.style.transition = <span class="hljs-string">'none'</span>;<font></font>
 }<font></font>
 isBottomOffset() {<font></font>
   <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.bottomOffsetBeforeDragging + <span class="hljs-keyword">this</span>.deltaY) &gt; <span class="hljs-number">0</span>;<font></font>
 }<font></font>
}<font></font>
<font></font>
customElements.define(<span class="hljs-string">'custom-viewport'</span>, CustomViewport);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code ist keine vollst√§ndige Implementierung, sondern nur ein Prototyp. </font><font style="vertical-align: inherit;">Eine detailliertere Untersuchung der Schriftrolle, Entprellen, sonstige Optimierungen, Touchcancel - dem Leser √ºberlassen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500244/index.html">Au√üerhalb des Arrays</a></li>
<li><a href="../de500246/index.html">Sch√ºtzen und Hacken der Xbox 360 (Teil 3)</a></li>
<li><a href="../de500248/index.html">FOSS News Nr. 14 - eine √úberpr√ºfung der kostenlosen und Open Source-Nachrichten vom 27. April bis 3. Mai 2020</a></li>
<li><a href="../de500250/index.html">Nachrichten aus der Welt von OpenStreetMap Nr. 509 (04.14.2020-20.04.2020)</a></li>
<li><a href="../de500252/index.html">Kaspersky Security Center - Neue Ebene</a></li>
<li><a href="../de500256/index.html">Dmitry Lebedev: ‚ÄûVor ein paar Jahren habe ich klar verstanden, dass ein bisschen mehr und OpenStreetMap sinken w√ºrde.‚Äú</a></li>
<li><a href="../de500258/index.html">Hochtechnologie (N.-F. Raskaz)</a></li>
<li><a href="../de500260/index.html">√úber Vertrauen</a></li>
<li><a href="../de500262/index.html">Verwenden der Monte-Carlo-Methode zum Erstellen eines Portfolios</a></li>
<li><a href="../de500264/index.html">National Instruments startet die kostenlose LabVIEW 2020 und NXG 5.0 Community Edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>