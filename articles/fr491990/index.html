<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👌🏿 👩🏾‍🎓 🛀🏿 Travailler avec la puce chinoise ADC Hx711 (conclusion) 🎪 🤷🏾 👨🏻‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Après un certain temps, une deuxième connaissance de l'article initial a provoqué un sentiment d' incomplétude dans la question de l'utilisation de ce...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Travailler avec la puce chinoise ADC Hx711 (conclusion)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491990/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Après un certain temps, une deuxième connaissance de l'article initial a provoqué un sentiment d' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incomplétude dans la question de l'utilisation de cet ADC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Oui, certaines études de ce produit ont été réalisées, des faiblesses ont été constatées et des moyens de contourner ces faiblesses ont été suggérés, mais il n'était pas question d'application EXPÉRIMENTALE et pratique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le travail d'Andrei Gerasimenko («ADC NH711 à partir de 3,3 V - ne croit pas la documentation chinoise et pas seulement ...» (https // habr.com / ru / post / 438772)), n'a pas nécessité une considération absolue du poids de la ruche. La condition de relativité des ruches pondérées a éliminé l'erreur de pesée, car les erreurs techniques résultant des changements des conditions extérieures ont agi sur tous les objets de suivi et ont été automatiquement exclues de l'analyse de l'état des ruches. La situation est différente avec une simple pesée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les faiblesses du transducteur sous la forme de la distribution de l'erreur de mesure autre que la distribution aléatoire et constatées par moi ont également été relevées par Nikopol_86 ("... ne croyez pas la documentation chinoise" Nikopol_86 février 86, à 09:27), qui étaient aussi des études théoriques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon application de la méthode de la moyenne mobile pour "calmer" le tremblement des derniers bits de la conversion 24 bits a montré son efficacité, mais il n'y avait pas d'appareil de mesure prêt à l'emploi, tenant compte de toutes les constatations ci-dessus. </font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour la conclusion finale sur l'adéquation du Hx711 pour une utilisation dans les balances, un programme de pesage a été développé sur la base du schéma de circuit: Le</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/4h/sy/o5/4hsyo5yiiy4qex1_odr4l86ibtk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
circuit est alimenté par une alimentation standard standard avec une tension constante de 5 volts, 1 ampère.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'élaboration du programme, tous les inconvénients précédemment notés de l'ADC ont été pris en compte. </font><font style="vertical-align: inherit;">Et maintenant sur le programme intégré dans le contrôleur ATMega16.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Lorsque l'appareil est mis sous tension, l'indicateur affiche: la valeur ADC lue dans la cellule de charge sur la ligne inférieure, la valeur de poids obtenue en normalisant les valeurs ADC de la ligne inférieure est affichée sur la ligne supérieure. </font><font style="vertical-align: inherit;">Habituellement, ceci est: la ligne supérieure est 1.015 et la ligne inférieure est 1085. Après avoir placé le conteneur souhaité sur la plate-forme, les lectures sont mises à zéro en appuyant sur la touche 2 (emballage), ce qui conduit à 0 000 et 0 dans les lignes supérieure et inférieure de l'indicateur, respectivement. </font><font style="vertical-align: inherit;">Après cela, en plaçant la charge pesée sur la plate-forme, nous lisons le poids de la ligne supérieure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que la fonction de mise à zéro automatique, c'est-à-dire la saisie du poids de tare dans le poids lu depuis la plate-forme au moment où les balances sont allumées, n'est pas implémentée. Les valeurs des coefficients de normalisation sont «cousues» à l'avance dans le programme (dans la mémoire flash du contrôleur), ce qui permet de peser immédiatement après avoir pris en compte le poids de la tare. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour modifier les coefficients de normalisation, un mode de calibrage des balances avec une partie du poids (dans ce cas 2 kg) est prévu. Pour entrer dans ce mode, vous devez libérer la plate-forme, attendre des lectures stables et appuyer simultanément sur les touches 12 et 17.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ligne supérieure affiche: «Cal: tournez la clé 12», ce qui indique que la balance entre en mode d'étalonnage avec une partie du poids. Pour continuer, vous devez appuyer sur la touche 12. La ligne du bas affiche «Appuyez sur la touche Tare», ce qui signifie que la balance est prête à «mémoriser» la valeur du récipient. Pour continuer, appuyez sur Key2 (Tara). La ligne du bas affiche «Placer clé 2 kg17». Mettez un poids de 2 kg sur la plate-forme, attendez et appuyez sur la touche 17. Sur l'indicateur dans la ligne supérieure est 2000 et dans la ligne inférieure est 2130. La balance est passée en mode de pesée. Retirez le poids et continuez à peser. Il est important que les nouveaux coefficients de normalisation soient enregistrés dans la RAM du contrôleur et soient effacés (disparaissent) après la mise hors tension de la balance.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une procédure similaire est pratique, mais en cours de travail, un poids de 2 kg n'est pas toujours à portée de main. Dans ce cas, une procédure de correction d'étalonnage est fournie. Pour accéder à cette procédure, il est nécessaire de désactiver la balance, de réorganiser JP1, de sorte que la sortie du port du contrôleur soit court-circuitée à la masse. Allumez la balance. La valeur de l'un des coefficients de normalisation est ajoutée à la ligne supérieure, dans ce cas, il s'agit de 5325. Mettez à zéro les balances Key2, placez le poids que nous connaissons sur la plate-forme et augmentez-le avec les touches Key12, et diminuez la valeur du poids indiqué par les balances avec Key17. On atteint l'égalité du poids posé sur la plateforme et du poids indiqué par les balances. Une fois l'égalité atteinte, JP1 ouvre le circuit. IMPORTANT: il est préférable de fermer le cavalier lorsque la balance est éteinte. Ouverture uniquement lorsque l'appareil est sous tension.La valeur du coefficient de normalisation affiché change également pendant le processus de réglage. La relation inverse, plus le coefficient est élevé, plus le poids affiché est faible et vice versa. Le fait est que la nouvelle valeur de coefficient est également écrite dans la RAM interne du contrôleur. Eh bien voilà tout.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces balances ont été utilisées dans l'atelier de conditionnement pendant 2 postes de travail de 8 heures, en continu, à température ambiante de 18 à 22 degrés Celsius. Déjà le premier jour de fonctionnement a montré que les changements de poids, dus à des facteurs externes: chauffage de l'équipement, sauts de température ambiante dus à l'ouverture des portes, sont satisfaisants. Toutes les fluctuations sont de l'ordre de 10 à 15 grammes (le poids moyen du produit emballé est de 10 kg), ce qui est acceptable pour un poids donné. Ainsi, les erreurs de pesée autorisées par la métrologie pour les balances avec la plus grande limite de pesée de 15 kg LIE sont: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yz/vj/eb/yzvjebt6nvwwea-efnp38pzvwvy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mode de correction d'étalonnage entré est pratique. Mais il était principalement utilisé lors du pesage dévié de 5 à 10 grammes pour 5 kg de poids. Le désir naturel est d'avoir précisément zéro erreur des échelles, mais pas plus nécessaire, car l'erreur est dans la plage admissible.</font></font><br>
<br>
<u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En guise de conclusion croire</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que le module ADC chinois à puce Nh711 se</font><font style="vertical-align: inherit;">montrés aussi réalisable et pouvant être utilisé</font><font style="vertical-align: inherit;">tant que systèmes d'équilibre conventionnels et</font><font style="vertical-align: inherit;">classe moyenne. L'absence de correction de poids de la température ambiante dans le microcircuit lui-même est le point le plus vulnérable de ce module (microcircuit). Ma pratique a montré que pour les appareils fonctionnant dans des conditions avec de petites fluctuations de température ambiante, l'erreur de mesure ne dépasse pas les erreurs permises par la métrologie. Cependant, la question de l'utilisation de ce module pour des balances fonctionnant, par exemple, sur le marché, quand en été la température est supérieure à +30, et en hiver jusqu'à -15 degrés Celsius, reste ouverte.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Malheureusement, je n'ai pas la possibilité de tester la balance dans une chambre de chaleur et de répondre à cette question, donc à la fin de l'article, je joins un fichier hexadécimal (pas pour Arduino), pour la mémoire flash du microcontrôleur. </font><font style="vertical-align: inherit;">Le schéma est illustré ci-dessus, les caractéristiques de la jauge de contrainte sont également données. </font><font style="vertical-align: inherit;">Si quelqu'un est intéressé par ce module ADC et qu'il existe une chambre de chaleur, vous pouvez effectuer vous-même les tests nécessaires. </font><font style="vertical-align: inherit;">Il est conseillé de partager vos résultats. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fichier: Scale16_11.hex. </font><font style="vertical-align: inherit;">Lien: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud.mail.ru/public/4Edm/43fwpHEPU</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
 Tout le </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">meilleur</font></a><font style="vertical-align: inherit;"> !</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr491976/index.html">Nous transformons l'économie UNITAIRE pour une boutique ou une production en ligne</a></li>
<li><a href="../fr491980/index.html">Les avantages des entretiens. Option développeur Flutter</a></li>
<li><a href="../fr491984/index.html">Airport Automation chez HEL</a></li>
<li><a href="../fr491986/index.html">RemoteLoRa - Plus que ON / OFF</a></li>
<li><a href="../fr491988/index.html">Quoi de neuf dans Red Hat OpenShift 4.2 et 4.3?</a></li>
<li><a href="../fr491992/index.html">Développement des analystes</a></li>
<li><a href="../fr491994/index.html">Migration de Cocoapods vers Swift Package Manager</a></li>
<li><a href="../fr491996/index.html">En savoir plus sur Coroutines en C ++</a></li>
<li><a href="../fr492000/index.html">Produit très premier. Burnout</a></li>
<li><a href="../fr492002/index.html">Ailes absorbant la lumière: le secret des papillons super noirs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>