<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😘 🦔 👨🏼‍🏫 CCAの能力におけるネットワークモジュールのWorldSkillsタスクのソリューション。パート2-基本設定 👼🏻 🤲🏻 ⛩️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="「ネットワークおよびシステム管理」コンピテンシーにおけるWorldSkillsチャンピオンシップのネットワークモジュールのタスクを引き続き分析します。
 
 この記事では、次のタスクが考慮されます。
 
 

1. すべてのデバイスで、仮想インターフェイス、サブインターフェイス、およびループインター...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CCAの能力におけるネットワークモジュールのWorldSkillsタスクのソリューション。パート2-基本設定</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457916/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ネットワークおよびシステム管理」コンピテンシーにおけるWorldSkillsチャンピオンシップのネットワークモジュールのタスクを引き続き分析します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、次のタスクが考慮されます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのデバイスで、仮想インターフェイス、サブインターフェイス、およびループインターフェイスを作成します。</font><font style="vertical-align: inherit;">トポロジーに従ってIPアドレスを割り当てます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTR1ルーターインターフェイス上のMNGネットワ​​ークでIPv6アドレスを発行するためのSLAACメカニズムを有効にします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スイッチSW1、SW2、SW3のVLAN 100（MNG）の仮想インターフェイスで、IPv6自動構成モードを有効にします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのデバイス（PC1とWEBを除く）では、手動でリンクローカルアドレスを割り当てます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのスイッチで、ジョブで使用されていないすべてのポートを無効にし、VLAN 99に転送します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SW1スイッチで、30秒以内に2回誤ったパスワードを入力した場合に備えて、1分間ロックを有効にします。</font></font></li>
</ul> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのデバイスがSSHバージョン2の制御に使用できる必要があります。</font></font></li>
</ol><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物理レベルのネットワークトポロジを次の図に示します</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e9/vi/cd/e9vicdacx-qljbarfkqtpcdjcm0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。データリンク層</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wk/-_/uy/wk-_uypaooxm9ymdxobwjhaueou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
のネットワークトポロジを</font><font style="vertical-align: inherit;">次の図に示します</font><font style="vertical-align: inherit;">。ネットワーク層のネットワークトポロジを次の図に示し</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q_/od/h9/q_odh9mn_vq_siwnvn5rpmpkbeg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。すべてのタスクを解決する例は、ビデオ形式で表示できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、スイッチの予備構成を示します。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/owYWIU7F9sA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPv6アドレッシングの構成、SLAACメカニズムの有効化：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dhuZdgs3Gio" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSHバージョン2の構成：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/P9VZFkWGN2M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プリセット</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のタスクを完了する前に、SW1-SW3スイッチで基本的な切り替えを設定することをお勧めします。将来的にそれらの設定を確認する方が便利になるためです。</font><font style="vertical-align: inherit;">切り替え設定については次の記事で詳しく説明しますが、ここでは設定のみを定義します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のステップは、すべてのスイッチで99、100、300の番号を持つVLANを作成することです。</font></font><br>
<br>
<pre><code class="1c hljs">SW1(config)<span class="hljs-meta">#vlan 99</span><font></font>
SW1(config-vlan)<span class="hljs-meta">#exit</span><font></font>
SW1(config)<span class="hljs-meta">#vlan 100</span><font></font>
SW1(config-vlan)<span class="hljs-meta">#exit</span><font></font>
SW1(config)<span class="hljs-meta">#vlan 300</span><font></font>
SW1(config-vlan)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のステップは、g0 / 1インターフェイスをVLAN番号300のSW1に変換することです。</font></font><br>
<br>
<pre><code class="1c hljs">SW1(config)<span class="hljs-meta">#interface gigabitEthernet 0/1</span><font></font>
SW1(config-if)<span class="hljs-meta">#switchport mode access </span><font></font>
SW1(config-if)<span class="hljs-meta">#switchport access vlan 300</span><font></font>
SW1(config-if)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のスイッチを対象とするインターフェイスf0 / 1-2、f0 / 5-6は、トランクモードに切り替える必要があります。</font></font><br>
<br>
<pre><code class="1c hljs">SW1(config)<span class="hljs-meta">#interface range fastEthernet 0/1-2, fastEthernet 0/5-6</span><font></font>
SW1(config-if-range)<span class="hljs-meta">#switchport trunk encapsulation dot1q</span><font></font>
SW1(config-if-range)<span class="hljs-meta">#switchport mode trunk </span><font></font>
SW1(config-if-range)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランクモードのスイッチSW2には、f0 / 1-4インターフェイスがあります。</font></font><br>
<br>
<pre><code class="1c hljs">SW2(config)<span class="hljs-meta">#interface range fastEthernet 0/1-4</span><font></font>
SW2(config-if-range)<span class="hljs-meta">#switchport trunk encapsulation dot1q</span><font></font>
SW2(config-if-range)<span class="hljs-meta">#switchport mode trunk </span><font></font>
SW2(config-if-range)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランクモードのSW3スイッチには、インターフェイスf0 / 3-6、g0 / 1があります。</font></font><br>
<br>
<pre><code class="1c hljs">SW3(config)<span class="hljs-meta">#interface range fastEthernet 0/3-6, gigabitEthernet 0/1</span><font></font>
SW3(config-if-range)<span class="hljs-meta">#switchport trunk encapsulation dot1q</span><font></font>
SW3(config-if-range)<span class="hljs-meta">#switchport mode trunk </span><font></font>
SW3(config-if-range)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この段階で、スイッチの設定により、タスクを完了するために必要なタグ付きパケットの交換が可能になります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.すべてのデバイスで、仮想インターフェイス、サブインターフェイス、およびループインターフェイスを作成します。</font><font style="vertical-align: inherit;">トポロジーに従ってIPアドレスを割り当てます。</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BR1ルーターが最初に構成されます。</font><font style="vertical-align: inherit;">L3トポロジーによると、ここではループタイプのインターフェースを構成する必要があります。これもループバックであり、番号101の下にあります。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//  loopback</span><font></font>
BR1(config)<span class="hljs-meta">#interface loopback 101</span><font></font>
<span class="hljs-comment">//  ipv4-</span><font></font>
BR1(config-if)<span class="hljs-meta">#ip address 2.2.2.2 255.255.255.255</span><font></font>
<span class="hljs-comment">//  ipv6  </span><font></font>
BR1(config-if)<span class="hljs-meta">#ipv6 enable</span><font></font>
<span class="hljs-comment">//  ipv6-</span><font></font>
BR1(config-if)<span class="hljs-meta">#ipv6 address 2001:B:A::1/64</span><font></font>
<span class="hljs-comment">//     </span><font></font>
BR1(config-if)<span class="hljs-meta">#exit</span><font></font>
BR1(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成されたインターフェースのステータスを確認するには、次のコマンドを使用できます</font></font><b><code>show ipv6 interface brief</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="1c hljs">BR1<span class="hljs-meta">#show ipv6 interface brief </span><font></font>
...<font></font>
Loopback101                [up/up]<font></font>
    FE80::<span class="hljs-number">2</span>D0:<span class="hljs-number">97</span>FF:FE94:<span class="hljs-number">5022</span>	<span class="hljs-comment">//link-local </span><font></font>
    <span class="hljs-number">2001</span>:B:A::<span class="hljs-number">1</span>			<span class="hljs-comment">//IPv6-</span><font></font>
...<font></font>
BR1<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、ループバックがアクティブで、ステータスが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であることがわかります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下を見ると、2つのIPv6アドレスが表示されていますが、IPv6アドレスの設定に使用されたコマンドは1つだけです。</font><font style="vertical-align: inherit;">実際のところ、</font></font><b><code>FE80::2D0:97FF:FE94:5022</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはコマンドを使用してインターフェースでipv6が有効にされたときに割り当てられるリンクローカルアドレスです</font></font><b><code>ipv6 enable</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPv4アドレスを表示するには、同様のコマンドを使用します。</font></font><br>
<br>
<pre><code class="1c hljs">BR1<span class="hljs-meta">#show ip interface brief </span><font></font>
...<font></font>
Loopback101        <span class="hljs-number">2.2</span>.<span class="hljs-number">2.2</span>      YES manual up        up <font></font>
...<font></font>
BR1<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BR1の場合、すぐにg0 / 0インターフェイスを構成する必要があります。ここでは、IPv6アドレスを設定するだけです。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//     </span><font></font>
BR1(config)<span class="hljs-meta">#interface gigabitEthernet 0/0</span><font></font>
<span class="hljs-comment">//  </span><font></font>
BR1(config-if)<span class="hljs-meta">#no shutdown</span><font></font>
BR1(config-if)<span class="hljs-meta">#ipv6 enable </span><font></font>
BR1(config-if)<span class="hljs-meta">#ipv6 address 2001:B:C::1/64</span><font></font>
BR1(config-if)<span class="hljs-meta">#exit</span><font></font>
BR1(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じコマンドで設定を確認できます</font></font><b><code>show ipv6 interface brief</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="1c hljs">BR1<span class="hljs-meta">#show ipv6 interface brief </span><font></font>
GigabitEthernet0/<span class="hljs-number">0</span>         [up/up]<font></font>
    FE80::<span class="hljs-number">290</span>:CFF:FE9D:<span class="hljs-number">4624</span>	<span class="hljs-comment">//link-local </span><font></font>
    <span class="hljs-number">2001</span>:B:C::<span class="hljs-number">1</span>			<span class="hljs-comment">//IPv6-</span><font></font>
...<font></font>
Loopback101                [up/up]<font></font>
    FE80::<span class="hljs-number">2</span>D0:<span class="hljs-number">97</span>FF:FE94:<span class="hljs-number">5022</span>	<span class="hljs-comment">//link-local </span><font></font>
    <span class="hljs-number">2001</span>:B:A::<span class="hljs-number">1</span>			<span class="hljs-comment">//IPv6-</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ISPルーターを構成します。</font><font style="vertical-align: inherit;">ここで、ジョブでは、番号0のループバックが構成されますが、さらに、アドレス30.30.30.1があるはずのg0 / 0インターフェースを構成することが推奨されます。これは、後続のタスクではこれらのインターフェースの構成について何も言われないためです。</font><font style="vertical-align: inherit;">最初に、番号0のループバックが構成されます。</font></font><br>
<br>
<pre><code class="1c hljs">ISP(config)<span class="hljs-meta">#interface loopback 0</span><font></font>
ISP(config-if)<span class="hljs-meta">#ip address 8.8.8.8 255.255.255.255</span><font></font>
ISP(config-if)<span class="hljs-meta">#ipv6 enable </span><font></font>
ISP(config-if)<span class="hljs-meta">#ipv6 address 2001:A:C::1/64</span><font></font>
ISP(config-if)<span class="hljs-meta">#exit</span><font></font>
ISP(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チーム</font></font><code>show ipv6 interface brief</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、インターフェース設定が正しいことを確認できます。</font><font style="vertical-align: inherit;">次に、g0 / 0インターフェースを構成します。</font></font><br>
<br>
<pre><code class="1c hljs">BR1(config)<span class="hljs-meta">#interface gigabitEthernet 0/0</span><font></font>
BR1(config-if)<span class="hljs-meta">#no shutdown </span><font></font>
BR1(config-if)<span class="hljs-meta">#ip address 30.30.30.1 255.255.255.252</span><font></font>
BR1(config-if)<span class="hljs-meta">#exit</span><font></font>
BR1(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、RTR1が構成されます。</font><font style="vertical-align: inherit;">ここでも、番号100でループバックを作成する必要があります。</font></font><br>
<br>
<pre><code class="1c hljs">BR1(config)<span class="hljs-meta">#interface loopback 100</span><font></font>
BR1(config-if)<span class="hljs-meta">#ip address 1.1.1.1 255.255.255.255</span><font></font>
BR1(config-if)<span class="hljs-meta">#ipv6 enable </span><font></font>
BR1(config-if)<span class="hljs-meta">#ipv6 address 2001:A:B::1/64</span><font></font>
BR1(config-if)<span class="hljs-meta">#exit</span><font></font>
BR1(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、RTR1では、vlan'ov用に2つの仮想サブインターフェースを100と300で作成する必要があります。これは、次のように実行できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、no shutdownコマンドで物理g0 / 1インターフェイスを有効にします。</font></font><br>
<br>
<pre><code class="1c hljs">RTR1(config)<span class="hljs-meta">#interface gigabitEthernet 0/1</span><font></font>
RTR1(config-if)<span class="hljs-meta">#no shutdown</span><font></font>
RTR1(config-if)<span class="hljs-meta">#exit </span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、番号が100と300のサブインターフェースが作成および構成されます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//     100     </span><font></font>
RTR1(config)<span class="hljs-meta">#interface gigabitEthernet 0/1.100</span><font></font>
<span class="hljs-comment">//    dot1q   vlan'a 100</span><font></font>
RTR1(config-subif)<span class="hljs-meta">#encapsulation dot1Q 100</span><font></font>
RTR1(config-subif)<span class="hljs-meta">#ipv6 enable </span><font></font>
RTR1(config-subif)<span class="hljs-meta">#ipv6 address 2001:100::1/64</span><font></font>
RTR1(config-subif)<span class="hljs-meta">#exit</span><font></font>
<span class="hljs-comment">//     300     </span><font></font>
RTR1(config)<span class="hljs-meta">#interface gigabitEthernet 0/1.300</span><font></font>
<span class="hljs-comment">//    dot1q   vlan'a 100</span><font></font>
RTR1(config-subif)<span class="hljs-meta">#encapsulation dot1Q 300</span><font></font>
RTR1(config-subif)<span class="hljs-meta">#ipv6 enable </span><font></font>
RTR1(config-subif)<span class="hljs-meta">#ipv6 address 2001:300::2/64</span><font></font>
RTR1(config-subif)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サブインターフェイス番号は、機能するVLAN番号とは異なる場合がありますが、便宜上、VLAN番号と一致するサブインターフェイス番号を使用することをお勧めします。</font><font style="vertical-align: inherit;">サブインターフェース設定時にカプセル化種別を設定する場合は、vlan'aの数と一致する数を指定してください。</font><font style="vertical-align: inherit;">したがって、コマンドの後、</font></font><b><code>encapsulation dot1Q 300</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブインターフェースは番号300 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の</font><font style="vertical-align: inherit;">vlan'aのパケットのみを渡し</font><font style="vertical-align: inherit;">ます。このタスクの最後はRTR2ルーターです。</font><font style="vertical-align: inherit;">SW1とRTR2の間の接続はアクセスモードでなければなりません。スイッチインターフェイスはvlan'a番号300宛てのパケットのみをRTR2に渡します。これはL2トポロジーの割り当てに記載されています。</font><font style="vertical-align: inherit;">したがって、サブインターフェイスを作成せずに、物理インターフェイスのみがRTR2で設定されます。</font></font><br>
<br>
<pre><code class="1c hljs">RTR2(config)<span class="hljs-meta">#interface gigabitEthernet 0/1</span><font></font>
RTR2(config-if)<span class="hljs-meta">#no shutdown </span><font></font>
RTR2(config-if)<span class="hljs-meta">#ipv6 enable</span><font></font>
RTR2(config-if)<span class="hljs-meta">#ipv6 address 2001:300::3/64</span><font></font>
RTR2(config-if)<span class="hljs-meta">#exit</span><font></font>
RTR2(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、g0 / 0インターフェースを構成します。</font></font><br>
<br>
<pre><code class="1c hljs">BR1(config)<span class="hljs-meta">#interface gigabitEthernet 0/0</span><font></font>
BR1(config-if)<span class="hljs-meta">#no shutdown </span><font></font>
BR1(config-if)<span class="hljs-meta">#ip address 30.30.30.2 255.255.255.252</span><font></font>
BR1(config-if)<span class="hljs-meta">#exit</span><font></font>
BR1(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、現在のタスクのルーターインターフェイスの構成が完了しました。</font><font style="vertical-align: inherit;">残りのインターフェースは、以下のタスクが完了するとすぐに構成されます。</font></font><br>
<br>
<h6><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a。</font><font style="vertical-align: inherit;">SLAACメカニズムを有効にして、RTR1ルーターインターフェイスのMNGネットワ​​ークでIPv6アドレスを発行する</font></font></h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLAACはデフォルトで有効になっています。</font><font style="vertical-align: inherit;">唯一のことは、IPv6ルーティングを有効にすることです。</font><font style="vertical-align: inherit;">これは、次のコマンドで実行できます。</font></font><br>
<br>
<pre><code class="1c hljs">RTR1(config-subif)<span class="hljs-meta">#ipv6 unicast-routing</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコマンドがない場合、機器はホストとして機能します。</font><font style="vertical-align: inherit;">つまり、上記のコマンドにより、ipv6アドレスの発行、ルーティングの構成など、追加のipv6関数を使用できるようになります。</font></font><br>
<br>
<h6><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b。</font><font style="vertical-align: inherit;">スイッチSW1、SW2、SW3のVLAN 100（MNG）の仮想インターフェイスで、IPv6自動構成モードを有効にする</font></font></h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L3トポロジーから、スイッチがVLAN 100ネットワークに接続されていることがわかります。つまり、スイッチ上に仮想インターフェイスを作成し、その後、それらにデフォルトのIPv6アドレスを設定する必要があります。</font><font style="vertical-align: inherit;">初期構成は、スイッチがRTR1からデフォルトアドレスを受信できるように正確に行われました。</font><font style="vertical-align: inherit;">3つのスイッチすべてに適した次のコマンドリストを使用して、このタスクを完了することができます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//   </span><font></font>
SW1(config)<span class="hljs-meta">#interface vlan 100</span><font></font>
SW1(config-if)<span class="hljs-meta">#ipv6 enable</span><font></font>
<span class="hljs-comment">//  ipv6  </span><font></font>
SW1(config-if)<span class="hljs-meta">#ipv6 address autoconfig</span><font></font>
SW1(config-if)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じコマンドで確認できます</font></font><code>show ipv6 interface brief</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="1c hljs">SW1<span class="hljs-meta">#show ipv6 interface brief</span><font></font>
...<font></font>
Vlan100                [up/up]<font></font>
    FE80::A8BB:CCFF:FE80:C000		<span class="hljs-comment">// link-local </span><font></font>
    <span class="hljs-number">2001</span>:<span class="hljs-number">100</span>::A8BB:CCFF:FE80:C000	<span class="hljs-comment">//  IPv6-</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクローカルアドレスに加えて、RTR1から受信したipv6アドレスが表示されました。</font><font style="vertical-align: inherit;">このタスクは正常に完了しました。他のスイッチでは、同じコマンドを書き込む必要があります。</font></font><br>
<br>
<h6><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と。</font><font style="vertical-align: inherit;">すべてのデバイス（PC1とWEBを除く）で、リンクローカルアドレスを手動で割り当てます。</font></font></h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
30桁のIPv6アドレスは管理者を満足させません。そのため、手動でリンクローカルを変更し、その長さを最小値に減らす可能性があります。</font><font style="vertical-align: inherit;">どのアドレスを選択するかについての割り当てでは何も言われていないため、ここでは自由に選択できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、スイッチSW1では、リンクローカルアドレスfe80 :: 10を設定する必要があります。</font><font style="vertical-align: inherit;">これは、選択したインターフェイスの設定モードから次のコマンドで実行できます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//     vlan 100</span><font></font>
SW1(config)<span class="hljs-meta">#interface vlan 100</span><font></font>
<span class="hljs-comment">//   link-local  </span><font></font>
SW1(config-if)<span class="hljs-meta">#ipv6 address fe80::10 link-local</span><font></font>
SW1(config-if)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、アドレス指定ははるかに魅力的です。</font></font><br>
<br>
<pre><code class="1c hljs">SW1<span class="hljs-meta">#show ipv6 interface brief</span><font></font>
...<font></font>
Vlan100                [up/up]<font></font>
    FE80::<span class="hljs-number">10</span>		<span class="hljs-comment">//link-local c</span><font></font>
    <span class="hljs-number">2001</span>:<span class="hljs-number">100</span>::<span class="hljs-number">10</span>	<span class="hljs-comment">//IPv6-</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクローカルアドレスに基づいてアドレスが発行されるため、リンクローカルアドレスに加えて、受信したIPv6アドレスも変更されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチSW1では、1つのインターフェイスにリンクローカルアドレスを設定するだけで済みました。</font><font style="vertical-align: inherit;">RTR1ルーターでは、さらに多くの設定を行う必要があります-ループバックで2つのサブインターフェースにリンクローカルを設定する必要があり、次の設定ではトンネル100インターフェースが引き続き表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドの不要な書き込みを避けるために、同じリンクローカルアドレスを一度にすべてのインターフェイス。</font><font style="vertical-align: inherit;">これは、キーワードに</font></font><b><code>range</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">続けてすべてのインターフェースのリストを</font><font style="vertical-align: inherit;">使用して行うことができ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//     </span><font></font>
RTR1(config)<span class="hljs-meta">#interface range gigabitEthernet 0/1.100, gigabitEthernet 0/1.300, loopback 100</span><font></font>
<span class="hljs-comment">//   link-local  </span><font></font>
RTR1(config-if)<span class="hljs-meta">#ipv6 address fe80::1 link-local</span><font></font>
RTR1(config-if)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターフェイスを確認すると、選択したすべてのインターフェイスでリンクローカルアドレスが変更されていることがわかります。</font></font><br>
<br>
<pre><code class="1c hljs">RTR1<span class="hljs-meta">#show ipv6 interface brief</span><font></font>
gigabitEthernet <span class="hljs-number">0</span>/<span class="hljs-number">1.100</span>		[up/up]<font></font>
    FE80::<span class="hljs-number">1</span><font></font>
    <span class="hljs-number">2001</span>:<span class="hljs-number">100</span>::<span class="hljs-number">1</span><font></font>
gigabitEthernet <span class="hljs-number">0</span>/<span class="hljs-number">1.300</span>		[up/up]<font></font>
    FE80::<span class="hljs-number">1</span><font></font>
    <span class="hljs-number">2001</span>:<span class="hljs-number">300</span>::<span class="hljs-number">2</span><font></font>
Loopback100            		[up/up]<font></font>
    FE80::<span class="hljs-number">1</span><font></font>
    <span class="hljs-number">2001</span>:A:B::<span class="hljs-number">1</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のすべてのデバイスは同じ方法で構成されます。</font></font><br>
<br>
<h6><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d。</font><font style="vertical-align: inherit;">すべてのスイッチで、ジョブで使用されていないすべてのポートを無効にし、VLAN 99に転送します</font></font></h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主な考え方は、コマンドを使用して構成する複数のインターフェイスを選択するのと同じ方法であり、</font></font><b><code>range</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">転送コマンドを目的のVLANに書き込んでから、インターフェイスをオフにする必要があります。</font><font style="vertical-align: inherit;">たとえば、スイッチSW1では、L1のトポロジに従って、ポートf0 / 3-4、f0 / 7-8、f0 / 11-24、およびg0 / 2がオフになります。</font><font style="vertical-align: inherit;">この例では、設定は次のようになります。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//    </span><font></font>
SW1(config)<span class="hljs-meta">#interface range fastEthernet 0/3-4, fastEthernet 0/7-8, fastEthernet 0/11-24, gigabitEthernet 0/2</span><font></font>
<span class="hljs-comment">//   access  </span><font></font>
SW1(config-if-range)<span class="hljs-meta">#switchport mode access </span><font></font>
<span class="hljs-comment">//   VLAN 99 </span><font></font>
SW1(config-if-range)<span class="hljs-meta">#switchport access vlan 99</span><font></font>
<span class="hljs-comment">//  </span><font></font>
SW1(config-if-range)<span class="hljs-meta">#shutdown</span><font></font>
SW1(config-if-range)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
既知のコマンドを使用して設定を確認する場合、未使用のすべてのポートが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理上のダウン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータス</font><font style="vertical-align: inherit;">になり、ポートがオフになっていることを通知する</font><font style="vertical-align: inherit;">ことに注意してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="1c hljs">SW1<span class="hljs-meta">#show ip interface brief</span><font></font>
Interface          IP-Address   OK? Method   Status                  Protocol<font></font>
...<font></font>
fastEthernet <span class="hljs-number">0</span>/<span class="hljs-number">3</span>   unassigned   YES unset    administratively down   down<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポートがどのVLANにあるかを確認するには、別のコマンドを使用できます。</font></font><br>
<br>
<pre><code class="1c hljs">SW1<span class="hljs-meta">#show ip vlan</span><font></font>
...<font></font>
<span class="hljs-number">99</span>   VLAN0099     active    Fa0/<span class="hljs-number">3</span>, Fa0/<span class="hljs-number">4</span>, Fa0/<span class="hljs-number">7</span>, Fa0/<span class="hljs-number">8</span><font></font>
                            Fa0/<span class="hljs-number">11</span>, Fa0/<span class="hljs-number">12</span>, Fa0/<span class="hljs-number">13</span>, Fa0/<span class="hljs-number">14</span><font></font>
                            Fa0/<span class="hljs-number">15</span>, Fa0/<span class="hljs-number">16</span>, Fa0/<span class="hljs-number">17</span>, Fa0/<span class="hljs-number">18</span><font></font>
                            Fa0/<span class="hljs-number">19</span>, Fa0/<span class="hljs-number">20</span>, Fa0/<span class="hljs-number">21</span>, Fa0/<span class="hljs-number">22</span><font></font>
                            Fa0/<span class="hljs-number">23</span>, Fa0/<span class="hljs-number">24</span>, Gig0/<span class="hljs-number">2</span><font></font>
...                          <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
未使用のインターフェースはすべてここにあるはずです。</font><font style="vertical-align: inherit;">そのようなvlanが作成されていない場合、インターフェースをvlanに変換することは不可能であることは注目に値します。</font><font style="vertical-align: inherit;">この目的のために、初期セットアップで、作業に必要なすべてのVLANが作成されました。</font></font><br>
<br>
<h6><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e。</font><font style="vertical-align: inherit;">SW1スイッチで、30秒以内に2回誤ったパスワードを入力した場合に1分間ロックを有効にします。</font></font></h6><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、次のコマンドで実行できます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//   60; : 2;  : 30</span><font></font>
SW1<span class="hljs-meta">#login block-for 60 attempts 2 within 30</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの設定を次のように確認することもできます。</font></font><br>
<br>
<pre><code class="1c hljs">SW1<span class="hljs-meta">#show login</span><font></font>
...<font></font>
   If more than <span class="hljs-number">2</span> login failures occur in <span class="hljs-number">30</span> seconds or less,<font></font>
     logins will be disabled for <span class="hljs-number">60</span> seconds.<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
30秒以内に2回失敗すると、ログインが60秒間ブロックされることがわかりやすく説明されています。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. SSHバージョン2プロトコル管理のために、すべてのデバイスにアクセスできる必要があります。</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSHバージョン2を介してデバイスを使用できるようにするには、最初に機器を構成する必要があります。したがって、情報提供のために、工場出荷時設定の機器が最初に構成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のようにパンクチャバージョンを変更できます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//   SSH  2</span><font></font>
Router(config)<span class="hljs-meta">#ip ssh version 2</span><font></font>
Please create RSA keys (of at least <span class="hljs-number">768</span> bits size) to enable SSH v2.<font></font>
Router(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSHバージョン2の正常性のためにRSAキーを作成するように求められます。スマートシステムのアドバイスに従って、次のコマンドでRSAキーを作成できます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//  RSA </span><font></font>
Router(config)<span class="hljs-meta">#crypto key generate rsa</span><font></font>
% Please define a hostname other than Router.<font></font>
Router(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ホスト名が変更されていないため、システムはコマンドの実行を許可しません。</font><font style="vertical-align: inherit;">ホスト名を変更した後、鍵生成コマンドを再度書き込む必要があります。</font></font><br>
<br>
<pre><code class="1c hljs">Router(config)<span class="hljs-meta">#hostname R1</span><font></font>
R1(config)<span class="hljs-meta">#crypto key generate rsa </span><font></font>
% Please define a domain-name first.<font></font>
R1(config)<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、ドメイン名がないため、システムはRSAキーの作成を許可していません。</font><font style="vertical-align: inherit;">ドメイン名をインストールすると、RSAキーを作成できるようになります。</font><font style="vertical-align: inherit;">SSHバージョン2が機能するには、RSA鍵が少なくとも768ビット長である必要があります。</font></font><br>
<br>
<pre><code class="1c hljs">R1(config)<span class="hljs-meta">#ip domain-name wsrvuz19.ru</span><font></font>
R1(config)<span class="hljs-meta">#crypto key generate rsa</span><font></font>
How many bits in the modulus [<span class="hljs-number">512</span>]: <span class="hljs-number">1024</span><font></font>
% Generating <span class="hljs-number">1024</span> bit RSA keys, keys will be non-exportable...[OK]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、SSHv2が機能するには、次のものが必要であることがわかります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホスト名を変更します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメイン名を変更します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RSAキーを生成します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前回の記事では、すべてのデバイスのホスト名とドメイン名を変更するための設定が示されているため、現在のデバイスの構成を続ければ、RSAキーを生成するだけで済みます。</font></font><br>
<br>
<pre><code class="1c hljs">RTR1(config)<span class="hljs-meta">#crypto key generate rsa</span><font></font>
How many bits in the modulus [<span class="hljs-number">512</span>]: <span class="hljs-number">1024</span><font></font>
% Generating <span class="hljs-number">1024</span> bit RSA keys, keys will be non-exportable...[OK]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSHバージョン2はアクティブですが、デバイスはまだ完全に構成されていません。</font><font style="vertical-align: inherit;">最後のステップは、仮想コンソールを構成することです。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//     </span><font></font>
R1(config)<span class="hljs-meta">#line vty 0 4</span><font></font>
<span class="hljs-comment">//       SSH</span><font></font>
RTR1(config-line)<span class="hljs-meta">#transport input ssh</span><font></font>
RTR1(config-line)<span class="hljs-meta">#exit</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前回の記事では、ローカルデータベースを使用して仮想コンソールで認証を設定するAAAモデルを構成しました。ユーザーは、認証直後に特権モードに入る必要がありました。</font><font style="vertical-align: inherit;">最も簡単なSSHヘルスチェックは、自分のハードウェアに接続しようとすることです。</font><font style="vertical-align: inherit;">RTR1では、IPアドレス1.1.1.1のループバックがあり、次のアドレスに接続してみることができます。</font></font><br>
<br>
<pre><code class="1c hljs"><span class="hljs-comment">//  ssh</span><font></font>
RTR1(config)<span class="hljs-meta">#do ssh -l wsrvuz19 1.1.1.1</span><font></font>
Password: <font></font>
RTR1<span class="hljs-meta">#</span><font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キーの後</font></font><b><code>-l</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、既存のユーザーのログインが入力され、次にパスワードが入力されます。</font><font style="vertical-align: inherit;">認証後、すぐに特権モードに切り替わります。つまり、SSHが正しく構成されています。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457900/index.html">気象学者に対する米国連邦通信委員会</a></li>
<li><a href="../ja457902/index.html">Mitap for Data Science</a></li>
<li><a href="../ja457904/index.html">原子ラジオ-史上初の音楽放送</a></li>
<li><a href="../ja457906/index.html">医師は、近い将来、ワクチン製造装置が家庭や薬局に登場すると信じています</a></li>
<li><a href="../ja457910/index.html">WebFPGA-ブラウザでのVerilog開発</a></li>
<li><a href="../ja457920/index.html">ジェットワールド：会議Joker 2018のレポートへの無料アクセス+トップ10のレビュー</a></li>
<li><a href="../ja457926/index.html">アジャイル認定の比較、パート1-ICAgile、Scrum.org、ScrumAllianceおよびPMI</a></li>
<li><a href="../ja457928/index.html">2つの画像を比較するための深いランキング</a></li>
<li><a href="../ja457930/index.html">Pythonで静的に安全な動的型付け</a></li>
<li><a href="../ja457932/index.html">Positive Hack Days 9でのIDSバイパスコンテストの分析</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>