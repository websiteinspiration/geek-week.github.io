<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ç üë©‚Äçüöí üóÑÔ∏è Creating a mesh network on several hectares in one day üë∏üèæ üçÇ üí¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the difficult period of self-isolation, the load on telecom operators has grown significantly. Online went training, work, almost all the available...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Creating a mesh network on several hectares in one day</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499396/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the difficult period of self-isolation, the load on telecom operators has grown significantly. Online went training, work, almost all the available entertainment and receiving news information. And the most common communication channel between a subscriber device and Internet access is wireless access. Wi-Fi is already available everywhere: at home, in the subway, in the barbershop, on the plane. This time I decided to test the Mesh system, which can cover a shopping center with Wi-Fi network and provide seamless roaming in a large area.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/CojxfMiV658" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 2015, Hewlett Packard Enterprise buys Aruba, an American startup, which has already noted a line of enterprise-class devices for wired and wireless data transfer. </font><font style="vertical-align: inherit;">The interest of the new line of devices is that out of the box all the functionality is available without buying a management server or any licenses. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I'm interested in the possibility of building a mesh network without a separate controller. </font><font style="vertical-align: inherit;">That is, such a network organizes itself upon initialization and the first point becomes the controller of the entire wireless network. </font><font style="vertical-align: inherit;">In addition, the network can contain up to 25 access points, and this is hundreds of subscribers and a decent coverage area.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bit of theory</font></font></h4><br>
<img src="https://habrastorage.org/webt/4u/an/rp/4uanrp-xicud2x9ezoygq8hjgp8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A couple of access points fell into my hands - these are Aruba Instant On AP11 and AP15. By the index, it is clear that a device with a large index has the best characteristics. For example, the MIMO formula for AP11 is 2x2, and for AP15 it is 4x4. The entire line of access points supports MU-MIMO. Inside the device line, they are completely compatible with each other and the network can be built taking into account the price. Simply put, in places with a guaranteed small number of subscribers, it makes no sense to put an expensive access point, but in a location with a large number of subscribers you can get by with one, but more productive device. For example, on AP11 it is recommended to load no more than 50 subscribers, and on AP15 it is not more than 100 subscribers, although in theory any Wi-Fi points support up to 256 connected devices, but a lot of resources go to office needs, such as data encryption,which means that performance will fall. I had no experience connecting more than 50 Wi-Fi devices to one point. If there are users loading the wireless network with such or a large number of subscribers, please share in the comments. The maximum number of access points in one network is 25, and if necessary, increase the network, nothing will prevent you from creating two different networks.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Practical exercises</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I‚Äôm wondering how this works in practice. </font><font style="vertical-align: inherit;">Aruba offers the simplest application for iOS and Android, with which you can configure the network. </font><font style="vertical-align: inherit;">As the first point I chose AP15, as more productive. </font><font style="vertical-align: inherit;">Initialization, network creation and other settings are made from a smartphone and take about 5 minutes on each device at the first start. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qb/mo/lf/qbmolfbimcnjlkzmmr2uaz116wm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The system supports the creation of up to 8 different wireless networks. </font><font style="vertical-align: inherit;">At the same time, if you want to divide by the name of the access point with a frequency of 2.4 GHz and 5 GHz, you will need to create two different networks.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Access points support PPPoE connection for authorization with the provider, and are not endowed with a firewall, but they can filter client traffic by categories, for example: education, social networks. </font><font style="vertical-align: inherit;">They also support WPA2 + WPA3 encryption and virtual subnet creation. </font><font style="vertical-align: inherit;">Access points also support scheduled work and shaping traffic for each connected client (one rule for all): 1, 5, 10, 25 Mbps or without speed limit. </font><font style="vertical-align: inherit;">The latter function is especially relevant if you have a limited data channel width, and there are many users expected - this scenario is suitable for (small, only 25 access points maximum) hotels, bars, shopping or business centers.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests and Tests</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Connection and setup are pretty simple, but I wonder how it works in practice and what speeds are really achievable? In speed tests, the Iperf utility will help. For the test, I developed as many as 6 scenarios. At the same time, I wonder how the point works in single-threaded and multi-threaded mode, so I ran the Iperf utility on 1, 10 and 100 threads. As a result, we got 18 tests for each device. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Separately, it must be said about the test devices. For testing, I took the budget smartphone Vsmart Live, built on the Snapdragon 675 chip and a laptop with Wi-Fi adapter Intel Wireless-AC 9560. The server was a computer with an interface of 1000 Mbps connected to a switch with gigabit ports. The AP15 point was connected to the same switch. The second point was connected wirelessly using Mesh.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my network diagram, the AP15 access point receives PoE power, but since the AP11 was connected over the air using Mesh, it was powered by an external power supply. </font><font style="vertical-align: inherit;">It is noteworthy that all access points can be powered by PoE and be connected to a common Ethernet network. </font><font style="vertical-align: inherit;">In this case, the interaction between the access points will take place over a wired network, which reduces the load on the radio channel and increases the overall transmission speed towards the clients. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, the list of tests for a laptop and smartphone looked like this:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at a distance of 1 meter from the first point</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at a distance of 10 meters from the first point (including floor overlap)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at a distance of 1 meter from the second point, connected by radio to the first</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">separately run the test at a frequency of 2.4 and 5 GHz</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conducted three tests with 1, 10 and 100 threads</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Test results (unit of Mbps):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/t7/os/pt/t7ospttgmq9nrgrvczxx_lpjhru.jpeg"><br>
 <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marginal notes</font></font></h4><br>
<img src="https://habrastorage.org/webt/30/fk/gw/30fkgwa_eqya6mw3-d07qjgd5qk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It should be noted that access points have a noticeable radiation pattern, because they are supposed to be mounted on walls or on ceiling panels. </font><font style="vertical-align: inherit;">I noticed this when I put the device vertically on the table and went behind it. </font><font style="vertical-align: inherit;">The signal level dropped sharply and the smartphone received radio waves reflected from the walls. </font><font style="vertical-align: inherit;">Searching the network, I found the antenna pattern and my assumptions were confirmed. </font><font style="vertical-align: inherit;">Thus, the device is really better to place on the ceiling in a large or on walls in an elongated room. </font><font style="vertical-align: inherit;">For the correct positioning of points, special fasteners are produced that will allow you to direct the AP in the desired direction, like a spotlight.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zt/ug/fn/ztugfnebacnaqisjzij5zpacu_w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, the system allows you to enable the Extend Range mode to increase the coverage area of ‚Äã‚Äãa wireless network at a frequency of 2.4 GHz. </font><font style="vertical-align: inherit;">The manufacturer warns that this option may reduce the 2.4 GHz network speed, but even users who are very far from the point will be able to connect.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">findings</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The impression after working with Aruba access points was the most positive. </font><font style="vertical-align: inherit;">If the wired network has already been built, the entire infrastructure has been debugged and you need to add wireless access to all mobile gadgets to the room (there are also street access points), then the Aruba-based system is built in just one day on an area of ‚Äã‚Äãseveral hectares. </font><font style="vertical-align: inherit;">Flexible, but not too extensive settings do not overload the interface, although this may not seem to be enough for administrators who use this system. </font><font style="vertical-align: inherit;">It is worth recalling that Aruba Instant On is a wireless access system in an already formed network infrastructure, and not its basis. </font><font style="vertical-align: inherit;">In general, you can recommend it to those who want a solution out of the box to create a mesh network without a headache.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499378/index.html">Build Your First Cypress Test</a></li>
<li><a href="../en499380/index.html">A thousand and one reasons not to use (fix: Russian) search on the Internet to solve at least some problems</a></li>
<li><a href="../en499382/index.html">Introduction to IDAPython</a></li>
<li><a href="../en499386/index.html">Summary of the book "Creating Microservices"</a></li>
<li><a href="../en499394/index.html">Preparing for Interviews with IT Giants: How I Overcome the Curse of Algorithmic Interviewing</a></li>
<li><a href="../en499398/index.html">Clean the oceans: decomposition of plastic through sunlight</a></li>
<li><a href="../en499400/index.html">–ü–æ—á—Ç—É –°–®–ê –æ–ø—è—Ç—å —Ö–æ—Ç—è—Ç –æ–±–∞–Ω–∫—Ä–æ—Ç–∏—Ç—å –∏–∑-–∑–∞ Amazon. –ö–∞–∫ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç</a></li>
<li><a href="../en499402/index.html">Case Study: Increase LTV by 18% via Super-Dynamic Email Content</a></li>
<li><a href="../en499404/index.html">PostgreSQL load management, when one server is not enough. Andrey Salnikov</a></li>
<li><a href="../en499408/index.html">Pitfalls of testing Kafka Streams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>