<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏊 ⛸️ 🏷️ C＃で「電卓」を記述します。パートI.値の計算、導関数、単純化、およびその他のガチョウ 🤹🏽 🔫 💂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは！
 
 どういうわけか、私たちの計算機はすべての初心者が書くべきものに関連付けられています。おそらく、歴史的にその目的のためのコンピュータが数えるために作成されたためです。もちろん、難しい計算機を作成します。もちろんsympyではありませんが、微分、単純化、計算を高速化するコンパイルなど...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>C＃で「電卓」を記述します。パートI.値の計算、導関数、単純化、およびその他のガチョウ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482228/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか、私たちの計算機はすべての初心者が書くべきものに関連付けられています。</font><font style="vertical-align: inherit;">おそらく、歴史的にその目的のためのコンピュータが数えるために作成されたためです。</font><font style="vertical-align: inherit;">もちろん、難しい計算機を作成します。もちろんsympyではありませんが、微分、単純化、計算を高速化するコンパイルなどの機能などの基本的な代数演算を実行できるようにします。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">水が少ない！</font><font style="vertical-align: inherit;">記事の内容はなんですか？</font></font></b><div class="spoiler_text">     ,   ,  ,  ,      ,    LaTeX,  ,  , ,  ,    . ,    .<br>
<i> ,    - , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">  </a>.</i><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新年から残っているクッキーをとって運転しました！</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事は誰のためのものですか？</font></font></b><div class="spoiler_text"> ,      ,    ,   ,   - . ,     ,         C#  .<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">式アセンブリ</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表現とは？</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私が子供だったとき...</font></font></b><div class="spoiler_text">     .     ?   ,      . ,       ,  «1 + (3 / 4 — (5 + 3 * 1))».     ,   ,      ,        ,   .  ,        .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、これは線ではありません。</font><font style="vertical-align: inherit;">数式がツリーまたはスタックであることは明らかであり、ここでは最初の式に焦点を当てます。</font><font style="vertical-align: inherit;">つまり、各ノード、このツリーの各ノードは、ある種の操作、変数、または定数です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ih/id/g2/ihidg2enlm7vi-es5t5agdoplks.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
操作は、関数または演算子のいずれかであり、原則としてほぼ同じものです。</font><font style="vertical-align: inherit;">彼女の子供たちは関数（演算子）の引数です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード内のクラス階層</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、実装は任意です。</font><font style="vertical-align: inherit;">ただし、ツリーがノードとリーフのみで構成されている場合、それらは異なるという考え方です。</font><font style="vertical-align: inherit;">したがって、私はこれらを「エンティティ」と呼びます。</font><font style="vertical-align: inherit;">したがって、上位クラスは抽象クラスEntityになります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要？</font></font></b><div class="spoiler_text">      ,    ,      - ,          .     ,     — .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、NumberEntity、VariableEntity、OperatorEntity、FunctionEntityの4つの後続クラスもあります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">式を構築する方法は？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、コード内に式を作成します。</font></font><br>
<br>
<pre><code class="plaintext hljs">var x = new VariableEntity("x");<font></font>
var expr = x * x + 3 * x + 12;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
空のクラスVariableEntityを宣言すると、そのようなコードはエラーをスローします。乗算と合計の方法がわからないというのです。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演算子のオーバーライド</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの言語の非常に重要で便利な機能で、算術演算の実行をカスタマイズできます。</font><font style="vertical-align: inherit;">言語に応じて、構文的に実装方法が異なります。</font><font style="vertical-align: inherit;">たとえば、Cでの実装＃</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> YourClass <span class="hljs-keyword">operator</span> +(YourClass a, YourClass b) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> YourClass(a.ToString() + b.ToString());<font></font>
}<font></font>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C＃でのオペレーターの再定義の詳細。</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
カブで、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に実装され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（非）明示的なキャスト</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C＃などのコンパイルされた言語では、通常そのようなものが存在し、myvar.ToAnotherType（）をさらに呼び出すことなく、必要に応じて型をキャストできます。</font><font style="vertical-align: inherit;">したがって、たとえば、次のように書くと便利です。</font></font><br>
<br>
<pre><code class="plaintext hljs">NumberEntity myvar = 3;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常の代わりに</font></font><br>
<br>
<pre><code class="plaintext hljs">NumberEntity myvar = new NumberEntity(3);
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cでの型変換の詳細＃</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
カブは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行に</font><font style="vertical-align: inherit;">実装され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">てい</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ぶら下げ</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entityクラスには、Childrenフィールドがあります。これは、このエンティティの引数であるEntityの単なるリストです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></b><div class="spoiler_text">-       : OperatorEntity  FunctionEntity.         - NodeEntity       ,   LeafEntity     VariableEntity  NumberEntity.<br>
<img src="https://habrastorage.org/webt/ft/i6/kj/fti6kj3h23-tmsd8g30gyyqtyks.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数または演算子を呼び出すときは、新しいエンティティを作成し、その子に関数または演算子の呼び出し元を配置する必要があります。</font><font style="vertical-align: inherit;">たとえば、理論上の金額は次のようになります。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Entity <span class="hljs-keyword">operator</span> +(Entity a, Entity b){ 
    <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">new</span> OperatorEntity(<span class="hljs-string">"+"</span>);<font></font>
    res.Children.Add(a);<font></font>
    res.Children.Add(b);<font></font>
    <span class="hljs-keyword">return</span> res;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、エンティティxとエンティティ3がある場合、x + 3は2つの子3とxを持つ合計演算子の本質を返します。</font><font style="vertical-align: inherit;">したがって、式ツリーを構築できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数呼び出しは単純で、演算子の場合ほど美しくありません。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> Entity <span class="hljs-title">Sin</span>(<span class="hljs-params">Entity a</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">new</span> FunctionEntity(<span class="hljs-string">"sin"</span>);<font></font>
    res.Children.Add(a);<font></font>
    <span class="hljs-keyword">return</span> res;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カブにぶら下がることは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装されてい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかりました、表現ツリーを作成しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数置換</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここではすべてが非常に単純です。</font><font style="vertical-align: inherit;">エンティティがあります。それ自体が変数であるかどうかを確認し、そうである場合は値を返します。それ以外の場合は子を実行します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ような複雑な機能で広大な48行のファイル。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価値計算</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、これがすべてなのです。</font><font style="vertical-align: inherit;">ここではエンティティに何らかのメソッドを追加することになっています</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> Entity <span class="hljs-title">Eval</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (IsLeaf)<font></font>
    {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> MathFunctions.InvokeEval(Name, Children);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
葉は変更されていませんが、それ以外についてはカスタム計算があります。</font><font style="vertical-align: inherit;">繰り返しになりますが、例を挙げます。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Entity <span class="hljs-title">Eval</span>(<span class="hljs-params">List&lt;Entity&gt; args</span>)</span><font></font>
{<font></font>
    MathFunctions.AssertArgs(args.Count, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> r = args[<span class="hljs-number">0</span>].Eval();
    <span class="hljs-keyword">if</span> (r <span class="hljs-keyword">is</span> NumberEntity)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> NumberEntity(Number.Sin((r <span class="hljs-keyword">as</span> NumberEntity).Value));
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> r.Sin();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
引数が数値の場合、数値関数を生成し、それ以外の場合は、それをそのまま返します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは最も単純な単位である数値です。</font><font style="vertical-align: inherit;">算術演算を実行できます。</font><font style="vertical-align: inherit;">デフォルトでは、複雑です。</font><font style="vertical-align: inherit;">また、Sin、Cosなどのオペレーションも定義されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
興味がある場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に数値を記載し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デリバティブ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰でも数値的に導関数を計算でき、そのような関数は本当に1行で記述されます。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">Derivative</span>(<span class="hljs-params">Func&lt;<span class="hljs-keyword">double</span>, <span class="hljs-keyword">double</span>&gt; f, <span class="hljs-keyword">double</span> x</span>)</span> =&gt; (f(x + <span class="hljs-number">1.0e-5</span>) - f(x)) * <span class="hljs-number">1.0e+5</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかしもちろん、分析的な導関数が必要です。</font><font style="vertical-align: inherit;">すでに式ツリーがあるため、微分ルールに従って各ノードを再帰的に置き換えることができます。</font><font style="vertical-align: inherit;">これは次のように機能するはず</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6g/7t/6c/6g7t6ctcfoill4nroqcknz6gaa4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
です。たとえば、ここでは、私のコードに金額がどのように実装されているかを示します。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Entity <span class="hljs-title">Derive</span>(<span class="hljs-params">List&lt;Entity&gt; args, VariableEntity variable</span>)</span> {<font></font>
    MathFunctions.AssertArgs(args.Count, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">var</span> a = args[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> b = args[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">return</span> a.Derive(variable) + b.Derive(variable);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、仕事</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Entity <span class="hljs-title">Derive</span>(<span class="hljs-params">List&lt;Entity&gt; args, VariableEntity variable</span>)</span><font></font>
{<font></font>
    MathFunctions.AssertArgs(args.Count, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">var</span> a = args[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> b = args[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">return</span> a.Derive(variable) * b + b.Derive(variable) * a;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、それ自体が回避策です：</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> Entity <span class="hljs-title">Derive</span>(<span class="hljs-params">VariableEntity x</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (IsLeaf)<font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> VariableEntity &amp;&amp; <span class="hljs-keyword">this</span>.Name == x.Name)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> NumberEntity(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> NumberEntity(<span class="hljs-number">0</span>);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> MathFunctions.InvokeDerive(Name, Children, x);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはEntityメソッドです。</font><font style="vertical-align: inherit;">そしてご覧のように、葉には2つの状態しかありません-それは微分する変数であり、その微分は1であるか、定数（数値またはVariableEntity）であり、その微分は0またはノードであり、名前による参照（InvokeDerive）があります関数の辞書を参照します。目的の関数が存在します（たとえば、合計や正弦）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここではdy / dxのようなものは残さ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ず、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">区別</font><b><font style="vertical-align: inherit;">しない</font></b><font style="vertical-align: inherit;">変数の導関数</font><font style="vertical-align: inherit;">は0である</font><font style="vertical-align: inherit;">とすぐに言います</font><font style="vertical-align: inherit;">が、ここ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別様に行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての区別は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つのファイル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">記述されてい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ますが</font></a><font style="vertical-align: inherit;">、それ以上は必要ありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表現の簡素化。</font><font style="vertical-align: inherit;">パターン</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的な場合の表現の単純化は、原則として重要です。</font><font style="vertical-align: inherit;">ええと、たとえば、どちらの式がより単純ですか。</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mn>2</mn></msup><mo>&amp;#x2212;</mo><msup><mi>y</mi><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.439ex" height="2.759ex" viewBox="0 -916.9 3202.9 1188" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-32" x="809" y="513"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2212" x="1248" y="0"></use><g transform="translate(2249,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-32" x="706" y="513"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><msup><mi>y</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-1">x^2 - y^2</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？</font><font style="vertical-align: inherit;">しかし、私たちはいくつかのアイデアを堅持し、それらに基づいて、表現を正確に単純化するルールを作成したいと考えています。</font><font style="vertical-align: inherit;">
各Evalで、合計があり、子が機能している場合は、4つのオプションを整理し、どこかが同じである場合は、係数を除外するように記述することができます。しかし、もちろんそれはしたくありません。</font><font style="vertical-align: inherit;">したがって、ルールとパターンのシステムを推測できます。</font><font style="vertical-align: inherit;">それで、私たちは何が欲しいですか？</font><font style="vertical-align: inherit;">この構文のようなもの：</font></font><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.27ex" height="2.634ex" viewBox="0 -809.3 6143.9 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2212" x="1184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="2184" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="2682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="3071" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="3461" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="4256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="5256" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="5754" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2">(x - y)(x+y)</script><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">{ any1 / (any2 / any3)   -&gt;   any1 * any3 / any2 },<font></font>
{ const1 * var1 + const2 * var1   -&gt;   (const1 + const2) * var1 },<font></font>
{ any1 + any1 * any2   -&gt;   any1 * (Num(1) + any2) },<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、パターンany1 + const1 * any1に一致するサブツリーが見つかった（緑で囲まれた）ツリーの例です（見つかったany1はオレンジで囲まれています）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/jp/-l/fejp-l9krgdtvhw8d-ccpcekuko.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、たとえば式x + a * xを短くするために同じエンティティを繰り返す必要があることが重要な場合があります。x+ a * yは縮小されないため、そこにxが必要です。</font><font style="vertical-align: inherit;">したがって、ツリーがパターンに一致することをチェックするだけでなく、</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じエンティティパターンが同じエンティティと一致することを確認します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何が何に対応するかを書き留めてから、置き換える。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エントリポイントは次のようになります。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">internal</span> Dictionary&lt;<span class="hljs-keyword">int</span>, Entity&gt; <span class="hljs-title">EqFits</span>(<span class="hljs-params">Entity tree</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-keyword">int</span>, Entity&gt;();
    <span class="hljs-keyword">if</span> (!tree.PatternMakeMatch(<span class="hljs-keyword">this</span>, res))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> res;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、tree.PaternMakeMatchでは、キーとその値を辞書に再帰的に追加します。</font><font style="vertical-align: inherit;">エンティティパターン自体のリストの例を次に示します。</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Pattern any1 = <span class="hljs-keyword">new</span> Pattern(<span class="hljs-number">100</span>, PatType.COMMON);        
<span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Pattern any2 = <span class="hljs-keyword">new</span> Pattern(<span class="hljs-number">101</span>, PatType.COMMON);
<span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Pattern const1 = <span class="hljs-keyword">new</span> Pattern(<span class="hljs-number">200</span>, PatType.NUMBER);
<span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Pattern const2 = <span class="hljs-keyword">new</span> Pattern(<span class="hljs-number">201</span>, PatType.NUMBER);
<span class="hljs-keyword">static</span> <span class="hljs-keyword">readonly</span> Pattern func1 = <span class="hljs-keyword">new</span> Pattern(<span class="hljs-number">400</span>, PatType.FUNCTION);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
any1 * const1-func1などと書くと、各ノードに番号が付きます-これがキーです。</font><font style="vertical-align: inherit;">つまり、ディクショナリに入力するとき、これらの数字だけがキーとして表示されます。100、101、200、201、400 ...そして、ツリーを構築するとき、キーに対応する値を調べて置き換えます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ここに</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
実装さ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">簡素化。</font><font style="vertical-align: inherit;">ツリーソーティング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私がすでに扱っ</font><font style="vertical-align: inherit;">
た</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、著者はそれを単純に行うことに決め、実際にはツリーのハッシュでソートしました。</font><font style="vertical-align: inherit;">彼は何とかaと-a、b + c + bを減らして2b + cに変えました。</font><font style="vertical-align: inherit;">ただし、もちろん、（x + y）+ x * y-3 * xを削減し、一般的にはより複雑なものも必要です。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パターンが機能しない？</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、これまでに行ったことは、パターンはものすごく素晴らしいことです。</font><font style="vertical-align: inherit;">これにより、二乗間の差、および正弦と余弦の二乗の合計、およびその他の複雑なものを減らすことができます。</font><font style="vertical-align: inherit;">しかし、基本的な手のひら（（（（（（x + 1）+ 1）+ 1）+ 1）は、減少しません。これは、ここでの主な規則が用語の可換性であるためです。</font><font style="vertical-align: inherit;">したがって、最初のステップは「線形の子」を分離することです。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「線形の子供」</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、合計または差（そして、ちなみに積/除算）の各ノードについて、項（因子）のリストを取得したいと考えています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-x/ku/yw/-xkuywdj1ovbr9rsam0lrhhcw0q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは基本的に簡単です。</font><font style="vertical-align: inherit;">LinearChildren（エンティティノード）関数がリストを返すようにしてから、node.Childrenの子を調べます。子が合計でない場合は、result.Add（子）、それ以外の場合-result.AddRange（LinearChildren（子））。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ここで</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
実装されて</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いる</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最も美しい方法ではありません</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子供をグループ化する</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから私たちは子供たちのリストを持っていますが、次は何ですか？</font><font style="vertical-align: inherit;">sin（x）+ x + y + sin（x）+ 2 * xがあるとします。</font><font style="vertical-align: inherit;">明らかに、アルゴリズムは5つの項を受け取ります。</font><font style="vertical-align: inherit;">次に、類似性でグループ化します。たとえば、xはsin（x）よりも2 * xのように見えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが適切なグループ化です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s6/qz/eo/s6qzeoeqfech1ow5c8n_nciq9ek.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのパターンは、2 * x + xから3 * xへの変換をさらに処理するためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、最初に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハッシュ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">グループ化し</font><font style="vertical-align: inherit;">、次にMultiHangを実行して、n項の合計をバイナリに変換します。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノードハッシュ</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
片側、 </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-3">x</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は1つのグループに配置する必要があります。</font><font style="vertical-align: inherit;">一方、利用可能な場合</font></font><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.134ex" viewBox="0 -755.5 2295.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-4">x+1</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を1つのグループに入れる</font></font><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>&amp;#x2217;</mo><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.754ex" height="1.509ex" viewBox="0 -540.2 2046.9 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="1474" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>∗</mo><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">a * x</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">無意味です。</font></font><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.492ex" height="2.634ex" viewBox="0 -809.3 4517.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="1442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="3627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="4127" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-6">y * (x + 1)</script><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></b><div class="spoiler_text"> ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>&amp;#x2217;</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>a</mi><mo>+</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>x</mi><mo>+</mo><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.74ex" height="2.866ex" viewBox="0 -863.1 15388.2 1234.2" role="img" focusable="false" style="vertical-align: -0.862ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="2269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="3269" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="3989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="4712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="5101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="5896" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="6897" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="7397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-3D" x="8065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="9121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-61" x="9510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="10262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="11263" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="11760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="12372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="13095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="13889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="14890" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>∗</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>x</mi><mo>+</mo><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">a*x + y*(x + 1) = (a + y) * x + y</script>.   ,    ,     .   ,  —    ,      ,      «».<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、マルチレベルのソートを実装します。</font><font style="vertical-align: inherit;">まず、それをふり</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は1つと同じです。</font><font style="vertical-align: inherit;">並べ替え、落ち着いた。</font><font style="vertical-align: inherit;">それから私たちはそれを装います</font></font><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.134ex" viewBox="0 -755.5 2295.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-8">x+1</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は他の人と一緒にのみ配置できます</font></font><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.134ex" viewBox="0 -755.5 2295.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-9">x+1</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして今</font></font><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.333ex" height="2.134ex" viewBox="0 -755.5 2295.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="1795" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-10">x+1</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>a</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.566ex" height="2.634ex" viewBox="0 -809.3 4549.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-61" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="1474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="1863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="2658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="3659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="4159" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-11">a * (x + 1)</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的にマージされました。</font><font style="vertical-align: inherit;">非常に簡単に実装：</font></font><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.492ex" height="2.634ex" viewBox="0 -809.3 4517.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2217" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="1442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-2B" x="2626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-31" x="3627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="4127" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi><mo>∗</mo><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-12">y * (x + 1)</script><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">string</span> <span class="hljs-title">Hash</span>(<span class="hljs-params">SortLevel level</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> FunctionEntity)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.Name + <span class="hljs-string">"_"</span> + <span class="hljs-keyword">string</span>.Join(<span class="hljs-string">"_"</span>, <span class="hljs-keyword">from</span> child <span class="hljs-keyword">in</span> Children <span class="hljs-keyword">select</span> child.Hash(level));
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> NumberEntity)
        <span class="hljs-keyword">return</span> level == SortLevel.HIGH_LEVEL ? <span class="hljs-string">""</span> : <span class="hljs-keyword">this</span>.Name + <span class="hljs-string">" "</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> VariableEntity)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"v_"</span> + Name;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> (level == SortLevel.LOW_LEVEL ? <span class="hljs-keyword">this</span>.Name + <span class="hljs-string">"_"</span> : <span class="hljs-string">""</span>) + <span class="hljs-keyword">string</span>.Join(<span class="hljs-string">"_"</span>, <span class="hljs-keyword">from</span> child <span class="hljs-keyword">in</span> Children <span class="hljs-keyword">where</span> child.Hash(level) != <span class="hljs-string">""</span> <span class="hljs-keyword">select</span> child.Hash(level));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、関数はソートに何らかの影響を及ぼします（もちろん、 </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s</font></font><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>f</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.418ex" height="2.634ex" viewBox="0 -809.3 1902 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMAIN-29" x="1512" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13">f(x)</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は一般に接続されていません））。</font><font style="vertical-align: inherit;">変数のように、</font></font><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">x</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s</font></font><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">x</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ミックスすることはできません。</font><font style="vertical-align: inherit;">ただし、定数と演算子はすべてのレベルで考慮されるわけではありません。</font><font style="vertical-align: inherit;">この順序で、簡略化プロセス自体</font></font><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.884ex" viewBox="0 -540.2 497.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/482228/&amp;usg=ALkJrhhae1t3sxIdvUpa8sfOZxCvwCsndw#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-16">y</script><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> Entity <span class="hljs-title">Simplify</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> level</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//      :   ,   ,     . .</span>
    <span class="hljs-keyword">var</span> stage1 = <span class="hljs-keyword">this</span>.InnerSimplify();<font></font>
    Entity res = stage1;<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; level; i++)<font></font>
    {<font></font>
        <span class="hljs-comment">//     .    -  x  x+1 (  ),  -  x-1  x+1 (,   ),  -  x+1  x+1 ( ).</span>
        <span class="hljs-keyword">switch</span> (i)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: res = res.Sort(SortLevel.HIGH_LEVEL); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: res = res.Sort(SortLevel.MIDDLE_LEVEL); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>: res = res.Sort(SortLevel.LOW_LEVEL); <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
        <span class="hljs-comment">//    .</span><font></font>
        res = TreeAnalyzer.Replace(Patterns.CommonRules, res).InnerSimplify();<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> res;<font></font>
}<font></font>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></b><div class="spoiler_text">    ?    ,     .   ,     ,    ,  «»  . <br>
</div></div><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
木をソートし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数の「コンパイル」</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
引用符で囲まれている-ILコード自体ではなく、非常に高速な命令セットにのみあるため。</font><font style="vertical-align: inherit;">しかし、それは非常に簡単です。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替問題</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数の値を計算するには、変数の代入とevalを呼び出すだけです。たとえば、</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">var</span> x = MathS.Var(<span class="hljs-string">"x"</span>);
<span class="hljs-keyword">var</span> expr = x * x + <span class="hljs-number">3</span>;
<span class="hljs-keyword">var</span> result = expr.Substitute(x, <span class="hljs-number">5</span>).Eval();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、それはゆっくりと動作し、サインごとに約1.5マイクロ秒です。</font></font><br>
<br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
計算を高速化するために、スタックで関数計算を実行します。つまり、</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1）命令のリストを持つFastExpressionクラスを考え出します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。2）コンパイルすると、命令はスタックに逆順でスタックされます。つまり、関数x * x + sin（x）がある場合です。 + 3の場合、指示は次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">PUSHVAR 0   //    0 - x<font></font>
CALL 6         //    6 - <font></font>
PUSHCONST 3<font></font>
CALL 0         //    0 - <font></font>
PUSHVAR 0<font></font>
PUSHVAR 0<font></font>
CALL 2<font></font>
CALL 0<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、呼び出されると、これらの命令を実行してNumberを返します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sumステートメントの実行例：</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">internal</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Sumf</span>(<span class="hljs-params">Stack&lt;Number&gt; stack</span>)</span><font></font>
{<font></font>
    Number n1 = stack.Pop();<font></font>
    Number n2 = stack.Pop();<font></font>
    stack.Push(n1 + n2);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サインコールが1500nsから60nsに短縮されました（システムComplex.Sinは30nsで動作します）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カブは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装されてい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ふeverything、すべてが今のようです。</font><font style="vertical-align: inherit;">まだ伝えたいことはありますが、一品分で十分だと思います。</font><font style="vertical-align: inherit;">続編に興味がある人はいますか？</font><font style="vertical-align: inherit;">つまり、文字列からの解析、latexでのフォーマット、特定の積分、およびその他のパンです。</font><font style="vertical-align: inherit;">すべてのコード、およびテストとサンプルを含む</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリにリンクし</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考え</font></font></b><div class="spoiler_text">-      .    MIT (      ),       ,  .  ,        — pull-  .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご清聴ありがとうございました！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja482216/index.html">専門の精神科医マキシムマリヤビン（dpmmax）からうつ病への23の応答</a></li>
<li><a href="../ja482218/index.html">12月27日のJavaダイジェスト</a></li>
<li><a href="../ja482220/index.html">アルコマーカーによるローカリゼーション</a></li>
<li><a href="../ja482222/index.html">Kotlin + Spring Boot + Vue.js（アドオン）上のWebアプリケーション</a></li>
<li><a href="../ja482224/index.html">デザイナーが小さなプログラマーである必要がある場合</a></li>
<li><a href="../ja482230/index.html">WEBサーバーの戦い。パート2-現実的なHTTPSシナリオ：</a></li>
<li><a href="../ja482232/index.html">StackOverflowは、愚かな質問に対する回答の単なるリポジトリではありません</a></li>
<li><a href="../ja482234/index.html">PADS Professionalでのデジタルからアナログおよび混合モデリング</a></li>
<li><a href="../ja482240/index.html">Wi-Fi 6を使用した最初のTP-Linkデバイスを分解します：Archer AX6000ルーターとArcher TX3000Eアダプター</a></li>
<li><a href="../ja482244/index.html">ブラインドカメラテストの結果：iPhone、Pixel、Huawei、Samsung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>