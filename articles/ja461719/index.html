<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🚒 📫 👆 レポートの自動化のためのオープンソースソリューション ⛪️ 🕺 🤹🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="多くの場合、サイトおよびモバイルアプリケーションの開発者は、印刷または顧客への郵送のためにPDFページの準備を制御する必要があります。
 
 PDFファイルは、ページ上のテキストとグラフィックの表示を完全に制御します。残念ながら、動的に生成されるPDFファイルを生成するためのライブラリは、PHP、J...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>レポートの自動化のためのオープンソースソリューション</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/461719/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多くの場合、サイトおよびモバイルアプリケーションの開発者は、印刷または顧客への郵送のためにPDFページの準備を制御する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDFファイルは、ページ上のテキストとグラフィックの表示を完全に制御します。残念ながら、動的に生成されるPDFファイルを生成するためのライブラリは、PHP、JS（Web）、Java、またはSwift（それぞれAndroidおよびiOS）の標準ツールには含まれていません。この記事では、PDFファイルを生成するためのオープンソースソリューションについてお話したいと思います。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uv/wy/gb/uvwygbohl_trt0rltfob2kyqj4m.png"><br>
<br>
<a name="habracut"></a><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JasperReports</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、動的に読み込まれるファイルを生成するためのオープンソースのJavaライブラリです。 PDF形式など、複雑なレポートフォームを作成するための多くのツールがありますが、RTF、DOCX、HTML、XLS、XLS、CSV、XMLなどの他の形式も使用できます。つまり、1つのフォームを作成し、1つのレイアウトを作成するだけで十分です。上記の形式のいずれかにエクスポートすることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PHPのPDFLib（商用バージョン）やPDFLib-Liteのオープンソースバージョンなど、優れたライブラリもあります。確かに、ライブラリは非常に高価であり、ライトバージョンはソースコードでのみ配布されます。開発環境にインストールすると、この制限が問題になる可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDFboxは、PDFドキュメントを操作するためのもう1つのオープンソースJavaライブラリです。</font><font style="vertical-align: inherit;">新しいPDFドキュメントを作成し、既存のドキュメントをコンテンツから抽出する機能で管理できます。</font><font style="vertical-align: inherit;">ただし、JasperReportsとは異なり、UI（ユーザーインターフェイス）はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JasperReportsは、PDF形式だけでなく、レポートに関連する大規模なプロジェクトで特に役立つと思います。</font><font style="vertical-align: inherit;">複雑なレポートフォームの簡単な作成、便利なレイアウトのためのUI、サーバーアプリケーション、フロントとの簡単な統合など、プロジェクトに実装するために必要なものがすべて揃っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、次のトピックについて説明します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発環境とサーバーアプリケーションをインストールします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースから自動的に入力されるPDFファイルを作成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成されたPDFを取得するためのサーバーアプリケーションとフロントエンドの統合。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトでJasperReportsの使用を開始するには、2つのアプリケーションをダウンロードする必要があります。JaspersoftStudio-以降では</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作業環境</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼び、JasperServer- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーアプリケーション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼び</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JaspersoftStudio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、組み込みのJasperReports Javaライブラリを備えたEclipseベースの開発環境であり、動的または静的PDFファイル（チケット、レシート、契約、分析グラフなど）が開発されます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JasperServer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルが保存され、JaspersoftStudioから保存されるサーバーアプリケーションです。</font><font style="vertical-align: inherit;">モバイルまたはWebアプリケーションからアクセスできます。</font><font style="vertical-align: inherit;">JasperServerにはUIがあり、レポートを表示したり、さまざまなユーザーのアカウントを作成したり、適切なアクセス権を付与したりできます。</font><font style="vertical-align: inherit;">メーリングリストをメールで送信するように構成することもできます（スケジューラー）。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作業環境とサーバーアプリケーションを設定する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のリンクからアプリケーションをダウンロードしてインストールできます。</font><font style="vertical-align: inherit;">2つのアプリケーションのセットアップ後、作業環境からサーバーアプリケーションへの接続を確立する必要があります。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバー→JasperReportsサーバー接続の作成→</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">優先サーバー名、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ユーザー名、パスワードを</font><font style="vertical-align: inherit;">指定し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続のテスト」を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックし</font><font style="vertical-align: inherit;">て、サーバーへの接続が確立されていることを確認します。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功した</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合</font><font style="vertical-align: inherit;">-さらに進んでください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/mp/kc/gimpkcrr7tcber328uuy1sgwetw.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">動的に生成されるPDFを作成して公開する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発環境とサーバーをインストールし、それらの間の接続を確立しました。</font><font style="vertical-align: inherit;">次に、プリミティブで動的に生成されるPDFファイルを作成します。このファイルは、起動（生成）されるとPostgreSQLからデータを取得し、サーバーアプリケーションにインストールします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、PDFがデータを取得する作業環境にデータソース（この場合はPostgreSQL）を固定する必要があります。</font><font style="vertical-align: inherit;">次に、最初のPDFファイルの開発を始めましょう。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データアダプター→データアダプターの作成→データベースJDBS接続</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><i><font style="vertical-align: inherit;">作成し</font></i><font style="vertical-align: inherit;">、接続データを指定します。</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDBCドライバー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -PostgreSQL（org.postgresql.Driver）。</font><font style="vertical-align: inherit;">DBMSのドライバがない場合は、[ドライバクラスパス]タブで必要なドライバをインストールできます。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDBC URL-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホスト、ポート、データベース名で構成されます。</font></font></li>
<li><b>Username</b>  <b>password </b>—      .</li>
</ol><br>
<img src="https://habrastorage.org/webt/-6/56/-i/-656-ivqhm6xzdrco7ik-hvxqbq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでにおなじみの[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ボタンをクリック</font><font style="vertical-align: inherit;">し、データベースへの接続が成功（成功）し</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たら、[完了</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このデータベースから、PDFが実稼働環境に取り込まれます。最初のPDFファイルもサーバーに展開する予定なので、同じデータソースをサーバーアプリケーションにねじ込みます：</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データソース→リソースの追加→データソース</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と上記のポイントからすべてを繰り返します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、PDFを作成する準備ができました。 JasperReportsのソースは、JRXML形式で保存されます。これは、JasperReports APIが動作する有線タグと属性を備えたXMLです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル」→「新規」→「Jasperレポート」→「ブランクA4」→「JRXMLファイルの名前を指定」→「完了」をクリックします</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1y/iy/8c/1yiy8cfrzq6cyfl9fovgmlzhw8s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいプロジェクトを作成すると、次の画像が表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-k/ja/9q/-kja9qk75ds8hrop-fnv77c_tug.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7つの異なるブロック-各ブロックには、他のブロックとは異なる独自の動作があります。</font><font style="vertical-align: inherit;">詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ご覧ください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ソースをクリックすると、これらのブロックの構造を確認できます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">jasperReport</span>
	<span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://jasperreports.sourceforge.net/jasperreports"</span>
	<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Example"</span> <span class="hljs-attr">pageWidth</span>=<span class="hljs-string">"595"</span> <span class="hljs-attr">pageHeight</span>=<span class="hljs-string">"842"</span> <span class="hljs-attr">columnWidth</span>=<span class="hljs-string">"555"</span> <span class="hljs-attr">leftMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">rightMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">topMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">bottomMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">uuid</span>=<span class="hljs-string">"ae9517f6-ff0b-41bb-a8dc-82196190e940"</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">queryString</span>&gt;</span><font></font>
		&lt;![CDATA[]]&gt;<font></font>
	<span class="hljs-tag">&lt;/<span class="hljs-name">queryString</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">background</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">background</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"79"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">pageHeader</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"35"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">pageHeader</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">columnHeader</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"61"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">columnHeader</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">detail</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"125"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">detail</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">columnFooter</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"45"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">columnFooter</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">pageFooter</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"54"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">pageFooter</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">summary</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"42"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">summary</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">jasperReport</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、5つの余分なブロックを削除して、タイトルと詳細の2つだけ残します。</font><font style="vertical-align: inherit;">これには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[削除]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタン</font><font style="vertical-align: inherit;">（Windows）または</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backspace</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（OS X）</font><font style="vertical-align: inherit;">が役立ちます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、2つの要素を追加します。</font><font style="vertical-align: inherit;">新しい要素を追加するには、2つの方法があります。XML構造にコンテナを登録する（[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソース</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ボタン</font><font style="vertical-align: inherit;">）か、右上の[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パレット]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィンドウから目的の要素をドラッグします</font><font style="vertical-align: inherit;">-静的テキスト。ここにフィールド名とテキストフィールドがあり、その中にデータベースから取得した変数フィールドに入力します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">jasperReport</span>
	<span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://jasperreports.sourceforge.net/jasperreports"</span>
	<span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Example"</span> <span class="hljs-attr">pageWidth</span>=<span class="hljs-string">"595"</span> <span class="hljs-attr">pageHeight</span>=<span class="hljs-string">"842"</span> <span class="hljs-attr">columnWidth</span>=<span class="hljs-string">"555"</span> <span class="hljs-attr">leftMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">rightMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">topMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">bottomMargin</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">uuid</span>=<span class="hljs-string">"ae9517f6-ff0b-41bb-a8dc-82196190e940"</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">queryString</span>&gt;</span><font></font>
		&lt;![CDATA[]]&gt;<font></font>
	<span class="hljs-tag">&lt;/<span class="hljs-name">queryString</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">background</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>/&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">background</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">staticText</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">reportElement</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"30"</span> <span class="hljs-attr">uuid</span>=<span class="hljs-string">"7b697ed9-f52a-483c-965e-f0b2dc6130c1"</span>/&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span><font></font>
					&lt;![CDATA[Static Text]]&gt;<font></font>
				<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">staticText</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">band</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">detail</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">band</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"169"</span> <span class="hljs-attr">splitType</span>=<span class="hljs-string">"Stretch"</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">textField</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">reportElement</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"20"</span> <span class="hljs-attr">uuid</span>=<span class="hljs-string">"41002e0b-ddb2-4e4b-a049-10810ab51208"</span>/&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">textFieldExpression</span>&gt;</span><font></font>
					&lt;![CDATA["Text Field"]]&gt;<font></font>
				<span class="hljs-tag">&lt;/<span class="hljs-name">textFieldExpression</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">textField</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">band</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">detail</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">jasperReport</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベース内のクエリは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">queryString</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タグに書き込む</font><font style="vertical-align: inherit;">か、[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データセットとクエリエディター]ダイアログ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタンをクリックします</font><font style="vertical-align: inherit;">。その後、新しいウィンドウが開き、データソースを選択（1）、クエリを記述（2）、フィールド変数を宣言する必要があります。 [ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールド</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><i><font style="vertical-align: inherit;">読み取り</font></i><font style="vertical-align: inherit;"> ]ボタン</font><font style="vertical-align: inherit;">（3）は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有効な</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求に応じて</font><font style="vertical-align: inherit;">すべてのフィールドを自動的に読み取ります</font><font style="vertical-align: inherit;">。データを表示するには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データプレビュー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（4）を</font><font style="vertical-align: inherit;">クリックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tb/c7/cn/tbc7cnq7japhfky8xj94q_zyzrq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いいね！ String型の4つのフィールドを取得したので、それらを使用してほとんどすべての操作を実行できます。たとえば、単純にそれらをリストし、小さなロジックを記述します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
静的テキスト要素の必須フィールドの名前を出力して、タイトルコンテナーに配置します。変数フィールドが増えるので、詳細コンテナーのテキストフィールド要素に変数フィールドを示します。私たちのPDFは名前、都市、メールアドレスを表示します。完全に退屈しないように、4番目のフィールド（クライアントの性別、Sex）を使用して、テキストフィールド要素に簡単なロジックを記述しましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クライアントが女性の場合、名前の前に夫人が追加されます。男性の場合は、これを行うには、Java三項演算子を使用します。</font></font><br>
<br>
<pre><code class="java hljs">&lt;textFieldExpression&gt;<font></font>
      &lt;![CDATA[$F{sex}.equals( <span class="hljs-string">"male"</span> )?<span class="hljs-string">"Mr. "</span>+$F{name}:<span class="hljs-string">"Mrs. "</span>+$F{name}]]&gt;<font></font>
&lt;/textFieldExpression&gt; </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font><i><font style="vertical-align: inherit;">ソース</font></i><font style="vertical-align: inherit;"> ]ボタンの横にある</font><font style="vertical-align: inherit;">[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレビュー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリックすると</font><font style="vertical-align: inherit;">、結果</font><font style="vertical-align: inherit;">
を確認できます。スクリーンショットでわかるように、PDFは正常に組み立てられています。PDFはすべての値を取り、ロジックを適用して、Mrs。</font><font style="vertical-align: inherit;">と氏 </font><font style="vertical-align: inherit;">
また、City入力パラメーターを取得して、都市でデータをフィルター処理できるようにします。</font><font style="vertical-align: inherit;">これは</font><font style="vertical-align: inherit;">、「アウトライン」ウィンドウで「</font><i><font style="vertical-align: inherit;">パラメーター」→「パラメーターの作成」を</font></i><font style="vertical-align: inherit;">クリックするか</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">名前</font></i><font style="vertical-align: inherit;">と</font><i><font style="vertical-align: inherit;">クラス</font></i><font style="vertical-align: inherit;">属性を持つ</font><font style="vertical-align: inherit;">新しい</font><i><font style="vertical-align: inherit;">パラメーター・</font></i><font style="vertical-align: inherit;">タグ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加することによって実行</font><i><font style="vertical-align: inherit;">でき</font></i><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/wi/v_/4x/wiv_4x-pktkn6qempti9dayharu.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">parameter</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"City"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"java.lang.String"</span>/&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SQLクエリにパラメーターを追加するだけです。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> 
<span class="hljs-keyword">Id</span>, <span class="hljs-keyword">name</span>, sex, city, email
<span class="hljs-keyword">FROM</span> <span class="hljs-keyword">users</span> <span class="hljs-keyword">WHERE</span> city = $P{City}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値San FranciscoをCityパラメータに渡し（次の段落でその方法を説明します）、[ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データプレビュー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリックし</font><font style="vertical-align: inherit;">て結果を表示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kx/dz/eh/kxdzeh0134njlynv19qxycq4jg8.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDFは、データを正常にフィルタリングすることによって収集されました。</font><font style="vertical-align: inherit;">さらに進んで</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
いるすでに動的に入力されるPDFファイルがあるので、それをサーバーにアップロードして、フロントエンドアプリケーションとさらに統合することができます。</font><font style="vertical-align: inherit;">これを行うには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「レポートをJasperReportsサーバーに公開」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボタンをクリック</font><font style="vertical-align: inherit;">→ </font><i><font style="vertical-align: inherit;">サーバー</font></i><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">ダブルクリックして開きます→PDFをダウンロードするサーバーフォルダーを選択します（この場合- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レポート</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）→ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次へ→リポジトリーから</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のデータソース→サーバーアプリケーションで以前に作成されたデータソースを選択→ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フロントエンド統合</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JasperReports APIには、クライアント/サーバー相互作用のための独自のRESTful実装（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST v2）が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含まれています</font><font style="vertical-align: inherit;">。適さない場合は、シンプルなオブジェクトアクセスプロトコルである</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SOAPを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
REST v2を検討します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRUD（作成-読み取り-更新-削除）アクションには、GET（取得）、POST（追加、変更、削除）、PUT（追加、置換）、DELETE（削除）の4つの主要なメソッドを使用できます。すべての詳細情報は、上記のリンクにあるドキュメントで入手できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、より一般的で関連性の高いGETメソッドについて検討します。</font></font><br>
<br>
<pre><code class="xml hljs">http://<span class="hljs-tag">&lt;<span class="hljs-name">host</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>/jasperserver[pro]/rest_v2/reports/path/to/report.<span class="hljs-tag">&lt;<span class="hljs-name">format</span>&gt;</span>?<span class="hljs-tag">&lt;<span class="hljs-name">arguments</span>&gt;</span> </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同期</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエストで、1つのリクエストレスポンスでファイルの出力（既製のPDF）を取得できます（非同期呼び出しは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はすべてがホストとポートで明確であると思います、そして</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ reports / path / to / report</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は呼び出されているファイルのURIです。 PDFファイル（Example.jrxml）のソースをレポートサーバーフォルダーに配置したので、完成したURIのバージョンは/レポート/レポート/サンプルになります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はフォーマット（この場合はPDF）です。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引数</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はパラメータです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記で、Cityパラメーターを追加しました。この市のデータをフィルターするために、値San Franciscoとともにリクエストで渡します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
呼び出しが承認済みゾーンからのものではない場合、さらに2つのパラメーター/属性を追加する必要があります</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。j_username</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j_password</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（承認用の</font><i><font style="vertical-align: inherit;">ログパス</font></i><font style="vertical-align: inherit;">）。デフォルトでは、サーバーのユーザー名とパスワードは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jasperadmin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、次のURLを取得します。</font></font><br>
<br>
<pre><code class="xml hljs">http://localhost:8080/jasperserver/rest_v2/reports/reports/Example.PDF?city=San Francisco&amp;j_username=jasperadmin&amp;j_password=jasperadmin</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、すでに生成されたPDFを取得します。</font><font style="vertical-align: inherit;">たとえば、ブラウザのアドレスバーからこのURLを呼び出すと、ファイルが自動的にダウンロードされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDF画像の表示が必要になる場合があります。</font><font style="vertical-align: inherit;">たとえば、クライアントがファイルを表示したいだけの場合は、ドキュメントをPNG形式で表示できますが、ダウンロードしたい場合はPDFで表示できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDFboxライブラリを使用する例としてJavaを使用して、外部アプリケーションからPDFファイルを生成して選択し、それをPNGに変換する方法を検討します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、</font><font style="vertical-align: inherit;">URLを引数としてとる1つのメソッドを持つ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PullPDF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラス</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> java.awt.image.BufferedImage;
<span class="hljs-keyword">import</span> java.io.BufferedInputStream;
<span class="hljs-keyword">import</span> java.io.ByteArrayOutputStream;
<span class="hljs-keyword">import</span> java.io.IOException;
<span class="hljs-keyword">import</span> java.net.URL;
<span class="hljs-keyword">import</span> java.util.Base64;
<span class="hljs-keyword">import</span> org.apache.pdfbox.pdmodel.PDDocument;
<span class="hljs-keyword">import</span> org.apache.pdfbox.rendering.ImageType;
<span class="hljs-keyword">import</span> org.apache.pdfbox.rendering.PDFRenderer;
<span class="hljs-keyword">import</span> org.apache.pdfbox.tools.imageio.ImageIOUtil;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PullPDF</span> </span>{
 <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">ConvertPDF2PNG</span><span class="hljs-params">(String valuefromParam)</span> <span class="hljs-keyword">throws</span> IOException </span>{<font></font>
  BufferedInputStream input_file = <span class="hljs-keyword">new</span> BufferedInputStream(<span class="hljs-keyword">new</span> URL(valuefromParam).openStream());<font></font>
  ByteArrayOutputStream baos = <span class="hljs-keyword">new</span> ByteArrayOutputStream();<font></font>
<font></font>
  <span class="hljs-keyword">try</span> {<font></font>
   PDDocument document = PDDocument.load(input_file);<font></font>
   PDFRenderer pdfRenderer = <span class="hljs-keyword">new</span> PDFRenderer(document);
   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> page = <span class="hljs-number">0</span>; page &lt; document.getNumberOfPages(); ++page) {<font></font>
    BufferedImage bim = pdfRenderer.renderImageWithDPI(page, <span class="hljs-number">300</span>, ImageType.RGB);<font></font>
    ImageIOUtil.writeImage(bim, <span class="hljs-string">"png"</span>, baos);<font></font>
    baos.flush();<font></font>
    <span class="hljs-keyword">byte</span>[] encodedBytes = Base64.getEncoder().encode(baos.toByteArray());<font></font>
    valuefromParam = <span class="hljs-keyword">new</span> String(encodedBytes);<font></font>
   }<font></font>
  } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> valuefromParam;<font></font>
 }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、Spring Frameworkを使用しても同じ結果が得られます。</font><font style="vertical-align: inherit;">しかし、Javaで作業するときにAndroidとWebの両方に適用できる汎用的な方法を示すようにしました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オンラインストアの簡単なチェックの生成を自動化する必要があり、作成する時間が限られている場合は、プロジェクトのネイティブツールまたは使い慣れたフレームワークを使用することをお勧めします。</font><font style="vertical-align: inherit;">JasperReportsのインストールに時間を費やしたため、より複雑なレポートフォームの開発に関するドキュメントに精通することは正当化されない場合があります。</font><font style="vertical-align: inherit;">他の場合では、JasperReportsはレポートの自動化に適したオープンソースソリューションです。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja461707/index.html">とらえどころのないマルヴァリの冒険、パートV：その他のDDEおよびCOMスクリプトレット</a></li>
<li><a href="../ja461709/index.html">iOS開発者になりたい場合に何を期待するか</a></li>
<li><a href="../ja461713/index.html">クラウドバックアップを保存する4つの方法</a></li>
<li><a href="../ja461715/index.html">Techdirとしての恐怖と嫌悪</a></li>
<li><a href="../ja461717/index.html">オブジェクトストレージでバックアップの最大90％のストレージを圧縮する方法</a></li>
<li><a href="../ja461721/index.html">新しいクラスター分析方法</a></li>
<li><a href="../ja461723/index.html">GolangのContextパッケージを理解する</a></li>
<li><a href="../ja461725/index.html">DataGrip 2019.2：接続管理、データ検索、ナビゲーションでのフィルタリング</a></li>
<li><a href="../ja461727/index.html">シスコスモールビジネスソリューション：優れたネットワークは必ずしも高価ではない</a></li>
<li><a href="../ja461729/index.html">脱獄を使用してデータを抽出する：リスクと結果</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>