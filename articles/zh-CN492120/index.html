<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏻 👨🏼‍🏭 🎨 数据中心的监控：我们如何将旧的BMS更改为新的BMS。第1部分 🚆 🎭 🤛🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="什么是BMS
 数据中心工程系统的监视系统是基础架构的关键要素，它直接影响数据中心的重要指标，例如人员对紧急情况的响应速度，以及因此而不会中断的运行时间。 
 
 许多全球数据中心设备供应商都提供BMS（建筑物监控系统）监控系统。在俄罗斯的Linxdatacenter工作期间，我们有机会熟悉了不同的...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>数据中心的监控：我们如何将旧的BMS更改为新的BMS。第1部分</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/linxdatacenter/blog/492120/"><img src="https://habrastorage.org/getpro/habr/post_images/664/c21/53f/664c2153f646d342beb54c99478d0d8d.jpg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么是BMS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数据中心工程系统的监视系统是基础架构的关键要素，它直接影响数据中心的重要指标，例如人员对紧急情况的响应速度，以及因此而不会中断的运行时间。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
许多全球数据中心设备供应商都提供BMS（建筑物监控系统）监控系统。</font><font style="vertical-align: inherit;">在俄罗斯的Linxdatacenter工作期间，我们有机会熟悉了不同的系统，并遇到了供应商完全相反的方法来操作这些系统。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们告诉您过去一年中我们如何完全更新BMS系统以及原因。&nbsp;&nbsp;</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题的根源</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这一切始于10年前的圣彼得堡Linxdatacenter数据中心的启动。根据当时的行业标准，BMS系统是一台物理服务器，其安装的软件可通过客户端程序（即所谓的“厚客户端”）进行访问。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当时很少有公司提供这种解决方案。他们的产品是标准的，是对现有要求的唯一答案。我们必须给予他们应有的帮助：从那时起到今天，市场领导者整体上都应对他们的基本任务-为数据中心的运营提供功能性解决方案。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于我们来说，合乎逻辑的选择是来自全球最大制造商之一的BMS解决方案。当时选定的系统满足监视集成工程设施（即数据中心）的所有要求。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，随着时间的流逝，IT解决方案的用户（即我们，数据中心运营商）的要求和期望已经改变。对提议的解决方案的市场分析表明，大型供应商还没有为此做好准备。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B2C行业已严重影响了企业IT市场。当今的数字解决方案应确保最终用户的便利-这是开发人员设定的目标。这在许多企业应用程序的用户界面（UI）和用户体验质量（UX）的改善中很明显。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一个人习惯于在日常生活中与数字工具有关的所有事物中感到舒适，并且对用于工作任务的工具有相同的要求。人们期望公司应用程序具有与金融服务，出租车呼叫或在线购物相同的可见性，直观性，简单性和透明度。在企业环境中实施解决方案的IT专业人员还寻求获得所有现代的“好东西”：简单的部署和扩展，容错和无限的自定义选项。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主要的国际供应商常常忽略了这些趋势。</font><font style="vertical-align: inherit;">基于他们在行业中多年的权威，与客户合作的公司通常是断断续续的，缺乏灵活性的。</font><font style="vertical-align: inherit;">他们对自身不可或缺的幻想使他们无法看到年轻的科技公司在字面上如何出现，提供针对特定客户量身定制的替代解决方案，而无需为品牌付出高昂的代价。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旧的BMS系统的缺点&nbsp;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现有的过时BMS解决方案对我们而言的主要缺点是工作缓慢。调查了一些与值班人员反应不充分有关的事件，使我们了解到，有时事件在BMS系统中显示的时间很长。同时，系统没有过载或故障，只是其组件的版本（例如JAVA）已过时，并且无法在没有更新的新版本的操作系统下正常工作。可以仅与BMS系统一起更新它们，而供应商不能确保自动版本连续性，也就是说，对于我们来说，该过程几乎与向新系统过渡一样费力，而新解决方案将保留旧系统的一些缺点。&nbsp;&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们在这里添加一些更令人不愉快的“小事情”：</font></font><br>
<br>
<ol>
<li>       « IP- –   »;&nbsp;<br>
</li>
<li>       (            BMS);<br>
</li>
<li>  ;&nbsp;<br>
</li>
<li>  «» ,          ;<br>
</li>
<li>«»     ,    .           –            ;<br>
</li>
<li>«»  ,  ,         ;<br>
</li>
<li> -      ,  ,      -  ;<br>
</li>
<li>    –      -«»   .   –    ;<br>
<br>
    :<br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/6f0/c64/710/6f0c647101177fb535d396699097d7cc.png"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/44a/302/656/44a3026565568d4b1fbf1f679ffecd6f.png"></li>
<li>     –    ,              ,   ;&nbsp;<br>
</li>
<li>          -  (,      );<br>
</li>
<li>     -   BMS    .&nbsp;<br>
</li>
</ol><br>
<br>
<h2>    BMS</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
鉴于以上所述，我们的主要要求如下：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两台具有自动同步功能的相互独立的相互保留的机器，分别在不同数据中心（在我们的情况下为Linxdatacenter数据中心圣彼得堡和莫斯科）的两个不同云平台上运行；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免费添加新设备；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免费更新软件及其组件（功能改进除外）；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开源代码，使我们能够在开发人员方面出现问题时独立支持系统；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有从BMS接收和使用数据的能力，例如在网站上或在您的个人帐户中；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过没有“胖”客户端的WEB浏览器访问；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用域用户帐户访问BMS；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动画的存在以及更多小巧但不是很理想的事物在详细的工作说明中得以体现。</font></font><br>
</li>
</ol><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后一根稻草</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/d31/ad0/8f8/d31ad08f84082858ebe1d8ec8a20f207.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
那时，当我们意识到数据中心的BMS规模已不足够时，最明显的解决方案是更新现有系统。 “他们不会在交叉口换马，”对吗？&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，大公司通常不会对在几十个国家销售的数十年“抛光”解决方案进行定制修改。当年轻的公司为潜在的消费者测试未来产品的想法或原型，并在产品开发中依靠用户评论时，公司继续出售曾经非常酷但可惜的过时且不灵活的产品的许可证。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们感到自己的方法有所不同。在与旧BMS的制造商进行通信的过程中，很快就清楚了，供应商提议的对现有系统的升级实际上将导致我们购买新系统，该系统具有基础的半自动转移，转移过程中的高成本和陷阱，即使制造商本身也无法预测。当然，在这种情况下，更新解决方案的技术支持成本会增加，并且仍然需要购买扩展许可证。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最糟糕的是，新系统无法完全满足我们的冗余要求。可以根据需要在云平台上实施更新的BMS系统，这将使我们能够放弃硬件，但价格中未包含预订选项。要备份数据，我们必须购买第二台虚拟BMS服务器和另一套许可证。一个许可证的成本约为76美元，而IP地址的数量为1,000个单位，则仅为备用计算机的许可证累积了76,000美元的额外费用。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BMS新版本中的“樱桃”是需要“为所有设备”（甚至是主服务器）购买额外的许可证。</font><font style="vertical-align: inherit;">在这里有必要澄清是否有设备通过网关连接到BMS。</font><font style="vertical-align: inherit;">网关具有一个IP地址，但控制多个设备（平均10个）。</font><font style="vertical-align: inherit;">在旧的BMS中，每个网关IP地址需要一个许可证，统计信息如下所示：“ IP地址/许可证1000，设备1200”。</font><font style="vertical-align: inherit;">更新后的BMS按照不同的原理工作，统计数据看起来像“ IP地址1000，设备/许可证1200”。</font><font style="vertical-align: inherit;">也就是说，新版本中的供应商改变了分配许可证的原则，我们不得不额外购买大约200个许可证。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，“更新”的预算包括四点：&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">云版本及其迁移服务的成本；&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过网关连接的设备的现有软件包的其他许可证；</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份云版本的成本；&nbsp;&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份计算机的许可证集。&nbsp;</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
项目总成本超过100,000美元！</font><font style="vertical-align: inherit;">更不用说将来需要购买新设备的许可证了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，我们意识到，考虑到我们的所有要求并为将来提供现代化的可能性，订购从头开始创建的系统对我们来说更容易（也许更便宜）。</font><font style="vertical-align: inherit;">但是那些想要开发这样一个复杂系统的人仍然必须寻找，比较提案，选择并与决赛选手一道，从传统知识到实施……很快在材料的第二部分中对此进行阅读。&nbsp;</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN492108/index.html">如何前往硅谷：7种启动方式</a></li>
<li><a href="../zh-CN492110/index.html">在Android平台上使用支持俄罗斯加密的云令牌</a></li>
<li><a href="../zh-CN492112/index.html">亚历山大·普柳什切夫（Alexander Plyushchev）关于互联网的政治化，电力和机器人的数字化将取代新闻工作者的报道（但这并不准确）</a></li>
<li><a href="../zh-CN492116/index.html">试图应对意大利和韩国在冠状病毒死亡率方面的惊人差异</a></li>
<li><a href="../zh-CN492118/index.html">关于UPS，他们的反驳和实际情况的5个神话</a></li>
<li><a href="../zh-CN492122/index.html">使用Shell脚本从Gitolite迁移到GitLab</a></li>
<li><a href="../zh-CN492128/index.html">有毒的祖父的界面传说“ Get a Rag！” （s1 e4）</a></li>
<li><a href="../zh-CN492130/index.html">模糊数学。人际关系和狼尾巴</a></li>
<li><a href="../zh-CN492134/index.html">在美国经商的利弊：两家公司三年发展后的印象</a></li>
<li><a href="../zh-CN492138/index.html">为什么我们（可能）高估了COVID-19的致死性</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>