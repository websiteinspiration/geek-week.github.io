<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ú® üÜí ü§∑üèæ PIXI.js clicker creation üßñüèΩ üë∂üèª üßóüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most of those starting to learn programming started out of a desire to make their game. Nuuu ... I'm not an exception, but fate brought me to web deve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PIXI.js clicker creation</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506606/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Most of those starting to learn programming started out of a desire to make their game. </font><font style="vertical-align: inherit;">Nuuu ... I'm not an exception, but fate brought me to web development.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vm/sv/er/vmsvero-kvpdhpvx2refzbvrtfw.png" alt="image"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, let's get to the point. </font><font style="vertical-align: inherit;">Create a clicker with pixi.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The task is trivial, but because </font><font style="vertical-align: inherit;">I understand little about game development, I had to study this topic a little better. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why js? </font><font style="vertical-align: inherit;">Why pixi.js? </font><font style="vertical-align: inherit;">Why is a clicker at all ?! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - I decided to show only my implementation of the task. </font><font style="vertical-align: inherit;">I don‚Äôt want to teach someone what technologies to use, how to write code. </font><font style="vertical-align: inherit;">Just my solution to the problem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before you write code: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First</font></font></b><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is a video of the game creation process. </font><font style="vertical-align: inherit;">If you are too lazy to read, then you can watch and listen</font></font></b>
                        <div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/RfUR7yZvMKo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div>
                    </div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secondly,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I will insert all the code with a picture, but at the end of the article there will be a link to github with the project sources so that you can poke yourself. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the code, I left explanatory comments for you, I hope it will be clear. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, we declare aliases and initialize the application itself. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We create the necessary variables for all elements of the game and load pictures. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zc/i-/dm/zci-dmdrjxnryi1m5cbjxlfv_xi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the pictures, I chose the atlas format. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you are not familiar with the atlas, then this is the json format for downloading a large number of pictures at a time. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is how it looks in code. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mo/lg/tg/molgtg23atku1wh0uxjr-jsraoy.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I created it using TexturePacker. To do this manually, in my opinion, is not advisable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using the setup function, I parse the atlas, set the location of the elements, styles for the text, add the initial value of the points.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iq/mu/8z/iqmu8zlhlqhefemfnmpkwtoxfiu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
These are standard actions for everything (layout). The most interesting are the three properties of target. interactive, buttonMode and on ("pointerdown", handlerClick). The first two are needed for the interaction of the click and the target element. on is a regular event handler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we need to write all the necessary functions for the game to work. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ne/z4/g7/nez4g7rvfls4vni9c28yd9nrya0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Game loop - gameLoop Game </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
state - play </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Click processing - handlerClick </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gameLoop simply calls the state function. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In play, I check the timer value (it is 10) and allow the click on the button, also update the size of the target. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
handlerClick is checking for the possibility of a click and a click is made.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From the flaw that I see is resizing on the target element. </font><font style="vertical-align: inherit;">It changes from 0.9 to 1. Immediately. </font><font style="vertical-align: inherit;">No animation. </font><font style="vertical-align: inherit;">But when you play it does not notice, left as is. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As promised, below is a link to the github project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you have not encountered pixi, but want to deploy the game on your own, then you need a server. </font><font style="vertical-align: inherit;">I used openserver. </font><font style="vertical-align: inherit;">This is for ajax requests. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As promised, the link to the code. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pixi.js </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en506590/index.html">Conference DEVOXX UK. Choose a framework: Docker Swarm, Kubernetes or Mesos. Part 2</a></li>
<li><a href="../en506594/index.html">Redis Best Practices, Part 3</a></li>
<li><a href="../en506598/index.html">Microsoft: Rust is the 'Best Chance' in the Safe Systems Programming Industry</a></li>
<li><a href="../en506600/index.html">The contract for the development of the site in terms of project management (theory + sample)</a></li>
<li><a href="../en506604/index.html">Concurrency and Efficiency: Python vs FSM</a></li>
<li><a href="../en506610/index.html">WAL-G: PostgreSQL Database Backups and Recovery</a></li>
<li><a href="../en506612/index.html">How to increase the completeness of massive online courses</a></li>
<li><a href="../en506620/index.html">Creative thinking: what it is, how to measure and increase your potential</a></li>
<li><a href="../en506624/index.html">FOSS News No. 20 - review of free and open source news for June 8-14, 2020</a></li>
<li><a href="../en506626/index.html">Kamailio SBC or not SBC?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>