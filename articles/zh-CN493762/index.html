<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🎤 📊 🔘 如何组织移动应用程序的后端？ 🌏 🏴󠁧󠁢󠁥󠁮󠁧󠁿 🤱🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们在做什么？移动应用程序的用户注册和授权服务
 
 在每个移动开发人员的宠物项目中，迟早会有一段时间需要快速而又无需太多麻烦地为应用程序创建服务器。服务器应该执行什么功能并不重要：是数据存储还是用户注册/授权。
 
 通常，一开始每个人都（最少或最多）沿着阻力最小的路径前进。我们正在寻找一个交钥匙...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>如何组织移动应用程序的后端？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493762/"><img src="https://habrastorage.org/webt/cx/ck/zj/cxckzjwahn-3ez4gx8w1tlrzspq.jpeg" alt="图片"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在做什么？移动应用程序的用户注册和授权服务</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在每个移动开发人员的宠物项目中，迟早会有一段时间需要快速而又无需太多麻烦地为应用程序创建服务器。服务器应该执行什么功能并不重要：是数据存储还是用户注册/授权。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常，一开始每个人都（最少或最多）沿着阻力最小的路径前进。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在寻找一个交钥匙解决方案，并看它能多快地适应我们的需求。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在此阶段，您可以“ google”的第一件事就是Firebase服务，其免费限制足以组织小型移动应用程序的后端。</font><font style="vertical-align: inherit;">但是在这种情况下，考虑到俄罗斯开发商的确切情况，我们冒着踩踏立法的风险-跨境数据传输和用户个人数据存储。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（联邦法律152“关于个人数据”，第12章，第2章）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用Firebase </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">诱惑很大，但是如果我们想确保自己免受各种监管机构的不必要干扰，我们便开始研究其他选择。</font></font><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一步是将VDS服务器与某种开源或免费增值解决方案一起使用，其中以现成的“服务即服务”或允许部署类似功能的解决方案为基础。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
几年前，我在哈布雷（Habré）上已经在租用的服务器上写了详细的BaasBox设置指南（由于信息过时，该文章已从公众场合删除），并给出了在iOS应用中使用Objective C语言进行各种调用的示例。您租用服务器的最低费用。与他玩了一点之后，决定使用其他解决方案。当时，Parse服务器仅在最近才由Facebook进行开源开发，它没有目前的适配器数量，但其功能已足以满足个人项目和私人客户的应用需求（许多项目仍在进行中）存在并稳定地工作）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
公平地说，值得注意的是，解析服务器已经非常成熟并且正在积极发展。目前，商业祖先中可用的几乎所有功能都已被重新创建。您可以编写自己的钩子，本地化的推送通知，流程管理器，甚至还可以订阅基于套接字更改对象的内容（ParseLiveQuery-有趣的是，我将撰写另一篇有关设置ParseLiveQuery的文章）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是当需要实现非标准数据类型时，parse-server恰恰不再引起人们的兴趣，这种情况很难根据系统中定义的类型来工作。这也干扰了这样一个事实，即我不是专业的服务器开发人员，以前我并不重视更有效地部署环境，并且手工制作了许多配置文件，而在每台新服务器上不断重复执行这些操作。正是在这时，人们才意识到盒装解决方案并不能解决所有问题，因此您应该进入为移动应用程序组织服务器的下一个阶段。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近，我的主要开发语言是Swift。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，主要是我对编写服务器端代码感兴趣的是他。</font><font style="vertical-align: inherit;">Swift本身很容易在Unix系统上安装，但不会带来任何明显的优势。</font><font style="vertical-align: inherit;">从本质上讲，它将类似于具有复杂逻辑的控制台应用程序的开发。</font><font style="vertical-align: inherit;">重新创建服务器所需的基本方法将花费大量时间。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与许多其他语言一样，服务器端swift具有自己的框架和社区，涉及这些解决方案的开发。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
目前，有三种最重要的解决方案可用于开发服务器端swift：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完善</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汽 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kitura</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还有其他选择，但由于其长期停滞的发展和死亡，因此不值得一提。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在文档和支​​持方面，我更喜欢Vapor，但这只是个问题。其他解决方案将接近某人。一种或另一种方式，在很多时候它们是相似的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，在我的示例的整个文章循环中，我将使用Vapor。在此基础上，我们实现了用户注册/授权服务，发送和确认电子邮件以及重置和更改密码的功能。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/cb/al/vwcbalyvknowex3y_gfdmut4gzg.png" alt="图片"><img src="https://habrastorage.org/webt/3p/vg/os/3pvgos4ozvoxeqhby2co5gd53b8.png" alt="图片"><br>
<img src="https://habrastorage.org/webt/tj/r3/qb/tjr3qbenlq1jqhmuwfasf4mduqq.png" alt="图片"><img src="https://habrastorage.org/webt/hj/kb/vy/hjkbvy9ei-pojewwbv4z6ywnu84.png" alt="图片"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在没有实际好处的情况下进行实施值得吗？</font></font></b> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
可能没有！因此，我们将提供最成熟的服务，您可以利用它来组织用于在服务器上存储用户数据的逻辑。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果决定是成人的，则需要使用故意的决定。</font><font style="vertical-align: inherit;">我们必须简化扩展，实现数据验证并提供用户会话的存储，以免强迫他每次输入用户名和密码。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为此我们需要什么？</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VAPOR 4（是的，仍处于测试阶段，但即将如开发人员所承诺的那样发布）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL（有一个出色的适配器可用于该数据库）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nginx的</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL（使用证书关闭我们从客户端到服务器的所有请求）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Localhost（在本地考虑开发方法，以免与网络连接并在旅途中正常工作）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
好吧，我们</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将所有这些打包在Docker中</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确保相同的工作，而与当前的运行时环境无关。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
老实说，我一次对Docker持怀疑态度，但我应该更仔细地研究这项技术。本文的目的不是要解释他的工作，也不是学习如何与他合作（我怀疑我自己仍然必须学习docker的许多有趣功能）。但是，那些不知道它是什么以及如何使用它的人可以通过以下官方链接独立了解Docker：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.docker.com</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
展望未来，我将为Kitematic应用程序留下一个有用的链接，该应用程序旨在简化Docker容器的工作。 ：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kitematic.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不喜欢使用终端的用户必须拥有）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，让我们从在Mac计算机上安装Docker开始：</font></font></b><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">单击</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
链接</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hub.docker.com/editions/community/docker-ce-desktop-mac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font><font style="vertical-align: inherit;">并下载</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Get Docker Desktop For Mac（Stable）。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-2/kn/cl/-2knclw93ax6stjjuiijrsr02fq.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
打开生成的映像，然后不进行任何安装与将应用程序标准复制到程序目录不同。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ea/0o/t1/ea0ot1fxqjce-px54lvazivob7q.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
之后，只需启动应用程序，然后等待直到服务完全初始化即可。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tc/fp/pc/tcfppc1iaj4q8ozy5cpgfziywfo.png" alt="图片"><img src="https://habrastorage.org/webt/yp/_h/1s/yp_h1sn62l0sbk0fugzerwpqyhe.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果还没有Docker ID，则应该在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hub.docker.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上创建它</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">；</font></a><font style="vertical-align: inherit;">如果有，则只需登录到应用程序。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wy/xv/iq/wyxviqdri5ynenssj2-oayiy5mi.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
就是这样，使用Docker的准备工作已经完成。它仅用于检查当前版本和有关环境的信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt;码头工人版本</font></font><br>
<img src="https://habrastorage.org/webt/8g/yb/_k/8gyb_kqje0p5rsbelsf9wpzf9fm.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&gt;码头工人信息</font></font><br>
<img src="https://habrastorage.org/webt/oc/g5/x1/ocg5x1slt4bmqm4srhm7adobq2i.png" alt="图片"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这就完成了授权服务开发的准备工作。</font><font style="vertical-align: inherit;">在下一部分中，我们将看到如何使用各种服务的容器，我们将处理docker-compose来自动化环境的组装并开始编写代码。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS：个人经验的一些建议。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当我们在本地计算机上开发服务时，Docker会分配默认资源供我们使用。</font><font style="vertical-align: inherit;">如果我们想可视化远程服务器上服务的预期行为，我们应该照顾本地计算机上的资源，并使其尽可能接近服务器的特性。</font><font style="vertical-align: inherit;">您可以在我们下载的Docker桌面应用程序的设置中执行此操作：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hs/h9/ds/hsh9dspn18hwwbsqywrj-hjjuds.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
文章作者：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vitaly Podolsky，HackerU老师</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493752/index.html">验证码4的验证码</a></li>
<li><a href="../zh-CN493754/index.html">后勤。第1部分。优化方向和时间表的空中交通</a></li>
<li><a href="../zh-CN493756/index.html">如何在隔离期间在国外市场启动创业公司：Reddit，Product Hunt和拉丁美洲的资源</a></li>
<li><a href="../zh-CN493758/index.html">人工智能将首先创造出古代斯拉夫手稿的语料库</a></li>
<li><a href="../zh-CN493760/index.html">锂离子技术：单位成本下降速度快于预期</a></li>
<li><a href="../zh-CN493768/index.html">反应本机列表</a></li>
<li><a href="../zh-CN493772/index.html">十大Kubernetes技巧和窍门</a></li>
<li><a href="../zh-CN493774/index.html">在Cisco ASA上的AnyConnect VPN隧道中优化云服务</a></li>
<li><a href="../zh-CN493792/index.html">关于机器人导航的第二次ROS聚会的报告</a></li>
<li><a href="../zh-CN493794/index.html">FunCorp的莫斯科办事处如何在1天之内切换到udalenka</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>