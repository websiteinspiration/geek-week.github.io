<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏼‍🤝‍🧑🏻 😀 ☝🏿 Visão geral dos recursos do PVS-Studio versão 7.07 🤾🏽 🃏 🤱🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O objetivo deste artigo é uma demonstração geral dos recursos do analisador estático PVS-Studio. A maneira mais fácil e visual de fazer isso é mostrar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Visão geral dos recursos do PVS-Studio versão 7.07</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/502116/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-j/u6/t7/-ju6t74v9drm9ug1bimrtglb8j4.png" alt="Quadro 30"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objetivo deste artigo é uma demonstração geral dos recursos do analisador estático PVS-Studio. </font><font style="vertical-align: inherit;">A maneira mais fácil e visual de fazer isso é mostrar o funcionamento da ferramenta com exemplos. </font><font style="vertical-align: inherit;">A verificação do projeto usando o plug-in do Visual Studio será mostrada, iniciando o analisador no sistema operacional Linux, importando os resultados da análise para o SonarQube.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informação geral</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O PVS-Studio é um analisador de código estático escrito em C, C ++, C # e Java. </font><font style="vertical-align: inherit;">O PVS-Studio realiza uma ampla variedade de verificações de código, mas é mais poderoso para encontrar erros de digitação e as conseqüências de uma falha de copiar e colar (exemplos: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dois</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">três</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatro</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">A análise estática é um bom complemento para um dos métodos mais antigos e mais confiáveis ​​para detectar defeitos - a revisão de código. </font><font style="vertical-align: inherit;">É difícil encontrar alguns erros durante uma revisão conjunta do código (por exemplo, os mesmos erros de digitação). </font><font style="vertical-align: inherit;">Por exemplo:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trans_rest</span><span class="hljs-params">(transcoder_settings *trans)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">16</span>; i++);<font></font>
  {<font></font>
    trans-&gt;eq.eq.preamp[i]   = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">32</span>; j++)<font></font>
    {<font></font>
      trans-&gt;eq.eq.boost[i][j] = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para quem não notou, preste atenção ao ponto e vírgula após o primeiro </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ou:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ObjectArrayComparer</span> :</span> IEqualityComparer&lt;object[]&gt;<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Equals</span><span class="hljs-params">(object[] x, object[] y)</span>
  </span>{<font></font>
    ....<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; x.Length; i++)<font></font>
    {<font></font>
      <span class="hljs-keyword">if</span> (!object.Equals(x[<span class="hljs-number">0</span>], y[<span class="hljs-number">0</span>])) <font></font>
      {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
      }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os mesmos elementos são sempre comparados. </font><font style="vertical-align: inherit;">Para não perder tempo pesquisando esses erros, vale a pena introduzir um analisador estático. </font><font style="vertical-align: inherit;">Você pode baixar e experimentar o PVS-Studio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neste</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> link.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin para visual studio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O PVS-Studio possui um plug-in para o Visual Studio 2010-2019. </font><font style="vertical-align: inherit;">Antes de prosseguirmos diretamente para a verificação, demonstrarei os recursos do plug-in. </font><font style="vertical-align: inherit;">Vamos examinar alguns pontos que podem levantar questões no espírito de "sobre o que é tudo isso?"</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/o0/j_/d9/o0j_d9jl3n5ox14j8azkyzrqwk0.png" alt="Quadro 13"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chamarei a atenção o item Suprimir Mensagens, que abre uma janela para trabalhar com avisos de analisador suprimidos e agora vou explicar o que é esse item. O fato é que o PVS-Studio pode suprimir avisos, o que facilita o uso do analisador, mesmo em um projeto grande. Isso permite incorporar rápida e facilmente um analisador estático ao processo de desenvolvimento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se seu projeto for pequeno, a implementação do analisador será bastante simples. No entanto, se o projeto estiver “com histórico”, você provavelmente terá dúvidas: quem estará envolvido no processamento e filtragem dos resultados, quanto tempo você precisará dedicar a isso etc. Vou tentar dissipá-los.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O uso ideal do analisador neste caso é o seguinte. Você o executa no seu projeto e vê várias mensagens do analisador. Em seguida, usando o mecanismo de supressão de aviso, instrua o PVS-Studio a não exibir essas mensagens. Porque Como o seu projeto está em desenvolvimento há muito tempo, no relatório do analisador quase certamente haverá poucos avisos relacionados a alguns defeitos críticos. Além disso, durante o processo de desenvolvimento, você e seus colegas veem apenas os erros relacionados ao código alterado ou novo. Esses avisos que foram suprimidos agora são seu dever técnico, ao qual você pode retornar gradualmente. O mecanismo de supressão de aviso é descrito em mais detalhes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/mq/i-/yimqi-fmtqnsnxn08mp3f107qji.png" alt="Quadro 14"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vá para o item "Exibir códigos CWE na janela de saída". </font><font style="vertical-align: inherit;">O PVS-Studio é uma ferramenta para testes de segurança de aplicativos estáticos (Static Application Security Testing, SAST). </font><font style="vertical-align: inherit;">Os alertas do PVS-Studio podem ser classificados de acordo com a Common Weakness Enumeration (CWE). </font><font style="vertical-align: inherit;">Para aprender sobre a classificação dos alertas do PVS-Studio de acordo com o CWE, por que o CWE é necessário, o que é e assim por diante, sugiro que você leia os seguintes links:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classificação de aviso do PVS-Studio de acordo com a Enumeração de Fraqueza Comum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio: procure defeitos de segurança</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos para a aba "Opções".</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/yu/kr/jlyukrrjtsshofdenocotxoe6qy.png" alt="Quadro 6"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na seção "Erros detectáveis ​​(C, C ++)", podemos controlar a exibição dos tipos de mensagens do analisador. As mensagens de diagnóstico que, por algum motivo, não são relevantes para este projeto, podem ser ocultadas ou desabilitadas. Por exemplo, é improvável que os diagnósticos MISRA interessem a ninguém que não sejam desenvolvedores incorporados. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, eles estão desabilitados por padrão</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O usuário que primeiro decidiu usar o analisador, o número de avisos MISRA pode assustar e entrar em um estupor. E a parte dos usuários que propositalmente iniciaram o analisador para verificar a conformidade de seus projetos com os padrões MISRA pode simplesmente ativá-los nas configurações.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/h1/j3/ah/h1j3ahhvwhpo_9avr5ie7ky94r0.png" alt="Quadro 10"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui você pode inserir caminhos / máscaras para excluir alguns arquivos ou pastas da análise. Você pode escolher uma máscara pelo caminho (Path Mask) ou uma máscara pelo nome do arquivo (FileName Mask). Eles são necessários se você deseja excluir bibliotecas de terceiros, arquivos gerados automaticamente etc. da análise. Após definir as máscaras de exclusão, as mensagens dos arquivos correspondentes desaparecerão da janela de saída do PVS-Studio e não serão incluídas na próxima varredura. Assim, a exclusão de arquivos e diretórios por meio de máscaras pode reduzir significativamente o tempo de análise geral de todo o projeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais detalhes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xz/13/bd/xz13bd-8va60tdnlxem8mj5kio4.png" alt="Quadro 8"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você também pode filtrar a saída do analisador de acordo com o texto contido nele. Por exemplo, no seu relatório do analisador, existem avisos no texto dos quais a função </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é </font><i><font style="vertical-align: inherit;">mencionada</font></i><font style="vertical-align: inherit;"> , no entanto, você tem certeza de que todos esses avisos são falsos. Em seguida, você pode adicionar a palavra </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> neste campo. Todos os avisos que continham essa palavra serão filtrados. Bem, por via das dúvidas, deixarei um link aqui para a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seção correspondente da documentação</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nota. No PVS-Studio, existem outras maneiras de marcar avisos falsos em código ou macros. Eles são descritos na documentação na seção </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suprimindo alertas falsos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de concluirmos uma visão geral das configurações, vamos verificar o projeto. Como você deve ter notado, o artigo tinha várias configurações relacionadas aos projetos C ++, mas não havia detalhes específicos para C # e Java. Existem simplesmente mais configurações para C ++ do que para C #, por isso decidimos nos aprofundar nessas breves revisões. Mas, para uma mudança de história, vamos verificar com a ajuda do plug-in do Visual Studio não um C ++, mas um projeto C # e ver como é o relatório do analisador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturalmente, após a primeira verificação do projeto, você precisará retornar às configurações para reduzir a porcentagem de falsos positivos. Os falsos positivos são inevitáveis, mas sua porcentagem pode ser reduzida configurando um valor aceitável. Consulte o artigo: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Características do analisador PVS-Studio usando o exemplo EFL Core Libraries, 10-15% de falsos positivos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/gc/ia/tqgciacbhkpm_vrjmc3vuhhubyg.png" alt="Imagem 1"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selecione o item “Analyze Solution with PVS-Studio”.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/3n/_y/rs/3n_yrslf8xcy7c1twtpv4p8oyxs.png" alt="Quadro 2"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma janela com uma barra de progresso será exibida.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ha/ul/zq/haulzq_ib2ediqprs8kahr2dg-a.png" alt="Quadro 3"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E então podemos ver o relatório do analisador.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/7t/vy/zt/7tvyztlwnu483ma1etti9gll_yo.png" alt="Quadro 11"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A propósito, aqui você também pode filtrar alguns avisos. </font><font style="vertical-align: inherit;">Por exemplo, você pode ocultar o primeiro aviso em nosso relatório, selecionando-o e clicando no item "Marcar mensagens selecionadas como alarmes falsos". </font><font style="vertical-align: inherit;">Para mais detalhes, consulte novamente a seção </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suprimindo alertas falsos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anteriormente, testamos o projeto C #. </font><font style="vertical-align: inherit;">Agora vamos tentar verificar o código escrito em C ++. </font><font style="vertical-align: inherit;">Para adicionar variedade ao artigo, vamos testá-lo no Linux. </font><font style="vertical-align: inherit;">A propósito, no Windows, Linux e macOS, você pode verificar projetos em qualquer idioma (C, C ++, C #, Java).</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/gf/ha/fe/gfhafe821sffbigypkfi7ed6w1k.png" alt="Quadro 20"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clonamos um repositório.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8k/tb/el/8ktbelpauffoxdk0byhdokhoyzg.png" alt="Quadro 18"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lançamos um script de configuração para montagem.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/0k/dr/yl0kdrhtt7i7gbxlm9ir4mxcme8.png" alt="Quadro 16"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lançamos o PVS-Studio no modo de rastreamento e montamos o projeto. </font><font style="vertical-align: inherit;">É necessário um utilitário de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rastreamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> instalado </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Em vez do comando make, no seu caso, pode haver qualquer comando para começar a criar o projeto com todos os parâmetros necessários.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/b9/h9/cl/b9h9clyzyjs_5xf9rmertev3oqi.png" alt="Quadro 12"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analisamos os arquivos do projeto usando os resultados da etapa anterior. </font><font style="vertical-align: inherit;">A opção </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permite especificar quais avisos devem ser incluídos no relatório.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ki/9-/wv/ki9-wvdwpboeefu8pz_ow5rfx94.png" alt="Quadro 4"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Convertemos o log em html e aproveitamos os resultados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descrevi apenas uma opção para verificar um projeto no Linux e muito formalmente, sem entrar em detalhes. </font><font style="vertical-align: inherit;">Existem outras maneiras de testar o projeto, por exemplo, escrevendo a chamada do analisador no makefile. </font><font style="vertical-align: inherit;">Para uma revisão mais detalhada, recomendo consultar os seguintes links:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conhecimento do analisador estático PVS-Studio no desenvolvimento de programas C ++ no Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como executar o PVS-Studio no Linux e macOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonarquube</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O SonarQube é uma plataforma de código-fonte aberto para análise e medição contínuas da qualidade do código, suportando um grande número de linguagens de programação e permitindo que você receba relatórios sobre métricas como duplicação de código, conformidade com padrões de codificação, cobertura de teste, complexidade de código, possíveis erros, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O PVS-Studio possui um plug-in para importar resultados da análise para o SonarQube, vamos tentar usá-lo.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/5c/g2/sw5cg2-pfkeblm1iltcbfnfrb-i.png" alt="Quadro 9"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para começar, obtemos o relatório do analisador e o arquivo de configuração sonar-project.properties.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/dq/ci/zrdqcin_5doajnxc7ykj3sj44e8.png" alt="Quadro 27"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, precisamos de um comando de inicialização do scanner.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/e_/jk/zge_jk7ski6uxsmdjipbv3jrzmy.png" alt="Quadro 28"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resultado :)</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/6h/uy/0j/6huy0juejjxejcj0yuqdemkzco4.png" alt="Quadro 23"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, o arquivo de configuração pode ser criado (ou editado). </font><font style="vertical-align: inherit;">Por exemplo, na captura de tela acima, habilitamos a adição do identificador MISRA aos avisos do analisador. </font><font style="vertical-align: inherit;">Sim, ou seja, por padrão, o MISRA está desativado aqui. </font><font style="vertical-align: inherit;">Se você precisar verificar seu código quanto à conformidade com MISRA, adicione "ativo" ao seu arquivo de configuração para incluir.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/cp/ko/fqcpkovovgcng0w9hit8soscobi.png" alt="Quadro 25"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na guia Medidas, várias métricas e gráficos de código estão disponíveis.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/kc/ds/ls/kcdslsq2bxy2faxmjqg-_kswxcw.png" alt="Quadro 26"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você também pode criar gráficos usando a seção PVS-Studio. </font><font style="vertical-align: inherit;">Você pode aprender mais sobre a integração dos resultados da análise do PVS-Studio no SonarQube </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nesta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seção do manual.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio Java</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora examinamos as configurações dos projetos C ++, testamos o projeto em C #, mas o Java de alguma forma ficou fora do artigo. É necessário corrigir isso e informar sobre o que é o analisador Java do PVS-Studio. O analisador possui várias maneiras diferentes de integrar um projeto. Dependendo do sistema de compilação, você pode usar o plug-in para Maven ou Gradle. Você também pode usar o núcleo do analisador diretamente. O uso de plugins Gradle, Maven ou kernel diretamente permite que você trabalhe facilmente com o Sonar Qube ou CI (Jenkins). Se você tiver esses plug-ins ativados, o projeto Java será verificado pela análise estática diretamente durante o processo de construção e, como resultado, você receberá não apenas seu projeto montado, mas também um log do analisador PVS-Studio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O analisador Java PVS-Studio também pode ser usado como um plug-in para o IntelliJ IDEA. </font><font style="vertical-align: inherit;">Nesse caso, a análise da estrutura do projeto é realizada por meio desse IDE, e o plug-in fornece uma interface gráfica conveniente para trabalhar com o analisador.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/1x/hp/se1xhpi6dirzw5edkdhpjgporlc.png" alt="Quadro 40"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sugiro a leitura com mais detalhes na seção sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como iniciar o PVS-Studio Java</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Além disso, ao verificar um projeto Java, é possível suprimir as mensagens do analisador para que a integração em um projeto grande seja rápida e fácil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No IntelliJ IDEA, é assim.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/zx/lb/-czxlbrdbykzol_5qiwy3pvp45o.png" alt="Quadro 42"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta janela, vemos o relatório do analisador. </font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8g/r2/6j/8gr26jp1erbtwmhzk-vcucvv_8w.png" alt="Quadro 43"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao clicar com o botão direito do mouse na mensagem selecionada, vemos um menu de contexto. </font><font style="vertical-align: inherit;">Nele, podemos selecionar o item destacado e a mensagem desaparecerá da saída do analisador.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/dg/yn/cgdgyn1evznjt623afzjnawuwc8.png" alt="Quadro 44"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Também podemos suprimir todas as mensagens do analisador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para suprimir os avisos do analisador no Gradle, execute o comando:</font></font><br>
<br>
<pre><code class="cpp hljs">./gradlew pvsSuppress <span class="hljs-string">"-Ppvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Ppvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para suprimir avisos do analisador no Maven, execute o comando:</font></font><br>
<pre><code class="cpp hljs">mvn pvsstudio:pvsSuppress <span class="hljs-string">"-Dpvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Dpvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leia mais sobre o mecanismo de supressão </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O objetivo deste artigo foi mostrar os recursos do analisador estático PVS-Studio, como trabalhar facilmente com ele usando o plug-in para Visual Studio e Linux. </font><font style="vertical-align: inherit;">Graças à capacidade de integração com a plataforma SonarQube, você pode fornecer análise contínua e gerenciamento de qualidade do seu código, que é apenas um dos muitos recursos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">descritos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na documentação. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A integração do analisador estático no sistema de IC permite detectar erros imediatamente após a criação do projeto. </font><font style="vertical-align: inherit;">Isso reduz o custo de encontrar e corrigir erros. </font><font style="vertical-align: inherit;">Abaixo estão os links para artigos com integrações com os serviços de nuvem mais populares:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio vai para as nuvens: Travis CI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O PVS-Studio vai para as nuvens: Azure DevOps</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio vai para as nuvens: CircleCI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O PVS-Studio vai para as nuvens: GitLab CI / CD</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inicie o PVS-Studio no TeamCity</font></font></a></li>
</ol><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a></p><div style="text-align:center;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/eb2/f9c/3bb/eb2f9c3bb5f32f39239298d36431961c.png"></a></div><p></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você deseja compartilhar este artigo com um público que fala inglês, use o link para a tradução: Ekaterina Nikiforova. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio 7.07: Visão geral dos recursos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt502092/index.html">Suporte tecnológico e regulatório para serviços de confiança digital na Federação Russa</a></li>
<li><a href="../pt502098/index.html">Como criamos B2B</a></li>
<li><a href="../pt502102/index.html">O AutoML é ótimo e poderoso</a></li>
<li><a href="../pt502104/index.html">O robô secretário, informante bot, bototerapeuta e outros projetos do hackathon VirusHack online</a></li>
<li><a href="../pt502114/index.html">Jogo de motivações. Parte 1</a></li>
<li><a href="../pt502118/index.html">Design no nível do sistema. Parte 3: Vinculando o System Composer e o MathWorks Toolchain</a></li>
<li><a href="../pt502120/index.html">Monitoramento e diagnóstico remotos de equipamentos de produção</a></li>
<li><a href="../pt502122/index.html">Thanos - Prometheus escalável</a></li>
<li><a href="../pt502124/index.html">Resultados do empreendimento em 2019 para a Ucrânia</a></li>
<li><a href="../pt502126/index.html">Como melhorar seu currículo de programador de inglês</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>