<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌾 👿 👨🏼‍🌾 自主DIY锻炼 📬 ❕ ⛔️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="每个人都有自己的隔离。就我而言，主要问题很快就变成了保持身体良好的身体状态。事实证明，在办公室工作和购物还可以使身体保持良好状态。我很幸运能在危机发生前买到最便宜的健身车，然后在世界各地都卖光了，所以我认为问题已经解决了，但当时还没有。当踏板成为日常单调的生活时，下一个问题便是无聊。从无聊的一切中消...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>自主DIY锻炼</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505178/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个人都有自己的隔离。</font><font style="vertical-align: inherit;">就我而言，主要问题很快就变成了保持身体良好的身体状态。</font><font style="vertical-align: inherit;">事实证明，在办公室工作和购物还可以使身体保持良好状态。</font><font style="vertical-align: inherit;">我很幸运能在危机发生前买到最便宜的健身车，然后在世界各地都卖光了，所以我认为问题已经解决了，但当时还没有。</font><font style="vertical-align: inherit;">当踏板成为日常单调的生活时，下一个问题便是无聊。</font><font style="vertical-align: inherit;">从无聊的一切中消失是人类的天性。</font><font style="vertical-align: inherit;">如何使其更有趣？</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">也许与游戏结合？为什么不？我一直想，如果在飞行玩具中，飞机的速度取决于踩踏的速度，那将有多大，现在是时候付诸实践了。事实证明，他们已经想出了“锻炼”这个词。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jn/rl/ao/jnrlaoqnfhomjkha2pzr6q8sde8.png" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先想到的是找到一个带轮的现成的操纵杆来控制速度，并以某种方式破解它。幸运的是，操纵杆并不是很容易折断，它并没有出现，我决定自己动手制造。桌子的抽屉里放着Arduino Micro，这是几年前买的另一个项目，但从未使用过。 Micro具有USB端口，并且计算机将其识别为键盘。键盘在哪里，离其他HID（人机接口设备）设备也不远。操纵杆库很快找到，非常方便（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/MHeironimus/ArduinoJoystickLibrary</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。从SparkFun图片中添加一些按钮和操纵杆-完成！电路非常简单-Arduino，按钮，操纵杆中的两个电阻变量。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下一个问题是如何从模拟器获得踩踏的速度。几乎所有现代模拟器都具有显示器和传感器，但我不想选择模拟器（同时失去保修）。另外，我希望每个人都能够重复整个过程而不会出现任何问题。首先，我使用试验板上的一个简单按钮来验证Arduino是否正常工作。我检查了一下，但是被带走了，以便在测试结束时，按钮实际上就掉了。是时候考虑一​​个严肃的传感器了。磁性传感器和光学传感器到达了决赛，我选择了磁性传感器，并假设（正确地）它的问题更少了。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j5/lx/fs/j5lxfsoncatk5gav4s33itlt7ug.png" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于霍尔效应的磁传感器型号很多，我选择了Diodes AH3572，因为它不关心极性，使用Arduino仅需要3.3伏，它相对便宜，并且有两种情况，方便用于面包板，然后用于PCB安装。最有趣的问题是-传感器将发射多远。在这里，我很幸运，在祖国的垃圾箱中，有一块相当坚固的中国磁铁，呈立方体的形式，侧面约一厘米。使用该磁铁，传感器可以在3厘米的距离内可靠地工作。踏板上的磁铁，外壳上的传感器带起作用。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/gy/bm/orgybmlx4o_msw9ioue5pckzzm0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/e2/wn/yx/e2wnyxsvauvtkeuwi6dqussb0ey.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/uj/uq/gx/ujuqgx0pxbxnq0jhmtyx70himi4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
唯一的困难是，每转触发一次的传感器无法提供适合用作速度值的现成数据。只需单击一下转盘，就需要以某种方式获得一个相对平稳的值，但同时要使它对速度的变化（尤其是停止）做出快速响应。该问题用大约20行代码解决了。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//    </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">interruptHandler</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> now = millis();
  <span class="hljs-keyword">if</span> (lastInterrupted + DEBOUNCE_MS &lt; now) {<font></font>
    lastInterrupted = now;<font></font>
    throttleBuffer += THROTTLE_BOOST;<font></font>
    <span class="hljs-keyword">if</span> (throttleBuffer &gt; MAX_AXIS) {<font></font>
      throttleBuffer = MAX_AXIS;<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">calculateThrottle</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">if</span> (throttleBuffer &lt; RELEASE_PER_TICK) {<font></font>
    throttle += throttleBuffer;<font></font>
    throttleBuffer = <span class="hljs-number">0</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    throttle += RELEASE_PER_TICK;<font></font>
    throttleBuffer -= RELEASE_PER_TICK;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">if</span> (throttle &gt; MAX_AXIS) {<font></font>
    throttle = MAX_AXIS;<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">if</span> (throttle &gt; DECAY_PER_TICK) {<font></font>
    throttle -= DECAY_PER_TICK;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    throttle = <span class="hljs-number">0</span>;<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
到目前为止，一切都很轻松，进一步的困难开始了。很难找到合适的玩具。在几天之内，我尝试了许多选择。首先，我需要它在相对较弱的办公笔记本电脑上正常工作。此时，所有现代漂亮的飞行战斗机都退役了。旧传单要么没有启动，要么非常呆板。第一款合适的游戏是IL-2 Sturmovik，但后来我意识到严肃的模拟器在这里不合适。首先，控件太少，操纵杆不够精确。其次，在此过程中，您需要过多的关注和脑袋思考-别忘了，我们不是在这里玩玩具，而是首先要剧烈地踩踏板。嗯，最重要的是，无论谁看到他的配色方案，都会让人感到沮丧。街机类型很简单，明亮和光明。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最后，我选择了Sky Rogue（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store.steampowered.com/app/381020/Sky_Rogue</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。有趣的是，著名的太空推动者Scott Manley对此进行了评论（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">youtu.be/bRCsB5QoxEM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。简单但充满活力，风格化为8位图形，最低要求，通过算法生成的（非重复）地形，令人振奋的动作，无尽的武器-半小时不间断移动还需要什么？ Sky Rogue更适合用于游戏手柄，但是幸运的是，Steam在全屏模式下允许您重新分配操纵杆控件以模拟游戏手柄。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pl/b0/1h/plb01h1a4zpznslhcsobbpmolo8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，最后一击仍然是军团。事实证明，手握面包板是可能的，但是很不方便。一方面是Autodesk Fusion 360，另一方面是3D打印机！但是首先，您需要考虑一下。必须用一只手控制控制器，另一只手要抓住模拟器。如果被玩具带走并与模拟器纠缠在一起，那将是自我隔离的耻辱。形状必须对称，以便您可以用任何手使用它。好吧，希望它易于打印和组装-在自我隔离中，并不是每个人都能找到所需长度的三个相同的M2螺钉。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_t/gg/gt/_tgggt4chp7vbxyycddimf58rle.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
两半粘合在一起的图片设计。到处肯定有即时胶水。为了使两半快速对齐直到胶水变干，使用了导销，该导销是打印机的5毫米材料。该按钮是单独印刷的，并在组装过程中插入到外壳中。它没有轴，它绕着印刷电路板的表面滚动，并被外壳的下半部分压向它。当然，我对选择最方便的表格有些不满意。完全根据组件尺寸制作的第一个版本太小，无法方便地手持。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pq/jy/_w/pqjy_wu5yys2pcfjqguym2gtyw4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
每个控制器的制造成本（在新加坡）约为每个3,000卢布，其中包括深圳的一块印刷电路板的制造（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.pcbsino.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）-幸运的是，尽管出现了这种流行病，但中国电子业仍在继续运转。</font><font style="vertical-align: inherit;">大约一半的成本-Arduino Micro，第二昂贵的组件-游戏杆。</font><font style="vertical-align: inherit;">批量生产可以使价格降低三倍，但我没有这样的全球计划（如果您有兴趣，请写）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是最重​​要的是，自从我制作了控制器以来，在模拟器上呆了半个小时，它们完全没有被注意到。</font><font style="vertical-align: inherit;">保持身体健康，保持健康！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bw/tr/id/bwtridjfyoshd1ttywvt0hk9bzw.jpeg"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN505136/index.html">尼比鲁</a></li>
<li><a href="../zh-CN505138/index.html">如何做才能使您的在线广播不会崩溃（很好，或者至少可以工作一段时间）</a></li>
<li><a href="../zh-CN505142/index.html">亚马逊如何在大流行中希望创新</a></li>
<li><a href="../zh-CN505156/index.html">Django：所有功能的一个用户</a></li>
<li><a href="../zh-CN505176/index.html">大流行期间投资者可以使用哪些资产保护资源？</a></li>
<li><a href="../zh-CN505186/index.html">在印刷电路板上结合接地的三种方法</a></li>
<li><a href="../zh-CN505190/index.html">如何为初学者在p5.js库中重新创建摩尔纹图案效果（快速指南）</a></li>
<li><a href="../zh-CN505194/index.html">Windows Defender SmartScreen危害独立开发人员</a></li>
<li><a href="../zh-CN505196/index.html">坏领导-使用说明书</a></li>
<li><a href="../zh-CN505208/index.html">产品如何以及为什么要持有CustDev？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>