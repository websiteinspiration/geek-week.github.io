<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😿 👲🏾 👩🏻‍🍳 火遊び：開発iPhone 7で任意のコードを起動 👩🏼‍🤝‍👨🏻 🐃 👩🏻‍🤝‍👨🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="大晦日に、JC PCIE-7プログラマーが私たちの手に落ちました。使用の過程で、その機能が制限されていることがわかりましたが、小さなことは二重底であることがわかりました。このプログラマーの内部で、特別なデバッグバージョンを備えたiPhone 7ボードを見つけました。「りんご」製品の研究とデバッグの世...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>火遊び：開発iPhone 7で任意のコードを起動</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ntc-vulkan/blog/482032/"><p><img src="https://habrastorage.org/webt/ra/sc/tu/rasctuere9_86veszxko2evz-fc.png" alt="画像"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大晦日に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JC PCIE-7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラマーが私たちの手に落ちました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">使用の過程で、その機能が制限されていることがわかりましたが、小さなことは二重底であることがわかりました。</font><font style="vertical-align: inherit;">このプログラマーの内部で、特別なデバッグバージョンを備えたiPhone 7ボードを見つけました。</font><font style="vertical-align: inherit;">「りんご」製品の研究とデバッグの世界での新年の冒険-猫の下でようこそ！</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たぶん、非常に怠惰なセキュリティ研究者だけが、checkm8とcheckra1nによって提供される可能性を自分の手で感じませんでした（checkm8のクールなレビュー</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は最近</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Habréで</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">行われました</font></a><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">もちろん、私たちはスマートフォンもテストし、その過程で「鉄」工芸品の中国市場の研究者にとって何が役立つかを見極めることを決定しました。</font></font><del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">面白い</font></font></del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 事実：デバイスのセキュリティをテストする場合、AliExpressにはすでに独自のおもちゃがあります。 </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのおもちゃは大晦日</font><font style="vertical-align: inherit;">に登場しました-AliExpressで簡単に見つけられる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JC PCIE-7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラマー</font><font style="vertical-align: inherit;">：</font></font></p><br>
<p><img src="https://habrastorage.org/webt/n_/nj/ox/n_njoxvxjo7liyauyguflkbmoek.png" alt="画像"> </p><br>
<p> ,         - iPhone.    ,       ! ,        -     ,      .          ,      :</p><br>
<p><img src="https://habrastorage.org/webt/yr/qo/gl/yrqoglajsud4apykq-bv6wxih4w.png" alt="画像"><br>
<em>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></em></p><br>
<p>,            DFU.        iTunes  iPhone.      ,          DFU.</p><br>
<p>    :</p><br>
<ul>
<li>    STM32F103;</li>
<li>-    NVMe  ;</li>
<li>, ,  iPhone 7.</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/xl/c_/to/xlc_tosnhijtwo7h0lo7awl3uky.png" alt="画像"></p><br>
<p><img src="https://habrastorage.org/webt/ga/wa/z1/gawaz11ku5sh1p9eboa_44du5p8.png" alt="画像"></p><br>
<p>,      ,    iPhone    -,       NVMe,   .     COM-,       NVMe,       iPhone,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">DCSD-</a>.     COM- ,   :</p><br>
<p><strong>setenv diags-path /AppleInternal/Diags/bin/diag.img4</strong><br>
<strong>diags</strong></p><br>
<p>     ,   iPhone 7    ( ,  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">AppleInternal</a>).  ,        «»,     NVMe    :</p><br>
<p><img src="https://habrastorage.org/webt/bp/b5/6o/bpb56o5oj_5baobkyfetdjoy138.png" alt="画像"></p><br>
<p>   ,       BUILD_STYLE: DEVELOPMENT:</p><br>
<p><img src="https://habrastorage.org/webt/yd/kr/lr/ydkrlrmpbajucho40tw7zhaabqk.png" alt="画像"></p><br>
<p>   (     <em>diags</em>)    ,           :</p><br>
<p><img src="https://habrastorage.org/webt/aa/cv/lj/aacvljff64mlyz4t5sjixmjsa4e.png" alt="画像"></p><br>
<p>        iPhone    !  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>      –        !    iPhone    iOS   ,       :</p><br>
<p><img src="https://habrastorage.org/webt/sp/n3/aw/spn3awu6hfxg-o_dgzcxr844veo.jpeg" alt="画像"></p><br>
<p>        ,        :</p><br>
<div class="spoiler"><b class="spoiler_title">    help</b><div class="spoiler_text"><pre><code class="plaintext hljs">=======================================<font></font>
::<font></font>
:: iBoot for d10, Copyright 2007-2016, Apple Inc.<font></font>
::<font></font>
::      Local boot, Board 0x8 (d10ap)/Rev 0xd<font></font>
::<font></font>
::      BUILD_TAG: iBoot-3406.1.53.1.4<font></font>
::<font></font>
::      BUILD_STYLE: DEVELOPMENT<font></font>
::<font></font>
::      USB_SERIAL_NUMBER: CPID:8010 CPRV:11 CPFM:03 SCEP:01 BDID:08 ECID:000114422885E526 IBFL:3D<font></font>
::<font></font>
=======================================<font></font>
<font></font>
Boot Failure Count: 0   Panic Fail Count: 0<font></font>
Entering recovery mode, starting command prompt<font></font>
] setenv diags-path /AppleInternal/Diags/bin/diag.img4<font></font>
] diags<font></font>
Unable to load image type 64696167 from flashnx_mount:432: reloading after unclean unmount, checkpoint xid 112, superblock xid 11<font></font>
jumping into image at 0x810000000<font></font>
pinot_quiesce()<font></font>
mipi_dsim_quiesce()<font></font>
Console router buffer allocated @ 0x87CB84018, size = 262144 bytes<font></font>
WHO_AM_I doesn't match MPU6700's Chip ID! Expected 0x90 got 0x0<font></font>
Carbon: MPU6900 is found.<font></font>
Carbon: MPU6900 (south) detected<font></font>
Carbon: MPU6900 (south) selected<font></font>
MPU6900 not found. Expected 0x10, found 0x0<font></font>
Carbon: MPU6900 (north) not detected<font></font>
Phosphorous: BMP284 is found.<font></font>
mcc-supported : 1<font></font>
Phosphorous: BMP282 is not found on SPI 4. Expected 0x58, found 0x0<font></font>
time-train: 26719 uS<font></font>
Link 0 speed negotiate to 3<font></font>
Link 0 width negotiate to 1<font></font>
APCIE power on completed<font></font>
Device 00:00:0 config space@0x610000000<font></font>
Vendor:106B Device:1007 Revision:01 ClassCode:060400 Type:01<font></font>
    PriBus:00 SecBus:01 SubBus:01<font></font>
    Capability 0x01 Offset:0x40 Address:0x610000040<font></font>
    Capability 0x05 Offset:0x50 Address:0x610000050<font></font>
    Capability 0x10 Offset:0x70 Address:0x610000070<font></font>
    Extended Capability 0x0001 Ver:0x02 Offset:0x0100 Address:0x610000100<font></font>
    Extended Capability 0x0019 Ver:0x01 Offset:0x0148 Address:0x610000148<font></font>
    Extended Capability 0x001E Ver:0x01 Offset:0x0160 Address:0x610000160<font></font>
Found device id 0x2002<font></font>
Device 01:00:0 config space@0x610100000<font></font>
Vendor:106B Device:2002 Revision:11 ClassCode:018002 Type:00<font></font>
    BAR0 MEM C0000000/00004000<font></font>
    BAR1 IO 00000000/00000004<font></font>
    Capability 0x01 Offset:0x40 Address:0x610100040<font></font>
    Capability 0x05 Offset:0x50 Address:0x610100050<font></font>
    Capability 0x10 Offset:0x70 Address:0x610100070<font></font>
    Extended Capability 0x0001 Ver:0x02 Offset:0x0100 Address:0x610100100<font></font>
    Extended Capability 0x0002 Ver:0x01 Offset:0x0148 Address:0x610100148<font></font>
    Extended Capability 0x0019 Ver:0x01 Offset:0x0168 Address:0x610100168<font></font>
    Extended Capability 0x0018 Ver:0x01 Offset:0x0178 Address:0x610100178<font></font>
    Extended Capability 0x001E Ver:0x01 Offset:0x0180 Address:0x610100180<font></font>
APCIE Enumerate on completed<font></font>
ICE BB not supported on this platform<font></font>
D10 Diag (factory_d10_pvt)<font></font>
BuildEng build D10Casaval24C302an (24C302an). Revision 6040f18.<font></font>
        Built at 2016/08/20 15:57:53<font></font>
script: device -k ThermalSensor -e sochot 0 on 120<font></font>
script: device -k ThermalSensor -e sochot 1 on 125<font></font>
script: cbcolor<font></font>
Setting Screen Color based on iPX Control Bits:<font></font>
script: alias vbat=pmuadc --sel tigris --read vbat<font></font>
script --cont startup.txt<font></font>
script: alias bbon="meta 'baseband --on --load_firmware; baseband --wait_for_ready --ping'"<font></font>
script: alias bbonbypass="meta 'baseband --on --load_firmware; baseband --wait_for_ready --ping --bypass en'"<font></font>
script: alias bboff=baseband --off<font></font>
script: alias getcd=bblib -e BB_GetCD()<font></font>
script: alias erase_rfcal=smokey Tools/RFCalErase --run<font></font>
script: alias erase_efs=smokey Tools/EFSErase --run<font></font>
script: alias erase_pac=smokey Tools/RFPacErase --run<font></font>
script: alias hdq_en=i2c --devwrite 1 0x75 0x1D 1<font></font>
script: alias hdq_dis=i2c --devwrite 1 0x75 0x1D 0<font></font>
script: alias bblib="smokeyshell -p -e 'if BBLib_cfg then print [[no init]] else require [[BBLib.14A]];BB_Init() end'"<font></font>
script: alias wcs=smokey --run WCS --clean LogBehavior=ConsoleOnly<font></font>
script: alias bblibcfg=bblib -e printLibCfg()<font></font>
script: alias bbdebug="meta 'base --debug on;ramlog --on 10;consolerouter --add -s *.{warn,error,print},system.debug.debug -d ramlog --quiet;consoleformat --en --sink serial -o ts'"<font></font>
script: alias gpsdebug="meta 'ramlog --on 10;consolerouter --add -s gps.debug.* -d ramlog'"<font></font>
script: alias updateroot="meta 'usbfs --mount;cp -r usbfs:\AppleInternal nandfs:\;usbfs --unmount;smokeyshell -r'"<font></font>
[00011442:2885E526] :-) help<font></font>
DiagShell builtin commands:<font></font>
 "time"         time &lt;command-line ...&gt;<font></font>
 "echo"         echo &lt;arguments ...&gt;<font></font>
 "waitfor"      waitfor &lt;timeout-milliseconds&gt; &lt;string-to-match&gt;<font></font>
 "repeat"       repeat &lt;time-spec&gt; &lt;command line ...&gt;<font></font>
 "alias"        alias [&lt;name&gt;[=&lt;command line&gt;]]<font></font>
 "unalias"      unalias &lt;name&gt;<font></font>
 "true"         true<font></font>
 "false"        false<font></font>
 "args"         args &lt;command line ...&gt;<font></font>
 "shopt"        shopt<font></font>
<font></font>
EDK Boot Loader commands (help &lt;command&gt; for more info):<font></font>
<font></font>
 "accessory"    Command to change power settings as well as identifying accessories connected to the unit<font></font>
 "aes"          Command for AES encryption/decryption<font></font>
 "amux"         Analog Mux selection command<font></font>
 "audio"        General command to hande resetting/blanking/scripting of the audio subsystem<font></font>
 "audioparam"   Audio parameter retrieval/setting utility<font></font>
 "audioreg"     Manages register operations on audio blocks in the system<font></font>
 "barcode"      Show S/N and ECID barcode<font></font>
 "baseband"     Command to control/test baseband functionality<font></font>
 "battery"      Command to display basic information about the battery<font></font>
 "baud"         &lt;baud rate&gt; : Set UART Baud rate<font></font>
 "bl"          BackLight Test<font></font>
 "blockdevice"  Show information about boot devices. Bare quantities are in bytes.<font></font>
 "bluetooth"    Command to control/test bluetooth functionality<font></font>
 "boardid"      Get the board ID<font></font>
 "boardrev"     Get the board revision<font></font>
 "bonfire"      Run Bonfire<font></font>
 "bootcfg"      Get the boot configuration<font></font>
 "buckcheck"    Buck voltage check<font></font>
 "button"       Test individual buttons on the unit<font></font>
 "buttoncnt"    [--dqe] Count button presses on the unit<font></font>
 "camisp"       camera command that can run in seperat steps.<font></font>
 "cat"          Print the contents of a file.<font></font>
 "cbcolor"      iPX Control Bit - Set screen color based on number of passed stations<font></font>
 "cbdump"       iPX Control Bit - Dump the CB area from the NAND<font></font>
 "cberase"      iPX Control Bit - Erase a control bit<font></font>
 "cbinit"       iPX Control Bit - Initialize control bit area<font></font>
 "cbread"       iPX Control Bit Read<font></font>
 "cbreadall"    iPX Control Bit - read all<font></font>
 "cbwrite"      iPX Control Bit Write<font></font>
 "charge"       Charge controls for system<font></font>
 "chipid"       Show ChipID<font></font>
 "clkmon"       [signal/off]; Set Clock Test out pin to specified signal or switch it off<font></font>
 "consoleformat"        Command to control the formatting of text display on serial output mediums like the console<font></font>
 "consolerouter"        Main command that deals with all things console in the system<font></font>
 "consolesinkctrl"      Manage the console sink controls<font></font>
 "cp"           cp [-r] &lt;source&gt; ... &lt;dest&gt;<font></font>
 "debug"        Turns on/off global debug levels in the system<font></font>
 "device"       Interfaces with a devices of the system.<font></font>
 "dfufile"      Use dfu protocol to transfer file.<font></font>
 "directory"    DirDev [*match]; directory listing of dirdev. opt match a substring<font></font>
 "DisCfg#"      Display CFG systemcfg<font></font>
 "DisOpts"      Display OPTS systemcfg<font></font>
 "display"      Command to control display<font></font>
 "displayid"    Get the display ID<font></font>
 "displaytext"  Display text on the unit's screen<font></font>
 "dt"           Provide access to the device tree structure<font></font>
 "dumpmemmap"   Dumps memory map<font></font>
 "dwi"          backlight test using DWI<font></font>
 "event"        Signal EFI event groups<font></font>
 "filelog"      Log formatted console output to a file<font></font>
 "getnonce"     iPX Control Bit - generate a salt value for control-bit write authentication<font></font>
 "getvol"       Gets volume information/values from the various audio blocks<font></font>
 "gps"          Command to test/control GPS functionality<font></font>
 "hash"         compute Hash<font></font>
 "help"         [cmd]; Help on cmd or a list of all commands if cmd is ommited<font></font>
 "hid"          Command for the hid controllers/sensors<font></font>
<font></font>
 "i2c"          generic read/write to I2C device<font></font>
 "key"          Read buttons' status from AP side and PMU side<font></font>
 "legal"        Outputs the copyright for any libraries used by Diags.<font></font>
 "loopaudio"    Plays/Record full-duplex audio out/in through selected 'playable' and 'recordable' ports on an audio block<font></font>
 "lua"          lua [options] [script [args]]<font></font>
 "mbt"          Menu Button Test<font></font>
 "memcat"       Read memory into file or a file into memory<font></font>
 "memory"       Memory Utilities [--info] | [--list] | [--leak] | [--dump] &lt;address&gt; &lt;length&gt;<font></font>
 "memrw"        Read/write/or/and from memory<font></font>
 "menu"         Navigate menu items in Display<font></font>
 "meta"         [cmd]; Execute cmd as if it was entered at the shell (useful for scripting)<font></font>
 "mipi"         Command to interact with mipi<font></font>
 "mkdir"        mkdir &lt;directory_name&gt; ...<font></font>
 "nand"         Command to test nand functionality<font></font>
 "nandcsid"      Read Nand Chip ID and detect ID mismatch<font></font>
 "nandppnfwver"  Prints the PPN Firmware version for all populated CE's<font></font>
 "nandsize"      Nand testing<font></font>
 "nanduid"       Read Unique ID from each Nand die<font></font>
 "network"      Command to control network interface<font></font>
 "nvram"        Print or modify NVRAM variables<font></font>
 "pattern"      [--iqc [#]|--dqe [#]|--fatp [#]|--other [#]|--fill [rgb #] --list will List available displays --pick &lt;name&gt; will Pick Display name  [n]:Test LCD display pattern[n]<font></font>
 "pcie"         qucik pcie test<font></font>
 "physaddr"     Decodes a physical address into bank/column/row/etc<font></font>
 "playaudio"    Plays audio out through a selected 'playable' port<font></font>
 "pmuadc"       PMU ADC Command for Calibration/Reading/Listing Channels<font></font>
 "pmubutton"    pmu button test<font></font>
 "pmuevent"    [all|chipid|btn|vbus|chgr|gpio|misc|temp|fault|ouv|clear]<font></font>
 "pmugpio"      Set a PMU GPIO to a certain state<font></font>
 "pmureg"       Print the values of all the pmu registers<font></font>
 "pmurw"        generic read/write to PMU Registers<font></font>
 "pmuset"       set the buck and ldo voltages value<font></font>
 "pmustat"      [all|chipid|btn|vbus|chgr|gpio|misc|temp|fault]<font></font>
 "pmutemp"      PMU TEMP test<font></font>
 "processaudio" Post-processes audio data using various audio filters registered in the system<font></font>
 "profile"      Turns profiling on/off, dumps data, and resets profiling data.<font></font>
 "qrbarcode"    Command for showing the QRbarcode<font></font>
 "quit"         Quit EBL<font></font>
 "ramlog"       Command to manage the ramlog console sink which can be used for logging text to RAM for timing sensitive issues<font></font>
 "recordaudio"  Records audio in through a selected 'recordable' port<font></font>
 "reset"        Resets the system<font></font>
 "rm"           rm [-f] &lt;path&gt; ...<font></font>
 "rmdir"        rmdir &lt;directory_name&gt; ...<font></font>
 "routeaudio"   Sets up audio routing.<font></font>
 "rtc"          Set or get the RTC from PMU<font></font>
 "script"       [filename]; Execute the commands in the specified file<font></font>
 "sensor"       General command that interfaces with the various sensors in the system<font></font>
 "sensorreg"    General command that allows for reading/writing sensor chipset registers<font></font>
 "sep"          Manipulate the SEP<font></font>
 "setvol"       Sets volume levels within the various audio blocks<font></font>
 "shutdown"     Wait until the unit is unplugged then go to standby<font></font>
 "signal"       Measure Signal Jitter, Period<font></font>
 "sleep"        Set system to specified sleep state<font></font>
 "smash"        Memory smasher<font></font>
 "smokey"       EFI diag scripting sequencer<font></font>
 "smokeyshell"  EFI diag scripting sequencer debug shell<font></font>
 "sn"           Read/Write serial number<font></font>
 "soc"          Command for displaying SoC info<font></font>
 "socgpio"      Set a GPIO to a certain state<font></font>
 "spi"          Test Spi buses<font></font>
 "spkid"        Return 1 bit Speaker ID<font></font>
 "stockholm"    Command to control/test stockholm functionality<font></font>
 "stopaudio"    Stop audio out through a selected 'playable/recordable' port<font></font>
 "strobe"       Command to control the Strobe on the System<font></font>
 "syscfg"       [init | add | print | list | type | delete] &lt;KEY&gt; &lt;value1&gt; &lt;value2&gt; ...; System Config<font></font>
 "sysinfo"      Dumps system information<font></font>
 "system"       Command to display basic information about the unit<font></font>
 "tag"          Turns tagging of data on/off.<font></font>
 "temperature"  Control Settings and Dump Readings from various Temperature Sensors in the System<font></font>
 "testCDMADDR"  CDMA DDR test<font></font>
 "testmemory"   Run data and address patterns to exercise DRAM subsystem<font></font>
 "testmp"       boot up second core for simple tests<font></font>
 "thermalmonitor"       Command to control/test thermal functionality<font></font>
 "touch"        Command for the Touch subsystem<font></font>
 "tristar"      TriStar test commands<font></font>
 "uartloopback" Perform a loopback test on the specified uart. Note that you will have to put the chip into loopback mode using separate commands.<font></font>
 "uartpassthrough"      pass through uart traffic from dock uart to select uart<font></font>
 "uartrx"       Receive and store message from uart &lt;uart #&gt;. It will send the message back to uart &lt;uart #&gt; when a &lt;ExitString&gt; is detected.<font></font>
 "uarttx"       send message to the selected uart<font></font>
 "usbfs"        Enables/Disables UsbFS (Filesystem-over-USB)<font></font>
 "usbp"         Test USB Present<font></font>
 "version"      Diag Version<font></font>
 "wait"         [ms]; Wait ms milliseconds<font></font>
 "wakeevent"    Select wake event for wakeup for PMU STANDBY or Hibernate mode<font></font>
 "wakeeventsmanager"    Command to control wakeevents in the system<font></font>
 "wfi"          Enable/Disable the wfi feature<font></font>
 "wifi"         Command to control/test wifi functionality<font></font>
 "writefile"    Write text to a file<font></font>
 "zerofile"     Zero the contents of an existing file</code></pre></div></div><br>
<p>  ,    .         –         .       <strong>directory</strong>, <strong>memrw</strong>, <strong>memory</strong>  <strong>cat</strong>.</p><br>
<p>  <strong>directory</strong>,      :</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) dir fs0:<font></font>
---------          &lt;DIR&gt; 2016-08-29 07:01 AppleInternal<font></font>
---------          &lt;DIR&gt; 2016-09-22 11:27 System<font></font>
---------          &lt;DIR&gt; 2016-09-22 11:29 private<font></font>
---------          &lt;DIR&gt; 2016-09-22 11:28 usr</code></pre><br>
<p>  <strong>cat -h</strong>,    :</p><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><pre><code class="plaintext hljs">[00011442:2885E526] :-) cat -h <font></font>
fs0:\AppleInternal\Diags\Logs\Smokey\Shared\ComponentLib\HallSensor\11A\HallSensor.lua<font></font>
00000000: 2D 2D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D |--==============|<font></font>
00000010: 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D |================|<font></font>
00000020: 3D 3D 3D 3D 3D 3D 3D 3D 3D 0A 2D 2D 20 46 69 6C |=========.-- Fil|<font></font>
00000030: 65 6E 61 6D 65 3A 20 20 48 61 6C 6C 53 65 6E 73 |ename: HallSens|<font></font>
00000040: 6F 72 2E 6C 75 61 0A 2D 2D 20 44 65 73 63 72 69 |or.lua.-- Descri|<font></font>
00000050: 70 74 69 6F 6E 3A 20 48 61 6C 6C 53 65 6E 73 6F |ption: HallSenso|<font></font>
00000060: 72 20 74 65 73 74 20 66 69 6C 65 0A 2D 2D 3D 3D |r test file.--==|<font></font>
00000070: 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D |================|<font></font>
00000080: 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D 3D |================|<font></font>
00000090: 3D 3D 3D 3D 3D 0A 0A 72 65 71 75 69 72 65 20 22 |=====..require "|<font></font>
000000A0: 43 6F 6D 70 6F 6E 65 6E 74 4C 69 62 2E 43 6F 6D |ComponentLib.Com|<font></font>
000000B0: 6D 6F 6E 2E 31 31 41 22 0A 0A 6C 6F 63 61 6C 20 |mon.11A"..local |<font></font>
000000C0: 43 4F 4D 50 4F 4E 45 4E 54 5F 4E 41 4D 45 20 3D |COMPONENT_NAME =|<font></font>
000000D0: 20 22 48 61 6C 6C 53 65 6E 73 6F 72 22 0A 0A 2D | "HallSensor"..-|<font></font>
000000E0: 2D 20 48 61 6C 6C 73 65 6E 73 6F 72 20 74 65 73 |- Hallsensor tes|<font></font>
000000F0: 74 0A 66 75 6E 63 74 69 6F 6E 20 48 61 6C 6C 53 |t.function HallS|<font></font>
00000100: 65 6E 73 6F 72 54 65 73 74 73 28 29 0A 09 53 51 |ensorTests()..SQ|<font></font>
00000110: 41 5F 53 68 65 6C 6C 28 22 68 61 6C 6C 73 65 6E |A_Shell("hallsen|<font></font>
00000120: 73 6F 72 20 2D 2D 6D 65 61 73 20 22 2E 2E 48 41 |sor --meas "..HA|<font></font>
00000130: 4C 4C 5F 53 45 4E 53 4F 52 5F 4D 45 41 53 2E 2E |LL_SENSOR_MEAS..|<font></font>
00000140: 22 20 2D 2D 64 65 6C 61 79 20 22 2E 2E 48 41 4C |" --delay "..HAL|<font></font>
00000150: 4C 5F 53 45 4E 53 4F 52 5F 44 4C 59 29 0A 09 53 |L_SENSOR_DLY)..S|<font></font>
00000160: 51 41 5F 53 68 65 6C 6C 28 22 68 61 6C 6C 73 65 |QA_Shell("hallse|<font></font>
00000170: 6E 73 6F 72 20 2D 2D 69 72 71 69 6E 64 65 78 20 |nsor --irqindex |<font></font>
00000180: 22 2E 2E 48 41 4C 4C 5F 53 45 4E 53 4F 52 5F 49 |"..HALL_SENSOR_I|<font></font>
00000190: 52 51 5F 49 4E 44 45 58 29 0A 09 53 51 41 5F 53 |RQ_INDEX)..SQA_S|<font></font>
000001A0: 68 65 6C 6C 28 22 68 61 6C 6C 73 65 6E 73 6F 72 |hell("hallsensor|<font></font>
000001B0: 20 2D 2D 6F 66 66 20 20 22 29 0A 65 6E 64 0A 0A | --off ").end..|</code></pre></div></div><br>
<p>   ,       ( 150 ):</p><br>
<p><img src="https://habrastorage.org/webt/rv/yn/rt/rvynrtwx9ayhdg8sodi6efh3iog.png" alt="画像"></p><br>
<p>   «»,     <del>Iphone7</del> :</p><br>
<p><img src="https://habrastorage.org/webt/6c/-h/p-/6c-hp-dscunyor3fscdousg_giw.png" alt="画像"></p><br>
<p>  <strong>memory -dump</strong>,    :</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memory --dump 0x800000000 0x100<font></font>
       0: 30 83 43 5B 39 16 04 49 4D 47 34 30 83 43 40 14       0.C[9..IMG40.C@<font></font>
      10: 16 04 49 4D 34 50 16 04 64 69 61 67 16 01 31 04       .C@..".X..@.?..<font></font>
      20: 83 43 40 00 80 22 00 58 01 04 40 F9 3F 00 00 F1        ..T?...@..T...<font></font>
      30: 20 05 00 54 3F 04 00 F1 40 00 00 54 FA 01 00 14       ....B...B...B.t<font></font>
      40: 02 00 80 D2 42 00 00 91 42 08 00 91 42 CC 74 D3       B...B.l.B.B.Bp.<font></font>
      50: 42 08 04 91 42 AC 6C D3 42 C0 42 91 42 70 00 91       _...!..R....c..<font></font>
      60: 5F 00 00 B9 21 00 80 52 03 00 80 D2 63 00 00 91       c...c.t.c...c.l<font></font>
      70: 63 08 00 91 63 CC 74 D3 63 08 04 91 63 AC 6C D3       c.B.cP..a......<font></font>
      80: 63 C0 42 91 63 50 00 91 61 00 00 B9 03 00 80 D2       c...c...c.t.c..<font></font>
      90: 63 00 00 91 63 08 00 91 63 CC 74 D3 63 08 04 91       c.l.c.B.c@.....<font></font>
      A0: 63 AC 6C D3 63 C0 42 91 63 40 00 91 7F 00 00 B9       ...RA..........<font></font>
      B0: 81 00 80 52 41 00 00 B9 7F 00 00 B9 00 00 00 14       @..............<font></font>
      C0: 40 03 00 00 00 00 00 00 B0 03 00 00 00 00 00 00       . ...O...?.....<font></font>
      D0: 1F 20 03 D5 DF 4F 03 D5 DF 3F 03 D5 1F 87 08 D5       .?.. .;.!.....!<font></font>
      E0: 9F 3F 03 D5 20 E2 3B D5 21 00 80 D2 00 00 21 8A        .......a...&lt;.@<font></font>
      F0: 20 E2 1B D5 9B F9 FF 10 61 06 00 10 3C 00 40 F9       z...Y.@........<font></font>
</code></pre><br>
<p>,    <strong>memrw</strong>   :</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memrw 0x800000000 0x12345678abcdef<font></font>
0x800000000: 0x12345678ABCDEF<font></font>
OK<font></font>
[00011442:2885E526] :-) memory --dump 0x800000000 0x10<font></font>
       0: EF CD AB 78 56 34 12 00 4D 47 34 30 83 43 40 14       ...xV4..MG40.C@<font></font>
</code></pre><br>
<p>  ,         ,   :         - ?  iPhone ,      –   !</p><br>
<p>     ,      -:</p><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><pre><code class="plaintext hljs">[00011442:2885E526] :-) memrw 0x87BF68AA0 0<font></font>
panic: unhandled exception: 0<font></font>
x0: 0x00000000 x1: 0x0000000A x2: 0x00000000 x3: 0x87BF68AA0<font></font>
x4: 0x00000002 x5: 0x00000003 x6: 0x879D52218 x7: 0x00000003<font></font>
x8: 0x87BF68E30 x9: 0x87BF6908C x10: 0x00000000 x11: 0x000000E0<font></font>
x12: 0x000000E0 x13: 0x00000001 x14: 0x00000001 x15: 0x00000000<font></font>
x16: 0x000000FF x17: 0x00000001 x18: 0x810000308 x19: 0x879D52228<font></font>
x20: 0x00000008 x21: 0x00000000 x22: 0x87BF68AA0 x23: 0x00000007<font></font>
x24: 0x00000001 x25: 0x87BF68AA0 x26: 0x00000000 x27: 0x00000002<font></font>
x28: 0x87CA42332 fp: 0x87FBEFC20 lr: 0x87BF68D3C sp: 0x00000000<font></font>
PC: 0x87BF68E30<font></font>
SPSR: 0x80000005<font></font>
ESR: 0x9600004F<font></font>
FAR: 0x87BF68AA0<font></font>
EC:0x25 - "Data Abort caused by current EL"<font></font>
ISS:0x4F - "Permission Fault Level 3"<font></font>
Memory Access Fault - write to read-only or unmapped address.<font></font>
FAR contains target address.<font></font>
0x87BF68AA0: /Users/build/archive/casaval_d10_202/src/shasta/BuildResults/D10diag/release/diag/TestDirectMemoryRW.macho + &lt;0x4AA0&gt; : text section<font></font>
stack buffer at 0x87FBEEED0<font></font>
printing callstack: 15 frames unrolled.<font></font>
#0   0x87BF68E30<font></font>
        TestDirectMemoryRW.macho @ offset 0x4E30<font></font>
#1   0x87BF68D38<font></font>
        TestDirectMemoryRW.macho @ offset 0x4D38<font></font>
#2   0x87BF69620<font></font>
        TestDirectMemoryRW.macho @ offset 0x5620<font></font>
#3   0x879B2C1D0<font></font>
       DiagShell.macho @ offset 0x41D0<font></font>
#4   0x879B2C7F0<font></font>
        DiagShell.macho @ offset 0x47F0<font></font>
#5   0x879B2D11C<font></font>
        DiagShell.macho @ offset 0x511C<font></font>
#6   0x87FB75494<font></font>
        DxeMain.macho @ offset 0xD494<font></font>
#7   0x87CAD8214<font></font>
        DiagBds.macho @ offset 0x4214<font></font>
#8   0x87CAD8260<font></font>
        DiagBds.macho @ offset 0x4260<font></font>
#9   0x87CAD82CC<font></font>
        DiagBds.macho @ offset 0x42CC<font></font>
#10  0x87FB6C604<font></font>
        DxeMain.macho @ offset 0x4604<font></font>
#11  0x87FB6C0F0<font></font>
        DxeMain.macho @ offset 0x40F0<font></font>
#12  0x81034AA04<font></font>
#13  0x81039C7E4<font></font>
#14  0x81039C39C<font></font>
Please report panic using panic.apple.com<font></font>
hanging here...</code></pre></div></div><br>
<p>    - ,      <strong>0x87BF68E30</strong>   <strong>TestDirectMemoryRW.macho</strong>   -   <strong>read-only</strong>  .         !        : <strong>DxeMain.macho</strong>.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">DXE</a>   <em>EDK Boot Loader commands</em>   ,     EFI- .  ,   diags.img4     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">UEFITool</a>:</p><br>
<p><img src="https://habrastorage.org/webt/sa/uo/1q/sauo1qundsbruuznclptgzgbl4k.png" alt="画像"></p><br>
<p>   ,         EFI    EDK:</p><br>
<p><img src="https://habrastorage.org/webt/mx/sa/kl/mxsaklfyf5x-us0t0smhkhgeb6s.png" alt="画像"></p><br>
<p>     EFI-, ,  <strong>memory</strong>   <strong>TestUtilities.macho</strong>,       <strong>0x87BE10000</strong> (  -). </p><br>
<p>     ,    .</p><br>
<p>  <strong>0x87BE1600D</strong>   ,    <strong>memory –info</strong>,  :</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memory --info<font></font>
Total Memory: 0x80000000, free: 0x79B48000, fragmented: 0x10028000, frags: 5, in use: 0x64B8000<font></font>
<font></font>
[00011442:2885E526] :-) memory --dump 0x87BE1600D 0x30<font></font>
7BE1600D: 54 6F 74 61 6C 20 4D 65 6D 6F 72 79 3A 20 30 78       Total Memory: 0<font></font>
7BE1601D: 25 78 2C 20 66 72 65 65 3A 20 30 78 25 6C 78 2C       fragmented: 0x<font></font>
7BE1602D: 20 66 72 61 67 6D 65 6E 74 65 64 3A 20 30 78 25       x, frags: %d, i<font></font>
</code></pre><br>
<p>     ,         <strong>0x87BE14000</strong>  <em>read-only/execute</em>  <em>read/write/execute</em>.   AArch64,       .           8   :</p><br>
<p><img src="https://habrastorage.org/webt/x4/05/hy/x405hy5qlcy47uzjetngpzwcbvo.png" alt="画像"></p><br>
<p>        <strong>0x87FBF4000</strong>,   ,   .       32  (0x2000000)  ,       0x87A000000–0x87BFFFFFF    0x87FBF4000 + (0x87A000000 / 0x2000000) * 8 = <strong>0x87FBF61E8</strong>:</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memory --dump 0x87FBF61E8 0x8<font></font>
7FBF61E8: 03 C0 CE 7F 08 00 00 00                               <font></font>
</code></pre><br>
<p>   <em>table</em>,           <strong>0x87FCEC000</strong>.        16  (0x4000)       <em>block</em>.      <strong>0x87BE14000</strong>    0x87FCEC000 + (0x87BE14000 – 0x87A000000) / 0x4000 * 8 = 0x87FCEFC28:</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memory --dump 0x87FCEFC28 8<font></font>
7FCEFC28: AB 47 E1 7B 08 00 00 00                               .G.{....+..{..`<font></font>
</code></pre><br>
<p>     <em>block</em>,          .   <em>Lower block attributes</em>,    Data Access Permissions bits:</p><br>
<p><img src="https://habrastorage.org/webt/5d/ng/tp/5dngtpe1hi2lxc-qc586bbictus.png" alt="画像"></p><br>
<p>    ,      0:</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memrw 0x87FCEFC28 --64 0x000000087BE1472B<font></font>
0x87FCEFC28: 0x87BE1472B<font></font>
OK<font></font>
</code></pre><br>
<p>           .       :</p><br>
<pre><code class="plaintext hljs">[00011442:2885E526] :-) memrw 0x87BE16008 0x6C6548000A535341<font></font>
0x87BE16008: 0x6C6548000A535341<font></font>
OK<font></font>
[00011442:2885E526] :-) memrw 0x87BE16010 0x0072626148206F6C<font></font>
0x87BE16010: 0x72626148206F6C<font></font>
OK<font></font>
[00011442:2885E526] :-) memory --info<font></font>
Hello Habr<font></font>
</code></pre><br>
<p><em>The moral:</em>                 UEFI   iPhone.</p><br>
<p>     iPhone    ,      -   ,          .</p><br>
<p>P. S.       iPhone   SecureROM    :  checkm8   ,   «»  AliExpress   iPhone XR  iPhone 11  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/6d/ts/lv/6dtslv2uikkshhl7tmsi7fgjp0y.png"></a></p><br>
<p>Raccoon Security –     «»     , , ,       .</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja482014/index.html">SDRとPythonを使用してアナログテレビを受け入れてデコードする</a></li>
<li><a href="../ja482020/index.html">R、モンテカルロおよびエンタープライズタスク</a></li>
<li><a href="../ja482022/index.html">ほら見て！科学と科学者に関する20の映画</a></li>
<li><a href="../ja482028/index.html">2つの赤いボタン、はんだごてとReact：IT会議への移行方法</a></li>
<li><a href="../ja482030/index.html">Vue.js：サードパーティコンポーネントのライフサイクルフック</a></li>
<li><a href="../ja482034/index.html">Yandex：ユーザーについてのすべてがあります...</a></li>
<li><a href="../ja482038/index.html">2019年の結果をHabr Careerでまとめています</a></li>
<li><a href="../ja482040/index.html">C ++のプロファイリングプログラムの機能</a></li>
<li><a href="../ja482042/index.html">実際の例でNewtonsoft.Jsonライブラリを操作します。パート2</a></li>
<li><a href="../ja482044/index.html">Dockerイメージセキュリティのベストプラクティス10 パート2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>