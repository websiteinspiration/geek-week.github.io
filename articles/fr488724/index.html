<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçè üôÜüèº üè£ 6 meilleures pratiques de s√©curit√© pour Go üëêüèº üß¶ üë®üèæ‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une traduction de l'article a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours de d√©veloppeur de Golang .
 
 
 
 
 La popularit√© de Golang a cons...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>6 meilleures pratiques de s√©curit√© pour Go</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/488724/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une traduction de l'article a √©t√© pr√©par√©e sp√©cialement pour les √©tudiants du cours de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©veloppeur de Golang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/g3/jd/s7/g3jds7zwidxpwd-ubopyb-bjhle.png"><br>
<hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La popularit√© de Golang a consid√©rablement augment√© ces derni√®res ann√©es. Des projets r√©ussis tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et Terraform ont fait un gros pari sur ce langage de programmation. Go est r√©cemment devenu la norme de facto pour la cr√©ation d'outils de ligne de commande. En termes de s√©curit√©, Go a r√©ussi √† g√©rer selon ses rapports de vuln√©rabilit√©, n'ayant qu'un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seul registre CVE depuis 2002</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, l'absence de vuln√©rabilit√©s ne signifie pas que le langage de programmation est hautement s√©curis√©. Nous, les humains, pouvons cr√©er des applications dangereuses si nous ne respectons pas certaines r√®gles. Par exemple, conna√Ætre les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√®gles pour √©crire du code s√©curis√© depuis OWASP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nous pouvons r√©fl√©chir √† la fa√ßon d'appliquer ces m√©thodes lors de l'utilisation de Go. </font><font style="vertical-align: inherit;">Et c'est exactement ce que je vais faire cette fois. </font><font style="vertical-align: inherit;">Dans cet article, je vais vous montrer six pratiques √† prendre en compte lors du d√©veloppement avec Go.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. V√©rifiez l'entr√©e</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La v√©rification des entr√©es des utilisateurs est n√©cessaire non seulement √† des fins fonctionnelles, mais elle permet √©galement d'√©viter les attaques de cybercriminels qui nous envoient des donn√©es intrusives qui pourraient endommager le syst√®me. De plus, vous aidez les utilisateurs √† utiliser cet outil en toute confiance, en les emp√™chant de commettre des erreurs stupides et courantes. Par exemple, vous pouvez emp√™cher un utilisateur d'essayer de supprimer plusieurs entr√©es √† la fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour tester l'entr√©e utilisateur, vous pouvez utiliser des packages Go natifs tels que strconv pour g√©rer la conversion de cha√Ænes en d'autres types de donn√©es. Go prend √©galement en charge les expressions r√©guli√®res avec </font></font><code>regexp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des v√©rifications complexes. Bien que Go pr√©f√®re utiliser des biblioth√®ques natives, il existe des packages tiers tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Avec validator, vous pouvez activer la validation de structures ou de champs individuels beaucoup plus facilement. </font><font style="vertical-align: inherit;">Par exemple, le code suivant v√©rifie que la structure </font></font><code>User</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contient une adresse e-mail valide:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"fmt"</span><font></font>
<font></font>
	<span class="hljs-string">"gopkg.in/go-playground/validator.v9"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-keyword">type</span> User <span class="hljs-keyword">struct</span> {<font></font>
	Email <span class="hljs-keyword">string</span> <span class="hljs-string">`json:"email" validate:"required,email"`</span>
	Name  <span class="hljs-keyword">string</span> <span class="hljs-string">`json:"name" validate:"required"`</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	v := validator.New()<font></font>
	a := User{<font></font>
		Email: <span class="hljs-string">"a"</span>,<font></font>
	}<font></font>
<font></font>
	err := v.Struct(a)<font></font>
<font></font>
	<span class="hljs-keyword">for</span> _, e := <span class="hljs-keyword">range</span> err.(validator.ValidationErrors) {<font></font>
		fmt.Println(e)<font></font>
	}<font></font>
}</code></pre><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Utilisez des mod√®les HTML</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une vuln√©rabilit√© critique courante est le scriptage intersite ou XSS. Le principal exploit est qu'un attaquant peut injecter du code malveillant dans l'application pour modifier la sortie. Par exemple, quelqu'un peut envoyer du code JavaScript dans le cadre d'une cha√Æne de requ√™te dans une URL. Lorsque l'application renvoie la valeur de l'utilisateur, le code JavaScript peut √™tre ex√©cut√©. Par cons√©quent, en tant que d√©veloppeur, vous devez √™tre conscient de cette possibilit√© et effacer les donn√©es saisies par l'utilisateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go a un package </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html / template</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour encoder ce que l'application retourne √† l'utilisateur. Ainsi, au lieu que le navigateur fasse une entr√©e comme</font></font><code><code>&lt;</code>script<code>&gt;</code>alert(‚Äò !‚Äô);<code>&lt;</code>/script<code>&gt;</code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il donnera un avertissement; </font><font style="vertical-align: inherit;">Vous pouvez encoder l'entr√©e, et l'application traitera l'entr√©e comme un code HTML typique imprim√© dans un navigateur. </font><font style="vertical-align: inherit;">Un serveur HTTP qui renvoie un mod√®le HTML ressemblera √† ceci:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"html/template"</span>
	<span class="hljs-string">"net/http"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handler</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {<font></font>
	param1 := r.URL.Query().Get(<span class="hljs-string">"param1"</span>)<font></font>
	tmpl := template.New(<span class="hljs-string">"hello"</span>)<font></font>
	tmpl, _ = tmpl.Parse(<span class="hljs-string">`{{define "T"}}{{.}}{{end}}`</span>)<font></font>
	tmpl.ExecuteTemplate(w, <span class="hljs-string">"T"</span>, param1)<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	http.HandleFunc(<span class="hljs-string">"/"</span>, handler)<font></font>
	http.ListenAndServe(<span class="hljs-string">":8080"</span>, <span class="hljs-literal">nil</span>)<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il existe des biblioth√®ques tierces que vous pouvez utiliser lors du d√©veloppement d'applications Web sur Go. </font><font style="vertical-align: inherit;">Par exemple, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bo√Æte √† outils Web Gorilla</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui comprend des biblioth√®ques pour aider les d√©veloppeurs √† faire des choses comme coder les valeurs d'authentification des cookies. </font><font style="vertical-align: inherit;">Il existe √©galement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nosurf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est un package HTTP qui aide √† pr√©venir la falsification de requ√™tes intersites ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSRF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Prot√©gez-vous contre l'injection SQL </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous d√©veloppez depuis un certain temps, vous connaissez peut-√™tre les injections SQL, qui occupent toujours la premi√®re position dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">top OWASP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cependant, vous devez prendre en compte certains points sp√©cifiques lorsque vous utilisez Go. La premi√®re chose que vous devez faire est de vous assurer que l'utilisateur qui se connecte √† la base de donn√©es dispose de droits limit√©s. Il est √©galement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recommand√© de purifier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les entr√©es utilisateur, comme je l'ai d√©crit dans la section pr√©c√©dente, ou d'√©chapper des caract√®res sp√©ciaux et d'utiliser la fonction </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">HTMLEscapeString</font></a><font style="vertical-align: inherit;"> du package de mod√®le HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais l'√©l√©ment de code le plus important que vous devez inclure est l'utilisation de requ√™tes param√©tr√©es. Dans Go, vous ne pr√©parez pas d'expression (il s'agit d'une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instruction pr√©par√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) en connection; Vous le pr√©parez dans la base de donn√©es. Voici un exemple d'utilisation des requ√™tes param√©tr√©es:</font></font><br>
<br>
<pre><code class="go hljs">customerName := r.URL.Query().Get(<span class="hljs-string">"name"</span>)<font></font>
db.Exec(<span class="hljs-string">"UPDATE creditcards SET name=? WHERE customerId=?"</span>, customerName, <span class="hljs-number">233</span>, <span class="hljs-number">90</span>)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, que se passe-t-il si le moteur de base de donn√©es ne prend pas en charge l'utilisation d'expressions pr√©par√©es? </font><font style="vertical-align: inherit;">Ou si cela affecte les performances des requ√™tes? </font><font style="vertical-align: inherit;">Eh bien, vous pouvez utiliser la fonction db.Query (), mais assurez-vous d'abord de nettoyer les entr√©es utilisateur, comme indiqu√© dans les sections pr√©c√©dentes. </font><font style="vertical-align: inherit;">Il existe √©galement des biblioth√®ques tierces, telles que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sqlmap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pour emp√™cher l'injection SQL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© tous nos efforts, des vuln√©rabilit√©s glissent parfois ou p√©n√®trent dans nos applications par le biais de tiers. </font><font style="vertical-align: inherit;">Pour prot√©ger vos applications Web contre les attaques critiques, telles que l'injection SQL, envisagez d'utiliser une plate-forme de gestion de la s√©curit√© des applications telle que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sqreen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Crypter les informations sensibles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait que la cha√Æne soit difficile √† lire, par exemple au format base 64, ne signifie pas que la valeur cach√©e est secr√®te. Vous avez besoin d'un moyen de crypter des informations que les attaquants ne peuvent pas facilement d√©coder. Les informations typiques que vous souhaitez crypter sont les mots de passe de base de donn√©es, les mots de passe utilisateur ou m√™me les num√©ros de s√©curit√© sociale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le OWASP a plusieurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recommandations</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur ce que les </font><font style="vertical-align: inherit;">algorithmes de chiffrement utilis√©s, par exemple, </font></font><code>bcrypt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>PDKDF2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Argon2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>scrypt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Heureusement, il existe un package Go qui comprend des impl√©mentations fiables pour le cryptage des informations - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crypto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le code suivant est un exemple d'utilisation </font></font><code>bcrypt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"database/sql"</span>
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"fmt"</span><font></font>
<font></font>
	<span class="hljs-string">"golang.org/x/crypto/bcrypt"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	ctx := context.Background()<font></font>
	email := []<span class="hljs-keyword">byte</span>(<span class="hljs-string">"john.doe@somedomain.com"</span>)<font></font>
	password := []<span class="hljs-keyword">byte</span>(<span class="hljs-string">"47;u5:B(95m72;Xq"</span>)<font></font>
<font></font>
	hashedPassword, err := bcrypt.GenerateFromPassword(password, bcrypt.DefaultCost)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)<font></font>
	}<font></font>
<font></font>
	stmt, err := db.PrepareContext(ctx, <span class="hljs-string">"INSERT INTO accounts SET hash=?, email=?"</span>)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)<font></font>
	}<font></font>
	result, err := stmt.ExecContext(ctx, hashedPassword, email)<font></font>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)<font></font>
	}<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que vous devez toujours faire preuve de prudence lors du transfert d'informations entre les services. </font><font style="vertical-align: inherit;">Vous ne voudriez pas envoyer de donn√©es utilisateur en texte brut. </font><font style="vertical-align: inherit;">Peu importe que l'application crypte les donn√©es utilisateur avant de les enregistrer. </font><font style="vertical-align: inherit;">Supposons que quelqu'un sur Internet puisse √©couter votre trafic et conserver des journaux des demandes de votre syst√®me. </font><font style="vertical-align: inherit;">Un attaquant peut utiliser ces informations pour les associer √† d'autres donn√©es d'autres syst√®mes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Fournir une connectivit√© HTTPS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des navigateurs n√©cessitent actuellement HTTPS pour fonctionner sur tous les sites. </font><font style="vertical-align: inherit;">Chrome, par exemple, vous affichera un avertissement si le site n'utilise pas HTTPS. </font><font style="vertical-align: inherit;">Le service de s√©curit√© de l'information peut utiliser le cryptage de transit pour la communication entre les services comme une politique. </font><font style="vertical-align: inherit;">Autrement dit, pour assurer la s√©curit√© de la connexion de transit dans le syst√®me, il ne s'agit pas seulement d'√©couter l'application sur le port 443. Vous devez √©galement utiliser les certificats appropri√©s et utiliser HTTPS pour emp√™cher les attaquants d'abaisser le protocole √† HTTP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un extrait de code pour une application Web qui fournit et utilise le protocole HTTPS:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"crypto/tls"</span>
    <span class="hljs-string">"log"</span>
    <span class="hljs-string">"net/http"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
    mux := http.NewServeMux()<font></font>
    mux.HandleFunc(<span class="hljs-string">"/"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(w http.ResponseWriter, req *http.Request)</span></span> {<font></font>
        w.Header().Add(<span class="hljs-string">"Strict-Transport-Security"</span>, <span class="hljs-string">"max-age=63072000; includeSubDomains"</span>)<font></font>
        w.Write([]<span class="hljs-keyword">byte</span>(<span class="hljs-string">"This is an example server.\n"</span>))<font></font>
    })<font></font>
    cfg := &amp;tls.Config{<font></font>
        MinVersion:               tls.VersionTLS12,<font></font>
        CurvePreferences:         []tls.CurveID{tls.CurveP521, tls.CurveP384, tls.CurveP256},<font></font>
        PreferServerCipherSuites: <span class="hljs-literal">true</span>,<font></font>
        CipherSuites: []<span class="hljs-keyword">uint16</span>{<font></font>
            tls.TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,<font></font>
            tls.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,<font></font>
            tls.TLS_RSA_WITH_AES_256_GCM_SHA384,<font></font>
            tls.TLS_RSA_WITH_AES_256_CBC_SHA,<font></font>
        },<font></font>
    }<font></font>
    srv := &amp;http.Server{<font></font>
        Addr:         <span class="hljs-string">":443"</span>,<font></font>
        Handler:      mux,<font></font>
        TLSConfig:    cfg,<font></font>
        TLSNextProto: <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(*http.Server, *tls.Conn, http.Handler)</span>, 0),</span><font></font>
    }<font></font>
    log.Fatal(srv.ListenAndServeTLS(<span class="hljs-string">"tls.crt"</span>, <span class="hljs-string">"tls.key"</span>))<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que l'application √©coutera sur le port 443. La ligne suivante est la ligne qui fournit la configuration HTTPS:</font></font><br>
<br>
<pre><code class="go hljs">w.Header().Add(<span class="hljs-string">"Strict-Transport-Security"</span>, <span class="hljs-string">"max-age=63072000; includeSubDomains"</span>)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©galement sp√©cifier le nom du serveur dans la configuration TLS de cette mani√®re:</font></font><br>
<pre><code class="go hljs">config := &amp;tls.Config{ServerName: <span class="hljs-string">"yourSiteOrServiceName"</span>}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est toujours recommand√© d'utiliser le chiffrement principal, m√™me si votre application Web est uniquement destin√©e √† la communication interne. </font><font style="vertical-align: inherit;">Imaginez si, pour une raison quelconque, un attaquant pouvait √©couter votre trafic interne. </font><font style="vertical-align: inherit;">Dans la mesure du possible, il est toujours pr√©f√©rable d'√©lever la barre pour d'√©ventuels futurs attaquants.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Faites attention aux erreurs et aux journaux.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dernier point, mais non le moindre, la gestion des erreurs et la journalisation de vos applications Go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©soudre correctement les probl√®mes de production, vous devez configurer correctement vos applications. </font><font style="vertical-align: inherit;">Vous devez prendre en compte les erreurs que vous montrez aux utilisateurs. </font><font style="vertical-align: inherit;">Vous ne voudriez pas que les utilisateurs sachent exactement ce qui s'est mal pass√©. </font><font style="vertical-align: inherit;">Les attaquants peuvent utiliser ces informations pour d√©terminer les services et technologies que vous utilisez. </font><font style="vertical-align: inherit;">De plus, vous devez vous rappeler que bien que les journaux soient merveilleux, ils sont stock√©s quelque part. </font><font style="vertical-align: inherit;">Et si les journaux tombent entre de mauvaises mains, ils peuvent √™tre utilis√©s pour int√©grer l'attaque √† venir dans le syst√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, la premi√®re chose que vous devez apprendre ou retenir est qu'il n'y a aucune exception √† Go. </font><font style="vertical-align: inherit;">Cela signifie que vous devez g√©rer les erreurs diff√©remment des autres langues. </font><font style="vertical-align: inherit;">La norme ressemble √† ceci:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    <span class="hljs-comment">//  </span>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go propose √©galement une biblioth√®que int√©gr√©e pour travailler avec les journaux. </font><font style="vertical-align: inherit;">Le code le plus simple ressemble √† ceci:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"log"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	log.Print(<span class="hljs-string">"Logging in Go!"</span>)<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il existe des biblioth√®ques tierces pour g√©rer les journaux. </font><font style="vertical-align: inherit;">Certains d'entre eux sont </font></font><code>logrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>glog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>loggo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Voici un petit extrait de code utilisant </font></font><code>logrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"os"</span><font></font>
<font></font>
	log <span class="hljs-string">"github.com/sirupsen/logrus"</span><font></font>
)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	file, err := os.OpenFile(<span class="hljs-string">"info.log"</span>, os.O_CREATE|os.O_APPEND, <span class="hljs-number">0644</span>)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {<font></font>
		log.Fatal(err)<font></font>
	}<font></font>
<font></font>
	<span class="hljs-keyword">defer</span> file.Close()<font></font>
<font></font>
	log.SetOutput(file)<font></font>
	log.SetFormatter(&amp;log.JSONFormatter{})<font></font>
	log.SetLevel(log.WarnLevel)<font></font>
<font></font>
	log.WithFields(log.Fields{<font></font>
		<span class="hljs-string">"animal"</span>: <span class="hljs-string">"walrus"</span>,
		<span class="hljs-string">"size"</span>:   <span class="hljs-number">10</span>,<font></font>
	}).Info(<span class="hljs-string">"A group of walrus emerges from the ocean"</span>)<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, assurez-vous d'appliquer toutes les recommandations pr√©c√©dentes, telles que le chiffrement et la d√©sinfection des donn√©es que vous avez plac√©es dans les journaux.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a toujours de la place pour grandir</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces directives sont le minimum qui devrait √™tre sp√©cifique √† vos applications Go. </font><font style="vertical-align: inherit;">Cependant, si votre application est un outil de ligne de commande, vous n'aurez pas besoin de m√©thodes de chiffrement pour le transit. </font><font style="vertical-align: inherit;">Mais le reste des conseils de s√©curit√© s'applique √† presque tous les types d'applications. </font><font style="vertical-align: inherit;">Si vous voulez en savoir plus, il existe un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livre de OWASP sp√©cifiquement pour Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui aborde certains sujets. </font><font style="vertical-align: inherit;">Il existe √©galement un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rentiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contenant des liens vers des frameworks, des biblioth√®ques et d'autres outils de s√©curit√© dans Go.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peu importe ce que vous finissez par faire, n'oubliez pas que vous pouvez toujours augmenter la s√©curit√© de votre application. </font><font style="vertical-align: inherit;">Les attaquants trouveront toujours de nouvelles fa√ßons d'exploiter les vuln√©rabilit√©s, essayez donc de travailler en permanence sur la s√©curit√© de votre application.</font></font><br>
<hr><br>
<i>     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ‚Äî ,            ,           ,  .NET, Node.js  Java,     Docker.</i><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   .</a></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr488708/index.html">Enregistrement de la logique de filtrage dans Swift Combine. Partie 2</a></li>
<li><a href="../fr488712/index.html">Check Point WatchTower - g√©rez NGFW depuis un smartphone</a></li>
<li><a href="../fr488716/index.html">Mat√©riaux frontend de la mitap de Kazan: Phoenix LiveView, fronts, JSON: API</a></li>
<li><a href="../fr488720/index.html">Raclage Web Partie 1</a></li>
<li><a href="../fr488722/index.html">Semaine de la s√©curit√© 08: retour des virus</a></li>
<li><a href="../fr488726/index.html">Entretien avec l'ing√©nieur de NIPTB Onega - le gagnant de WorldSkills Hi-Tech sur le travail, le championnat et la CAO</a></li>
<li><a href="../fr488728/index.html">Deux fa√ßons de gonfler le prix du p√©trole, ou Attaques contre le p√©trole et le gaz comme moyen d'influencer les indices boursiers</a></li>
<li><a href="../fr488730/index.html">Nouvelles normes russes pour l'Internet des objets, la fabrication intelligente et la ville intelligente</a></li>
<li><a href="../fr488732/index.html">M. Simon, talentueux: comment des capacit√©s uniques et l'impression 3D peuvent changer le processus de production</a></li>
<li><a href="../fr488736/index.html">Le travail √† distance gagne du terrain</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>