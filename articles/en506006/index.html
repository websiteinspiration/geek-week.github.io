<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üé° üçó üí≥ Pythonists, stop using square brackets to get values ‚Äã‚Äãfrom a dictionary üöì üëó üë©üèΩ‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! I present to you the translation of the article ‚ÄúStop Using Square Bracket Notation to Get a Dictionary's Value in Python‚Äù by Jonathan Hs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pythonists, stop using square brackets to get values ‚Äã‚Äãfrom a dictionary</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506006/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, Habr! </font><font style="vertical-align: inherit;">I present to you the translation of the article </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúStop Using Square Bracket Notation to Get a Dictionary's Value in Python‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> by Jonathan Hsu.</font></font><br>
<br>
<h3><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Going beyond the traditional method and protecting your code</font></font></i></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A dictionary</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is an unsorted collection of keys and values. </font><font style="vertical-align: inherit;">It means that:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Each element of the dictionary consists of a term (key) and its definition (meaning).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keys must be unique for this dictionary - no repetitions.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The keys in the dictionary do not have the explicit arrangement that the list items have.</font></font></li>
</ul><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To create a dictionary, use curly braces, inside of which write the key: value pairs separated by commas. </font><font style="vertical-align: inherit;">Like this:</font></font><br>
<br>
<pre><code class="python hljs">author = {
   <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"Robinson"</span>,
   <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Crusoe"</span>,
   <span class="hljs-string">"username"</span>: <span class="hljs-string">"Friday1719"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A traditional (and unsafe) way of getting meaning from a dictionary. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For normal access to the value of an element from a dictionary, square brackets are used. </font><font style="vertical-align: inherit;">When using such an entry, the key is indicated in square brackets after the dictionary name:</font></font><br>
<br>
<pre><code class="python hljs">author = {
   <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"Robinson"</span>,
   <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Crusoe"</span>,
   <span class="hljs-string">"username"</span>: <span class="hljs-string">"Friday1719"</span><font></font>
}<font></font>
print(author[<span class="hljs-string">'username'</span>]) <span class="hljs-comment">#  Friday1719</span>
print(author[<span class="hljs-string">'middle_initial'</span>]) <span class="hljs-comment">#   KeyError: 'middle_initial'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note that trying to access a value by a key that is not in the dictionary will throw a KeyError exception. </font><font style="vertical-align: inherit;">This can create serious problems, especially when dealing with unpredictable work data. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, you can use the try / except construct or use the if statement. </font><font style="vertical-align: inherit;">But such increased attention to such a simple operation only clutters the code.</font></font><br>
<br>
<pre><code class="python hljs">author = {}
<span class="hljs-keyword">try</span>:<font></font>
   print(author[<span class="hljs-string">'username'</span>])
<span class="hljs-keyword">except</span> KeyError <span class="hljs-keyword">as</span> e:<font></font>
   print(e) <span class="hljs-comment"># 'username'</span><font></font>
<font></font>
<span class="hljs-keyword">if</span> <span class="hljs-string">'username'</span> <span class="hljs-keyword">in</span> author:<font></font>
   print(author[<span class="hljs-string">'username'</span>])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you have JavaScript development experience behind you, then you might want to get the value from the dictionary using dotted notation. </font><font style="vertical-align: inherit;">But in Python, this will not work.</font></font><br>
<br>
<pre><code class="python hljs">author = {
   <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"Robinson"</span>,
   <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Crusoe"</span>,
   <span class="hljs-string">"username"</span>: <span class="hljs-string">"Friday1719"</span><font></font>
}<font></font>
print(author.username)<font></font>
<span class="hljs-comment"># AttributeError: 'dict' object has no attribute 'username'</span></code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We use the get () method</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you need to get a value from a dictionary, the safest way is to use the get () method. </font><font style="vertical-align: inherit;">This method has two parameters:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First (required): the name of the key by which we want to get the value. </font><font style="vertical-align: inherit;">This name can be a string or it can be a variable name if our key can change during the program.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Second (optional): the value that will be used if our key suddenly does not appear in the dictionary.</font></font></li>
</ul><br>
<pre><code class="python hljs">author = {
   <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"Robinson"</span>,
   <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Crusoe"</span>,
   <span class="hljs-string">"username"</span>: <span class="hljs-string">"Friday1719"</span><font></font>
}<font></font>
print(author.get(<span class="hljs-string">'username'</span>)) <span class="hljs-comment">#   Friday1719</span>
print(author.get(<span class="hljs-string">'middle_initial'</span>, ‚ÄúMonday1917‚Äù)) <span class="hljs-comment">#  Monday1917</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 If the key exists in the dictionary, then the get () method works in exactly the same way as accessing the key in square brackets. </font><font style="vertical-align: inherit;">But in the case when there is no such key in the dictionary, the get () method will return the default value, saving you from having to handle the exception. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The default value can be any object that is valid in this context. </font><font style="vertical-align: inherit;">Remember that this parameter is optional. </font><font style="vertical-align: inherit;">Therefore, if you do not specify it explicitly, then when you try to access a key that does not exist in the dictionary, the get () method will return a None object.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We use the setdefault () method</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sometimes you will need to not only safely receive data from the dictionary, but also safely add new data to the dictionary. </font><font style="vertical-align: inherit;">For this, dictionaries have a setdefault () method. </font><font style="vertical-align: inherit;">It has the same parameters as the get () method, but unlike the latter, when accessing the dictionary using a nonexistent key, it will not only return the default value, but also create a new element in the dictionary with this key and the passed value. </font><font style="vertical-align: inherit;">If when accessing the dictionary using the setdefault () method, the transmitted key is already in the dictionary, this method will leave the dictionary unchanged.</font></font><br>
<br>
<pre><code class="python hljs">author = {
   <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"Robinson"</span>,
   <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Crusoe"</span>,
   <span class="hljs-string">"username"</span>: <span class="hljs-string">"Friday1719"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
print (author.setdefault ('username')) # will output Friday1719 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
print (author.setdefault ('middle_initial', ‚ÄúMonday‚Äù)) # will output Monday and create </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
# in the dictionary an element with the key 'middle_initial' and the value for this key is ‚ÄúMonday ‚Äù </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the example above, we see that the behavior of the setdefault () method is no different from the behavior of the get () method or from the use of square brackets when accessing the dictionary using the key existing in it. If there is no such key in the dictionary, then the setdefault () method will not only return the value of its second argument to the program (like the get () method), but also create an element in the dictionary with the key and value passed to it. This is the behavior of the setdefault () method and distinguishes it from the get () method. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now, if you follow the example above and display the elements of the dictionary,then we get the following result:</font></font><br>
<br>
<pre><code class="python hljs">print(author)<font></font>
{<font></font>
  <span class="hljs-string">"first_name"</span>: <span class="hljs-string">"Robinson"</span>,
  <span class="hljs-string">"last_name"</span>: <span class="hljs-string">"Crusoe"</span>,
  <span class="hljs-string">"username"</span>: <span class="hljs-string">"Friday1719"</span>
  <span class="hljs-string">"middle_initial"</span>: <span class="hljs-string">"Monday"</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using the get () and setdefault () methods is a first-class technique for accessing dictionary values. </font><font style="vertical-align: inherit;">It only takes time to abandon old habits and start using this technique in practice. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you only need to get the value from the dictionary, then your helper is the get () method. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you need to safely add a new value to the dictionary, then call the setdefault () method.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en505992/index.html">Tinder Features</a></li>
<li><a href="../en505996/index.html">Alfa Battle - Online Application Programming Championship</a></li>
<li><a href="../en505998/index.html">Planning in the SAP Analytics Cloud. New features and scenarios, or how to understand the word Collaborative</a></li>
<li><a href="../en506000/index.html">DIY ECG backpack</a></li>
<li><a href="../en506004/index.html">First thoughts on Deno</a></li>
<li><a href="../en506010/index.html">Data Science Digest (June 2020)</a></li>
<li><a href="../en506012/index.html">RPA to the rescue: how to recognize a passport without a single line of code</a></li>
<li><a href="../en506014/index.html">Dialogue of computer linguists and data analysis specialists will be held online for free for the first time</a></li>
<li><a href="../en506018/index.html">How electronics markets respond to the coronavirus crisis</a></li>
<li><a href="../en506022/index.html">Hosting and dedicated servers: answer questions. Stories with real customers. Conflict situations. Part 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>