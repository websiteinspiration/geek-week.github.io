<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍⚖️ 🧑🏼 🧑🏿‍🤝‍🧑🏿 実世界での動的プログラミング：シームカッティング 💳 ♾ 🎉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="動的プログラミングは、大学で勉強する方法に定評があり、面接の間だけ覚えています。しかし、実際には、この方法は多くの状況で適用できます。実際、これは問題を効率的に解決するための手法であり、強く繰り返される多くのサブタスクに分割できます。
 
 この記事では、動的プログラミングの興味深い実際のアプリケー...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>実世界での動的プログラミング：シームカッティング</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458110/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">動的プログラミングは、大学で勉強する方法に定評があり、面接の間だけ覚えています。しかし、実際には、この方法は多くの状況で適用できます。実際、これは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題を効率的に解決するため</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><b><font style="vertical-align: inherit;">手法で</font></b><font style="vertical-align: inherit;">あり、</font><b><font style="vertical-align: inherit;">強く繰り返される多くのサブタスクに分割できます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、動的プログラミングの興味深い実際のアプリケーションであるシーム彫刻タスクを紹介します。タスクと方法論については、AvidanとShamirの作品</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「コンテンツに合わせて画像のサイズを変更するためのステッチの切り取り」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（無料アクセスの記事）</font><font style="vertical-align: inherit;">で詳しく説明されてい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、動的プログラミングに関する一連の記事の1つです。メソッドをブラッシュアップする場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図解された動的プログラミングの概要を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツに基づいて画像のサイズを変更する</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
動的プログラミングを使用して実際の問題を解決するには、それを正しく定式化する必要があります。</font><font style="vertical-align: inherit;">このセクションでは、選択したタスクに必要なプリセットについて説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元の記事の著者は、コンテンツ指向の画像のサイズ変更、つまり、コンテンツに合わせて画像の幅または高さを変更することについて説明しています。</font><font style="vertical-align: inherit;">詳細については、原作を参照してください。簡単な概要を説明します。</font><font style="vertical-align: inherit;">サーファーの写真のサイズを変更するとします。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/979/931/22d/97993122dc9a852c8b299974fc643aa8.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">穏やかな海の真ん中にあるサーファーの平面図で、右側に乱流の波があります。</font><font style="vertical-align: inherit;">写真：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キリルDobrev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pixabay</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事で詳細に説明されているように、画像の幅を小さくするにはいくつかの方法があります。これらは、標準のトリミングとスケーリングであり、固有の欠点があり、中央からピクセルの列を削除します。ご想像のとおり、これにより写真に目に見える継ぎ目が残り、左右の画像が一致しなくなります。この方法では、限られた量の画像のみを削除できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e2e/e83/7bc/e2ee837bc6950dd52349e3010f7c9c32.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左側をトリミングし、ブロックを中央から切り取って、幅を小さくしようとしました。後者は目に見える継ぎ目を残します。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事のAvidanとShamirは、「シームカービング」の新しい手法について説明しています。まず重要度の低い「低エネルギー」領域を特定し、次に画像を通過する低エネルギー「継ぎ目」を計算します。画像の幅を小さくする場合、垂直シームは画像の上から下に決定され、各ラインで1ピクセルだけ左または右にシフトされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーファーの写真では、最もエネルギーの低い継ぎ目が、水が最も静かな画像の中央を通っています。これは私たちの直感と一致しています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/41b/8aa/6d9/41b8aa6d9d587e1ede3c02a2e515d5a0.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーファーの画像で見つかった最も低いエネルギーの継ぎ目は、視認性のために5ピクセル幅の赤い線で示されていますが、実際には、継ぎ目は1ピクセル幅のみです。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最小のエネルギーでシームを決定し、それを削除した後、画像の幅を1ピクセル減らします。</font><font style="vertical-align: inherit;">このプロセスを何度も繰り返すと、写真全体の幅が大幅に縮小されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/00b/ce5/31e/00bce531ebd56e33728f12d0d3103da9.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">幅を1024ピクセル減らした後のサーファーの画像</font></font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
再び、アルゴリズムは写真の左側と同様に中央の静止水を論理的に除去しました。</font><font style="vertical-align: inherit;">ただし、トリミングとは異なり、左側の水のテクスチャは保持され、鋭い変化はありません。</font><font style="vertical-align: inherit;">確かに、中央に不完全な遷移が見られますが、基本的に結果は自然に見えます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像エネルギーの定義</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
魔法は最低エネルギーの継ぎ目を見つけることです。これを行うには、まず画像の各ピクセルにエネルギーを割り当てます。次に、動的プログラミングを使用して、最小のエネルギーで画像を通る経路を見つけます。このアルゴリズムについては、次のセクションで詳しく説明します。まず、ピクセルのエネルギー値を割り当てる方法を見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
科学記事では、いくつかのエネルギー関数とその違いについて説明しています。複雑にしないで、各ピクセルの周りの色の変化の量を単純に取得する関数を取ってみましょう。この図を完成させるために、エネルギー関数を自分で実装する場合に備えて詳細に説明しますが、これは後続の動的プログラミング計算のプリセットにすぎません。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/bee/58c/9a3/bee58c9a39f57d4d548b020ae7e046e0.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左側は、暗い部分から明るい部分までの3つのピクセルです。最初と最後の違いは大きいです。右側には、色の強度にわずかな違いがある3つの暗いピクセルがあります。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
特定のピクセルのエネルギーを計算するには、その左側と右側のピクセルを確認します。コンポーネントごとに、それらの間の距離の2乗、つまり赤、緑、青のコンポーネント間の差の2乗を計算し、それらを追加します。中心の上下のピクセルについても同じことを行います。最後に、水平距離と垂直距離を合計します。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msub><mi>r</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msub><mi>g</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msub><mi>b</mi><mi>x</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.464ex" height="3.134ex" viewBox="0 -1024.6 15269 1349.5" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1112" y="0"></use><g transform="translate(1684,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-3D" x="2694" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="3750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="4140" y="0"></use><g transform="translate(4973,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="638" y="-213"></use></g><g transform="translate(5930,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="6995" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="7996" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="8386" y="0"></use><g transform="translate(9219,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="675" y="-213"></use></g><g transform="translate(10201,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="11267" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="12268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="12657" y="0"></use><g transform="translate(13491,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="607" y="-213"></use></g><g transform="translate(14425,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>r</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>g</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>b</mi><mi>x</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">| \Delta x |^2 = (\Delta r_x)^2 + (\Delta g_x)^2 + (\Delta b_x)^2</script></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>y</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msub><mi>r</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msub><mi>g</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><msub><mi>b</mi><mi>y</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="34.92ex" height="3.259ex" viewBox="0 -1024.6 15034.9 1403.3" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="1112" y="0"></use><g transform="translate(1609,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-3D" x="2619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="3675" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="4065" y="0"></use><g transform="translate(4898,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="638" y="-213"></use></g><g transform="translate(5802,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="6867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="7868" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="8258" y="0"></use><g transform="translate(9091,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-67" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="675" y="-213"></use></g><g transform="translate(10020,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="11086" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="12087" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="12476" y="0"></use><g transform="translate(13310,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="607" y="-213"></use></g><g transform="translate(14191,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="550" y="583"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>y</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>=</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>r</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>g</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi mathvariant="normal">Δ</mi><msub><mi>b</mi><mi>y</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2">| \Delta y |^2 = (\Delta r_y)^2 + (\Delta g_y)^2 + (\Delta b_y)^2</script></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>x</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mi>y</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.404ex" height="3.134ex" viewBox="0 -1024.6 10076.5 1349.5" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="1428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="1873" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2371" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-3D" x="3038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="4094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="4373" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="5206" y="0"></use><g transform="translate(5779,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="6733" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="7734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-394" x="8013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="8846" y="0"></use><g transform="translate(9344,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="393" y="675"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>x</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi mathvariant="normal">Δ</mi><mi>y</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3">e(x, y) = | \Delta x | ^2 + | \Delta y | ^2</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
唯一の注意点-たとえば、ピクセルが左端にある場合、左側に隣接ピクセルはありません。この場合、正しいピクセルのみと比較します。同様のチェックが、上端、右端、および下端のピクセルに対して実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エネルギー関数は、隣接するピクセルの色が非常に異なる場合は大きく、似ている場合は小さくなります。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/62a/270/c37/62a270c374afe98c9951449496a75041.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーファーの写真の各ピクセルのエネルギー：明るくなるほど高くなります。予想通り、サーファーは右側の真ん中と乱流の波で最高のエネルギーを持っています</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エネルギー関数はサーファーの写真でうまく機能します。</font><font style="vertical-align: inherit;">ただし、非常に広い範囲の値を取ります。</font><font style="vertical-align: inherit;">したがって、レンダリング時に、ほとんどの写真でピクセルのエネルギーはゼロのようです。</font><font style="vertical-align: inherit;">実際、エネルギーが最も高い地域と比較して、非常に低い値があります。</font><font style="vertical-align: inherit;">視覚化を簡単にするために、サーファーを拡大して、この領域を強調表示しました。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">動的プログラミングで低エネルギーシームを検索</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ピクセルのエネルギーを計算することにより、画像の上から下に向かってエネルギーが最も低い継ぎ目を見つけることができます。</font><font style="vertical-align: inherit;">同じ分析が水平シームに適用され、元の画像の高さを減らします。</font><font style="vertical-align: inherit;">ただし、ここでは垂直方向のものに焦点を当てます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
定義から始めましょう：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シームとは、ラインごとに1ピクセルのピクセルのシーケンスです。</font><font style="vertical-align: inherit;">要件は、2つの連続する線の間の座標です。</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">x</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ピクセル以内の変化。</font><font style="vertical-align: inherit;">これにより、シームの一貫性が保たれます。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エネルギーが最も低いジョイントは、ジョイント内のすべてのピクセルの合計エネルギーが最小化されているジョイントです。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最低エネルギーのジョイントが最低エネルギーのすべてのピクセルを通過するわけではないことに注意することが重要です。</font><font style="vertical-align: inherit;">個々のピクセルではなく、すべての合計エネルギーが考慮されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3eb/f9d/cd8/3ebf9dcd8be067ac7f5adabfb1bea8e8.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">貪欲なアプローチは機能しません。</font><font style="vertical-align: inherit;">早い段階で低エネルギーピクセルを選択すると、画像の高エネルギー領域（右側の赤いパス）に行き詰まり</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ます</font><i><font color="gray"><font style="vertical-align: inherit;">。</font></font></i><font style="vertical-align: inherit;">ご覧のように、次の行で最もエネルギーの低いピクセルを選択することはできません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題をサブタスクに分割する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
貪欲なアプローチの問題は、次のステップを決定するときに、残りのシームを考慮しないことです。私たちは将来を見ることはできませんが、今までに知っていることはすべて考慮に入れることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクを裏返しましょう。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つのシームを継続するために複数のピクセルから選択する代わりに、1つのピクセルに移動するために複数のシームから選択します</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。私たちがする必要があるのは、各ピクセルを取り、継ぎ目が来ることができる上の行のピクセルから選択することです。上の行の各ピクセルがこのポイントまで移動したパスをエンコードしている場合、基本的にこのポイントまでの完全な履歴を調べています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/efe/39e/c83/efe39ec83477a2a410e7b4214bef9377.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各ピクセルについて、上の行の3つのピクセルを調べます。基本的な選択-どの継ぎ目を続行しますか？</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、画像内の各ピクセルのサブタスクを想定しています。</font><font style="vertical-align: inherit;">サブタスクは特定のピクセルへの最適なパスを見つける必要があるため、各ピクセルに、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのピクセル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><i><font style="vertical-align: inherit;">終了</font></i><font style="vertical-align: inherit;">する低エネルギーシームのエネルギーを関連付けることをお勧めし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
貪欲なアプローチとは異なり、上記のアプローチは基本的に画像内のすべての可能なパスを試みます。</font><font style="vertical-align: inherit;">考えられるすべてのパスをチェックするときに、同じサブタスクが何度も解決されるため、このアプローチは動的プログラミングの理想的なオプションになります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">繰り返し関係の定義</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつものように、今は再帰的な関係でアイデアを形式化する必要があります。</font><font style="vertical-align: inherit;">元の画像の各ピクセルに対応するサブタスクがあるため、反復関係への入力は単純に座標にすることができます</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">x</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> そして </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.884ex" viewBox="0 -540.2 497.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">y</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このピクセルの。</font><font style="vertical-align: inherit;">これは整数入力を提供し、サブタスクを簡単に整理できるようにするだけでなく、以前に計算された値を2次元配列に格納する機能も提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数を定義する</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.771ex" height="2.634ex" viewBox="0 -809.3 3345.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2956" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-7">M(x,y)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、最小のエネルギーを持つ垂直シームのエネルギーを表します。</font><font style="vertical-align: inherit;">画像の上部から始まり、ピクセルで終わります</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.634ex" viewBox="0 -809.3 2294.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8">(x,y)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">題名</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x41C;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.875ex" height="2.384ex" viewBox="0 -809.3 807.3 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-9"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元の科学論文と同様に選択されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、基本バージョンが必要です。</font><font style="vertical-align: inherit;">一番上の線で終わるすべてのシームの長さは1ピクセルのみです。</font><font style="vertical-align: inherit;">したがって、最小エネルギーのシームは、最小エネルギーのピクセルにすぎません。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.295ex" height="2.634ex" viewBox="0 -809.3 7446.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-30" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-3D" x="3626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-65" x="4682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="5149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="5538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="6111" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-30" x="6556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="7056" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-10">M(x,0)=e(x,0)</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残りの行のピクセルについては、上部のピクセルを見てください。</font><font style="vertical-align: inherit;">シームは連続している必要があるため、左上、右上、右上にある3つのピクセルのみを考慮します。</font><font style="vertical-align: inherit;">それらから、これらのピクセルの1つで終わる最も低いエネルギーのシームを選択し、現在のピクセルのエネルギーを追加します。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>e</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>min</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.969ex" height="8.634ex" viewBox="0 -2101 18500.6 3717.5" role="img" focusable="false" style="vertical-align: -3.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2956" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-3D" x="3623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-65" x="4679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="5146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="5535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="6108" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="6553" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="7050" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="7662" y="0"></use><g transform="translate(8663,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-69" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-6E" x="1112" y="0"></use></g><g transform="translate(10498,0)"><g transform="translate(0,2026)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJSZ4-23A7" x="0" y="-900"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJSZ4-23A8" x="0" y="-2027"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJSZ4-23A9" x="0" y="-2653"></use></g><g transform="translate(1056,0)"><g transform="translate(-14,0)"><g transform="translate(0,1226)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="6403" y="0"></use></g><g transform="translate(0,-25)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="3178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="4179" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="4679" y="0"></use></g><g transform="translate(0,-1276)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="6403" y="0"></use></g></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mo movablelimits="true" form="prefix">min</mo><mrow><mo>{</mo><mtable columnalign="left left" rowspacing=".2em" columnspacing="1em" displaystyle="false"><mtr><mtd><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mtd></mtr></mtable><mo fence="true" stretchy="true" symmetric="true"></mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11">M(x, y) = e(x, y) + \min \begin{cases} M(x - 1, y - 1) \\ M(x, y - 1) \\ M(x + 1, y - 1) \end{cases}</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
境界線の状況として、現在のピクセルが画像の左端または右端にある場合を考えます。</font><font style="vertical-align: inherit;">これらの場合、省略します</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.776ex" height="2.634ex" viewBox="0 -809.3 6792.6 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="6403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-12">M(x-1,y-1)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 左側のピクセルまたは </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.776ex" height="2.634ex" viewBox="0 -809.3 6792.6 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="2235" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="3236" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="3736" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="4901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="6403" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>,</mo><mi>y</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13">M(x+1,y-1)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">右端に。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、画像の高さ全体をカバーする低エネルギーシームのエネルギーを抽出する必要があります。</font><font style="vertical-align: inherit;">つまり、画像の一番下の線を見て、これらのピクセルのいずれかで終了する最もエネルギーの低い継ぎ目を選択します。</font><font style="vertical-align: inherit;">写真ワイド用</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.009ex" viewBox="0 -755.5 1048.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">W</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> そして背が高い </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ピクセル：</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>min</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn><mo>&amp;#x2264;</mo><mi>x</mi><mo>&amp;lt;</mo><mi>W</mi></mrow></munder><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>H</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.11ex" height="4.009ex" viewBox="0 -809.3 8227.9 1726.2" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(466,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-69" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-6E" x="1112" y="0"></use></g><g transform="translate(0,-652)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-30" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2264" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1279" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-3C" x="1851" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="2630" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="2767" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="3819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="4208" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="4781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="5226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="6337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="7337" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="7838" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><munder><mo movablelimits="true" form="prefix">min</mo><mrow class="MJX-TeXAtom-ORD"><mn>0</mn><mo>≤</mo><mi>x</mi><mo>&lt;</mo><mi>W</mi></mrow></munder><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>H</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-16">\min_{0 \le x < W} M(x, H - 1)</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、必要なすべてのプロパティを持つ再帰関係が得られました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再帰関係には整数入力があります。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的な答えは関係から簡単に抽出できます。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比率は自分次第です。</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DAGサブタスクの検証（有向非循環グラフ）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各サブタスク以来 </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.771ex" height="2.634ex" viewBox="0 -809.3 3345.7 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="1051" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="1441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="2013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="2458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2956" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17">M(x,y)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元の画像の1ピクセルに対応しているため、ディペンデンシーグラフは非常に簡単に視覚化できます。元の画像のように、それらを2次元グリッドに配置するだけです！</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/24f/2a7/9cf/24f2a79cffa7d5c6f1f84bc4ff79d5bc.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブタスクは、元の画像のピクセルと同様に、2次元グリッドに配置されます。</font></font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
再帰関係の基本的なシナリオからわかるように、サブタスクの一番上の行は、個々のピクセルのエネルギー値で初期化できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/323/ddd/ee2/323dddee252bd76daec13922fd2de43e.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一番上の行は他のサブタスクから独立しています。上の行のセルには矢印がないことに注意してください</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。2 </font><i><font color="gray"><font style="vertical-align: inherit;">行目では</font></font></i><font style="vertical-align: inherit;">、依存関係が表示され始めています。まず、2行目の左端のセルで、境界線の状況に直面しています。左側にはセルがないため、セル</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.168ex" height="2.634ex" viewBox="0 -809.3 2225.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-30" x="1335" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="1835" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mn>0</mn><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-18">(1,0)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのすぐ上と右上にあるセルのみに依存します。同じことが、3行目の左端のセルでも後で発生します。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/946/1fa/21c/9461fa21ce25095b1d960f3a4e8ccbf6.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左端のサブタスクは、その上にある2つのサブタスクのみに依存しています</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。2行目の2番目のセル（1,1）には、反復関係の最も典型的な兆候が示されています。このセルは、左上、右上、右上の3つのセルに依存します。この依存関係の構造は、2行目以降のすべての「中央」セルに適用されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/648/1f8/cbd/6481f8cbdaf08c304aab457ea42b520d.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左端と右端の間のサブタスクは、上から3つのサブタスクに依存し</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
、最後に、右端のセルは2番目の境界状況を表します。右側にはこれ以上のセルがないので、それは直接上と左上のセルにのみ依存します。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4a8/38e/551/4a838e551dbe3859974e6fd5c13204d0.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">右端のサブタスクは、上から2つのセルのみに依存します。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このプロセスは、後続のすべての行に対して繰り返されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/fe2/42d/350/fe242d35089994e199c1028fb38554f0.gif"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依存関係グラフには多くの矢印があるため、このアニメーションは各サブタスクの依存関係を順番に示しています。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
完全な依存関係グラフは多くの矢印を怖がらせますが、一度に1つずつ見ると、明示的なパターンを確立するのに役立ちます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボトムアップ実装</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この分析を行った後、処理順序を取得しました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像の上から下に移動します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各行は任意の順序で動作できます。</font><font style="vertical-align: inherit;">自然な選択は左から右へ行くことです。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各行は前の行にのみ依存するため、データの2行のみを保存する必要があります。前の行と現在の行の1つです。</font><font style="vertical-align: inherit;">左から右に移動すると、使用されている前の行の個々の要素を破棄することもできます。</font><font style="vertical-align: inherit;">ただし、前の行のどの部分を破棄できるかを判断する必要があるため、これはアルゴリズムを複雑にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のPythonコードでは、入力はラインのリストです。各ラインには、そのラインの個々のピクセルエネルギーを表す数値のリストが含まれています。</font><font style="vertical-align: inherit;">入力が呼び出される</font></font><code>pixel_energies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が、</font></font><code>pixel_energies[y][x]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">座標の画素のエネルギーを表します。</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.634ex" viewBox="0 -809.3 2294.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-19">(x,y)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の行の個々のピクセルエネルギーをコピーするだけで、上の行のシームのエネルギーを計算することから始めましょう。</font></font><br>
<br>
<pre><code class="python hljs">previous_seam_energies_row = list(pixel_energies[<span class="hljs-number">0</span>])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、残りの入力ラインを循環して、各ラインのシームエネルギーを計算します。</font><font style="vertical-align: inherit;">左端の左側または右端の右側にピクセルがないため、最も「難しい」部分は、前の行のどの要素を参照するかを決定することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各反復で、現在のラインのシームエネルギーの新しいリストが作成されます。</font><font style="vertical-align: inherit;">反復の最後に、次の反復のために、前の行のデータを現在の行のデータで置き換えます。</font><font style="vertical-align: inherit;">これは、前の行を破棄する方法です。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># Skip the first row in the following loop.</span>
<span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(pixel_energies)):<font></font>
    pixel_energies_row = pixel_energies[y]<font></font>
<font></font>
    seam_energies_row = []<font></font>
    <span class="hljs-keyword">for</span> x, pixel_energy <span class="hljs-keyword">in</span> enumerate(pixel_energies_row):
        <span class="hljs-comment"># Determine the range of x values to iterate over in the previous</span>
        <span class="hljs-comment"># row. The range depends on if the current pixel is in the middle of</span>
        <span class="hljs-comment"># the image, or on one of the edges.</span>
        x_left = max(x - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
        x_right = min(x + <span class="hljs-number">1</span>, len(pixel_energies_row) - <span class="hljs-number">1</span>)<font></font>
        x_range = range(x_left, x_right + <span class="hljs-number">1</span>)<font></font>
<font></font>
        min_seam_energy = pixel_energy + \<font></font>
            min(previous_seam_energies_row[x_i] <span class="hljs-keyword">for</span> x_i <span class="hljs-keyword">in</span> x_range)<font></font>
        seam_energies_row.append(min_seam_energy)<font></font>
<font></font>
    previous_seam_energies_row = seam_energies_row</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一番</font></font><code>previous_seam_energies_row</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下の行には、一番下の行の継ぎ目のエネルギーが含まれています。</font><font style="vertical-align: inherit;">このリストで最小値を見つけました-これが答えです！</font></font><br>
<br>
<pre><code class="python hljs">min(seam_energy <span class="hljs-keyword">for</span> seam_energy <span class="hljs-keyword">in</span> previous_seam_energies_row)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この実装をテストするには、上記のコードを関数でラップし、作成した2次元配列で呼び出します。</font><font style="vertical-align: inherit;">次の入力が選択されているので、貪欲なアプローチは失敗し、最も低いエネルギーの明らかな継ぎ目があります。</font></font><br>
<br>
<pre><code class="python hljs">ENERGIES = [<font></font>
    [<span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>],<font></font>
    [<span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],<font></font>
    [<span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>],<font></font>
    [<span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">9</span>],<font></font>
]<font></font>
<font></font>
print(min_seam_energy(ENERGIES))</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空間的および時間的複雑さ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソース画像の各ピクセルは、1つのサブタスクに対応します。</font><font style="vertical-align: inherit;">サブタスクごとに3つ以下の依存関係があるため、それぞれの解決には一定量の作業が含まれます。</font><font style="vertical-align: inherit;">最後の行は2回保持されます。</font><font style="vertical-align: inherit;">だから画像全体</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.009ex" viewBox="0 -755.5 1048.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-20">W</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> そして背が高い </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-21">H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ピクセル時間の複雑さは </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi><mo>+</mo><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.197ex" height="2.634ex" viewBox="0 -809.3 6973.9 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-D7" x="2423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="3424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="4535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="5535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="6584" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>W</mi><mo>×</mo><mi>H</mi><mo>+</mo><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-22">O(W×H+W)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それぞれの瞬間に、2つのリストがあります。1つは前の行のリストで、もう1つは現在のリストです。</font><font style="vertical-align: inherit;">最初に</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.009ex" viewBox="0 -755.5 1048.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-23">W</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 要素、そして2番目は徐々に増加します </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.435ex" height="2.009ex" viewBox="0 -755.5 1048.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi></math></span></span><script type="math/tex" id="MathJax-Element-24">W</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、空間的な複雑さは</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.18ex" height="2.634ex" viewBox="0 -809.3 3091.5 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-32" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="1653" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2702" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mn>2</mn><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-25">O(2W)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それだけです </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.018ex" height="2.634ex" viewBox="0 -809.3 2591 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2201" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-26">O(W)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の行のデータ要素を実際に破棄した場合、現在の行のリストが大きくなるのとほぼ同じ速度で前の行の要素のリストを短くすることに注意してください。</font><font style="vertical-align: inherit;">したがって、空間的な複雑さは残ります</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.018ex" height="2.634ex" viewBox="0 -809.3 2591 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="2201" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>W</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-27">O(W)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">幅は異なる場合がありますが、これは通常それほど重要ではありません。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低エネルギー後方ポインター</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで、低エネルギーシームの意味を見つけましたが、この情報をどうすればよいでしょうか？</font><font style="vertical-align: inherit;">結局のところ、実際、私たちはエネルギーの重要性ではなく、継ぎ目自体に関心を持っています！</font><font style="vertical-align: inherit;">問題は、最後のピクセルから残りのシームに戻る方法がないことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは以前の記事で見逃したことですが、同じことが多くの動的プログラミング問題に当てはまります。</font><font style="vertical-align: inherit;">たとえば</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、家の強盗のタスク</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を覚えて</font><font style="vertical-align: inherit;">いる場合、強盗の量の最大値が見つかりましたが、この量を取得するために強盗する必要がある特定の家は見つかりませんでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックポインターの表現</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的な答え：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポインターを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存</font><i><font style="vertical-align: inherit;">します</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">シームをカットするタスクでは、各ピクセルのシームのエネルギーの値だけでなく、</font><font style="vertical-align: inherit;">また、前の行のどのピクセルがこのエネルギーにつながったかを知る必要もあります。</font><font style="vertical-align: inherit;">この情報を保存することで、逆ポインターを最上行までたどり、最小のエネルギーでジョイントを構成するすべてのピクセルの座標を取得できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、エネルギーとバックポインタを格納するクラスを作成します。</font><font style="vertical-align: inherit;">エネルギーはサブタスクの計算に使用されます。</font><font style="vertical-align: inherit;">後方ポインタは、前の行のどのピクセルが現在のエネルギーを与えたかを決定するため、単純にx座標として表すことができます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SeamEnergyWithBackPointer</span>():</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, energy, x_coordinate_in_previous_row=None</span>):</span><font></font>
        self.energy = energy<font></font>
        self.x_coordinate_in_previous_row = x_coordinate_in_previous_row</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各サブタスクの計算結果は、数値だけでなく、このクラスのインスタンスになります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポインタを戻す</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、画像の高さ全体に沿って戻る必要があります。逆の標識に従って、最小のエネルギーで継ぎ目を復元します。</font><font style="vertical-align: inherit;">残念ながら、これは、前の行だけでなく、画像内のすべてのピクセルのポインタを格納する必要があることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、前のラインの継ぎ目の数値エネルギーを放棄することは技術的に可能ですが、すべてのサブタスクの結果全体を保存するだけです。</font><font style="vertical-align: inherit;">結果は、入力配列と同じように見える2次元配列に格納されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
個々のピクセルエネルギーのみを含む最初の行から始めましょう。</font><font style="vertical-align: inherit;">前の行がないため、すべてのバックポインターがありませんが、一貫性を保つために、インスタンスを保存します</font></font><code>SeamEnergyWithBackPointers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">seam_energies = []<font></font>
<font></font>
<span class="hljs-comment"># Initialize the top row of seam energies by copying over the top row of</span>
<span class="hljs-comment"># the pixel energies. There are no back pointers in the top row.</span><font></font>
seam_energies.append([<font></font>
    SeamEnergyWithBackPointer(pixel_energy)<font></font>
    <span class="hljs-keyword">for</span> pixel_energy <span class="hljs-keyword">in</span> pixel_energies[<span class="hljs-number">0</span>]<font></font>
])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メインループは基本的に前の実装と同じように機能しますが、次の点が異なります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の行のデータにはインスタンスが含まれている</font></font><code>SeamEnergyWithBackPointer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため、反復率の値を計算するときは、これらのオブジェクト内の継ぎ目のエネルギーを探す必要があります。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のピクセルのデータを保存するには、新しいインスタンスを作成する必要があります</font></font><code>SeamEnergyWithBackPointer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ここでは、現在のピクセルのシームエネルギーと、現在のシームエネルギーの計算に使用された前の行のx座標を保存します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各行の最後に、前の行のデータを破棄するのではなく、現在の行のデータをに追加するだけ</font></font><code>seam_energies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></li>
</ul><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># Skip the first row in the following loop.</span>
<span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, len(pixel_energies)):<font></font>
    pixel_energies_row = pixel_energies[y]<font></font>
<font></font>
    seam_energies_row = []<font></font>
    <span class="hljs-keyword">for</span> x, pixel_energy <span class="hljs-keyword">in</span> enumerate(pixel_energies_row):
        <span class="hljs-comment"># Determine the range of x values to iterate over in the previous</span>
        <span class="hljs-comment"># row. The range depends on if the current pixel is in the middle of</span>
        <span class="hljs-comment"># the image, or on one of the edges.</span>
        x_left = max(x - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
        x_right = min(x + <span class="hljs-number">1</span>, len(pixel_energies_row) - <span class="hljs-number">1</span>)<font></font>
        x_range = range(x_left, x_right + <span class="hljs-number">1</span>)<font></font>
<font></font>
        min_parent_x = min(<font></font>
            x_range,<font></font>
            key=<span class="hljs-keyword">lambda</span> x_i: seam_energies[y - <span class="hljs-number">1</span>][x_i].energy<font></font>
        )<font></font>
<font></font>
        min_seam_energy = SeamEnergyWithBackPointer(<font></font>
            pixel_energy + seam_energies[y - <span class="hljs-number">1</span>][min_parent_x].energy,<font></font>
            min_parent_x<font></font>
        )<font></font>
<font></font>
        seam_energies_row.append(min_seam_energy)<font></font>
<font></font>
    seam_energies.append(seam_energies_row)</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標識に従ってください</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、サブタスクのテーブル全体が満たされ、最小のエネルギーで継ぎ目を復元できます。</font><font style="vertical-align: inherit;">最初に、最下行のx座標を検索します。これは、エネルギーが最小のジョイントに対応します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># Find the x coordinate with minimal seam energy in the bottom row.</span><font></font>
min_seam_end_x = min(<font></font>
    range(len(seam_energies[<span class="hljs-number">-1</span>])),<font></font>
    key=<span class="hljs-keyword">lambda</span> x: seam_energies[<span class="hljs-number">-1</span>][x].energy<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像の下から上に移動して、 </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.155ex" height="1.884ex" viewBox="0 -540.2 497.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>y</mi></math></span></span><script type="math/tex" id="MathJax-Element-28">y</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font><code>len(seam_energies) - 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゼロへ。</font><font style="vertical-align: inherit;">各反復で、現在のペアを追加します</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.328ex" height="2.634ex" viewBox="0 -809.3 2294.2 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2C" x="962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-79" x="1407" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-29">(x,y)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> シームを表すリストに追加して、値を設定します </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.509ex" viewBox="0 -540.2 572.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-78" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi></math></span></span><script type="math/tex" id="MathJax-Element-30">x</script><font style="vertical-align: inherit;"></font><code>SeamEnergyWithBackPointer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在の行で</font><font style="vertical-align: inherit;">ポイントされているオブジェクトの場合</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># Follow the back pointers to form a list of coordinates that form the</span>
<span class="hljs-comment"># lowest-energy seam.</span><font></font>
seam = []<font></font>
seam_point_x = min_seam_end_x<font></font>
<span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(len(seam_energies) - <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>):<font></font>
    seam.append((seam_point_x, y))<font></font>
<font></font>
    seam_point_x = \<font></font>
        seam_energies[y][seam_point_x].x_coordinate_in_previous_row<font></font>
<font></font>
seam.reverse()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、シームは上向きに構築され、上から下に座標が必要な場合は、リストを逆の順序で読み取ることができます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空間的および時間的複雑さ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ピクセルを一度処理する必要があるため、時間の複雑さは前のものと同様です。</font><font style="vertical-align: inherit;">最後の行を見て、エネルギーが最も少ない関節を見つけたら、画像の高さ全体を上に移動して関節を復元します。</font><font style="vertical-align: inherit;">画像について</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.339ex" height="2.009ex" viewBox="0 -755.5 3159.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-D7" x="1270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="2271" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi><mo>×</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-31">W×H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 時間の複雑さは等しい </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi><mo>+</mo><mi>W</mi><mo>+</mo><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="21.101ex" height="2.634ex" viewBox="0 -809.3 9085.3 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-D7" x="2423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="3424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="4535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="5535" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2B" x="6806" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="7807" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="8695" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>W</mi><mo>×</mo><mi>H</mi><mo>+</mo><mi>W</mi><mo>+</mo><mi>H</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-32">O(W×H+W+H)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボリュームに関しては、サブタスクごとに一定量のデータを保持していますが、現在はデータを破棄していません。</font><font style="vertical-align: inherit;">だからボリュームを使う</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.922ex" height="2.634ex" viewBox="0 -809.3 4702.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="1153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-D7" x="2423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="3424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="4312" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>W</mi><mo>×</mo><mi>H</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-33">O(W×H)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低エネルギーシーム除去</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最低エネルギーの垂直シームが見つかるとすぐに、元の画像から新しい画像にピクセルをコピーするだけです。</font><font style="vertical-align: inherit;">新しい画像の各ラインには、元の画像の対応するラインのすべてのピクセルが含まれますが、エネルギーが最も低いシームのピクセルは例外です。</font><font style="vertical-align: inherit;">画像から始めて、各行の1つのピクセルを削除するので</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>W</mi><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.339ex" height="2.009ex" viewBox="0 -755.5 3159.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-D7" x="1270" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="2271" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>W</mi><mo>×</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-34">W×H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に画像を取得します </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>W</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#xD7;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.151ex" height="2.634ex" viewBox="0 -809.3 5662.4 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-57" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-2212" x="1660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-31" x="2660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-29" x="3161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMAIN-D7" x="3773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/458110/&amp;usg=ALkJrhiM74g1gnxF1JeH0vZ18PSs7imm9w#MJMATHI-48" x="4773" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>W</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-35">(W−1)×H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい画像のエネルギー関数を再計算し、その上で最もエネルギーの低い継ぎ目を見つけることで、このプロセスを繰り返すことができます。</font><font style="vertical-align: inherit;">元の画像で複数の低エネルギーの継ぎ目を見つけ、それらを一度にすべて削除するのは魅力的です。</font><font style="vertical-align: inherit;">問題は、2つの継ぎ目が交差する可能性があることです。</font><font style="vertical-align: inherit;">1つ目が削除されると、1つ以上のピクセルが欠落しているため、2つ目は無効になります。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/B9HPREBePI4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シーム除去プロセスのアニメーション。</font><font style="vertical-align: inherit;">継ぎ目がより鮮明に見えるように、全画面モードで見ることをお勧めします。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ビデオの各フレームは、最小のエネルギーで継ぎ目を重ね合わせて視覚化した各反復の画像です。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もう一つの例</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事には多くの詳細な説明がありましたので、美しい一連の写真で終わりましょう！次の写真は、アーチーズ国立公園の岩層を示してい</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7ee/947/449/7ee947449ba6b1204b6a3c17b844658b.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。アーチーズ国立公園の穴のある岩層。写真：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゴードマイク</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のFlickr</font></font></a></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
：このイメージのエネルギーの特徴</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9b2/aa4/e8f/9b2aa4e8f4f4c736276a1b0c50ee949b.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">軽量化-高：写真の各画素のエネルギー。穴のエッジ周辺の高いエネルギーに注意してください。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
計算結果は、エネルギーが最も低い継ぎ目です。それは右側の岩を通過して、岩の層に直接入り、崖の上部にある照明された部分が空の色と一致することに注意してください。おそらく、より良いエネルギー関数を選択する必要があります！</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a3b/90a/943/a3b90a94356a10044acb45950af7d8de.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実際には継ぎ目が広い一個の画素のみであるが、画像に見られる最小エネルギーシームは、視認性のための5つのピクセル幅の赤線で示されている。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最後に、リサイズ後のアーチの画像：</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/833/166/796/8331667968e36e0bfc80d2d214772379.jpg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーチ後に1024個のピクセルによって圧縮</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
結果は確かに完璧ではない：から山の多くのエッジ元の画像がゆがんでいる。</font><font style="vertical-align: inherit;">改善の1つは、科学論文にリストされている他のエネルギー関数の1つを実装することです。</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
動的プログラミングは理論的には通常議論されますが、複雑な問題を解決するための実用的な方法です。</font><font style="vertical-align: inherit;">この記事では、動的プログラミングのアプリケーションの1つである、シームをカットしてコンテンツに合わせて画像のサイズを変更する方法を検討しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題をより小さなサブタスクに分割し、これらのサブタスク間の依存関係を分析し、アルゴリズムの空間的および時間的複雑性を最小化する順序でサブタスクを解決するという同じ原則を適用しました。</font><font style="vertical-align: inherit;">さらに、最適なシームのエネルギー値を見つけるだけでなく、この値を構成する各ピクセルの座標を決定するためのリバースポインターの使用についても調査しました。</font><font style="vertical-align: inherit;">次に、これらのパーツを実際の問題に適用しました。動的プログラミングアルゴリズムを本当に効果的に使用するには、いくつかの前処理と後処理が必要です。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja458096/index.html">MERNスタックとは何ですか？</a></li>
<li><a href="../ja458098/index.html">GDPRの落とし穴</a></li>
<li><a href="../ja458102/index.html">効率的なWeb開発ワークフロー：Confluence、Airtableなど</a></li>
<li><a href="../ja458104/index.html">Huaweiの実装におけるデータセンター内のRDMA</a></li>
<li><a href="../ja458106/index.html">Jetpack Composeに飛び込む</a></li>
<li><a href="../ja458112/index.html">ソニーXperia 10レビュー</a></li>
<li><a href="../ja458116/index.html">SwiftUIと自動更新可能なサブスクリプション</a></li>
<li><a href="../ja458118/index.html">初心者向けAndroid開発者向けのReactネイティブチュートリアル（サンプルアプリケーション付き）</a></li>
<li><a href="../ja458120/index.html">Habr Weekly＃7 /ニューラルネットワークは、試験で人、贅沢なAirbnbを取り除き、Google Playで多くの偽物をGoogleに許可します</a></li>
<li><a href="../ja458122/index.html">1つのデータセンターの近代化の歴史：PUEの削減と近代的なソリューションの他の利点のほぼ半分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>