<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛌 👨🏾‍🔬 👩🏾‍🏫 混乱なしのRedux vs MobX 🏾 🐦 🎁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="近年、私はReduxをよく使用しましたが、最近では状態管理の代わりにMobXを使用しています。 Reduxの選択肢は自然に混乱するようです。どちらのソリューションを選択すればよいかわからない。問題は必ずしもRedux対MobXではありません。代替案があるときはいつでも、人々は自分の問題を解決する最善...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>混乱なしのRedux vs MobX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489854/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/7e/na/dt7enamgfkxspaajcdst26auxj8.jpeg" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
近年、私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をよく使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">が、最近では</font><font style="vertical-align: inherit;">状態管理の代わりに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MobX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用してい</font><font style="vertical-align: inherit;">ます。 Reduxの選択肢は自然に混乱するようです。どちらのソリューションを選択すればよいかわからない。問題は必ずしもRedux対MobXではありません。代替案があるときはいつでも、人々は自分の問題を解決する最善の方法に興味があります。 ReduxとMobXの状態管理ソリューションに関する混乱を避けるために、これらの行を書いています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は何についてですか？</font><font style="vertical-align: inherit;">まず、状態管理ライブラリが解決する問題に簡単に戻りたいと思います。</font><font style="vertical-align: inherit;">結局のところ、Reactでthis.setState（）とthis.stateを使用するか、別のプレゼンテーションレベルライブラリまたはSPA環境でそのバリエーションを使用すれば、すべてうまくいきます。</font><font style="vertical-align: inherit;">次に、両方のソリューションの概要を示し、一貫性と違いを示します。</font><font style="vertical-align: inherit;">そして最後に重要なことですが、MobXまたはReduxで動作するアプリケーションが既にある場合は、ある状態ライブラリから別の状態ライブラリへのリファクタリングについてお話ししたいと思います。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ：</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どのような問題を解決しますか？</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REDUXとMOBXの違いは何ですか？</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応状態学習曲線</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トピックに関する最近の考え</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他のリソース</font></font></a></li>
</ol><br>
<a name="WhatProblem"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どのような問題を解決しますか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰もがアプリケーションで状態管理をしたいと考えています。</font><font style="vertical-align: inherit;">しかし、これでどのような問題が解決されますか？</font><font style="vertical-align: inherit;">ほとんどの人は小さなアプリケーションから始めて、すでに状態管理ライブラリを実装しています。</font><font style="vertical-align: inherit;">誰もがそれについて話していますよね？</font><font style="vertical-align: inherit;">戻ってきた！</font><font style="vertical-align: inherit;">MobX！</font><font style="vertical-align: inherit;">しかし、ほとんどのアプリケーションは最初から野心的な状態管理を必要としません。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ほとんどの人がReduxやMobXなどのライブラリなどの問題に直面することはない</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため、これはさらに危険</font><b><font style="vertical-align: inherit;">です</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現状では、現在、コンポーネントを備えたフロントエンドアプリケーションを構築しています。</font><font style="vertical-align: inherit;">コンポーネントには内部状態があります。</font><font style="vertical-align: inherit;">成長するアプリケーションでは、次の理由により、状態管理がローカル状態で混乱する可能性があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントは別のコンポーネントと状態を共有する必要があります</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントが別のコンポーネントの状態を変更する必要がある</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ある時点で、アプリケーションの状態について話すことがますます難しくなります。これは、コンポーネント階層の状態オブジェクトと状態変化のダーティウェブになります。ほとんどの場合、状態オブジェクトと状態変化は必ずしも1つのコンポーネントに関連付けられていません。それらはコンポーネントツリーを介してリンクされており、状態を上げ下げする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、解決策は、MobXやReduxなどの状態管理ライブラリを導入することです。状態を保存し、状態を変更し、状態の更新を受け取るためのツールを提供します。検索する場所が1つ、変更する場所が1つ、ステータスの更新を受け取る場所が1つあります。彼</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">は単一の真実の情報源の原則に</font></a><font style="vertical-align: inherit;">従います</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、コンポーネントから分離されるため、状態や条件の変化を簡単に推論できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ReduxやMobXなどの状態管理ライブラリには、ユーティリティのアドオンが含まれていることがよくあります。たとえば、Angularの場合、コンポーネントに状態へのアクセスを提供するためにangular-reduxやmobx-angularがあります。</font><font style="vertical-align: inherit;">多くの場合、これらのコンポーネントは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナ化されたコンポーネント、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または正確には</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関連コンポーネント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ば</font><b><font style="vertical-align: inherit;">れ</font></b><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">コンポーネント階層のどこからでも、状態にアクセスして、コンポーネントを関連するものに更新することで状態を変更できます。</font></font><br>
<br>
<a name="whats-the-difference-between-redux-and-mobx"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REDUXとMOBXの違いは何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
違いを説明する前に、MobXとReduxの類似点についてお話ししたいと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらのライブラリも、JavaScriptアプリケーションで状態を制御するために使用されます。それらは必ずしもAngularなどのライブラリに関連付けられているわけではありません。これらは、ReactJやVueJなどの他のライブラリでも使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状態管理ソリューションの1つを選択した場合、ベンダーロックアウトに遭遇することはありません。いつでも別の状態管理ソリューションに切り替えることができます。 MobXからReduxに、またはReduxからMobXにアップグレードできます。後で、これがどのように発生するかを紹介します。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Dan Abramov</font></a><font style="vertical-align: inherit;">と</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Andrew Clark</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
によって設計されたRedux </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">はFluxアーキテクチャの</font></a><font style="vertical-align: inherit;">派生物</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">です</font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Fluxとは異なり、状態を維持するために1つのリポジトリを複数使用します。さらに、ディスパッチャーの代わりに、純粋な関数を使用して状態を変更します。フローに精通しておらず、状態管理に慣れていない場合は、最後の段落を気にする必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数型プログラミング</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（FP）の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">原理に</font></a><font style="vertical-align: inherit;">影響され</font><font style="vertical-align: inherit;">ます。 FPはJavaScriptで実行できますが、多くの人はJavaなどのオブジェクト指向のバックグラウンドを持っているため、そもそも関数型プログラミングの原則を受け入れるのは困難です。これは、MobXが初心者の方が学習しやすい理由を後で説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxには関数型プログラミングが含まれているため、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">純粋な関数を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">純粋関数は、入力を受け取り、出力を返し、同じ関数以外の他の依存関係を持たない関数です。</font><font style="vertical-align: inherit;">このような関数は、常に同じ入力で同じ出力を生成し、副作用はありません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もっと詳しく</font></font></a></blockquote><br>
<pre><code class="javascript hljs">(state, action) =&gt; newState</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxの状態</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は変更されていません</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">変更する代わりに、常に新しい状態を返します。</font><font style="vertical-align: inherit;">状態変更を実行せず、オブジェクト参照に依存しません。</font></font><br>
<br>
<pre><code class="javascript hljs">
<span class="hljs-comment">//     Redux,     </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">return</span> state.authors.push(action.author);<font></font>
}<font></font>
<span class="hljs-comment">//       </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">state, action</span>) </span>{
  <span class="hljs-keyword">return</span> [ ...state.authors, action.author ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に重要なことですが、慣用的なReduxでは</font><font style="vertical-align: inherit;">、データベースのように</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状態が正規化さ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れます。エンティティ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はお互いをidでのみ参照します</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これがベストプラクティスです。誰もがそうとは限りませんが、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalizrの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようなライブラリを使用して、そのような</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">正規化さ</font></a><font style="vertical-align: inherit;">れた状態を実現</font><font style="vertical-align: inherit;">できます</font><font style="vertical-align: inherit;">。正規化された状態では、フラットな状態とエンティティを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単一の真の情報源</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として維持できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="json hljs">{<font></font>
  post: {<font></font>
    id: 'a',<font></font>
    authorId: 'b',<font></font>
    ...<font></font>
  },<font></font>
  author: {<font></font>
    id: 'b',<font></font>
    postIds: ['a', ...],<font></font>
    ...<font></font>
  }<font></font>
}</code></pre><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対照的に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Michel WeststrattのMobXは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、オブジェクト指向プログラミングだけでなく、リアクティブプログラミングにも影響を受けています。</font><font style="vertical-align: inherit;">監視可能なオブジェクトで状態をラップします。</font><font style="vertical-align: inherit;">したがって、あなたは</font><font style="vertical-align: inherit;">あなたの状態</font><font style="vertical-align: inherit;">で「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">観察可能</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」の</font><font style="vertical-align: inherit;">すべての機能を持っています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">データは単純なセッターとゲッターを持つことができますが、オブザーバブルはデータ変更後に更新を受け取ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mobxでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステータスは不安定</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">このようにして、状態を直接変更します。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAuthor</span>(<span class="hljs-params">author</span>) </span>{
  <span class="hljs-keyword">this</span>.authors.push(author);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、組織は相互に（深く）ネストされたデータ構造のままです。</font><font style="vertical-align: inherit;">あなたはあなたの状態を正常化しません。</font><font style="vertical-align: inherit;">条件</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非正規化され</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、埋め込まれた</font><font style="vertical-align: inherit;">まま</font><font style="vertical-align: inherit;">です。</font></font></b><br>
<br>
<pre><code class="json hljs">{<font></font>
  post: {<font></font>
    id: 'a',<font></font>
    ...<font></font>
    author: {<font></font>
      id: 'b',<font></font>
      ...<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つのリポジトリと複数のリポジトリ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxのでは、内のすべてのあなたの状態を保存する</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一つのグローバルリポジトリ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">かで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一つのグローバル状態</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。単一の状態オブジェクトが唯一の真の情報源です。一方、多数のギアボックスにより、変化しない状態を変更できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
比較すると、MobXはいくつかのリポジトリを使用します。 Reduxレデューサーと同様に、技術レベル、ドメインなどによる分離と征服を適用できます。ドメインオブジェクトを個別のリポジトリに保存できますが、リポジトリの表示ステータスを制御することもできます。最後に、アプリケーションに最も適した状態を設定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的には、Reduxに複数のリポジトリを置くこともできます。</font><font style="vertical-align: inherit;">1つだけを使用するように強制するものはありません。</font><font style="vertical-align: inherit;">しかし、これはReduxの宣伝されている使用例ではありません。</font><font style="vertical-align: inherit;">複数のリポジトリを使用すると、ベストプラクティスに反します。</font><font style="vertical-align: inherit;">Reduxでは、リデューサーを通じてグローバルイベントに応答する1つのリポジトリが必要です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装はどのように見えますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxでは、アプリケーションの構成をグローバル状態に追加するには、次のコード行が必要です。 </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> initialState = {
  <span class="hljs-attr">users</span>: [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Alex'</span><font></font>
    },<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nik'</span><font></font>
    }<font></font>
  ]<font></font>
};<font></font>
<span class="hljs-comment">// reducer</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">users</span>(<span class="hljs-params">state = initialState, action</span>) </span>{
  <span class="hljs-keyword">switch</span> (action.type) {
  <span class="hljs-keyword">case</span> <span class="hljs-string">'USER_ADD'</span>:
    <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">users</span>: [ ...state.users, action.user ] };
  <span class="hljs-keyword">default</span>:
    <span class="hljs-keyword">return</span> state;<font></font>
  }<font></font>
}<font></font>
<span class="hljs-comment">// action</span>
{ <span class="hljs-attr">type</span>: <span class="hljs-string">'USER_ADD'</span>, <span class="hljs-attr">user</span>: user };</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MobXでは、ストレージは副状態のみを管理します（Reduxのレデューサーが副状態を制御するため）が、状態を直接変更できます。</font><font style="vertical-align: inherit;">@observableアノテーションを使用すると、状態の変化を観察できます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">userStore</span></span>{<font></font>
@observable users = [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nikita'</span><font></font>
    }<font></font>
  ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、userStore.users.push（user）を呼び出すことができます。</font><font style="vertical-align: inherit;">店のコピーに。</font><font style="vertical-align: inherit;">ただし、状態の変化は、アクションを通じてより明示的にすることをお勧めします。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">userStore</span></span>{<font></font>
@observable users = [<font></font>
    {<font></font>
      <span class="hljs-attr">name</span>: <span class="hljs-string">'Nikita'</span><font></font>
    }<font></font>
  ];<font></font>
}<font></font>
@action addUser = <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> {
    <span class="hljs-keyword">this</span>.users.push(user);<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
configure（{empceActions：true}）;でMobXを構成することで、厳密に適用できます。</font><font style="vertical-align: inherit;">これで、userStore.addUser（user）を呼び出して状態を変更できます。</font><font style="vertical-align: inherit;">店のコピーに。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ReduxとMobXの両方で状態を更新する方法を見てきました。</font><font style="vertical-align: inherit;">Reduxでは、状態は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み取り専用</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明示的なアクションで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみ状態を変更でき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">対照的に、MobXでは、状態には読み取りと書き込みが含まれます。</font><font style="vertical-align: inherit;">アクションを使用せずに状態を直接変更できますが、enforceActions構成を使用して明示的なアクションを選択できます。</font></font><br>
<br>
<a name="the-learning-curve-in-react-state-management"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応状態学習曲線</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ReduxとMobXはどちらも主にReactアプリケーションで使用されます。しかし、これらはスタンドアロンの状態管理ライブラリであり、Reactなしでどこでも使用できます。それらの相互作用ライブラリにより、Angularコンポーネントと簡単に組み合わせることができます。これらは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Reduxのを反応させる</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Reduxのに反応</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mobxが反応する</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ MobXに反応</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。後で、Angularコンポーネントツリーで両方を使用する方法について説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近の議論では、人々がReduxの学習曲線について議論したことが起こりました。これはしばしばReactのコンテキストで起こりました。人々はReactを学び始め、すでにReduxで状態管理を使用したいと考えていました。ほとんどの人は、ReactとRedux自体に優れた学習曲線があると主張しますが、どちらも圧倒される可能性があります。したがって、MobXは初心者に適しているため、代替手段となります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、新しいReactユーザーがReactエコシステムの状態管理について学ぶための別のアプローチを提案します。</font><font style="vertical-align: inherit;">コンポーネントの独自のローカル状態管理機能を使用して、Reactの学習を開始します。</font><font style="vertical-align: inherit;">Reactアプリケーションでは、最初にReactライフサイクルメソッドについて学び、setState（）およびthis.stateを使用してローカル状態を管理する方法を理解します。</font><font style="vertical-align: inherit;">この学習パスを強くお勧めします。</font><font style="vertical-align: inherit;">そうしないと、Reactエコシステムにすぐに圧倒されてしまいます。</font><font style="vertical-align: inherit;">最後に、コンポーネントの（内部）状態の管理が複雑になることに気づくでしょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初心者のためのReduxまたはMobX？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angularコンポーネントと内部状態管理に慣れることで、問題を解決するための状態管理ライブラリを選択できます。両方のライブラリを使用した後、MobXは初心者にとって非常に便利なものになると思います。 MobXは必要なコードが少ないことはすでに確認しましたが、まだ知る必要のない魔法のメモを使用しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MobXを使用すると、関数型プログラミングに精通する必要はありません。不変性などの条件は依然として外国語である可能性があります。</font></font><blockquote>  —   ,       JavaScript.     ,          ,   - , ,     MobX.</blockquote><br>
<br>
<h3>  Redux</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションが大きくなり、何人かの開発者がそれに取り組んでいるときは、Reduxの使用を検討する必要があります。本質的に、彼は状態を変更するために明示的なアクションを使用することを約束します。アクションには、ギアボックスが状態を変更するために使用できるタイプとペイロードがあります。開発チームがこのように状態の変化について話すのは非常に簡単です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxは、明確な制限付きで状態を管理するためのアーキテクチャ全体を提供します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduxサクセスストーリー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxのもう1つの利点は、サーバー側での使用です。単純なJavaScriptを扱っているため、ネットワーク経由で状態を送信できます。状態オブジェクトのシリアライズとデシリアライズは、そのまま使用できます。ただし、これはMobXでも可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MobXは自信がありませんが、configure（{empceActions：true}）を使用すると、Reduxのように、より正確な制限を適用できます。そのため、MobXを使用してアプリケーションをスケーリングすることはできませんが、Reduxには明確な方法があります。 MobXのドキュメントには、「</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[MobX]には、コードの構造、状態の保存場所、イベントの処理方法は記載されていません</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。」開発チームは、最初に状態管理アーキテクチャを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結局のところ、状態管理の学習曲線はそれほど急ではありません。推奨事項を繰り返すと、Reactの初心者は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初にsetState（）とthis.stateを正しく使用する方法を学習します</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。しばらくすると、</font><b><font style="vertical-align: inherit;">setState（）のみを使用</font></b><font style="vertical-align: inherit;">する場合の</font><b><font style="vertical-align: inherit;">問題</font></b><font style="vertical-align: inherit;">が理解できます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reactアプリで状態を維持します。</font><font style="vertical-align: inherit;">ソリューションを探すとき、MobXやReduxなどの状態管理ライブラリに出くわします。</font><font style="vertical-align: inherit;">しかし、どちらを選ぶべきでしょうか？</font><font style="vertical-align: inherit;">MobXは自信がなく、テンプレートが小さく、setState（）と同じように使用できるため、小規模なプロジェクトでMobXにチャンスを与えることをお勧めします。</font><font style="vertical-align: inherit;">アプリケーションのサイズが大きくなり、参加者の数が増えるとすぐに、MobXで追加の制限を適用することを検討するか、Reduxにチャンスを与える必要があります。</font><font style="vertical-align: inherit;">両方のライブラリを使用するのが好きでした。</font><font style="vertical-align: inherit;">最後にそれらのいずれかを使用しない場合でも、状態を管理する別の方法を確認することは理にかなっています。</font></font><br>
<br>
<a name="last-thoughts"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後の考え</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ReduxとMobXのディスカッションでコメントを読むときは常に、1つのコメントがあり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。 XXX行のコードを削除できました</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。」コメントは真実かもしれませんが、妥協を検討する人はいません。 Reduxは、特定の設計制約のために追加されているため、MobXのような多くのテンプレートが付属しています。これにより、アプリケーションの規模が大きくても、アプリケーションの状態を推論できます。国家の扱いに関連する式典全体は、単なるものではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxライブラリはかなり小さいです。ほとんどの場合</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、単純なJavaScriptオブジェクトと配列のみを扱います。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これはMobXよりもバニラJavaScriptに近いものです。 MobXでは、オブジェクトと配列は、ほとんどの標準テンプレートを非表示にする監視可能なオブジェクトでラップされています。魔法が発生する隠れた抽象概念に基づいて構築されていますが、基本的なメカニズムを理解するのはより困難です。 Reduxを使用すると、簡単なJavaScriptでこれについて話しやすくなります。これにより、アプリケーションのテストとデバッグが簡単になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、SPAのどこから来たのかをもう一度考える必要があります。単一ページのフレームワークとアプリケーションライブラリの束には、包括的なストリームモデルを使用して最終的に解決されるのと同じ状態管理の問題がありました。 Reduxはこのアプローチの後継です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MobXでは、再び反対方向に移動しています。関数型プログラミングを利用せずに、再び状態を直接変更し始めます。一部の人にとって、これは双方向のデータバインディングに再び近づいています。しばらくすると、Reduxなどの状態管理ライブラリが表示される前に、同じ問題が再び発生する可能性があります。状態管理はコンポーネント全体に散らばっており、乱雑に終わっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxでは、セットアップのセレモニーが確立されていますが、MobXは自信がありません。しかし、最高のMobX体験を受け入れることが賢明でしょう。人々はそれについての彼らの議論を改善するために国家管理を組織する方法を知る必要があります。そうでなければ、人々はコンポーネントの状態を直接変更する傾向があります。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どちらのライブラリも素晴らしいです。</font><font style="vertical-align: inherit;">Reduxはすでに確立されていますが、MobXは状態管理の実行可能な代替手段になりつつあります。</font></font></blockquote><br>
<a name="more-resurces"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他のリソース</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Michel </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Weststrattの</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">比較</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">-MobXの</font></a><font style="vertical-align: inherit;">作成者</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja489840/index.html">ドライブの構造：ハードドライブ</a></li>
<li><a href="../ja489844/index.html">一部のJavaデコンパイラーの比較分析</a></li>
<li><a href="../ja489848/index.html">同僚/従業員が@％§のように振る舞うのはなぜですか？</a></li>
<li><a href="../ja489850/index.html">セキュリティウィーク09：Androidのセキュリティを担当するのは誰ですか？</a></li>
<li><a href="../ja489852/index.html">Linux上のASP.Net Coreにおける透過的な認証</a></li>
<li><a href="../ja489856/index.html">Banach-Tarski逆パラドックス、または保存されたデータ量を5分の1に削減する方法</a></li>
<li><a href="../ja489858/index.html">国際化：すべての人がWebにアクセスできるようにする</a></li>
<li><a href="../ja489860/index.html">テレフンケンの歴史：ヴィルヘルム2世とゲッベルスからビートルズまで、そして今日のドイツのエレクトロニクスのフェニックス</a></li>
<li><a href="../ja489862/index.html">Goの計画：パートII-Goスケジューラ</a></li>
<li><a href="../ja489868/index.html">Mozilla WebThingsのフリーズ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>