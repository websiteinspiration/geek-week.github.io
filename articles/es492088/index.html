<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçæ üßóüèº üàÅ Probar el motor del juego Amazon Lumberyard. Enfoques y herramientas üé∫ üõ¢Ô∏è üîí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Amazonas Juegos. ¬øSuena inusual? ¬øC√≥mo probar el producto tanto para desarrolladores como para jugadores? Bajo las pruebas de corte del motor de juego...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Probar el motor del juego Amazon Lumberyard. Enfoques y herramientas</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/492088/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazonas Juegos. ¬øSuena inusual? ¬øC√≥mo probar el producto tanto para desarrolladores como para jugadores? Bajo las pruebas de corte del motor de juego Amazon Lumberyard, los enfoques en las pruebas manuales y la automatizaci√≥n, as√≠ como las herramientas utilizadas en el proyecto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/zk/pa/jizkpajt7cpurumpj9fwugmabuk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lumberyard es un motor de juegos multiplataforma donde puedes crear juegos gratis para la mayor√≠a de las plataformas modernas: PC, Mac, iOS / Android, todas las consolas, incluidas las gafas de realidad virtual. Tambi√©n est√° bastante integrado con Amazon Web Services y el servicio de transmisi√≥n de juegos de Twitch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bajo el corte - video y transcripci√≥n del informe de Artem Nesiolovsky de la conferencia de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heisenbug</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/v3iFb0u5exg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre el orador:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> graduado del Instituto de F√≠sica de Ingenier√≠a de Mosc√∫, Facultad de Cibern√©tica, m√°s de 8 a√±os en desarrollo y pruebas. </font><font style="vertical-align: inherit;">Trabaj√≥ tanto en proyectos de escritorio, como GeForce Experience, MMORPG Lineage II en l√≠nea como en dispositivos m√≥viles, el juego Cut the Rope, as√≠ como en el proyecto web Yandex.Images. </font><font style="vertical-align: inherit;">Actualmente es ingeniero de automatizaci√≥n en Amazon en el proyecto Amazon Lumberyard.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estructura del poste</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor del juego: caracter√≠sticas, as√≠ como diferencias entre probar el motor y probar juegos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas manuales: c√≥mo tratamos de descubrir la cobertura de las caracter√≠sticas del proyecto con pruebas funcionales.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatizaci√≥n: errores y golpes que llenamos y tratamos despu√©s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas con las que automatizamos nuestro motor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Errores interesantes de nuestro proyecto que probablemente conociste cuando jugaste a ti mismo.</font></font></li>
</ul><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Narraci√≥n adicional en nombre del orador. </font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/9n/_0/x7/9n_0x7hmz9ujcclzd5lu01tipk0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© Amazon hace juegos? </font><font style="vertical-align: inherit;">En 2014, Amazon, como muchos gigantes tecnol√≥gicos, se√±ala que los juegos se est√°n convirtiendo en la segunda forma de entretenimiento m√°s popular para la humanidad. </font><font style="vertical-align: inherit;">El primero, curiosamente, es la televisi√≥n, o m√°s bien, todo lo relacionado con la transmisi√≥n de video (YouTube, Netflix y todo lo dem√°s). </font><font style="vertical-align: inherit;">Los desarrolladores de juegos tambi√©n est√°n comenzando a usar los servicios de AWS m√°s activamente para sus juegos en l√≠nea. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Amazon decide construir un ecosistema en tres pilares: abrir su estudio de juegos para crear juegos que la gente luego transmitir√° y ver√° en Twitch. </font><font style="vertical-align: inherit;">Estos juegos tambi√©n mostrar√°n qu√© ideas de juego interesantes se pueden implementar con AWS Cloud.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo comenz√≥ todo?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2004, la compa√±√≠a alemana Crytek lanz√≥ un juego llamado "FarCry". Despu√©s de un tiempo, Crytek comienza a licenciar su motor, en el que se construy√≥ el juego, para que las empresas de terceros puedan tomar el motor terminado y comenzar a crear un juego, un juego, llenarlo con contenido sin una gran inversi√≥n en tecnolog√≠a. Cuando Amazon comenz√≥ a jugar, tambi√©n abri√≥ inmediatamente varios estudios y comenz√≥ a desarrollar varios juegos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que cada estudio no invente una bicicleta: su propio motor de renderizado, su sistema de animaci√≥n, f√≠sica, etc., Amazon licencia la versi√≥n 3 de CryEngine y lanza el desarrollo de varios juegos a la vez. El Grand Tour ya se lanz√≥ en Xbox y PlayStation. Dos m√°s est√°n en desarrollo: MMORPG "New World" y el juego de disparos en l√≠nea "Crucible". Despu√©s de que el desarrollo de estos juegos ha comenzado, Amazon comienza a proporcionar de forma gratuita el motor en el que se desarrollan estos juegos. Debido a que est√° altamente integrado con los servicios en la nube de Amazon, puede atraer a m√°s personas para usar AWS.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qe/qr/vy/qeqrvyldg9q1tlgzsoo-i5mqxmk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un motor de juego es un conjunto de API, un motor de juego para construir un juego futuro. Para que los desarrolladores no necesiten escribir sus propios sistemas de juego, solo puede tomar un conjunto de API, es decir motor, y comience a escribir su propia l√≥gica de juego, agregue contenido all√≠ y participe en la creatividad, en lugar de desarrollar tecnolog√≠a desde cero. Adem√°s, algunos motores tienen un editor. Este es un programa de escritorio en el que puedes crear niveles, es decir, abrir tu nivel y agregar contenido y l√≥gica de juego all√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En lugar de hablar mucho tiempo, a veces es m√°s f√°cil mostrar un video: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 8: 33-9: 53</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ est√° nuestro editor y su interfaz. </font><font style="vertical-align: inherit;">Se lanza un juego dentro de √©l, que proporcionamos junto con el motor. </font><font style="vertical-align: inherit;">"Starter Game" existe para que las personas puedan iniciar sesi√≥n, jugar, cambiar algo y descubrir c√≥mo funciona. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, los juegos en 3D se pueden imaginar como un conjunto de objetos tridimensionales que se mueven en un mundo tridimensional y de alguna manera interact√∫an entre s√≠. </font><font style="vertical-align: inherit;">En este video puedes ver:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geometr√≠a est√°tica con texturas: tierra, piedras, hierba, √°rboles;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geometr√≠a din√°mica: el personaje est√° animado, reacciona a las acciones del jugador;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interfaz de usuario: vistas de tareas en la esquina superior izquierda.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El jugador puede encontrarse con personajes hostiles, aparecer√° la l√≥gica del juego, ser√° posible disparar: los robots disparan en respuesta. </font><font style="vertical-align: inherit;">Acerca de la f√≠sica: el personaje comenzar√° a disparar a barriles, se mover√° de colisiones con disparos e interactuar√° con el personaje. </font><font style="vertical-align: inherit;">En el editor en cualquier momento, puede salir del modo de juego y volver al modo de edici√≥n, en el que puede cambiar inmediatamente las propiedades de los objetos, moverlos y esto aparecer√° inmediatamente en el juego. </font><font style="vertical-align: inherit;">¬øImagina un n√∫mero aproximado de lugares donde algo podr√≠a salir mal, descomponerse y dejar de funcionar correctamente?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo probar el motor?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probar el motor se basa en tres puntos principales. El primero es probar el editor y las herramientas: la operaci√≥n correcta, las herramientas deben abrirse, nada bloquearse, todo debe mostrarse correctamente, los scripts de usuario deben ejecutarse sin errores, el proceso de crear un juego sin errores. Solo los creadores de juegos usar√°n el editor. El segundo es probar el motor en s√≠ o la API del motor. El motor del juego, a su vez, es esa parte del c√≥digo que funcionar√° incluso en las computadoras de los jugadores. Esta parte del proyecto se prueba a trav√©s de la creaci√≥n avanzada de niveles y juegos. Posteriormente, los niveles creados se pueden probar en cada nueva versi√≥n del motor para asegurarse de que todos los elementos del juego utilizados en uno u otro nivel funcionen como deber√≠an.Y el tercer componente es la prueba de infraestructura y compatibilidad: el motor se puede configurar y construir con diferentes par√°metros, el juego se puede implementar en varios dispositivos y se ver√° y funcionar√° casi igual en todas partes.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Caracter√≠sticas del proyecto </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera caracter√≠stica: admitimos la mayor√≠a de las plataformas de juegos existentes. A pesar de que el editor solo funciona en PC, tiempo de ejecuci√≥n, es decir El juego se puede construir en Mac, tel√©fonos inteligentes, consolas e incluso gafas de realidad virtual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda caracter√≠stica, nuestros usuarios, son dos tipos de personas con solicitudes completamente diferentes. Por un lado, estos son desarrolladores, programadores, artistas y dise√±adores que trabajar√°n en la creaci√≥n del juego. Y, por otro lado, estos son jugadores, en las m√°quinas en las que el juego funcionar√°. Los requisitos para estos dos grupos son completamente diferentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tercera caracter√≠stica: en tales programas que le permiten crear algo nuevo, se implica de antemano la gama m√°s amplia posible de productos posibles de esta aplicaci√≥n. En nuestro motor, puede crear absolutamente cualquier juego, comenzando desde algo simple, como Tetris, y terminando con un complejo proyecto en l√≠nea, que juegan miles de personas al mismo tiempo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las tres caracter√≠sticas afectan en gran medida el n√∫mero de scripts personalizados, cada uno de los cuales debe ser probado. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/co/_j/bl/co_jblqw9pgujduw_hbzkzhkfj4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mira esta captura de pantalla e imagina cu√°ntos casos de prueba podr√≠as escribir solo para esta parte de la funcionalidad. En total, tenemos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√°s de 11 mil casos de prueba</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en el proyecto </font><font style="vertical-align: inherit;">y esta base de datos est√° creciendo en aproximadamente 3-4 mil casos de prueba cada a√±o. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 13: 20-13: 54</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encontramos la mayor√≠a de los errores durante la interacci√≥n de varios componentes entre s√≠. En este video, la nieve en el estado normal se muestra en el cubo como deber√≠a, pero tan pronto como el personaje comienza a interactuar con √©l, la nieve comienza a desaparecer. La mayor√≠a de los errores que encontramos est√°n en esos lugares donde se unen varios componentes. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 14: 08-14: 41</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, los errores no siempre ocurren cuando solo hay dos condiciones. A menudo sucede que aparecen errores cuando varios componentes convergen a la vez. En este caso, estamos considerando un error en el que, en una situaci√≥n normal, el personaje simplemente se para en el suelo. Vale la pena agregar otro grado de libertad: elevar al personaje sobre el suelo: cuando cae, la animaci√≥n comienza a reproducirse y la c√°mara se acerca / se aleja; la textura comienza a desaparecer. Aqu√≠, tres componentes interact√∫an a la vez: altura, animaci√≥n de personajes y distancia de la c√°mara. Es imposible pensar en todas estas opciones de antemano, y a menudo encontramos tales errores solo durante las pruebas ad-hoc. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 15: 02-15: 49</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay otra caracter√≠stica: tenemos muchos sistemas no deterministas. Estos son sistemas en los que, con la misma entrada, el resultado final puede diferir. Un ejemplo simple es que hay variables aleatorias en el sistema. En nuestro caso, estos son sistemas de f√≠sica en los que hay muchos c√°lculos con n√∫meros de coma flotante. Las operaciones de punto flotante en diferentes procesadores o compiladores se pueden realizar de manera un poco diferente. Debido a esto, la funcionalidad resultante siempre ser√° ligeramente diferente. Como resultado, estos sistemas son bastante dif√≠ciles de automatizar, porque es dif√≠cil explicarle a la m√°quina en qu√© caso se trata de un error, y en cuyo caso se trata de diferencias aceptables. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 16: 03-17: 14</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay bastantes interacciones no triviales en el motor y en el editor mismo. Los usuarios a menudo interact√∫an dentro del espacio tridimensional usando el mouse y el teclado. Este video presentar√° una caracter√≠stica llamada Objeto simulado. Las cosas vestidas con el personaje deben moverse de acuerdo con las leyes de la f√≠sica al mover el personaje en el que se usan estos art√≠culos. Por ejemplo, ropa o un malet√≠n. Como tal elemento en el video, la mano del personaje. Cuando el personaje se mueve, la mano tambi√©n comienza a responder. A menudo, para probar dicha funcionalidad, debe realizar acciones no triviales: cambiar algo en la interfaz de usuario, mover objetos en un espacio tridimensional, arrastrar y soltar, tambi√©n mirar los gr√°ficos de animaci√≥n que se encuentran a continuaci√≥n y hacer todo en tiempo real. Esta caracter√≠stica afecta la complejidad de la automatizaci√≥n.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo determinar la cobertura?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En alg√∫n momento, nos dimos cuenta de que escribimos muchos casos de prueba, pero fue dif√≠cil determinar qu√© cobertura ten√≠amos. </font><font style="vertical-align: inherit;">Encontramos los errores m√°s cr√≠ticos no durante nuestra prueba de regresi√≥n completa, sino durante las pruebas ad-hoc, que se llevaron a cabo al final del ciclo de lanzamiento. </font><font style="vertical-align: inherit;">Empezamos a pensar: tenemos un motor con una gran funcionalidad, tenemos un repositorio en el que 12,000 casos: ¬øc√≥mo entender en qu√© lugares hay suficiente cobertura y en qu√© valdr√≠a la pena agregar casos de prueba?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasamos a la teor√≠a de las pruebas, comenzamos a leer sobre c√≥mo las personas definen la cobertura de las pruebas. Una forma es determinar a trav√©s del c√≥digo fuente. En nuestro caso, es dif√≠cil de hacer. Tenemos varios millones de l√≠neas de c√≥digo y fue imposible completar esta verificaci√≥n en poco tiempo. El segundo m√©todo es evaluar la cobertura a trav√©s de una evaluaci√≥n de los requisitos. En los procesos √°giles, los requisitos a menudo se almacenan solo en la cabeza de las personas, y no en la documentaci√≥n, por lo que a trav√©s de los requisitos para hacer una evaluaci√≥n de cobertura tampoco era realista. Como resultado, recurrimos a la √∫nica forma posible para nosotros: la definici√≥n de cobertura a trav√©s de la redacci√≥n de un modelo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g3/3i/ce/g33icehbc7bsledqj0xvmu71hp8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elegimos un modelo llamado ACC - Atributo, Componente, Capacidad. ACC es uno de los modelos m√°s simples, que es bastante com√∫n en Amazon para el software de modelado. El modelo est√° construido sobre tres pilares principales. En primer lugar, estos son componentes, los sustantivos son las principales partes de trabajo del sistema. Para nosotros, esto es viewport, textura, esencia del juego. Las siguientes son capacidades, verbos, lo que estos componentes pueden hacer. Por ejemplo, pueden mostrar en la pantalla, calcular algo, mover algo, etc. Y la tercera parte son los atributos: adjetivos o adverbios relacionados con los componentes y sus capacidades. Los atributos describen los par√°metros de las capacidades: r√°pido, seguridad, escalable, seguro, etc. Todo esto se puede reducir a tres preguntas: ¬øqui√©n? ¬øqu√© est√° haciendo? ¬øY c√≥mo?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analizaremos este modelo con un peque√±o ejemplo. A continuaci√≥n se muestra una demostraci√≥n de una peque√±a parte de la funcionalidad: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 19: 59-21: 02</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viewport es la parte del editor donde el nivel es visible. El video mostr√≥ que es posible rotar la c√°mara, moverse por el nivel, es posible agregar un personaje del conductor local de los objetos del juego. Puedes mover un personaje, o crear una nueva entidad de juego haciendo clic derecho, puedes seleccionar todas las entidades actuales en el nivel y moverlas todas juntas. Tambi√©n puede agregar otro elemento geom√©trico y (como en todos los editores tridimensionales) cambiar no solo su posici√≥n en el espacio, sino tambi√©n cambiar su √°ngulo y cambiar su tama√±o. Una ventana llamada "Viewport" tiene diferentes modos de representaci√≥n. Por ejemplo, las sombras se desactivan o se desactivan algunos efectos gr√°ficos del procesamiento posterior. Puedes ingresar al modo de juego para probar inmediatamente los cambios que acabas de hacer.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vf/f4/hb/vff4hbv38i8yi3k990nnpqyh2tg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos el modelo ACC en s√≠. R√°pidamente nos dimos cuenta de que estos modelos son muy convenientes para crear usando Mindmaps, y luego traducirlos a tabletas o directamente a la estructura en TestRail o en cualquier otro repositorio para casos de prueba. El componente principal en s√≠ mismo es visible en el diagrama en el centro - Viewport - y m√°s arriba de la rama roja est√° la funci√≥n Viewport que le permite moverse por el nivel: puede girar la c√°mara, puede volar usando los botones "W", "A", "S", "D". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Su segunda oportunidad (rama naranja) es crear entidades de juego a trav√©s de Viewport o mediante arrastrar y soltar desde el explorador de juegos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y las entidades del tercer juego se pueden manipular: se pueden distinguir, cambiar su ubicaci√≥n, rotar, etc. La rama verde a la izquierda es la configuraci√≥n de Viewport al cambiar los modos de representaci√≥n. Se resalta un atributo en la rama azul, lo que indica que Viewport tambi√©n debe cumplir ciertos par√°metros de rendimiento. Si se ralentiza, ser√° dif√≠cil para los desarrolladores hacer algo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda la estructura de √°rbol se transfiere a TestRail. Cuando transferimos los casos de prueba de nuestro sistema anterior a la nueva estructura, inmediatamente qued√≥ claro d√≥nde faltaban los casos de prueba, en algunos lugares aparecieron carpetas vac√≠as. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vn/5q/6m/vn5q6mpibztjbhrpaajxyxdaewa.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 23: 01-24: 10</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas estructuras crecen bastante r√°pido. </font><font style="vertical-align: inherit;">Viewport en realidad se refiere al editor, que es solo una parte del motor. </font><font style="vertical-align: inherit;">Dos partes principales: el editor en s√≠ y el motor del juego. </font><font style="vertical-align: inherit;">A la derecha en la imagen de arriba puede ver varios componentes que no est√°n relacionados con el √°rbol. </font><font style="vertical-align: inherit;">Por ejemplo, en un sistema de representaci√≥n o scripting, las animaciones est√°n separadas, porque se relacionan inmediatamente tanto con el editor como con el motor. </font><font style="vertical-align: inherit;">Es decir, el sistema de renderizado funcionar√° en tiempo de ejecuci√≥n en los dispositivos finales, pero en el editor en s√≠ ser√° posible cambiar algunos par√°metros: hora del d√≠a y noche, edici√≥n de materiales, sistema de part√≠culas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resultados y conclusiones</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El modelado de ACC ayud√≥ a resaltar √°reas en las que los pacientes cubiertos por la prueba. Al llenar los vac√≠os en la cobertura, el n√∫mero de errores encontrados despu√©s de nuestro pase de regresi√≥n completo se redujo en aproximadamente un 70%. Los modelos ACC f√°ciles de construir tambi√©n han demostrado ser una buena fuente de documentaci√≥n. Las nuevas personas que vinieron al proyecto los estudiaron y r√°pidamente pudieron hacerse una idea del motor. La creaci√≥n / actualizaci√≥n de modelos ACC est√° estrechamente incluida en nuestro proceso de desarrollo de nuevas caracter√≠sticas.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wv/qd/pj/wvqdpjojsmtofhmehguxj7ca8ai.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenzamos a automatizar el motor a trav√©s de la automatizaci√≥n de la interfaz de usuario. La interfaz del editor est√° escrita en la biblioteca QT. Esta es una biblioteca para escribir IU multiplataforma para aplicaciones de escritorio, que puede funcionar tanto en Mac como en Windows. Utilizamos una herramienta llamada Squish de Froglogic, que funciona en un sistema similar con WebDriver, ajustado para el entorno de escritorio. En esta herramienta, se utiliza un enfoque similar al Objeto de p√°gina (del mundo de WebDriver), que se llama de manera diferente: Arquitectura de elementos compuestos. Los selectores se realizan en los componentes principales (como una "ventana" o "bot√≥n") y se registran las funciones que se pueden realizar con estos elementos. Por ejemplo, "clic derecho", "clic izquierdo", "guardar", "cerrar", "salir". Entonces estos elementos se combinan en una sola estructura,puede acceder a ellos dentro de su script, usarlos, tomar una captura de pantalla y comparar.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas y soluciones</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer problema es la estabilidad. </font><font style="vertical-align: inherit;">Escribimos pruebas que prueban la l√≥gica empresarial a trav√©s de la interfaz de usuario: ¬øcu√°l es el problema? </font><font style="vertical-align: inherit;">Cuando la l√≥gica empresarial no cambia, pero la interfaz cambia: las pruebas caen, debe cargar nuevas capturas de pantalla. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente problema es la falta de funcionalidad. </font><font style="vertical-align: inherit;">Muchos casos de usuarios no son solo presionar un bot√≥n, sino interactuar con el mundo tridimensional. </font><font style="vertical-align: inherit;">Esta biblioteca no permit√≠a esto, se necesitaban nuevas soluciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tercer problema es la velocidad. </font><font style="vertical-align: inherit;">Para cualquier prueba de IU, debe renderizar completamente el motor completo. </font><font style="vertical-align: inherit;">Lleva tiempo, las m√°quinas para estas pruebas deben ser lo suficientemente potentes.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/py/bs/_a/pybs_a6itqyfp2vmqa9ygvhpqvo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La soluci√≥n lleg√≥ en forma de una biblioteca Shiboken. Esta biblioteca proporciona carpetas del c√≥digo C ++ en Python, lo que hace posible llamar directamente a las funciones proporcionadas por el editor o el motor sin representar el editor de la interfaz de usuario. Un an√°logo del mundo de la web: la automatizaci√≥n sin cabeza (algo similar a PhantomJS): puede automatizar una aplicaci√≥n web sin iniciar un navegador. En este caso, un sistema similar, solo para una aplicaci√≥n de escritorio escrita en C ++.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de comenzar a invertir en este marco, nos dimos cuenta de que puede usarse no solo para automatizar las pruebas, sino tambi√©n para automatizar cualquier proceso dentro del motor. Por ejemplo, un dise√±ador necesita poner 100 fuentes de luz en una fila (por ejemplo, hace un camino y usted necesita poner luces). En lugar de representar manualmente todas estas fuentes de luz, simplemente escribe un gui√≥n que crea una entidad de juego, agrega una fuente de luz puntual all√≠ y prescribe que cada 10 metros necesita copiar la luz de punto creada previamente. Una bonificaci√≥n para nuestros usuarios en forma de una herramienta para automatizar tareas rutinarias.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/bc/m7/ltbcm7xzvjl15rf-vcq8ix6r2ug.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda parte de la soluci√≥n al problema. R√°pidamente nos dimos cuenta de que para automatizar varias partes de nuestro motor, por ejemplo, gr√°ficos y partes de red, necesit√°bamos marcos completamente diferentes. Es imposible crear un marco √∫nico y monstruoso que ayude a automatizar todo a la vez. Por lo tanto, comenzamos a desarrollar un marco llamado Lumberyard Test Tools (para abreviar - LyTestTools). Est√° basado en Pytest (muchas cosas est√°n escritas en el motor en Python). Decidimos usar la llamada arquitectura Plug-and-play: el grupo central de ingenieros de automatizaci√≥n escribe la parte principal del marco, que puede descargar, configurar el motor, implementarlo en varias plataformas, ejecutar pruebas y recopilar registros, cargar informes en nuestra base de datos o S3 y dibujar gr√°ficos en Quicksight. Plug-and-play se logra a trav√©s de Test Helper's,que ser√° escrito por equipos en el campo que desarrolla caracter√≠sticas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es decir, el equipo de desarrollo de gr√°ficos probar√° con capturas de pantalla y el equipo de interacci√≥n de red verificar√° los paquetes reenviados. </font><font style="vertical-align: inherit;">Al mismo tiempo, todos estar√°n conectados a nuestro marco com√∫n (ya que ambos equipos desarrollan y prueban m√≥dulos de un solo motor) para que todos tengan las mismas interfaces para ejecutar pruebas y generar informes, de modo que todo funcione de manera m√°s o menos est√°ndar y funcione correctamente con nuestro CI / Discos compactos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interacci√≥n con Lumberyard</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øCu√°les pueden ser las formas de interacci√≥n / automatizaci√≥n de una aplicaci√≥n de escritorio? El primer tipo de interacci√≥n entre el marco y el motor: directamente desde Python, el proceso se inicia utilizando la funci√≥n Subproceso, si la aplicaci√≥n implica el inicio a trav√©s de la l√≠nea de comandos. Puede leer la entrada / salida de la entrada / salida est√°ndar y, por lo tanto, hacer afirmaciones. El siguiente tipo, esta interacci√≥n a trav√©s del an√°lisis de registros, puede leer y analizar los registros que deja la aplicaci√≥n. El tercero es a trav√©s de la red. En los lanzadores de juegos, hay un m√≥dulo llamado Consola remota. Cuando un determinado puerto est√° abierto en el dispositivo, nuestro marco puede enviar paquetes / comandos espec√≠ficos. Por ejemplo, tome una captura de pantalla o abra un nivel espec√≠fico. Otro m√©todo es la interacci√≥n mediante la comparaci√≥n de informaci√≥n visual, es decir. capturas de pantallaTambi√©n se mencion√≥ anteriormente el m√©todo de invocar la funcionalidad de la aplicaci√≥n directamente a trav√©s de la API del producto (en nuestro caso, es una llamada a trav√©s de enlaces de Python a la funcionalidad del editor / motor C ++).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasemos a ejemplos de uso de nuestro marco para automatizar el motor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Echa un vistazo a esta captura de pantalla. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/8r/yx/oq8ryxj4knreelbv3g-r8rvpic8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El detalle en este sitio es bastante alto: una gran cantidad de vegetaci√≥n. En los juegos modernos, los niveles pueden tomar hasta varias decenas y cientos de kil√≥metros de juego. Naturalmente, cada uno de estos arbustos de juegos no se coloca manualmente, de lo contrario los desarrolladores simplemente se volver√≠an locos. Para ellos, nuestro motor tiene herramientas especiales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uno de ellos se llama la herramienta de vegetaci√≥n. Peque√±a demostraci√≥n: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 32: 18-34: 06</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vemos el inicio est√°ndar del nivel. Hay terreno y se puede hacer un alivio muy r√°pidamente: en el fondo hacer monta√±as, en la parte central tambi√©n se destaca una peque√±a colina. Puedes pintar el suelo de verde con una textura de hierba. El proceso de agregar vegetaci√≥n, en este caso, √°rboles, se demuestra a√∫n m√°s. La geometr√≠a (√°rboles) se agrega a la herramienta; se resalta un subconjunto de ellos y se puede dibujar cualquier dibujo necesario con estos √°rboles. Este es un ejemplo bastante simple, esta herramienta tiene muchos par√°metros personalizables. Por ejemplo, puede seleccionar no un √°rbol, sino varios a la vez y establecer un par√°metro para ellos, pararse a cierta distancia uno del otro, o establecer par√°metros aleatorios para el tama√±o o la rotaci√≥n de estos √°rboles. Puedes agregar un personaje del juego e inmediatamente correr en el nivel, probar,¬øQu√© acabas de cultivar en tu propio jard√≠n de juegos?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos ahora c√≥mo automatizamos esta funci√≥n con nuestro marco utilizando un par de pruebas como ejemplo. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 34: 20-34: 58</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hay un terreno est√°ndar y se cultiva mucho del mismo tipo de c√©sped. Este tipo de renderizado es muy intensivo en el procesador. Si hay muchos de estos elementos, puede hacer una prueba de carga. Aqu√≠ se ha agregado un script de juego, que al iniciar el modo de juego simplemente har√° un vuelo a trav√©s de este nivel. La tarea es probar esta funcionalidad y verificar que el iniciador del juego sea estable y no se bloquee.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oa/w_/ep/oaw_eprpt4km-qtixgam8x-wr10.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es un ejemplo de c√≥mo el equipo que desarroll√≥ la funci√≥n para cultivar vegetaci√≥n escribi√≥ Test Helper, que le permite trabajar con estas funciones. Este es un ejemplo de uso de nuestro marco. La clase de iniciador se resalta en verde. Cuando comienza la prueba, se despliega el iniciador, comienza con los par√°metros de tiempo de espera y hacemos una afirmaci√≥n para verificar que el iniciador no se bloquee despu√©s de un tiempo. Luego lo apagamos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xe/7o/sd/xe7osd7gjo85mzibmbaisiifiac.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El c√≥digo de parametrizaci√≥n anterior muestra que podemos reutilizar el mismo c√≥digo en diferentes plataformas. Adem√°s, podemos reutilizar el mismo c√≥digo en diferentes niveles o proyectos. Por ejemplo, las plataformas se resaltan en rojo: en un caso es Windows, en otro caso es Mac; el proyecto se resalta en amarillo; el nivel del nombre se resalta en amarillo claro. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 36: 07-36: 47</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora sobre la prueba, en este caso, ejec√∫tela a trav√©s de la l√≠nea de comando. Se abre un programa llamado Asset Processor, una de las partes principales del motor. Este programa procesa los recursos de origen (por ejemplo, modelos y texturas creados por artistas) en formatos que son comprensibles para el motor y escribe todo en la base de datos (SQLite) para que el motor pueda navegar y cargar r√°pidamente los datos necesarios durante el juego. A continuaci√≥n, se inicia el iniciador, se inicia el modo de juego, la c√°mara vuela por encima del nivel durante varios segundos y finaliza la prueba. Vemos que una prueba fue exitosa y se saltaron dos pruebas. Esto sucedi√≥ porque durante la grabaci√≥n del video, la prueba se persigui√≥ en Windows, y en la parametrizaci√≥n hay dos plataformas m√°s que se omitieron respectivamente durante este lanzamiento.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9u/om/t5/9uomt5v6l_la2gcihmzpjgoajnw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay una opci√≥n m√°s dif√≠cil. No solo iniciamos el iniciador con el nivel final, sino que el script interact√∫a directamente con el editor. Azul indica el nombre de un script separado que funcionar√° con el editor y extraer√° varios comandos a trav√©s de la API. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hv/ee/o6/hveeo6tbuv99pugn2rz7y9so1l4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arriba est√° el nivel de prueba. En este caso, se dibuja una sonrisa en el terreno est√°ndar utilizando una textura preparada previamente (m√°scara). Es necesario verificar que al usar la m√°scara, la pintura se llevar√° a cabo solo a lo largo de un contorno previamente seleccionado y no ir√° m√°s all√°. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/ep/7m/rhep7mpz2ydd6pc7-rqplxl8lny.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El equipo que trabaja con el mundo del juego escribi√≥ su extensi√≥n para trabajar con terrane, que luego se inserta en nuestro marco. Se crea un nuevo pincel, que se dibujar√° en la m√°scara "Adoquines", el pincel se establece en rojo y se pinta la capa seleccionada.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/rv/zx/pwrvzxdxophkqcoxybe2eisvioq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A continuaci√≥n, se crea un nuevo pincel, se establece una intensidad diferente para √©l. </font><font style="vertical-align: inherit;">La m√°scara ya no se usa, y en el ciclo, ya en otra parte del nivel, se dibuja un nuevo elemento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos c√≥mo funciona este script. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 38: 42-39: 35</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Primero, se iniciar√° el Procesador de activos, que verificar√° el estado de la base de datos de activos y procesar√° los elementos reci√©n agregados si es necesario. </font><font style="vertical-align: inherit;">A continuaci√≥n, comienza el editor. </font><font style="vertical-align: inherit;">El nivel se abrir√° con una sonrisa y se iniciar√° un script que se ejecuta con el editor. </font><font style="vertical-align: inherit;">Pinta la capa sobre la m√°scara, luego crea un c√≠rculo azul y comienza a tomar capturas de pantalla. </font><font style="vertical-align: inherit;">Posteriormente, las capturas de pantalla se comparar√°n con las de referencia y, si todo est√° en orden, la prueba se completar√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La prueba toma tales capturas de pantalla para compararlas con los est√°ndares. </font><font style="vertical-align: inherit;">Aqu√≠ puede ver que la imagen fue claramente a lo largo del borde.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artes graficas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambi√©n utilizamos nuestro marco para probar gr√°ficos. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 40: 04-40: 56</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Gr√°ficos: una de las partes m√°s dif√≠ciles del motor, que ocupa la mayor parte del c√≥digo. Puede y debe verificar todo, comenzando con cosas simples, como geometr√≠a y texturas, y caracter√≠sticas m√°s complejas: sombras din√°micas, iluminaci√≥n, efectos de procesamiento posterior. En el video en la esquina derecha puede ver el reflejo en el charco: todo funciona en tiempo real en nuestro motor. Cuando la c√°mara vuela hacia adentro, puede ver elementos de renderizado m√°s avanzados, por ejemplo, reflejos, elementos transparentes, como el vidrio, as√≠ como la visualizaci√≥n de elementos como superficies met√°licas. ¬øC√≥mo se prueba esta funcionalidad con capturas de pantalla?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z8/uz/3o/z8uz3o9j5nslfufdq0ljjhf61dc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es nuestro personaje, Rin. Con √©l, a menudo probamos tuber√≠as de artistas. Los artistas crean algo en su editor (por ejemplo, un personaje) y luego dibujan texturas en √©l. Asset Processor procesa los datos originales para desplegarlos en varias plataformas, y el motor gr√°fico se ocupar√° de la pantalla. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vp/uf/uv/vpufuvqcawszgysyr4swkxdxe5m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seguramente encontraste un error cuando "las texturas no se cargaron". De hecho, hay muchos problemas cuando algo sucede al mostrar texturas.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wz/tr/cp/wztrcpwnaw-2mn5xizkhb0qkb5e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero todos ellos est√°n bien atrapados al comparar capturas de pantalla. En la primera captura de pantalla puede ver un error: algunos materiales no se cargan bien. En estas capturas de pantalla, el mismo nivel donde estaba la motocicleta y la c√°mara vol√≥ dentro del caf√©, que se mostr√≥ en el video anteriormente. ¬øPor qu√© todo parece tan aburrido aqu√≠? Debido a que las capturas de pantalla no se toman en la √∫ltima etapa de la representaci√≥n, cuando el motor gr√°fico presenta todos sus efectos, sino por etapas. Al principio, solo se toma la representaci√≥n de geometr√≠a y texturas simples: se eliminan las sombras, se eliminan los elementos de iluminaci√≥n complejos. Si prueba todo en la √∫ltima etapa y mira Diff Image, ser√° dif√≠cil decir qu√© se rompi√≥ exactamente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_3/ua/yx/_3uayxd3huqivhtu-ykwxr0-atk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si hace esto por etapas, puede comprender aproximadamente en qu√© parte del motor de gr√°ficos algo sali√≥ mal. Aqu√≠ est√° el algoritmo por el cual comparamos las capturas de pantalla. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6j/jz/_s/6jjz_sly4w-43r5p8ih7xh2tbio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al comparar capturas de pantalla, puede probar gr√°ficos, elementos de visualizaci√≥n, texturas, materiales, sombreadores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√© un ejemplo de un error de la versi√≥n anterior de nuestro motor cuando no ten√≠amos este marco. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 43: 10-43: 44</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Se relaciona con el sistema de Vegetaci√≥n. Despu√©s de agregar √°rboles, la parte gr√°fica comienza a dibujar sombras debajo de ellos. Es necesario presionar "Ctrl + Z" ("Cancelar"), los √°rboles desaparecen y las sombras permanecen. Si toma una captura de pantalla al principio, cuando el √°rbol est√° de pie y despu√©s de hacer clic en "Cancelar", es f√°cil detectar dicho error en modo autom√°tico despu√©s de compararlo con las capturas de pantalla de referencia de Antes y Despu√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al comparar capturas de pantalla, la canalizaci√≥n de activos tambi√©n est√° muy bien probada. </font><font style="vertical-align: inherit;">Cuando los artistas crearon algo en editores 3D (Maya, 3dsMax), debes comprobar que todo se muestra en el juego de la misma manera y que no se perdi√≥ nada: el pollo tiene plumas, todos los animales tienen pelaje, las personas tienen la textura de piel correcta y otras cosas. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 44: 16-44: 52</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En el lado derecho del programa se encuentra el Procesador de activos, que monitorea la visualizaci√≥n en el juego de todo lo que pint√≥ el artista. </font><font style="vertical-align: inherit;">Nos dir√° que todo est√° en orden con estos activos: deber√≠an funcionar. </font><font style="vertical-align: inherit;">En el video puedes ver que algunos √°rboles se volvieron negros. </font><font style="vertical-align: inherit;">Algunos se muestran normalmente, y algunas texturas verdes simplemente desaparecieron. </font><font style="vertical-align: inherit;">Naturalmente, de esta forma no puede liberar un motor o activos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No todo puede ser atrapado</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 45: 03-45: 17</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Algunos tipos de errores comienzan a formarse solo cuando varios elementos interact√∫an entre s√≠. </font><font style="vertical-align: inherit;">Dos modelos Rin se muestran normalmente si se eliminan entre s√≠, pero si los acerca, comienzan los problemas con la geometr√≠a. </font><font style="vertical-align: inherit;">Desafortunadamente, estos errores son dif√≠ciles de atrapar incluso antes de la automatizaci√≥n. </font><font style="vertical-align: inherit;">A menudo se pueden notar solo cuando los probadores comienzan a hacer algo en el modo de prueba exploratoria o cuando el motor ya cae en manos de los clientes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/aa/mj/sn/aamjsnmjy5_6muwvilxzffqwe0q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al comparar capturas de pantalla, puede probar la interfaz del editor en s√≠.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Componentes del juego</font></font></h2><br>
<img src="https://habrastorage.org/webt/l3/mg/ec/l3mgecboyplxekstsonv1l_rtdi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, las capturas de pantalla pueden probar algunos componentes simples del juego. </font><font style="vertical-align: inherit;">Un ejemplo es un nivel simple en el que hay una puerta y un script que, cuando presiona la barra espaciadora, inicia la puerta para abrir y cerrar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede tomar una captura de pantalla al principio y al final. </font><font style="vertical-align: inherit;">Si todo coincide, el script que cambia la ubicaci√≥n del elemento funciona correctamente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEFORMACI√ìN</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√°pidamente nos dimos cuenta de que las capturas de pantalla de la misma funcionalidad son muy diferentes en diferentes plataformas, en algunos casos puede haber diferencias en la misma plataforma dependiendo del tipo de tarjeta de video. </font><font style="vertical-align: inherit;">¬øC√≥mo lidiar con esto, para no almacenar capturas de pantalla de 100500? </font><font style="vertical-align: inherit;">Existe una herramienta, Windows Advanced Rasterization Platform es un procesador de software que le permite hacer todos los gr√°ficos sin recurrir al controlador y la tarjeta de video. </font><font style="vertical-align: inherit;">Con esta herramienta, puede conducir la mayor√≠a de las pruebas de gr√°ficos funcionales sin depender de los controladores y el hardware.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actuaci√≥n</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por √∫ltimo, pero no menos importante, ¬°el motor del juego debe ser productivo! Las GPU se pueden probar utilizando varios perfiladores gr√°ficos, como PIX. La RAM se puede probar en Visual Studio. Adem√°s, m√°s sobre c√≥mo se prueba el rendimiento del procesador con la herramienta RADTelemetry. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øSabes qu√© es Input Lag? </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 47: 29-48: 21</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Retraso de entrada: es el retraso entre que el jugador presiona la tecla del controlador / teclado y el momento en que el juego comienza a responder al presionar. El retraso de entrada ocurre debido a la transmisi√≥n de datos a trav√©s de la red, cuando los paquetes duran mucho tiempo o el servidor responde durante mucho tiempo, as√≠ como en los motores y sin usar la red. Cuando alguien se equivoca en el c√≥digo responsable de la animaci√≥n, el retraso de entrada puede llegar a ser tan alto que el personaje comienza a responder demasiado tarde. En una aproximaci√≥n simple, esto se prueba con bastante facilidad: se abre un teclado virtual y se graba un video, en el que se registran el momento de presionar la barra espaciadora y el momento del inicio de la animaci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observamos cu√°ntos cuadros por segundo est√° dando el motor. Puede calcular cu√°nto tom√≥ cada cuadro en milisegundos (1000 / FPS). Si reproduce el video cuadro por cuadro, puede calcular cu√°ntos cuadros han pasado desde el clic antes de que el personaje comience a moverse. Sabiendo cu√°ntos milisegundos ocupa cada cuadro, se puede calcular que, por ejemplo, pasaron 200 milisegundos entre presionar un espacio y el comienzo de la animaci√≥n. Con una respuesta humana est√°ndar de 100 milisegundos, esto es demasiado lento y los jugadores dir√°n de inmediato que tal retraso no tiene valor. Este m√©todo de prueba tiene sus problemas. En primer lugar, habr√° errores. Por ejemplo, el teclado virtual tendr√° un retraso. En segundo lugar, en los juegos, los artistas suelen hacer animaciones para que el personaje no comience inmediatamente a hacer el movimiento principal. Existe la llamada anticipaci√≥n: antes de la acci√≥n principal,Por ejemplo, al saltar, el personaje primero se dobla un poco y solo entonces comienza a saltar. Esto puede tomar un par de cuadros. ¬øC√≥mo luchamos contra esto? Comenzamos a probar esta parte con un enfoque m√°s preciso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un programa llamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RADTelemetry. </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace al video 49: 44-50: 47</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le permite perfilar el procesador. </font><font style="vertical-align: inherit;">Los cuadros verticales se presentan aqu√≠: No. 629, 630: puede ver cu√°nto tiempo tom√≥ cada cuadro. </font><font style="vertical-align: inherit;">Horizontalmente, los n√∫cleos del procesador o los subprocesos de ejecuci√≥n de la aplicaci√≥n se descartan si la aplicaci√≥n es multiproceso. </font><font style="vertical-align: inherit;">Si hace clic en cualquiera de los hilos, el nombre de todas las funciones que estaban en este hilo cuando se iniciaron, cu√°nto tiempo tardaron en ejecutarse desde el total, cu√°ntas veces se ejecutaron, se mostrar√° a la izquierda. </font><font style="vertical-align: inherit;">Con esta aplicaci√≥n, puedes comprender con precisi√≥n cu√°nto tiempo ha pasado desde el momento en que el juego registr√≥ la pulsaci√≥n del teclado, antes de que lanzara la funci√≥n Play Animation. </font><font style="vertical-align: inherit;">Este programa puede colocar sus registros en archivos de texto, y luego, al usarlos, puede dibujar gr√°ficos de rendimiento √∫tiles de diferentes compilaciones en la distribuci√≥n del tiempo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øY d√≥nde est√° AWS aqu√≠?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conclusi√≥n, algunas palabras sobre AWS. Por un lado, lo usamos para conducir nuestras pruebas. Realizamos pruebas en EC2 y en dispositivos de Device Farm. Los resultados se agregan a la base de datos en S3 y los gr√°ficos se muestran en Quicksight. Las estad√≠sticas de prueba se pueden ver en CloudWatch. Dado que el motor est√° altamente integrado con los servicios de AWS, tambi√©n probamos estas integraciones, tanto de forma manual como autom√°tica. Por ejemplo, CloudCanvas es un servicio que le permite crear funcionalidades para juegos en l√≠nea sin programaci√≥n, es decir, en el servidor simplemente puede configurar chips como tablas de clasificaci√≥n, tablas de puntuaci√≥n y logros. Para cosas como la monetizaci√≥n de juegos, no puede buscar el programador de su servidor, sino que inmediatamente comenzar√° a usar CloudCanvas. Amazon GameLift es esencialmente un sistema escalable para servidores de juegos.Integraci√≥n con Twitch: cuando los usuarios miran la transmisi√≥n de dos jugadores que compiten entre ellos. Se crea una encuesta de Twitch "¬øA qu√© jugador apoyas?" - las personas comienzan a votar en el chat, el juego lee las respuestas y uno de los jugadores (como en los Juegos del Hambre) puede perder un bono extra o evitarlo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo primero que nos dimos cuenta es que en proyectos tan grandes no hay una sola bala de plata con la que pueda automatizar todo. </font><font style="vertical-align: inherit;">En nuestro caso, el marco Plug-and-play funcion√≥ bien. </font><font style="vertical-align: inherit;">Escribimos un marco com√∫n y permitimos que el resto de los equipos integraran convenientemente sus soluciones. </font><font style="vertical-align: inherit;">Utilizando ejemplos de capturas de pantalla y comparaci√≥n de vegetaci√≥n, el sistema mostr√≥ c√≥mo funcionan estos marcos. </font><font style="vertical-align: inherit;">Espero que algunas aplicaciones y soluciones industriales (como el Software Renderer de Microsoft o RADTelemetry) que se proporcionan en este art√≠culo sean √∫tiles para los ingenieros que trabajan en juegos o sistemas CAD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conclusi√≥n, enlaces a todas las herramientas que se mostraron en el informe:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descargue el motor de forma gratuita y sin SMS;</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shiboken the Binding Generator (C ++ Qt a Python);</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderizador de software de Windows</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telemetr√≠a RAD, perfil de rendimiento de CPU;</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS Game Tech.</font></font></a></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero haber logrado decir c√≥mo las pruebas de motores difieren de las pruebas de juegos. </font><font style="vertical-align: inherit;">Recientemente, el proceso ha avanzado mucho: probar motores de juegos no es para nada simple, pero es muy interesante.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si est√° interesado en el tema de probar juegos, le recomendamos que consulte otros informes:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dmitry Alekseev, Evgeny Shumakov - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øExiste una autoevaluaci√≥n en videojuegos m√≥viles?</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexander Shukov - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas autom√°ticas en World of Tanks: bots en guardia de calidad;</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Philip Keks - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo ense√±ar a los robots a jugar?</font></font></a></li>
</ul><br>
</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es492074/index.html">Tengo que ir r√°pido. Sincronizaci√≥n r√°pida de correo electr√≥nico IMAP</a></li>
<li><a href="../es492076/index.html">Un ejemplo de arquitectura hexagonal en Java</a></li>
<li><a href="../es492078/index.html">Los materiales m√°s importantes y √∫tiles sobre el coronavirus COVID-19</a></li>
<li><a href="../es492082/index.html">C√≥mo simplificar la administraci√≥n de dispositivos dom√©sticos y asegurarlos (compartir ideas sobre Kauri Safe Smart Home)</a></li>
<li><a href="../es492086/index.html">Coronavirus vs negocio ruso de TI: ¬øest√°n las empresas listas para transferir empleados a una ubicaci√≥n remota?</a></li>
<li><a href="../es492094/index.html">Actualice RouterOS en su MikroTik</a></li>
<li><a href="../es492100/index.html">Probar tarjetas de video para trabajar con KOMPAS-3D</a></li>
<li><a href="../es492102/index.html">Creaci√≥n de chatbot VK basado en VkBotCore C #</a></li>
<li><a href="../es492106/index.html">Mecanografiado: comportamiento incorrecto o indulgencias de fiabilidad</a></li>
<li><a href="../es492108/index.html">C√≥mo llegar a Silicon Valley: 7 formas de iniciarlo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>