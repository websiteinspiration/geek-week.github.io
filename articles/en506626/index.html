<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôà üíâ ü§∂üèª Kamailio SBC or not SBC? üßü üåô üóÉÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perhaps many who for one reason or another are faced with VoIP, especially with open source solutions, have heard the expression: "Kamailio SBC". In t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kamailio SBC or not SBC?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506626/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhaps many who for one reason or another are faced with VoIP, especially with open source solutions, have heard the expression: "Kamailio SBC". </font><font style="vertical-align: inherit;">In this article, we‚Äôll try to figure out whether Kamailio is equated with SBC (Session Border Controller) and if we can use Kamailio as such. </font><font style="vertical-align: inherit;">Let's start with a brief overview of the SIP protocol, the basic functions of SBC and the root causes of this device.</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Session Initiation Protocol (SIP), over the past 10 years, has moved from an experiment by researchers and VoIP enthusiasts to virtually the standard for IP telephony. The progenitor of SIP, as you know, is the HTTP protocol, from which the client-server architecture was inherited. The main elements of a SIP network are: user agent client (UAC), user agent server (UAS), proxy server (proxy server), redirect server (redirect server), registration server (registrar) and location of users (location server). All these elements make up the SIP network, they are described in detail in the SIP specifications, but there is no mention of SBC in these documents.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The term SBC is relatively non-specific, not standardized, and is not officially defined anywhere. </font><font style="vertical-align: inherit;">Nevertheless, it is known to the general public, largely due to active marketing by manufacturers, as an "indispensable" component of a VoIP network.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Since its inception, SBC has been used to perform certain tasks, its feature set has constantly grown and improved as the set of requirements has grown. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In fact, the cause of devices such as SBC was the various design flaws of the SIP protocol. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is important to understand that, despite all the efforts made, the protocol standard is not ideal and there are many reasons for this. </font></font></p><br>
<p>         .       ,    .        . </p><br>
<p>,      SIP    NAT.    -   IETF (  )  ,   IP-           IPv6,      NAT. </p><br>
<p>SIP ,  NAT  ,     . SIP       ,    NAT.      ,     :  NAT. </p><br>
<p>    SIP,         -,             SIP   ,        SIP     .      SIP . </p><br>
<p>   ‚Äî          .  ‚Äî    ,   , ,  ‚Äî      . </p><br>
<p>        ,               ,        ,      .        ,                   IP . </p><br>
<h2 id="i-tak-chto-takoe-sbc"> ,   SBC?</h2><br>
<p>SBC ‚Äî    .     ,             .      SBC   -        . </p><br>
<p> ,      SBC,      .       ,      SBC. ,  SBC   B2BUA. B2BUA ‚Äî  ,    SIP   :    UAC,    , a   ,    .   SBC      SIP. </p><br>
<p>    SBC  <strong>peering</strong>  <strong>access</strong>. </p><br>
<p>   SBC    ,   .    SBC,      ,          (DoS/DDoS),      . SBC     ,    ,        . </p><br>
<p> access  SBC       ( )    /  ( ).     ,    ( ,  ,   ..)     DoS/DDoS .    peering,  access  SBC    REGISTER ,    ,       AoR   SBC.  ,       NAT-.    SBC      (far-end NAT traversal). </p><br>
<h2 id="k-voprosu-o-kamailio">   Kamailio</h2><br>
<p>  Kamailio SBC? . , <strong>Kamailio   SBC</strong>,    . Kamailio ‚Äî  SIP  .     Kamailio   SBC?    ,     :    SBC,    Kamailio SIP ?         ,   ,     . </p><br>
<p>    ,   ,    ‚ÄúKamailio  SBC‚Äù     SIP        +     NAT  .        WebRTC ,   ,        . </p><br>
<p>     ,    Kamailio     : </p><br>
<h2 id="bezopasnost-sip-firewall-secfilter"> (SIP FIREWALL, secfilter)</h2><br>
<p>     ‚Äî     .   ,    VoIP,   24/7.     ,      sip            .</p><br>
<p>         ,           .          . </p><br>
<p> Kamailio    : </p><br>
<p>          (DoS/DDoS),       (bruteforce),      ,          ,          .</p><br>
<p>  Kamailio    IM   ,    . </p><br>
<h2 id="skrytie-topologii-topology-hiding">  (TOPOLOGY HIDING)</h2><br>
<p>     ,         ,       .        B2BUA.</p><br>
<p>Kamailio  ‚Äú‚Äù B2BUA    topoh  topos,         . </p><br>
<p>      ,      Kamailio     SIP ,     ,       ,  .       ,    VoIP  SEMS    sbc,      . </p><br>
<h2 id="registraciya-polzovateley-registrar">  (REGISTRAR)</h2><br>
<p>Kamailio    .    VoIP          ,  Kamailio   .</p><br>
<p> ,         ,     " " (mid registrar),         ""         . </p><br>
<p> ,   OpenSIPs         mid_registrar.  Kamailio  ,  ,   . </p><br>
<h2 id="marshrutizaciya-i-balansirovka-trafika-lcr-drouting-etc">    (LCR, DROUTING, etc)</h2><br>
<p>     SBC.  ,        .  Kamailio        ,  ‚Äú ‚Äù: lcr, carrierroute, drouting, pdt, dispatcher, prefix_route.         ,          IP ,    ,  ,  ,  ,    (lost )   . </p><br>
<h2 id="manipulyaciya-sip-zagolovkami-textops"> SIP  (TEXTOPS)</h2><br>
<p>        SIP ,       ()  .      .     SDP. </p><br>
<h2 id="konvertaciya-protokola-i-razdelenie-setey">    </h2><br>
<p> ,   SIP    , Kamailio     ()   IP- (  , IPv4  IPv6)       SIP (,   UDP  TCP  TLS).</p><br>
<h2 id="obespechenie-raboty-klientov-za-nat-nat-traversal">    NAT (NAT TRAVERSAL)</h2><br>
<p> SBC   access      ,         -   ,    wi-fi  ,       NAT    (server-side NAT traversal).   ,      NAT    (client-side NAT traversal),             (STUN,ICE).  Kamailio  NAT      nathelper,  rport (RFC3581)  rtpengine. </p><br>
<h2 id="media-proksi-rtp-relay">  (RTP RELAY)</h2><br>
<p>Kamailio   SIP        RTP.        .    ,      ,        <strong>rtpengine</strong>. </p><br>
<p> Sipwise   rtpengine   10 .     RTP    . Rtpengine       (kernel mode),     RTP  ,     .       :  SRTP, ICE,    ,       .</p><br>
<p> rtpngine   ,         .    RTP        redis.</p><br>
<h2 id="replikaciya-dannyh-i-otkazoustoychivost">   </h2><br>
<p>         ,   .    Kamailio     dmq,      SIP,        ,    .        ,  :   , ,   ,    (presence). </p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can also use SQL for replication, for example, the db_clusterer module, which is a kind of ‚Äúlayer‚Äù between the modules and the database. </font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In conclusion, I want to return to where I started the article: Kamailio is not SBC, but the functionality that it has, an extensive set of modules, support for REST, RPC, websockets, allow the programmer, and to write a Kamailio script you need some development experience Software, implement almost any scripts and integrations both in the native language, and using KEMI in languages ‚Äã‚Äãsuch as python, lua, javascript.</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en506606/index.html">PIXI.js clicker creation</a></li>
<li><a href="../en506610/index.html">WAL-G: PostgreSQL Database Backups and Recovery</a></li>
<li><a href="../en506612/index.html">How to increase the completeness of massive online courses</a></li>
<li><a href="../en506620/index.html">Creative thinking: what it is, how to measure and increase your potential</a></li>
<li><a href="../en506624/index.html">FOSS News No. 20 - review of free and open source news for June 8-14, 2020</a></li>
<li><a href="../en506628/index.html">The digest of interesting materials for the mobile # 348 developer (on June 8 - 14)</a></li>
<li><a href="../en506632/index.html">Beautiful and detailed geological map of Mars made in Python, GDAL</a></li>
<li><a href="../en506634/index.html">Module Federation in Webpack 5, a plug-in for exchanging modules between Javascript applications, description and example</a></li>
<li><a href="../en506638/index.html">Topological Photonics: How a Mathematical Concept Helps Create Advanced Devices</a></li>
<li><a href="../en506640/index.html">What does pseudo-Scrum in outsourcing start with (a bit of theory and Case Study)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>