<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš£ğŸ¼ ğŸ‘©ğŸ¿â€âœˆï¸ ğŸ’† HandsAppMVP: arsitektur iOS untuk outsourcing pengembangan studio ğŸ‘‹ğŸ» ğŸ†™ ğŸï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kode yang baik dimulai dengan arsitektur, dan aplikasi iOS tidak terkecuali. Ada banyak pola standar, tetapi tujuan artikel ini bukan untuk membicarak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>HandsAppMVP: arsitektur iOS untuk outsourcing pengembangan studio</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503364/"><img src="https://habrastorage.org/webt/01/ch/_7/01ch_7_gicde7x_bhhlzcbhxzzq.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode yang baik dimulai dengan arsitektur, dan aplikasi iOS tidak terkecuali. </font><font style="vertical-align: inherit;">Ada banyak pola standar, tetapi tujuan artikel ini bukan untuk membicarakannya, tetapi tentang pengalaman mengadaptasi salah satunya dan mengembangkan pola Anda sendiri. </font><font style="vertical-align: inherit;">Kami menyebut adaptasi ini HandsAppMVP.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/iy/lv/a8/iylva8cqu4kcrnft2g2ygjvwngy.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam pengembangan iOS, arsitektur utamanya menentukan organisasi kelas dan dependensi untuk satu ViewController tertentu. </font><font style="vertical-align: inherit;">Namun, komponen utama bisa bukan hanya dia, tetapi hanya UIView. </font><font style="vertical-align: inherit;">Pilihannya tergantung pada tugas tertentu.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbandingan arsitektur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa templat arsitektur standar untuk iOS: MVC, MVP, MVVM, VIPER (tautan ke deskripsi masing-masing dapat ditemukan di akhir artikel). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memilih arsitektur untuk pengembangan, kami mengidentifikasi parameter utama yang harus sesuai dengan: kecepatan pengembangan, fleksibilitas, dan ambang masuk yang rendah. Selanjutnya, kami mulai membandingkan tiga arsitektur terkenal dengan parameter-parameter ini dalam pikiran (template komunitas MVC iOS telah lama terkubur karena ketidakpatuhan yang besar dengan tanggung jawab tunggal). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk tim outsourcing, kecepatan pengembangan sangat penting. VIPER adalah arsitektur yang paling kompleks dan "lambat", pengembangan lebih cepat menggunakan MVP atau MVVM murni, karena mereka memiliki lebih sedikit komponen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fleksibilitas berarti penambahan atau penghapusan fungsionalitas yang tidak menyakitkan dalam aplikasi. Parameter ini sangat berkorelasi dengan kecepatan pengembangan di semua tahap umur aplikasi, kecuali untuk yang awal. Fleksibilitas juga terkait erat dengan kesederhanaan pengujian - pengujian otomatis memberi keyakinan pengembang bahwa ia tidak akan memecahkan apa pun, dan membantu menghindari bug. MVP klasik tidak tercakup oleh tes, terutama jika Anda tidak menggunakan antarmuka kelas yang dibahas di bawah ini. MVVM dari sudut pandang pengujian juga memiliki kinerja yang buruk, karena pengujian kode reaktif membutuhkan waktu lebih lama. VIPER sangat bagus untuk menulis tes karena menghormati prinsip tanggung jawab tunggal sebanyak mungkin dan kelas tergantung pada abstraksi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan parameter terakhir yang kami pertimbangkan adalah ambang entri. </font><font style="vertical-align: inherit;">Ini menunjukkan seberapa cepat pengembang baru (pertama-tama, jones) menembus ke dalam arsitektur. </font><font style="vertical-align: inherit;">Di sini MVVM menggunakan perpustakaan reaktif pihak ketiga (RxSwift, PromiseKit, dll.) Mengambil tempat terakhir yang terhormat karena alasan yang jelas. </font><font style="vertical-align: inherit;">VIPER juga merupakan arsitektur yang agak rumit karena banyaknya komponen. </font><font style="vertical-align: inherit;">MVP memiliki ambang masuk terendah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mempertimbangkan pro dan kontra, kami sampai pada kesimpulan bahwa kami membutuhkan sesuatu yang sederhana seperti MVP, dan sefleksibel VIPER. </font><font style="vertical-align: inherit;">Maka lahirlah ide untuk membuat arsitektur sendiri berdasarkan pada mereka - HandsAppMVP.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perluas MVP</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponen utama arsitektur kami adalah Model, View, Presenter. </font><font style="vertical-align: inherit;">Mereka melakukan fungsi yang sama seperti dalam MVP klasik sesuai dengan skema terkenal: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/pv/w0/afpvw04g8ed4z5ekrdfz6srthdi.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Skema MVP klasik]</font></font></i><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Di sini dan di bawah ini, setiap komponen interaksi (kotak biru) dalam diagram adalah kelas yang seumur hidupnya bertepatan dengan masa View. </font><font style="vertical-align: inherit;">Panah padat menunjukkan kepemilikan objek lain, tautan kuat, dan panah putus-putus menunjukkan tautan lemah. </font><font style="vertical-align: inherit;">Dengan referensi yang lemah, kami mencegah ketergantungan sirkuler dan kebocoran memori.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antarmuka</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, kami menambahkan antarmuka ViewInput dan ViewOutput ke skema klasik ini. </font><font style="vertical-align: inherit;">Kami memperhitungkan prinsip kelima SOLID - prinsip inversi ketergantungan. </font><font style="vertical-align: inherit;">Ini lebih cenderung bukan tambahan, tetapi penyempurnaan untuk MVP. </font><font style="vertical-align: inherit;">Ketergantungan pada abstraksi membantu untuk menyingkirkan keterhubungan komponen yang ketat dan memungkinkan Anda untuk menulis tes secara normal. </font><font style="vertical-align: inherit;">Skema dengan mempertimbangkan antarmuka terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nj/1k/kk/nj1kkk-j6gxd9ezng-ypprtow3a.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Menambahkan antarmuka ViewInput dan ViewOutput] Kotak</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kecil adalah antarmuka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengembang yang penuh perhatian akan bertanya, di mana antarmuka untuk Model? </font><font style="vertical-align: inherit;">Sekarang kita beralih ke mereka.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan data</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Model data dalam arsitektur seluler adalah konsep kolektif. Contoh standar: aplikasi mengetuk jaringan untuk berinteraksi dengan server, kemudian menyimpan data di CoreData untuk pekerjaan offline, menulis beberapa informasi sederhana ke UserDefaults dan menyimpan JWT di Keychain. Semua data ini yang sedang berinteraksi dengan membuat Model. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kelas yang bertanggung jawab untuk berinteraksi dengan wadah data dari jenis tertentu, kami sebut layanan data. Untuk setiap kontainer (basis data jarak jauh, basis data lokal, UserDefaults, dll.), Kelas layanan ditambahkan ke HandsAppMVP yang berinteraksi dengan presenter. Sekarang Anda juga dapat menambahkan antarmuka input / output untuk setiap layanan data: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ff/i3/xr/ffi3xrythzbe8w3pwlakmmkpkpk.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Menambahkan layanan untuk bekerja dengan data]</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak setiap kelas layanan perlu terhubung ke presenter menggunakan antarmuka, seperti, misalnya, saat menggunakan Moya. </font><font style="vertical-align: inherit;">Moya adalah perpustakaan jaringan open-source. </font><font style="vertical-align: inherit;">Moya menyediakan kelas layanan siap pakai (MoyaProvider), dan saat menulis tes, kita tidak harus membuat objek tiruan yang menggantikan ApiProvider. </font><font style="vertical-align: inherit;">Moya menyediakan mode uji khusus, ketika dinyalakan, MoyaProvider tidak mengetuk jaringan, tetapi mengembalikan data pengujian (detail lebih lanjut dapat ditemukan di sini). </font><font style="vertical-align: inherit;">Dalam hal ini, presenter tidak merujuk pada abstraksi MoyaProvider, tetapi pada implementasinya. </font><font style="vertical-align: inherit;">Dan kami mendapatkan umpan balik dari layanan ini menggunakan penutupan. </font><font style="vertical-align: inherit;">Contoh implementasi dapat ditemukan di proyek demo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh ini lebih merupakan pengecualian daripada aturan, dan menunjukkan bahwa kepatuhan terhadap SOLID tidak selalu merupakan solusi terbaik.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menganggap navigasi dalam aplikasi sebagai tanggung jawab terpisah. </font><font style="vertical-align: inherit;">HandsAppMVP menggunakan kelas khusus untuk itu - Router. </font><font style="vertical-align: inherit;">Perute berisi tautan yang lemah ke tampilan, yang dengannya ia dapat menampilkan layar baru atau menutup yang sekarang. </font><font style="vertical-align: inherit;">Router juga berinteraksi dengan presenter menggunakan antarmuka RouterInput: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l7/yp/_k/l7yp_kce5hkr1rel_cdcogrt5mw.png" alt="gambar"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Menambahkan komponen untuk navigasi (Router)]</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perakitan komponen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penambahan terakhir ke MVP klasik yang kami gunakan adalah Assembly, kelas kolektor. </font><font style="vertical-align: inherit;">Ini digunakan untuk menginisialisasi View dan komponen lain dari HandsAppMVP, serta untuk mengimplementasikan dependensi. </font><font style="vertical-align: inherit;">Assembly berisi satu-satunya metode publik - `assemble () -&gt; UIViewController`, yang hasilnya adalah UIViewController yang diinginkan (atau UIView) dengan grafik ketergantungan yang diperlukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak akan menampilkan Majelis pada diagram arsitektur, karena tidak terhubung dengan komponen MVP dan siklus masa pakainya berakhir segera setelah dibuat.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembuatan Kode</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menghemat waktu, kami mengotomatiskan proses membuat kelas HandsAppMVP menggunakan Generamba. </font><font style="vertical-align: inherit;">Templat yang digunakan untuk Generamba dapat ditemukan di repositori kami. </font><font style="vertical-align: inherit;">Contoh konfigurasi untuk Generamba ada di proyek demo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasil dari menghasilkan layar tertentu, kami mendapatkan satu set kelas yang cocok dengan skema HandsAppMVP, serangkaian tes unit untuk membuat dan mengimplementasikan komponen, dan kelas template untuk tes presenter.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa yang terjadi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda membandingkan HeadApp to HeadAppAppVVP dan VIPER, Anda akan melihat bahwa mereka sangat mirip dan yang pertama hanya berbeda dalam ketiadaan komponen Interactor. Tetapi, dengan menghilangkan lapisan antara layanan dan saat ini (penghubung), serta menyederhanakan interaksi dengan jaringan menggunakan Moya, kami menerima peningkatan nyata dalam kecepatan pengembangan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menyarankan Anda untuk memperhatikan arsitektur pada tahap desain untuk menghindari kesalahan global, perselisihan dengan pelanggan dan siksaan pengembang di masa depan, dan alih-alih memimpin proses pengembangan secara kompeten dan dapat diprediksi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingatlah bahwa arsitektur apa pun mungkin tidak cocok secara khusus untuk proyek Anda, jadi jangan buru-buru berpegang teguh pada templat yang sudah jadi dan kisah sukses aplikasi mereka. </font><font style="vertical-align: inherit;">Jangan takut untuk mengembangkan dan menerapkan solusi Anda - mereka bisa menjadi lebih berharga dan fleksibel untuk Anda daripada yang sudah jadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai kesimpulan, kami akan merekomendasikan beberapa artikel bagus tentang arsitektur aplikasi iOS yang membantu kami memahami seluk-beluk dan membuat pilihan:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pola arsitektur di iOS</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS Swift: Arsitektur MVP</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analisis arsitektur VIPER pada contoh aplikasi iOS kecil di Swift 4</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menerapkan MVVM di iOS dengan RxSwift</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentasi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open-source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SurfStudio </font><font style="vertical-align: inherit;">
juga sangat membantu dan terinspirasi </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, kami menempatkan tautan pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proyek DEMO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang ditulis dalam HandsAppMVP, yang telah berulang kali kami sebutkan di artikel tersebut.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id503330/index.html">Cara Belajar dari Ilmuwan Data: Keterampilan Teknis Yang Paling Dicari</a></li>
<li><a href="../id503338/index.html">Karya saya untuk Outline 2020</a></li>
<li><a href="../id503342/index.html">Model makroekonomi dan tren paling sederhana dalam dukungan informasi pasar</a></li>
<li><a href="../id503346/index.html">Situs web konferensi didukung oleh Kementerian Serbia</a></li>
<li><a href="../id503358/index.html">3D ML. Bagian 1: Formulir Presentasi Data 3D</a></li>
<li><a href="../id503366/index.html">Mengapa tanda hubung menjadi pertanyaan? Atau masalah dengan pengkodean data dalam SQL</a></li>
<li><a href="../id503368/index.html">Gigantomania: mengapa game modern begitu berat?</a></li>
<li><a href="../id503372/index.html">Ethereum 2.0 dapat ditunda lagi karena kesalahan, masalah dan pesaing</a></li>
<li><a href="../id503380/index.html">Pekerjaan Asinkron di Django dengan Seledri</a></li>
<li><a href="../id503382/index.html">Menyapu berjalan di bidang yang bersih atau cara mengumpulkan alamat MAC dari perangkat Wi-Fi terdekat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>