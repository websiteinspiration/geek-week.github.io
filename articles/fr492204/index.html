<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåë üßòüèº üßòüèΩ Comment contourner les erreurs lors de la cr√©ation de rapports dans Power BI et arriver √† la construction d'un syst√®me de t√©l√©chargement pour les m√©gadonn√©es üöö üë©üèª‚Äçü§ù‚Äçüë®üèΩ üôéüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Derri√®re des tableaux de bord Power BI magnifiques et compr√©hensibles se trouvent souvent des semaines de pr√©paration et d'exploration de donn√©es. Sur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment contourner les erreurs lors de la cr√©ation de rapports dans Power BI et arriver √† la construction d'un syst√®me de t√©l√©chargement pour les m√©gadonn√©es</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/agima/blog/492204/"><img src="https://habrastorage.org/webt/2d/wo/vr/2dwovr1h5boyixwojsztgjctksk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Derri√®re des tableaux de bord Power BI magnifiques et compr√©hensibles se trouvent souvent des semaines de pr√©paration et d'exploration de donn√©es. </font><font style="vertical-align: inherit;">Surtout quand il s'agit de cr√©er des rapports BI utiles dans une grande organisation avec un volume de trafic de dizaines de millions de visiteurs chaque mois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je veux d√©crire un certain nombre d'aspects n√©gatifs que j'ai rencontr√©s lors de la cr√©ation de rapports BI bas√©s sur les donn√©es de syst√®mes d'analyse Web dans un certain nombre d'entreprises (grands repr√©sentants du commerce √©lectronique russe, compagnies d'assurance, etc.). </font><font style="vertical-align: inherit;">L'article n'a pas pour but de faire de l'anti-publicit√©, ou vice versa, la publicit√© de certains outils ou d√©cisions. </font><font style="vertical-align: inherit;">Il est pr√©par√© afin d'aider √† √©viter d'√©ventuels moments n√©gatifs pour les autres utilisateurs et indiquer les options de solutions.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je parle de grandes quantit√©s de donn√©es et montre des exemples de t√©l√©chargement et d'√©chantillonnage √† partir de Google Analytics 360. Sur les projets avec une petite quantit√© de donn√©es, de telles difficult√©s peuvent ne pas exister. </font><font style="vertical-align: inherit;">J'ai rencontr√© tous les probl√®mes identifi√©s dans la pratique et dans l'article, je ne d√©cris que mon exp√©rience en r√©solution - la v√¥tre peut √™tre compl√®tement diff√©rente.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connecteur vers Yandex.Metrica</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Metrica a des conditions d'√©chantillonnage plus douces et une interface intuitive par rapport √† Google Analytics. Par cons√©quent, de nombreux sp√©cialistes du marketing pr√©f√®rent Yandex.Metrica et cr√©ent des rapports BI sur le t√©l√©chargement de donn√©es √† partir de l√†. Pour ce faire, utilisez le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">connecteur de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Maxim Uvarov. Cette m√©thode n'est pas s√ªre et ne permet pas de traiter des demandes complexes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les grandes entreprises ont besoin d'une garantie que les informations confidentielles ne tomberont pas entre les mains des d√©tracteurs, et les indicateurs financiers ne seront utilis√©s que pour les parties prenantes et exclusivement au sein de l'entreprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier gros inconv√©nient est que pour utiliser le connecteur, dans Power BI, vous devez activer le param√®tre "Ignorer les niveaux de confidentialit√©", sinon cela ne fonctionnera tout simplement pas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/pg/eb/typgebof8euu4d6s2pgljyfqs4k.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, les donn√©es confidentielles peuvent tomber entre les mains de tout utilisateur non autoris√©. Cela est confirm√© par un extrait de l'aide de Power BI. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/2j/86/xd2j860l6kp0j7wuswlge0jor3u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La connexion de donn√©es est anonyme. Cependant, il n'y a aucune autorisation ou v√©rification de l'autorisation d'utiliser ces donn√©es pour les utilisateurs qui sont vraiment autoris√©s √† le faire. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/b3/dn/gdb3dni9wi_kxd27btthfhuk5h0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que ces connecteurs fonctionnent, vous devez obtenir un jeton d'acc√®s OAUTH. La description du connecteur fournit un lien sur la fa√ßon de donner √† l'application l'acc√®s √† votre compte. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/nq/gx/-ynqgxssteulef1kedj3smcflkk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, une application tierce aura acc√®s √† votre compte. Personne ne garantit la s√©curit√© de vos donn√©es.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tm/ux/23/tmux237gyybnovyelwetareee4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxi√®me inconv√©nient est que l'API Yandex.Metrica ne peut pas traiter de grandes quantit√©s de donn√©es sur de grands projets et, par cons√©quent, le connecteur refuse √©galement de travailler avec des requ√™tes complexes sur des donn√©es Yandex.Metrica brutes - il ne les d√©charge pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous devez t√©l√©charger des donn√©es pendant un an, sans aucun filtre complexe. Le connecteur renvoie une erreur: ¬´La demande est trop complexe. Veuillez r√©duire l'espacement des dates ou l'√©chantillonnage. " </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xs/vx/fi/xsvxfi4zsihgayia1fo87_pbj88.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, il s'agit d'une traduction de l'erreur de l'API Yandex.Metrica elle-m√™me. Cependant, dans ce cas, nous n'avons pas le choix de t√©l√©charger des donn√©es avec une ventilation par mois ou par jour - par exemple, pour faire un cycle de donn√©es pour chaque mois et les combiner en un seul ensemble de donn√©es surmontant une erreur d'API. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous r√©duisez consid√©rablement la p√©riode, l'API vous permet de pomper des donn√©es, mais ce n'est qu'une petite partie de ce dont nous avons besoin.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/gd/6q/xdgd6qonfgcyjthxhjj65_ophyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cr√©er des rapports volumineux, le d√©chargement pour de courtes p√©riodes est peu pratique et peu pratique. </font><font style="vertical-align: inherit;">En pratique, vous avez souvent besoin de d√©charger via des entonnoirs complexes pour sites ouverts avec un grand nombre de visites par jour. </font><font style="vertical-align: inherit;">Surtout lors de l'utilisation de segments de visites complexes, il est pratiquement impossible de t√©l√©charger les donn√©es n√©cessaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me si vous avez pu charger les donn√©es, ce n'est pas un fait qu'il sera possible de t√©l√©charger vers le mod√®le de donn√©es pour cr√©er le rapport lui-m√™me, car diverses erreurs de chargement apparaissent de temps en temps. </font><font style="vertical-align: inherit;">Pour une raison quelconque, m√™me avec une table normalement charg√©e, des erreurs se produisent.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/9d/u8/wk9du8sdgpdqe1gb7cr-n2uk6_8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que toutes les parties prenantes de l'entreprise puissent utiliser le rapport bas√© sur le connecteur API Yandex.Metrica, vous devez publier le rapport dans PowerBI Service. </font><font style="vertical-align: inherit;">Dans ce cas, les niveaux de confidentialit√© devront √©galement √™tre ignor√©s.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/dg/i8/qcdgi8gck0lkcdp-t--vedkmuiw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque la visualisation est configur√©e et que le rapport est publi√© dans le cloud Microsoft, le connecteur affichera une erreur de requ√™te combin√©e et ne sera pas mis √† jour via le service Power BI - vous ne pourrez pas configurer la mise √† jour planifi√©e de votre rapport. L'erreur se produit lorsque l'une des requ√™tes, qui forme la table de t√©l√©chargement finale, contient la logique du travail simultan√© avec la requ√™te externe et interne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'erreur, la </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ci/rt/0-cirtjh6ifdkpe-ajduldxstsc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
table </font><font style="vertical-align: inherit;">¬´Fonction appel√©e¬ª </font><font style="vertical-align: inherit;">est </font><font style="vertical-align: inherit;">juste indiqu√©e: </font><font style="vertical-align: inherit;">Cette table est obtenue gr√¢ce √† la fonction PQYM, qui fonctionne avec une source de donn√©es externe - l'API Yandex.Metrica. Le m√©canisme de mise √† jour des rapports dans Power BI ne fonctionne pas et demande de refaire la combinaison de requ√™tes. Cela est d√ª aux liens internes d'une demande de connexion √† une demande externe, ainsi qu'√† la structure de la fonction elle-m√™me.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/lv/mb/vvlvmbnqatqohghiivpcofsgxze.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√©cid√© de ne pas utiliser un tel connecteur lors de la cr√©ation de rapports et sommes pass√©s au d√©chargement des donn√©es de l'API Yandex.Metrica via des scripts Python, plus √† ce sujet plus loin dans l'article.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connecteur Google Analytics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cr√©er des rapports sur les donn√©es de Google Analytics (nous parlons de t√©l√©chargement direct √† partir du syst√®me d'analyse), il existe √©galement un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">connecteur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Maxim Uvarov. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, vous devrez √©galement d√©finir ¬´Ignorer les niveaux de confidentialit√©¬ª. L'acc√®s √† l'API de votre syst√®me d'analyse, qui contient des donn√©es sur les ventes en ligne, se fait via une connexion anonyme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/ke/x1/pwkex1vkvifxlkqne2kbvo0pvsy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les instructions, vous devrez √† nouveau ouvrir l'acc√®s √† une application tierce, uniquement pour un compte Google, qui contient une menace pour la confidentialit√© de vos donn√©es. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/qr/0f/zxqr0fyqjpqp_6umz9y_o5_i83a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez r√©√©crire certaines donn√©es dans le connecteur lui-m√™me et commencer √† les utiliser pour votre propre application. Pour ce faire, enregistrez ¬´ID client OAuth 2.0¬ª sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud.google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, obtenez des jetons d'acc√®s et entrez les cl√©s d'acc√®s n√©cessaires dans son m√©canisme de travail. Mais m√™me ces actions ne vous aideront pas dans la lutte contre l'√©chantillonnage et la mise √† jour de vos rapports. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque fois que vous touchez les donn√©es agr√©g√©es de l'API Google Analytics, nous rencontrons toujours un √©chantillonnage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le connecteur a la possibilit√© de d√©charger un jour, mais m√™me il ne sauvegarde pas toujours. L'indicateur d'√©chantillonnage int√©gr√© au connecteur montre qu'il est l√† m√™me en une journ√©e. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/kj/5l/dkkj5lp-e3zi8drcbylxc1hzmjk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, les donn√©es de session ventil√©es par Shopping Stage ne peuvent pas √™tre t√©l√©charg√©es sans √©chantillonnage sur de telles quantit√©s de donn√©es. Cela entra√Ænera de grandes erreurs dans les donn√©es et les mesures lors de la cr√©ation de rapports, en particulier lorsqu'il est n√©cessaire de calculer avec pr√©cision la conversion de la transition d'une √©tape √† l'autre, ou de t√©l√©charger des donn√©es sur des entonnoirs avec une structure complexe de segments.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me si la perte de donn√©es n'est pas critique pour vous, vous ne pouvez toujours pas configurer la mise √† jour planifi√©e de vos rapports via le service Power BI. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/5q/61/sh5q61niklucdiieoedjfltnp3c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√™me erreur du m√©canisme de travail interf√®re, seules les fonctions PQGA.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/k0/ft/uy/k0ftuyqfzkqptqvupuotawgo1my.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons √©galement refus√© de travailler avec ce connecteur.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connecteur natif Google Analytics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parfois, Google et Microsoft se font des concessions: Power BI pr√™t √† l'emploi dispose d'un connecteur Google Analytics standard. </font><font style="vertical-align: inherit;">Malheureusement, il n'y a pas une telle option pour Yandex.Metrica.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xl/hk/po/xlhkpo-a4h95gz-nksi6ws_613k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le m√©canisme de travail avec l'API Google Analytics est plus facilement mis en ≈ìuvre ici que dans le connecteur de Maxim Uvarov, mais lors du t√©l√©chargement d'un grand nombre d'indicateurs, les donn√©es sont trop √©chantillonn√©es. </font><font style="vertical-align: inherit;">Les nombres r√©p√©t√©s dans la capture d'√©cran sont les donn√©es √©chantillonn√©es.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/ba/n_/lwban_daksuitnrmfw5sihfjqpm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©viter l'√©chantillonnage si vous d√©chargez des mini-tableaux ventil√©s uniquement par date et par n'importe quel indicateur. Par exemple, la date, le nombre de sessions et le type d'appareil. Et puis √† partir de ces tableaux pour collecter les rapports n√©cessaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous n'avez pas des millions de trafic, cela peut vous aider. Cependant, les rapports ne seront pas informatifs et avec des limites d'√©volutivit√©: en raison des nombreuses mini-tables dans le mod√®le de donn√©es, il est difficile de cr√©er des relations entre elles. Cela impose une restriction sur la cr√©ation de filtres et de tranches. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez r√©√©crire le connecteur standard et le forcer √† t√©l√©charger des donn√©es pour chaque jour, tandis que les donn√©es seront proches des vrais chiffres dans l'interface GA, mais vous ne pourrez pas √©viter l'√©chantillonnage.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/br/oc/fg/brocfgwihu2rpcqfjrdmhsvbsdc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon mes observations, lors de la r√©partition des sessions Shopping Stage, pas un seul connecteur n'a pu normalement t√©l√©charger des donn√©es sans √©chantillonner de grandes quantit√©s de donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le connecteur standard, vous ne pouvez pas personnaliser les dates de t√©l√©chargement. </font><font style="vertical-align: inherit;">Tout ce qui est simplement une s√©lection de param√®tres et de m√©triques √† partir des API Google Analytics dispos√©es dans des dossiers.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/he/_n/tt/he_ntt6qogkz6vm-3mjnbmn0rya.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce connecteur convient aux projets Internet de petite et moyenne taille avec peu de trafic. </font><font style="vertical-align: inherit;">Ici, une situation similaire se pr√©sente avec l'obtention de donn√©es aupr√®s de Yandex.Metrica. </font><font style="vertical-align: inherit;">Toutes les informations n√©cessaires sans perte de pr√©cision ne peuvent √™tre t√©l√©charg√©es directement via l'API qu'√† l'aide de scripts ou de services de streaming de donn√©es sp√©ciaux - plus d'informations √† ce sujet plus loin dans l'article.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sticks in Wheels par Google</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©cemment, nous avons remarqu√© un verrou √©trange - lors de la tentative de configuration de la mise √† jour du connecteur "natif" de Google Analytics, une erreur d'autorisation est apparue via un compte Google dans l'interface du service Power BI. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/wt/yr/o0wtyrw-caxzwahcpjjb_pgfrbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons essay√© de savoir ce que Google devait faire dans une telle situation et comment ¬´blanchir¬ª la r√©putation du compte, mais nos tentatives ont √©chou√©. Nous avons essay√© d'enregistrer de nouveaux comptes et de nous connecter via diff√©rents appareils - Google a bloqu√© toute tentative d'autorisation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Environ un mois apr√®s le blocage, nous avons toujours r√©ussi √† nous connecter via le m√™me compte, mais un tel incident peut consid√©rablement interf√©rer avec la publication des rapports de BI n√©cessaires √† temps et mettre le client dans une position d√©licate. </font><font style="vertical-align: inherit;">Imm√©diatement apr√®s l'√©cluse, nous avons commenc√© √† chercher une issue possible √† la situation. </font><font style="vertical-align: inherit;">Pour √©viter les verrous inattendus, nous avons d√©cid√© de cr√©er notre propre environnement contr√¥l√© avec les donn√©es n√©cessaires pour les rapports BI.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de solution</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obtenez les rapports BI n√©cessaires pour les moyennes et grandes organisations, et m√™me sans √©chantillonnage est possible. </font><font style="vertical-align: inherit;">Mais vous devez essayer un peu et choisir l'une des diff√©rentes fa√ßons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez utiliser des services pr√™ts √† l'emploi pour diffuser des donn√©es. </font><font style="vertical-align: inherit;">Leur objectif principal est de t√©l√©charger des donn√©es du syst√®me d'analyse, de divers syst√®mes de publicit√©, de CRM et d'autres services vers n'importe quel stockage. </font><font style="vertical-align: inherit;">Pratique, rapide et pratique, mais pas gratuit. </font><font style="vertical-align: inherit;">Sur de gros volumes de donn√©es ou des donn√©es avec plusieurs sources, les montants sont tangibles. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les services les plus connus:</font></font></b><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renta.im</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pipeline OWOX BI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myBI Connect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chacun de ces syst√®mes vous permet de configurer la diffusion quotidienne de donn√©es non √©chantillonn√©es √† partir de syst√®mes d'analyse Web (Yandex.Metrics et Google Analytics) vers des bases de donn√©es (par exemple, BigQuery, Azure SQL Database, Microsoft SQL Server ou ClickHouse) pour la connexion via Power BI et la cr√©ation de rapports. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si les outils r√©pertori√©s sont trop chers pour l'entreprise, vous pouvez essayer d'impl√©menter votre syst√®me de t√©l√©chargement de donn√©es et utiliser Power BI + Python + Any Cloud Server (ou Yandex.Cloud) + PostgreSQL. Il s'agit de la m√©thode que nous utilisons lors de la cr√©ation de rapports BI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sch√©ma d'interaction du syst√®me:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kb/iu/um/kbiuumx6q6a_k5wxdq1g78ukehg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un tel sch√©ma de travail assure la conservation, l'autonomie et l'agr√©gation des donn√©es n√©cessaires. Apr√®s avoir √©tabli un tel sch√©ma une fois, vous n'aurez pas besoin de passer du temps √† collecter des informations - tout est dans le r√©f√©rentiel, il vous suffit de vous connecter et de commencer √† cr√©er un rapport sur Power BI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les scripts Python ¬´tirent¬ª toutes les donn√©es selon l'API des sources n√©cessaires, √©crivent dans la base de donn√©es ou d√©chargent les formulaires (par exemple, au format csv). Les scripts pour le t√©l√©chargement √† partir de l'API et le chargement dans la base de donn√©es m√©ritent un article s√©par√©, et un jour je l'√©crirai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, il existe de nombreux mod√®les et solutions pr√™tes √† l'emploi sur Internet, mais pour une mise √† l'√©chelle suppl√©mentaire, il est n√©cessaire de conna√Ætre les besoins individuels du syst√®me sous lequel les scripts de d√©chargement sont cr√©√©s.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les donn√©es sont √©crites dans une base de donn√©es pr√©-cr√©√©e et configur√©e - dans notre cas, PostgreSQL. </font><font style="vertical-align: inherit;">Les scripts pompent des donn√©es pour chaque jour et les √©crivent dans des tableaux selon un calendrier. </font><font style="vertical-align: inherit;">Ils sont situ√©s sur un serveur cloud sous notre contr√¥le ou sous le contr√¥le du service de s√©curit√© informatique du client. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un grand nombre d'entreprises qui fournissent des services de stockage cloud. </font><font style="vertical-align: inherit;">En fonction de vos pr√©f√©rences personnelles, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Cloud a</font></a><font style="vertical-align: inherit;"> √©t√© s√©lectionn√© </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avantages de Yandex.Cloud:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration pratique et location de serveurs avec PostgreSQL pr√©install√©.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une documentation compl√®te en russe, qui est clairement indiqu√©e et vous permet d'apprendre rapidement √† utiliser le service. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion de serveur pratique.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Support rapide de sp√©cialistes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flexibilit√© des diff√©rents r√©glages et tarifs des √©quipements: personne n'impose de packages de configuration pr√™ts √† l'emploi, vous choisissez vous-m√™me la configuration de vos √©quipements, et vous pouvez imm√©diatement commander le preset de n'importe quelle base de donn√©es.</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yt/f6/_-/ytf6_-9xrfcobvmfbwaajwyl8bm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les t√©l√©chargements r√©sultants sont √©crits dans la base de donn√©es PostgreSQL. </font><font style="vertical-align: inherit;">Cette base de donn√©es a √©t√© choisie car il s'agit d'un SGBD relationnel objet (fonctionnant avec des tableaux multidimensionnels et le support JSON de la ¬´bo√Æte¬ª - pour les structures de donn√©es complexes doivent avoir). </font><font style="vertical-align: inherit;">Il est flexible, fiable, gratuit et dispose √©galement d'une √©norme communaut√© de support. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BI dispose d'un connecteur direct int√©gr√© dans PostgreSQL. </font><font style="vertical-align: inherit;">Lors de la premi√®re connexion, vous devez installer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Npgsql</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suppl√©mentaire </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Power BI vous en informe et fournit un lien.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/n_/wf/jun_wfcjtsnm0khj3wf9pzj8h2s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour configurer les mises √† jour de rapports lors de l'utilisation du stockage cloud, vous devez configurer la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passerelle Power BI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il est n√©cessaire de configurer la mise √† jour des rapports BI et d'assurer la s√©curit√© des donn√©es confidentielles lors de leur transfert √† partir d'une base de donn√©es, qui doit √™tre situ√©e dans le circuit informatique interne de votre organisation, ou sur un serveur cloud s√©curis√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La passerelle permet un transfert de donn√©es rapide et s√©curis√© entre les magasins de donn√©es situ√©s sur le r√©seau interne de l'organisation et les services cloud Microsoft. Le transfert de donn√©es entre Power BI et la passerelle est s√©curis√©, et toutes les informations d'identification fournies par les administrateurs de la passerelle sont crypt√©es pour prot√©ger les informations dans le cloud et sont d√©crypt√©es uniquement sur l'ordinateur de la passerelle.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/hd/re/mmhdrebvglgmfz1zfbncjck835w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir t√©l√©charg√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI Gateway</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l'avoir lanc√©, une bo√Æte de dialogue appara√Æt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/or/q7/4z/orq74zn_gyemebomwqxzfxcwkfu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour enregistrer et utiliser la passerelle, les informations d'identification du service cloud Power BI Service sont requises.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4z/pq/ft/4zpqft8l1urixndm8dfndrrje4s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s tous les param√®tres, une fen√™tre sur la passerelle de travail appara√Ætra. </font><font style="vertical-align: inherit;">Ensuite, vous devez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finir des param√®tres suppl√©mentaires.</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/mb/t2/swmbt2b7ldkzf42k56px-ucc4re.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une alternative plus simple √† la personnalisation de PostgreSQL est Google BigQuery. </font><font style="vertical-align: inherit;">Power BI dispose d'un connecteur int√©gr√© dans Google BigQuery. </font><font style="vertical-align: inherit;">Dans ce cas, il est n√©cessaire de suivre le principe "sept fois pour calculer le co√ªt, une fois pour r√©pondre √† la demande".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3m/gv/7a/3mgv7a-1zf0i3g8oxj-jiabgke4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BigQuery peut √™tre utilis√© gratuitement pendant un an, simplement en attachant une carte bancaire sur accord pour utiliser le service. </font><font style="vertical-align: inherit;">L'argent apr√®s la date limite √† votre insu ne sera pas d√©bit√©. </font><font style="vertical-align: inherit;">Tarification suppl√©mentaire - selon les tarifs du syst√®me lui-m√™me, mais avec quelques "avantages" agr√©ables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si les donn√©es t√©l√©charg√©es de vos syst√®mes n'atteignent pas 10 Go par mois (!), Le t√©l√©chargement ne sera pas factur√©.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bg/il/hj/bgilhj19p3rswgrnp5co7lw75dq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le traitement mensuel des donn√©es ne d√©passe pas 1 To, aucun frais ne sera factur√© non plus. </font><font style="vertical-align: inherit;">Si plus, alors 5 $ pour chaque traitement 1 To.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ff/gk/4l/ffgk4l0whznxxacywqupqmuht1i.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous devez stocker plus de 10 Go par mois, chaque gigaoctet suivant co√ªtera 0,010 $.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/bn/7z/lhbn7zv038ot99ogeahedobx5bc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tarifs sont d√©crits plus en d√©tail sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la page BigQuery.</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sommaire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez besoin de donn√©es provenant de divers syst√®mes d'analyse, et en m√™me temps, la s√ªret√©, la s√©curit√©, l'agr√©gation continue, la convivialit√© et le manque d'√©chantillonnage sont fondamentaux pour vous, vous avez deux fa√ßons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier est les services de streaming. </font><font style="vertical-align: inherit;">Ils sont faciles √† utiliser, ils ont un support technique continu et une int√©gration pr√™te √† l'emploi avec les entrep√¥ts de donn√©es. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©savantages:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Co√ªts tangibles sur de grandes quantit√©s de donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Type d'int√©gration limit√© fourni.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processus non contr√¥l√©s du c√¥t√© du fournisseur de services de streaming pour travailler avec vos informations.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le second est son propre flux de t√©l√©chargement et d'agr√©gation de donn√©es. √âvolutif, contr√¥l√©, avec s√©curit√© des donn√©es. Il peut sembler compliqu√© et long √† mettre en ≈ìuvre. Si l'entreprise a besoin d'une organisation efficace du reporting BI, de son √©volutivit√© et de la s√©curit√© des donn√©es suppl√©mentaires, cette option est la plus acceptable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ceux qui pensent simplement √† un reporting BI √† part enti√®re doivent ajouter la devise ¬´Accumuler, structurer et prot√©ger ces donn√©es contre les jeunes¬ª dans la culture d'entreprise. Il n'y a rien de mieux qu'une base de donn√©es √† part enti√®re √† haute tol√©rance aux pannes avec une sauvegarde r√©guli√®re et avec des droits diff√©renci√©s pour l'utiliser pour diff√©rentes cat√©gories de parties prenantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est n√©cessaire d'accumuler, de structurer et d'agr√©ger vos donn√©es √† partir de syst√®mes d'analyse, d'une application mobile et d'autres services clients. </font><font style="vertical-align: inherit;">Tout cela √† l'avenir vous aidera √† analyser √† la fois votre audience et vos produits dans toutes les sections. </font><font style="vertical-align: inherit;">Les informations et les donn√©es dominent d√©sormais le monde et co√ªtent parfois plus cher que l'argent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment impl√©menter l'approche d√©crite dans l'article pour transf√©rer des donn√©es d'analyse vers une base de donn√©es PostgreSQL √† l'aide de scripts Python et des d√©tails d'impl√©mentation, je vais discuter dans les articles suivants.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492190/index.html">Russian SaaS 2019 - r√©sultats</a></li>
<li><a href="../fr492192/index.html">√Ä la recherche de l'excellence de poche</a></li>
<li><a href="../fr492194/index.html">Rencontrez un gars qui vend des appareils sans fil pour voler rapidement des voitures de luxe</a></li>
<li><a href="../fr492200/index.html">Automatisation des tests: Java ou Python?</a></li>
<li><a href="../fr492202/index.html">–ö–æ—Ä–æ–Ω–∞–≤–∏—Ä—É—Å COVID-19: —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã, –±–µ–∑ –ø–∞–Ω–∏–∫–∏</a></li>
<li><a href="../fr492210/index.html">Pr√©sentation technique de l'architecture de stockage Infinidat</a></li>
<li><a href="../fr492212/index.html">D√©veloppement frontend de portails sur des logiciels open source: partager l'exp√©rience</a></li>
<li><a href="../fr492214/index.html">Pourquoi vaut-il la peine de faire des r√©unions en marchant? Prouv√© par la science, confirm√© par la mafia</a></li>
<li><a href="../fr492216/index.html">Enregistrement de valeurs dans une application .Net au stade de la cr√©ation</a></li>
<li><a href="../fr492218/index.html">R√®gles de conception d'ic√¥nes √† retenir</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>