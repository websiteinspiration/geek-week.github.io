<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💥 🙍🏻 ☯️ Menavigasi antara tampilan menggunakan @EnvironmentObject di SwiftUI 👨🏼‍🚒 🖨️ 💅🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel ini disiapkan pada malam peluncuran kursus lanjutan "Pengembang iOS" .
 
 
 
 Halo dan selamat datang di tutorial kami! Dalam seri ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Menavigasi antara tampilan menggunakan @EnvironmentObject di SwiftUI</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/501378/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terjemahan artikel ini disiapkan pada malam peluncuran kursus lanjutan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pengembang iOS"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/dy/nh/af/dynhaf1v_qvyw2xcskvtvn3aesa.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Halo dan selamat datang di tutorial kami! </font><font style="vertical-align: inherit;">Dalam seri ini, kita berbicara tentang cara menavigasi antara tampilan di SwiftUI (tanpa menggunakan tampilan navigasi!). </font><font style="vertical-align: inherit;">Meskipun ide ini mungkin tampak sepele, tetapi dengan memahaminya sedikit lebih dalam, kita dapat belajar banyak tentang konsep aliran data yang digunakan dalam SwiftUI. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada bagian sebelumnya,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami belajar cara menerapkan ini menggunakan </font></font><code>@ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pada bagian ini, kita akan melihat bagaimana melakukan hal yang sama, tetapi lebih efisien menggunakan @EnvironmentObject. </font><font style="vertical-align: inherit;">Kami juga akan menambahkan animasi transisi kecil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang akan kita capai:</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browser Anda tidak mendukung video HTML5.</font></font><source src="https://blckbirds.com/wp-content/uploads/2020/02/NavigatinP2Preview.mp4" type="video/mp4"></video></div></div></div><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa yang kita miliki</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jadi, kami baru tahu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cara menavigasi antara tampilan yang berbeda menggunakan ObservableObject. </font><font style="vertical-align: inherit;">Singkatnya, kami membuat ViewRouter dan mengaitkannya dengan Tampilan Ibu dan Tampilan Konten kami. </font><font style="vertical-align: inherit;">Selanjutnya, kita cukup memanipulasi properti CurrentRage ViewRouter dengan mengklik tombol Content View. </font><font style="vertical-align: inherit;">Setelah itu, MotherView diperbarui untuk menampilkan Tampilan Konten yang sesuai! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi ada cara kedua yang lebih efisien untuk mencapai fungsi ini: gunakan </font></font><code>@EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petunjuk: Anda dapat mengunduh perkembangan terbaru di sini (ini adalah folder "NavigateInSwiftUIComplete")</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengapa menggunakan </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bukanlah solusi terbaik</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin bertanya-tanya: mengapa kita harus menerapkan ini dengan cara lain, ketika kita sudah memiliki solusi yang berfungsi? Nah, jika Anda melihat logika hierarki aplikasi kami, maka itu akan menjadi jelas bagi Anda. MotherView kami adalah tampilan root yang menginisialisasi instance ViewRouter. Dalam MotherView, kami juga menginisialisasi ContentViewA dan ContentViewB, melewati mereka contoh ViewRouter sebagai BindableObject.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, kita harus mengikuti hierarki ketat yang melewati hilir ObservableOb yang diinisialisasi ke semua subview. Sekarang ini tidak begitu penting, tetapi bayangkan aplikasi yang lebih kompleks dengan banyak pandangan. Kita selalu perlu melacak transmisi tampilan root yang dapat diobservasi yang diinisialisasi ke semua subview dan semua subview subview, dll., Yang pada akhirnya bisa menjadi tugas yang agak membosankan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ij/ps/on/ijpson_0gvwhatcpzyosh2eacaq.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk meringkas: menggunakan clean </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bisa menjadi masalah ketika datang ke hierarki aplikasi yang lebih kompleks.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai gantinya, kita dapat menginisialisasi ViewRouter ketika aplikasi dimulai sehingga semua tampilan dapat terhubung langsung ke instance ini, atau, lebih tepatnya, menontonnya, terlepas dari hierarki aplikasi. </font><font style="vertical-align: inherit;">Dalam hal ini, instance ViewRouter akan terlihat seperti awan yang terbang di atas kode aplikasi kita, yang semua akses secara otomatis mengakses tanpa khawatir tentang rantai inisialisasi yang benar di hierarki tampilan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini hanya pekerjaan </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font></h3><br>
<code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adalah model data yang, setelah inisialisasi, dapat bertukar data dengan semua representasi aplikasi Anda. Apa yang sangat baik adalah apa yang </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diciptakan dengan menyediakan </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sehingga kita dapat menggunakan milik kita </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk membuat </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera setelah kami menyatakan milik kami </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, semua representasi dapat dilampirkan padanya dengan cara yang sama seperti yang biasa </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi tanpa perlu rantai inisialisasi ke hierarki aplikasi! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang telah disebutkan, ini </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">harus sudah diinisialisasi saat pertama kali diakses. Karena properti kita </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sebagai tampilan root, akan melihat properti </font></font><code>CurrentPage</code> <code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita harus menginisialisasi </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketika aplikasi dimulai. Kemudian kita dapat secara otomatis mengubah Halaman saat ini</font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang kemudian memanggil </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendering ulang.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ew/fr/9l/ewfr9lhz0xqhodfe5obumjykzoe.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementasi </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai</font></font><code>EnvironmentObject</code></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, mari perbarui kode aplikasi kita! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, ubah pembungkus properti </font></font><code>viewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di dalamnya </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dari </font></font><code>@ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjadi </font></font><code>@EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> SwiftUI<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MotherView</span> : <span class="hljs-title">View</span> </span>{<font></font>
@<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> viewRouter: <span class="hljs-type">ViewRouter</span>
<span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
<span class="hljs-comment">//...</span><font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Properti </font></font><code>viewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sekarang mencari </font></font><code>ViewRouter-EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Karena itu, kita perlu menyediakan struktur kita </font></font><code>MotherView_Previews</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan contoh yang sesuai:</font></font><br>
<br>
<pre><code class="swift hljs">#<span class="hljs-keyword">if</span> <span class="hljs-type">DEBUG</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MotherView_Previews</span> : <span class="hljs-title">PreviewProvider</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> previews: some <span class="hljs-type">View</span> {
        <span class="hljs-type">MotherView</span>().environmentObject(<span class="hljs-type">ViewRouter</span>())<font></font>
    }<font></font>
}<font></font>
#endif</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti disebutkan di atas - ketika memulai aplikasi kita, itu harus segera disediakan dengan contoh </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam kualitas </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, karena </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sekarang disebut sebagai representasi root </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Oleh karena itu, perbarui fungsi adegan di dalam file </font></font><code>SceneDelegage.swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai berikut:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">scene</span><span class="hljs-params">(<span class="hljs-number">_</span> scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions)</span></span> {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> windowScene = scene <span class="hljs-keyword">as</span>? <span class="hljs-type">UIWindowScene</span> {
            <span class="hljs-keyword">let</span> window = <span class="hljs-type">UIWindow</span>(windowScene: windowScene)<font></font>
            window.rootViewController = <span class="hljs-type">UIHostingController</span>(rootView: <span class="hljs-type">MotherView</span>().environmentObject(<span class="hljs-type">ViewRouter</span>()))
            <span class="hljs-keyword">self</span>.window = window<font></font>
            window.makeKeyAndVisible()<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hebat, sekarang ketika Anda memulai aplikasi, SwiftUI membuat instance </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam kualitas </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang mana semua tampilan aplikasi kita sekarang dapat dilampirkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, mari perbarui kami </font></font><code>ContentViewA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ubah </font></font><code>viewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propertinya ke </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan juga perbarui struktur </font></font><code>ContentViewA_Previews</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> SwiftUI<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentViewA</span> : <span class="hljs-title">View</span> </span>{<font></font>
    <font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> viewRouter: <span class="hljs-type">ViewRouter</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
       <span class="hljs-comment">//...</span><font></font>
    }<font></font>
}<font></font>
#<span class="hljs-keyword">if</span> <span class="hljs-type">DEBUG</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentViewA_Previews</span> : <span class="hljs-title">PreviewProvider</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> previews: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ContentViewA</span>().environmentObject(<span class="hljs-type">ViewRouter</span>())<font></font>
    }<font></font>
}<font></font>
#endif<font></font>
</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petunjuk: Sekali lagi, struktur </font></font><code>ContentViewsA_Previews</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memiliki turunannya sendiri </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi </font></font><code>ContentViewA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dikaitkan dengan turunan yang dibuat ketika aplikasi diluncurkan! </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita ulangi ini untuk </font></font><code>ContentViewB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> SwiftUI<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentViewB</span> : <span class="hljs-title">View</span> </span>{<font></font>
    <font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> viewRouter: <span class="hljs-type">ViewRouter</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-comment">//...</span><font></font>
    }<font></font>
}<font></font>
#<span class="hljs-keyword">if</span> <span class="hljs-type">DEBUG</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentViewB_Previews</span> : <span class="hljs-title">PreviewProvider</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> previews: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ContentViewB</span>().environmentObject(<span class="hljs-type">ViewRouter</span>())<font></font>
    }<font></font>
}<font></font>
#endif</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena properti </font></font><code>viewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sekarang terkait langsung dengan / mengamati instance awal </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kita tidak perlu lagi menginisialisasi mereka di properti kita </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jadi, mari perbarui </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MotherView</span> : <span class="hljs-title">View</span> </span>{<font></font>
    <font></font>
    @<span class="hljs-type">EnvironmentObject</span> <span class="hljs-keyword">var</span> viewRouter: <span class="hljs-type">ViewRouter</span><font></font>
    <font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> { 
        <span class="hljs-type">VStack</span> {
            <span class="hljs-keyword">if</span> viewRouter.currentPage == <span class="hljs-string">"page1"</span> {
                <span class="hljs-type">ContentViewA</span>()<font></font>
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> viewRouter.currentPage == <span class="hljs-string">"page2"</span> {
                <span class="hljs-type">ContentViewB</span>()<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini luar biasa: kita tidak perlu lagi menginisialisasi </font></font><code>ViewRouter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di dalam milik kita </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan meneruskannya ke ContentView, yang bisa sangat efisien, terutama untuk hierarki yang lebih kompleks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luar biasa, mari kita jalankan aplikasi kita dan melihat cara kerjanya.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browser Anda tidak mendukung video HTML5.</font></font><source src="https://blckbirds.com/wp-content/uploads/2020/02/NavigatingP2BeforeAnimation.mp4" type="video/mp4"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hebat, kita masih bisa bergerak di antara pandangan kita!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menambahkan animasi transisi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai bonus, mari kita lihat bagaimana menambahkan animasi transisi ketika beralih dari "page1" ke "page2". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di SwiftUI, ini cukup sederhana. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihatlah </font></font><code>willChange</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metode yang kami sebut file </font></font><code>ViewRouter.swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketika </font></font><code>CurrentPage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperbarui. </font><font style="vertical-align: inherit;">Seperti yang sudah Anda ketahui, ini menyebabkan pengikatan </font></font><code>MotherView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menampilkan kembali tubuh Anda, akhirnya menunjukkan yang lain </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang berarti pindah ke yang lain </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kami dapat menambahkan animasi dengan hanya membungkus metode </font></font><code>willChange</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam suatu fungsi </font></font><code>withAnimation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> currentPage: <span class="hljs-type">String</span> = <span class="hljs-string">"page1"</span> {
        <span class="hljs-keyword">didSet</span> {<font></font>
            withAnimation() {<font></font>
                willChange.send(<span class="hljs-keyword">self</span>)<font></font>
            }<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat menambahkan animasi transisi saat menampilkan yang lain </font></font><code>Content View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“WithAnimation (_: _ :) - mengembalikan hasil penghitungan ulang tampilan tubuh dengan animasi yang disediakan”</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Apple</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami ingin memberikan transisi pop-up aplikasi saat menavigasi dari </font></font><code>ContentViewA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke </font></font><code>ContentViewB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Untuk melakukan ini, buka file </font></font><code>MotherView.swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan tambahkan pengubah transisi saat dipanggil </font></font><code>ContentViewB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Anda dapat memilih salah satu dari beberapa jenis transisi yang telah ditentukan atau bahkan membuat sendiri (tetapi ini adalah topik untuk artikel lain). </font><font style="vertical-align: inherit;">Untuk menambahkan transisi pop-up, kami memilih jenis </font></font><code>.scale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span> {
            <span class="hljs-keyword">if</span> viewRouter.currentPage == <span class="hljs-string">"page1"</span> {
                <span class="hljs-type">ContentViewA</span>()<font></font>
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> viewRouter.currentPage == <span class="hljs-string">"page2"</span> {
                <span class="hljs-type">ContentViewB</span>()<font></font>
                    .transition(.scale)<font></font>
            }<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melihat cara kerjanya, jalankan aplikasi Anda dalam simulator biasa:</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browser Anda tidak mendukung video HTML5.</font></font><source src="https://blckbirds.com/wp-content/uploads/2020/02/NavigatinP2Preview.mp4" type="video/mp4"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keren, kami menambahkan animasi transisi yang bagus ke aplikasi kami hanya dalam beberapa baris kode! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengunduh semua kode sumber di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja! </font><font style="vertical-align: inherit;">Kami belajar mengapa lebih baik digunakan </font></font><code>EnvironmentObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menavigasi antara tampilan di SwiftUI, dan bagaimana menerapkannya. </font><font style="vertical-align: inherit;">Kami juga belajar cara menambahkan animasi transisi ke navigasi. </font><font style="vertical-align: inherit;">Jika Anda ingin tahu lebih banyak, ikuti kami di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instagram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan berlangganan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buletin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">agar tidak ketinggalan pembaruan, tutorial, dan tips tentang SwiftUI dan banyak lagi!</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajaran gratis: “Mempercepat aplikasi iOS dengan instrumen”</font></font></a><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id501366/index.html">System Design Primer (Bagian 1 dengan Tambahan Layanan Mikro)</a></li>
<li><a href="../id501368/index.html">Acara digital di Moskow dari 11-17 Mei</a></li>
<li><a href="../id501370/index.html">Trello - sistem manajemen pengetahuan yang efektif untuk tim TI kecil</a></li>
<li><a href="../id501374/index.html">Emulation Commodore 65</a></li>
<li><a href="../id501376/index.html">Agile mengajarkan kita arti sebenarnya dari Arsitektur</a></li>
<li><a href="../id501380/index.html">Alat Bangun Data atau kesamaan antara Gudang Data dan Smoothie</a></li>
<li><a href="../id501386/index.html">MNT Reform - Buku catatan yang sepenuhnya terbuka untuk paranoid</a></li>
<li><a href="../id501388/index.html">Apakah Agile mungkin untuk seluruh perusahaan?</a></li>
<li><a href="../id501392/index.html">Font Responsif. Menyesuaikan teks antara tata letak dan nilai minimum</a></li>
<li><a href="../id501394/index.html">Tentang terjemahan "teori" / "secara teoritis" tanpa teori / teori</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>