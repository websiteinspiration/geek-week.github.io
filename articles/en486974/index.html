<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèΩ‚Äçü§ù‚ÄçüßëüèΩ üìá üëô Mass production of electronics in Russia. Test Automation ü§¶üèª üö∂üèæ üë©üèª‚Äçüç≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue to talk about our experience in organizing serial production of commercial electronics. 
 
 The previous article was about the history of t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mass production of electronics in Russia. Test Automation</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486974/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/m6/uv/hp/m6uvhpgbrkcehl6r_iuat2q3v-u.jpeg"><br>
</a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I continue to talk about our experience in organizing serial production of commercial electronics. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The previous article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> was about the history of the product. </font><font style="vertical-align: inherit;">There are a lot of statistics obtained as a result of using test stations. </font><font style="vertical-align: inherit;">But little about what the stations themselves are. </font><font style="vertical-align: inherit;">Today - more about how we automated the functional testing of printed circuit boards in production and how the test station is arranged, which helps us in this.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What we wanted to achieve:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total control. </font><font style="vertical-align: inherit;">Check every board, not selectively.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduce the influence of the human factor. </font><font style="vertical-align: inherit;">The effectiveness of testing should not depend on the qualifications and personal qualities of the performer.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integration with production. </font><font style="vertical-align: inherit;">Testing should be part of the overall manufacturing process.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firmware. </font><font style="vertical-align: inherit;">The device should come out ready for further assembly in the housing.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accounting and labeling of released devices. </font><font style="vertical-align: inherit;">End-to-end serial number assignment. </font><font style="vertical-align: inherit;">Printing of stickers for further identification.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All this should work quickly.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do this, we decided to expand the capabilities of the tester, which we </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wrote about here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and developed a testing system. </font><font style="vertical-align: inherit;">
The system provides the interaction of test stations, production infrastructure, server platform and users. </font><font style="vertical-align: inherit;">Allows you to store, process and provide access to information for the testing operator, production manager, system operator, other users. </font><font style="vertical-align: inherit;">
In the future, we plan to add the ability to remotely control test stations (change the test plan, firmware version, etc.).</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ul/mm/9a/ulmm9azfwxbn74zetx-5lnapn7u.png"><br>
</a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DUT (device under test)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A little about the device that we are testing. </font><font style="vertical-align: inherit;">Simplified block diagram: </font><font style="vertical-align: inherit;">
This is a telemetry module that runs under the control of a microcontroller. </font><font style="vertical-align: inherit;">It has several interfaces to the control object, communication with the server, indication and controls. </font><font style="vertical-align: inherit;">The module works both from external power supply and independently from the battery. </font><font style="vertical-align: inherit;">In TK, we painted a detailed test plan for a test station, here I will briefly give the functions and methods of testing:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/0l/yt/le/0lytleqjbkg4amuorcxg4vmkpp4.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Block</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to check</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MCU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The test firmware is poured, which executes the commands of the test station.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sd card</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Writing, reading data.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LEDs</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The voltage measurement on the LED, allows you to check both work and color</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buttons</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We do not test, complicates the mechanics, reduces the speed of testing.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Used as a communication channel between the MCU and the laptop during testing.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voltage measurement at all stages of conversion, input current control.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Battery</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoring the signals of the state of charge of the chip on the board.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GSM, Bluetooth</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connection, data transfer to the server / board of the test station.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RS-232, UART *</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfer test packages to the test station board.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buzzer</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microphone detecting the number of sounds.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IO</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Change of states, control on the side of the test station board.</font></font></td>
</tr>
</tbody></table></div><br>
 <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test station</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The test station consists of equipment, standard instruments and a laptop that controls all this. </font><font style="vertical-align: inherit;">Almost all devices are connected to the laptop via USB.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/di/ig/7o/diig7ohikgbo1vzporbs1ipxusi.png"><br>
</a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List of used equipment:</font></font></b><div class="spoiler_text"> <div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th> </th>
</tr>
<tr>
<td>DUT</td>
<td> , Device under test<br>
</td>
</tr>
<tr>
<td> <br>
</td>
<td>Ingun MA260<br>
</td>
</tr>
<tr>
<td>QR <br>
</td>
<td>GD4400</td>
</tr>
<tr>
<td> <br>
</td>
<td>GODEX RT200<br>
</td>
</tr>
<tr>
<td><br>
</td>
<td> 7-78/1<br>
</td>
</tr>
<tr>
<td> </td>
<td>-1105<br>
</td>
</tr>
<tr>
<td>USB hub<br>
</td>
<td>D-LINK<br>
</td>
</tr>
<tr>
<td><br>
</td>
<td>Lenovo Ideapad 320<br>
</td>
</tr>
</tbody></table></div><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A laptop</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When we chose a laptop model, we thought that we would just deploy pre-debugged software on them. Therefore, the laptop does not need much performance. So we bought cheap laptops with WIN10. Do not do so. Debugging on the target hardware is inevitable. It is much more convenient to work with normal hardware, especially since the cost of a laptop on a project scale is not so fundamental. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows was not the best OS for our needs. It is difficult to achieve the identity of several stations with it, it is difficult to completely and permanently stop updating. So we came to the production to deploy a testing station:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/jm/hc/qy/jmhcqysyribhnyecivzkkv-aad0.jpeg"><br>
</a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows also threw one task over Bluetooth. When trying to connect a new device to the Bluetooth of a Windows laptop, each time it asks the user for permission. We could not get around this request softly and made Bluetooth inside the stand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The following operator panel works on the laptop:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/jt/c8/kr/jtc8krwjd2qbqesjo6lnveh0a3i.png"><br>
</a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testing begins by scanning the barcode on the board. </font><font style="vertical-align: inherit;">The testing process is the sequential execution of steps in the test program, each of which has a number, name and status of execution. </font><font style="vertical-align: inherit;">(left side of the interface) If necessary, you can uncheck the execution checkbox at separate steps and they will be skipped. </font><font style="vertical-align: inherit;">As it progresses, the testing program displays additional information in the Test Execution Log window (on the right) about the status of the current step. </font><font style="vertical-align: inherit;">Label testing ends. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The test station board and DUT are connected to the laptop via USB and are exchanged using the modbus protocol.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stress Testing</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the main requirements for the work of a test station in production is reliability. </font><font style="vertical-align: inherit;">She must not skip marriage and not reject suitable products. </font><font style="vertical-align: inherit;">To identify rare failures, you need to run testing many times. </font><font style="vertical-align: inherit;">Therefore, we began to do load testing. </font><font style="vertical-align: inherit;">The autoclicker launches the GUI and simulates the work of a stand operator. </font><font style="vertical-align: inherit;">The total number of stress tests is more than 20 thousand.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB hub</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turns out that there are no trifles in automation. </font><font style="vertical-align: inherit;">All our devices are connected to the laptop via USB. </font><font style="vertical-align: inherit;">Sometimes they ‚Äúfall off‚Äù. </font><font style="vertical-align: inherit;">Most often, the test station board freezes, of course. </font><font style="vertical-align: inherit;">First, we fought with these hands and poked the wire in the laptop. </font><font style="vertical-align: inherit;">Then they learned to reboot the hub softly, while it resets the power and reconnects all devices. </font><font style="vertical-align: inherit;">Now, each test begins with reconnecting all USB devices. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usbdeview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> helps us with </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">this</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It turned out that not all hubs do this, and almost exactly the same kind of hub does not know how. </font><font style="vertical-align: inherit;">We buy exactly the same. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Even the order of inclusion of devices in the hub affects stability, the user guide has a special section with an illustration of how to stick:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ym/an/ep/ymanepukqdiqvhn5eqezwfdlpik.png"><br>
</a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rigging</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The equipment consists of mechanics, a testing board (1) and a probe board (2). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/cb/ci/9l/cbci9lttp1gbo7exr6t9vmx9dp4.jpeg"><br>
</a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mechanics development</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Once we started making our own mechanics, worked out several options: </font><font style="vertical-align: inherit;">
Developing your mechanics from scratch is quite expensive. </font><font style="vertical-align: inherit;">Solutions seem to be 100% working, and then something always sticks in the mock-ups, it bends somewhere, and various improvements are constantly required. </font><font style="vertical-align: inherit;">
In the end, we came to the conclusion that it is much more profitable to use ready-made nodes. </font><font style="vertical-align: inherit;">To reduce the cost, you can use the same equipment on different projects, processing only plug-in modules. </font><font style="vertical-align: inherit;">On this project, we used the </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Ingun MA260</font></a><font style="vertical-align: inherit;"> snap </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">-in</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
The process of developing mechanics in our case can be divided into the following stages:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/5m/ru/_m/5mru_m-vyhkhnia9gf_czcbeoa4.png"><br>
</a><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/km/hu/9i/kmhu9i51aljih7jwcmjbl3kiv4w.png"><br>
</a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choosing the right size tooling</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layout - DUT and PCB Placement</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arrangement of guiding elements, emphasis and probes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unloading the design of circuit boards for tracing</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verification with finished PCB models</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creating Drawings</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parts Production</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assembly check</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repeat the cycle (until it turned out the first time)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is an example drawing of a movable plate: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/uu/y0/ix/uuy0ixbro8exlfybgzpnbpzpv_a.png"><br>
</a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test Station Boards</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are different approaches to the implementation of connections between spring-loaded contacts and devices of the test station.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/uq/pr/jx/uqprjxwm7qowhdd0ydhomcvsmxc.png"><br>
</a><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No circuit boards inside the snap. </font><font style="vertical-align: inherit;">The wires from each spring-loaded contact go to a common snap-in connector, and already from it the signals are distributed to the devices. </font><font style="vertical-align: inherit;">Installation of wires can be very time-consuming, changing such equipment is associated with a risk of damage to the wires.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With one sampler board. </font><font style="vertical-align: inherit;">The probe board performs two functions: mechanical and electrical. </font><font style="vertical-align: inherit;">The probe holders are sealed in the holes on the board, and the test signals are output to the connectors to external devices. </font><font style="vertical-align: inherit;">But there are specific interfaces in our DUT, and we need an additional board inside to work with them.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With probe board and tester board. </font><font style="vertical-align: inherit;">The tester board is a separate device with its own microcontroller, which receives commands via USB from a laptop. </font><font style="vertical-align: inherit;">It can be combined with a probe board, but due to the large number of holes for probe holders, this is inconvenient in terms of tracing.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The tester board performs the functions of:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formation of special interfaces</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logical signal processing.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switching analog signals for an external voltmeter.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoring and Power Management DUT.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detecting the presence of DUT in a snap.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Execution of test sequences.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DUT firmware (standard programmer is fixed on the board).</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wires</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are a lot of wires. </font><font style="vertical-align: inherit;">Several of them are plugged into the DUT by hand before testing:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">antenna cable with quick-connect SMA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">micro USB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">battery</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We decided to stick the battery with our hands, because at the time of the creation of the equipment we thought that each device would be tested with a complete battery. In practice, this turned out to be redundant, we didn‚Äôt come across any faulty batteries, so the operator uses the same battery. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When closing the snap, there is a risk of breaking the wires. At the same time, it is also impossible to make them very briefly - you need to give the operator a chance to stick them without getting into the equipment himself. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The quick-detachable SMA turned out to be no faster than usual, the production got rid of it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Looking back, it was necessary to make automatic connection of these interfaces.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Through-hole connectors we connect through the protruding pins on the back of the board. </font><font style="vertical-align: inherit;">How to get to USB? </font><font style="vertical-align: inherit;">To do this, there are special Side approach mechanisms that allow you to plug the simulator of the connector into the test node, or bring spring-loaded contacts.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microphone</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, we used an operator to test the speaker on the DUT. </font><font style="vertical-align: inherit;">There is a command to peel on the DUT 1..3 times, and the operator must select the correct number of peaks in the pop-up window. </font><font style="vertical-align: inherit;">Our programmers were constantly mistaken even when setting up a stand, and in production - in general, a bad job. </font><font style="vertical-align: inherit;">As a result, we added a microphone, it is mounted like this, directly opposite the DUT emitter.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/no/uq/gi/nouqgilqli96okbt9xwrvv3h1sq.png"><br>
</a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data storage and visualization</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The testing process begins with communication with the server. We want to know about everything that happens with our devices in production. So there is no connection - no testing. To do this, a database is deployed on the server. For any operation with the station, a record is entered into the database, the start, end and all the results of the testing steps are recorded. So later we can do unloading with interesting statistics, as well as learn in detail the fate of a particular instance. For operational control of production, we have a user site with the most interesting metrics:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/1h/jt/td/1hjttdw0n5anlvr25_zzarrpklw.png" alt="image"><br>
</a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It shows the total number of devices tested, the number of defective devices, their percentage. </font><font style="vertical-align: inherit;">Below is a table with a breakdown of the marriage, the number of errors in the test stages. </font><font style="vertical-align: inherit;">At the bottom right is the Test Graph, it shows the ‚Äúgood‚Äù and ‚Äúbad‚Äù devices in time with an increasing amount. </font><font style="vertical-align: inherit;">Interruptions in testing (horizontal sections) are clearly visible on it. </font><font style="vertical-align: inherit;">By the slope of the schedule, you can judge the pace of production and see in advance whether production is on time, or is it time to adjust the plan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transportation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transportation of test station equipment to production looks like a one-time operation. </font><font style="vertical-align: inherit;">In practice, they move quite actively, sometimes between production facilities, sometimes return for repairs to developers with all possible means of transport. </font><font style="vertical-align: inherit;">In general, packaging requirements are increased. </font><font style="vertical-align: inherit;">For transportation, we use these </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peli 1637</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cases </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We lay equipment with a bubble, we fill the empty space with it. </font><font style="vertical-align: inherit;">We watched from the porthole loading our equipment on the plane. </font><font style="vertical-align: inherit;">The mass of the test station gross 27 kilograms. </font><font style="vertical-align: inherit;">We thought something would definitely break, but both the suitcase and the filling all survived without loss.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reference sample</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When deploying a test station in production, it is good to have a sample of the device with which it was tested during development (guaranteed working sample). </font><font style="vertical-align: inherit;">We train production personnel with him. </font><font style="vertical-align: inherit;">With it, we check the interaction with the server. </font><font style="vertical-align: inherit;">Further, during the batch testing process, there are also problems, and first of all there are doubts about the work of the test station itself (sometimes justified), and the reference sample helps to find the reason.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project labor</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/vi/u7/d-/viu7d-fvf1aesktesvdfpfdwrek.png"><br>
</a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Iron development (equipment, boards inside) - 8% of the total labor input. If you plan to make a test station - do not take the hardware as the main part in terms of cost and complexity. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Software (Development, bugs, testing) - in total they give 75% of all labor costs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For this product, the production stage exceeds the development of the device in complexity and cost. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are currently working on a unified testing platform. Unification will affect hardware, firmware, and the server platform. This will reduce costs and time for the development of test stations for the new devices of our partners. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surely I forgot to write about something important, welcome to comment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS We did not extend the company‚Äôs blog on Habr√©, so subscribe to me if you want to continue to monitor our successes.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/en486974/">https://habr.com/ru/post/en486974/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en486950/index.html">Antiquities: the merciless upgrade of the 386th computer</a></li>
<li><a href="../en486962/index.html">HSE Game Development Review</a></li>
<li><a href="../en486964/index.html">Multitasking and curious. Java Champion Mitya Alexandrov on the creation of the IT community, the "remote" and life</a></li>
<li><a href="../en486966/index.html">Why convenience vs security is not a tradeoff</a></li>
<li><a href="../en486972/index.html">Expression trees in C # using an example of finding a derivative (Expression Tree Visitor vs Pattern matching)</a></li>
<li><a href="../en486976/index.html">Problems of Russian information education and their possible solutions</a></li>
<li><a href="../en486978/index.html">Field Notes: One of the Biggest OpenSource Conferences FOSDEM 2020</a></li>
<li><a href="../en486980/index.html">Kim Dotcom: Caught, the most wanted person online. Part 1</a></li>
<li><a href="../en486982/index.html">How to learn front-end development, find your first job and not get bumps</a></li>
<li><a href="../en486984/index.html">Python Gateway at InterSystems IRIS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>