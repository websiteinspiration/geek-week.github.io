<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÆ üî† üêí How to combine two platforms into one and not offend users. Yandex.Kew Developers Experience üíª üë©üèæ‚Äçüéì üë®‚Äçüë©‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year, TheQuestion service joined Yandex. At that time, there was already a similar service of questions and answers - Yandex.Znatoki. The connois...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to combine two platforms into one and not offend users. Yandex.Kew Developers Experience</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/491944/"><img src="https://habrastorage.org/webt/je/qm/jf/jeqmjfqycb2lqolmutp76tgjrem.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Last year, TheQuestion service joined Yandex. At that time, there was already a similar service of questions and answers - Yandex.Znatoki. The connoisseurs had a large audience and many interesting questions, but there were not enough experts who could give high-quality answers to these questions. TheQuestion, on the contrary, had a strong community of experts, but it lacked interesting questions. The logical step was to combine the two services in order to take the best from each of them. But how to do this if each service has its own technological base, content and users?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Today I will talk about how our team solved this problem from a technological point of view. You will find out which options for combining we have considered and which in the end have chosen. I‚Äôll tell you about the ‚Äúswap API‚Äù, database migration, pooling profiles and backend testing. And yet - about the night of the move without the right to make a mistake. You will see that we did not have to be bored.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The task of merging two services into one is not new, but this does not make it easier. History knows many successful (and not so) examples of integration, but, unfortunately, there is no ‚Äúsilver bullet‚Äù and a clear instruction ‚Äúdo this and everything will work out‚Äù. Everything very much depends on the specifics of the services being combined and the desired result. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In our case, the goal was this: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that all the content ever written on each of the sites was available on a unified service, and its authors could manage it.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
So, how do you combine the two Q &amp; A services, which seem to be so similar, but so much different in essence? Transferring content and users from one service to another is very similar to moving from an old apartment to a new one.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Only in our case, the user can live simultaneously in two apartments (Connoisseurs and TheQuestion), and you need to carefully transport it to the third. You need to move all the furniture, plants, a cat, and even wallpaper to a new apartment (that is, questions, answers, comments, likes), and then invite him to move. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to do this? Several options immediately come to mind. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option 1. Very bad.</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Let's just take one of the services, transfer all the content to another (although even this is no longer easy) and close the original service.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This option is very bad from the point of view of the user of the first service. We just demolished his old house and forced him to move to a new one. Anyone will not like this attitude, and instead of moving, he can just go into the sunset. For us, the main value is the user community, so we did not plan to offend anyone. And boldly switched to other options. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option 2. Bad</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Let's not change any of the services, instead, launch a new, integrated one and periodically add content from the other two to it (for example, once a day).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, we do not seem to make the user worse, but we also do not do better. His old apartment remains unchanged, but there is no point in moving to a new one. All neighbors also live in an old house, a flower just bought will be transported to a new apartment only after a day. Such a unified service has no chance of becoming a new home. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option 3. Good, but complex</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Let's not close any of the services, we will instantly duplicate content and profiles on the integrated service, and people will move over time. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All the user's neighbors (and even the cat) live simultaneously in the old and in the new house. A flower you just bought instantly appears in a new apartment. Exactly what is needed! This option is the most comfortable from the point of view of the user. Therefore, we chose it.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Start moving</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What we eventually did can be described in several sentences. </font><font style="vertical-align: inherit;">We completely repeated the entire TheQuestion API backend based on the Connoisseurs backend, thus obtaining a single backend that can work with two (and even three) sites at once. </font><font style="vertical-align: inherit;">At the same time, TheQuestion frontend remained almost unchanged, which means that from the point of view of users, the site itself has practically not changed. </font><font style="vertical-align: inherit;">This project has received the internal name "swap API". </font><font style="vertical-align: inherit;">But first things first.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What we had at the entrance: two completely independent sites. </font><font style="vertical-align: inherit;">Connoisseurs live in the inner clouds of Yandex. </font><font style="vertical-align: inherit;">The Connoisseurs backend is written in Python. </font><font style="vertical-align: inherit;">TheQuestion lives in the clouds of Microsoft Azure, TheQuestion backend is written in Go. </font><font style="vertical-align: inherit;">Services have a completely different data storage scheme in the databases. </font><font style="vertical-align: inherit;">In addition, TheQuestion has two mobile applications (for Android and iOS), which also needed to be supported. </font><font style="vertical-align: inherit;">In general, the enemy does not want to unite such a zoo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wh/i0/8z/whi08z8r9v_7vhg13ana4ku_nvu.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage 0. Drive into the Yandex cloud</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strictly speaking, this step is not necessary for the ‚Äúplugin API‚Äù, but it significantly simplifies the next steps. </font><font style="vertical-align: inherit;">At this stage, we completely abandoned external storage and facilities. </font><font style="vertical-align: inherit;">TheQuestion started using Yandex DNS servers. </font><font style="vertical-align: inherit;">The rentme services were moved to Yandex.Cloud. </font><font style="vertical-align: inherit;">The database was transferred to Yandex Managed Databases. </font><font style="vertical-align: inherit;">During the move, we were also able to find and fix several errors in TheQuestion, for example, unclosed connections to Redis in the 2015 code. </font><font style="vertical-align: inherit;">As a bonus, we also received additional power for TheQuestion.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage 1. Data Migration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardless of which option you want to combine services, we would have to combine the data in any case. For a single database, they decided to take PostgreSQL - this DBMS has already been used in both Experts and TheQuestion. In order not to re-complicate the project, they did not begin to create a third base for the integrated service, but simply took the Znatokov database and expanded it so that it could accept all TheQuestion data. This was the first major technological challenge.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each entry in each table from TheQuestion database had to be converted and put into the Expert Database. Then - correlate each column from one and the other base. Many fields had to be nontrivially converted from one format to another. So, a separate big subtask was the conversion of the text storage format (the actual format of the question or answer storage) from QML (TheQuestion) to Markdown (Experts).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We set up a regular (several times a day) process of transferring new data from one database to another, but at the same time made sure that data from TheQuestion was not displayed anywhere until the completion of the next stage. </font><font style="vertical-align: inherit;">Because "several times a day" is far from being promised "instantly", and the data could be in an inconsistent state with the same data on TheQuestion, which would mislead users. </font><font style="vertical-align: inherit;">So why did we start with data migration if the backend was not ready yet? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firstly, in this way we stabilized the process. </font><font style="vertical-align: inherit;">Secondly, they reduced the amount of new data that will need to be transferred in the future, and this is important, since all the imported content had to be driven through the markup for quality, inappropriate content, spam, fraud.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/jp/ld/gcjpldkw8v-mv2fg_umevbosowo.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage 2. "Swapping API"</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, we solved the first of the problems - we learned to take content from TheQuestion database and even display it if you wish. Now it was necessary to make this content get into the integrated database instantly, and not several times a day. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do this, it was necessary to rewrite the entire TheQuestion backend with all the necessary logic. The name of the project, ‚ÄúSwap API,‚Äù strictly speaking, does not fully reflect the essence. It would be more correct to call it "Swap backend." The fact is that, in addition to the direct implementation of all the ‚Äúpens‚Äù necessary for the functioning of the TheQuestion front-end, other possibilities had to be realized. We faced several major tasks. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authorization</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex has a centralized user authorization system - Yandex.Passport. And Connoisseurs, of course, used the Passport. To log in to it, you must have an account in Yandex. That was the problem. Not all TheQuestion users logged in to the site through Yandex (although there was such an opportunity). Many users did not have a Yandex login at all and went through social networks (VKontakte, Facebook ...). Naturally, we had to keep this functionality when moving. Therefore, we implemented ‚Äúnon-passport‚Äù authorization. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site search.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TheQuestion implemented a search on questions, answers, users and topics. For search, a third-party Sphinx solution was used. Obviously, if we are talking about a single service, then the search should be the same, that is, it cannot work on two systems at once. Thus, Sphinx was abandoned in favor of an internal search engine with support for the necessary functionality and indexing of all TheQuestion content. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shipment of pages in Zen and Turbo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . At the time of joining, TheQuestion already used Yandex technologies. Turbo pages were supported, interesting content fell into the Zen feed. All this also had to be supported in the "replacement API". </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notifications in the service and applications, mailing lists.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Everything related to notifying users: subscriptions, newsletters with interesting content, push about likes and comments, much more. All this had to be carefully transferred and not forgotten. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site Administration System</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . This paragraph refers to everything related to the internal management of the service: moderation, analytics, and so on. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unified user rating system.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This task was rather not technical, but logical. Formally, it is not necessary to develop a unified rating system for a ‚Äúswap API‚Äù, but this system is still needed for the future integrated service. On both sites, users were rated for the quantity and quality of the created content. The details of the rating were not disclosed, but the more often and better you answer the questions, the higher your rating. Rating principles were the same on both services, but the formula itself and the factors were very different. It was necessary not only to correctly and honestly compare the users of Znatokov and TheQuestion among themselves, but also to learn to consider a single rating for those experts who wrote on two services at once. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And rewrite all the APIs.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Like it or not, this task was the most important and difficult. Many processes on the services were similar, so we took them from the Connoisseurs and did not write from scratch. But there was also a lot of new things, for example, straight lines of users or draft answers. As a result, we rewrote more than 100 ‚Äúpens‚Äù in the ‚Äúswap API‚Äù and implemented more than 50 REST resources. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After we implemented all the functionality described above, it was possible to start moving. But before we did one trick.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is clear that before switching and rolling out the ‚Äúswap API‚Äù in production, it had to be tested very well. First of all, it was necessary to test it functionally, that is, directly check the performance of the entire site on the new API. Secondly, it is stressful. We wanted to be 100% sure that our design would not ‚Äúlie‚Äù under load. Naturally, we regularly conducted ‚Äúload firing‚Äù, which showed that we have a good supply of performance. But in matters of service performance, it is always better to play it safe. Any, even the best, synthetic load tests are somehow different from the production load. Therefore, we decided, before switching the API, to fill the production load on our stand.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To do this, at TheQuestion frontend, we implemented duplication of all GET requests (meaning data requests, not modifications) into two APIs at once: the ‚Äúold API‚Äù TheQuestion, which at that time was the main one, and the secondary ‚Äúswap API‚Äù. </font><font style="vertical-align: inherit;">At the same time, the frontend did not wait for a minor API response and did not handle errors, but this way we were able to test the backend on real users.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xh/xk/bu/xhxkbuuaimvplykay5--cdqbl30.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage 3. And then we remembered about applications</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No, of course, we remembered about them all this time, but faced one problem. Those who worked with mobile applications know that the hassle with them is much more than with the site. This is due primarily to the distribution of new versions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firstly, you need to work with external services of the App Store and Google Play and wait for the new versions to pass the verification (and sometimes the verification may take a considerable time). Secondly, even if your application has already passed the test and appeared in the store, this does not mean that users will make an update.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the case of the frontend of the site, the developers themselves control when a new version is released, and they know for sure that after that all users will receive an updated version of the site. In the case of applications, there is no such guarantee. To obtain such a guarantee, they often use ‚Äúforced update‚Äù of the application. Few people love this method, and, of course, always, if possible, you need to maintain backward compatibility between the application and the backend. Therefore, we took the path of making changes precisely on the backend side with minimal changes on the frontend in applications. But, as often happens, the plan is faced with harsh reality.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some changes were much easier to do on the front-end side than on the back-end, therefore, in the process of developing a ‚Äúplug-in API‚Äù, the front-end was slightly, but changed. In particular, the old TheQuestion database used numeric 64-bit IDs. The Connoisseurs database and, accordingly, the combined database and the new API for TheQuestion used string 128-bit IDs. In general, for a frontend written in Node.js, this difference is not significant. But for strongly typed applications, this turned out to be fatal. We lost backward compatibility, and older applications could not work with the "plugin API".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At some point, there was even a project called ‚Äúplugin API for plugin API‚Äù, the essence of which was to write a small layer between the new backend and applications that would convert all the data into the old format. However, we quickly abandoned this idea. This layer would turn out to be a very rigid ‚Äúcrutch‚Äù, which in the future would definitely bring us many problems. For example, you can‚Äôt just take and translate 128-bit IDs into 64-bit ones. I would have to translate with loss of information and, consequently, possible collisions by ID, or maintain an intermediate table with the correspondence of old and new IDs (for all elements of the database). Both that, and another - not the best architectural solution.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to ID, there were a number of other changes that were also much easier to support on the front-end and application side. </font><font style="vertical-align: inherit;">As a result, we decided to implement changes in applications and still use the forced update. </font><font style="vertical-align: inherit;">In a short time we developed new versions of applications compatible with the ‚Äúswap API‚Äù, because there were not so many changes from the front end and they were not very serious. </font><font style="vertical-align: inherit;">Sent to the App Store and Google Play, successfully moderated and began to wait.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage X. Let's go!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So all the code is written. </font><font style="vertical-align: inherit;">The stand with the "replacement API" is tested and fired. </font><font style="vertical-align: inherit;">New versions of the application have been tested in stores and are ready for publication. </font><font style="vertical-align: inherit;">Now all this had to be rolled out into production. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Due to the fact that copying new data from the old database to the new one takes place asynchronously and takes some time, you cannot switch the backend (and the database under it) on a working site. </font><font style="vertical-align: inherit;">This may result in loss or inconsistency of user data. </font><font style="vertical-align: inherit;">Therefore, we chose a date, warned users and prepared a plate ‚ÄúTechnical work in progress‚Äù. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And then the hour came, or rather night X. The roll-out plan looked like this:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the website TheQuestion we hang up a stub "Work is in progress". </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We transfer applications to Readonly mode. </font><font style="vertical-align: inherit;">Users can read content from the old database, but can not create a new one.</font></font></li>
<li>  TheQuestion   Readonly.    :           .   ,  ,      . </li>
<li>        .            ,     .</li>
<li>       .</li>
<li> ,      ,    API.</li>
<li> API  .  ‚Äî     ,    API   .</li>
<li>,   ,   . </li>
<li>  ¬´ ¬ª,        API.</li>
<li>    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, that doesn't look so scary. In reality, everything went quite smoothly. Of the surprises we encountered, it was perhaps only too long to publish the application in the App Store (the application was checked in advance, it was only about appearing in the store). In the end, it took several hours, which is why the whole operation was a little delayed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, in the process of switching, there was one key feature that complicated everything many times and increased responsibility. The fact is that the switching process could not be reversed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although the process of copying and converting data from the old TheQuestion database to the new, integrated one was set up and debugged for us, there was no reverse copying process (from the new database to the old one). This means that as soon as we open the site on the ‚Äúswap API‚Äù and start up user traffic, all newly created questions, answers, comments and likes can no longer easily get into the old TheQuestion database. If something goes wrong after opening, for example, a single database cannot cope with the load, then it will not be possible to quickly roll back everything. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, of course, I exaggerate. In any case, we would not lose user data. We had a plan B and a way to manually back up data from a new database to an old one. But it would still take some time, and the rollback would not have occurred quite painlessly for users.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortunately, Plan A worked, and nothing had to be rolled back.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mj/wy/7g/mjwy7gbw8fyxtqvt0fp0cetrn_4.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Final stage</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, the backend was changed, the database was combined, the mobile applications were not forgotten. </font><font style="vertical-align: inherit;">For users, nothing has changed, because the Yandex.Ku site, which was supposed to combine data from both sites, was not yet launched at that time. </font><font style="vertical-align: inherit;">And for its launch we needed to solve one more problem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the very beginning, I wrote that we had to combine not only questions and answers from two services in one new, but also users. </font><font style="vertical-align: inherit;">Users should have been able to not only see their content on Kew, but also manage it on Kew. </font><font style="vertical-align: inherit;">Technically, combining data and transferring management rights is not difficult. </font><font style="vertical-align: inherit;">It is much more difficult to make sure that the rights are transferred to the one to whom they should be transferred.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When moving from Znatokov to Kew, everything is simple: in both cases, the same Yandex account is used. </font><font style="vertical-align: inherit;">But TheQuestion has its own account, which cannot be authorized on Kew. </font><font style="vertical-align: inherit;">Fortunately, we thought about this beforehand. </font><font style="vertical-align: inherit;">Long before the actions described above, we enabled TheQuestion users to link their Yandex profiles. </font><font style="vertical-align: inherit;">And by the time of the physical consolidation of services, more than 90% of active users had done this. </font><font style="vertical-align: inherit;">This allowed us to painlessly start the migration of content and users.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When we moved, we wanted to save each user, so we consciously went to the most time-consuming and risky option of combining platforms. </font><font style="vertical-align: inherit;">We created a unified technological base, learned how to instantly transport content and profiles. </font><font style="vertical-align: inherit;">Instead of unexpected closure and forced relocation, they maintained the functionality of the old services, launched a new one and explained its advantages. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dq/1o/e9/dq1oe9ihp4u8tknser_ew3oxx2c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We launched </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Kew</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> last year. </font><font style="vertical-align: inherit;">Now more than 80% of the active authors of TheQuestion and Znatokov voluntarily moved to a new home.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en491926/index.html">Cross-platform mobile application development in 2020</a></li>
<li><a href="../en491934/index.html">Psychological profiles of stock investors: how it works</a></li>
<li><a href="../en491936/index.html">About how bacteria feed on iron and remove high-quality pigments from man-made dumps</a></li>
<li><a href="../en491938/index.html">5 game designer tools to help your game</a></li>
<li><a href="../en491942/index.html">How we use item2vec to recommend similar products</a></li>
<li><a href="../en491946/index.html">Laws of programming</a></li>
<li><a href="../en491948/index.html">Design tokens can do more: create a single source of information about UI components</a></li>
<li><a href="../en491956/index.html">Rust 1.42.0 release: slice templates and more convenient panic messages</a></li>
<li><a href="../en491958/index.html">Skeleton Animation Compression Guide</a></li>
<li><a href="../en491960/index.html">Era when it's hard to get lost</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>