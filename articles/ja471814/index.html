<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🍳 🔝 📶 WolframClientForPython | Python用の新しいWolfram言語クライアントライブラリ 👨‍🏫 🛒 ⛴️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私のブログの元の翻訳
 
 PythonからWolfram言語に完全にアクセスする
 Wolfram言語（Wolfram言語）は、世界に関する組み込みの知識だけでなく、非常に多様な複雑なアルゴリズムを備えたユニークな言語をプログラマーに提供します。長年にわたり、他のソフトウェア環境やプログラミング言...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>WolframClientForPython | Python用の新しいWolfram言語クライアントライブラリ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/wolfram/blog/471814/"><img src="https://habrastorage.org/webt/ob/gy/js/obgyjseqnmvhwnhq5nzso3_sxcq.png"><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私のブログの元の翻訳</font></font></a></b><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PythonからWolfram言語に完全にアクセスする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wolfram言語（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolfram言語</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は</font><font style="vertical-align: inherit;">、世界に関する組み込みの知識だけでなく、非常に多様な複雑なアルゴリズムを備え</font><font style="vertical-align: inherit;">た</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユニークな言語</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をプログラマーに提供します</font><font style="vertical-align: inherit;">。長年にわたり、他のソフトウェア環境やプログラミング言語から私たちのテクノロジーのすべての機能にアクセスする方法を人々は尋ねてきました。年月が経ち、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolfram CloudConnector for Excel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">C / C ++プログラム用の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WSTP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Wolframシンボル転送プロトコル）、そしてもちろん、</font><font style="vertical-align: inherit;">Javaから直接Wolfram言語へのアクセスを提供する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J / Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの多くのソリューションを作成しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、本日は、言語を組み合わせるための待望の新しいソリューションを正式にご紹介します。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python言語からWolfram言語を直接かつ効率的に呼び出すことができます</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python用Wolframクライアントライブラリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして最も重要なことに、このクライアントライブラリには</font><font style="vertical-align: inherit;">、MITライセンスの下で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WolframClientForPython gitリポジトリに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホストされている完全なオープンソースコードがある</font><font style="vertical-align: inherit;">ため、好きなだけコピーして好きなように使用できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは簡単でシンプルです。</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wolframクライアントライブラリを使用すると</font><font style="vertical-align: inherit;">、Wolfram言語</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アルゴリズムの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模なコレクション</font><font style="vertical-align: inherit;">や</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolframナレッジベース</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を既存のPythonコードに直接</font><font style="vertical-align: inherit;">簡単に統合できるため、</font><font style="vertical-align: inherit;">新しいコードを開発する際の時間と労力を大幅に節約できます。</font><font style="vertical-align: inherit;">この記事では、最初にPythonとWolfram言語間の接続を設定する方法を示し、Wolfram言語の計算に使用できるいくつかのメソッドと例を見て、それをPythonから使用するために呼び出します。</font><font style="vertical-align: inherit;">より</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全なリファレンス情報については、</font></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PythonのWolframクライアントライブラリのドキュメントホームページ</font></font></a><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">に</font></b><font style="vertical-align: inherit;">アクセスしてください</font><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その場で感謝...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正規分布から取得した100万個の数値の平均と標準偏差を計算する簡単な例から始めましょう。</font><font style="vertical-align: inherit;">この例では、PythonからWolfram言語関数を呼び出し、Pythonからの結果を同じWolfram言語の計算と比較して、収束が高いことを示す方法を示します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統計データ分析</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、Wolfram言語に接続するには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolframエンジン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（無料のWolfram言語エンジン）で</font><font style="vertical-align: inherit;">新しいセッションを作成する必要があります</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> wolframclient.evaluation <span class="hljs-keyword">import</span> WolframLanguageSession<font></font>
session=WolframLanguageSession()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wolfram言語の関数を呼び出すには `wl`エンジンをインポートする必要があります：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> wolframclient.language <span class="hljs-keyword">import</span> wl</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、Wolfram言語コードを実行できます。</font><font style="vertical-align: inherit;">Python </font><font style="vertical-align: inherit;">の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">を、平均が0で標準偏差が1の正規分布から得られた100万個の乱数のリスト値に</font><font style="vertical-align: inherit;">割り当てます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">sample = session.evaluate(wl.RandomVariate(wl.NormalDistribution(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>), <span class="hljs-number">1e6</span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらの最初の5つを検討してください。</font></font><br>
<br>
<pre><code class="python hljs">sample[:<span class="hljs-number">5</span>]<font></font>
<font></font>
[<span class="hljs-number">0.44767075774581</span>,
 <span class="hljs-number">0.9662810005828261</span>,
 <span class="hljs-number">-1.327910570542906</span>,
 <span class="hljs-number">-0.2383857558557122</span>,
 <span class="hljs-number">1.1826399551062043</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の平均は、</font><font style="vertical-align: inherit;">Wolfram言語を使用して</font><font style="vertical-align: inherit;">計算できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">予想通り、ゼロに近くなります。</font></font><br>
<br>
<pre><code class="python hljs">session.evaluate(wl.Mean(sample))<font></font>
<font></font>
<span class="hljs-number">0.0013371607703851515</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じことをPythonで直接計算して、同様の結果が得られることを確認することもできます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> statistics <span class="hljs-keyword">import</span> mean<font></font>
mean(sample)<font></font>
<font></font>
<span class="hljs-number">0.0013371607703851474</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、</font><font style="vertical-align: inherit;">Wolfram言語を使用して</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプルの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準偏差を計算できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">session.evaluate(wl.StandardDeviation(sample))<font></font>
<font></font>
<span class="hljs-number">1.0014296230797068</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Pythonで次のコードを実行して、同様の結果が得られることを確認します。</font></font><br>
<br>
<pre><code class="python hljs">stdev(sample)<font></font>
<font></font>
<span class="hljs-number">1.0014296230797068</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果が収束することを喜ばずにはいられません。</font><font style="vertical-align: inherit;">Pythonから単純なWolfram言語関数を呼び出す方法をマスターしました。</font><font style="vertical-align: inherit;">さらに興味深い例を続けましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolframナレッジベースを使う</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WolframAlpha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では利用できないWolfram言語の組み込み関数を見てみましょう</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="python hljs">moons = session.evaluate(wl.WolframAlpha(<span class="hljs-string">'moons of Saturn'</span>, <span class="hljs-string">'Result'</span>))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WolframAlpha関数は</font><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Web APIを</font></a><font style="vertical-align: inherit;">介して</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolfram | Alpha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーと通信するWolfram言語の高レベル関数の1つです</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このAPIをPythonから直接使用できます。これにより、Wolfram言語からすべてのデータ処理関数に直接アクセスできるため、WolframAlpha関数の呼び出しがより強力で便利になります。</font><font style="vertical-align: inherit;">Python </font><font style="vertical-align: inherit;">の</font><i><font style="vertical-align: inherit;">moon</font></i><font style="vertical-align: inherit;">変数の内容を見てみましょう</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">moons<font></font>
<font></font>
EntityClass[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'SaturnMoon'</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでの出力は、Wolfram言語からの式のPythonでの表現であり、以降の計算で使用できます。</font><font style="vertical-align: inherit;">たとえば、土星の最初の4つの衛星のリストを（土星への近接度によって）取得するには、次のコードを実行する必要があります。</font></font><br>
<br>
<pre><code class="python hljs">session.evaluate(wl.EntityList(moons))[:<span class="hljs-number">4</span>]<font></font>
<font></font>
[Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'S2009S1'</span>],<font></font>
 Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Pan'</span>],<font></font>
 Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Daphnis'</span>],<font></font>
 Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Atlas'</span>]]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、次のコードを使用して土星の最大の4つの質量衛星を導出できます。</font></font><br>
<br>
<pre><code class="python hljs">bigmoons = session.evaluate(wl.EntityList(wl.SortedEntityClass(moons, wl.Rule(<span class="hljs-string">"Mass"</span>,<span class="hljs-string">"Descending"</span>),<span class="hljs-number">4</span>)))<font></font>
bigmoons<font></font>
<font></font>
[Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Titan'</span>],<font></font>
 Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Rhea'</span>],<font></font>
 Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Iapetus'</span>],<font></font>
 Entity[<span class="hljs-string">'PlanetaryMoon'</span>, <span class="hljs-string">'Dione'</span>]]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、これらのサテライトの名前を含む文字列の配列を取得できます。次に例を示します。</font></font><br>
<br>
<pre><code class="python hljs">session.evaluate(wl.Map(wl.Function( wl.Slot()(<span class="hljs-string">"Name"</span>)), bigmoons))<font></font>
<font></font>
[<span class="hljs-string">'Titan'</span>, <span class="hljs-string">'Rhea'</span>, <span class="hljs-string">'Iapetus'</span>, <span class="hljs-string">'Dione'</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このすべてが非常に印象的です。</font><font style="vertical-align: inherit;">Wolfram言語に組み込まれた画像処理と機械学習機能を使った別の例を見てみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像処理と機械学習</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、Wolfram言語で直接評価を実行するために別のモードに切り替えましょう。</font><font style="vertical-align: inherit;">ここまでは、 `wl`エンジンを使用してPythonでWolfram言語の式を作成しましたが、Wolfram言語のコードを含むPythonで記述されたコード行を実行することもできます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> wolframclient.language <span class="hljs-keyword">import</span> wlexpr</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、Wolfram言語で1 + 1を計算し、それを文字列として送信します。</font></font><br>
<br>
<pre><code class="python hljs">session.evaluate(<span class="hljs-string">'1+1'</span>)<font></font>
<font></font>
<span class="hljs-number">2</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法を使用すると、Wolfram言語で小さなコードを記述できます。これは、入力で画像を受け取り、組み込みの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顔検出アルゴリズム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">して画像内の顔の位置を見つけます。</font><font style="vertical-align: inherit;">ここで使用する画像は</font><font style="vertical-align: inherit;">、オランダのアーティスト</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Johannes Vermeer</font></a><font style="vertical-align: inherit;">による</font><font style="vertical-align: inherit;">有名な絵画「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真珠の耳飾りの少女</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」です</font><font style="vertical-align: inherit;">（当然、このアルゴリズムは、顔を認識できるオブジェクトを持つほとんどすべての画像でも機能します）。</font><font style="vertical-align: inherit;">Pythonターミナルインターフェースは画像出力をサポートしていないため</font><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">Python画像ライブラリで</font></b><b><font style="vertical-align: inherit;">Jupyter Notebook</font></b><font style="vertical-align: inherit;">を使用する必要があります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （PIL）、結果を出力できるようにするため：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image
<span class="hljs-keyword">import</span> io</code></pre><br>
<pre><code class="python hljs">session.evaluate(wlexpr(<span class="hljs-string">'''
image = ImageResize[ Import["Girl_with_a_Pearl_Earring.jpg"], 300];
boxes = FindFaces[image];
face = ImageAssemble[{{image,HighlightImage[image, boxes, "Blur"]}}];
'''</span>) )</code></pre><br>
<pre><code class="python hljs">data = session.evaluate( wlexpr(<span class="hljs-string">'ExportByteArray[ face, "PNG" ]'</span>) )</code></pre><br>
<pre><code class="python hljs">Image.open(io.BytesIO)</code></pre><br>
<img src="https://habrastorage.org/webt/vq/ef/ra/vqefra2fawf4rxnyqyu3h7fq-6u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、すべてが非常に簡単かつ強力になりました。</font><font style="vertical-align: inherit;">しかし、Wolfram Engineがコンピューターにローカルにインストールされておらず、Python用のWolframクライアントライブラリを使用したい場合はどうすればよいでしょうか。</font><font style="vertical-align: inherit;">この場合、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolfram Cloud</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（クラウド）</font><font style="vertical-align: inherit;">から呼び出すことにより、Wolfram言語をいつでも直接使用できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">だからクラウドに行く</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wolfram CloudはローカルにプリインストールすることなくWolfram言語への簡単なアクセスを提供します。</font><font style="vertical-align: inherit;">Wolfram CloudはWolfram言語のWebプログラミングインターフェースを含むさまざまなサービスを提供しているだけでなく、カスタムのWolfram言語のWeb APIを展開する機能も提供しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の例では、Wolfram言語のWeb APIをデプロイすることでこれを行います。</font><font style="vertical-align: inherit;">たとえば、APIは入力で2つの国（country1とcountry2）の名前を受け取り、各国の首都を見つけて、それらの間の距離（キロメートル単位）を計算します。</font></font><br>
<br>
<pre><code class="plaintext hljs">CloudDeploy[<font></font>
APIFunction[{"country1"-&gt;"String","country2"-&gt;"String"},<font></font>
QuantityMagnitude[<font></font>
       GeoDistance[<font></font>
            EntityValue[Entity["Country", #country1], "CapitalCity"],<font></font>
            EntityValue[Entity["Country", #country2], "CapitalCity"]<font></font>
        ],<font></font>
       "Kilometers"<font></font>
   ]&amp;,<font></font>
"WXF"<font></font>
],<font></font>
CloudObject["api/public/capital_distance"],<font></font>
Permissions-&gt;"Public"]</code></pre><br>
<img src="https://habrastorage.org/webt/n_/k6/17/n_k617rum5_crn4lmveruhtbdkg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このAPIをデプロイした後、新しいWolfram言語セッションを開始できますが、今回はローカルエンジンではなくWolfram Cloudに接続します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> wolframclient.evaluation WolframCloudSession<font></font>
cloud = WolframCloudSession()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APIを呼び出すには、ユーザー名（user1）とAPIエンドポイント（api / public / capital_distance）を指定する必要があります。</font><font style="vertical-align: inherit;">このデータを使用して、クラウドに接続できます...</font></font><br>
<br>
<pre><code class="python hljs">api = (<span class="hljs-string">'user1'</span>, <span class="hljs-string">'api/public/capital_distance'</span>)<font></font>
result = cloud.call(api, {<span class="hljs-string">'country1'</span>: <span class="hljs-string">'Netherlands'</span>, <span class="hljs-string">'country2'</span>: <span class="hljs-string">'Spain'</span>})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...そして、望ましい結果を得る：</font></font><br>
<pre><code class="python hljs">result.get()<font></font>
<font></font>
<span class="hljs-number">1481.4538329484521</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それがいかに簡単でシンプルかをもう一度評価してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デプロイしたWolfram言語APIを保存して自分だけが使用できるようにする場合は、[ </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">権限]</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> →[プライベート]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用してAPIをデプロイできます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これを行うには、プライベートAPIで、認証セキュリティキーを（Wolfram言語で）生成できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/256/6e9/7f6/2566e97f66daed66b68aa77c5086fd8f.png" alt="画像"><br>
<pre><code class="plaintext hljs">key = GenerateSecuredAuthenticationKey["myapp"]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の2行の入力から回答をコピーします。</font></font><br>
<br>
<pre><code class="plaintext hljs">key["ConsumerKey"]<font></font>
key["ConsumerSecret"]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、それらをPythonセッションに貼り付けます。</font></font><br>
<br>
<pre><code class="python hljs">SecuredAuthenticationKey(<span class="hljs-string">'&lt;&lt;paste-consumer-key-here&gt;&gt;'</span>, <span class="hljs-string">'&lt;&lt;paste-consumer-secret-here&gt;&gt;'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、認証を使用して新しいクラウドセッションを開始します。</font></font><br>
<br>
<pre><code class="python hljs">cloud = WolframCloudSession(credentials=sak)<font></font>
cloud.start()<font></font>
cloud.authorized()<font></font>
<font></font>
<span class="hljs-literal">True</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これであなた（そしてあなただけ）は、私的使用のために配備したWolfram言語APIを使用することができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シリアル化の基本的な概念について少し話しましょう</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてをすばやく効率的に行うために、Python用のWolframクライアントライブラリは、</font><font style="vertical-align: inherit;">PythonとWolframの間で式を交換するために</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オープンなWXF形式</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">WXFは、外部プログラムとの共有に適した形式でWolfram言語式を正確にシリアル化するためのバイナリ形式です。</font><font style="vertical-align: inherit;">ライブラリ関数</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Export</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、Pythonオブジェクトを文字列入力フォームとWXFにシリアル化できます。また、dict、list、stringなどのPython組み込みクラスのセットもサポートします。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> wolframclient.serializers <span class="hljs-keyword">import</span> export<font></font>
export({<font></font>
    <span class="hljs-string">'list'</span>: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],
    <span class="hljs-string">'string'</span>: <span class="hljs-string">u'abc'</span>,
    <span class="hljs-string">'etc'</span>: [<span class="hljs-number">0</span>, <span class="hljs-literal">None</span>, <span class="hljs-number">-1.2</span>]<font></font>
})<font></font>
<font></font>
<span class="hljs-string">b'&lt;|"list" -&gt; {1, 2, 3}, "string" -&gt; "abc", "etc" -&gt; {0, None, -1.2}|&gt;'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WXFは、数値データ配列であり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumPy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配列を効果的にサポートできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、255の8ビット正整数の配列を作成します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> numpy<font></font>
array=numpy.arange(<span class="hljs-number">255</span>, dtype=<span class="hljs-string">'uint8'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それをWXFバイトにシリアル化し、バイト数を計算します。</font></font><br>
<br>
<pre><code class="python hljs">wxf=export(array, target_format=<span class="hljs-string">'wxf'</span>)<font></font>
len(wxf)<font></font>
<font></font>
<span class="hljs-number">262</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NumPyを使用すると、多くのPythonライブラリにアクセスできます。</font><font style="vertical-align: inherit;">したがって、この効率的でコンパクトなシリアル化は、PythonシステムをWolfram言語に接続するのに役立ちます。その直接的な結果は、一般にPILイメージのシリアル化が非常に効率的であるというNumPyのサポートです。</font><font style="vertical-align: inherit;">ほとんどのピクセルデータモードは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NumericArrayType</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として指定された数値配列のタイプの1つとして表示されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ことは注目にも価値がある</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パンダ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シリーズとデータフレームが最初にここでサポートされています。</font><font style="vertical-align: inherit;">ライブラリは、</font><font style="vertical-align: inherit;">任意のクラスをシリアル化</font><font style="vertical-align: inherit;">するための</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張可能なメカニズム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も提供し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 現在何が利用可能ですか？</font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コマンドを使用して、Python用の最新のWolframクライアントライブラリをインストールします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">$ pip install wolframclient</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、Python 3.5.3（または新しいバージョン）とWolfram言語11.3（または新しいバージョン）が必要です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PythonのWolframクライアントライブラリの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">を</font></a><font style="vertical-align: inherit;">確認してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">すべてのソースコードは</font><font style="vertical-align: inherit;">、Wolfram Research </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">GitHubの</font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WolframClientForPython</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">ホストされて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">い</font></a><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
それを改善するための提案があり、私たちがこれを行うことができ、それを支援したい場合は、このリポジトリのデータを更新するリクエストを送信してこれを行うことができます。</font><font style="vertical-align: inherit;">
このリリースがようやく行われたことを大変嬉しく思います。</font><font style="vertical-align: inherit;">コメント欄または</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Wolframコミュニティ</font></a><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">あなたの意見を教えてください。私たちはあなたに</font><font style="vertical-align: inherit;">個人的に連絡するために最善を尽くします。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳について</font></font></b><div class="spoiler_text">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>       .</div></div><br>
<blockquote>     Wolfram Language?<br>
  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></b>.<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><b></b>   </a>.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><b> </b></a>.<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><b></b> </a>  Wolfram Language.</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja471802/index.html">Linux特権（機能）について簡単に説明します</a></li>
<li><a href="../ja471806/index.html">照明がゲームデザインとゲーム体験に与える影響</a></li>
<li><a href="../ja471808/index.html">既成のコンポーネントからのインバーター付きスタンドアロンGSMリレー</a></li>
<li><a href="../ja471810/index.html">Active Directoryの変更を監査するためのツールを比較する：Quest Change AuditorとNetwrix Auditor</a></li>
<li><a href="../ja471812/index.html">ソフトウェア開発者向けの無料のWolframエンジンライブラリ</a></li>
<li><a href="../ja471816/index.html">macOS Catalina 10.15のアプリに署名する方法</a></li>
<li><a href="../ja471820/index.html">電話詐欺師。ステップ3、銀行のセルが作成されたという文書を受け取ります</a></li>
<li><a href="../ja471822/index.html">Home Assistantとの最初の知り合い</a></li>
<li><a href="../ja471824/index.html">ディスケットカメラ：Sony Mavica MVC-FD85に関する8つの興味深い事実（多くの写真）</a></li>
<li><a href="../ja471836/index.html">自動化されたPythonコードの視覚化。パート4：ドキュメントのサポート</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>