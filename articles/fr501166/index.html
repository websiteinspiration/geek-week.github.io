<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍄 👷🏼 👩🏻‍🎓 oVirt en 2 heures. Partie 1. Plateforme de virtualisation de basculement ouverte 👇🏿 👂🏾 🥄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="introduction
 Projet open source oVirt est une plate-forme de virtualisation gratuite au niveau de l'entreprise. En parcourant habr, il a constaté que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>oVirt en 2 heures. Partie 1. Plateforme de virtualisation de basculement ouverte</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501166/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Projet open source </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oVirt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une plate-forme de virtualisation gratuite au niveau de l'entreprise. En parcourant habr, il a constaté que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oVirt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'est pas couvert aussi largement qu'il le mérite. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oVirt est en fait un amont pour le système commercial de virtualisation de Red Hat (RHV, anciennement RHEV), qui se développe sous l'aile de Red Hat. Pour éviter toute confusion, ce n'est </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la même chose que CentOS vs RHEL, le modèle est plus proche de Fedora vs RHEL. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous le capot - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KVM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , l'interface Web est utilisée pour le contrôle. Il est basé sur OS RHEL / CentOS 7. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oVirt peut être utilisé à la fois pour la virtualisation de serveurs et de postes de travail (VDI), contrairement à VMware, les deux systèmes peuvent coexister en un seul complexe. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien projeter</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est documenté</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a longtemps atteint sa maturité pour une utilisation productive et est prêt pour des charges élevées. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est le premier d'une série sur la création d'un cluster de basculement fonctionnel. </font><font style="vertical-align: inherit;">Après les avoir passés en revue, nous obtiendrons un système pleinement opérationnel en peu de temps (environ 2 heures), bien qu'un certain nombre de problèmes, bien sûr, ne puissent pas être résolus, je vais essayer de les couvrir dans les articles suivants.</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous l'utilisons depuis plusieurs années, nous avons commencé avec la version 4.1. </font><font style="vertical-align: inherit;">Notre système industriel vit désormais sur la 10e génération HPE Synergy 480 et ProLiant BL460c avec CPU Xeon Gold. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au moment de la rédaction, la version actuelle est 4.3.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des articles</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction - Nous sommes ici</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation du gestionnaire (ovirt-engine) et des hyperviseurs (hôtes)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paramètres additionnels</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opérations de base</font></font></a></li>
</ol><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caractéristiques fonctionnelles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a 2 entités principales dans oVirt: ovirt-engine et ovirt-host (s). Pour ceux qui connaissent les produits VMware, oVirt dans son ensemble est vSphere, ovirt-engine - la couche de contrôle - remplit les mêmes fonctions que vCenter, et ovirt-host est un hyperviseur comme ESX (i). Parce que vSphere est une solution très populaire, parfois je vais faire une comparaison avec elle. </font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/d82/496/9a3/d824969a3b631cc28c6ed5c85efee8a3.png" alt="Tableau de bord oVirt"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure. 1 - Panneau de contrôle oVirt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant qu'ordinateurs invités, la plupart des distributions Linux et des versions de Windows sont prises en charge. Pour les machines invitées, il existe des agents, des périphériques virtuels optimisés et des pilotes virtio, principalement un contrôleur de disque et une interface réseau.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour implémenter une solution tolérante aux pannes et toutes les fonctionnalités intéressantes, vous aurez besoin d'un stockage partagé. </font><font style="vertical-align: inherit;">Les stockages de blocs FC, FCoE, iSCSI et NFS de fichiers, etc. sont pris en charge. Pour implémenter une solution tolérante aux pannes, le système de stockage doit également être tolérant aux pannes (au moins 2 contrôleurs, multipassing).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation de stockages locaux est possible, mais par défaut, seuls les stockages partagés conviennent à un cluster réel. </font><font style="vertical-align: inherit;">Les stockages locaux font du système un ensemble disparate d'hyperviseurs, et même s'il existe un stockage partagé, le cluster ne peut pas être assemblé. </font><font style="vertical-align: inherit;">La façon la plus correcte est d'utiliser des machines sans disque avec démarrage à partir du SAN ou des disques de taille minimale. </font><font style="vertical-align: inherit;">Il est possible que grâce au hook vdsm, il soit possible de construire à partir de disques de stockage défini par logiciel locaux (par exemple Ceph) et de présenter sa machine virtuelle, mais je n'y ai pas sérieusement pensé.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/e84/780/b8c/e84780b8cabaa37be0fbe136725dcdf6.png" alt="cambre"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure. </font><font style="vertical-align: inherit;">2 - Architecture oVirt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus d'informations sur l'architecture, consultez la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du développeur. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8fe/1ce/052/8fe1ce052c9dcd6ccc9bec1750ce48c0.png" alt="dc"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure. </font><font style="vertical-align: inherit;">3 - Objets oVirt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'élément supérieur de la hiérarchie est le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centre de données</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il détermine si le stockage partagé ou local est utilisé, ainsi que l'ensemble des fonctions utilisées (compatibilité, de 4.1 à 4.3). </font><font style="vertical-align: inherit;">Peut être un ou plusieurs. </font><font style="vertical-align: inherit;">Pour de nombreuses options, l'utilisation du centre de données par défaut est Par défaut. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le centre de données comprend un ou plusieurs </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clusters</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le cluster détermine le type de processeur, les politiques de migration, etc. Pour les petites installations, vous pouvez également vous limiter au cluster par défaut. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le cluster, à son tour, se compose de l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hôte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fait le travail principal - ils transportent des machines virtuelles, des stockages y sont connectés. </font><font style="vertical-align: inherit;">Un cluster suppose 2 hôtes ou plus. </font><font style="vertical-align: inherit;">Bien qu'il soit techniquement possible de faire un cluster avec un 1er hôte, mais cela n'est d'aucune utilité pratique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OVirt prend en charge de nombreuses fonctions, notamment </font><font style="vertical-align: inherit;">migration en direct de machines virtuelles entre hyperviseurs (migration en direct) et stockage (migration de stockage), virtualisation de bureau (infrastructure de bureau virtuel) avec pools de machines virtuelles, machines virtuelles sans état et sans état, prise en charge de NVidia Grid vGPU, importation depuis vSphere, KVM, il existe une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puissante </font><font style="vertical-align: inherit;">et bien plus encore . </font><font style="vertical-align: inherit;">Toutes ces fonctionnalités sont disponibles sans redevances et, si nécessaire, une assistance peut être obtenue auprès de Red Hat via des partenaires régionaux.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À propos des prix RHV</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le coût n'est pas élevé par rapport à VMware, seul le support est acheté - sans nécessiter l'achat de la licence elle-même. </font><font style="vertical-align: inherit;">Le support est acheté uniquement sur les hyperviseurs; le moteur ovirt, contrairement à vCenter Server, ne nécessite pas de dépenses.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple de calcul pour la 1ère année de possession</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérez un groupe de 4 machines à 2 connecteurs et les prix de détail (sans rabais sur le projet). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un abonnement RHV standard </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coûte 999 $</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par socket / an (premium 365/24/7 - 1499 $), total 4 * 2 * 999 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font><b><font style="vertical-align: inherit;">7992 $</font></b><font style="vertical-align: inherit;"> . </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prix ​​VSphere</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vCenter Server Standard 10 837,13 $ par instance, plus un abonnement de base 2 625,41 $ (Production - 3 125,39 $);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vSphere Standard 1 164,15 $ + abonnement de base 552,61 $ (production 653,82 $);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware vSphere Enterprise Plus 6 309,23 $ + abonnement de base 1 261,09 $ (production 1 499,94 $).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total: 10 837,13 + 2 625,41 + 4 * 2 * (1 164,15 + 552,61) = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27 196,62 $</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour l'option la plus jeune. </font><font style="vertical-align: inherit;">La différence est d'environ 3,5 fois! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans oVirt, toutes les fonctions sont disponibles sans restrictions.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brève spécifications et sommets</font></font></h2><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration requise</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'hyperviseur nécessite un processeur avec virtualisation matérielle activée, la quantité minimale de RAM pour démarrer est de 2 Gio, la capacité de stockage recommandée pour le système d'exploitation est de 55 Gio (pour la plupart pour les magazines, etc., le système d'exploitation lui-même est petit). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus de détails </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engine, les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> exigences minimales sont de 2 cœurs / 4 Gio de RAM / 25 Gio de stockage. </font><font style="vertical-align: inherit;">Recommandé - à partir de 4 cœurs / 16 Gio de RAM / 50 Gio de stockage. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme pour tout système, il existe des restrictions sur les volumes et les quantités, dont la plupart dépassent les capacités des serveurs commerciaux de masse disponibles. </font><font style="vertical-align: inherit;">Ainsi, une paire d' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel Xeon Gold 6230</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut traiter 2 To de RAM et donne 40 cœurs (80 threads), ce qui est même moins que les limites d'une machine virtuelle.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maximums de machines virtuelles:</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre maximal de machines virtuelles exécutées simultanément: illimité;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU virtuels maximum par machine virtuelle: 384;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mémoire maximale par machine virtuelle: 4 TiB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taille maximale d'un seul disque par machine virtuelle: 8 TiB.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maximum d'hôte:</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cœurs ou threads logiques d'UC: 768;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM: 12 TiB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre de machines virtuelles hébergées: 250;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrations simultanées en direct: 2 entrantes, 2 sortantes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bande passante de migration en direct: par défaut, 52 Mio (~ 436 Mo) par migration lors de l'utilisation de la stratégie de migration héritée. </font><font style="vertical-align: inherit;">D'autres stratégies utilisent des valeurs de débit adaptatif en fonction de la vitesse du périphérique physique. </font><font style="vertical-align: inherit;">Les politiques de QoS peuvent limiter la bande passante de migration.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maximum d'entités logiques du gestionnaire:</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans 4.3, les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limites suivantes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> existent </font><font style="vertical-align: inherit;">.</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centre de données</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre maximal de centres de données: 400;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre d'hôtes maximum: 400 pris en charge, 500 testés;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre maximal de VM: 4000 prises en charge, 5000 testées;</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grappe</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre maximal de clusters: 400;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre d'hôtes maximum: 400 pris en charge, 500 testés;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre maximal de VM: 4000 prises en charge, 5000 testées;</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réseau</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Réseaux logiques / cluster: 300;</font></font></li>
<li>SDN/external networks: 2600 tested, no enforced limit;</li>
</ul></li>
<li>Storage<br>
 <ul>
<li>Maximum domains: 50 supported, 70 tested;</li>
<li>Hosts per domain: No limit;</li>
<li>Logical volumes per block domain (more): 1500;</li>
<li>Maximum number of LUNs (more): 300;</li>
<li>Maximum disk size: 500 TiB (limited to 8 TiB by default).</li>
</ul></li>
</ul><br>
<br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme déjà mentionné, oVirt est construit à partir de 2 éléments de base - ovirt-engine (contrôle) et ovirt-host (hyperviseur). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moteur peut être situé à la fois à l'extérieur de la plate-forme elle-même (gestionnaire autonome - il peut s'agir d'une machine virtuelle exécutée sur une autre plate-forme ou d'un hyperviseur séparé et même d'une machine physique), et sur la plate-forme elle-même (moteur auto-hébergé, similaire à l'approche VCSA de VMware). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'hyperviseur peut être installé à la fois sur un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">système d'exploitation ordinaire RHEL / CentOS 7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (hôte EL) et sur un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">système d'exploitation minimal spécialisé</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (oVirt-Node, basé sur el7). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La configuration matérielle requise pour toutes les options est approximativement la même. </font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/2d4/6ee/e87/2d46eee87509b852871b0a247005497d.png" alt="Architecture standard"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure. 4 - architecture standard. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/894/aaa/576/894aaa576d2f26123a3b3149a5e18159.png" alt="Architecture de moteur auto-hébergée"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Figure. 5 - Architecture du moteur auto-hébergée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ma part, j'ai choisi l'option Manager autonome et EL Hosts:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le gestionnaire autonome est un peu plus facile avec les problèmes de démarrage, il n'y a pas de dilemme de poulet et d'oeuf (comme pour VCSA, vous ne l'exécuterez pas avant qu'au moins un hôte ne soit complètement opérationnel), mais il y a une dépendance à un autre système </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EL Host fournit toute la puissance du système d'exploitation, ce qui est utile pour la surveillance externe, le débogage, le dépannage, etc.</font></font></li>
</ul><br>
<i><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cependant, sur toute la période de fonctionnement, cela n'était pas nécessaire, même après un grave accident de courant. </font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais plus près du but! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'expérience, il est possible de libérer une paire de lames ProLiant BL460c G7 avec le CPU Xeon®. </font><font style="vertical-align: inherit;">Nous reproduirons le processus d'installation sur eux. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les nœuds seront nommés ovirt.lab.example.com, kvm01.lab.example.com et kvm02.lab.example.com. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous procédons directement à l'</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> installation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501154/index.html">Nous mesurons la température sans ADC</a></li>
<li><a href="../fr501156/index.html">HackTheBox. Passage d'obscurité. Injection de commande du système d'exploitation et condition de concurrence</a></li>
<li><a href="../fr501158/index.html">Rendre Android View Binding pratique avec Kotlin</a></li>
<li><a href="../fr501162/index.html">Comparaison de scènes de rap russe en utilisant les techniques de R et de Text Mining. Noize Mc et Kasta contre Pharaon et Morgenshtern</a></li>
<li><a href="../fr501164/index.html">Visualisation des topologies de réseau, ou pourquoi d'autre ingénieur réseau Python # 2</a></li>
<li><a href="../fr501168/index.html">Les aides-soignants se sauvent - sauvegardent-ils, sauvegardent-ils, s'épuisent-ils?</a></li>
<li><a href="../fr501172/index.html">Mon ordinateur Mikrosh: continuez la semaine de la nostalgie</a></li>
<li><a href="../fr501178/index.html">Comment regarder du porno affecte la productivité du travail et des études</a></li>
<li><a href="../fr501180/index.html">[Post-Question] Avez-vous besoin d'un mouvement informatique pour FAITS sur le coronavirus et les «effets secondaires»</a></li>
<li><a href="../fr501182/index.html">oVirt en 2 heures. Partie 2. Installation du gestionnaire et des hôtes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>