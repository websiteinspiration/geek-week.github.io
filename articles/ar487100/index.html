<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐ ููุงูู ุจูุงูุงุช ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ ๐ ๐จ๐พโ๐ป ๐จ๐พโ๐ผ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุณููุงุช ุ ูุงู ุงูุฎุจุฑุงุก ูู C ++ ููุงูุดูู ุฏูุงูุงุช ุงูููู ูุงูุซุจุงุช ูุชูุงุณู ุงูููุงุฑุฏ ูู ุฎูุงู ุงูุชูุงุตู. ุญูู ุนุงูู ุฌุฏูุฏ ุจุฏูู ูุงุฆูุงุช ูุฃุฌูุงุณ ุ ุจุฏูู ุฃููุงุท ุงูููุงุฏุฉ ูุงููุฑุง...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ููุงูู ุจูุงูุงุช ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/487100/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณููุงุช ุ ูุงู ุงูุฎุจุฑุงุก ูู C ++ ููุงูุดูู ุฏูุงูุงุช ุงูููู ูุงูุซุจุงุช ูุชูุงุณู ุงูููุงุฑุฏ ูู ุฎูุงู ุงูุชูุงุตู. </font><font style="vertical-align: inherit;">ุญูู ุนุงูู ุฌุฏูุฏ ุจุฏูู ูุงุฆูุงุช ูุฃุฌูุงุณ ุ ุจุฏูู ุฃููุงุท ุงูููุงุฏุฉ ูุงููุฑุงูุจ. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ูู ุดูุก ููุณ ุจูุฐู ุงูุจุณุงุทุฉ. </font><font style="vertical-align: inherit;">ูุง ุชุฒุงู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ ูู ููุงูู ุงูุจูุงูุงุช ูุฏููุง.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6o/pu/18/6opu18ei6gi5dbo8dvcsgopyebq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงูู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ูุง ุชุบูุฑ ููููุง. ููููุงู ุจุดูุก ูุนูู ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููู ุฌุฏูุฏุฉ. ุชุจูู ุงูููู ุงููุฏููุฉ ูู ููุณ ุงูููุงู ุ ุจุญูุซ ูููู ูุฑุงุกุชูุง ูู ุชูุงุฑุงุช ูุฎุชููุฉ ุฏูู ูุดุงูู ูุฃููุงู. ููุชูุฌุฉ ูุฐูู ุ ูููู ูุดุงุฑูุฉ ุงูููุงุฑุฏ ุจุดูู ุฃูุซุฑ ุนููุงููุฉ ูุชุฑุชูุจ ุ ูุฃู ุงูููู ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ ูููู ุฃู ุชุณุชุฎุฏู ุงูุจูุงูุงุช ุงููุดุชุฑูุฉ. ูุจูุถู ูุฐุง ุ ููู ุฃุณุฑุน ุจูุซูุฑ ูู ุงูููุงุฑูุฉ ูุน ุจุนุถูุง ุงูุจุนุถ ูุชุฎุฒูู ุชุงุฑูุฎ ุงูุนูููุงุช ุจุดูู ูุถุบูุท ูุน ุฅููุงููุฉ ุงูุฅูุบุงุก. ูู ูุฐุง ููุงุณุจ ุชูุงููุง ุงูุฃูุธูุฉ ูุชุนุฏุฏุฉ ุงูุฎููุท ูุงูุชูุงุนููุฉ: ุชุจุณุท ููุงูู ุงูุจูุงูุงุช ูุฐู ุจููุฉ ุชุทุจููุงุช ุณุทุญ ุงูููุชุจ ูุชุณูุญ ููุฎุฏูุงุช ุจุงูุชูุณุน ุจุดูู ุฃูุถู. ุงูููุงูู ุบูุฑ ุงูุซุงุจุชุฉ ูู ุณุฑ ูุฌุงุญ ูููุฌูุฑ ูุณูุงูุง ุ ูุญุชู ูุฌุชูุน ุฌุงูุง ุณูุฑูุจุช ูุณุชููุฏ ูููุง ุงูุขู ุ ูุฃู ูุฏููู ููุชุจุฉ Immutable.js ุููุชูุจ ูู ุฃุญุดุงุก ุดุฑูุฉ ุงูููุณุจูู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญุช ุงูููุทุน - ููุฏูู ูุชุฑุฌูุฉ ูุชูุฑูุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Juan Puente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู ูุคุชูุฑ C ++ Russia 2019 ูู ููุณูู. </font><font style="vertical-align: inherit;">ูุชุญุฏุซ ุฌูุงู ุนู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Immer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููู ููุชุจุฉ ูู ุงูููุงูู ุบูุฑ ุงููุงุจูุฉ ููุชุบููุฑ ูู C ++. </font><font style="vertical-align: inherit;">ูู ุงูููุดูุฑ:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฒุงูุง ุงููุนูุงุฑูุฉ ููุญุตุงูุฉ ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูุดุงุก ููุน ูุงูู ูุณุชูุฑ ูุนุงู ูุนุชูุฏ ุนูู ุฃุดุฌุงุฑ ูุฌูุฉ ููุงุฆุญ ุงูุฑุงุฏูู ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญููู ุงูุนูุงุฑุฉ ุนูู ุณุจูู ุงููุซุงู ูุญุฑุฑ ูุต ุจุณูุท.</font></font></li>
</ul><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dbFfpTp3EhA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฃุณุงุฉ ุงูุนูุงุฑุฉ ุงููุงุฆูุฉ ุนูู ุงููููุฉ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุฃูููุฉ ููุงูู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ุ ููุงูุด ุฏูุงูุงุช ุงูููู. ูุฐู ููุฒุฉ ูููุฉ ุฌุฏูุง ูู C ++ ุ ุฃุนุชุจุฑูุง ูุงุญุฏุฉ ูู ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ ููุฐู ุงููุบุฉ. ููู ูุฐุง ุ ูู ุงูุตุนุจ ุฌุฏูุง ุงุณุชุฎุฏุงู ุฏูุงูุงุช ุงูููู ููุง ูุฑุบุจ. ุฃุนุชูุฏ ุฃู ูุฐู ูุฃุณุงุฉ ุงูุนูุงุฑุฉ ุงููุงุฆูุฉ ุนูู ุงููููุฉ ุ ูุงูุทุฑูู ุฅูู ูุฐู ุงููุฃุณุงุฉ ูุฑุตููุฉ ุจุงูููุงูุง ุงูุญุณูุฉ. ูููุชุฑุถ ุฃููุง ุจุญุงุฌุฉ ุฅูู ูุชุงุจุฉ ุจุฑูุงูุฌ ุชูุงุนูู ุจูุงุกู ุนูู ูููุฐุฌ ุจูุงูุงุช ูุน ุชูุซูู ูุณุชูุฏ ูุงุจู ููุชุญุฑูุฑ ูู ูุจู ุงููุณุชุฎุฏู. ุนูุฏูุง ุชุณุชุฎุฏู ุงูุนูุงุฑุฉ ุงููุงุฆูุฉ ุนูู ุงูููู ูู ููุจ ูุฐุง ุงููููุฐุฌ ุฃููุงุนูุง ุจุณูุทุฉ ููุฑูุญุฉ ูู ุงูููู ุงูููุฌูุฏุฉ ุจุงููุนู ูู ุงููุบุฉ: </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>tuple</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุ</font></font><code>struct</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุชู ุฅูุดุงุก ููุทู ุงูุชุทุจูู ูู ุงููุธุงุฆู ุงูุชู ุชุฃุฎุฐ ุงููุณุชูุฏุงุช ุญุณุจ ุงููููุฉ ูุชุฑุฌุน ูุณุฎุฉ ุฌุฏูุฏุฉ ูู ุงููุณุชูุฏ ุญุณุจ ุงููููุฉ. ูุฏ ูุชุบูุฑ ูุฐุง ุงููุณุชูุฏ ุฏุงุฎู ุงููุธููุฉ (ููุง ูุญุฏุซ ุฃุฏูุงู) ุ ูููู ุฏูุงูุงุช ุงูููู ูู C ++ ุ ุงููุทุจูุฉ ุนูู ุงููุณูุทุฉ ุญุณุจ ุงููููุฉ ูููุน ุงูุฅุฑุฌุงุน ุญุณุจ ุงููููุฉ ุ ุชุถูู ุนุฏู ูุฌูุฏ ุฃู ุขุซุงุฑ ุฌุงูุจูุฉ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fh/7e/0y/fh7e0ybdwuqnh3iona30quev4ja.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐู ุงูููุฒุฉ ุณููุฉ ููุบุงูุฉ ููุชุญููู ูุงูุงุฎุชุจุงุฑ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cb/5c/4x/cb5c4xq-hps1x76mn-fmweshklu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุธุฑูุง ูุฃููุง ูุนูู ูุน ุงูููู ุ ุณูุญุงูู ุชูููุฐ ุงูุชุฑุงุฌุน ุนู ุงูุฅุฌุฑุงุก. ูููู ุฃู ูููู ูุฐุง ุตุนุจูุง ุ ูููู ูุน ููุฌูุง ุ ุชููู ูููุฉ ุชุงููุฉ: ูุฏููุง </font></font><code>std::vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุฎ ูุฎุชููุฉ ูู ุงููุซููุฉ ูุน ุญุงูุงุช ูุฎุชููุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d-/vh/nd/d-vhndh9j8leugdcjoyf3b4yhqq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุชุฑุถ ุฃู ูุฏููุง ุฃูุถูุง ูุงุฌูุฉ ูุณุชุฎุฏู ุ ููุถูุงู ุงุณุชุฌุงุจุชูุง ุ ูุฌุจ ุฃู ูุชู ุชุนููู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูู ุณูุณูุฉ ูุญุงุฏุซุงุช ูููุตูุฉ. ูุชู ุฅุฑุณุงู ุงููุณุชูุฏ ุฅูู ุฏูู ุขุฎุฑ ุนู ุทุฑูู ุงูุฑุณุงูุฉ ุ ููุชู ุงูุชูุงุนู ุฃูุถูุง ุนูู ุฃุณุงุณ ุงูุฑุณุงุฆู ุ ูููุณ ูู ุฎูุงู ูุดุงุฑูุฉ ุงูุญุงูุฉ ุจุงุณุชุฎุฏุงู </font></font><code>mutexes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุนูุฏูุง ูุชู ุงุณุชูุงู ุงููุณุฎุฉ ูู ูุจู ุงูุฏูู ุงูุซุงูู ุ ููุงู ููููู ุชูููุฐ ุฌููุน ุงูุนูููุงุช ุงููุงุฒูุฉ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/xx/kc/toxxkcwck44iayev1hywf-wqllk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุบุงูุจูุง ูุง ูููู ุญูุธ ุงููุณุชูุฏ ุนูู ุงููุฑุต ุจุทูุฆูุง ุฌุฏูุง ุ ุฎุงุตุฉ ุฅุฐุง ูุงู ุงููุณุชูุฏ ูุจูุฑูุง. ูุฐูู ุ ูุชู ุงุณุชุฎุฏุงู </font></font><code>std::async</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ุงูุนูููุฉ ุจุดูู ุบูุฑ ูุชุฒุงูู. ูุญู ูุณุชุฎุฏู ูุงูุฏุง ุ ููุถุน ุนูุงูุฉ ูุณุงููุฉ ุจุฏุงุฎูู ููุญุตูู ุนูู ูุณุฎุฉ ุ ูุงูุขู ููููู ุงูุญูุธ ุจุฏูู ุฃููุงุน ุจุฏุงุฆูุฉ ุฃุฎุฑู ูู ุงููุฒุงููุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ve/ey/jj/veeyjjijubbrc49-ghusxnuft4e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุงูุฉ ุนูู ุฐูู ุ ูููุชุฑุถ ุฃู ูุฏููุง ุฃูุถูุง ุชุฏูู ุชุญูู ูู ุงูุตูุช. ููุง ููุช ุ ููุฏ ุนููุช ูุซูุฑูุง ูุน ุจุฑูุงูุฌ ุงูููุณููู ุ ูุงูุตูุช ูู ุชูุซูู ุขุฎุฑ ููุณุชูุฏูุง ุ ูุฌุจ ุฃู ูููู ูู ุฏูู ูููุตู. ูุฐูู ุ ููุฒู ุฃูุถูุง ูุณุฎุฉ ูู ุงููุณุชูุฏ ููุฐุง ุงูุฏูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุชูุฌุฉ ูุฐูู ุ ุญุตููุง ุนูู ูุฎุทุท ุฌููู ููุบุงูุฉ ุ ูููู ููุณ ูุงูุนููุง ุฌุฏูุง. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dj/w2/hu/djw2hu7q55lbi2nmgmwok1i_cb0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุนููู ูุณุฎ ุงููุณุชูุฏุงุช ุจุงุณุชูุฑุงุฑ ุ ููุฃุฎุฐ ุณุฌู ุงูุฅุฌุฑุงุก ููุฅูุบุงุก ุบูุบุงุจุงูุช ุ ูููู ุนุฑุถ ููุงุฌูุฉ ุงููุณุชุฎุฏู ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุณุฎุฉ ุนูููุฉ ูู ุงููุณุชูุฏ. ุจุดูู ุนุงู ุ ูู ุงูุชูุงุนูุงุช ููููุฉ ููุบุงูุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uq/sv/8-/uqsv8-sx3hphtcm9wvozi1z83fs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงุฐุง ููุนู ูุทูุฑ C ++ ูู ูุฐู ุงูุญุงูุฉุ ุจุฏูุงู ูู ูุจูู ุงููุณุชูุฏ ุญุณุจ ุงููููุฉ ุ ููุจู ููุทู ุงูุชุทุจูู ุงูุขู ุฑุงุจุทูุง ูููุณุชูุฏ ููููู ุจุชุญุฏูุซู ุฅุฐุง ูุฒู ุงูุฃูุฑ. ูู ูุฐู ุงูุญุงูุฉ ุ ูุง ุชุญุชุงุฌ ุฅูู ุฅุฑุฌุงุน ุฃู ุดูุก. ููููุง ุงูุขู ูุง ูุชุนุงูู ูุน ุงูููู ุ ูููู ูุน ุงูุฃุดูุงุก ูุงูููุงูุน. ูุฐุง ูุฎูู ูุดุงูู ุฌุฏูุฏุฉ: ุฅุฐุง ูุงู ููุงู ุฑุงุจุท ุฅูู ุงูุฏููุฉ ูุน ูุตูู ูุดุชุฑู ุ ูุฃูุช ุจุญุงุฌุฉ ุฅููู </font></font><code>mutex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐุง ุฃูุฑ ูููู ููุบุงูุฉ ุ ูุฐูู ุณูููู ููุงู ุจุนุถ ุงูุชูุซูู ููุงุฌูุฉ ุงููุณุชุฎุฏู ูุฏููุง ูู ุดูู ุดุฌุฑุฉ ูุนูุฏุฉ ููุบุงูุฉ ูู ูุฎุชูู ุงูุญุงุฌูุงุช.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุฃู ุชุชููู ุฌููุน ูุฐู ุงูุนูุงุตุฑ ุชุญุฏูุซุงุช ุนูุฏ ุชุบููุฑ ุงููุณุชูุฏ ุ ูุฐูู ููุงู ุญุงุฌุฉ ุฅูู ุจุนุถ ุขููุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุฅุดุงุฑุงุช ุงูุชุบููุฑ. ุนูุงูุฉ ุนูู ุฐูู ุ ูู ูุนุฏ ุชุงุฑูุฎ ุงููุณุชูุฏ ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูู ุงูุญุงูุงุช ุ ุจู ุณูููู ุชูููุฐูุง ูููุท ุงููุฑูู. ูุฌุจ ุชูููุฐ ุงูุนูููุฉ ูุฑุชูู ุ ูู ุงุชุฌุงู ูุงุญุฏ ููู ุงูุขุฎุฑ ุ ูุงูุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุชูุงุซู. ุฅู ุงูุญูุธ ูู ุณูุณูุฉ ุฑุณุงุฆู ูููุตูุฉ ุฃูุฑ ุตุนุจ ููุบุงูุฉ ุ ูุฐุง ูุฌุจ ุงูุชุฎูู ุนู ูุฐุง. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/lr/sj/dllrsjhkvqxxckjx1r69lflqck4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุนุชุงุฏ ุงููุณุชุฎุฏููู ุนูู ุตูุฑุฉ ุงูุณุงุนุฉ ุงูุฑูููุฉ ุ ูุฐูู ูุง ุจุฃุณ ุฅุฐุง ุงูุชุธุฑูุง ููููุงู. ุดูุก ุขุฎุฑ ูุฎูู - ูุญุด ุงููุนูุฑููุฉ ูุญูู ุงูุขู ุฑูุฒูุง.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃู ููุทุฉ ุงูุญุฏุฑ ูู ุดูุกุ </font><font style="vertical-align: inherit;">ููุฏ ูููุง ุจุชุตููู ุงูููุฏ ุงูุฎุงุต ุจูุง ุจุดูู ุฌูุฏ ููุบุงูุฉ ุ ุซู ุงุถุทุฑุฑูุง ุฅูู ุงูุชูุงุฒู ุจุณุจุจ ุงููุณุฎ. </font><font style="vertical-align: inherit;">ูููู ูู C ++ ุ ููุฒู ุงููุณุฎ ูุชูุฑูุฑ ุงููููุฉ ููุท ููุจูุงูุงุช ุงููุงุจูุฉ ููุชุบููุฑ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุงููุงุฆู ุบูุฑ ูุงุจู ููุชุบููุฑ ุ ููููู ุนูุฏุฆุฐ ุชูููุฐ ุนุงูู ุงูุชุฎุตูุต ุจุญูุซ ูููู ุจูุณุฎ ุงููุคุดุฑ ููุท ุฅูู ุงูุชูุซูู ุงูุฏุงุฎูู ูููุณ ุฃูุซุฑ.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">const</span> auto v0 = vector&lt;<span class="hljs-keyword">int</span>&gt;{};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฑ ูู ุจููุฉ ุจูุงูุงุช ูููู ุฃู ุชุณุงุนุฏูุง. </font><font style="vertical-align: inherit;">ูู ุงููุชุฌู ุฃุฏูุงู ุ ูุชู ูุถุน ุนูุงูุฉ ุนูู ุฌููุน ุงูุทุฑู ุนูู </font></font><code>const</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุง ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ. </font><font style="vertical-align: inherit;">ุนูุฏ ุงูุชูููุฐ </font></font><code>.push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุง ูุชู ุชุญุฏูุซ ุงููุชุฌู ุ ุจุฏูุงู ูู ุฐูู ุ ูุชู ุฅุฑุฌุงุน ูุชุฌู ุฌุฏูุฏ ุชุชู ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงููููููุฉ ุฅููู. </font><font style="vertical-align: inherit;">ููุฃุณู ุ ูุง ูููููุง ุงุณุชุฎุฏุงู ุงูุฃููุงุณ ุงููุฑุจุนุฉ ูุน ูุฐุง ุงูููุฌ ุจุณุจุจ ููููุฉ ุชุนุฑูููุง. </font><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุฐูู ุ ููููู ุงุณุชุฎุฏุงู ุงููุธููุฉ</font></font><code>.set</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฐู ููุฑุฌุน ุฅุตุฏุงุฑูุง ุฌุฏูุฏูุง ุจุนูุตุฑ ูุญุฏุซ. ูุญุชูู ูููู ุงูุจูุงูุงุช ูุฏููุง ุงูุขู ุนูู ุฎุงุตูุฉ ุชุณูู ุงููุซุงุจุฑุฉ ูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ. ูุฐุง ูุง ูุนูู ุฃููุง ูุญูุธ ุจููุฉ ุงูุจูุงูุงุช ูุฐู ุนูู ูุญุฑู ุงูุฃูุฑุงุต ุงูุซุงุจุชุฉ ุ ูููู ุญูููุฉ ุฃูู ุนูุฏูุง ูุชู ุชุญุฏูุซูุง ุ ูุง ูุชู ุญุฐู ุงููุญุชูู ุงููุฏูู - ุจุฏูุงู ูู ุฐูู ุ ูุชู ุฅูุดุงุก ุดููุฉ ุฌุฏูุฏุฉ ูู ุนุงูููุง ุ ุฃู ุงููููู. ุจูุถู ูุฐุง ุ ูููููุง ููุงุฑูุฉ ุงูููู ุงูุณุงุจูุฉ ุจุงูุญุงุถุฑ - ูุชู ุฐูู ุจูุณุงุนุฏุฉ ุงุซููู </font></font><code>assert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">const</span> auto v0 = vector&lt;<span class="hljs-keyword">int</span>&gt;{};
<span class="hljs-keyword">const</span> auto v1 = v0.push_back(<span class="hljs-number">15</span>);
<span class="hljs-keyword">const</span> auto v2 = v1.push_back(<span class="hljs-number">16</span>);
<span class="hljs-keyword">const</span> auto v3 = v2.<span class="hljs-keyword">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">42</span>);<font></font>
<font></font>
assert(v2.size() == v0.size() + <span class="hljs-number">2</span>);<font></font>
assert(v3[<span class="hljs-number">0</span>] - v1[<span class="hljs-number">0</span>] == <span class="hljs-number">27</span>);</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุงูุขู ุงูุชุญูู ูู ุงูุชุบููุฑุงุช ูุจุงุดุฑุฉ ุ ููู ูู ุชุนุฏ ุฎุตุงุฆุต ูุฎููุฉ ูุจููุฉ ุงูุจูุงูุงุช. ูุฐู ุงูููุฒุฉ ุฐุงุช ูููุฉ ุฎุงุตุฉ ูู ุงูุฃูุธูุฉ ุงูุชูุงุนููุฉ ุญูุซ ูุชุนูู ุนูููุง ุจุงุณุชูุฑุงุฑ ุชุบููุฑ ุงูุจูุงูุงุช. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฎุงุตูุฉ ุฃุฎุฑู ูููุฉ ูู ุงููุดุงุฑูุฉ ุงููููููุฉ. ูุญู ุงูุขู ูุง ูููู ุจูุณุฎ ุฌููุน ุงูุจูุงูุงุช ููู ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุจููุฉ ุงูุจูุงูุงุช. ุญุชู ูุน </font></font><code>.push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู</font></font><code>.set</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูุชู ูุณุฎ ุฌููุน ุงูุจูุงูุงุช ุ ูููู ููุท ุฌุฒุก ุตุบูุฑ ูููุง. ุชุชูุชุน ุฌููุน ุดููุงุชูุง ุจุฅููุงููุฉ ูุตูู ูุดุชุฑูุฉ ุฅูู ุนุฑุถ ูุถุบูุท ูุชูุงุณุจ ูุน ุนุฏุฏ ุงูุชุบููุฑุงุช ูููุณ ุนุฏุฏ ุงููุณุฎ. ููุชุฑุชุจ ุนูู ุฐูู ุฃูุถูุง ุฃู ุงูููุงุฑูุฉ ุณุฑูุนุฉ ุฌุฏูุง: ุฅุฐุง ุชู ุชุฎุฒูู ูู ุดูุก ูู ูุชูุฉ ุฐุงูุฑุฉ ูุงุญุฏุฉ ุ ูู ูุคุดุฑ ูุงุญุฏ ุ ูููููู ุจุจุณุงุทุฉ ููุงุฑูุฉ ุงููุคุดุฑุงุช ูุนุฏู ูุญุต ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ ุฏุงุฎููุง ุ ุฅุฐุง ูุงูุช ูุชุณุงููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฐ ูุชุฌู ูู ูุฐุง ุงููุจููุ ููุง ูุจุฏู ููุ ุฃูุฑ ูููุฏ ููุบุงูุฉุ ูุฃูุง ุชูููุฐู ูู ููุชุจุฉ ูููุตูุฉ: ูุฐุง ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅููุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ููุชุจุฉ ููุงูู ุซุงุจุชุฉุ ููู ูุดุฑูุน ููุชูุญ ุงููุตุฏุฑ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏ ูุชุงุจุชู ุ ุฃุฑุฏุช ุฃู ูููู ุงุณุชุฎุฏุงูู ูุฃููููุง ููุทูุฑู C ++. </font><font style="vertical-align: inherit;">ููุงู ุงูุนุฏูุฏ ูู ุงูููุชุจุงุช ุงูุชู ุชุทุจู ููุงููู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ ูู C ++ ุ ูููููุง ุชุนุทู ุงูุงูุทุจุงุน ุจุฃู ุงููุทูุฑูู ููุชุจูู ูู Haskell ุ ูููุณ ูู C ++. </font><font style="vertical-align: inherit;">ูุฐุง ูุฎูู ุฅุฒุนุงุฌูุง. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุญููุช ุฃุฏุงุกู ุฌูุฏูุง. </font><font style="vertical-align: inherit;">ูุณุชุฎุฏู ุงููุงุณ ูุบุฉ C ++ ุนูุฏูุง ุชููู ุงูููุงุฑุฏ ุงููุชุงุญุฉ ูุญุฏูุฏุฉ. </font><font style="vertical-align: inherit;">ูุฃุฎูุฑูุง ุ ุฃุฑุฏุช ุฃู ุชููู ุงูููุชุจุฉ ูุงุจูุฉ ููุชุฎุตูุต. </font><font style="vertical-align: inherit;">ูุฑุชุจุท ูุฐุง ุงููุชุทูุจ ุจูุชุทูุจุงุช ุงูุฃุฏุงุก.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุญุซุง ุนู ูุงูู ุณุญุฑู</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุฌุฒุก ุงูุซุงูู ูู ุงูุชูุฑูุฑ ุ ุณููุธุฑ ูู ููููุฉ ููููุฉ ูุฐุง ุงููุงูู ุบูุฑ ุงูุซุงุจุช. ุฃุณูู ุทุฑููุฉ ูููู ูุจุงุฏุฆ ุจููุฉ ุงูุจูุงูุงุช ูุฐู ูู ุงูุจุฏุก ุจูุงุฆูุฉ ููุชุธูุฉ. ุฅุฐุง ููุช ูุนุชุงุฏูุง ููููุงู ุนูู ุงูุจุฑูุฌุฉ ุงููุธูููุฉ (ุจุงุณุชุฎุฏุงู Lisp ุฃู Haskell ููุซุงู) ุ ูุฃูุช ุชุนูู ุฃู ุงูููุงุฆู ูู ุฃูุซุฑ ููุงูู ุงูุจูุงูุงุช ุบูุฑ ุงูุซุงุจุชุฉ ุดููุนูุง. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rn/ou/d6/rnoud6a8vaqpet2jg-n18be85fk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุจุฏุงูุฉ ุ ูููุชุฑุถ ุฃู ูุฏููุง ูุงุฆูุฉ ุจูุง ุนูุฏุฉ ูุงุญุฏุฉ </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุนูุฏ ุฅุถุงูุฉ ุนูุงุตุฑ ุฌุฏูุฏุฉ ุฅูู ุฃุนูู ุงููุงุฆูุฉ ุ ูุชู ุฅูุดุงุก ุนูุฏ ุฌุฏูุฏุฉ ุ ููู ูููุง ูุคุดุฑ ุฅูู ุนูุฏุฉ ููุฌูุฏุฉ. ูุฐูู ุ ูู ุงููุซุงู ุนูู ุงูุดุฑูุญุฉ ุ ููุณ ูุฏููุง ุซูุงุซ ูุณุฎ ูู ูุงุฆูุฉ ูุงุญุฏุฉ ุ ูููู ุซูุงุซุฉ ุนูุงุตุฑ ูู ุงูุฐุงูุฑุฉ ุ ุฃู </font></font><code>v1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุง </font></font><code>v0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดูุฑ ุฅูู ุนูุงุตุฑ ูุฎุชููุฉ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bm/nf/bh/bmnfbhtdmbu_kdm_xlpuxleld2w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููููุง ุฃูุถูุง ุฅูุดุงุก ุดููุฉ ูููุงูุน ุ ุฃู ุฅูุดุงุก ูุงุฆูุฉ ุฌุฏูุฏุฉ ููุง ููุณ ุงูููุงูุฉ ุ ูููู ุจุฏุงูุฉ ูุฎุชููุฉ.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชูุช ุฏุฑุงุณุฉ ููุงูู ุงูุจูุงูุงุช ูุฐู ููุชุฑุฉ ุทูููุฉ: ูุชุจ ูุฑูุณ ุฃููุงุณุงูู ุงูุนูู ุงูุฃุณุงุณู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุงูู ุงูุจูุงูุงุช ุงููุธูููุฉ ุงูุจุญุชุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฅู ุจููุฉ ุจูุงูุงุช </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finger Tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชู ุงูุชุฑุญูุง Ralf Hinze ู Ross Paterson ูุซูุฑุฉ ููุงูุชูุงู ููุบุงูุฉ </font><font style="vertical-align: inherit;">. ูููู ุจุงููุณุจุฉ ูู C ++ ุ ูุฅู ููุงูู ุงูุจูุงูุงุช ูุฐู ูุง ุชุนูู ุจุดูู ุฌูุฏ. ูุณุชุฎุฏููู ุงูุนูุฏ ุงูุตุบูุฑุฉ ุ ููุญู ูุนูู ุฃู ุงูุนูุฏ ุงูุตุบูุฑุฉ ูู C ++ ุชุนูู ููุตูุง ูู ููุงุกุฉ ุงูุชุฎุฒูู ุงููุคูุช. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุบุงูุจูุง ูุง ูุนุชูุฏูู ุนูู ุงูุฎุตุงุฆุต ุงูุชู ูุง ุชูุชูููุง C ++ ุ ูุซู ุงููุณู. ูุฐูู ุ ูุฅู ุนูู Phil Bagwell ุนูู ููุงูู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ูู ุฃูุซุฑ ูุงุฆุฏุฉ ุจุงููุณุจุฉ ููุง - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุงุจุท</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุชูุจ ูู ุฃูุงุฆู 2000s ุ ููุฐูู ุนูู Rich Hickey - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุคูู ูููุฌูุฑ. ุฃูุดุฃ ุฑูุชุด ูููู ูุงุฆูุฉ ุ ููู ูู ุงููุงูุน ููุณุช ูุงุฆูุฉ ุ ูููููุง ุชุณุชูุฏ ุฅูู ููุงูู ุงูุจูุงูุงุช ุงูุญุฏูุซุฉ: ุงููุชุฌูุงุช ูุฎุฑุงุฆุท ุงูุชุฌุฒุฆุฉ. ุชุชูุชุน ููุงูู ุงูุจูุงูุงุช ูุฐู ุจููุงุกุฉ ุงูุชุฎุฒูู ุงููุคูุช ูุชุชูุงุนู ุจุดูู ุฌูุฏ ูุน ุงููุนุงูุฌุงุช ุงูุญุฏูุซุฉ ุ ูุงูุชู ูู ุบูุฑ ุงููุฑุบูุจ ูููุง ุงูุนูู ูุน ุงูุนูุฏ ุงูุตุบูุฑุฉ. ูููู ุงุณุชุฎุฏุงู ูุฐู ุงูููุงูู ูู C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ุชุจูู ูุงููุงุช ููุงุนูุฉุ ูู ุตููู ุฃู ูููู ุ ุญุชู ุฃูู ูุดุจู ุนู ุจุนุฏ ูุงูู ุ ูุฌุจ ุฃู ูููู ูุตูููุฉ. ููู ุงูุตููู ููุณ ูุฏูู ูุดุงุฑูุฉ ูููููุฉ. ูุชุบููุฑ ุฃู ุนูุตุฑ ูู ุนูุงุตุฑ ุงูุตููู ุ ุฏูู ููุฏุงู ุฎุงุตูุฉ ุงูุซุจุงุช ุ ูุฌุจ ูุณุฎ ุงูุตููู ุจุฃูููู. ูู ุฃุฌู ุนุฏู ุงูููุงู ุจุฐูู ุ ูููู ุชูุณูู ุงูุตููู ุฅูู ูุทุน ูููุตูุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุ ุนูุฏ ุชุญุฏูุซ ุนูุตุฑ ูุชุฌู ุ ูุญุชุงุฌ ุฅูู ูุณุฎ ูุทุนุฉ ูุงุญุฏุฉ ููุท ุ ูููุณ ูุณุฎ ุงููุชุฌู ุจุฃูููู. ููู ูุฐู ุงููุทุน ููุณูุง ููุณุช ุจููุฉ ุจูุงูุงุช ุ ูุฌุจ ุฏูุฌูุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู. ุถุนูู ูู ูุตูููุฉ ุฃุฎุฑู. ูุฑุฉ ุฃุฎุฑู ุ ุชุจุฑุฒ ุงููุดููุฉ ุฃู ุงููุตูููุฉ ูููู ุฃู ุชููู ูุจูุฑุฉ ุฌุฏูุง ุ ููู ุซู ูุณุชุบุฑู ูุณุฎูุง ูุฑุฉ ุฃุฎุฑู ุงููุซูุฑ ูู ุงูููุช.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุณู ูุฐุง ุงูุตููู ุฅูู ุฃุฌุฒุงุก ุ ููุถุนู ูุฑุฉ ุฃุฎุฑู ูู ุตููู ูููุตู ุ ูููุฑุฑ ูุฐุง ุงูุฅุฌุฑุงุก ุญุชู ูููู ููุงู ุตููู ุฌุฐุฑ ูุงุญุฏ ููุท. ูุณูู ุงููููู ุงููุงุชุฌ ุจุดุฌุฑุฉ ูุชุจููุฉ. ูุชู ูุตู ูุฐู ุงูุดุฌุฑุฉ ุจูุงุณุทุฉ ุงูุซุงุจุช M = 2B ุ ุฃู ุนุงูู ุงูุชูุฑุน. ูุฌุจ ุฃู ูููู ูุฐุง ุงููุคุดุฑ ุงููุฑุนู ููุฉ ูู ุงุซููู ุ ูุณููุชุดู ูุฑูุจูุง ุงูุณุจุจ. ูู ุงููุซุงู ุงูููุฌูุฏ ุนูู ุงูุดุฑูุญุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุงููุชู ุงูููููุฉ ูู ุฃุฑุจุนุฉ ุฃุญุฑู ุ ูููู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุงููุชู ุงูููููุฉ ูู 32 ุญุฑููุง. ููุงู ุชุฌุงุฑุจ ููููู ูู ุฎูุงููุง ุงูุนุซูุฑ ุนูู ุญุฌู ุงููุชูุฉ ุงูุฃูุซู ููููู ูุนูู. ูุณูุญ ูู ูุฐุง ุจุชุญููู ุฃูุถู ูุณุจุฉ ูููุตูู ุงููุดุชุฑู ุงูููููู ุฅูู ููุช ุงููุตูู: ูููุง ุงูุฎูุถุช ุงูุดุฌุฑุฉ ุ ูู ููุช ุงููุตูู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑุงุกุฉ ูุฐุง ุ ุฑุจูุง ูุนุชูุฏ ุงููุทูุฑูู ุงูุฐูู ููุชุจูู ุจูุบุฉ C ++: ููู ุฃู ููุงูู ูุงุฆูุฉ ุนูู ุงูุฃุดุฌุงุฑ ุจุทูุฆุฉ ุฌุฏูุง! ุชููู ุงูุฃุดุฌุงุฑ ูุน ุฒูุงุฏุฉ ูู ุนุฏุฏ ุงูุนูุงุตุฑ ูููุง ุ ูุจุณุจุจ ูุฐุง ุ ูุชู ุชูููู ุฃููุงุช ุงููุตูู. ูุฐุง ูู ุงูุณุจุจ ูู ุฃู ุงููุจุฑูุฌูู ููุถููู </font></font><code>std::unordered_map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุจุฏูุงู ูู </font></font><code>std::map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฃุณุงุฑุน ุฅูู ุทูุฃูุชู: ุชููู ุดุฌุฑุชูุง ุจุจุทุก ุดุฏูุฏ. ุฅู ุงููุชุฌู ุงูุฐู ูุญุชูู ุนูู ุฌููุน ุงูููู ุงูููููุฉ ูู 32 ุจุช ูู ุงุฑุชูุงุน 7 ูุณุชููุงุช ููุท. ูููู ุชุฌุฑูุจูุง ุฃูู ูุน ุญุฌู ุงูุจูุงูุงุช ูุฐุง ุ ุชุคุซุฑ ูุณุจุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฅูู ุญุฌู ุงูุชุญููู ุจุดูู ูุจูุฑ ุนูู ุงูุฃุฏุงุก ูู ุนูู ุงูุดุฌุฑุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูุฑู ููู ูุชู ุงููุตูู ุฅูู ุนูุตุฑ ุดุฌุฑุฉ. ุงูุชุฑุถ ุฃูู ุจุญุงุฌุฉ ุฅูู ุงูุฑุฌูุน ุฅูู ุงูุนูุตุฑ 17. ูุฃุฎุฐ ุชูุซูููุง ุซูุงุฆููุง ููููุฑุณ ูููุณูู ุฅูู ูุฌููุนุงุช ุจุญุฌู ุนุงูู ุงูุชูุฑุน.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c1/gz/o1/c1gzo1qqm9pycpehqerzzkvwvwm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูู ูุฌููุนุฉ ุ ูุณุชุฎุฏู ุงููููุฉ ุงูุซูุงุฆูุฉ ุงูููุงุจูุฉ ูุจุงูุชุงูู ููุฒู ุฅูู ุฃุณูู ุงูุดุฌุฑุฉ. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุฐูู ุ ูููุชุฑุถ ุฃููุง ุจุญุงุฌุฉ ุฅูู ุฅุฌุฑุงุก ุชุบููุฑ ูู ุจููุฉ ุงูุจูุงูุงุช ูุฐู ุ ุฃู ุชูููุฐ ุงูุทุฑููุฉ </font></font><code>.set</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l8/xi/3y/l8xi3yorosfghnwt9gmcijtk83a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููุงู ุจุฐูู ุ ุชุญุชุงุฌ ุฃููุงู ุฅูู ูุณุฎ ุงููุชูุฉ ุงูุชู ููุฌุฏ ูููุง ุงูุนูุตุฑ ุ ุซู ูุณุฎ ูู ุนูุฏุฉ ุฏุงุฎููุฉ ูู ุงูุทุฑูู ุฅูู ุงูุนูุตุฑ. ูู ูุงุญูุฉ ุ ูุฌุจ ูุณุฎ ุงููุซูุฑ ูู ุงูุจูุงูุงุช ุ ูููู ูู ุงูููุช ููุณู ุฌุฒุก ูุจูุฑ ูู ูุฐู ุงูุจูุงูุงุช ุดุงุฆุน ุ ููุฐุง ูุนูุถ ุนู ุญุฌููุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูููุงุณุจุฉ ุ ููุงู ุจููุฉ ุจูุงูุงุช ุฃูุฏู ุจูุซูุฑ ุชุดุจู ุฅูู ุญุฏ ูุจูุฑ ุชูู ุงูุชู ูุตูุชูุง. ูุฐู ุตูุญุงุช ุฐุงูุฑุฉ ุจูุง ุดุฌุฑุฉ ุฌุฏูู ุตูุญุฉ. ุชุชู ุฅุฏุงุฑุชูุง ุฃูุถูุง ุจุงุณุชุฎุฏุงู ููุงููุฉ </font></font><code>fork</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูุญุงูู ุชุญุณูู ูููู ุงูุจูุงูุงุช ูุฏููุง. ูููุชุฑุถ ุฃููุง ุจุญุงุฌุฉ ูุฑุจุท ูุชุฌููู. ุจููุฉ ุงูุจูุงูุงุช ุงูููุตููุฉ ุญุชู ุงูุขู ููุง ููุณ ุงููููุฏ </font></font><code>std::vector:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชู ุชุญุชูู ุนูู ุฎูุงูุง ูุงุฑุบุฉ ูู ุฃูุตู ูููููุง. ูุธุฑูุง ูุฃู ุงููููู ูุชูุงุฒู ุชูุงููุง ุ ูุง ูููู ุฃู ุชููู ูุฐู ุงูุฎูุงูุง ุงููุงุฑุบุฉ ูู ููุชุตู ุงูุดุฌุฑุฉ. ูุฐูู ุ ุฅุฐุง ูุงู ููุงู ูุชุฌู ุซุงูู ูุฑูุฏ ุฏูุฌู ูุน ุงูุฃูู ุ ูุณูุญุชุงุฌ ุฅูู ูุณุฎ ุงูุนูุงุตุฑ ุฅูู ุฎูุงูุง ูุงุฑุบุฉ ุ ูุงูุชู ุณุชูุดุฆ ุฎูุงูุง ูุงุฑุบุฉ ูู ุงููุชุฌู ุงูุซุงูู ุ ููู ุงูููุงูุฉ ุณูุชุนูู ุนูููุง ูุณุฎ ุงููุชุฌู ุงูุซุงูู ุจุงููุงูู. ูุซู ูุฐู ุงูุนูููุฉ ููุง ุชุนููุฏ ุญุณุงุจู O (n) ุ ุญูุซ n ูู ุญุฌู ุงููุชุฌู ุงูุซุงูู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูุญุงูู ุชุญููู ูุชูุฌุฉ ุฃูุถู. ููุงู ูุณุฎุฉ ูุนุฏูุฉ ูู ูููู ุงูุจูุงูุงุช ูุฏููุง ุชุณูู ุดุฌุฑุฉ ูุชูุงุฒูุฉ ุฌุฐุฑูุฉ ูุชูุงุฒูุฉ. ูู ูุฐู ุงูุจููุฉ ุ ูุฏ ุชุญุชูู ุงูุนููุฏ ุบูุฑ ุงูููุฌูุฏุฉ ูู ุงููุณุงุฑ ุฃูุตู ุงููุณุงุฑ ุนูู ุฎูุงูุง ูุงุฑุบุฉ. ูุฐูู ุ ูู ูุซู ูุฐู ุงูุนูุฏ ุบูุฑ ุงูููุชููุฉ (ุฃู ุงููุฑูุญุฉ) ุ ูู ุงูุถุฑูุฑู ุญุณุงุจ ุญุฌู ุงูุดุฌุฑุฉ ุงููุฑุนูุฉ. ููููู ุงูุขู ุชูููุฐ ุนูููุฉ ุฑุจุท ูุนูุฏุฉ ูููู ููุบุงุฑูุชููุฉ. ูุฐู ุงูุนูููุฉ ูุชุนููุฏ ุงูููุช ุงูุซุงุจุช ูู O (log (32)). ูุธุฑูุง ูุฃู ุงูุฃุดุฌุงุฑ ุถุญูุฉ ุ ูุฅู ููุช ุงููุตูู ุซุงุจุช ุ ูุฅู ูุงู ุทููููุง ูุณุจููุง. ูุธุฑูุง ูุญูููุฉ ุฃู ูุฏููุง ูุซู ูุฐู ุงูุนูููุฉ ุงูููุงุจูุฉ ุ ูุฅู ูุณุฎุฉ ูุฑูุญุฉ ูู ุจููุฉ ุงูุจูุงูุงุช ูุฐู ุชุณูู ูุชูุงุฑุจุฉ: ุจุงูุฅุถุงูุฉ ุฅูู ููููุง ุซุงุจุชุฉ ุ ูููููู ุดููุฉ ุฐูู ุ ูููู ุงูุฌูุน ุจูู ุงุซููู ูู ูุฐู ุงูููุงูู ูู ูุงุญุฏ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/rj/hz/qrrjhzfbr-22n0cdr-vvhke1pvq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุซุงู ุงูุฐู ุนูููุง ูุนู ุญุชู ุงูุขู ุ ูุฅู ูููู ุงูุจูุงูุงุช ุฃููู ููุบุงูุฉ ุ ูููู ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ุ ุชุจุฏู ุนูููุงุช ุงูุชูููุฐ ูู ูุบุฉ Clojure ูุงููุบุงุช ุงููุธูููุฉ ุงูุฃุฎุฑู ูุฎุชููุฉ. ููุดุฆูู ุญุงููุงุช ููู ูููุฉ ุ ุฃู ุฃู ูู ุนูุตุฑ ูู ุงููุชุฌู ููุฌูุฏ ูู ุฎููุฉ ูููุตูุฉ ุ ูุชุญุชูู ุงูุนูุฏ ุงููุฑููุฉ ุนูู ูุคุดุฑุงุช ููุฐู ุงูุนูุงุตุฑ. ููู ูุฐุง ุงูููุฌ ุบูุฑ ูุนุงู ููุบุงูุฉ ุ ูู C ++ ุนุงุฏุฉ ูุง ุชุถุน ูู ูููุฉ ูู ุงูุญุงููุฉ. ูุฐูู ุ ุณูููู ูู ุงูุฃูุถู ุฅุฐุง ูุงูุช ูุฐู ุงูุนูุงุตุฑ ููุฌูุฏุฉ ูู ุงูุนูุฏ ูุจุงุดุฑุฉ. ุซู ุชูุดุฃ ูุดููุฉ ุฃุฎุฑู: ุงูุนูุงุตุฑ ุงููุฎุชููุฉ ููุง ุฃุญุฌุงู ูุฎุชููุฉ. ุฅุฐุง ูุงู ุงูุนูุตุฑ ุจููุณ ุญุฌู ุงููุคุดุฑ ุ ูุณูุจุฏู ูููููุง ููุง ูู ููุถุญ ุฃุฏูุงู:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/78/s4/_k/78s4_kqqdc_fi8_ydkopktou0m4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุฅุฐุง ูุงูุช ุงูุนูุงุตุฑ ูุจูุฑุฉ ุ ูุฅู ุจููุฉ ุงูุจูุงูุงุช ุชููุฏ ุงูุฎุตุงุฆุต ุงูุชู ูููุง ุจููุงุณูุง (ููุช ุงููุตูู O (ุชุณุฌูู (32) ()) ุ ูุฃู ูุณุฎ ุฅุญุฏู ุงูุฃูุฑุงู ูุณุชุบุฑู ุงูุขู ููุชูุง ุฃุทูู. ูุฐูู ุ ููุช ุจุชุบููุฑ ุจููุฉ ุงูุจูุงูุงุช ูุฐู ุจุญูุซ ูุน ุฒูุงุฏุฉ ุงูุญุฌู ููู ุนุฏุฏ ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ ูููุง ูู ุนุฏุฏ ูุฐู ุงูุนูุงุตุฑ ูู ุงูุนูุฏ ุงููุฑููุฉ ุ ุจู ุนูู ุงูุนูุณ ุ ุฅุฐุง ูุงูุช ุงูุนูุงุตุฑ ุตุบูุฑุฉ ุ ูููู ุฃู ุชุชูุงุณุจ ุงูุขู ุฃูุซุฑ ุ ูุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ ูู ุงูุดุฌุฑุฉ ุชุฏุนู ุชุถููู ุดุฌุฑุฉ ูุชูุงุฒูุฉ ุงูุฌุฐุฑ ุ ูุง ูุชู ูุตููุง ูู ุฎูุงู ุซุงุจุช ูุงุญุฏ ุ ูููู ุจูุงุณุทุฉ ุงุซููู: ูุงุญุฏ ูููู ูุตู ุงูุนูุฏ ุงูุฏุงุฎููุฉ ุ ูุงูุซุงููุฉ - ุงูููุฑูุฉ .. ุชูููุฐ ุงูุดุฌุฑุฉ ูู C ++ ูููู ุฃู ูุญุณุจ ุงูุญุฌู ุงูุฃูุซู ูุนูุตุฑ ุงููุฑูุฉ ุญุณุจ ุญุฌู ุงููุคุดุฑุงุช ูุงูุนูุงุตุฑ ููุณูุง.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุนูู ุดุฌุฑุชูุง ุจุงููุนู ุจุดูู ุฌูุฏ ุ ูููู ูุง ูุฒุงู ูู ุงููููู ุชุญุณูููุง. ุฃูู ูุธุฑุฉ ุนูู ูุธููุฉ ูุดุงุจูุฉ ููุธููุฉ </font></font><code>iota</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">myiota</span>(<span class="hljs-params">vector&lt;<span class="hljs-keyword">int</span>&gt; v, <span class="hljs-keyword">int</span> first, <span class="hljs-keyword">int</span> last</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">for</span> (auto i = first; i &lt; last; ++i)<font></font>
        v = v.push_back(i);<font></font>
    <span class="hljs-keyword">return</span> v;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุณุชุบุฑู ุงูุฅุฏุฎุงู </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููููุฐ </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ููุงูุฉ ุงููุชุฌู ููู ุนุฏุฏ ุตุญูุญ ุจูู </font></font><code>first</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>last</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุนูุฏ ูุง ุญุฏุซ. ูู ุดูุก ููุธู ูุน ุตุญุฉ ูุฐู ุงููุธููุฉ ุ ููููุง ุชุนูู ุจุดูู ุบูุฑ ูุนุงู. ุชููู ูู ููุงููุฉ </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูุณุฎ ุงููุชูุฉ ุงูููุฌูุฏุฉ ูู ุฃูุตู ุงููุณุงุฑ ุฏูู ุฏุงุนู: ุชููู ุงูููุงููุฉ ุงูุชุงููุฉ ุจุฏูุน ุนูุตุฑ ุขุฎุฑ ููุชู ุชูุฑุงุฑ ุงููุณุฎุฉ ูุฑุฉ ุฃุฎุฑู ุ ููุชู ุญุฐู ุงูุจูุงูุงุช ุงูููุณูุฎุฉ ุจุงูุทุฑููุฉ ุงูุณุงุจูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููู ุชุฌุฑุจุฉ ุชูููุฐ ุขุฎุฑ ููุฐู ุงููุธููุฉ ุ ุญูุซ ูุชุฎูู ุนู ุงูุซุจุงุช ุฏุงุฎู ุงููุธููุฉ. ูููู ุงุณุชุฎุฏุงูู </font></font><code>transient vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ูุงุจูุฉ ููุชุบููุฑ ูุชูุงููุฉ ูุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุนุงุฏูุฉ </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฏุงุฎู ูุฐู ุงููุธููุฉ ุ ูู ููุงููุฉ </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุบูุฑ ุจููุฉ ุงูุจูุงูุงุช.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">myiota</span>(<span class="hljs-params">vector&lt;<span class="hljs-keyword">int</span>&gt; v, <span class="hljs-keyword">int</span> first, <span class="hljs-keyword">int</span> last</span>)</span><font></font>
{<font></font>
    auto t = v.transient();<font></font>
    <span class="hljs-keyword">for</span> (auto i = first; i &lt; last; ++i)<font></font>
        t.push_back(i);<font></font>
    <span class="hljs-keyword">return</span> t.persistent();<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ุงูุชุทุจูู ุฃูุซุฑ ููุงุกุฉ ุ ููุณูุญ ูู ุจุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุนูุงุตุฑ ุฌุฏูุฏุฉ ุนูู ุงููุณุงุฑ ุงูุตุญูุญ. ูู ููุงูุฉ ุงููุธููุฉ ุ </font></font><code>.persistent()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุฅุฌุฑุงุก </font><font style="vertical-align: inherit;">ููุงููุฉ </font><font style="vertical-align: inherit;">ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ ุงููุญุชููุฉ ุชุธู ุบูุฑ ูุฑุฆูุฉ ูู ุฎุงุฑุฌ ุงููุธููุฉ. ุงูุฃุตูู </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงู ููุง ูุฒุงู ุบูุฑ ูุงุจู ููุชุบููุฑ ุ ููุท ุงูุจูุงูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุฏุงุฎู ุงููุธููุฉ ูุชู ุชุบููุฑูุง. ููุง ููุช ุ ูุฅู ุงูููุฒุฉ ุงููููุฉ ููุฐุง ุงูููุฌ ูู ุฃูู ููููู ุงุณุชุฎุฏุงู </font></font><code>std::back_inserter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎูุงุฑุฒููุงุช ุงูููุงุณูุฉ ุงูุชู ุชุชุทูุจ ูุงุฌูุงุช ุจุฑูุฌุฉ ุชุทุจููุงุช ูุงุจูุฉ ููุชุบููุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุฃูู ูู ูุซุงู ุขุฎุฑ.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">vector&lt;<span class="hljs-keyword">char</span>&gt; <span class="hljs-title">say_hi</span>(<span class="hljs-params">vector&lt;<span class="hljs-keyword">char</span>&gt; v</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">return</span> v.push_back(<span class="hljs-string">'h'</span>)        <font></font>
            .push_back(<span class="hljs-string">'i'</span>)        <font></font>
            .push_back(<span class="hljs-string">'!'</span>);       <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ุชูุจู ุงููุธููุฉ ูุชุนูุฏ </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููู ูุชู ุชูููุฐ ุณูุณูุฉ ูุฏุงุก ูู ุงูุฏุงุฎู </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ููุง ุ ููุง ูู ุงููุซุงู ุงูุณุงุจู ุ ูุฏ ูุญุฏุซ ูุณุฎ ุบูุฑ ุถุฑูุฑู ุฏุงุฎู ุงูููุงููุฉ </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุงุญุธ ุฃู ุงููููุฉ ุงูุฃููู ุงูุชู ูุชู ุชูููุฐูุง </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููููุฉ ุงููุณูุงุฉ ุ ูุงูุจุงูู ูู ูููุฉ r ุ ุฃู ุงูุฑูุงุจุท ุงููุฌูููุฉ. ุฅุฐุง ููุช ุชุณุชุฎุฏู ุงูุนุฏ ุงููุฑุฌุนู ุ </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ุชุดูุฑ </font><font style="vertical-align: inherit;">ุงูุทุฑููุฉ </font><font style="vertical-align: inherit;">ุฅูู ุงูุนุฏุงุฏุงุช ุงููุฑุฌุนูุฉ ููุนูุฏ ุงูุชู ูุชู ุชุฎุตูุต ุฐุงูุฑุฉ ููุง ูู ุงูุดุฌุฑุฉ. ููู ุญุงูุฉ ูููุฉ r ุ ุฅุฐุง ูุงู ุนุฏุฏ ุงูุฑูุงุจุท ูุงุญุฏูุง ุ ูุตุจุญ ูู ุงููุงุถุญ ุฃูู ูุง ููุฌุฏ ุฌุฒุก ุขุฎุฑ ูู ุงูุจุฑูุงูุฌ ูุตู ุฅูู ูุฐู ุงูุนูุฏ. ุงูุฃุฏุงุก ููุง ูู ููุณู ุชูุงููุง ููุง ูู ุงูุญุงู ูุน </font></font><code>transient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">vector&lt;<span class="hljs-keyword">char</span>&gt; <span class="hljs-title">say_hi</span>(<span class="hljs-params">vector&lt;<span class="hljs-keyword">char</span>&gt; v</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">return</span> v.push_back(<span class="hljs-string">'h'</span>)        โต named <span class="hljs-keyword">value</span>: v<font></font>
            .push_back(<span class="hljs-string">'i'</span>)        โต r-<span class="hljs-keyword">value</span> <span class="hljs-keyword">value</span>
            .push_back(<span class="hljs-string">'!'</span>);       โต r-<span class="hljs-keyword">value</span> <span class="hljs-keyword">value</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุงูุฉ ุนูู ุฐูู ุ ููุณุงุนุฏุฉ ุงููุชุฑุฌู ุ ูููููุง ุชูููุฐู </font></font><code>move(v)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฃูู </font></font><code>v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูุณุชุฎุฏู ูู ุฃู ููุงู ุขุฎุฑ ูู ุงููุธููุฉ. ูุงูุช ูุฏููุง ููุฒุฉ ูููุฉ ุ ูู ุชูู ูู </font></font><code>transient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุฏูู: ุฅุฐุง ูุฑุฑูุง ุงููููุฉ ุงููุฑุชุฌุนุฉ ูู say_hi ุฃุฎุฑู ุฅูู ุฏุงูุฉ say_hi ุ ููู ุชููู ููุงู ูุณุฎ ุฅุถุงููุฉ. ูู ุญุงูุฉ c ุ </font></font><code>transient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุญุฏูุฏ ูููู ุฃู ูุญุฏุซ ูููุง ูุณุฎ ุฒุงุฆุฏ. ุจุนุจุงุฑุฉ ุฃุฎุฑู ุ ูุฏููุง ุจููุฉ ุจูุงูุงุช ุซุงุจุชุฉ ูุบูุฑ ูุงุจูุฉ ููุชุบููุฑ ุ ูุนุชูุฏ ุฃุฏุงุฆูุง ุนูู ุงููููุฉ ุงููุนููุฉ ูููุตูู ุงููุดุชุฑู ูู ููุช ุงูุชุดุบูู. ุฅุฐุง ูู ููู ููุงู ูุดุงุฑูุฉ ุ ูุณูููู ุงูุฃุฏุงุก ูู ููุณู ุฃุฏุงุก ุจููุฉ ุงูุจูุงูุงุช ุงููุงุจูุฉ ููุชุบููุฑ. ูุฐู ุฎุงุตูุฉ ูููุฉ ููุบุงูุฉ. ูููู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุงููุซุงู ุงูุฐู ุฃุธูุฑุชู ุจุงููุนู ุฃุนูุงู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ </font></font><code>move(v)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">vector&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">myiota</span>(<span class="hljs-params">vector&lt;<span class="hljs-keyword">int</span>&gt; v, <span class="hljs-keyword">int</span> first, <span class="hljs-keyword">int</span> last</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">for</span> (auto i = first; i &lt; last; ++i)<font></font>
        v = std::move(v).push_back(i);<font></font>
    <span class="hljs-keyword">return</span> v;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฏ ุชุญุฏุซูุง ุญุชู ุงูุขู ุนู ุงููุชุฌูุงุช ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุฌูุฏ ุฎุฑุงุฆุท ุชุฌุฒุฆุฉ. ุฅููู ููุฑุณูู ูุชูุฑูุฑ ูููุฏ ููุบุงูุฉ ูู ูุจู ููู ูุงุด: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฃุณ ุงูููุฏุณุฉ. ุตููู ุชุฌุฒุฆุฉ ุชุนููู ุชุฑู ูู C ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูุตู ุฌุฏุงูู ุงูุชุฌุฒุฆุฉ ุงูุชู ุชู ุชูููุฐูุง ุจูุงุกู ุนูู ููุณ ุงููุจุงุฏุฆ ุงูุชู ุชุญุฏุซุช ุนููุง ููุชู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูุง ูุชุฃูุฏ ูู ุฃู ุงููุซูุฑ ูููู ูุฏูู ุดููู ุญูู ุฃุฏุงุก ูุซู ูุฐู ุงูููุงูู. ูู ูุนูููู ุจุณุฑุนุฉ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉุ ููุฏ ุฃุฌุฑูุช ุงูุนุฏูุฏ ูู ุงูุงุฎุชุจุงุฑุงุช ุ ูุจุงุฎุชุตุงุฑ ุฌูุงุจู ูุนู. ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุนุฑูุฉ ุงููุฒูุฏ ุนู ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ ุ ูุชู ูุดุฑูุง ูู ููุงูุชู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุคุชูุฑ ุงูุฏููู ููุจุฑูุฌุฉ ุงููุธูููุฉ 2017</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุงูุขู ุ ุฃุนุชูุฏ ุฃูู ูู ุงูุฃูุถู ููุงูุดุฉ ููุณ ุงูููู ุงููุทููุฉ ุ ูููู ุชุฃุซูุฑ ูููู ุงูุจูุงูุงุช ูุฐุง ุนูู ุงููุธุงู ููู. </font><font style="vertical-align: inherit;">ุจุงูุทุจุน ุ ุชุญุฏูุซ ูุงูู ุงูุจูุงูุงุช ูุฏููุง ุฃุจุทุฃ ูุฃูู ุชุญุชุงุฌ ุฅูู ูุณุฎ ุนุฏุฉ ูุชู ุจูุงูุงุช ูุชุฎุตูุต ุฐุงูุฑุฉ ููุจูุงูุงุช ุงูุฃุฎุฑู. </font><font style="vertical-align: inherit;">ูููู ูุชู ุชุฌุงูุฒ ูุงูููุง ุจููุณ ุณุฑุนุฉ ุงูุณุฑุนุฉ ุงูุนุงุฏูุฉ ุชูุฑูุจูุง. </font><font style="vertical-align: inherit;">ูุงู ูู ุงูููู ุฌุฏูุง ุจุงููุณุจุฉ ูู ุชุญููู ุฐูู ุ ูุธุฑูุง ูุฃู ูุฑุงุกุฉ ุงูุจูุงูุงุช ุชุชู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุฃูุซุฑ ูู ุชุบููุฑูุง.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุธุฑูุง ูุจุทุก ุงูุชุญุฏูุซ ุ ูุง ุชูุฌุฏ ุญุงุฌุฉ ููุณุฎ ุฃู ุดูุก ุ ููุท ูุชู ูุณุฎ ุจููุฉ ุงูุจูุงูุงุช. </font><font style="vertical-align: inherit;">ูุฐูู ุ ูุชู ุงุณุชููุงู ุงูููุช ุงููุณุชุบุฑู ูู ุชุญุฏูุซ ุงููุงูู ุ ููุง ุชู ุงุณุชููุงูู ุ ูุฌููุน ุงููุณุฎ ุงูุชู ูุชู ุฅุฌุฑุงุคูุง ูู ุงููุธุงู. </font><font style="vertical-align: inherit;">ูุฐูู ุ ุฅุฐุง ููุช ุจุชุทุจูู ุจููุฉ ุงูุจูุงูุงุช ูุฐู ูู ุจููุฉ ูุดุงุจูุฉ ูุชูู ุงูุชู ูุตูุชูุง ูู ุจุฏุงูุฉ ุงูุชูุฑูุฑ ุ ูุณูุฒุฏุงุฏ ุงูุฃุฏุงุก ุจุดูู ููุญูุธ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุบ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃููู ุนูู ุฃุณุงุณ ูู ุงูุตุญุฉ ูุฃุซุจุช ูููู ุจูุงูุงุชู ุจุงุณุชุฎุฏุงู ูุซุงู. </font><font style="vertical-align: inherit;">ููุฏ ูุชุจุช ูุญุฑุฑ ูุต ุตุบูุฑ. </font><font style="vertical-align: inherit;">ูุฐู ุฃุฏุงุฉ ุชูุงุนููุฉ ุชุณูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ewig</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุญูุซ ูุชู ุชูุซูู ุงููุณุชูุฏุงุช ุจูุงุณุทุฉ ูุงููุงุช ุบูุฑ ูุงุจูุฉ ููุชุบููุฑ. </font><font style="vertical-align: inherit;">ูุฏู ูุณุฎุฉ ูู ุงูุฅุณุจุฑุงูุชู ููููุจูุฏูุง ุจุฃููููุง ุนูู ุงููุฑุต ุงูุฎุงุต ุจู ุ ููุฒู 1 ุบูุบุงุจุงูุช (ูู ุงูุจุฏุงูุฉ ููุช ุฃุฑุบุจ ูู ุชูุฒูู ุงููุณุฎุฉ ุงูุฅูุฌููุฒูุฉ ุ ูููููุง ูุจูุฑุฉ ุฌุฏูุง). </font><font style="vertical-align: inherit;">ูููุง ูุงู ูุญุฑุฑ ุงููุตูุต ุงูุฐู ุชุณุชุฎุฏูู ุ ุฃูุง ูุชุฃูุฏ ูู ุฃูู ูู ูุญุจ ูุฐุง ุงูููู. </font><font style="vertical-align: inherit;">ูุนูุฏูุง ุชููู ุจุชูุฒูู ูุฐุง ุงูููู ูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ewig</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ููููู ุชุญุฑูุฑู ุนูู ุงูููุฑ ุ ูุฃู ุงูุชูุฒูู ุบูุฑ ูุชุฒุงูู. </font><font style="vertical-align: inherit;">ูุนูู ุงูุชููู ูู ุงููููุงุช ุ ูุง ุดูุก ูุนูู ุ ูุง </font></font><code>mutex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุง ูุฒุงููุฉ. </font><font style="vertical-align: inherit;">ููุง ุชุฑู ุ ูุฃุฎุฐ ุงูููู ุงูุฐู ุชู ุชูุฒููู 20 ููููู ุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจู ุงููุธุฑ ูู ุฃูู ุฎุตุงุฆุต ูุฐู ุงูุฃุฏุงุฉ ุ ุฏุนูุง ููุชุจู ุฅูู ุงูุชูุงุตูู ุงููุถุญูุฉ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eb/kt/eq/ebkteqmtvnbkncoxlb91z0g6qpy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุจุฏุงูุฉ ุงูุณุทุฑ ุ ูุธููุฉ ุจุงูููู ุงูุฃุจูุถ ูู ุฃุณูู ุงูุตูุฑุฉ ุ ุชุฑู ูุงุตูุชูู. ูู ุงููุฑุฌุญ ุฃู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุฐู ูุฃูููุฉ ูููุณุชุฎุฏููู emacs ุ ุงููุงุตูุงุช ููุงู ุชุนูู ุฃู ุงููุณุชูุฏ ูู ูุชู ุชุนุฏููู ุจุฃู ุดูู ูู ุงูุฃุดูุงู. ุฅุฐุง ููุช ุจุฅุฌุฑุงุก ุฃู ุชุบููุฑุงุช ุ ูุชู ุนุฑุถ ุงูุนูุงูุงุช ุงููุฌููุฉ ุจุฏูุงู ูู ุงููุงุตูุงุช. ูููู ุ ุนูู ุนูุณ ุงููุญุฑุฑูู ุงูุขุฎุฑูู ุ ุฅุฐุง ููุช </font><font style="vertical-align: inherit;">ุจูุณุญ ูุฐู ุงูุชุบููุฑุงุช </font><font style="vertical-align: inherit;">ูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ewig</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ูุง ุชูู ุจุงูุชุฑุงุฌุน ุนููุง ุ ููุท ูู ุจุญุฐููุง) ุ ูุณูุชู ุนุฑุถ ุงููุงุตูุงุช ุจุฏูุงู ูู ุงูุนูุงูุงุช ุงููุฌููุฉ ูุฃูู </font><font style="vertical-align: inherit;">ูุชู ุญูุธ ุฌููุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ ูู ุงููุต </font><font style="vertical-align: inherit;">ูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ewig</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ูุจูุถู ูุฐุง ุ ููุณุช ููุงู ุญุงุฌุฉ ุฅูู ุฅุดุงุฑุฉ ุฎุงุตุฉ ูุฅุธูุงุฑ ูุง ุฅุฐุง ูุงู ูุฏ ุชู ุชุบููุฑ ุงููุณุชูุฏ: ูุชู ุชุญุฏูุฏ ูุฌูุฏ ุงูุชุบููุฑุงุช ูู ุฎูุงู ุงูููุงุฑูุฉ ูุน ุงููุณุชูุฏ ุงูุฃุตูู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุถุน ูู ุงุนุชุจุงุฑู ุฎุงุตูุฉ ุฃุฎุฑู ูุซูุฑุฉ ููุงูุชูุงู ููุฃุฏุงุฉ: ุงูุณุฎ ุงููุต ุจุงููุงูู ูุงูุตูู ุจุถุน ูุฑุงุช ูู ููุชุตู ุงููุต ุงูุญุงูู. </font><font style="vertical-align: inherit;">ููุง ุชุฑูู ุ ูุญุฏุซ ูุฐุง ุนูู ุงูููุฑ. </font><font style="vertical-align: inherit;">ุงูุงูุถูุงู ุฅูู ุงููุชุฌูุงุช ููุง ูู ุนูููุฉ ููุบุงุฑูุชููุฉ ุ ูููุบุงุฑูุชู ุนุฏุฉ ููุงููู ููุณุช ุนูููุฉ ุทูููุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ุญุงููุช ุญูุธ ูุฐุง ุงููุณุชูุฏ ุงูุถุฎู ุนูู ูุญุฑู ุงูุฃูุฑุงุต ุงูุซุงุจุชุฉ ุ ูุณูุณุชุบุฑู ููุชูุง ุฃุทูู ุจูุซูุฑ ุ ูุฃู ุงููุต ูู ูุนุฏ ูุชู ุชูุฏููู ููุชุฌู ุชู ุงูุญุตูู ุนููู ูู ุงูุฅุตุฏุงุฑ ุงูุณุงุจู ูู ูุฐุง ุงููุชุฌู. </font><font style="vertical-align: inherit;">ุนูุฏ ุงูุญูุธ ุนูู ุงููุฑุต ุ ูุญุฏุซ ุงูุชุณูุณู ุ ูุฐูู ูุชู ููุฏ ุงูุซุจุงุช.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุนูุฏุฉ ุฅูู ุงูุนูุงุฑุฉ ุงููุงุฆูุฉ ุนูู ุงููููุฉ</font></font></h2><br>
<img src="https://habrastorage.org/webt/wf/o7/b7/wfo7b78ha0wnqjzcjjeky_esh0g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุจุฏุฃ ุจููููุฉ ุนุฏู ุงูุฑุฌูุน ุฅูู ูุฐู ุงูุจููุฉ: ุจุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู ูุงูุทุฑุงุฒ ูุงูุนุฑุถ ุงููุนุชุงุฏ ุนูู ุบุฑุงุฑ Java ุ ูุงูุชู ูุชู ุงุณุชุฎุฏุงููุง ุบุงูุจูุง ููุชุทุจููุงุช ุงูุชูุงุนููุฉ ูู C ++. ูุง ุญุฑุฌ ุนูููู ุ ููููู ููุณูุง ููุงุณุจูู ููุดููุชูุง. ูู ูุงุญูุฉ ุ ูุณูุญ ูููุฐุฌ Model-View-Controller ุจูุตู ุงูููุงู ุ ูููู ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูุฅู ูู ุนูุตุฑ ูู ูุฐู ุงูุนูุงุตุฑ ุนุจุงุฑุฉ ุนู ูุงุฆู ุ ุณูุงุก ูู ูุฌูุฉ ูุธุฑ ููุฌูุฉ ูููุงุฆู ููู ูุฌูุฉ ูุธุฑ C ++ ุ ุฃู ุฃููุง ููุงุทู ุฐุงูุฑุฉ ูุน ูุชุบูุฑุฉ ุญุงูุฉ. ุนุฑุถ ูุนุฑู ุนู ุงููููุฐุฌ ุ ูุง ูู ุฃุณูุฃ ุจูุซูุฑ - ูุนุฑู ุงููููุฐุฌ ุจุดูู ุบูุฑ ูุจุงุดุฑ ุนู ุงูุนุฑุถ ุ ูุฃูู ููุฌุฏ ุจุงูุชุฃููุฏ ุฑุฏ ุงุชุตุงู ูุชู ูู ุฎูุงูู ุฅุฎุทุงุฑ ุงูุนุฑุถ ุนูุฏูุง ูุชุบูุฑ ุงููููุฐุฌ. ุญุชู ูุน ุฃูุถู ุชุทุจูู ูููุจุงุฏุฆ ุงูุดูุฆูุฉ ุ ูุญุตู ุนูู ุงููุซูุฑ ูู ุงูุชุจุนูุงุช ุงููุชุจุงุฏูุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/07/so/xq/07soxqkandixucwhzk6mvfr1e84.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุน ููู ุงูุชุทุจูู ูุฅุถุงูุฉ ูููุฐุฌ ุฌุฏูุฏ ุ ูุฌูุงุฒ ุชุญูู ุ ูุทุฑููุฉ ุนุฑุถ ุ ููุดุฃ ูููู ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุฌุฒุก ูู ุงูุจุฑูุงูุฌ ุ ุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ุฌููุน ุงูุฃุฌุฒุงุก ุงููุฑุชุจุทุฉ ุจู ุ ุญูู ูู ุทุฑููุฉ ุงูุนุฑุถ ุงูุชู ุชุชููู ุฅุดุนุงุฑูุง ูู ุฎูุงู </font></font><code>callback</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุง ุฅูู ุฐูู. ููุชูุฌุฉ ูุฐูู ุ ููุฌููุน ูุจุฏุฃ ูุญุด ุงููุนูุฑููุฉ ุงููุฃููู ูู ุงููุธุฑ ูู ุฎูุงู ูุฐู ุงูุชุจุนูุงุช. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ููุงู ููุฏุณุฉ ุฃุฎุฑู ููููุฉุ ููุงู ููุฌ ุจุฏูู ููููุฐุฌ ูุญุฏุฉ ุชุญูู ูููุฐุฌ ุงูุนุฑุถ ูุณูู "ุจููุฉ ุชุฏูู ุงูุจูุงูุงุช ุฃุญุงุฏูุฉ ุงูุงุชุฌุงู". ูู ุฃุฎุชุฑุน ูุฐุง ุงูููููู ุ ูุชู ุงุณุชุฎุฏุงูู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูู ุชุทููุฑ ุงูููุจ. ุนูู Facebook ุ ูุณูู ูุฐุง ุจููุฉ Flux ุ ูููู ูู C ++ ุ ูู ูุชู ุชุทุจููู ุจุนุฏ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ty/z6/p2/tyz6p2hutpnjwusi0edhbcwvo0s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุงุตุฑ ูุซู ูุฐู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ูุฃูููุฉ ููุง ุจุงููุนู: ุงูุนูู ูุงููููุฐุฌ ูุงูุนุฑุถ ุ ููู ูุนูู ุงููุชู ูุงูุณูุงู ูุฎุชูู. ุงููุชู ูู ููู ุ ูููุณุช ูุงุฆูุงุช ูููุณุช ููุงุทู ุฐุงุช ุญุงูุงุช ูุงุจูุฉ ููุชุบููุฑ. ูุฐุง ููุทุจู ุญุชู ุนูู ุงูุนุฑุถ. ุนูุงูุฉ ุนูู ุฐูู ุ ุงูุฃุณูู ููุณุช ุฑูุงุจุท ุ ูุฃูู ุจุฏูู ูุงุฆูุงุช ูุง ูููู ุฃู ุชููู ููุงู ุฑูุงุจุท. ููุง ุงูุฃุณูู ูู ูุธุงุฆู. ุจูู ุงูุฅุฌุฑุงุก ูุงููููุฐุฌ ุ ููุงู ูุธููุฉ ุชุญุฏูุซ ุชูุจู ุงููููุฐุฌ ุงูุญุงูู ุ ุฃู ุงูุญุงูุฉ ุงูุญุงููุฉ ููุนุงูู ุ ูุงูุฅุฌุฑุงุก ุ ููู ุชูุซูู ูุญุฏุซ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุฑุฉ ุจุงููุงูุณ ุ ุฃู ุญุฏุซ ุจูุณุชูู ุขุฎุฑ ูู ุงูุชุฌุฑูุฏ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฏุฑุงุฌ ุนูุตุฑ ุฃู ุฑูุฒ ูู ูุณุชูุฏ. ุชููู ูุธููุฉ ุงูุชุญุฏูุซ ุจุชุญุฏูุซ ุงููุณุชูุฏ ูุฅุฑุฌุงุน ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ ููุนุงูู. ูุชุตู ุงููููุฐุฌ ุจุฌูุงุฒ ุนุฑุถ ุงููุธููุฉ ุ ุงูุฐู ูุฃุฎุฐ ุงููููุฐุฌ ููุนูุฏ ุงูุนุฑุถ. ูุชุทูุจ ูุฐุง ุฅุทุงุฑ ุนูู ูููู ููู ุนุฑุถ ุงูุนุฑุถ ูููู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุชุทููุฑ ุงูููุจ ุ ูููู React ุจุฐูู ุ ูููู ูู C ++ ูุง ููุฌุฏ ุดูุก ูุซู ูุฐุง ุญุชู ุงูุขู ุ ุนูู ุงูุฑุบู ูู ูู ูุนุฑู ุ ุฅุฐุง ูุงู ููุงู ุฃุดุฎุงุต ูุฑูุฏูู ุฏูุน ูู ููุชุงุจุฉ ุดูุก ูุซู ูุฐุง ุ ููุฏ ูุธูุฑ ูุฑูุจูุง. ูู ูุฐู ุงูุฃุซูุงุก ุ ููููู ุงุณุชุฎุฏุงู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุงููุถุน ุงูููุฑู ุ ุญูุซ ุชุชูุญ ูู ูุธููุฉ ุงูุฑุณู ุฅูุดุงุก ูููุฉ ูุฃุซุฑ ุฌุงูุจู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุฎูุฑูุง ุ ูุฌุจ ุฃู ูููู ููุนุฑุถ ุขููุฉ ุชุณูุญ ูููุณุชุฎุฏู ุฃู ูุตุงุฏุฑ ุงูุฃุญุฏุงุซ ุงูุฃุฎุฑู ุจุฅุฑุณุงู ุงูุฅุฌุฑุงุก. ููุงู ุทุฑููุฉ ุณููุฉ ูุชูููุฐ ุฐูู ุ ููู ูุนุฑูุถุฉ ุฃุฏูุงู:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">application <span class="hljs-title">update</span>(<span class="hljs-params">application state, action ev</span>)</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span>(<span class="hljs-params"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* fname</span>)</span><font></font>
{<font></font>
    auto term  = terminal{};<font></font>
    auto state = application{load_buffer(fname), key_map_emacs};<font></font>
    <span class="hljs-keyword">while</span> (!state.done) {<font></font>
        draw(state);<font></font>
        auto act = term.next();<font></font>
        state = update(state, act);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงุณุชุซูุงุก ุงูุญูุธ ูุงูุชุญููู ุจุดูู ุบูุฑ ูุชุฒุงูู ุ ูุฐุง ูู ุงูุฑูุฒ ุงููุณุชุฎุฏู ูู ุงููุญุฑุฑ ุงูููุฏู ููุชู. ููุฌุฏ ูุงุฆู ููุง </font></font><code>terminal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณูุญ ูู ุจุงููุฑุงุกุฉ ูุงููุชุงุจุฉ ูู ุณุทุฑ ุงูุฃูุงูุฑ. ุนูุงูุฉ ุนูู ุฐูู ุ </font></font><code>application</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐู ูู ูููุฉ ุงููููุฐุฌ ุ ููู ุชุฎุฒู ุงูุญุงูุฉ ุงููุงููุฉ ููุชุทุจูู. ููุง ุชุฑู ูู ุฃุนูู ุงูุดุงุดุฉ ุ ููุงู ูุธููุฉ ุชููู ุจุฅุฑุฌุงุน ูุณุฎุฉ ุฌุฏูุฏุฉ </font></font><code>application</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุชู ุชูููุฐ ุงูุฏูุฑุฉ ุฏุงุฎู ุงููุธููุฉ ุญุชู ูุญุชุงุฌ ุงูุชุทุจูู ุฅูู ุงูุฅุบูุงู ุ ุฃู ุญุชู </font></font><code>!state.done</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูู ุงูุญููุฉ ุ ูุชู ุฑุณู ุญุงูุฉ ุฌุฏูุฏุฉ ุ ุซู ูุชู ุทูุจ ุงูุญุฏุซ ุงูุชุงูู. ุฃุฎูุฑูุง ุ ูุชู ุชุฎุฒูู ุงูุญุงูุฉ ูู ูุชุบูุฑ ูุญูู </font></font><code>state</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุชุจุฏุฃ ุงูุญููุฉ ูุฑุฉ ุฃุฎุฑู. ูุฐู ุงูุดูุฑุฉ ููุง ููุฒุฉ ูููุฉ ููุบุงูุฉ: ููุฌุฏ ูุชุบูุฑ ูุงุญุฏ ูุงุจู ููุชุญูู ููุท ุฎูุงู ุชูููุฐ ุงูุจุฑูุงูุฌ ุ ุฅูู ูุงุฆู </font></font><code>state</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุณูู ูุทูุฑู Clojure ูุฐู ุงูุจููุฉ ุฃุญุงุฏูุฉ ุงูุฐุฑุฉ: ููุงู ููุทุฉ ูุงุญุฏุฉ ุนุจุฑ ุงูุชุทุจูู ุจุฃูููู ูุชู ูู ุฎูุงููุง ุฅุฌุฑุงุก ุฌููุน ุงูุชุบููุฑุงุช. </font><font style="vertical-align: inherit;">ูุง ูุดุงุฑู ููุทู ุงูุชุทุจูู ูู ุชุญุฏูุซ ูุฐู ุงูููุทุฉ ุจุฃู ุดูู ูู ุงูุฃุดูุงู ุ ููุฐุง ูุฌุนู ุฏูุฑุฉ ูุตููุฉ ุฎุตูุตูุง ูุฐูู. </font><font style="vertical-align: inherit;">ูุจูุถู ูุฐุง ุ ูุฅู ููุทู ุงูุชุทุจูู ูุชููู ุจุงููุงูู ูู ูุธุงุฆู ูููุฉ ุ ูุซู ุงููุธุงุฆู </font></font><code>update</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุน ูุฐุง ุงูููุฌ ููุชุงุจุฉ ุงูุชุทุจููุงุช ุ ุชุชุบูุฑ ุทุฑููุฉ ุงูุชูููุฑ ูู ุงูุจุฑุงูุฌ. </font><font style="vertical-align: inherit;">ูุง ูุจุฏุฃ ุงูุนูู ุงูุขู ุจูุฎุทุท UML ูููุงุฌูุงุช ูุงูุนูููุงุช ุ ูููู ุจุงูุจูุงูุงุช ููุณูุง. </font><font style="vertical-align: inherit;">ููุงู ุจุนุถ ุฃูุฌู ุงูุชุดุงุจู ูุน ุงูุชุตููู ุงูููุฌู ููุจูุงูุงุช. </font><font style="vertical-align: inherit;">ุนุงุฏุฉ ูุง ูุชู ุงุณุชุฎุฏุงู ุงูุชุตููู ุงูููุฌู ููุจูุงูุงุช ููุญุตูู ุนูู ุฃูุตู ุฃุฏุงุก ุ ููุง ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุณุฑุนุฉ ุ ูุณุนู ุฌุงูุฏูู ูู ุฃุฌู ุงูุจุณุงุทุฉ ูุงูุชุตุญูุญ. </font><font style="vertical-align: inherit;">ูุฎุชูู ุงูุชุฑููุฒ ููููุงู ุ ูููู ููุงู ุฃูุฌู ุชุดุงุจู ูููุฉ ูู ุงููููุฌูุฉ.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> index = <span class="hljs-keyword">int</span>;<font></font>
<font></font>
<span class="hljs-keyword">struct</span> coord<font></font>
{<font></font>
    index row = {};<font></font>
    index col = {};<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">using</span> line = immer::flex_vector&lt;<span class="hljs-keyword">char</span>&gt;;
<span class="hljs-keyword">using</span> text = immer::flex_vector&lt;line&gt;;<font></font>
<font></font>
<span class="hljs-keyword">struct</span> file<font></font>
{<font></font>
    immer::box&lt;std::<span class="hljs-keyword">string</span>&gt; name;<font></font>
    text content;<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">struct</span> snapshot<font></font>
{<font></font>
    text content;<font></font>
    coord cursor;<font></font>
};<font></font>
 <font></font>
<span class="hljs-keyword">struct</span> buffer<font></font>
{<font></font>
    file <span class="hljs-keyword">from</span>;<font></font>
    text content;<font></font>
    coord cursor;<font></font>
    coord scroll;<font></font>
    std::optional&lt;coord&gt; selection_start;<font></font>
    immer::vector&lt;snapshot&gt; history;<font></font>
    std::optional&lt;std::size_t&gt; history_pos;<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">struct</span> application<font></font>
{<font></font>
    buffer current;<font></font>
    key_map keys;<font></font>
    key_seq input;<font></font>
    immer::vector&lt;text&gt; clipboard;<font></font>
    immer::vector&lt;message&gt; messages;<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">struct</span> action { key_code key; coord size; };</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุนูุงู ูู ุฃููุงุน ุงูุจูุงูุงุช ุงูุฑุฆูุณูุฉ ูุชุทุจูููุง. ูุชููู ุงูุฌุณู ุงูุฑุฆูุณู ููุชุทุจูู ูู </font></font><code>line</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููู flex_vector ุ ู flex_vector ูู </font></font><code>vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฐู ููููู ูู ุฃุฌูู ุฅุฌุฑุงุก ุนูููุฉ </font><font style="vertical-align: inherit;">ุฑุจุท </font><font style="vertical-align: inherit;">. ุงูุชุงูู </font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงููุงูู ุงูุฐู ูุชู ุชุฎุฒููู ููู </font></font><code>line</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ููุง ุชุฑู ุ ูุฐุง ุชูุซูู ุจุณูุท ููุบุงูุฉ ูููุต. </font></font><code>Text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฎุฒูุฉ ุจูุณุงุนุฏุฉ </font></font><code>file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชู ููุง ุงุณู ุ ุฃู ุนููุงู ูู ูุธุงู ุงููููุงุช ุ ููู ุงููุงูุน </font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ููุง </font></font><code>file</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชุฎุฏู ููุน ุขุฎุฑุ ุจุณูุทุฉ ูููููุง ูููุฏุฉ ุฌุฏุง: </font></font><code>box</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐู ุญุงููุฉ ุนูุตุฑ ูุงุญุฏ. ูุณูุญ ูู ุจูุถุน ูููุฉ ูููู ูุงุฆู ุ ูุฏ ูููู ุงููุณุฎ ุงูุฐู ูุชุทูุจ ุงููุซูุฑ ูู ุงูููุงุฑุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุน ุขุฎุฑ ููู: </font></font><code>snapshot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุจูุงุกู ุนูู ูุฐุง ุงูููุน ุ ุชููู ูุธููุฉ ุงูุฅูุบุงุก ูุดุทุฉ. ูุญุชูู ุนูู ูุณุชูุฏ (ูู ุงููููุฐุฌ</font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ูููุถุน ุงููุคุดุฑ (ุงูุชูุณูู). ูุชูุญ ูู ุฐูู ุฅุนุงุฏุฉ ุงููุคุดุฑ ุฅูู ุงูููุถุน ุงูุฐู ูุงู ุนููู ุฃุซูุงุก ุงูุชุญุฑูุฑ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูููุน ุงูุชุงูู ูู </font></font><code>buffer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐุง ูุตุทูุญ ูู vim ู emacs ุ ุญูุซ ูุชู ุงุณุชุฏุนุงุก ุงููุณุชูุฏุงุช ุงูููุชูุญุฉ ููุงู. ูู </font></font><code>buffer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌูุฏ ุงูููู ุงูุฐู ุชู ุชุญููู ุงููุตุ ูุถูุง ุนู ูุญุชูู ุงููุต - ููุฐุง ูุณูุญ ูู ููุชุญูู ูู ุงูุชุบููุฑุงุช ูู ุงููุณุชูุฏ. ูุชูููุฒ ุฌุฒุก ูู ุงููุต ุ ููุงู ูุชุบูุฑ ุงุฎุชูุงุฑู </font></font><code>selection_start</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุดูุฑ ุฅูู ุจุฏุงูุฉ ุงูุชุญุฏูุฏ. ูุงูู </font></font><code>snapshot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุตุฉ ุงููุตูุฉ. ูุงุญุธ ุฃููุง ูุง ูุณุชุฎุฏู ููุท ุงููุฑูู ุ ูุงูุชุงุฑูุฎ ูุชููู ููุท ูู ุญุงูุงุช. ุฃุฎูุฑูุง ุ ุฅุฐุง ูุงู ุงูุฅูุบุงุก ูุฏ ุงูุชูู ููุชู ุ ููุญู ุจุญุงุฌุฉ ุฅูู ูุคุดุฑ ูููุน ูู ุชุงุฑูุฎ ุงูููุงูุฉ </font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุน ุงูููุจู: </font></font><code>application</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุญุชูู ุนูู ูุซููุฉ ููุชูุญุฉ (ุนุงุฒูุฉ) ุ </font></font><code>key_map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู</font></font><code>key_seq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฎุชุตุงุฑุงุช ููุญุฉ ุงูููุงุชูุญ ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุชุฌู ูู </font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุญุงูุธุฉ ููุชุฌู ุขุฎุฑ ููุฑุณุงุฆู ุงููุนุฑูุถุฉ ุฃุณูู ุงูุดุงุดุฉ. </font><font style="vertical-align: inherit;">ุญุชู ุงูุขู ุ ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงูุชุทุจูู ุณูููู ููุงู ููุถูุน ูุงุญุฏ ููุท ูููุน ูุงุญุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุงูุชู ุชุฃุฎุฐ ุงููุฏุฎูุงุช </font></font><code>key_code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>coord</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูู ุงูุฃุฑุฌุญ ุ ุงููุซูุฑ ูููู ูููุฑ ุจุงููุนู ูู ููููุฉ ุชูููุฐ ูุฐู ุงูุนูููุงุช. </font><font style="vertical-align: inherit;">ุฅุฐุง ุชู ุฃุฎุฐูุง ุจุงููููุฉ ูุฅุนุงุฏุชูุง ุจุงููููุฉ ุ ููู ูุนุธู ุงูุญุงูุงุช ุชููู ุงูุนูููุงุช ุจุณูุทุฉ ููุบุงูุฉ. </font><font style="vertical-align: inherit;">ูุชู ูุดุฑ ููุฏ ูุญุฑุฑ ุงููุตูุต ุงูุฎุงุต ุจู ุนูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุญุชู ุชุชููู ูู ุฑุคูุฉ ููู ูุจุฏู ุจุงููุนู. </font><font style="vertical-align: inherit;">ุงูุขู ุณุฃุชุญุฏุซ ุจุงูุชูุตูู ููุท ุนู ุงูุฑูุฒ ุงูุฐู ูููุฐ ูุธููุฉ ุงูุฅูุบุงุก.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูุบุงุก</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชุงุจุฉ ุงูุฅูุบุงุก ุจุดูู ุตุญูุญ ุจุฏูู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูููุงุณุจุฉ ููุณุช ุจูุฐู ุงูุจุณุงุทุฉ. ูู ูุญุฑุฑู ุ ููุช ุจุชุทุจููู ุนูู ุบุฑุงุฑ emacs ุ ูุฐูู ุฃููุงู ุจุถุน ูููุงุช ุญูู ูุจุงุฏุฆู ุงูุฃุณุงุณูุฉ. ุฃูุฑ ุงูุนูุฏุฉ ููููุฏ ููุง ุ ูุจูุถู ูุฐุง ุ ูุง ููููู ุฃู ุชููุฏ ูุธููุชู. ุฅุฐุง ูุงูุช ุงูุนูุฏุฉ ุถุฑูุฑูุฉ ุ ูุชู ุฅุฌุฑุงุก ุฃู ุชุบููุฑ ุนูู ุงููุต ุ ุซู ุชุตุจุญ ุฌููุน ุฅุฌุฑุงุกุงุช ุงูุฅูุบุงุก ูุฑุฉ ุฃุฎุฑู ุฌุฒุกูุง ูู ุณุฌู ุงูุฅูุบุงุก.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s0/4z/j_/s04zj_sia6mzw8reywkbznlhlem.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุชูุถูุญ ูุฐุง ุงููุจุฏุฃ ุฃุนูุงู. ูุธูุฑ ุงููุนูู ุงูุฃุญูุฑ ููุง ูููุนูุง ูู ุงูุชุงุฑูุฎ: ุฅุฐุง ูู ููุชูู ุงูุฅูุบุงุก ุ ูุฅู ุงููุนูู ุงูุฃุญูุฑ ุฏุงุฆููุง ูุง ูููู ูู ุงูููุงูุฉ. ุฅุฐุง ููุช ุจุงูุฅูุบุงุก ุ ูุณูู ูุนูุฏ ุงููุนูู ุญุงูุฉ ูุงุญุฏุฉ ุฅูู ุงููุฑุงุก ุ ูููู ูู ููุณ ุงูููุช ุ ุณุชุชู ุฅุถุงูุฉ ุญุงูุฉ ุฃุฎุฑู ุฅูู ููุงูุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ - ููุณ ุงูุญุงูุฉ ุงูุชู ูุฑุงูุง ุงููุณุชุฎุฏู ุญุงูููุง (S3). ุฅุฐุง ุฃูุบูุช ูุฑุฉ ุฃุฎุฑู ูุนุงุฏุช ุฅูู ุงูุญุงูุฉ S2 ุ ูุณุชุชู ุฅุถุงูุฉ ุงูุญุงูุฉ S2 ุฅูู ููุงูุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ. ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ุงูุขู ุจุฅุฌุฑุงุก ููุน ูู ุงูุชุบููุฑ ุ ูุณุชุชู ุฅุถุงูุชู ุฅูู ููุงูุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุญุงูุฉ ุฌุฏูุฏุฉ ูู S5 ุ ูุณูุชู ููู ุงููุนูู ุฅููู. ุงูุขู ุ ุนูุฏ ุงูุชุฑุงุฌุน ุนู ุงูุฅุฌุฑุงุกุงุช ุงูุณุงุจูุฉ ุ ุณูุชู ุชูุฑูุฑ ุฅุฌุฑุงุกุงุช ุงูุชุฑุงุฌุน ุงูุณุงุจูุฉ ุฃููุงู. ูุชูููุฐ ูุธุงู ุงูุฅูุบุงุก ูุฐุง ุ ูููู ุงูุฑูุฒ ุงูุชุงูู:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">buffer <span class="hljs-title">record</span>(<span class="hljs-params">buffer before, buffer after</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (before.content != after.content) {<font></font>
        after.history = after.history.push_back({before.content, before.cursor});<font></font>
        <span class="hljs-keyword">if</span> (before.history_pos == after.history_pos)<font></font>
            after.history_pos = std::nullopt;<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> after;<font></font>
}<font></font>
<font></font>
<span class="hljs-function">buffer <span class="hljs-title">undo</span>(<span class="hljs-params">buffer buf</span>)</span><font></font>
{<font></font>
    auto idx = buf.history_pos.value_or(buf.history.size());<font></font>
    <span class="hljs-keyword">if</span> (idx &gt; <span class="hljs-number">0</span>) {<font></font>
        auto restore = buf.history[--idx];<font></font>
        buf.content = restore.content;<font></font>
        buf.cursor = restore.cursor;<font></font>
        buf.history_pos = idx;<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> buf;<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงู ุฅุฌุฑุงุกุงู ุ </font></font><code>record</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>undo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>Record</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุฅุฌุฑุงุคู ุฃุซูุงุก ุฃู ุนูููุฉ. ูุนุฏ ูุฐุง ุฃูุฑูุง ูุฑูุญูุง ููุบุงูุฉ ูุฃููุง ูุง ูุญุชุงุฌ ุฅูู ูุนุฑูุฉ ูุง ุฅุฐุง ุญุฏุซ ุฃู ุชุนุฏูู ูููุณุชูุฏ. ุงููุธููุฉ ุดูุงูุฉ ูููุทู ุงูุชุทุจูู. ุจุนุฏ ุฃู ุฅุฌุฑุงุก ุ ุชุชุญูู ุงููุธููุฉ ูู ุชุบูุฑ ุงููุณุชูุฏ. ุฅุฐุง ุญุฏุซ ุชุบููุฑ ุ ูุชู ุชูููุฐ </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุญุชููุงุช ูููุถุน ุงููุคุดุฑ </font></font><code>history</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฅุฐุง ูู ูุคุฏ ุงูุฅุฌุฑุงุก ุฅูู ุชุบููุฑ </font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุฃู ุฃู ุงูุฅุฏุฎุงู ุงููุณุชูู </font></font><code>buffer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณ ุจุณุจุจ ุฅุฌุฑุงุก ุงูุฅูุบุงุก) ุ ูุณูุชู </font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนููู ูููุฉ </font></font><code>null</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฅุฐุง ูุฒู ุงูุฃูุฑ </font></font><code>undo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุชุญูู </font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฅุฐุง ูู ููู ููุง ูุนูู ุ ููุญู ูุนุชุจุฑูุง </font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ููุงูุฉ ุงููุตุฉ. ุฅุฐุง ูู ููู ุณุฌู ุงูุฅูุบุงุก ูุงุฑุบูุง (ุฃู</font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุณ ูู ุจุฏุงูุฉ ุงููุตุฉ) ุ ูุชู ุงูุฅูุบุงุก. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุจุฏุงู ุงููุญุชูู ุงูุญุงูู ูุงููุคุดุฑ ูุชุบููุฑููุง </font></font><code>history_pos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุชู ุชุญููู ุนุฏู ูุงุจููุฉ ุงูุชุฑุงุฌุน ุนู ุนูููุฉ ุงูุชุฑุงุฌุน ุนู ุทุฑูู ุงููุธููุฉ </font></font><code>record</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุงูุชู ูุชู ุงุณุชุฏุนุงุคูุง ุฃูุถูุง ุฃุซูุงุก ุนูููุฉ ุงูุชุฑุงุฌุน. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐูู ุ ูุฏููุง ุนูููุฉ </font></font><code>undo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชุบุฑู 10 ุฃุณุทุฑ ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ูุงูุชู ูููู ุงุณุชุฎุฏุงููุง ุจุฏูู ุชุบููุฑุงุช (ุฃู ูุน ุชุบููุฑุงุช ุทูููุฉ) ูู ุฃู ุชุทุจูู ุขุฎุฑ ุชูุฑูุจูุง.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุณูุฑ ุนุจุฑ ุงูุฒูู</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนู ุงูุณูุฑ ุนุจุฑ ุงูุฒูู. ููุง ุณูุฑู ุงูุขู ุ ูุฐุง ููุถูุน ูุชุนูู ุจุงูุฅูุบุงุก. ุณุฃูุถุญ ุนูู ุฅุทุงุฑ ุนูู ูู ุดุฃูู ุฃู ูุถูู ูุธุงุฆู ูููุฏุฉ ูุฃู ุชุทุจูู ูู ุจููุฉ ููุงุซูุฉ. ูุณูู ุงูุฅุทุงุฑ ููุง </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ewig-debug</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุชุถูู </font><font style="vertical-align: inherit;">ูุฐุง ุงูุฅุตุฏุงุฑ ูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ewig</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุถ ููุฒุงุช ุงูุชุตุญูุญ. ุงูุขู ูู ุงููุชุตูุญ ุ ููููู ูุชุญ ุงููุตุญุญ ุ ุญูุซ ููููู ูุญุต ุญุงูุฉ ุงูุชุทุจูู.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dy/ba/7x/dyba7xjocwgjjmqvayinlfwx0y4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฑู ุฃู ุงูุฅุฌุฑุงุก ุงูุฃุฎูุฑ ูุงู ูุชู ุชุบููุฑ ุญุฌูู ุ ูุฃููู ูุชุญุช ูุงูุฐุฉ ุฌุฏูุฏุฉ ุ ููุงู ูุฏูุฑ ูุงูุฐุชู ุจุชุบููุฑ ุญุฌู ุงููุงูุฐุฉ ุงูููุชูุญุฉ ุจุงููุนู. ุจุงูุทุจุน ุ ูู ุฃุฌู ุงูุชุณูุณู ุงูุชููุงุฆู ูู JSON ุ ุงุถุทุฑุฑุช ุฅูู ุฅุถุงูุฉ ุชุนููู ุชูุถูุญู ููุจููุฉ ูู ููุชุจุฉ ุงูุงูุนูุงุณ ุงูุฎุงุตุฉ. ููู ุจุงูู ุงููุธุงู ุนุงููู ุชูุงููุง ุ ูููู ุชูุตููู ุจุฃู ุชุทุจูู ููุงุซู. ุงูุขู ูู ุงููุชุตูุญ ููููู ุฑุคูุฉ ุฌููุน ุงูุฅุฌุฑุงุกุงุช ุงูููุชููุฉ. ุจุงูุทุจุน ุ ููุงู ุญุงูุฉ ุฃูููุฉ ููุณ ููุง ุนูู. ูุฐู ูู ุงูุญุงูุฉ ุงูุชู ูุงูุช ูุจู ุงูุชูุฒูู. ุนูุงูุฉ ุนูู ุฐูู ุ ูู ุฎูุงู ุงูููุฑ ุงููุฒุฏูุฌ ุ ูููููู ุฅุนุงุฏุฉ ุงูุชุทุจูู ุฅูู ุญุงูุชู ุงูุณุงุจูุฉ. ูุฐู ุฃุฏุงุฉ ุชุตุญูุญ ูููุฏุฉ ููุบุงูุฉ ุชุณูุญ ูู ุจุชุชุจุน ุญุฏูุซ ุนุทู ูู ุงูุชุทุจูู.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ููุช ููุชููุง ุ ููููู ุงูุงุณุชูุงุน ุฅูู ุชูุฑูุฑู ุญูู CPPCON 19 ุ ุงูููู ุงูุฃูุซุฑ ูููุฉ ุ ููุงู ุณุฃููู ุจูุญุต ูุตุญุญ ุงูุฃุฎุทุงุก ูุฐุง ุจุงูุชูุตูู. </font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_oBx_NbLghY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุชู ููุงูุดุฉ ุงูุนูุงุฑุฉ ุงููุงุฆูุฉ ุนูู ุงููููุฉ ุจูุฒูุฏ ูู ุงูุชูุตูู ููุงู. </font><font style="vertical-align: inherit;">ูู ุฐูู ุ ุฃููู ูู ุฃูุถูุง ููููุฉ ุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ูุชูุธูููุง ุจุดูู ูุฑูู. </font><font style="vertical-align: inherit;">ูุฐุง ูุถูู ูููุฐุฌูุฉ ุงููุธุงู ููุฒูู ุงูุญุงุฌุฉ ุฅูู ุงูุงุญุชูุงุธ ุจูู ุดูุก ูู ูุธููุฉ ุชุญุฏูุซ ูุจูุฑุฉ ูุงุญุฏุฉ. </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุชุญุฏุซ ูุฐุง ุงูุชูุฑูุฑ ุนู ุชูุฒูู ุงููููุงุช ุบูุฑ ุงููุชุฒุงููุฉ ูุงููุชุฑุงุจุทุฉ. </font><font style="vertical-align: inherit;">ููุงู ูุณุฎุฉ ุฃุฎุฑู ูู ูุฐุง ุงูุชูุฑูุฑ ุญูุซ ูุตู ุณุงุนุฉ ูู ุงูููุงุฏ ุงูุฅุถุงููุฉ ูู ููุงูู ุจูุงูุงุช ุซุงุจุชุฉ ููุง ุจุนุฏ ุงูุญุฏุงุซุฉ.</font></font><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/y_m0ce1rzRI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุชุฎุชุตุฑ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุนุชูุฏ ุฃู ุงูููุช ูุฏ ุญุงู ููุชูููู. ุณุฃูุชุจุณ ูู ุขูุฏู ูููุบู - ุฅูู ูุทูุฑ ููุชุงุฒ ุ ููุฑุณ ุงููุซูุฑ ูู ุงูููุช ูู V8 ูุงููุฌูุนูู ุจุดูู ุนุงู ุ ูุฃุฎูุฑูุง ุ ูุดุงุฑู ูู ุฏุนู Guile ุ ูุชูููุฐ ูุฎุทุท ูู GNU. ูุชุจ ูุคุฎุฑูุง ุนูู ูููุนู ุนูู ุชููุชุฑ: "ูุชุญููู ุชุณุงุฑุน ุทููู ูู ุงูุจุฑูุงูุฌ ุ ูููุณ ูู ุชุบููุฑ ุตุบูุฑ ููุชุฑู ููุท ุชูู ุงูุชู ุชุนุทู ูุชูุฌุฉ ุฅูุฌุงุจูุฉ. ููููุง ุญููุง ูุญูู ุชุณุงุฑุนูุง ูุจูุฑูุง ุ ูุจุดูู ุฃุนูู ุ ูุณุชุซูุฑ ุงููุซูุฑ ูู ุงูุฌูุฏ ุ ูููุณ ูุฏููุง ุซูุฉ ุจูุณุจุฉ 100 ูช ููุณุชุฑุดุฏ ููุท ุจุงูุญุฏุณ. ูุง ููุง ูู ุงููุณุงู ุบุฑูุจ. "</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจุฏู ูู ุฃู ูุทูุฑู C ++ ููุฌุญูู ูู ุงูููุน ุงูุฃูู. </font><font style="vertical-align: inherit;">ุงููุญูุง ูุธุงููุง ูุบูููุง ุ ููุญู ุ ูุณูุญูู ุจุฃุฏูุงุชูุง ุ ุณูุถุบุท ุนูู ูู ูุง ูู ูููู ููู. </font><font style="vertical-align: inherit;">ููู ูู ุงูููุน ุงูุซุงูู ูู ูุนุชุฏ ุนูู ุงูุนูู. </font><font style="vertical-align: inherit;">ุจุงูุทุจุน ุ ุงูููุฌ ุงูุซุงูู ุฃูุซุฑ ุฎุทูุฑุฉ ุ ูุบุงูุจูุง ูุง ูุคุฏู ุฅูู ุฅูุฏุงุฑ ุฌูุฏ ูุจูุฑ. </font><font style="vertical-align: inherit;">ูู ูุงุญูุฉ ุฃุฎุฑู ุ ูู ุฎูุงู ุฅุนุงุฏุฉ ูุชุงุจุฉ ุจุฑูุงูุฌ ุจุงููุงูู ุ ูููู ุฌุนูู ุฃุณูู ูุฃุณุฑุน. </font><font style="vertical-align: inherit;">ุขูู ุฃู ุฃุชููู ูู ุฅููุงุนู ุนูู ุงูุฃูู ุจุชุฌุฑุจุฉ ูุฐุง ุงูููุฌ ุงูุซุงูู.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุฏุซ ุฎูุงู ุจูููุชู ูู ูุคุชูุฑ C ++ Russia 2019 ูู ููุณูู ูุชุญุฏุซ ุนู ููุงูู ุงูุจูุงูุงุช ุงูุชู ุชุณูุญ ูู ุจุงูููุงู ุจุฃุดูุงุก ูุซูุฑุฉ ููุงูุชูุงู. </font><font style="vertical-align: inherit;">ุฌุฒุก ูู ุณุญุฑ ูุฐู ุงูุฃูุงุฐูุจ ุงูููุงูู ูู ูุณุฎุฉ ุชุฑุฎูู - ููุฐุง ูู ูุง </font><font style="vertical-align: inherit;">ุงูุทูู Polukhin ูุงูุฑููุงููุฉ Rusyaev </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูู ูุชุญุฏุซ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนููุง ูู ุงููุคุชูุฑ ุงููุงุฏู </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุงุชุจุน ุชุญุฏูุซุงุช </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุจุฑูุงูุฌ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูู ุงููููุน.</font></font></blockquote></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar487090/index.html">ูุณุชูู ุฌุฏูุฏ ูู ุชุญุณูู Windows</a></li>
<li><a href="../ar487092/index.html">ููุฐุฌุฉ ุงูุนูููุงุช ุงูุชุฌุงุฑูุฉ ูุฌุฒุก ูู ูุดุฑูุน ุชูููุฐ ูุธุงู ุชุฎุทูุท ููุงุฑุฏ ุงููุคุณุณุงุช</a></li>
<li><a href="../ar487094/index.html">ุฃุญุฏุงุซ ุฅุนุงุฏุฉ ุงููุนุงูุฌุฉ ุงููุงุฑุฏุฉ ูู ูุงููุง</a></li>
<li><a href="../ar487096/index.html">ุงููุตุงุตุงุช. ููู ุชุฌุนู ุนูููุฉ ุงูุชุนุงูู ูุน ุงููุซุงุฆู ุฃุณูู</a></li>
<li><a href="../ar487098/index.html">ุงุฑุณู ุจุงูููู: ุตูุฑ ุฅุฌุฑุงุฆูุฉ ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุงุช ุชุญุณูู ูุณุชุนูุฑุฉ ุงูููู</a></li>
<li><a href="../ar487106/index.html">ูุญุต ูุญูู PVS-Studio RunUO</a></li>
<li><a href="../ar487108/index.html">ุงูููู ุงูุดุฎุตู ููุงุนุจ ุงููุญููู: MyTracker Research</a></li>
<li><a href="../ar487110/index.html">Slurm SRE. ุชุฌุฑุจุฉ ูุงููุฉ ูุน ุฎุจุฑุงุก ูู Booking.com ู Google.com</a></li>
<li><a href="../ar487112/index.html">ุญุงูุฉ ุงูุฌููู: ุงูุฏุงุฆุฑุฉ ุงูุฃุณุงุณูุฉ</a></li>
<li><a href="../ar487116/index.html">ููุงุฐุง ููุงุฌุฑ Discord ูู ุงูุฐูุงุจ ุฅูู ุงูุตุฏุฃ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>