<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍂 📂 👨🏻 Metode untuk berurusan dengan kode lawas menggunakan GitLab sebagai contoh 🐻 🔝 💇🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anda dapat tanpa henti menipu apakah GitLab adalah produk yang baik. Lebih baik untuk melihat angka-angkanya: menurut hasil putaran investasi, GitLab ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Metode untuk berurusan dengan kode lawas menggunakan GitLab sebagai contoh</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/493000/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat tanpa henti menipu apakah GitLab adalah produk yang baik. Lebih baik untuk melihat angka-angkanya: menurut hasil putaran investasi, GitLab bernilai $ 2,7 miliar, sedangkan penilaian sebelumnya adalah $ 1,1 miliar. Ini berarti pertumbuhan yang cepat dan perusahaan akan mempekerjakan lebih banyak dan lebih banyak pengembang front-end. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah kisah tentang penampilan frontend di GitLab. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/uq/uh/cyuquhlxnzithh35ujtiswr5upy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah grafik dari jumlah vendor front-end di GitLab, dimulai pada 2016, ketika tidak ada sama sekali, dan berakhir pada 2019, ketika sudah ada beberapa lusin dari mereka. Tapi GitLab sendiri sudah ada selama 7 tahun. Jadi, hingga 2017, kode utama di frontend ditulis oleh pengembang backend, lebih buruk, pengembang backend di Ruby on Rails (dalam hal apa pun kita tidak ingin menyinggung siapa pun dan menjelaskan di bawah apa yang kita bicarakan).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama 7 tahun, proyek apa pun, suka atau tidak, menjadi usang. </font><font style="vertical-align: inherit;">Pada titik tertentu, refactoring menjadi tidak mungkin ditunda lagi. </font><font style="vertical-align: inherit;">Dan perjalanan dimulai, penuh petualangan, titik akhir yang tidak pernah tercapai. </font><font style="vertical-align: inherit;">Tentang bagaimana ini terjadi di GitLab, kata Ilya Klimov.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/3tdfBMRq34o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang pembicara: Ilya Klimov (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xanf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) senior frontend engineer di GitLab. </font><font style="vertical-align: inherit;">Sebelum itu, ia bekerja di startup dan outsourcing, memimpin perusahaan outsourcing kecil. </font><font style="vertical-align: inherit;">Kemudian saya menyadari bahwa saya belum punya waktu untuk mengerjakan produk, dan datang ke GitLab. </font></font></em><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini didasarkan pada laporan oleh Ilya di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FrontendConf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , oleh karena itu tidak begitu banyak struktur informasi yang mencerminkan pengalaman pembicara. </font><font style="vertical-align: inherit;">Ini mungkin tampak terlalu banyak bicara, tetapi tidak kalah menarik dari sudut pandang bekerja dengan warisan. </font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di GitLab, seperti di banyak proyek lain, mereka secara bertahap bermigrasi dari teknologi lama ke sesuatu yang lebih relevan:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CoffeeScript dalam JavaScript. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengembang di Ruby on Rails, ketika mereka memulai proyek, mau tidak mau memperhatikan CoffeeScript, yang terlihat sangat mirip dengan Ruby.</font></font></li>
<li><strong>JQuery  Vue. </strong>  ,        JQuery.   GitLab  SPA.  server-side rendering  progressive enhancement,        Vue-.  ,    :     Vue-,    .</li>
<li><strong>Karma  Jest. </strong>Jest  -     . Karma     , , .</li>
<li><strong>REST  GraphQL</strong> ,   , <strong>Vuex  Apollo</strong>.      Vuex,    Redux   Vue,  Apollo local state  ,     .    GraphQL    ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada saat yang sama, penggantian berlangsung di beberapa arah sekaligus, dalam proyek ada secara bersamaan kode warisan pada tahap yang berbeda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang bayangkan Anda datang ke proyek yang berada di tengah-tengah semua migrasi ini. Titik standar dan referensi bagi saya adalah situasi ketika Anda membuka mengedit proyek, tekan tombol simpan - dan menurut Anda apa yang akan terjadi? Jika Anda berpikir bahwa kami adalah fag-tua seperti HTML, maka tidak. JavaScript hadir karena Anda perlu "berevolusi" untuk menampilkan jendela sembul. Ini adalah titik bawah dalam gambar warisan saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya: kelas yang ditulis sendiri dalam jQuery, komponen Vue dan, sebagai titik tertinggi, fitur modern baru ditulis dengan Vuex, Apollo, Jest, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti inilah grafik kontribusi saya di GitLab.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ew/ml/io/ewmliousc_qzjvrr0pfshtqlrj0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di dalamnya - dan ini sangat penting untuk memahami esensi cerita dan semua rasa sakit saya - beberapa segmen dapat dibedakan:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onboarding</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di area April. </font><font style="vertical-align: inherit;">"Honeymoon" ketika saya baru saja mulai bekerja di GitLab. </font><font style="vertical-align: inherit;">Pada saat ini, pemula diberikan tugas yang lebih mudah.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari akhir April hingga pertengahan Mei hanya ada beberapa komitmen - periode </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penolakan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "Tidak, tidak mungkin semuanya dilakukan dengan cara itu!" </font><font style="vertical-align: inherit;">Saya mencoba memahami di mana saya tidak memahami sesuatu, jadi ada beberapa komitmen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paruh kedua bulan Mei adalah </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kemarahan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "Saya tidak peduli tentang segalanya - saya perlu memindahkan produksi, berbagi fitur, mencoba melakukan sesuatu tentang hal itu."</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Awal Juni (nol komitmen) adalah </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depresi</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ini bukan liburan, saya menyaksikan dan mengerti bahwa tangan saya jatuh, saya tidak tahu apa yang harus saya lakukan dengannya.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setelah itu, saya </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setuju dengan diri saya sendiri</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , memutuskan bahwa saya dipekerjakan sebagai seorang profesional, dan saya bisa menjadikan GitLab lebih baik. </font><font style="vertical-align: inherit;">Pada bulan Juni dan Juli, saya menawarkan sejumlah besar perbaikan. </font><font style="vertical-align: inherit;">Tidak semua dari mereka beresonansi untuk alasan yang akan kita bicarakan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang saya berada pada tahap </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adopsi</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan mengerti dengan jelas: bagaimana, di mana, mengapa dan apa yang harus dilakukan dengan semua ini.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan memberi tahu Anda secara lebih rinci apa yang saya lakukan dari Agustus hingga Oktober. </font><font style="vertical-align: inherit;">Jujur saja, di perusahaan outsourcing kecil atau startup, saya akan dipecat lima kali dengan produktivitas seperti itu dalam tiga bulan ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, dalam tiga bulan saya melakukannya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kontrol tersegmentasi - tiga tombol.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String pencarian yang menyimpan sejarah lokal adalah komponen yang sedikit lebih kompleks.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemintal. </font><font style="vertical-align: inherit;">Dan komponen ini belum dibekukan.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/p6/fw/uw/p6fwuwfxi5dxzpyuewu9vn7_zc4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, langkah demi langkah, kita akan menganalisis mengapa ini terjadi dan bagaimana hidup dengannya. Jika menurut Anda saya melebih-lebihkan, ini adalah tangkapan layar dari beberapa tugas yang menggantung saya di GitLab (Anda dapat melihat langsung pada GitLab, terbuka). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/em/ax/o9/emaxo9j3iwkxpdefee2ghsokjpi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihat: tidak terjawab 12.1, terjawab 12.2, terjawab 12.3. Sprint berlangsung sebulan, dan kontrol tersegmentasi - 3 sprint. Spinner masih pergi, dia akan menjadi karakter utama kita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah refactoring dan filosofi refactoring telah menghadapi kemanusiaan sejak lama - selama ribuan tahun. Sekarang saya akan membuktikan:</font></font><br>
<blockquote><em>«        ;      ,   ,   ;        ;    ,  .<br>
<br>
 ,   ,    ,  :  ».<br>
<br>
 </em></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alkitab memberi tahu kita bagaimana menggabungkan fungsi lama dan baru. </font><font style="vertical-align: inherit;">Bagian kedua dari kutipan ini bernilai dari sudut pandang manajemen: tidak peduli bagaimana Anda melakukan inisiatif, Anda akan menghadapi perlawanan besar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada fase depresi, saya menonton banyak laporan tentang refactoring proyek-proyek besar, tetapi sekitar 70% dari mereka mengingatkan saya pada lelucon. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembicaraan Javist: </font></font></em><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Bagaimana kita mempercepat aplikasi Java kita? </font></font></em><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Oh, jadi saya punya laporan tentang itu! </font><font style="vertical-align: inherit;">Apakah Anda ingin memberi tahu? </font></font></em><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Untuk mengatakan dan saya bisa, saya akan mempercepat! </font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda masih memutuskan untuk memulai jalan refactoring yang berbahaya dan goyah, saya memiliki beberapa resep sederhana yang telah saya kembangkan untuk diri saya sendiri dan yang bekerja dalam kondisi yang mendekati kenyataan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Isolasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mempercepat, memperbaiki, refactor, Anda perlu memotong gajah menjadi steak, yaitu, membagi tugas menjadi beberapa bagian. GitLab sangat besar, kami memiliki saluran Slack "Apakah ini dikenal", di mana orang mengajukan pertanyaan seperti "Apakah ini bug atau fitur, siapa yang bisa menjelaskan?" - dan jawabannya tidak selalu ditemukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh sederhana: tangkapan layar dari tempat yang sama di GitLab, diambil dengan perbedaan satu hari. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_i/e7/t3/_ie7t3qfxsof8p9kwrdzy2wsymi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sangat kesal, karena saya bekerja pada tombol ini, dan ini semua satu atau lain masalah dengan tombol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang terjadi? Sederhana: kami mengembangkan sistem desain, dan sebagai bagian dari alat buku cerita terpisah untuk menguji sistem desain, kami menonaktifkan CSS global GitLab untuk memeriksa bagaimana komponen CSS diisolasi dari CSS global. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meringkas: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS tidak lagi menyimpan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setidaknya di GitLab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya telah bekerja dengan JavaScript selama 14 tahun dan belum pernah melihat proyek yang setidaknya satu atau dua tahun lamanya memelihara CSS yang dikelola sepenuhnya. Omong-omong, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML juga</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak bisa disimpan (di GitLab pasti). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitLab telah dikembangkan untuk waktu yang lama dan backendov. Mereka membuat keputusan kontroversial untuk menggunakan Bootstrap karena Bootstrap menawarkan sistem tata letak yang ramah-backend. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi apa itu Bootstrap dalam hal filosofi isolasi komponen? Ini adalah sekitar 600-700 kelas global (pada kenyataannya, setiap kelas CSS adalah global) yang menyerap seluruh aplikasi. Dalam hal pengelolaan, tidak ada hal baik yang akan terjadi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tindakan selanjutnya (jangan menyebutnya kesalahan) - GitLab mengambil Vue.js. Pilihannya masuk akal, karena tiga kerangka kerja, Vue yang memungkinkan Anda untuk menulis ulang sesuatu dengan paling lancar. Anda tidak perlu segera membuang dan memotong Aplikasi Halaman Tunggal yang besar, tetapi Anda dapat menulis ulang setiap node kecil. Sekarang hal itu dapat dilakukan pada Angular, tetapi 3-4 tahun yang lalu, ketika Angular 2 muncul, itu tidak dapat hidup berdampingan di halaman dalam lebih dari satu contoh. Bereaksi juga dimungkinkan sekarang, tetapi semua keajaiban ini dengan kurangnya langkah membangun dan seterusnya mengarahkan timbangan ke arah Vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, satu kejahatan digabungkan dengan yang kedua. Ini buruk, karena gaya Bootstrap tidak tahu apa-apa tentang sistem komponen, dan komponen Vue ditulis pada awalnya. Oleh karena itu, keputusan yang kuat dibuat untuk membuat sistem desain mereka sendiri. Kami menyebutnya</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piyama</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tapi tidak ada yang bisa menjelaskan mengapa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya melihat bahwa sekarang ada semakin banyak sistem desain kita sendiri, dan ini bagus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem desain melibatkan isolasi, tetapi karena GitLab sudah ditulis dalam Bootstrap, sekitar 50-60% dari sistem desain kami adalah pembungkus komponen Bootstrap / Vue dengan penurunan fungsionalitasnya. Ini diperlukan agar sistem desain tidak memungkinkan Anda untuk menggunakan komponen secara salah. Jika kita berbicara tentang perpustakaan abstrak, maka fleksibilitas penting di sana, misalnya, kemampuan untuk membuat tombol apa pun yang Anda inginkan. Jika di GitLab spinners dapat empat ukuran yang disetujui oleh desainer, maka Anda perlu secara fisik tidak membiarkan orang lain melakukannya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suatu hari nanti, niat baik akan menang, dan kami akan memiliki alat penting yang dengannya, tentu saja, jika Anda mendapat skor dukungan untuk IE dan Edge, Anda dapat secara efektif memperbaiki proyek-proyek front-end - ini adalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shadow DOM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Shadow DOM memecahkan masalah gaya global yang mengalir ke komponen. Tolong jangan mengambil Polymer, yang bahkan Google telah dimakamkan. Gunakan elemen-lit dan HTML-lit, dan Anda dapat membangun gaya terisolasi menggunakan kerangka favorit Anda.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengatakan bahwa Bereaksi memiliki modul CSS, Vue memiliki cakupan gaya yang melakukan hal yang sama. Berhati-hatilah dengan mereka: modul CSS tidak menyediakan isolasi 100% karena hanya bekerja dengan kelas. Dan dengan gaya cakupan dalam Vue, skenario yang sangat menarik dapat direalisasikan ketika gaya komponen teratas jatuh ke elemen root dari induk, dan ada atribut data yang digunakan yang memperlambat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terlepas dari kenyataan bahwa saya memarahi Angular selama tiga tahun, sekarang saya harus mengakui bahwa saat ini penerapannya adalah yang terbaik. Dalam Angular, untuk memastikan isolasi gaya yang baik, cukup dengan hanya beralih mode isolasi dan, jika perlu, gunakan Shadow DOM, jika tidak emulasi normal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kembali ke pemintal. </font><font style="vertical-align: inherit;">Dari tiga bulan saya berkelahi dengannya, untuk beberapa waktu saya terlibat dalam bisnis yang menarik: membersihkan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s8/zv/u0/s8zvu0h5yauznhgfqthij_96rkc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kelas </font></font><code>loading-container</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah detail implementasi dari pemintal, yaitu kelas di dalam implementasi pemintal. </font><font style="vertical-align: inherit;">Kami memutuskan, karena CSS tidak dapat disimpan, di Pyjamas untuk membuat CSS terpisah berdasarkan Atomic CSS. </font><font style="vertical-align: inherit;">Saya pribadi tidak terlalu menyukai konsep Atomic CSS, tetapi kami memiliki apa yang kami miliki. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artinya, saya terlibat dalam membersihkan gaya dalam kode produk utama yang digantung pada elemen yang merupakan detail implementasi. </font><font style="vertical-align: inherit;">Semuanya terlihat sangat sederhana - karena, tentu saja, ada tes di GitLab.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Tes</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes di GitLab mencakup semua kode</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , memberikan keandalan. </font><font style="vertical-align: inherit;">Dan jadi pipa selesai dalam 98 menit. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fl/uz/bb/fluzbboaa7on25ueq9z6pkvcdb4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitLab mengumpulkan 40% dari waktu pelari publik di GitLab.com karena GitLab mengumpulkan pipa untuk setiap permintaan penggabungan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sangat terinspirasi: Saya akhirnya mengerjakan proyek di mana semuanya tercakup dalam ujian! </font><font style="vertical-align: inherit;">Cakupan kode backend mendekati 100%, dan kode front-end pada saat kedatangan saya dicakup oleh </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89,3%. </font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sayangnya, ternyata sebagian besar liputan ini adalah sampah karena:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rusak ketika perubahan dilakukan yang tidak terkait dengan komponen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak pecah saat perubahan dilakukan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan jelaskan dengan contoh. </font><font style="vertical-align: inherit;">Kami mengambil Jest karena kami berpikir bahwa dia akan mengizinkan kami dalam situasi tertentu untuk tidak menulis pernyataan, tetapi untuk menggunakan snapshot. </font><font style="vertical-align: inherit;">Masalahnya adalah bahwa jika Anda tidak mengonfigurasi Jest dan menambahkan serializer yang benar, maka Vue Test Utils hanya menampilkan alat peraga dalam HTML. </font><font style="vertical-align: inherit;">Kemudian, misalnya, ternyata alat peraga dengan nama pengguna, yang memiliki alat peraga di parameter dengan data nama, di mana objek objek dilewatkan. </font><font style="vertical-align: inherit;">Setiap perubahan dalam format data yang dikirimkan tidak mengarah pada kegagalan snapshot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengembang Ruby terbiasa melakukan tes, secara kasar, mencakup semua metode.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat kami melakukan pengujian untuk komponen Vue atau React, kita perlu menguji bagaimana perilaku API publik.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jadi, kami memiliki tes besar untuk properti yang dihitung, yang tidak digunakan dalam beberapa skenario, tetapi yang lain secara fisik tidak mungkin untuk mencapai keadaan saat komputasi ini akan dipanggil. </font><font style="vertical-align: inherit;">Terima kasih khusus kepada Vue, di mana templatnya adalah string, jadi Anda tidak dapat menghitung cakupan pengujian templat. </font><font style="vertical-align: inherit;">Di Vue 3, Source Maps akan muncul dan kemampuan untuk memperbaikinya, tetapi tidak akan segera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, ada satu keterampilan sederhana yang akan memungkinkan Anda untuk secara efektif memperbaiki warisan. </font><font style="vertical-align: inherit;">Ini adalah kemampuan untuk menulis apa yang disebut tes pinning di dunia pengujian besar.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes menjepit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah tes yang mencoba menangkap perilaku yang Anda refactoring. Harap dicatat bahwa tes pinning kemungkinan besar tidak akan berakhir pada repositori. Yaitu, Anda, melalui segala macam penyempurnaan, misalnya, menggunakan lingkungan pementasan, tulis sendiri tes yang menjelaskan bagaimana komponen Anda dirender. Setelah refactoring, tes pinning harus menghasilkan HTML yang sama, dan ini kemungkinan besar pertanda baik, atau Anda harus memahami perubahan apa yang telah terjadi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan memberi contoh dari kehidupan. Beberapa bulan yang lalu, saya melakukan tinjauan permintaan gabungan dengan refactoring daftar drop-down. Konteks lama adalah ini: sebelumnya, untuk memisahkan cabang seorang teman dari satu sama lain dengan tanda hubung dalam daftar drop-down, string teks "pembagi" hanya disahkan. Karena itu, jika cabang Anda disebut pembagi, maka Anda kurang beruntung. Dalam proses refactoring, seseorang bertukar dua kelas dalam node HTML, ini masuk ke produksi dan menghancurkannya. Dalam keadilan, tentu saja, tidak cukup produksi, tetapi dalam pementasan, tetapi tetap saja.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, ketika kami mulai menulis tes seperti itu, kami menemukan bahwa, meskipun indikator cakupan tes keren, tes tersebut ditulis secara tidak benar. Karena, pertama, kami memiliki tes untuk Karma, yaitu yang lama. Kedua, hampir semua tes membuat asumsi tentang internal komponen. Artinya, mereka berpura-pura menjadi unit test, dan bekerja pada dasarnya seperti ujung ke ujung, memeriksa bahwa tag tertentu dengan kelas tertentu sedang dibuat, alih-alih memeriksa bahwa komponen tertentu sedang dirender dengan alat peraga tertentu. Pahami perbedaannya: kelas adalah komponen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, 18 permintaan saya bergabung dengan tes refactoring dengan total 8-9 ribu baris, total changelog ternyata sekitar 20 ribu, karena 11 ribu terpotong.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ay/q_/qs/ayq_qsjbluc3lyjaiwft9oxkefo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada saat yang sama, secara formal, saya mengerjakan ulang semua tes ini demi satu hal: untuk menghapus pernyataan tentang kelas-kelas pemintal, dan sebagai gantinya memeriksa bahwa pemintal dengan alat peraga yang benar ditampilkan di sana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekilas, ini adalah pekerjaan tanpa pamrih. </font><font style="vertical-align: inherit;">Tetapi penulisan ulang tes untuk arsitektur yang tepat cukup mudah dijual ke bisnis. </font><font style="vertical-align: inherit;">GitLab adalah produk yang menguntungkan secara komersial. </font><font style="vertical-align: inherit;">Tentu saja, jika Anda memberi tahu manajer produk bahwa Anda membutuhkan tiga iterasi untuk menulis ulang 20 tes, tebak ke mana Anda akan dikirim. </font><font style="vertical-align: inherit;">Hal lain: “Saya perlu tiga iterasi untuk menulis ulang tes. </font><font style="vertical-align: inherit;">Ini akan memungkinkan kami untuk memperkenalkan pemintal lebih efisien dan mempercepat implementasi elemen-elemen baru dari sistem desain di masa depan. " </font><font style="vertical-align: inherit;">Dan di sini kita sampai pada yang penting.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Perlawanan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada fungsi lain yang menunggu lebih banyak pemintal saya dalam sistem desain GitLab - ini adalah ikon SVG biasa.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yu/to/cc/yutoccm3twkiswgiyqe2flvse_w.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki ikon yang dibuat oleh perancang yang digunakan dalam proyek utama, tetapi mereka tidak ada dalam sistem desain, karena GitLab memiliki masa kecil yang sulit. </font><font style="vertical-align: inherit;">Sebagai contoh, pada tahun 2019 CSS dikumpulkan bukan melalui Webpack, tetapi dengan sepotong yang disebut Sprockets - ini adalah pipeline Ruby, karena kita perlu menggunakan kembali CSS yang sama di backend dan frontend. </font><font style="vertical-align: inherit;">Karena itu, ikon harus terhubung ke proyek yang berbeda dengan cara yang berbeda. </font><font style="vertical-align: inherit;">Oleh karena itu, seseorang refactored basis kode utama selama tiga bulan sehingga Anda dapat menghubungkan ikon dari sistem desain ke proyek terkait. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada poin penting di sini yang pasti akan Anda temui. </font><font style="vertical-align: inherit;">Refactoring adalah proses peningkatan berkelanjutan. </font><font style="vertical-align: inherit;">Tetapi cepat atau lambat Anda harus berhenti.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini benar-benar normal untuk berhenti, tidak menyelesaikan refactoring, tetapi mendapatkan perbaikan nyata yang terukur.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapi jika Anda sedang mengerjakan proyek warisan, Anda pasti akan menemukan orang-orang yang melakukan ini. </font></font><br>
<img src="https://habrastorage.org/webt/to/bx/ix/tobxixkebgoqq2lvl-2fijjeqme.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini berarti mereka menulis dengan cara lama, karena mereka sudah terbiasa. Sebagai contoh, backenders kami mengatakan: "Saya tidak ingin mengajarkan ini Jest Anda. Saya sudah melakukan tes tertulis untuk Karma selama tiga tahun, saya perlu menambahkan fungsionalitas baru, dan karena mereka tidak akan mengambil fungsionalitas tanpa tes, inilah tes untuk Karma. " </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas Anda adalah melawan ini sebanyak mungkin. Ini relatif mudah untuk dilawan, tetapi ada dosa yang bahkan lebih besar dari itu. Terkadang dalam proses refactoring Anda menemukan masalah, dan ada keinginan untuk mengesampingkannya.</font></font><br>
<img src="https://habrastorage.org/webt/pz/va/st/pzvast70b3gpomnqsaic1iignns.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artinya, mengganti kruk baru hanya karena untuk alasan tertentu tidak mungkin membawa refactoring sampai akhir. </font><font style="vertical-align: inherit;">Sebagai contoh, jika kita memiliki masalah mengintegrasikan ikon ke basis kode utama, kita dapat meninggalkan kelas utilitas yang akan ditarik dari CSS Aplikasi global. </font><font style="vertical-align: inherit;">Secara formal, tugas bisnis akan diselesaikan, tetapi dalam praktiknya, seperti dalam sejarah hydra Lernean: ada 8 bug, 4 diperbaiki, 13 tetap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Refactoring, seperti memperbaiki rumah - tidak mungkin selesai, Anda hanya bisa menghentikannya.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80% pertama dari refactoring membutuhkan 20% dari waktu, 80% sisanya dari refactoring (hanya seperti itu) membutuhkan 80% lagi dari waktu tersebut.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penting untuk tidak memperkenalkan retasan baru selama proses refactoring. </font><font style="vertical-align: inherit;">Percayalah, selama proses pengembangan, mereka sendiri akan muncul.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Alat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, bahkan sebelum saya tiba, GitLab memulai jalur yang benar untuk memperkenalkan alat yang baik: Lebih cantik, Utilitas Uji Vue, Jest. Meskipun Prettier diimplementasikan dengan bengkok. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan menjelaskan apa yang dipertaruhkan. Sementara saya menemukan apa dan mengapa secara historis, 80% dari pencarian saya menemukan komit 37 ribu baris kode cantik. Hampir tidak mungkin untuk menggunakan histori, dan saya harus mengkonfigurasi plug-in untuk Kode VS sehingga akan mengecualikan komit ini ketika mencari histori perubahan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu, alat itu penting, tetapi Anda harus memilihnya dengan hati-hati. Sebagai contoh, kami memiliki Vue, dan Vue memiliki alat pengujian yang bagus - Vue Test Utils. Tetapi jika Vue 2 dirilis 2-3 tahun yang lalu, maka Vue Test Utils masih belum keluar dari beta. Selain itu, menurut informasi orang dalam, saat ini satu-satunya pengembang Vue Test Utils tidak menulis di Vue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam proses memilih alat, Anda bermain-main dengan takdir, dan benar-benar mencoba untuk menang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GitLab mengalami cedera pada masa kanak-kanak dengan CoffeeScript. Itulah mengapa tidak mungkin untuk mendorong bahkan gagasan teoritis menulis dalam TypeScript di GitLab. Semuanya terurai menjadi satu argumen sederhana: apakah itu tidak akan sama dengan CoffeeScript ketika bahasa yang dikompilasi dalam JavaScript telah mati.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saat memilih alat, cobalah agar alat tersebut dapat diganti, atau, dalam kasus yang ekstrim, dirawat secara mandiri.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami di GitLab menggunakan hal keren yang disebut Bahaya. </font></font><br>
<img src="https://habrastorage.org/webt/lv/ol/oh/lvolohfoqnrzwiqzur-ziqhaaxw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah tangkapan layar nyata </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">situs web</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mereka </font><font style="vertical-align: inherit;">pada tahun 2019. </font><font style="vertical-align: inherit;">Tapi, kolega mengatakan bahwa sebenarnya pada 2019 situs itu mungkin terlihat seperti apa pun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahaya adalah bot yang menempati kondisi antara antara linter dalam CI Anda dan pedoman tertulis. </font><font style="vertical-align: inherit;">Bot ini dapat diperluas dan akan datang untuk menarik permintaan atau, karena mereka dipanggil dengan benar, menggabungkan permintaan dan meninggalkan komentar seperti:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ada komentar nonaktifkan ESlint di file ini, perbaiki."</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“File ini dulunya diperintah oleh orang ini. </font><font style="vertical-align: inherit;">Mungkin Anda perlu memberi ulasan. ”</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut pendapat saya, ini adalah kerangka kerja yang sangat baik, penting dan dapat diperluas untuk memantau keadaan basis kode.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Abstraksi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan mulai dengan sebuah contoh. </font><font style="vertical-align: inherit;">Beberapa bulan yang lalu, saya melihat berita: “GitHub menyingkirkan jQuery. </font><font style="vertical-align: inherit;">Kami telah menempuh jalan yang sulit dan tidak lagi menggunakan jQuery. ” </font><font style="vertical-align: inherit;">Secara alami, saya berpikir bahwa kita juga perlu menyingkirkan jQuery di GitLab. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e3/3d/4z/e33d4zkjkbo05u2iz2ehkjp9oh8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pencarian cepat menunjukkan bahwa jQuery digunakan dalam 300 file. </font><font style="vertical-align: inherit;">Itu terlihat menakutkan, tetapi tidak ada - mata takut, tangan melakukan. </font><font style="vertical-align: inherit;">Tapi tidak! </font><font style="vertical-align: inherit;">jQuery adalah perekat integral dalam basis kode GitLab, karena kami memiliki Bootstrap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bootstrap awalnya ditulis dalam jQuery. </font><font style="vertical-align: inherit;">Ini berarti bahwa jika Anda perlu, misalnya, untuk menangkap acara pembukaan tarik turun di Bootstrap, ini adalah acara jQuery. </font><font style="vertical-align: inherit;">Anda tidak dapat mencegatnya secara asli.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah hal pertama yang harus Anda abstraksi saat bekerja dengan kode lawas. </font><font style="vertical-align: inherit;">Jika Anda memiliki jQuery yang tidak dapat Anda buang, tulis Event Emitter Anda sendiri, yang akan bersembunyi di dalam kantor dengan acara jQuery. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika masa depan yang cerah datang, kita dapat menghapus jQuery, tetapi untuk sekarang, maaf, Anda harus memusatkan govnokod. </font><font style="vertical-align: inherit;">Dalam proyek lawas biasa, itu tersebar merata di seluruh kode. </font><font style="vertical-align: inherit;">Kumpulkan di bottleneck yang ditandai dengan bendera “Jangan masuk tanpa baju pelindung bahan kimia”.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Metrik</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda tidak dapat melakukan sesuatu yang hasilnya tidak dapat diukur. Di GitLab, kami mengukur semua yang kami lakukan untuk mengetahui secara objektif bahwa kode tersebut berfungsi lebih baik. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/me/0g/qb/me0gqbigji1jssyvv6be_ve_bjq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, kami memiliki jadwal migrasi dari tes Karma (biru) ke Jest (hijau): </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda melihat bahwa ada kemajuan bertahap. Dan kami memiliki banyak jadwal seperti itu. Tetapi penting untuk dipahami bahwa tidak selalu semuanya berakhir dengan baik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan memberikan satu contoh lagi (demo dalam laporan dimulai dari </font><font style="vertical-align: inherit;">saat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6s/az/t7/6sazt7jddhpg2kshoo0sodo-hbu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah antarmuka permintaan gabungan yang biasa dalam produksi GitLab. Jelas, kita dapat menutup file, klik pada header dan file akan mulai runtuh.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana menurut Anda, berapa lama waktu yang dibutuhkan untuk menutup file 50 baris, sementara mesin dengan Core i7 generasi kedelapan dipelintir untuk kinerja maksimum? </font><font style="vertical-align: inherit;">Berapa lama waktu penyebaran? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Waktu yang dibutuhkan file untuk runtuh berkisar antara 7 hingga 15 detik. </font><font style="vertical-align: inherit;">Penempatan terjadi secara instan. </font><font style="vertical-align: inherit;">Sebelum refactoring, keduanya bekerja sama cepatnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itulah mengapa sangat penting untuk memiliki metrik.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan memberi tahu Anda apa yang terjadi di sini. </font><font style="vertical-align: inherit;">Ini Vue, sistem reaktivitasnya melacak nilai: jika ia berubah, semua dependensi yang bergantung pada nilai ini dipanggil. </font><font style="vertical-align: inherit;">Setiap baris adalah komponen Vue yang terdiri dari banyak hal, karena Anda dapat memberikan komentar pada sebuah baris, komentar dapat dimuat secara dinamis dari server, dll. </font><font style="vertical-align: inherit;">Semua ini berlangganan Vue-store, yang juga merupakan komponen Vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika Anda menutup permintaan penggabungan, semua, katakanlah, 20 ribu langganan toko perlu diperbarui ketika toko diperbarui. Jika baris dihapus, itu harus dihapus dari dependensi. Dan kemudian matematika sederhana: Anda perlu melihat array 20 ribu elemen untuk menemukan mereka yang perlu dihapus. Katakanlah ada 500 baris seperti itu, dan setiap baris adalah beberapa komponen. Hasilnya adalah operasi matematika O (N), yaitu, O (20.000) * 500. JavaScript telah berjalan selama ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penempatan terjadi secara instan, karena menambahkan dependensi hanya merupakan dorongan ke array, mis. operasi matematika O (1). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkadang, peningkatan kualitas kode menurunkan kinerja dan metrik lainnya. Sangat penting untuk mengukurnya. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Singkatnya: pisahkan kode buruk dan catat metrik.</font></font></strong><br>
<br>
<blockquote>  legacy —  .   ,      –     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">TechLead Conf</a> — ,    .   –    ,  legacy        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> Python</a>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> PHP</a>.<br>
<br>
            ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">++</a>,        ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">FrontendConf</a>.          .</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492980/index.html">9 alat IT untuk menambah modal manusia dalam suatu perusahaan</a></li>
<li><a href="../id492990/index.html">Organisasi pendidikan siswa online</a></li>
<li><a href="../id492994/index.html">Apa yang Baru di TestMace Bagian 1. Cloud Sync, Antarmuka yang Diperbarui, dan Lainnya</a></li>
<li><a href="../id492996/index.html">Membungkam dan menghapus format tanggal khusus di Go</a></li>
<li><a href="../id492998/index.html">Bagaimana kami bingung lepas di pusat data dan apa yang terjadi</a></li>
<li><a href="../id493002/index.html">350 orang dari jarak jauh: bagaimana itu</a></li>
<li><a href="../id493008/index.html">Tentang cluster server 1C</a></li>
<li><a href="../id493010/index.html">Bagaimana Quarkus Menggabungkan Pemrograman Imperatif dan Reaktif</a></li>
<li><a href="../id493012/index.html">Udara, relay, kabel keluar jendela: bagaimana tidak bertemu penyedia monopoli di pusat bisnis</a></li>
<li><a href="../id493014/index.html">Wawancara dengan Vyacheslav Utochkin, Direktur Program Pengembangan Pendidikan di Sekolah Tinggi Ekonomi, Sekolah Tinggi Ekonomi, Sekolah Tinggi Ekonomi, 20 Pertanyaan tentang Gamedev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>