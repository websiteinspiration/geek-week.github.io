<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻‍🚀 😘 👨🏻 Un peu sur l'appareil de la radio moderne sur l'exemple de HackRF One 👼🏽 🚙 🏮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations, Habr!
 Il y a quelque temps, dans mon champ de vision est venu très souvent beaucoup d'articles, de vidéos sur le sujet des émetteurs-réc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Un peu sur l'appareil de la radio moderne sur l'exemple de HackRF One</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499376/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salutations, Habr!</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a quelque temps, dans mon champ de vision est venu très souvent beaucoup d'articles, de vidéos sur le sujet des émetteurs-récepteurs SDR. Le sujet est intéressant aujourd'hui. Les appareils HackRF One sont très populaires parmi les radio-amateurs et autres "technophiles" de divers types (à ce jour, malgré le fait que cet émetteur-récepteur soit apparu sur le marché depuis longtemps, et maintenant il existe déjà de nombreuses autres options SDR d'un plan similaire, y compris plus productif). Presque tous les articles sur ce sujet traitent des outils logiciels (en règle générale, travaillent avec GNU Radio, décrivent les algorithmes DSP, etc.), donnent des exemples pratiques de capture de signaux radio, démontrent l'usurpation GPS, reçoivent des signaux de satellites météorologiques, etc. Hack-RF One est utilisé comme une sorte de «boîte» universelle,vous permettant de faire beaucoup de choses intéressantes. Il suffit d'avoir une petite expérience de programmation et une compréhension générale de ce qu'est un signal numérique - en principe, le seuil d'entrée pour les expériences les plus simples avec SDR a été franchi. En fait, c'est bien sûr génial.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais parmi les nombreux articles, je n'en ai pas encore rencontré un seul où le matériel de cet émetteur-récepteur serait soigneusement étudié, où son circuit aurait été plus ou moins minutieusement analysé (si vous l'avez rencontré, veuillez donner une référence dans les commentaires). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, une certaine négligence de ce problème par les «utilisateurs» de ce module et d'autres modules émetteurs-récepteurs similaires est alarmante. Dans de nombreux articles populaires, il apparaît que le récepteur / émetteur SDR est:</font></font><br>
<img src="https://habrastorage.org/webt/xf/7o/cz/xf7ocz_ftvfwspt4kzcequdv9pg.jpeg"><br>
 <a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est clair que le principe principal de la technologie SDR est de mettre en œuvre les fonctions d'un système radio (précédemment réalisées sous forme analogique à l'aide d'appareils électroniques) - sous forme numérique, en traitant un signal numérisé. Et même non seulement dans le transfert du traitement vers le numérique, mais aussi dans la possibilité d'utiliser des outils plus complexes pour le traitement des signaux. Mais tout cela ne signifie pas du tout que le mode de réalisation physique de tout émetteur-récepteur SDR moderne typique est un module ADC / DAC + DSP, et tout le reste n'est pas nécessaire (et s'il l'est, il est secondaire). Et, par conséquent, aucune connaissance liée à la compréhension des circuits analogiques du module radio n'est requise. Il semble suffisant de se procurer un ADC, un DAC aux caractéristiques intéressantes, de les connecter à l'antenne d'un côté, à un PC de l'autre - et ici le SDR est prêt pour tous les cas et pour toutes les générations).Peut-être que cette approche suffit pour démontrer les principes de la SDR, mais ce n'est clairement pas suffisant pour de vrais équipements de communication.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, les mouches des côtelettes sont séparées très simplement. L'avènement des nouvelles technologies ne nie pas la physique, la nature des choses et les circuits analogiques.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous le savez, en utilisant l'ADC, il est logique de numériser un signal avec une fréquence de signal extrême deux fois ou plus inférieure à la fréquence d'échantillonnage. Dans ce cas uniquement, les informations du signal peuvent être restaurées sans perte. Très souvent, des situations surviennent lorsque la fréquence extrême du signal dépasse la moitié de la fréquence d'échantillonnage des ADC existants dans le monde, ou lorsque l'option d'utiliser de tels ADC est déraisonnablement coûteuse pour un projet particulier. Dans ce cas, rien n'échappe à la nécessité de transférer le signal vers la partie inférieure du spectre sous forme analogique. Et il est couramment utilisé. Sans oublier la nécessité d'amplifier et de filtrer le signal analogique pour obtenir les caractéristiques nécessaires du système radio. La même chose s'applique exactement au DAC et au chemin de transmission.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous regardons une source plus sérieuse (par exemple, le livre «Software-Defined Radio for Engineers» de spécialistes d'Analog Devices Inc.), nous verrons qu'une architecture matérielle typique de la plate-forme SDR ressemble à ceci: </font></font><br>
 <img src="https://habrastorage.org/webt/aj/v6/lx/ajv6lxnegxhg0fkktfqn1ebjxly.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, entre les antennes et l'ADC / DAC a l'endroit où se trouve le bloc RF Front End, qui comprend la mise en œuvre des fonctions ci-dessus. Je veux parler davantage de cette partie de l'émetteur-récepteur HackRF One dans cet article. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais plus tard. Je visite un peu de temps.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suppose qu'une perception simplifiée est probablement liée au domaine auquel une personne est «habituée» - une sorte de déformation professionnelle. Supposons qu'un développeur qui a peu à voir directement avec l'électronique radio découvre qu'il existe un tel miracle - SDR, il peut être programmé, traité / synthétisé des signaux par logiciel, traqué par piratage radio, etc., c'est-à-dire en utilisant le code du programme, vous pouvez générer de vrais signaux radio physiques, traiter ceux reçus (au moins à partir du signal de la voiture d'un mauvais voisin, au moins à partir de l'espace). En effet, c'est cool! Et le sujet est intéressant pour la personne, il est complètement immergé dedans et ... et le plus souvent il ne commence pas à étudier la théorie des radiocommunications, l'ingénierie radio, il fait dans ce sujet ce qu'il sait déjà et ce qu'il aime le plus - il maîtrise les outils de conception de logiciels, commence à se souvenir / étudier DSP ,- au final, il considère que ces zones sont les plus importantes et les plus importantes dans l'émetteur-récepteur, tout le reste passe en arrière-plan et il semble que ce ne soit pas si important et, en principe, pas si nécessaire. Bien sûr, j'exagère, mais j'ai rencontré beaucoup d'opinions similaires (absolument sincères), y compris sur le hub Cependant, cette approche ne fonctionne, en règle générale, que dans le cadre de l'utilisation amateur de tels appareils. En réalité, s'il est nécessaire de concevoir indépendamment un système de communication, un dispositif IoT, une sorte de radar, etc., en plus des algorithmes de fonctionnement numériques, les caractéristiques de radiofréquence de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.tout le reste passe en arrière-plan et il semble que ce n'est pas si important et, en principe, pas si nécessaire. Bien sûr, j'exagère, mais j'ai rencontré beaucoup d'opinions similaires (absolument sincères), y compris sur le hub Cependant, cette approche ne fonctionne, en règle générale, que dans le cadre de l'utilisation amateur de tels appareils. En réalité, s'il est nécessaire de concevoir indépendamment un système de communication, un dispositif IoT, une sorte de radar, etc., en plus des algorithmes de fonctionnement numérique, les caractéristiques de radiofréquence de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.tout le reste passe en arrière-plan et il semble que ce n'est pas si important et, en principe, pas si nécessaire. Bien sûr, j'exagère, mais j'ai rencontré beaucoup d'opinions similaires (absolument sincères), y compris sur le hub Cependant, cette approche ne fonctionne, en règle générale, que dans le cadre de l'utilisation amateur de tels appareils. En réalité, s'il est nécessaire de concevoir indépendamment un système de communication, un dispositif IoT, une sorte de radar, etc., en plus des algorithmes de fonctionnement numériques, les caractéristiques de radiofréquence de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.mais j'ai rencontré beaucoup d'opinions similaires (absolument sincères), y compris sur le hub Cependant, cette approche ne fonctionne, en règle générale, que dans le cadre de l'utilisation amateur de tels appareils. En réalité, s'il est nécessaire de concevoir indépendamment un système de communication, un dispositif IoT, une sorte de radar, etc., en plus des algorithmes de fonctionnement numériques, les caractéristiques de radiofréquence de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.mais j'ai rencontré beaucoup d'opinions similaires (absolument sincères), y compris sur le hub Cependant, cette approche ne fonctionne, en règle générale, que dans le cadre de l'utilisation amateur de tels appareils. En réalité, s'il est nécessaire de concevoir indépendamment un système de communication, un dispositif IoT, une sorte de radar, etc., en plus des algorithmes de fonctionnement numériques, les caractéristiques de radiofréquence de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.En plus des algorithmes numériques, les caractéristiques radiofréquences de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.En plus des algorithmes numériques, les caractéristiques radiofréquences de l'émetteur-récepteur jouent un rôle tout aussi important, qui sont nécessairement calculées, modélisées, optimisées au cours du développement. Ces caractéristiques déterminent en grande partie la plage d'applicabilité acceptable d'un module radio particulier.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des «boîtiers» universels tels que HackRF One ont également leurs propres caractéristiques, que le développeur a délibérément fixées dans le circuit électrique, ce qui limite de la même manière les performances du système de communication, et ces limitations ne peuvent plus être fixées par aucun outil logiciel.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque j'ai une déformation professionnelle - au contraire - vers le développement matériel, un bref aperçu de HackRF One sera présenté de ce côté. Considérez l'architecture matérielle de HackRF One, qui évaluera les capacités techniques et les limites de ce module radio. J'espère que cela sera utile pour ceux qui utilisent Hack-RF, mais ne sont pas familiers avec l'ingénierie radio, et pour ceux qui pensent que travailler avec des émetteurs-récepteurs SDR ne nécessite pas, en principe, la connaissance et la compréhension des caractéristiques de radiofréquence de cet appareil, et les circuits analogiques en général. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seule source intéressante trouvée qui a examiné certaines des caractéristiques matérielles de HackRF One est une vidéo d'un discours directement de l'auteur du projet HackRF, Michael Ossmann, lors de la conférence REcon 2014. Lien:</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.youtube.com/watch?v=4Lgdtr7ylNY&amp;start_radio=1&amp;list=RDQMQpFkO5DyFBk</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Là, il envisage la possibilité d'étendre les capacités de HackRF One simplement par des modifications matérielles, il cite des faits intéressants. </font><font style="vertical-align: inherit;">Je recommande de regarder intéressé et sympathique.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hackrf one</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HackRF One - est un projet open source, ses sources sont disponibles. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les caractéristiques matérielles de presque toutes les sources sont données dans une liste plutôt maigre: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• fréquence de fonctionnement de 1 MHz à 6 GHz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• émetteur-récepteur semi-duplex </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• jusqu'à 20 millions d'échantillons par seconde </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• échantillons en quadrature 8 bits (8 bits I et 8 bits Q) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• compatible avec GNU Radio, SDR #, etc. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• filtre de gain et de bande de base RX et TX configurable par </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
logiciel • alimentation du port d'antenne contrôlée par logiciel (50 mA à 3,3 V) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• connecteur d'antenne </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
femelle SMA • entrée et sortie d'horloge femelle SMA pour la synchronisation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• boutons pratiques pour la programmation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• en-têtes de broches internes pour l'extension </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• USB 2.0 haute vitesse </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Alimenté par USB</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• matériel open source </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous téléchargez un schéma de circuit et que vous le comprenez un peu, vous pouvez restaurer l'architecture de cet émetteur-récepteur et en comprendre un peu plus sur son fonctionnement. Ce qui a été fait: </font><font style="vertical-align: inherit;">
D'après la description publique, il est connu que le HackRF One est un émetteur-récepteur semi-duplex, c'est-à-dire il peut fonctionner à la fois sur la transmission et la réception, mais uniquement à différents moments. Du circuit, cela est également compréhensible - il y a une seule sortie vers l'antenne, dont le signal peut provenir de la sortie du chemin de transmission ou peut être retiré et envoyé à l'entrée du chemin de réception.</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/oh/zf/s7/ohzfs7dz4dmpmox9rbj9h-ykqsu.jpeg"></a><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le circuit contient de nombreux commutateurs contrôlables, à l'aide desquels le chemin du signal reçu ou transmis est configuré à chaque instant. </font><font style="vertical-align: inherit;">Nous reviendrons sur les options possibles plus tard, mais pour l'instant, nous considérerons les éléments clés de l'architecture matérielle.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie numérique, ADC, DAC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne m'attarderai pas sur la partie numérique. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le module est connecté à un PC via un câble USB. Grâce à cette interface, HackRF One est alimenté par l'hôte, à travers lequel toutes les données sont transmises numériquement. Du côté HackRF One, nous avons un microcontrôleur LPC4320FBD144 avec un noyau ARM Cortex-M4, il y a un CPLD XC2C64A-7VQG100C connecté à une puce MAX5864, qui est deux ADC et deux DAC (deux - car l'un est pour I, le second pour les composants de signal Q ) dans un seul emballage. Bit ADC = 8 bits, bit DAC = 10 bits. En général, les caractéristiques de ces ADC et DAC sont assez modestes. La fréquence maximale de leur synchronisation est de 22 MHz (ce qui est le facteur limitant dans la bande de fréquence maximale réalisable du signal, le théorème de Kotelnikov ne doit pas être déjoué).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, Michael Ossmann dans son discours vient d'évoquer cette question de l'augmentation de la large bande de l'émetteur-récepteur. </font><font style="vertical-align: inherit;">Il a noté que même si vous remplacez la puce ADC-DAC par une autre, plus rapide, pilotez les données directement en vous connectant au CPLD, en contournant le microcontrôleur, le col étroit suivant sera la largeur maximale admissible du filtre accordable (30 MHz) situé dans la puce de l'émetteur-récepteur MAX2837. </font><font style="vertical-align: inherit;">Nous allons continuer à considérer cette puce.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Émetteur-récepteur IC MAX2837</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le MAX2837 est un émetteur-récepteur RF semi-duplex intégré basé sur l'architecture de conversion directe avec une fréquence intermédiaire nulle (IF ou IF - Fréquence intermédiaire). Je vais donner une image de la spécification avec l'image de l'architecture interne du microcircuit: </font></font><br>
 <img src="https://habrastorage.org/webt/rd/pv/am/rdpvamv6tqmybxsarxn09m9bifg.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le chemin de transmission, les composants I et Q du signal de bande de base </font><font style="vertical-align: inherit;">qui arrivent à l'entrée </font><font style="vertical-align: inherit;">passent par des filtres accordables (marqués en rouge </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et vont à l'entrée des mélangeurs boost ( </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). En conséquence, le signal est transféré à une fréquence comprise entre 2,3 et 2,7 GHz, puis passe à travers un amplificateur à gain accordable ( </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conséquence, nous avons: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• La plage de réglage de la fréquence de coupure des filtres de bande de base: 1,75 ... 28 MHz</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• plage de réglage du gain du trajet d'émission = 45 dB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• ~ 0 dBm de puissance de sortie maximale </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le signal reçu à l'entrée du trajet de réception passe par un amplificateur à faible bruit ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), un mélangeur en quadrature abaisseur ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), des filtres avec une fréquence de coupure réglable ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et une bande de base amplificateurs accordables ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelques caractéristiques importantes du chemin de réception du MAX2837: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Plage de réglage de la fréquence de coupure des filtres de bande de base: 1,75 ... 28 MHz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Facteur de bruit: 2,3 dB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Plage de réglage du gain: 94 dB Le </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MAX2837 contient un synthétiseur de fréquence intégré qui fournit un signal d'oscillateur local pour les mélangeurs.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une puce radio intéressante, essentiellement une interface RF prête à l'emploi, mais avec une limitation importante - elle a une plage de fréquences assez étroite (2,3 ... 2,7 GHz). </font><font style="vertical-align: inherit;">Vous pouvez étendre la plage de fréquences de travail de la radio en ajoutant une autre étape de transfert de fréquence. </font><font style="vertical-align: inherit;">Et cela nécessite un mélangeur radiofréquence et un oscillateur local. </font><font style="vertical-align: inherit;">Et dans le circuit HackRF One, il y a une puce qui combine ces deux appareils. </font><font style="vertical-align: inherit;">Considérez-le un peu plus.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synthétiseur de fréquence et puce de mixage RFFC5072</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le RFFC5072 comprend un oscillateur commandé en tension (VCO ou VCO - Oscillateur de contrôle de tension), une boucle à verrouillage de phase (PLL ou PLL - Boucle verrouillée en phase) et un mélangeur RF: </font></font><br>
 <img src="https://habrastorage.org/webt/oa/ho/bw/oahobwnjx6_ahrioklpnqcglr80.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fréquence de l'oscillateur local (LO - Oscillateur local) peut être réglée dans une plage de 85 ... 4200 MHz, pas de réglage 1,5 Hz. </font><font style="vertical-align: inherit;">Ensuite, nous considérons le principe de travailler avec RFFC5072 dans le diagramme.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chemin de l'émetteur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En regardant le schéma de principe HackRF One ci-dessus, vous pouvez voir qu'il existe plusieurs options possibles pour organiser le chemin du signal transmis à l'antenne. Il est possible d'envoyer un signal de la sortie du MAX2837 directement à l'amplificateur de sortie (ou à l'antenne). Ou le signal peut être envoyé d'abord à la puce RFFC5072, à l'entrée du mélangeur. Nous allons nous en occuper. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le résultat du mélange de la fréquence de l'oscillateur local et du signal à la fréquence intermédiaire, comme on le sait, sont deux copies du signal situé à gauche et à droite de la fréquence de l'oscillateur local (à une distance égale à seulement le FI). Si ce n'est pas évident pour vous, vous pouvez facilement le vérifier en appliquant les connaissances de la trigonométrie - en multipliant deux fonctions harmoniques qui correspondent au signal de l'oscillateur local et au signal IF.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais nous n'avons pas besoin de deux copies du même signal. La radio n'est pas en caoutchouc, comme on dit, pour la remplir si négligemment. Habituellement, une des copies est sélectionnée et la seconde (qui est appelée le canal miroir) est éliminée par filtrage ou en construisant une architecture spéciale du convertisseur de fréquence - sans canal miroir.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mélangeur utilisé dans HackRF One n'en fait pas partie, il ne supprime aucun des canaux. Dans le même temps, le développeur de HackRF One a prévu l'utilisation de filtres dans le chemin de l'émetteur - un filtre passe-haut (HPF ou HPF - Filtre passe-haut) ou un filtre passe-bas (LPF ou LPF - Filtre passe-bas). Selon la configuration des commutateurs respectifs, le signal de la sortie du mélangeur passe par l'un de ces filtres. Pourquoi est-ce fait? Évidemment, juste pour pouvoir supprimer soit une copie du signal situé plus bas en fréquence (LSB - Low Side Band), soit une plus haute (USB - Upper Side Band).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et la nécessité d'avoir une telle option est due au fait que le développeur voulait fournir la gamme de fréquences maximale possible du module radio. Lorsqu'il est nécessaire d'utiliser une fréquence de signal comprise entre 2,3 et 2,7 GHz pour la transmission, il suffit de connecter directement le signal de sortie du MAX2837 à la sortie de l'antenne (ou bien d'amplifier le signal avec un amplificateur de puissance de sortie), en contournant le mélangeur et les filtres. Lorsque vous devez avoir une fréquence inférieure à 2,3 GHz à la sortie, le MAX2837 ne peut pas le faire directement, de sorte que le signal provenant de celui-ci est envoyé au mélangeur. Comme nous nous en souvenons - à la sortie du mélangeur, il y a deux copies du signal utile - nous connectons la sortie du mélangeur à un filtre passe-bas, supprimons l'USB. Et vice versa, lorsqu'une fréquence supérieure à 2,7 GHz est nécessaire, la même chose se produit, seulement maintenant le filtre passe-haut est utilisé et le LSB est filtré. J'ai essayé de dépeindre ceci:</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/9a/w0/_z/9aw0_zjyb8inmvpnewyxjiis7si.jpeg"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, le spectre du signal est schématisé à chaque étape du trajet de transmission, ainsi que la réponse en fréquence des filtres utilisés. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, nous avons une version combinée de l'architecture de l'émetteur radio: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• à haute fréquence, le circuit superhétérodyne fonctionne avec deux transferts de fréquence vers le haut </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• à 2,3-2,7 GHz, le système peut fonctionner au format d'un émetteur à conversion directe (circuit homodyne) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• à basse fréquence, le signal de la fréquence intermédiaire déjà emporté.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chemin du récepteur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le chemin de réception est organisé de manière similaire, seulement maintenant le circuit fonctionne de sorte que tout signal d'entrée soit transféré dans la région de fréquence 2,3 ... 2,7 GHz, où il est traité par le chemin de réception MAX2837 - convertit les composants basse fréquence en I, Q pour la transmission à l'ADC.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais également noter qu'en tant qu'amplificateur à faible bruit à l'entrée, le même modèle d'amplificateur est utilisé à la sortie de l'émetteur - MGA-81563. La décision, bien sûr, est controversée. Mais d'un autre côté, si l'auteur du projet n'avait pas pour objectif d'optimiser le module radio pour une tâche étroite spécifique avec des exigences de puissance pour l'émetteur et des exigences de bruit pour le récepteur (évidemment, ce n'était pas le cas), mais l'objectif était d'au moins en quelque sorte d'augmenter la puissance de sortie et de ne pas réaliser un bruit assez imparfait de la partie réceptrice, en d'autres termes, il suffisait de faire quelque chose de "médiocre" à cet égard et, probablement, cette option a le droit d'exister. De plus, en même temps, il était possible d'économiser sur le coût de l'appareil en refusant de gonfler la gamme de composants.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, maintenant nous avons plus ou moins découvert la composition de l'architecture matérielle et le but des éléments qui y sont présents. </font><font style="vertical-align: inherit;">Rien ne nous empêche maintenant de regarder de plus près les spécifications de chaque élément de circuit clé et d'obtenir une liste complète des caractéristiques RF quantitatives de l'ensemble du HackRF One. </font><font style="vertical-align: inherit;">Tout d'abord, il est important de connaître les propriétés linéaires de l'émetteur, le facteur de bruit du récepteur, le bruit de phase final des synthétiseurs de fréquence, etc. Ces caractéristiques, à leur tour, vous permettront de calculer l'applicabilité du module pour une tâche particulière. </font><font style="vertical-align: inherit;">J'ai décidé de limiter cet article uniquement à une description fonctionnelle du circuit et de ne pas donner de calculs quantitatifs et de conclusions. </font><font style="vertical-align: inherit;">Si le sujet est intéressant pour la communauté, je vais essayer d'écrire une suite.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel est le résultat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme dans toute autre entreprise, il devrait toujours y avoir du bon sens partout. Quel est l'intérêt de l'architecture avec une antenne ADC +? Simplicité? Oui, mais ce n'est que la simplicité de compréhension du travail pour le "profane", dans de nombreux cas, il s'avère que ce n'est pas optimal et déraisonnable. Comme vous pouvez le voir, le développeur de l'un des émetteurs-récepteurs SDR les plus populaires - HackRF One, l'a compris, sinon il aurait stupidement connecté un puissant ADC / DAC à l'antenne et a suggéré d'utiliser la puissance de calcul la plus puissante pour la synthèse / le traitement d'un signal à large bande. Cela vaudrait ... beaucoup (pour le moins). Au lieu de cela, il a fait une assez belle solution d'ingénierie, dans laquelle il a pu utiliser des composants budgétaires, construire une architecture avec de très bonnes caractéristiques de performance de l'appareil. Coût total faible (pour une telle fonctionnalité),une large gamme de fréquences de travail - c'est précisément ce qui a rendu le projet populaire et accessible aux gens, et la «simplicité» de l'architecture de la partie radio qui n'a été inventée par personne. Cela ne vaut que la peine d'essayer de construire un émetteur-récepteur avec les mêmes caractéristiques qu'au moins ce HackRF One a le principe ADC / DAC + PC = SDR, d'essayer de choisir des ADC, des DAC qui synthétiseront et numériseront directement les signaux à 6 GHz et comprendront à quel point il est réel et ce qu'il en coûtera. Que dire des systèmes à haute fréquence (fonctionnant à des dizaines de GHz), qui gagnent de plus en plus en popularité. Pour eux, la manière de numériser «directement» est une utopie totalement déraisonnable. Au moins - au stade actuel du développement technologique.Cela ne vaut que la peine d'essayer de construire un émetteur-récepteur avec les mêmes caractéristiques qu'au moins ce HackRF One a le principe ADC / DAC + PC = SDR, d'essayer de choisir des ADC, des DAC qui synthétiseront et numériseront directement les signaux à 6 GHz et comprendront à quel point il est réel et ce qu'il en coûtera. Que dire des systèmes à haute fréquence (fonctionnant à des dizaines de GHz), qui gagnent de plus en plus en popularité. Pour eux, la manière de numériser «directement» est une utopie totalement déraisonnable. Au moins - au stade actuel du développement technologique.Cela ne vaut que la peine d'essayer de construire un émetteur-récepteur avec les mêmes caractéristiques qu'au moins ce HackRF One a le principe ADC / DAC + PC = SDR, d'essayer de choisir des ADC, des DAC qui synthétiseront et numériseront directement les signaux à 6 GHz et comprendront à quel point il est réel et ce qu'il en coûtera. Que dire des systèmes à haute fréquence (fonctionnant à des dizaines de GHz), qui gagnent de plus en plus en popularité. Pour eux, la manière de numériser «directement» est une utopie totalement déraisonnable. Au moins - au stade actuel du développement technologique.Que dire des systèmes à haute fréquence (fonctionnant à des dizaines de GHz), qui gagnent de plus en plus en popularité. Pour eux, la manière de numériser «directement» est une utopie totalement déraisonnable. Au moins - au stade actuel du développement technologique.Que dire des systèmes à haute fréquence (fonctionnant à des dizaines de GHz), qui gagnent de plus en plus en popularité. Pour eux, la manière de numériser «directement» est une utopie totalement déraisonnable. Au moins - au stade actuel du développement technologique.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est clair que l'architecture HackRF One décrite et le contrôle de chaque élément du circuit sont cachés au programmeur quelque part dans les circuits et le logiciel de contrôle (avec la gentillesse de quelqu'un une fois écrit). </font><font style="vertical-align: inherit;">Naturellement, cela n'a aucun sens pour tout le monde et chacun de se plonger profondément dans l'ingénierie radio. </font><font style="vertical-align: inherit;">Une personne impliquée dans le DSP n'est pas tenue de comprendre en détail les caractéristiques de l'appareil RF. </font><font style="vertical-align: inherit;">Cependant, dans tous les cas, il convient d'accorder plus d'attention et de précision à des domaines de connaissances inconnus, de ne pas les négliger et de ne pas ignorer ces cas lorsqu'il est impossible de s'en passer. </font><font style="vertical-align: inherit;">Entre autres choses, je tiens à noter que le projet HackRF One peut être non seulement un jouet curieux entre les mains d'un programmeur enthousiaste, mais peut également servir d'outil de formation intéressant pour un radio-amateur / ingénieur radio.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr499364/index.html">Alexey Kapterev: Pensée critique 101 (partie 1)</a></li>
<li><a href="../fr499366/index.html">Géo-chat, robots nuisibles et stéganographie: enrichir les connaissances sur Telegram</a></li>
<li><a href="../fr499368/index.html">À propos des verbes Phrasal-4 (entrée / sortie)</a></li>
<li><a href="../fr499370/index.html">Mes questions CSS préférées avec des réponses détaillées</a></li>
<li><a href="../fr499374/index.html">Examen des données de prolifération de COVID-19 en utilisant des différences de premier ordre. Et qu'est-il arrivé</a></li>
<li><a href="../fr499378/index.html">Créez votre premier test Cypress</a></li>
<li><a href="../fr499380/index.html">Mille et une raisons de ne pas utiliser (correctif: russe) la recherche sur Internet pour résoudre au moins certains problèmes</a></li>
<li><a href="../fr499382/index.html">Introduction à IDAPython</a></li>
<li><a href="../fr499386/index.html">Résumé du livre "Création de microservices"</a></li>
<li><a href="../fr499394/index.html">Préparation aux entretiens avec les géants de l'informatique: comment surmonter la malédiction des entretiens algorithmiques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>