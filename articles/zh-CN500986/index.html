<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎫 👩🏿‍🤝‍👩🏼 🥛 数据中心的监控：我们如何将旧的BMS更改为新的BMS。第三部分 👨‍👨‍👧‍👧 🧕🏻 👩🏽‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我们继续讲述如何更改数据中心的BMS系统（第1 部分，第2部分）。同时，我们不仅将一个供应商的解决方案更改为另一个供应商，而且还从头开始开发了满足我们要求的系统。总结我们的故事，我们分享完成的工作结果和可能对您有用的有趣解决方案。
 
 新介面
 正如他们所说，在这里最好只看一次。
 
 机架。
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>数据中心的监控：我们如何将旧的BMS更改为新的BMS。第三部分</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/linxdatacenter/blog/500986/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们继续讲述如何更改数据中心的BMS系统（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1 </font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">第2部分</font></a><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">同时，我们不仅将一个供应商的解决方案更改为另一个供应商，而且还从头开始开发了满足我们要求的系统。</font><font style="vertical-align: inherit;">总结我们的故事，我们分享完成的工作结果和可能对您有用的有趣解决方案。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新介面</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正如他们所说，在这里最好只看一次。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ed/7df/537/1ed7df5378bbc1e39a4442031d3c023f.jpg"></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">机架。</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们分析差异。</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">首先，它是</font></font></strong><strong><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美丽的</font></font></s></strong><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">舒适。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请注意，跟踪PDU的模块（“组”或仅“组”）上的负载以及已配对模块的并行负载总和变得多么容易。</font><font style="vertical-align: inherit;">在新BMS的机架模型上，我们立即看到较低的配对PDU过载（允许的16A以上的总电流是“蓝色”通知），而较高的PDU则负荷不足。</font><font style="vertical-align: inherit;">如果其中一个输入断开，则整个负载将转移至第二个负载，并且由于过载，下部通电的下部模块也将断开。</font><font style="vertical-align: inherit;">为避免这种情况，数据中心支持服务将提前警告客户，并发送有关如何重新分配负载的建议。</font></font></li>
<li><strong>  .</strong>   BMS                      PDU.   BMS    ,     ,     - « ».</li>
<li><strong>   .</strong>         .        .  ,          (     )         .        ,     .&nbsp;</li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直观的界面。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在新界面中，没有大量的图标，风扇旋转，切换“点击”。</font><font style="vertical-align: inherit;">最方便的是能够指示机架内PDU线A / B的状态。</font><font style="vertical-align: inherit;">我们试图在旧的BMS中做类似的事情，但是每平方厘米卡片中合并图标的数量迫使我们放弃了它。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，眼睛很高兴观看：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d85/84d/739/d8584d739885bfaf0ff73f53986ca868.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">服务器</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b84/8e7/efe/b848e7efe251431596df1a2329608a80.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主配电盘的片段。</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/627/b83/083/627b83083d7b907ff15f8e184f6be901.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通风控制面板。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以为新年装饰新的BMS ：-)</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddc/4f5/43b/ddc4f543b6ec6525afb904231e7317aa.png"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一页-了解和没有传统知识</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
很长时间以来，我们想在BMS中实施另一个“技巧”：在一页上构成数据中心的主要参数，这样一眼便可以看到屏幕上的内容，以评估主要系统的状态。但是，我们并不完全了解它的外观。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
甚至在开始开发新的BMS之前，我们就游览了荷兰的数十个数据中心。目标之一是查看实现此页面的示例。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
而且没有在任何数据中心中向我们展示它们-在某个地方，没有，“现在正在开发中”，在某个地方，这是一个“大商业秘密”。因此，在我们用于创建新BMS的ToR中，缺少对该页面非常重要的准确描述。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，我们从字面上“随时随地”提出了它。就在那一刻，我不得不远程咨询数据中心的同事。在电话上滚动浏览BMS页面以查找不同的数据非常不方便，实际上，第一版的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“一页”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是在餐巾纸上书写的</font><font style="vertical-align: inherit;">。它是由照片的开发人员实施的。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以谨慎的荷兰同事为例，我们将不演示主页的最终版本，尤其是由于每个数据中心都是唯一的，因此没有意义进行复制。但是，我们描述了其形成的两个主要原则：</font></font><br>
<br>
<ol>
<li> ,        ( ,     ),        .    «»  ,          .&nbsp;</li>
<li>       (  ).        ,     .&nbsp;      - –         .    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，现在，由负责的工程师和经理将数据中心的所有关键特征完全分组并显示在智能手机/显示器的同一屏幕上，同时实现了与数据中心的物理和逻辑拓扑的连接。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是初稿的照片，当然，然后重新考虑并定稿了该版本。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f8a/b4e/3ce/f8ab4e3cea336fd13a9c75de72be50c8.png"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事故确认和总结</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们为我们讨论另一个新概念，这个新概念是由于更新监视系统的项目而出现的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
致谢是新BMS的开发人员建议使用的一个相当罕见的术语。</font><font style="vertical-align: inherit;">这意味着确认操作员已看到该事件，确认该事件并承担消除该事件的责任。&nbsp;&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这个词已经扎根，现在我们“承认”这些事件。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新BMS基本版本中规定的算法不适合我们。</font><font style="vertical-align: inherit;">实际上，这些是对事件日志的注释，也就是说，已解决的事件没有从日志中消失，并且接收到的（“已确认”）消息也没有从新消息中进行排序。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结果，开发了一个名为“摘要”的窗口，其中：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在服务模式下仅显示活动事件和设备（不显示商业“蓝色”通知）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新事件和接受事件明显分开。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示谁接受了事件。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新的BMS中的任务算法如下：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告新事件并等待确认。</font><font style="vertical-align: inherit;">他们不能在此区域停留很长时间，值班的设备官员应立即将事件发生在自己身上。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">员工通过单击右侧的对勾接受事件。</font><font style="vertical-align: inherit;">由于所有员工都具有唯一帐户，因此它将自动显示接受事件的人员。</font><font style="vertical-align: inherit;">如有必要，请发表评论。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件移至“已确认”部分，其余的话务员和经理知道事件涉及负责人员。</font></font></li>
</ol><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22f/ae1/ada/22fae1adab762bbfda3af82fe19ae4f2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摘要窗口的示例，其中包含新的且已确认的消息。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将摘要窗口与“一页”表连接起来后，我们得到了</font><font style="vertical-align: inherit;">BMS系统</font><font style="vertical-align: inherit;">的完整</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主屏幕</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，您可以在其上立即看到：&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主要数据中心系统的状态；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存在新的未处理事件；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否存在可接受的事件以及有关谁专门消除这些事件的数据。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过浏览器访问和手机上的弹出警报</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以从世界任何地方的任何设备访问的Web界面与“胖”客户端形成了鲜明的对比，该客户端完全对外部用户不开放。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
旧的方法带来了一系列不便，从组织监视服务员工的远程工作中遇到的问题，到需要从数据中心员工工作的分布中安装“专业”客户的需求。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，BMS中的任何页面都有一个唯一的地址，它使您不仅可以共享页面或设备的直接地址，还可以共享指向唯一的图形/报告的链接。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，通过Active Directory通过LDAP身份验证提供对系统的访问，从而增强了系统的安全级别。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今天的机动性是值班工程师质量工作的关键因素。除了监视值班室中的监视之外，工程师还绕道而行，在“值班室”之外执行例行工作，并且由于针对移动屏幕进行了优化的BMS主屏幕，一秒钟都不会失去对房间中发生的事情的控制。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过工作聊天的功能来提高控制质量。它们加快了工作流程，使您可以将值班工程师的信函“链接”到BMS。例如，我们使用“团队”应用程序，该应用程序允许您进行内部通信并以弹出式“推送”通知的形式从手机上的BMS接收所有消息，从而使值班人员不必经常查看手机屏幕。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bu/xv/k_/buxvk_kkytde_uintn-mmf--ce4.png"><br>
&nbsp;<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在智能手机屏幕上推送通知。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ye/e-/mm/yee-mmhflsbvbhlydal-4uyxjky.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因此，通知会显示在“团队”应用程序中。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同时，仅针对事件消息配置弹出式通知，从而最大程度地减少了干扰，工作人员知道，如果在智能手机的屏幕上显示Teams Push通知，则需要转到BMS页面并接受事件。</font><font style="vertical-align: inherit;">BMS页面上已经跟踪了纠正措施消息。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/dv/p_/-ydvp_3qnfa6jhchfdnl8i9ejaq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在照片中，智能手机中的BMS界面。</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总结</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
与从我们的旧供应商处更新BMS的成本相比，从头开始开发新系统（约10万美元），这些产品的功能差异被证明是巨大的。我们收到了针对我们的业务任务和流程进行了优化的灵活系统。我们还大大节省了维护和更新系统的运行成本。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，当然有困难。&nbsp;</font></font><br>
<br>
<ul>
<li>-,    ,        BMS,       .       ,           ,    ,      ,  .      ,          .       ,            ,  .&nbsp;</li>
<li>-,     ,         .        BMS,        .     . ,         ,       .</li>
<li>-,        .       ( )  ,       ,        ,     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今天，我们BMS系统的重大更新可以称为过去一年中最重要的项目，它将严重影响我们未来站点的运营管理质量。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，我们并没有淘汰旧的铁服务器，而是“让它变得更容易”：我们清理了数千个“商业”虚拟传感器和PDU，并且只剩下了几十个最关键的设备，例如柴油发电机组，UPS，空调，泵，泄漏传感器以及温度。</font><font style="vertical-align: inherit;">在这种模式下，它恢复了以前的速度，可以成为“储备储备”。</font><font style="vertical-align: inherit;">顺便说一句，从旧的BMS中删除PDU后，现在已经释放了大约1000个不必要的许可证，您碰巧知道如何处理吗？</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN500972/index.html">这些奇怪的操作系统：简要介绍三种不常见的操作系统</a></li>
<li><a href="../zh-CN500974/index.html">安德鲁·安（Andrew Un）的著作《机器学习的激情》第47和48章的翻译</a></li>
<li><a href="../zh-CN500978/index.html">RabbitMQ的延迟收货</a></li>
<li><a href="../zh-CN500980/index.html">脑RX</a></li>
<li><a href="../zh-CN500984/index.html">怪胎的苹果或快乐的无线电日，极客</a></li>
<li><a href="../zh-CN500992/index.html">最佳IT公司的绩效管理如何</a></li>
<li><a href="../zh-CN500994/index.html">运行蚂蚁。跑</a></li>
<li><a href="../zh-CN500996/index.html">如何在六个月甚至更快的时间内成为一名DevOps工程师。第1部分。简介</a></li>
<li><a href="../zh-CN500998/index.html">卷积神经网络及其在iOS中的集成（第1部分）</a></li>
<li><a href="../zh-CN501000/index.html">通过为数据库创建客户端的示例在Go中生成代码</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>