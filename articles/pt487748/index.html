<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👉🏾 🐠 ♻️ Chave de criptografia de hardware de US $ 3 - isso é possível? 🤸🏼 🧗🏽 👈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O resultado final é uma chave do tamanho de uma unidade flash
 
 USB.A criptografia generalizada e, como resultado, uma abundância de chaves fazem voc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Chave de criptografia de hardware de US $ 3 - isso é possível?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487748/"><img src="https://habrastorage.org/webt/-q/n7/jn/-qn7jnfoyjqizxzkhujdkdwcwhk.jpeg"><br>
<i><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O resultado final é uma chave do tamanho de uma unidade flash</font></font></sup></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
USB.A criptografia generalizada e, como resultado, uma abundância de chaves fazem você pensar sobre o armazenamento confiável. </font><font style="vertical-align: inherit;">O armazenamento de chaves em dispositivos externos, de onde eles não podem ser copiados, há muito é considerado uma boa prática. </font><font style="vertical-align: inherit;">Vou falar sobre como fazer esse dispositivo por US $ 3 e 2 horas.</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que a imagem significa?</font></font></b><div class="spoiler_text">   .    .   : « —  ,       …        ,     ...».  ,     ,       ) <br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brevemente sobre os princípios do trabalho</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A criptografia nos dá a oportunidade de ocultar o que queremos enviar, para garantir que nos comuniquemos com quem pensamos e muitas outras coisas interessantes. </font><font style="vertical-align: inherit;">Geralmente, para que tudo isso funcione bem, eles nos pedem apenas uma coisa: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manter nossas chaves de criptografia em segredo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Parece fácil, não é? </font><font style="vertical-align: inherit;">Bem, vamos ver como podemos esconder nossas chaves:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salvar em um arquivo na área de trabalho</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é uma maneira antiga e comprovada de gravar algo ao longo dos anos. </font><font style="vertical-align: inherit;">O problema é que, além do próprio usuário, vários outros programas têm acesso aos arquivos na área de trabalho. </font><font style="vertical-align: inherit;">E se você tiver certeza absoluta de que todos fazem o que se destinam, não colete nenhum dado sobre você e simplesmente não os junte à rede - este artigo não é para você.</font></font></li>
<li><b> </b> — -     ,           .  ,        ,       ,     - -  </li>
<li><b>  </b> — ,       .      ,  .  ,           . ,     (  ssh-)    .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"></a>  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você pode ver, o principal problema é que as teclas são armazenadas diretamente no seu computador ou inseridas lá usando um teclado, unidade flash etc. </font><font style="vertical-align: inherit;">Mas, você se opõe, como então meu computador criptografará os dados se não souber a chave? </font><font style="vertical-align: inherit;">A resposta correta não é possível. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A solução</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> já foi inventada. </font><font style="vertical-align: inherit;">A idéia principal é conectar um dispositivo especial ao computador, que criptografará os dados. </font><font style="vertical-align: inherit;">E o computador envia apenas dados e recebe o resultado. </font><font style="vertical-align: inherit;">Assim, por exemplo, muitos cartões inteligentes funcionam.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kw/br/dm/kwbrdm5ra5c6cbzc0thcwnk-cly.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Componentes Necessários</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então vamos começar. </font><font style="vertical-align: inherit;">Montaremos nosso dispositivo em um microcontrolador barato e bastante popular da série STM32. </font><font style="vertical-align: inherit;">Claro, você mesmo pode fazer uma </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">placa de circuito impresso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">mas queremos administrá-lo em 2 horas? </font><font style="vertical-align: inherit;">Então, vamos dar uma solução pronta - o programador ST-Link v2. </font><font style="vertical-align: inherit;">Este dispositivo tem esta aparência. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zs/yk/hg/zsykhgda844yz_1xyr1xxtccwjg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Curiosamente, o programador dos microcontroladores STM32 é montado no microcontrolador STM32. </font><font style="vertical-align: inherit;">Este dispositivo se parece muito com uma unidade flash, que é exatamente o que podemos fazer. </font><font style="vertical-align: inherit;">Além disso, seu corpo é feito de alumínio, então você não pode se preocupar com o dano. </font><font style="vertical-align: inherit;">Custa um milagre para aliexpress 1.5-3 dólares. </font><font style="vertical-align: inherit;">Vamos precisar de duas dessas coisas. </font><font style="vertical-align: inherit;">Vamos refazer um deles, chave na mão, e usaremos o segundo para carregar o firmware no primeiro. </font><font style="vertical-align: inherit;">Se você já possui um programador STM32, pode fazer uma coisa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total, precisamos de:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programador ST-Link v2 - 2 peças</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferro de solda</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poucos fios - como regra, os fios adequados já estão incluídos no ST-Link</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux, para compilar e fazer upload de firmware</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compile o firmware</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, vamos começar com a parte do software - montando o firmware da nossa chave. </font><font style="vertical-align: inherit;">Os códigos-fonte do firmware podem ser encontrados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neste repositório</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sugiro que baixe a versão estável mais recente (você pode encontrá-la na guia "Tags"). </font><font style="vertical-align: inherit;">Você pode clonar o repositório ou fazer o download como um arquivo zip. </font><font style="vertical-align: inherit;">Amassar os dedos, inicie o terminal e vá para a pasta do projeto. </font><font style="vertical-align: inherit;">Vá para a pasta src</font></font><br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in">cd</span> src</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para compilar e baixar o firmware, precisamos instalar vários pacotes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arm-none-eabi-gcc</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arm-none-eabi-newlib</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openocd</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu uso o gerenciador de pacotes pacman, no meu caso, fica assim</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ sudo pacman -S arm-none-eabi-gcc<font></font>
$ sudo pacman -S arm-none-eabi-newlib<font></font>
$ sudo pacman -S openocd<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você está sentado no Ubuntu - use o apt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deixe-me lembrá-lo de que estamos na pasta src do projeto. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Execute o script de configuração</font></font><br>
<pre><code class="bash hljs"><font></font>
$ ./configure --vidpid=234b:0000<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Executamos o utilitário make e observamos como nosso firmware é compilado.</font></font><br>
<br>
<pre><code class="bash hljs">$ make</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após a compilação, a pasta de compilação aparece e nela o arquivo gnuk.elf - precisamos dela.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faça o download do firmware para o dispositivo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que temos o arquivo finalizado com o firmware, precisamos apenas fazer o download para o dispositivo. Para isso, temos que trabalhar um pouco com um ferro de soldar. Não se preocupe, você não precisa de habilidades especiais, apenas solde 4 fios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, pegamos um dos programadores e retiramos o caso dele. O programador selecionado será nosso doador. Aqui está o que encontramos lá dentro: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/va/-p/zz/va-pzzkpf43ql4ecp0gnc2xp2xm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
preste atenção aos 4 pinos na placa. Nós precisaremos soldar a eles. Eu recomendo usar os fios que acompanham o ST-Link para isso. Limpamos os fios de uma extremidade e os soldamos nos contatos. Se tivermos sorte, no quadro haverá sinais desses contatos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gx/9v/7v/gx9v7vndydnn_2lh5rhmibp0pei.jpeg"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, conectamos a segunda extremidade dos fios ao programador restante. </font><font style="vertical-align: inherit;">Se você tiver sorte, basta conectar os fios de acordo com as inscrições: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GND para GND </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.3V a 3.3V </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SWDIO para SWDIO </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SWCLK para SWCLK </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se não houver etiquetas na placa, você deverá </font><font style="vertical-align: inherit;">puxar </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aleatoriamente para</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usar o testador. </font><font style="vertical-align: inherit;">Usando-o, você pode encontrar facilmente o GND (ele está conectado ao GND nos terminais do programador doador), semelhante ao 3.3V. </font><font style="vertical-align: inherit;">Os dois fios restantes deverão ser conectados aleatoriamente. </font><font style="vertical-align: inherit;">Felizmente, existem apenas duas opções.Como resultado, obtemos algo semelhante a </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yz/9r/8e/yz9r8ekaabsxl15xkdmnxq6yyoy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
este.Nesta foto, o dispositivo azul é o programador, que usamos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apenas como programador</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Não se confunda com o fato de que na foto no início do artigo, o dispositivo final tem uma cor azul do corpo. </font><font style="vertical-align: inherit;">Não é ele. </font><font style="vertical-align: inherit;">O futuro dispositivo está à direita.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Download do firmware</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos a um passo do sucesso, resta apenas fazer o download do firmware. </font><font style="vertical-align: inherit;">Abra o terminal, vá para a pasta com o nosso firmware (gnuk.elf). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Execute o comando:</font></font><br>
<br>
<pre><code class="bash hljs">$ openocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg -c <span class="hljs-string">'program build/gnuk.elf verify reset exit'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, agora carregamos o firmware para o nosso dispositivo. </font><font style="vertical-align: inherit;">Ainda havia um passo - proibir a leitura da memória do microcontrolador. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATENÇÃO! </font><font style="vertical-align: inherit;">Esse é um estágio muito importante, que não permitirá que a pessoa que roubou sua chave extraia dela informações secretas. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, execute o comando:</font></font><br>
<br>
<pre><code class="bash hljs">openocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg -c init -c <span class="hljs-string">"reset halt"</span> -c <span class="hljs-string">"stm32f1x lock 0"</span> -c reset -c <span class="hljs-built_in">exit</span>   </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora está tudo pronto.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colocando tudo de volta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que todas as etapas estão atrasadas, resta cuidar da aparência do nosso dispositivo. </font><font style="vertical-align: inherit;">Soldamos os fios. </font><font style="vertical-align: inherit;">Também não precisamos mais da barra de contato original, para que você possa dessoldá-la com segurança. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/wq/et/pwwqetghhzfjmsp95of6thl7700.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quebre a montagem e solde os contatos, um de cada vez. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qj/bd/zz/qjbdzzru_bsnvafujtwduu8j2ks.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora recolocamos o estojo e selamos a parede traseira com um pedaço de plástico adequado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como posso usar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que montamos é um emulador de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartão inteligente OpenPGP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esse cartão pode armazenar chaves GPG e SSH. </font><font style="vertical-align: inherit;">O escopo é bastante amplo, por exemplo:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assinando git commits - um problema de segurança já foi levantado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Armazenamento de chaves SSH</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criptografia e assinatura de email </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S / MIME</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - não verificou, mas eles escrevem que funciona</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como entrar no sistema operacional sem senha - um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bom guia já está no hub</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como você pode ver, você pode fazer muitas coisas interessantes e úteis.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de uso para ssh</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E no final, vamos ver como você pode usar essa chave para armazenar chaves ssh e conectar-se a um servidor remoto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem duas maneiras - gerar uma nova chave ou importar uma chave existente em um token. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ver as duas opções. </font><font style="vertical-align: inherit;">Nós inserimos o token no USB. </font><font style="vertical-align: inherit;">No dmesg, você pode ver informações sobre o dispositivo conectado.</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ dmesg<font></font>
[11073.599862] usb 1-3: USB disconnect, device number 11<font></font>
[11311.647551] usb 1-3: new full-speed USB device number 12 using xhci_hcd<font></font>
[11311.796881] usb 1-3: New USB device found, idVendor=234b, idProduct=0000, bcdDevice= 2.00<font></font>
[11311.796884] usb 1-3: New USB device strings: Mfr=1, Product=2, SerialNumber=3<font></font>
[11311.796885] usb 1-3: Product: Gnuk Token<font></font>
[11311.796887] usb 1-3: Manufacturer: Free Software Initiative of Japan<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nova geração de chaves ssh</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É importante entender que a chave é gerada </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no próprio dispositivo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , e não no seu computador. </font><font style="vertical-align: inherit;">Portanto, essa chave nunca sai do dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vá para o gpg:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ gpg --card-edit<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modo interativo gpg é aberto, ative o modo admin com o comando admin:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
gpg/card&gt; admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, execute o novo comando de geração de chave:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
gpg/card&gt; generate<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, é apresentado o procedimento padrão de geração de chave gpg. </font><font style="vertical-align: inherit;">Durante o qual você será solicitado a salvar a chave de backup em disco. </font><font style="vertical-align: inherit;">Os desenvolvedores recomendam fazer backups, mas você decide. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A única coisa é que a geração de hardware de chaves RSA de até 2048 bits é suportada. </font><font style="vertical-align: inherit;">Se você precisar do 4096, precisará gerar a chave no computador e importá-la para o próprio dispositivo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, você precisará de códigos PIN. </font><font style="vertical-align: inherit;">Por padrão, os seguintes códigos PIN estão protegidos no firmware: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PIN DO CARTÃO - 123456 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PIN ADMIN - 12345678 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No futuro, eles </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser alterados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chave pode ser gerada um pouco mais do que se fosse gerada diretamente no computador, por isso temos um pouco de paciência.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importar uma chave existente</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ver o que fazer se você já tiver uma chave ssh que gostaria de usar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, importe a chave no gpg:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ pem2openpgp temporary_id &lt; id_rsa  | gpg --import<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos descobrir o ID da chave. </font><font style="vertical-align: inherit;">Para fazer isso, liste todos os disponíveis em gpg:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ gpg -K<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E encontramos a chave importada:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
sec&gt;  rsa2048 2020-02-05 [C]<font></font>
      DFEFF02E226560B7F5A5F2CAB19534F88F8FE4EC<font></font>
      Card serial no. = FFFE 87144751<font></font>
uid           [ unknown] temporary_id<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu caso, o ID da chave é DFEFF02E226560B7F5A5F2CAB19534F88F8FE4EC </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vá para o modo interativo para editar a chave gpg:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ gpg --edit-key DFEFF02E226560B7F5A5F2CAB19534F88F8FE4EC<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E damos o comando para copiar a chave do cartão inteligente:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
gpg&gt; keytocard<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo, a chave é gravada.</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportar chave pública no formato ssh</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obtemos a chave pública desejada do token para colocá-la no servidor:</font></font><br>
<br>
<pre><code class="bash hljs">$ pkcs15-tool --list-keys</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meu caso, a saída é assim:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
Using reader with a card: Free Software Initiative of Japan Gnuk (FSIJ-1.2.15-87144751) 00 00<font></font>
Private RSA Key [Signature key]<font></font>
	Object Flags   : [0x03], private, modifiable<font></font>
	Usage          : [0x20C], sign, signRecover, nonRepudiation<font></font>
	Access Flags   : [0x1D], sensitive, alwaysSensitive, neverExtract, <span class="hljs-built_in">local</span><font></font>
	ModLength      : 2048<font></font>
	Key ref        : 0 (0x00)<font></font>
	Native         : yes<font></font>
	Auth ID        : 01<font></font>
	ID             : 01<font></font>
	MD:guid        : f3de5f55-d100-4973-d572-40d67e20f033<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui estamos interessados ​​na chave de identificação da chave, no meu caso 01. Agora exportamos a chave pública:</font></font><br>
<br>
<pre><code class="bash hljs">
$ pkcs15-tool --<span class="hljs-built_in">read</span>-public-key 01
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Copie a chave pública no arquivo pub.key:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
-----BEGIN PUBLIC KEY-----<font></font>
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyzHQIWEApliWYaf0T8jb<font></font>
Vh2nc5+LklKXeuJFTN3BW2VqdrTw1rpKXiANWpi+qbtZhZ2nP3CJX6qoGobXyCOd<font></font>
/iAiygFlyW4BwTQpnAm81IE9lPzfasOK7SBuKJ+ZbB4WpuYJRozgtt/gpWzmnWnW<font></font>
84/CU9Lqbhz95v/C/DImSf6LiwVdmiEj4CUNInl5pY4trguDsSfkw1u8gGqSPEsD<font></font>
ZXtlVRx8iBGi0JR02g9KTL4dDGocUtcTK8W0eY+BDbQSXfTGCy93v8sEyhdQjHs8<font></font>
oDiwkvFQ86gYqwL5DJ7U/rFSO3A5X6zmkFFV8nJZjxB2qfE5aommtXxow4iPml3x<font></font>
YwIDAQAB<font></font>
-----END PUBLIC KEY-----<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E converta-o para o formato ssh-rsa:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ ssh-keygen -f pub.key -i -mPKCS8 <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acontece que a chave pública no formato desejado:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDLMdAhYQCmWJZhp/RPyNtWHadzn4uSUpd64kVM3cFbZWp2tPDWukpeIA1amL6pu1mFnac/cIlfqqgahtfII53+ICLKAWXJbgHBNCmcCbzUgT2U/N9qw4rtIG4on5lsHham5glGjOC23+ClbOadadbzj8JT0upuHP3m/8L8MiZJ/ouLBV2aISPgJQ0ieXmlji2uC4OxJ+TDW7yAapI8SwNle2VVHHyIEaLQlHTaD0pMvh0MahxS1xMrxbR5j4ENtBJd9MYLL3e/ywTKF1CMezygOLCS8VDzqBirAvkMntT+sVI7cDlfrOaQUVXyclmPEHap8Tlqiaa1fGjDiI+aXfFj<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, é apresentado o procedimento padrão para configurar o ssh para efetuar logon com uma determinada chave - você precisa adicionar a chave ao arquivo ~ / .ssh / allowed_keys no servidor remoto. </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuração ssh</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, para entrar no servidor usando nosso token, você precisa chamar ssh com a opção -I e passar o caminho para o driver do token. </font><font style="vertical-align: inherit;">Nosso token é compatível com um dos drivers padrão, então vamos usá-lo</font></font><br>
<pre><code class="bash hljs"><font></font>
$ ssh -I /usr/lib/opensc-pkcs11.so martin@remotehost<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, será mais conveniente usar o arquivo de configuração (~ / .ssh / config) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione as seguintes linhas a ele.</font></font><br>
<pre><code class="bash hljs"><font></font>
Host digitalOceanServer<font></font>
        HostName 192.168.0.1<font></font>
        User root<font></font>
        PKCS11Provider /usr/lib/opensc-pkcs11.so<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chamada ssh agora é ainda mais fácil:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ ssh digitalOceanServer<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como alterar códigos PIN padrão</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um passo igualmente importante será instalar seus próprios códigos PIN. </font><font style="vertical-align: inherit;">Primeiro, você precisa entender que existem dois códigos PIN diferentes usados:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código PIN - esse código é usado para operações de rotina com um cartão inteligente - para criptografar algo, assinar etc.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código PIN do administrador - esse código é necessário para alterar / excluir chaves e executar todos os tipos de tarefas "administrativas"</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redefinir código - um código que permitirá desbloquear o token após três tentativas incorretas de inserir o código PIN. </font><font style="vertical-align: inherit;">Seu uso é opcional, então cabe a você</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você tem apenas 3 tentativas para cada um dos códigos. </font><font style="vertical-align: inherit;">Após o qual o token é bloqueado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos começar. </font><font style="vertical-align: inherit;">Para fazer isso, entramos novamente no modo GPG interativo:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
$ gpg --card-edit<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E digite o comando passwd:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
gpg/card&gt; passwd<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma janela será aberta, onde você poderá alterar o código PIN do token. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora você precisa alterar o PIN do administrador. </font><font style="vertical-align: inherit;">Para fazer isso, vá para o modo administrador:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
gpg/card&gt; admin<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digite o comando passwd novamente:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
gpg/card&gt; passwd<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, agora ele funciona no modo avançado e ofereceremos várias opções:</font></font><br>
<br>
<pre><code class="bash hljs"><font></font>
1 - change PIN<font></font>
2 - unblock PIN<font></font>
3 - change Admin PIN<font></font>
4 - <span class="hljs-built_in">set</span> the Reset Code<font></font>
Q - quit<font></font>
<font></font>
Your selection?<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selecionamos alterar PIN do administrador e definimos a senha do administrador de acordo com o esquema padrão. </font><font style="vertical-align: inherit;">Deixe-me lembrá-lo de que o PIN do administrador padrão é 12345678.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre a segurança do dispositivo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, por US $ 3, você não pode obter uma segurança de nível chave por mais de 200 dólares. </font><font style="vertical-align: inherit;">No entanto, o dispositivo montado pode ser considerado uma chave de nível de entrada. </font><font style="vertical-align: inherit;">Tanto quanto eu sei, as chaves de fábrica do Nitrokey Start usam o mesmo firmware. </font><font style="vertical-align: inherit;">De qualquer forma, o uso desse dispositivo aumentará a segurança em pelo menos um nível superior. </font><font style="vertical-align: inherit;">Portanto, essa é uma ótima maneira de começar a usar chaves de hardware. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos falar um pouco sobre o que acontecerá se você perder essa chave. </font><font style="vertical-align: inherit;">A chave em si é protegida por um código PIN. </font><font style="vertical-align: inherit;">Após várias tentativas malsucedidas, a chave está bloqueada. </font><font style="vertical-align: inherit;">A memória do dispositivo em si é protegida contra leitura, portanto, não funcionará diretamente para ler as chaves escritas nele.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem alguns tipos de ataques ao próprio chip (por exemplo, a preparação e conexão de microeletrodos, que permitem medir a tensão em qualquer lugar do chip, incluindo memória), mas eles são muito caros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, repito mais uma vez, esta é uma ótima opção de nível de entrada e, mesmo com ela, a segurança atingirá um nível totalmente novo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Links para materiais úteis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No processo de uso do dispositivo, certamente haverá necessidade de informações adicionais. </font><font style="vertical-align: inherit;">Eu montei uma lista de boas fontes.</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Página do</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> site Debian</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentação de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> token</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o token Nitrokey Start - ele usa o mesmo firmware, portanto as dicas também nos servirão</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O dispositivo que montamos está sendo desenvolvido pelo projeto GNUK de código aberto (na verdade, é chamado de token), para que mais informações possam ser encontradas no Google a pedido do "GNUK". </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upd.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os comentários sugeriram que há firmware que permite usar o dispositivo para autenticação de dois fatores. O código do firmware pode ser encontrado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui </font></font></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upd. 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 15/02/2020 Os comentários sugeriram que, para esse chip em particular, existe uma vulnerabilidade que pode drenar o conteúdo da memória. Pelo que entendi, ainda não foi publicado, mas foi anunciado. Então, por enquanto, nem tudo está claro. Eles também sugeriram uma boa solução - despeje </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">epóxi</font></a><font style="vertical-align: inherit;"> no corpo do dispositivo</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">misturado com pó de alumínio. Este método foi descrito no livro de Kevin Mitnick, "The Art of Deception". Assim, para obter acesso ao chip, será necessário quebrar a cola, que, se for manuseada sem cuidado, pode danificar permanentemente o chip. Obviamente, esse método pode ser contornado, isso aumenta ainda mais o custo dos hackers. É claro que, se necessário, o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mossad fará as coisas do Mossad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e isso não o impedirá, mas apenas o atrasará. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upd. 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muitas mensagens chegaram ao PM dizendo que as pessoas não podem obter o firmware ST-Link. </font><font style="vertical-align: inherit;">Depois de descobrir isso, descobrimos que agora os fabricantes chineses começaram a economizar ativamente em componentes e a usar chips com 64Kb de memória a bordo. </font><font style="vertical-align: inherit;">E isso não é suficiente para o firmware, procure um chip de 128Kb a bordo. </font><font style="vertical-align: inherit;">Portanto, recomendo que, ao comprar, verifique qual chip está instalado (se possível) ou verifique com o vendedor / nos comentários. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upd. </font><font style="vertical-align: inherit;">4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Acontece que você ainda pode usar programadores chineses com um chip de 64 KB (embora você precise usar a versão mais recente do firmware) - um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo interessante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre isso </font><font style="vertical-align: inherit;">apareceu no hub </font><font style="vertical-align: inherit;">.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487738/index.html">Animação de esquema no SCADA</a></li>
<li><a href="../pt487740/index.html">Montagem de um magnetômetro portátil</a></li>
<li><a href="../pt487742/index.html">Negociação de arbitragem (algoritmo de Bellman-Ford)</a></li>
<li><a href="../pt487744/index.html">FARO apresenta o scanner 3D a laser FOCUS S 70</a></li>
<li><a href="../pt487746/index.html">Eterno</a></li>
<li><a href="../pt487750/index.html">Algumas sutilezas das coleções de injeção no Spring</a></li>
<li><a href="../pt487752/index.html">Otimize o armazenamento: um caso de unificação e menor custo de propriedade</a></li>
<li><a href="../pt487754/index.html">Organização da intranet (automação da produção de TI). Parte 1 - Usuários e Correio</a></li>
<li><a href="../pt487756/index.html">RIT, Maxim Lapshin (Erlyvideo): como um programador para crescer uma empresa</a></li>
<li><a href="../pt487764/index.html">Tenho 14 anos e combino escola com trabalho em TI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>