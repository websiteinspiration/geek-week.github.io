<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöû üéø üéå Kubernetes im Geiste der Piraterie: unser Weg zu Microservices und eine vorgefertigte Vorlage f√ºr die Implementierung üò™ üéóÔ∏è ü§∏üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo, ich bin Yuri Buylov, ich entwickle bei CarPrice und implementiere auch DevOps-Praktiken, Microservices und Kubernetes. Ich m√∂chte √ºber Kubernet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes im Geiste der Piraterie: unser Weg zu Microservices und eine vorgefertigte Vorlage f√ºr die Implementierung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/490362/"><img src="https://habrastorage.org/webt/om/m1/3u/omm13uevbocq8muavqnaa5chz4y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hallo, ich bin Yuri Buylov, ich entwickle bei CarPrice und implementiere auch DevOps-Praktiken, Microservices und Kubernetes. Ich m√∂chte √ºber Kubernetes im Geiste der Piraterie sprechen - nicht nur √ºber die Verwaltung eines gro√üen, sch√∂nen Schiffs auf Segeln, sondern √ºber eine Flotte kleiner, unansehnlicher Fischerboote, manchmal rostig, aber sehr schnell, flink und gef√§hrlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird f√ºr diejenigen interessant sein, die die Infrastruktur entwickeln oder auf Microservices √ºbertragen, DevOps auf Kubernetes implementieren und in jeder Hinsicht auf Cloud Native umsteigen. Ich werde Ihnen √ºber unseren Weg berichten. Am Ende des Artikels werde ich unsere Grundlagen f√ºr die Microservices-Umgebung erl√§utern. Ich werde einen Link zu einer Vorlage geben, die f√ºr Entwickler und Tester praktisch ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Artikel basiert auf einer Videopr√§sentation auf der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ Kubernetes-Konferenz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie nicht lesen m√∂chten, k√∂nnen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie wir vor Kubernetes gelebt haben: Dev Server, Bare Metal und Ansible</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir lebten und leben in einer Art st√§ndiger Ver√§nderungen und Experimente: AV-Tests, Testen verschiedener Hypothesen. </font><font style="vertical-align: inherit;">Wir starten neue Dienste, und wenn etwas nicht funktioniert, schneiden wir es aus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einmal hatten wir einen Monolithen im PHP, der viel Schmerz und Leid brachte. </font><font style="vertical-align: inherit;">Um eine akzeptable Markteinf√ºhrungszeit zu gew√§hrleisten, gingen wir den typischen Weg - wir begannen, diesen Monolithen f√ºr Microservices zu sehen. </font><font style="vertical-align: inherit;">Als Ergebnis stellte sich heraus, dass aus einem gro√üen Monolithen viele kleine Monolithen wurden. </font><font style="vertical-align: inherit;">Dies ist normal, dies gilt f√ºr alle, die vor einer √§hnlichen Aufgabe standen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann haben wir angefangen, andere Technologien auszuprobieren, insbesondere Golang erschien in unserem Unternehmen, es wurde sp√§ter die Hauptentwicklungssprache. Es gab Fragen: Wie kann man das alles entwickeln, testen und bereitstellen? Die Antwort lag auf der Hand - Sie ben√∂tigen einen Entwickler-Server. Jeder Entwickler muss √ºber einen Entwicklungsserver verf√ºgen, auf dem er eine Verbindung herstellen kann, um dort hochwertigen und leistungsstarken Code zu schreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen haben die Jungs einen Entwickler-Server geschrieben. Das Ergebnis war eine Webschnittstelle, die das Docker-Compose auf den Servern kontrollierte. Es gab auch einen Container mit Quellcode, der in Docker-Compose gemountet war. Der Entwickler konnte eine Verbindung √ºber SSH und Programm herstellen. Dort arbeiteten auch Tester, alles funktionierte perfekt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/vl/qu/orvlqukujhim2kmf7bcspahzdaq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der Zunahme der Anzahl der Dienste wurde es jedoch unm√∂glich zu arbeiten. </font><font style="vertical-align: inherit;">Der Moment kam, als es notwendig war, etwas einzusetzen, nicht die Container auszupacken. </font><font style="vertical-align: inherit;">Wir haben Bare Metal genommen und Docker dort gerollt. </font><font style="vertical-align: inherit;">Dann nahmen sie Ansible, schrieben mehrere Rollen. </font><font style="vertical-align: inherit;">Jede Rolle ist ein Dienst, bei dem Docker-Compose lag, der zu einem der Autos ‚Äûkam‚Äú. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/ro/nh/ryronhp58jrnkhmjlwngczkoqs0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also lebten wir: In Nginx registrierten wir uns stromaufw√§rts mit unseren H√§nden und sagten, zu welchem ‚Äã‚ÄãHafen wir gehen sollten, wo dieser Dienst lebt. </font><font style="vertical-align: inherit;">Es gab sogar eine Yaml-Datei, in der alle Ports aufgelistet waren, damit Anwendungen nicht um sie konkurrieren konnten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie wir zu Kubernetes kamen und die Infrastruktur darauf aufbauten</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich kann man nicht so leben, Orchestrierung ist erforderlich. Wir haben das in den Jahren 2017-2018 verstanden, dann war nicht klar, wo wir dieses Orchester bekommen sollten. Kubernetes hatte gerade erst angefangen, es gab HashiCorp Nomad, Rancher, OpenShift. Wir haben Nomad ausprobiert, es war nicht schlecht, aber wir wollten Docker-Compose nicht in Nomad-Konfigurationen umschreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Kubernetes wurde uns sofort klar, dass ausl√§ndische Kollegen es versuchten, es gelang ihnen nicht immer. Und wir hatten keine b√§rtigen Admins, die uns zu einem Cluster machen k√∂nnten. Sie begannen zu √ºberlegen, wie sie dies umsetzen sollten. Schon damals war Kubernetes zum Beispiel bei Amazon, aber wir erinnern uns an die Schl√∂sser, nach denen sie sich dringend bewegten. Daher wurde diese Option sofort verworfen, umso teurer der Verkehr dort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann erschien Kubernetes auf der Mail.ru Cloud Solutions-Plattform als Service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Containers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Wir haben unseren S3-Speicher bereits von Amazon dorthin verlegt und beschlossen, auch K8s zu testen. Wir haben einen Cluster in der Cloud bereitgestellt, alles hat funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Testen haben wir uns entschlossen, dort einen zustandslosen Dienst bereitzustellen. Hat eine API f√ºr mobile Anwendungen bereitgestellt, bereitgestellt - es funktioniert. Dort 50% des Verkehrs gesendet - es funktioniert. Ja, etwas fiel in regelm√§√üigen Abst√§nden, aber die Jungs haben es repariert, alles war in Ordnung. Infolgedessen wurde die gesamte Infrastruktur √ºbertragen, jetzt basiert sie auf Kubernetes, haupts√§chlich Entwicklungs- und B√ºhnenservern. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/jv/v7/scjvv7hzn-akbu9lwy6jop7diuq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder Entwickler hat seinen eigenen Minikube in VMware, mit dem er arbeitet. Wir starten neue Projekte in Kubernetes in der MCS-Cloud und stellen auch Managed MySQL bereit, das sofort mit allen Slaves, Replikationen und Backups in S3 ankommt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben immer noch Verm√§chtnis auf Bare Metal, einschlie√ülich eines Docker-Clusters, auf dem Ansible ausgef√ºhrt wird, aber eines Tages werden wir es herausfinden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie man mit einem Technologiezoo lebt und nicht leidet</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Technologiezoo ist jetzt nicht mehr so ‚Äã‚Äãbe√§ngstigend wie beispielsweise 2011. </font><font style="vertical-align: inherit;">Es ist sogar normal, wenn Sie spezielle Tools und Technologien von verschiedenen Orten aus verwenden und nach Belieben verwenden k√∂nnen. </font><font style="vertical-align: inherit;">Zum Beispiel verwenden wir Golang f√ºr einige Dinge, aber Data Scientist arbeitet in Python. Sie k√∂nnen sie nicht zwingen, in GO oder PHP zu schreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen haben wir zwei Regeln:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerize: Es m√ºssen Container vorhanden sein.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachtbarkeit: Diese Beh√§lter m√ºssen beobachtbar sein.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Analogie zum Zoo fortzusetzen: Es gibt Zellen, und es ist nicht so wichtig, wer in diesen Zellen sitzt. </font><font style="vertical-align: inherit;">Die Hauptsache ist, dass Wasser und Lebensmittel regelm√§√üig, automatisch und gleichm√§√üig ankommen und die "lebenswichtigen Produkte" von Dienstleistungen, dh Protokolle, irgendwo zentral versandt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Beobachtung haben wir einen Standardstapel: Jede Anwendung schreibt Protokolle in stdout, von wo aus alles zentral an EFK √ºbertragen wird. </font><font style="vertical-align: inherit;">Das hei√üt, der Entwickler kann die Protokolle in Kibana anzeigen. </font><font style="vertical-align: inherit;">App-Metriken werden in Prometheus, Dashboards und Warnungen standardm√§√üig in Grafana abgelegt. </font><font style="vertical-align: inherit;">Jaeger ist eine Opentracing-Geschichte, die zeigt, wer auf welchen Dienst zugreift, wenn wir es nicht wissen oder nicht auf andere Weise damit umgehen wollen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/pw/ht/nppwhthiefslsbsif3wi_9wf4ve.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie man mit all dem entwickelt und testet</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir an, ein neuer Entwickler kommt zu uns und sieht 100 Services und 100 Repositorys. Er hat sofort Fragen. Wie werden diese 100 Dienste bereitgestellt und wie werden sie konfiguriert? Wo sind die Datenbanken? Welche Konten gibt es? Und es gibt viele solche Fragen. Aus diesem Grund dauerte die Ver√∂ffentlichung des neuen Entwicklers unanst√§ndig, er konnte eine Woche lang sitzen und alles einrichten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesem Grund haben wir eine 1-Klick-Entwicklungsumgebung entwickelt. Jeder Entwickler verf√ºgt √ºber einen eigenen Minikube mit bedingt unendlichen Kernen und Speicher, der in der VMware-Cloud bereitgestellt wird. Plus eine Datenbank - sie kommt t√§glich aus der Produktion, wird verschleiert, komprimiert und auf ZFS gestellt. Dies ist eine pers√∂nliche Entwicklung unseres Administrators. Wir sind seit langer Zeit mit Kostensenkungen besch√§ftigt. Wir mussten allen Entwicklern eine Basis geben und nicht pleite gehen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In ZFS gibt es Snapshots. Ein API-Entwickler kann die Datenbank in zwei Sekunden direkt aus der Produktion rollen. </font><font style="vertical-align: inherit;">Bei Autotests die gleiche Geschichte: Wir beginnen mit der API und alles funktioniert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/bv/wn/babvwnzk2n32f8xemqqz-5rz-ck.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So sieht der Entwicklungsablauf heute aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/5h/u7/ht5hu7ljxuhqt7uz3yn25_cay44.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entwickler sind gl√ºcklich, DevOps und Administratoren sind gl√ºcklich, weil alle Prozesse einheitlich, wiederholbar und einheitlich sind. </font><font style="vertical-align: inherit;">Aber es gibt eine Sache.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schichtschichtsystem</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Linus Torvalds sagte: ‚ÄûReden ist billig. Zeig mir den Code. " Wir verwenden also ein mehrstufiges Schichtsystem. Es gibt triviale Ebenen: dev, stage, prod, die jedem einfallen, der CI / CD machen wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber es gibt immer noch Entwickler, sie brauchen einige ihrer Domains, einige benutzerspezifische Storys, also haben wir eine Ebene mit Benutzerwerten. Dies reicht jedoch nicht aus - Sie m√ºssen noch testen. Angenommen, wir haben eine Verzweigung erstellt, m√∂glicherweise mehrere Dienste, und wir m√ºssen diese an den Tester weitergeben, damit sie wiederholt wird. Dazu haben wir eine Ebene mit Werten f√ºr Aufgaben, d. H. Aufgabenwerten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer, etwas heiliger Moment - wir verwenden Tiller nicht, der sich f√ºr Helm entschieden hat, aber wir verwenden ihn tats√§chlich als Template-Engine. </font><font style="vertical-align: inherit;">Das hei√üt, wir verwenden nur die Helmvorlage, sie gibt eine Yaml-Datei an der Ausgabe aus, die Minikube oder einem Cluster zugeordnet werden kann, und nichts anderes wird ben√∂tigt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/we/nb/ugwenbqvgt4fkf8-k-zdgafyivi.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie das K8s-Helm-Repository funktioniert</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie gesagt, wir haben offensichtliche Ebenen von Dev, Prod und Stage. Es gibt eine Yaml-Datei von jedem Dienst. Wenn wir einen neuen Dienst gesehen haben, f√ºgen Sie die Datei hinzu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich gibt es einen Papa dev.server mit dem interessantesten. </font><font style="vertical-align: inherit;">Es gibt Bash-Skripte, mit denen Sie beispielsweise einen neuen Benutzer erstellen k√∂nnen: Erstellen Sie nicht 100 Dienste mit Ihren H√§nden und f√ºllen Sie keine Yaml-Dateien aus, sondern f√ºhren Sie sie einfach mit einem Befehl aus. </font><font style="vertical-align: inherit;">Hier werden all diese Yaml-Dateien generiert.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/tf/v5/abtfv5xg_3ev8abkexzeg86ont0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im selben Ordner befinden sich Aufgaben eines Unterordners. Wenn wir bestimmte Werte f√ºr unsere Bereitstellung festlegen m√ºssen, erstellen wir einfach einen Ordner mit darin enthaltenen Aufgabennummern und schreiben den Zweig fest. Dann sagen wir dem Tester: "Ein solcher Zweig liegt im Repository, nehmen Sie ihn und f√ºhren Sie ihn aus." Er startet, zieht den Befehl, der im Papierkorb liegt, und alles funktioniert - keine manuelle Konfiguration erforderlich. Das Wunder von DevOps ist eine Infrastruktur als Code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen l√§uft der Prozess auf drei Teams hinaus:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/zk/1e/jszk1eunb8wlebblg_6v8g8rr3i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ein neuer Entwickler eintrifft, gibt er ihm Minikube, einen Archivordner mit Zertifikaten und einer Domain. Im Allgemeinen braucht er nur Kubectl und Helm. Er klont das Repository f√ºr sich selbst, zeigt kubectl den Pfad zu seiner Konfiguration und f√ºhrt den Befehl make_user mit seinem Namen aus. Und f√ºr alle Dienste werden Kopien f√ºr ihn erstellt. Dar√ºber hinaus werden sie nicht nur erstellt - es gibt eine Datenbank, die ihm √ºbergeben wurde, der Entwickler hat Anmeldeinformationen daf√ºr vorgeschrieben, und alle diese Anmeldeinformationen gehen an andere Dienste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Benutzer wurde erstellt. Wie kann ich ihn jetzt bereitstellen? Auch hier ist nichts kompliziert - wir f√ºhren deploy.sh mit seinem Namen aus und alles kommt dem Entwickler im Standard-Namespace in seinem Minikube, alles ist sofort auf seiner Domain verf√ºgbar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Entwickler etwas programmiert hat, nimmt er die Problem-ID und gibt sie dem Tester. </font><font style="vertical-align: inherit;">Der Tester kopiert diesen Zweig, startet eine Bereitstellung, und in seinem Cluster wird eine Umgebung mit einer neuen Funktion angezeigt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K8s-Steuerbaugruppe</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Repository selbst wird zus√§tzlich kompiliert und in CI / CD-Prozesse integriert. Hier gibt es nichts Besonderes - nur Kubectl mit Zertifikaten und Helm. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/no/h1/4r/noh14rtvxvwmox4snmakfcvvllc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Projekt sieht es folgenderma√üen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/1b/nj/tw1bnjz0tg9mcp8rk7nmdlrqqby.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, Sie sind bereitgestellt, und es gibt eine Phase, in der Sie zuerst die Phase durchf√ºhren und dann die Tests dort mit Jenkins ausf√ºhren m√ºssen. Aus dem Repository haben Sie ein mit Helm kompiliertes Bild. Wir f√ºhren den Befehl deploy Namespace service_stage run aus und alles hebt ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann kommt CI, hier .drone.yml, aber ungef√§hr das Gleiche wird in GitLab oder anderswo passieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als n√§chstes startet Jenkins, der die Tests auf der B√ºhne durchf√ºhrt. Wenn alles in Ordnung ist, wird fast dieselbe Bereitstellung gestartet, jedoch bereits auf dem Produkt. Das hei√üt, dieser Mechanismus erleichtert Entwicklern und Testern nicht nur das Leben, sondern wird auch verwendet, um Funktionen f√ºr Produkte bereitzustellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir lieben Open Source, wir m√∂chten in die Entwicklung von DevOps investieren, deshalb haben wir eine Vorlage erstellt, die Sie verwenden k√∂nnen, und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sie auf den Github hochgeladen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es gibt alles, wor√ºber ich gesprochen habe: Sie k√∂nnen nehmen, beobachten, testen und anwenden. </font><font style="vertical-align: inherit;">Dies ist f√ºr alle n√ºtzlich, die Microservices implementieren oder unter der Tatsache leiden, dass das Team Microservices implementiert oder DevOps-Prozesse darauf aufbauen m√∂chte. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unsere anderen verwandten Artikel:</font></font></strong><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 n√ºtzliche Kubernetes-Tools: Bereitstellung und Verwaltung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abrechnung, Marktplatz und Sandboxen f√ºr Big Data zum zweiten Mal: ‚Äã‚ÄãWas Testumgebungen in der Cloud leisten k√∂nnen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dank Kubernetes und Automatisierung in zwei Stunden in die Cloud migrieren</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Vortrag wurde erstmals auf der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ Kubernetes-Konferenz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von Mail.ru Cloud Solutions gehalten. </font><font style="vertical-align: inherit;">Sehen Sie sich ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video mit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anderen Auff√ºhrungen an und melden Sie sich f√ºr Ank√ºndigungen von Telegrammveranstaltungen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rund um Kubernetes bei der Mail.ru Group an</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490346/index.html">Die Rolle des MQTT-Protokolls bei der Entwicklung des industriellen Internet der Dinge</a></li>
<li><a href="../de490348/index.html">Wie man Feedback gibt und nicht den Dritten Weltkrieg beginnt</a></li>
<li><a href="../de490354/index.html">Verbesserung der Kultur der Informationssicherheit in Fintech-Unternehmen</a></li>
<li><a href="../de490356/index.html">Einf√ºhrung in Kubernetes CCM (Cloud Controller Manager) f√ºr Yandex.Cloud</a></li>
<li><a href="../de490358/index.html">Muss ein moderner Programmierer in der Lage sein, Algorithmen zu erstellen?</a></li>
<li><a href="../de490364/index.html">Rechenzentren verbrauchen viel Strom, bedrohen aber noch nicht das Klima</a></li>
<li><a href="../de490366/index.html">Soll ich Google Fonts auf meinem Server speichern?</a></li>
<li><a href="../de490372/index.html">Interview bei Dodo Pizza</a></li>
<li><a href="../de490376/index.html">Plural</a></li>
<li><a href="../de490378/index.html">IPv6 - eine wunderbare Welt, die einen schnellen √úbergang wert ist</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>