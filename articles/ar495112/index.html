<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💐 💑 🧠 وضع العلامات المستندة إلى المحتوى في جامع werf: لماذا وكيف يعمل؟ 🛫 ⛰️ 💅🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf هي أداة GitOps CLI مفتوحة المصدر الخاصة بنا لإنشاء التطبيقات وتقديمها إلى Kubernetes. في الإصدار v1.1 يحتوي على ميزة جديدة لمجمع الصور: وضع علاما...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>وضع العلامات المستندة إلى المحتوى في جامع werf: لماذا وكيف يعمل؟</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/495112/"><img src="https://habrastorage.org/webt/yy/sb/jo/yysbjolbz1n1vpwu3xcwyhjlrmm.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> هي أداة GitOps CLI مفتوحة المصدر الخاصة بنا لإنشاء التطبيقات وتقديمها إلى Kubernetes. </font><font style="vertical-align: inherit;">في </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الإصدار v1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يحتوي على ميزة جديدة لمجمع الصور: وضع علامات على الصور حسب المحتوى ، أو </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العلامات المستندة إلى المحتوى</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">حتى الآن ، تضمن نظام وضع العلامات النموذجي في werf وضع علامات على صور Docker باستخدام علامة Git أو فرع Git أو Git ارتكاب. </font><font style="vertical-align: inherit;">لكن كل هذه المخططات بها عيوب تم حلها بالكامل بواسطة إستراتيجية وضع العلامات الجديدة. </font><font style="vertical-align: inherit;">تفاصيل عنها ولماذا هي جيدة - تحت القطع.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">استرجاع مجموعة من الخدمات الدقيقة من مستودع Git واحد</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
غالبًا ما يكون هناك موقف ينقسم فيه التطبيق إلى خدمات مستقلة أكثر أو أقل. يمكن أن تحدث عمليات إطلاق هذه الخدمات بشكل مستقل: يمكن إطلاق خدمة واحدة أو عدة خدمات في وقت واحد ، في حين يجب أن يستمر العمل في بقية الخدمات دون أي تغييرات. ولكن من وجهة نظر تخزين التعليمات البرمجية وإدارة المشاريع ، من الملائم أكثر الاحتفاظ بخدمات التطبيقات هذه في مستودع واحد. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هناك حالات تكون فيها الخدمات مستقلة حقًا ولا ترتبط بتطبيق واحد. في هذه الحالة ، سيتم وضعهم في مشاريع منفصلة وسيتم إصدارها من خلال عمليات CI / CD منفصلة في كل مشروع.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ومع ذلك ، في الواقع ، غالبًا ما يقسم المطورون تطبيقًا واحدًا إلى عدة خدمات صغيرة ، ولكن وجود مستودع منفصل ومشروع لكل ... هو مبالغة واضحة. </font><font style="vertical-align: inherit;">حول هذا الموقف الذي سيتم مناقشته أكثر: العديد من هذه الخدمات الدقيقة تكمن في مستودع مشروع واحد وتحدث الإطلاقات من خلال عملية واحدة في CI / CD.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">علامة Git وعلامة Git</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لنفترض أنه يتم استخدام إستراتيجية وضع العلامات الأكثر شيوعًا - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tag-or-branch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">بالنسبة لفروع Git ، يتم وضع علامة على الصور باسم الفرع ، بالنسبة لفرع واحد في كل مرة لا توجد سوى صورة واحدة منشورة باسم هذا الفرع. </font><font style="vertical-align: inherit;">بالنسبة لعلامات Git ، يتم تمييز الصور وفقًا لاسم العلامة. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
عند إنشاء علامة Git جديدة - على سبيل المثال ، عند إصدار نسخة جديدة - سيتم إنشاء علامة Docker جديدة لجميع صور المشروع في Docker Registry:</font></font><br>
<br>
<ul>
<li> <code>myregistry.org/myproject/frontend:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice1:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice2:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice3:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice4:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice5:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/database:v1.1.10</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تدخل أسماء الصور الجديدة هذه من خلال أنماط Helm إلى تكوين Kubernetes. عند بدء النشر ، يقوم الفريق </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">بتحديث الحقل </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">في مورد Kubernetes ويظهر الموارد المقابلة بسبب اسم الصورة المتغير. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">المشكلة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : في حالة عدم تغيير vykata الفعلي (Git-tag) لمحتويات الصورة ، ولكن فقط علامة Docker التي تحدث </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">بمجرد</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> إعادة تشغيل هذا التطبيق ، وبناءً على ذلك ، بعض البساطة الممكنة. على الرغم من عدم وجود سبب حقيقي لإعادة التشغيل.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ونتيجة لذلك ، مع مخطط وضع العلامات الحالي ، يجب عليك تسييج العديد من مستودعات Git المنفصلة وتنبع مشكلة تنظيم طرح هذه المستودعات العديدة. </font><font style="vertical-align: inherit;">بشكل عام ، مثل هذا المخطط مثقل ومعقد. </font><font style="vertical-align: inherit;">من الأفضل دمج العديد من الخدمات في مستودع واحد وإنشاء علامات Docker هذه بحيث لا تكون هناك عمليات إعادة تشغيل غير ضرورية.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الالتزام بوضع العلامات على Git</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لدى Werf أيضًا إستراتيجية وضع العلامات المتعلقة بتنفيذ عمليات Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git-الالتزام هو معرّف محتويات مستودع Git ويعتمد على محفوظات تعديلات الملف في مستودع Git ، لذلك يبدو من المنطقي استخدامها لوضع علامة على الصور في Docker Registry. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ومع ذلك ، فإن وضع العلامات بواسطة Git ارتكاب لها نفس العيوب التي لها من قبل فروع Git أو علامات Git:</font></font><br>
<br>
<ul>
<li>     ,    ,  Docker-   .</li>
<li>    merge-,    ,  Docker-   .</li>
<li>    ,      Git,     ,  Docker-    .</li>
</ul><br>
<h2>   Git-    </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هناك مشكلة أخرى تتعلق باستراتيجية وضع العلامات لفروع Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يعمل وضع العلامات باسم الفرع ما دام يتم تجميع ارتباطات هذا الفرع بالتسلسل الزمني. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
إذا بدأ المستخدم في المخطط الحالي بإعادة بناء الالتزام القديم المرتبط ببعض الفروع ، فعندئذٍ سيقوم werf بمسح الصورة باستخدام علامة Docker المقابلة مع النسخة المجمعة حديثًا من الصورة للالتزام القديم. عمليات النشر التي تستخدم هذه العلامة من الآن على الخطر أثناء إعادة تشغيل pod لسحب نسخة أخرى من الصورة ، ونتيجة لذلك سيفقد تطبيقنا الاتصال بنظام CI وسيكون غير متزامن.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
بالإضافة إلى ذلك ، مع الدفع المتتالي في فرع واحد مع فاصل زمني صغير بينهما ، قد يتم جمع الالتزام القديم في وقت لاحق عن أحدث: النسخة القديمة من الصورة ستمحو الفرع الجديد باستخدام علامة فرع Git. </font><font style="vertical-align: inherit;">يمكن حل هذه المشاكل عن طريق نظام CI / CD (على سبيل المثال ، في GitLab CI ، يتم إطلاق خط الأنابيب الأخير لسلسلة من الالتزامات). </font><font style="vertical-align: inherit;">ومع ذلك ، هذا غير مدعوم من قبل جميع الأنظمة ويجب أن تكون هناك طريقة أكثر موثوقية لمنع مثل هذه المشكلة الأساسية.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ما هو وضع العلامات المستندة إلى المحتوى؟</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لذا ، ما هو بالضبط وضع العلامات على المحتوى - وضع علامات على الصور حسب المحتوى. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لإنشاء علامات Docker ، لا يتم استخدام بدائل Git (فرع Git ، علامة Git ...) ، ولكن المجموع الاختباري المرتبط بما يلي:</font></font><br>
<br>
<ul>
<li> <i> </i>. -    .        ,      ;</li>
<li> <i>     Git</i>. ,    Git-      werf,    -.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يعمل ما يسمى </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التوقيع على مراحل الصورة</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مثل علامة معرف </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تتكون كل صورة من مجموعة من الخطوات: </font></font><code>from</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، </font></font><code>before-install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، </font></font><code>git-archive</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، </font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، </font></font><code>imports-after-install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، </font></font><code>before-setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، ، ... </font></font><code>git-latest-patch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إلخ. </font><font style="vertical-align: inherit;">كل مرحلة لها معرف ، يعكس محتواها - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مرحلة التوقيع </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(توقيع المرحلة)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يتم وضع علامة على الصورة النهائية ، التي تتكون من هذه المراحل ، بما يسمى توقيع مجموعة هذه المراحل - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">توقيع المراحل</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - والذي يتم تعميمه لجميع مراحل الصورة. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كل صورة من التكوين </font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">سيكون لها بشكل عام مثل هذا التوقيع الخاص بها ، وبالتالي علامة Docker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يحل توقيع المرحلة كل هذه المشاكل:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مقاومة لأعمال git الفارغة.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مقاومة عمليات git التي تغير الملفات التي ليست ذات صلة بالصورة.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> لا يؤدي إلى مشكلة في طحن الإصدار الحالي من الصورة عند إعادة تشغيل التجميعات لعمليات تنفيذ Git القديمة للفرع.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هذه هي استراتيجية وضع العلامات الموصى بها ويتم استخدامها افتراضيًا في werf لجميع أنظمة CI.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">كيفية تمكين واستخدام في werf</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ظهر الخيار المقابل للفريق </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>--tag-by-stages-signature=true|false</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في نظام CI ، يتم تعيين استراتيجية وضع العلامات بواسطة الأمر </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">سابقا ، تم تحديد معلمة لذلك </font></font><code>werf ci-env --tagging-strategy=tag-or-branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">الآن ، إذا حددت </font></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هذا الخيار أم لا ، فسيستخدم werf إستراتيجية وضع العلامات بشكل افتراضي </font></font><code>stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">سيقوم الأمر </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تلقائيًا بتعيين العلامات اللازمة للأمر </font></font><code>werf build-and-publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(أو </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ، وبالتالي ، لا يلزم تحديد خيارات إضافية لهذه الأوامر. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
على سبيل المثال ، الأمر:</font></font><br>
<br>
<pre><code class="plaintext hljs">werf publish --stages-storage :local --images-repo registry.hello.com/web/core/system --tag-by-stages-signature</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... يمكن أن تخلق الصور التالية:</font></font><br>
<br>
<ul>
<li> <code>registry.hello.com/web/core/system/backend:4ef339f84ca22247f01fb335bb19f46c4434014d8daa3d5d6f0e386d</code></li>
<li> <code>registry.hello.com/web/core/system/frontend:f44206457e0a4c8a54655543f749799d10a9fe945896dab1c16996c6</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
هنا </font></font><code>4ef339f84ca22247f01fb335bb19f46c4434014d8daa3d5d6f0e386d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">توقيع مراحل الصورة </font></font><code>backend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">، </font></font><code>f44206457e0a4c8a54655543f749799d10a9fe945896dab1c16996c6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">وهو توقيع مراحل الصورة </font></font><code>frontend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
عند استخدام وظائف خاصة </font></font><code>werf_container_image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">وفي </font></font><code>werf_container_env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">قوالب Helm ، لا يلزم تغيير أي شيء: ستقوم هذه الوظائف تلقائيًا بإنشاء أسماء الصور الصحيحة. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تكوين مثال في نظام CI:</font></font><br>
<br>
<pre><code class="plaintext hljs">type multiwerf &amp;&amp; source &lt;(multiwerf use 1.1 beta)<font></font>
type werf &amp;&amp; source &lt;(werf ci-env gitlab)<font></font>
werf build-and-publish|deploy</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يتوفر مزيد من معلومات التكوين في الوثائق:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">الدليل → نشر (نشر)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ؛</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العمل مع CI / CD → معلومات عامة → توقيع المراحل</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ؛</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">التكامل مع GitLab CI / CD → .gitlab-ci.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مجموع</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">خيار جديد </font></font><code>werf publish --tag-by-stages-signature=true|false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">القيمة الجديدة للخيار </font></font><code>werf ci-env --tagging-strategy=stages-signature|tag-or-branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(إذا لم يكن محددًا ، فسيكون افتراضيًا </font></font><code>stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إذا تم استخدام خيارات وضع العلامات لعمليات تنفيذ Git من قبل ( </font></font><code>WERF_TAG_GIT_COMMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">أو الخيار </font></font><code>werf publish --tag-git-commit COMMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ، فتأكد من التبديل إلى إستراتيجية وضع علامات </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">توقيع المراحل</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> من الأفضل أن تتحول المشاريع الجديدة على الفور إلى نظام وضع العلامات الجديد.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">عند الترجمة إلى werf 1.1 ، يُنصح بتحويل المشاريع القديمة إلى نظام وضع العلامات الجديد ، ولكن </font><font style="vertical-align: inherit;">لا تزال </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">العلامة أو الفرع</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> القديم </font><font style="vertical-align: inherit;">مدعومة.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يعمل وضع العلامات المستند إلى المحتوى على حل جميع المشكلات الموضحة في المقالة:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> استقرار اسم علامة عامل الميناء لتفريغ عمليات git.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> يؤدي استقرار اسم علامة Docker إلى Git إلى تغيير الملفات غير ذات الصلة بالصورة.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> لا يؤدي إلى مشكلة في طحن الإصدار الحالي من الصورة عند إعادة تشغيل التجميعات لالتزامات Git القديمة لفروع Git.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
استخدمه! </font><font style="vertical-align: inherit;">ولا تنس أن تسقط من خلال </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub الخاص</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> بنا </font><font style="vertical-align: inherit;">لإنشاء مشكلة أو العثور على مشكلة موجودة ، أو وضع علامة زائد ، أو إنشاء العلاقات العامة ، أو مجرد مشاهدة تطور المشروع.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ملاحظة</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
اقرأ أيضا في مدونتنا:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">إصدار Werf 1.1: تحسينات على الباني اليوم والخطط المستقبلية</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">تقديم مستقر لـ werf 1.0: ما علاقة GitOps به بالحالة والخطط</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werf هو أداتنا للـ CI / CD في Kubernetes (مراجعة وتقرير فيديو)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ؛</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> سلسلة من الملاحظات حول الابتكارات في WERF:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">دمج ثلاثي في ​​WERF: النشر في Kubernetes مع Helm" على المنشطات "</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ؛</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">استخدام werf لطرح مخططات هيلم المعقدة</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ؛</font></font></li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> monorepo  multirepo  werf     Docker Registry</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> Docker-  werf      Dockerfile</a>».</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar495098/index.html">تم تقاسم جائزة أبيل في الرياضيات من قبل اثنين من الرواد في مجالات الاحتمالات والديناميكيات</a></li>
<li><a href="../ar495102/index.html">العلاج الكامل للمراقبة</a></li>
<li><a href="../ar495106/index.html">روعة وفقر التصميم الموجه للنموذج وفقًا لمعايير الطيران DO-331</a></li>
<li><a href="../ar495108/index.html">كم يكلف توظيف وترقية وفصل موظف. حاسبة Ejchar Redmadrobot</a></li>
<li><a href="../ar495110/index.html">ماذا يحدث في ملكة البستوني لبوشكين وماذا تلعب؟</a></li>
<li><a href="../ar495114/index.html">العزلة الذاتية: ما مدى احتمالية الإصابة بالفيروس التاجي إذا ذهبت في نزهة على الأقدام</a></li>
<li><a href="../ar495116/index.html">كيفية إخفاء كل شيء من النانو إلى الماكرو: طور العلماء المبادئ العامة لـ "نظرية الخفاء"</a></li>
<li><a href="../ar495118/index.html">مشاكل استخدام العقيدة ODM في عمليات الشيطان</a></li>
<li><a href="../ar495120/index.html">حان الوقت لإعادة التفكير في أمان OpenBSD</a></li>
<li><a href="../ar495124/index.html">كيفية سرقة جهاز Macbook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>