<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåé üï† üíí Optimizaci√≥n de cadenas en ClickHouse. Informe Yandex üëê ‚öæÔ∏è üöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El motor de base de datos anal√≠ticos ClickHouse procesa muchas l√≠neas diferentes, consumiendo recursos. Para acelerar el sistema, constantemente se ag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Optimizaci√≥n de cadenas en ClickHouse. Informe Yandex</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/492868/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El motor de base de datos anal√≠ticos ClickHouse procesa muchas l√≠neas diferentes, consumiendo recursos. </font><font style="vertical-align: inherit;">Para acelerar el sistema, constantemente se agregan nuevas optimizaciones. </font><font style="vertical-align: inherit;">El desarrollador de ClickHouse, Nikolay Kochetov, habla sobre el tipo de datos de cadena, incluido el nuevo tipo, LowCardinality, y explica c√≥mo acelerar el trabajo con cadenas.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rqf-ILRgBdY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Primero, veamos c√≥mo puedes almacenar cadenas. </font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/ch/9s/zs/ch9szsqfnkkvpmjjxoo0lmpacno.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenemos tipos de datos de cadena. </font><font style="vertical-align: inherit;">La cadena funciona bien por defecto, debe usarse casi siempre. </font><font style="vertical-align: inherit;">Tiene una peque√±a sobrecarga: 9 bytes por l√≠nea. </font><font style="vertical-align: inherit;">Si queremos que el tama√±o de la fila sea fijo y conocido de antemano, es mejor usar FixedString. </font><font style="vertical-align: inherit;">En √©l puede establecer la cantidad de bytes que necesitamos, es conveniente para datos como direcciones IP o funciones hash. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/lx/mo/rdlxmobm0ch5l88ab74sszn_fps.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, a veces algo se ralentiza. </font><font style="vertical-align: inherit;">Supongamos que est√° haciendo una consulta en una tabla. </font><font style="vertical-align: inherit;">ClickHouse lee una cantidad bastante grande de datos, por ejemplo, a una velocidad de 100 GB / s, con pocas l√≠neas procesadas. </font><font style="vertical-align: inherit;">Tenemos dos tablas que almacenan casi los mismos datos. </font><font style="vertical-align: inherit;">ClickHouse lee datos de la segunda tabla a una velocidad mayor, pero lee tres veces menos filas por segundo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nd/tz/6l/ndtz6l6-1pwaycgcoxhslfj2hcm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si observamos el tama√±o de los datos comprimidos, ser√° casi igual. De hecho, los mismos datos se escriben en las tablas, los primeros mil millones de n√∫meros, solo en la primera columna se escriben en forma de UInt64, y en la segunda columna en String. Debido a esto, la segunda consulta lee los datos del disco por m√°s tiempo y los descomprime. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i8/a2/vf/i8a2vfterxcfto5foypz6tig3zy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay otro ejemplo. Supongamos que hay un conjunto predeterminado de l√≠neas, est√° limitado a una constante de 1000 o 10,000 y casi nunca cambia. Para este caso, el tipo de datos Enum es adecuado para nosotros, en ClickHouse hay dos de ellos: Enum8 y Enum16. Debido al almacenamiento en Enum, procesamos r√°pidamente las solicitudes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ClickHouse tiene aceleraciones para GROUP BY, IN, DISTINCT y optimizaciones para algunas funciones, por ejemplo, para comparar con una cadena constante. Por supuesto, los n√∫meros en la cadena no se convierten, pero, por el contrario, la cadena constante se convierte en el valor Enum. Despu√©s de eso, todo se compara r√°pidamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero tambi√©n hay desventajas. Incluso si conocemos el conjunto exacto de l√≠neas, a veces es necesario reponerlo. Ha llegado una nueva l√≠nea, tenemos que hacer ALTER. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b0/ay/sz/b0ayszedkf252ktki2xizo2fxfm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ALTER para Enum en ClickHouse se implementa de manera √≥ptima. No sobrescribimos los datos en el disco, pero ALTER puede reducir la velocidad debido al hecho de que las estructuras de Enum se almacenan en el esquema de la tabla misma. Por lo tanto, debemos esperar las solicitudes de lectura de la tabla, por ejemplo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La pregunta es, ¬øse puede hacer mejor? Tal vez s√≠. Puede guardar la estructura Enum no en el esquema de la tabla, sino en ZooKeeper. Sin embargo, pueden ocurrir problemas de sincronizaci√≥n. Por ejemplo, una r√©plica recibi√≥ datos, otra no, y si tiene una Enum antigua, entonces algo se romper√°. (En ClickHouse, casi completamos las solicitudes ALTER sin bloqueo. Cuando las terminemos por completo, no tendremos que esperar las solicitudes de lectura). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yf/rc/vj/yfrcvjamitxxi5taditsaouvrl4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para no meterse con ALTER Enum, puede usar diccionarios externos de ClickHouse. Perm√≠tame recordarle que esta es una estructura de datos de valor clave dentro de ClickHouse, con la que puede obtener datos de fuentes externas, por ejemplo, de tablas MySQL.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el diccionario ClickHouse, almacenamos muchas l√≠neas diferentes y en la tabla sus identificadores en forma de n√∫meros. Si necesitamos obtener una cadena, llamamos a la funci√≥n dictGet y trabajamos con ella. Despu√©s de eso no debemos hacer ALTER. Para agregar algo a Enum, insertamos esto en la misma tabla MySQL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero hay otros problemas. En primer lugar, la sintaxis inc√≥moda. Si queremos obtener una cadena, debemos llamar a dictGet. En segundo lugar, la falta de algunas optimizaciones. La comparaci√≥n con la cadena constante para los diccionarios tampoco es r√°pida. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todav√≠a puede haber problemas con la actualizaci√≥n. Supongamos que solicitamos una l√≠nea en el diccionario de cach√©, pero no ingres√≥ en el cach√©. Luego tenemos que esperar hasta que los datos se carguen desde una fuente externa.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/em/4z/ii/em4ziibqzsukh-mvfu2o8dpncv0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un inconveniente com√∫n de ambos m√©todos es que almacenamos todas las claves en un solo lugar y las sincronizamos. </font><font style="vertical-align: inherit;">Entonces, ¬øpor qu√© no almacenar diccionarios localmente? </font><font style="vertical-align: inherit;">Sin sincronizaci√≥n, no hay problema. </font><font style="vertical-align: inherit;">Puede almacenar el diccionario localmente en una pieza en el disco. </font><font style="vertical-align: inherit;">Es decir, hicimos Insertar, grabamos un diccionario. </font><font style="vertical-align: inherit;">Si trabajamos con datos en la memoria, podemos escribir un diccionario en un bloque de datos, en una columna o en alg√∫n cach√© para acelerar los c√°lculos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codificaci√≥n de cadena de vocabulario </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces llegamos a la creaci√≥n de un nuevo tipo de datos en ClickHouse - LowCardinality. Este es un formato para almacenar datos: c√≥mo se escriben en el disco y c√≥mo se leen, c√≥mo se presentan en la memoria y el esquema de su procesamiento. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/se/5h/5e/se5h5er0yccult4fjfamsksw4rk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay dos columnas en la diapositiva. A la derecha, las cadenas se almacenan de forma est√°ndar en el tipo de cadena. Se puede ver que estos son algunos tipos de modelos de tel√©fonos m√≥viles. A la izquierda hay exactamente la misma columna, solo en el tipo LowCardinality. Consiste en un diccionario con muchas l√≠neas diferentes (l√≠neas de la columna de la derecha) y una lista de posiciones (n√∫meros de l√≠nea). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando estas dos estructuras, puede restaurar la columna original. Tambi√©n hay un √≠ndice inverso inverso: una tabla hash que te ayuda a encontrar la posici√≥n en el diccionario por l√≠nea. Es necesario para acelerar algunas consultas. Por ejemplo, si queremos comparar, busque una l√≠nea en nuestra columna o comb√≠nelos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LowCardinality es un tipo de datos param√©trico. Puede ser un n√∫mero, o algo que se almacena como un n√∫mero, o una cadena, o Nullable de ellos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/et/r4/h9/etr4h9fjutj5sf6ffxqjmf04xpu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La peculiaridad de LowCardinality es que se puede guardar para algunas funciones. Se muestra un ejemplo de solicitud en la diapositiva. En la primera l√≠nea, cre√© una columna del tipo LowCardinality de String, la llam√© S. A continuaci√≥n, le pregunt√© su nombre: ClickHouse dijo que era LowCardinality de String. Todo bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La tercera l√≠nea es casi la misma, solo que llamamos la funci√≥n de longitud. En ClickHouse, la funci√≥n de longitud devuelve el tipo de datos UInt64. Pero obtuvimos LowCardinality de UInt64. ¬øCu√°l es el punto de?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6h/hs/0x/6hhs0xgy2-hnsc8tputwp8ukqqu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los nombres de los tel√©fonos m√≥viles se almacenaron en el diccionario, aplicamos la funci√≥n de longitud. Ahora tenemos un diccionario similar, que consta solo de n√∫meros, estas son las longitudes de las cadenas. La columna con las posiciones no ha cambiado. Como resultado, procesamos menos datos, guardados en el tiempo de solicitud. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede haber otras optimizaciones, como agregar un cach√© simple. Al calcular el valor de una funci√≥n, puede recordarla y hacerla igual, no vuelva a calcular.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La optimizaci√≥n tambi√©n se puede hacer GROUP BY, porque nuestra columna con el diccionario ya est√° parcialmente agregada: puede calcular r√°pidamente el valor de las funciones hash y encontrar aproximadamente el dep√≥sito donde colocar la siguiente l√≠nea. Tambi√©n puede especializar algunas funciones agregadas, por ejemplo, uniq, porque solo puede enviarle un diccionario y dejar las posiciones intactas, de esta manera todo funcionar√° m√°s r√°pido. Las dos primeras optimizaciones ya las hemos agregado a ClickHouse.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kc/6u/v4/kc6uv48b2vbsmki20ckwvvbc990.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, ¬øqu√© sucede si creamos una columna con nuestro tipo de datos e insertamos muchas filas diferentes malas? ¬øEst√° llena nuestra memoria? No, hay dos configuraciones especiales para esto en ClickHouse. El primero es low_cardinality_max_dictionary_size. Este es el tama√±o m√°ximo de un diccionario que se puede escribir en el disco. La inserci√≥n se produce de la siguiente manera: cuando insertamos los datos, nos llega un flujo de l√≠neas, a partir de ellas formamos un gran diccionario general. Si el diccionario se hace m√°s grande que el valor de configuraci√≥n, escribimos el diccionario actual en el disco, y el resto de las l√≠neas en alg√∫n lugar del lado, al lado de los √≠ndices. Como resultado, nunca volveremos a contar un diccionario grande y no tendremos problemas de memoria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda configuraci√≥n se llama low_cardinality_use_single_dictionary_for_part. Imagine que en el esquema anterior, cuando insertamos los datos, nuestro diccionario estaba lleno y lo escribimos en el disco. Surge la pregunta, ¬øpor qu√© no ahora formar otro exactamente el mismo diccionario? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se desborde, lo volveremos a escribir en el disco y comenzaremos a formar un tercero. Esta configuraci√≥n simplemente deshabilita esta funci√≥n de manera predeterminada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, muchos diccionarios pueden ser √∫tiles si queremos insertar alg√∫n conjunto de l√≠neas, pero insertamos accidentalmente "basura". Digamos que primero insertamos las l√≠neas malas, y luego insertamos las buenas. Entonces el diccionario se dividir√° en muchos diccionarios peque√±os. Algunos de ellos ser√°n con basura, pero el √∫ltimo ser√° con buenas l√≠neas. Y si leemos, digamos, solo la √∫ltima pastilla, entonces todo tambi√©n funcionar√° r√°pidamente. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/jx/jb/jcjxjbo7vmgmexmzxryscvj0lhu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de hablar sobre las ventajas de LowCardinality, dir√© de inmediato que es poco probable que logremos la reducci√≥n de datos en el disco (aunque esto puede suceder), porque ClickHouse comprime los datos. Hay una opci√≥n predeterminada: LZ4. Tambi√©n puedes hacer compresi√≥n usando ZSTD. Pero ambos algoritmos ya implementan la compresi√≥n del diccionario, por lo que nuestro diccionario externo ClickHouse no ayudar√° mucho.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para no ser infundado, tom√© algunos datos de la m√©trica - String, LowCardinality (String) y Enum - y los guard√© en diferentes tipos de datos. </font><font style="vertical-align: inherit;">Result√≥ tres columnas, donde se escriben mil millones de filas. </font><font style="vertical-align: inherit;">La primera columna, CodePage, tiene un total de 62 valores. </font><font style="vertical-align: inherit;">Y puedes ver que en LowCardinality (String), los exprimieron mejor. </font><font style="vertical-align: inherit;">Las cuerdas son un poco peores, pero esto probablemente se deba al hecho de que las cuerdas son cortas, almacenamos sus longitudes y ocupan mucho espacio y no se comprimen bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si toma PhoneModel, hay m√°s de 48 mil de ellos, y casi no hay diferencias entre String y LowCardinality (String). </font><font style="vertical-align: inherit;">Para la URL, tambi√©n guardamos solo 2 GB. Creo que no debe confiar en esto.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estimaci√≥n de la velocidad del trabajo.</font></font></h3> <br>
<img src="https://habrastorage.org/webt/3q/v7/ar/3qv7aronmenayqfhdjait6xo3tw.jpeg"><br>
<b><sup><sub><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enlace de la diapositiva</font></font></a></sub></sup></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ahora eval√∫emos la velocidad del trabajo. Para evaluarlo, utilic√© un conjunto de datos que describe los viajes en taxi en Nueva York. Est√°</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disponible</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en GitHub. Tiene un poco m√°s de mil millones de viajes. Muestra la ubicaci√≥n, las horas de inicio y finalizaci√≥n del viaje, el m√©todo de pago, el n√∫mero de pasajeros e incluso el tipo de taxi: verde, amarillo y Uber.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2o/9n/qb/2o9nqbsb7dodtnoimgnnl66lhlg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hice la primera solicitud bastante simple: pregunt√© d√≥nde se solicitan los taxis con mayor frecuencia. Para hacer esto, debe tomar la ubicaci√≥n desde donde orden√≥, hacer GROUP BY y calcular la funci√≥n de conteo. Aqu√≠ ClickHouse da algo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/te/uy/kz/teuykz6_ucr7tuklbfsnobntncc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para medir la velocidad del procesamiento de consultas, cre√© tres tablas con los mismos datos, pero utilic√© tres tipos de datos diferentes para nuestra ubicaci√≥n de inicio: String, LowCardinality y Enum. LowCardinality y Enum son cinco veces m√°s r√°pidos que String. Enum es m√°s r√°pido porque funciona con n√∫meros. Baja cardinalidad: porque se implementa la optimizaci√≥n GROUP BY. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pl/mx/qr/plmxqrgggpwl4xp2quqggej847k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para complicar la solicitud, pregunte d√≥nde se encuentra el parque m√°s popular de Nueva York. Nuevamente, mediremos esto por el lugar donde se ordena el taxi con mayor frecuencia, pero al mismo tiempo filtraremos solo aquellos lugares donde la palabra "estacionamiento" est√© disponible. Tambi√©n agregue una funci√≥n similar.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0u/iq/bz/0uiqbzwkh280_wuzn8bccqg2lhi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Miramos la hora, vemos que Enum de repente comenz√≥ a disminuir. Y funciona incluso m√°s lento que el tipo de datos de cadena est√°ndar. Esto se debe a que la funci√≥n like no est√° optimizada para Enum. Tenemos que convertir nuestras l√≠neas de Enum a l√≠neas regulares; trabajamos m√°s. LowCardinality (String) tampoco est√° optimizado de forma predeterminada, pero al igual que funciona all√≠ en el diccionario, por lo que la consulta es m√°s r√°pida en comparaci√≥n con String. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un problema m√°s global con Enum. Si queremos optimizarlo, debemos hacerlo en todos los lugares del c√≥digo. Supongamos que escribimos una nueva funci√≥n: definitivamente debe obtener optimizaciones para Enum. Y en LowCardinality, todo est√° optimizado por defecto.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_j/oc/eq/_joceq5ioy66p6gjatm1l5f2rqy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos la √∫ltima solicitud, m√°s artificial. </font><font style="vertical-align: inherit;">Simplemente calcularemos la funci√≥n hash desde nuestra ubicaci√≥n. </font><font style="vertical-align: inherit;">La funci√≥n hash es una solicitud bastante lenta, lleva mucho tiempo, por lo que todo se ralentizar√° tres veces. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dn/06/x9/dn06x9ujvdxgdpmjcus8qzlccbg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LowCardinality es a√∫n m√°s r√°pido, aunque no hay filtrado. </font><font style="vertical-align: inherit;">Esto se debe al hecho de que nuestras funciones solo funcionan en el diccionario. </font><font style="vertical-align: inherit;">La funci√≥n de c√°lculo hash tiene un argumento: puede procesar menos datos y tambi√©n puede devolver LowCardinality. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/63/yt/qz/63ytqzwuufiatce0y8wdy4whn5s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestro plan global es lograr una velocidad no inferior a la de String en cualquier caso, y ahorrar aceleraci√≥n. </font><font style="vertical-align: inherit;">Y tal vez alg√∫n d√≠a reemplazaremos String con LowCardinality, actualizar√° ClickHouse y todo funcionar√° un poco m√°s r√°pido.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es492850/index.html">No todos quieren cambiar al trabajo remoto</a></li>
<li><a href="../es492856/index.html">Covid19, su sociedad y usted, en t√©rminos de ciencia de datos. Art√≠culo traducido por Jeremy Howard y Rachel Thomas (fast.ai)</a></li>
<li><a href="../es492862/index.html">15 mejores consejos de ajuste de rendimiento de Oracle APEX para desarrolladores</a></li>
<li><a href="../es492864/index.html">¬øPuedo hackear un barco?</a></li>
<li><a href="../es492866/index.html">El libro "Aprendizaje autom√°tico sin palabras"</a></li>
<li><a href="../es492872/index.html">C√≥mo organizar el acceso remoto y no sufrir hackers</a></li>
<li><a href="../es492874/index.html">Optimizaci√≥n de renderizado para dispositivos m√≥viles</a></li>
<li><a href="../es492878/index.html">Zapatillas geek: buscando resultados positivos en cierres temporales de oficinas</a></li>
<li><a href="../es492880/index.html">¬øQu√© debemos construir una casa inteligente?</a></li>
<li><a href="../es492884/index.html">Recibir mensajes de transmisiones de youtube + autorizaci√≥n de google en PHP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>