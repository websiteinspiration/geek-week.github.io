<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚌 ↪️ 👃🏼 フリーランサーチームがフルスタックのJavaScriptアプリケーションを作成する方法のストーリー 👦🏾 🍻 🐜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="資料の作成者は、その翻訳を今日公開していますが、彼が働いていたGitHubリポジトリと他のいくつかのフリーランサーが、さまざまな理由で3日間で約8,200の星を受け取ったと言っています。このリポジトリはHackerNewsとGitHub Trendingで1位になり、20,000人のRedditユー...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>フリーランサーチームがフルスタックのJavaScriptアプリケーションを作成する方法のストーリー</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/456340/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資料の作成者は、その翻訳を今日公開して</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いますが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、彼が働い</font><font style="vertical-align: inherit;">ていた</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">GitHubリポジトリ</font></a><font style="vertical-align: inherit;">と他のいくつかのフリーランサーが、さまざまな理由で3日間で約8,200の星を受け取ったと</font><font style="vertical-align: inherit;">言ってい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このリポジトリはHackerNewsとGitHub Trendingで1位になり、20,000人のRedditユーザーが投票しました。</font><font style="vertical-align: inherit;">
このリポジトリは、この記事で取り上げたフルスタックアプリケーションを開発するための方法論を反映しています。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/o9/9m/iu/o99miuqh4mzbstufrnaebmv5cxg.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックグラウンド</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はかなり長い間この資料を書こうとしていた。</font><font style="vertical-align: inherit;">私たちのリポジトリが非常に人気があるとき、私はこれより良い瞬間を見つけることができないと思います。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ce/194/534/9ce194534d51b90329a9698ba8835d09.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub Trendingで1位</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フリーランサーの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チームで働いてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">私たちのプロジェクトでは、React / React Native、NodeJS、GraphQLを使用しています。</font><font style="vertical-align: inherit;">この資料は、アプリケーションの開発方法について学びたい人を対象としています。</font><font style="vertical-align: inherit;">また、将来私たちのチームに参加する人にも役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、プロジェクトを開発するときに使用する基本原則について説明します。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シンプルなほど良い</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「シンプルなほど良い」というのは、言うより簡単です。ほとんどの開発者は、シンプルさがソフトウェア開発における重要な原則であることを認識しています。しかし、この原則に従うのは必ずしも容易ではありません。コードが単純な場合は、プロジェクトのサポートが容易になり、このプロジェクトでのチーム作業が簡素化されます。さらに、この原則を順守することで、たとえば6か月前に作成されたコードを操作するのに役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この原則に関して私が遭遇したエラーは次のとおりです。</font></font><br>
<br>
<ul>
<li>     DRY.      —   .     2  ,  -    .      . , ,  . DRY —     ,            .         —    «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">AHA Programming</a>»  .</li>
<li>    .      —  <code>reduce</code>  <code>map</code>  <code>filter</code>. ,   <code>reduce</code>    <code>map</code>.  , ,     ,   ,        ,  ,  « » —  .      <code>reduce</code>.              <code>map</code>  <code>filter</code>,    <code>reduce</code>,  ,     .    <code>reduce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値のセットは2つではなく1回表示する必要があります。</font><font style="vertical-align: inherit;">私たちの前に、生産性とシンプルさについての議論があります。</font><font style="vertical-align: inherit;">ほとんどの場合、私は単純さを好み、時期尚早のコード最適化を避けるように努めます。つまり、</font><font style="vertical-align: inherit;">代わりに</font><font style="vertical-align: inherit;">ペア</font></font><code>map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font><font style="vertical-align: inherit;">を選択します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それは建設ことが判明した場合と</font><font style="vertical-align: inherit;">しては、</font><font style="vertical-align: inherit;">システムのボトルネックになった、それはにコードを翻訳ます</font><font style="vertical-align: inherit;">。</font></font><code>filter</code><font style="vertical-align: inherit;"></font><code>reduce</code><font style="vertical-align: inherit;"></font><code>map</code><font style="vertical-align: inherit;"></font><code>filter</code><font style="vertical-align: inherit;"></font><code>reduce</code><font style="vertical-align: inherit;"></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下で説明するアイデアの多くは、コードベースをできるだけ単純にし、この状態を維持することを目的としています。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">類似のエンティティを互いに近づける</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この原則、「コロケーション原則」は、アプリケーションの多くの部分に適用されます。</font><font style="vertical-align: inherit;">これは、クライアントとサーバーのコードが格納されているフォルダーの構造です。これは、1つのリポジトリー内のプロジェクトコードのストレージです。これは、特定のファイル内のコードに関する意思決定です。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍リポジトリ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クライアントとサーバーのコードを同じリポジトリに保存することをお勧めします。</font><font style="vertical-align: inherit;">それは簡単です。</font><font style="vertical-align: inherit;">複雑にする必要がないものを複雑にしないでください。</font><font style="vertical-align: inherit;">このアプローチでは、プロジェクトで調整されたチーム作業を編成すると便利です。</font><font style="vertical-align: inherit;">さまざまなリポジトリを使用して資料を保存するプロジェクトに取り組みました。</font><font style="vertical-align: inherit;">これは災害ではありませんが、単一リポジトリを使用すると、作業がはるかに簡単になります。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">applicationアプリケーションのクライアント部分のプロジェクト構造</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フルスタックのアプリケーションを作成しています。つまり、クライアントコードとサーバーコードの両方です。典型的なクライアントプロジェクトのフォルダー構造には、コンポーネント、コンテナー、アクション、レデューサー、およびルートの個別のディレクトリが含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクションとリデューサーは、Reduxを使用するプロジェクトに存在します。私はこのライブラリなしでやろうと努力しています。同じ構造を使った高品質なプロジェクトがあると思います。一部のプロジェクトには、コンポーネントとコンテナ用に別々のフォルダがあります。コンポーネントフォルダには、</font></font><code>BlogPost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や</font><font style="vertical-align: inherit;">などのエンティティのコードを含むファイルなどを保存できます</font></font><code>Profile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。コンテナーフォルダーには、コンテナーコードを格納するファイルが</font></font><code>BlogPostContainer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり、</font></font><code>ProfileContainer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。コンテナーはサーバーからデータを受け取り、それを「愚かな」子コンポーネントに渡します。その子コンポーネントのタスクは、このデータを画面に表示することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは作業構造です。それは少なくとも均質であり、これは非常に重要です。これにより、プロジェクトの作業に参加した開発者は、その中で何が起こっているのか、および個々のパーツがどのような役割を果たしているのかをすぐに理解できます。このアプローチの不利な点は、私が最近それを使用しないようにしようとしていることです。これにより、プログラマーは常にコードベース内を移動する必要があります。たとえば、エンティティ</font></font><code>ProfileContainer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>BlogPostContainer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共通点はありませんが、それらのファイルは互いに隣接しており、同時に実際に使用されているファイルから離れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しばらくの間、コンテンツの共有が予定されているファイルを同じフォルダに配置するよう努めてきました。プロジェクトの構造化に対するこのアプローチは、機能に基づいたファイルのグループ化に基づいています。このアプローチのおかげで、たとえば、親コンポーネントとその「愚かな」子コンポーネントを同じフォルダーに配置すると、人生を大幅に簡略化できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、フォルダー</font></font><code>routes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>screens</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびフォルダー</font><font style="vertical-align: inherit;">を使用</font><font style="vertical-align: inherit;">します</font></font><code>components</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。コンポーネントフォルダーは通常、</font></font><code>Button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font><font style="vertical-align: inherit;">などのアイテムのコードを格納します</font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。このコードは、アプリケーションの任意のページで使用できます。ルート用のフォルダにある各フォルダは、アプリケーションの個別のページです。この場合、このルートに関連するコンポーネントコードとアプリケーションロジックコードを含むファイルは、同じフォルダー内にあります。そして、いくつかのページで使用されているコンポーネントのコードは、フォルダーに入ります</font></font><code>components</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルートフォルダー内に、ページのさまざまな部分の形成を担当するコードがグループ化された追加のフォルダーを作成できます。これは、ルートが大量のコードで表されている場合に意味があります。ただし、ここでは、ネストのレベルが非常に高いフォルダから構造を作成する価値がないことを読者に警告します。これはプロジェクトの動きを複雑にします。深くネストされたフォルダ構造は、プロジェクトが複雑になりすぎている兆候の1つです。検索コマンドなどの専用ツールを使用すると、プログラマーがプロジェクトコードを操作したり、必要なものを見つけたりするのに便利なツールが得られます。ただし、プロジェクトのファイル構造もプロジェクトのユーザビリティに影響します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトコードを構造化すると、ルートではなく、これらのファイルによって実装されるプロジェクト機能に基づいてファイルをグループ化できます。私の場合、このアプローチは、1ページに多くの機能を実装する単一ページのプロジェクトで完全に表示されます。ただし、ルートごとにプロジェクト資料をグループ化する方が簡単であることに注意してください。このアプローチでは、隣接するエンティティを決定したり、何かを検索したりするために、特別な精神的な取り組みは必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードをグループ化する方法をさらに進めれば、コンテナーとコンポーネントのコードを同じファイルに配置することが適切だと判断できます。</font><font style="vertical-align: inherit;">そして、さらに先へ進むことができます-2つのコンポーネントのコードを1つのファイルに入れます。</font><font style="vertical-align: inherit;">私はあなたが今そのようなことを勧めることがただの冒とくであると今考えているかもしれません。</font><font style="vertical-align: inherit;">しかし、実際には、すべてがそれほど悪くはありません。</font><font style="vertical-align: inherit;">実際、このアプローチは完全に正当化されています。</font><font style="vertical-align: inherit;">また、Reactフックまたは生成されたコード（あるいはその両方）を使用している場合は、このアプローチをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、コードをファイルに分解する方法の問題は、主に重要ではありません。</font><font style="vertical-align: inherit;">本当の問題は、なぜコンポーネントを賢くて愚かなものに分割する必要があるのか​​ということです。</font><font style="vertical-align: inherit;">この分離の利点は何ですか？</font><font style="vertical-align: inherit;">この質問にはいくつかの回答があります。</font></font><br>
<br>
<ol>
<li>,   ,  .</li>
<li>        Storybook.</li>
<li>«»       «»  ( ).</li>
<li>«»       ( —   React  React Native).</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらはすべて、コンポーネントを「賢い」と「愚かな」に分けることを支持する実際の議論ですが、すべての状況に適用できるわけではありません。たとえば、プロジェクトを作成するときに</font><font style="vertical-align: inherit;">、フック付き</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apolloクライアント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用することがよくあり</font><font style="vertical-align: inherit;">ます。このようなプロジェクトをテストするには、Apollo応答モックまたはフックモックを作成できます。ストーリーブックについても同様です。 「スマート」コンポーネントと「バカ」コンポーネントの混合と共有について話すと、実際には、これに実際に会ったことはありません。クロスプラットフォームでのコードの使用に関して、私が同じようなことをしようとするプロジェクトが1つありました。 Lernaの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単一リポジトリである</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と想定されていました</font><font style="vertical-align: inherit;">。現在では、このアプローチの代わりに、React Native Webを選択できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、コンポーネントを「スマート」と「バカ」に分離することには、ある意味があると言えます。</font><font style="vertical-align: inherit;">これは知っておく価値のある重要な概念です。</font><font style="vertical-align: inherit;">しかし、多くの場合、特に最近のReactフックの外観を考慮すれば、それほど心配する必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「スマート」コンポーネントと「バカ」コンポーネントの機能を1つのエンティティに組み合わせる利点は、開発がスピードアップし、コードの構造が簡素化されることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、そのようなニーズが発生した場合、特定のコンポーネントは常に「スマート」と「バカ」の2つの別個のコンポーネントに分割できます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">様式</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">スタイル設定に</font></a><font style="vertical-align: inherit;">は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感情</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタイル付きコンポーネント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">スタイルを個別のファイルに分割するという誘惑は常にあります。</font><font style="vertical-align: inherit;">一部の開発者がこれを行うのを見てきました。</font><font style="vertical-align: inherit;">しかし、両方の方法を試した後、最終的にスタイルを別のファイルに移動する理由が見つかりませんでした。</font><font style="vertical-align: inherit;">ここで説明している他の多くの場合と同様に、開発者は、関連するスタイルとコンポーネントを1つのファイルに結合することで、作業を簡単にすることができます。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">applicationアプリケーションのサーバー部分のプロジェクト構造</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のすべては、アプリケーションのサーバー側コードの構造化に関して当てはまります。</font><font style="vertical-align: inherit;">私が個人的に避けようとする典型的な構造は、次のようになり</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">src<font></font>
 │ app.js #    <font></font>
 └───api #   Express     <font></font>
 └───config #     <font></font>
 └───jobs #    agenda.js<font></font>
 └───loaders #    <font></font>
 └───models #   <font></font>
 └───services # -<font></font>
 └───subscribers #     <font></font>
 └───types #    (d.ts)  Typescript</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、プロジェクトではGraphQLを使用します。</font><font style="vertical-align: inherit;">したがって、モデル、サービス、および認識機能を格納するファイルを使用します。</font><font style="vertical-align: inherit;">それらをプロジェクトの別の場所に分散させるのではなく、1つのフォルダーに集めます。</font><font style="vertical-align: inherit;">ほとんどの場合、これらのファイルは共有され、同じフォルダに保存されていると、ファイルを操作しやすくなります。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ定義を何度も上書きしないでください</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトでは、データ型に関連するさまざまなソリューションを使用しています。これらは、TypeScript、GraphQL、データベーススキーマ、および場合によってはMobXです。その結果、同じエンティティのタイプが3〜4回記述されることが判明する場合があります。このようなことは避けてください。型の説明を自動的に生成するツールを使用するよう努めるべきです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーでは、この目的のためにTypeORM / TypegooseとTypeGraphQLの組み合わせを使用できます。これは、使用されるすべてのタイプを説明するのに十分です。 TypeORM / Typegooseを使用すると、データベーススキーマと対応するTypeScriptタイプを記述できます。 TypeGraphQLは、GraphQLおよびTypeScriptのタイプの作成に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TypeORM（MongoDB）とTypeGraphQLのタイプを1つのファイルで判別する例を次に示します。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Field, ObjectType, ID } <span class="hljs-keyword">from</span> <span class="hljs-string">'type-graphql'</span>
<span class="hljs-keyword">import</span> {<font></font>
 &nbsp;Entity,<font></font>
 &nbsp;ObjectIdColumn,<font></font>
 &nbsp;ObjectID,<font></font>
 &nbsp;Column,<font></font>
 &nbsp;CreateDateColumn,<font></font>
 &nbsp;UpdateDateColumn,<font></font>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'typeorm'</span><font></font>
<font></font>
@ObjectType()<font></font>
@Entity()<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Policy</span> </span>{<font></font>
 &nbsp;@Field(<span class="hljs-function"><span class="hljs-params">type</span> =&gt;</span> ID)<font></font>
 &nbsp;@ObjectIdColumn()<font></font>
 &nbsp;<span class="hljs-attr">_id</span>: ObjectID<font></font>
<font></font>
 &nbsp;@Field()<font></font>
 &nbsp;@CreateDateColumn({ <span class="hljs-attr">type</span>: <span class="hljs-string">'timestamp'</span> })
 &nbsp;<span class="hljs-attr">createdAt</span>: <span class="hljs-built_in">Date</span><font></font>
<font></font>
 &nbsp;@Field({ <span class="hljs-attr">nullable</span>: <span class="hljs-literal">true</span> })<font></font>
 &nbsp;@UpdateDateColumn({ <span class="hljs-attr">type</span>: <span class="hljs-string">'timestamp'</span>, <span class="hljs-attr">nullable</span>: <span class="hljs-literal">true</span> })<font></font>
 &nbsp;updatedAt?: <span class="hljs-built_in">Date</span><font></font>
<font></font>
 &nbsp;@Field()<font></font>
 &nbsp;@Column()<font></font>
 &nbsp;<span class="hljs-attr">name</span>: string<font></font>
<font></font>
 &nbsp;@Field()<font></font>
 &nbsp;@Column()<font></font>
 &nbsp;<span class="hljs-attr">version</span>: number<font></font>
}</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraphQLコードジェネレーター</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、さまざまなタイプを生成することもできます。このツールを使用して、クライアントにTypeScriptタイプを作成し、サーバーにアクセスするReactフックも作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MobXを使用してアプリケーションの状態を制御する場合、数行のコードを使用すると、自動的に生成されたTSタイプを取得できます。 GraphQLも使用する場合</font><font style="vertical-align: inherit;">は、GQLスキームから状態ツリーを生成する</font><font style="vertical-align: inherit;">新しいパッケージ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MST-GQLを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのツールを一緒に使用すると、大量のコードを書き直す必要がなくなり、一般的な間違いを回避するのに役立ちます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Prisma</font></a><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Hasura</font></a><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">AWS AppSync</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
などの他のソリューション</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重複する型宣言を回避することもできます。</font><font style="vertical-align: inherit;">もちろん、そのようなツールの使用には長所と短所があります。</font><font style="vertical-align: inherit;">私たちが作成するプロジェクトでは、組織の独自のサーバーにコードを展開する必要があるため、このようなツールが常に使用されるわけではありません。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能な限り、自動コード生成の手段に頼る</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のツールを使用せずに作成したコードを自動生成してコードを見ると、プログラマーは常に同じことを書かなければならないことがわかります。これに関して私ができる主なアドバイスは、頻繁に使用するすべてのもののスニペットを作成する必要があるということです。コマンドを頻繁に入力する場合</font></font><code>console.log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-などのスニペットを作成</font></font><code>cl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code>console.log()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これは自動的にになり</font><font style="vertical-align: inherit;">ます。これを行わず、コードのデバッグを手伝ってくれるように頼むと、私はとても気分を害します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スニペット付きのパッケージは多数ありますが、独自のスニペットを作成するのは簡単です。たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スニペットジェネレーター</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが、私のお気に入りのスニペットの一部をVSコードに追加できるようにするコードです。</font></font><br>
<br>
<pre><code class="javascript hljs">{
 &nbsp;<span class="hljs-string">"Export default"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"scope"</span>: <span class="hljs-string">"javascript,typescript,javascriptreact,typescriptreact"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"eid"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"export { default } from './${TM_DIRECTORY/.*[\\/](.*)$$/$1/}'"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"$2"</span><font></font>
 &nbsp;&nbsp;&nbsp;],<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"Import and export default in a single line"</span><font></font>
 &nbsp;},<font></font>
 &nbsp;<span class="hljs-string">"Filename"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"fn"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [<span class="hljs-string">"${TM_FILENAME_BASE}"</span>],
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"Print filename"</span><font></font>
 &nbsp;},<font></font>
<font></font>
 &nbsp;<span class="hljs-string">"Import emotion styled"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"imes"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [<span class="hljs-string">"import styled from '@emotion/styled'"</span>],
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"Import Emotion js as styled"</span><font></font>
 &nbsp;},<font></font>
 &nbsp;<span class="hljs-string">"Import emotion css only"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"imec"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [<span class="hljs-string">"import { css } from '@emotion/styled'"</span>],
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"Import Emotion css only"</span><font></font>
 &nbsp;},<font></font>
 &nbsp;<span class="hljs-string">"Import emotion styled and css only"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"imesc"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [<span class="hljs-string">"import styled, { css } from ''@emotion/styled'"</span>],
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"Import Emotion js and css"</span><font></font>
 &nbsp;},<font></font>
 &nbsp;<span class="hljs-string">"Styled component"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"sc"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [<span class="hljs-string">"const ${1} = styled.${2}`"</span>, <span class="hljs-string">" &nbsp;${3}"</span>, <span class="hljs-string">"`"</span>],
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"Import Emotion js and css"</span><font></font>
 &nbsp;},<font></font>
<font></font>
 &nbsp;<span class="hljs-string">"TypeScript React Function Component"</span>: {
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"prefix"</span>: <span class="hljs-string">"rfc"</span>,
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"body"</span>: [
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"import React from 'react'"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">""</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"interface ${1:ComponentName}Props {"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"}"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">""</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"const ${1:ComponentName}: React.FC&lt;${1:ComponentName}Props&gt; = props =&gt; {"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"  return ("</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"    &lt;div&gt;"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"      ${1:ComponentName}"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"    &lt;/div&gt;"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"  )"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"}"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">""</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">"export default ${1:ComponentName}"</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">""</span><font></font>
 &nbsp;&nbsp;&nbsp;],<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"description"</span>: <span class="hljs-string">"TypeScript React Function Component"</span><font></font>
 &nbsp;}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スニペットに加えて、コードジェネレーターは時間の節約に役立ちます。自分で作成できます。私はこれのために</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロップ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使うのが好き</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angularには独自のコードジェネレータが組み込まれています。コマンドラインツールを使用すると、4つのファイルで構成される新しいコンポーネントを作成できます。このファイルには、コンポーネントで見つかるすべてのものが表示されます。 Reactにそのような標準機能がないのは残念ですが、plopを使用して同様の何かを個別に作成できます。作成する新しい各コンポーネントを、コンポーネントコードを含むファイル、テストファイル、Storybookファイルを含むフォルダーの形式で提示する必要がある場合、ジェネレーターは1つのコマンドでこれらすべてを作成するのに役立ちます。これは多くの場合、開発者の生活を非常に容易にします。たとえば、サーバーに新しい機能を追加するときは、コマンドラインで1つのコマンドを実行するだけです。その後、エンティティ、サービス、認識機能のファイルが自動的に作成され、必要な基本構造がすべて含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードジェネレーターのもう1つの強みは、チーム開発の均一性に貢献することです。</font><font style="vertical-align: inherit;">誰もが同じプロップジェネレーターを使用している場合、コードは誰にとっても非常に均一になります。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動コードフォーマット</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードのフォーマットは簡単な作業ですが、残念ながら、常に正しく解決されるとは限りません。</font><font style="vertical-align: inherit;">コードを手動で配置したり、セミコロンを挿入したりして時間を無駄にしないでください。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prettier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用して</font><font style="vertical-align: inherit;">、コミット時にコードを自動的にフォーマットします。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、長年の試行錯誤を通じて、長年にわたって学んだいくつかのことについてお話しました。</font><font style="vertical-align: inherit;">プロジェクトのコードベースを構造化するには、多くのアプローチがあります。</font><font style="vertical-align: inherit;">しかし、その中には、唯一正しい人と言える人はいません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私があなたに伝えたかった最も重要なことは、プログラマーがプロジェクトを整理するシンプルさ、それらの均質性のために、扱いやすい理解可能な構造を使用するために努力する必要があるということです。</font><font style="vertical-align: inherit;">これにより、チーム開発プロジェクトが簡素化されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読者の皆様！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事で概説したフルスタックJavaScriptアプリケーションを開発するためのアイデアについてどう思いますか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/a09/9e4/5a8/a099e45a81c9dafd3a3673edd5ea415b.jpg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja456322/index.html">会議を最大限に活用する方法。最小の指示</a></li>
<li><a href="../ja456332/index.html">PHPダイジェストNo. 158（2019年6月3-17日）</a></li>
<li><a href="../ja456334/index.html">不死に値する：飽きさせないゲーム</a></li>
<li><a href="../ja456336/index.html">Reactアプリケーションの開発時にReduxを使用するための11のヒント</a></li>
<li><a href="../ja456338/index.html">13の有用なJavaScriptシングルライナー</a></li>
<li><a href="../ja456342/index.html">すべてを統治する1つの言語</a></li>
<li><a href="../ja456344/index.html">['1'、 '7'、 '11']。Map（parseInt）がJavaScriptで[1、NaN、3]を返すのはなぜですか？</a></li>
<li><a href="../ja456346/index.html">Web開発学習者向けのインタラクティブロードマップ</a></li>
<li><a href="../ja456348/index.html">AERODISKエンジン：壊滅的。パート1</a></li>
<li><a href="../ja456350/index.html">6月17日から23日までのモスクワでのデジタルイベント</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>