<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕰️ 👲🏾 👽 Apple TimeCapsule / AirPort Extreme. Acesso raiz e escape de uma região anexada ♣️ 🧘🏻 💷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Certamente muitos proprietários de dispositivos de rede da Apple que leram este artigo, como TimeCapsule ou Airport Extreme, mais cedo ou mais tarde s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Apple TimeCapsule / AirPort Extreme. Acesso raiz e escape de uma região anexada</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501404/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certamente muitos proprietários de dispositivos de rede da Apple que leram este artigo, como TimeCapsule ou Airport Extreme, mais cedo ou mais tarde se perguntaram por que os dispositivos comprados na Rússia não têm suporte para </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formação de feixe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e a largura máxima do canal é de 40 MHz? </font><font style="vertical-align: inherit;">E, como resultado, a velocidade máxima de recepção e transmissão de dados é de 600 Mbit / s (em vez dos 1300 Mbit / s declarados). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se alguém não soube ou esqueceu, os dispositivos ficam assim:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/ih/87/udih87ttd5pi2vramsduy2iw4dq.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Apple respondeu: “O AirPort Extreme foi projetado com base em requisitos técnicos preliminares para o padrão IEEE 802.11ac. O suporte aos recursos 802.11ac depende dos requisitos legais específicos do país; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> canais de </font><b><font style="vertical-align: inherit;">80 MHz e a tecnologia de formação de feixe não estão disponíveis na Federação Russa, Ucrânia, Kuwait, Bielorrússia, Marrocos, Azerbaijão, Cazaquistão e Egito</font></b><font style="vertical-align: inherit;"> . A taxa máxima de transferência de dados teóricos é de 600 Mbps; a velocidade real será menor. " </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, hoje vou lhe dizer como escapar da região sem alterar o próprio dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para isso, precisamos do python 2.7 (já instalado no mac OS X), do utilitário </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AirPyrt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e de 5 minutos de tempo livre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baixe e instale o AirPyrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Através de um terminal com privilégios de root:</font></font><br>
<br>
<pre><code class="bash hljs">python setup.py install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O AirPyrt Utility usa o ACP para se comunicar com os dispositivos Apple AirPort. </font><font style="vertical-align: inherit;">O mesmo protocolo pelo qual um iphone ou mac verá um dispositivo não configurado por meio do utilitário AirPort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, ative o ssh no nosso dispositivo:</font></font><br>
<br>
<pre><code class="bash hljs">python -m acp -t {ipv4-address} -p {password} --setprop dbug 0x3000<font></font>
python -m acp -t {ipv4-address} -p {password} --reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, podemos obter acesso root ao dispositivo via ssh e alterar absolutamente tudo nele. </font><font style="vertical-align: inherit;">A propósito, o roteador é baseado no NetBSD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conecte via ssh:</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@{ipv4-address}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, precisaremos substituir apenas duas coisas: código do país e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SKU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para substituir um país pelos EUA:</font></font><br>
<br>
<pre><code class="bash hljs">acp -q syRe=0x00000000<font></font>
acp static apple-sku=FCC</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de países e códigos (devem ser transferidos para o HEX):</font></font></b>
                        <div class="spoiler_text">«syRe.0» = «United States»;<br>
«syRe.1» = «Canada»;<br>
«syRe.2» = «Mexico»;<br>
«syRe.3» = «Colombia»;<br>
«syRe.4» = «Puerto Rico»;<br>
«syRe.5» = «Brazil»;<br>
«syRe.6» = «Chile»;<br>
«syRe.7» = «Japan»;<br>
«syRe.8» = «Austria»;<br>
«syRe.9» = «Belgium»;<br>
«syRe.10» = «Cyprus»;<br>
«syRe.11» = «Czech Republic»;<br>
«syRe.12» = «Denmark»;<br>
«syRe.13» = «Estonia»;<br>
«syRe.14» = «France»;<br>
«syRe.15» = «Finland»;<br>
«syRe.16» = «Germany»;<br>
«syRe.17» = «Greece»;<br>
«syRe.18» = «Hungary»;<br>
«syRe.19» = «Iceland»;<br>
«syRe.20» = «Italy»;<br>
«syRe.21» = «Ireland»;<br>
«syRe.22» = «Latvia»;<br>
«syRe.23» = «Liechtenstein»;<br>
«syRe.24» = «Lithuania»;<br>
«syRe.25» = «Luxembourg»;<br>
«syRe.26» = «Malta»;<br>
«syRe.27» = «Netherlands»;<br>
«syRe.28» = «Norway»;<br>
«syRe.29» = «Poland»;<br>
«syRe.30» = «Portugal»;<br>
«syRe.31» = «Slovak Republic»;<br>
«syRe.32» = «Slovenia»;<br>
«syRe.33» = «Spain»;<br>
«syRe.34» = «Sweden»;<br>
«syRe.35» = «Switzerland»;<br>
«syRe.36» = «United Kingdom»;<br>
«syRe.37» = «Australia»;<br>
«syRe.38» = «Hong Kong S.A.R., China»;<br>
«syRe.39» = «New Zealand»;<br>
«syRe.40» = «Singapore»;<br>
«syRe.41» = «Philippines»;<br>
«syRe.42» = «China»;<br>
«syRe.43» = «Malaysia»;<br>
«syRe.44» = «Taiwan»;<br>
«syRe.45» = «South Korea»;<br>
«syRe.46» = «Thailand»;<br>
«syRe.47» = «Argentina»;<br>
«syRe.48» = «Venezuela»;<br>
«syRe.49» = «Russia»;<br>
«syRe.50» = «United States»;<br>
«syRe.51» = «Canada»;<br>
«syRe.52» = «Bulgaria»;<br>
«syRe.53» = «Romania»;<br>
«syRe.54» = «India»;<br>
«syRe.55» = «Vietnam»;<br>
«syRe.56» = «Sri Lanka»;<br>
«syRe.57» = «Brunei»;<br>
«syRe.58» = «Pakistan»;<br>
«syRe.59» = «Nepal»;<br>
«syRe.60» = «Bangladesh»;<br>
«syRe.61» = «Peru»;<br>
«syRe.62» = «Afghanistan»;<br>
«syRe.63» = «Albania»;<br>
«syRe.64» = «Algeria»;<br>
«syRe.65» = «American Samoa»;<br>
«syRe.66» = «Andorra»;<br>
«syRe.67» = «Angola»;<br>
«syRe.68» = «Anguilla»;<br>
«syRe.69» = «Antarctica»;<br>
«syRe.70» = «Antigua And Barbuda»;<br>
«syRe.71» = «Armenia»;<br>
«syRe.72» = «Aruba»;<br>
«syRe.73» = «Azerbaijan»;<br>
«syRe.74» = «Bahamas»;<br>
«syRe.75» = «Bahrain»;<br>
«syRe.76» = «Barbados»;<br>
«syRe.77» = «Belarus»;<br>
«syRe.78» = «Belize»;<br>
«syRe.79» = «Benin»;<br>
«syRe.80» = «Bermuda»;<br>
«syRe.81» = «Bhutan»;<br>
«syRe.82» = «Bolivia»;<br>
«syRe.83» = «Bosnia Herzegovina»;<br>
«syRe.84» = «Botswana»;<br>
«syRe.85» = «Bouvet Island»;<br>
«syRe.86» = «British Indian Ocean Territory»;<br>
«syRe.87» = «Burkina Faso»;<br>
«syRe.88» = «Burundi»;<br>
«syRe.89» = «Cambodia»;<br>
«syRe.90» = «Cameroon»;<br>
«syRe.91» = «Cape Verde»;<br>
«syRe.92» = «Cayman Islands»;<br>
«syRe.93» = «Central African Republic»;<br>
«syRe.94» = «Chad»;<br>
«syRe.95» = «Christmas Island»;<br>
«syRe.96» = «Cocos Islands»;<br>
«syRe.97» = «Comoros»;<br>
«syRe.98» = «Congo»;<br>
«syRe.99» = «Cook Islands»;<br>
«syRe.100» = «Costa Rica»;<br>
«syRe.101» = «Ivory Coast»;<br>
«syRe.102» = «Croatia»;<br>
«syRe.103» = «Djibouti»;<br>
«syRe.104» = «Dominica»;<br>
«syRe.105» = «Dominican Republic»;<br>
«syRe.106» = «East Timor»;<br>
«syRe.107» = «Ecuador»;<br>
«syRe.108» = «Egypt»;<br>
«syRe.109» = «El Salvador»;<br>
«syRe.110» = «Equatorial Guinea»;<br>
«syRe.111» = «Eritrea»;<br>
«syRe.112» = «Ethiopia»;<br>
«syRe.113» = «Falkland Islands»; /* A.K.A. (Malvinas) */<br>
«syRe.114» = «Faeroe Islands»;<br>
«syRe.115» = «Fiji»;<br>
«syRe.116» = «French Guiana»;<br>
«syRe.117» = «French Polynesia»;<br>
«syRe.118» = «French Southern Territories»;<br>
«syRe.119» = «Gabon»;<br>
«syRe.120» = «Gambia»;<br>
«syRe.121» = «Georgia»;<br>
«syRe.122» = «Ghana»;<br>
«syRe.123» = «Gibraltar»;<br>
«syRe.124» = «Greenland»;<br>
«syRe.125» = «Grenada»;<br>
«syRe.126» = «Guadeloupe»;<br>
«syRe.127» = «Guam»;<br>
«syRe.128» = «Guatemala»;<br>
«syRe.129» = «Guinea»;<br>
«syRe.130» = «Guinea Bissau»;<br>
«syRe.131» = «Guyana»;<br>
«syRe.132» = «Haiti»;<br>
«syRe.133» = «Honduras»;<br>
«syRe.134» = «Indonesia»;<br>
«syRe.135» = «Iran»;<br>
«syRe.136» = «Iraq»;<br>
«syRe.137» = «Israel»;<br>
«syRe.138» = «Jamaica»;<br>
«syRe.139» = «Jordan»;<br>
«syRe.140» = «Kazakhstan»;<br>
«syRe.141» = «Kenya»;<br>
«syRe.142» = «North Korea»;<br>
«syRe.143» = «Kuwait»;<br>
«syRe.144» = «Lebanon»;<br>
«syRe.145» = «Libya»;<br>
«syRe.146» = «Macau»;<br>
«syRe.147» = «Macedonia»;<br>
«syRe.148» = «Monaco»;<br>
«syRe.149» = «Morocco»;<br>
«syRe.150» = «Nicaragua»;<br>
«syRe.151» = «Oman»;<br>
«syRe.152» = «Qatar»;<br>
«syRe.153» = «Saudi Arabia»;<br>
«syRe.154» = «South Africa»;<br>
«syRe.155» = «Syria»;<br>
«syRe.156» = «Trinidad And Tobago»;<br>
«syRe.157» = «Tunisia»;<br>
«syRe.158» = «Turkey»;<br>
«syRe.159» = «United Arab Emirates»;<br>
«syRe.160» = «Ukraine»;<br>
«syRe.161» = «Uruguay»;<br>
«syRe.162» = «Uzbekistan»;<br>
«syRe.163» = «Yemen»;<br>
«syRe.164» = «Zimbabwe»;<br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista de SKUs:</font></font></b>
                        <div class="spoiler_text">FCC<br>
JAPAN<br>
ETSI<br>
APAC<br>
ROW<br>
FCC-DFS<br>
KOREA<br>
RUSSIA<br>
SAM<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, desconecte do ssh e reinicie o dispositivo:</font></font><br>
<br>
<pre><code class="bash hljs">python -m acp -t {ipv4-address} -p {password} --reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para desativar o ssh:</font></font><br>
<br>
<pre><code class="bash hljs">python -m acp -t {ipv4-address} -p {password} --setprop dbug 0x0000<font></font>
python -m acp -t {ipv4-address} -p {password} --reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após a "realocação" para os EUA, temos: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dw/w_/4v/dww_4vcf3luwnv20mtqfd7iu8ga.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATUALIZAÇÃO:</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Conforme observado corretamente</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">smarty999</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, em algum firmware, para desativar o ssh, você precisa executar na sessão ssh</font></font><br>
<pre><code class="bash hljs">acp remove dbug<font></font>
reboot</code></pre></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt501388/index.html">O Agile é possível para toda a empresa?</a></li>
<li><a href="../pt501392/index.html">Fonte responsiva. Adaptar texto entre layout e valores mínimos</a></li>
<li><a href="../pt501394/index.html">Sobre a tradução de "teoria" / "teoricamente" sem teoria / teórica</a></li>
<li><a href="../pt501396/index.html">Entrevista com Sergey Zhuk - autor de livros e screencasts no ReactPHP</a></li>
<li><a href="../pt501398/index.html">Hacking clássico Sonic the Hedgehog para Sega</a></li>
<li><a href="../pt501406/index.html">LabVIEW NXG 5.0 - Básico e diagrama de blocos</a></li>
<li><a href="../pt501408/index.html">A equipe de desenvolvimento propõe mudar para UTF-8</a></li>
<li><a href="../pt501412/index.html">Rastreamento ocular móvel no PyTorch</a></li>
<li><a href="../pt501414/index.html">Configurando Debian, Nginx e Gunicorn para um projeto Django</a></li>
<li><a href="../pt501416/index.html">Um pouco sobre o WebRTC: o que usar e o caso da prática</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>