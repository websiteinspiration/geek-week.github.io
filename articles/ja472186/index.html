<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤´ğŸ¾ ğŸ§™ğŸ¾ ğŸ…ğŸ½ é–‹é–‰åŸç† ğŸ¤°ğŸ¿ ğŸ‘©ğŸ»â€âš–ï¸ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã‚“ã«ã¡ã¯ã€ãƒãƒ–ãƒ«ï¼ã“ã‚Œã¯ã€1996å¹´1æœˆã«å…¬é–‹ã•ã‚ŒãŸé–‹é–‰åŸç†ã® Robert Martinã«ã‚ˆã‚‹è¨˜äº‹ã®ç¿»è¨³ã§ã™ã€‚ã“ã®è¨˜äº‹ã¯ã€æ§ãˆã‚ã«è¨€ã£ã¦ã‚‚æœ€æ–°ã®ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€RuNetã§ã¯ã€ãƒœãƒ‰ãƒ«ãŠã˜ã•ã‚“ã®SOLIDã«é–¢ã™ã‚‹è¨˜äº‹ã¯åˆ‡ã‚Šæ¨ã¦ã‚‰ã‚ŒãŸå½¢ã§ã—ã‹å†è²©ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Œå…¨ãªç¿»è¨³ã¯ä¸å¿…è¦ã§ã¯ãª...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>é–‹é–‰åŸç†</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/472186/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚“ã«ã¡ã¯ã€ãƒãƒ–ãƒ«ï¼</font><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€</font><font style="vertical-align: inherit;">1996å¹´1æœˆã«å…¬é–‹ã•ã‚ŒãŸ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://web.archive.org/web/20060822033314/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é–‹é–‰åŸç†ã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Robert Martinã«ã‚ˆã‚‹è¨˜äº‹ã®ç¿»è¨³ã§ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã¯ã€æ§ãˆã‚ã«è¨€ã£ã¦ã‚‚æœ€æ–°ã®ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ã—ã‹ã—ã€RuNetã§ã¯ã€ãƒœãƒ‰ãƒ«ãŠã˜ã•ã‚“ã®SOLIDã«é–¢ã™ã‚‹è¨˜äº‹ã¯åˆ‡ã‚Šæ¨ã¦ã‚‰ã‚ŒãŸå½¢ã§ã—ã‹å†è²©ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€å®Œå…¨ãªç¿»è¨³ã¯ä¸å¿…è¦ã§ã¯ãªã„ã¨è€ƒãˆã¾ã—ãŸã€‚</font></font></p><br>
<p><img src="https://habrastorage.org/webt/yt/xn/-q/ytxn-qjuk7_t4wyyna-6nr4xvsc.png"></p><br>
<p>     O,    -,  ,  .       ,     :</p><br>
<ul>
<li>    Â«Â»  100%.</li>
<li>-  ()      ,   â€” ,  Â«Â».<a name="habracut"></a></li>
</ul><br>
<p>      <em> </em>  <em>The C++ Report</em>. ,    ,     C++        .    ,         .   -         .</p><br>
<p> -    . , Â« - (member variables)    (private)Â»,  Â«   Â»,  Â«     Â».     ?   ? <em></em>   ?      ,     , â€”  -.<br>
  : Â«      .        ,      Â».      ,               ?          1988 ,      -:</p><br>
<p><strong>  (, ,   ..)         .</strong></p><br>
<p>            ,       Â«Â» .</p><br>
<p>  , ,   .  -      .  ,    ,   <em> </em>.   ,         ,    ,   .</p><br>
<h1></h1><br>
<p>,   -,    :</p><br>
<ol>
<li><strong>  .</strong>  ,      .                     .</li>
<li><strong>  .</strong>     .       .</li>
</ol><br>
<p>,         .      â€”    . ,     ,       .         ?</p><br>
<h1>   â€” </h1><br>
<p> ++,   - ,    ,       .</p><br>
<p> â€”    ,         -.    .     ,       .          .</p><br>
<p>      ,     -.  , <code>Client</code>  <code>Server</code>,  .  ,   â€”   <code>Server</code> .  <code>Client</code>   <code>Server</code>.   ,    <code>Client</code>    ,      <code>Client</code>,       .</p><br>
<p><img src="https://habrastorage.org/webt/ee/0b/3d/ee0b3dy_mdhs48fzsk2cz9qm6tu.png" alt="ç”»åƒ"><br>
<em> </em></p><br>
<p>       ,    -.     <code>AbstractServer</code> â€”   ,  -  .  <code>Client</code>  .    <code>Client</code>    - <code>Server</code>.   ,    <code>Client</code>    ,       <code>AbstractServer</code>.  <code>Client</code>     .</p><br>
<p><img src="https://habrastorage.org/webt/k6/ea/y_/k6eay_lv4u4q7rsu7z37pimqtme.png" alt="ç”»åƒ"><br>
<em> </em></p><br>
<h1> <code>Shape</code></h1><br>
<p> ,         GUI.         .         ,              .</p><br>
<p> C,    ,    -,           1.             .   â€”  ,        .  <code>DrawAllShapes</code>        ,         (<code>DrawCircle</code> <code>DrawSquare</code>).</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 1</span>
<span class="hljs-comment">//  /   </span><font></font>
<font></font>
<span class="hljs-keyword">enum</span> ShapeType {circle, square}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Shape</span>
{</span><font></font>
    ShapeType itsType;<font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Circle</span>
{</span><font></font>
    ShapeType itsType;<font></font>
    <span class="hljs-keyword">double</span> itsRadius;<font></font>
    Point itsCenter;<font></font>
};<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Square</span>
{</span><font></font>
    ShapeType itsType;<font></font>
    <span class="hljs-keyword">double</span> itsSide;<font></font>
    Point itsTopLeft;<font></font>
};<font></font>
<span class="hljs-comment">//</span>
<span class="hljs-comment">//    </span>
<span class="hljs-comment">//</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawSquare</span><span class="hljs-params">(struct Square*)</span>
<span class="hljs-keyword">void</span> <span class="hljs-title">DrawCircle</span><span class="hljs-params">(struct Circle*)</span></span>;
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Shape</span> *<span class="hljs-title">ShapePointer</span>;</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawAllShapes</span><span class="hljs-params">(ShapePointer <span class="hljs-built_in">list</span>[], <span class="hljs-keyword">int</span> n)</span>
</span>{
    <span class="hljs-keyword">int</span> i;
    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span>; i&lt;n; i++)<font></font>
    {<font></font>
        <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Shape</span>* <span class="hljs-title">s</span> = <span class="hljs-title">list</span>[<span class="hljs-title">i</span>];</span>
        <span class="hljs-keyword">switch</span> (s-&gt;itsType)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> square:<font></font>
            DrawSquare((struct Square*)s);<font></font>
            <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> circle:<font></font>
            DrawCircle((struct Circle*)s);<font></font>
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br>
<p> <code>DrawAllShapes</code>    -,       Â«Â»    .            ,  ,      .          ,    .</p><br>
<p>,   â€”  .    <code>switch</code>-   <code>DrawAllShapes</code>                - .       â€”    ,    <code>switch</code>- (  <code>if/else</code>),        .  ,  ,   <code>switch</code>-   <code>if/else</code>     ,   <code>DrawAllShapes</code>.   ,     <code>if</code>       <code>case</code>- <code>switch</code>-   ,  Â«Â»    .       ,     ,   .</p><br>
<p>  2   ,     /,   -.    <code>Shape</code>.         <code>Draw</code>.  <code>Circle</code>  <code>Square</code>    <code>Shape</code>.</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 2</span>
<span class="hljs-comment">//  /  -</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>= <span class="hljs-number">0</span>;<font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> :</span> <span class="hljs-keyword">public</span> Shape<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;<font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> :</span> <span class="hljs-keyword">public</span> Shape<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;<font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawAllShapes</span><span class="hljs-params">(Set&lt;Shape*&gt;&amp; <span class="hljs-built_in">list</span>)</span>
</span>{
    <span class="hljs-keyword">for</span> (Iterator&lt;Shape*&gt;i(<span class="hljs-built_in">list</span>); i; i++)<font></font>
        (*i)-&gt;Draw();<font></font>
}</code></pre><br>
<p>:       <code>DrawAllShapes</code>   2,     ,  ,    ,      <code>Shape</code>.     <code>DrawAllShapes</code>.  <code>DrawAllShapes</code>   -.         .</p><br>
<p>    <code>Shape</code>     .            ,   ,   , â€”        .         ,  .</p><br>
<p> ,   -,     ,     ,      ,  ,     .</p><br>
<h1>  </h1><br>
<p>,         100% . ,     <code>DrawAllShapes</code>   2,   ,      ,   ?  <code>DrawAllShapes</code>      .    ,  Â«Â» ,   -  ,     .</p><br>
<p>      ,    .       ,     .    .        ,     .   ,   -     .</p><br>
<h2>   c  </h2><br>
<p>     <code>DrawAllShapes</code>     ? ,     . ,   <code>DrawAllShapes</code>  ,    Â« Â».   ,  , â€”         .</p><br>
<p>  , ,   ,  ,       .        <code>Shape</code>   <code>Precedes</code>,      <code>Shape</code>           <code>true</code>,    <code>Shape</code>,   ,        <code>Shape</code>,      .</p><br>
<p> C++         Â«&lt;Â».   3   <code>Shape</code>   .</p><br>
<p>,           <code>Shape</code>,    ,   .   4     C++.     <code>Set</code>, <code>OrderedSet</code>  <code>Iterator</code>   <code>Components</code>,     (Designing Object Oriented C++ Applications using the Booch Method, Robert C. Martin, Prentice Hall, 1995).</p><br>
<p>,      <code>Shape</code>      .         . ,     <code>Shape</code>    <code>Precedes</code>   .    ?      <code>Circle::Precedes</code>,     ?     5.</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 3</span>
<span class="hljs-comment">//  Shape    .</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Precedes</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Shape&amp;)</span> <span class="hljs-keyword">const</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> Shape&amp; s) {<span class="hljs-keyword">return</span> Precedes(s);}<font></font>
};</code></pre><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 4</span>
<span class="hljs-comment">// DrawAllShapes  </span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawAllShapes</span><span class="hljs-params">(Set&lt;Shape*&gt;&amp; <span class="hljs-built_in">list</span>)</span>
</span>{
    <span class="hljs-comment">//    OrderedSet  .</span>
    OrderedSet&lt;Shape*&gt; orderedList = <span class="hljs-built_in">list</span>;<font></font>
    orderedList.Sort();<font></font>
    <span class="hljs-keyword">for</span> (Iterator&lt;Shape*&gt; i(orderedList); i; i++)<font></font>
        (*i)-&gt;Draw();<font></font>
}</code></pre><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 5</span>
<span class="hljs-comment">//   </span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Circle::Precedes</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Shape&amp; s)</span> <span class="hljs-keyword">const</span>
</span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">dynamic_cast</span>&lt;Square*&gt;(s))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
}</code></pre><br>
<p>,       -.         <code>Shape</code>.  ,       <code>Shape</code>,    .</p><br>
<h2> Data Driven    </h2><br>
<p>   <code>Shape</code>  ,   ,        .       6.</p><br>
<p>  ,     <code>DrawAllShapes</code>  ,   ,     <code>Shape</code> â€”             <code>Shape</code>      (, ,    <code>Squares</code>   ).</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 6</span>
<span class="hljs-comment">//    </span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;typeinfo.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span>
<span class="hljs-keyword">enum</span> {<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>};
<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> <span class="hljs-keyword">bool</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Precedes</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Shape&amp;)</span> <span class="hljs-keyword">const</span></span>;
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> Shape&amp; s) <span class="hljs-keyword">const</span>
    {<span class="hljs-keyword">return</span> Precedes(s);}
<span class="hljs-keyword">private</span>:
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">char</span>* typeOrderTable[];<font></font>
};<font></font>
<span class="hljs-keyword">char</span>* Shape::typeOrderTable[] =<font></font>
{<font></font>
    <span class="hljs-string">"Circle"</span>,
    <span class="hljs-string">"Square"</span>,
    <span class="hljs-number">0</span><font></font>
};<font></font>
<span class="hljs-comment">//      .</span>
<span class="hljs-comment">//   ,   </span>
<span class="hljs-comment">//  . ,    ,</span>
<span class="hljs-comment">//     </span>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">Shape::Precedes</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Shape&amp; s)</span> <span class="hljs-keyword">const</span>
</span>{
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* thisType = <span class="hljs-keyword">typeid</span>(*<span class="hljs-keyword">this</span>).name();
    <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* argType = <span class="hljs-keyword">typeid</span>(s).name();
    <span class="hljs-keyword">bool</span> done = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">int</span> thisOrd = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">int</span> argOrd = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; !done; i++)<font></font>
    {<font></font>
        <span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* tableEntry = typeOrderTable[i];
        <span class="hljs-keyword">if</span> (tableEntry != <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(tableEntry, thisType) == <span class="hljs-number">0</span>)<font></font>
                thisOrd = i;<font></font>
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(tableEntry, argType) == <span class="hljs-number">0</span>)<font></font>
                argOrd = i;<font></font>
            <span class="hljs-keyword">if</span> ((argOrd &gt; <span class="hljs-number">0</span>) &amp;&amp; (thisOrd &gt; <span class="hljs-number">0</span>))<font></font>
                done = <span class="hljs-literal">true</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-comment">// table entry == 0</span>
            done = <span class="hljs-literal">true</span>;<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> thisOrd &lt; argOrd;<font></font>
}</code></pre><br>
<p> ,        , â€”  .       ,     ,        .</p><br>
<h2> </h2><br>
<p>   .     <code>Shape</code>   <code>DrawAllShapes</code>    ,    .    <code>Shape</code>     ,      . ,            .         ;     ,    ,    <code>OrderedObject</code>,    <code>OrderedShape</code>,     <code>Shape</code>  <code>OrderedObject</code>.</p><br>
<h1>  </h1><br>
<p>      ,  -   ,       ,       .      .</p><br>
<h2>  - </h2><br>
<p>      . -      ,    .         ,  -.         <code>private</code>,   <code>public</code>  <code>protected</code>.<br>
   -    .   â€”   ,  ,   ,  .         .</p><br>
<p>   ,         â€”   .   ,    ,  ,     .   .</p><br>
<p>      ,    ,     ?      <code>private</code>? ,   7   <code>Device</code>,   â€”  <code>bool status</code>.      .    ,    <code>status</code>  <code>true</code>,    â€” <code>false</code>.</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 7</span>
<span class="hljs-comment">//  </span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Device</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">bool</span> status;<font></font>
};</code></pre><br>
<p> ,         .       <code>public</code>        ?      ,           ,      ,   .  ,  ,              . </p><br>
<p>           <code>Device</code>.  ,      <code>Device</code>     .    .</p><br>
<p>  , ,      <code>Time</code>,    8.      â€”   ?  ,   .  ,  ,        ,      .   ,         -.    ?</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 8</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Time</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">int</span> hours, minutes, seconds;<font></font>
    Time&amp; <span class="hljs-keyword">operator</span>-=(<span class="hljs-keyword">int</span> seconds);<font></font>
    Time&amp; <span class="hljs-keyword">operator</span>+=(<span class="hljs-keyword">int</span> seconds);
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt; (<span class="hljs-keyword">const</span> Time&amp;);
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&gt; (<span class="hljs-keyword">const</span> Time&amp;);
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> Time&amp;);
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-keyword">const</span> Time&amp;);<font></font>
};</code></pre><br>
<p> ,         8, â€”  ,     .        <code>minutes</code>     <code>hours</code>.     ,    <code>Time</code>    .         ,     ,       .    .</p><br>
<p>    ,         .            <code>private</code>.    ,      â€”   , , ,    .  ,    ,              ,     ,      ,       .</p><br>
<p>    ,   -  ,  <code>public</code> â€”  <code>protected</code>-    ,    .</p><br>
<h2>  â€¦ !</h2><br>
<p>     ,      -.   ,     ,      ,     .  ,     ,    ,   .    â€”   ,    -   .<br>
  ,   ,                 ,    .   ,       ,    ,   .</p><br>
<p>       .      .     ,     ,      ,     , â€”    .      - .   â€”   cout  cin.   ,   -  ,     .</p><br>
<h2>RTTI â€”  </h2><br>
<p>    â€”  <code>dynamic_cast</code>.   <code>dynamic_cast</code>         (RTTI)   ,     ,     .        9,     -.    10    ,   <code>dynamic_cast</code>,      -.</p><br>
<p>    ,    ,    9,     ,      <code>Shape</code> (    ,     ).    10       .     10    -.<br>
        ,  RTTI  ,   -  .</p><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 9</span>
<span class="hljs-comment">//RTTI,   -.</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span> {</span>};
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> :</span> <span class="hljs-keyword">public</span> Shape<font></font>
{<font></font>
<span class="hljs-keyword">private</span>:<font></font>
    Point itsTopLeft;<font></font>
    <span class="hljs-keyword">double</span> itsSide;
    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-title">DrawSquare</span><span class="hljs-params">(Square*)</span></span>;<font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Circle</span> :</span> <span class="hljs-keyword">public</span> Shape<font></font>
{<font></font>
<span class="hljs-keyword">private</span>:<font></font>
    Point itsCenter;<font></font>
    <span class="hljs-keyword">double</span> itsRadius;
    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-title">DrawCircle</span><span class="hljs-params">(Circle*)</span></span>;<font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawAllShapes</span><span class="hljs-params">(Set&lt;Shape*&gt;&amp; ss)</span>
</span>{
    <span class="hljs-keyword">for</span> (Iterator&lt;Shape*&gt;i(ss); i; i++)<font></font>
    {<font></font>
        Circle* c = <span class="hljs-keyword">dynamic_cast</span>&lt;Circle*&gt;(*i);<font></font>
        Square* s = <span class="hljs-keyword">dynamic_cast</span>&lt;Square*&gt;(*i);
        <span class="hljs-keyword">if</span> (c)<font></font>
            DrawCircle(c);<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s)<font></font>
            DrawSquare(s);<font></font>
    }<font></font>
}</code></pre><br>
<pre><code class="cpp hljs"><span class="hljs-comment">// 10</span>
<span class="hljs-comment">//RTTI,    -.</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Shape</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Draw</span><span class="hljs-params">()</span> cont </span>= <span class="hljs-number">0</span>;<font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Square</span> :</span> <span class="hljs-keyword">public</span> Shape<font></font>
{<font></font>
<span class="hljs-comment">// .</span><font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DrawSquaresOnly</span><span class="hljs-params">(Set&lt;Shape*&gt;&amp; ss)</span>
</span>{
    <span class="hljs-keyword">for</span> (Iterator&lt;Shape*&gt;i(ss); i; i++)<font></font>
    {<font></font>
        Square* s = <span class="hljs-keyword">dynamic_cast</span>&lt;Square*&gt;(*i);
        <span class="hljs-keyword">if</span> (s)<font></font>
            s-&gt;Draw();<font></font>
    }<font></font>
}</code></pre><br>
<h1></h1><br>
<p>        -.          - .        - ,     .</p><br>
<p>   ,   -        -.      ,   ,   ,  ,    ,      .<br>
</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja472170/index.html">èª°ãŒDNSãƒ«ãƒ¼ãƒˆã‚¾ãƒ¼ãƒ³ã®åˆ†æ•£åŒ–ã‚’ææ¡ˆã—ãŸã‹</a></li>
<li><a href="../ja472172/index.html">é©åˆ‡ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®å†è¨­è¨ˆ-ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã€åŸºæœ¬çš„ãªè³ªå•ã¨ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹</a></li>
<li><a href="../ja472174/index.html">ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã¨ã‚µã‚¦ãƒ³ãƒ‰ï¼šãƒãƒ¼ãƒ«ãƒ´ã‚©ã‚¤ãƒˆ-ã€ŒSennheiser 30sã€ã€ãƒ–ãƒ­ãƒ¼ãƒ‰ãƒãƒ³ãƒ‰ã®çˆ¶ã€æ©Ÿæ¢°å¼ã‚¯ãƒ­ã‚¹ã‚ªãƒ¼ãƒãƒ¼ãŠã‚ˆã³ä¼é€ãƒ©ã‚¤ãƒ³</a></li>
<li><a href="../ja472176/index.html">ãƒãƒ¼ãƒãƒ£ãƒ«ãƒ—ãƒ¼ã‚·ã‚­ãƒ³åšç‰©é¤¨</a></li>
<li><a href="../ja472178/index.html">ãƒ›ãƒªãƒãƒ¼ã€‚ãƒ«ãƒãƒƒãƒˆã®æ­´å²ã€‚ãƒ‘ãƒ¼ãƒˆ7. YouTubeï¼šã‚³ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ³ã€ãã—ã‚€éŸ³ã€ã‚·ãƒªã‚³ãƒ³ãƒãƒ¬ãƒ¼</a></li>
<li><a href="../ja472188/index.html">App Store Check Verificationï¼ˆApp Storeã®é ˜åæ›¸ï¼‰ã«ã¤ã„ã¦çŸ¥ã£ã¦ãŠãã¹ãã“ã¨</a></li>
<li><a href="../ja472190/index.html">Webã‚µãƒ¼ãƒãƒ¼ãªã—ã§php-fpmã‚’ä»‹ã—ã¦PHPã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã¾ãŸã¯ã€FastCGIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆå†…éƒ¨ï¼‰</a></li>
<li><a href="../ja472196/index.html">Androidãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç”¨ã®è‡ªå®¶è£½ã€Œç ‚ç³–ã€ã¾ãŸã¯ã€Œãã‚Œã‚’ã—ãªã„æ–¹æ³•ã€</a></li>
<li><a href="../ja472198/index.html">ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ãƒ—ãƒƒã‚·ãƒ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ­ãƒ¼ã‚«ãƒªã‚¼ãƒ¼ã‚·ãƒ§ãƒ³</a></li>
<li><a href="../ja472200/index.html">ãƒ©ã‚ºãƒ™ãƒªãƒ¼ã®ãƒ­ã‚·ã‚¢ã®å­¦æ ¡ã§ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã‚¯ãƒ©ã‚¹ã®è¿‘ä»£åŒ–ï¼šå®‰ãã¦æ˜ã‚‹ã„</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>