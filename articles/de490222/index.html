<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧖🏼 👨🏼‍🏭 👩🏻‍🔬 Standardbibliothek zum Todestag 🔟 🚜 👨🏼‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neulich in Prag führte das C ++ - Standardisierungskomitee eine Reihe von Umfragen zum Thema Änderung des ABI durch, und letztendlich wurde beschlosse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Standardbibliothek zum Todestag</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490222/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neulich in Prag führte das C ++ - Standardisierungskomitee eine Reihe von Umfragen zum Thema Änderung des ABI durch, und letztendlich wurde beschlossen, nichts daran zu ändern. </font><font style="vertical-align: inherit;">Es gab keinen Applaus in der Halle. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, wir haben die Konsequenzen dieser Entscheidung nicht vollständig erkannt, und ich glaube nicht, dass sie die Entwicklung der Sprache im Prinzip positiv beeinflussen kann.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7a/j5/al/7aj5al5kxo5gjlw1lbrr0ftlemq.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist ABI?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ABI - Eine Reihe von Konventionen, die definieren, wie Ihr Programm in binärer Form dargestellt wird, wie Namen darin deklariert werden, Klassenmarkierungen definiert werden und Konventionen für Funktionsaufrufe definiert werden. </font><font style="vertical-align: inherit;">Tatsächlich ist dies eine Art Binärprotokoll, aber es ist nicht versioniert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Sie in der Terminologie nicht zu verwirren, schauen wir uns Beispiele an, was die ABI-Änderung und ihre Aufteilung innerhalb des Programms mit sich bringt: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können das exportierte Symbol in der neuen Version Ihrer kompilierten Bibliothek nicht verwenden, wenn Sie eine der folgenden Aktionen ausgeführt haben:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einer vorhandenen Klasse wurde ein neues Feld hinzugefügt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Vorlagenparameter der Klasse / Funktion wurden geändert, die Vorlagenfunktion in eine Nicht-Vorlage umgewandelt oder umgekehrt eine </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">variable Vorlage</font></a><font style="vertical-align: inherit;"> hinzugefügt</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenden Sie den </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inline-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bezeichner </font><font style="vertical-align: inherit;">auf etwas an</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standardparameter in Funktionsdeklaration hinzugefügt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neue virtuelle Methode angekündigt</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und vieles mehr, aber die obigen Beispiele sind die wichtigsten, die vom Ausschuss genannt werden, und genau die, dank derer die meisten Vorschläge in der Norm sofort vernichtet werden. </font><font style="vertical-align: inherit;">Ich habe die Optionen für die Verletzung des ABI weggelassen, bei denen auch der Quellcode des Programms unterbrochen wird (z. B. Löschen oder Ändern von Funktionen). </font><font style="vertical-align: inherit;">Dies ist jedoch nicht immer der Fall. </font><font style="vertical-align: inherit;">Zum Beispiel bedeutet das Löschen einer Funktion nicht immer, dass der Quellcode beschädigt wird. </font></font><code>std::string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es hat einen Konvertierungsoperator </font></font><code>std::string_view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, den ich gerne loswerden würde, und obwohl das Löschen den ABI beschädigt, führt dies nicht zu signifikanten Problemen im Quellcode.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum sollten wir ABI brechen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst gibt es einige nützliche Änderungen in der Implementierung der Standardbibliothek, die Sie implementieren können, wenn Sie den aktuellen ABI brechen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Machen Sie assoziative Container (viel) schneller</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beschleunigen Sie Ihre Arbeit </font></font><code>std::regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Im Moment ist es schneller, PHP auszuführen und mit einem regulären Ausdruck danach zu suchen als mit dem Standardausdruck. </font></font><code>std::regex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einige Änderungen in </font></font><code>std::string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>std::vector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sowie im Layout von anderen Behältnissen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einheit der Klassenschnittstelle: Im Moment entsprechen einige ihrer Implementierungen aus Gründen der ABI-Stabilität absichtlich nicht einer einzigen Schnittstelle</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noch wichtiger ist, dass das Design der Bibliothek geändert werden kann, ohne dass das ABI-Sicherheitsproblem auftritt. </font><font style="vertical-align: inherit;">Hier ist eine unvollständige Liste von allem, was aus dem oben genannten Grund derzeit nicht machbar ist:</font></font><br>
<br>
<ul>
<li><code>std::scoped_lock</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wurde hinzugefügt, um die abi-Änderung nicht zu brechen </font></font><code>lock_guard</code></li>
<li><code>int128_t</code>    ,    <code>intmax_t</code>. ,    ,    ,  <code>intmax_t</code>   <i>deprecated</i></li>
<li><code>std::unique_ptr</code>           ,     <i>zero-overhead</i>     </li>
<li>   <code>error_code</code>     - ,       ABI</li>
<li><code>status_code</code>     ABI</li>
<li>    <code>recursive_directory_iterator</code>  ,     ABI</li>
<li>      <code>&lt;cstring&gt;</code> <code>constexpr</code> ( <code>strlen</code>)     ,   ABI</li>
<li>  UTF-8  <code>std::regex</code> —  ABI</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Hinzufügen von Unterstützung zum </font></font><code>realloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zurückgeben und Zurückgeben der Größe des zugewiesenen Speichers ist eine ABI-Aufschlüsselung für polymorphe Allokatoren</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implizite virtuelle Destruktoren für polymorphe Typen erstellen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Rückgabetyp y </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kann geändert werden, wenn der aktuelle ABI fehlerhaft ist</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brauchen wir im Allgemeinen wirklich und </font></font><code>push_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>emplace_back</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><code> std::shared_ptr</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verursacht auch einen ABI-Ausfall</font></font></li>
<li><code>[[no_unique_address]]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> könnte vom Compiler ausgegeben werden, wenn wir den aktuellen ABI nicht speichern möchten</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und die Liste endet nicht dort. </font><font style="vertical-align: inherit;">Ich denke, WG21 sollte versuchen, die Liste solcher Dinge auf dem neuesten Stand zu halten. </font><font style="vertical-align: inherit;">Aber ich werde jeden zur Kenntnis nehmen, der sagt "es wird den ABI brechen" und mit mir im selben Raum ist.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was wollen wir noch ändern?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich weiß nicht. </font><font style="vertical-align: inherit;">Und ich weiß nicht, was ich nicht weiß. </font><font style="vertical-align: inherit;">Aber wenn ich gebeten würde zu raten, würde ich Folgendes sagen:</font></font><br>
<br>
<ul>
<li>     C++23      ABI,    -        ,    ABI.          </li>
<li>   ,  ,          ,    ,          ABI</li>
<li>        ABI,       </li>
<li>    ,     ABI</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Tombstone</a>      ABI</li>
</ul><br>
<h2> ABI  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während der letzten ABI-Diskussion wurden in Prag eine Reihe von Umfragen durchgeführt, die jedoch nichts aussagen. </font><font style="vertical-align: inherit;">Je nachdem, ob Sie ein Pessimist oder ein Optimist sind, können die aktuellen Ergebnisse von Ihnen unterschiedlich interpretiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wichtige Fakten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 will ABI in 23 nicht brechen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 hält es für notwendig, den ABI in zukünftigen Versionen von C ++ (C ++ 26 oder höher) zu brechen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 wird einige Zeit brauchen, um Vorschläge zu prüfen, die gegen ABI verstoßen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 verspricht keine ewige Stabilität</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WG21 hält es für wichtig, der Leistung Vorrang einzuräumen, auch zum Nachteil der Sprachstabilität</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Aussagen haben viele wichtige Punkte, aber es gibt keinen Konsens. </font><font style="vertical-align: inherit;">Seltsamerweise teilte sich das Komitee in zwei Hälften.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wahrsagen</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In welcher Version von C ++ soll auf Änderungen gewartet werden?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der offensichtliche Nachteil all dieser Umfragen ist, dass wir nicht entschieden haben, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wann genau</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir den ABI brechen wollen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
in c ++ 23? Nein, definitiv noch nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
in C ++ 26? Einige Leute beabsichtigen zu stimmen, aber ein anderer Teil wird wahrscheinlich für C ++ 41 stimmen oder für die Zeit, in der sie in Rente gehen und ihr aktuelles Projekt nicht unterstützen müssen. Eine der gerade erwähnten Fragen C ++ - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einige</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; sehr bequem!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt keinen Grund zu der Annahme, dass das ABI später verletzt werden kann, wenn es jetzt nicht verletzt werden kann. Menschen, die Stabilität brauchen, sind mehrere Jahre hinter dem Standard zurück. Wenn wir es jetzt nicht brechen, werden sich die Menschen weiterhin auf den nie versprochenen ABI verlassen, vielleicht noch zehn oder sogar zwanzig Jahre. Die einfache Tatsache, dass wir diese Umfrage durchgeführt haben, hat letztendlich dafür gestimmt, den ABI nicht zu verletzen, zeigt, dass das gesamte Ökosystem allmählich stagniert und stagniert - mit jedem Tag wird das Problem nur noch schlimmer und möglicherweise teurer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich glaube nicht, dass sich an der in drei Jahren durchgeführten Umfrage etwas ändern wird. Es ist wie mit der globalen Erwärmung: Alle sind sich einig, dass wir dieses Problem eines Tages angehen müssen. Und dann lasst uns Diesel im Jahr 2070 verbieten?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles, was in den nächsten fünf Jahren nicht geplant ist, wird wahrscheinlich nie passieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Über Angebote, die gegen ABI verstoßen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WG21 stimmte dafür, mehr Zeit für Vorschläge zu verwenden, die gegen das derzeitige ABI verstoßen. </font><font style="vertical-align: inherit;">Dies bedeutet ein paar Dinge:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden mehr Zeit in einem der lautesten Räume des Ausschusses verschwenden, um dieses Thema zu erörtern, und weniger auf Vorschläge verzichten, die mehr Chancen auf Annahme haben, und sie am Ende trotzdem ablehnen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden nach Alternativen suchen, die ABI nicht brechen (dies wird unten diskutiert).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teilweise Änderungen des ABI können eingeführt werden (siehe auch unten)</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leistung ist wichtiger als ABI-Stabilität</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist wie zu fragen, ob ein Fünfjähriger eine Süßigkeit will. </font><font style="vertical-align: inherit;">Natürlich werden wir über die Bedeutung der Leistung abstimmen. </font><font style="vertical-align: inherit;">Ich mache mir jedoch Sorgen, dass einige Leute immer noch dagegen gestimmt haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint mir, dass der Ausschuss gleichzeitig auf zwei Stühlen gleichzeitig sitzen möchte. </font><font style="vertical-align: inherit;">Und das ist unmöglich:</font></font><br>
<blockquote><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bryce Adelstein Lelbach</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @blebach</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Leistung</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Stabilität ABI</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Fähigkeit, etwas zu ändern</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wählen Sie zwei Optionen aus den vorgeschlagenen aus.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Stabilität der Sprache und des ABI kollidieren natürlich miteinander und zwingen uns, eine so grundlegende Frage zu stellen: Was ist C ++ und was ist seine Standardbibliothek? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall werden normalerweise die Begriffe „Leistung“, „ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Null-Kosten-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abstraktion“ und „ </font><font style="vertical-align: inherit;">Zahlen </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie nicht für das, was Sie nicht verwenden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ </font><font style="vertical-align: inherit;">gespeichert </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Und die Stabilität von ABI steht für all dies.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weitreichende Konsequenzen</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5d7/90b/d50/5d790bd50abd97b45921c4f61a8ef757.webp" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin zutiefst davon überzeugt, dass die Entscheidung, den ABI im 23. Jahr nicht zu brechen, der größte Fehler ist, den das Komitee jemals gemacht hat. </font><font style="vertical-align: inherit;">Und ich weiß, dass manche Leute das Gegenteil glauben. </font><font style="vertical-align: inherit;">Aber hier ist, was wahrscheinlich bald passieren wird:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Albtraum des Lernens</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lass uns ehrlich sein. Alle Programme, die auf ABI basieren, verstoßen wahrscheinlich irgendwo gegen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ODR-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prinzipien </font><font style="vertical-align: inherit;">oder verwenden inkompatible Flags, die zum Glück immer noch funktionieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neue Programme müssen aus dem Quellcode kompiliert werden. Wir benötigen Tools, die auf der Assembly aus den Quellen basieren, und keine Sammlung von Bibliotheken, die wir von irgendwoher erhalten und irgendwie in das Projekt eingefügt haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, das Bauen aus der Quelle ist nicht so einfach zu erreichen. Wir müssen diesen Ansatz für das Produkt jedoch fördern und die Compiler regelmäßig aktualisieren, damit die Benutzer einen Monat nach der Veröffentlichung und nicht zehn Jahre später von den neu eingeführten Funktionen profitieren. Richtige, zuverlässige, skalierbare und reproduzierbare Lösungen, Open Source-Bibliotheken und ein Abhängigkeitssystem müssen gefördert werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Komitee weigert sich, gegen ABI zu verstoßen und erklärt offen, dass es schlecht geschriebene Programme während ihrer gesamten Existenz unterstützen wird. </font><font style="vertical-align: inherit;">Auch wenn Sie keine Verknüpfung zu den durch apt-install erhaltenen Bibliotheken herstellen (die eigentlich für das System bestimmt sind), gibt es andere Personen, da das Komitee ihnen ihren Segen gegeben hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein großer Schritt zurück. </font><font style="vertical-align: inherit;">Wie können wir anderen gute Sprachpraktiken beibringen, wenn wir keinen Anreiz dazu haben?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verlust des Interesses an der Standardbibliothek</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der geschätzte Verlust an Bibliotheksleistung aufgrund unserer mangelnden Bereitschaft, gegen ABI zu verstoßen, wird auf 5-10% geschätzt. </font><font style="vertical-align: inherit;">Diese Zahl wird nur mit der Zeit wachsen. </font><font style="vertical-align: inherit;">Schauen wir uns Beispiele an:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie ein großes Unternehmen sind, können Sie sich ein neues Rechenzentrum kaufen oder ein Team von Programmierern bezahlen, die ihre eigene Bibliothek unterstützen</font></font></li>
<li>    ,   5%              ,     </li>
<li>   ,   5-10%  ,               VR-</li>
<li>   ,        —     </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, hier stellt sich wohl oder übel die Frage: "Ich sollte auf jeden Fall C ++ und seine Standardbibliothek verwenden!" und „Vielleicht sollte ich die Standardbibliothek nicht verwenden? Oder sollte ich C ++ grundsätzlich nicht verwenden? Vielleicht wäre .NET, Julia oder Rust eine bessere Lösung? “ Natürlich gibt es viele Faktoren, die die Antwort beeinflussen, aber wir sehen, was in letzter Zeit passiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viele Spieleentwickler stehen der Standardbibliothek äußerst skeptisch gegenüber. Sie würden lieber ihre eigene Alternative wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EASTL entwickeln</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , als STL zu nutzen. Facebook hat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Torheit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Google hat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abseilen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und so weiter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist wie ein Schneeball. </font><font style="vertical-align: inherit;">Wenn Benutzer die Standardbibliothek nicht verwenden, haben sie kein Interesse daran, sie zu verbessern. </font><font style="vertical-align: inherit;">Leistung ist der Schlüsselfaktor, der die Bibliothek am Leben erhält. </font><font style="vertical-align: inherit;">Ohne Leistungsgarantie wird viel weniger Aufwand in die Entwicklung gesteckt.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;&gt; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://twitter.com/foonathan" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jonathan Müller</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @foonathan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was </font><font style="vertical-align: inherit;">bringt </font><font style="vertical-align: inherit;">es, Container aus der Standardbibliothek zu verwenden, wenn sie keine bessere Leistung bieten? </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Titus Winters</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> @TitusWinters </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht, weil sie häufig und leicht zugänglich sind? </font><font style="vertical-align: inherit;">(Diese beiden Tatsachen bedeuten nicht dasselbe). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Abstimmung zur Erhaltung von ABI ist wie die Aussage, dass die Standardbibliothek McDonald's sein sollte - er ist auch überall, er ist stabil und löst die Aufgaben technisch.</font></font><br>
</blockquote> <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie kann ein Ausschuss Vorschläge prüfen, die einen ABI brechen?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Schmerzlinderung werden verschiedene Optionen angeboten, die durch die Unfähigkeit, Angebote anzunehmen, verursacht werden, wenn sie gegen den ABI verstoßen:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neue Namen hinzufügen</font></font></h3><br>
<img src="https://habrastorage.org/getpro/habr/post_images/9db/f42/6f8/9dbf426f89a37d487fb3b446edebc89d.webp" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist die erste und naheliegende Lösung. Wenn wir uns nicht ändern können </font></font><code>std::unordered_map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, können wir einfach hinzufügen </font></font><code>std::fast_map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Es gibt mehrere Gründe, warum dies schlecht ist. Das Hinzufügen von Typen zur Standardbibliothek ist sowohl in Bezug auf die Supportkosten als auch in Bezug auf die Ausbildung teuer. Nach der Einführung der neuen Klasse werden unweigerlich Tausende von Artikeln erscheinen, in denen erklärt wird, welcher Container verwendet werden soll. Soll ich zum Beispiel </font></font><code>std::scoped_lock</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder verwenden </font></font><code>std::lock_guard</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Ich habe keine Ahnung! Ich muss jedes Mal googeln. Es gibt auch das Problem, dass gute Namen früher oder später enden. Wir bekommen auch etwas Overhead während der Programmausführung, da alle Container ständig ineinander konvertiert werden müssen, es schwierig wird, eine große Anzahl von Konvertierungsüberladungen in der Klasse usw. zu kontrollieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ironisch, aber diejenigen, die die obige Lösung unterstützen, können auch argumentieren, dass C ++ eine zu komplexe Sprache ist. </font><font style="vertical-align: inherit;">Das Hinzufügen von Duplikaten zur Bibliothek wird es definitiv nicht einfacher machen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber wir könnten dieses Angebot als Standard annehmen!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige Bibliotheksentwickler behaupten, dass ihre Angebote aufgrund eines ABI-Verstoßes abgelehnt wurden, obwohl sie tatsächlich nichts verletzt haben, oder sie könnten geändert werden, um einen ABI-Fehler zu umgehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als zynische Person fällt es mir schwer zu glauben. </font><font style="vertical-align: inherit;">Tatsache ist, dass es zuvor keine derartigen Vorschläge gab und die Szenarien, in denen sie angewendet werden können, sehr begrenzt sind. </font><font style="vertical-align: inherit;">ABI Review Group (ARG) könnte in dieser Angelegenheit helfen, aber sie werden wahrscheinlich wieder einen anderen Namen für die Klasse / Funktion empfehlen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teilweise Abi-Verletzung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptidee besteht nicht darin, den gesamten ABI zu brechen, sondern ihn nur für eine bestimmte Klasse oder Funktion zu ändern. </font><font style="vertical-align: inherit;">Das Problem bei diesem Ansatz ist, dass anstelle des Fehlers in der Verknüpfungsphase das Problem bereits beim Start des Programms auftritt, was uns unangenehm überrascht. </font><font style="vertical-align: inherit;">Das Komitee hatte diesen Ansatz bereits in C ++ 11 ausprobiert, als es das Markup änderte </font></font><code>std::string</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Daraus wurde nichts Gutes. </font><font style="vertical-align: inherit;">Alles war so schlecht, dass diese Tatsache immer noch als Argument für die Aufrechterhaltung des aktuellen ABI verwendet wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine weitere Indizierungsebene</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Lösung für einige der Probleme mit ABI wäre die Möglichkeit, über einen Zeiger auf die Daten der Klasse zuzugreifen. Dann wäre das Markup der Klasse genau dieser Zeiger. Die Idee kommt der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PIMPL-Sprache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sehr nahe, die </font><font style="vertical-align: inherit;">aufgrund ihres ABI </font><font style="vertical-align: inherit;">in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aktiv verwendet wird </font><font style="vertical-align: inherit;">. Ja, das würde das Problem mit den Klassenmitgliedern lösen, aber was tun mit virtuellen Methoden? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Anbetracht eines kritischeren Problems sprechen wir über das Hinzufügen einer weiteren Indirektionsebene (Zeigerindex) und einer zusätzlichen Speicherzuweisung im Heap für alles, was im Rahmen von ABI enthalten ist. In STL ist tatsächlich alles in diesem Framework enthalten, da es sich um eine Sammlung verallgemeinerter Klassen handelt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen wird der Preis für diesen Ansatz enorm sein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Lösung für dieses Problem enthält der Standard bereits mehrere Vorschläge. </font><font style="vertical-align: inherit;">Einige von ihnen möchten PIMPL zu einem der Merkmale der Sprache machen, sodass Sie zwischen ABI-Stabilität und hoher Leistung wählen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ironischerweise müssen wir jedoch den ABI brechen, um Bibliothekstypen in PIPML-Typen umzuwandeln.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bauen Sie den gesamten Code alle drei Jahre neu zusammen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur meine Gedanken laut.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle aktuellen Angebote im Standard müssen vernichtet werden</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paradoxerweise war C ++ noch nie so lebendig wie jetzt. </font><font style="vertical-align: inherit;">In Prag arbeiteten 250 Menschen an vielen Dingen für ihn, darunter:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Numerik</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lineare Algebra</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audio</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Asynchrone E / A.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2D- und 3D-Grafiken</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viele andere Funktionen</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle diese Vorschläge vereinen sich in einer gemeinsamen Tatsache: Sie sind im Vergleich zu dem, was wir derzeit im Standard haben, viel optionaler. Die Menschen versuchen einfach, Dinge aus ihrem Forschungs- und Arbeitsbereich oder dem, was sich ständig weiterentwickelt und verändert, zu standardisieren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insbesondere Unicode-Algorithmen sind extrem instabil und ändern sich im Laufe der Zeit schnell. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann zeichnet sich ein Horror wie </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Networking ab</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es ist sehr, sehr verantwortungslos zu versuchen, alles zu standardisieren, was zu Sicherheitsproblemen führen könnte, und es später nicht ändern zu können (denken Sie an ABI).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da C ++ beschlossen hat, es stabil zu machen, müssen alle diese Vorschläge zerstört und gebrannt werden. Ich würde nicht zerstört werden wollen, aber das muss getan werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber sie werden es immer noch nicht tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im besten Fall werden wir in einer der neuen Versionen von C ++ keine Fehler machen und den aktuellen Stand der Dinge standardisieren und dann alles langsam zersetzen, da es nicht möglich ist, dies zu beheben (im Fall von Networking TS scheinen wir daher überhaupt nichts ändern zu können Wir müssen das, was vor zehn Jahren existierte, standardisieren, dann kann die Bibliothek natürlich noch erheblich verbessert werden, aber lassen wir diese Geschichte für ein anderes Mal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber natürlich werden wir viele, viele Fehler machen.</font></font><br>
<br>
<blockquote>&gt;&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b>Ólafur Waage</b></a> @olafurw<br>
(      ,    )<br>
<br>
 ,  !<br>
<br>
         .       ,      ( : , , )?<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b>Hyrum Wright</b></a> @hyrumwright<br>
    ,    ,  .       —    ,      .<br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige Fehler werden absichtlich gemacht, da es sich um Kompromisse handelt, während andere viele Jahre lang unbemerkt bleiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Zeit vergeht, aber die Standardbibliothek steht still. Zuvor gemachte Kompromisse stören uns allmählich und werden später zu echten „Engpässen“ im bestehenden Code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige Dinge können wirklich nicht geändert werden, da sie in die API eingebettet sind. Wir alle haben eine Vorstellung davon, wie schwierig es ist, eine vorhandene API zu ändern. Ein Teil des Codes kann jedoch noch repariert und verbessert werden, wenn wir den ABI brechen könnten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C ++ wird in den nächsten 40 Jahren noch flott sein. Wenn wir nicht erkennen können, dass es zu irgendeinem Zeitpunkt auf unvorhersehbare Weise geändert werden muss, besteht der einzig richtige Schritt darin, dieses Spiel im Prinzip nicht zu spielen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder weiß, dass ein assoziativer Standardcontainer seit weniger als zehn Jahren für die Verwendung relevant ist. </font><font style="vertical-align: inherit;">Aber warum glauben wir dann, dass größere Vorschläge im Standard erfolgreicher sein werden? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ihr Angebot zum Standard </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zerstört, mein </font><font style="vertical-align: inherit;">Angebot </font><font style="vertical-align: inherit;">wird auf die gleiche Weise zerstört.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kann ein Ausschuss einen ABI grundsätzlich brechen?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viele sind sich sicher, dass das Komitee eine solche Entscheidung grundsätzlich nicht treffen kann, denn dann werden die Bibliotheksentwickler sie einfach ignorieren. </font><font style="vertical-align: inherit;">All dies ähnelt schmerzhaft dem Armdrücken, bei dem das Komitee beschlossen hat, nicht zu spielen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsache ist jedoch, dass Entwickler von Produkten ihre eigenen Benutzer haben. </font><font style="vertical-align: inherit;">Benutzer sind diejenigen, die zunächst verstehen müssen, welche Kompromisse ihnen auferlegt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viele Menschen verlassen sich ganz zufällig auf ABI, ohne eine fundierte Entscheidung zu treffen. </font><font style="vertical-align: inherit;">Viele Menschen verlassen sich auch auf Stabilität, weil sich natürlich jeder darauf verlassen will. </font><font style="vertical-align: inherit;">Aber wie alles andere hat Stabilität einen Preis, und jetzt zahlt sich das gesamte C ++ - Ökosystem dafür aus.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490198/index.html">Vertrauen, aber überprüfen! Demo-Zone mit Epson-Projektoren für Heimkino in der Demo-Halle Pult.ru</a></li>
<li><a href="../de490202/index.html">Abfragezählung: Grundlegende Django-Leistungstests</a></li>
<li><a href="../de490204/index.html">Die Zusammenfassung der Ereignisse für Personal- und IT-Personalvermittler im März 2020</a></li>
<li><a href="../de490208/index.html">Backend-Bereich auf DUMP2020: Banter, Fan, Fail</a></li>
<li><a href="../de490210/index.html">Das Frontend beschleunigen. Wenn viele Serveranforderungen gut sind</a></li>
<li><a href="../de490224/index.html">Modische Stealth</a></li>
<li><a href="../de490226/index.html">Blending und Unity Terrain: So entfernen Sie Kreuzungen und lassen Ihre Augen nicht mehr weh tun</a></li>
<li><a href="../de490242/index.html">GSM-Ortungsdienst von SIM800x-Modulen und seine Arbeit mit der Yandex.Locator-API</a></li>
<li><a href="../de490244/index.html">Python-Code-Optimierung mit ctypes</a></li>
<li><a href="../de490246/index.html">Kreml-Türme in Hydras Umarmung: Hydra 2020 Parallel and Distributed Computing Conference</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>