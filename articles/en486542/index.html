<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛍️ 👩🏽‍💼 🍆 Parse the sound of a dial-up modem 😷 🌈 🤲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr. 
 
 Somehow accidentally remembering about the modem Internet and about the “same” connection sound, I thought about what was inside ther...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Parse the sound of a dial-up modem</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486542/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, Habr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somehow accidentally remembering about the modem Internet and about the “same” connection sound, I thought about what was inside there. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vs/dg/gs/vsdggs4hijoszsb7mntneny8m6i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I found the sound of a modem in WAV and Signals Analyzer on the network. </font><font style="vertical-align: inherit;">Let's try to figure it out.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, I am not the first to reflect on this issue for many years. </font><font style="vertical-align: inherit;">As a Google search showed, a Finnish engineer described the phases of a modem connection back </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in 2012</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">But for those who do not regularly read blogs in Finnish, it is probably not a sin to describe it again, having studied the spectrum in more detail.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A small digression for the “Next generation”, who did not find those times: the modem was such a magic box that plugs, if the memory does not change, into the COM port (there was no USB yet) and transfers data through a regular telephone line in the “voice” range . </font><font style="vertical-align: inherit;">Accordingly, the connection to the Internet (and even earlier it was FIDO or BBS) was preceded by such a funny squeak, the whole process can be seen, for example, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modems evolved from the very ancient, working through the handset at a speed of 300bps, to the most sophisticated, giving theoretically up to 56Kbps, the telephone line channel no longer allowed.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A couple of pictures under the spoiler</font></font></b><div class="spoiler_text">   ,     , «»     :<br>
<br>
<img src="https://habrastorage.org/webt/86/rl/gp/86rlgpkxcnc5wttsxnrtnwovpha.png"><br>
<br>
          ,      -, ,   ,   . , ,   .<br>
<br>
      56:<br>
<img src="https://habrastorage.org/webt/md/nd/mr/mdndmrdo_hnobb_leo5bfjvomhs.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another interesting point - judging by Amazon, US Robotics Courier 56K Business modems </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">are sold now</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and it’s very expensive. </font><font style="vertical-align: inherit;">Why I don’t know, there are probably places where there is still no other type of connection. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will end this with the introduction, and move on to the signal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connect</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first interesting point is when we hear (or rather heard) the sound of the modem, in fact, we hear not one modem, but two at once - our modem, and the provider's modem. The signals of the calling modem are circled in red in the picture: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/10/ry/bd/10rybdjlj71w8wy0es-gufalqzg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's see what types of modulation we can meet in this signal. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Tone Dialing (DTMF)</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The leftmost part of the picture, there is nothing unusual here, the usual tone dialing, which was also used in ordinary phones (someone probably remembers the Tone-Pulse toggle button on the wired phone case). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o3/31/2b/o3312bothcnyqdn6t3st4axgu-i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, I had an even older PBX with pulse dialing, so there were no such sounds, as well as a 56K connection. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Connection</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The provider’s modem, after receiving a call, “picks up the phone” and sends a couple of tones to the line, “our” modem answers with a tone of a different frequency and sends information about the available protocols to the line: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zj/0l/kr/zj0lkrx1pboelegvaygoyr7mrbi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, FSK is used here - frequency modulation, where the binary code is transmitted from using alternating two tones. The transfer rate is only 300bit / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The provider's modem answers in the same mode, confirming the reception. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The connection is completed by transmitting a sufficiently long tone with low-frequency amplitude modulation. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w6/nc/ng/w6ncngjrqelyg2iixsaxbdeaoqs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is interesting that if you look in more detail, you can see that in the places of the “joints” the tone phase also changes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s_/hy/gk/s_hygkuc__vholr_s-lnvf93dze.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why it is done is difficult to say. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Exchange "advanced settings"</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I put the name in quotation marks, because I don’t know for sure, but I can only guess. Here the modems exchange various information about the available protocols: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gu/wj/en/guwjenlxsfq4srvbwtzs-5e_esy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the left is the amplitude-modulated signal already described above, then the signal already familiar to us from FSK. But with the edge on the right - another type of modulation. The picture shows that it is not the frequency and amplitude that is changing, but the phase of the signal (PSK, Phase Shift Keying): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jk/ie/6m/jkie6mkwreilkeif5jwyrmcz7hs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The signal length is only 0.15s. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Line check</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Here both modems send a broadband (to all available 3.7KHz :) signal with a duration of ~ 0.4s, the result is sent to another modem. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tf/ys/cc/tfysccc7ws_l-rfvfvfceiv-00s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the end, the modem transmits a separate signal to adjust the equalizer and suppress the echo in the line.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, the speaker turns off, and higher-level procedures are performed - checking the login / password, and if everything is fine, the user connects to the Network.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, quite a lot of everything is embedded in the sound of the modem, and when parsing the question arose, but in fact, why is it so complicated? Why alternate between different types of modulation to just exchange data? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The answer is probably simple - legacy. Each new modem should not only work as fast as possible and support the latest protocols, but also be able to connect to older models. Therefore, at the very beginning, modems are connected at a minimum speed of 300 baud and exchange protocol information, “advanced settings” are transmitted by another type of modulation, which the old modem will ignore, and new modems can use. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, I did not set out to parse every bit in the signal, the above is only general information. Those wishing to study the topic in more detail can be sent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to the 2012 article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(in English) or to the description </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">of ITU standards</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but for the first acquaintance I think there is enough information. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Under the spoiler, the sound of a modem with a time layout:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/abapFJN6glo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/en486542/">https://habr.com/ru/post/en486542/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en486528/index.html">This is the norm - 3: normal map types</a></li>
<li><a href="../en486530/index.html">Mainstream. Honorary Workers. Biographical novel</a></li>
<li><a href="../en486532/index.html">Data backup using a bunch of FreeFileSync and 7-zip</a></li>
<li><a href="../en486538/index.html">How I uploaded soft skills online and what it gave me</a></li>
<li><a href="../en486540/index.html">HighLoad ++, Mikhail Makurov, Maxim Chernetsov (Intersvyaz): Zabbix, 100kNVPS on one server</a></li>
<li><a href="../en486544/index.html">Two hours and 3.5 dollars. How I made a simple site with visualization of the distribution of coronavirus</a></li>
<li><a href="../en486548/index.html">Primitive recursive functions and Ackerman function</a></li>
<li><a href="../en486552/index.html">“Cultural code: the secrets of extremely successful groups and organizations” - notes from the book</a></li>
<li><a href="../en486554/index.html">Slurm DevOps. Three days of immersion in DevOps. And a lecture by Anatoly Wasserman "The Computational Problem of Socialism"</a></li>
<li><a href="../en486556/index.html">Creating an Art Object for Burning Man</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>