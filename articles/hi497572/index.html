<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëßüèº üòë üë©üèª ‡§¶‡•Ä‡§™‡§ï-‡§≤‡•Å‡§µ‡§æ‡§ï ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡•á‡§µ‡§æ ‡§â‡§®‡•ç‡§Æ‡•Å‡§ñ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® üé∏ ü•ä üé∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‡§á‡§∏ ‡§§‡§•‡•ç‡§Ø ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ï‡§ø ‡§∞‡§ø‡§è‡§ï‡•ç‡§ü ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§¶‡•ç‡§≠‡•Å‡§§ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§Ü‡§™ ‡§ï‡•á‡§µ‡§≤ ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§≤‡•â‡§ú‡§ø‡§ï ‡§î‡§∞ ‡§ï‡•ã‡§° ‡§ï‡•á ‡§∂‡§¨‡•ç‡§¶‡§æ‡§∞‡•ç‡§• ‡§ï‡•ã ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§ß‡•ç...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>‡§¶‡•Ä‡§™‡§ï-‡§≤‡•Å‡§µ‡§æ‡§ï ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡•á‡§µ‡§æ ‡§â‡§®‡•ç‡§Æ‡•Å‡§ñ ‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497572/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§á‡§∏ ‡§§‡§•‡•ç‡§Ø ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§ï‡§ø ‡§∞‡§ø‡§è‡§ï‡•ç‡§ü ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§¶‡•ç‡§≠‡•Å‡§§ ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§Ü‡§™ ‡§ï‡•á‡§µ‡§≤ ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§≤‡•â‡§ú‡§ø‡§ï ‡§î‡§∞ ‡§ï‡•ã‡§° ‡§ï‡•á ‡§∂‡§¨‡•ç‡§¶‡§æ‡§∞‡•ç‡§• ‡§ï‡•ã ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§¨‡§§‡§æ‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§°‡•á‡§ü‡§æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡•§ </font><font style="vertical-align: inherit;">‡§â‡§®‡•§ </font><font style="vertical-align: inherit;">‡§∞‡§æ‡§ú‡•ç‡§Ø ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡§æ‡§≤‡§Ø ‡§ï‡§æ ‡§ö‡§Ø‡§®, ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§ï‡•Ä ‡§ï‡•ã‡§° ‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡•Ä ‡§∂‡•à‡§≤‡•Ä ‡§ï‡§æ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§á‡§∏ ‡§≤‡•á‡§ñ ‡§Æ‡•á‡§Ç, ‡§π‡§Æ ‡§è‡§ï ‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡§æ‡§≤‡§Ø ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§®‡•ç‡§µ‡§ø‡§§ ‡§∏‡•á‡§µ‡§æ-‡§∏‡•ç‡§ü‡•ã‡§∞-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§¶‡•É‡§∑‡•ç‡§ü‡§ø‡§ï‡•ã‡§£ ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á </font></font><code>lamp-luwak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡•§</font></font></p><br>
<p><img src="https://habrastorage.org/webt/h9/b7/0w/h9b70wvofzutf8za1yxms3ro3qo.png" alt="‡§¶‡•Ä‡§™‡§ï-‡§≤‡•Å‡§µ‡§æ‡§ï ‡§õ‡§µ‡§ø"></p><a name="habracut"></a><br>
<p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ü‡•Ä‡§è‡§≤; ‡§°‡•Ä‡§Ü‡§∞</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§ú‡•ã ‡§≠‡•Ä ‡§ï‡•ã‡§° ‡§≤‡§ø‡§ñ‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•à ‡§µ‡§π ‡§Ö‡§ó‡§≤‡•á ‡§™‡•à‡§∞‡§æ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§ï‡•ã ‡§õ‡•ã‡§°‡§º ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§Ü‡§™‡§ï‡•á ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§∏‡§≠‡•Ä ‡§§‡§∞‡•ç‡§ï ‡§∏‡•á‡§µ‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§≠‡§æ‡§ú‡§ø‡§§ ‡§π‡•à‡§Ç, ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§∏‡•á‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§π‡•Ä ‡§™‡§ï‡•ç‡§∑ ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•Ç‡§ö‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§ </font><font style="vertical-align: inherit;">‡§á‡§∏ ‡§∏‡•á‡§µ‡§æ ‡§Æ‡•á‡§Ç ‡§§‡§∞‡•ç‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§≠‡•Ä ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡§Ç ‡§ú‡§π‡§æ‡§Å ‡§Ü‡§™ ‡§Ö‡§®‡•ç‡§Ø ‡§∏‡•á‡§µ‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Ö‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®‡•Ä‡§Ø ‡§™‡§ï‡•ç‡§∑ ‡§ï‡•ã ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§≤‡§ø‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç, ‡§Ø‡•á ‡§´‡§º‡§Ç‡§ï‡•ç‡§∂‡§® ‡§Ö‡§§‡•Å‡§≤‡•ç‡§Ø‡§ï‡§æ‡§≤‡§ø‡§ï ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§∏‡§æ‡§á‡§° ‡§á‡§´‡•á‡§ï‡•ç‡§ü ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</font></font></p><br>
<p><code>lamp-luwak</code>    ,   .         ,      React   <code>useProvide</code>  <code>useSubscribe</code>   .     ,   ,  .</p><br>
<p>        ,     - . ,         embedded .      .</p><br>
<p>                 <code>subscribe</code>.      .</p><br>
<h3 id="pristupim"></h3><br>
<p>      ,     todo-   :</p><br>
<ul>
<li> ;</li>
<li>/    ;</li>
<li> /.</li>
</ul><br>
<h3 id="ustanovka"></h3><br>
<p>  todos  <code>create-react-app</code></p><br>
<pre><code class="bash hljs">npx create-react-app todos --template typescript --use-npm
<span class="hljs-comment"># or</span>
yarn create react-app todos --template typescript</code></pre><br>
<p>    <code>lamp-luwak</code>  todos </p><br>
<pre><code class="bash hljs">npm i --save lamp-luwak
<span class="hljs-comment"># or</span>
yarn add lamp-luwak</code></pre><br>
<h3 id="organizaciya-prilozheniya"> </h3><br>
<p>       ,        React    -      ,   -    .</p><br>
<p> ‚Äî     -,    ,          .<br>
       -,      <code>store</code>.</p><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todos</span> </span>{<font></font>
  store = [ <span class="hljs-comment">/*...*/</span> ];
  <span class="hljs-comment">// ...</span></code></pre><br>
<p>   <code>store</code>      .             .<br>
       </p><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoCounters</span> </span>{<font></font>
  todo = provide(Todo);<font></font>
  <span class="hljs-comment">// ...</span></code></pre><br>
<p>  <code>provide</code>   ,      ,    <code>Todo</code>.<br>
   React </p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> List = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> todo = useProvide(Todo);
  <span class="hljs-comment">// ...</span>
};</code></pre><br>
<p>      -.  React        <code>useProvide</code>,    ‚Äî   - ,    <code>Todo</code>.       ,         .</p><br>
<p> ‚Äî    ,      ,    <code>store</code>    <code>provide</code>  <code>useProvide</code>  /         ,              .</p><br>
<p>    ,  List           <code>Todo</code>.</p><br>
<h3 id="struktura"></h3><br>
<p>    <code>services</code>,  React    <code>components</code>      .</p><br>
<pre><code class="plaintext hljs">sr/<font></font>
  components/       //   React  <font></font>
    Counters.tsx    //     <font></font>
    Input.tsx       //     <font></font>
    Task.tsx        // <font></font>
    List.tsx        //  <font></font>
  services/         //   <font></font>
    Todo/<font></font>
      Task.ts       // <font></font>
    Todo.ts         //   <font></font>
    TodoCounters.ts //      <font></font>
  App.tsx           //   </code></pre><br>
<h3 id="servisy"></h3><br>
<p>        2- .  :</p><br>
<ul>
<li><code>Todo</code> ‚Äî        ,      <code>add</code>    ;</li>
<li><code>TodoCounters</code> ‚Äî          .</li>
</ul><br>
<p>      <code>Todo</code> ,      <code>Task</code>, .. ,  ,    .   ,        ,    .              ,   Date, Map, Set. ( SSR)        ,     UI.         ,   . ,     <code>Task</code>   <code>toggle</code>,     .</p><br>
<p>      <code>Task</code>,          ,    <code>create</code>,      -,            - .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Todo.ts</span>
<span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;
<span class="hljs-keyword">import</span> { Task } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Todo/Task'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Todo</span> </span>{<font></font>
  store = [<font></font>
    create(Task, { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Cook the dinner'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> }),<font></font>
    create(Task, { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'Cook the breakfast'</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">true</span> })<font></font>
  ]<font></font>
  add(label: string) {<font></font>
    <span class="hljs-keyword">this</span>.store = <span class="hljs-keyword">this</span>.store.concat(<font></font>
      create(Task, { <span class="hljs-attr">id</span>: <span class="hljs-built_in">Date</span>.now(), label, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> })<font></font>
    );<font></font>
  }<font></font>
}</code></pre><br>
<p>  <code>Todo</code>.  <code>store</code>       <code>Task</code>,     <code>create</code>.    <code>add</code>,   ,       <code>Task</code>.    <code>id</code>,    <code>Date.now</code>.</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Todo/Task.ts</span>
<span class="hljs-keyword">import</span> { subscribe, modify, action } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;<font></font>
<font></font>
type Store = {<font></font>
  <span class="hljs-attr">id</span>: number,
  <span class="hljs-attr">label</span>: string,
  <span class="hljs-attr">completed</span>: boolean<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TaskChanged = action();<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Task</span> </span>{
  <span class="hljs-attr">store</span>: Store;
  <span class="hljs-keyword">constructor</span>(store: Store) {
    <span class="hljs-keyword">this</span>.store = store;<font></font>
    subscribe(<span class="hljs-keyword">this</span>, TaskChanged);<font></font>
  }<font></font>
  toggle() {<font></font>
    modify(<span class="hljs-keyword">this</span>).completed = !<span class="hljs-keyword">this</span>.store.completed;<font></font>
  }<font></font>
}</code></pre><br>
<p>  <code>Task</code>,  .       : <code>id</code> ,   <code>label</code>    <code>completed</code>.   <code>toggle</code>,        ,   <code>modify</code>,     ,    .</p><br>
<p>        <code>TaskChanged</code>,    <code>action</code>.</p><br>
<p> ‚Äî  ,       .     ,    ‚Äî   <code>dispatch</code>  <code>lamp-luwak</code>.</p><br>
<p>  ,      ,   <code>TaskChanged</code>          <code>Task</code>.      <code>subscribe</code>,   ‚Äî      , ..  ,   ‚Äî  ,         .          <code>TaskChanged</code>,      .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// TodoCounters.ts</span>
<span class="hljs-keyword">import</span> { provide, subscribe } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;
<span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Todo'</span>;
<span class="hljs-keyword">import</span> { TaskChanged } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Todo/Task'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoCounters</span> </span>{<font></font>
  todo = provide(Todo);<font></font>
  store = {<font></font>
    <span class="hljs-attr">active</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">completed</span>: <span class="hljs-number">0</span><font></font>
  }<font></font>
  <span class="hljs-keyword">constructor</span>() {<font></font>
    subscribe(<span class="hljs-keyword">this</span>.todo, <span class="hljs-keyword">this</span>.calculate, <span class="hljs-keyword">this</span>);<font></font>
    subscribe(TaskChanged, <span class="hljs-keyword">this</span>.calculate, <span class="hljs-keyword">this</span>);
    <span class="hljs-keyword">this</span>.calculate();<font></font>
  }<font></font>
  calculate() {<font></font>
    <span class="hljs-keyword">const</span> items = <span class="hljs-keyword">this</span>.todo.store;
    <span class="hljs-keyword">const</span> completed = items.filter(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.store.completed).length;
    <span class="hljs-keyword">const</span> active = items.length - completed;
    <span class="hljs-keyword">this</span>.store = { completed, active };<font></font>
  }<font></font>
}</code></pre><br>
<p>    <code>TodoCounters</code>,   .      2- :</p><br>
<ul>
<li> <code>Todo</code>,             ,     .</li>
<li> <code>TaskChanged</code>   ,       -   <code>Task</code>,         <code>completed</code>,               .</li>
</ul><br>
<p>            <code>calculate</code>.</p><br>
<p>    :</p><br>
<p><img src="https://habrastorage.org/webt/bg/wu/_q/bgwu_q4na_wll4qqasxlgxx_c40.png" alt="‡§∏‡•á‡§µ‡§æ ‡§µ‡§æ‡§∏‡•ç‡§§‡•Å‡§ï‡§≤‡§æ ‡§õ‡§µ‡§ø"></p><br>
<h3 id="otobrazhenie"></h3><br>
<p>    <code>App.tsx</code>,    .</p><br>
<p><code>List</code> ‚Äî   .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// List.tsx</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useProvide } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;
<span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'../services/Todo'</span>;
<span class="hljs-keyword">import</span> { Task } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Task'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> List = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> todo = useProvide(Todo);
  <span class="hljs-keyword">const</span> items = todo.store;
  <span class="hljs-keyword">if</span> (items.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {items.map(item =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">Task</span> <span class="hljs-attr">task</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.store.id}</span> /&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><font></font>
  )<font></font>
};</code></pre><br>
<p>    <code>Todo</code>,   <code>useProvide</code>,    <code>List</code>,      ,    ,       .     ,       .</p><br>
<p><code>Task</code> ‚Äî   .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Task.tsx</span>
<span class="hljs-keyword">import</span> React, { FC } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useSubscribe } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;
<span class="hljs-keyword">import</span> { Task <span class="hljs-keyword">as</span> TaskClass } <span class="hljs-keyword">from</span> <span class="hljs-string">'../services/Todo/Task'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Task: FC&lt;{ <span class="hljs-attr">task</span>: TaskClass }&gt; = <span class="hljs-function">(<span class="hljs-params">{ task }</span>) =&gt;</span> {<font></font>
  useSubscribe(task);<font></font>
  <span class="hljs-keyword">const</span> { label, completed } = task.store;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"toggle"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
          <span class="hljs-attr">checked</span>=<span class="hljs-string">{completed}</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{()</span> =&gt;</span> task.toggle()}
        /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">textDecoration:</span> <span class="hljs-attr">completed</span> ? '<span class="hljs-attr">line-through</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">none</span>'
      }}&gt;</span>
        {label}
      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
  )<font></font>
};</code></pre><br>
<p>       <code>Task</code>,     ,    <code>useSubscribe</code>,             .    ,    <code>toggle</code> .</p><br>
<p><code>Counters</code> ‚Äî      .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Counters.tsx</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useProvide } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;
<span class="hljs-keyword">import</span> { TodoCounters } <span class="hljs-keyword">from</span> <span class="hljs-string">'../services/TodoCounters'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Counters = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> { active, completed } = useProvide(TodoCounters).store;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Active: {active}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Completed: {completed}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span><font></font>
  )<font></font>
};</code></pre><br>
<p>       ,    <code>useProvide</code>  .        ,         <code>TodoCounters</code>.</p><br>
<p><code>Input</code> ‚Äî      .</p><br>
<p>      <code>add</code>  <code>Todo</code>.     ,       <code>Todo</code>,    React <code>useState</code>.</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Input.tsx</span>
<span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { useProvide } <span class="hljs-keyword">from</span> <span class="hljs-string">'lamp-luwak'</span>;
<span class="hljs-keyword">import</span> { Todo } <span class="hljs-keyword">from</span> <span class="hljs-string">'../services/Todo'</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Input = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [text, setText] = useState(<span class="hljs-string">'Cook the lunch'</span>);
  <span class="hljs-keyword">const</span> todo = useProvide(Todo);
  <span class="hljs-keyword">const</span> add = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
    todo.add(text);<font></font>
    setText(<span class="hljs-string">''</span>);<font></font>
  };<font></font>
<font></font>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setText(e.target.value)}
        value={text}
        autoFocus
        onKeyDown={(event: any) =&gt; {
          if (event.keyCode === 13) add();
        }}
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{add}</span>&gt;</span>Add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span><font></font>
  );<font></font>
};</code></pre><br>
<p>    <code>App.tsx</code>,    <code>src</code> ,      .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// App.tsx</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Input } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Input'</span>;
<span class="hljs-keyword">import</span> { List } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/List'</span>;
<span class="hljs-keyword">import</span> { Counters } <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Counters'</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">List</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Counters</span> /&gt;</span>
  <span class="hljs-tag">&lt;/&gt;</span></span><font></font>
);<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App;</code></pre><br>
<p>Enjoy!     .</p><br>
<p>         <code>lamp-luwak</code>,       ,      .        .</p><br>
<h3 id="domashnee-zadanie"> </h3><br>
<p> ,       .</p><br>
<h3 id="v-zaklyuchenie"> </h3><br>
<p>,  ,    ,         .<br>
   .</p><br>
<h3 id="ssylki"></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">Github  </a>;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">NPM </a>;</li>
<li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">Codesandbox</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">Github</a>;</li>
<li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">Codesandbox</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">Github</a>.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi497562/index.html">‡§Æ‡§ø‡§§‡§æ‡§™: ‡§ò‡§∞ ‡§î‡§∞ GOnline ‡§™‡§∞ ‡§∞‡§π‡•á‡§Ç</a></li>
<li><a href="../hi497564/index.html">‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§π‡•à‡§ï ‡§¶‡§ø‡§µ‡§∏ - ‡§ë‡§®‡§≤‡§æ‡§á‡§® ‡§π‡•à‡§ï‡§•‡•â‡§®</a></li>
<li><a href="../hi497566/index.html">‡§π‡§´‡§º‡§Æ‡•à‡§® ‡§∏‡§Ç‡§™‡•Ä‡§°‡§º‡§® ‡§è‡§≤‡•ç‡§ó‡•ã‡§∞‡§ø‡§•‡§Æ</a></li>
<li><a href="../hi497568/index.html">LANIT ‡§ï‡§∞‡•ç‡§Æ‡§ö‡§æ‡§∞‡•Ä ‡§á‡§ü‡§≤‡•Ä ‡§î‡§∞ ‡§¨‡•á‡§≤‡§æ‡§∞‡•Ç‡§∏ ‡§Æ‡•á‡§Ç ‡§¶‡•Ç‡§∞‡§∏‡•ç‡§• ‡§∏‡•ç‡§•‡§æ‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç</a></li>
<li><a href="../hi497570/index.html">IIoT ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡•â‡§∞‡•ç‡§Æ ‡§Æ‡•á‡§Ç ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏: Mail.ru ‡§ï‡•ç‡§≤‡§æ‡§â‡§° ‡§∏‡•â‡§≤‡•ç‡§Ø‡•Ç‡§∂‡§Ç‡§∏ ‡§ï‡§à ‡§°‡§ø‡§µ‡§æ‡§á‡§∏‡•ã‡§Ç ‡§ï‡•á ‡§°‡•á‡§ü‡§æ ‡§ï‡•á ‡§™‡•á‡§ü‡§æ‡§¨‡§æ‡§á‡§ü‡•ç‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à</a></li>
<li><a href="../hi497574/index.html">COVID-19 ‡§Æ‡§π‡§æ‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡•á ‡§∏‡§Ç‡§¶‡§∞‡•ç‡§≠ ‡§Æ‡•á‡§Ç ‡§ë‡§®‡•ç‡§ï‡•ã‡§≤‡•â‡§ú‡•Ä: ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•ã ‡§ï‡•à‡§∏‡•á ‡§¨‡§ö‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§è</a></li>
<li><a href="../hi497578/index.html">‡§è‡§è‡§Æ‡§°‡•Ä ‡§°‡•á‡§ü‡§æ ‡§∏‡•á‡§Ç‡§ü‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡§æ ‡§è‡§ï ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§π‡§æ‡§∏‡§ø‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§§‡§ø‡§¨‡§¶‡•ç‡§ß ‡§π‡•à</a></li>
<li><a href="../hi497580/index.html">‡§ï‡§†‡§ø‡§® ‡§∏‡§Ç‡§ó‡§∞‡•ã‡§ß ‡§¨‡§π‡•Å‡§§ ‡§¨‡•Å‡§∞‡§æ ‡§π‡•à</a></li>
<li><a href="../hi497582/index.html">‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§°‡§ø‡§ú‡§ø‡§ü‡§≤ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡•à‡§Ç‡§ï‡§ø‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§π‡•à‡§¨‡§∞ ‡§™‡§π‡§≤‡•á ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞ ‡§π‡•à</a></li>
<li><a href="../hi497584/index.html">‡§∏‡•ç‡§µ‡§Ø‡§Ç‡§≠‡•Ç ‡§∏‡•ç‡§µ‡§Ø‡§Ç‡§≠‡•Ç: ‡§ï‡•à‡§∏‡•á ‡§Æ‡•à‡§ï‡•ç‡§∞‡•ã‡§¨‡•â‡§ü‡•ç‡§∏ ‡§™‡§ø‡§ï‡•ã‡§ï‡•ã ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§§‡§∞‡§æ‡§ú‡•Ç ‡§ï‡•ã ‡§∞‡•Ç‡§∏ ‡§≤‡•á ‡§Ü‡§è</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>