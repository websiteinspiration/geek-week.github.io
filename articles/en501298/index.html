<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∫ ü§∑üèø üì´ Creating your own QGIS plugin repository üëåüèº üë©üèΩ‚Äç‚öïÔ∏è üö£üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most publicly available QGIS plugins are hosted in the official repository . However, in some cases there is a need to create your own plugin reposito...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Creating your own QGIS plugin repository</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501298/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Most publicly available QGIS plugins are hosted in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">official repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">However, in some cases there is a need to create your own plugin repository, for example, to distribute your plugin in a narrow circle of colleagues of a particular organization. </font><font style="vertical-align: inherit;">In this article we will look at how to implement our own plugin repository, and also discuss the minimum requirements that a plug-in must meet in order to place it in its own repository.</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note 1</font></font></b>
                        <div class="spoiler_text"> ,           QGIS  . ,        ,       :<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">https://plugins.qgis.org/publish/</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Releasing your plugin</a><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note 2</font></font></b>
                        <div class="spoiler_text">,   ,    QGIS 3.10.5 LTR.<br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin Manager</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QGIS has a special tool for working with plugins - the plugin manager. </font><font style="vertical-align: inherit;">It allows you to search for plugins, install and remove them, track the appearance of new versions of installed plugins, connect third-party repositories, etc. </font><font style="vertical-align: inherit;">For each plugin, the plugin manager provides a window with information about the plugin. </font><font style="vertical-align: inherit;">There are three scenarios for filling this information:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The plugin is in the repository, but not installed on your computer. </font><font style="vertical-align: inherit;">In this case, all information for the plugin manager is extracted from the plugin description in the plugins.xml file.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The plugin is installed on your computer and there is a connection with the repository. </font><font style="vertical-align: inherit;">In this case, part of the information is still extracted from the plugin description in the plugins.xml file, and part from the metadata file metadata.txt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The plugin is installed on your computer and there is no connection with the repository. </font><font style="vertical-align: inherit;">In this case, all information for the plugin manager is extracted from the metadata file metadata.txt.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The table below describes where the parameters come from in the window with information about the plugin, in each of three cases:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parameter in the plugin information window in the QGIS plugin manager</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The source from which the parameter is taken before installation from the repository</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The source from which the parameter is taken when the plug-in is installed on your computer and there is a connection with the repository</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The source from which the parameter is taken when the plug-in is installed on your computer and there is no connection with the repository</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Name</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (name property of pyqgis_plugin tag)</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (name property of pyqgis_plugin tag)</font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Description</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> About</font></font><br>
 </td>
<td> <font color="blue"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Installed version</font></font><br>
 </td>
<td></td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(version parameter)</font></font><br>
 </td>
<td> <font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;(version parameter)</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Available version</font></font><br>
 </td>
<td> <font color="blue">plugins.xml</font>&nbsp;( version  pyqgis_plugin)<br>
 </td>
<td> <font color="blue">plugins.xml</font>&nbsp;( version  pyqgis_plugin)<br>
 </td>
<td> </td>
</tr>
<tr>
<td> Download url<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> </td>
</tr>
<tr>
<td> Changelog<br>
 </td>
<td></td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Tags<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Author<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Email<br>
 </td>
<td></td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Homepage<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Bug tracker<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Code repository<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> QgisMinimumVersion<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> QgisMaximumVersion<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Experimental<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Deprecated<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Icon<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
<tr>
<td> Category<br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="blue">plugins.xml</font><br>
 </td>
<td> <font color="green">metadata.txt</font><br>
 </td>
</tr>
</tbody></table></div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"> </b>
                        <div class="spoiler_text"><ul>
<li> ,       QGIS,   metadata.txt  plugins.xml  .      initGui()   .</li>
<li> Installed version  Available version,  QGIS   .  Installed version  Available version,  QGIS   ¬´Installed version of this plugin is higher than any version found in repository¬ª.       ,  ,   .</li>
<li>        ,     metadata.txt  plugins.xml .        .</li>
<li> Available version   plugins.xml   version  pyqgis_plugin,     version.</li>
<li>  metadata.txt  plugins.xml    Experimental  Deprecated,           .</li>
<li>   QGIS     (QgisMinimumVersion)   (QgisMaximumVersion) ,   metadata.txt  plugins.xml.</li>
<li>    ,       .     ,      QgisMinimumVersion + 0.99.</li>
</ul><br>
</div>
                    </div><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each plugin in the repository must be packaged in a separate zip archive, in which the root folder must be present, and in it are the files of your plugin along with the metadata.txt file. </font><font style="vertical-align: inherit;">By the name of the root folder, the QGIS plugin manager will match the locally installed plugins with the plugins available in the repository. </font><font style="vertical-align: inherit;">The features of such a comparison will be discussed below in the section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Communication between the local plugin and the plugin in the repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A workable QGIS plugin should contain only two required files in its directory:</font></font><br>
&nbsp;<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__init__.py is the starting point of the plugin. </font><font style="vertical-align: inherit;">The file must contain the classFactory () method.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metadata.txt - contains general information about the plugin. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An example of a plugin with a minimal set of files can be found </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can study the structure of plugins in more detail in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">official documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metadata file</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As already noted, in the directory of each plugin there must be a metadata.txt file containing general information about the plugin. </font><font style="vertical-align: inherit;">The information from it is used to display in the QGIS plugin manager, search for a plugin, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The metadata file structure should be as follows:</font></font><br>
<br>
<pre><code class="plaintext hljs">[general]<font></font>
Parameter1_Name: Parameter1_Value<font></font>
Parameter2_Name: Parameter2_Value<font></font>
‚Ä¶<font></font>
ParameterN_Name: ParameterN_Value</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or:</font></font><br>
<br>
<pre><code class="plaintext hljs">[general]<font></font>
Parameter1_Name= Parameter1_Value<font></font>
Parameter2_Name= Parameter2_Value<font></font>
‚Ä¶<font></font>
ParameterN_Name= ParameterN_Value</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can use either a colon or the "=" symbol as a separator for the parameter name and its value. </font><font style="vertical-align: inherit;">However, it is not necessary that there is only one type of delimiter in a single metadata file. </font><font style="vertical-align: inherit;">Spaces before and after the separator do not affect the reading of data from metadata.txt, therefore, they can be in any quantity or absent altogether. </font><font style="vertical-align: inherit;">Note also that the keyword "[general]" at the beginning of the metadata file is required. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The required parameters, without which the plug-in may be interrupted, are as follows:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name - name of the plugin,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version - plugin version,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qgisMinimumVersion is the minimum version of QGIS suitable for working with this plugin.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can find out information about other parameters </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugins.xml</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Each repository should contain a plugins.xml file that provides general information for the plugin manager about all the plugins available in the repository.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note</font></font></b>
                        <div class="spoiler_text">  ,       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The structure of plugins.xml should be as follows:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Plugin1_Name"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"Plugin1_Version"</span>&gt;</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">Plugin1_Parameter1_Name</span>&gt;</span>Plugin1_Parameter1_Value<span class="hljs-tag">&lt;/<span class="hljs-name">Plugin1_Parameter1_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">Plugin1_Parameter2_Name</span>&gt;</span>Plugin1_Parameter2_Value<span class="hljs-tag">&lt;/<span class="hljs-name">Plugin1_Parameter2_Name</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">Plugin1_ParameterN_Name</span>&gt;</span>Plugin1_ParameterN_Value<span class="hljs-tag">&lt;/<span class="hljs-name">Plugin1_ParameterN_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp; ...<font></font>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PluginN_Name"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"PluginN_Version"</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">PluginN_Parameter1_Name</span>&gt;</span>PluginN_Parameter1_Value<span class="hljs-tag">&lt;/<span class="hljs-name">PluginN_Parameter1_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">PluginN_Parameter2_Name</span>&gt;</span>PluginN_Parameter2_Value<span class="hljs-tag">&lt;/<span class="hljs-name">PluginN_Parameter2_Name</span>&gt;</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">PluginN_ParameterN_Name</span>&gt;</span>PluginN_ParameterN_Value<span class="hljs-tag">&lt;/<span class="hljs-name">PluginN_ParameterN_Name</span>&gt;</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The required parameters without which the repository may be interrupted are the following:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name - the name of the plugin (indicated as a parameter of the pyqgis_plugin tag)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version - version of the plugin (specified as a parameter of the pyqgis_plugin tag),</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qgis_minimum_version - the minimum version of QGIS suitable for working with this plugin,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">download_url - url where the zip archive with your plugin is located.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is recommended to study the example plugins.xml file from the official </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QGIS repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (replace the numbers at the end of the link with the version of QGIS installed on your computer).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tip</font></font></b>
                        <div class="spoiler_text">  plugins.xml,         .      xml.<br>
</div>
                    </div><br>
<a name="link"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The relationship between the local plugin and the plugin in the repository</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How does the plugin manager understand that a certain plugin installed on your computer and a plugin in the connected repository are the same plugin, for example, in order to check if a new version of the plugin has appeared in the repository? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Without going into technical details, the rule for connecting plugins is as follows: the local plug-in and the plug-in in the repository are considered by the QGIS plug-in manager to be the same plug-in if the name of the plug-in root folder matches either the text up to the first point from the file_name tag, or if the file_name tag is missing, with text to the first point of the last path element from the download_url tag.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In other words, if the file_name tag is present in the plugin description from plugins.xml, then the part to the first point (highlighted in bold) will be extracted from it, which must be exactly the name of the root folder of the installed plugin so that the QGIS plugin manager considers them to be one and the same plugin. </font><font style="vertical-align: inherit;">
If the file_name tag is missing, the last path element from the download_url tag will be parsed in the same way. The part extracted from it to the first point (highlighted in bold) must also be exactly the name of the root folder of the installed plug-in so that the QGIS plug-in manager considers them to be the same plug-in. </font><font style="vertical-align: inherit;">
If there is no match between the name of the root folder and the extracted part from file_name, or (if file_name is missing) from download_url, then the plugins are considered different plugins.</font></font><br>
<br>
<code>&lt;file_name&gt;<strong>PluginName</strong>.2.1.0.zip&lt;/file_name&gt;</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<code>&lt;download_url&gt;YourRepositoryURL/<strong>PluginName</strong>.2.1.0.zip&lt;/download_url&gt;</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considering this rule, it is recommended to add the file_name tag in the plugins description in the plugins.xml file, which does not indicate the name of your zip archive, but the name of the root folder of your plugin, to which you can optionally add a version or other information, separating them with a dot. </font><font style="vertical-align: inherit;">In this case, you can name the zip archive with the plugin as you like, including by separating the name of the plugin and its version with a hyphen, as is customary in the official repository.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note</font></font></b>
                        <div class="spoiler_text">   QGIS   file_name         . <br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examples of correctly designed plugins</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example 1</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin File Structure</font></font></h4><br>
<code>FolderName.SomeInfo.zip<br>
---FolderName<br>
------__init__.py<br>
------metadata.txt</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metadata.txt file</font></font></h4><br>
<code>[general]<br>
name: PluginName<br>
version: 2.1.0<br>
qgisMinimumVersion: 3.0</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugins.xml file</font></font></h4><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>&nbsp;
   <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PluginName"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"2.1.0"</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">qgis_minimum_version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">qgis_minimum_version</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">download_url</span>&gt;</span>YourRepositoryURL/FolderName.SomeInfo.zip<span class="hljs-tag">&lt;/<span class="hljs-name">download_url</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example, the connection between the plugin installed locally on your computer and the plugin in the repository is through the name of the root folder and the download_url tag. </font><font style="vertical-align: inherit;">Therefore, the part of the name of the zip archive to the first point and the name of the root folder of the plugin must match exactly.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example 2</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin File Structure</font></font></h4><br>
<code>ArchiveName.SomeInfo.zip<br>
---FolderName<br>
------__init__.py<br>
------metadata.txt</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metadata.txt file</font></font></h4><br>
<code>[general]<br>
name: PluginName<br>
version: 2.1.0<br>
qgisMinimumVersion: 3.0</code><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugins.xml file</font></font></h4><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">pyqgis_plugin</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PluginName"</span> <span class="hljs-attr">version</span>=<span class="hljs-string">"2.1.0"</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">qgis_minimum_version</span>&gt;</span>3.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">qgis_minimum_version</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">file_name</span>&gt;</span>FolderName.SomeInfo<span class="hljs-tag">&lt;/<span class="hljs-name">file_name</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-tag">&lt;<span class="hljs-name">download_url</span>&gt;</span>YourRepositoryURL/ArchiveName.SomeInfo.zip<span class="hljs-tag">&lt;/<span class="hljs-name">download_url</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">pyqgis_plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example, the connection between the plugin installed locally on your computer and the plugin in the repository is through the name of the root folder and the file_name tag. </font><font style="vertical-align: inherit;">In this case, the part of the name of the zip archive to the first point and the name of the root folder may differ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create Repository</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The QGIS plugin repository should consist of a plugins.xml file that provides general information for the plugin manager about all plugins available in the repository and zip archives containing the plugins themselves. The repository can be hosted on web services such as GitHub or Bitbucket. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An important requirement for QGIS to recognize such a repository is to access files through a direct link. This can be done, for example, using Github Pages or Bitbucket Pages. Google Drive or DropBox will not work for these purposes. they do not allow a direct link to a file of the form ... / filename.extension. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instructions for using GitHub to host a static website are located </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instructions on how to use Bitbucket to host a static website are located </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a rule, you just need to rename your repository according to the template: </font></font><br>
<br>
<code>username.github.io </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(for GitHub) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
or </font></font><br>
<code>username.bitbucket.io </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(for Bitbucket) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After the necessary settings, the link to your QGIS repository will look like this: </font></font><br>
<br>
<code>username.github.io/plugins.xml </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(for GitHub) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
or </font></font><br>
<code>username.bitbucket.io/plugins.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(for Bitbucket) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This link must be specified in the URL field in the QGIS plugin manager when connecting a new repository. </font><font style="vertical-align: inherit;">If the connection to the repository is successful, then the status of the repository will be set to ‚Äúconnected‚Äù, and the plugins described in the plugins.xml file will appear in the list of available plugins.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en501282/index.html">Coronavirus side effect: robots will occupy our jobs even faster</a></li>
<li><a href="../en501284/index.html">8 questions about unmanned vehicles from Silicon Valley</a></li>
<li><a href="../en501286/index.html">Easygui python basics. Part 1</a></li>
<li><a href="../en501292/index.html">Estimation of the cost of commercial ships. Arithmetic and common sense</a></li>
<li><a href="../en501296/index.html">How to make a career as a programmer without solving a business problem</a></li>
<li><a href="../en501300/index.html">React and Atlaskit in Atlassian server and data center plugins</a></li>
<li><a href="../en501302/index.html">Please do not make noise</a></li>
<li><a href="../en501306/index.html">Building a pipeline to deliver Graal Native Image to end users</a></li>
<li><a href="../en501308/index.html">We try and understand StateFlow</a></li>
<li><a href="../en501310/index.html">About hydrogen peroxide and the rocket bug</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>