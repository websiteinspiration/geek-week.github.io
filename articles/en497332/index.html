<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✌🏻 🐅 👨🏿‍🚒 Houston, we have a problem. System Design Failure 🏊 🔒 ❗️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In 1970, American engineers launched the Apollo 13 spacecraft to the moon. On board are three batteries of fuel cells, there is nothing to worry about...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Houston, we have a problem. System Design Failure</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/497332/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In 1970, American engineers launched the Apollo 13 spacecraft to the moon. On board are three batteries of fuel cells, there is nothing to worry about, everything is reliably and repeatedly duplicated. But no one could have imagined that the explosion of an oxygen cylinder would disable two of the three batteries. Tragedy! The astronauts returned home, a feature film was made about the event with Tom Hanks, and the phrase of the astronaut Jack Swigert: “Houston, we have a problem!”, Went down in history. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/oj/oi/iuojoilj6ikne43fxjqm5q6bjm4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The story of Apollo 13 is another proof of the well-known fact that you can not prepare for all possible troubles. This is a natural property of the world: iron breaks periodically, code crashes, and people make mistakes. It is impossible to completely eliminate this.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For large distributed systems, this behavior is normal; it is a consequence of economies of scale and statistics. </font><font style="vertical-align: inherit;">That is why Design for Failure (AWS) is the basic design principle for AWS cloud services. </font><font style="vertical-align: inherit;">The systems are initially built in such a way as to restore full-time operation as quickly as possible and minimize damage from known and yet unknown failures. </font><font style="vertical-align: inherit;">At </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HighLoad ++,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vasily Pantyukhin, using real-life problems with combat services as an example, showed design patterns for distributed systems that AWS developers use.</font></font><br>
<a name="habracut"></a><br>
 <strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vasily Pantyukhin</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Is the architect of Amazon Web Services in Europe, the Middle East and Africa. He started as a Unix administrator, worked at Sun Microsystem for 6 years, taught technical courses, and for 11 years he taught the world’s data-centricity at EMC. In an international team, he designed and implemented projects from Cape Town to Oslo. Now it helps large and small companies to work in public clouds.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RxWVxr4uUpI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 1949, an airplane accident was investigated at a California air force base. </font><font style="vertical-align: inherit;">One of the engineers who did this was Edward Murphy. </font><font style="vertical-align: inherit;">He described the work of local technicians as follows: “If there are two ways to do something and one of them leads to disaster, then someone will choose this method.” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Later, thanks to Arthur Bloch, the statement went down in history as one of Murphy's laws. </font><font style="vertical-align: inherit;">In Russian - the law of meanness. </font><font style="vertical-align: inherit;">Its essence is that it will not be possible to avoid breakdowns and human errors, and will have to live with it somehow. </font><font style="vertical-align: inherit;">That is why, when designing, we immediately put failures and failures of individual components into our systems.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Failure Design</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In design for failure, we are trying to improve three characteristics:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">accessibility (those same "nines");</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reliability - the property of the system to provide the necessary level of service;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fault tolerance - a property of the system to prevent the occurrence of problems and recover quickly after them.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reliability has the property of “ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">known</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unknowns”. </font><font style="vertical-align: inherit;">We protect ourselves from known problems, but do not know when they will occur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“ </font></font><em><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> known unknowns”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is </font><font style="vertical-align: inherit;">added to fault tolerance </font><font style="vertical-align: inherit;">- these are surprise problems that we know nothing about. </font><font style="vertical-align: inherit;">Many of these problems in the cloud are related to economies of scale: the system grows to the size when new, amazing, and unexpected effects appear. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Failure is usually not a binary phenomenon. </font><font style="vertical-align: inherit;">Its main property is </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“blast radius”</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or the level of degradation of the service, radius of destruction. </font><font style="vertical-align: inherit;">Our task is to reduce the "blast radius" of systems.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If we recognize that problems cannot be avoided, then we must proactively prepare for them. </font><font style="vertical-align: inherit;">This means that we design services in such a way that in case of troubles (they will certainly be), we control problems, and not vice versa.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When we respond to a problem, it controls us.</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data plane and Control plane</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surely, you have electronics at home that is controlled by a remote control, such as a TV. </font><font style="vertical-align: inherit;">The TV screen is part of the Data plane - that directly performs the function. </font><font style="vertical-align: inherit;">The remote control is the user interface - Control plane. </font><font style="vertical-align: inherit;">It is used to manage and configure the service. </font><font style="vertical-align: inherit;">In the cloud, we try to separate the Data plane and the Control plane for testing and development. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Users, most often, do not see the complexity of the Control plane. </font><font style="vertical-align: inherit;">But mistakes in its design and implementation are the most common causes of mass failures. </font><font style="vertical-align: inherit;">That's why my advice is focused on the Control plane - sometimes explicitly, sometimes not.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The story of one trouble</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In July 2012, a severe storm passed in Northern Virginia. The data center has protection, diesel generators, etc., but it so happened that in one of the data centers of one of the availability zones (Availability Zone, AZ) of the North Virginia region, power was lost. Electricity was quickly restored, but the restoration of services dragged on for hours. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ig/ev/yd/igevydk5zuise0toukfgy9gdxsw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I’ll tell you about the reasons on the example of one of the basic services - CLB (Classic Load Balancer). It works simply: when you start a new balancer in each availability zone, separate instances are created, the IP of which will resolve the DNS. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/al/l0/gwall0xgawp614yocrkqtoz87dk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When one of the instances fails, a message about this is sent to a special database. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sk/ts/bj/sktsbjffpcebdnovro-u6dyr0pu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In response, the procedures start: deleting records from DNS, starting a new instance and adding a new IP to DNS.</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note: This is how the system worked in the past, now everything is fundamentally different.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Everything is simple - there is nothing to break. But during a mass failure, when thousands of instances collapse at the same time, a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">huge Backlog</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appears </font><strong><font style="vertical-align: inherit;">in the database</font></strong><font style="vertical-align: inherit;"> from messages for processing. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r2/--/nw/r2--nw4kqcrocoysqgptvysranu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But it got worse. Control plane is a distributed system. Due to a bug, we received duplicates and thousands of records in the database swelled up to hundreds of thousands. It became very difficult to work with this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a failure occurs at one of the instances, all traffic is almost instantly switched to the surviving machines and the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">load doubles</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (in the example, for simplicity, there are only two access zones). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uz/jl/ox/uzjloxrf6wvv5hrju2-votyb-o4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are not enough resources, a live instance automatically starts to </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. The process takes a relatively long time. Everything happens peak and at the same time with a huge number of instances - the free resources of the availability zone are ending. The "fight" for resources begins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Northern Virginia, automation failed to cope with the massive failure, and engineers manually (using scripts) restored the services to work. Such troubles are rare. During the debriefing, questions arose about the causes of the failure, they decided that the situation should no longer be repeated and the whole service should be changed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The eight patterns that I will cover are answers to some of the questions. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note. This is our experience in service design, not universal wisdom for widespread use. Patterns are used in specific situations.</font></font></em><br>
<br>
<em>      —  .   AWS           .    — ,  .    .     —     .     !</em><br>
<br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To minimize the impact of failures, a lot of approaches. One of them is to answer the question: “How can I make sure that users who do not know about a problem do not know anything about it during a failure and during recovery?” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our huge Backlog gets not only crash messages, but also others, for example, about scaling or that someone is launching a new balancer. Such messages need to be isolated from each other, functionally grouping: a separate group of recovery messages after a failure, separately launching a new balancer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose ten users noticed a problem - one of the nodes of their balancers fell. Services somehow work on the remaining resources, but the problem is felt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3c/wu/3a/3cwu3agcfwjtemyacuneqwtmrfm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have ten frustrated users. </font><font style="vertical-align: inherit;">The eleventh appears - he does not know anything about the problem, but simply wants a new balancer. </font><font style="vertical-align: inherit;">If his request to put down the queue for processing, then most likely he will not wait. </font><font style="vertical-align: inherit;">While other processing procedures are complete, the request time will end. </font><font style="vertical-align: inherit;">Instead of ten frustrated users, we will have eleven. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To prevent this from happening, we </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prioritize some requests</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - we put the queues at the top, for example, requests for new resources. </font><font style="vertical-align: inherit;">With a mass failure, a relatively small number of such requests will not affect the recovery time of other customers' resources. </font><font style="vertical-align: inherit;">But in the recovery process, we will restrain the number of users involved in the problem.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Full time job</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The response to problem reports is the launch of recovery procedures, in particular, work with DNS. Mass failures are huge peak loads on the Control plane. The second pattern helps the Control plane to be more </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stable and predictable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in such a situation. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fg/dv/zm/fgdvzmrez2rrlgfsc4ztmxmkaxu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We use an approach called </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Constant work - permanent work</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/pa/ee/ripaeenvgoadihywoj90c7vvopa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, DNS can be made a little smarter: it will constantly check the instances of the balancer, whether they are alive or not. The result will be a bitmap each time: the instance responds - 1, dead - 0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNS checks the instances every few seconds, regardless of whether the system is restored after a mass failure or is operating normally. He does the same job - no peaks, everything is predictable and stable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another simplified example: we want to change the configuration on a large fleet. </font><font style="vertical-align: inherit;">In our terminology, a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fleet is a group of virtual machines</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that together do some work. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nb/wq/go/nbwqgolicpqizt1bkehgk4ney9c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We place the configuration changes in the S3 bucket, and every 10 seconds (for example) push all this configuration to our fleet of virtual machines. </font><font style="vertical-align: inherit;">Two important points.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We do this regularly</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and never break the rule. </font><font style="vertical-align: inherit;">If you choose a segment of 10 seconds, then push only this way, regardless of the situation.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We always give the whole configuration</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , regardless of whether it has changed or not. </font><font style="vertical-align: inherit;">The data plane (virtual machines) themselves decide what to do with it. </font><font style="vertical-align: inherit;">We do not push the delta. </font><font style="vertical-align: inherit;">It can become very large with massive disruptions or changes. </font><font style="vertical-align: inherit;">Potentially, this can contribute to instability and unpredictability.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When we perform some kind of permanent work, we pay more for it. For example, 100 virtual machines request a configuration every second. It costs about $ 1200 per year. This amount is essentially less than the salary of a programmer, to whom we can entrust the development of a Control plane with a classical approach - a reaction to a failure and the distribution of only configuration changes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you change the configuration every few seconds, as in the example, then this is slow. But in many cases, a configuration change or the launch of services takes minutes - a few seconds do not solve anything. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seconds are important for services in which the configuration must change instantly, for example, when changing VPC settings. Here "permanent work" is not applicable. This is just a pattern, not a rule. If this does not work in your case, do not use.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preliminary scaling</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In our example, when the balancer instance crashes, the second surviving instance receives the load doubling almost immediately and begins to scale. </font><font style="vertical-align: inherit;">In a massive failure, it eats up a huge amount of resources. </font><font style="vertical-align: inherit;">The third pattern helps to control this process - to </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scale in advance</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the case of two availability zones, we scale when disposing less than 50%. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ch/wy/n4/chwyn4ffipap4mcwshur7bikoj4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If everything is done in advance, then in case of failure the surviving instances of the balancer are ready to accept doubled traffic. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Previously, we scaled only with high utilization, for example, 80%, and now at 45%. </font><font style="vertical-align: inherit;">The system is idle most of the time and becomes more expensive. </font><font style="vertical-align: inherit;">But we are ready to put up with this and actively use the pattern, because this </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is insurance</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">You have to pay for insurance, but in case of serious trouble the win covers all expenses. </font><font style="vertical-align: inherit;">If you decide to use the pattern, calculate all the risks and the price in advance.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cellular architecture</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are two ways to construct and scaled services: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the monolith</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">honeycomb structure</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (cell-based). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nc/y7/ab/ncy7abk8fzjvr8lsez7wwcjuc70.png"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The monolith</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> develops and grows as a single large container. </font><font style="vertical-align: inherit;">We add resources, the system swells, we run into different limits, linear characteristics become non-linear and go into saturation, and the “blast radius” of the system - the whole system.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the monolith is poorly tested, it increases the likelihood of surprises - “unknown unknowns”. But a large monolith cannot be fully tested. Sometimes for this you will have to build a separate access zone, for example, for a popular service that is built as a monolith within the access zone (this is a lot of data centers). In addition to somehow creating a huge test load that is similar to the present, this is impossible from a financial point of view. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, in most cases, we use a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cellular architecture</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a configuration in which a system is built from cells of a fixed size. By adding cells, we scale it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cellular architecture is popular in the AWS cloud. It helps isolate glitches and </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reduce blast radius.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to one or more cells. We can fully test medium-sized cells, this seriously reduces the risks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A similar approach is used in shipbuilding: the hull of a ship or vessel is divided by partitions into compartments. In the event of a hole, one or more compartments are flooded, but the ship does not sink. Yes, it didn’t help the Titanic, but we rarely encounter iceberg problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will illustrate the application of the mesh approach using the Simple Shapes Service as an example. This is not an AWS service, I came up with it myself. This is a set of simple APIs for working with simple geometric shapes. You can create an instance of a geometric shape, request the type of a shape by its id, or count all instances of a given type. For example, </font></font><code>put(triangle)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a “triangle” object with some id is created </font><font style="vertical-align: inherit;">on a request </font><font style="vertical-align: inherit;">.</font></font><code>getShape(id)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">returns the type "triangle", "circle" or "rhombus". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7t/z6/dv/7tz6dv0w3f9laswjhuwtbpedggs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To make a service cloudy, it must be used by different users at the same time. </font><font style="vertical-align: inherit;">Let's make it multi-tenant. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/64/hk/pq/64hkpq9niokkw8w-w9rsu7m-w04.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, you need to come up with a way to partition - to separate the figures into cells. </font><font style="vertical-align: inherit;">There are several options for choosing partition key. </font><font style="vertical-align: inherit;">The simplest one is </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in the geometric shape</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : all rhombuses in the first cell, circles in the second, triangles in the third. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This method has pros and cons.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If there are noticeably fewer circles than other figures, then the corresponding cell will remain underutilized (uneven distribution).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Some API requests are easy to implement. </font><font style="vertical-align: inherit;">For example, counting all the objects in the second cell, we find the number of circles in the system.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Other queries are more complicated. </font><font style="vertical-align: inherit;">For example, to find a geometric shape by id, you have to go through all the cells.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second way is to use the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id of objects by ranges</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : the first thousand objects in the first cell, the second in the second. </font><font style="vertical-align: inherit;">So the distribution is more uniform, but there are other difficulties. </font><font style="vertical-align: inherit;">For example, to count all the triangles, you need to use the method </font></font><code>scatter/gather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: we distribute the requests in each cell, it counts the triangles inside itself, then it collects the answers, summarizes and produces the result. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The third way - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tenant division</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(to users). Here we are faced with a classic problem. There are usually a lot of “small” users in the cloud who try something and practically do not load the service. There are mastodon users. They are few, but they consume a huge amount of resources. Such users will never fit into any cell. You have to come up with tricky ways to distribute them among many cells. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/1i/3c/wp1i3c0ac5bjnvnxividrzrq6fk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is no ideal way, each service is individual. The good news is that worldly wisdom works here - chopping firewood is more convenient along the fibers, rather than chopping them across. In many services, these “fibers” are more or less obvious. Then you can experiment and find the optimal partition key.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cells are interconnected (albeit weakly). Therefore, there must be a connecting level. Often it is called the routing or mapping layer. It is needed to understand which cells to send specific requests to. This level should be as simple as possible. Try not to lay business logic in it. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mg/os/ox/mgosox1qloxyngz5k1fd4wwy_ws.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The question arises of the size of the cells: small - bad, large - also bad. There is no universal advice - decide according to the situation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the AWS cloud, we use logical and physical cells of different sizes. There are regional services with a large cell size, there are zone services, where the cells are smaller. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z9/s8/k-/z9s8k-8v60dwwojzqv86ozp7s7k.png"><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note. I talked about microcells at Saint Highload ++ Online in early April this year. There I discussed in detail an example of the specific use of this pattern in our Amazon EBS core service.</font></font></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multi-tenant</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When a user launches a new balancer, he receives instances in each availability zone. </font><font style="vertical-align: inherit;">Regardless of whether resources are used or not, they are allocated and belong exclusively to this tenant of the cloud. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For AWS, this approach is inefficient, because the utilization of service resources is on average very low. </font><font style="vertical-align: inherit;">This affects the cost. </font><font style="vertical-align: inherit;">For cloud users, this is not a flexible solution. </font><font style="vertical-align: inherit;">It cannot adapt to rapidly changing conditions, for example, to provide resources with an unexpectedly increased load in the shortest time. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fk/52/xg/fk52xgzaaqhgq09uw_zlhbhxpfc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CLB was the first balancer in the Amazon cloud. </font><font style="vertical-align: inherit;">Services today use a multi-tenant approach, such as NLB (Network Load Balancer). </font><font style="vertical-align: inherit;">The basis, the "engine" of such network services is </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HyperPlane</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">This is an internal, invisible to end users, huge fleet of virtual machines (nodes). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-b/65/3a/-b653as3g91ombi9itfq5wwqjxg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Advantages of the </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multi-tenant approach</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or the fifth pattern.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fault tolerance is fundamentally higher</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In HyperPlane, a huge number of nodes are already running and are waiting for the load. </font><font style="vertical-align: inherit;">Nodes know the state of each other - when some resources fail, the load is instantly distributed among the remaining ones. </font><font style="vertical-align: inherit;">Users do not even notice mass crashes.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peak load protection</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tenants live their own lives and their loads usually do not correlate with each other. </font><font style="vertical-align: inherit;">The total average load on HyperPlane is quite smooth.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilization of such services is fundamentally better</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Therefore, providing better performance, they are cheaper.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That sounds cool! But the multitenant approach has drawbacks. In the figure, the HyperPlane fleet with three tenants (rhombuses, circles and triangles), which are </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">distributed across all nodes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kv/by/dg/kvbydgnlm6a8plns-cewltag1e8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This raises the classic Noisy neighbor problem: the destructive action of the tenant, which generates ultra-high or bad traffic, will potentially affect all users. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3f/b9/v4/3fb9v4-hnl27k0sgihgjybo_x70.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“Blast radius” in such a system is all tenants. The likelihood of a destructive “noisy neighbor” in the real AWS availability zone is not high. But we must always be prepared for the worst. We defend ourselves using a mesh approach - we select groups of nodes as cells. In this context, we call them shards. Cells, shards, partitions - here it is one and the same.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d1/7z/yy/d17zyyesjijnpsqpllrwhlthqn4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this example, a rhombus, as a "noisy neighbor", will affect only one tenant - a triangle. </font><font style="vertical-align: inherit;">But the triangle will be very painful. </font><font style="vertical-align: inherit;">To smooth out the effect, apply the sixth pattern - mixing sharding.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shuffling sharding</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We randomly distribute tenants to nodes. </font><font style="vertical-align: inherit;">For example, a rhombus lands on 1, 3 and 6 nodes, and a triangle on 2, 6 and 8. We have 8 nodes and a shard of size 3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ft/6n/-w/ft6n-wgdpnlw1g5_t6thpanrtdm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here simple combinatorics work. </font><font style="vertical-align: inherit;">With a probability of 54%, there will be only one intersection between the tenants. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cg/uu/jq/cguujqg-8xjmp-cktarugsfdd6c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Noisy neighbor" will affect only one tenant, and not the whole load, but only 30 percent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider a configuration close to real - 100 nodes, shard size 5. With a probability of 77%, there will be no intersections at all. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/14/tj/dr/14tjdrziuvtturqjld0comvzycy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shuffle sharding can significantly reduce the "blast radius". </font><font style="vertical-align: inherit;">This approach is used in many AWS services.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“A small fleet causes a large fleet, and not vice versa”</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When recovering from a mass failure, we update the configuration of many components. A typical question in this case is to push or bullet a changed configuration? Who is the initiator of the changes: the source containing the configuration changes, or its consumers? But these questions are wrong. The right question is which fleet is bigger? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider a simple situation: a large fleet of front-end virtual machines and a certain number of backends. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vg/av/er/vgaverdwdhgvag5w_pbichyvro0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We use a mesh approach - groups of front-end instances will work with certain backends. To do this, determine the routing - mapping of backends and frontends working with them. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bx/_a/_a/bx_a_ayxwrvjrvh9uwmaj5ifsru.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Static routing is not suitable. Hash algorithms do not work well in mass failures, when you need to quickly change most of the routes. Therefore it is better to use</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dynamic routing</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Next to the large fleets of front-end and back-end instances, we put a small service that will deal only with routing. He will know and assign a backend and frontend mapping at any given time. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/o3/kl/jio3kl9vxu3hx5p9b1uvfgxsih8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose we had a big crash, many front-end instances fell. They begin to recover massively and almost simultaneously request mapping configuration from the routing service. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nd/qv/fz/ndqvfzx9d_2qn6nfnu8bpmmjrqc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A small routing service is bombarded with a huge number of requests. He will not cope with the load, in the best case, it will degrade, and in the worst he will die. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, it’s correct not to request configuration changes from a small service, but rather build your system so that the “baby” itself</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">initiated configuration changes towards a large fleet of instances</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ua/hf/gq/uahfgqlyxt-yn190bzu-q8on_rw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We use the pattern of constant work. </font><font style="vertical-align: inherit;">A small routing service will send configuration to all front-end fleet instances once every few seconds. </font><font style="vertical-align: inherit;">He will never be able to overload a great service. </font><font style="vertical-align: inherit;">Seventh pattern helps improve </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stability and resiliency</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first seven patterns enhance the system. </font><font style="vertical-align: inherit;">The latter pattern works differently.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dropping load</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Below is a classic graph of the delay versus load. </font><font style="vertical-align: inherit;">On the right side of the graph is the “knee”, when at extremely high loads even a small increase leads to a significant increase in latency.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sb/fw/vq/sbfwvqhbni-3lzbd0gjlnorzzqi.png" width="450"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In normal mode, we never take our services to the right side of the schedule. An easy way to control this is to add resources on time. But we are preparing for any troubles. For example, we can move to the right side of the chart recovering from a mass failure. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We put the client timeout on the chart. Anyone can be a client, for example, another component inside our service. For simplicity, we draw a delay graph of 50 percentile. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g5/sj/vw/g5sjvwfpnmekcg2mu-kiynw1p6k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here we are faced with a situation called </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">brownout</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . You may be familiar with the term </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blackout</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> when electricity is cut off in the city. Brownout is when something works, but is so bad and slow that, count, it doesn’t work at all.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's look at the brown zone brownout. The service received a request from the client, processed it and returned the result. However, in half the cases, the clients have already timed out and no one is waiting for the result. In the other half, the result returns faster than the timeout, but in a slow system it takes too much time. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We faced a double problem: we are already overloaded and are on the right side of the schedule, but at the same time we are still “warming the air”, doing a lot of useless work. How to avoid this? </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the "knee"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the inflection point on the chart </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We measure or theoretically estimate. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drop traffic</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that forces us to go to the right of the inflection point </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><br>
<br>
<img src="https://habrastorage.org/webt/nz/2e/t7/nz2et7zg-cebdkle6rzusm0f0ts.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We should simply ignore part of the requests. </font><font style="vertical-align: inherit;">We do not even try to process them, but immediately return an error to the client. </font><font style="vertical-align: inherit;">Even with overload, we can afford this operation - it is “cheap”. </font><font style="vertical-align: inherit;">Requests are not fulfilled, the overall availability of the service is reduced. </font><font style="vertical-align: inherit;">Although rejected requests will be processed sooner or later after one or several retries from the clients. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/4n/xk/bz4nxkpmofmaqg-deszxrwhra5m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the same time, another part of the requests is processed with a guaranteed low latency. </font><font style="vertical-align: inherit;">As a result, we do not do useless work, and what we do, we do well.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brief squeeze of patterns of designing systems for failure</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isolation and regulation</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sometimes it makes sense to prioritize certain types of queries. For example, with a relatively small volume of requests for creating new resources, they can be put at the top of the queue. It is important that this does not infringe on other users. In a massive outage, users who are waiting for their resources to recover will not feel a significant difference. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Full time job</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Reduce or completely eliminate the switching of service modes. One mode, which stably and constantly works, regardless of emergency or working situations, fundamentally improves the stability and predictability of the Control plane. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preliminary scaling</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Scale in advance with lower disposal values. You will have to pay a little more for this, but this is insurance that pays off during serious system failures. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cellular architecture</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Many loosely coupled cells are preferred over a monolith. The mesh approach reduces the “blast radius” and the likelihood of surprise errors. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The multitenant approach</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> significantly improves the utilization of the service, reduces its cost and reduces the "blast radius". </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shuffling sharding</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . This is an approach that applies to multi-tenant services. It additionally allows you to control the "blast radius". </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“A small fleet causes a large fleet, and not vice versa”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. We try to build services so that small services initiate changes to large configurations. We often use it in conjunction with a constant load pattern. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dropping the load</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In emergency situations, we try to do only useful work, and do it well. To do this, we discard part of the load, which we still cannot handle.</font></font><br>
<br>
<blockquote>  —    ,    Saint HighLoad++ Online.  --  , Q&amp;A-,  ,    .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> -</a>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="> </a>. ,   -   . <br>
<br>
  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>  telegram- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">@HighLoadChannel</a> —         ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>.</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en497322/index.html">Objective Quality Score Testing with Customer Journey Map</a></li>
<li><a href="../en497324/index.html">"Like the apple of an eye ..." or make a simple security system based on a microcontroller (Canny or Arduino) and Raspberry PI</a></li>
<li><a href="../en497326/index.html">More secure SSH connectivity with DNSSEC</a></li>
<li><a href="../en497328/index.html">Easy way to learn a language (any)</a></li>
<li><a href="../en497330/index.html">Chrome Remote Desktop. Remote support</a></li>
<li><a href="../en497334/index.html">The notorious bugs and how to avoid them on the example of ClickHouse</a></li>
<li><a href="../en497336/index.html">Computer brands of the 90s, part 3, final</a></li>
<li><a href="../en497338/index.html">What happened to transport last week - the crisis is developing</a></li>
<li><a href="../en497340/index.html">COVID-19: how to stop reading news and start analyzing data</a></li>
<li><a href="../en497342/index.html">Browser on guard of API requests: building secure communication between the front-end and the back-end</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>