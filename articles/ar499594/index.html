<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐๏ธ ๐ ููููุฉ ุงูุญุฏ ูู ุชูุฑุงุฑ ุงูุทูุจุงุช ูู HAProxy: ุชุนูููุงุช ุฎุทูุฉ ุจุฎุทูุฉ ๐๏ธ โฌ๏ธ โผ๏ธ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุดุฑุญ ุงููุคูู ููููุฉ ุงูุชูููุฐ ูู ุญุฏูุฏ ุณุฑุนุฉ ุงุณุชุนูุงู HAProxy ( ุชุญุฏูุฏ ุงููุนุฏู) ูุน ุนูุงููู IP ูุนููุฉ. ูุงู ูุฑูู Mail.ru Cloud Solutions ุจุชุฑุฌูุฉ ููุงูู - ูุฃูู ุฃูู ูู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ููููุฉ ุงูุญุฏ ูู ุชูุฑุงุฑ ุงูุทูุจุงุช ูู HAProxy: ุชุนูููุงุช ุฎุทูุฉ ุจุฎุทูุฉ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/499594/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/000/ebc/00e/000ebc00ecfca624add0621c731f2405.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุดุฑุญ ุงููุคูู ููููุฉ ุงูุชูููุฐ ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุฏูุฏ ุณุฑุนุฉ ุงุณุชุนูุงู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HAProxy </font><font style="vertical-align: inherit;">( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;">ุชุญุฏูุฏ</font></a><font style="vertical-align: inherit;"> ุงููุนุฏู) ูุน ุนูุงููู IP ูุนููุฉ. ูุงู ูุฑูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุชุฑุฌูุฉ ููุงูู - ูุฃูู ุฃูู ูู ุชุถุทุฑ ูุนู ููุถุงุก ุงููุซูุฑ ูู ุงูููุช ูุงูุฌูุฏ ุนููู ููุง ูุงู ุนููู ุฃู ุชูุถูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงูุญูููุฉ ูู ุฃู ูุฐู ุฅุญุฏู ุงูุทุฑู ุงูุฃูุซุฑ ุดููุนูุง ูุญูุงูุฉ ุงูุฎุงุฏู ูู ูุฌูุงุช DoS ุ ูููู ูู ุงูุตุนุจ ุงูุนุซูุฑ ุนูู ุชุนูููุงุช ูุงุถุญุฉ ุนูู ุงูุฅูุชุฑูุช ุญูู ููููุฉ ุชููููู ุชุญุฏูุฏูุง. ุนู ุทุฑูู ุงูุชุฌุฑุจุฉ ูุงูุฎุทุฃ ุ ุฃุฌุจุฑ ุงููุคูู HAProxy ุนูู ุงูุญุฏ ูู ุชูุฑุงุฑ ุงูุทูุจุงุช ุนูู ูุงุฆูุฉ ุนูุงููู IP ุ ูุงูุชู ูุชู ุชุญุฏูุซูุง ูู ุงูููุช ุงููุนูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ููุฒู ูุนุฑูุฉ ูุณุจูุฉ ูุชูููู HAProxy ุ ุญูุซ ุชู ุชูุถูุญ ุฌููุน ุงูุฎุทูุงุช ุงููุงุฒูุฉ ุฃุฏูุงู.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HAProxy ููุชูุญ ุงููุตุฏุฑ ููุฌุงูู ูู ููุงุฒู ุชุญููู ูุฎุงุฏู ูููู ูููู ุงููุตูู ุฅููููุง ุจุดูู ูุจูุฑ. </font><font style="vertical-align: inherit;">ูู ุงูุณููุงุช ุงูุฃุฎูุฑุฉ ุ ุฃุตุจุญุช </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุดุงุฆุนุฉ ุฌุฏูุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฃููุง ุชููุฑ ุฃุฏุงุกู ุนุงูููุง ุจุญุฏ ุฃุฏูู ูู ุงูููุงุฑุฏ. </font><font style="vertical-align: inherit;">ุนูู ุนูุณ ุงูุจุฑุงูุฌ ุงูุจุฏููุฉ ุ ููุฏู ุงูุฅุตุฏุงุฑ ุบูุฑ ุงูุฑุจุญู ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HAProxy Community Edition</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฒุงุช ูุงููุฉ ูุชุญููู ุงูุชูุงุฒู ุงูููุซูู ูู ุงูุชุญููู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุตุนุจ ุฌุฏูุง ูุนุฑูุฉ ูุฐุง ุงูุจุฑูุงูุฌ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฏููุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซุงุฆู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูููุฉ ุฏูููุฉ ููุบุงูุฉ ูููุตูุฉ </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูููู ุงููุคูู ุฃู ูุฐุง ูู ุฃูุซุฑ ุงููุซุงุฆู ุงูุชูุตูููุฉ ุจูู ุฌููุน ุงูุจุฑุงูุฌ ููุชูุญุฉ ุงููุตุฏุฑ ุงูุชู ุงุณุชุฎุฏููุง ุนูู ุงูุฅุทูุงู. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ุ ุฅููู ุฏููู ุฎุทูุฉ ุจุฎุทูุฉ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูููู ููุงุฒู ุงูุชุญููู</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชูููุฑ ุงูููุช ูุนุฏู ุชุดุชูุช ุงูุงูุชุจุงู ูู ุฎูุงู ุฅุนุฏุงุฏ ุงูุจููุฉ ุงูุชุญุชูุฉ ุ ุงูุชูุท ุตูุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker Compose</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููู ุจุชุดุบูู ุงูููููุงุช ุงูุฑุฆูุณูุฉ ุจุณุฑุนุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููููุฉ ุงูุฃููู ูู ุฑูุน ูุซูู ุงูุนูู ูู ููุงุฒู ุงูุชุญููู HAProxy ูุน ุงูุนุฏูุฏ ูู ุฎูุงุฏู Apache ุงูุฎูููุฉ.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน</font></font></h4><br>
<pre><code class="bash hljs">$ git <span class="hljs-built_in">clone</span> git@github.com:stargazer/haproxy-ratelimiter.git<font></font>
$ <span class="hljs-built_in">cd</span> haproxy-ratelimiter</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููููู ุฃู ุชุจุญุซ ูู </font></font><code>Dockerfile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>docker-compose.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ูุนููุงุช ุงูุชุซุจูุช. ููุงุดูู ูุชุฌุงูุฒ ูุทุงู ูุฐู ุงูููุงูุฉ ุ ูุฐูู ุฏุนููุง ูุชุญุฏุซ ุนู ุญูููุฉ ุฃููู ุฃูุดุฃูุง ูุซูู HAProxy ุนุงูู ูุณูู </font></font><code>loadbalancer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ุฎุงุฏููู ุฎูููุฉ </font></font><code>api01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>api02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุชูููู HAProxy ุ ุณูุณุชุฎุฏู ุงูููู ุฃููุงู </font></font><code>haproxy-basic.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุซู </font><font style="vertical-align: inherit;">ููุชูู </font><font style="vertical-align: inherit;">ุฅูู </font></font><code>haproxy-ratelimiting.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃุฌู ุงูุจุณุงุทุฉ ุ ุชู </font></font><code>haproxy-basic.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูููู </font><font style="vertical-align: inherit;">ููู ุงูุชูููู </font><font style="vertical-align: inherit;">ุฅูู ุงูุญุฏ ุงูุฃุฏูู ูุชู ูุณุญู ูู ุงููุงุฆุถ. ูููู ูุธุฑุฉ ุนูููุง:</font></font><br>
<br>
<pre><code class="plaintext hljs">defaults<font></font>
mode http<font></font>
timeout connect 5000ms<font></font>
timeout client 50000ms<font></font>
timeout server 50000ms<font></font>
<font></font>
frontend proxy<font></font>
bind *:80<font></font>
<font></font>
use_backend api<font></font>
<font></font>
backend api<font></font>
balance roundrobin<font></font>
<font></font>
server api01 api01:80<font></font>
server api02 api02:80</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ุงููุณู </font></font><code>frontend proxy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุชุนููู HAProxy ููุงุณุชูุงุน ุนูู ุงููููุฐ 80 ูุฅุนุงุฏุฉ ุชูุฌูู ุฌููุน ุงูุทูุจุงุช ุฅูู ุชุฌูุน ุงูุฎุงุฏู </font></font><code>api</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงููุงุฌูุฉ ุงูุฎูููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููุฆุฉ </font></font><code>backend api</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฏ ุงููุงุฌูุฉ ุงูุฎูููุฉ ุชุฌูุน </font></font><code>api</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ุงุซููู ูู ุฎูุงุฏู ุงููุงุฌูุฉ ุงูุฎูููุฉ </font></font><code>api01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>api02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูุงููู ุงูููุงุจูุฉ. </font><font style="vertical-align: inherit;">ูุชู ุชุญุฏูุฏ ุงูุฎุงุฏู ูุฎุฏูุฉ ูู ุทูุจ ูุงุฑุฏ ุจูุงุณุทุฉ ุฎูุงุฑุฒููุฉ ููุงุฒูุฉ ุงูุชุญููู </font></font><code>roundrobin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุฃู ูู ุงููุงูุน ุ ูุชู ุงุณุชุฎุฏุงู ุงูุฎุงุฏููู ุงููุชููุฑูู ุจุฏูุฑู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนููุง ูุทูู ุฌููุน ุญุงููุงุชูุง ุงูุซูุงุซ</font></font></h4><br>
<pre><code class="bash hljs">$ sudo docker-compose up</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ูุฏููุง ูุนุงุก </font></font><code>loadbalancer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชู ุชุนูุฏ ุชูุฌูู ุงูุทูุจุงุช ุฅูู ุงุซููู ุงูุฎูููุฉ </font></font><code>api01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font><font style="vertical-align: inherit;">ุงูุฎูุงุฏู </font></font><code>api02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุณูุญุตู ุนูู ุฑุฏ ูู ุฃุญุฏูู ุฅุฐุง ุฏุฎููุง ูู ุดุฑูุท ุงูุนููุงู </font></font><code>http://localhost/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงููุซูุฑ ููุงูุชูุงู ุชุญุฏูุซ ุงูุตูุญุฉ ุนุฏุฉ ูุฑุงุช ูุงูุงุทูุงุน ุนูู ุงูุณุฌูุงุช </font></font><code>docker-compose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">api01_1 | </font><font style="vertical-align: inherit;">192.168.192.3 - - [08 / ููุงูุฑ / 2019: 11: 38: 09 +0000] "GET / HTTP / 1.1" 200 45</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
api02_1 | </font><font style="vertical-align: inherit;">192.168.192.3 - - [08 / ููุงูุฑ / 2019: 11: 38: 10 +0000] "GET / HTTP / 1.1" 304 -</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
api01_1 | </font><font style="vertical-align: inherit;">192.168.192.3 - - [08 / ููุงูุฑ / 2019: 11: 38: 10 +0000] "GET / HTTP / 1.1" 304 -</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
api02_1 | </font><font style="vertical-align: inherit;">192.168.192.3 - - [08 / ููุงูุฑ / 2019: 11: 38: 11 +0000] "GET / HTTP / 1.1" 304 -</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
api01_1 | </font><font style="vertical-align: inherit;">192.168.192.3 - - [08 / ููุงูุฑ / 2019: 11: 38: 11 +0000] "GET / HTTP / 1.1" 304 -</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
api02_1 | </font><font style="vertical-align: inherit;">192.168.192.3 - - [08 / ููุงูุฑ / 2019: 11: 38: 11 +0000] "GET / HTTP / 1.1" 304 -</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ุชุฑูู ุ </font></font><code>api</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุงูุฌ </font><font style="vertical-align: inherit;">ุฎุงุฏูุงู </font><font style="vertical-align: inherit;">ุงูุทูุจุงุช ูู ุงูููุงุจู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฏููุง ุงูุขู ูุซูู HAProxy ูุน ุชูููู ููุงุฒูุฉ ุชุญููู ุจุณูุท ููุบุงูุฉ ุ ููุฏููุง ููุฑุฉ ุนู ููููุฉ ุนููู.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุถู ุญุฏูุง ูุนุฏุฏ ุงูุทูุจุงุช</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชุนููู ุญุฏ ูุนุฏุฏ ุงูุทูุจุงุช ุฅูู ููุงุฒู ุงูุชุญููู ุ ุชุญุชุงุฌ ุฅูู ุชุนุฏูู ููู ุงูุชูููู ูู ูุซูู HAProxy. </font><font style="vertical-align: inherit;">ุชุฃูุฏ ูู ุฃู ุงูุญุงููุฉ </font></font><code>loadbalancer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชุฎุฏู ููู ุงูุชูููู </font></font><code>haproxy-ratelimiter.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ุนููู ุณูู ุชุนุฏูู ููู Dockerfile ูุงุณุชุจุฏุงู ููู ุงูุชูููู.</font></font><br>
<br>
<pre><code class="plaintext hljs">FROM haproxy:1.7<font></font>
COPY haproxy-ratelimiter.cfg /usr/local/etc/haproxy/haproxy.cfg</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุถุน ุงูุญุฏูุฏ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุชุณุฌูู ุฌููุน ุงูุฅุนุฏุงุฏุงุช ูู ููู ุงูุชูููู </font></font><code>haproxy-ratelimiter.cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุฏุนููุง ูุฏุฑุณู ุจุนูุงูุฉ.</font></font><br>
<br>
<pre><code class="plaintext hljs">defaults<font></font>
mode http<font></font>
timeout connect 5000ms<font></font>
timeout client 50000ms<font></font>
timeout server 50000ms<font></font>
<font></font>
frontend proxy<font></font>
bind *:80<font></font>
<font></font>
# ACL function declarations<font></font>
acl is_abuse src_http_req_rate(Abuse) ge 10<font></font>
acl inc_abuse_cnt src_inc_gpc0(Abuse) gt 0<font></font>
acl abuse_cnt src_get_gpc0(Abuse) gt 0<font></font>
<font></font>
# Rules<font></font>
tcp-request connection track-sc0 src table Abuse<font></font>
tcp-request connection reject if abuse_cnt<font></font>
http-request deny if abuse_cnt<font></font>
http-request deny if is_abuse inc_abuse_cnt<font></font>
<font></font>
use_backend api<font></font>
backend api<font></font>
balance roundrobin<font></font>
<font></font>
server api01 api01:80<font></font>
server api02 api02:80<font></font>
<font></font>
backend Abuse<font></font>
stick-table type ip size 100K expire 30m store gpc0,http_req_rate(10s)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชูุฏู HAProxy ูุฌููุนุฉ ูู ุงูููุงุฏ ุงูุฃูููุฉ ุฐุงุช ุงููุณุชูู ุงูููุฎูุถ ุงูุชู ุชููุฑ ุงููุฒูุฏ ูู ุงููุฑููุฉ ูููุงุณุจุฉ ููุฌููุนุฉ ูุชููุนุฉ ูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู. </font><font style="vertical-align: inherit;">ุบุงูุจูุง ูุง ุชุฐูุฑูู ุนุฏุงุฏุงุชูุง ุจุงูุณุฌู ุงูุชุฑุงููู (adder) ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ. </font><font style="vertical-align: inherit;">ูุฎุฒููู ูุชุงุฆุฌ ูุณูุทุฉ ุ ููุฃุฎุฐูู ุฏูุงูุงุช ูุฎุชููุฉ ููุฏุฎูุงุช ุ ูููู ูู ุงูููุงูุฉ ูู ูุฌุฑุฏ ุฃุฑูุงู. </font><font style="vertical-align: inherit;">ูููู ูู ุดูุก ุจุดูู ุฌูุฏ ุ ูู ุงูููุทูู ุฃู ุชุจุฏุฃ ูู ููุงูุฉ ููู ุงูุชูููู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุทุงููุฉ </font></font><code>Abuse</code></h4><br>
<pre><code class="plaintext hljs">backend Abuse<font></font>
stick-table type ip size 100K expire 30m store gpc0,http_req_rate(10s)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููุง ููุง ุจุฅุนุฏุงุฏ ุฎูููุฉ ููููุฉ ุชุณูู </font></font><code>Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">("ุฅุณุงุกุฉ"). </font><font style="vertical-align: inherit;">ููููุฉ ุ ูุฃููุง ุชุณุชุฎุฏู ููุท ูุทุงููุฉ ุงูุนุตุง ุ ูุงูุชู ูููู ุฃู ุชุดูุฑ ุฅูููุง ุจููุฉ ุงูุชูููู ุจุงูุงุณู </font></font><code>Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุงูุทุงููุฉ ุงูุซุงุจุชุฉ ูู ุทุงููุฉ ูุฎุฒูุฉ ูู ุฐุงูุฑุฉ ุงูุนูููุฉ ุ ุญูุซ ููููู ุชุญุฏูุฏ ุงูุนูุฑ ููู ุณุฌู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชููุฒ ุฌุฏูููุง ุจุงูุฎุตุงุฆุต ุงูุชุงููุฉ:</font></font><br>
<br>
<ul>
<li><code>type ip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: ูุชู ุญูุธ ุงูุทูุจุงุช ูู ุงูุฌุฏูู ุจุนููุงู IP ูููุชุงุญ. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ุณุชุดูุฑ ุงูุทูุจุงุช ูู ููุณ ุนููุงู IP ุฅูู ููุณ ุงูุณุฌู. </font><font style="vertical-align: inherit;">ููุฐุง ูุนูู ูู ุงูุฃุณุงุณ ุฃููุง ูุชุชุจุน ุนูุงููู IP ูุงูุจูุงูุงุช ุฐุงุช ุงูุตูุฉ.</font></font><br>
</li>
<li><code>size 100K</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: ูุญุชูู ุงูุฌุฏูู ุนูู 100 ุฃูู ุณุฌู ูุญุฏ ุฃูุตู.</font></font><br>
</li>
<li><code>expire 30m</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: ูุชุฑุฉ ุงูุงุญุชูุงุธ ุจุงูุณุฌูุงุช ูู 30 ุฏูููุฉ ูู ุนุฏู ุงููุดุงุท.</font></font><br>
</li>
<li><code>store gpc0,http_req_rate(10s)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>gpc0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู </font><font style="vertical-align: inherit;">ุชุฎุฒูู ุงูุนุฏุงุฏ </font><font style="vertical-align: inherit;">ูุนุฏุฏ ุทูุจุงุช ุนููุงู IP ูุขุฎุฑ 10 ุซูุงูู </font><font style="vertical-align: inherit;">ูุน ุฅุฏุฎุงูุงุช </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุจูุณุงุนุฏุฉ ุงููุณุงุนุฏุฉ ุ </font></font><code>gpc0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุชุชุจุน ุนุฏุฏ ูุฑุงุช ููุงุญุธุฉ ุนููุงู IP ูู ุงูุงูุชูุงูุงุช. </font><font style="vertical-align: inherit;">ูู ุงููุงูุน ุ ุชุนูู ุงููููุฉ ุงููุถุงุฏุฉ ุงูุฅูุฌุงุจูุฉ ุฃู ุนููุงู IP ุชู ูุถุน ุนูุงูุฉ ุนููู ุจุงููุนู ุนูู ุฃูู ูุฑูุจ. </font><font style="vertical-align: inherit;">ุฏุนูุง ูุณูู ูุฐุง ุงูุนุฏุงุฏ </font></font><code>abuse indicator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุดูู ุนุงู ุ </font></font><code>Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุญ ูู </font><font style="vertical-align: inherit;">ุงูุฌุฏูู </font><font style="vertical-align: inherit;">ุชุชุจุน ูุง ุฅุฐุง ุชู ูุถุน ุนูุงูุฉ ุนูู ุนููุงู IP ุนูู ุฃูู ูุดุจูู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุชูุฑุงุฑ ุงูุญุงูู ููุทูุจุงุช ุงููุงุฑุฏุฉ ูู ูุฐุง ุงูุนููุงู. </font><font style="vertical-align: inherit;">ูุฐูู ุ ูุฏููุง ุชุงุฑูุฎ ูู ุงูุณุฌูุงุช ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุนูููุงุช ูู ุงูููุช ุงูุญูููู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุฏุนูุง ููุชูู ุฅูู ุงููุณู </font></font><code>frontend proxy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฑู ุงูุฌุฏูุฏ ููุงู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงุฆู ูููุงุนุฏ ACL</font></font></h4><br>
<pre><code class="plaintext hljs">frontend proxy<font></font>
bind *:80<font></font>
<font></font>
# ACL function declarations<font></font>
acl is_abuse src_http_req_rate(Abuse) ge 10<font></font>
acl inc_abuse_cnt src_inc_gpc0(Abuse) gt 0<font></font>
acl abuse_cnt src_get_gpc0(Abuse) gt 0<font></font>
<font></font>
# Rules<font></font>
tcp-request connection track-sc0 src table Abuse<font></font>
tcp-request connection reject if abuse_cnt<font></font>
http-request deny if abuse_cnt<font></font>
http-request deny if is_abuse inc_abuse_cnt<font></font>
<font></font>
use_backend api</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงุฆู ุงูุชุญูู ูู ุงููุตูู (ACLs) ูู ุฅุนูุงูุงุช ูุธุงุฆู ูุชู ุงุณุชุฏุนุงุคูุง ููุท ุนูุฏ ุชุนููู ุงููุงุนุฏุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุฌููุน ุฅุฏุฎุงูุงุช ACL ุงูุซูุงุซุฉ. </font><font style="vertical-align: inherit;">ุถุน ูู ุงุนุชุจุงุฑู ุฃู ุฌููุนูุง ุชุดูุฑ ุจุดูู ุตุฑูุญ ุฅูู ุฌุฏูู </font></font><code>Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุชุฎุฏู ุนูุงููู IP ูููุชุงุญ ุ ูุฐูู ุชูุทุจู ูู ูุธููุฉ ุนูู ุนููุงู IP ููุทูุจ:</font></font><br>
<br>
<ul>
<li><code>acl is_abuse src_http_req_rate(Abuse) ge 10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>is_abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑุฌุน </font><font style="vertical-align: inherit;">ุงูุฏุงูุฉ </font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุชูุฑุงุฑ ุงูุทูุจ ุงูุญุงูู ุฃูุจุฑ ูู ุฃู ูุณุงูู ุนุดุฑุฉ.</font></font><br>
</li>
<li><code>acl inc_abuse_cnt src_inc_gpc0(Abuse) gt 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>inc_abuse_cnt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑุฌุน </font><font style="vertical-align: inherit;">ุงูุฏุงูุฉ </font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ูููุฉ ุงูุฒูุงุฏุฉ </font></font><code>gpc0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุจุฑ ูู ุงูุตูุฑ. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุงููููุฉ ุงูุฃูููุฉ </font></font><code>gpc0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุตูุฑ ุ ูุฅู ูุฐู ุงูุฏุงูุฉ ุชุฑุฌุน ุฏุงุฆููุง </font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุจุนุจุงุฑุฉ ุฃุฎุฑู ุ ูุฅูู ูุฒูุฏ ุงููููุฉ </font></font><code>abuse indicator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููุง ูุดูุฑ ุจุดูู ุฃุณุงุณู ุฅูู ุฅุณุงุกุฉ ุงูุงุณุชุฎุฏุงู ูู ุนููุงู IP ูุฐุง.</font></font><br>
</li>
<li><code>acl abuse_cnt src_get_gpc0(Abuse) gt 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>abuse_cnt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑุฌุน </font><font style="vertical-align: inherit;">ุงูุฏุงูุฉ </font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ุงููููุฉ </font></font><code>gpc0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุจุฑ ูู ุงูุตูุฑ. </font><font style="vertical-align: inherit;">ูุจุนุจุงุฑุฉ ุฃุฎุฑู ุ ูููู ุฅุฐุง ูุงู ุนููุงู IP ูุฐุง ูุฏ ุชู ุฑุตุฏู ุจุงููุนู ูู ุงูุงูุชูุงูุงุช.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ุฐูุฑูุง ุณุงุจููุง ุ ูุฅู ููุงุฆู ACL ูู ูุฌุฑุฏ ุฅุนูุงูุงุช ุ ุฃู ุฅุนูุงูุงุช ูุธุงุฆู. </font><font style="vertical-align: inherit;">ูุง ุชูุทุจู ุนูู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ุญุชู ูุชู ุชุดุบูู ุจุนุถ ุงูููุงุนุฏ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูููุทูู ุฃู ููุธุฑ ุฅูู ุงูููุงุนุฏ ุงููุญุฏุฏุฉ ูู ููุณ ุงููุณู </font></font><code>frontend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุชู ุชุทุจูู ุงูููุงุนุฏ ุนูู ูู ุทูุจ ูุงุฑุฏ ูุงุญุฏูุง ุชูู ุงูุขุฎุฑ - ูุชุดุบูู ุงููุธุงุฆู ูู ูุงุฆูุฉ ุงูุชุญูู ุจุงููุตูู ุงูุชู ุญุฏุฏูุงูุง ููุชู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ูุฑู ูุง ุชูุนูู ูู ูุงุนุฏุฉ:</font></font><br>
<br>
<ul>
<li><code>tcp-request connection track-sc0 src table Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: ูุถูู ุงุณุชุนูุงููุง ุฅูู ุงูุฌุฏูู </font></font><code>Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุงูููุชุงุญ ูู ุนููุงู IP ูู ุงูุฌุฏูู ุ ุชุถูู ูุฐู ุงููุงุนุฏุฉ ุฅูู ูุงุฆูุฉ ุนูุงููู IP.</font></font><br>
</li>
<li><code>tcp-request connection reject if abuse_cnt</code>:   TCP-,  IP-    ,     abuse.  ,   TCP-   IP-.<br>
</li>
<li><code>http-request deny if abuse_cnt</code>:  ,  IP-    .        IP-,      abuse.<br>
</li>
<li><code>http-request deny if is_abuse inc_abuse_cnt</code>:  ,  <code>is_abuse</code>  <code>inc_abuse_cnt</code>   <code>True</code>.  ,    ,    IP-        ,    IP-    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุฌููุฑ ุ ููุฏู ููุนูู ูู ุนูููุงุช ุงูุชุญูู: ูู ุงูููุช ุงููุนูู ููู ุงููุงุฆูุฉ ุงูุณูุฏุงุก ูู ุณุฌู ุทูุจุงุช ุงูุจุญุซ. </font><font style="vertical-align: inherit;">ุชุฑูุถ ุงููุงุนุฏุฉ ุงูุซุงููุฉ ุฌููุน ุงุชุตุงูุงุช TCP ุงูุฌุฏูุฏุฉ ุฅุฐุง ุชู ููุงุญุธุฉ ุนููุงู IP ูู ุงูุงูุชูุงูุงุช. </font><font style="vertical-align: inherit;">ุชุญุธุฑ ุงููุงุนุฏุฉ ุงูุซุงูุซุฉ ุฎุฏูุฉ ุทูุจุงุช HTTP ูุนููุงู IP ูู ุงููุงุฆูุฉ ุงูุณูุฏุงุก ุ ุจุบุถ ุงููุธุฑ ุนู ุงูุชูุฑุงุฑ ุงูุญุงูู ููุทูุจุงุช ุงููุงุฑุฏุฉ ูู ูุฐุง ุงูุนููุงู. </font><font style="vertical-align: inherit;">ุชุถูู ุงููุงุนุฏุฉ ุงูุฑุงุจุนุฉ ุฑูุถ ุทูุจุงุช HTTP ูู ุนููุงู IP ูู ููุณ ุงููุญุธุฉ ุจูุฌุฑุฏ ุชุฌุงูุฒ ุนุชุจุฉ ุชูุฑุงุฑ ุงูุทูุจ. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ุชุนูู ุงููุงุนุฏุฉ ุงูุซุงููุฉ ุจุดูู ุฃุณุงุณู ุนูู ุงุชุตุงูุงุช TCP ุงูุฌุฏูุฏุฉ ุ ูุงูุซุงูุซุฉ ูุงูุฑุงุจุนุฉ - ุนูู ุงูุงุชุตุงูุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุจุงููุนู ุ ุงูุฃูู ูู ูุญุต ุชุงุฑูุฎู ุ ูุงูุซุงูู ูุญุต ูู ุงูููุช ุงููุนูู.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฌุฑุจ ุงููุฑุดุญ ูู ุงูุนูู!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููููุง ุงูุขู ุชุฌููุน ูุชุดุบูู ุญุงููุงุชูุง ูุฑุฉ ุฃุฎุฑู.</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo docker-compose down<font></font>
$ sudo docker-compose build<font></font>
$ sudo docker-compose up</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุฃู ูุจุฏุฃ ููุงุฒู ุงูุชุญููู ูุจู ุฎุงุฏูู ุงููุงุฌูุฉ ุงูุฎูููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฏุนููุง ููุฌู ูุชุตูุญูุง ุฅูู </font></font><code>http://localhost/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุฅุฐุง ูููุง ุจุชุญุฏูุซ ุงูุตูุญุฉ ุจุณุฑุนุฉ ุนุดุฑุงุช ุงููุฑุงุช ุ ูุณูู ูุชุฌุงูุฒ ุนุชุจุฉ ุนุดุฑุฉ ุทูุจุงุช ูู ูุงุตู ุฒููู ูุฏุชู ุนุดุฑ ุซูุงู - ูุณูุชู ุฑูุถ ุทูุจุงุชูุง. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงุตููุง ุชุญุฏูุซ ุงูุตูุญุฉ ุ ูุณูุชู ุฑูุถ ุงูุทูุจุงุช ุงูุฌุฏูุฏุฉ ุนูู ุงูููุฑ - ุญุชู ูุจู ุฅูุดุงุก ุงุชุตุงู TCP.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฃุณุฆูุฉ</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฐุง ูู ุญุฏ ุนุดุฑุฉ ุทูุจุงุช ููู ุนุดุฑ ุซูุงูุ</font></font></h3><br><font style="vertical-align: inherit;"></font><code>Abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฏ </font><font style="vertical-align: inherit;">
ุงูุฌุฏูู </font></font><code>http_req_rate(10s)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุฃู ุฃู ุชูุฑุงุฑ ุงูุทูุจุงุช ููุงุณ ูู ูุงูุฐุฉ ูู ุนุดุฑ ุซูุงู. </font></font><code>is_abuse</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑุฌุน </font><font style="vertical-align: inherit;">ุฏุงูุฉ </font><font style="vertical-align: inherit;">ูู ACL </font></font><code>True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูุนุฏู ุทูุจ โฅ10 ุฎูุงู ุงููุงุตู ุงูุฒููู ุงููุญุฏุฏ. </font><font style="vertical-align: inherit;">ูุจุงูุชุงูู ุ ูุนุชุจุฑ ุฅุณุงุกุฉ ุงูุงุณุชุฎุฏุงู ุชูุฑุงุฑ ุทูุจุงุช ุนุดุฑุฉ ุฃู ุฃูุซุฑ ูู ุนุดุฑ ุซูุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐู ุงูููุงูุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุฑุฑูุง ุชุนููู ุญุฏ ููุฎูุถ ูุชุณููู ุงูุชุญูู ูู ุชุดุบูู ุงููุญุฏุฏ.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุงููุฑู ุจูู ููุงุนุฏ ุงุชุตุงู http-request ู tcp-requestุ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://cbonte.github.io/haproxy-dconv/1.7/configuration.html&amp;usg=ALkJrhhwryDs5SWW6AiiZEnz1Xw6FsOXMA#4.2-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูุซูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http- ุทูุจ: ุชุญุฏุฏ ุนุจุงุฑุฉ http-request ูุฌููุนุฉ ูู ุงูููุงุนุฏ ุงูุชู ุชูุทุจู ุนูู ุทุจูุฉ ุงูุดุจูุฉ 7 [ูููุฐุฌ OSI]</font></font></i></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชูุซูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tcp-request connection: ุชูููุฐ ุฅุฌุฑุงุก ุนูู ุงุชุตุงู ูุงุฑุฏ ุจูุงุกู ุนูู ุญุงูุฉ ูู ุทุจูุฉ ุงูุดุจูุฉ 4</font></font></i></blockquote><br>
<h3>  HTTP-,        TCP-?</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุฎูู ุฃู ุทูุจุงุช HTTP ุฅูู ุงูุฎุงุฏู ุชุฑุณู ุงุชุตุงูุงุช TCP ูุชุนุฏุฏุฉ ูู ููุณ ุนููุงู IP. </font><font style="vertical-align: inherit;">ุณูุชุฌุงูุฒ ุชูุฑุงุฑ ุทูุจุงุช HTTP ุงูุนุชุจุงุช ุจุณุฑุนุฉ. </font><font style="vertical-align: inherit;">ุนูุฏูุง ุชุฏุฎู ุงููุงุนุฏุฉ ุงูุฑุงุจุนุฉ ุญูุฒ ุงูุชูููุฐ ุ ูุงูุชู ุชุชุฌุงูู ุงูุทูุจุงุช ูุชุฏุฑุฌ ุนููุงู IP ูู ุงููุงุฆูุฉ ุงูุณูุฏุงุก. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุตุจุญ ูู ุงููููู ุชูุงููุง ุฃู ุชุธู ุงุชุตุงูุงุช HTTP ูู ููุณ ุนููุงู IP ููุชูุญุฉ (ุฑุงุฌุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุชุตุงู HTTP ุงููุณุชูุฑ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ุ ูุงูุฎูุถ ุชูุฑุงุฑ ุทูุจุงุช HTTP ุฅูู ูุง ุฏูู ูููุฉ ุงูุนุชุจุฉ. </font><font style="vertical-align: inherit;">ุชุถูู ุงููุงุนุฏุฉ ุงูุซุงูุซุฉ ุงุณุชูุฑุงุฑ ุญุธุฑ ุทูุจุงุช HTTP ุ ุญูุซ ูุชู </font></font><code>abuse indicator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุดุบูููุง ุนูู ุนููุงู IP ูุฐุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุชุฑุถ ุงูุขู ุฃูู ุจุนุฏ ุจุถุน ุฏูุงุฆู ุ ูุญุงูู ููุณ IP ุฅูุดุงุก ุงุชุตุงูุงุช TCP. </font><font style="vertical-align: inherit;">ูุชู ุฅุณูุงุทูุง ุนูู ุงูููุฑ ุ ูุฃู ุงููุงุนุฏุฉ ุงูุซุงููุฉ ุชูุทุจู: ููู ุชุฑู ุนููุงู IP ุงููุณูู ูุชูุทุน ุงูุงุชุตุงู ุนูู ุงูููุฑ.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุชุงุฌ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุงูุจุฏุงูุฉ ุ ูุฏ ูููู ูู ุงูุตุนุจ ููู ุญุฏูุฏ ุณุฑุนุฉ ูุนุงูุฌุฉ ุงูุทูุจุงุช ุจุงุณุชุฎุฏุงู HAProxy. </font><font style="vertical-align: inherit;">ููููุงู ุจูู ุดูุก ุจุดูู ุตุญูุญ ุ ุชุญุชุงุฌ ุฅูู ุชูููุฑ "ููุฎูุถ ุงููุณุชูู" ุฅูู ุญุฏ ูุง ูุนุฏุฏ ูู ุงูุฅุฌุฑุงุกุงุช ุบูุฑ ุงูุจุฏูููุฉ. </font><font style="vertical-align: inherit;">ุฑุจูุง ูููู ุงูุชูุซูู ูู ูุฐุง ุงูุฌุฒุก ุชููููุง ููุบุงูุฉ ููุนุงูู ูู ุนุฏู ูุฌูุฏ ุฃู ุฃูุซูุฉ ุฃุณุงุณูุฉ. </font><font style="vertical-align: inherit;">ูุฃูู ุฃู ูุนูุถ ูุฐุง ุงูุฏููู ุนู ุงูุนูุจ ููุธูุฑ ุงูุงุชุฌุงู ููู ูู ูุฑูุฏ ุฃู ูุณูู ูุฐุง ุงููุณุงุฑ. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฐุง ุชูุฑุฃ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ูุชู ุชูููุฐ ุงูุจููุฉ ุงููุชุณุงูุญุฉ ูู ุงููุธุงู ุงูุฃุณุงุณู Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุถู 10 ุญูู ููุตุงุฆุญ Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุฉ Telegram ุญูู ุงูุชุญูู ุงูุฑููู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar499582/index.html">ูููุฐุฌ ุงูููุชุฑุณ ุงููุฑูุณุฉ ุนูู Node.js</a></li>
<li><a href="../ar499584/index.html">ุดุงุดุฉ ุชุนูู ุจุงูููุณ ุงูุตูุงุนูุฉ FPM-215W</a></li>
<li><a href="../ar499586/index.html">ููู ุชููุฑ ูู ุฎูุงู ุงูุชููู ูู ุชุทุจููุงุช ุงูุฌูุงู</a></li>
<li><a href="../ar499588/index.html">ุงููุตุงุฏูุฉ ูู gRpc .NET .NET ูุน JWT</a></li>
<li><a href="../ar499592/index.html">ููุธูุฉ ุงูุนูู ุงูุฏูููุฉ: ุงุณุชููุงู ุนุงูู ุงูุบุฏ</a></li>
<li><a href="../ar499598/index.html">ูุณูุฐูุจ ุดูุงูุง! ูู ูู ุงููููู ุชูููุฑ ุชุจุฑูุฏ ูุฑุงูุฒ ุงูุจูุงูุงุช ุจุณุจุจ ุงูุทูุณุ</a></li>
<li><a href="../ar499600/index.html">ููููุฉ ุงูุนูู ูุนูุง ุ ูุงูุนูู ูุนูุง</a></li>
<li><a href="../ar499602/index.html">ููู ูุคุชูุฑ ุนุจุฑ ุงูุฅูุชุฑูุช: ุชุฌุฑุจุฉ ูุคุชูุฑ ููุฉ InnerSource</a></li>
<li><a href="../ar499604/index.html">4 ุญุฌุฌ ูุงููุงุน ูุฏูุฑ ูุดุฑุงุก UPS ูู ุดุฑูุฉ ุตุบูุฑุฉ</a></li>
<li><a href="../ar499606/index.html">ุจุฑุงูุฌ ูุคุชูุฑุงุช ุงูููุฏูู: Skype ู Hangouts ู Zoom Half-Blood</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>