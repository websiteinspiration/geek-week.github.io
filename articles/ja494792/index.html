<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👲🏽 ✋🏿 👼🏿 Yandex.Routing：物流に突入し、未来を変えることにした方法 🐷 👩🏻‍🍳 👷🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="このテキストは、Yandexでのランダムなコーヒーの楽しみが原因で発生しました。このような会議に参加することを希望した場合、システムは2人のランダムな従業員を予約します。私の対談者は私が何をしていたかについての話を見つけました、そして今、私はそれをより広い聴衆に提供することに私の手にかかりました。
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Yandex.Routing：物流に突入し、未来を変えることにした方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/494792/"><img src="https://habrastorage.org/webt/og/rb/na/ogrbnanpkk0zlisr_px0zrilcw0.jpeg" width="40%" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このテキストは、Yandexでのランダムなコーヒーの楽しみが原因で発生しました。このような会議に参加することを希望した場合、システムは2人のランダムな従業員を予約します。私の対談者は私が何をしていたかについての話を見つけました、そして今、私はそれをより広い聴衆に提供することに私の手にかかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habrの前に、HSEとYandexのコンピューターサイエンス学部でゲストレクチャーを行いました-私はFCSの生徒にまったく同じことを話しました。これについて今からお話しします（投稿の最後に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ビデオ</font></a><font style="vertical-align: inherit;">があり</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">つまり、オンラインストアから注文を配達するドライバーと一緒に旅行することで、私たちのチームはロジスティクスに関する新しいサービスを作るようになりました。</font><font style="vertical-align: inherit;">私はこのエリアから私の気持ちを伝えたいと思います：私はガゼルとラーガスに旅行し、ノギンスクからのうるさい叔母についての従業員からの苦情を聞き、3人の子供のための3台のスクーターの注文がどのようにドラマに変わったかを見ました。</font><font style="vertical-align: inherit;">最後に、テクノロジーについてお話ししましょう。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート1.すべての始まり</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数年前、私は自分の人生の何かを変える時が来たのかどうかを考えてオフィスを歩き回っていましたが、私は過去のプロジェクトの1つで非常に尊敬していた同僚と廊下に偶然出会いました。彼は内部のスタートアップに切り替えたことがわかりました、そして彼らはただアナリストを探しています。だから私はB2BGeoという部門に行きました。当時のこの小さなグループは、Yandexジオサービスに基づいた企業に対して何らかのことをすることになっていた-誰もそれを知らなかっただけだ。歴史的に、ジオサービスの従業員はデスクトップのYandex.Maps、Maps、Navigator、Metroモバイルアプリケーションを作成してきました。また、このユニットには、ルーティングエンジンの開発、マップサービス、道路標識の認識、衛星画像からのデータの抽出など、印象的なインフラストラクチャが含まれています。 WebマップとYandex.Navigatorはどちらもアプリケーションです。マスユーザー向けです。企業向けのサービスのうち、マッピングAPIのセットのみがありました。サイト用のJSマップウィジェット、アプリケーション用のMapKit、およびRESTルート構築APIです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、B2BGeoチームは、企業向けの製品を販売する前に、これらの製品を考え出す必要がありました。市場調査とプロトタイピングに時間を費やしました。プロトタイプは興味深いものでした。たとえば、建物内のセルラー信号の品質のマップです。次に、携帯電話事業者は保有している膨大な量のデータを使用せず、主に路上でかなり原始的な方法で品質を測定しました。プロトタイプのもう1つの例は、機械学習を備えた汎用のカスタマイズ可能なルーターです。ちなみに、以下ルーターとはルーターと呼ばれ、ネットワーク機器ではなくルート構築プログラムです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のプロトタイプは離陸しませんでした、他のプロトタイプは十分な数の会社に興味がありませんでした。もっと大きなものが必要でした。将来的には、世界を一変させ、新たな地平を開き、地質工学を通じて大きな利益をもたらすでしょう。戦略的なセッションがありました。オフィスを出て2日間ブレインストーミングを行いました。セッションの結果に基づいて、十分な見込みがある業界を特定しました。私たちの選択はロジスティクスにかかっていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ロシアでは、多くの商用車、多くの輸送および宅配会社がどこかに何かを運びます。そして、それらすべては、おそらく、手動で、または交通渋滞を考慮に入れていないため、おそらくあまりうまく機能しないプログラムの助けを借りて、ルートを作成します。そして私たちの後ろには、たくさんのハードウェアを備えたYandex全体があり、サンプルデータを持っている少数の企業（まれな例-Google）だけが、優れたプログラマーでした。この分野の能力はまれで価値があります。ある時点でUberは</font><font style="vertical-align: inherit;">地図作成チーム全体を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">買収しました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この見通しに勇気づけられ、私たちは配信アグリゲーター（さまざまなオンラインストアから注文を配信する会社）の1人に同意しました。これにより、「業界に没頭する」ことができます。</font><font style="vertical-align: inherit;">私たちの小さなチームのメンバーは、注文を配達する宅配便で移動し、ルートを計画するロジスティクスの隣に座りました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート2.業界への没入</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
午前8時、アグリゲーターの倉庫とオフィスが位置するサードリングロードの背後にある工業地帯の1つ。郵便局を彷彿とさせる小さな部屋：コーナーは、内部にロジスティックコンピューター、電話、プリンターなどの机で囲われています。ひびの入ったダーマンティンが付いた油っこい椅子とコンピューターチェア。安い中国製の電話が入った箱、数字の入った紙がそれぞれに接着されています-それらは運転手に配られます。壁に沿ってシンプルなソファバンケットがあり、出口に印刷物が付いたスタンドがあります。輸送規則、ある種の内部指示、罰金の表です。たとえば、未配達の注文には200〜300ルーブルがドライバーから請求されます。アグリゲーターには通常のオフィスもあり、ディレクター、マネージャー、簿記が美しいテーブルに座っていますが、私たちにとって重要なイベントはこの小さな部屋で行われています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/e5/xz/ofe5xz8z3wc9fqrfzec1x43ouya.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
運転手は外で喫煙しますが、涼しいのでほとんどが室内にいるため、混雑していて部屋が詰まっています。 3階のマットレマット、朝は多くが暗い、誰かが請求書のパックを手に入れてロードしたい、誰かが問題を抱えている、彼は不幸です。状況は緊迫し、2人のロジスティクスがいて、彼らは石鹸の中にいます。これは通常の日であると言われています。午前中だけで、ルートに出かけるときは常に公園があります。夜、計画が進んだとき、溺死もありました。時間のどこかで緊張が下がり、ロジスティクス担当者は休むことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandexはあなたと一緒に行くと言われているいくつかのドライバー。彼らは驚いていて、特に満足していません-彼らがなぜそんなに幸せなのか、そして彼らが私たちをフォローするように設定したのかどうかは明らかではありません。私たち、</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オフィス</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワーカー、バックパックを持ったITワーカーは、この悲観的な男性とはまったく対照的です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ガゼルを手に入れました。ドライバーとフォワーダーがいます。バックパックを腕に入れて3番目に座り、あまりスペースを取らないようにしています。注文はすでに本体に読み込まれています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o_/az/6k/o_az6km31b8hwmpzop9wf0shmks.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、私は通常、ルート上の車の出発に先行することを学びました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日が水曜日だとします。Yandex.Marketで見つけた小さなサイトで冷蔵庫を注文したとしましょう。金曜日のみ配送可能で、あなたに合います。サイトは実際には単なるショーケースであり、非常に小規模なサイトでは、注文を確認したマネージャーが一般的に唯一の従業員になります。あなたの冷蔵庫は、同じ会社の他の冷蔵庫と一緒にポドリスク近くの倉庫のどこかにあります（小さな店には独自の倉庫がありません-実際、販売はメーカーの倉庫からです）。マネージャーはこの冷蔵庫を予約し、注文を配送アグリゲーターに送信します。水曜日にアグリゲーターが注文を収集し、木曜日にあなたと他の店で注文した他の冷蔵庫用の大型トラックをポドリスクに送ります。これらはすべて、モスクワの工業地帯のアグリゲーターが借りた倉庫に送られます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
木曜日の夜、金曜日に配達されるすべての商品が倉庫に集められたとき、ロジスティクス担当者は仕事に座っています。午前4時から5時までに、注文を機械で分配する必要があります。倉庫作業員は商品をヒープに入れます。各機械には独自のヒープがあります。この作業のために時間的な余裕を持たせる必要があります。たくさんのものが車に積まれ、お客様を喜ばせます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qa/y_/sg/qay_sg2fm9qw0d04daann-jogms.png" width="35%"><img src="https://habrastorage.org/webt/kz/2w/sa/kz2wsatnelv2nd7bqmg0yrx2qqq.jpeg" width="35%"><br>
<img src="https://habrastorage.org/webt/r6/xq/9o/r6xq9oh7amzcw_df7w8ao8ygwbc.png" width="70%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機械で注文を分配するために、ロジスティクス担当者は特別に購入したプログラムを使用します。それは1Cと統合されます：エンタープライズ、マシン（許容重量と貨物の量、1日の作業のコスト）と商品（重量、容量、住所と配送間隔、顧客の連絡先、コメント）に関するデータがロードされます。一部の車はアグリゲーターに属し、これはかかと（Lada Largus）とGazelles（Gazelle / Ford Transit / Hyundai Porter）を備えていました。個人用車両、通常はステーションワゴンに宅配便を雇っていました（フォードフォーカス、三菱パジェロ、さらにはいくつかの古いレクサスさえ見ました）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムは優れたプログラマーによって書かれ、車に負荷を分散し、最適な（時間または走行距離によって）ルートを作成して、大量のパラメーターを指定して注文を回避する方法を知っています。ただし、ロジスティクスはこの機能を使用しません。しかし、彼は地図上の注文の視覚化を積極的に使用しています。このプログラムを使用すると、マップ上にポリゴンエリアを描画し、これらのエリア内の貨物とルートの統計を表示できます。物流</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/mx/wu/bzmxwueya97nevpbqh7mbfxxar4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
業者は</font><font style="vertical-align: inherit;">、モスクワとモスクワ地域全体をビッグコンクリート（高速道路A108）までほぼ次のタイプのゾーンに分割しまし</font><font style="vertical-align: inherit;">た。中央にはいくつかの小さなエリアがあり、次に主要高速道路に沿って走り、その地域を取り囲む放射状セクターが始まります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような各ゾーンでは、特定のドライバーが作業し、通常はそれに精通しており、道路、交通の特徴、交通警察の場所、トラックの規制や標識について知っています。一方、ロジスティクス担当者は、乗務員がいくつの注文を処理できるかを知っています。彼はより経験豊富な30注文未満を与え、最近仕事を始めた人のために、20から25注文。彼は特定の領域にいくつの注文があるかを調べ、多すぎる場合は次の注文にそれらを投げます。または、隣人から追加します。たとえば、ロジスティクス担当者が一部の運転手と友達であり、途中で「軽い」注文を出す可能性があります。そして、愛されていないドライバーはイライラすることができます。たとえば、事前にうるさいことがわかっているクライアントの注文を投げるには、指定された時間に厳密に配達する必要があり、すべての商品を印刷し、長期間検査します。それに、ロジスティクス担当者は、ドライバーに注文を減らすことができます。注文ごとに200ルーブルを受け取るので、ドライバーはより多くの注文に興味を持っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムでルートを計画する機能は完全に無視されます。この可能性は、そのようなシステムでは意味がありません。ロジスティクス担当者が注文をどのように処理する必要があるかを運転手に指示すると、運転手は「あなたはそこのオフィスに座っており、私は手の甲のようにこの領域にいます」と答えます。そのため、ロジスティクス担当者は車の注文のみを割り当て、ドライバーのタスクは倉庫の山と印刷された請求書の山として形成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ガゼルに戻りましょう。私たちの地域はマニアのハイウェイであり、さらにノギンスクに向かっていると、モスクワ環状道路への注文が約15あります。私はそこに行きます。ドライバーは3番目のトランスポートリングに向けて出発します。このとき、フォワーダーは1組の請求書を受け取り、正しい順序で転送します。正しい順序はこれです：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-まず、マニアックな高速道路をモスクワ環状道路に向かって進み、右側にあるすべての注文を受け取ります。常に左側にあるわけではありません。高速道路を横断するときに渋滞が発生する可能性があります。夕方に行くことをお勧めします。その後、その地域に向けて出発し、そこに移動します。夕方、私たちは戻って残りを運びます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-しかし、たとえば、山の最初の注文-「14時間後」の願いを込めて？夕方に残しますか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-夕方まで可能ですが、今すぐ与えることに同意することをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
交渉プロセスはすぐに示されました。 9:30に、フォワーダーは14時間後に電話注文を呼び出しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-こんにちは、配達、私たちはすでにあなたの地域にいます、注文を受け入れることができますか？..私たちはあなたの地域の後にその地域に行きます、そして私たちは夕方までここに戻りません。たぶん9日後に戻ってくるかもしれませんし、完全にその地域に留まるかもしれません。これは予測できないビジネスであり、翌日配達を延期する必要があるかもしれません...さて、それから15分で到着します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのとき、「こんにちは、私はすでにあなたと一緒です！」と言う宅配便がどこから来たのかを知りました。 -そして、私のコメントと配信間隔を完全に無視します！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の車を運転していた同僚から、配達の1時間前に誰かがドライバーまたはフォワーダーに正直にクライアントに電話したと言っていました。鉱山はあまり社交的ではなかった、彼らは約15分間呼び、顧客のコメントを声に出して言った。簡単な願い（「インターホンを呼び出さないでください、子供は寝ています」）が考慮されましたが、ルートに影響を与えるすべてのものは通常無視されました。請求書をシフトして、フォワーダーはノギンスクから数キロ離れた村に持って行かなければならない命令を釣り上げました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-あ、またこの叔母。覚えていて、彼女には命令があり、それから結婚の復帰があったのですか？今度は新しい注文。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-はい、洗濯機を上げます。もう1つ興味深いのは、「12から16まで配信してください」です。彼女はそれをどう思いますか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-はい、一般的に、彼らは何を書いているのか理解していません。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はそう思う：もしあなたがノギンスクで洗濯機を注文したら、そこに座って、それがもたらされるまで静かに待ちなさい。どういうわけか隣人と同意するか、仕事を休みます。このノギンスクに毎日行くことはできない。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私はモスクワ環状道路の近くで降り、運転手はガゼルをさらにゴーキーハイウェイに沿って進んだ。実際、彼らは悪者ではありません。顧客に対する話題（すべての会話の少なくとも3分の2にのぼります）にもかかわらず、彼らはおそらく洗濯機を16に届けることができたでしょう。そうでなければ、彼らは気にさえしなかったでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の2番目の旅行は、より小型の車で行われました。貨物のLargusが北西行政区を回っていました。貨物は小さく、冷蔵庫はなかったので、運転手は一人でした。叔父は社交的になり、私たちは彼についてたくさん話しました。彼は一般的に彼はレスリングのスポーツのマスターであり、コーチとして働いていると言いましたが、今はすべて耳が聞こえないので、彼は急使として月光を浴びています。お金は少ないですが、増加は楽しいです：1日あたり約2000が取得されます。注文の配送は簡単で、必要なときに機能します。もちろん、微妙な違いもあります。不快なお客様に出くわしたり、車の中に保管されているサンドイッチを食べたり、急いだり、トイレに行ったりせず、お客様に尋ねる必要があります。しかし、全体として、彼は非常に繁栄しており、彼にとってはエンターテイメントである可能性が高いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おかしいです：同僚、特に女の子、配達サービスの従業員も、「宅配便は主な仕事ではなく、純粋に魂のために」、「一般的に、私は通常ベヘに行く」などの話</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
をしました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私はルブレフカまたはクリラツキーの領域でそのような会話：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-彼が都市に注文すると、高層ビルにアパートがあり、廊下はすべて大理石です、私はアパートに入ります-カーペット、金色の額縁の絵、毛皮のコートが掛かっていますが、そこにはありません。 5800の注文なので、彼は200ルーブルの交換を求めました、カウントアップしますか？！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-それで、たぶん彼は200ルーブルも節約できるので、毛皮のコートと絵画を持っているのかもしれません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の言葉の後、運転手は一生懸命考えました。そして1時間後、私たちはシュキノに到着し、私はこのビジネスについて「すべてを理解しました」。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の頭上式のペンでは、すべてが順序どおりではなかったというメモが作成されました。合計2万ルーブルの購入済みの子供用スクーター3台のうち、車に2台しかいませんでした。運転手はロジスティック担当者を呼んだ。女性が月曜日に3つのスクーターを注文したことがわかりましたが、昨日水曜日に、3番目のスクーターが誤って間違った車に入れられました。そして、それは自家用車であり、「通常の」運転手がそうであるように、彼は夕方に倉庫に戻らなかった、そしてスクーターはまだそれに乗っています。私たちは彼を傍受しようとする可能性がありますが、今日彼は彼のビジネスについて行き、交差することは不可能です。次回は明日（金）働きますが、正確ではありません。 3つすべてのスクーターを再統合し、一度にすべてを受け取ることが保証されているのは、土曜日のみです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この情報を武器に、ドライバーはクライアントに電話をかけました。</font><font style="vertical-align: inherit;">とても不機嫌な女性がいました。</font><font style="vertical-align: inherit;">彼女は言った：土曜日の午前10時に彼らは家族の休日を過ごし、そこで彼らは彼女の3人の子供にスクーターを与えたかった。</font><font style="vertical-align: inherit;">したがって、彼女はそれらを厳密に3個必要とし、部分的な償還に同意せず、それがどのように可能であるかをまったく理解していません。彼女は月曜日に注文し、今では私たちスクーターストアが彼女に代わっています。</font><font style="vertical-align: inherit;">土曜日の無期限の配達は、彼女に断固としては合いません。</font><font style="vertical-align: inherit;">明日は夕食の前に家にいます。今日または明日の朝に出られない場合、彼女は注文をキャンセルし、店を3番目の膝まで呪います（理解できます）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート3.極小</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストアは宅配会社から注文配送サービスを購入します。未配達のスクーターの場合、彼は宅配会社に500ルーブルの罰金を科します。会社はスクーターを時間通りに戻さなかった店主と運転手に200-300ルーブルの罰金を科します。動揺した女性は彼女の2万人をより機敏な店に与え、Yandexの1つ星を獲得します。店は最高のサービスを提供できますが、「ラストマイル」はガゼルとラーグスで悲観的な男性によって実行されます。顧客との振る舞いが悪い場合、ストアはこれに影響を与えることができません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、店は通常、最低コストの配達を探します-ドライバーにもっと少ない料金を払えば、彼らはタクシーの運転手または他のどこかで働くようになるという意味で。ドライバーは日々の収益を最適化します-より多くの注文を運び、罰金を科さないようにする必要があります。システム全体を表すグローバルコスト関数を作成すると、関数のこの状態は、その極小値である「ポテンシャルウェル」に確実に対応します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/gl/pe/o0glpeevpeoucvi20vgzt5yn6fk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このピットには明らかに大きな体系的な問題があります。まず、最も困難な作業は最も熟練していない従業員に引き渡されました。ドライバーはマシンを制御し、ルートを計画し、クライアントと通信します。彼はまたお金を運ぶ。彼には追加のスキルと専門分野があります。たとえば、特定の地域で1日あたり30の注文を配達する能力があります。その会社は経験の浅いドライバーを訓練しなければならず、経験のあるドライバーは（残念ながら会社にとって）交換するのが難しいため、失うことがないようにしています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二に、配信プロセスは完全に予測不可能です。クライアントは、彼に何時に来るかわかりません。通常、顧客には幅広い配達ウィンドウが提供されます-4、6時間以上。これは彼にとって非常に不便です：常に1つの場所に6時間座ることはできません。そして、ドライバーでさえ、これらのウィンドウに常に入ることができません。より狭いウィンドウを顧客にとって便利なものにする機会（2時間、または1時間以上）は、より強力にプッシュし、潜在的な穴からより最適な状態にジャンプすることができた大企業にのみ可能です。私たちは、独自の配達と宅配便を持つ企業について話しています。 「自社」の宅配便はすべての会社に役立ちます。これにより、彼らの仕事の質を管理し、さらに何らかのアップセールを行うことができます（宅配便業者が購入する商品を注文する場合）。しかし、宅配便のスタッフを維持することは非常に費用がかかります。WildBerriesやLamodaのような最大の会社だけがそれを買うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第三に、ロジスティクス業者は常に不正行為をしています。車の過負荷や運転手のシフトの破壊などのトリックは、ありふれたものと考えられています（8時間ではなく、10〜12時間がかかります）。 「それは大丈夫です-ボリュームに収まらない場合、彼はキャブに余分を入れます」-これでさえ起こります。このため、特にトラックに積み過ぎている場合、罰金が課せられます。罰金自体（会社あたり10万ルーブルから）には、路盤の損傷に対する補償が追加されます。これは、オーバーロード係数に距離を掛けたものと見なされ、数十万ルーブルに簡単に到達できます。艦隊の所有者は壊れることなく運転したいと思います。 ：しかし、logisticianは選択肢を持っているとし</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、「少しそれを超え、余分なパレットを突き出す」 - </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- 「余分な車を追加し、増加コストが、壊すことなく、」</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- 「シットを別の半時間、適切に計画を立てる」彼は</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの場合、最初に選択されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような憂鬱な絵は、私たちに大きな楽観を与えました。</font><font style="vertical-align: inherit;">大型商品の配達、書類の配達など、他の物流部門の企業にいくつかのインタビューを行いました。</font><font style="vertical-align: inherit;">この場所で世界は完璧ではないという私たちのすべての仮説が確認されました。</font><font style="vertical-align: inherit;">それで、私たちの前に大きな機会の窓が開かれました。</font><font style="vertical-align: inherit;">私たちは熱心に仕事に取り掛かりました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート4. MVRPと渋滞</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は当社の製品の技術的な詳細ですので、定義から始めましょう。</font><font style="vertical-align: inherit;">MVRPは、複数の車両ルーティングの問題です。つまり、複数の車のフリートがある複数の場所を最適に移動する必要があるタスクです。</font><font style="vertical-align: inherit;">単一のマシンに対する同様のタスクをSVRP（単一VRP）と呼ぶ用語を使用します。</font><font style="vertical-align: inherit;">これは、配達ウィンドウの存在によって、従来の巡回セールスマン問題（TSP、巡回セールスマン問題）とは異なります。</font><font style="vertical-align: inherit;">一般的な用語はないようです。</font><font style="vertical-align: inherit;">ウィキペディアの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、私たちが解決するタスクは、複雑な略語VRPPDTW（集配モードと配信ウィンドウを備えたVRP）と呼ばれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような問題を解決するプログラムは、伝統的に「ソルバー」と呼ばれています。</font><font style="vertical-align: inherit;">汎用性を高めるには、ソルバーに一連のオプションと制限を設定する必要があります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加オプションの例</font></font></b><div class="spoiler_text">—    ,  .<br>
—    (,  ),   .<br>
—         (      ,        ).<br>
—      .  ,         :   ,      .<br>
—      .<br>
—   .<br>
—         (,      -),      :           .       ,    *   .<br>
—     «» ,      .          ,   ,  -        .<br>
—   : ,        .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソルバーで使用できるアルゴリズムにはいくつかのタイプがあります。たとえば、ユニバーサルオープンソースと有料の制約ソルバー（Google OR-Tools、OptaPlanner、Choco-solver）の大規模なグループがあります。それらのそれぞれの中で、必要な制限を考慮して最適化された機能が構築されます。このようなソルバーは通常、一連のタスク全体を解決できます。VRPタスク、スケジューリング、クラウド内のリソースの最適な割り当てです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MVRPタスク専用に調整され、エンタープライズ管理システムとの統合の準備ができている多くの商用ソリューションもあります。 VeeRoute、Maxoptra、Antorはロシアで知られています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソルバーYandex.Routingは、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">アニーリングシミュレーションアルゴリズムの</font></a><font style="vertical-align: inherit;">組み合わせを使用し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遺伝的アルゴリズム。競合他社が何を使用しているかはわかりませんが、おそらく似たようなものがあります。私たちの測定によると、VRPタスクでは、制約ソルバーは商用ソルバーに非常に負けています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i7/zb/-s/i7zb-sjhxjxpnhcslcrfiysfwwi.gif"><br>
<b><sup><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アメリカの州のラウンドアバウト交差点のTSP問題の解決策</font></font></sub></sup></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
私はすぐに予約します。MVRP問題を解決するトピックは非常に素晴らしいので、記事では詳しく説明しませんが、別の記事を書きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソルバーの主な入力は、計画に含まれるポイント間の距離のマトリックスです（オーダーポイントと1つ以上の拠点）。実際、これは1つのマトリックスではなく、2つのマトリックスです：走行距離と移動時間による。最適化が行われるのは、これらのマトリックスを通じてです。すでに述べたように、Yandexは他の商用ソリューションの開発者とは異なり、交通情報を持っています。つまり、私たちにとって、行列は一定ではなく、時間とともに変化し、ソルバーではこれを考慮に入れます。私たちの知る限り、世界でこれを行う人は誰もいません。渋滞に関するすべてを知っていても、合理的な離散化を使用して距離行列のセットを構築することは困難です（結果のルートが適切であることを保証するのに十分です）。実際のところ、行列セルの数は、次数の数から二次関数的に増加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
500台の車両を使用して10,000件の注文を配送するVRPタスクを解決するとします。次に、時間とともに変化する2つの巨大な行列を取得します。それらをネットワーク上でダウンロードするだけではかなりの時間がかかりますが、最初にそれらのコンテンツを計算する必要があります。これが十分に効率的に行われない場合、マトリックスが構築されてダウンロードされるまで数時間待つ必要があり、そうして初めてソルバーが起動されます。ここでは、ダイクストラアルゴリズムが役立ちます。長距離行列の計算は、（行列サイズから）ほぼ線形の時間で実現できます。しかし、私たちのチームは、これについても今後数週間で別の記事で話します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、スマートソルバーを構築し、それを車の束に並列化し、交通渋滞を考慮した超高速距離行列を備えたルーターを作成し、これらの行列をソルバーに組み込む方法を理解しました。</font><font style="vertical-align: inherit;">その結果、15分で3,000か所を走行する問題を解決する機会を得ました。</font><font style="vertical-align: inherit;">地図上の結果：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tr/gn/vn/trgnvn5-ffqkfcybc6qfw-drwxi.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート5.結果と実装の難しさ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当社のルートと、手動または（場合によっては）競合他社のプログラムを使用して半自動モードで旅行を計画するロジスティクス担当者が作成したルートを比較できます。典型的なケースでは、当社のソリューションを使用すると、最適な方法で小さなルートでロジスティクスを平均20％上回ることができます。同時に、完成したルートを取得するための時間が大幅に短縮され、数時間ではなく15分になります。素晴らしい未来に、ロジスティクス担当者は、神経質で疲れた人が真夜中に車で注文をまき散らすことから、立派な社会の一員になるべきです。彼は私たちの自動計画を使用し、時には片手でケースを修正します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デリバリーサービスの開始時にお客様がソリューションを購入したときに、実装は最もスムーズに進みました。しかし、ほとんどのお客様は新しいものではありません。彼らはすでにロジスティクスのための実装されたソリューションを持っており、クライアントが大きくなるほど、この特定の会社のプロセスのあらゆる種類の機能、そして単なる松葉杖で成長してきました。彼らの開発とサポートは、自社または採用したITサービスによって実行されます。大企業は（当社の製品の利点が明らかであっても）ルーティングを実装できるのは、ITインフラストラクチャのメジャーアップデートと一緒の場合のみです。そして、これは通常数年ごとに起こります。 2018年5月、当社の新生サービスは、IKEAとのパートナーシップによるYaC 2018カンファレンスで発表されました。 6か月後、実装が始まり、データの交換が始まりました。そして1年後のロジスティクスに関する業界会議で、IKEAのプロジェクトマネージャーが結果について話しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果はポジティブでしたが、私たちには少し予想外でした。</font><font style="vertical-align: inherit;">たとえば、顧客に知らせることで満足度が高まり、コールセンターへの通話回数が大幅に減少しました（以前は、購入したソファの運命について何も知らずに、緊張して電話をかけ始めました）。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または別の例-石油業界の労働者と。</font></font></b><div class="spoiler_text">   ,       .        ,       . ,   « » —        .      ,       ,        ,   «»    ( ,  YouTube    ,   ).    ,        (  ,   ),           ,       .   :       —       ,      ,  ,         . .           .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、最初のインストールが完全に正しくないことがわかりました。</font><font style="vertical-align: inherit;">効果的な迂回ポイントを販売することを考えましたが、企業はさまざまな指標に影響を与えるさまざまな製品を必要としているだけでなく、効率もそれほど高くないことがわかりました。</font><font style="vertical-align: inherit;">幸いなことに、コアテクノロジー製品をさらにいくつか提供しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中小企業は統合の困難を克服するのが得意ですが、人的要因に直面する可能性があります。</font><font style="vertical-align: inherit;">計画されたルートをたどり、追跡アプリケーションがオンになっている電話を維持するようにドライバーを説得することは非常に困難です。</font><font style="vertical-align: inherit;">これは、19世紀の農民が機械化された芝刈り機とプラウを壊す話を連想させます。</font><font style="vertical-align: inherit;">もちろん、すべてがそれほど悲しくはありませんが、進歩には抵抗があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
短期間のうちに、国内のすべてのロジスティクスを変える（または少なくとも強く影響する）製品を構築することができました。</font><font style="vertical-align: inherit;">現在の顧客とYandexは私たちを信じています。</font><font style="vertical-align: inherit;">後者も重要です。はい、社内のスタートアップは社外のスタートアップよりも落ち着いていますが、結果を示す必要もあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは将来の計画で大企業に重点を置くことから始めました-サービスに参加するためのしきい値を下げることです。</font><font style="vertical-align: inherit;">Yandex.MapsでSVRP問題を直接解決することができます。ルートに4番目のポイントを追加すると、ソルバーを呼び出す[最適化]ボタンが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ka/iq/cn/kaiqcnhai128l_r83lj18fe2lgm.png"><br>
<br>
<a name="video"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HSEのFCSの学生向けの同じストーリーのビデオ：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8yDh9Q7shag" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての最高のルート！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja494780/index.html">コロナウイルス時代のアマゾン従業員の啓示と恐怖</a></li>
<li><a href="../ja494782/index.html">TensorFlow LiteとAzure Custom Visionを使用してAndroidで画像を分類する</a></li>
<li><a href="../ja494784/index.html">DBLog-変更データキャプチャの一般的なフレームワーク</a></li>
<li><a href="../ja494786/index.html">GDBでのMitMのようなRTOSサポート</a></li>
<li><a href="../ja494788/index.html">メールの仕組み</a></li>
<li><a href="../ja494794/index.html">私たちは長い腕を持っています</a></li>
<li><a href="../ja494798/index.html">Snowden：パンデミックは終了しますが、人口の監視は残ります</a></li>
<li><a href="../ja494800/index.html">中国のUSB IRトランシーバープロトコルのリバースエンジニアリング</a></li>
<li><a href="../ja494804/index.html">「申し訳ありませんが、...を認識しました」またはTensorflow Object Detection APIを使用してラズベリーとコントローラを認識しました</a></li>
<li><a href="../ja494806/index.html">サイバーは2019年をトレンド2020としてターゲット-ハッカーは焦点を変えました</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>