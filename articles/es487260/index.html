<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚öïÔ∏è ü§≥üèæ üé¨ NoVerify: un linter PHP que funciona r√°pido üò™ üôåüèø ü§ú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Existen buenas utilidades de an√°lisis est√°tico para PHP: PHPStan, Psalm, Phan, Exakat. Linters hacen bien su trabajo, pero muy lentamente, porque casi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NoVerify: un linter PHP que funciona r√°pido</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/487260/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existen buenas utilidades de an√°lisis est√°tico para PHP: PHPStan, Psalm, Phan, Exakat. </font><font style="vertical-align: inherit;">Linters hacen bien su trabajo, pero muy lentamente, porque casi todos est√°n escritos en PHP (o Java). </font><font style="vertical-align: inherit;">Para uso personal o un proyecto peque√±o, esto es normal, pero para un sitio con millones de usuarios, este es un factor cr√≠tico. </font><font style="vertical-align: inherit;">Un linter lento ralentiza la canalizaci√≥n de CI y hace que sea imposible usarlo como una soluci√≥n que pueda integrarse en un editor de texto o IDE. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/zg/kr/ofzgkrouigpm_lqdgdxepukek4q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un sitio con millones de usuarios es VKontakte. </font><font style="vertical-align: inherit;">Desarrollo y adici√≥n de nuevas funciones, pruebas y correcci√≥n de errores, revisiones: todo esto deber√≠a ir r√°pido, en condiciones de plazos estrictos. </font><font style="vertical-align: inherit;">Por lo tanto, un linter bueno y r√°pido que pueda verificar la base del c√≥digo para 5 millones de l√≠neas en 5-10 segundos es algo irremplazable.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No hay linters adecuados en el mercado, por lo que Yuri Nasretdinov (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√∫ Molas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) de VKontakte escribi√≥ su ayuda a los equipos de desarrollo: NoVerify. </font><font style="vertical-align: inherit;">Este es un linter para PHP, que est√° escrito en Go. </font><font style="vertical-align: inherit;">Funciona entre 10 y 30 veces m√°s r√°pido que sus contrapartes, puede encontrar algo sobre lo que PhpStorm no advierte, se expande e integra f√°cilmente en proyectos que nunca antes hab√≠an escuchado sobre an√°lisis est√°tico.&nbsp;</font><strong><font style="vertical-align: inherit;">Iskander Sharipov</font></strong></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
contar√° sobre este linter </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debajo del corte: c√≥mo eligieron el linter y prefirieron escribir el suyo propio, por qu√© NoVerify es tan r√°pido y c√≥mo se organiza desde adentro, por qu√© est√° escrito en Go, qu√© puede encontrar y c√≥mo se expande, qu√© compromisos tuvo que hacer y qu√© se puede construir sobre su base.</font></font><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dlcDvUTQ5Lk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iskander Sharipov</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cuasilyte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) trabaja en la infraestructura de back-end de VKontakte y conoce bien NoVerify. </font><font style="vertical-align: inherit;">En el pasado, particip√≥ en el compilador Go en el equipo de Intel. </font><font style="vertical-align: inherit;">√âl no escribe en PHP, pero este es su lenguaje favorito para el an√°lisis est√°tico: tiene muchas cosas que pueden salir mal. </font></font><br>
<br>
<i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota. </font></font></strong></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para comprender los antecedentes, lea el art√≠culo de Yuri Nasretdinov, el autor de NoVerify en </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr√©,</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con antecedentes y comparaci√≥n con algunas linters existentes, que generalmente est√°n escritas en PHP. </font><font style="vertical-align: inherit;">Todas las declaraciones en la direcci√≥n de PHP (en el art√≠culo de Yuri y aqu√≠) son una broma. </font><font style="vertical-align: inherit;">Iskander ama PHP, todos aman PHP.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desarrollo de productos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En VKontakte, este es un desarrollo de sitio web en KPHP. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La velocidad es importante para VKontakte:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> corregir errores, agregar y desarrollar nuevas funciones desde la primera fase hasta la √∫ltima. Pero la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">velocidad va acompa√±ada de errores</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , especialmente cuando hay plazos estrictos: estamos apurados, nerviosos y cometemos m√°s errores que en una situaci√≥n tranquila. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los errores afectan a los usuarios</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . No queremos que sufran, por lo tanto, controlamos la calidad. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero el control de calidad ralentiza el desarrollo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esto tampoco lo queremos, por lo que el efecto debe ser minimizado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para hacer esto, podr√≠amos realizar </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√°s revisiones de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c√≥digo sin falta, contratar </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√°s evaluadores</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y escribe m√°s pruebas. </font><font style="vertical-align: inherit;">Pero todo esto est√° mal automatizado: la revisi√≥n debe hacerse y las pruebas deben escribirse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las tareas principales de mi equipo son diferentes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recopile m√©tricas, analice y repare r√°pidamente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si algo sali√≥ mal, queremos revertirlo r√°pidamente, comprender qu√© est√° mal, solucionarlo y agregar r√°pidamente el c√≥digo de trabajo a la producci√≥n. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Monitoree el rigor de la tuber√≠a</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para que el c√≥digo que no funciona no entre en producci√≥n en absoluto; no necesita revertirlo. </font><font style="vertical-align: inherit;">Aqu√≠ los linters vienen al rescate: analizadores de c√≥digo est√°tico. </font><font style="vertical-align: inherit;">Hablaremos de esto.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elige un linter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elija un linter que agreguemos a la tuber√≠a. Tomamos un enfoque simple: formulamos los requisitos. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linter deber√≠a funcionar r√°pido</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Hay varios pasos en nuestra cartera: el funcionamiento del linter no deber√≠a llevar mucho tiempo y un desarrollador que consume mucho tiempo, mientras espera comentarios. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soporte para "sus" cheques</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Lo m√°s probable es que el linter no tenga todo lo que necesitamos, tendremos que agregar nuestros propios cheques. Deben encontrar problemas t√≠picos de nuestra base de c√≥digo, verifique el c√≥digo desde el punto de vista de nuestro proyecto. No todo esto puede ser (o convenientemente) cubierto por pruebas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soporte para cheques "propios"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Podemos escribir muchas pruebas, pero ¬øser√°n bien compatibles? </font><font style="vertical-align: inherit;">Por ejemplo, si escribimos en expresiones regulares, se volver√°n m√°s complicadas cuando necesite tener en cuenta el contexto, la sem√°ntica y la sintaxis del lenguaje. </font><font style="vertical-align: inherit;">Por lo tanto, las pruebas no son una opci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mayor√≠a de las cartas que revisamos est√°n escritas en PHP. </font><font style="vertical-align: inherit;">Pero no pasan a demanda. </font><font style="vertical-align: inherit;">Las linters en PHP (todav√≠a no hay una compilaci√≥n AOT) funcionan entre 10 y 20 veces m√°s lento que en otros idiomas: nuestro archivo m√°s grande se puede analizar durante decenas de segundos. </font><font style="vertical-align: inherit;">Esto ralentiza el flujo de trabajo demasiado y demasiado; este es un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">defecto fatal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">¬øQu√© hacen los desarrolladores en este caso? </font><font style="vertical-align: inherit;">Ellos escriben los suyos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, escribimos nuestro linter NoVerify PHP en Go. </font><font style="vertical-align: inherit;">¬øPor qu√© en eso? </font><font style="vertical-align: inherit;">Spoiler: no solo porque Jura as√≠ lo decidi√≥.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noverificar</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go es un buen compromiso entre la velocidad de desarrollo y la productividad.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La primera "prueba" en la imagen con "infograf√≠as": buena velocidad de ejecuci√≥n, f√°cil soporte. </font><font style="vertical-align: inherit;">Perdemos en velocidad de desarrollo, pero los dos primeros puntos son m√°s importantes para nosotros.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c67/bfb/e53/c67bfbe537c7b8996cc429cef661c377.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las figuras se toman de la cabeza, no est√°n respaldadas por nada. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la segunda "evidencia", argument√≥ de manera m√°s simple.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c10/6e7/2e9/c106e72e9b04791cd5abd3097664c875.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PHP es m√°s lento, Go es m√°s r√°pido, y as√≠ sucesivamente.&nbsp;</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Elegimos Go por tres razones. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ir como idioma para servicios p√∫blicos es f√°cil de aprender a un nivel b√°sico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En el equipo de desarrolladores de PHP, seguro, alguien escuch√≥ sobre Go, mir√≥ a Docker, sabe que est√° escrito en Go, tal vez incluso vio la fuente. Con una comprensi√≥n b√°sica, despu√©s de una o dos semanas de aprendizaje intensivo de Go, podr√°n escribir c√≥digo en √©l. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ir es bastante efectivo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Incluso un principiante no podr√° cometer muchos errores, porque Go tiene una buena sinton√≠a y muchos linter. En Go, el c√≥digo promedio es ligeramente mejor que en otros idiomas, porque hay muchas menos formas de dispararle a su propia pierna. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las aplicaciones Go son f√°ciles de mantener.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go es un lenguaje de programaci√≥n bastante maduro para el que est√°n disponibles casi todas las herramientas de desarrollador que puede desear. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verificaremos NoVerify con nuestros requisitos.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NoVerify es </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">varias veces m√°s r√°pido que las alternativas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para ello, puede </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escribir extensiones</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tanto de c√≥digo abierto como propias. </font><font style="vertical-align: inherit;">Es importante que podamos separar estos cheques, y usted puede escribir los suyos.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√°cil de probar y desarrollar. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En parte, porque la distribuci√≥n Go est√°ndar tiene un marco est√°ndar con perfiles y pruebas. </font><font style="vertical-align: inherit;">Se utiliza principalmente para pruebas unitarias. </font><font style="vertical-align: inherit;">Particularmente diestros se pueden usar para la integraci√≥n, como lo hacemos nosotros: tenemos pruebas de integraci√≥n escritas a trav√©s de las pruebas Go.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compromiso de integraci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con el problema. </font><font style="vertical-align: inherit;">Cuando inicie cualquier linter por </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primera vez</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en un proyecto antiguo que no utiliz√≥ ning√∫n an√°lisis, lo m√°s probable es que lo vea. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/yu/qz/rxyuqz6edr8po3uc7xo87byzgpu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Oh mi c√≥digo! </font><font style="vertical-align: inherit;">Nadie corregir√° tantos errores. </font><font style="vertical-align: inherit;">Quiero cerrar el proyecto, eliminar el linter y nunca volver a ejecutarlo. </font><font style="vertical-align: inherit;">¬øQu√© hacer para evitar esto?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integrar</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejecutar en modo diff</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . No queremos ejecutar todas las verificaciones en todo el proyecto con un mill√≥n de errores en cada paso de CI. Quiz√°s conozca la l√≠nea de base: en NoVerify, esto est√° listo para usar, no necesita incrustar una utilidad separada. Inmediatamente consideramos que ese r√©gimen era necesario. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregue legado (proveedores) a las excepciones</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es m√°s f√°cil no tocar algunas cosas, dejar de lado incluso con un defecto, para no modificarlo usted mismo y no dejar una marca en la historia. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comenzamos con un subconjunto de cheques</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . No puedes conectar todo lo que incluye estilo. Para empezar, encuentra errores reales: encontraremos, corregiremos y cambiaremos a algo nuevo. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recopilamos comentarios de colegas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">¬øC√≥mo entender cu√°ndo es hora de encender otra cosa? </font><font style="vertical-align: inherit;">Preg√∫ntale a tus colegas. </font><font style="vertical-align: inherit;">Tan pronto como est√©n contentos de que los errores hayan desaparecido y no se encuentre casi nada, encienda otra cosa: es hora de trabajar.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n de Git</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El modo diferencial significa que tiene un sistema de control de versiones: Git. Si tiene SVN, entonces la instrucci√≥n no ayudar√°, vaya a Git. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalamos el gancho de pre-empuje con un linter</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y lo verificamos antes de comenzar el c√≥digo. Verificamos la m√°quina local </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> una </font><strong><font style="vertical-align: inherit;">opci√≥n </font></strong></font><code>--no-verify</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para evitar el linter</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Probablemente ser√≠a m√°s conveniente usar un enlace previo a la recepci√≥n y deshabilitar la interfaz del lado del servidor, pero por razones hist√≥ricas, muchas cosas suceden en VK en un enlace previo a la inserci√≥n, por lo que NoVerify tambi√©n se incorpor√≥ all√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s del empuje, se inician las comprobaciones de CI. NoVerify tiene dos modos de operaci√≥n: con an√°lisis completo y sin √©l. En CI, lo m√°s probable es que desee (y pueda) ejecutar</font></font><code>--git-full-diff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Las m√°quinas en CI se pueden cargar m√°s duro y verificar incluso aquellos archivos que no han cambiado. </font><font style="vertical-align: inherit;">En las m√°quinas locales, podemos ejecutar un an√°lisis menos estricto, pero m√°s r√°pido, de solo los archivos modificados (5-15 segundos m√°s r√°pido).&nbsp;</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falsos positivos</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c8/508/9c9/5c85089c909c79ed02c4c72f25bb9850.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere el siguiente ejemplo: en esta funci√≥n, se acepta algo que contiene un campo, pero el tipo no se describe de ninguna manera. </font><font style="vertical-align: inherit;">No es un hecho que haya un campo cuando se llama a una funci√≥n desde diferentes contextos. </font><font style="vertical-align: inherit;">En una versi√≥n estricta, el linter podr√≠a quejarse: "No est√° claro de qu√© tipo es, ¬øc√≥mo puedo devolver un campo sin controles?" </font><font style="vertical-align: inherit;">Pero esto no es necesariamente un error.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get_foo</span>(<span class="hljs-params">$obj</span>) </span>{
    <span class="hljs-keyword">return</span> $obj-&gt;foo;<font></font>
    ^^^<font></font>
}<font></font>
<font></font>
Warning:<font></font>
Property <span class="hljs-string">"foo"</span> does not exist</code></pre><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los falsos positivos interfieren.&nbsp;</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta es la raz√≥n principal para abandonar linter. </font><font style="vertical-align: inherit;">Las personas eligen otras opciones que encuentran menos errores, pero producen menos falsos positivos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A menudo empujan cuando algo funciona, pero esto no es un error. </font><font style="vertical-align: inherit;">Muchos tienen un mecanismo para omitir la interfaz: para ejecutarse con la bandera sin verificar la interfaz. </font><font style="vertical-align: inherit;">En nuestro pa√≠s, esta bandera se llamaba </font></font><code>no-verify</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gancho previo al empuje. </font><font style="vertical-align: inherit;">A menudo lo usamos y el nombre se inmortaliz√≥ en el nombre de la peluquera.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quisquilloso</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra propiedad de linter. </font><font style="vertical-align: inherit;">Por ejemplo, muchos no entienden los alias. </font><font style="vertical-align: inherit;">En PHP, </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esto es un an√°logo </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: no calcula el tama√±o, pero devuelve el n√∫mero de elementos. </font><font style="vertical-align: inherit;">El modelo mental de los desarrolladores de C tiene un </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">significado diferente. </font><font style="vertical-align: inherit;">Si en la base del c√≥digo hay </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, muy probablemente, media </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pero esto es una trampa.</font></font><br>
<br>
<pre><code class="php hljs">$len = sizeof($x);<font></font>
    ^^^^^^<font></font>
<font></font>
Warning:<font></font>
<span class="hljs-keyword">use</span> "<span class="hljs-title">count</span>" <span class="hljs-title">instead</span> <span class="hljs-title">of</span> "<span class="hljs-title">sizeof</span>"</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© hacer con ello?</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√© estricto y obliga a gobernar todo sin excepci√≥n</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Imponer reglas, exigir, observar y no permitir que eludan, nunca funciona. Para que dicha rigidez funcione, el equipo debe estar formado por las mismas personas: car√°cter, nivel de cultura, pedanter√≠a y percepci√≥n de la calidad del c√≥digo. Si esto no es as√≠, habr√° disturbios. Es m√°s f√°cil reunir un equipo a partir de tus clones que forzar a seguir todas las reglas.&nbsp; </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No bloquee empuje / comprometerse en los comentarios como arreglar </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lo m√°s probable es que esto no sea un error, sino una trampa y no afecta el c√≥digo. Pero entonces el 99% de las respuestas ser√°n ignoradas (por el equipo) y siempre habr√° otras adicionales en el c√≥digo </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permitir cierto nivel de configuraci√≥n para diferentes equipos y desarrolladores.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede configurar la configuraci√≥n para cada comando de modo que los que no quieren cambiar </font></font><code>sizeof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font><code>count</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no puede hacer esto. </font><font style="vertical-align: inherit;">Que todos los dem√°s sigan las reglas. </font><font style="vertical-align: inherit;">Una buena opci√≥n, pero la consistencia se hundir√°, y en algunos directorios el c√≥digo ser√° un poco peor. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejecute dichos controles una vez al mes, en subbotniks</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Las comprobaciones se pueden ejecutar no siempre en el CI o en el gancho previo a la inserci√≥n, sino en la rutina Cron una vez al mes. </font><font style="vertical-align: inherit;">Ejecute y edite todo lo que encuentre despu√©s del desarrollo activo. </font><font style="vertical-align: inherit;">Pero este trabajo requiere recursos para la automatizaci√≥n y la verificaci√≥n. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacer nada. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desactivar los controles estil√≠sticos tambi√©n es una opci√≥n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compromiso</font></font></h3><br>
<img src="https://habrastorage.org/webt/-l/jq/ao/-ljqaougomtrtjxnr_kl_b6rgyk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siempre habr√° un compromiso entre un desarrollador feliz y un linter feliz. </font><font style="vertical-align: inherit;">Es f√°cil hacer feliz a un linter: el modo m√°s estricto y la falta de soluciones. </font><font style="vertical-align: inherit;">Quiz√°s despu√©s de eso, nadie permanecer√° en el equipo, por lo que si la pelusa interfiere con el trabajo, esto es un problema.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acci√≥n √∫til sobre todo.</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalles t√©cnicos de NoVerify</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cheques privados VKontakte.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Noverify est√° escrito algo as√≠. En GitHub, el repositorio NoVerify se divide en dos partes: el marco que se usa para implementar el linter, y las comprobaciones separadas, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vklints</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esto se hace para que el linter cargue cheques de terceros: puede escribir un m√≥dulo separado en Go y se registran en el marco. Despu√©s de comenzar desde el binario NoVerify, el marco carga todos los conjuntos de comprobaciones registrados y funcionan como un todo.&nbsp; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s8/jj/5z/s8jj5zbegovtmxkg8ydhezx2mfw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NoVerify es tanto una biblioteca como un binario (linter). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestros cheques se llaman </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vklints</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Encuentran que no ven PhpStorm y Open Source NoVerify, errores importantes que no son adecuados para uso general. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© es vklints?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verificando los detalles del uso de ciertas funciones</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , clases e incluso variables globales que no siguen nuestras convenciones. Esto es algo que no se puede usar en lugares especiales por varias razones descritas en la gu√≠a de estilo. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controles de estilo adicionales.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> No corresponden a lo que se acepta en la comunidad PHP, no se describen en la Recomendaci√≥n est√°ndar de PHP ni siquiera lo contradicen, pero para nosotros es el est√°ndar. No tiene sentido agregarlos a Open Source porque no desea seguirlos. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos estrictos de comparaci√≥n para algunos tipos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Por ejemplo, tenemos una verificaci√≥n que requiere comparar cadenas con un operador de comparaci√≥n </font></font><code>===</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. En particular, requiere pasar una bandera para una comparaci√≥n estricta de funciones con el fin de comparar cadenas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Claves de matriz sospechosas.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otro error interesante: a veces, cuando los desarrolladores se comprometen, pueden presionar combinaciones de teclas antes de guardar el archivo. </font><font style="vertical-align: inherit;">Estos caracteres a veces permanecen en una cadena o en un fragmento de c√≥digo. </font><font style="vertical-align: inherit;">Una vez, en la clave de la matriz estaba la letra rusa "Y". </font><font style="vertical-align: inherit;">Lo m√°s probable es que el desarrollador presion√≥ CTRL-S en el dise√±o ruso, guard√≥ el archivo y lo confirm√≥. </font><font style="vertical-align: inherit;">A veces encontramos tales claves en las matrices, pero ya no se pasar√°n nuevos errores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las reglas din√°micas son un mecanismo de extensi√≥n NoVerify m√°s simple descrito en PHP. </font><font style="vertical-align: inherit;">Se ha escrito un art√≠culo separado sobre esto: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥mo agregar cheques a NoVerify sin escribir una sola l√≠nea de c√≥digo Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo funciona NoVerify</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para analizar PHP necesitas un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analizador</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">No podemos usar el analizador PHP en PHP: es lento, desde Go solo se puede usar a trav√©s de un contenedor en C. Por lo tanto, usamos el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analizador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este analizador tiene varios problemas. </font><font style="vertical-align: inherit;">Desafortunadamente, solo puede trabajar con UTF-8 y debemos distinguir entre UTF-8 y </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no UTF-8</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Adem√°s de UTF-8, Windows-1251 a menudo se encuentra en proyectos PHP rusos. </font><font style="vertical-align: inherit;">Tambi√©n tenemos esos archivos. </font><font style="vertical-align: inherit;">¬øC√≥mo los reconocemos?&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El archivo </font></font><code>encodings.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enumera todas las rutas donde est√°n los archivos con UTF-8. </font><font style="vertical-align: inherit;">Si nos encontramos con un archivo fuera de estas rutas, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">al instante</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> transmitimos a UTF-8 mediante transmisi√≥n de flujo (sin convertir de antemano).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c47/ace/5aa/c47ace5aa12a572a201925c6be5e522a.jpg"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis y an√°lisis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Completado en unos pocos pasos. </font><font style="vertical-align: inherit;">En el primero, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cargamos metadatos de phpstorm-stubs</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Estos son datos que se parecen al c√≥digo PHP, pero nunca se ejecutan y describen los tipos de entradas / salidas de las funciones est√°ndar. </font><font style="vertical-align: inherit;">Los metadatos phpStorm tienen una directiva de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anulaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √∫til para el linter </font><font style="vertical-align: inherit;">... Nos permite describir, por ejemplo, que aceptamos una matriz de un tipo </font></font><code>T[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y devolvemos un tipo </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(√∫til para funciones </font></font><code>array_pop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c62/a79/6a6/c62a796a6fc623a27e92633d80de56c2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Phpstorm-stubs se carga primero. </font><font style="vertical-align: inherit;">Usamos metadatos como la informaci√≥n de tipo inicial: la base. </font><font style="vertical-align: inherit;">Esta base es absorbida por el linter y comenzamos a analizar las fuentes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cargamos el maestro actual</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> antes de la absorci√≥n. </font><font style="vertical-align: inherit;">Verificamos el c√≥digo en dos modos:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cambios locales</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : con respecto a la l√≠nea de base encontramos nuevos errores en el c√≥digo;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicamos el rango de revisiones</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : la primera y la √∫ltima revisi√≥n, y entre ellas todo es inclusivo: este es el nuevo c√≥digo y todo lo que "antes" es antiguo.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego viene la etapa de an√°lisis.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e4/d05/03b/3e4d0503b0d2932b765ba30c6d8ef698.jpg"></div><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lisis AST</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ahora tenemos metadatos, escriba informaci√≥n. </font><font style="vertical-align: inherit;">Tomamos toda la fuente PHP, analizamos y analizamos directamente sobre el AST; no tenemos una representaci√≥n intermedia en este momento. </font><font style="vertical-align: inherit;">Analizar un AST sin procesar no es muy conveniente, especialmente si depende de las bibliotecas y los tipos de datos que representa.&nbsp;</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43c/864/84c/43c86484c14609526fb5db5228bb7f67.jpg"></div><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los resultados del an√°lisis se almacenan en la memoria cach√©</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Se utiliza en rean√°lisis, que es mucho m√°s r√°pido. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informes y filtrado</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Luego generamos </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informes o advertencias</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dos veces </font><font style="vertical-align: inherit;">: primero encontramos advertencias para la versi√≥n anterior del c√≥digo (antes de la l√≠nea de base), luego para la nueva. Los informes se filtran por comparaci√≥n (diff): buscamos advertencias que aparecieron en la nueva versi√≥n del c√≥digo y se las pasamos al usuario. En algunos analizadores est√°ticos, esto se llama "modo de l√≠nea de base".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0c/469/a6d/b0c469a6d2d66eb821b38a37fdd4b828.jpg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El an√°lisis de c√≥digo doble (en modo diff) es muy lento. </font><font style="vertical-align: inherit;">Pero podemos pagarlo: NoVerify sigue siendo docenas de veces m√°s r√°pido que otros enlazadores PHP. </font><font style="vertical-align: inherit;">Al mismo tiempo, tiene una reserva para una aceleraci√≥n adicional, al menos en un 30 por ciento. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo analizamos los archivos? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En PHP, puede llamar a una funci√≥n antes de definirla; debe conocer la informaci√≥n sobre esta funci√≥n antes de analizarla. </font><font style="vertical-align: inherit;">Por lo tanto, primero revisamos todo el archivo en AST, indexamos, identificamos los tipos de todas las funciones, registramos las clases y solo luego lo analizamos.&nbsp;</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a6/5f2/844/9a65f2844b9ba3cf78e8b4dee2616430.jpg"></div><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El an√°lisis es el segundo paso a trav√©s del archivo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La mayor√≠a de los int√©rpretes y compiladores tambi√©n trabajan con dos pases y m√°s. </font><font style="vertical-align: inherit;">Para no "escanear" el archivo por segunda vez, debe tener declaraciones antes de su uso, como en C, por ejemplo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inferencia de tipos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La parte m√°s interesante es que los errores se encuentran con mayor frecuencia aqu√≠. </font><font style="vertical-align: inherit;">Todav√≠a no se corresponde con la correcci√≥n del sistema de tipo PHP, que es dif√≠cil de definir formalmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo se ve el modelo?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8ae/8ec/ca9/8ae8ecca980c79343d149b8b1f15bb15.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo sem√°ntico (demo). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tipos de tipos:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lo esperado</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es lo que describimos en los comentarios. Esperamos algunos tipos en el programa, pero esto no significa que realmente se usen en √©l.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reales</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : reales que est√°n en el programa. </font><font style="vertical-align: inherit;">Por ejemplo, si asignamos un n√∫mero a algo, entonces es obvio que </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>float</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(si este es un n√∫mero de punto flotante) ser√°n tipos reales.&nbsp;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los tipos reales parecen ser "m√°s fuertes": son reales, verdaderos. </font><font style="vertical-align: inherit;">Pero a veces podemos obtener un tipo solo por anotaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las anotaciones (en los tipos esperados) se pueden dividir en dos categor√≠as: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confianza</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desconfianza</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Por ejemplo, phpstorm-stubs pertenecen a la primera categor√≠a. </font><font style="vertical-align: inherit;">Se consideran moderados (sin errores) antes de usarlos. </font><font style="vertical-align: inherit;">Los no confiables son aquellos que otros desarrolladores escriben, porque pueden tener errores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los tipos reales tambi√©n se pueden dividir en varias partes: valores, aserci√≥n, predicados y sugerencia de tipo, que ampl√≠a las capacidades de PHP 7. Pero hay un problema que la sugerencia de tipo no resuelve.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esperado vs real</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que una clase </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiene un heredero. Desde la clase descendiente, podemos llamar a m√©todos que no est√°n en Foo, porque el descendiente extiende al padre. Pero si tenemos la heredera </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de </font></font><code>new static()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esta anotaci√≥n del tipo de retorno (de </font></font><code>self</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), entonces surgir√° un problema. Podemos llamar a este m√©todo, pero el IDE no lo solicitar√°; debe especificarlo </font></font><code>static()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Este es un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enlace est√°tico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tard√≠o </font><strong><font style="vertical-align: inherit;">en PHP</font></strong><font style="vertical-align: inherit;"> , cuando el </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heredero de </font><font style="vertical-align: inherit;">la </font><font style="vertical-align: inherit;">clase </font><font style="vertical-align: inherit;">no puede regresar </font><font style="vertical-align: inherit;">.&nbsp;</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> static */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newStatic</span>(<span class="hljs-params"></span>) : <span class="hljs-title">self</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">static</span>();<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">// actual = Foo</span>
<span class="hljs-comment">// expected = static</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando escribimos </font></font><code>new static()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, no solo la clase puede regresar </font></font><code>new Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Por ejemplo, si una </font></font><code>Foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clase se hereda </font><font style="vertical-align: inherit;">de </font></font><code>bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, entonces puede haberla </font></font><code>new bar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En consecuencia, necesitamos al menos dos tipos de informaci√≥n. </font><font style="vertical-align: inherit;">Ninguno de ellos es redundante, ambos son necesarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, el tipo real aqu√≠ ser√° </font></font><code>self</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- para el int√©rprete PHP. </font><font style="vertical-align: inherit;">Pero para que el IDE y los linters funcionen, necesitamos </font></font><code>static</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si llamamos a este c√≥digo desde el contexto de la clase heredera, necesitamos saber la informaci√≥n de que esta no es la misma clase base y tiene m√°s m√©todos.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> static */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newStatic</span>(<span class="hljs-params"></span>) : <span class="hljs-title">self</span> </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">static</span>();<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">// actual -  PHP </span>
<span class="hljs-comment">// expected -   IDE/</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sugerencia de tipo</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La escritura est√°tica y la sugerencia de tipo no son lo mismo.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es posible que haya escuchado que solo puede verificar los l√≠mites de las funciones. </font><font style="vertical-align: inherit;">En los bordes, verificamos las entradas y salidas, donde la entrada son los argumentos de la funci√≥n. </font><font style="vertical-align: inherit;">Dentro de la funci√≥n, puede hacer cualquier tonter√≠a: asignar un </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valor </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aunque describi√≥ lo que es </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puede quejarse de que est√° violando los tipos que declar√≥, pero para PHP no hay </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ning√∫n error</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp;</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">T $foo</span>) </span>{<font></font>
        $foo = <span class="hljs-number">10</span>; <span class="hljs-comment">//  int</span>
        <span class="hljs-keyword">return</span> $foo;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un ejemplo es m√°s dif√≠cil: ¬øvolvemos </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Al comienzo de la funci√≥n, determinamos que </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">era </font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y no hay informaci√≥n sobre el retorno.&nbsp;</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">T $foo</span>) </span>{<font></font>
    $foo = <span class="hljs-number">10</span>; <span class="hljs-comment">//  int</span>
    <span class="hljs-keyword">return</span> $foo;<font></font>
}<font></font>
<span class="hljs-comment">// ? 1. f -&gt; int</span>
<span class="hljs-comment">// ? 2. f -&gt; T|int</span>
<span class="hljs-comment">// ? 3. f -&gt; T</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© tipo es el correcto? </font><font style="vertical-align: inherit;">Los dos primeros, analizaremos la diferencia entre ellos. </font><font style="vertical-align: inherit;">PhpStorm y linter generan la segunda opci√≥n. </font><font style="vertical-align: inherit;">A pesar de que siempre regresa </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, el tipo </font></font><code>T|int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se </font><font style="vertical-align: inherit;">deduce </font><font style="vertical-align: inherit;">: la "uni√≥n" de tipos. </font><font style="vertical-align: inherit;">Este es un tipo al que se le pueden asignar ambos valores: primero ten√≠amos informaci√≥n sobre el tipo T, luego lo asignamos </font></font><code>10</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, por lo que el tipo de la variable </font></font><code>foo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debe ser compatible con estos dos tipos.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anotaciones</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los comentarios y las anotaciones pueden mentir.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el ejemplo a continuaci√≥n, escribimos que estamos devolviendo un n√∫mero, pero devolviendo una cadena. </font><font style="vertical-align: inherit;">Si el linter funcion√≥ solo en el nivel de anotaciones y sugerencia de tipo, entonces considerar√≠amos que siempre regresa </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pero los tipos reales solo ayudan a alejarse de esto: aqu√≠, el tipo esperado es este </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y el tipo real es una cadena. </font><font style="vertical-align: inherit;">Linter sabe que se devuelve la cadena y puede advertirle que prometi√≥ volver </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Esta separaci√≥n es importante para nosotros.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-comment">/** <span class="hljs-doctag">@return</span> int */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"I lied!"</span>; }</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herencia de anotaciones. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqu√≠, quiero decir que una clase que implementa alg√∫n tipo de interfaz tiene un m√©todo. </font><font style="vertical-align: inherit;">El m√©todo tiene buenos comentarios, documentaci√≥n, tipos: es necesario para implementar la interfaz. </font><font style="vertical-align: inherit;">Pero no hay comentarios en la implementaci√≥n: solo hay </font></font><code>@inheritdoc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o nada en absoluto.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> int */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>)</span>;<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fooer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@inheritdoc</span> */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"10"</span>; }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© devuelve este m√©todo? Parece que lo que se describe en la interfaz - se devuelve </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero en realidad es una cadena. Esto no es bueno: PHP es todo lo mismo, pero la convergencia es importante para nosotros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay dos opciones para arreglar este c√≥digo. Lo obvio es </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">volver</font></font></strong><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pero quiz√°s necesite devolver un tipo diferente. ¬øQu√© hacer? Escribe que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devolvemos la cadena</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En este caso, la informaci√≥n de tipo expl√≠cito es necesaria tanto para el IDE como para la interfaz para analizar correctamente el c√≥digo.</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> int */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>)</span>;<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fooer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">IFoo</span> </span>{
    <span class="hljs-comment">/** <span class="hljs-doctag">@return</span> string */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"10"</span>; }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta informaci√≥n no ser√≠a necesaria si las personas escribieran comentarios, no </font></font><code>@inheritdoc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No es necesario que PhpStorm entienda qu√© tipos tiene. </font><font style="vertical-align: inherit;">Pero si los tipos no se describen correctamente, habr√° un problema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En PhpStorm y en la interfaz hay conjuntos de errores disjuntos cuando usamos los mismos archivos para metadatos (tipos). </font><font style="vertical-align: inherit;">Si arreglamos todo lo que necesitamos en phpstorm-stubs desde el repositorio de JetBrains, entonces el IDE probablemente se romper√°. </font><font style="vertical-align: inherit;">Si deja todo de forma predeterminada, no todo funcionar√° correctamente </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
para nosotros. Por lo tanto, tenemos una peque√±a bifurcaci√≥n:&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VKCOM / phpstorm-stubs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se han agregado un par de parches para arreglar algo que no encaja. </font><font style="vertical-align: inherit;">No puedo recomendarlo para PhpStorm, pero es necesario que el linter funcione.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente abierta</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Noverify es un proyecto de c√≥digo abierto. Est√° publicado en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Breves instrucciones "si algo sali√≥ mal". </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si algo est√° roto o no comienza.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La reacci√≥n incorrecta es resentir y eliminar NoVerify. La reacci√≥n correcta: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://github.com/login%3Freturn_to%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">emitir un ticket</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en GitHub y hablar sobre su problema. Lo m√°s probable es que se resuelva en 1-2 d√≠as. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Te falta alguna caracter√≠stica.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Reacci√≥n incorrecta: elimine NoVerify y escriba su propio linter (aunque escribir su propio linter siempre es genial). La reacci√≥n correcta: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://github.com/login%3Freturn_to%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">emitir un ticket</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en GitHub y, quiz√°s, agregaremos una nueva funci√≥n. Es m√°s complicado con las caracter√≠sticas que con los errores: surge una discusi√≥n y cada persona tiene una visi√≥n diferente de la implementaci√≥n en el equipo. Pero al final, todav√≠a se est√°n implementando.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si est√° interesado en el desarrollo del proyecto o si solo quiere hablar sobre an√°lisis est√°tico, vaya a nuestra sala de chat: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noverify_linter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  PHP-</a>,   ,  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">    </a>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PHP Russia</a>.<br>
 <br>
     ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a>.       ,    ,     .         telegram- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">@PHPRussiaConfChannel</a>.   ,  . <br>
</blockquote></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es487260/">https://habr.com/ru/post/es487260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487248/index.html">Un poco m√°s sobre pruebas incorrectas</a></li>
<li><a href="../es487250/index.html">Mezcla alfa retardada</a></li>
<li><a href="../es487254/index.html">C√≥mo usar c√°maras CCTV no solo para monitorear intrusos</a></li>
<li><a href="../es487256/index.html">Quema y regresa de las cenizas o las personas F√©nix</a></li>
<li><a href="../es487258/index.html">PHP asincr√≥nico</a></li>
<li><a href="../es487262/index.html">Conferencia abierta PHP Rusia en l√≠nea</a></li>
<li><a href="../es487266/index.html">GitLab 12.7 lanzado con canalizaciones padre-hijo y versi√≥n beta de controladores de trabajo comunes para Windows</a></li>
<li><a href="../es487270/index.html">Las perovskitas pueden extender la vida √∫til de las pantallas de dispositivos</a></li>
<li><a href="../es487272/index.html">Marcadores: el recuento ha finalizado</a></li>
<li><a href="../es487274/index.html">¬øC√≥mo hacer una revisi√≥n de c√≥digo?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>