<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕐 🕎 🧛🏿 Home web server, or your own hosting provider 🌫️ 🔧 🙏🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In order to make your web server at home, we need a computer and constant access to the Internet with an external IP address, as we will check later. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Home web server, or your own hosting provider</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495350/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In order to make your web server at home, we need a computer and constant access to the Internet with an external IP address, as we will check later. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will make the server from the old Samsung N102SP netbook with a broken keyboard, for small loads it is enough, moreover, it is small and does not make noise at all. </font><font style="vertical-align: inherit;">The Internet at home is heard by a wifi router tp-link TL-WR840N, and through it I will connect my server.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I will put Centos 7 swing </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">away</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> minimally (Minimal ISO), the image is written to the stick with a program </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rufus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Now you need to load the netbook from the USB flash drive, and here the first problem arises, since the keyboard does not work, I can’t enter the BIOS, it does not see the external usb keyboard, resetting the BIOS solves the problem (in the Samsung N102SP netbook, the BIOS is reset by closing the rtc reset contacts under the memory cover , you need to close it for 30 seconds), select the priority boot from the flash drive in the BIOS and start the installation, even with the minimum version Centos 7 is installed in graphical mode. There should not be any difficulties with the installation, we delete all the old partitions on the disk and give everything to Centos, set the root password and prescribe the network settings, in my case we connect to the wifi home network (this can be done later with the nmtui command), a few minutes and Centos 7 is installed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We go as root. We stop the firewall with the command "systemctl stop firewalld", disable the firewall from startup with the command "systemctl disable firewalld". While we do not need it, we will configure firewall later. You also need to disable hibernation when closing the netbook cover, for this, in the /etc/systemd/logind.conf file, replace the line “# HandleLidSwitch = suspend” with the line “HandleLidSwitch = ignore”, then restart with the command “systemctl restart systemd-logind” . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you can put my netbook in a remote corner and forget about its physical existence, all further actions with your home web server can be done via ssh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now you need to configure the wifi router, in the case of tplink, open </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tplinkwifi.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the default username and password are admin, in the “Status” section we look at the WAN status, the IP address must be static and should not start with 192.168.x.x, 172.x.x.x, 10.x.x.x, otherwise In the case, contact the provider and ask for an external IP, most likely this can be done through your personal account, my provider provided me with an IP for 90 rubles per month. All new settings must be registered in the "Network / WAN" section. Now we need to reserve the internal IP address on the router for our server, go to the “DHCP / DHCP Client List” section and find our server there (to find the IP on the server, type ifconfig command), then copy the MAC address and go to the “DHCP / Reservation of addresses ”and add the MAC address of our server and its IP there. That's it, now the router will always allocate this IP for our server. Now you need to forward the ports,so that when accessing from the Internet, the router sends requests to the home web server, go to the “Forwarding / Virtual Server” section and add 80 port. We also add port 22 so that you can connect to the server via ssh. When adding port 80, I got an error "The remote control port of the web interface is in conflict with the virtual server port." To avoid this, first change the remote control port to 8080, for this, open the “Protection / Remote Control” tab. Now router management is available atWhen adding port 80, I got an error "The remote control port of the web interface is in conflict with the virtual server port." To avoid this, first change the remote control port to 8080, for this, open the “Protection / Remote control” tab. Now router management is available atWhen adding port 80, I got an error "The remote control port of the web interface is in conflict with the virtual server port." To avoid this, first change the remote control port to 8080, for this, open the “Protection / Remote Control” tab. Now router management is available at</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tplinkwifi.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 8080 / </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For remote control of the web server, it downloads Putty </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">utilities</font></a><font style="vertical-align: inherit;"> from </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.chiark.greenend.org.uk/~sgtatham/putty/latest.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now, for the fully functional web server to work, we will install the necessary components, first of all, connect the Epel repository, there is almost everything necessary for an automatic installation, enter the command “yum install epel-release”. Then, to monitor the status of the server, install htop with the command “yum install htop”, for convenient work with files install the midnight commander, use the command “yum install mc”, now install Apache, for this we enter “yum install httpd”, start it and put it into startup with the commands “ systemctl start httpd "and" systemctl enable httpd ", now install MariaDB with the command" yum install mariadb-server ", run and put into system startup" systemctl start mariadb "and" systemctl enable mariadb ", make initial settings using the command" mysql_secure_installation " , set root password,delete the anonymous user and the test database, then you need to install PHP with the necessary modules "yum install php php-mysql php-common php-mbstring php-mcrypt php-devel php-xml php-gd", reload httpd with the command "systemctl restart httpd". Now when you enter the IP address in the browser, we see the Apache welcome page. The root directory is located in "/ var / www / html /". Now our home web server is accessible from anywhere in the world.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495340/index.html">How to change the work of an administrator in a restaurant for a good job in IT</a></li>
<li><a href="../en495342/index.html">Settlement of bank cards in trade - creating an open dataset and infographic in Google Data Studio</a></li>
<li><a href="../en495344/index.html">Unify it: how Lamoda makes its Go services consistent</a></li>
<li><a href="../en495346/index.html">From error to alert with actions</a></li>
<li><a href="../en495348/index.html">Research: How Covid-19 Affects Email Marketing Performance</a></li>
<li><a href="../en495354/index.html">How to release products continuously in 20 languages ​​and not die?</a></li>
<li><a href="../en495356/index.html">Implementing the RAFT Consensus Algorithm for Distributed KV Storage in Java</a></li>
<li><a href="../en495360/index.html">How we automated porting products from C # to C ++</a></li>
<li><a href="../en495362/index.html">Self-isolate and program: how not to go crazy at home and spend time usefully</a></li>
<li><a href="../en495364/index.html">API Style Guide, or don't make users think</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>