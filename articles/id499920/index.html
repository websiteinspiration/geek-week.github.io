<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“¬ ğŸˆ ğŸ“¦ Trik Kecil SSH ğŸ—¡ï¸ â—»ï¸ ğŸ”</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini telah menyusun praktik terbaik kami untuk menggunakan SSH secara lebih efisien. Dari situ Anda akan belajar caranya:
 
 

- Tambahkan fakt...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Trik Kecil SSH</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/itsumma/blog/499920/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini telah menyusun praktik terbaik kami untuk menggunakan SSH secara lebih efisien. </font><font style="vertical-align: inherit;">Dari situ Anda akan belajar caranya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambahkan faktor kedua ke login SSH</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aman untuk menggunakan penerusan agen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logout dari sesi SSH</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetap Buka Terminal Permanen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagikan sesi terminal jarak jauh dengan teman (tanpa Zoom!)</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menambahkan faktor kedua ke SSH Anda</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktor otentikasi kedua dapat ditambahkan ke koneksi SSH Anda dalam lima cara berbeda:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbarui OpenSSH Anda dan gunakan kunci enkripsi. </font><font style="vertical-align: inherit;">Pada bulan Februari 2020, dukungan untuk kunci enkripsi FIDO U2F (Universal Second Factor) ditambahkan ke OpenSSH. </font><font style="vertical-align: inherit;">Ini adalah fitur baru yang hebat, tetapi ada nuansa: hanya klien dan server yang telah memutakhirkan ke OpenSSH versi 8.2 dan lebih tinggi yang dapat menggunakan kunci enkripsi, karena pembaruan Februari memperkenalkan jenis kunci baru untuk mereka. </font><font style="vertical-align: inherit;">Dengan perintah, </font></font><code>ssh â€“V</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat memeriksa versi klien SSH, dan versi server dengan perintah</font></font><code>nc [servername] 22 </code><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua jenis kunci baru ditambahkan ke versi Februari - ecdsa-sk dan ed25519-sk (bersama dengan sertifikat yang sesuai). </font><font style="vertical-align: inherit;">Untuk menghasilkan file kunci, cukup masukkan kunci enkripsi Anda dan jalankan perintah:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ ssh-keygen -t ecdsa-sk -f ~/.ssh/id_ecdsa_sk</code></pre><br>
           U2F .     U2F  â€”          .<br>
<br>
 ,            .<br>
<br>
-     OpenSSH   -sk-.       U2F           .  -  :<br>
<br>
<pre><code class="plaintext hljs">$ ssh-keygen -t ecdsa-sk -O resident -f ~/.ssh/id_ecdsa_sk</code></pre><br>
,         ,      :<br>
<br>
<pre><code class="plaintext hljs">$ ssh-add -K</code></pre><br>
           .</li>
<li> PIV+PKCS11  Yubikey.         SSHD       .  Yubico     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">U2F+SSH  PIV/PKCS11</a>.        FIDO U2F,    ,    ,    .</li>
<li>  yubikey-agent ssh-.    SSH   Yubikeys.       .</li>
<li> Touch ID  sekey. Sekey  SSH     ,        Macâ€™    Touch ID   .</li>
<li> Single Sign On SSH. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>      .    single sign on SSH         â€”     (MFA).</li>
</ol><br>
<h2>  agent forwarding</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penerusan agen SHH memungkinkan host jarak jauh untuk mengakses agen SSH perangkat lokal Anda. Saat Anda menggunakan SSH dengan penerusan agen diaktifkan (biasanya melalui ssh -A), akan ada dua saluran dalam koneksi: sesi interaktif Anda dan saluran untuk penerusan agen. Melalui saluran ini, soket Unix yang dibuat oleh agen SSH lokal Anda terhubung ke host jarak jauh. Ini adalah metode yang berisiko, karena pengguna dengan akses root pada perangkat jarak jauh dapat mengakses agen SSH lokal Anda dan berpotensi menyamar sebagai Anda di jaringan. Menggunakan agen SSH standar dari kit Open SSH, Anda bahkan tidak tahu bahwa ini terjadi. Memiliki kunci U2F (atau Sekey) akan membantu Anda secara efektif memblokir segala upaya untuk menggunakan agen SSH Anda dari luar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan dengan tindakan pencegahan ini, sebaiknya menggunakan penerusan agen sesedikit mungkin. </font><font style="vertical-align: inherit;">Anda tidak boleh menggunakannya di setiap sesi - gunakan penerusan agen hanya jika Anda yakin akan perlunya sesi saat ini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keluar dari Sesi Gantung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gangguan jaringan, perilaku program yang tidak terkontrol, atau urutan keluar yang memblokir input keyboard adalah semua kemungkinan penyebab pecahnya sesi SSH. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa cara untuk mengakhiri sesi yang macet:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara otomatis keluar ketika jaringan terganggu. </font><font style="vertical-align: inherit;">Di .ssh / config Anda, Anda perlu menambahkan yang berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">ServerAliveInterval 5<font></font>
ServerAliveCountMax 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ssh akan mengirim gema ke host jarak jauh setiap ServerAliveInterval detik untuk memverifikasi koneksi. </font><font style="vertical-align: inherit;">Jika lebih banyak gema ServerAliveCountMax tidak menerima respons, ssh akan mengakhiri koneksi dalam waktu habis dan keluar dari sesi.</font></font></li>
<li>  . ssh     ~ ()  .  ~.         . (       .)  ~?        .  ,     ~   ,     ~ .</li>
</ol> <br>
<i><b>    ?</b>           .         IPv4  WiFi,  IP- .   SSH   TCP ,  ,   ,       IP-,       ,  SSH        .    IP-,         .    ,         TCP-    .             .  ,       . IPv6      ,          . ,       .</i><br>
<br>
<h2>       </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada dua pendekatan berbeda tentang cara mempertahankan koneksi saat beralih di antara jaringan yang berbeda atau jika Anda ingin memutuskan koneksi untuk waktu yang singkat. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Gunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mosh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terminal Abadi</font></font></a></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika Anda benar-benar membutuhkan koneksi yang tidak surut walaupun Anda berpindah antar jaringan, gunakan Mosh mobile shell. Ini adalah shell aman yang pertama kali menggunakan jabat tangan SSH dan kemudian beralih ke saluran terenkripsi sendiri selama sesi berlangsung. Jadi Mosh menciptakan saluran terpisah, sangat stabil dan aman yang mampu menahan gangguan Internet, mengubah alamat IP laptop Anda, pemadaman jaringan yang serius, dan banyak lagi, semua berkat keajaiban koneksi UDP, serta Protokol sinkronisasi Mosh.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menggunakan Mosh, Anda harus menginstalnya pada klien dan server, dan buka port 60000-61000 untuk lalu lintas UPD yang terputus ke host jarak jauh Anda. Di masa depan, itu akan cukup untuk digunakan untuk koneksi </font></font><code>mosh user@server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mosh beroperasi pada tingkat layar dan penekanan tombol, yang memberikan sejumlah keuntungan dibandingkan meneruskan aliran biner dari input dan output standar antara klien dan server SSH. Jika kita hanya perlu menyinkronkan layar dan penekanan tombol, maka nanti untuk memulihkan koneksi yang terputus menjadi lebih mudah. Sementara SSH akan melakukan buffer dan mengirim semua yang terjadi, Mosh hanya perlu melakukan buffer penekanan tombol dan menyinkronkan frame terakhir dari jendela terminal dengan klien. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Gunakan tmux</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin "datang dan pergi kapan saja" dan simpan sesi terminal pada host jarak jauh, gunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terminal multiplexer</font></font></a> <code>tmux</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saya suka tmux dan menggunakannya terus-menerus. </font><font style="vertical-align: inherit;">Jika koneksi SSH Anda terputus, maka cukup untuk menyambung kembali dan masuk untuk kembali ke sesi tmux Anda </font></font><code>tmux attach</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Selain itu, ia memiliki fitur yang luar biasa seperti tab dan panel intra-terminal, mirip dengan tab di terminal iOS, dan kemampuan untuk berbagi terminal dengan yang lain. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beberapa orang suka memperindah tmux mereka dengan Byobu, sebuah paket yang sangat meningkatkan kegunaan tmux dan menambahkan banyak pintasan keyboard untuknya. </font><font style="vertical-align: inherit;">Byobu dikirimkan bersama Ubuntu dan mudah dipasang di Mac melalui Homebrew.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berbagi sesi terminal jarak jauh dengan teman</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kadang-kadang ketika men-debug masalah kompleks pada server Anda, Anda mungkin ingin berbagi sesi SSH dengan seseorang yang tidak berada di ruangan yang sama dengan Anda. </font><font style="vertical-align: inherit;">tmux sangat cocok untuk tugas seperti itu! </font><font style="vertical-align: inherit;">Cukup hanya dengan mengambil beberapa langkah:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pastikan tmux ada di host bastion Anda, atau di beberapa server yang akan Anda gunakan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda berdua harus terhubung melalui SSH ke perangkat menggunakan satu akun.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salah satu dari Anda harus memulai tmux untuk memulai sesi tmux.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yang lain harus menjalankan tmux attach</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voila! </font><font style="vertical-align: inherit;">Anda memiliki terminal bersama.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin sesi tmux multi-pengguna yang lebih canggih, cobalah tmate, garpu tmux yang sangat menyederhanakan sesi terminal bersama.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id499900/index.html">Mitap analitik produk: gratis, tanpa kontak, online</a></li>
<li><a href="../id499902/index.html">Bagaimana TCP Reset Attack Bekerja</a></li>
<li><a href="../id499904/index.html">"Saya ketakutan". Apa yang harus dilakukan?</a></li>
<li><a href="../id499906/index.html">Contoh penggunaan AR di industri mainan</a></li>
<li><a href="../id499910/index.html">Seimbang dalam pengambilan keputusan. Fork "pengalaman acak"</a></li>
<li><a href="../id499922/index.html">Akhirnya kami berurusan dengan baud rate Modbus</a></li>
<li><a href="../id499926/index.html">30 April Java Digest</a></li>
<li><a href="../id499928/index.html">Udalenka: apa yang berubah dengan COVID-19 dan siapa yang sekarang bahkan lebih baik dari sebelumnya</a></li>
<li><a href="../id499930/index.html">Bagaimana saya merancang blok dan transaksi di blockchain Go saya</a></li>
<li><a href="../id499934/index.html">Efek cambuk dan permainan bir: pemodelan dan manajemen rantai pasokan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>