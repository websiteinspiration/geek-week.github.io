<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏮 😌 🚴🏽 Neomorphismus mit SwiftUI. Teil 2: Was kann mit Barrierefreiheit gemacht werden? 🤑 🏴 ☦️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo alle zusammen! Im Vorgriff auf den Start des Fortgeschrittenenkurses „IOS Developer“ veröffentlichen wir eine Übersetzung des zweiten Teils des ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Neomorphismus mit SwiftUI. Teil 2: Was kann mit Barrierefreiheit gemacht werden?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/503518/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo alle zusammen! </font><font style="vertical-align: inherit;">Im Vorgriff auf den Start des Fortgeschrittenenkurses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„IOS Developer“ veröffentlichen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wir eine Übersetzung des zweiten Teils des Artikels über Neomorphismus mit SwiftUI ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lesen Sie den ersten Teil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/he/yr/xx/heyrxxyvuyqlbcy3ky0-7wuosmu.png"><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dunkles Thema</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor wir verstehen, wie wir die Verfügbarkeit von Neomorphismus verbessern können, wollen wir uns ansehen, wie wir mit dem Effekt arbeiten können, um andere interessante Stile zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen Sie der Erweiterung zunächst zwei weitere Farben hinzu, </font></font><code>Color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">damit wir mehrere konstante Werte zur Verfügung haben:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> darkStart = <span class="hljs-type">Color</span>(red: <span class="hljs-number">50</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">60</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">65</span> / <span class="hljs-number">255</span>)
<span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> darkEnd = <span class="hljs-type">Color</span>(red: <span class="hljs-number">25</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">25</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">30</span> / <span class="hljs-number">255</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können sie als Hintergrund verwenden </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, um die vorhandene zu ersetzen </font></font><code>Color.white</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wie hier gezeigt:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
    <span class="hljs-type">ZStack</span> {
        <span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere </font></font><code>SimpleButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sieht jetzt fehl am Platz aus, weil sie einem dunklen Hintergrund eine helle Stilisierung auferlegt. Wir werden also einen neuen dunklen Stil erstellen, der hier besser funktioniert, aber dieses Mal werden wir ihn in zwei Teile unterteilen: eine Hintergrundansicht, die wir überall verwenden können, und einen Schaltflächenstil, der ihn mit den Modifikatoren padding und contentShape umschließt. Dies gibt uns mehr Flexibilität, wie Sie später sehen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der neuen Hintergrundansicht, die wir hinzufügen werden, können wir eine beliebige Form für unseren visuellen Effekt festlegen, sodass wir nicht mehr an Kreise gebunden sind. Abhängig von der Eigenschaft </font></font><code>isHighlighted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die wir von außen ändern können, </font><font style="vertical-align: inherit;">wird auch nachverfolgt, ob unser konvexer Effekt (nach innen oder nach außen) konkav sein soll </font><font style="vertical-align: inherit;">.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir beginnen mit dem einfachsten und verwenden einen modifizierten Shadow-Flip-Ansatz, um einen konkaven Effekt zu erzielen. </font><font style="vertical-align: inherit;">Fügen Sie diese Struktur hinzu:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DarkBackground</span>&lt;<span class="hljs-title">S</span>: <span class="hljs-title">Shape</span>&gt;: <span class="hljs-title">View</span> </span>{
    <span class="hljs-keyword">var</span> isHighlighted: <span class="hljs-type">Bool</span>
    <span class="hljs-keyword">var</span> shape: <span class="hljs-type">S</span><font></font>
<font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-keyword">if</span> isHighlighted {<font></font>
                shape<font></font>
                    .fill(<span class="hljs-type">Color</span>.darkEnd)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
<font></font>
            } <span class="hljs-keyword">else</span> {<font></font>
                shape<font></font>
                    .fill(<span class="hljs-type">Color</span>.darkEnd)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Änderung besteht darin, dass beim Drücken der Taste die Größe des Schattens abnimmt - wir verwenden einen Abstand von 5 statt 10 Punkten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anschließend können wir ihn mit Hilfe von </font></font><code>DarkButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Padding und ContentShape umbrechen, wie hier gezeigt:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DarkButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
            .padding(<span class="hljs-number">30</span>)<font></font>
            .contentShape(<span class="hljs-type">Circle</span>())<font></font>
            .background(<font></font>
                <span class="hljs-type">DarkBackground</span>(isHighlighted: configuration.isPressed, shape: <span class="hljs-type">Circle</span>())<font></font>
            )<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schließlich können wir dies auf unseren Button in anwenden, </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indem </font><font style="vertical-align: inherit;">wir ihn </font><font style="vertical-align: inherit;">ändern </font></font><code>ButtonStyle()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs">.buttonStyle(<span class="hljs-type">DarkButtonStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mal sehen, was passiert ist - obwohl wir nicht viel Code haben, denke ich, dass das Ergebnis gut genug aussieht.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jz/va/7o/jzva7ocai47mzhaj-cft8nn7e6g.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einige Experimente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt ist es an der Zeit, mit dem Effekt zu experimentieren, da Sie so besser verstehen, wozu SwiftUI speziell in der Lage ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel könnten wir eine glatte konvexe Schaltfläche erstellen, indem wir einen linearen Farbverlauf hinzufügen und ihn beim Drücken umdrehen:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> isHighlighted {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkEnd, <span class="hljs-type">Color</span>.darkStart))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
<font></font>
} <span class="hljs-keyword">else</span> {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie dies ausführen, werden Sie feststellen, dass die Schaltfläche beim Drücken und Loslassen reibungslos nach oben und unten animiert wird. </font><font style="vertical-align: inherit;">Ich denke , </font><font style="vertical-align: inherit;">die Animation ein wenig störend ist, so dass ich es empfehlen , zu </font><font style="vertical-align: inherit;">deaktivieren , </font><font style="vertical-align: inherit;">indem Sie </font><font style="vertical-align: inherit;">diesen Modifikator auf das Verfahren </font></font><code>makeBody()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus </font></font><code>DarkButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nach dem Modifikator vorhanden dort </font></font><code>background()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs">.animation(<span class="hljs-literal">nil</span>)</code></pre><br>
<img src="https://habrastorage.org/webt/g3/lo/n5/g3lon5maomyp_uldbmdvxiknxvs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Effekt des Kissenknopfs ist reizvoll, aber wenn Sie ihn verwenden möchten, würde ich Ihnen raten, die folgenden drei Änderungen zu versuchen, um den Knopf etwas mehr hervorzuheben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstens würde ich trotz der Tatsache, dass dies dem kontrastarmen Prinzip des neomorphen Designs widerspricht, das graue Symbol durch ein weißes ersetzen, um es hervorzuheben. </font><font style="vertical-align: inherit;">Also </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">müssen Sie die folgende:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
    .foregroundColor(.white)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweitens, wenn Sie eine Überlagerung für die Schaltfläche im gedrückten Zustand hinzufügen, sieht sie nicht nur eher wie eine echte physische Taste aus, die gleichmäßig gedrückt wird, sondern hilft auch dabei, ihren gedrückten Zustand von dem nicht gedrückten zu unterscheiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dies zu implementieren, müssen Sie den Modifikator einzufügen </font></font><code>overlay()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nach , </font></font><code>fill()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wenn </font></font><code>isHighlighted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es wahr ist </font><font style="vertical-align: inherit;">, wie hier:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> isHighlighted {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkEnd, <span class="hljs-type">Color</span>.darkStart))<font></font>
        .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br>
<img src="https://habrastorage.org/webt/dz/3r/ek/dz3rekiskxg_akiehpl0xp6iv9u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um ein noch schärferes Aussehen zu erzielen, können Sie zwei Modifikatoren </font></font><code>shadow()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für den gedrückten Zustand </font><font style="vertical-align: inherit;">entfernen </font><font style="vertical-align: inherit;">, die sich ansonsten auf die Überlagerung konzentrieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drittens können Sie dem nicht gedrückten Status auch eine Überlagerung hinzufügen, um zu markieren, dass es sich um eine Schaltfläche handelt. </font><font style="vertical-align: inherit;">Setzen Sie es gleich danach </font></font><code>fill()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie folgt ein:</font></font><br>
<br>
<pre><code class="swift hljs">} <span class="hljs-keyword">else</span> {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd))<font></font>
        .overlay(shape.stroke(<span class="hljs-type">Color</span>.darkEnd, lineWidth: <span class="hljs-number">4</span>))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
}</code></pre><br>
<img src="https://habrastorage.org/webt/l7/5s/jf/l75sjfjt4ymqfaoeyshsdwto1ds.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzufügen eines Switch-Stils</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einer der Vorteile der Trennung eines Schaltflächenstils von einem nicht morphischen Hintergrundstil besteht darin, dass wir jetzt einen Schaltstil mit demselben Effekt hinzufügen können. </font><font style="vertical-align: inherit;">Dies bedeutet, dass eine neue protokollkonforme Struktur erstellt wird </font></font><code>ToggleStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die der folgenden ähnelt </font></font><code>ButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir müssen lesen, </font></font><code>configuration.isOn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um festzustellen, ob der Schalter eingeschaltet ist.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir müssen einen Knopf bereitstellen, um den Vorgang des Schaltens zu handhaben, oder zumindest so etwas </font></font><code>onTapGesture()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder so </font><font style="vertical-align: inherit;">etwas </font><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen Sie diese Struktur Ihrem Projekt hinzu:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DarkToggleStyle</span>: <span class="hljs-title">ToggleStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {
        <span class="hljs-type">Button</span>(action: {<font></font>
            configuration.isOn.toggle()<font></font>
        }) {<font></font>
            configuration.label<font></font>
                .padding(<span class="hljs-number">30</span>)<font></font>
                .contentShape(<span class="hljs-type">Circle</span>())<font></font>
        }<font></font>
        .background(<font></font>
            <span class="hljs-type">DarkBackground</span>(isHighlighted: configuration.isOn, shape: <span class="hljs-type">Circle</span>())<font></font>
        )<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir möchten eine davon </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einfügen, damit Sie sie selbst testen können. Fügen Sie zunächst diese Eigenschaft hinzu:</font></font><br>
<br>
<pre><code class="swift hljs">@<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isToggled = <span class="hljs-literal">false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wickeln Sie dann die vorhandene Schaltfläche </font></font><code>VStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit einem Abstand von 40 ein und platzieren Sie sie unten:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Toggle</span>(isOn: $isToggled) {
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.white)<font></font>
}<font></font>
.toggleStyle(<span class="hljs-type">DarkToggleStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ihre Struktur </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sollte folgendermaßen aussehen:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isToggled = <span class="hljs-literal">false</span><font></font>
<font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd)<font></font>
<font></font>
            <span class="hljs-type">VStack</span>(spacing: <span class="hljs-number">40</span>) {
                <span class="hljs-type">Button</span>(action: {
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
                }) {<font></font>
                    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
                        .foregroundColor(.white)<font></font>
                }<font></font>
                .buttonStyle(<span class="hljs-type">DarkButtonStyle</span>())<font></font>
<font></font>
                <span class="hljs-type">Toggle</span>(isOn: $isToggled) {
                    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
                        .foregroundColor(.white)<font></font>
                }<font></font>
                .toggleStyle(<span class="hljs-type">DarkToggleStyle</span>())<font></font>
            }<font></font>
        }<font></font>
        .edgesIgnoringSafeArea(.all)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das ist alles - wir haben unser gemeinsames neomorphes Design an zwei Stellen angewendet!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbesserung der Zugänglichkeit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir hatten genug Zeit, um mit verschiedenen neomorphen Stilen zu spielen, aber jetzt möchte ich auf die Probleme dieses Designs eingehen: Ein extremer Mangel an Kontrast bedeutet, dass Tasten und andere wichtige Steuerelemente nicht ausreichen, um sich von ihrer Umgebung abzuheben, was es schwierig macht, unsere Anwendungen für Menschen mit zu verwenden unvollkommene Sicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist der Moment, um den ich ein Missverständnis beobachte, deshalb möchte ich im Voraus einige Dinge sagen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ja, ich verstehe, dass Standard-Apple-Tasten wie blauer Text aussehen und daher zumindest auf den ersten Blick nicht wie bekannte Tasten aussehen, aber ein hohes Kontrastverhältnis aufweisen.</font></font></li>
<li>  «   ,      ,     » —  —   « »,  ,        ,     - .</li>
<li>    -     SwiftUI,  ,             VoiceOver     Apple.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie haben bereits gesehen, wie wir das graue Symbol in Weiß geändert haben, um eine sofortige Kontrastverbesserung zu erzielen. Die Schaltflächen und Schalter benötigen jedoch noch viel mehr Kontrast, wenn Sie sie leichter zugänglich machen möchten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden uns also überlegen, welche Änderungen wir vornehmen könnten, damit die Elemente wirklich hervorstechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst möchte ich, dass Sie unserer Erweiterung zwei neue Farben hinzufügen:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> lightStart = <span class="hljs-type">Color</span>(red: <span class="hljs-number">60</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">160</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">240</span> / <span class="hljs-number">255</span>)
<span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> lightEnd = <span class="hljs-type">Color</span>(red: <span class="hljs-number">30</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">80</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">120</span> / <span class="hljs-number">255</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweitens duplizieren Sie die vorhandene </font></font><code>DarkBackground</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und benennen Sie die Kopie </font></font><code>ColorfulBackground</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wir werden uns gleich darum kümmern, aber zuerst müssen wir uns wieder vorbereiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drittens duplizieren Sie den dunklen Stil der Schaltfläche und wechseln Sie, benennen Sie sie in </font></font><code>ColorfulButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und um </font></font><code>ColorfulToggleStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und lassen Sie sie dann den neuen </font></font><code>ColorfulBackground</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">als Hintergrund verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie sollten also so aussehen:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ColorfulButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
            .padding(<span class="hljs-number">30</span>)<font></font>
            .contentShape(<span class="hljs-type">Circle</span>())<font></font>
            .background(<font></font>
                <span class="hljs-type">ColorfulBackground</span>(isHighlighted: configuration.isPressed, shape: <span class="hljs-type">Circle</span>())<font></font>
            )<font></font>
            .animation(<span class="hljs-literal">nil</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ColorfulToggleStyle</span>: <span class="hljs-title">ToggleStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {
        <span class="hljs-type">Button</span>(action: {<font></font>
            configuration.isOn.toggle()<font></font>
        }) {<font></font>
            configuration.label<font></font>
                .padding(<span class="hljs-number">30</span>)<font></font>
                .contentShape(<span class="hljs-type">Circle</span>())<font></font>
        }<font></font>
        .background(<font></font>
            <span class="hljs-type">ColorfulBackground</span>(isHighlighted: configuration.isOn, shape: <span class="hljs-type">Circle</span>())<font></font>
        )<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schließlich bearbeiten Sie die Schaltfläche und wechseln Sie </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, um den neuen Stil zu verwenden:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Button</span>(action: {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
}) {<font></font>
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.white)<font></font>
}<font></font>
.buttonStyle(<span class="hljs-type">ColorfulButtonStyle</span>())<font></font>
<font></font>
<span class="hljs-type">Toggle</span>(isOn: $isToggled) {
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.white)<font></font>
}<font></font>
.toggleStyle(<span class="hljs-type">ColorfulToggleStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können die Anwendung ausführen, wenn Sie möchten, aber es macht nicht viel Sinn - sie hat sich nicht geändert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um unsere farbenfrohe Version des Lebens zu bringen, werden wir die Modifikatoren </font></font><code> fill()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>overlay()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die gepressten und nicht gepressten Zustände </font><font style="vertical-align: inherit;">ändern </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Also, wenn </font></font><code>isHighlighted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wahr ist </font><font style="vertical-align: inherit;">, ändern </font></font><code>darkStart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beide </font></font><code>darkEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf </font></font><code>lightStart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>lightEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wie folgt aus </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> isHighlighted {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightEnd, <span class="hljs-type">Color</span>.lightStart))<font></font>
        .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Anwendung erneut ausführen, werden Sie feststellen, dass sie sich bereits erheblich verbessert hat: Der gedrückte Zustand hat jetzt eine hellblaue Farbe, sodass klar wird, wenn die Tasten gedrückt werden und die Schalter aktiv sind. </font><font style="vertical-align: inherit;">Aber wir können noch etwas anderes tun - wir können der Taste dieselbe Farbe hinzufügen, wenn sie nicht gedrückt wird, um die Aufmerksamkeit darauf zu lenken. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/gb/lo/pogblok8qjgbcoiourimhye6tx4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ändern Sie dazu den vorhandenen </font></font><code>overlay()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht gestressten Zustand wie folgt:</font></font><br>
<br>
<pre><code class="swift hljs">.overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der fertige Schaltflächenstil sollte also folgendermaßen aussehen:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">ZStack</span> {
    <span class="hljs-keyword">if</span> isHighlighted {<font></font>
        shape<font></font>
            .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightEnd, <span class="hljs-type">Color</span>.lightStart))<font></font>
            .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        shape<font></font>
            .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd))<font></font>
            .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Führen Sie nun die Anwendung erneut aus, und Sie werden sehen, dass ein blauer Ring um die Schaltflächen und Schalter angezeigt wurde. Wenn Sie darauf klicken, wird er mit Blau gefüllt - er ist viel leichter zugänglich.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2r/gl/x7/2rglx7dgbgwzdh8ch3mvzrddsra.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Praxis werden Sie nicht mehrere verschiedene Schaltflächenstile in einem Projekt haben, zumindest wenn Sie Ihren Benutzern keine Kopfschmerzen bereiten möchten. Aber dies ist ein interessanter Ort zum Experimentieren, und ich hoffe, dass Sie diese Idee meines Artikels verstehen, denn Sie können wirklich schöne Effekte erzielen, ohne sich den Rücken zu brechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe wiederholt gesagt, dass Sie immer die Verfügbarkeit Ihrer Anwendung überwachen sollten, und das bedeutet mehr als nur sicherzustellen, dass VoiceOver mit Ihrer Benutzeroberfläche funktioniert. Stellen Sie sicher, dass Ihre Schaltflächen interaktiv aussehen, dass Ihre Textbeschriftungen und Symbole ein ausreichendes Kontrastverhältnis zum Hintergrund aufweisen (mindestens 4,5: 1, aber tendenziell 7: 1), und stellen Sie sicher, dass Ihre anklickbaren Bereiche komfortabel sind groß (mindestens 44x44 Pixel).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und um Himmels willen, nutzen Sie das neomorphe Design, um zu experimentieren und Ihr Wissen über SwiftUI zu erweitern. Vergessen Sie jedoch nie, dass Sie nichts gewonnen haben, wenn Sie die Benutzerfreundlichkeit für einen neuen Modedesign-Trend opfern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Den vollständigen Quellcode für dieses Projekt erhalten Sie auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> W </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesen Sie den ersten Teil.</font></font></a><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erfahren Sie mehr über den Kurs.</font></font></a><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503488/index.html">Best Practices von Kubernetes. Richtig Beenden Deaktivieren</a></li>
<li><a href="../de503490/index.html">Vergleich russischer Rap-Szenen mit R- und Text Mining-Techniken. Noize Mc, Oxxxymiron, Onkel Zhenya. Episode 2</a></li>
<li><a href="../de503494/index.html">Zusammenbau eines DIY-Gateways für ZigBee-Geräte</a></li>
<li><a href="../de503504/index.html">Das erfolgreichste und skandalöseste Data Science-Projekt: Cambridge Analytica</a></li>
<li><a href="../de503508/index.html">Schulen, Lehrer, Schüler, ihre Noten und Bewertungen</a></li>
<li><a href="../de503522/index.html">Welt nach 2020 (Aufsatz)</a></li>
<li><a href="../de503524/index.html">Als Domain-Registrar übergibt P01 Registrar seine Kunden</a></li>
<li><a href="../de503526/index.html">Django ORM für Anfänger | Wir optimieren Anfragen</a></li>
<li><a href="../de503530/index.html">Ihr beruflicher Niedergang wird (viel) früher kommen als Sie denken</a></li>
<li><a href="../de503532/index.html">Wie sich das Online-Shopping in den USA aufgrund des Coronavirus verändert hat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>