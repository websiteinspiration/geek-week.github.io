<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèΩ üë©üèæ‚Äçü§ù‚Äçüë®üèΩ üÜñ Kubernetes dans l'esprit du piratage: notre chemin vers les microservices et un mod√®le pr√™t √† l'emploi pour la mise en ≈ìuvre üë¥üèª üìâ üè¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, je suis Yuri Buylov, je d√©veloppe chez CarPrice, et je mets √©galement en ≈ìuvre des pratiques DevOps, des microservices et Kubernetes. Je veux...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes dans l'esprit du piratage: notre chemin vers les microservices et un mod√®le pr√™t √† l'emploi pour la mise en ≈ìuvre</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/490362/"><img src="https://habrastorage.org/webt/om/m1/3u/omm13uevbocq8muavqnaa5chz4y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bonjour, je suis Yuri Buylov, je d√©veloppe chez CarPrice, et je mets √©galement en ≈ìuvre des pratiques DevOps, des microservices et Kubernetes. Je veux parler de Kubernetes dans un esprit de piraterie - pas seulement de la gestion d'un grand et beau bateau √† voile, mais plut√¥t d'une flotte de petits bateaux de p√™che disgracieux, parfois rouill√©s, mais tr√®s rapides, agiles et dangereux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il sera int√©ressant pour ceux qui d√©veloppent ou transf√®rent l'infrastructure vers des microservices, impl√©mentent DevOps au-dessus de Kubernetes et optent pour le cloud natif dans tous les sens. Je vais vous parler de notre chemin, √† la fin de l'article, je partagerai nos bases pour l'environnement des microservices - je donnerai un lien vers un mod√®le qui sera pratique pour les d√©veloppeurs et les testeurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est bas√© sur une pr√©sentation vid√©o √† la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf√©rence @Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous ne voulez pas lire, vous pouvez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment nous vivions avant Kubernetes: serveurs de d√©veloppement, bare metal et Ansible</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous vivions et vivions dans un mode de changements et d'exp√©riences constants: tests AV, tests d'hypoth√®ses diverses. </font><font style="vertical-align: inherit;">Nous lan√ßons de nouveaux services, puis, si quelque chose ne fonctionne pas, nous le coupons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois, nous avions un monolithe dans le PHP, ce qui a apport√© beaucoup de douleur et de souffrance. </font><font style="vertical-align: inherit;">Pour fournir un d√©lai de mise sur le march√© acceptable, nous avons suivi la voie habituelle: nous avons commenc√© √† voir ce monolithe pour les microservices. </font><font style="vertical-align: inherit;">En cons√©quence, il s'est av√©r√© qu'un grand monolithe s'est transform√© en de nombreux petits monolithes. </font><font style="vertical-align: inherit;">C'est normal, c'est le cas pour tous ceux qui ont fait face √† une t√¢che similaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous avons commenc√© √† essayer d'autres technologies, en particulier, Golang est apparu dans notre entreprise, il est devenu plus tard le principal langage de d√©veloppement. Il y avait des questions: comment d√©velopper, tester et d√©ployer tout cela? La r√©ponse √©tait √©vidente: vous avez besoin d'un serveur de d√©veloppement. Chaque d√©veloppeur doit avoir un serveur de d√©veloppement, o√π il peut se connecter pour y √©crire du code de haute qualit√© et hautes performances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, les gars ont √©crit un serveur de d√©veloppement. Le r√©sultat a √©t√© une interface Web qui contr√¥lait la composition de docker sur les serveurs. Il y avait aussi un conteneur avec le code source, qui √©tait mont√© en docker-compose. Le d√©veloppeur pourrait se connecter via SSH et programme. Les testeurs y travaillaient √©galement, tout fonctionnait parfaitement.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/vl/qu/orvlqukujhim2kmf7bcspahzdaq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais avec l'augmentation du nombre de services, il est devenu impossible de travailler. </font><font style="vertical-align: inherit;">Le moment est venu o√π il fallait d√©ployer quelque chose, pas d√©baller les conteneurs. </font><font style="vertical-align: inherit;">Nous avons pris du m√©tal nu, roul√© Docker l√†-bas. </font><font style="vertical-align: inherit;">Puis ils ont pris Ansible, √©crit plusieurs r√¥les. </font><font style="vertical-align: inherit;">Chaque r√¥le est un service o√π se trouvent des dockers-composites, qui ¬´arrivent¬ª √† l'une des voitures. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/ro/nh/ryronhp58jrnkhmjlwngczkoqs0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons donc v√©cu: dans nginx, nous nous sommes inscrits en amont de nos mains, ils ont dit vers quel port nous devrions aller, o√π ce service r√©side. </font><font style="vertical-align: inherit;">Il y avait m√™me un fichier yaml o√π tous les ports √©taient r√©pertori√©s afin que les applications ne soient pas en concurrence pour eux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment nous sommes arriv√©s √† Kubernetes et y avons construit l'infrastructure</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âvidemment, on ne peut pas vivre comme √ßa, l'orchestration est n√©cessaire. Nous l'avons compris en 2017-2018, alors il n'√©tait pas clair o√π trouver cet orchestre. Kubernetes ne faisait que commencer, il y avait HashiCorp Nomad, Rancher, OpenShift. Nous avons essay√© Nomad, ce n'√©tait pas mal, mais nous ne voulions pas r√©√©crire le docker-compose dans les configurations Nomad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Concernant Kubernetes, nous avons imm√©diatement r√©alis√© que des coll√®gues √©trangers essayaient de le faire, ils n'y r√©ussissaient pas toujours. Et nous n'avions pas d'administrateurs barbus qui pourraient faire de nous une grappe. Ils ont commenc√© √† r√©fl√©chir √† la fa√ßon de mettre cela en ≈ìuvre. M√™me alors, Kubernetes √©tait, par exemple, en Amazonie, mais nous nous souvenons des serrures, apr√®s quoi ils se sont d√©plac√©s de toute urgence. Par cons√©quent, cette option a √©t√© imm√©diatement rejet√©e, tout le trafic y √©tant plus cher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et puis Kubernetes est apparu sur la plateforme Mail.ru Cloud Solutions en tant que service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Containers</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Nous y avons d√©j√† d√©plac√© notre stockage S3 d'Amazon, nous avons √©galement d√©cid√© d'essayer les K8. Nous avons d√©ploy√© un cluster dans le cloud, tout a fonctionn√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les tests, nous avons d√©cid√© d'y d√©ployer un service sans √©tat. A pris une API pour les applications mobiles, d√©ploy√©e - cela fonctionne. Envoy√© 50% du trafic - √ßa marche. Oui, quelque chose tombait p√©riodiquement, mais les gars l'ont r√©par√©, tout allait bien. En cons√©quence, toute l'infrastructure a √©t√© transf√©r√©e, maintenant elle est construite autour de Kubernetes, principalement des serveurs de d√©veloppement et de sc√®ne. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/jv/v7/scjvv7hzn-akbu9lwy6jop7diuq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque d√©veloppeur a son propre Minikube dans VMware, avec lequel il travaille. Nous lan√ßons de nouveaux projets dans Kubernetes dans le cloud MCS, nous d√©ployons √©galement Managed MySQL, qui arrive imm√©diatement avec tous les esclaves, r√©plications et sauvegardes dans S3.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons toujours de l'h√©ritage sur le m√©tal nu, y compris un cluster de dockers ex√©cutant Ansible, mais un jour nous le d√©couvrirons.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment vivre avec un zoo technologique et ne pas souffrir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le zoo technologique n'est plus aussi effrayant qu'il l'√©tait, disons, en 2011. </font><font style="vertical-align: inherit;">Il est m√™me normal que vous puissiez emporter des outils et des technologies sp√©cialis√©s de diff√©rents endroits et les utiliser √† votre guise. </font><font style="vertical-align: inherit;">Par exemple, nous utilisons Golang pour certaines choses, mais Data Scientist fonctionne en Python, vous ne pouvez pas les forcer √† √©crire en GO ou PHP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, nous avons deux r√®gles:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dockerize: il doit y avoir des conteneurs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observabilit√©: ces conteneurs doivent √™tre observables.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour continuer l'analogie avec le zoo: il y a des cellules, et ce n'est pas si important qui s'assoit dans ces cellules. </font><font style="vertical-align: inherit;">L'essentiel est que l'eau et la nourriture arrivent r√©guli√®rement, automatiquement et uniform√©ment, et les ¬´produits vitaux¬ª des services, c'est-√†-dire les grumes, sont exp√©di√©s quelque part de mani√®re centralis√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'observabilit√©, nous avons une pile standard: chaque application √©crit des journaux sur stdout, d'o√π tout est transf√©r√© de mani√®re centralis√©e vers EFK. </font><font style="vertical-align: inherit;">Autrement dit, le d√©veloppeur peut venir voir les journaux dans Kibana. </font><font style="vertical-align: inherit;">Les mesures d'application que nous d√©posons dans Prometheus, les tableaux de bord et les alertes en standard dans Grafana. </font><font style="vertical-align: inherit;">Jaeger est une histoire d'Opentracing qui montre qui acc√®de √† quel service si nous ne le savons pas ou si nous ne voulons pas le traiter autrement.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/pw/ht/nppwhthiefslsbsif3wi_9wf4ve.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment d√©velopper et tester avec tout cela</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons qu'un nouveau d√©veloppeur vient √† nous, il voit 100 services et 100 r√©f√©rentiels. Il a imm√©diatement des questions. Comment d√©ployer ces 100 services et comment configurer? O√π sont les bases de donn√©es? Quels comptes existe-t-il? Et il y a beaucoup de telles questions. Pour cette raison, la sortie du nouveau d√©veloppeur a pris un temps ind√©cent, il pouvait s'asseoir pendant une semaine et tout configurer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, nous avons d√©velopp√© un environnement de d√©veloppement en 1 clic. Chaque d√©veloppeur a son propre Minikube avec des c≈ìurs et une m√©moire conditionnellement infinis, d√©ploy√©s dans le cloud VMware. Plus une base de donn√©es - elle provient quotidiennement de la production, est obscurcie, compress√©e et mise sur ZFS. Il s'agit d'un d√©veloppement personnel de notre administrateur. Nous avons √©t√© engag√©s dans la r√©duction des co√ªts depuis longtemps, nous devions donner une base √† tous les d√©veloppeurs et en m√™me temps ne pas faire faillite.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a des instantan√©s dans ZFS, un d√©veloppeur d'API peut rouler la base de donn√©es directement depuis la production en deux secondes. </font><font style="vertical-align: inherit;">Avec les autotests, m√™me histoire: on commence par l'API, et tout fonctionne. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/bv/wn/babvwnzk2n32f8xemqqz-5rz-ck.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici √† quoi ressemble le flux de d√©veloppement aujourd'hui: le </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/5h/u7/ht5hu7ljxuhqt7uz3yn25_cay44.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d√©veloppeur est heureux, les DevOps et les administrateurs sont heureux parce que tous les processus sont uniformes, reproductibles et unifi√©s. </font><font style="vertical-align: inherit;">Mais il y a une chose.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Syst√®me de couches en couches</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme l'a dit Linus Torvalds: ¬´Parler n'est pas cher. Montrez-moi le code. " Nous utilisons donc un syst√®me de couches √† plusieurs niveaux. Il y a des couches triviales: dev, stage, prod, qui viennent √† l'esprit pour tous ceux qui vont faire du CI / CD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il y a encore des d√©veloppeurs, ils ont besoin de certains de leurs domaines, de quelques histoires sp√©cifiques aux utilisateurs, nous avons donc une couche de valeurs utilisateurs. Mais cela ne suffit pas - vous devez toujours tester. Supposons que nous ayons cr√©√© une branche, peut-√™tre plusieurs services, et que nous devons la transmettre au testeur pour qu'elle se r√©p√®te. Pour cela, nous avons une couche avec des valeurs pour les t√¢ches, c'est-√†-dire des valeurs de t√¢ches.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre moment, un peu holivarny - nous n'utilisons pas Tiller, install√© sur Helm, mais nous l'utilisons en fait comme moteur de mod√®le. </font><font style="vertical-align: inherit;">Autrement dit, nous utilisons uniquement un mod√®le de barre, il donne un fichier yaml √† la sortie, qui peut √™tre attribu√© √† Minikube ou √† un cluster, et rien d'autre n'est n√©cessaire.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ug/we/nb/ugwenbqvgt4fkf8-k-zdgafyivi.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnement du r√©f√©rentiel K8s-helm</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai dit, nous avons des couches √©videntes de dev, prod et stage, il y a un fichier yaml de chaque service, quand nous avons vu un nouveau service, ajoutez le fichier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, il y a un papa dev.server avec le plus int√©ressant. </font><font style="vertical-align: inherit;">Il existe des scripts bash qui aident, par exemple, √† cr√©er un nouvel utilisateur: ne cr√©ez pas 100 services avec vos mains et ne remplissez pas les fichiers yaml, mais ex√©cutez simplement une seule commande. </font><font style="vertical-align: inherit;">C'est l√† que tous ces fichiers yaml sont g√©n√©r√©s.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/tf/v5/abtfv5xg_3ev8abkexzeg86ont0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le m√™me dossier, il y a un sous-dossier t√¢ches. Si nous devons cr√©er des valeurs sp√©cifiques pour notre d√©ploiement, nous cr√©ons simplement un dossier avec les num√©ros de t√¢che √† l'int√©rieur, validons la branche. Ensuite, nous disons au testeur: "Une telle branche se trouve dans le r√©f√©rentiel, prenez-la et ex√©cutez-la." Il d√©marre, tire la commande qui se trouve dans le papa bin, et tout fonctionne - pas besoin de configurer √† la main. Le miracle de DevOps est une infrastructure en tant que code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, le processus se r√©sume √† trois √©quipes:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/zk/1e/jszk1eunb8wlebblg_6v8g8rr3i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'un nouveau d√©veloppeur arrive, ils lui donnent Minikube, un dossier d'archives avec certificats et un domaine. En g√©n√©ral, il n'a besoin que de kubectl et de Helm. Il clone le r√©f√©rentiel pour lui-m√™me, montre √† kubectl le chemin vers sa configuration, ex√©cute la commande make_user avec son nom. Et pour tous les services, des copies sont cr√©√©es pour lui. De plus, ils ne sont pas simplement cr√©√©s - il y a une base de donn√©es qui lui a √©t√© donn√©e, le d√©veloppeur lui a prescrit des informations d'identification, et toutes ces informations d'identification vont √† d'autres services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisateur a √©t√© cr√©√©. Comment puis-je le d√©ployer maintenant? Rien de compliqu√© ici non plus - nous ex√©cutons deploy.sh avec son nom, et tout vient au d√©veloppeur dans l'espace de noms par d√©faut de son Minikube, tout est imm√©diatement disponible sur son domaine.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le d√©veloppeur a programm√© quelque chose, il prend l'ID du probl√®me et le donne au testeur. </font><font style="vertical-align: inherit;">Le testeur copie cette branche, lance un d√©ploiement et un environnement avec une nouvelle fonctionnalit√© appara√Æt dans son cluster.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensemble barre K8s</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©f√©rentiel lui-m√™me est en outre compil√© et int√©gr√© aux processus CI / CD. Rien de sp√©cial ici - juste kubectl avec certificats et Helm. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/no/h1/4r/noh14rtvxvwmox4snmakfcvvllc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le projet, cela ressemble √† ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/1b/nj/tw1bnjz0tg9mcp8rk7nmdlrqqby.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que vous soyez d√©ploy√© et qu'il y ait une √©tape o√π vous devez d'abord organiser l'√©tape, puis ex√©cuter les tests √† l'aide de Jenkins. Depuis le r√©f√©rentiel, vous avez une image compil√©e avec Helm. Nous ex√©cutons la commande deploy namespace service_stage run et tout d√©colle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vient ensuite CI, ici .drone.yml, mais √† peu pr√®s la m√™me chose se produira dans GitLab ou ailleurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, Jenkins d√©marre, qui ex√©cute les tests sur sc√®ne. Si tout va bien, alors il d√©marre presque le m√™me d√©ploiement, mais d√©j√† sur la prod. Autrement dit, ce m√©canisme facilite non seulement la vie des d√©veloppeurs et des testeurs, mais il est √©galement utilis√© pour fournir des fonctionnalit√©s aux produits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous aimons l'open source, nous voulons investir dans le d√©veloppement de DevOps, nous avons donc cr√©√© un mod√®le que vous pouvez utiliser et le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√©l√©charger sur le github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il y a tout ce dont j'ai parl√©: vous pouvez prendre, regarder, tester et appliquer. </font><font style="vertical-align: inherit;">Il sera utile √† tous ceux qui impl√©mentent des microservices, ou souffrent du fait que l'√©quipe impl√©mente des microservices, ou souhaite construire des processus DevOps autour de cela. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nos autres articles associ√©s:</font></font></strong><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 outils Kubernetes utiles: d√©ploiement et gestion</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facturation secondaire, place de march√© et bacs √† sable pour le Big Data: ce que les environnements de test dans le cloud peuvent faire</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment migrer vers le cloud en deux heures gr√¢ce √† Kubernetes et √† l'automatisation</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette conf√©rence a √©t√© faite pour la premi√®re fois lors de la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conf√©rence @Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par Mail.ru Cloud Solutions. </font><font style="vertical-align: inherit;">Regardez une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vid√©o d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> autres performances et inscrivez-vous aux annonces d'√©v√©nements Telegram </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autour de Kubernetes chez Mail.ru Group</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490346/index.html">Le r√¥le du protocole MQTT dans le d√©veloppement de l'Internet industriel des objets</a></li>
<li><a href="../fr490348/index.html">Comment faire des commentaires et ne pas commencer la Troisi√®me Guerre mondiale</a></li>
<li><a href="../fr490354/index.html">Renforcer la culture de la s√©curit√© de l'information dans les soci√©t√©s fintech</a></li>
<li><a href="../fr490356/index.html">Pr√©sentation de Kubernetes CCM (Cloud Controller Manager) pour Yandex.Cloud</a></li>
<li><a href="../fr490358/index.html">Un programmeur moderne doit-il √™tre capable de cr√©er des algorithmes?</a></li>
<li><a href="../fr490364/index.html">Les centres de donn√©es consomment beaucoup d'√©lectricit√©, mais ne menacent pas encore le climat</a></li>
<li><a href="../fr490366/index.html">Dois-je stocker des polices Google sur mon serveur?</a></li>
<li><a href="../fr490372/index.html">Entretien chez Dodo Pizza</a></li>
<li><a href="../fr490376/index.html">Pluriel</a></li>
<li><a href="../fr490378/index.html">IPv6 - un monde merveilleux qui m√©rite une transition rapide vers lui</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>