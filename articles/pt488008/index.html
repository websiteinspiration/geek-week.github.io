<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏼 👩🏾‍💼 😝 Domar a fera: código legado, testes e você 🤱🏿 🧝🏼 🤘🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Código legado é um código "antigo", cuja idade pode ser de 2 meses e 10 anos. Muitas vezes, os desenvolvedores escreviam sobre isso, dos quais a empre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Domar a fera: código legado, testes e você</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/488008/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código legado é um código "antigo", cuja idade pode ser de 2 meses e 10 anos. Muitas vezes, os desenvolvedores escreviam sobre isso, dos quais a empresa lembra vagamente. Talvez eles não existissem, e o código legado nasceu com o Universo durante o Big Bang. Desde então, os requisitos para isso foram alterados várias vezes, o código foi corrigido no modo "era necessário ontem" e ninguém escreveu a documentação, como os testes. O código legado é confuso e frágil, não mostra nem o começo nem o fim. Como abordá-lo? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/zu/jj/zuzujjdvta2gaqnnj8mp1isqcoa.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A seguir, cenas da série "Rick and Morty". Autores Justin Royland e Dan Harmon.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você precisa chegar até ele com testes, mas prepare-se para a dor. Os problemas já começarão a partir do momento em que você decide realizar esse projeto. Você precisa entender por que deseja realizá-lo, convencer a gerência a aprovar o teste do código legado e ajudar seus colegas. Depois disso, surgem perguntas: por onde começar o estudo, quais testes executar primeiro e como não quebrar tudo? Mas o principal é como não cair em desespero quando você percebe que não há fim para o trabalho. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kirill Borisov</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12 anos na indústria, ao longo dos anos ele percorreu um longo caminho em muletas, códigos quebrados e estruturas apodrecidas de sistemas antigos: de sistemas de contabilidade monolíticos a microsserviços de autorização. A jornada concedeu a ele experiências e histórias que ele compartilhará na forma de conselhos valiosos.</font></font><a name="habracut"></a><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/H4Mp2BSffSM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu tenho um sonho - um dia trabalhar em um novo projeto. </font><font style="vertical-align: inherit;">Tudo ficará bem desde o começo e tão fresco quanto a primeira neve: testes, arquitetura e significado. </font><font style="vertical-align: inherit;">Mas isso é apenas um sonho, porque há 10 anos venho vendendo meu talento por dinheiro e passando de um projeto legado para outro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante esse período, não tenho mais nervos, mas posso salvar os seus compartilhando minha experiência de interagir com o legado. </font><font style="vertical-align: inherit;">Vou lhe dizer como domesticar a fera (código legado): trabalhe com código e pessoas, implemente testes, se precisa ser feito e como os desenvolvedores se relacionam com isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que não estará aqui:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dicas para escrever testes. </font><font style="vertical-align: inherit;">Muitos livros, artigos e vários vídeos abordam essa questão.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metodologias de discussão. </font><font style="vertical-align: inherit;">BDD, TDD, ATDD - tudo a seu critério.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tudo isso pode violar a NDA. </font><font style="vertical-align: inherit;">As pessoas têm uma memória longa e os advogados têm braços longos.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que é código legado</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem muitas definições. </font><font style="vertical-align: inherit;">Eu acredito que este é um </font><font style="vertical-align: inherit;">código </font><font style="vertical-align: inherit;">" </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bastante antigo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " de 2 meses a 10 anos. </font><font style="vertical-align: inherit;">O código legado é confuso e frágil, mas como uma cobra gigante devora sua cauda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É isso que não permite que você comece a testá-lo com calma. </font><font style="vertical-align: inherit;">Todos os desenvolvedores, de iniciantes a experientes, quando chegam a um projeto herdado, pegam uma lança de testes e correm para matar esse monstro. </font><font style="vertical-align: inherit;">A lança quebra, e com ela as pessoas. </font><font style="vertical-align: inherit;">Como resultado, permanece um desenvolvedor sem sinais de vida, que trabalha em um projeto legado há décadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É possível superar esta fera? </font><font style="vertical-align: inherit;">Sim, mas é necessária preparação.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Treinamento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lutar contra a fera não é tão importante quanto a fase preparatória. </font><font style="vertical-align: inherit;">Começa com três perguntas para si mesmo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ja/dj/1f/jadj1f74fzzsrj1lieox-i0i4pk.jpeg"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Por que estou fazendo isto?" </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sério, por quê? </font><font style="vertical-align: inherit;">Afinal, existem apenas duas opções.</font></font><br>
<br>
<ul>
<li>  ,   ,   ,    .</li>
<li>   ,   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você quer trabalhar para o conforto dos outros ou para sua própria glória? </font><font style="vertical-align: inherit;">Se para este último, com o primeiro sucesso desaparecerá o interesse, você desaparecerá, tudo desaparecerá. </font><font style="vertical-align: inherit;">Você mudará para outra coisa, e os restos podres de seus empreendimentos obstruirão o projeto por muito tempo. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Eu sei o que estou fazendo?" </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se você escreveu testes, você sabe. </font><font style="vertical-align: inherit;">Caso contrário, antes de correr para o monstro, domine o básico: escreva 3-4 testes, cubra uma pequena parte do código, preencha sua mão e sinta o poder. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Eu tenho tempo para isso?" </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É ótimo intervir no código com bons impulsos e melhorá-lo, trabalhando para o futuro. </font><font style="vertical-align: inherit;">Mas talvez não haja tempo para isso quando o presente queima. </font><font style="vertical-align: inherit;">Nesse caso, o projeto precisa de você, não de uma imagem brilhante do futuro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando responder a todas as perguntas afirmativamente, prossiga para a próxima etapa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reconhecimento</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examine a estrutura do projeto</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Você tem uma idéia sobre a estrutura do projeto, os componentes e o princípio do trabalho? </font><font style="vertical-align: inherit;">Certamente sim, mas talvez não coincida com a realidade. </font><font style="vertical-align: inherit;">É importante entender o que você deve enfrentar antes de começar o trabalho. </font><font style="vertical-align: inherit;">Dedique algum tempo para percorrer o projeto e estudá-lo completamente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faça um diagrama de dependência</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nenhum projeto vive no vácuo. </font><font style="vertical-align: inherit;">Bancos de dados, serviços externos, bibliotecas - tudo isso pode ser usado no projeto. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que foi feito para você? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode não ser o primeiro a lutar contra a fera. </font><font style="vertical-align: inherit;">Examine as práticas dos “antepassados” que queimaram e deixaram o projeto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após o reconhecimento, seguimos para as hostilidades.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lute com a organização</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira rodada é uma briga com sua organização. O principal é o seu gerente, chefe direto. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ele não é tão assustador quanto parece. Essa é uma pessoa comum com necessidades comuns: para entregar o projeto no prazo e sem problemas desnecessários, obtenha dinheiro e bônus por ele e viva. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O líder não é contra seus compromissos. Ele é contra você correndo para o projeto com gritos: “Testes! Testes! Testes! Se você fizer isso, ele olhará para você como a pessoa que gasta seu tempo e retarda o resto. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mostre o benefício.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O gerente fala a língua do bem, tempo e dinheiro. Entenda que eles são motivados pelo desejo de encerrar o projeto no prazo e obter mais resultados por menos recursos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O teste não deve ser enviado assim: </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Oh, vai ser legal!</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossas idéias devem ser promovidas da seguinte forma: </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- No último trimestre, tivemos 50 falhas que poderiam ser corrigidas no estágio de desenvolvimento do produto. Você pode corrigi-lo usando testes. Eles confirmarão que as alterações não alteraram a funcionalidade, se não esperamos. Economizaremos as horas gastas na resolução desses problemas e reduziremos o valor da penalidade paga devido a um sistema danificado.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dizendo "otimização, dinheiro, economizando tempo", você fala o idioma do gerente. Quando ele ouve essas palavras, ele está imbuído da idéia. Ele vê em você não o próximo programador raivoso apaixonado por novas tecnologias, mas uma pessoa interessada em melhorar o produto. Ele não aprovará todas as suas idéias de uma só vez, mas é altamente provável que proponha a Prova de conceito. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prova de conceito aumenta as chances.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Forneça ao gerente um trecho de código isolado e separado, um subsistema coberto por testes, iniciado e executado. Isso pode ser feito se você pegar um dos bugs doloridos que aparecem em uma determinada frequência e tentar pegá-lo e corrigi-lo com um teste. O PoC confirmará suas intenções, mostrará que você tem um plano e que seu trabalho traz resultados. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não prometa muito.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para o gerente, os números são importantes: quais são os resultados, o momento e por quais forças. Mas o gerente é uma criatura gananciosa por resultados. Não prometa demais desde o início. Se você promete resolver todos os problemas de uma só vez, o gerente irá às autoridades com isso. As autoridades dirão: "Ótimo!", Mas reduzirão o financiamento e reduzirão os prazos na esperança de que entregemos o sistema muito antes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando concordamos com o gerente, nos voltamos para aqueles com quem temos que trabalhar todos os dias.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colegas</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eles não gostam de mudanças.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Um colega típico de um projeto legado típico é uma pessoa que perdeu a fé na vida e no futuro. Ele não está inclinado a mudar e se resignou ao destino: "Estou aqui para sempre, não há como escapar do pântano". O problema é que você começa a mexer água nesse pântano. Você exige que ele escreva e execute alguns testes, mas ele quer fazer seu trabalho, fechar a tarefa e ir para casa. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kl/ir/d_/klird_9bboxmh81w81c9nvc2gz0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Envolva seus colegas com benefícios - explique por que eles se sentirão melhor. Por exemplo, eles gastam constantemente tempo e esforço, permanecendo após o trabalho para curar alguns bugs. Pressione: "Se você não implantar um código quebrado para produção, não precisará gastar tempo corrigindo-o. Escreveremos testes, pegaremos esse código, ele quebrará menos ". </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mostre paciência e empatia.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você se comunica com as pessoas - pergunte por que elas estão preocupadas com a sua ideia. Sugira encontrar um terreno comum para entender um ao outro. Esta é a principal tática para trabalhar com pessoas: não brigue, não colidir com a testa, seja mais amigável. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode ser impedido de apresentar a ideia antes da reunião de colegas no próximo stand-up da equipe. O mecanismo do "pensamento em grupo" funciona na equipe: ninguém quer tomar uma decisão, todo mundo se olha e vê que ninguém está queimando de entusiasmo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há um truque sujo para resolver esse problema. Infelizmente, na minha vida, usei mais de uma vez. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dividir para reinar.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vá a um de seus colegas no almoço ou no canto e diga: “Toda a equipe já se inscreveu, você é o único que está atrasando o processo. Talvez possamos encontrar uma linguagem comum?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de passar por tudo, você assina todos. </font><font style="vertical-align: inherit;">Todos terão vergonha de admitir que pensaram que todo mundo já havia se inscrito. </font><font style="vertical-align: inherit;">É desonroso e terrível, mas funciona. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use esta técnica com responsabilidade e como último recurso. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lembre-se - você ainda precisa trabalhar com essas pessoas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando resolvemos com os colegas, estamos esperando por outro animal ganancioso.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lute com o carro</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse é o truque do código chamado produto. Vamos começar com o básico. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desmonte o lixo.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> É necessário testar para que, com um impacto mínimo no sistema, obtenha um resultado verificável. Mas qualquer sistema legado está cheio de dados: eles foram adicionados por anos desde o lançamento e afetam o comportamento do sistema. Portanto, é necessário testar "do zero". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prepare um “sistema esférico no vácuo”: esvazie as fontes de dados, faça as configurações mínimas que o sistema inicia, desative todos os possíveis “hacks” e “recursos”. Faça o sistema iniciar. Se iniciar, você terá o conjunto mínimo de dados necessário para o funcionamento. Este já é um bom ponto de partida - uma "lousa limpa".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando alguns efeitos mensuráveis, por exemplo, pressionando um determinado botão, você obterá um resultado de trabalho mensurável. Com isso, você pode prosseguir para a próxima etapa. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desvendar os dados.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Qualquer projeto herdado trabalha com o princípio de "deve ser entregue ontem". Tudo o que você estudou na universidade ou leu nos livros não funciona aqui. Ao iniciar o teste, você encontrará, por exemplo, uma dependência cíclica, impossível de recriar no programa, mas necessária para o funcionamento. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comece com o "objeto principal".</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Para lidar com a floresta de dependência, tente pensar sobre qual objeto é o principal. Por exemplo, para o sistema de contabilidade do armazém, o objeto principal é a "caixa". Um objeto de "prateleira" é associado a ele e um objeto de "linha" é associado a uma "prateleira". </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recrie o mínimo necessário.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se você observar os links entre objetos e se aprofundar na árvore de dependência, poderá determinar o mínimo necessário de dados para objetos dependentes. </font><font style="vertical-align: inherit;">Você precisa recriá-lo para que o sistema funcione e possa funcionar para testar sua funcionalidade. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não tenha medo de alterar os links. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode ter que arregaçar as mangas e mergulhar nessa confusão: excluir e alterar links, alterar a estrutura do banco de dados. </font><font style="vertical-align: inherit;">Você veio para melhorar o sistema, portanto, não tenha medo de fazer alterações. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passamos a testes. </font><font style="vertical-align: inherit;">Para confundir produtos antigos, uma boa estratégia são os testes de fumaça.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testes de fumaça</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito de "teste de fumaça" chegou até nós do mundo da eletrônica. Um engenheiro montou um circuito gigante com um monte de lâmpadas e fios. Mas antes de começar a testar, apenas conectei o circuito a uma tomada. Se a fumaça começou, algo deu errado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos sistemas de informação, o conceito de testes de fumaça é bastante simples. Imagine um serviço da web, ele tem um ponto de extremidade. Vamos tentar enviar a ele uma solicitação GET sem parâmetros. Se, por algum motivo, o produto quebrou repentinamente (erro 500), algo deu errado. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teste de fumaça é um bom começo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Este é um teste que testa algumas funcionalidades e deixa claro que o sistema está funcionando ou quebrado. Mesmo uma solicitação simples para o terminal mais simples já afeta mais de 1% do código. Com testes tão pequenos, estamos preparando um trampolim para testes adicionais.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O teste de fumaça revela muitos problemas. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É possível que durante todo o período de funcionamento do serviço ninguém tenha adivinhado para enviar uma solicitação sem parâmetros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use esta tática para cobrir vários pontos de entrada principais do seu programa: formulário de entrada de login / senha, serviços básicos da web, botões. </font><font style="vertical-align: inherit;">Isso é algo que você já pode mostrar ao gerente e aos colegas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testes de função</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estes não são testes de classes individuais ou de um método, mas o nível mais alto possível de testar uma certa parte do funcional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine a funcionalidade para "gerar um relatório no serviço". Em vez de verificar partes individuais, testamos a situação da solicitação para criar um relatório com determinados parâmetros e obter um arquivo de dados. Não é necessário conhecer o mecanismo para gerar o relatório, mas se o serviço fornecer determinados dados de saída com determinados dados de entrada, essa caixa preta com alguma probabilidade funcionará como deveria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A cobertura da funcionalidade principal com esses testes </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permite iniciar rapidamente e cobrir imediatamente grandes áreas.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Você terá certeza de que o código funciona pelo menos aproximadamente como você imagina, ganha mais confiança, enche sua mão e revela ainda mais problemas.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testes funcionais são um meio, não um fim.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É fácil se prender à agulha de teste funcional: "Estou testando a funcionalidade real! </font><font style="vertical-align: inherit;">É isso que os usuários estão enfrentando. ” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um teste funcional envolve grandes pedaços de código que podem interagir com quantidades gigantescas de dados. </font><font style="vertical-align: inherit;">Portanto, 3-4 testes funcionais são bons, 10 são piores e milhares de testes que levam 9 horas são demais. </font><font style="vertical-align: inherit;">Infelizmente, isso também acontece. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após os testes funcionais, faça os testes de unidade. </font><font style="vertical-align: inherit;">Mas não vou falar sobre eles - você já sabe tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passamos pelas noções básicas de teste de máquina e voltamos ao tópico principal. </font><font style="vertical-align: inherit;">Colegas e gerente não são o pior inimigo em uma batalha com o legado. </font><font style="vertical-align: inherit;">O pior inimigo é você mesmo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lute consigo mesmo</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esteja preparado para o fato de que o caminho parecerá interminável</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Trabalhar por uma semana em seu plano levará seis meses sem as perspectivas de conclusão do projeto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ua/mi/sy/uamisylmtgmnjteqw7m0iv2wpia.jpeg"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A resistência é inevitável</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Todos os aliados eventualmente começarão a duvidar, tentar sair da pista, convencê-los a sair dos testes e seguir para os recursos. Esteja preparado para isso. Lembre a todos por que você se envolveu em tudo isso, quanto esforço e tempo foram investidos. Argumento fraco, mas pode funcionar. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninguém garante sucesso</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mesmo que você mostre esforços heróicos, se dedique ao trabalho, seu projeto ainda poderá se esgotar e a cruzada com os testes terminará em nada.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso é normal, não é o fim da vida e da carreira. </font><font style="vertical-align: inherit;">Isso nem mesmo confirma que você é um profissional ruim. </font><font style="vertical-align: inherit;">A única conclusão aqui é que esse projeto em particular falhou. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas então você tem experiência e conhecimento. </font><font style="vertical-align: inherit;">Da próxima vez, quando você pegar uma nova lança em sua mão e seu cavalo acelerar para outro moinho de vento, você estará pronto para quebrá-la também, mas mais tarde, por um método diferente e com menos danos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora ofensivo, amargo e eterno.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Palavras de despedida</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não tenha medo de feedback.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eu tive que entrar nessa armadilha e ver como os outros caem nela. Fiz alguma coisa e trouxe colegas para se gabar: “Consegui!” Mas de repente acontece que meu mecanismo conveniente é inconveniente para os colegas, e eu não perguntei. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escreva testes, tente o que você implementa</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Muitas vezes, a introdução de uma nova estrutura de teste é fascinante, mas você não escreve os testes. Pode acontecer que, assim que você os escrever, você entenderá que não pode usar os testes. Talvez os colegas também vejam isso, mas estejam silenciosos ou simplesmente não escrevam testes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajude colegas com problemas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mesmo se eles não pedirem. Ajudar não significa assumir todo o trabalho consigo - relaxa os colegas e isenta-os de responsabilidade, e o número do "ônibus" cai para a unidade. Então você se torna um testador humano: algo está quebrado, o CI está vermelho, um guia de teste. Ajuda no âmbito do razoável. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O número do "ônibus" não é uma piada.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Você nem sempre pode arrastar o projeto para si mesmo. Todo mundo pode se queimar, sair de férias ou sair. Portanto, transmita aos seus colegas seu conhecimento e responsabilidade, necessários para lidar com você. Isso ajudará a evitar chamadas desagradáveis ​​quando você relaxa na praia, e o IC fica vermelho novamente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melhorar os mecanismos de teste</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Muitos problemas podem ser evitados simplesmente porque testes lentos de repente se tornaram rápidos. </font><font style="vertical-align: inherit;">Anteriormente, eles ocupavam 20 linhas de código, mas agora uma. </font><font style="vertical-align: inherit;">Você não percebeu isso, porque depois que escreveu algo e esqueceu: "Funciona - não toque!" </font><font style="vertical-align: inherit;">Mas essa regra nem sempre é aplicável. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você não é o centro do universo. </font><font style="vertical-align: inherit;">Mais uma vez, repito que o número do "ônibus" não é uma piada. </font><font style="vertical-align: inherit;">Mais de uma vez me deparei com uma situação em que uma pessoa começou a testar e depois recebeu uma oferta para o projeto mais recente: ele deixou tudo, fugiu, mas não deixou comentários e documentação. </font><font style="vertical-align: inherit;">Tudo funciona até um novo commit, mas é impossível corrigi-lo - ninguém entende como tudo funciona. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu não quero que você seja essa pessoa. </font><font style="vertical-align: inherit;">Não se torne um fator limitante.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escreva a documentação.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Realize treinamentos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compartilhe sua experiência.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando todos os colegas estiverem no mesmo nível que você (mais ou menos), o processo passará de uma corrida de uma pessoa para uma corrida de revezamento de equipe com a passagem da bandeira. Somente com o apoio de seus colegas você terá sucesso. Se você estiver sozinho no projeto, pense que outra pessoa depois de você também sofrerá sozinha. Dê ao seu seguidor um amigo na forma de documentação, não deixe morrer sozinho.</font></font><br>
<br>
<blockquote>27   Moscow Python Conf++  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>       Python 2  Python 3 —      2020 . <br>
<br>
     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   </a>    (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">fb</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vk</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">twitter</a>)  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">telegram-</a> .  ! </blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487990/index.html">Ameaças cibernéticas. Previsão para 2020: inteligência artificial, lacunas nas nuvens, computação quântica</a></li>
<li><a href="../pt487996/index.html">Como drivers de script e mães de servidor assumem a TI</a></li>
<li><a href="../pt488000/index.html">Tesla Plaid. Duas opções para layout de acionamento com três motores</a></li>
<li><a href="../pt488002/index.html">O caso de um nerd</a></li>
<li><a href="../pt488006/index.html">No Moscow Python Conf ++, fale com os desenvolvedores da linguagem</a></li>
<li><a href="../pt488010/index.html">Ferramentas de Design Orientadas a Domínios</a></li>
<li><a href="../pt488012/index.html">Estacionamento para seus contras</a></li>
<li><a href="../pt488014/index.html">9. Introdução ao Fortinet v6.0. Registro e Relatórios</a></li>
<li><a href="../pt488018/index.html">CAPTCHA, caso especial: quebramos uma rede neural com trinta linhas de código</a></li>
<li><a href="../pt488020/index.html">Vivaldi 2.11 - Beleza com um toque</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>