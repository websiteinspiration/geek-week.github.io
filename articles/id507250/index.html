<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌿 ✡️ ⛽️ Menentukan kartu poker pemenang menggunakan peta / kurangi dalam JavaScript 👑 🤚🏾 👊🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anda, seperti saya, kadang-kadang dapat berpartisipasi dalam kompetisi kecil dalam pemrograman Olympiad. Biasanya, saya tidak punya waktu untuk menemu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Menentukan kartu poker pemenang menggunakan peta / kurangi dalam JavaScript</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/507250/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img height="326" src="https://habrastorage.org/webt/mv/2r/o3/mv2ro3o7alphphi_pz-yzj_wdrg.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img align="right" width="355" height="445" src="https://habrastorage.org/webt/ba/-t/s7/ba-ts7ubl-bu6-dwxrnvbk6g8hw.jpeg"></a><br clear="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda, seperti saya, kadang-kadang dapat berpartisipasi dalam kompetisi kecil dalam pemrograman Olympiad. Biasanya, saya tidak punya waktu untuk menemukan solusi di mana lebih dari satu atau dua baris menggunakan beberapa fungsi non-standar, tapi kali ini tugasnya adalah menentukan tangan poker senior (menang), dan bagi saya sepertinya ini adalah salah satu tugas yang “seharusnya” mudah! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil saya benar, singkat dan mudah dibaca (setidaknya jauh lebih pendek daripada solusi yang diusulkan oleh peserta lain). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, dalam hal ini, Anda dapat menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengurangi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mendapatkan informasi yang diperlukan. Contoh yang sangat bagus keluar dari bagaimana menggunakan alat-alat ini untuk memecahkan masalah praktis dalam beberapa langkah.</font></font><a name="habracut"></a><blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" title="Perangkat Lunak EDISON - pengembangan web"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="Perangkat Lunak EDISON - pengembangan web"></a><br clear="right">
 EDISON      -.<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img align="right" width="345" height="230" src="https://habrastorage.org/webt/lu/xa/zr/luxazrrwdkcxwu279m3mzlerbx8.png"></a><br clear="left">
      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>,          .<br>
<br>
    ,  « ».          - .<div style="text-align:center;"><img width="770" height="1" src="https://habrastorage.org/webt/mw/wy/cu/mwwycuqpta7m96dxifyx9if7mu8.gif"></div></blockquote><h2></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini terdiri dalam membandingkan dua tangan poker dan menentukan yang menang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jarum poker diwakili oleh garis yang berisi substring (yang menunjukkan kartu individual) dari 2 karakter, dipisahkan oleh spasi. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2H</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah dua cacing, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TC</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah pasangan sepuluh, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karakter pertama berarti peringkat. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua opsi yang dimungkinkan, dipesan oleh senioritas: </font></font><nobr><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 3 4 5 6 7 8 9 TJQKA</font></font></b></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan sebutan numerik, semuanya jelas berkaitan dengan huruf-huruf: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah 10 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah jack ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ack), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah ratu ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ueen), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah raja ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ing),</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ace ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ce). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karakter kedua mendefinisikan setelan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Opsi yang memungkinkan: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cacing ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> earts), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - crosses ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lubs), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - puncak ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pades), </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - rebana ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iamonds). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, garis lengkap untuk tangan "2C 5C 3C 4C 6C" - dalam hal ini, ini adalah flush lurus silang dari dua menjadi enam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peringkat tangan diambil seperti di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texas Hold'em</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda perlu memahami bahwa ada kesulitan tersembunyi - penggunaan kartu tambahan untuk menyelesaikan situasi menggambar, penggunaan nilai nominal pasangan, dll.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keputusan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, bagaimana cara mengatasi masalah ini? </font><font style="vertical-align: inherit;">Pertama, Anda perlu menentukan metode perbandingan yang menyelesaikan masalah peringkat tangan, dan kemudian, jika peringkat cocok, pemenang ditentukan, jika mungkin, dengan membandingkan kartu tambahan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena pernyataan masalah mengasumsikan bahwa jas tersebut setara, kami menggunakan objek sederhana untuk mewakili peringkat tangan:</font></font><br>
<br>
<pre><code class="javascript hljs">{ 
   <span class="hljs-attr">rank</span>: <span class="hljs-number">1</span>,       <span class="hljs-comment">//     1  9,   ,    </span>
   <span class="hljs-attr">value</span>: <span class="hljs-string">'ABCDE'</span> <span class="hljs-comment">//  ,        ,    ASCII-    </span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat menulis fungsi sederhana untuk membandingkan dua tangan yang direpresentasikan dalam bentuk struktur ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareHands</span>(<span class="hljs-params">h1, h2</span>) </span>{
    <span class="hljs-keyword">let</span> d1 = getHandDetails(h1)
    <span class="hljs-keyword">let</span> d2 = getHandDetails(h2)
    <span class="hljs-keyword">if</span> (d1.rank === d2.rank) {
        <span class="hljs-keyword">if</span> (d1.value &lt; d2.value) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d1.value &gt; d2.value) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span><font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> d1.rank &lt; d2.rank ? <span class="hljs-string">""</span> : <span class="hljs-string">""</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi sekarang yang perlu kita lakukan adalah membuat objek dari tangan kita - dan di sini kesenangan dimulai!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami membongkar kartu poker menjadi komponen-komponennya</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus seperti itu, perlu untuk menentukan data dasar yang diperlukan untuk menyelesaikan masalah. </font><font style="vertical-align: inherit;">Di sini masalah pertama kita adalah merentangkan tangan kita pada senioritas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tangan poker dapat berupa kartu straight, flush atau kombinasi beberapa kartu dengan nilai nominal yang sama. </font><font style="vertical-align: inherit;">Tugas kami adalah mengumpulkan informasi ini terlebih dahulu dari string masukan kami. </font><font style="vertical-align: inherit;">Langkah pertama adalah memutuskan bagaimana mem-parsing data ini.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengurai data yang masuk</font></font></h3><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> input = <span class="hljs-string">"AH KS TC 9D 3S"</span> <span class="hljs-comment">// -  </span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membutuhkan kartu dan nilai nominal dari setiap kartu. </font><font style="vertical-align: inherit;">Namun, mengingat bahwa satu-satunya alasan kami tertarik pada suit adalah bahwa jika suit dari semua kartu di tangan adalah sama, maka tidak perlu menyimpan kombinasi denominasi / suit. </font><font style="vertical-align: inherit;">Ini membuat proses penguraian menjadi sangat sederhana:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ubah jalur masuk ke urutan kartu.</font></font></b></li>
<li><b> /   ,   .</b><br>
<br>
,      ,  ,        .  , A&gt; K (  ),    Q &gt; J (  ),   ,            . ,   :</li>
<li><b>     .</b></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki 5 kartu di tangan kami, pada akhirnya kami membutuhkan nilai tangan untuk menyelesaikan collision draw untuk dibandingkan dalam satu operasi - jadi ini harus persis garis. Oleh karena itu, kami akan menerjemahkan nilai kartu kami menjadi karakter, sehingga nantinya kartu tersebut dapat dikembalikan ke string. Secara umum, kita perlu membuat kartu as A, raja - B, ratu - C, jack - D, sepuluh - E, sembilan - G, dll.</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">const</span> order = <span class="hljs-string">"23456789TJQKA"</span> <span class="hljs-comment">//      </span><font></font>
<font></font>
    <span class="hljs-keyword">const</span> cards = hand.split(<span class="hljs-string">" "</span>) <span class="hljs-comment">//     </span>
    <span class="hljs-keyword">const</span> faces = cards.map(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> <span class="hljs-built_in">String</span>.fromCharCode([<span class="hljs-number">77</span> - order.indexOf(a[<span class="hljs-number">0</span>])])).sort() 
    <span class="hljs-keyword">const</span> suits = cards.map(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> a[<span class="hljs-number">1</span>]).sort()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, di sini kami dibagi menjadi beberapa kartu terpisah dan masing-masing dialokasikan nilai nominal dan jenis kartu. </font><font style="vertical-align: inherit;">Pada saat yang sama, kami mengubah denominasi tersebut menjadi representasi string satu huruf, dimulai dengan A (yang merupakan sebutan untuk kartu as, sisa huruf-huruf berikut agar sesuai dengan kartu yang lebih kecil dengan nilai nominal). </font><font style="vertical-align: inherit;">Untuk melakukan ini, mata-mata nomor posisi nominal dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">urutan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> konstan string </font><font style="vertical-align: inherit;">, kurangi angka ini dari 77 dan dikonversi kembali ke string. </font><font style="vertical-align: inherit;">65 adalah kode untuk A, jadi kami mendapatkan garis yang sebanding dimulai dengan A, yang merupakan opsi terbaik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami juga diurutkan berdasarkan nilai nominal dan setelan, sehingga memungkinkan Anda untuk mengambil langkah selanjutnya!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat data yang sebanding.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hebat, tetapi sekarang Anda perlu menghasilkan lebih banyak data sehingga Anda dapat menulis kode untuk memberi peringkat pada tangan Anda.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Periksa flashnya.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Periksa jalan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menentukan duplikat pada nilai nominal - mereka diperlukan untuk semua jenis tangan lainnya.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Periksa flash</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini cukup sederhana, karena kami mem-parsing garis masuk dan disortir menurut setelan. </font><font style="vertical-align: inherit;">Jika setelan kartu terakhir cocok dengan yang pertama - kami memiliki flash.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> flush = suits[<span class="hljs-number">0</span>] === suits[<span class="hljs-number">4</span>]</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Periksa Street</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalan tidak jauh lebih rumit - jika semua kartu (terlepas dari jenisnya) memiliki denominasi yang konsisten, maka ini dia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mulai dengan kartu pertama di tangan dan untuk setiap pemeriksaan berikutnya apakah nilai nominalnya konsisten dengan kartu sebelumnya. </font><font style="vertical-align: inherit;">Menggunakan indeks melewati callback, sebagai berikut:</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">const</span> first = faces[<span class="hljs-number">0</span>].charCodeAt(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">const</span> straight = faces.every(<span class="hljs-function">(<span class="hljs-params">f, index</span>) =&gt;</span> f.charCodeAt(<span class="hljs-number">0</span>) - first === index)</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentukan duplikat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Langkah ini sedikit lebih rumit. </font><font style="vertical-align: inherit;">Kita harus menghitung jumlah untuk setiap nilai nominal di tangan kita. </font><font style="vertical-align: inherit;">Dan Anda juga perlu beberapa cara untuk menentukan pasangan, tiga kali lipat, dll, untuk menyederhanakan peringkat tangan Anda dengan cara ini:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menghitung kuantitas untuk setiap nilai nominal</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengubah penghitungan menjadi kiriman di mana Anda dapat mencari.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penting untuk memastikan bahwa ada kemungkinan untuk menentukan keberadaan "empat" (kuadrat) atau tiga di tangan, jumlah pasangan (bukan satu, satu atau dua), dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, pertama-tama kita menghitung berapa kali kartu dari masing-masing nilai ditemukan:</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">const</span> counts = faces.reduce(count, {})<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">count</span>(<span class="hljs-params">c, a</span>) </span>{<font></font>
    c[a] = (c[a] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> c<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kemudian kita mencari perhitungan ini, dalam arti harfiah "menghitung perhitungan."</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">const</span> duplicates = <span class="hljs-built_in">Object</span>.values(counts).reduce(count, {})</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peringkat tangan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kami memiliki semua informasi yang diperlukan untuk peringkat tangan, sejauh ini tanpa memperhitungkan kemungkinan situasi penarikan.</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">let</span> rank =<font></font>
        (flush &amp;&amp; straight &amp;&amp; <span class="hljs-number">1</span>) || <span class="hljs-comment">/* -,     - -        */</span>
        (duplicates[<span class="hljs-number">4</span>] &amp;&amp; <span class="hljs-number">2</span>) || <span class="hljs-comment">/*  -     */</span>
        (duplicates[<span class="hljs-number">3</span>] &amp;&amp; duplicates[<span class="hljs-number">2</span>] &amp;&amp; <span class="hljs-number">3</span>) || <span class="hljs-comment">/* - -  +  */</span>
        (flush &amp;&amp; <span class="hljs-number">4</span>) || <span class="hljs-comment">/*  -      */</span>
        (straight &amp;&amp; <span class="hljs-number">5</span>) || <span class="hljs-comment">/*  -       */</span>
        (duplicates[<span class="hljs-number">3</span>] &amp;&amp; <span class="hljs-number">6</span>) || <span class="hljs-comment">/*  -     */</span>
        (duplicates[<span class="hljs-number">2</span>] &gt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-number">7</span>) || <span class="hljs-comment">/*   */</span>
        (duplicates[<span class="hljs-number">2</span>] &amp;&amp; <span class="hljs-number">8</span>) || <span class="hljs-comment">/* -     */</span>
        <span class="hljs-number">9</span> <span class="hljs-comment">/*     ,      */</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, straight flush adalah kombinasi terkuat dengan peringkat 1 (agar tidak menyulitkannya, kami menganggap bahwa undian dimungkinkan jika seseorang memiliki royal flush), kemudian empat jenis, full house, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, operator </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&amp;&amp;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> digunakan secara fantastis </font><font style="vertical-align: inherit;">, yang memindai ke nilai terakhir jika nilai dalam tanda kurung sebelumnya benar. </font><font style="vertical-align: inherit;">Jadi, </font></font><nobr><code>(flush &amp;&amp; direct &amp;&amp; 1)</code> </nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kembalikan 1 jika flush dan direct benar, jika tidak kembalikan false.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situasi tergeser</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika dua tangan memiliki peringkat yang sama, pemenang ditentukan tambahan berdasarkan nilai nominal kartu, jika memungkinkan. </font><font style="vertical-align: inherit;">Beberapa aturan terkait dengan ini.</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pasangan vs pasangan. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pasangan dengan nilai nominal yang lebih tinggi menang. </font><font style="vertical-align: inherit;">Jika nilainya cocok, kartu tertinggi berikutnya menang. </font><font style="vertical-align: inherit;">(Untuk dua pasangan diselesaikan dengan cara yang sama). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai contoh, jika kita membandingkan kartu “2H 2D AH KC 3D” dengan tangan “4H 4C JC TC 3H”, maka merangkak dari kemenangan tangan kedua, meskipun di tangan pertama kartu tertinggi memiliki nilai nominal tertinggi - kartu as.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rumah penuh versus rumah penuh</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Trio dengan nilai nominal yang lebih tinggi menang. </font><font style="vertical-align: inherit;">Jika denominasi tiga kali lipat di kedua tangan adalah sama, maka kita melihat pada denominasi dua.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami bertindak serupa ketika membandingkan tangan mana pun dengan peringkat yang sama - memutuskan nilai nominal kartu tertinggi dalam kombinasi.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, kita perlu mengurutkan berdasarkan kuantitas, dan kemudian dengan nilai nominal di garis keluar kami. </font><font style="vertical-align: inherit;">Ingat, seluruh string lima karakter digunakan untuk menyelesaikan kasus dengan rangking tangan yang cocok.</font></font><br>
<br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">let</span> value = faces.sort(byCountFirst).join(<span class="hljs-string">""</span>)<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">byCountFirst</span>(<span class="hljs-params">a, b</span>) </span>{
    <span class="hljs-comment">//    -  ,  </span>
    <span class="hljs-keyword">const</span> countDiff = counts[b] - counts[a]<font></font>
<font></font>
    <span class="hljs-keyword">if</span>(countDiff) <span class="hljs-keyword">return</span> countDiff <span class="hljs-comment">//   ,  </span>
    <span class="hljs-keyword">return</span> b &gt; a ? <span class="hljs-number">-1</span> : b === a ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan itu semua!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shebang utuh</font></font></h2><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> order = <span class="hljs-string">"23456789TJQKA"</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHandDetails</span>(<span class="hljs-params">hand</span>) </span>{
    <span class="hljs-keyword">const</span> cards = hand.split(<span class="hljs-string">" "</span>)
    <span class="hljs-keyword">const</span> faces = cards.map(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> <span class="hljs-built_in">String</span>.fromCharCode([<span class="hljs-number">77</span> - order.indexOf(a[<span class="hljs-number">0</span>])])).sort()
    <span class="hljs-keyword">const</span> suits = cards.map(<span class="hljs-function"><span class="hljs-params">a</span> =&gt;</span> a[<span class="hljs-number">1</span>]).sort()
    <span class="hljs-keyword">const</span> counts = faces.reduce(count, {})
    <span class="hljs-keyword">const</span> duplicates = <span class="hljs-built_in">Object</span>.values(counts).reduce(count, {})
    <span class="hljs-keyword">const</span> flush = suits[<span class="hljs-number">0</span>] === suits[<span class="hljs-number">4</span>]
    <span class="hljs-keyword">const</span> first = faces[<span class="hljs-number">0</span>].charCodeAt(<span class="hljs-number">0</span>)
    <span class="hljs-keyword">const</span> straight = faces.every(<span class="hljs-function">(<span class="hljs-params">f, index</span>) =&gt;</span> f.charCodeAt(<span class="hljs-number">0</span>) - first === index)
    <span class="hljs-keyword">let</span> rank =<font></font>
        (flush &amp;&amp; straight &amp;&amp; <span class="hljs-number">1</span>) || <span class="hljs-comment">/* -,     - -        */</span>
        (duplicates[<span class="hljs-number">4</span>] &amp;&amp; <span class="hljs-number">2</span>) || <span class="hljs-comment">/*  -     */</span>
        (duplicates[<span class="hljs-number">3</span>] &amp;&amp; duplicates[<span class="hljs-number">2</span>] &amp;&amp; <span class="hljs-number">3</span>) || <span class="hljs-comment">/* - -  +  */</span>
        (flush &amp;&amp; <span class="hljs-number">4</span>) || <span class="hljs-comment">/*  -      */</span>
        (straight &amp;&amp; <span class="hljs-number">5</span>) || <span class="hljs-comment">/*  -       */</span>
        (duplicates[<span class="hljs-number">3</span>] &amp;&amp; <span class="hljs-number">6</span>) || <span class="hljs-comment">/*  -     */</span>
        (duplicates[<span class="hljs-number">2</span>] &gt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-number">7</span>) || <span class="hljs-comment">/*   */</span>
        (duplicates[<span class="hljs-number">2</span>] &amp;&amp; <span class="hljs-number">8</span>) || <span class="hljs-comment">/* -     */</span>
        <span class="hljs-number">9</span> <span class="hljs-comment">/*     ,      */</span><font></font>
<font></font>
    <span class="hljs-keyword">return</span> { rank, <span class="hljs-attr">value</span>: faces.sort(byCountFirst).join(<span class="hljs-string">""</span>) }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">byCountFirst</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-comment">//    -  ,  </span>
        <span class="hljs-keyword">const</span> countDiff = counts[b] - counts[a]<font></font>
<font></font>
        <span class="hljs-keyword">if</span>(countDiff) <span class="hljs-keyword">return</span> countDiff <span class="hljs-comment">//   ,  </span>
        <span class="hljs-keyword">return</span> b &gt; a ? <span class="hljs-number">-1</span> : b === a ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">count</span>(<span class="hljs-params">c, a</span>) </span>{<font></font>
        c[a] = (c[a] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
        <span class="hljs-keyword">return</span> c<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareHands</span>(<span class="hljs-params">h1, h2</span>) </span>{
    <span class="hljs-keyword">let</span> d1 = getHandDetails(h1)
    <span class="hljs-keyword">let</span> d2 = getHandDetails(h2)
    <span class="hljs-keyword">if</span> (d1.rank === d2.rank) {
        <span class="hljs-keyword">if</span> (d1.value &lt; d2.value) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d1.value &gt; d2.value) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span><font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> d1.rank &lt; d2.rank ? <span class="hljs-string">""</span> : <span class="hljs-string">""</span>
}</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, jika kami menganalisis dengan cermat semua yang ada di rak, kami dapat, dengan menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengurangi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dengan mudah menyiapkan semua informasi yang kami butuhkan untuk menyelesaikan masalah ini.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id507226/index.html">OCR untuk PDF di .NET - Cara mengekstrak teks dari dokumen PDF yang tidak dapat diakses</a></li>
<li><a href="../id507234/index.html">Mendengus atau Suricata. Bagian 2: instalasi dan pengaturan awal Suricata</a></li>
<li><a href="../id507236/index.html">Kami meningkatkan efektivitas interaksi antara desainer dan pengembang frontend</a></li>
<li><a href="../id507238/index.html">Kami menggunakan DS untuk memproses ulasan pelanggan dari situs besar</a></li>
<li><a href="../id507242/index.html">Apa yang menarik Wi-Fi 6 dalam kinerja Huawei</a></li>
<li><a href="../id507254/index.html">Zabbix - memperluas batas makro</a></li>
<li><a href="../id507256/index.html">Peter Hinchens: Kode Sumber Psikopat</a></li>
<li><a href="../id507258/index.html">Bonus, manfaat, dan bonus dalam TI: hasil penelitian Habr Career</a></li>
<li><a href="../id507260/index.html">Lifehack Cepat untuk Pertumbuhan Aplikasi - ASO dalam Bahasa Lain</a></li>
<li><a href="../id507264/index.html">Fitur Baru di Python 3.9</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>