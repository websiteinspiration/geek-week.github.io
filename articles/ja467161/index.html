<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎧 🏴󠁧󠁢󠁳󠁣󠁴󠁿 🏓 Kotlin + Spring Boot + Vue.js上のWebアプリケーション 🧚🏻 👩🏻‍🎤 😐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、Habrの親愛なる住民！
 
 少し前まで、特別な技術要件なしで小さなプロジェクトを実装する機会がありました。つまり、私は自由にテクノロジスタックを選択することができました。そのため、ファッショナブルで若々しく有望であるが、実際には馴染みのないKotlinやVue.jsを「感​​じる」機...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kotlin + Spring Boot + Vue.js上のWebアプリケーション</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467161/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、Habrの親愛なる住民！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し前まで、特別な技術要件なしで小さなプロジェクトを実装する機会がありました。つまり、私は自由にテクノロジスタックを選択することができました。そのため、</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファッショナブルで若々しく</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有望であるが、実際には馴染みのない</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotlin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue.js</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を「感​​じる」機会を逃さず、</font><font style="vertical-align: inherit;">すでにおなじみの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Boot</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加して</font><font style="vertical-align: inherit;">、シンプルなWebアプリケーションですべて試しました。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
乗り出したので、私は無謀にもインターネット上の主題に関する多くの記事やマニュアルがあると信じていました。</font><font style="vertical-align: inherit;">材料は本当に十分であり、それらはすべて良好ですが、最初のRESTコントローラーまでです。</font><font style="vertical-align: inherit;">それから矛盾の困難が始まります。</font><font style="vertical-align: inherit;">しかし、単純なアプリケーションであっても、サーバーから返されたテキストをページに描画するよりも複雑なロジックが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけか整理して、自分のマニュアルを書くことにしました。これは誰かに役立つと思います。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事の内容と対象 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この材料- 「クイックスタート」のバックエンドを使用したWebアプリケーションの開発のためのガイド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotlin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春ブーツ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上とフロントエンド</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue.js</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。私は彼らのために「溺れている」わけではなく、このスタックの明白な利点について話していないことをすぐに言わなければなりません。この記事の目的は、経験を共有することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この資料は、Java、Spring Framework / Spring Boot、React / Angular、または少なくとも純粋なJavaScriptの経験を持つ開発者向けに設計されています。初心者プログラマなど、そのような経験がない人に適していますが、恐らく、自分でいくつかの詳細を理解する必要があります。一般に、このガイドのいくつかの側面はより詳細に検討する必要がありますが、トピックから大きく逸脱せず、記事が煩雑にならないように、他の出版物でこれを行う方が良いと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらくそれは、誰かがこのトピックに飛び込む必要なしにKotlinでのバックエンド開発のアイデアを形成するのを助け、誰かがすでに準備されたアプリケーションスケルトンに基づいて費やす時間を削減するのに役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特定の実際的な手順の説明にもかかわらず、一般に、私の意見では、この記事には実験的なレビューの特徴があります。現在、このアプローチと問題自体は見られますが、流行の流行語を1か所に集めることが流行りのアイデアです。しかし、将来的には、企業開発のニッチを占めるようになるでしょう。おそらく私たちの中には、KotlinとVue.jsがJavaやReactと同じくらい人気があり需要がある時代に生きて働かなければならない初心者（および継続）プログラマーがいるでしょう。結局のところ、KotlinとVue.jsは本当に大きな期待を寄せています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は、このガイドを書いたが、同様の出版物のような、ウェブ上で表示されるようになった</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">繰り返しますが、最初のRESTコントローラーへのアクションの順序が理解できる資料は十分にありますが、より複雑なロジックを見るのは興味深いことです。たとえば、役割による分離を伴う認証の実装は、かなり必要な機能です。</font><font style="vertical-align: inherit;">それが自分のリーダーシップに追加したものです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クイックリファレンス</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発ツール</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの初期化</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST API</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベース接続</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認証</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改善する方法</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役立つリンク</font></font></a></li>
</ul><br>
<a name="Reference"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クイックリファレンス</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotlin</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> JVMの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上で実行されるプログラミング言語であり</font><font style="vertical-align: inherit;">、国際企業</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> JetBrains</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって開発されました</font><font style="vertical-align: inherit;">。</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue.js</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font><font style="vertical-align: inherit;">単一ページの反応型アプリケーションを開発するための</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フレームワークです。</font></font><br>
<br>
<a name="Instruments"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発ツール</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発環境として、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IntelliJ IDEA</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用することをお勧めし</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。これは、JavaコードをKotlinコードに変換するまでKotlinと連携するための便利なツールと機能を備えているため、Javaコミュニティで広く普及している</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JetBrains</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の開発環境</font><font style="vertical-align: inherit;">です。ただし、この方法でプロジェクト全体を移行でき、突然すべてが単独で機能することを期待するべきではありません。</font><b><font style="vertical-align: inherit;">IntelliJ IDEA Ultimate Editionの</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ハッピーオーナーは</font><font style="vertical-align: inherit;">、Vue.jsで作業するための便宜のために、適切な</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">プラグインを</font></a><font style="vertical-align: inherit;">インストールし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><s><font style="vertical-align: inherit;">景品の</font></s><font style="vertical-align: inherit;">価格と利便性の</font><font style="vertical-align: inherit;">間の妥協点を探している場合は</font><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Vetur</font></a><font style="vertical-align: inherit;">プラグインで</font><b><font style="vertical-align: inherit;">Microsoft Visual Code</font></b><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用することを強くお勧めし</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><s><font style="vertical-align: inherit;"></font></s><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの人にとってそれは明白だと思いますが、念のため、cのVue.jsにはパッケージマネージャー</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npmが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要であることを思い出させてください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Vue.jsのインストール手順は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue CLI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Webサイトにあり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このガイドで</font><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、Javaプロジェクトコレクターとして</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mavenを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">し、データベースサーバーとして</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">しています</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a name="Initialization"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの初期化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotlin-spring-vue</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という名前を付けて、プロジェクトディレクトリを作成します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このプロジェクトには、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックエンド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フロント</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">エンドの</font></b><font style="vertical-align: inherit;"> 2つのモジュールがあります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">フロントエンドが最初になります。</font><font style="vertical-align: inherit;">次に、アセンブリ中に、バックエンドはindex.html、favicon.icoおよびすべての静的ファイル（* .js、* .css、画像など）をコピーします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、ルートディレクトリには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ backend</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ frontendの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2つのサブフォルダーがあります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、急いで手動で作成しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックエンドモジュールを初期化する方法はいくつかあります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手動（サムライパス）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tool Suite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font><b><font style="vertical-align: inherit;">IntelliJ IDEA Ultimate Edition</font></b><font style="vertical-align: inherit;">を使用して生成されたSpring Bootアプリケーションプロジェクト</font></font><b><font style="vertical-align: inherit;"></font></b></li>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Initializr</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して</font><font style="vertical-align: inherit;">、必要な設定を指定することがおそらく最も一般的な方法です</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、主な構成は次のとおりです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックエンドモジュールの構成</font></font></b><div class="spoiler_text"><ul>
<li>Project: Maven Project</li>
<li>Language: Kotlin</li>
<li>Spring Boot: 2.1.6</li>
<li>Project Metadata: Java 8, JAR packaging</li>
<li>Dependencies: Spring Web Starter, Spring Boot Actuator, Spring Boot DevTools</li>
</ul><br>
<img src="https://habrastorage.org/webt/rm/vy/ox/rmvyoxpbqjjaajjcfbvdpe5ams0.png"><br>
</div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は次のようになります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml-バックエンド</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><font></font>
	<font></font>
	<span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.kotlin-spring-vue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><font></font>
	<font></font>
	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.kotlin-spring-vue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>backend<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>backend<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
	<span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Backend module for Kotlin + Spring Boot + Vue.js<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><font></font>
<font></font>
	<span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">kotlin.version</span>&gt;</span>1.2.71<span class="hljs-tag">&lt;/<span class="hljs-name">kotlin.version</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">rest-assured.version</span>&gt;</span>3.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">rest-assured.version</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><font></font>
<font></font>
	<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.module<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-module-kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-reflect<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-stdlib-jdk8<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><font></font>
<font></font>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-devtools<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><font></font>
<font></font>
	<span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">sourceDirectory</span>&gt;</span>${project.basedir}/src/main/kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">sourceDirectory</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">testSourceDirectory</span>&gt;</span>${project.basedir}/src/test/kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">testSourceDirectory</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
					<span class="hljs-tag">&lt;<span class="hljs-name">mainClass</span>&gt;</span>com.kotlinspringvue.backend.BackendApplicationKt<span class="hljs-tag">&lt;/<span class="hljs-name">mainClass</span>&gt;</span>
				<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
					<span class="hljs-tag">&lt;<span class="hljs-name">args</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">arg</span>&gt;</span>-Xjsr305=strict<span class="hljs-tag">&lt;/<span class="hljs-name">arg</span>&gt;</span>
					<span class="hljs-tag">&lt;/<span class="hljs-name">args</span>&gt;</span>
					<span class="hljs-tag">&lt;<span class="hljs-name">compilerPlugins</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>spring<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
					<span class="hljs-tag">&lt;/<span class="hljs-name">compilerPlugins</span>&gt;</span>
				<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
					<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-maven-allopen<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${kotlin.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
					<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
				<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
			<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-resources-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
				<span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
					<span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>copy Vue.js frontend content<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>generate-resources<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
							<span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>copy-resources<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
						<span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
						<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
							<span class="hljs-tag">&lt;<span class="hljs-name">outputDirectory</span>&gt;</span>src/main/resources/public<span class="hljs-tag">&lt;/<span class="hljs-name">outputDirectory</span>&gt;</span>
							<span class="hljs-tag">&lt;<span class="hljs-name">overwrite</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">overwrite</span>&gt;</span>
							<span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
								<span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
									<span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>${project.parent.basedir}/frontend/target/dist<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
									<span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span>
										<span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>static/<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
										<span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>index.html<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
										<span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>favicon.ico<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span>
									<span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span>
								<span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
							<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
						<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
					<span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
				<span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
			<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
		<span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre><br>
 :<br>
<br>
<ul>
<li>     <i>Kt</i></li>
<li>    <i>__/frontend/target/dist</i>  <i>src/main/resources/public</i></li>
<li>  (parent)   <i>spring-boot-starter-parent</i>     <i>pom.xml</i></li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フロントエンドモジュールを初期化するには、プロジェクトのルートディレクトリに移動して、次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ vue create frontend</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、すべてのデフォルト設定を選択できます。この場合はこれで十分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、モジュールは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ dist</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブフォルダー</font><font style="vertical-align: inherit;">に収集されますが、収集されたファイルを/ targetフォルダーに表示する必要があります。</font><font style="vertical-align: inherit;">これを行うに</font><font style="vertical-align: inherit;">は、次の設定</font><font style="vertical-align: inherit;">で</font><i><font style="vertical-align: inherit;">/フロントエンドに</font></i><font style="vertical-align: inherit;">直接</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vue.config.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを作成し</font><font style="vertical-align: inherit;">ます。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-built_in">module</span>.exports = { 
     <span class="hljs-attr">outputDir</span>: <span class="hljs-string">'target/dist'</span>,
     <span class="hljs-attr">assetsDir</span>: <span class="hljs-string">'static'</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">次の</font></i><font style="vertical-align: inherit;">形式の</font><i><font style="vertical-align: inherit;">pom.xml</font></i><font style="vertical-align: inherit;">ファイルを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フロントエンド</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
モジュールに配置します</font><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml-フロントエンド</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>frontend<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.kotlin-spring-vue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.reporting.outputEncoding</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">java.version</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">java.version</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">frontend-maven-plugin.version</span>&gt;</span>1.6<span class="hljs-tag">&lt;/<span class="hljs-name">frontend-maven-plugin.version</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.eirslett<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>frontend-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${frontend-maven-plugin.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
              <span class="hljs-comment">&lt;!-- Install our node and npm version to run npm/node scripts--&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>install node and npm<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>install-node-and-npm<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                 <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">nodeVersion</span>&gt;</span>v11.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">nodeVersion</span>&gt;</span>
                 <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
              <span class="hljs-comment">&lt;!-- Install all project dependencies --&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>npm install<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>npm<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                 <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                 <span class="hljs-comment">&lt;!-- optional: default phase is "generate-resources" --&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>generate-resources<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                 <span class="hljs-comment">&lt;!-- Optional configuration which provides for running any npm command --&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">arguments</span>&gt;</span>install<span class="hljs-tag">&lt;/<span class="hljs-name">arguments</span>&gt;</span>
                 <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
              <span class="hljs-comment">&lt;!-- Build and minify static files --&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>npm run build<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>npm<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                 <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">arguments</span>&gt;</span>run build<span class="hljs-tag">&lt;/<span class="hljs-name">arguments</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をプロジェクトのルートディレクトリに配置します。</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xml</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.kotlin-spring-vue<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>demo<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>kotlin-spring-vue<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span>Kotlin + Spring Boot + Vue.js<span class="hljs-tag">&lt;/<span class="hljs-name">description</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>frontend<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>backend<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.3.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">relativePath</span>/&gt;</span> <span class="hljs-comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">main.basedir</span>&gt;</span>${project.basedir}<span class="hljs-tag">&lt;/<span class="hljs-name">main.basedir</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jacoco<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jacoco-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Prepares the property pointing to the JaCoCo
                    runtime agent which is passed as VM argument when Maven the Surefire plugin
                    is executed. --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>pre-unit-test<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>prepare-agent<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- Ensures that the code coverage report for
                    unit tests is created after unit tests have been run. --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>post-unit-test<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>report<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.eluder.coveralls<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>coveralls-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${kotlin.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>test-compile<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>test-compile<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>test-compile<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">jvmTarget</span>&gt;</span>1.8<span class="hljs-tag">&lt;/<span class="hljs-name">jvmTarget</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre><br>
      — <i>frontend</i>  <i>backend</i>,   parent — <i>spring-boot-starter-parent</i>.<br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールはこの順序でアセンブルする必要があります-最初にフロントエンド、次にバックエンド。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでプロジェクトをビルドできます：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ mvn install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、すべてが組み立てられたら、アプリケーションを実行します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ mvn --projects backend spring-boot:run</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトのVue.jsページは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http：// localhost：8080 /</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：で利用可能</font><font style="vertical-align: inherit;">
に</font><font style="vertical-align: inherit;">なります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uj/ro/2m/ujro2mhzhzdj77-krllhk2vthwg.png"><br>
<br>
<a name="RESTAPI"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST API</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、簡単なRESTサービスを作成します。</font><font style="vertical-align: inherit;">たとえば、「こんにちは、[ユーザー名]！」</font><font style="vertical-align: inherit;">（デフォルトはWorld）。プルした回数をカウントします。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、数値と文字列で構成されるデータ構造が必要です。このクラスは、データを格納することのみを目的としています。</font><font style="vertical-align: inherit;">Kotlinには</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、このためのデータクラスがあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして、クラスは次のようになります。</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Greeting</span></span>(<span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Long</span>, <span class="hljs-keyword">val</span> content: String)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべて。</font><font style="vertical-align: inherit;">これで、サービスを直接作成できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便宜上、</font><font style="vertical-align: inherit;">クラスを宣言する前に</font><i><font style="vertical-align: inherit;">@RequestMapping</font></i><font style="vertical-align: inherit;">アノテーションを使用して、</font><font style="vertical-align: inherit;">すべてのサービスを個別のルート</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ apiに移動</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">ます。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.*
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.model.Greeting
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicLong<font></font>
<font></font>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/api"</span>)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BackendController</span></span>() {<font></font>
<font></font>
     <span class="hljs-keyword">val</span> counter = AtomicLong()<font></font>
<font></font>
     <span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/greeting"</span>)</span>
     <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">greeting</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(value = <span class="hljs-meta-string">"name"</span>, defaultValue = <span class="hljs-meta-string">"World"</span>)</span> name: <span class="hljs-type">String</span>)</span></span> =<font></font>
     Greeting(counter.incrementAndGet(), <span class="hljs-string">"Hello, <span class="hljs-variable">$name</span>"</span>)<font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでアプリケーションを再起動して、結果を確認し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますhttp：// localhost：8080 / api / Greeting？Name = Vadim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="plaintext hljs">{"id":1,"content":"Hello, Vadim"}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ページを更新して、カウンターが機能することを確認します。</font></font><br>
<br>
<pre><code class="plaintext hljs">{"id":2,"content":"Hello, Vadim"}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、フロントエンドに取り組み、ページに結果を美しく描きましょう。</font><font style="vertical-align: inherit;">アプリケーションの「ページ」にナビゲーションを実装するために</font><i><font style="vertical-align: inherit;">vue-router</font></i></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
をインストールします</font><font style="vertical-align: inherit;">（実際には-ルートとコンポーネントに1ページしかないため）：</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">$ npm install --save vue-router </code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router.js</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ srcに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
追加し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;"> -このコンポーネントはルーティングを担当します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router.js</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> Router <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> HelloWorld <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/HelloWorld'</span>
<span class="hljs-keyword">import</span> Greeting <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/Greeting'</span><font></font>
<font></font>
Vue.use(Router)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Router({
   <span class="hljs-attr">mode</span>: <span class="hljs-string">'history'</span>,
   <span class="hljs-attr">routes</span>: [<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'Greeting'</span>,
       <span class="hljs-attr">component</span>: Greeting<font></font>
     },<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/hello-world'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'HelloWorld'</span>,
       <span class="hljs-attr">component</span>: HelloWorld<font></font>
     }<font></font>
   ]<font></font>
})<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルートルート（ "/"）は、後で作成するコンポーネントGreeting.vueで使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ルーターをインポートします。</font><font style="vertical-align: inherit;">これを行うには、変更を加えます</font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.js</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span><font></font>
<font></font>
Vue.config.productionTip = <span class="hljs-literal">false</span><font></font>
<font></font>
<span class="hljs-keyword">new</span> Vue({ <font></font>
     router,<font></font>
     <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App),<font></font>
}).$mount(<span class="hljs-string">'#app'</span>) 
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後 </font></font><div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
     <span class="hljs-attr">name</span>: <span class="hljs-string">'app'</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーリクエストを実行するには、AXIOS HTTPクライアントを使用します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm install --save axios</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各コンポーネントで毎回同じ設定（たとえば、リクエストルートが "/ api"である）を書き込まないようにするために、それらを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">個別のhttp-common.jsコンポーネント</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に配置することをお勧めし</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AXIOS = axios.create({ 
     <span class="hljs-attr">baseURL</span>: <span class="hljs-string">`/api`</span> <font></font>
})<font></font>
</code></pre> <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンソール（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">console.log（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">への出力時の警告を回避するには</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">package.jsonに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の</font><font style="vertical-align: inherit;">行を書き込むことをお勧めし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-string">"rules"</span>: { 
     <span class="hljs-string">"no-console"</span>: <span class="hljs-string">"off"</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後にコンポーネントを作成します（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ src / components内</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Greeting.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs">import {AXIOS} from './http-common'<font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"greeting"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Greeting component<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Counter: {{ counter }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Username: {{ username }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
   <span class="hljs-attr">name</span>: <span class="hljs-string">'Greeting'</span>,
   data() {
       <span class="hljs-keyword">return</span> {
           <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>,
           <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>
       }
   },
   <span class="hljs-attr">methods</span>: {
       loadGreeting() {
           AXIOS.get(<span class="hljs-string">'/greeting'</span>, { <span class="hljs-attr">params</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'Vadim'</span> } })
           .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
               <span class="hljs-keyword">this</span>.$data.counter = response.data.id;
               <span class="hljs-keyword">this</span>.$data.username = response.data.content;
           })
           .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
               <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'ERROR: '</span> + error.response.data);
           })
       }
   },
   mounted() {
       <span class="hljs-keyword">this</span>.loadGreeting();
   }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クエリパラメータは、メソッドの動作を確認するためにハードコードされています</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データをロードしてレンダリングする関数（</font></font><code>loadGreeting()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は、ページをロードした直後に呼び出されます（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マウント（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">http-common</font></i><font style="vertical-align: inherit;">からカスタム設定でaxiosをインポートしました</font></font><i><font style="vertical-align: inherit;"></font></i></li>
</ul><br>
<img src="https://habrastorage.org/webt/hb/7p/2p/hb7p2pksym25ceozocomrxo0-fu.png"><br>
<a name="DB"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベース接続</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Dataの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例を使用して、データベースと対話するプロセスを見てみましょう</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、テストプレートを作成します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> public.<span class="hljs-string">"person"</span><font></font>
     (<font></font>
          <span class="hljs-keyword">id</span> <span class="hljs-built_in">serial</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
          <span class="hljs-keyword">name</span> <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,<font></font>
          PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>)<font></font>
     ); <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データを入力します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> person (<span class="hljs-keyword">name</span>) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'John'</span>), (<span class="hljs-string">'Griselda'</span>), (<span class="hljs-string">'Bobby'</span>);</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックエンドモジュールのpom.xmlを補足します。</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><font></font>
...<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">postgresql.version</span>&gt;</span>42.2.5<span class="hljs-tag">&lt;/<span class="hljs-name">postgresql.version</span>&gt;</span><font></font>
...<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><font></font>
...<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>postgresql<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${postgresql.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><font></font>
...<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">args</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">arg</span>&gt;</span>-Xjsr305=strict<span class="hljs-tag">&lt;/<span class="hljs-name">arg</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">args</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">compilerPlugins</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>spring<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>jpa<span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">compilerPlugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span> <font></font>
...<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains.kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>kotlin-maven-noarg<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${kotlin.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span> 
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font><font style="vertical-align: inherit;">、データベース接続設定でバックエンドモジュールの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.properties</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを</font><font style="vertical-align: inherit;">補足します。</font></font><br>
<br>
<pre><code class="plaintext hljs">spring.datasource.url=${SPRING_DATASOURCE_URL}<font></font>
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}<font></font>
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}<font></font>
<font></font>
spring.jpa.generate-ddl=true<font></font>
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults = false<font></font>
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect<font></font>
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この形式では、最初の3つのパラメーターは環境変数を参照します。</font><font style="vertical-align: inherit;">機密パラメーターを環境変数または起動パラメーターを介して渡すことを強くお勧めします。</font><font style="vertical-align: inherit;">しかし、それらが陰湿な攻撃者の手に渡らないことが確実な場合は、明示的に尋ねることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オブジェクトリレーショナルマッピングのエンティティ（エンティティクラス）を作成してみましょう。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Person.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> javax.persistence.Column
<span class="hljs-keyword">import</span> javax.persistence.Entity
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue
<span class="hljs-keyword">import</span> javax.persistence.GenerationType
<span class="hljs-keyword">import</span> javax.persistence.Id
<span class="hljs-keyword">import</span> javax.persistence.Table<font></font>
<font></font>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table</span> (name=<span class="hljs-string">"person"</span>)
<span class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>(<font></font>
<font></font>
       <span class="hljs-meta">@Id</span>
       <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
       <span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Long</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(nullable = false)</span>
       <span class="hljs-keyword">val</span> name: String<font></font>
)<font></font>
</code></pre><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、私たちのテーブルで動作するCRUDリポジトリ：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Repository.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jpa.Person
<span class="hljs-keyword">import</span> org.springframework.stereotype.Repository
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.repository.CrudRepository
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.jpa.repository.JpaRepository
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.repository.query.Param<font></font>
<font></font>
<span class="hljs-meta">@Repository</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">PersonRepository</span>: <span class="hljs-type">CrudRepository</span>&lt;<span class="hljs-type">Person, Long</span>&gt; </span>{}
</code></pre><br>
<b>:</b>     <code>findAll()</code>,    ,    .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、コントローラーを更新して、データベースでの動作を確認します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BackendController.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.repository.PersonRepository
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired<font></font>
<font></font>
… <font></font>
<font></font>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> personRepository: PersonRepository<font></font>
<font></font>
… <font></font>
<font></font>
<span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/persons"</span>)</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getPersons</span><span class="hljs-params">()</span></span> = personRepository.findAll() 
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションを起動し、リンク</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：// localhost：8080 / api / people</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に従って、</font><font style="vertical-align: inherit;">すべてが機能することを確認します。</font></font><br>
<br>
<pre><code class="plaintext hljs">[{"id":1,"name":"John"},{"id":2,"name":"Griselda"},{"id":3,"name":"Bobby"}]</code></pre><br>
<a name="Authentication"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認証</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、認証に進むことができます。これは、データアクセスが区別されるアプリケーションの基本機能の1つでもあります。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">JWT</font></a><font style="vertical-align: inherit;">（JSON Web Token）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を使用して独自の認証サーバーを実装することを検討してください</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">なぜ基本認証ではないのですか？</font></b></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私の意見では、基本認証は、比較的安全な使用環境でも、現代の脅威の課題に対応していません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このトピックについては、さらに多くの資料を見つけることができます。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぐに</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使えるOAuthをSpring OAuth Securityに設定</font><font style="vertical-align: inherit;">しないのはなぜ</font><font style="vertical-align: inherit;">ですか？</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OAuthにはもっと多くのものがあるからです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このようなアプローチは、顧客の要件、設計者の気まぐれなど、外部の状況によって決まる場合があります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたが初心者の開発者であれば、戦略的な観点から、セキュリティ機能をより詳細に掘り下げることが役立つでしょう。</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックエンド</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲストに加えて、アプリケーションには2つのユーザーグループ（通常のユーザーと管理者）があります。</font><font style="vertical-align: inherit;">：のは、3つのテーブルを作成してみましょう</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ユーザデータを格納するための、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役割</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -役割との情報格納するための</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">users_rolesを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の2つのテーブルをリンクするために- 。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブルを作成し、制約を追加して、ロールテーブルに入力します</font></font></b><div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> public.users<font></font>
(<font></font>
     <span class="hljs-keyword">id</span> <span class="hljs-built_in">serial</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,<font></font>
     username <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,<font></font>
     first_name <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,<font></font>
     last_name <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,<font></font>
     email <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,
     <span class="hljs-keyword">password</span> <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,<font></font>
     enabled <span class="hljs-built_in">boolean</span>,<font></font>
     PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>)<font></font>
);<font></font>
<font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> public.roles<font></font>
(<font></font>
     <span class="hljs-keyword">id</span> <span class="hljs-built_in">serial</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
     <span class="hljs-keyword">name</span> <span class="hljs-built_in">character</span> <span class="hljs-built_in">varying</span>,<font></font>
     PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>)<font></font>
); <font></font>
<font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> public.users_roles<font></font>
(<font></font>
     <span class="hljs-keyword">id</span> <span class="hljs-built_in">serial</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,<font></font>
     user_id <span class="hljs-built_in">integer</span>,<font></font>
     role_id <span class="hljs-built_in">integer</span>,<font></font>
     PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>)<font></font>
);<font></font>
<font></font>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> public.users_roles
     <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> users_roles_users_fk <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (user_id)
     <span class="hljs-keyword">REFERENCES</span> public.users (<span class="hljs-keyword">id</span>) <span class="hljs-keyword">MATCH</span> SIMPLE
     <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">CASCADE</span>
     <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">CASCADE</span>;<font></font>
<font></font>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> public.users_roles
     <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> users_roles_roles_fk <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> (role_id)
     <span class="hljs-keyword">REFERENCES</span> public.roles (<span class="hljs-keyword">id</span>) <span class="hljs-keyword">MATCH</span> SIMPLE
     <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">CASCADE</span>
     <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">CASCADE</span>;<font></font>
<font></font>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">roles</span> (<span class="hljs-keyword">name</span>) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'ROLE_USER'</span>), (<span class="hljs-string">'ROLE_ADMIN'</span>);
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 エンティティークラスを作成します。</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> javax.persistence.*<font></font>
<font></font>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = <span class="hljs-meta-string">"users"</span>)</span>
<span class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>(<font></font>
<font></font>
       <span class="hljs-meta">@Id</span>
       <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
       <span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Long</span>? = <span class="hljs-number">0</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"username"</span>)</span>
       <span class="hljs-keyword">var</span> username: String?=<span class="hljs-literal">null</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"first_name"</span>)</span>
       <span class="hljs-keyword">var</span> firstName: String?=<span class="hljs-literal">null</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"last_name"</span>)</span>
       <span class="hljs-keyword">var</span> lastName: String?=<span class="hljs-literal">null</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"email"</span>)</span>
       <span class="hljs-keyword">var</span> email: String?=<span class="hljs-literal">null</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"password"</span>)</span>
       <span class="hljs-keyword">var</span> password: String?=<span class="hljs-literal">null</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"enabled"</span>)</span>
       <span class="hljs-keyword">var</span> enabled: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,<font></font>
<font></font>
       <span class="hljs-meta">@ManyToMany(fetch = FetchType.EAGER)</span>
       <span class="hljs-meta">@JoinTable(
               name = <span class="hljs-meta-string">"users_roles"</span>,
               joinColumns = [JoinColumn(name = <span class="hljs-meta-string">"user_id"</span>, referencedColumnName = <span class="hljs-meta-string">"id"</span>)</span>],<font></font>
               inverseJoinColumns = [JoinColumn(name = <span class="hljs-string">"role_id"</span>, referencedColumnName = <span class="hljs-string">"id"</span>)]<font></font>
       )<font></font>
       <span class="hljs-keyword">var</span> roles: Collection&lt;Role&gt;? = <span class="hljs-literal">null</span><font></font>
)<font></font>
</code></pre><br>
<b>:</b>  <i>users</i>  <i>roles</i>    «--» —        (,    ),        . <br>
<br>
<b>  :</b>  ,      (authorities),        .          : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Granted Authority Versus Role in Spring Security</a>.<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Role.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> javax.persistence.*<font></font>
<font></font>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = <span class="hljs-meta-string">"roles"</span>)</span>
<span class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Role</span> </span>(<font></font>
<font></font>
       <span class="hljs-meta">@Id</span>
       <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.AUTO)</span>
       <span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Long</span>,<font></font>
<font></font>
       <span class="hljs-meta">@Column(name=<span class="hljs-meta-string">"name"</span>)</span>
       <span class="hljs-keyword">val</span> name: String<font></font>
<font></font>
)<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルを操作するためのリポジトリを作成します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UsersRepository.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> java.util.Optional
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jpa.User
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.repository.CrudRepository
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.repository.query.Param
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.jpa.repository.JpaRepository
<span class="hljs-keyword">import</span> javax.transaction.Transactional<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserRepository</span>: <span class="hljs-type">JpaRepository</span>&lt;<span class="hljs-type">User, Long</span>&gt; </span>{<font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">existsByUsername</span><span class="hljs-params">(<span class="hljs-meta">@Param(<span class="hljs-meta-string">"username"</span>)</span> username: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span><font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findByUsername</span><span class="hljs-params">(<span class="hljs-meta">@Param(<span class="hljs-meta-string">"username"</span>)</span> username: <span class="hljs-type">String</span>)</span></span>: Optional&lt;User&gt;<font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findByEmail</span><span class="hljs-params">(<span class="hljs-meta">@Param(<span class="hljs-meta-string">"email"</span>)</span> email: <span class="hljs-type">String</span>)</span></span>: Optional&lt;User&gt;<font></font>
<font></font>
   <span class="hljs-meta">@Transactional</span>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">deleteByUsername</span><span class="hljs-params">(<span class="hljs-meta">@Param(<span class="hljs-meta-string">"username"</span>)</span> username: <span class="hljs-type">String</span>)</span></span><font></font>
<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RolesRepository.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jpa.Role
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.repository.CrudRepository
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.repository.query.Param
<span class="hljs-keyword">import</span> org.springframework.<span class="hljs-keyword">data</span>.jpa.repository.JpaRepository<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">RoleRepository</span> : <span class="hljs-type">JpaRepository</span>&lt;<span class="hljs-type">Role, Long</span>&gt; </span>{<font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findByName</span><span class="hljs-params">(<span class="hljs-meta">@Param(<span class="hljs-meta-string">"name"</span>)</span> name: <span class="hljs-type">String</span>)</span></span>: Role<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい依存関係を追加する</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pom.xmlバックエンドモジュール</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.module<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-module-kotlin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.jsonwebtoken<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jjwt<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.jsonwebtoken<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jjwt-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.10.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.properties</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でトークンを操作するための新しいパラメーターを追加し</font><i><font style="vertical-align: inherit;">ます</font></i><font style="vertical-align: inherit;">。</font></font><br>
<pre><code class="plaintext hljs">assm.app.jwtSecret=jwtAssmSecretKey<font></font>
assm.app.jwtExpiration=86400<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、承認フォームと登録フォームからのデータを格納するクラスを作成します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoginUser.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginUser</span> : <span class="hljs-type">Serializable {</span></span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"username"</span>)</span>
   <span class="hljs-keyword">var</span> username: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"password"</span>)</span>
   <span class="hljs-keyword">var</span> password: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-keyword">constructor</span>() {}<font></font>
<font></font>
   <span class="hljs-keyword">constructor</span>(username: String, password: String) {
       <span class="hljs-keyword">this</span>.username = username
       <span class="hljs-keyword">this</span>.password = password<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
       <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> serialVersionUID = -<span class="hljs-number">1764970284520387975L</span><font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewUser.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> com.fasterxml.jackson.<span class="hljs-keyword">annotation</span>.JsonProperty
<span class="hljs-keyword">import</span> java.io.Serializable<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NewUser</span> : <span class="hljs-type">Serializable {</span></span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"username"</span>)</span>
   <span class="hljs-keyword">var</span> username: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"firstName"</span>)</span>
   <span class="hljs-keyword">var</span> firstName: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"lastName"</span>)</span>
   <span class="hljs-keyword">var</span> lastName: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"email"</span>)</span>
   <span class="hljs-keyword">var</span> email: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@JsonProperty(<span class="hljs-meta-string">"password"</span>)</span>
   <span class="hljs-keyword">var</span> password: String? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-keyword">constructor</span>() {}<font></font>
<font></font>
   <span class="hljs-keyword">constructor</span>(username: String, firstName: String, lastName: String, email: String, password: String, recaptchaToken: String) {
       <span class="hljs-keyword">this</span>.username = username
       <span class="hljs-keyword">this</span>.firstName = firstName
       <span class="hljs-keyword">this</span>.lastName = lastName
       <span class="hljs-keyword">this</span>.email = email
       <span class="hljs-keyword">this</span>.password = password<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
       <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> serialVersionUID = -<span class="hljs-number">1764970284520387975L</span><font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバー応答のための特別なクラスを作ってみましょう-認証トークンとユニバーサル（文字列）を返します：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JwtRespons.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> org.springframework.security.core.GrantedAuthority<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JwtResponse</span></span>(<span class="hljs-keyword">var</span> accessToken: String?, <span class="hljs-keyword">var</span> username: String?, <span class="hljs-keyword">val</span> authorities:<font></font>
     Collection&lt;GrantedAuthority&gt;) {<font></font>
     <span class="hljs-keyword">var</span> type = <span class="hljs-string">"Bearer"</span><font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResponseMessage.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResponseMessage</span></span>(<span class="hljs-keyword">var</span> message: String?)
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、「ユーザーは既に存在します」という例外も必要です。</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserAlreadyExistException.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserAlreadyExistException</span> : <span class="hljs-type">RuntimeException {</span></span><font></font>
<font></font>
     <span class="hljs-keyword">constructor</span>() : <span class="hljs-keyword">super</span>() {}<font></font>
<font></font>
     <span class="hljs-keyword">constructor</span>(message: String, cause: Throwable) : <span class="hljs-keyword">super</span>(message, cause) {}<font></font>
<font></font>
     <span class="hljs-keyword">constructor</span>(message: String) : <span class="hljs-keyword">super</span>(message) {}<font></font>
<font></font>
     <span class="hljs-keyword">constructor</span>(cause: Throwable) : <span class="hljs-keyword">super</span>(cause) {}<font></font>
<font></font>
     <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {<font></font>
<font></font>
          <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> serialVersionUID = <span class="hljs-number">5861310537366287163L</span><font></font>
<font></font>
     }<font></font>
} <font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーロールを定義するには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserDetailsS​​ervice</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェースを実装する追加のサービスが必要です</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserDetailsS​​erviceImpl.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs"> 
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.repository.UserRepository<font></font>
<font></font>
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired
<span class="hljs-keyword">import</span> org.springframework.security.core.userdetails.UserDetails
<span class="hljs-keyword">import</span> org.springframework.security.core.userdetails.UserDetailsService
<span class="hljs-keyword">import</span> org.springframework.security.core.userdetails.UsernameNotFoundException
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service
<span class="hljs-keyword">import</span> org.springframework.security.core.GrantedAuthority
<span class="hljs-keyword">import</span> org.springframework.security.core.authority.SimpleGrantedAuthority
<span class="hljs-keyword">import</span> java.util.stream.Collectors<font></font>
<font></font>
<span class="hljs-meta">@Service</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDetailsServiceImpl</span>: <span class="hljs-type">UserDetailsService {</span></span><font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> userRepository: UserRepository<font></font>
<font></font>
   <span class="hljs-meta">@Throws(UsernameNotFoundException::class)</span>
   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUserByUsername</span><span class="hljs-params">(username: <span class="hljs-type">String</span>)</span></span>: UserDetails {
       <span class="hljs-keyword">val</span> user = userRepository.findByUsername(username).<span class="hljs-keyword">get</span>()<font></font>
               ?: <span class="hljs-keyword">throw</span> UsernameNotFoundException(<span class="hljs-string">"User '<span class="hljs-variable">$username</span>' not found"</span>)<font></font>
<font></font>
       <span class="hljs-keyword">val</span> authorities: List&lt;GrantedAuthority&gt; = user.roles!!.stream().map({ role -&gt; SimpleGrantedAuthority(role.name)}).collect(Collectors.toList&lt;GrantedAuthority&gt;())<font></font>
<font></font>
       <span class="hljs-keyword">return</span> org.springframework.security.core.userdetails.User<font></font>
               .withUsername(username)<font></font>
               .password(user.password)<font></font>
               .authorities(authorities)<font></font>
               .accountExpired(<span class="hljs-literal">false</span>)<font></font>
               .accountLocked(<span class="hljs-literal">false</span>)<font></font>
               .credentialsExpired(<span class="hljs-literal">false</span>)<font></font>
               .disabled(<span class="hljs-literal">false</span>)<font></font>
               .build()<font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JWTを使用するには、次の3つのクラスが必要です</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。JwtAuthEntryPoint-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">承認エラーを処理し、Webセキュリティ設定でさらに使用します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JwtAuthEntryPoint.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> javax.servlet.ServletException
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse<font></font>
<font></font>
<span class="hljs-keyword">import</span> org.slf4j.Logger
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory
<span class="hljs-keyword">import</span> org.springframework.security.core.AuthenticationException
<span class="hljs-keyword">import</span> org.springframework.security.web.AuthenticationEntryPoint
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component<font></font>
<font></font>
<span class="hljs-meta">@Component</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JwtAuthEntryPoint</span> : <span class="hljs-type">AuthenticationEntryPoint {</span></span><font></font>
<font></font>
   <span class="hljs-meta">@Throws(IOException::class, ServletException::class)</span>
   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">commence</span><span class="hljs-params">(request: <span class="hljs-type">HttpServletRequest</span>,
                         response: <span class="hljs-type">HttpServletResponse</span>,
                         e: <span class="hljs-type">AuthenticationException</span>)</span></span> {<font></font>
<font></font>
       logger.error(<span class="hljs-string">"Unauthorized error. Message - {}"</span>, e!!.message)<font></font>
       response.sendError(HttpServletResponse.SC_UNAUTHORIZED, <span class="hljs-string">"Invalid credentials"</span>)<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
       <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> logger = LoggerFactory.getLogger(JwtAuthEntryPoint::<span class="hljs-keyword">class</span>.java)<font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JwtProvider-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トークンを生成および検証し、トークンによってユーザーを決定します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JwtProvider.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> io.jsonwebtoken.*
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired
<span class="hljs-keyword">import</span> org.slf4j.Logger
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Value
<span class="hljs-keyword">import</span> org.springframework.security.core.Authentication
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component
<span class="hljs-keyword">import</span> org.springframework.security.core.GrantedAuthority
<span class="hljs-keyword">import</span> org.springframework.security.core.authority.SimpleGrantedAuthority
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.repository.UserRepository
<span class="hljs-keyword">import</span> java.util.Date<font></font>
<font></font>
<font></font>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JwtProvider</span> </span>{<font></font>
<font></font>
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> logger: Logger = LoggerFactory.getLogger(JwtProvider::<span class="hljs-keyword">class</span>.java)<font></font>
<font></font>
   @Autowired<font></font>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> userRepository: UserRepository<font></font>
<font></font>
   @Value(<span class="hljs-string">"\${assm.app.jwtSecret}"</span>)
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> jwtSecret: String<font></font>
<font></font>
   <span class="hljs-meta">@Value(<span class="hljs-meta-string">"\${assm.app.jwtExpiration}"</span>)</span>
   <span class="hljs-keyword">var</span> jwtExpiration:<span class="hljs-built_in">Int</span>?=<span class="hljs-number">0</span><font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">generateJwtToken</span><span class="hljs-params">(username: <span class="hljs-type">String</span>)</span></span>: String {
       <span class="hljs-keyword">return</span> Jwts.builder()<font></font>
               .setSubject(username)<font></font>
               .setIssuedAt(Date())<font></font>
               .setExpiration(Date((Date()).getTime() + jwtExpiration!! * <span class="hljs-number">1000</span>))<font></font>
               .signWith(SignatureAlgorithm.HS512, jwtSecret)<font></font>
               .compact()<font></font>
   }<font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">validateJwtToken</span><span class="hljs-params">(authToken: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
       <span class="hljs-keyword">try</span> {<font></font>
           Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken)<font></font>
           <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
       } <span class="hljs-keyword">catch</span> (e: SignatureException) {<font></font>
           logger.error(<span class="hljs-string">"Invalid JWT signature -&gt; Message: {} "</span>, e)<font></font>
       } <span class="hljs-keyword">catch</span> (e: MalformedJwtException) {<font></font>
           logger.error(<span class="hljs-string">"Invalid JWT token -&gt; Message: {}"</span>, e)<font></font>
       } <span class="hljs-keyword">catch</span> (e: ExpiredJwtException) {<font></font>
           logger.error(<span class="hljs-string">"Expired JWT token -&gt; Message: {}"</span>, e)<font></font>
       } <span class="hljs-keyword">catch</span> (e: UnsupportedJwtException) {<font></font>
           logger.error(<span class="hljs-string">"Unsupported JWT token -&gt; Message: {}"</span>, e)<font></font>
       } <span class="hljs-keyword">catch</span> (e: IllegalArgumentException) {<font></font>
           logger.error(<span class="hljs-string">"JWT claims string is empty -&gt; Message: {}"</span>, e)<font></font>
       }<font></font>
<font></font>
       <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><font></font>
   }<font></font>
<font></font>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserNameFromJwtToken</span><span class="hljs-params">(token: <span class="hljs-type">String</span>)</span></span>: String {
       <span class="hljs-keyword">return</span> Jwts.parser()<font></font>
               .setSigningKey(jwtSecret)<font></font>
               .parseClaimsJws(token)<font></font>
               .getBody().getSubject()<font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JwtAuthTokenFilter-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーを認証し、リクエストをフィルタリングします。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JwtAuthTokenFilter.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> java.io.IOException<font></font>
<font></font>
<span class="hljs-keyword">import</span> javax.servlet.FilterChain
<span class="hljs-keyword">import</span> javax.servlet.ServletException
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse<font></font>
<font></font>
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired
<span class="hljs-keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken
<span class="hljs-keyword">import</span> org.springframework.security.core.context.SecurityContextHolder
<span class="hljs-keyword">import</span> org.springframework.security.core.userdetails.UserDetails
<span class="hljs-keyword">import</span> org.springframework.security.web.authentication.WebAuthenticationDetailsSource
<span class="hljs-keyword">import</span> org.springframework.web.filter.OncePerRequestFilter<font></font>
<font></font>
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.service.UserDetailsServiceImpl<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JwtAuthTokenFilter</span> : <span class="hljs-type">OncePerRequestFilter</span></span>() {<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> tokenProvider: JwtProvider? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userDetailsService: UserDetailsServiceImpl? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@Throws(ServletException::class, IOException::class)</span>
   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">doFilterInternal</span><span class="hljs-params">(request: <span class="hljs-type">HttpServletRequest</span>, response: <span class="hljs-type">HttpServletResponse</span>, filterChain: <span class="hljs-type">FilterChain</span>)</span></span> {
       <span class="hljs-keyword">try</span> {<font></font>
<font></font>
           <span class="hljs-keyword">val</span> jwt = getJwt(request)
           <span class="hljs-keyword">if</span> (jwt != <span class="hljs-literal">null</span> &amp;&amp; tokenProvider!!.validateJwtToken(jwt)) {
               <span class="hljs-keyword">val</span> username = tokenProvider.getUserNameFromJwtToken(jwt)<font></font>
<font></font>
               <span class="hljs-keyword">val</span> userDetails = userDetailsService!!.loadUserByUsername(username)
               <span class="hljs-keyword">val</span> authentication = UsernamePasswordAuthenticationToken(<font></font>
                       userDetails, <span class="hljs-literal">null</span>, userDetails.getAuthorities())<font></font>
               authentication.setDetails(WebAuthenticationDetailsSource().buildDetails(request))<font></font>
<font></font>
               SecurityContextHolder.getContext().setAuthentication(authentication)<font></font>
           }<font></font>
       } <span class="hljs-keyword">catch</span> (e: Exception) {<font></font>
           logger.error(<span class="hljs-string">"Can NOT set user authentication -&gt; Message: {}"</span>, e)<font></font>
       }<font></font>
<font></font>
       filterChain.doFilter(request, response)<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getJwt</span><span class="hljs-params">(request: <span class="hljs-type">HttpServletRequest</span>)</span></span>: String? {
       <span class="hljs-keyword">val</span> authHeader = request.getHeader(<span class="hljs-string">"Authorization"</span>)<font></font>
<font></font>
       <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (authHeader != <span class="hljs-literal">null</span> &amp;&amp; authHeader.startsWith(<span class="hljs-string">"Bearer "</span>)) {<font></font>
           authHeader.replace(<span class="hljs-string">"Bearer "</span>, <span class="hljs-string">""</span>)<font></font>
       } <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span><font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
       <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> logger = LoggerFactory.getLogger(JwtAuthTokenFilter::<span class="hljs-keyword">class</span>.java)<font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、Webセキュリティを担当するBeanを構成できます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebSecurityConfig.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Bean
<span class="hljs-keyword">import</span> org.springframework.context.<span class="hljs-keyword">annotation</span>.Configuration
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired
<span class="hljs-keyword">import</span> org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter
<span class="hljs-keyword">import</span> org.springframework.security.config.http.SessionCreationPolicy
<span class="hljs-keyword">import</span> org.springframework.security.authentication.AuthenticationManager
<span class="hljs-keyword">import</span> org.springframework.security.config.<span class="hljs-keyword">annotation</span>.authentication.builders.AuthenticationManagerBuilder
<span class="hljs-keyword">import</span> org.springframework.security.config.<span class="hljs-keyword">annotation</span>.web.configuration.EnableWebSecurity
<span class="hljs-keyword">import</span> org.springframework.security.config.<span class="hljs-keyword">annotation</span>.method.configuration.EnableGlobalMethodSecurity
<span class="hljs-keyword">import</span> org.springframework.security.config.<span class="hljs-keyword">annotation</span>.web.builders.HttpSecurity
<span class="hljs-keyword">import</span> org.springframework.security.config.<span class="hljs-keyword">annotation</span>.web.configuration.WebSecurityConfigurerAdapter
<span class="hljs-keyword">import</span> org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder<font></font>
<font></font>
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jwt.JwtAuthEntryPoint
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jwt.JwtAuthTokenFilter
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.service.UserDetailsServiceImpl<font></font>
<font></font>
<font></font>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
<span class="hljs-meta">@EnableGlobalMethodSecurity(prePostEnabled = true)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WebSecurityConfig</span> : <span class="hljs-type">WebSecurityConfigurerAdapter</span></span>() {<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">internal</span> <span class="hljs-keyword">var</span> userDetailsService: UserDetailsServiceImpl? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> unauthorizedHandler: JwtAuthEntryPoint? = <span class="hljs-literal">null</span><font></font>
<font></font>
   <span class="hljs-meta">@Bean</span>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">bCryptPasswordEncoder</span><span class="hljs-params">()</span></span>: BCryptPasswordEncoder {
       <span class="hljs-keyword">return</span> BCryptPasswordEncoder()<font></font>
   }<font></font>
<font></font>
   <span class="hljs-meta">@Bean</span>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">authenticationJwtTokenFilter</span><span class="hljs-params">()</span></span>: JwtAuthTokenFilter {
       <span class="hljs-keyword">return</span> JwtAuthTokenFilter()<font></font>
   }<font></font>
<font></font>
   <span class="hljs-meta">@Throws(Exception::class)</span>
   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">configure</span><span class="hljs-params">(authenticationManagerBuilder: <span class="hljs-type">AuthenticationManagerBuilder</span>)</span></span> {<font></font>
       authenticationManagerBuilder<font></font>
               .userDetailsService(userDetailsService)<font></font>
               .passwordEncoder(bCryptPasswordEncoder())<font></font>
   }<font></font>
<font></font>
   <span class="hljs-meta">@Bean</span>
   <span class="hljs-meta">@Throws(Exception::class)</span>
   <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">authenticationManagerBean</span><span class="hljs-params">()</span></span>: AuthenticationManager {
       <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.authenticationManagerBean()<font></font>
   }<font></font>
<font></font>
   <span class="hljs-meta">@Throws(Exception::class)</span>
   <span class="hljs-keyword">override</span> <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">configure</span><span class="hljs-params">(http: <span class="hljs-type">HttpSecurity</span>)</span></span> {<font></font>
       http.csrf().disable().authorizeRequests()<font></font>
               .antMatchers(<span class="hljs-string">"/**"</span>).permitAll()<font></font>
               .anyRequest().authenticated()<font></font>
               .and()<font></font>
               .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()<font></font>
               .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)<font></font>
<font></font>
       http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter::<span class="hljs-keyword">class</span>.java)<font></font>
   }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
登録と承認のためのコントローラーを作成します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AuthController.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> javax.validation.Valid
<span class="hljs-keyword">import</span> java.util.*
<span class="hljs-keyword">import</span> java.util.stream.Collectors<font></font>
<font></font>
<span class="hljs-keyword">import</span> org.springframework.security.core.Authentication
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired
<span class="hljs-keyword">import</span> org.springframework.http.HttpStatus
<span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity
<span class="hljs-keyword">import</span> org.springframework.security.authentication.AuthenticationManager
<span class="hljs-keyword">import</span> org.springframework.security.authentication.UsernamePasswordAuthenticationToken
<span class="hljs-keyword">import</span> org.springframework.security.core.context.SecurityContextHolder
<span class="hljs-keyword">import</span> org.springframework.security.core.userdetails.UserDetails
<span class="hljs-keyword">import</span> org.springframework.security.crypto.password.PasswordEncoder
<span class="hljs-keyword">import</span> org.springframework.security.access.prepost.PreAuthorize
<span class="hljs-keyword">import</span> org.springframework.security.core.GrantedAuthority
<span class="hljs-keyword">import</span> org.springframework.security.core.authority.SimpleGrantedAuthority
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.CrossOrigin
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.PostMapping
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestBody
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RequestMapping
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.RestController<font></font>
<font></font>
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.model.LoginUser
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.model.NewUser
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.web.response.JwtResponse
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.web.response.ResponseMessage
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jpa.User
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.repository.UserRepository
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.repository.RoleRepository
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jwt.JwtProvider<font></font>
<font></font>
<span class="hljs-meta">@CrossOrigin(origins = [<span class="hljs-meta-string">"*"</span>], maxAge = 3600)</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-meta-string">"/api/auth"</span>)</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AuthController</span></span>() {<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> authenticationManager: AuthenticationManager<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> userRepository: UserRepository<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> roleRepository: RoleRepository<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> encoder: PasswordEncoder<font></font>
<font></font>
   <span class="hljs-meta">@Autowired</span>
   <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> jwtProvider: JwtProvider<font></font>
<font></font>
<font></font>
   <span class="hljs-meta">@PostMapping(<span class="hljs-meta-string">"/signin"</span>)</span>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">authenticateUser</span><span class="hljs-params">(<span class="hljs-meta">@Valid</span> <span class="hljs-meta">@RequestBody</span> loginRequest: <span class="hljs-type">LoginUser</span>)</span></span>: ResponseEntity&lt;*&gt; {<font></font>
<font></font>
       <span class="hljs-keyword">val</span> userCandidate: Optional &lt;User&gt; = userRepository.findByUsername(loginRequest.username!!)<font></font>
<font></font>
       <span class="hljs-keyword">if</span> (userCandidate.isPresent) {
           <span class="hljs-keyword">val</span> user: User = userCandidate.<span class="hljs-keyword">get</span>()
           <span class="hljs-keyword">val</span> authentication = authenticationManager.authenticate(<font></font>
                   UsernamePasswordAuthenticationToken(loginRequest.username, loginRequest.password))<font></font>
           SecurityContextHolder.getContext().setAuthentication(authentication)<font></font>
           <span class="hljs-keyword">val</span> jwt: String = jwtProvider.generateJwtToken(user.username!!)
           <span class="hljs-keyword">val</span> authorities: List&lt;GrantedAuthority&gt; = user.roles!!.stream().map({ role -&gt; SimpleGrantedAuthority(role.name)}).collect(Collectors.toList&lt;GrantedAuthority&gt;())
           <span class="hljs-keyword">return</span> ResponseEntity.ok(JwtResponse(jwt, user.username, authorities))<font></font>
       } <span class="hljs-keyword">else</span> {
           <span class="hljs-keyword">return</span> ResponseEntity(ResponseMessage(<span class="hljs-string">"User not found!"</span>),<font></font>
                   HttpStatus.BAD_REQUEST)<font></font>
       }<font></font>
   }<font></font>
<font></font>
   <span class="hljs-meta">@PostMapping(<span class="hljs-meta-string">"/signup"</span>)</span>
   <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">registerUser</span><span class="hljs-params">(<span class="hljs-meta">@Valid</span> <span class="hljs-meta">@RequestBody</span> newUser: <span class="hljs-type">NewUser</span>)</span></span>: ResponseEntity&lt;*&gt; {<font></font>
<font></font>
       <span class="hljs-keyword">val</span> userCandidate: Optional &lt;User&gt; = userRepository.findByUsername(newUser.username!!)<font></font>
<font></font>
       <span class="hljs-keyword">if</span> (!userCandidate.isPresent) {
           <span class="hljs-keyword">if</span> (usernameExists(newUser.username!!)) {
               <span class="hljs-keyword">return</span> ResponseEntity(ResponseMessage(<span class="hljs-string">"Username is already taken!"</span>),<font></font>
                       HttpStatus.BAD_REQUEST)<font></font>
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (emailExists(newUser.email!!)) {
               <span class="hljs-keyword">return</span> ResponseEntity(ResponseMessage(<span class="hljs-string">"Email is already in use!"</span>),<font></font>
                       HttpStatus.BAD_REQUEST)<font></font>
           }<font></font>
<font></font>
           <span class="hljs-comment">// Creating user's account</span>
           <span class="hljs-keyword">val</span> user = User(
                   <span class="hljs-number">0</span>,<font></font>
                   newUser.username!!,<font></font>
                   newUser.firstName!!,<font></font>
                   newUser.lastName!!,<font></font>
                   newUser.email!!,<font></font>
                   encoder.encode(newUser.password),<font></font>
                   <span class="hljs-literal">true</span><font></font>
           )<font></font>
           user!!.roles = Arrays.asList(roleRepository.findByName(<span class="hljs-string">"ROLE_USER"</span>))<font></font>
<font></font>
           userRepository.save(user)<font></font>
<font></font>
           <span class="hljs-keyword">return</span> ResponseEntity(ResponseMessage(<span class="hljs-string">"User registered successfully!"</span>), HttpStatus.OK)<font></font>
       } <span class="hljs-keyword">else</span> {
           <span class="hljs-keyword">return</span> ResponseEntity(ResponseMessage(<span class="hljs-string">"User already exists!"</span>),<font></font>
                   HttpStatus.BAD_REQUEST)<font></font>
       }<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">emailExists</span><span class="hljs-params">(email: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
       <span class="hljs-keyword">return</span> userRepository.findByUsername(email).isPresent<font></font>
   }<font></font>
<font></font>
   <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">usernameExists</span><span class="hljs-params">(username: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
       <span class="hljs-keyword">return</span> userRepository.findByUsername(username).isPresent<font></font>
   }<font></font>
<font></font>
}<font></font>
</code></pre><br>
   :<br>
<br>
<ul>
<li><b>signin</b> — ,    ,  ,    ,      (, <i>authorities</i> — )</li>
<li>signup — ,    ,  ,      <i>users</i>      <i>ROLE_USER</i></li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BackendController</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を2つのメソッドで</font><i><font style="vertical-align: inherit;">補足します。1</font></i><font style="vertical-align: inherit;">つは、管理者（ROLE_USERおよびROLE_ADMIN特権を持つユーザー）と通常のユーザー（ROLE_USER）だけがアクセスできるデータを返します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BackendController.kt</font></font></b><div class="spoiler_text"><pre><code class="kotlin hljs">
<span class="hljs-keyword">import</span> org.springframework.security.access.prepost.PreAuthorize
<span class="hljs-keyword">import</span> org.springframework.security.core.Authentication
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.repository.UserRepository
<span class="hljs-keyword">import</span> com.kotlinspringvue.backend.jpa.User<font></font>
<font></font>
… <font></font>
<font></font>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> userRepository: UserRepository<font></font>
<font></font>
… <font></font>
<font></font>
<span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/usercontent"</span>)</span>
<span class="hljs-meta">@PreAuthorize(<span class="hljs-meta-string">"hasRole('USER') or hasRole('ADMIN')"</span>)</span>
<span class="hljs-meta">@ResponseBody</span>
     <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserContent</span><span class="hljs-params">(authentication: <span class="hljs-type">Authentication</span>)</span></span>: String {
     <span class="hljs-keyword">val</span> user: User = userRepository.findByUsername(authentication.name).<span class="hljs-keyword">get</span>()
     <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello "</span> + user.firstName + <span class="hljs-string">" "</span> + user.lastName + <span class="hljs-string">"!"</span><font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-meta">@GetMapping(<span class="hljs-meta-string">"/admincontent"</span>)</span>
<span class="hljs-meta">@PreAuthorize(<span class="hljs-meta-string">"hasRole('ADMIN')"</span>)</span>
<span class="hljs-meta">@ResponseBody</span>
     <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getAdminContent</span><span class="hljs-params">()</span></span>: String {
     <span class="hljs-keyword">return</span> <span class="hljs-string">"Admin's content"</span><font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フロントエンド</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいコンポーネントをいくつか作成しましょう。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホーム</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サインイン</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サインアップ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理ページ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーページ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テンプレートコンテンツを使用する（</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便利なコピーと貼り付けを</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始するため）：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントテンプレート</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">テンプレート</font></i><font style="vertical-align: inherit;">内の</font><font style="vertical-align: inherit;">各</font><i><font style="vertical-align: inherit;">div</font></i><font style="vertical-align: inherit;"> 
に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id =“ </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">component_name </font></i><i><font style="vertical-align: inherit;">”</font></i><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加</font><font style="vertical-align: inherit;">し、</font><i><font style="vertical-align: inherit;">スクリプトの</font></i><i><font style="vertical-align: inherit;">デフォルトの{name： '[component_name]'}</font></i><font style="vertical-align: inherit;">を</font><i><font style="vertical-align: inherit;">エクスポートします</font></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
新しいルートを追加します。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router.js</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> Router <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> Home <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/Home'</span>
<span class="hljs-keyword">import</span> SignIn <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/SignIn'</span>
<span class="hljs-keyword">import</span> SignUp <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/SignUp'</span>
<span class="hljs-keyword">import</span> AdminPage <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/AdminPage'</span>
<span class="hljs-keyword">import</span> UserPage <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/UserPage'</span><font></font>
<font></font>
Vue.use(Router)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Router({
   <span class="hljs-attr">mode</span>: <span class="hljs-string">'history'</span>,
   <span class="hljs-attr">routes</span>: [<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
       <span class="hljs-attr">component</span>: Home<font></font>
     },<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/home'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
       <span class="hljs-attr">component</span>: Home<font></font>
     },<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/login'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'SignIn'</span>,
       <span class="hljs-attr">component</span>: SignIn<font></font>
     },<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/register'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'SignUp'</span>,
       <span class="hljs-attr">component</span>: SignUp<font></font>
     },<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/user'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'UserPage'</span>,
       <span class="hljs-attr">component</span>: UserPage<font></font>
     },<font></font>
     {<font></font>
       <span class="hljs-attr">path</span>: <span class="hljs-string">'/admin'</span>,
       <span class="hljs-attr">name</span>: <span class="hljs-string">'AdminPage'</span>,
       <span class="hljs-attr">component</span>: AdminPage<font></font>
     }<font></font>
   ]<font></font>
})<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vuex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
を使用してトークンを格納し、サーバーへのクエリ時にトークンを使用します</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vuex</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は状態管理パターン+ Vue.jsライブラリです </font><font style="vertical-align: inherit;">状態が予測可能な方法でのみ変更できることを保証するルールを持つすべてのアプリケーションコンポーネントの集中データウェアハウスとして機能します。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm install --save vuex</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストア</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を別のファイルとして</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">src / storeに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
追加</font><font style="vertical-align: inherit;">します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.js</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> Vuex <span class="hljs-keyword">from</span> <span class="hljs-string">'vuex'</span>;<font></font>
<font></font>
Vue.use(Vuex);<font></font>
<font></font>
<span class="hljs-keyword">const</span> state = {
 <span class="hljs-attr">token</span>: localStorage.getItem(<span class="hljs-string">'user-token'</span>) || <span class="hljs-string">''</span>,
 <span class="hljs-attr">role</span>: localStorage.getItem(<span class="hljs-string">'user-role'</span>) || <span class="hljs-string">''</span>,
 <span class="hljs-attr">username</span>: localStorage.getItem(<span class="hljs-string">'user-name'</span>) || <span class="hljs-string">''</span>,
 <span class="hljs-attr">authorities</span>: localStorage.getItem(<span class="hljs-string">'authorities'</span>) || <span class="hljs-string">''</span>,<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">const</span> getters = {
 <span class="hljs-attr">isAuthenticated</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> {
   <span class="hljs-keyword">if</span> (state.token != <span class="hljs-literal">null</span> &amp;&amp; state.token != <span class="hljs-string">''</span>) {
     <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
   } <span class="hljs-keyword">else</span> {
     <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
   }<font></font>
 },<font></font>
 <span class="hljs-attr">isAdmin</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> {
   <span class="hljs-keyword">if</span> (state.role === <span class="hljs-string">'admin'</span>) {
     <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
   } <span class="hljs-keyword">else</span> {
     <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
   }<font></font>
 },<font></font>
 <span class="hljs-attr">getUsername</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> {
   <span class="hljs-keyword">return</span> state.username;<font></font>
 },<font></font>
 <span class="hljs-attr">getAuthorities</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> {
   <span class="hljs-keyword">return</span> state.authorities;<font></font>
 },<font></font>
 <span class="hljs-attr">getToken</span>: <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> {
   <span class="hljs-keyword">return</span> state.token;<font></font>
 }<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">const</span> mutations = {
 <span class="hljs-attr">auth_login</span>: <span class="hljs-function">(<span class="hljs-params">state, user</span>) =&gt;</span> {<font></font>
   localStorage.setItem(<span class="hljs-string">'user-token'</span>, user.token);<font></font>
   localStorage.setItem(<span class="hljs-string">'user-name'</span>, user.name);<font></font>
   localStorage.setItem(<span class="hljs-string">'user-authorities'</span>, user.roles);<font></font>
   state.token = user.token;<font></font>
   state.username = user.username;<font></font>
   state.authorities = user.roles;<font></font>
   <span class="hljs-keyword">var</span> isUser = <span class="hljs-literal">false</span>;
   <span class="hljs-keyword">var</span> isAdmin = <span class="hljs-literal">false</span>;
   <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; user.roles.length; i++) {
     <span class="hljs-keyword">if</span> (user.roles[i].authority === <span class="hljs-string">'ROLE_USER'</span>) {<font></font>
       isUser = <span class="hljs-literal">true</span>;<font></font>
     } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (user.roles[i].authority === <span class="hljs-string">'ROLE_ADMIN'</span>) {<font></font>
       isAdmin = <span class="hljs-literal">true</span>;<font></font>
     }<font></font>
   }<font></font>
   <span class="hljs-keyword">if</span> (isUser) {<font></font>
     localStorage.setItem(<span class="hljs-string">'user-role'</span>, <span class="hljs-string">'user'</span>);<font></font>
     state.role = <span class="hljs-string">'user'</span>;<font></font>
   }<font></font>
   <span class="hljs-keyword">if</span> (isAdmin) {<font></font>
     localStorage.setItem(<span class="hljs-string">'user-role'</span>, <span class="hljs-string">'admin'</span>);<font></font>
     state.role = <span class="hljs-string">'admin'</span>;<font></font>
   }<font></font>
 },<font></font>
 <span class="hljs-attr">auth_logout</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
   state.token = <span class="hljs-string">''</span>;<font></font>
   state.role = <span class="hljs-string">''</span>;<font></font>
   state.username = <span class="hljs-string">''</span>;<font></font>
   state.authorities = [];<font></font>
   localStorage.removeItem(<span class="hljs-string">'user-token'</span>);<font></font>
   localStorage.removeItem(<span class="hljs-string">'user-role'</span>);<font></font>
   localStorage.removeItem(<span class="hljs-string">'user-name'</span>);<font></font>
   localStorage.removeItem(<span class="hljs-string">'user-authorities'</span>);<font></font>
 }<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">const</span> actions = {
 <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params">context, user</span>) =&gt;</span> {<font></font>
   context.commit(<span class="hljs-string">'auth_login'</span>, user)<font></font>
 },<font></font>
 <span class="hljs-attr">logout</span>: <span class="hljs-function">(<span class="hljs-params">context</span>) =&gt;</span> {<font></font>
   context.commit(<span class="hljs-string">'auth_logout'</span>);<font></font>
 }<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> Vuex.Store({<font></font>
 state,<font></font>
 getters,<font></font>
 mutations,<font></font>
 actions<font></font>
});<font></font>
</code></pre><br>
,     :<br>
<br>
<ul>
<li><b>store</b> — ,      —  , ,    (    —     (authorities):     —    ,     ,     <i>admin</i>  <i>user</i> — </li>
<li><b>getters</b> —      </li>
<li><b>mutations</b> —    </li>
<li><b>actions</b> —    ,     </li>
</ul><br>
<b>:</b>   (mutations) —      .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に適切な変更を加えます</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.js</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>;<font></font>
<font></font>
...<font></font>
<font></font>
new Vue({<font></font>
     router,<font></font>
     store,<font></font>
     <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App)<font></font>
}).$mount(<span class="hljs-string">'#app'</span>)
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が使っている実験的なアプリケーションでも、インターフェースがすぐに美しくすっきりと見えるようにするために。</font><font style="vertical-align: inherit;">しかし、彼らが言うように、これは好みの問題であり、基本的な機能には影響しません。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm install --save bootstrap bootstrap-vue</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.jsのブートストラップ</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> BootstrapVue <span class="hljs-keyword">from</span> <span class="hljs-string">'bootstrap-vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'bootstrap/dist/css/bootstrap.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'bootstrap-vue/dist/bootstrap-vue.css'</span><font></font>
<font></font>
… <font></font>
<font></font>
Vue.use(BootstrapVue) <font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Appコンポーネントを操作します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">許可されたすべてのユーザーの「ログアウト」機能を追加する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログアウト後にホームページに自動リダイレクトを追加する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">許可されたすべてのユーザーにはナビゲーションメニューボタン「ユーザー」と「ログアウト」を、許可されていないユーザーには「ログイン」ボタンを表示します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">権限のある管理者のみにナビゲーションメニューの[管理者]ボタンを表示します</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このため：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logout（）メソッドを追加する</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs">methods: {<font></font>
     logout() {<font></font>
          <span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">'logout'</span>);
          <span class="hljs-keyword">this</span>.$router.push(<span class="hljs-string">'/'</span>)<font></font>
     }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テンプレートを編集します</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">b-navbar</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"dark"</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"dark"</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">b-navbar-brand</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nav-brand"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>Kotlin+Spring+Vue<span class="hljs-tag">&lt;/<span class="hljs-name">b-navbar-brand</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"30px"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./assets/img/kotlin-logo.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Kotlin+Spring+Vue"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"30px"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./assets/img/spring-boot-logo.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Kotlin+Spring+Vue"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"30px"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./assets/img/vuejs-logo.png"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Kotlin+Spring+Vue"</span>/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link text-light"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"this.$store.getters.isAuthenticated"</span>&gt;</span>User<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/admin"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link text-light"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"this.$store.getters.isAuthenticated &amp;&amp; this.$store.getters.isAdmin"</span>&gt;</span>Admin<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/register"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link text-light"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!this.$store.getters.isAuthenticated"</span>&gt;</span>Register<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link text-light"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!this.$store.getters.isAuthenticated"</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-link text-light"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"this.$store.getters.isAuthenticated"</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"logout"</span>&gt;</span>Logout <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">b-navbar</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span> 
</code></pre><br>
<b>:</b> <br>
<br>
<ul>
<li> store         ,   .      ,   ,    («v-if»)</li>
<li>      Kotlin, Spring Boot  Vue.js,   <i>/assets/img/</i>.     ,       (    )</li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントを更新します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Home.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">div</span>=<span class="hljs-string">"home"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">b-jumbotron</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>Kotlin + Spring Boot + Vue.js<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
       <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"lead"</span>&gt;</span><font></font>
         This is the demo web-application written in Kotlin using Spring Boot and Vue.js for frontend<font></font>
       <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
       <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-4"</span> /&gt;</span><font></font>
<font></font>
       <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!this.$store.getters.isAuthenticated"</span>&gt;</span><font></font>
         Login and start<font></font>
       <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><font></font>
<font></font>
       <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!this.$store.getters.isAuthenticated"</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">b-button</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"primary"</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">b-button</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><font></font>
<font></font>
     <span class="hljs-tag">&lt;/<span class="hljs-name">b-jumbotron</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SignIn.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">div</span>=<span class="hljs-string">"signin"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-form"</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">b-card</span>
             <span class="hljs-attr">title</span>=<span class="hljs-string">"Login"</span>
             <span class="hljs-attr">tag</span>=<span class="hljs-string">"article"</span>
             <span class="hljs-attr">style</span>=<span class="hljs-string">"max-width: 20rem;"</span>
             <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-2"</span>
           &gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">b-alert</span>
                     <span class="hljs-attr">:show</span>=<span class="hljs-string">"dismissCountDown"</span>
                     <span class="hljs-attr">dismissible</span>
                     <span class="hljs-attr">variant</span>=<span class="hljs-string">"danger"</span>
                     @<span class="hljs-attr">dismissed</span>=<span class="hljs-string">"dismissCountDown=0"</span>
                     @<span class="hljs-attr">dismiss-count-down</span>=<span class="hljs-string">"countDownChanged"</span>
                   &gt;</span> {{ alertMessage }}
                   <span class="hljs-tag">&lt;/<span class="hljs-name">b-alert</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"password"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
             <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
             <span class="hljs-tag">&lt;<span class="hljs-name">b-button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"login"</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"primary"</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">b-button</span>&gt;</span><font></font>
<font></font>
             <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-4"</span> /&gt;</span><font></font>
<font></font>
             <span class="hljs-tag">&lt;<span class="hljs-name">b-button</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"link"</span>&gt;</span>Forget password?<span class="hljs-tag">&lt;/<span class="hljs-name">b-button</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">b-card</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> {AXIOS} <span class="hljs-keyword">from</span> <span class="hljs-string">'./http-common'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
   <span class="hljs-attr">name</span>: <span class="hljs-string">'SignIn'</span>,
   data() {
         <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
         <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
         <span class="hljs-attr">dismissSecs</span>: <span class="hljs-number">5</span>,
         <span class="hljs-attr">dismissCountDown</span>: <span class="hljs-number">0</span>,
         <span class="hljs-attr">alertMessage</span>: <span class="hljs-string">'Request error'</span>,
     }
   },
   <span class="hljs-attr">methods</span>: {
     login() {
       AXIOS.post(<span class="hljs-string">`/auth/signin`</span>, {<span class="hljs-string">'username'</span>: <span class="hljs-keyword">this</span>.$data.username, <span class="hljs-string">'password'</span>: <span class="hljs-keyword">this</span>.$data.password})
         .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
           <span class="hljs-keyword">this</span>.$store.dispatch(<span class="hljs-string">'login'</span>, {<span class="hljs-string">'token'</span>: response.data.accessToken, <span class="hljs-string">'roles'</span>: response.data.authorities, <span class="hljs-string">'username'</span>: response.data.username});
           <span class="hljs-keyword">this</span>.$router.push(<span class="hljs-string">'/home'</span>)
         }, error =&gt; {
           <span class="hljs-keyword">this</span>.$data.alertMessage = (error.response.data.message.length &lt; <span class="hljs-number">150</span>) ? error.response.data.message : <span class="hljs-string">'Request error. Please, report this error website owners'</span>;
           <span class="hljs-built_in">console</span>.log(error)
         })
         .catch(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
           <span class="hljs-built_in">console</span>.log(e);
           <span class="hljs-keyword">this</span>.showAlert();
         })
     },
     countDownChanged(dismissCountDown) {
         <span class="hljs-keyword">this</span>.dismissCountDown = dismissCountDown
     },
     showAlert() {
         <span class="hljs-keyword">this</span>.dismissCountDown = <span class="hljs-keyword">this</span>.dismissSecs
     },
   }
 }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.login-form</span> {
   <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">38%</span>;
   <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
  :<br>
<br>
<ul>
<li>       POST-</li>
<li>         storage</li>
<li> «»   Bootstrap     </li>
<li>   ,    <i>/home</i></li>
</ul><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SignUp.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">div</span>=<span class="hljs-string">"signup"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login-form"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">b-card</span>
             <span class="hljs-attr">title</span>=<span class="hljs-string">"Register"</span>
             <span class="hljs-attr">tag</span>=<span class="hljs-string">"article"</span>
             <span class="hljs-attr">style</span>=<span class="hljs-string">"max-width: 20rem;"</span>
             <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-2"</span>
           &gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">b-alert</span>
                     <span class="hljs-attr">:show</span>=<span class="hljs-string">"dismissCountDown"</span>
                     <span class="hljs-attr">dismissible</span>
                     <span class="hljs-attr">variant</span>=<span class="hljs-string">"danger"</span>
                     @<span class="hljs-attr">dismissed</span>=<span class="hljs-string">"dismissCountDown=0"</span>
                     @<span class="hljs-attr">dismiss-count-down</span>=<span class="hljs-string">"countDownChanged"</span>
                   &gt;</span> {{ alertMessage }}
                   <span class="hljs-tag">&lt;/<span class="hljs-name">b-alert</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-name">b-alert</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"success"</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">"successfullyRegistered"</span>&gt;</span><font></font>
               You have been successfully registered! Now you can login with your credentials<font></font>
               <span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">b-button</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"primary"</span>&gt;</span>Login<span class="hljs-tag">&lt;/<span class="hljs-name">b-button</span>&gt;</span>
               <span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span>
             <span class="hljs-tag">&lt;/<span class="hljs-name">b-alert</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Username"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"username"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"First Name"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"firstname"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Last name"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"lastname"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Email"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"email"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Password"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"password"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
               <span class="hljs-tag">&lt;<span class="hljs-name">b-form-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Confirm Password"</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"confirmpassword"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
             <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><font></font>
<font></font>
             <span class="hljs-tag">&lt;<span class="hljs-name">b-button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">"register"</span> <span class="hljs-attr">variant</span>=<span class="hljs-string">"primary"</span>&gt;</span>Register<span class="hljs-tag">&lt;/<span class="hljs-name">b-button</span>&gt;</span><font></font>
<font></font>
           <span class="hljs-tag">&lt;/<span class="hljs-name">b-card</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> {AXIOS} <span class="hljs-keyword">from</span> <span class="hljs-string">'./http-common'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
   <span class="hljs-attr">name</span>: <span class="hljs-string">'SignUp'</span>,
   data () {
       <span class="hljs-keyword">return</span> {
           <span class="hljs-attr">username</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">firstname</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">lastname</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">email</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">password</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">confirmpassword</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">dismissSecs</span>: <span class="hljs-number">5</span>,
           <span class="hljs-attr">dismissCountDown</span>: <span class="hljs-number">0</span>,
           <span class="hljs-attr">alertMessage</span>: <span class="hljs-string">''</span>,
           <span class="hljs-attr">successfullyRegistered</span>: <span class="hljs-literal">false</span>
       }
   },
   <span class="hljs-attr">methods</span>: {
       <span class="hljs-attr">register</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
           <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.username === <span class="hljs-string">''</span> || <span class="hljs-keyword">this</span>.$data.username == <span class="hljs-literal">null</span>) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Please, fill "Username" field'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.firstname === <span class="hljs-string">''</span> || <span class="hljs-keyword">this</span>.$data.firstname == <span class="hljs-literal">null</span>) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Please, fill "First name" field'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.lastname === <span class="hljs-string">''</span> || <span class="hljs-keyword">this</span>.$data.lastname == <span class="hljs-literal">null</span>) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Please, fill "Last name" field'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.email === <span class="hljs-string">''</span> || <span class="hljs-keyword">this</span>.$data.email == <span class="hljs-literal">null</span>) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Please, fill "Email" field'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.$data.email.includes(<span class="hljs-string">'@'</span>)) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Email is incorrect'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.password === <span class="hljs-string">''</span> || <span class="hljs-keyword">this</span>.$data.password == <span class="hljs-literal">null</span>) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Please, fill "Password" field'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.confirmpassword === <span class="hljs-string">''</span> || <span class="hljs-keyword">this</span>.$data.confirmpassword == <span class="hljs-literal">null</span>) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Please, confirm password'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.$data.confirmpassword !== <span class="hljs-keyword">this</span>.$data.password) {
               <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Passwords are not match'</span>;
               <span class="hljs-keyword">this</span>.showAlert();
           } <span class="hljs-keyword">else</span> {
               <span class="hljs-keyword">var</span> newUser = {
                   <span class="hljs-string">'username'</span>: <span class="hljs-keyword">this</span>.$data.username,
                   <span class="hljs-string">'firstName'</span>: <span class="hljs-keyword">this</span>.$data.firstname,
                   <span class="hljs-string">'lastName'</span>: <span class="hljs-keyword">this</span>.$data.lastname,
                   <span class="hljs-string">'email'</span>: <span class="hljs-keyword">this</span>.$data.email,
                   <span class="hljs-string">'password'</span>: <span class="hljs-keyword">this</span>.$data.password
               };
               AXIOS.post(<span class="hljs-string">'/auth/signup'</span>, newUser)
               .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
                   <span class="hljs-built_in">console</span>.log(response);
                   <span class="hljs-keyword">this</span>.successAlert();
               }, error =&gt; {
                   <span class="hljs-keyword">this</span>.$data.alertMessage = (error.response.data.message.length &lt; <span class="hljs-number">150</span>) ? error.response.data.message : <span class="hljs-string">'Request error. Please, report this error website owners'</span>
                   <span class="hljs-keyword">this</span>.showAlert();
               })
                .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
                   <span class="hljs-built_in">console</span>.log(error);
                   <span class="hljs-keyword">this</span>.$data.alertMessage = <span class="hljs-string">'Request error. Please, report this error website owners'</span>;
                   <span class="hljs-keyword">this</span>.showAlert();
                });
           }
       },
       countDownChanged(dismissCountDown) {
           <span class="hljs-keyword">this</span>.dismissCountDown = dismissCountDown
       },
       showAlert() {
           <span class="hljs-keyword">this</span>.dismissCountDown = <span class="hljs-keyword">this</span>.dismissSecs
       },
       successAlert() {
           <span class="hljs-keyword">this</span>.username = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.firstname = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.lastname = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.email = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.password = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.confirmpassword = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.successfullyRegistered = <span class="hljs-literal">true</span>;
       }
   }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.login-form</span> {
   <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">38%</span>;
   <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">50px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
  :<br>
<br>
<ul>
<li>         POST-</li>
<li>     Bootstrap    </li>
<li>   ,  Bootstrap-    </li>
<li>     </li>
</ul><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserPage.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">div</span>=<span class="hljs-string">"userpage"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{{ pageContent }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> {AXIOS} <span class="hljs-keyword">from</span> <span class="hljs-string">'./http-common'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
   <span class="hljs-attr">name</span>: <span class="hljs-string">'UserPage'</span>,
   data() {
       <span class="hljs-keyword">return</span> {
           <span class="hljs-attr">pageContent</span>: <span class="hljs-string">''</span>
       }
   },
   <span class="hljs-attr">methods</span>: {
       loadUserContent() {
           <span class="hljs-keyword">const</span> header = {<span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'Bearer '</span> + <span class="hljs-keyword">this</span>.$store.getters.getToken};
           AXIOS.get(<span class="hljs-string">'/usercontent'</span>, { <span class="hljs-attr">headers</span>: header })
           .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
               <span class="hljs-keyword">this</span>.$data.pageContent = response.data;
           })
           .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
               <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'ERROR: '</span> + error.response.data);
           })
       }
   },
   mounted() {
       <span class="hljs-keyword">this</span>.loadUserContent();
   }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
  :<br>
<ul>
<li>        </li>
<li>     ,   storage</li>
<li>     </li>
</ul><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Admin.vue</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">div</span>=<span class="hljs-string">"adminpage"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{{ pageContent }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> {AXIOS} <span class="hljs-keyword">from</span> <span class="hljs-string">'./http-common'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
   <span class="hljs-attr">name</span>: <span class="hljs-string">'AdminPage'</span>,
   data() {
       <span class="hljs-keyword">return</span> {
           <span class="hljs-attr">pageContent</span>: <span class="hljs-string">''</span>
       }
   },
   <span class="hljs-attr">methods</span>: {
       loadUserContent() {
           <span class="hljs-keyword">const</span> header = {<span class="hljs-string">'Authorization'</span>: <span class="hljs-string">'Bearer '</span> + <span class="hljs-keyword">this</span>.$store.getters.getToken};
           AXIOS.get(<span class="hljs-string">'/admincontent'</span>, { <span class="hljs-attr">headers</span>: header })
           .then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
               <span class="hljs-keyword">this</span>.$data.pageContent = response.data;
           })
           .catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
               <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'ERROR: '</span> + error.response.data);
           })
       }
   },
   mounted() {
       <span class="hljs-keyword">this</span>.loadUserContent();
   }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre><br>
     ,    <i>UserPage</i>.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの起動</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の管理者を登録します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vj/n1/sx/vjn1sxqgh21twatqxdnwdsax-da.png"><br>
<br>
<img src="https://habrastorage.org/webt/ty/xq/rd/tyxqrdt_bdanmy9ughcq050i5q8.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトでは、すべての新規ユーザーは通常のユーザーです。</font><font style="vertical-align: inherit;">最初の管理者に権限を与えましょう：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users_roles (user_id, role_id) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理者としてログインしましょう</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーページを確認してください： </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7-/hl/tu/7-hltu0rtm5vigbfhq3hmhin0ri.png"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理ページを確認してください： </font></font><br>
<br>
<img src="https://habrastorage.org/webt/se/hr/lu/sehrlu8m5npgbdf1dtotvukfk-g.png"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理者アカウントからログアウトします</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般ユーザーアカウントを登録する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーページの可用性を確認してください</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST APIを使用して管理データを取得してみましょう：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http：// localhost：8080 / api / admincontent</font></font></a></li>
</ol><br>
<pre><code class="plaintext hljs">ERROR 77100 --- [nio-8080-exec-2] c.k.backend.jwt.JwtAuthEntryPoint : Unauthorized error. Message - Full authentication is required to access this resource
</code></pre><br>
<a name="WaysToImprove"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改善する方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に言って、どんなビジネスでも常に多くの人がいます。</font><font style="vertical-align: inherit;">私は最も明白なものをリストします：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gradleのビルドに使用します（これを改善と見なした場合）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユニットテストでコードをすぐにカバーします（これは間違いなく、良い習慣です）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CI / CDパイプラインを構築する最初から：コードをリポジトリーに配置し、アプリケーションを含め、アセンブリーとデプロイメントを自動化します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PUTおよびDELETEリクエストを追加します（たとえば、ユーザーデータの更新やアカウントの削除）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アカウントのアクティブ化/非アクティブ化を実装する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トークンの保存にローカルストレージを使用しないでください-安全ではありません</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OAuthを使用する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいユーザーを登録するときにメールアドレスを確認する</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reCAPTCHAなどのスパム保護を使用する</font></font></li>
</ul><br>
<a name="Links"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役立つリンク</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私が書いた</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">同じガイドは</font></a><font style="vertical-align: inherit;">、Herokuでのアプリケーションのデプロイ、reCAPTCHA、メールの操作についても詳しく説明しています。</font><font style="vertical-align: inherit;">英語だが写真付き</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Githubリポジトリ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すぐに使えるアプリケーション</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特別な感謝</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -この資料は、この記事を書く気になりました。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vue.js、Spring Boot、Kotlin、GraphQL：最新のアプリの構築</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baeldung-Java、Spring、およびWeb開発のチュートリアル</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Bootバックエンドを備えたVue.jsフロントエンド</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Boot（Kotlin）を使用したRESTful Webサービスの作成</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データクラス（Kotlin）</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotlinのデータクラス</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JWT認証：いつ、どのように使用するか</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vuexとは何ですか？</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VuexでVue.jsの状態を管理する</font></font></a></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この資料への追加は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら。</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja467145/index.html">取引だけでなく、銀行預金の代わりに取引所を使用して収入を得る方法</a></li>
<li><a href="../ja467147/index.html">大量攻撃：近年の経験に対する反撃の特徴</a></li>
<li><a href="../ja467149/index.html">骨董品：コンピュータプレスにおける1992</a></li>
<li><a href="../ja467153/index.html">異論への取り組み：静的分析は作業時間の一部になります</a></li>
<li><a href="../ja467155/index.html">Kubernetesコンテナのベストプラクティス：ヘルスチェック</a></li>
<li><a href="../ja467163/index.html">Kubernetesと自動化により2時間でクラウドに移行する方法</a></li>
<li><a href="../ja467165/index.html">ロシアのスカラ運動の足跡。パート2</a></li>
<li><a href="../ja467171/index.html">200,000行のインフラストラクチャコードをテストして学んだこと</a></li>
<li><a href="../ja467175/index.html">ゲームエンジンを使用する前によく考える</a></li>
<li><a href="../ja467177/index.html">タランティーノのマーケティングのヒント：どんな役割を果たし、なぜUma Thurmanの石鹸を作るのか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>