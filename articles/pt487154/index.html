<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🏫 🤜🏽 🏴 Exploração do shader de areia do jogo Journey 👩🏻‍🌾 🧒🏼 ❄️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Começo de uma série de artigos aqui
 
 
 Parte 4: Imagem em Espelho
 Nesta parte, focaremos nos reflexos do espelho, graças aos quais as dunas se asse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Exploração do shader de areia do jogo Journey</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487154/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Começo de uma série de artigos aqui</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/828/9b4/997/8289b49971bbe0046845f71284790124.png" alt="imagem"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 4: Imagem em Espelho</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta parte, focaremos nos reflexos do espelho, graças aos quais as dunas se assemelham a um oceano de areia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dos efeitos mais intrigantes da renderização de areia do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é como as dunas brilham nos raios de luz. Essa reflexão é chamada </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especular</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O nome vem da palavra latina </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">speculum</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que significa </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"espelho"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A reflexão especular</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é um conceito abrangente que combina todos os tipos de interações nas quais a luz é fortemente refletida em uma direção, em vez de dispersa ou absorvida. Graças a reflexões especulares, a água e as superfícies polidas em um determinado ângulo parecem brilhantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viagem</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Existem três tipos de reflexos no espelho: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iluminação da borda</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especular do oceano</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reflexos de brilho</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mostrados no diagrama abaixo.</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nesta parte, examinaremos os dois primeiros tipos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e83/9e1/047/e839e1047f41693c6830b105a3c55c59.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/07a/739/06d/07a73906d58ed9d4c251340b4e92d7f5.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/d17/d2f/716d17d2f4d0d0796e51bee059ce39c2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes e depois de aplicar reflexos no espelho</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iluminação da borda</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode perceber que, em cada nível de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">viagem</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">é apresentado </font><font style="vertical-align: inherit;">um </font><font style="vertical-align: inherit;">conjunto limitado de cores. </font><font style="vertical-align: inherit;">E enquanto isso cria uma estética forte e limpa, essa abordagem complica a renderização da areia. </font><font style="vertical-align: inherit;">As dunas são renderizadas apenas por um número limitado de tons, por isso é difícil para o jogador entender onde uma termina a longa distância e a outra começa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para compensar isso, a borda de cada duna tem um leve efeito de brilho, destacando seus contornos. </font><font style="vertical-align: inherit;">Isso permite que as dunas não se escondam no horizonte e cria a ilusão de um ambiente muito mais amplo e complexo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de começar a descobrir como implementar esse efeito, vamos expandir </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a função de iluminação</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adicionando </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cores difusas a ela</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (considerado por nós na parte anterior do artigo) e um novo componente generalizado da reflexão especular.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">float4 <span class="hljs-title">LightingJourney</span> (<span class="hljs-params">SurfaceOutput s, fixed3 viewDir, UnityGI gi</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Lighting properties</span><font></font>
    float3 L = gi.light.dir;<font></font>
    float3 N = s.Normal;<font></font>
<font></font>
    <span class="hljs-comment">// Lighting calculation</span><font></font>
    float3 diffuseColor	= DiffuseColor (N, L);<font></font>
    float3 rimColor     = RimLighting  (N, V);<font></font>
<font></font>
    <span class="hljs-comment">// Combining</span><font></font>
    float3 color = diffuseColor + rimColor;<font></font>
<font></font>
    <span class="hljs-comment">// Final color</span>
    <span class="hljs-keyword">return</span> float4(color * s.Albedo, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No trecho de código mostrado acima, vemos que o componente espelho da iluminação do aro, chamado de </font></font><code>rimColor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, é simplesmente adicionado à cor difusa original.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Efeitos de alta faixa dinâmica e bloom</font></font></b><div class="spoiler_text">  ,    —   RGB    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">1</script>.     .  ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-3">1</script>.<br>
<br>
      ,   ,        <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-4">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-5">1</script>.   ,   ,    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6">1</script>.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">High Dynamic Range</a>,      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-7">1</script>  «»    .       bloom,    .       <strong> </strong>.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reflexões de Fresnel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O brilho das bordas pode ser realizado de várias maneiras diferentes. </font><font style="vertical-align: inherit;">A codificação de shader mais popular usa o conhecido </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo de reflexão de Fresnel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para entender a equação subjacente à reflexão de Fresnel, é útil visualizar onde ela ocorre. </font><font style="vertical-align: inherit;">O diagrama abaixo mostra como a duna é visível através da câmera (em azul). </font><font style="vertical-align: inherit;">A seta vermelha indica a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">superfície normal do</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> topo da duna, onde deve ser uma imagem espelhada. </font><font style="vertical-align: inherit;">É fácil ver que todas as margens da duna têm uma propriedade comum: a normal (</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">N</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vermelho) perpendicular à</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direção da visão</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , azul).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c82/547/052/c82547052c28a89dbc8c8fc9b3fa5976.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semelhante ao que fizemos na parte sobre Diffuse Color, você pode usar o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produto escalar</font></font></strong> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">N</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para obter uma medida do seu paralelismo. </font><font style="vertical-align: inherit;">Nesse caso</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.53ex" height="2.009ex" viewBox="0 -755.5 2380.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="1611" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>⋅</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">N \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é igual</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-13">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , porque dois vetores unitários são perpendiculares; </font><font style="vertical-align: inherit;">em vez disso, podemos usar</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mo>&amp;#x2212;</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.533ex" height="2.134ex" viewBox="0 -755.5 4104.4 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="2834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="3334" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>−</mo><mi>N</mi><mo>⋅</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">1- N \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para obter uma medida do seu não paralelismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uso direto</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mo>&amp;#x2212;</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.533ex" height="2.134ex" viewBox="0 -755.5 4104.4 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="2834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="3334" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>−</mo><mi>N</mi><mo>⋅</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">1- N \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> não nos dará bons resultados, porque o reflexo será muito forte. </font><font style="vertical-align: inherit;">Se queremos tornar a reflexão</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mais nítida</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, podemos apenas levar a expressão em grau. </font><font style="vertical-align: inherit;">Grau de magnitude de</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-16">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-17">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> permanece limitado a um intervalo, mas a transição entre escuridão e luz se torna mais nítida. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo de reflexão de Fresnel afirma que o brilho da luz</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.172ex" height="2.009ex" viewBox="0 -755.5 504.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-49" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-18">I</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é definido da seguinte forma:</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mn>1</mn><mo>&amp;#x2212;</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></mrow><mo>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></msup><mo>&amp;#x2217;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="33.343ex" height="2.759ex" viewBox="0 -863.1 14356 1188" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="782" y="0"></use><g transform="translate(1838,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="2834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="3334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="4493" y="0"></use><g transform="translate(4883,477)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6F" x="511" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-77" x="1023" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1687" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="2148" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2217" x="8861" y="0"></use><g transform="translate(9584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-68" x="2980" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="13076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="13466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="13966" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mn>1</mn><mo>−</mo><mi>N</mi><mo>⋅</mo><mi>V</mi></mrow><mo>)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></msup><mo>∗</mo><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-19">\begin{equation*}  I = \left(1 -N \cdot V\right)^\mathit{power} * \mathit{strength} \end{equation*}(1)</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.114ex" height="1.884ex" viewBox="0 -540.2 2632.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.144ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6F" x="511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-77" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="2148" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-20">\mathit{power}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.189ex" height="2.384ex" viewBox="0 -755.5 3526 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.079ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-68" x="2980" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-21">\mathit{strength}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> são dois parâmetros que podem ser usados ​​para controlar o contraste e a força do efeito. </font><font style="vertical-align: inherit;">Parâmetros</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.114ex" height="1.884ex" viewBox="0 -540.2 2632.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.144ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6F" x="511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-77" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="2148" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22">\mathit{power}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.189ex" height="2.384ex" viewBox="0 -755.5 3526 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.079ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-68" x="2980" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-23">\mathit{strength}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , por vezes, chamado</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especular</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">brilho</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas os nomes podem variar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A equação (1) é muito fácil de converter em código:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">float</span> _TerrainRimPower;
<span class="hljs-keyword">float</span> _TerrainRimStrength;<font></font>
float3 _TerrainRimColor;<font></font>
<font></font>
<span class="hljs-function">float3 <span class="hljs-title">RimLighting</span>(<span class="hljs-params">float3 N, float3 V</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">float</span> rim = <span class="hljs-number">1.0</span> - saturate(dot(N, V));<font></font>
    rim = saturate(pow(rim, _TerrainRimPower) * _TerrainRimStrength);<font></font>
    rim = max(rim, <span class="hljs-number">0</span>); <span class="hljs-comment">// Never negative</span>
    <span class="hljs-keyword">return</span> rim * _TerrainRimColor;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seu resultado é mostrado na animação abaixo.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/X7xnX4OSc1A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ocean specular</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dos aspectos mais originais da jogabilidade do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é </font><font style="vertical-align: inherit;">que, às vezes, um jogador pode literalmente "surfar" nas dunas. O engenheiro- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chefe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> John Edwards explicou que a </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">empresa</font></a><font style="vertical-align: inherit;"> procurava tornar a areia mais sentida não sólida, mas líquida. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E isso não está totalmente errado, porque a areia pode ser percebida como uma aproximação muito grosseira de um líquido. E sob certas condições, por exemplo, em uma ampulheta, ele até se comporta como um líquido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para reforçar a idéia de que a areia pode ter um componente líquido, o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adicionou um segundo efeito de reflexão, que é freqüentemente encontrado em corpos líquidos. John Edwards chama isso de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oceano especular</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: A idéia é obter o mesmo tipo de reflexões que são visíveis na superfície do oceano ou lago ao pôr do sol (veja abaixo).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/095/17e/c43/09517ec43fc6abd21bf8b04bce0bf66b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como antes, faremos alterações na função de iluminação </font></font><code>LightingJourney</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para adicionar um novo tipo de reflexão especular a ela.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">float4 <span class="hljs-title">LightingJourney</span> (<span class="hljs-params">SurfaceOutput s, fixed3 viewDir, UnityGI gi</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Lighting properties</span><font></font>
    float3 L = gi.light.dir;<font></font>
    float3 N = s.Normal;<font></font>
    float3 V = viewDir;<font></font>
<font></font>
    <span class="hljs-comment">// Lighting calculation</span><font></font>
    float3 diffuseColor	= DiffuseColor  (N, L);<font></font>
    float3 rimColor     = RimLighting   (N, V);<font></font>
    float3 oceanColor   = OceanSpecular (N, L, V);<font></font>
<font></font>
    <span class="hljs-comment">// Combining</span><font></font>
    float3 specularColor = saturate(max(rimColor, oceanColor));<font></font>
    float3 color = diffuseColor + specularColor;<font></font>
<font></font>
    <span class="hljs-comment">// Final color</span>
    <span class="hljs-keyword">return</span> float4(color * s.Albedo, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que usamos no máximo dois componentes de reflexão?</font></font></b><div class="spoiler_text">   ,    <strong>rim lighting</strong>  <strong>ocean specular</strong>.   ,     ,         -.   ,     .<br>
<br>
    ,       .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os reflexos espelhados na água são geralmente realizados usando </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a reflexão Blinn-Fong</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que é uma solução de baixo custo para materiais brilhantes. </font><font style="vertical-align: inherit;">Foi descrito pela primeira vez por James F. Blinn em 1977 (artigo: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelos de reflexão da luz para imagens sintetizadas por computador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ") como uma aproximação de uma técnica anterior de sombreamento desenvolvida por Bui Tyong Fong em 1973 (artigo: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iluminação para imagens geradas por computador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ") . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao usar o sombreamento Blinnu-Phong, a luminosidade</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.172ex" height="2.009ex" viewBox="0 -755.5 504.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-49" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-24">I</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> superfície</font><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113"><font style="vertical-align: inherit;"> I</font></span></span></span><font style="vertical-align: inherit;"> é dada pela seguinte equação:</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mi>N</mi><mo>&amp;#x22C5;</mo><mi>H</mi></mrow><mo>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></msup><mo>&amp;#x2217;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.617ex" height="2.759ex" viewBox="0 -863.1 12751.6 1188" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="782" y="0"></use><g transform="translate(1838,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-48" x="1611" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="2889" y="0"></use><g transform="translate(3278,477)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6F" x="511" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-77" x="1023" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1687" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="2148" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2217" x="7257" y="0"></use><g transform="translate(7980,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAINI-68" x="2980" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="11472" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="11861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="12362" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mi>N</mi><mo>⋅</mo><mi>H</mi></mrow><mo>)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></msup><mo>∗</mo><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-25">\begin{equation*}  I = \left(N \cdot H\right)^\mathit{power} * \mathit{strength} \end{equation*}(2)</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde </font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo>=</mo><mfrac><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mrow><mo symmetric=&quot;true&quot;>&amp;#x2016;</mo><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mo symmetric=&quot;true&quot;>&amp;#x2016;</mo></mrow></mfrac><mo stretchy=&quot;false&quot;>(</mo><mn>3</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.505ex" height="5.884ex" viewBox="0 -1455.1 7537 2533.5" role="img" focusable="false" style="vertical-align: -2.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="1166" y="0"></use><g transform="translate(1944,0)"><g transform="translate(397,0)"><rect stroke="none" width="3794" height="60" x="0" y="220"></rect><g transform="translate(560,676)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="1992" y="0"></use></g><g transform="translate(60,-726)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2225" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="1992" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2225" x="3174" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="6257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="6647" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="7147" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo>=</mo><mfrac><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mrow><mo symmetric="true">‖</mo><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mo symmetric="true">‖</mo></mrow></mfrac><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-26">\begin{equation*}  H = \frac{V + L}{\left \| V+L \right \|} \end{equation*}(3)</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O denominador da equação (3) divide o vetor </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.134ex" viewBox="0 -755.5 2673.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-27">V+L</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no seu comprimento. </font><font style="vertical-align: inherit;">Isso garante que</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-28">H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tem um comprimento </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-29">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">A função de sombreador equivalente para executar esta operação é essa </font></font><code>normalize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Do ponto de vista geométrico,</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-30">H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> representa o vetor entre </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-31">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.009ex" viewBox="0 -755.5 681.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-32">L</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, portanto, é chamado de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meio vetor</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7af/a5b/6f8/7afa5b6f85a208334f37ff8a3ec7d943.png"></div><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que H está entre V e L?</font></font></b><div class="spoiler_text">,   ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.152ex" viewBox="0 -801.6 888.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-33">H</script> —   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-34">V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-35">L</script>.<br>
<br>
    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"> </a>,       .  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-37">L</script>    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-38">L</script>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-39">V</script>       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-40">V</script>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">L</script>.<br>
<br>
     ,   , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-42">V+L</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi><mo>+</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi><mo>+</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-43">L+V</script>, .  ,      :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c9/2ba/181/4c92ba1815755568822507862486ec2e.png"></div><br>
   ,  ,     .    ,   (  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-44">V+L</script>)   .  ,       ( ).<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f02/02f/4d2/f0202f4d20afdbf26d3f1e80616180af.png"></div><br>
  ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-45">V+L</script> —    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">L</script>,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-48">1</script>.    ,      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-49">1</script>,       ( ).<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma descrição mais detalhada da reflexão de Blinn-Fong pode ser encontrada no tutorial </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelos de renderização e iluminação com base física</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Abaixo está uma implementação simples no código shader.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">float</span> _OceanSpecularPower;
<span class="hljs-keyword">float</span> _OceanSpecularStrength;<font></font>
float3 _OceanSpecularColor;<font></font>
<font></font>
<span class="hljs-function">float3 <span class="hljs-title">OceanSpecular</span> (<span class="hljs-params">float3 N, float3 L, float3 V</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Blinn-Phong</span>
    float3 H = normalize(V + L); <span class="hljs-comment">// Half direction</span>
    <span class="hljs-keyword">float</span> NdotH = max(<span class="hljs-number">0</span>, dot(N, H));
    <span class="hljs-keyword">float</span> specular = pow(NdotH, _OceanSpecularPower) * _OceanSpecularStrength;
    <span class="hljs-keyword">return</span> specular * _OceanSpecularColor;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A animação apresenta uma comparação do sombreamento difuso tradicional de acordo com Lambert e o espelho de acordo com Blinn-Fong:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DGmK3VgzWUU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 5: reflexão brilhante</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta parte, recriaremos os reflexos brilhantes que geralmente são visíveis nas dunas de areia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pouco depois de publicar minha série de artigos, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Julian Oberbek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paul Nadelek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fizeram sua própria tentativa de recriar uma cena inspirada no jogo Journey in Unity. O tweet abaixo mostra como eles aperfeiçoaram reflexões brilhantes para fornecer maior integridade temporal. Leia mais sobre sua implementação em um artigo sobre o IndieBurg </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mip Map Folding</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1214857483715567616"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na parte anterior do curso, revelamos a implementação de duas funções de espelho na renderização de areia </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iluminação da borda</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">especular do oceano</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nesta parte, explicarei como implementar a última versão da reflexão especular: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glitter</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35e/ada/492/35eada4926ebf58a389faec51e2ae895.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você já esteve no deserto, provavelmente notou como a areia é realmente brilhante. </font><font style="vertical-align: inherit;">Como discutido na parte normal da areia, cada grão de areia pode refletir a luz em uma direção aleatória. </font><font style="vertical-align: inherit;">Devido à natureza dos números aleatórios, parte desses raios refletidos cairá na câmera. </font><font style="vertical-align: inherit;">Por esse motivo, pontos aleatórios de areia aparecerão muito brilhantes. </font><font style="vertical-align: inherit;">Esse brilho é muito sensível ao movimento, pois a menor mudança impedirá que os raios refletidos entrem na câmera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em outros jogos, como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astroneer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slime Rancher,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> reflexões brilhantes foram usadas para areia e cavernas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/d17/d2f/716d17d2f4d0d0796e51bee059ce39c2.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/f3c/33c/539f3c33c6c12f5206540ff62ecf4102.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brilho: antes e depois da aplicação do efeito.É</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
mais fácil avaliar essas características de brilho em uma imagem maior:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91a/563/52c/91a56352c32cc17c9701e1a60c4a28e5.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/347/28d/7e3/34728d7e33e9904f9815fe8a8b1d1105.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sem dúvida, o efeito de brilho nas dunas reais depende inteiramente do fato de que alguns grãos de areia refletem aleatoriamente a luz em nossos olhos. A rigor, é exatamente isso que já modelamos na segunda parte do curso dedicado aos normais de areia, quando modelamos uma distribuição aleatória dos normais. Então, por que precisamos de outro efeito para isso? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A resposta pode não ser muito óbvia. Vamos imaginar que estamos tentando recriar o efeito de brilho apenas com a ajuda de normais. Mesmo que todos os normais sejam direcionados para a câmera, a areia ainda não brilha, porque os normais podem refletir apenas a quantidade de luz disponível na cena. Ou seja, na melhor das hipóteses, refletiremos apenas 100% da luz (se a areia for completamente branca).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas precisamos de outra coisa. </font><font style="vertical-align: inherit;">Se quisermos que o pixel pareça tão brilhante que a luz se </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espalhe</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nos pixels adjacentes a ele, a cor deverá ser maior</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-50">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Isso aconteceu porque, no Unity, quando o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtro de bloom é</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aplicado à câmera </font><font style="vertical-align: inherit;">usando </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o efeito de pós-processamento</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as cores ficam mais brilhantes</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-51">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espalhe para pixels vizinhos e produza uma auréola que cria a sensação de que alguns pixels estão brilhando. </font><font style="vertical-align: inherit;">Essa é a base da </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">renderização HDR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, não, sobreposições normais não podem ser usadas de maneira simples para criar superfícies brilhantes. </font><font style="vertical-align: inherit;">Portanto, esse efeito é mais conveniente para implementar como um processo separado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teoria de Microfaces</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para abordar a situação de maneira mais formal, precisamos perceber as dunas como consistindo em espelhos microscópicos, cada um dos quais com uma direção aleatória. Essa abordagem é chamada de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teoria</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><strong><font style="vertical-align: inherit;">microfacete</font></strong><font style="vertical-align: inherit;"> , onde </font><font style="vertical-align: inherit;">cada um desses pequenos espelhos é chamado de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">microfaceto</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A base matemática dos modelos de sombreamento mais modernos é baseada na teoria das micro faces, incluindo o modelo de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sombreador Standard da Unity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro passo é dividir a superfície da duna em micro faces e determinar a orientação de cada uma delas. Como já mencionado, fizemos algo semelhante em parte do tutorial sobre as normais da areia, onde a posição UV do modelo 3D da duna foi usada para amostrar uma textura aleatória. A mesma abordagem pode ser usada aqui para anexar uma orientação aleatória a cada micro faceta. O tamanho de cada microface dependerá da escala da textura e do seu </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nível de texturização mip</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nossa tarefa é recriar uma certa estética, e não o desejo de fotorrealismo; essa abordagem será boa o suficiente para nós. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após a amostragem de uma textura aleatória, podemos associar uma direção aleatória a cada grão de areia / micro faceta da duna. Vamos chamá-lo</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.134ex" viewBox="0 -809.3 786.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-52">G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Indica a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direção do brilho</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ou seja, a </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direção do normal dos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grãos de areia que estamos observando. </font><font style="vertical-align: inherit;">Um raio de luz caindo sobre um grão de areia será refletido, levando em consideração o fato de que a micro faceta é um espelho ideal orientado na direção</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.134ex" viewBox="0 -809.3 786.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-53">G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">O raio de luz refletido resultante deve entrar na câmera.</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-54">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ver abaixo).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d71/668/23c/d7166823c2badfe515d38068087de58a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui podemos novamente usar o </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produto escalar</font></font></strong> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-55">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-56">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para obter medidas de seu paralelismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma abordagem é exponenciação</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.23ex" height="2.009ex" viewBox="0 -755.5 2251.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="1482" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>⋅</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-57">R \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, conforme explicado na (quarta) parte anterior do artigo. </font><font style="vertical-align: inherit;">Se você tentar fazer isso, veremos que o resultado é muito diferente do que está no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Reflexões brilhantes devem ser raras e muito brilhantes. </font><font style="vertical-align: inherit;">A maneira mais fácil será considerar apenas as reflexões brilhantes pelas quais</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.23ex" height="2.009ex" viewBox="0 -755.5 2251.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="1482" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>⋅</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-58">R \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> está abaixo de um certo valor limite.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementação</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos implementar facilmente o efeito de brilho descrito acima usando uma função </font></font><code>reflect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em Cg, o que facilita muito o cálculo</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-59">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cs hljs">sampler2D_float _GlitterTex;
<span class="hljs-keyword">float</span> _GlitterThreshold;<font></font>
float3 _GlitterColor;<font></font>
<font></font>
<span class="hljs-function">float3 <span class="hljs-title">GlitterSpecular</span> (<span class="hljs-params">float2 uv, float3 N, float3 L, float3 V</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Random glitter direction</span>
    float3 G = normalize(tex2D(_GlitterTex, uv).rgb * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>); <span class="hljs-comment">// [0,1]-&gt;[-1,+1]</span><font></font>
<font></font>
    <span class="hljs-comment">// Light that reflects on the glitter and hits the eye</span><font></font>
    float3 R = reflect(L, G);<font></font>
    <span class="hljs-keyword">float</span> RdotV = max(<span class="hljs-number">0</span>, dot(R, V));<font></font>
	<font></font>
    <span class="hljs-comment">// Only the strong ones (= small RdotV)</span>
    <span class="hljs-keyword">if</span> (RdotV &gt; _GlitterThreshold)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
	<font></font>
    <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span> - RdotV) * _GlitterColor;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estritamente falando, se </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.134ex" viewBox="0 -809.3 786.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-60">G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> completamente por acaso, então </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-61">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">também será completamente aleatório. </font><font style="vertical-align: inherit;">Pode parecer que o uso seja </font></font><code>reflect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opcional. </font><font style="vertical-align: inherit;">E embora isso seja verdade para um quadro estático, mas o que acontece se a fonte de luz se mover? </font><font style="vertical-align: inherit;">Isso pode ser devido ao movimento do próprio sol ou devido a uma fonte pontual de luz ligada ao jogador. </font><font style="vertical-align: inherit;">Nos dois casos, a areia perderá a integridade temporal entre os quadros atuais e os subsequentes, devido aos quais o efeito de brilho aparecerá em locais aleatórios. </font><font style="vertical-align: inherit;">No entanto, o uso da função </font></font><code>reflect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fornece renderização muito mais estável. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os resultados são mostrados abaixo:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1wnw0B2hWPI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como lembramos desde a primeira parte do tutorial, o componente brilho é adicionado à cor final.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> surface surf Journey fullforwardshadows</span><font></font>
<font></font>
<span class="hljs-function">float4 <span class="hljs-title">LightingJourney</span> (<span class="hljs-params">SurfaceOutput s, fixed3 viewDir, UnityGI gi</span>)</span><font></font>
{<font></font>
    float3 diffuseColor = DiffuseColor    ();<font></font>
    float3 rimColor     = RimLighting     ();<font></font>
    float3 oceanColor   = OceanSpecular   ();<font></font>
    float3 glitterColor = GlitterSpecular ();<font></font>
<font></font>
    float3 specularColor = saturate(max(rimColor, oceanColor));<font></font>
    float3 color = diffuseColor + specularColor + glitterColor;<font></font>
	<font></font>
    <span class="hljs-keyword">return</span> float4(color * s.Albedo, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há uma alta probabilidade de que alguns pixels acabem ficando mais coloridos </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-62">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o que levará ao efeito bloom. </font><font style="vertical-align: inherit;">É disso que precisamos. </font><font style="vertical-align: inherit;">O efeito também é adicionado sobre a reflexão especular já existente (discutida na parte anterior do artigo), para que até grãos brilhantes de areia possam ser encontrados onde as dunas estão bem iluminadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem muitas maneiras de melhorar essa técnica. </font><font style="vertical-align: inherit;">Tudo depende do resultado que você deseja alcançar. </font><font style="vertical-align: inherit;">Em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astroneer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slime Rancher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , por exemplo, esse efeito é usado apenas à noite. </font><font style="vertical-align: inherit;">Isso pode ser alcançado reduzindo a força do efeito de brilho, dependendo da direção da luz solar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, o valor </font></font><code>max(dot(L, fixed3(0,1,0),0))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-63">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando o sol cai de cima e é igual a zero quando está além do horizonte. </font><font style="vertical-align: inherit;">Mas você pode criar seu próprio sistema, cuja aparência depende das suas preferências.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que a reflexão não é usada na reflexão de Blinn-Fong?</font></font></b><div class="spoiler_text"> <strong>ocean specular</strong>,     ,     <strong>  -</strong>.<br>
<br>
   ,       3D-      , ,   .    ,   <code>reflect</code>   .       - <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.23ex" height="2.152ex" viewBox="0 -801.6 2251.9 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-56" x="1482" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>⋅</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-64">R \cdot V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x22C5;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.806ex" height="2.152ex" viewBox="0 -801.6 2499.9 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-48" x="1611" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>⋅</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-65">N \cdot H</script>,     .</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 6: ondas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na última parte do artigo, recriaremos ondas de areia típicas resultantes da interação de dunas e vento.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c00/b54/814/c00b54814122211b0ae5db424f92a7f5.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/f3c/33c/539f3c33c6c12f5206540ff62ecf4102.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/828/9b4/997/8289b49971bbe0046845f71284790124.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ondas na superfície das dunas: antes e depois</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Teoricamente, seria lógico colocar esta parte após a parte sobre os normais da areia. </font><font style="vertical-align: inherit;">Deixei no final porque é o mais difícil dos efeitos do tutorial. </font><font style="vertical-align: inherit;">Parte dessa complexidade se deve à maneira como os mapas normais são armazenados e processados ​​por um sombreador de superfície que executa muitas etapas adicionais.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na parte (quinta) anterior, exploramos um método para produzir areia heterogênea. Na parte dedicada às normais de areia, uma técnica de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapeamento normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muito popular foi usada para alterar a maneira como a luz interage com a superfície da geometria </font><font style="vertical-align: inherit;">. É frequentemente usado em gráficos 3D para criar a ilusão de que o objeto tem geometria mais complexa e geralmente é usado para tornar as superfícies curvas mais suaves (veja abaixo).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f93/544/d9c/f93544d9c95a70da71848897f0913676.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para alcançar esse efeito, cada pixel é mapeado na </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direção do normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , indicando sua orientação. </font><font style="vertical-align: inherit;">E é usado para calcular a iluminação em vez da verdadeira orientação da malha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao ler as instruções dos normais a partir de uma textura aparentemente aleatória, conseguimos simular a granulação. </font><font style="vertical-align: inherit;">Apesar da imprecisão física, ela ainda parece crível.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ondas na areia</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, as dunas de areia mostram outro recurso que não pode ser ignorado: as ondas. </font><font style="vertical-align: inherit;">Em cada duna existem dunas menores, surgindo devido à influência do vento e mantidas juntas pelo atrito de grãos individuais de areia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas ondas são muito visíveis e visíveis na maioria das dunas. </font><font style="vertical-align: inherit;">Na fotografia mostrada abaixo, tirada em Omã, vê-se que a parte próxima da duna tem um padrão ondulado pronunciado.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/874/c94/2b7/874c942b78535dabc26f5971c4e6c30b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas ondas variam significativamente dependendo não apenas da forma da duna, mas também da composição, direção e velocidade do vento. </font><font style="vertical-align: inherit;">A maioria das dunas com pico acentuado tem ondas apenas de um lado (veja abaixo).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b30/e98/3da/b30e983daf43fc38b8fbe3714eebabc2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O efeito apresentado no tutorial foi projetado para dunas mais suaves com ondas de ambos os lados. </font><font style="vertical-align: inherit;">Isso nem sempre é fisicamente preciso, mas realista o suficiente para ser crível e é um bom primeiro passo para implementações mais complexas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Realização das ondas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem muitas maneiras de implementar ondas. O menos caro é simplesmente desenhá-los em uma textura, mas no tutorial queremos obter outra coisa. O motivo é simples: as ondas não são "planas" e devem interagir corretamente com a luz. Se você simplesmente desenhá-los, será impossível obter um efeito realista quando a câmera (ou o sol) se mover. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra maneira de adicionar ondas é alterar a geometria do modelo das dunas. Mas aumentar a complexidade do modelo não é recomendado, pois afeta muito o desempenho geral. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como vimos na parte sobre normais de areia, você pode contornar esse problema usando </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapas normais</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . De fato, eles são desenhados na superfície como texturas tradicionais, mas são usados ​​em cálculos de iluminação para simular geometria mais complexa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, a tarefa se transformou em outra: como criar esses mapas normais. A renderização manual consumirá muito tempo. Além disso, cada vez que você muda as dunas, precisará redesenhar as ondas novamente. Isso diminuirá significativamente o processo de criação de recursos, que muitos artistas técnicos procuram evitar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma solução muito mais eficaz e ideal seria adicionar ondas de </font><font style="vertical-align: inherit;">maneira </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">processual</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Isso significa que as direções normais das dunas mudam com base na geometria local para levar em conta não apenas os grãos de areia, mas também as ondas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como as ondas precisam ser simuladas em uma superfície 3D, será mais lógico implementar uma mudança na direção das normais para cada pixel. </font><font style="vertical-align: inherit;">É mais fácil usar um mapa normal sem costura com um padrão de onda. </font><font style="vertical-align: inherit;">Este mapa será então combinado com o mapa normal existente usado anteriormente para areia.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Até esse momento, nos encontramos com três </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normais</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diferentes </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geometria Normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : a orientação de cada face do modelo 3D, que é armazenada diretamente nos vértices;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Areia normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : calculada usando textura de ruído;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onda normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : o novo efeito discutido nesta parte.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O exemplo abaixo, retirado da página de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemplos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do Unity </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">Surface Shader</font></a><font style="vertical-align: inherit;"> , demonstra uma maneira padrão de reescrever o normal de um modelo 3D. </font><font style="vertical-align: inherit;">Isso requer alteração do valor </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o que geralmente é feito após a amostragem da textura (geralmente chamada de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapa normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<pre><code class="cpp hljs">  Shader <span class="hljs-string">"Example/Diffuse Bump"</span> {<font></font>
    Properties {<font></font>
      _MainTex (<span class="hljs-string">"Texture"</span>, <span class="hljs-number">2</span>D) = <span class="hljs-string">"white"</span> {}<font></font>
      _BumpMap (<span class="hljs-string">"Bumpmap"</span>, <span class="hljs-number">2</span>D) = <span class="hljs-string">"bump"</span> {}<font></font>
    }<font></font>
    SubShader {<font></font>
      Tags { <span class="hljs-string">"RenderType"</span> = <span class="hljs-string">"Opaque"</span> }<font></font>
      CGPROGRAM<font></font>
      #pragma surface surf Lambert<font></font>
      struct Input {<font></font>
        float2 uv_MainTex;<font></font>
        float2 uv_BumpMap;<font></font>
      };<font></font>
      sampler2D _MainTex;<font></font>
      sampler2D _BumpMap;<font></font>
      <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">surf</span> <span class="hljs-params">(Input IN, inout SurfaceOutput o)</span> </span>{<font></font>
        o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb;<font></font>
        o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap));<font></font>
      }<font></font>
      ENDCG<font></font>
    } <font></font>
    Fallback <span class="hljs-string">"Diffuse"</span>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usamos exatamente a mesma técnica para substituir o normal da geometria pelo normal da areia.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que é o UnpackNormal?</font></font></b><div class="spoiler_text">  <strong> </strong>  <strong> </strong>.  <strong> </strong> (   1),   ,     .  X, Y  Z      R, G  B  .<br>
<br>
       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-66">-1</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-67">+1</script>.          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-68">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-69">1</script>.  ,        «»     «»   .     <strong>  (normal packing)</strong>  <strong>  (normal unpacking)</strong>.         :<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mi>R</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>X</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>G</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Y</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>B</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Z</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.299ex" height="16.009ex" viewBox="0 -3692.5 7017.8 6892.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: -7.249ex; margin-bottom: -0.184ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="27" y="2260"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-47" x="0" y="-87"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-42" x="27" y="-2435"></use></g><g transform="translate(774,0)"><g transform="translate(0,2260)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1056,0)"><g transform="translate(397,0)"><rect stroke="none" width="972" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="236" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="2768" y="0"></use><g transform="translate(3547,0)"><g transform="translate(342,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="60" y="-686"></use></g></g></g><g transform="translate(0,-87)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1056,0)"><g transform="translate(397,0)"><rect stroke="none" width="883" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="191" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="2679" y="0"></use><g transform="translate(3458,0)"><g transform="translate(342,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="60" y="-686"></use></g></g></g><g transform="translate(0,-2435)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1056,0)"><g transform="translate(397,0)"><rect stroke="none" width="843" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="171" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="2639" y="0"></use><g transform="translate(3418,0)"><g transform="translate(342,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="60" y="-686"></use></g></g></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="5738" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="6127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="6628" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>R</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>X</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>G</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Y</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>B</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Z</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-70">\begin{align} R &= \frac{X}{2} + \frac{1}{2} \\ G &= \frac{Y}{2} + \frac{1}{2} \\B &= \frac{Z}{2} + \frac{1}{2}\end{align}(1)</script></p><br>
  :<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mi>X</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>R</mi><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Y</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>G</mi><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>B</mi><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.79ex" height="8.866ex" viewBox="0 -2154.8 6798.3 3817.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: -3.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="0" y="1250"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="89" y="-50"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="129" y="-1350"></use></g><g transform="translate(840,0)"><g transform="translate(0,1250)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-52" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="2816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="3817" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-47" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="2843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="3844" y="0"></use></g><g transform="translate(0,-1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-42" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="2816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="3817" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="5518" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="5908" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="6408" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>X</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>R</mi><mo>−</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Y</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>G</mi><mo>−</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>B</mi><mo>−</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-71">\begin{align} X &= 2R - 1 \\ Y &= 2G - 1 \\ Z &= 2B - 1 \end{align}(2)</script></p><br>
 Unity      (2),   <code>UnpackNormal</code>.          .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">Normal Map Technical Details</a>    polycount.</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inclinação das dunas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, a primeira dificuldade está relacionada ao fato de a forma de onda mudar dependendo da nitidez das dunas. </font><font style="vertical-align: inherit;">Dunas baixas e planas têm ondas pequenas; </font><font style="vertical-align: inherit;">nas dunas íngremes, os padrões de ondas são mais distintos. </font><font style="vertical-align: inherit;">Isso significa que você precisa considerar a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inclinação da</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> duna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maneira mais fácil de contornar esse problema é criar dois mapas normais diferentes, respectivamente, para dunas planas e íngremes. </font><font style="vertical-align: inherit;">A idéia básica é misturar-se entre os dois mapas normais com base na inclinação da duna.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ae/a7e/691/1aea7e6919021a7adf95b595e141348a.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal da duna íngreme</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3cd/7d6/983/3cd7d698303b82e9c4aeac3c35c84925.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal para uma duna plana</font></font></i><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais e canal azul</font></font></b><div class="spoiler_text">       ,   .<br>
<br>
 ,          .      ,       (X  Y)   (Z)  .<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mrow><mo>(</mo><mi>N</mi><mo>)</mo></mrow></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>3</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.753ex" height="6.581ex" viewBox="0 -1662.7 10657.4 2833.4" role="img" focusable="false" aria-hidden="true" style="vertical-align: -2.719ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><g transform="translate(2603,756)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-65" x="298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6E" x="765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-67" x="1365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-74" x="1846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-68" x="2207" y="0"></use><g transform="translate(2950,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="1278" y="0"></use></g></g><g transform="translate(0,-833)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="6221" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1215" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="1535" y="0"></use><g transform="translate(2536,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1157" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="4030" y="0"></use><g transform="translate(5031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1040" y="583"></use></g></g></g></g><g transform="translate(7209,0)"><g transform="translate(0,756)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,-833)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1334" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="9377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="9767" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="10267" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mrow><mo>(</mo><mi>N</mi><mo>)</mo></mrow></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-72">\begin{align} length\left(N\right) &= 1 \\ \sqrt{X^2+Y^2+Z^2} &= 1 \\ \end{align}(3)</script></p><br>
  :<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup></mtd></mtr><mtr><mtd><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><msup><mi>X</mi><mn>2</mn></msup><mo>&amp;#x2212;</mo><msup><mi>Y</mi><mn>2</mn></msup></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><msqrt><mn>1</mn><mo>&amp;#x2212;</mo><msup><mi>X</mi><mn>2</mn></msup><mo>&amp;#x2212;</mo><msup><mi>Y</mi><mn>2</mn></msup></msqrt></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>4</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.763ex" height="13.438ex" viewBox="0 -3138.9 16689.5 5785.7" role="img" focusable="false" aria-hidden="true" style="vertical-align: -6.148ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><g transform="translate(0,2008)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="6221" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1215" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="1535" y="0"></use><g transform="translate(2536,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1157" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="4030" y="0"></use><g transform="translate(5031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1040" y="583"></use></g></g></g><g transform="translate(1000,600)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1215" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="1535" y="0"></use><g transform="translate(2536,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1157" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="4030" y="0"></use><g transform="translate(5031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1040" y="583"></use></g></g><g transform="translate(6032,-785)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1040" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-5A" x="6498" y="-2323"></use></g><g transform="translate(7209,0)"><g transform="translate(0,2008)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,600)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="707" y="583"></use></g></g><g transform="translate(0,-785)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="2056" y="0"></use><g transform="translate(3057,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1215" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="4593" y="0"></use><g transform="translate(5594,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1157" y="583"></use></g></g><g transform="translate(0,-2323)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="5532" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="722" y="0"></use><g transform="translate(1723,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1215" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="3259" y="0"></use><g transform="translate(4260,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="1157" y="583"></use></g></g></g></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-28" x="15410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-34" x="15799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-29" x="16300" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup></mtd></mtr><mtr><mtd><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn><mo>−</mo><msup><mi>X</mi><mn>2</mn></msup><mo>−</mo><msup><mi>Y</mi><mn>2</mn></msup></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><msqrt><mn>1</mn><mo>−</mo><msup><mi>X</mi><mn>2</mn></msup><mo>−</mo><msup><mi>Y</mi><mn>2</mn></msup></msqrt></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-73">\begin{align} \sqrt{X^2+Y^2+Z^2} &= 1 \\ X^2+Y^2+Z^2 &= 1^2 \\ Z^2 &= 1 - X^2-Y^2 \\ Z &= \sqrt{1 - X^2-Y^2} \end{align}(4)</script></p><br>
     <code>UnpackNormal</code>  Unity.     Shader API         .<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">inline</span> fixed3 <span class="hljs-title">UnpackNormal</span><span class="hljs-params">(fixed4 packednormal)</span>
</span>{
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(SHADER_API_GLES)  defined(SHADER_API_MOBILE)</span>
    <span class="hljs-keyword">return</span> packednormal.xyz * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span><font></font>
    fixed3 normal;<font></font>
    normal.xy = packednormal.wy * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;<font></font>
    normal.z = <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">1</span> - normal.x*normal.x - normal.y * normal.y);
    <span class="hljs-keyword">return</span> normal;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
}</code></pre><br>
  Unity      <strong>DXT5nm</strong>,        (<code>packednormal.xy</code>) -    (<code>packednormal.wy</code>).<br>
<br>
          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">Normal Map Compression</a>    polycount.</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por que os mapas normais parecem lilás?</font></font></b><div class="spoiler_text">     ,  ,      .<br>
<br>
 <em> </em>  <em> </em>  <strong> </strong>,           .  ,      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.866ex" viewBox="0 -863.1 2948.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="1446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1891" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5D" x="2670" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-74">\left[0, 0, 1\right]</script>        .<br>
<br>
     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.866ex" viewBox="0 -863.1 2948.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="1446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1891" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5D" x="2670" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-75">\left[0, 0, 1\right]</script>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0.5</mn><mo>,</mo><mn>0.5</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.468ex" height="2.866ex" viewBox="0 -863.1 4506.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-35" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="1279" y="0"></use><g transform="translate(1724,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-35" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="3004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="3449" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5D" x="4228" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0.5</mn><mo>,</mo><mn>0.5</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-76">\left[0.5, 0.5, 1\right]</script>,            RGB.<br>
<br>
         ;  ,         <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.866ex" viewBox="0 -863.1 2948.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="1446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="1891" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-5D" x="2670" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-77">\left[0, 0, 1\right]</script>.<br>
<br>
 ,         «».  ,   B       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>−</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-78">-1</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-79">+1</script>,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-80">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-81-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-81">+1</script>.             .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A inclinação pode ser calculada usando um </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produto escalar</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que é frequentemente usado na codificação de sombreador para calcular o grau de “paralelismo” de duas direções. </font><font style="vertical-align: inherit;">Nesse caso, tomamos a direção do normal da geometria (mostrada abaixo em azul) e comparamos com um vetor apontando para o céu (mostrado abaixo em amarelo). </font><font style="vertical-align: inherit;">O produto escalar desses dois vetores retorna valores próximos a</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-82-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-82">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando os vetores são quase paralelos (dunas planas) e próximos a </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-83-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-83">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando o ângulo entre eles é de 90 graus (dunas íngremes).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca1/41e/541/ca141e541313d8b0dcea3091bed240d5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, estamos diante do primeiro problema - dois vetores estão envolvidos nessa operação. O vetor normal obtido da função </font></font><code>surf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usando </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é expresso no </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Isso significa que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o sistema de coordenadas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usado para codificar a direção normal é relativo à geometria da superfície local (veja abaixo). Nós tocamos brevemente neste tópico na parte sobre a areia normal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c7/ac9/e27/8c7ac9e27aa358c7bd999859a3bf8777.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um vetor apontando para o céu é expresso no </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço do mundo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para obter o produto escalar correto, os dois vetores devem ser expressos no mesmo sistema de coordenadas. </font><font style="vertical-align: inherit;">Isso significa que precisamos transformar um deles para que ambos sejam expressos em um espaço. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, o Unity vem em socorro com uma função </font></font><code>WorldNormalVector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que nos permite transformar o vetor normal do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao </font><em><font style="vertical-align: inherit;">espaço</font></em><font style="vertical-align: inherit;"> do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mundo</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para usar esse recurso, precisamos alterar a estrutura </font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, para que ela fosse incluída </font></font><code>float3 worldNormal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>INTERNAL_DATA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Input</span>
{</span><font></font>
    ...<font></font>
<font></font>
    float3 worldNormal;<font></font>
    INTERNAL_DATA<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso é explicado em um artigo da documentação do Unity </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Writing Surface Shaders</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que diz:</font></font><br>
<br>
<blockquote><code>INTERNAL_DATA</code> —     ,       <code>o.Normal</code>.<br>
<br>
       ,  <code>WorldNormalVector (IN, o.Normal)</code>.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitas vezes, isso se torna a principal fonte de problemas ao escrever shaders de superfície. </font><font style="vertical-align: inherit;">Na verdade, o valor </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que está disponível na função </font></font><code>surf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">varia</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dependendo de como você está usando. </font><font style="vertical-align: inherit;">Se você estiver lendo apenas, </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contém </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o vetor normal do</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel atual no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço do mundo</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Se você alterar seu valor, ele </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estará no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você gravar </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas ainda precisar acessar o normal no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço do mundo</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (como no nosso caso), poderá usá-lo </font></font><code>WorldNormalVector (IN, o.Normal)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">No entanto, para isso, é necessário fazer uma pequena alteração na estrutura mostrada acima </font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que é INTERNAL_DATA?</font></font></b><div class="spoiler_text"> <code>INTERNAL_DATA</code>       Unity.<br>
<br>
   ,    ,    <code>WorldNormalVector</code>.   ,   <em> </em>,     <em> </em>.      <strong> </strong>  <strong> </strong> (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"></a>).<br>
<br>
     ,        3D-     3×3.  ,   ,  <strong>       (tangent to world matrix)</strong>,  Unity   <strong>TtoW</strong>.<br>
<br>
 <code>INTERNAL_DATA</code>   TtoW   <code>Input</code>.    ,        «Show generated code»  :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2de/d96/ed0/2ded96ed0cdbf606643b9c6ff179380b.png"></div><br>
 ,  <code>INTERNAL_DATA</code> —     ,        TtoW:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INTERNAL_DATA</span><font></font>
    half3 internalSurfaceTtoW0;<font></font>
    half3 internalSurfaceTtoW1;<font></font>
    half3 internalSurfaceTtoW2;</code></pre><br>
    <code>half3x3</code>,      <code>half3</code>.<br>
<br>
        <code>WorldNormalVector</code>,   ,       (  <em> </em>)   TtoW:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> WorldNormalVector(data,normal)</span><font></font>
    fixed3<font></font>
    (<font></font>
        dot(data.internalSurfaceTtoW0, normal),<font></font>
        dot(data.internalSurfaceTtoW1, normal),<font></font>
        dot(data.internalSurfaceTtoW2, normal)<font></font>
    )</code></pre><br>
         <code>mul</code>,    TtoW     ,   <em> </em>.<br>
<br>
  ,  :<br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-84-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="65.959ex" height="30.581ex" viewBox="0 -6829.4 28398.9 13166.7" role="img" focusable="false" aria-hidden="true" style="vertical-align: -14.513ex; margin-bottom: -0.206ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="779" y="0"></use></g></g></g></g><g transform="translate(4127,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="779" y="0"></use></g></g></g></g><g transform="translate(8266,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(12407,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="13296" y="0"></use><g transform="translate(13797,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3155"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-3D" x="17121" y="0"></use><g transform="translate(18177,0)"><g transform="translate(0,6748)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-11230.615606446823) scale(1,15.720755566246805)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-12353"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,4465)"><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(4128,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="5018" y="0"></use><g transform="translate(5518,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3155"></use></g></g></g><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(4128,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="5018" y="0"></use><g transform="translate(5518,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3155"></use></g></g><g transform="translate(0,-4466)"><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(4128,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-22C5" x="5018" y="0"></use><g transform="translate(5518,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-3155"></use></g></g></g></g></g><g transform="translate(9554,6748)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-11230.615606446823) scale(1,15.720755566246805)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgKiQAeMSKARcC_zpxEnW14Bvq0AQ#MJSZ4-23A6" x="0" y="-12353"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>⋅</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>⋅</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>⋅</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>⋅</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-84">\begin{equation*} \begin{bmatrix} ToW_{1,1} & ToW_{1,2} & ToW_{1,3} \\ ToW_{2,1} & ToW_{2,2} & ToW_{2,3} \\ ToW_{3,1} & ToW_{3,2} & ToW_{3,3} \end{bmatrix} \cdot \begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix}= \begin{bmatrix} \begin{bmatrix} ToW_{1,1} \\ ToW_{1,2} \\ ToW_{1,3} \end{bmatrix}\cdot\begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix} \\ \begin{bmatrix} ToW_{2,1} \\ ToW_{2,2} \\ ToW_{2,3} \end{bmatrix}\cdot\begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix} \\ \begin{bmatrix} ToW_{3,1} \\ ToW_{3,2} \\ ToW_{3,3} \end{bmatrix}\cdot\begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix} \end{bmatrix} \end{equation*}</script></math></p><br>
           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer">LearnOpenGL</a>.</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementação</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um trecho do código abaixo converte o normal da </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espaço do mundo</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e calcula a inclinação em relação </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à direção ascendente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Calculates normal in world space</span><font></font>
float3 N_WORLD = WorldNormalVector(IN, o.Normal);<font></font>
float3 UP_WORLD = float3(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<font></font>
<font></font>
<span class="hljs-comment">// Calculates "steepness"</span>
<span class="hljs-comment">// =&gt; 0: steep (90 degrees surface)</span>
<span class="hljs-comment">//  =&gt; 1: shallow (flat surface)</span>
<span class="hljs-keyword">float</span> steepness = saturate(dot(N_WORLD, UP_WORLD));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que calculamos a inclinação da duna, podemos usá-la para misturar os dois mapas normais. </font><font style="vertical-align: inherit;">Os dois mapas normais são amostrados, planos e frios (no código abaixo eles são chamados </font></font><code>_ShallowTex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>_SteepTex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Então eles são misturados com base no valor </font></font><code>steepness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cpp hljs">float2 uv = W.xz;<font></font>
<font></font>
<span class="hljs-comment">// [0,1]-&gt;[-1,+1]</span><font></font>
float3 shallow = UnpackNormal(tex2D(_ShallowTex, TRANSFORM_TEX(uv, _ShallowTex)));<font></font>
float3 steep   = UnpackNormal(tex2D(_SteepTex,   TRANSFORM_TEX(uv, _SteepTex  )));<font></font>
<font></font>
<span class="hljs-comment">// Steepness normal</span>
float3 S = normalerp(steep, shallow, steepness);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Conforme declarado na parte sobre normais de areia, é bastante difícil combinar mapas normais corretamente, e isso não pode ser feito </font></font><code>lerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nesse caso </font></font><code>slerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, é mais </font><font style="vertical-align: inherit;">correto usar </font><font style="vertical-align: inherit;">, mas uma função menos cara é chamada </font></font><code>normalerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mistura de ondas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se usarmos o código mostrado acima, os resultados podem nos decepcionar. </font><font style="vertical-align: inherit;">Isso ocorre porque as dunas têm muito pouca inclinação, o que leva a uma mistura excessiva das duas texturas normais. </font><font style="vertical-align: inherit;">Para corrigir isso, podemos aplicar uma transformação não linear à inclinação, o que aumentará a nitidez da mistura:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Steepness to blending</span>
steepness = <span class="hljs-built_in">pow</span>(steepness, _SteepnessSharpnessPower);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao misturar duas texturas, é frequentemente usado para controlar sua nitidez e contraste </font></font><code>pow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aprendemos como e por que ele funciona no meu tutorial </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderização com base física</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo vemos dois gradientes. </font><font style="vertical-align: inherit;">A parte superior mostra as cores do preto ao branco, interpoladas linearmente ao longo do eixo X com </font></font><code>c = uv.x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Na parte inferior, o mesmo gradiente é representado por </font></font><code>c = pow(uv.x*1.5)*3.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae4/db9/84c/ae4db984c649c8ae5357b71357ef208e.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf0/214/1b2/bf02141b275e8ae5596f7477016f5cc8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É fácil perceber, o que </font></font><code>pow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permite criar uma transição muito mais nítida entre preto e branco. </font><font style="vertical-align: inherit;">Quando trabalhamos com texturas, isso reduz sua sobreposição, criando bordas mais nítidas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direção das dunas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo o que fizemos anteriormente funciona perfeitamente. </font><font style="vertical-align: inherit;">Mas precisamos resolver outro último problema. </font><font style="vertical-align: inherit;">As ondas variam com a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inclinação</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas não com a </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direção</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como mencionado acima, as ondas geralmente não são simétricas devido ao fato de o vento soprar principalmente em uma direção. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para tornar as ondas ainda mais realistas, precisamos adicionar mais dois mapas normais (veja a tabela abaixo). </font><font style="vertical-align: inherit;">Eles podem ser misturados dependendo do paralelismo da duna do eixo X ou do eixo Z.</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody>
<tr>
<td></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Legal</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plano</font></font></strong></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">legal x</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x plano</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z legal</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z plano</font></font></td>
</tr>
</tbody>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui precisamos implementar o cálculo do paralelismo da duna em relação ao eixo Z. Isso pode ser feito de forma semelhante ao cálculo da inclinação, mas </font></font><code>float3 UP_WORLD = float3(0, 1, 0);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pode ser usado em seu </font><font style="vertical-align: inherit;">lugar </font></font><code>float3 Z_WORLD = float3(0, 0, 1);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este último passo deixarei para você. </font><font style="vertical-align: inherit;">Se você tiver algum problema, no final deste tutorial, há um link para baixar o pacote completo do Unity.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusão</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta é a última parte de uma série de tutoriais sobre renderização de areia do Journey. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, mostramos até onde conseguimos avançar nesta série:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/509/4c1/65b/5094c165b5f2e1ba10696fec1641482c.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/828/9b4/997/8289b49971bbe0046845f71284790124.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes e depois</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, quero agradecer a você por ler este tutorial bastante longo até o fim. </font><font style="vertical-align: inherit;">Espero que você tenha gostado de explorar e recriar esse shader.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agradecimentos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O videogame </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> foi desenvolvido pela </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thatgamecompany</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e publicado pela </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sony Computer Entertainment</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Está disponível para PC ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epic Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) e PS4 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modelos de dunas em 3D, planos de fundo e opções de iluminação foram criados por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jiadi Deng</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um modelo 3D do personagem Journey foi encontrado no fórum do FacePunch (agora fechado).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pacote Unity</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você deseja recriar esse efeito, o pacote completo do Unity está disponível para download no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patreon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tem tudo o que você precisa, desde sombreadores a modelos 3D.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt487154/">https://habr.com/ru/post/pt487154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487136/index.html">Código Limpo para TypeScript - Parte 3</a></li>
<li><a href="../pt487138/index.html">Teoria dos grafos no aprendizado de máquina para os menores</a></li>
<li><a href="../pt487140/index.html">Salvando a lógica de negócios no Swift Combine. Parte 1</a></li>
<li><a href="../pt487144/index.html">Teste a câmera panorâmica Jabra Panacast com um ângulo de visão de 180 ° (vídeo)</a></li>
<li><a href="../pt487146/index.html">ResizeObserver - uma nova ferramenta poderosa para trabalhar com adaptabilidade</a></li>
<li><a href="../pt487162/index.html">Os empresários e empresas modernas precisam de privacidade?</a></li>
<li><a href="../pt487168/index.html">Interface do Avô Tóxico Contos “Lixo Instrumental” (s1 e2)</a></li>
<li><a href="../pt487172/index.html">Curso aberto "Deep Learning in PNL" dos criadores do DeepPavlov com base no curso cs224n</a></li>
<li><a href="../pt487174/index.html">Eleve sua instância do Webogram com proxy via nginx</a></li>
<li><a href="../pt487176/index.html">Segure o COVID-19. Tudo sobre filtragem de ar pandêmica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>