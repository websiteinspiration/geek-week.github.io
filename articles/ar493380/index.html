<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›‘ï¸ ğŸ™‡ğŸ¼ ğŸ» Ø¬ÙˆÙ„ÙŠØ§ ÙˆØ§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ© ğŸ§‘ğŸ¿ ğŸ‘¨ğŸ¿ ğŸ‘©ğŸ»â€ğŸŒ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ù†Ù‚Ø¯Ù… ÙŠØ§Ùˆ ( Ù…Ù‚Ø§Ù„Ø© ) ØŒ Ø­Ø²Ù…Ø© Ø¬ÙˆÙ„ÙŠØ§ Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± Ù„Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø£Ø¨Ø­Ø§Ø« Ø§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ©. ÙŠØ£ØªÙŠ Ø§Ø³Ù… ÙŠØ§Ùˆ Ù…Ù† Ø£ÙˆÙ„ Ø­Ø±Ù ØµÙŠÙ†ÙŠ ÙŠØ¹Ù†ÙŠ Ø§Ù„ÙˆØ­Ø¯Ø© (å¹º æ­£).
 


 

 Y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ø¬ÙˆÙ„ÙŠØ§ ÙˆØ§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ©</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493380/"><p><img src="https://habrastorage.org/webt/k3/er/5f/k3er5fawrdg-ut5fw9joizgsuja.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù†Ù‚Ø¯Ù… </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ÙŠØ§Ùˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ù…Ù‚Ø§Ù„Ø©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ØŒ Ø­Ø²Ù…Ø© Ø¬ÙˆÙ„ÙŠØ§ Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø± Ù„Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙÙŠ Ø£Ø¨Ø­Ø§Ø« Ø§Ù„Ø­ÙˆØ³Ø¨Ø© Ø§Ù„ÙƒÙ…ÙˆÙ…ÙŠØ©. </font><font style="vertical-align: inherit;">ÙŠØ£ØªÙŠ Ø§Ø³Ù… ÙŠØ§Ùˆ Ù…Ù† Ø£ÙˆÙ„ Ø­Ø±Ù ØµÙŠÙ†ÙŠ ÙŠØ¹Ù†ÙŠ Ø§Ù„ÙˆØ­Ø¯Ø© (å¹º æ­£).</font></font></p><a name="habracut"></a><br>
<p><img src="https://habrastorage.org/webt/2r/zl/tn/2rzltnjc0i8x49o7oc1vycvijru.png"></p><br>
<p>   Yao?  ,    ,    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">  Julia</a>.    , :</p><br>
<h3 id="differenciruemost"></h3><br>
<p>  Julia (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">  Zygote</a>),   ,       ,  .          ,  ,    ..  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>    !</p><br>
<p>   (AD)        :           -      .     AD    ,     â€“ ,        .</p><br>
<p> Yao        <strong>-</strong>    (AD),      .         .     AD        </p><br>
<pre><code class="julia hljs">n, d = <span class="hljs-number">16</span>, <span class="hljs-number">100</span><font></font>
circuit = dispatch!(variational_circuit(n, d),:random);<font></font>
h = heisenberg(n)</code></pre><br>
<pre><code class="julia hljs"><span class="hljs-meta">@time</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:<span class="hljs-number">100</span><font></font>
     _, grad = expect'(h, zero_state(n) =&gt; circuit)<font></font>
     dispatch!(-, circuit, <span class="hljs-number">1e-1</span> * grad)<font></font>
     println(<span class="hljs-string">"Step <span class="hljs-variable">$i</span>, energy = <span class="hljs-subst">$(real.(expect(h, zero_state(n)</span>=&gt;circuit)))"</span>)
<span class="hljs-keyword">end</span></code></pre><br>
<p>   100-   (4816 ),     16-  .         AD ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Zygote</a>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">  ()</a>.    ,      .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">  </a>.</p><br>
<h3 id="rasshiryaemost"></h3><br>
<p>        .            .  ,         ,             .</p><br>
<p>-,     -   (   , QBIR)           .     Yao   ,     ,   . ,     ,     ,     CUDA  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">CuYao</a>     ,     Julia   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">CUDAnative</a>.       Yao      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">SymEngine</a>,        .</p><br>
<p>-,      Julia,   Yao    .  Yao (  CUDA- CuYao) â€”    -,     .                .</p><br>
<h3 id="effektivnost"></h3><br>
<p>      ,    ,     .     ,    ,          .</p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">    </a>    ,    , Yao         .</p><br>
<p><img src="https://habrastorage.org/webt/zw/qi/dz/zwqidz-eswfvfjt1jz-98o_2dty.png"><br>
<em>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"></a>.</em></p><br>
<h2 id="chto-dalshe"> ?</h2><br>
<p>       ,    .<br>
       (, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">OpenQASM</a>),     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">YaoIR</a>), ,   (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"></a>)   !</p><br>
<p>  -          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a>,          ,   .      , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">  </a>,         !</p><br>
<blockquote><em>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">   Julia</a>.</em></blockquote><p>          .</p><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><pre><code class="julia hljs">] dev https://github.com/QuantumBFS/QuAlgorithmZoo.jl.git</code></pre><br>
<pre><code class="julia hljs"><span class="hljs-keyword">using</span> Pkg<font></font>
pkgs = [<span class="hljs-string">"Plots"</span>, <span class="hljs-string">"Flux"</span>, <span class="hljs-string">"Yao"</span>, <span class="hljs-string">"YaoExtensions"</span>, <span class="hljs-string">"StatsBase"</span>, <span class="hljs-string">"BitBasis"</span>, <span class="hljs-string">"FFTW"</span>, <span class="hljs-string">"SymEngine"</span>]<font></font>
<font></font>
<span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> pkgs<font></font>
    Pkg.add(p)<font></font>
<span class="hljs-keyword">end</span><font></font>
<font></font>
<span class="hljs-keyword">using</span> Yao, YaoExtensions, Plots, StatsBase</code></pre></div></div><br>
<h3 id="gotovim-sostoyanie-grinbergera-horna-caylingera">  --</h3><br>
<p><img src="https://habrastorage.org/webt/is/ba/po/isbapowrambifahnuvclwvwte6o.png"></p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">GHZ</a> â€”      ,        (   ). ,      :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a> â€”         </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> :  2</a> â€”         (   )</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">  </a> â€”   ,     ,       Q#</li>
</ul><br>
<p>   :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">    </a> â€”        . -     ,     ,         ,   , .         : , ,  â€” ,      .</li>
<li><em>    </em> . , .  â€”   .     ,  , ,  ,          .   ,   ,  , ,     ,      ,    -   .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">   .   . . </a> â€”         (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">  </a>).</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Quirk</a> â€”    </li>
</ul><br>
<p>     :     ,      ,     .   ,      IBM   ,   ,    ,           .</p><br>
<p>,    ,      ,       !   ,   -  :</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>G</mi><mi mathvariant=&quot;normal&quot;>H</mi><mi mathvariant=&quot;normal&quot;>Z</mi></mrow><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mfrac><mn>1</mn><msqrt><mi>d</mi></msqrt></mfrac></mrow><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>i</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;#x2297;</mo><mo>&amp;#x22EF;</mo><mo>&amp;#x2297;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>i</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mfrac><mn>1</mn><msqrt><mi>d</mi></msqrt></mfrac></mrow><mo stretchy=&quot;false&quot;>(</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>0</mn><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;#x2297;</mo><mo>&amp;#x22EF;</mo><mo>&amp;#x2297;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>0</mn><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>+</mo><mo>&amp;#x22EF;</mo><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>d</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>&amp;#x2297;</mo><mo>&amp;#x22EF;</mo><mo>&amp;#x2297;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>d</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="83.943ex" height="7.259ex" viewBox="0 -1831.9 36141.9 3125.5" role="img" focusable="false" style="vertical-align: -3.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-47" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-48" x="785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-5A" x="1536" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="2426" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="3093" y="0"></use><g transform="translate(4149,0)"><g transform="translate(120,0)"><rect stroke="none" width="1477" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="488" y="676"></use><g transform="translate(60,-898)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-221A" x="0" y="61"></use><rect stroke="none" width="523" height="60" x="833" y="802"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-64" x="833" y="0"></use></g></g></g><g transform="translate(6033,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="1124" y="0"></use></g><g transform="translate(84,1151)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-64" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2212" x="523" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="1302" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="7644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-69" x="7922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="8268" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2297" x="8880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-22EF" x="9880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2297" x="11275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="12276" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-69" x="12554" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="12900" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="13567" y="0"></use><g transform="translate(14623,0)"><g transform="translate(120,0)"><rect stroke="none" width="1477" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="488" y="676"></use><g transform="translate(60,-898)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-221A" x="0" y="61"></use><rect stroke="none" width="523" height="60" x="833" y="802"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-64" x="833" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-28" x="16340" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="16730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="17008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="17509" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2297" x="18121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-22EF" x="19121" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2297" x="20516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="21517" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="21795" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="22296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2B" x="22907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-22EF" x="23908" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2B" x="25303" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="26304" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-64" x="26582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2212" x="27328" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="28329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="28829" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2297" x="29441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-22EF" x="30442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2297" x="31836" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-7C" x="32837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-64" x="33115" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2212" x="33861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="34862" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="35362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-29" x="35752" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi mathvariant="normal">G</mi><mi mathvariant="normal">H</mi><mi mathvariant="normal">Z</mi></mrow><mo fence="false" stretchy="false">âŸ©</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mfrac><mn>1</mn><msqrt><mi>d</mi></msqrt></mfrac></mrow><munderover><mo>âˆ‘</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>d</mi><mo>âˆ’</mo><mn>1</mn></mrow></munderover><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>i</mi><mo fence="false" stretchy="false">âŸ©</mo><mo>âŠ—</mo><mo>â‹¯</mo><mo>âŠ—</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>i</mi><mo fence="false" stretchy="false">âŸ©</mo><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mfrac><mn>1</mn><msqrt><mi>d</mi></msqrt></mfrac></mrow><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>0</mn><mo fence="false" stretchy="false">âŸ©</mo><mo>âŠ—</mo><mo>â‹¯</mo><mo>âŠ—</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>0</mn><mo fence="false" stretchy="false">âŸ©</mo><mo>+</mo><mo>â‹¯</mo><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>d</mi><mo>âˆ’</mo><mn>1</mn><mo fence="false" stretchy="false">âŸ©</mo><mo>âŠ—</mo><mo>â‹¯</mo><mo>âŠ—</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>d</mi><mo>âˆ’</mo><mn>1</mn><mo fence="false" stretchy="false">âŸ©</mo><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> |\mathrm {GHZ} \rangle ={\frac {1}{\sqrt {d}}}\sum _{i=0}^{d-1}|i\rangle \otimes \cdots \otimes |i\rangle ={\frac {1}{\sqrt {d}}}(|0\rangle \otimes \cdots \otimes |0\rangle +\cdots +|d-1\rangle \otimes \cdots \otimes |d-1\rangle ) </script></p><br>
<p>     </p><br>
<p><img src="https://habrastorage.org/webt/c0/lr/2_/c0lr2_adoy21rrvfzfkkzy_ycom.png"></p><br>
<p>   Yao:</p><br>
<pre><code class="julia hljs">circuit = chain(
    <span class="hljs-number">4</span>,<font></font>
    put(<span class="hljs-number">1</span>=&gt;X),<font></font>
    repeat(H, <span class="hljs-number">2</span>:<span class="hljs-number">4</span>),<font></font>
    control(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>=&gt;X),<font></font>
    control(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>=&gt;X),<font></font>
    control(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>=&gt;X),<font></font>
    control(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>=&gt;X),<font></font>
    repeat(H, <span class="hljs-number">1</span>:<span class="hljs-number">4</span>),<font></font>
)</code></pre><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="julia hljs">nqubits: <span class="hljs-number">4</span><font></font>
chain<font></font>
â”œâ”€ put on (<span class="hljs-number">1</span>)<font></font>
â”‚  â””â”€ X gate<font></font>
â”œâ”€ repeat on (<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<font></font>
â”‚  â””â”€ H gate<font></font>
â”œâ”€ control(<span class="hljs-number">2</span>)<font></font>
â”‚  â””â”€ (<span class="hljs-number">1</span>,) X gate<font></font>
â”œâ”€ control(<span class="hljs-number">4</span>)<font></font>
â”‚  â””â”€ (<span class="hljs-number">3</span>,) X gate<font></font>
â”œâ”€ control(<span class="hljs-number">3</span>)<font></font>
â”‚  â””â”€ (<span class="hljs-number">1</span>,) X gate<font></font>
â”œâ”€ control(<span class="hljs-number">4</span>)<font></font>
â”‚  â””â”€ (<span class="hljs-number">3</span>,) X gate<font></font>
â””â”€ repeat on (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<font></font>
   â””â”€ H gate</code></pre></div></div><br>
<p>   ,   :      X,   not-gate (   ),    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">cnot-</a>.<br>
         (,     )</p><br>
<pre><code class="julia hljs">results = ArrayReg(<span class="hljs-string">bit"0101"</span>) |&gt; circuit |&gt; r-&gt;measure(r, nshots=<span class="hljs-number">1000</span>)<font></font>
<font></font>
hist = fit(Histogram, <span class="hljs-built_in">Int</span>.(results), <span class="hljs-number">0</span>:<span class="hljs-number">16</span>)<font></font>
bar(hist.edges[<span class="hljs-number">1</span>] .- <span class="hljs-number">0.5</span>, hist.weights, legend=:none)</code></pre><br>
<p><img src="https://habrastorage.org/webt/yl/mx/ft/ylmxftxaohtqevqxykf4yajixi8.png"></p><br>
<p>  , -   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2223;</mo><mn>0100</mn><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.201ex" height="2.634ex" viewBox="0 -809.3 2670 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2223" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="2280" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">âˆ£</mo><mn>0100</mn><mo fence="false" stretchy="false">âŸ©</mo></math></span></span><script type="math/tex" id="MathJax-Element-2">\mid 0100 \rangle</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2223;</mo><mn>1011</mn><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.201ex" height="2.634ex" viewBox="0 -809.3 2670 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2223" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="2280" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">âˆ£</mo><mn>1011</mn><mo fence="false" stretchy="false">âŸ©</mo></math></span></span><script type="math/tex" id="MathJax-Element-3">\mid 1011 \rangle</script>.</p><br>
<h3 id="kvantovoe-preobrazovanie-fure">  </h3><br>
<p>        â€”  :</p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>N</mi><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup><mspace linebreak=&quot;newline&quot; /><mi>Q</mi><mi>F</mi><mi>T</mi><mo>&amp;#x2223;</mo><mi>x</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo><mo>=</mo><mfrac><mrow><mo stretchy=&quot;false&quot;>&amp;#x2225;</mo><mi>x</mi><mo stretchy=&quot;false&quot;>&amp;#x2225;</mo></mrow><msup><mn>2</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn></mrow></msup></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>y</mi><mo>=</mo><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msup><mn>2</mn><mi>n</mi></msup><mo>&amp;#x2212;</mo><mn>1</mn></mrow></munderover><mi>exp</mi><mo>&amp;#x2061;</mo><mrow><mo>(</mo><mrow><mn>2</mn><mi>&amp;#x03C0;</mi><mi>i</mi><mfrac><mrow><mi>x</mi><mi>y</mi></mrow><mi>N</mi></mfrac></mrow><mo>)</mo></mrow><mo>&amp;#x2223;</mo><mi>y</mi><mo fence=&quot;false&quot; stretchy=&quot;false&quot;>&amp;#x27E9;</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="97.25ex" height="10.259ex" viewBox="0 -809.3 41871.4 4417.2" role="img" focusable="false" style="vertical-align: -8.38ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(19311,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="1166" y="0"></use><g transform="translate(2222,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-6E" x="707" y="583"></use></g></g><g transform="translate(12572,-2184)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-51" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-46" x="791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-54" x="1541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2223" x="2523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-78" x="3079" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="3652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="4319" y="0"></use><g transform="translate(5097,0)"><g transform="translate(397,0)"><rect stroke="none" width="1852" height="60" x="0" y="220"></rect><g transform="translate(139,725)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2225" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-78" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2225" x="1073" y="0"></use></g><g transform="translate(60,-900)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="0" y="0"></use><g transform="translate(500,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2F" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="1101" y="0"></use></g></g></g></g><g transform="translate(7635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJSZ2-2211" x="92" y="0"></use><g transform="translate(186,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="497" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="1276" y="0"></use></g><g transform="translate(0,1151)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-6E" x="707" y="557"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2212" x="1025" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="1803" y="0"></use></g></g><g transform="translate(9431,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-65"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-78" x="444" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-70" x="973" y="0"></use></g><g transform="translate(10960,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJSZ2-28"></use><g transform="translate(597,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-3C0" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-69" x="1074" y="0"></use><g transform="translate(1419,0)"><g transform="translate(120,0)"><rect stroke="none" width="1190" height="60" x="0" y="220"></rect><g transform="translate(60,680)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-79" x="572" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-4E" x="150" y="-686"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJSZ2-29" x="3447" y="-1"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2223" x="15282" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-79" x="15839" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-27E9" x="16336" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>N</mi><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup><mspace linebreak="newline"></mspace><mi>Q</mi><mi>F</mi><mi>T</mi><mo>âˆ£</mo><mi>x</mi><mo fence="false" stretchy="false">âŸ©</mo><mo>=</mo><mfrac><mrow><mo stretchy="false">âˆ¥</mo><mi>x</mi><mo stretchy="false">âˆ¥</mo></mrow><msup><mn>2</mn><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn></mrow></msup></mfrac><munderover><mo>âˆ‘</mo><mrow class="MJX-TeXAtom-ORD"><mi>y</mi><mo>=</mo><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><msup><mn>2</mn><mi>n</mi></msup><mo>âˆ’</mo><mn>1</mn></mrow></munderover><mi>exp</mi><mo>â¡</mo><mrow><mo>(</mo><mrow><mn>2</mn><mi>Ï€</mi><mi>i</mi><mfrac><mrow><mi>x</mi><mi>y</mi></mrow><mi>N</mi></mfrac></mrow><mo>)</mo></mrow><mo>âˆ£</mo><mi>y</mi><mo fence="false" stretchy="false">âŸ©</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> N = 2^n \\ QFT\mid x \rangle = \frac{\parallel x \parallel }{2^{n/2}}\sum_{y=0}^{2^n-1} \exp\left( 2\pi i \frac{xy}{N} \right) \mid y \rangle </script></p><br>
<p><img src="https://habrastorage.org/webt/oz/ny/gy/oznygy_q7r9tw2prrhljijjesei.png"><br>
<em>   </em></p><br>
<p></p><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>R</mi><mi>k</mi></msub><mo>=</mo><mrow><mo>(</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mi>&amp;#x03C0;</mi><mi>i</mi></mrow></msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><msup><mn>2</mn><mi>k</mi></msup></mtd></mtr></mtable><mo>)</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.661ex" height="6.259ex" viewBox="0 -1616.6 8895.9 2695" role="img" focusable="false" style="vertical-align: -2.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-6B" x="1074" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-3D" x="1506" y="0"></use><g transform="translate(2562,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJSZ3-28"></use><g transform="translate(903,0)"><g transform="translate(-14,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-31" x="0" y="718"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="0" y="-768"></use></g><g transform="translate(1486,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-30" x="1269" y="718"></use><g transform="translate(0,-768)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,362)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-3C0" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-69" x="1074" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-2F" x="1570" y="0"></use><g transform="translate(2070,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-6B" x="707" y="557"></use></g></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJSZ3-29" x="5597" y="-1"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>R</mi><mi>k</mi></msub><mo>=</mo><mrow><mo>(</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mi>Ï€</mi><mi>i</mi></mrow></msup><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><msup><mn>2</mn><mi>k</mi></msup></mtd></mtr></mtable><mo>)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> R_k = \begin{pmatrix} 1 & 0\\ 0 & e^{2\pi i}/2^k \end{pmatrix} </script></p><br>
<p>,    .</p><br>
<p>    (QFT)   ,     :</p><br>
<p><img src="https://habrastorage.org/webt/om/tr/jg/omtrjgxyd7quywsayj_vsa7i3ow.png"><br>
<em>  </em></p><br>
<p>   <code></code>   <code>B</code> (<code>A</code>   ):</p><br>
<pre><code class="julia hljs">A(i, j) = control(i, j=&gt;shift(<span class="hljs-number">2</span><span class="hljs-literal">Ï€</span>/(<span class="hljs-number">1</span>&lt;&lt;(i-j+<span class="hljs-number">1</span>))))<font></font>
R4 = A(<span class="hljs-number">4</span>, <span class="hljs-number">1</span>)<font></font>
<font></font>
<span class="hljs-comment"># (n -&gt; control(n, 4, 1 =&gt; shift(0.39269908169872414)))</span></code></pre><br>
<p> ,    ,         <code>mat</code>.     <code>A</code>     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mn>4</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.818ex" height="2.259ex" viewBox="0 -755.5 1213.4 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/493380/&amp;usg=ALkJrhiQghxxpXzL15J4U1DFYB0qn3ia1g#MJMAIN-34" x="1074" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>R</mi><mn>4</mn></msub></math></span></span><script type="math/tex" id="MathJax-Element-6">R_4</script>:</p><br>
<pre><code class="julia hljs">R4(<span class="hljs-number">5</span>)<font></font>
<font></font>
<span class="hljs-comment">#nqubits: 5</span>
<span class="hljs-comment">#control(4)</span>
<span class="hljs-comment">#â””â”€ (1,) shift(0.39269908169872414)</span></code></pre><br>
<pre><code class="julia hljs">mat(R4(<span class="hljs-number">5</span>))</code></pre><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><pre><code class="julia hljs"><span class="hljs-number">32</span>Ã—<span class="hljs-number">32</span> LinearAlgebra.<span class="hljs-built_in">Diagonal</span>{<span class="hljs-built_in">Complex</span>{<span class="hljs-built_in">Float64</span>},<span class="hljs-built_in">Array</span>{<span class="hljs-built_in">Complex</span>{<span class="hljs-built_in">Float64</span>},<span class="hljs-number">1</span>}}:
 <span class="hljs-number">1.0</span>+<span class="hljs-number">0.0</span><span class="hljs-literal">im</span>      â‹…          â‹…          â‹…      â€¦      â‹…              â‹…         <font></font>
     â‹…      <span class="hljs-number">1.0</span>+<span class="hljs-number">0.0</span><span class="hljs-literal">im</span>      â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…      <span class="hljs-number">1.0</span>+<span class="hljs-number">0.0</span><span class="hljs-literal">im</span>      â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…      <span class="hljs-number">1.0</span>+<span class="hljs-number">0.0</span><span class="hljs-literal">im</span>         â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…      â€¦      â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…      â€¦      â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
    â‹®                                        â‹±     â‹®                         <font></font>
     â‹…          â‹…          â‹…          â‹…      â€¦      â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…      â€¦      â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…              â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…      â€¦  <span class="hljs-number">1.0</span>+<span class="hljs-number">0.0</span><span class="hljs-literal">im</span>          â‹…         <font></font>
     â‹…          â‹…          â‹…          â‹…             â‹…      <span class="hljs-number">0.92388</span>+<span class="hljs-number">0.382683</span><span class="hljs-literal">im</span></code></pre></div></div><br>
<p>                 <em>i</em>- ,   <em>i</em>-  <code>B</code>.   ,        <em>n</em>,        <em>k</em>-   .</p><br>
<p>   ,    <code>B</code> </p><br>
<pre><code class="julia hljs">B(n, k) = chain(n, j==k ? put(k=&gt;H) : A(j, k) <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> k:n)<font></font>
<font></font>
qft(n) = chain(B(n, k) <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:n)<font></font>
qft(<span class="hljs-number">4</span>)</code></pre><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="julia hljs">nqubits: <span class="hljs-number">4</span><font></font>
chain<font></font>
â”œâ”€ chain<font></font>
â”‚  â”œâ”€ put on (<span class="hljs-number">1</span>)<font></font>
â”‚  â”‚  â””â”€ H<font></font>
â”‚  â”œâ”€ control(<span class="hljs-number">2</span>)<font></font>
â”‚  â”‚  â””â”€ (<span class="hljs-number">1</span>,) shift(<span class="hljs-number">1.5707963267948966</span>)<font></font>
â”‚  â”œâ”€ control(<span class="hljs-number">3</span>)<font></font>
â”‚  â”‚  â””â”€ (<span class="hljs-number">1</span>,) shift(<span class="hljs-number">0.7853981633974483</span>)<font></font>
â”‚  â””â”€ control(<span class="hljs-number">4</span>)<font></font>
â”‚     â””â”€ (<span class="hljs-number">1</span>,) shift(<span class="hljs-number">0.39269908169872414</span>)<font></font>
â”œâ”€ chain<font></font>
â”‚  â”œâ”€ put on (<span class="hljs-number">2</span>)<font></font>
â”‚  â”‚  â””â”€ H<font></font>
â”‚  â”œâ”€ control(<span class="hljs-number">3</span>)<font></font>
â”‚  â”‚  â””â”€ (<span class="hljs-number">2</span>,) shift(<span class="hljs-number">1.5707963267948966</span>)<font></font>
â”‚  â””â”€ control(<span class="hljs-number">4</span>)<font></font>
â”‚     â””â”€ (<span class="hljs-number">2</span>,) shift(<span class="hljs-number">0.7853981633974483</span>)<font></font>
â”œâ”€ chain<font></font>
â”‚  â”œâ”€ put on (<span class="hljs-number">3</span>)<font></font>
â”‚  â”‚  â””â”€ H<font></font>
â”‚  â””â”€ control(<span class="hljs-number">4</span>)<font></font>
â”‚     â””â”€ (<span class="hljs-number">3</span>,) shift(<span class="hljs-number">1.5707963267948966</span>)<font></font>
â””â”€ chain<font></font>
   â””â”€ put on (<span class="hljs-number">4</span>)<font></font>
      â””â”€ H</code></pre></div></div><br>
<p>  ,    <code>A</code>  <code>B</code> ,    ,            ,        ,         .</p><br>
<p><img src="https://habrastorage.org/webt/ua/79/fk/ua79fknpifqnhmtgklg4mrdk3_g.png"></p><br>
<p>-,       <code>PrimitiveBlock</code>,        <code>QFT</code>.      ,      <code>CompositeBlock</code>.</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">struct</span> QFT{N} &lt;: PrimitiveBlock{N} <span class="hljs-keyword">end</span>
QFT(n::<span class="hljs-built_in">Int</span>) = QFT{n}()
<span class="hljs-comment">#  </span>
circuit2(::QFT{N}) <span class="hljs-keyword">where</span> N = qft(N)
<span class="hljs-comment">#     </span>
YaoBlocks.mat(::<span class="hljs-built_in">Type</span>{T}, x::QFT) <span class="hljs-keyword">where</span> T = mat(T, circuit2(x))<font></font>
YaoBlocks.print_block(io::<span class="hljs-built_in">IO</span>, x::QFT{N}) <span class="hljs-keyword">where</span> N = print(io, <span class="hljs-string">"QFT(<span class="hljs-variable">$N</span>)"</span>)<font></font>
<font></font>
<span class="hljs-keyword">using</span> FFTW, LinearAlgebra<font></font>
<font></font>
<span class="hljs-keyword">function</span> YaoBlocks.apply!(r::ArrayReg, x::QFT)<font></font>
    Î± = sqrt(length(statevec(r)))<font></font>
    invorder!(r)<font></font>
    lmul!(Î±, ifft!(statevec(r)))<font></font>
    <span class="hljs-keyword">return</span> r
<span class="hljs-keyword">end</span></code></pre><br>
<p>   <code>print_block</code>     ,     QFT      .       ,  ,    </p><br>
<pre><code class="julia hljs">r = rand_state(<span class="hljs-number">5</span>)<font></font>
r1 = r |&gt; copy |&gt; QFT(<span class="hljs-number">5</span>)<font></font>
r2 = r |&gt; copy |&gt; circuit2(QFT(<span class="hljs-number">5</span>))<font></font>
r1 â‰ˆ r2<font></font>
<font></font>
<span class="hljs-comment"># true</span></code></pre><br>
<p><img src="https://habrastorage.org/webt/6t/y9/wh/6ty9whppyckdormd_olkszwlc8e.png"></p><br>
<h3 id="algoritm-shora"> </h3><br>
<p>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a>,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a>.   </p><br>
<p><img src="https://habrastorage.org/webt/vf/x6/yl/vfx6ylz0pviwv9puagyvdhl0a2q.png"></p><br>
<p>          .   , ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a> (        ).      <code>L</code>     . ,  <code>ver</code>    <code>Val(:quantum)</code>  <code>Val(:classical)</code>,       .</p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="julia hljs"><span class="hljs-keyword">using</span> Yao, BitBasis
<span class="hljs-keyword">using</span> YaoExtensions: KMod, QFTCircuit
<span class="hljs-keyword">using</span> QuAlgorithmZoo: NumberTheory<font></font>
<font></font>
<span class="hljs-keyword">function</span> shor(L::<span class="hljs-built_in">Int</span>, ver=<span class="hljs-built_in">Val</span>(:quantum); maxtry=<span class="hljs-number">100</span>)<font></font>
    L%<span class="hljs-number">2</span> == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">return</span> <span class="hljs-number">2</span><font></font>
<font></font>
    <span class="hljs-comment"># find short cut solutions like `a^b`</span><font></font>
    res = NumberTheory.factor_a_power_b(L)<font></font>
    res !== <span class="hljs-literal">nothing</span> &amp;&amp; <span class="hljs-keyword">return</span> res[<span class="hljs-number">1</span>]<font></font>
<font></font>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>:maxtry
        <span class="hljs-comment"># step 1</span><font></font>
        x = NumberTheory.rand_primeto(L)<font></font>
<font></font>
        <span class="hljs-comment"># step 2</span><font></font>
        r = get_order(ver, x, L; )<font></font>
        <span class="hljs-keyword">if</span> r%<span class="hljs-number">2</span> == <span class="hljs-number">0</span> &amp;&amp; powermod(x, rÃ·<span class="hljs-number">2</span>, L) != L-<span class="hljs-number">1</span>
            <span class="hljs-comment"># step 3</span>
            f1, f2 = gcd(powermod(x, rÃ·<span class="hljs-number">2</span>, L)-<span class="hljs-number">1</span>, L), gcd(powermod(x, rÃ·<span class="hljs-number">2</span>, L)+<span class="hljs-number">1</span>, L)
            <span class="hljs-keyword">if</span> f1!=<span class="hljs-number">1</span>
                <span class="hljs-keyword">return</span> f1
            <span class="hljs-keyword">elseif</span> f2!=<span class="hljs-number">1</span>
                <span class="hljs-keyword">return</span> f2
            <span class="hljs-keyword">else</span>
                error(<span class="hljs-string">"Algorithm Fail!"</span>)
            <span class="hljs-keyword">end</span>
        <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span></code></pre></div></div><br>
<p>   ,       :</p><br>
<ol>
<li><p>   ,      <code>L</code>, . . <code>gcd(x, L) == 1</code>.    .</p><br>
</li>
<li><p>  <em>x</em>, . .   <em>r</em>,  <code>mod(x^r, L) == 1</code>.  <em>r</em> ,  <em>x^(rÃ·2)</em> , ,     .  ,   <code>L-1 (mod L)</code>.</p><br>
</li>
<li><p>  5.2  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a>,<br>
-  <code>gcd(x^(rÃ·2)-1, L)</code>  <code>gcd (x^(rÃ·2)+1, L)</code>    (!=1)  L.  ,  <code>powermod(x, rÃ·2, L)</code>    -1,   1,       <code>r/2</code>    .</p><br>
</li>
</ol><br>
<p><img src="https://habrastorage.org/webt/hl/p0/o7/hlp0o7uinhxgathiw2iqewv59ji.gif"></p><br>
<p>       â€”    .        <em>NumberTheory</em>,      .    </p><br>
<ol>
<li> ,    </li>
<li>          s / r.   ,         ,           .</li>
</ol><br>
<p>           - <code>nshot</code>, <code>nbit</code> (   )  <code>ncbit</code> (     ). <code>nbit</code>            ,     <code>ncbit</code>      </p><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"><pre><code class="julia hljs"><span class="hljs-string">"""    ."""</span>
estimate_ncbit(nbit::<span class="hljs-built_in">Int</span>, Ïµ::<span class="hljs-built_in">Real</span>) = <span class="hljs-number">2</span>*nbit + <span class="hljs-number">1</span> + ceil(<span class="hljs-built_in">Int</span>,log2(<span class="hljs-number">2</span>+<span class="hljs-number">1</span>/<span class="hljs-number">2</span>Ïµ))<font></font>
<font></font>
get_order(::<span class="hljs-built_in">Val</span>{:classical}, x::<span class="hljs-built_in">Int</span>, L::<span class="hljs-built_in">Int</span>; kwargs...) = NumberTheory.find_order(x, L)
<span class="hljs-keyword">function</span> get_order(::<span class="hljs-built_in">Val</span>{:quantum}, x::<span class="hljs-built_in">Int</span>, L::<span class="hljs-built_in">Int</span>; nshots::<span class="hljs-built_in">Int</span>=<span class="hljs-number">10</span>,<font></font>
            nbit::<span class="hljs-built_in">Int</span>=bit_length(L-<span class="hljs-number">1</span>), ncbit::<span class="hljs-built_in">Int</span>=estimate_ncbit(nbit, <span class="hljs-number">0.25</span>))<font></font>
    c = order_finding_circuit(x, L; nbit=nbit, ncbit=ncbit)<font></font>
    reg = join(product_state(nbit, <span class="hljs-number">1</span>), zero_state(ncbit))<font></font>
<font></font>
    res = measure(copy(reg) |&gt; c; nshots=nshots)<font></font>
    <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> res
        <span class="hljs-comment"># split bit string b into lower bits `k` and higher bits `r`.</span>
        mask = bmask(<span class="hljs-number">1</span>:ncbit)<font></font>
        k,i = r&amp;mask, r&gt;&gt;ncbit<font></font>
        <span class="hljs-comment"># get s/r</span>
        Ï• = bfloat(k)  <span class="hljs-comment">#</span>
        Ï• == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">continue</span><font></font>
<font></font>
        <span class="hljs-comment"># order_from_float: given a floating point number,</span>
        <span class="hljs-comment"># return the closest rational number with bounded number of continued fraction steps.</span><font></font>
        order = NumberTheory.order_from_float(Ï•, x, L)<font></font>
        <span class="hljs-keyword">if</span> order === <span class="hljs-literal">nothing</span>
            <span class="hljs-keyword">continue</span>
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> order
        <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">end</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nothing</span>
<span class="hljs-keyword">end</span></code></pre></div></div><br>
<p><code>order_finding_circuit(x::Int, L::Int; nbit::Int=bit_length(L-1), ncbit::Int=estimate_ncbit(nbit, 0.25)) -&gt; AbstractBlock</code></p><br>
<p>     <code>x</code>    <code>L</code>,<br>
   <code>|1&gt;âŠ—|0&gt;</code>        "" .</p><br>
<pre><code class="julia hljs"><span class="hljs-keyword">function</span> order_finding_circuit(x::<span class="hljs-built_in">Int</span>, L::<span class="hljs-built_in">Int</span>; nbit::<span class="hljs-built_in">Int</span>, ncbit::<span class="hljs-built_in">Int</span>)<font></font>
    N = nbit+ncbit<font></font>
    chain(N, repeat(N, H, <span class="hljs-number">1</span>:ncbit), KMod{N, ncbit}(x, L),<font></font>
        subroutine(N, qft_circuit(ncbit)', <span class="hljs-number">1</span>:ncbit))
<span class="hljs-keyword">end</span></code></pre><br>
<p>      </p><br>
<ol>
<li> </li>
<li><code>KMod</code>     <code>mod(a^k*x, L)</code>.<br>
<code>k</code> â€”   ,    <code>k</code> ( <code>ncbit</code>) ,   <code>N-K</code>   <code>a</code>.  ,     ,        ,        Yao.         , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a>.</li>
<li>   .</li>
</ol><br>
<p> , -   - :</p><br>
<pre><code class="julia hljs"><span class="hljs-meta">@time</span> shor(<span class="hljs-number">35</span>, <span class="hljs-built_in">Val</span>(:quantum))<font></font>
<font></font>
<span class="hljs-comment"># 2.287219 seconds (14.37 k allocations: 113.341 MiB, 1.38% gc time)</span>
<span class="hljs-comment"># 5</span></code></pre><br>
<pre><code class="julia hljs"><span class="hljs-meta">@time</span> shor(<span class="hljs-number">35</span>, <span class="hljs-built_in">Val</span>(:classical))
<span class="hljs-comment"># 0.000208 seconds (6 allocations: 224 bytes)</span>
<span class="hljs-comment"># 5</span></code></pre><br>
<p><img src="https://habrastorage.org/webt/ls/uv/ot/lsuvottnh-vvpuufp7aqrjxsje8.png"></p><br>
<h3 id="itog"></h3><br>
<p> ,          .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow"> </a>:    ,  ,      ..   ,       ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a>. </p><br>
<p>    ,       ,     .</p><br>
<p><img src="https://habrastorage.org/webt/h-/eo/t2/h-eot2yxg7litmcgelpvl5suuw8.jpeg"></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar493362/index.html">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ "Ø¹Ù„Ù‰ Ø§Ù„Ø­Ù‚Ø§Ø¦Ø¨". ÙƒÙŠÙ Ù†Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯ Ø¨Ø¯ÙˆÙ† Ø£Ø¹ØµØ§Ø¨ ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠØ© ÙˆÙ†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªÙŠ Ù†Ø­ØªØ§Ø¬Ù‡Ø§ Ø¹Ù† Ø¨Ø¹Ø¯</a></li>
<li><a href="../ar493366/index.html">Ù…Ø§ Ù‡Ùˆ Windows PowerShell ÙˆÙ…Ø§Ø°Ø§ ÙŠØ£ÙƒÙ„ØŸ Ø§Ù„Ø¬Ø²Ø¡ 3: ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù ØŒ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø£ÙˆØ§Ù…Ø± cmdlets</a></li>
<li><a href="../ar493374/index.html">Coronavirus - Ù†ØµØ§Ø¦Ø­ Ø¹Ù…Ù„ÙŠØ© ÙˆÙ‚Ù„ÙŠÙ„Ø§Ù‹ Ù…Ù† Ø§Ù„Ù†Ø¸Ø±ÙŠØ©</a></li>
<li><a href="../ar493376/index.html">Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰ - Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø±ÙˆØ³ÙŠØ© ÙÙŠ Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ù„Ù„Ù…Ø¤Ø³Ø³Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©</a></li>
<li><a href="../ar493378/index.html">Ù„Ø¯ÙŠÙƒ Steam: ÙƒÙŠÙ ÙŠØ²ÙŠÙ„ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø£Ù„Ø¹Ø§Ø¨Ù†Ø§</a></li>
<li><a href="../ar493382/index.html">ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…ØµÙ…Ù… Ù†Ù…Ø§Ø°Ø¬ Windows Core .NET</a></li>
<li><a href="../ar493384/index.html">Ù„ÙŠØ³ ÙŠÙˆÙ…Ù‹Ø§ Ø¨Ø¯ÙˆÙ† Ø±ÙŠØ§Ø¶Ø©: Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ø±Ù…Ø¬Ø© Ø¬Ù‡Ø§Ø² Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„ØµÙŠÙ†ÙŠ</a></li>
<li><a href="../ar493386/index.html">ÙƒÙŠÙ ÙŠØªÙ… Ø¹Ù„Ø§Ø¬ Ø§Ù„ÙÙŠØ±ÙˆØ³ Ø§Ù„ØªØ§Ø¬ÙŠØŸ</a></li>
<li><a href="../ar493390/index.html">ØªÙ‚Ø¯ÙŠÙ… Ù…Ø¹Ø§ÙŠÙ†Ø© .NET 5 1</a></li>
<li><a href="../ar493392/index.html">Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ ÙÙŠ Ù‚Ø§Ø²Ø§Ù† ØŒ Ø£Ùˆ ÙƒÙŠÙÙŠØ© ØªØ¯Ø±ÙŠØ¨ Ù…ØªØ®ØµØµÙŠ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ ÙÙŠ ØªØªØ§Ø±Ø³ØªØ§Ù†</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>