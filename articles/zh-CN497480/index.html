<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😤 👼🏽 🍳 视频讲座：Unix方式 👩🏻‍🔧 👶🏿 🐙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="隔离是学习知识的绝佳时机。但是，正如您所知，要有人学习一些东西，就必须教人。如果您有一个演讲想与百万分之一的观众交流，并赢得世界声誉，那么本文适合您。在这里，您将找到有关如何从演示文稿制作视频的分步说明。
 
 我们标记了在PowerPoint中录制“声音评论”并在视频中导出演示文稿的方式，这很琐碎...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>视频讲座：Unix方式</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497480/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/vm/gw/wm/vmgwwmtfoo_hivajmmrsjdynktm.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
隔离是学习知识的绝佳时机。</font><font style="vertical-align: inherit;">但是，正如您所知，要有人学习一些东西，就必须教人。</font><font style="vertical-align: inherit;">如果您有一个演讲想与百万分之一的观众交流，并赢得世界声誉，那么本文适合您。</font><font style="vertical-align: inherit;">在这里，您将找到有关如何从演示文稿制作视频的分步说明。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们标记了在PowerPoint中录制“声音评论”并在视频中导出演示文稿的方式，这很琐碎，而没有给出真正酷视频所需的可能性的十分之一。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，我们将决定需要哪些框架：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实际上是带有画外音的幻灯片</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">换片</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">热门电影中的引语</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有讲师和最喜欢的猫的相貌的一些镜架（可选）</font></font></li>
</ol><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建目录结构</font></font></h3><br>
<pre><code class="bash hljs">.<font></font>
├── clipart<font></font>
├── clips<font></font>
├── rec<font></font>
├── slide<font></font>
└── sound<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
按目录顺序分配目录：要从中提取报价的电影（剪辑），未来视频的片段（剪辑），摄像机的视频（录制），图像幻灯片（幻灯片），声音（声音）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在图片中进行演示</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于真正</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的红眼</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Linuxoid，以图片的形式进行演示不会出现任何问题。</font><font style="vertical-align: inherit;">让我提醒您，可以通过以下方式将pdf文档解析为图像：</font></font><br>
<br>
<pre><code class="bash hljs">pdftocairo -png -r 128 ../lecture.pdf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果没有这样的命令，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请安装poppler-utils</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件包</font><font style="vertical-align: inherit;">（Ubuntu的说明；如果您有Arch，那么您已经知道没有我该怎么办）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在下文中，我认为视频正在以HD Ready格式（即1280×720）进行准备。</font><font style="vertical-align: inherit;">在卸载时，水平尺寸为10英寸的演示文稿给出的尺寸恰好与此相同（请参见-r 128选项）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们正在准备案文</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您想制作非常酷的材料，那么必须先编写演讲稿。</font><font style="vertical-align: inherit;">我还认为我可以不加准备就讲文本，特别是因为我有很好的演讲经验。</font><font style="vertical-align: inherit;">但是现场表演是一回事，录制视频是另一回事。</font><font style="vertical-align: inherit;">不要偷懒-花费在打字上的时间将获得不止一次的回报。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_6/jl/bb/_6jlbbte4tfrvad0s6ukynie_ou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是我的录音格式。</font><font style="vertical-align: inherit;">标题中的数字等于幻灯片的数量，中断以红色突出显示。</font><font style="vertical-align: inherit;">任何编辑器都适合进行准备，但是最好使用成熟的文字处理器-例如</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OnlyOffice</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">听起来不错的幻灯片</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我能说什么-打开麦克风并写:) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
经验表明，即使使用最便宜的外接麦克风，其录制质量也比笔记本电脑的内置麦克风好。如果您想要高质量的设备，那么我推荐</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这篇文章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于录音，我使用了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">录音机</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -一个非常简单的录音应用程序。您可以在这里使用它，例如：</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:audio-recorder/ppa<font></font>
sudo apt-get update<font></font>
sudo apt-get install audio-recorder</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此步骤中的主要内容是正确的文件命名。</font><font style="vertical-align: inherit;">名称必须由幻灯片编号和片段编号组成。</font><font style="vertical-align: inherit;">片段用奇数编号</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-1、3、5</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等。因此，对于幻灯片，其文本显示在图片中，将创建两个文件：</font><i><font style="vertical-align: inherit;">002-1.mp3</font></i><font style="vertical-align: inherit;">和</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-3.mp3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您在一个安静的房间中一次录制所有视频，那么它们将无能为力。</font><font style="vertical-align: inherit;">如果您分几个阶段进行录制，最好均衡音量：</font></font><br>
<br>
<pre><code class="bash hljs">mp3gain -r *.mp3</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于</font><font style="vertical-align: inherit;">某些原因，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3gain</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序</font><font style="vertical-align: inherit;">不在标准存储库中，但是您可以在此处获得：</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:flexiondotorg/audio<font></font>
sudo apt-get update<font></font>
sudo apt-get install mp3gain</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完成所有这些之后，您需要静默写入另一个文件。</font><font style="vertical-align: inherit;">有必要在无声剪辑中添加配乐：如果一个剪辑中有一个配乐，而另一个剪辑中没有，则很难粘贴这些剪辑。</font><font style="vertical-align: inherit;">可以从麦克风记录静音，但是最好在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audacity</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑器中创建一个文件</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该文件必须至少</font><i><font style="vertical-align: inherit;">长</font></i><font style="vertical-align: inherit;">一秒（更长），并且应该</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用silence.mp3</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">烹饪分解辊</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这里的一切仅受您的想象力限制。</font><font style="vertical-align: inherit;">您可以使用</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">编辑器来编辑视频</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">它曾经在标准存储库中，但是由于某种原因被锯掉了。</font><font style="vertical-align: inherit;">这不会阻止我们：</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:ubuntuhandbook1/avidemux<font></font>
sudo apt-get update<font></font>
sudo apt-get install avidemux2.7-qt5</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是的，有关在海上使用此编辑器的说明，原则上，那里的所有内容都很直观。观察几个条件很​​重要。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，影片的分辨率必须与影片的目标分辨率匹配。为此，在“退出视频”中，您需要使用两个过滤器：swsResize来更改分辨率，并使用“添加字段”来使苏联的“窄幅”胶片变宽。所有其他过滤器都是可选的。例如，如果某人不了解正在讨论的片段中Sharikov先生的声明，则可以使用“添加徽标”过滤器，将PostgreSQL徽标添加到“狗的心”上方。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
其次，所有片段必须使用相同的帧速率。我每秒使用25帧，因为这给了我的相机和旧的苏联电影很大的余地。如果从中剪切帧的动画以不同的速度拍摄，请使用“重新采样视频”过滤器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第三，所有片段必须使用相同的编解码器压缩并包装在相同的容器中。因此，在</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格式中，选择视频-“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mpeg4 AVC（x264）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”，音频-“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AAC（Faac）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”，输出格式-“ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MP4 Muxer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第四，正确命名剪切片段很重要。</font><font style="vertical-align: inherit;">文件名应由幻灯片编号和片段编号组成。</font><font style="vertical-align: inherit;">片段以2开头的偶数编号。因此，对于正在讨论的帧，带有斩波的剪辑应称为</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">002-2.mp4</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
剪辑准备好之后，您需要将它们转移到带有片段的目录中。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avidemux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">与</font><font style="vertical-align: inherit;">默认</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置的</font><font style="vertical-align: inherit;">区别在于</font><font style="vertical-align: inherit;">神秘参数tbr，tbn，tbc。</font><font style="vertical-align: inherit;">它们不影响复制，但不允许胶合辊。</font><font style="vertical-align: inherit;">因此，我们重新编码：</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> ???-?.mp4;
<span class="hljs-keyword">do</span>
  ffmpeg -hide_banner -y -i <span class="hljs-string">"<span class="hljs-variable">${f}</span>"</span> -c copy -r 25 -video_track_timescale 12800 ../clips/<span class="hljs-variable">$f</span>
<span class="hljs-keyword">done</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们删除了屏保</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里，一切也很简单：在某种智能方案的背景下拍照，将片段放入</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rec</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font><font style="vertical-align: inherit;">，然后从那里将它们转移到带有片段的目录中。</font><font style="vertical-align: inherit;">命名规则与引号分隔符相同，recoding命令如下：</font></font><br>
<br>
<pre><code class="bash hljs">ffmpeg -y -i source_file -r 25 -vcodec libx264 -pix_fmt yuv420p -profile:v high -coder 1 -s 1280x720 -ar 44100 -ac 2 ../clips/xxx-x.mp4
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您打算以演讲开始视频，请将此片段</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命名为000-1.mp4</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们用静态图片制作框架</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
是时候从静态图片和声音中安装剪辑了。</font><font style="vertical-align: inherit;">这是通过以下脚本完成的：</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span>
<span class="hljs-keyword">for</span> sound <span class="hljs-keyword">in</span> sound/*.mp3
<span class="hljs-keyword">do</span>
  soundfile=<span class="hljs-variable">${sound##*/}</span>
  chunk=<span class="hljs-variable">${soundfile%%.mp3}</span>
  clip=<span class="hljs-variable">${chunk}</span>.mp4<font></font>
  pic=slide/<span class="hljs-variable">${chunk%%-?}</span>.png<font></font>
<font></font>
  duration=$(soxi -D <span class="hljs-variable">${sound}</span> 2&gt;/dev/null)
  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${sound}</span> <span class="hljs-variable">${pic}</span> <span class="hljs-variable">${clip}</span> <span class="hljs-string">" - "</span> <span class="hljs-variable">${duration}</span><font></font>
<font></font>
  ffmpeg -hide_banner -y -loop 1 -i <span class="hljs-variable">${pic}</span> -i <span class="hljs-variable">${sound}</span> -r 25 -vcodec libx264 -tune stillimage -pix_fmt yuv420p -profile:v high -coder 1 -t <span class="hljs-variable">${duration}</span> clips/<span class="hljs-variable">${clip}</span>
<span class="hljs-keyword">done</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意，声音文件的持续时间首先由</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soxi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实用程序确定</font><font style="vertical-align: inherit;">，然后安装所需长度的视频。我发现的所有建议都比较简单：</font><i><font style="vertical-align: inherit;">-shortest</font></i><font style="vertical-align: inherit;">标志</font><font style="vertical-align: inherit;">代替了</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t $ {duration}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志</font><font style="vertical-align: inherit;">。实际上，</font><i><font style="vertical-align: inherit;">ffmpeg</font></i><font style="vertical-align: inherit;">非常确定mp3的长度，并且在安装过程中，音频轨道的长度可能与视频轨道的长度非常不同（一到两秒）。整个视频是否只包含一个帧都没有关系，但是将这样的电影粘贴在边界处时，会产生非常令人不快的口吃效果。</font><font style="vertical-align: inherit;">
确定mp3文件持续时间的另一种方法是使用</font><i><font style="vertical-align: inherit;">mp3info</font></i><font style="vertical-align: inherit;">。她也弄错了，有时</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ffmpeg</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mp3info</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的更多</font><font style="vertical-align: inherit;">，有时反之亦然，有时它们都说谎-我还没有注意到任何模式。</font><font style="vertical-align: inherit;">但是</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soxi</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作正常。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要安装此有用的实用程序，请执行以下操作：</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install sox libsox-fmt-mp3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在幻灯片之间进行过渡</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
过渡-一段短片，其中一张幻灯片变成另一张幻灯片。</font><font style="vertical-align: inherit;">要制作此类视频，请成对放映幻灯片，然后</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用imagemagick</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其中一个变成另一个：</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span><font></font>
BUFFER=$(mktemp -d)<font></font>
<font></font>
<span class="hljs-keyword">for</span> pic <span class="hljs-keyword">in</span> slide/*.png
<span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-variable">${prevpic}</span> != <span class="hljs-string">""</span> ]]
  <span class="hljs-keyword">then</span>
    clip=<span class="hljs-variable">${pic##*/}</span>
    clip=<span class="hljs-variable">${clip/.png/-0.mp4}</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment">#  </span>
    <span class="hljs-comment">#</span>
    ./fade.pl <span class="hljs-variable">${prevpic}</span> <span class="hljs-variable">${BUFFER}</span> 1280 720 5 direct 0<font></font>
    ./fade.pl <span class="hljs-variable">${pic}</span> <span class="hljs-variable">${BUFFER}</span> 1280 720 5 reverse 12
    <span class="hljs-comment">#</span>
    <span class="hljs-comment">#   </span>
    <span class="hljs-comment">#</span>
    ffmpeg -y -hide_banner -i <span class="hljs-string">"<span class="hljs-variable">${BUFFER}</span>/%03d.png"</span> -i sound/silence.mp3 -r 25 -y -acodec aac -vcodec libx264 -pix_fmt yuv420p -profile:v high -coder 1 -shortest clips/<span class="hljs-variable">${clip}</span>
    rm -f <span class="hljs-variable">${BUFFER}</span>/*
  <span class="hljs-keyword">fi</span>
  prevpic=<span class="hljs-variable">${pic}</span>
<span class="hljs-keyword">done</span><font></font>
<font></font>
rmdir <span class="hljs-variable">${BUFFER}</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出于某种原因，我希望幻灯片散布成点，然后将下一张幻灯片从点</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">散开</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，为此，我编写了一个名为</font><i><font style="vertical-align: inherit;">fade.pl</font></i><font style="vertical-align: inherit;">的脚本。</font><font style="vertical-align: inherit;">拥有</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imagemagick</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，一个真正的Linuxoid会产生任何特殊效果，但是如果有人喜欢我的散布想法，这是脚本：</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-comment">#!/usr/bin/perl</span><font></font>
<font></font>
<span class="hljs-keyword">use</span> strict;
<span class="hljs-keyword">use</span> warnings;
<span class="hljs-keyword">use</span> locale;
<span class="hljs-keyword">use</span> utf8;
<span class="hljs-keyword">use</span> <span class="hljs-keyword">open</span> <span class="hljs-string">qw(:std :utf8)</span>;
<span class="hljs-keyword">use</span> Encode <span class="hljs-string">qw(decode)</span>;
<span class="hljs-keyword">use</span> I18N::Langinfo <span class="hljs-string">qw(langinfo CODESET)</span>;<font></font>
<font></font>
<span class="hljs-keyword">my</span> $codeset = langinfo(CODESET);<font></font>
@ARGV = <span class="hljs-keyword">map</span> { decode $codeset, $_ } @ARGV;<font></font>
<font></font>
<span class="hljs-keyword">my</span> ($source, $target, $width, $height, $pixsize, $rev, $file_no) = @ARGV;<font></font>
<font></font>
<span class="hljs-keyword">my</span> @rects;<font></font>
$rects[$_] = <span class="hljs-string">"0123456789AB"</span> <span class="hljs-keyword">for</span> <span class="hljs-number">0</span>..$width*$height/$pixsize/$pixsize/<span class="hljs-number">12</span> - <span class="hljs-number">1</span>;<font></font>
<font></font>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $i (<span class="hljs-number">0</span>..<span class="hljs-number">11</span>) {
  <span class="hljs-keyword">substr</span>($_,<span class="hljs-keyword">int</span>(<span class="hljs-keyword">rand</span>(<span class="hljs-number">12</span>-$i)),<span class="hljs-number">1</span>) = <span class="hljs-string">""</span> <span class="hljs-keyword">for</span> (@rects);
  <span class="hljs-keyword">my</span> $s = $source;<font></font>
  $s =~ <span class="hljs-keyword">s</span><span class="hljs-comment">#^.*/##;</span>
  <span class="hljs-keyword">open</span>(PICTURE,<span class="hljs-string">"| convert - -transparent white PNG:- | convert \"$source\" - -composite \"$target/"</span>.substr(<span class="hljs-string">"00"</span>.($file_no+$i),-<span class="hljs-number">3</span>).<span class="hljs-string">".png\""</span>);
  <span class="hljs-keyword">printf</span> PICTURE (<span class="hljs-string">"P3\n%d %d\n255\n"</span>,$width,$height);
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $row (<span class="hljs-number">1</span>..$height/$pixsize/<span class="hljs-number">3</span>) {
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $j (<span class="hljs-number">0</span>..<span class="hljs-number">2</span>) {
      <span class="hljs-keyword">my</span> $l = <span class="hljs-string">""</span>;
      <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $col (<span class="hljs-number">1</span>..$width/$pixsize/<span class="hljs-number">4</span>) {
        <span class="hljs-keyword">for</span> <span class="hljs-keyword">my</span> $k (<span class="hljs-number">0</span>..<span class="hljs-number">3</span>) {<font></font>
          $l .= (<span class="hljs-keyword">index</span>($rects[($row-<span class="hljs-number">1</span>)*$width/$pixsize/<span class="hljs-number">4</span>+$col-<span class="hljs-number">1</span>],<span class="hljs-keyword">sprintf</span>(<span class="hljs-string">"%1X"</span>,$j*<span class="hljs-number">4</span>+$k))==-<span class="hljs-number">1</span> <span class="hljs-keyword">xor</span> $rev eq <span class="hljs-string">"reverse"</span>) ? <span class="hljs-string">"0 0 0\n"</span> : <span class="hljs-string">"255 255 255\n"</span> <span class="hljs-keyword">for</span> (<span class="hljs-number">1</span>..$pixsize);<font></font>
        }<font></font>
      }<font></font>
      <span class="hljs-keyword">print</span> PICTURE ($l) <span class="hljs-keyword">for</span> (<span class="hljs-number">1</span>..$pixsize);<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword">close</span>(PICTURE);<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装成品辊</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在我们有了所有片段。</font><font style="vertical-align: inherit;">我们转到</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clips</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录，</font><font style="vertical-align: inherit;">并使用两个命令收集完成的电影：</font></font><br>
<br>
<pre><code class="bash hljs">ls -1 ???-?.mp4 | gawk -e <span class="hljs-string">'{print "file " $0}'</span> &gt;list.txt<font></font>
ffmpeg -y -hide_banner -f concat -i list.txt -c copy MOVIE.mp4<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
欣赏您感激的学生吧！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN497466/index.html">Sysbench和随机变量的分布</a></li>
<li><a href="../zh-CN497468/index.html">[大师班]对USB接口的实际攻击</a></li>
<li><a href="../zh-CN497470/index.html">如何在Corona SDK上弹出病毒</a></li>
<li><a href="../zh-CN497476/index.html">前8个JavaScript数据结构</a></li>
<li><a href="../zh-CN497478/index.html">网络模拟器教程ns-3。第四章</a></li>
<li><a href="../zh-CN497482/index.html">使用Dex在Kubernetes中进行身份验证：固定LDAP</a></li>
<li><a href="../zh-CN497484/index.html">使用ML算法对多页文档进行分类：VTB经验</a></li>
<li><a href="../zh-CN497486/index.html">数据划分。2013年。回顾性</a></li>
<li><a href="../zh-CN497488/index.html">使用Microsoft Teams，PowerApps和Power Automate使HR流程自动化。员工提款要求</a></li>
<li><a href="../zh-CN497490/index.html">海马亲权的困难：免疫系统的遗传变态</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>