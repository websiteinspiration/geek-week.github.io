<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏩 🤸 #⃣ LMSのオープンソースソフトウェア：フリーソフトがVTBで重要なビジネスシステムの管理にどのように役立つか 🧝🏽 👨🏾‍🔬 🤑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私たちの銀行のドキュメンテーションサポートシステムは絶えず進化し、拡張されていますが、速度とフォールトトレランスの要件は高まっています。ある時点で、効果的な集中監視なしでLMSにサービスを提供することは非常にリスクが高くなっています。VTBでビジネスプロセスを保護し、管理者の作業を簡素化するために、...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>LMSのオープンソースソフトウェア：フリーソフトがVTBで重要なビジネスシステムの管理にどのように役立つか</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/475572/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちの銀行のドキュメンテーションサポートシステムは絶えず進化し、拡張されていますが、速度とフォールトトレランスの要件は高まっています。</font><font style="vertical-align: inherit;">ある時点で、効果的な集中監視なしでLMSにサービスを提供することは非常にリスクが高くなっています。</font><font style="vertical-align: inherit;">VTBでビジネスプロセスを保護し、管理者の作業を簡素化するために、オープンテクノロジーのスタックに基づくソリューションを実装しました。</font><font style="vertical-align: inherit;">これにより、インシデントに積極的に対応し、潜在的な問題を回避できます。</font><font style="vertical-align: inherit;">アンダーザカット-大規模なビジネスシステムの監視にフリーソフトウェアを使用した経験についてのストーリー。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b05/e47/4d9/b05e474d91c2dfee13074c81bad76950.jpg"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワークフローシステムを監視する理由</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2005年以降、CompanyMediaシステムはVTB Bankでドキュメントサポートを「管理」しています。 SDOは60万人以上のユーザーを雇用し、毎月100万以上の新しいドキュメントを作成しています。私たちのサーバーは1日24時間機能する必要があります。システムのほぼいつでも、ペトロパブロフスクカムチャツキーからカリーニングラードまで、全国で2500〜3000人が接続しています。 LMS操作の毎秒は10〜15回の変更です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムに割り当てられたタスクを明確に実行するために、プロキシサーバー、クエリバランシング、情報保護、フルテキスト検索、統合ルート、バックアップを使用して、フォールトトレラントインフラストラクチャを展開しました。</font><font style="vertical-align: inherit;">この規模のプロジェクトをサポートおよび管理するには、膨大なリソースが必要です。</font><font style="vertical-align: inherit;">24時間体制の管理者は、サーバーの操作、RAMのロード、プロセッサー時間、入出力サブシステムなどに関する基本情報を監視します。</font><font style="vertical-align: inherit;">しかし、これに加えて、より微妙な分析が必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネスシナリオの実行に費やされた時間の計算。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムパフォーマンスのダイナミクスとその負荷の追跡。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">承認された非機能要件からのシステムコンポーネントの逸脱を検索します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LMSの導入から11年後、さまざまなエラーへのプロアクティブな対応の問題が特に急激に発生しました。</font><font style="vertical-align: inherit;">銀行の管理者は、モニターやシステムのライフのコンソールなしで作業することは、火で遊ぶことであることに気づきました。このレベルのビジネスシステムのわずかな失敗は、何百万もの損失を伴います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2016年、LMSの機能における問題を迅速に特定するためのツールの導入を開始しました。</font><font style="vertical-align: inherit;">以前は、アプリケーション監視システムは、InterTrust社のインフラストラクチャのフレームワーク内で展開およびテストされていました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての始まり</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、オープンソースソフトウェアに基づくVTB SDO向けの集中型アプリケーション監視システムは、ドキュメント管理に関連するほとんどのエラーの防止、問題の迅速かつ正確な分類、およびあらゆるインシデントへの迅速な対応に役立ちます。</font><font style="vertical-align: inherit;">2つのサブシステムが含まれます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムサービスのITインフラストラクチャを監視する。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMSの操作におけるエラーの発生を監視します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それはすべて、唯一の無料の監視アプリから始まりました。いくつかのオプションを検討した後、私たちはZabbixに落ち着きました-Zabbix-元々は銀行サービスと機器のために書かれたフリーソフトウェアです。 MySQL、PostgreSQL、SQLite、またはOracleデータベースにデータを保存できるこのPHP Webベースのシステムは、私たちのニーズに完全に適合しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbixは各サーバー上でエージェントを実行し、関心のあるメトリックに関する情報を単一のデータベースでリアルタイムに収集します。このアプリケーションを使用すると、プロセッサとRAMの負荷に関するデータを収集し、ネットワークやその他のコンポーネントを使用して、標準サービス（SMTPまたはHTTP）の可用性と応答を確認し、外部プログラムを実行し、SNMPによる監視をサポートすると便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbixを導入することで、標準のハードウェアメトリックを設定しましたが、最初はそれで十分でした。しかし、VTB SDOは絶えず開発および成長しています。2016年には、サーバーの数が著しく増加し、移行プロセスが現れ、モスクワ銀行、VTBキャピタル、システムに接続されたVTB24が登場しました。標準的なメトリクスは少なく、サーバーに接続された各ボリューム上のキューの存在（Zabbixボックスからは、一般的なディスクキューのみを反映します）に関する情報、および特定の手順の処理にかかる時間を追跡するようにZabbixに教えました。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d3e/e05/b67/d3ee05b67fa8025031b1814ea975fbc5.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、システムに複数のトリガーを装備しました-通知が管理者に送信される条件（電報へのメッセージ、電話番号へのSMSまたは電子メール）。</font><font style="vertical-align: inherit;">トリガーは、パラメーターの任意のセットに対してカスタマイズ可能です。</font><font style="vertical-align: inherit;">たとえば、特定の割合の空きディスク領域を指定すると、指定したしきい値に達したときにシステムから管理者に通知されるか、バックグラウンド処理に通常より時間がかかっているかどうかが通知されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java接続とデータ視覚化</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析するデータの範囲を大幅に拡大しましたが、すぐにこれは効果的な監視には不十分でした。 CompanyMedia DLSがJavaアプリケーションであることを利用して、JMXインターフェースを介してJava仮想マシンに接続し、Javaメトリックを直接取得することができました。さらに、GCやヒープの消費量などの標準的なJavaの重要な機能だけでなく、アプリケーションの実行可能コードに直接関連する特定のサンプルも含まれます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/569/a2a/56d/569a2a56d9b7e7e6956a78d13ed6ab5d.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モニタリングシステムが導入されてから約1年後の2017年、Zabbixで収集された巨大なデータアレイを使用した通常の作業では、十分な視覚化（複雑な画面）がないことが明らかになりました。</font><font style="vertical-align: inherit;">この問題の最善の解決策は、フリーソフトウェアでした。Grafanaは、1つの画面ですべてのデータを集約できるメトリック用の便利なダッシュボードです。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/228/3c0/def/2283c0def9fc3f5209baa8ccaec6edea.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grafanaのインタラクティブインターフェイスは、OLAPシステムを連想させます。</font><font style="vertical-align: inherit;">サブシステムは、Zabbixが受け取ったデータを1つの画面に表示し、分析に便利なグラフやチャートの形式で情報を提示します。</font><font style="vertical-align: inherit;">管理者は、必要なスライスを簡単にカスタマイズできます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/03e/e95/fe5/03ee95fe517f5ddead62e929160a685b.jpg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LMSシステムでの監視と予防的なトラブルシューティング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モニタリング中に受信した情報をフィルタリングおよび分析することで、ELKオープンソースソフトウェアプラットフォームが役立ちます。</font><font style="vertical-align: inherit;">このオープンソース製品は、データを収集、保存、分析するための3つの強力なツール、Elasticsearch、Logstash、Kibanaで構成されています。</font><font style="vertical-align: inherit;">このサブシステムの実装により、特に、システムで発生したエラーの数、サーバー、およびこれらのエラーが繰り返されるかどうかをリアルタイムで確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/61d/478/2b4/61d4782b468e8914666ca6dcab2d251a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、管理者はユーザーが問題に遭遇する前であっても、早い段階で問題を検出できます。</font><font style="vertical-align: inherit;">このようなプロアクティブな監視により、システムの誤動作を防ぎ、タイムリーにエラーを排除できます。</font><font style="vertical-align: inherit;">さらに、更新後にシステムの動作がどのように変化したかを理解し、新しい問題が発生した場合にそれを検出できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4ed/bed/860/4edbed860c81e8039f8ec8307e726d65.jpg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事業運営モニタリング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムは、リソースの消費を監視する基本的な機能に加えて、ビジネスオペレーションを分析および制御する機能を備えています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1f4/475/45f/1f447545f2cc00b92a5e837d6405f20a.jpg"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビジネスオペレーションの合計時間を監視することで、新しい要因を特定し、それらがシステムに与える影響を理解できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cc4/e6a/139/cc4e6a139580113d7b03d30a3ad4e2c2.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ビジネスサービスのコンテキストで要求の実行時間を監視することで、標準から逸脱した操作を検出できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8ab/fb5/1e5/8abfb51e549da3086fa87eb552c77d4c.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上のスクリーンショットは、標準からの逸脱という観点からバックグラウンドタスクを監視する例を示しています。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/fdd/d0d/89c/fddd0d89cfdbb25691925d9193174b36.jpg"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特定のサーバーでのアクティビティの観点から制御されたタスクのリストを使用すると、すべてのサーバーにわたるエラー（タスク実行の重複を含む）を特定できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/034/353/c80/034353c80c96cd06f5228d37f7e51c24.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、バックグラウンドプロシージャの実行時間の傾向も監視します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムは成長し、発展し、問題に対処するのに役立ちます。</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
説明したシステムの実装により、DLSサーバーの動作の監視が大幅に簡素化されました。</font><font style="vertical-align: inherit;">それにもかかわらず、ワークフローの速度に影響を及ぼし、ユーザーの不満を引き起こすさまざまな競合が定期的に発生します。</font><font style="vertical-align: inherit;">そのため、サーバーだけでなく、アプリケーション自体の動作を制御する必要があることに気付きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題を解決するために、アプリケーションサーバーのクラスターと連携するAPIを介してバランサーが監視システムに接続されました。</font><font style="vertical-align: inherit;">このおかげで、管理者は、サーバーが各ユーザーの要求に対して責任を負っている期間を確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーの応答時間に関するデータを分析に利用できるようになり、LMSのスローダウンをサーバーで発生するプロセスに関連付けることが可能になりました。</font><font style="vertical-align: inherit;">特に興味深い状況が明らかになりました。サーバーは低速ですが、現時点ではロードされていません。</font><font style="vertical-align: inherit;">異常を分析することにより、ガベージコレクターJavaの動作に偏差が見つかりました。</font><font style="vertical-align: inherit;">結局のところ、この状況につながったのは、このサービスの誤操作であることが判明しました。</font><font style="vertical-align: inherit;">ガベージコレクターJavaを制御して、問題を完全に修正しました。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これが、フリーソフトウェアが銀行業界でのドキュメント管理システムの開発と成長に役立つ方法です。</font><font style="vertical-align: inherit;">VTB LMSの監視システムに関する主要な問題のみに触れました。</font><font style="vertical-align: inherit;">詳細に興味がある場合は、コメント欄でお尋ねください。私たちの経験をお伝えします。</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja475558/index.html">IT辞書とは？どこ？どこ？パート1</a></li>
<li><a href="../ja475560/index.html">KotlinConf 2019ライブ：12月5〜6日にライブ観戦</a></li>
<li><a href="../ja475562/index.html">UnityのMVCとスクリプト可能なオブジェクト。パート1</a></li>
<li><a href="../ja475564/index.html">ソフトウェア開発におけるカイゼン-私自身の経験から</a></li>
<li><a href="../ja475568/index.html">Hadoopは死んでいますか？パート1</a></li>
<li><a href="../ja475576/index.html">Программный код в автомобиле</a></li>
<li><a href="../ja475578/index.html">「私はプロ」のオリンピックについて知っておくべきこと：ビッグデータとロボット工学の領域について話します</a></li>
<li><a href="../ja475580/index.html">「トイストーリー2」ピクサーが2度削除された方法：最初に偶然、次に卓越性の追求のため</a></li>
<li><a href="../ja475582/index.html">収益化の問題：人気のあるApp Storeがオープンソースユーティリティを削除する理由</a></li>
<li><a href="../ja475584/index.html">Yandexでのインタビューの機械学習セクションはどうですか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>