<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçΩÔ∏è üí≥ ü§≤ Berapa banyak yang baru di dalam Devil's Dozen? üë®üèΩ‚Äçüè´ üëÇ üî®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kita hanya berbicara tentang PostgreSQL 13. Pada tanggal 8 April, terjadi "pembekuan" - Pembekuan fitur PostgreSQL , sekarang hanya fitur-fitur yang d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Berapa banyak yang baru di dalam Devil's Dozen?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/493106/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kita hanya berbicara tentang PostgreSQL 13. Pada tanggal 8 April, terjadi "pembekuan" - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembekuan fitur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PostgreSQL </font><font style="vertical-align: inherit;">, sekarang hanya fitur-fitur yang diterima sebelum tanggal ini yang akan dimasukkan dalam versi ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sulit untuk menyebutkan versi revolusioner dari ini. </font><font style="vertical-align: inherit;">Tidak ada perubahan kardinal dan konseptual di dalamnya. </font><font style="vertical-align: inherit;">Selain itu, tambalan penting seperti Tabel dan Fungsi untuk standar JSON / SQL, yang ingin saya lihat di PG12 di sebelah tambalan JSONPath, tidak punya waktu untuk memasukkannya; </font><font style="vertical-align: inherit;">penyimpanan tertanam yang sudah jadi tidak muncul - hanya antarmuka yang diselesaikan. </font><font style="vertical-align: inherit;">Namun daftar perbaikannya masih mengesankan. </font><font style="vertical-align: inherit;">Kami telah menyiapkan ringkasan yang cukup lengkap dari tambalan yang termasuk dalam Devil's Luszen.</font></font></i><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perubahan Perintah SQL</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BUAT DATABASE ...</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Utilitas</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"> LOCALE</font></b></a></font><code>initdb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font><code>createdb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan tim</font></font><code>CREATE COLLATION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memiliki pengaturan</font></font><code>LOCALE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang memungkinkan Anda menentukan nilai untuk hak</font></font><code>LC_CTYPE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>LC_COLLATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sekarang kesempatan yang sama muncul di tim</font></font><code>CREATE DATABASE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> db_koi8r <span class="hljs-keyword">TEMPLATE</span> template0 
    <span class="hljs-keyword">ENCODING</span> <span class="hljs-string">'KOI8R'</span> LOCALE <span class="hljs-string">'ru_RU.KOI8R'</span>;</code></pre><a name="habracut"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER VIEW ... RENAME COLUMN</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nama kolom dalam tampilan sekarang dapat diubah dengan perintah</font></font><code>ALTER VIEW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sebelumnya, ini diperlukan untuk menciptakan kembali tampilan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan Anda lupa memberi nama pada kolom:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> uptime <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">current_timestamp</span>, <span class="hljs-built_in">current_timestamp</span> - pg_postmaster_start_time();
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> uptime;</code></pre><br>
<pre><code class="plaintext hljs">       current_timestamp       |    ?column?     <font></font>
-------------------------------+-----------------<font></font>
 2020-03-23 15:37:00.088824+03 | 04:18:24.897856</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu bisa diperbaiki:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">VIEW</span> uptime <span class="hljs-keyword">RENAME</span> <span class="hljs-keyword">COLUMN</span> "?column?" <span class="hljs-keyword">TO</span> uptime;
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> uptime;</code></pre><br>
<pre><code class="plaintext hljs">       current_timestamp       |     uptime      <font></font>
-------------------------------+-----------------<font></font>
 2020-03-23 15:37:40.726516+03 | 04:19:05.535548</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TABLE ... ALTER COLUMN ... DROP EXPRESSION</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kolom yang dihasilkan dari tabel sekarang dapat dibuat normal, yaitu, hapus ekspresi untuk mengevaluasinya:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> payments (<font></font>
    id <span class="hljs-type">integer</span> <span class="hljs-keyword">PRIMARY KEY</span>,<font></font>
    amount <span class="hljs-type">numeric</span>(<span class="hljs-number">18</span>,<span class="hljs-number">2</span>),<font></font>
    income_tax <span class="hljs-type">numeric</span>(<span class="hljs-number">18</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">GENERATED</span> <span class="hljs-keyword">ALWAYS</span> <span class="hljs-keyword">AS</span> (amount*<span class="hljs-number">0.13</span>) STORED<font></font>
);<font></font>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> payments(id, amount) <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>, <span class="hljs-number">42</span>);<font></font>
\d payments</code></pre><br>
<pre><code class="plaintext hljs">                                     Table "public.payments"<font></font>
   Column   |     Type      | Collation | Nullable |                   Default            <font></font>
        <font></font>
------------+---------------+-----------+----------+--------------------------------------<font></font>
 id         | integer       |           | not null |<font></font>
 amount     | numeric(18,2) |           |          |<font></font>
 income_tax | numeric(18,2) |           |          | generated always as ((amount * 0.13))<font></font>
 stored<font></font>
Indexes:<font></font>
    "payments_pkey" PRIMARY KEY, btree (id)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, mereka memutuskan bahwa income_tax harus ditetapkan secara eksplisit. </font><font style="vertical-align: inherit;">Hapus ekspresi:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> payments <span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">COLUMN</span> income_tax <span class="hljs-keyword">DROP</span> EXPRESSION;<font></font>
\d payments</code></pre><br>
<pre><code class="plaintext hljs">                   Table "public.payments"<font></font>
   Column   |     Type      | Collation | Nullable | Default<font></font>
------------+---------------+-----------+----------+---------<font></font>
 id         | integer       |           | not null |<font></font>
 amount     | numeric(18,2) |           |          |<font></font>
 income_tax | numeric(18,2) |           |          |<font></font>
Indexes:<font></font>
    "payments_pkey" PRIMARY KEY, btree (id)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, data yang ada dari kolom belum hilang:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> payments;</code></pre><br>
<pre><code class="plaintext hljs"> id | amount | income_tax<font></font>
----+--------+------------<font></font>
  1 |  42.00 |       5.46</code></pre><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JATUHKAN DATABASE ... FORCE</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika Anda ingin menghapus database tanpa menunggu semua pengguna untuk memutuskan sambungan, Anda dapat menggunakan opsi</font></font><code>FORCE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perintah</font><font style="vertical-align: inherit;">baru</font></font><code>DROP DATABASE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> db;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terhubung ke database baru:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">EXTENSION</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> dblink;
<span class="hljs-keyword">SELECT</span> dblink_connect(<span class="hljs-string">'dbname=db'</span>);</code></pre><br>
<pre><code class="plaintext hljs"> dblink_connect<font></font>
----------------<font></font>
 OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang kita akan menghapus, secara paksa menyela, juga </font></font><code>pg_terminate_backend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membuka koneksi:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">DATABASE</span> db <span class="hljs-keyword">WITH</span> (FORCE);</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER TYPE ... SET STORAGE</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Perintah ini</font></font><code>ALTER TYPE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memungkinkan tipe data dasar untuk mengubah berbagai properti, khususnya, strategi penyimpanan. </font><font style="vertical-align: inherit;">Sebelumnya, Anda hanya bisa mengaturnya di tim</font></font><code>CREATE TYPE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk demonstrasi, kami tidak akan membuat tipe basis baru, tetapi menggunakan yang ada -</font></font><code>tsquery</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tapi pertama-tama, buat database terpisah dan hubungkan ke sana:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> db;<font></font>
\c db</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strategi penyimpanan digunakan untuk tipe data tsquery </font></font><code>plain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sehingga kolom tabel jenis ini mendapatkan strategi yang sama:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> typname,typstorage <span class="hljs-keyword">FROM</span> pg_type <span class="hljs-keyword">WHERE</span> typname = <span class="hljs-string">'tsquery'</span>;</code></pre><br>
<pre><code class="plaintext hljs"> typname | typstorage<font></font>
---------+------------<font></font>
 tsquery | p</code></pre><br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> queries (query <span class="hljs-type">tsquery</span>);
<span class="hljs-keyword">SELECT</span> attname, attstorage <span class="hljs-keyword">FROM</span> pg_attribute <span class="hljs-keyword">WHERE</span> attrelid = <span class="hljs-string">'queries'</span>::<span class="hljs-type">regclass</span> <span class="hljs-keyword">AND</span> attname = <span class="hljs-string">'query'</span>;</code></pre><br>
<pre><code class="plaintext hljs"> attname | attstorage<font></font>
---------+------------<font></font>
 query   | p</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda perlu menggunakan strategi yang berbeda untuk tabel baru, Anda bisa mengubah tipe dasar:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TYPE</span> <span class="hljs-type">tsquery</span> <span class="hljs-keyword">SET</span> (storage=<span class="hljs-keyword">external</span>);
<span class="hljs-keyword">SELECT</span> typname,typstorage <span class="hljs-keyword">FROM</span> pg_type <span class="hljs-keyword">WHERE</span> typname = <span class="hljs-string">'tsquery'</span>;</code></pre><br>
<pre><code class="plaintext hljs"> typname | typstorage<font></font>
---------+------------<font></font>
 tsquery | e</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jenis penyimpanan di tabel baru juga akan berubah:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> new_queries (query <span class="hljs-type">tsquery</span>);
<span class="hljs-keyword">SELECT</span> attname, attstorage <span class="hljs-keyword">FROM</span> pg_attribute <span class="hljs-keyword">WHERE</span> attrelid = <span class="hljs-string">'new_queries'</span>::<span class="hljs-type">regclass</span> <span class="hljs-keyword">AND</span> attname = <span class="hljs-string">'query'</span>;</code></pre><br>
<pre><code class="plaintext hljs"> attname | attstorage<font></font>
---------+------------<font></font>
 query   | e</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harus diingat bahwa mengubah strategi yang melibatkan penggunaan TOAST </font></font><code>plain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak dapat </font><font style="vertical-align: inherit;">diubah kembali ke </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TYPE</span> <span class="hljs-type">tsquery</span> <span class="hljs-keyword">SET</span> (storage=plain);</code></pre><br>
<pre><code class="plaintext hljs">ERROR:  cannot change type's storage to PLAIN</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, percobaan dilakukan dalam database yang terpisah, yang tidak sayang untuk dihapus. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALTER STATISTICS ... SET STATISTICS</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Perintah ini </font></font><code>CREATE STATISTICS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memungkinkan Anda untuk mengumpulkan daftar nilai paling umum untuk kombinasi kolom tabel yang dipilih. </font><font style="vertical-align: inherit;">Jumlah nilai paling umum yang dikumpulkan ditentukan oleh parameter </font></font><code>default_statistics_target</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nilai untuk statistik spesifik sekarang dapat diubah dengan perintah:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">STATISTICS</span>  <span class="hljs-keyword">SET</span> <span class="hljs-keyword">STATISTICS</span> _;</code></pre><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FETCH FIRST with WITH TIES option</font></font></a></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Seperti yang Anda ketahui,</font></font><code>SELECT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alih-alih menentukan</font><font style="vertical-align: inherit;">perintah</font><font style="vertical-align: inherit;">,</font></font><code>LIMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat menggunakan sintaks yang didefinisikan dalam standar SQL:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> *
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>,<span class="hljs-string">'1.1'</span>), (<span class="hljs-number">2</span>,<span class="hljs-string">'2.1'</span>), (<span class="hljs-number">2</span>,<span class="hljs-string">'2.2'</span>), (<span class="hljs-number">3</span>,<span class="hljs-string">'3.1'</span>)) t(a,b)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> a
<span class="hljs-keyword">FETCH FIRST</span> <span class="hljs-number">2</span> <span class="hljs-keyword">ROWS</span> <span class="hljs-keyword">ONLY</span>;</code></pre><br>
<pre><code class="plaintext hljs"> a |  b  <font></font>
---+-----<font></font>
 1 | 1.1<font></font>
 2 | 2.1<font></font>
(2 rows)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang </font></font><code>FETCH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendukung frasa </font></font><code>WITH TIES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang menambahkan ke semua garis "terkait" pada output (garis sama dengan yang sudah dipilih, jika hanya kondisi penyortiran diperhitungkan):</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> *
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>,<span class="hljs-string">'1.1'</span>), (<span class="hljs-number">2</span>,<span class="hljs-string">'2.1'</span>), (<span class="hljs-number">2</span>,<span class="hljs-string">'2.2'</span>), (<span class="hljs-number">3</span>,<span class="hljs-string">'3.1'</span>)) t(a,b)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> a
<span class="hljs-keyword">FETCH FIRST</span> <span class="hljs-number">2</span> <span class="hljs-keyword">ROWS</span> <span class="hljs-keyword">WITH</span> TIES;</code></pre><br>
<pre><code class="plaintext hljs"> a |  b  <font></font>
---+-----<font></font>
 1 | 1.1<font></font>
 2 | 2.1<font></font>
 2 | 2.2<font></font>
(3 rows)</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi dan Tipe Data Internal</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_random_uuid Fungsi</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
baru</font></font><code>get_random_uuid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengembalikan nilai UUID versi 4 (nilai acak):</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> gen_random_uuid();</code></pre><br>
<pre><code class="plaintext hljs">           gen_random_uuid            <font></font>
--------------------------------------<font></font>
 25e02793-80c0-438c-be07-c94b966c43ab</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi ini berguna untuk menghasilkan nilai UUID unik dalam sistem terdistribusi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelumnya, Anda harus menggunakan pustaka uuid-ossp atau pgcrypto. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">min_scale dan trim_scale untuk nilai-nilai tipe numerik</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Fungsi </font></font><code>min_scale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menentukan jumlah digit signifikan di bagian fraksional dari angka, dan fungsi </font></font><code>trim_scale</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membuang nol yang </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;">tidak</font></b></a><font style="vertical-align: inherit;"> signifikan </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> n, min_scale(n), trim_scale(n) <span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">VALUES</span>(<span class="hljs-number">42.42000</span>)) <span class="hljs-keyword">as</span> t(n);</code></pre><br>
<pre><code class="plaintext hljs">    n     | min_scale | trim_scale<font></font>
----------+-----------+------------<font></font>
 42.42000 |         2 |      42.42</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gcd dan lcm</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pengisian di bagian fungsi matematika. </font><font style="vertical-align: inherit;">Sekarang Anda dapat dengan cepat menemukan pembagi umum terbesar (</font></font><code>gcm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dan kelipatan umum terkecil (</font></font><code>lcm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> gcd(<span class="hljs-number">54</span>,<span class="hljs-number">24</span>), lcm(<span class="hljs-number">54</span>,<span class="hljs-number">24</span>);</code></pre><br>
<pre><code class="plaintext hljs"> gcd | lcm<font></font>
-----+-----<font></font>
   6 | 216</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi agregat min dan maks untuk tipe pg_lsn</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fungsi agregat telah ditambahkan untuk</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tipe data</font><font style="vertical-align: inherit;">dan</font><font style="vertical-align: inherit;">yang memungkinkan Anda melakukan kueri formulir:</font></font><code>pg_lsn</code><font style="vertical-align: inherit;"></font><code>min</code><font style="vertical-align: inherit;"></font><code>max</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> min(restart_lsn) <span class="hljs-keyword">FROM</span> pg_replication_slots;
<span class="hljs-keyword">SELECT</span> min(sent_lsn) <span class="hljs-keyword">FROM</span> pg_stat_replication;</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memeriksa pengubah tipe dari nilai balik suatu fungsi</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pada versi sebelumnya, pengubah tipe tidak diperiksa untuk nilai balik fungsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan ada jenis penyimpanan unit moneter dan fungsi yang mengembalikan jumlah pajak penghasilan:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TYPE</span> currency <span class="hljs-keyword">AS</span> (<font></font>
    amount <span class="hljs-type">numeric</span>(<span class="hljs-number">18</span>,<span class="hljs-number">2</span>),<font></font>
    code   <span class="hljs-type">text</span><font></font>
);<font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">FUNCTION</span> income_tax(quantity currency) <span class="hljs-keyword">RETURNS</span> currency
    <span class="hljs-keyword">AS</span> <span class="hljs-string">'SELECT quantity.amount * 0.13, quantity.code'</span> <span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">SQL</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memanggil fungsi, kami berharap mendapatkan dua tempat desimal, namun, kami mendapatkan empat. </font><font style="vertical-align: inherit;">Bahkan casting eksplisit setelah pemanggilan fungsi tidak membantu (kolom ketiga):</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> amount, code, amount::<span class="hljs-type">numeric</span>(<span class="hljs-number">18</span>,<span class="hljs-number">2</span>)
<span class="hljs-keyword">FROM</span> income_tax(<span class="hljs-keyword">ROW</span>(<span class="hljs-number">42.42</span>, <span class="hljs-string">''</span>))\gx</code></pre><br>
<pre><code class="plaintext hljs">-[ RECORD 1 ]--<font></font>
amount | 5.5146<font></font>
code   | <font></font>
amount | 5.5146</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di versi 13, hasilnya benar:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> amount, code, amount::<span class="hljs-type">numeric</span>(<span class="hljs-number">18</span>,<span class="hljs-number">2</span>)
<span class="hljs-keyword">FROM</span> income_tax(<span class="hljs-keyword">ROW</span>(<span class="hljs-number">42.42</span>, <span class="hljs-string">''</span>))\gx</code></pre><br>
<pre><code class="plaintext hljs">-[ RECORD 1 ]<font></font>
amount | 5.51<font></font>
code   | <font></font>
amount | 5.51</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nama-nama yang dilokalkan dalam</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
fungsi</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"> to_date () dan to_timestamp ()</font></b></a></font><code>to_date</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> juga</font></font><code>to_timestamp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">belajar untuk memahami nama-nama yang dilokalkan dari bulan dan hari dalam seminggu. </font><font style="vertical-align: inherit;">Sebelumnya, hanya nama bahasa Inggris yang dapat digunakan:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> to_date(<span class="hljs-string">', 24  2020'</span>, <span class="hljs-string">'TMDay, DD TMMonth YYYY'</span>);</code></pre><br>
<pre><code class="plaintext hljs">  to_date   <font></font>
------------<font></font>
 2020-03-24</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalize dan IS NORMALIZED</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Untuk memenuhi standar SQL, fungsi normalize () telah ditambahkan untuk menormalkan string Unicode, dan predikat IS NORMALIZED untuk memeriksa apakah string tersebut dinormalisasi.</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> str, normalize(str, NFC) <span class="hljs-keyword">AS</span> nfc,<font></font>
       str <span class="hljs-keyword">IS</span> NFC NORMALIZED <span class="hljs-keyword">AS</span> is_nfc_normalized,<font></font>
       normalize(str, NFKC) <span class="hljs-keyword">AS</span> nfkc,<font></font>
       str <span class="hljs-keyword">IS</span> NFKC NORMALIZED <span class="hljs-keyword">AS</span> is_nfkc_normalized
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">VALUES</span>(<span class="hljs-string">U&amp;'\0032\2075'</span>)) <span class="hljs-keyword">AS</span> vals(str)\gx</code></pre><br>
<pre><code class="plaintext hljs">-[ RECORD 1 ]------+---<font></font>
str                | 2‚Åµ<font></font>
nfc                | 2‚Åµ<font></font>
is_nfc_normalized  | t<font></font>
nfkc               | 25<font></font>
is_nfkc_normalized | f</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baca lebih lanjut</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang formulir normalisasi UNICODE. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipe xid8 dan fungsi xid8_current () untuk nomor transaksi 64-bit</font></font></a></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Menambahkan tipe data xid8 baru untuk nomor transaksi 64-bit. Tapi tidak, ini tidak berarti bahwa PostgreSQL beralih ke transaksi 64-bit: semuanya berjalan persis seperti sebelumnya. Tapi beberapa fungsi kembali jenis baru, misalnya, kini direkomendasikan untuk digunakan sebagai pengganti fungsi tua pg_current_xact_id txid_current, yang kembali int8, dan sebagainya. N. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">New tipe data polimorfik keluarga anycompatible</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
menambahkan jenis </font></font><code>anycompatible</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>anycompatiblearray</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>anycompatiblenonarray</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>anycompatiblerange</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Tidak seperti tipe keluarga </font></font><code>anyelement</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">tipe </font><font style="vertical-align: inherit;">baru memungkinkan Anda untuk menggunakan tidak persis sama, tetapi tipe yang benar-benar kompatibel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada contoh berikut, fungsinya</font></font><code>maximum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai argumen yang didefinisikan sebagai </font></font><code>anycompatible</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disahkan </font></font><code>integer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>numeric</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nilai pengembalian dikonversi ke nilai umum untuk dua jenis ini:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">FUNCTION</span> maximum(a anycompatible, b anycompatible) <span class="hljs-keyword">RETURNS</span> anycompatible
	<span class="hljs-keyword">AS</span> <span class="hljs-string">'SELECT CASE WHEN a &gt; b THEN a ELSE b END'</span> <span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">SQL</span>;<font></font>
<font></font>
<span class="hljs-keyword">SELECT</span> f, pg_typeof(f) <span class="hljs-keyword">FROM</span> maximum(<span class="hljs-number">42</span>, <span class="hljs-number">42.42</span>) f;</code></pre><br>
<pre><code class="plaintext hljs">   f   | pg_typeof<font></font>
-------+-----------<font></font>
 42.42 | numeric</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, tipe anycompatible- dan any- adalah dua set tipe independen:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">FUNCTION</span> first_elems(a <span class="hljs-type">anyarray</span>, b anycompatiblearray)
    <span class="hljs-keyword">RETURNS</span> <span class="hljs-keyword">TABLE</span>(a <span class="hljs-type">anyelement</span>, b anycompatible) <span class="hljs-keyword">AS</span> $$<span class="pgsql">
        <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ROW</span>(a[array_lower(a,<span class="hljs-number">1</span>)], b[array_lower(b,<span class="hljs-number">1</span>)]);
    $$</span> <span class="hljs-keyword">LANGUAGE</span> <span class="hljs-keyword">sql</span>;
<span class="hljs-keyword">SELECT</span> first_elems(<span class="hljs-keyword">ARRAY</span>[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], <span class="hljs-keyword">ARRAY</span>[<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>]) <span class="hljs-keyword">AS</span> str, <font></font>
       first_elems(<span class="hljs-keyword">ARRAY</span>[<span class="hljs-number">1.1</span>,<span class="hljs-number">2.2</span>,<span class="hljs-number">3.3</span>],<span class="hljs-keyword">ARRAY</span>[<span class="hljs-keyword">true</span>,<span class="hljs-keyword">false</span>]) <span class="hljs-type">bool</span>;</code></pre><br>
<pre><code class="plaintext hljs">  str  |  bool   <font></font>
-------+---------<font></font>
 (1,a) | (1.1,t)</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bahasa Prosedural</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transformasi untuk tipe bool di PL / Perl</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Baru-baru ini, TRANSFORMASI dari Ivan Panchenko (Postgres Professional) -</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bool_plperl dilakukan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Postgres meneruskan nilai boolean ke</font></font><code>t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau</font><font style="vertical-align: inherit;">dalam PL / Perl seperti</font></font><code>f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi untuk Perl itu</font></font><code>f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bukan boolean</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> salah</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi hanya huruf f, mis. </font><font style="vertical-align: inherit;">dalam konteks logis,</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kebenaran</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Masalah ini dapat diselesaikan dengan cara yang berbeda (lihat</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> korespondensi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), tetapi membuat TRANSFORM untuk bool, menurut Tom Lane, adalah yang paling praktis. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eksekusi cepat ekspresi sederhana di PL / pgSQL</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ekspresi sederhana (setidaknya tidak mengandung panggilan meja dan tidak memerlukan kunci) akan lebih cepat. </font><font style="vertical-align: inherit;">Sebelumnya, dalam kasus ini, waktu dihabiskan secara tidak produktif untuk menghubungi penjadwal pada setiap siklus.</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR REPLACE</span> <span class="hljs-keyword">FUNCTION</span> slow_pi() <span class="hljs-keyword">RETURNS</span> <span class="hljs-type">double</span> <span class="hljs-type">precision</span> <span class="hljs-keyword">AS</span> $$<span class="pgsql">
    <span class="hljs-keyword">DECLARE</span>
        a <span class="hljs-type">double</span> <span class="hljs-type">precision</span> := <span class="hljs-number">1</span>;
        s <span class="hljs-type">double</span> <span class="hljs-type">precision</span> := <span class="hljs-number">1</span>;
        r <span class="hljs-type">double</span> <span class="hljs-type">precision</span> := <span class="hljs-number">0</span>;
    <span class="hljs-keyword">BEGIN</span>
        <span class="hljs-keyword">FOR</span> i <span class="hljs-keyword">IN</span> <span class="hljs-number">1</span> .. <span class="hljs-number">10000000</span> <span class="hljs-keyword">LOOP</span>
            r := r + s/a; a := a + <span class="hljs-number">2</span>; s := -s;
        <span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;
        <span class="hljs-keyword">RETURN</span> <span class="hljs-number">4</span>*r;
    <span class="hljs-keyword">END</span>;
    $$</span> <span class="hljs-keyword">LANGUAGE</span> plpgsql;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Panggil slow_pi () di PG12:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> slow_pi();</code></pre><br>
<pre><code class="plaintext hljs">          slow_pi      <font></font>
    --------------------<font></font>
     3.1415925535898497<font></font>
    (1 row)<font></font>
    Time: 13060,650 ms (00:13,061)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang di PG13:</font></font><br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> slow_pi();</code></pre><br>
<pre><code class="plaintext hljs">          slow_pi      <font></font>
    --------------------<font></font>
     3.1415925535897915<font></font>
    (1 row)<font></font>
    Time: 2108,464 ms (00:02,108)</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstensi tepercaya alih-alih pg_pltemplate</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Direktori sistem telah berkurang sebanyak satu tabel. </font><font style="vertical-align: inherit;">Dihapus</font></font><code>pg_pltemplate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini menyimpan properti bahasa prosedural yang diperlukan selama eksekusi</font></font><code>CREATE LANGUAGE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sekarang kami memutuskan untuk mendaftarkan properti dari dalam skrip ekstensi bahasa yang sesuai</font></font><code>pg_pltemplate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan menyingkirkan tabel itu sendiri. </font><font style="vertical-align: inherit;">Tetapi untuk mengimplementasikan rencana, perlu menyediakan kemungkinan bagi pemilik basis data (tanpa hak pengguna super) untuk membuat bahasa tepercaya dari skrip ekstensi. </font><font style="vertical-align: inherit;">Memang, sekarang untuk membuat, misalnya, plpgsql, pemilik basis data tidak harus superuser. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diterima sebagai berikut. </font><font style="vertical-align: inherit;">Parameter logis baru telah muncul di file kontrol untuk ekstensi</font></font><code>trusted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika kedua parameter</font></font><code>trusted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>superuser</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disertakan, maka tidak hanya superuser dapat membuat ekstensi, tetapi juga pengguna dengan hak </font></font><code>CREATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ke database saat ini (dan karenanya pemiliknya). </font><font style="vertical-align: inherit;">Saat menjalankan skrip ekstensi seperti itu, hak pengguna super yang menginisialisasi cluster akan digunakan. </font><font style="vertical-align: inherit;">Objek yang dibuat oleh ekstensi akan menjadi miliknya, meskipun pemilik ekstensi itu sendiri akan menjadi pengguna yang membuat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konsekuensi penting dari perubahan ini:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstensi tepercaya membuka jalan bagi pengembang pihak ketiga untuk membuat bahasa tepercaya lainnya. </font><font style="vertical-align: inherit;">Sekarang kita hanya terbatas pada plpgsql, plperl dan pltcl.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hal </font></font><code>pg_pltemplate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">itu sulit tertulis bahwa plpython mengacu pada versi kedua bahasa. </font><font style="vertical-align: inherit;">Kegagalan untuk </font></font><code>pg_pltemplate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">melakukannya adalah langkah (perlu, meskipun tidak cukup) untuk transisi ke python 3.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indeks</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compression of B-tree</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sebuah tambalan yang penting dan sudah lama ditunggu-tunggu (pekerjaan sudah dimulai pada tahun 2015) yang ditulis oleh Anastasia Lubennikova (Postgres Professional) dan Peter Geigan (Peter Geoghegan) akhirnya dikomunikasikan oleh Peter. Nastya berhasil</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> membicarakan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hal ini</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"> di PGconf India</font></a><font style="vertical-align: inherit;"> . Postgres telah belajar untuk secara signifikan mengurangi ukuran indeks B-tree melalui deduplikasi, yaitu penghematan pada kunci indeks duplikat. Indeks ini telah dirancang ulang secara serius sehingga kompresi dimungkinkan tanpa kehilangan kompatibilitas dengan versi indeks sebelumnya. Gagasan deduplikasi diambil dari arsitektur indeks yang lebih fleksibel seperti</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (indeks terbalik - Generalized Inverted Index).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam indeks ini lebih sering daripada di</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> B-tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ada situasi di mana kunci terkait dengan sejumlah besar catatan. Dalam kasus pengolah kata, misalnya, token yang sama biasanya ditemukan di beberapa dokumen. Dan itu disimpan dalam indeks hanya sekali. Sampai saat ini, indeks B-tree tidak tahu bagaimana melakukan ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Indeks B-tree berbeda dari indeks GIN terutama di halaman daun. Bergantung pada jumlah catatan yang terkait dengan nilai kunci yang sama, opsi dimungkinkan: halaman hanya berisi daftar posting - daftar TUT (pengidentifikasi catatan terindeks), jika daftar kecil, dan jika ada banyak TUT, maka alih-alih daftar nilai disimpan "cabang pohon" baru - tautan ke halaman lain seperti daftar posting atau cabang pohon lainnya (mereka disebut posting tree).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Struktur pohon seperti itu mirip dengan B-tree, tetapi berbeda dalam detail penting: misalnya, daftar untuk bergerak melalui halaman-halaman dengan tingkat pohon yang sama di GIN adalah searah, bukan dua arah. Oleh karena itu (termasuk) kompatibilitas yang baik dari indeks deduplicated baru dengan versi lama tidak mudah untuk dicapai. Dan perbaikannya benar-benar membutuhkan waktu lebih dari 3 tahun. Itu juga perlu untuk memperbaiki mekanisme pembersihan (microvacuum) dan nuansa lainnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam tes kinerja, semua indeks yang menerapkan deduplikasi telah menyusut sekitar 3 kali. Mengkompresi duplikat juga membantu indeks unik, menghilangkan masalah pembengkakan indeks pada tingkat tinggi perubahan tabel. Perilaku baru dapat dihubungkan dan diputus pada tingkat pengaturan indeks. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemindaian penuh dengan indeks GIN tidak dilakukan di tempat yang tidak perlu</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Patch ini memungkinkan dalam beberapa kasus untuk menghindari lulus penuh seluruh indeks GIN. </font><font style="vertical-align: inherit;">Beberapa operasi, meskipun didukung oleh indeks GIN, dilakukan oleh pemindaian penuh indeks. </font><font style="vertical-align: inherit;">Ambil, misalnya, indeks untuk pencarian kolom teks lengkap </font></font><code>tsvector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika permintaan pencarian memiliki bentuk "apa pun kecuali kata yang diberikan", maka seluruh indeks harus dibaca secara keseluruhan. </font><font style="vertical-align: inherit;">Namun, jika ada kondisi lain dalam permintaan yang tidak memerlukan pemindaian penuh indeks, maka indeks akan tetap dipindai sepenuhnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan optimasi baru, kondisi yang lebih akurat akan digunakan terlebih dahulu, memungkinkan Anda untuk mendapatkan keuntungan dari indeks, dan kemudian hasilnya akan diperiksa ulang untuk memperhitungkan batasan lain. </font><font style="vertical-align: inherit;">Bandingkan jumlah halaman yang dibaca di versi 12 (Buffer):</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">ANALYZE</span>, <span class="hljs-keyword">BUFFERS</span>, <span class="hljs-keyword">COSTS</span> <span class="hljs-keyword">OFF</span>, <span class="hljs-keyword">TIMING</span> <span class="hljs-keyword">OFF</span>)
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> mail_messages <span class="hljs-keyword">WHERE</span> tsv @@ to_tsquery(<span class="hljs-string">'!vacuum'</span>) <span class="hljs-keyword">AND</span> tsv @@ to_tsquery(<span class="hljs-string">'analyze'</span>);</code></pre><br>
<pre><code class="plaintext hljs">                                             QUERY PLAN                                             <font></font>
------------------------------------------------------------------<font></font>
Bitmap Heap Scan on mail_messages (actual rows=5864 loops=1)<font></font>
   Recheck Cond: ((tsv @@ to_tsquery('!vacuum'::text)) AND (tsv @@ to_tsquery('analyze'::text)))<font></font>
   Heap Blocks: exact=5167<font></font>
   Buffers: shared hit=24 read=27405<font></font>
   -&gt;  Bitmap Index Scan on mail_messages_tsv_idx (actual rows=5864 loops=1)<font></font>
         Index Cond: ((tsv @@ to_tsquery('!vacuum'::text)) AND (tsv @@ to_tsquery('analyze'::text)))<font></font>
         Buffers: shared hit=24 read=22238<font></font>
 Planning Time: 0.283 ms<font></font>
 Execution Time: 3258.234 ms</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dengan jumlah buffer dalam versi baru:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">ANALYZE</span>, <span class="hljs-keyword">BUFFERS</span>, <span class="hljs-keyword">COSTS</span> <span class="hljs-keyword">OFF</span>, <span class="hljs-keyword">TIMING</span> <span class="hljs-keyword">OFF</span>)
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> mail_messages <span class="hljs-keyword">WHERE</span> tsv @@ to_tsquery(<span class="hljs-string">'!vacuum'</span>) <span class="hljs-keyword">AND</span> tsv @@ to_tsquery(<span class="hljs-string">'analyze'</span>);</code></pre><br>
<pre><code class="plaintext hljs">                                             QUERY PLAN                                             <font></font>
---------------------------------------------------------------------------<font></font>
Bitmap Heap Scan on mail_messages (actual rows=5864 loops=1)<font></font>
   Recheck Cond: ((tsv @@ to_tsquery('!vacuum'::text)) AND (tsv @@ to_tsquery('analyze'::text)))<font></font>
   Heap Blocks: exact=5156<font></font>
   Buffers: shared hit=5179<font></font>
   -&gt;  Bitmap Index Scan on mail_messages_tsv_idx (actual rows=5864 loops=1)<font></font>
         Index Cond: ((tsv @@ to_tsquery('!vacuum'::text)) AND (tsv @@ to_tsquery('analyze'::text)))<font></font>
         Buffers: shared hit=23<font></font>
 Planning Time: 0.250 ms<font></font>
 Execution Time: 8.779 ms</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Situasi serupa dapat ditemui saat menggunakan trigram, dan ketika memeriksa terjadinya array. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter kelas operator</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Di PostgreSQL, banyak metode akses indeks adalah "kerangka kerja" yang mengambil implementasi algoritma pencarian tingkat tinggi, bekerja dengan halaman dan kunci, dan log WAL. Dan mengikat untuk tipe data tertentu dan operator dilakukan menggunakan kelas operator. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hingga saat ini, kelas operator tidak dapat memiliki parameter. Misalnya, untuk pencarian teks lengkap, indeks GiST dengan kelas operator dapat digunakan </font></font><code>tsvector_ops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(tentang kelas operator GiST </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) Kelas operator ini menggunakan pohon tanda tangan, dan panjang tanda tangan diperbaiki (124 byte). Sekarang Anda dapat menentukan panjang secara eksplisit, yang memungkinkan Anda untuk mengontrol keseimbangan antara ukuran indeks dan efisiensi (jumlah tabrakan hash):</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> mail_messages <span class="hljs-keyword">USING</span> gist(tsv tsvector_ops(siglen=<span class="hljs-number">1024</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perubahan serupa untuk permulaan dibuat untuk kelas lain dari operator GiST yang menggunakan pohon tanda tangan, yang berlaku untuk ekstensi hstore, intarray, ltree, dan pg_trgm. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi ide utama perubahan ini adalah kemampuan untuk meneruskan ekspresi JSONPath ke indeks GIN sehingga tidak seluruh dokumen JSON diindeks, tetapi hanya bagian yang diperlukan saja. Dalam banyak kasus, ini secara radikal akan mengurangi ukuran indeks. Tetapi pekerjaan ini masih harus dilakukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan Oleg Bartunov, implementasi Nikita Glukhov dan Alexander Korotkov (ketiga Postgres Professional). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operator &lt;-&gt; (kotak, titik)</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ditambahkan. Operasi yang hilang ditambahkan untuk digunakan dalam kNN untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GiST</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SP-GiST</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Di PG12 saat bekerja dengan tipe geometris </font></font><code>point</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>box</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat menggunakan operator jarak </font></font><code>&lt;-&gt;(point, box)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan itu akan mempercepat pencarian dengan indeks GiST dan SP-GiST. </font><font style="vertical-align: inherit;">Tetapi simetris operator kepadanya </font></font><code>&lt;-&gt;(box, point)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak diterapkan, meskipun ia </font></font><code>box</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudah memahami jarak ke tipe yang lebih kompleks - poligon dan lingkaran.</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> points(<span class="hljs-type">point</span> <span class="hljs-type">point</span>);
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> boxes(<span class="hljs-type">box</span> <span class="hljs-type">box</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> points <span class="hljs-keyword">VALUES</span>(<span class="hljs-string">'1,2'</span>,<span class="hljs-string">'3,4'</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> boxes <span class="hljs-keyword">VALUES</span>(box(<span class="hljs-type">point</span>(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>),<span class="hljs-type">point</span>(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)), box(<span class="hljs-type">point</span>(<span class="hljs-number">13</span>,<span class="hljs-number">14</span>),<span class="hljs-type">point</span>(<span class="hljs-number">15</span>,<span class="hljs-number">16</span>)));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di PG12:</font></font><br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> p.point, b.box, b.box  &lt;-&gt; p.point distance <span class="hljs-keyword">FROM</span> points <span class="hljs-keyword">AS</span> p, boxes <span class="hljs-keyword">AS</span> b <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance;</code></pre><br>
<pre><code class="plaintext hljs">:    : box &lt;-&gt; point</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika sebaliknya, maka semuanya baik-baik saja:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> p.point, b.box, p.point  &lt;-&gt; b.box distance <span class="hljs-keyword">FROM</span> points <span class="hljs-keyword">AS</span> p, boxes <span class="hljs-keyword">AS</span> b <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance;</code></pre><br>
<pre><code class="plaintext hljs"> point |       box       |      distance<font></font>
-------+-----------------+--------------------<font></font>
 (1,2) | (5,6),(3,4)     | 2.8284271247461903<font></font>
 (2,1) | (5,6),(3,4)     | 3.1622776601683795<font></font>
 (1,2) | (15,16),(13,14) | 16.970562748477143<font></font>
 (2,1) | (15,16),(13,14) | 17.029386365926403</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan dalam PG13:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> p.point, b.box, b.box  &lt;-&gt; p.point distance <span class="hljs-keyword">FROM</span> points <span class="hljs-keyword">AS</span> p, boxes <span class="hljs-keyword">AS</span> b <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance;</code></pre><br>
<pre><code class="plaintext hljs"> point |       box       |      distance<font></font>
-------+-----------------+--------------------<font></font>
 (1,2) | (5,6),(3,4)     | 2.8284271247461903<font></font>
 (2,1) | (5,6),(3,4)     | 3.1622776601683795<font></font>
 (1,2) | (15,16),(13,14) | 16.970562748477143<font></font>
 (2,1) | (15,16),(13,14) | 17.029386365926403</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Indeks GiST dan SP-GiST akan dipercepat dalam operasi ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan bahwa dalam PG13, jika Anda bertanya:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> count(*) <span class="hljs-keyword">FROM</span> pg_operator <span class="hljs-keyword">WHERE</span> oprname = <span class="hljs-string">'&lt;-&gt;'</span>;</code></pre><pre><code class="plaintext hljs"> count <font></font>
-------<font></font>
    28</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dan jika kami melakukan hal yang sama di PG12, kami mendapatkan 20 entri: dalam versi ke-13, daftar itu diisi ulang dengan sebanyak 8 operator.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Json</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dukungan untuk metode .datetime () untuk jsonpath</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ini adalah salah satu patch yang gagal dari serangkaian besar</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> patch JSONPath yang PG12</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak punya waktu untuk menyelesaikannya. Bagian dari standar JSON / SQL. Masalahnya adalah bahwa semua fungsi dalam seri patch JSONPath tidak dapat diubah, tetapi perbandingan tanggal memperhitungkan zona waktu saat ini, yang dapat berubah selama sesi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus seperti itu, kami mengizinkan fungsi yang sudah ada untuk melakukan kesalahan tentang perbandingan yang tidak bisa diubah. Pada saat yang sama, tambalan ini memiliki fungsi dengan akhiran _tz yang bekerja secara stabil dalam operasi dengan zona waktu.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fungsi baru - fungsi jsonb_set_lax</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara umum, lax adalah mode operasi fungsi dengan jsonb yang tidak ketat (tidak seperti ketat). Dalam hal ini, fungsi ini akan operasional dalam situasi di mana salah satu argumen yang diperlukan adalah NULL. Berbeda dengan versi ketat - jsonb_set () - ia memiliki argumen tambahan yang menunjukkan tindakan dalam kasus NULL. Opsi: use_json_null / rais_exception / return_target / delete_key. Opsi disarankan oleh pengguna yang tertarik. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dioptimalkan beberapa fungsi jsonb.</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dioptimalkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">banyak.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, terutama melalui upaya Nikita Glukhov (Postgres Professional). </font><font style="vertical-align: inherit;">Tetapi untuk menganalisis setiap poin dalam kasus ini tidak ada gunanya: pertama, kelimpahan mereka akan mengembang artikel yang sudah pendek; </font><font style="vertical-align: inherit;">dan kedua, perubahan terkait dengan perangkat internal, dan tidak setiap pengguna tertarik. </font><font style="vertical-align: inherit;">Karena itu, kami hanya akan mencantumkan sebagian besar dari mereka:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi yang dioptimalkan JsonbExtractScalar ();</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operator yang dioptimalkan # &gt;&gt;, berfungsi jsonb_each_text (), jsonb_array_elements_text ();</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengenalan tipe JsonbContainer di get_jsonb_path_all () dioptimalkan;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengambil token pertama dari iterator JsonbIterator digantikan oleh makro JsonbContainerIsXxx ();</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstraksi kunci yang lebih nyaman - findJsonbKeyInObject ();</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyimpanan dioptimalkan findJsonbValueFromContainer () dan getIthJsonbValueFromContainer ();</font></font></li>
<li>  get_jsonb_path_all(),     ;<br>
  JsonbValueAsText.</li>
</ol><br>
<i> ,        SQL/JSON: JSON_TABLE  SQL/JSON: functions.       . ,   .      .     PG14.   JSONPath   .</i><br>
<br>
<h3>  </h3><br>
<h4>pgbench</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilitas untuk menjalankan tes kinerja menerima serangkaian perbaikan. </font><font style="vertical-align: inherit;">Ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">statistik tentang pelaksanaan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tugas pada tahap inisialisasi, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kesimpulan yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">visual</font></a><font style="vertical-align: inherit;"> , kemampuan untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">melihat kode skrip bawaan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pengujian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada tabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akun yang </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">dipartisi</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, kami menambahkan perintah yang </font></font><code>\aset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mirip dengan </font></font><code>\gset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, tetapi memungkinkan untuk menetapkan nilai untuk variabel dari beberapa permintaan yang dikirim sekaligus. </font><font style="vertical-align: inherit;">Baris berikut, dikirim ke server untuk dieksekusi, menetapkan kedua variabel </font></font><code>one</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>two</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">AS</span> one \; <span class="hljs-keyword">SELECT</span> <span class="hljs-number">2</span> <span class="hljs-keyword">AS</span> two \aset</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_dump</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pg_dump belajar melepaskan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data dari tabel pihak ketiga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Melalui parameter, </font></font><code>--include-foreign-data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat menentukan daftar server pihak ketiga, data dari tabel yang akan diturunkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gunakan bongkar ini dengan hati-hati. </font><font style="vertical-align: inherit;">Jauh dari kenyataan bahwa data harus diunggah ke server pihak ketiga. </font><font style="vertical-align: inherit;">Selain itu, sangat mungkin bahwa server pihak ketiga tidak akan tersedia selama pemulihan. </font><font style="vertical-align: inherit;">Atau server pihak ketiga hanya bisa mengizinkan membaca, tetapi tidak menulis data.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">psql</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Serangkaian tambalan kecil membuat psql lebih nyaman:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyempurnaan tab yang ditingkatkan untuk beberapa tim.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selain </font></font><code>\echo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengirim string ke STDOUT, perintah baru </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>\warn</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengirim string ke output kesalahan standar (STDERR).</font></font></li>
<li> <code>\d</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> toast-</a>       .        <code>\d+</code>        .</li>
<li>  <code>\dt+</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  ¬´Persistence¬ª</a>      (unlogged)   (permanent).</li>
<li>  <code>\e</code>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  </a>,       <code>;</code> (  <code>\g*</code>). ,       psql      .</li>
<li>         .     <code>PROMPT1</code>  <code>PROMPT2</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> </a> <code>%x</code>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perintah baru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk informasi lebih lanjut tentang metode akses: </font></font><code>\dAc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>\dAf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>\dAo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>\dAp</code></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda </font></font><code>\g</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sekarang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat menentukan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam kurung opsi apa saja yang didukung </font></font><code>\pset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Mereka hanya akan bertindak pada tim saat ini.</font></font></li>
</ul><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libpq</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perubahan kecil sehubungan dengan PostgreSQL:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketidaktepatan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam deskripsi parameter host dan hostadr dan inkonsistensi yang dihasilkan dalam output </font></font><code>\conninfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perintah utilitas psql telah diperbaiki.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika kunci sertifikat klien disimpan dalam bentuk terenkripsi, Anda dapat memasukkan kata sandi hanya dalam mode interaktif. </font><font style="vertical-align: inherit;">Parameter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sslpassword</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">memungkinkan Anda</font></a><font style="vertical-align: inherit;"> mendekripsi kunci secara non-interaktif.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dua parameter baru, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sslminprotocolversion dan sslmaxprotocolversion,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memungkinkan Anda untuk menentukan batasan pada versi protokol SSL / TCL yang memungkinkan koneksi.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reindexdb</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parameter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--jobs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru pada </font><font style="vertical-align: inherit;">utilitas </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">reindexdb</font></a><font style="vertical-align: inherit;"> menetapkan jumlah koneksi database di mana indeks akan dibangun kembali pada saat yang sama.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_rewind</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keterbatasan utilitas secara bertahap dihapus, dan kemungkinan meningkat. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, pg_rewind </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sekarang dapat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> merekam informasi untuk pemulihan (seperti pg_basebackup dapat melakukan ini), serta memulai pemulihan dan pematian instance dari instance jika tidak dihentikan melalui pos pemeriksaan (ini harus dilakukan secara manual sebelumnya). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kedua, pg_rewind belajar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bekerja dengan arsip WAL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah utilitas menemukan titik divergensi WAL antara dua server, itu harus membangun daftar semua halaman yang perlu disalin ke cluster target untuk menghilangkan perbedaan. </font><font style="vertical-align: inherit;">Untuk ini, utilitas memerlukan semua file WAL, mulai dari titik yang ditemukan. </font><font style="vertical-align: inherit;">Jika file WAL yang diperlukan tidak tersedia di cluster target, utilitas tidak dapat melakukan pekerjaannya sebelumnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan tambalan ini oleh Alexey Kondratov (Postgres Professional) pg_rewind akan dapat membaca segmen WAL yang hilang dari arsip file log menggunakan parameter restore_command jika switch baru -c atau - restore-target-wal ditentukan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_waldump</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pg_waldump akan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendekripsi catatan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> transaksi yang disiapkan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amcheck</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ekstensi amcheck telah belajar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengenali kerusakan yang lebih baik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam indeks B-tree. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Omong-omong, sekarang pesan di log server tentang halaman yang rusak akan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berbeda untuk indeks dan tabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halamaninspect</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><code>heap_tuple_infomask_flags</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fungsi ekstensi pageinspect </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendekripsi nilai-nilai bidang</font></font></a> <code>infomask</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><code>infomask2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dikembalikan oleh fungsi </font></font><code>heap_page_items</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Berguna dalam menyelidiki situasi korupsi data.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postgres_fdw</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengguna super di tingkat pemetaan nama pengguna dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memungkinkan pengguna biasa untuk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menggunakan koneksi tanpa kata sandi:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-keyword">MAPPING</span> <span class="hljs-keyword">FOR</span>  <span class="hljs-keyword">SERVER</span> 
    <span class="hljs-keyword">OPTIONS</span> (<span class="hljs-keyword">ADD</span> password_required <span class="hljs-string">'false'</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini dilakukan, antara lain, sehingga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sslkey dan sslcert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dapat digunakan sebagai parameter koneksi </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adminpack</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ekstensi adminpack memiliki fitur baru - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>pg_file_sync</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dengan menggunakannya, Anda dapat melakukan fsync untuk file yang ditulis oleh server ke disk, misalnya melalui </font></font><code>pg_file_write</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code>COPY TO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemantauan</font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_stat_slru</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di memori bersama server, tidak hanya ada cache buffer yang besar, tetapi juga sejumlah cache lain yang lebih sederhana (misalnya, untuk status transaksi). </font><font style="vertical-align: inherit;">Mereka menggunakan algoritme sederhana untuk mengeluarkan halaman yang paling jarang digunakan (sederhana yang belum lama digunakan, atau SLRU). </font><font style="vertical-align: inherit;">Sampai sekarang, cache seperti itu "baru saja bekerja", tetapi ada kebutuhan untuk memonitor mereka, pertama-tama untuk pengembang kernel PostgreSQL untuk mencari tahu apakah ada sesuatu yang perlu diubah di dalamnya. </font><font style="vertical-align: inherit;">Untuk ini dan untuk tujuan, tampilan baru </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_stat_slru telah muncul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_stat_activity</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam tampilan, </font></font><code>pg_stat_activity</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kolom baru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah </font></font><code>leader_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Untuk proses yang berpartisipasi dalam permintaan paralel, diisi dengan jumlah proses utama. </font><font style="vertical-align: inherit;">Dan proses memimpin </font></font><code>leader_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah nomor proses </font></font><code>pid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kueri berikut menunjukkan kueri dan proses mana yang saat ini berjalan secara paralel:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> query, leader_pid, <font></font>
    array_agg(pid) <span class="hljs-keyword">filter</span>(<span class="hljs-keyword">WHERE</span> leader_pid != pid) <span class="hljs-keyword">AS</span> members
  <span class="hljs-keyword">FROM</span> pg_stat_activity
 <span class="hljs-keyword">WHERE</span> leader_pid <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
 <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> query, leader_pid;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada perubahan pada daftar acara yang menunggu. </font><font style="vertical-align: inherit;">Menambahkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dua acara baru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><code>BackupWaitWalArchive</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>RecoveryPause</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dan dua lainnya diberi nama yang lebih akurat: </font></font><code>RecoveryWalStream -&gt; RecoveryRetrieveRetryInterval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>RecoveryWalAll -&gt; RecoveryWalStream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dua peristiwa menunggu baru yang terjadi pada replika</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><code>RecoveryConflictSnapshot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(konflik dengan VACUUM, yang menghapus versi baris yang diperlukan) dan </font></font><code>RecoveryConflictTablespace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(konflik terkait dengan penghapusan ruang tabel).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_stat_statements</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hingga saat ini, ekstensi telah </font></font><code>pg_stat_statements</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memperlakukan permintaan dengan </font></font><code>FOR UPDATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan tanpa frasa sebagai permintaan yang sama. Sekarang permintaan dengan </font></font><code>FOR UPDATE</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dicatat secara terpisah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jumlah informasi yang dikumpulkan telah meningkat. Mulai sekarang, tidak hanya informasi tentang sumber daya untuk menjalankan perintah dicatat, tetapi juga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">statistik pada entri jurnal yang dihasilkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Kolom presentasi baru: </font></font><code>wal_bytes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- volume rekaman yang dihasilkan, </font></font><code>wal_records</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- jumlah rekaman yang dihasilkan, </font></font><code>wal_num_fpw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- jumlah gambar halaman penuh (penulisan halaman penuh). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini dimungkinkan berkat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">infrastruktur yang disiapkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk melacak penggunaan WAL. Oleh karena itu, sekarang </font></font><code>EXPLAIN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan opsi baru </font></font><code>WAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan menampilkan volume catatan yang dihasilkan:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> t (id <span class="hljs-type">int</span>);
<span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">ANALYZE</span>, WAL, <span class="hljs-keyword">COSTS</span> <span class="hljs-keyword">OFF</span>, <span class="hljs-keyword">TIMING</span> <span class="hljs-keyword">OFF</span>, <span class="hljs-keyword">SUMMARY</span> <span class="hljs-keyword">OFF</span>)
    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>);</code></pre><br>
<pre><code class="plaintext hljs">              QUERY PLAN              <font></font>
--------------------------------------<font></font>
 Insert on t (actual rows=0 loops=1)<font></font>
   WAL:  records=1  bytes=59<font></font>
   -&gt;  Result (actual rows=1 loops=1)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perluasan </font></font><code>auto_explain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>VACUUM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font><code>VERBOSE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan </font></font><code>autovacuum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">juga menggunakan infrastruktur yang dibuat dan akan menghasilkan volume WAL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kembali ke </font></font><code>pg_stat_statements</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jika parameter baru </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pg_stat_statements.track_planning diaktifkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka statistik tambahan yang terkait dengan penjadwal akan dicatat untuk setiap operator: jumlah paket yang dibuat; </font><font style="vertical-align: inherit;">total waktu perencanaan; </font><font style="vertical-align: inherit;">waktu minimum dan maksimum dari satu perencanaan, serta mean dan standar deviasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akuntansi untuk sumber daya yang dialokasikan untuk penjadwal tercermin dalam tambalan lain yang tidak terkait </font></font><code>pg_stat_statements</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>EXPLAIN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan opsi </font></font><code>BUFFERS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan melaporkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jumlah buffer yang digunakan pada tahap perencanaan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">ANALYZE</span>, <span class="hljs-keyword">BUFFERS</span>, <span class="hljs-keyword">COSTS</span> <span class="hljs-keyword">OFF</span>, <span class="hljs-keyword">TIMING</span> <span class="hljs-keyword">OFF</span>) 
    <span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> pg_class;</code></pre><br>
<pre><code class="plaintext hljs">                   QUERY PLAN                   <font></font>
------------------------------------------------<font></font>
 Seq Scan on pg_class (actual rows=386 loops=1)<font></font>
   Buffers: shared hit=9 read=4<font></font>
 Planning Time: 0.782 ms<font></font>
   Buffers: shared hit=103 read=11<font></font>
 Execution Time: 0.219 ms</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Majalah</font></font></h4><br>
<ul>
<li> <code>log_statement_sample_rate</code>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   SQL,   </a>,      <code>log_min_duration_sample</code>( ).<br>
,    <code>log_min_duration_statement</code>    , ..  <code>log_min_duration_statement</code> ,  <code>log_min_duration_sample</code>,       ,      <code>log_statement_sample_rate</code>.<br>
 ,   <code>log_transaction_sample_rate</code>    ,       ,      .</li>
<li>  ,   (   log_min_error_statement),         .          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><code>log_parameter_max_length_on_error</code></a>.     0,   .<br>
 <code>log_parameter_max_length_on_error</code>          SQL,    ,      .<br>
    (     <code>log_statements</code>  <code>log_duration</code>)   ,  : <code>log_parameter_max_length</code>,     ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda sekarang dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menulis jenis proses</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><code>pg_stat_activity.backend_type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ke </font><font style="vertical-align: inherit;">log server </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Untuk ini </font></font><code>log_line_prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, simbol khusus disediakan </font><font style="vertical-align: inherit;">dalam parameter </font></font><code>%b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dan jika log ditulis dalam format csv ( </font></font><code>log_destination=csvlog</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), maka kolom </font></font><code>backend_type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sudah termasuk di sana.</font></font></li>
</ul><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kemajuan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan baru </font></font><code>pg_stat_progress_analyze</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>pg_stat_progress_basebackup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memungkinkan Anda untuk melacak kemajuan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengumpulan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> perintah </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">statistik</font></a></font><code>ANALYZE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font><font style="vertical-align: inherit;">utilitas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cadangan</font></font></a><font style="vertical-align: inherit;"></font><code>pg_basebackup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , masing-masing.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimasi</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhitungan fungsi-fungsi yang tidak dapat diubah dalam klausa FROM pada tahap perencanaan</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Patch Aleksandr Kuzmenkov dan Aleksandr Parfyonov (keduanya dari Postgres Professional) membantu dalam kasus-kasus di mana</font></font><code>FROM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panggilan tersebut berisi panggilan fungsi yang sebenarnya merupakan konstanta. </font><font style="vertical-align: inherit;">Dalam hal ini, alih-alih membuat koneksi, nilai konstan diganti di tempat yang diperlukan dari permintaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Begini cara ini terjadi dengan contoh kueri yang terkait dengan pencarian teks lengkap:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">COSTS</span> <span class="hljs-keyword">OFF</span>)
<span class="hljs-keyword">SELECT</span> subject, ts_rank_cd(tsv, q) <span class="hljs-keyword">AS</span> rank
<span class="hljs-keyword">FROM</span> mail_messages, to_tsquery(<span class="hljs-string">'english'</span>, <span class="hljs-string">'tuple'</span>) q
<span class="hljs-keyword">WHERE</span> tsv @@ q
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rank <span class="hljs-keyword">DESC</span>;</code></pre><br>
<pre><code class="plaintext hljs">                              QUERY PLAN                              <font></font>
------------------------------------------------------------------<font></font>
 Sort<font></font>
   Sort Key: (ts_rank_cd(mail_messages.tsv, '''tuple'''::tsquery)) DESC<font></font>
   -&gt;  Bitmap Heap Scan on mail_messages<font></font>
         Recheck Cond: (tsv @@ '''tuple'''::tsquery)<font></font>
         -&gt;  Bitmap Index Scan on mail_messages_tsv_idx<font></font>
               Index Cond: (tsv @@ '''tuple'''::tsquery)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak ada koneksi, dan nilai 'tuple' :: tsquery diganti dalam kueri yang sudah pada tahap perencanaan. </font><font style="vertical-align: inherit;">Versi 12 memiliki gambaran yang sangat berbeda:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">COSTS</span> <span class="hljs-keyword">OFF</span>)
<span class="hljs-keyword">SELECT</span> subject, ts_rank_cd(tsv, q) <span class="hljs-keyword">AS</span> rank                            
<span class="hljs-keyword">FROM</span> mail_messages, to_tsquery(<span class="hljs-string">'english'</span>, <span class="hljs-string">'tuple'</span>) q
<span class="hljs-keyword">WHERE</span> tsv @@ q                            
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rank <span class="hljs-keyword">DESC</span>;</code></pre><br>
<pre><code class="plaintext hljs">                          QUERY PLAN                         <font></font>
-----------------------------------------------------<font></font>
 Sort<font></font>
   Sort Key: (ts_rank_cd(mail_messages.tsv, q.q)) DESC<font></font>
   -&gt;  Nested Loop<font></font>
         -&gt;  Function Scan on q<font></font>
         -&gt;  Bitmap Heap Scan on mail_messages<font></font>
               Recheck Cond: (tsv @@ q.q)<font></font>
               -&gt;  Bitmap Index Scan on mail_messages_tsv_idx<font></font>
                     Index Cond: (tsv @@ q.q)</code></pre><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyortiran bertahap</font></font></a></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saat menyortir dengan banyak kunci diperlukan (k1, k2, k3 ...), penjadwal sekarang dapat memanfaatkan pengetahuan bahwa data sudah diurutkan berdasarkan beberapa kunci pertama (misalnya, k1 dan k2). Dalam hal ini, Anda tidak dapat mengurutkan kembali semua data lagi, tetapi membaginya menjadi kelompok-kelompok berturut-turut dengan nilai yang sama k1 dan k2, dan "urutkan" dengan kunci k3.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, seluruh penyortiran terbagi menjadi beberapa jenis ukuran yang lebih kecil berturut-turut. Ini mengurangi jumlah memori yang dibutuhkan, dan juga memungkinkan Anda untuk memberikan data pertama sebelum semua penyortiran selesai.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, dalam demobase di tabel tiket ada indeks di kolom ticket_id. </font><font style="vertical-align: inherit;">Data yang diterima dari indeks akan diurutkan berdasarkan ticket_id, jadi permintaan berikut akan menggunakan pengurutan tambahan:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">analyze</span>, <span class="hljs-keyword">costs</span> <span class="hljs-keyword">off</span>, <span class="hljs-keyword">timing</span> <span class="hljs-keyword">off</span>)
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> tickets <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> ticket_no, passenger_id;</code></pre><br>
<pre><code class="plaintext hljs">                                  QUERY PLAN                                  <font></font>
------------------------------------------------------------------------------<font></font>
 Incremental Sort (actual rows=2949857 loops=1)<font></font>
   Sort Key: ticket_no, passenger_id<font></font>
   Presorted Key: ticket_no<font></font>
   Full-sort Groups: 92184 Sort Method: quicksort Memory: avg=31kB peak=31kB<font></font>
   -&gt;  Index Scan using tickets_pkey on tickets (actual rows=2949857 loops=1)<font></font>
 Planning Time: 2.137 ms<font></font>
 Execution Time: 2230.019 ms</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsionalitas penyortiran inkremental dapat dinonaktifkan dengan parameter enable_incrementalsort. </font><font style="vertical-align: inherit;">Dalam hal ini, pengurutan akan terasa lebih lama:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SET</span> enable_incrementalsort = <span class="hljs-keyword">off</span>;
<span class="hljs-keyword">EXPLAIN</span> (<span class="hljs-keyword">analyze</span>, <span class="hljs-keyword">costs</span> <span class="hljs-keyword">off</span>, <span class="hljs-keyword">timing</span> <span class="hljs-keyword">off</span>)
<span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> tickets <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> ticket_no, passenger_id;</code></pre><br>
<pre><code class="plaintext hljs">                              QUERY PLAN                               <font></font>
-----------------------------------------------------------------------<font></font>
 Gather Merge (actual rows=2949857 loops=1)<font></font>
   Workers Planned: 2<font></font>
   Workers Launched: 2<font></font>
   -&gt;  Sort (actual rows=983286 loops=3)<font></font>
         Sort Key: ticket_no, passenger_id<font></font>
         Sort Method: external merge  Disk: 107024kB<font></font>
         Worker 0:  Sort Method: external merge  Disk: 116744kB<font></font>
         Worker 1:  Sort Method: external merge  Disk: 107200kB<font></font>
         -&gt;  Parallel Seq Scan on tickets (actual rows=983286 loops=3)<font></font>
 Planning Time: 3.994 ms<font></font>
 Execution Time: 12291.844 ms</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan penyortiran bertahap diusulkan kembali pada tahun 2013 oleh Alexander Korotkov (Postgres Professional), dan sekarang, tujuh tahun kemudian, tambalan itu dibawa oleh James Coleman ke negara yang diterima oleh masyarakat. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TRUNCATE akselerasi</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ketika </font></font><code>TRUNCATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemindaian terjadi </font></font><code>shared_buffers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menghapus buffer tabel dari memori bersama. Sebelumnya, pemindaian dilakukan tiga kali, untuk setiap lapisan tabel: MAIN (lapisan data utama), FSM (peta ruang bebas), VM (peta visibilitas). Sekarang logikanya telah berubah, daripada operasi tiga kali lipat, buffer hanya dipindai sekali. Dengan nilai besar, </font></font><code>shared_buffers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini memberikan keuntungan nyata. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TOAST dekompresi parsial</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika tidak perlu membaca TOAST sepenuhnya, membatasi ke irisan di awal atau dekat dengan awal, maka tidak masuk akal untuk melepasnya sepenuhnya. </font><font style="vertical-align: inherit;">TOAST terkompresi dibaca dalam iterasi: baca sepotong, jika tidak ada data yang diperlukan, kemudian perluas dan baca terus. </font><font style="vertical-align: inherit;">Disarankan oleh siswa Google Summer of Code, Binguo Bao, yang memberikan contoh:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> slicingtest (<font></font>
     id <span class="hljs-type">serial</span> <span class="hljs-keyword">PRIMARY KEY</span>,<font></font>
     a <span class="hljs-type">text</span><font></font>
);<font></font>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> slicingtest (a) <span class="hljs-keyword">SELECT</span>
    repeat(<span class="hljs-string">'1234567890-=abcdefghijklmnopqrstuvwxyz'</span>, <span class="hljs-number">1000000</span>) <span class="hljs-keyword">AS</span> a <span class="hljs-keyword">FROM</span>
    generate_series(<span class="hljs-number">1</span>,<span class="hljs-number">100</span>);<font></font>
\<span class="hljs-keyword">timing</span>
<span class="hljs-keyword">SELECT</span> sum(length(substr(a, <span class="hljs-number">0</span>, <span class="hljs-number">20</span>))) <span class="hljs-keyword">FROM</span> slicingtest;</code></pre><br>
<pre><code class="plaintext hljs">Time: 28.123 ms</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan tambalan, urutan besarnya lebih cepat:</font></font><br>
<br>
<pre><code class="plaintext hljs">Time: 2.306 ms</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VACUUM Paralel</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dalam</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> artikelnya tentang hal ini,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Yegor Rogov menjelaskan secara rinci langkah penting ini dalam paralelisasi. Singkatnya: ‚ÄúMasahiko Sawada Patch, yang memungkinkan Anda untuk melakukan pembersihan secara paralel. Tabel itu sendiri masih dibersihkan oleh satu proses (memimpin), tetapi untuk membersihkan indeks, sekarang dapat memulai alur kerja latar belakang, satu untuk setiap indeks. Dalam mode manual, ini memungkinkan Anda untuk mempercepat pembersihan tabel besar dengan banyak indeks; pembersihan otomatis belum menggunakan fitur ini. "</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bersihkan otomatis saat disisipkan ke dalam tabel</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk tambalan ini (juga dikenal sebagai vakum-otomatis Berserk), kita perlu berterima kasih kepada Dorofei Proleskovsky, yang mengusulkan solusi untuk masalah berikut: pembersihan otomatis tidak datang ke tabel append-only, karena mereka tidak memiliki versi baris "mati". Karena itu, peta visibilitas tidak diperbarui, membuat hanya scan indeks saja tidak efektif, dan ketika pembersihan memang datang untuk mencegah konter transaksi meluap, itu perlu melakukan banyak pekerjaan sekaligus. Sekarang situasi ini telah diperbaiki: Pembersihan otomatis juga akan bekerja pada penambahan saluran. Dua parameter server baru ( </font></font><code>autovacuum_vacuum_insert_threshold</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>autovacuum_vacuum_insert_scale_factor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) muncul, mirip dengan yang untuk modifikasi ( </font></font><code>autovacuum_vacuum_threshold</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>autovacuum_vacuum_scale_factor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manajemen Memori Agregat Hash</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agregasi hash mungkin memerlukan RAM lebih dari pikiran scheduler dan daripada yang ditunjukkan di </font></font><code>work_mem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sebelumnya, kesalahan penjadwal seperti itu menyebabkan fakta bahwa ukurannya </font></font><code>work_mem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diabaikan dan memori dialokasikan sebanyak yang diperlukan untuk operasi atau kedatangan OOM Killer. Sekarang algoritme mungkin tidak melampaui </font></font><code>work_mem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan jika perlu, gunakan file sementara pada disk. Untuk mengontrol perilaku penjadwal, parameter berikut muncul: </font></font><code>enable_groupingsets_hash_disk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>enable_hashagg_disk</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengoptimalkan UPDATE untuk tabel dengan kolom yang dihasilkan</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam versi 12, kolom yang dihasilkan dihitung ulang selama setiap pembaruan baris, bahkan jika perubahan ini tidak memengaruhi mereka dengan cara apa pun. Sekarang mereka akan dihitung ulang hanya ketika itu benar-benar diperlukan (jika kolom dasar mereka telah berubah). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Optimasi ini, misalnya, dapat secara signifikan mempercepat pembaruan tabel dengan kolom tipe yang dihasilkan </font></font><code>tsvector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, karena fungsinya </font></font><code>to_tsvector()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cukup mahal. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akses dari pelatuk ke daftar kolom yang diubah Tambalan</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
kecil yang menambahkan </font></font><code>TriggerData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitmap kolom yang diubah </font><font style="vertical-align: inherit;">ke struktur </font><font style="vertical-align: inherit;">. Informasi ini dapat digunakan oleh fungsi pemicu umum, seperti </font></font><code>tsvector_update_trigger()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau </font></font><code>lo_manage()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, agar tidak melakukan pekerjaan yang tidak perlu. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan beberapa statistik lanjutan saat mengevaluasi</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di PG12, penjadwal tidak dapat menggunakan beberapa statistik lanjutan untuk tabel yang sama secara bersamaan. Misalnya, bayangkan situasi di mana dua statistik canggih dibangun untuk kumpulan kolom yang berbeda, dan kolom dari satu kumpulan dan dari yang lain berpartisipasi dalam kueri. Sekarang perencana memiliki akses ke semua informasi yang tersedia. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infrastruktur untuk paralelisasi dan COPY</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (lihat juga </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tambalan ini.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konkurensi postgreSQL masih berfungsi untuk kueri hanya-baca. </font><font style="vertical-align: inherit;">Ada kesulitan dengan penulis, dan salah satunya adalah memblokir proses yang secara bersamaan melakukan satu tugas (termasuk dalam kelompok paralel yang sama). </font><font style="vertical-align: inherit;">Dipercaya bahwa kunci dari proses tersebut tidak bertentangan - misalnya, beberapa proses dapat menahan kunci eksklusif pada tabel yang sama. </font><font style="vertical-align: inherit;">Ini membutuhkan perhatian khusus dari pengembang kernel, tetapi jika tidak, mereka akan selalu mengalami kebuntuan. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi ada dua pengecualian:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunci ekstensi hubungan, yang ditangkap ketika halaman baru ditambahkan ke akhir file data, dan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunci halaman, yang digunakan saat memindahkan item indeks GIN dari daftar tunggu ke pohon utama.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Anda dapat membaca lebih lanjut </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di artikel ini.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kunci seperti itu harus bertentangan bahkan antara proses dari kelompok paralel yang sama - yang mengimplementasikan tambalan ini. </font><font style="vertical-align: inherit;">Tetapi kunci ini tidak pernah dapat menyebabkan kebuntuan, sehingga mereka dikeluarkan dari pemindaian. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagi pengguna, secara umum, tidak ada yang berubah, tetapi tambalan ini penting karena, pertama, ia membuka jalan untuk paralel INSERT dan COPY, dan kedua, menghilangkan salah satu hambatan PostgreSQL di bawah kondisi beban tinggi (yang dapat didengar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam laporan HL ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keamanan</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primer SKH PRH diganti Primer</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
EDH</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"> tergantikan</font></b></a><font style="vertical-align: inherit;"> (Diffie-Hellman Ephemeral Keys) menggunakan protokol SKIP yang sekarang sudah tidak aktif.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> initdb: pengaturan default untuk otentikasi</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
telah berubah Pengaturan akses default untuk koneksi lokal dan jaringan telah berubah ketika initdb dimulai. Sekarang</font></font><code>pg_hba.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk koneksi lokal, bukan metode otentikasi</font></font><code>trust</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan</font></font><code>peer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(atau MD5 jika peer tidak didukung), dan</font></font><code>md5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk koneksi jaringan. Awalnya, langkah-langkah yang lebih liberal dibahas: peringatan dalam dokumentasi. Kemudian ketat:</font></font><code>scram-sha-256</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Akibatnya, kami memutuskan untuk membatasi diri pada</font></font><code>peer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>md5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Menggunakan eksplisit_bzero</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambalan penting. Fungsi bzero () dan eksplisit_bzero () menulis byte yang berisi ke dalam area memori yang ditunjukkan </font></font><code>'\0'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(lihat, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">misalnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Linux). Tambalan ini hanyalah permulaan: ada banyak bagian memori yang dapat digunakan untuk menyimpan kata sandi dan informasi sensitif lainnya. Kami memutuskan untuk memulai dari tempat-tempat seperti libpq, di mana seluruh file dengan kata sandi dapat tetap tersimpan dalam memori setelah membaca .pgpass, dan dari pembersihan setelah menutup koneksi. Di be-secure-common.c sekarang ada penulisan ulang frase rahasia yang dimasukkan dalam SSL, yang muncul di baris (path) kesalahan. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menambahkan parameter "password_protocol" ke libpq</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Patch ini memungkinkan libpq untuk mengontrol protokol transfer kata sandi mana yang digunakan selama koneksi. Setelah menerima parameter ini, libpq akan menolak otentikasi jika protokolnya lebih lemah dari yang ditentukan. Secara default, parameter ini </font></font><code>plaintext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yaitu, semua protokol cocok. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akses wajib untuk TRUNCATE</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Patch ini memungkinkan ekstensi untuk menanamkan Kontrol Akses Wajib (MAC) untuk operasi TRUNCATE. Hak untuk itu sekarang akan diperiksa oleh ekstensi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sepgsql</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kebijakan Referensi SELinux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan distribusi Linux berbasis Redhat tidak mendukung SELinux memeriksa db_table {truncate}. Dalam kasus ini, sepgsql akan digunakan dengan 'deny_unknown' sama dengan 1, dan TRUNCATE akan gagal. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketersediaan GUC ssl_passphrase_command</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Patch yang sederhana namun bermanfaat. </font><font style="vertical-align: inherit;">Sekarang nilai parameter ssl_passphrase_command hanya akan dilihat oleh superuser. </font><font style="vertical-align: inherit;">Parameter menentukan perintah eksternal yang dipanggil ketika kata sandi diperlukan untuk mendekripsi file SSL, misalnya, kunci pribadi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lokalisasi</font></font></h3><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versioning libc collation rules</font></font></a></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Untuk</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"> aturan collation</font></a></b><font style="vertical-align: inherit;"> ICU, nomor versi disimpan dalam database. Setiap kali aturan digunakan (penyortiran, perbandingan karakter), nomor versi yang disimpan diperiksa dengan versi saat ini di perpustakaan ICU di OS, dan jika ada perbedaan, peringatan dikeluarkan. Ini memungkinkan Anda menemukan bahwa indeks tertentu yang dibuat sesuai dengan aturan penyortiran yang dimodifikasi mungkin salah dan harus dibangun kembali. Dengan membangun kembali indeks dengan perintah</font></font><code>ALTER COLLATION ... REFRESH VERSION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, versi aturan penyortiran dalam database diperbarui dan peringatan tidak lagi dikeluarkan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi itu hanya untuk ICU. Sekarang nomor versi juga disimpan untuk aturan penyortiran libc:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">SELECT</span> collname, collversion <span class="hljs-keyword">FROM</span> pg_collation <span class="hljs-keyword">WHERE</span> collname = <span class="hljs-string">'ru_RU'</span>;</code></pre><br>
<pre><code class="plaintext hljs"> collname | collversion<font></font>
----------+-------------<font></font>
 ru_RU    | 2.27</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang memungkinkan untuk mengeluarkan peringatan ketika perpustakaan berubah di OS. </font><font style="vertical-align: inherit;">Sangat relevan mengingat transisi ke glibc 2.28, di mana banyak aturan penyortiran telah berubah, dan indeks yang sesuai harus dibangun kembali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi sampai mereka beralih ke 2.28, semuanya tenang:</font></font><br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">COLLATION</span> "ru_RU" <span class="hljs-keyword">REFRESH</span> <span class="hljs-keyword">VERSION</span>;</code></pre><br>
<pre><code class="plaintext hljs">NOTICE:  version has not changed<font></font>
ALTER COLLATION</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pencarian Teks Lengkap</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pencarian teks lengkap untuk bahasa Yunani</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tidak ada komentar. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dict_int belajar menangani nilai absolut.</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kamus template dict_int (alias ekstensi) menambahkan kemampuan untuk menghapus tanda dari angka.</font></font><br>
<br>
<pre><code class="pgsql hljs">
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">EXTENSION</span> dict_int;
<span class="hljs-keyword">SELECT</span> ts_lexize(<span class="hljs-string">'intdict'</span>, <span class="hljs-string">'-123'</span>);</code></pre><br>
<pre><code class="plaintext hljs">ts_lexize<font></font>
-----------<font></font>
 {-123}<font></font>
(1 row)</code></pre><br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TEXT SEARCH</span> <span class="hljs-keyword">DICTIONARY</span> intdict (ABSVAL = <span class="hljs-keyword">true</span>);
<span class="hljs-keyword">SELECT</span> ts_lexize(<span class="hljs-string">'intdict'</span>, <span class="hljs-string">'-123'</span>);</code></pre><br>
<pre><code class="plaintext hljs">ts_lexize<font></font>
-----------<font></font>
 {123}<font></font>
(1 row)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artinya, kali ini nilai absolutnya diakui.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partisi</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEBELUM</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pemicu baris</font></font><code>BEFORE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pada tabel dipartisi</font><font style="vertical-align: inherit;">Dalam versi 12, Anda tidak bisa membuat pemicu baris</font><font style="vertical-align: inherit;">pada tabel dipartisi. Pada bagian yang terpisah - tolong, tetapi tidak pada seluruh tabel sekaligus. Sekarang,</font></font><code>BEFORE FOR EACH ROW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemicu yang dibuat pada tabel dipartisi akan secara otomatis diwarisi dan berfungsi untuk semua bagian. Tetapi dengan ketentuan bahwa jika itu adalah pemicu aktif</font></font><code>UPDATE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, maka kunci partisi di dalamnya hanya dapat diubah dalam bagian saat ini.</font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dukungan untuk tabel yang dipartisi dalam replikasi logis</font></font></a></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sebelumnya, termasuk tabel yang dipartisi dalam publikasi menyebabkan kesalahan:</font></font><br>
<br>
<pre><code class="pgsql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PUBLICATION</span> pub <span class="hljs-keyword">FOR</span> <span class="hljs-keyword">TABLE</span> p;</code></pre><br>
<pre><code class="plaintext hljs">ERROR:  "p" is a partitioned table<font></font>
DETAIL:  Adding partitioned tables to publications is not supported.<font></font>
HINT:  You can add the table partitions individually.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang berhasil. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritma JOIN sectional yang disempurnakan</font></font></a></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mulai dari versi 11, penjadwal dapat bergabung dengan tabel dipartisi bagian demi bagian, tetapi hanya jika batas-batas bagian sama persis. </font><font style="vertical-align: inherit;">Sekarang algoritme telah ditingkatkan: ini akan berfungsi jika bagian dari satu tabel sepenuhnya dimasukkan dalam bagian yang lain, bahkan jika ukurannya tidak cocok (misalnya, jika satu tabel dipartisi berdasarkan hari dan yang lainnya berdasarkan bulan). </font><font style="vertical-align: inherit;">Algoritma baru berfungsi untuk mempartisi berdasarkan rentang dan daftar. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SECTional FULL OUTER JOIN Sectionalized join</font></font></a></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
sekarang berfungsi untuk </font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">gabungan</font></a></b><font style="vertical-align: inherit;"> luar penuh yang direkam dengan frasa </font></font><code>USING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tableam</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam bidang yang menarik dan menjanjikan ini, tetapi sulit, tidak ada kemajuan radikal terkait PostgreSQL 12. Tidak ada penyimpanan plug-in yang sudah jadi seperti </font></font><code>zheap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selain heap), tetapi pekerjaan terus dilakukan pada API. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tingkat abstraksi yang lebih tinggi dalam menentukan ukuran tabel</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Robert Haas menulis ulang kode, mengubah arsitekturnya menjadi lapisan abstrak, agar tidak menduplikasi kode di masa depan. Bagian ini mengacu pada </font></font><code>estimate_rel_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ukuran lapisan (garpu) dari tabel. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat menggunakan metode akses tabel dengan relcache.</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Patch ini membawa kemampuan manajemen memori dari metode akses tabel ke kemampuan metode indeks. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tableam dan TOAST</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
TOAST sebagian besar dirancang untuk penyimpanan</font></font><code>heap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oleh karena itu, ketika membuat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metode akses tabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> Anda bisa menggunakan dua cara: membantu pengembang metode baru mengintegrasikan menyisipkan, memperbarui, dan menghapus catatan TOAST ke dalamnya atau mendelegasikan pekerjaan dengan TOAST ke kode menggunakan penyimpanan PostgreSQL tradisional - heap. </font><font style="vertical-align: inherit;">Serangkaian 5 tambalan menggunakan slot tuple untuk mengimplementasikan operasi sisipan / perbarui / hapus dan dapat membantu yang berjalan dua arah.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fsync</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menangani kesalahan fsync di pg_receivewal dan pg_recvlogical</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pertarungan melawan</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fsync ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berlanjut. PostgreSQL percaya bahwa panggilan fsync () yang berhasil berarti bahwa semua data dalam file telah dibilas ke disk, tetapi ini tidak selalu terjadi (tergantung pada OS) dan dapat mengakibatkan hilangnya data. PG13 memutuskan bahwa itu perlu untuk menangani utilitas</font></font><code>pg_receivewal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>pg_recvlogical</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Saat ini, perilaku default adalah ini: utilitas ini akan menulis kesalahan fsync ke log, memulihkan koneksi dan melanjutkan seolah-olah tidak ada yang terjadi. Sebagai hasilnya, WAL berisi informasi tentang file yang berhasil disalin, yang, pada kenyataannya, tidak benar dibilas ke disk. Jadi lebih baik untuk mengganggu utilitas. Nasib pg_dump, pg_basebackup, pg_rewind, dan pg_checksums juga dibahas, tetapi sejauh ini telah membatasi diri pada keduanya.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perlindungan terhadap pengaturan flag yang salah untuk fsync ()</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Patch ini memeriksa apakah flag-flag tersebut diset dengan benar ketika menerima deskriptor file untuk fsync () - direktori terbuka hanya untuk membaca, dan file untuk menulis atau keduanya.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cadangkan dan replikasi</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeda selama pemulihan sebelum mencapai titik pemulihan</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika selama pemulihan, WAL telah berakhir, tetapi</font></font><code>recovery_target_time</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">belum mencapai yang</font><font style="vertical-align: inherit;">ditentukan</font><font style="vertical-align: inherit;">, server menyelesaikan pemulihan dan beralih ke mode operasi normal. Sekarang tidak akan begitu. Proses pemulihan akan berhenti, seperti yang dilaporkan dalam log, dan administrator akan memiliki kesempatan untuk memasukkan segmen WAL yang hilang dan melanjutkan pemulihan.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parameter ign_invalid_pages</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ketika proses pemulihan pada replika menemukan tautan ke halaman yang tidak valid dalam catatan WAL,</font></font><code>panic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font><font style="vertical-align: inherit;">terjadi</font><font style="vertical-align: inherit;">. Dimasukkannya parameter akan membantu mengatasinya.</font></font><code>ignore_invalid_pages</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pemulihan akan berlanjut dengan kemungkinan hilangnya integritas, data, dan konsekuensi paling serius lainnya. Parameter ini ditujukan untuk pengembang server dan harus digunakan dalam kasus-kasus ketika Anda masih perlu mencoba untuk menyelesaikan pemulihan dan memulai replika. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengubah primary_conninfo tanpa me-restart</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
patch Sergey Kornilov, yang memungkinkan Anda untuk mengubah pengaturan </font></font><code>primary_conninfo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>primary_slot_name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>wal_receiver_create_temp_slot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tanpa me-restart server. Sebenarnya, demi ini, mereka meninggalkan file </font></font><code>recovery.conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam rilis ke-12. </font><font style="vertical-align: inherit;">
Manifes </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cadangan</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pg_basebackup sekarang membuat "manifes" - file JSON yang berisi informasi tentang cadangan yang dibuat (nama dan ukuran file, file WAL yang diperlukan, serta checksum segala sesuatu dan segala sesuatu).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilitas pg_validatebackup baru memeriksa cadangan untuk kepatuhan dengan manifes, dan juga memeriksa ketersediaan dan kebenaran file WAL yang diperlukan untuk pemulihan menggunakan utilitas pg_waldump (ini hanya berlaku untuk file WAL di dalam cadangan itu sendiri, dan bukan di arsip). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini akan memungkinkan Anda untuk mendeteksi situasi di mana file cadangan rusak atau hilang, atau ketika pemulihan menjadi tidak mungkin karena kurangnya file log yang diperlukan. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membatasi slot replikasi data yang belum dibaca Slot replikasi</font></font></b></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
adalah mekanisme yang nyaman tetapi berbahaya: jika klien tidak membaca data dari slot tepat waktu, catatan WAL yang belum dibaca dapat mengambil semua ruang di server. Sekarang menggunakan parameter</font></font><code>max_slot_wal_keep_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda dapat menetapkan batas jumlah ruang disk maksimum yang dapat ditempati oleh data yang belum dibaca. </font><font style="vertical-align: inherit;">Jika pada pos pemeriksaan berikutnya ternyata ukurannya terlampaui, slot dinonaktifkan, dan tempat itu dibebaskan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dukungan untuk soket Unix pada Windows</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Soket domain </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Unix</font></a><font style="vertical-align: inherit;"> didukung pada Windows 10, meskipun soket dinonaktifkan secara default.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentasi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada dua aplikasi baru dalam dokumentasi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diskusi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> panjang </font><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lampiran M. Daftar Istilah muncul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saat ini ada 101 istilah dalam glosarium. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemampuan untuk menyorot warna pesan diagnostik utilitas konsol menggunakan variabel </font></font><code>PG_COLOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih awal. </font><font style="vertical-align: inherit;">Ini sekarang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">didokumentasikan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lampiran N. Dukungan Warna</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Maksud asli Peter Eisentrout dalam tambalan ini adalah untuk membuat keluaran berwarna dihidupkan secara default. </font><font style="vertical-align: inherit;">Dan bagi mereka yang tidak menginginkan ini, diusulkan untuk secara eksplisit mengatur variabel</font></font><code>NO_COLOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tetapi ada lebih banyak penentang diferensiasi warna pesan di antara mereka yang membahas tambalan. </font><font style="vertical-align: inherit;">Karena itu, mereka memutuskan hanya untuk mendokumentasikan peluang yang tersedia. </font><font style="vertical-align: inherit;">Dan kami mendapat bagian baru dari tingkat pertama dalam dokumentasi.</font></font><br>
<br>
<hr><br>
<i>        PG13,  ,  PG14     . ,   . .</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493094/index.html">Pekerja gudang Amazon membunyikan alarm atas penyebaran coronavirus</a></li>
<li><a href="../id493096/index.html">Tambahkan tema gelap di iOS</a></li>
<li><a href="../id493098/index.html">Menyebarkan ASA VPN Load-Balancing Cluster</a></li>
<li><a href="../id493100/index.html">Cara menemukan cara mudah membantu startup mencapai pertumbuhan yang agresif</a></li>
<li><a href="../id493102/index.html">Tren Otomatisasi Global: Pengembangan RPA</a></li>
<li><a href="../id493108/index.html">Cloudflare memilih prosesor AMD untuk server tepi generasi kesepuluh</a></li>
<li><a href="../id493110/index.html">Bagaimana mendelegasikan pekerjaan jarak jauh - panduan untuk memimpin tim dan banyak lagi</a></li>
<li><a href="../id493112/index.html">Bagaimana memulai bisnis baru dalam 6 bulan, bukannya 3 tahun</a></li>
<li><a href="../id493114/index.html">Bagaimana Insinyur Data Menonton Data</a></li>
<li><a href="../id493116/index.html">"Lebih banyak interaktivitas!" atau Bagaimana TeamLead Conf 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>