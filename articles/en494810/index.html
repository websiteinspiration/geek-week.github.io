<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßù üëä ü•Ñ Introduction to 3D: Three.js Basics üëæ ü§±üèΩ üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The complexity of the Web is changing daily, and its capabilities are growing just as fast, especially with 3D rendering. Who is just starting to join...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Introduction to 3D: Three.js Basics</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494810/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The complexity of the Web is changing daily, and its capabilities are growing just as fast, especially with 3D rendering. </font><font style="vertical-align: inherit;">Who is just starting to join the 3D theme - welcome to cat.</font></font></p><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/za/i8/my/zai8my_fepyxofzpgllyhhaci5e.jpeg"></div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's go from afar</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebGL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a software library for JavaScript that allows you to create 3D graphics that work in browsers. This library is based on the architecture of the OpenGL library. WebGL uses the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GLSL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> shader programming language </font><font style="vertical-align: inherit;">, which has C-like syntax. WebGL is interesting in that the code is modeled directly in the browser. For this, WebGL uses the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canvas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> object </font><font style="vertical-align: inherit;">that was introduced in HTML5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Working with WebGL, and with shaders in particular, is a rather time-consuming process. In the development process, it is necessary to describe each point, line, face, and so on. In order to visualize all this, we need to register a rather voluminous piece of code. To increase development speed, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Three.js</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> library was developed </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Three.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a JavaScript library containing a set of predefined classes for creating and displaying interactive 3D graphics in WebGL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Three.js for WebGL is the same as jQuery for JavaScript. </font><font style="vertical-align: inherit;">The library offers declarative syntax, and abstracts from the headaches associated with 3D in the browser. </font><font style="vertical-align: inherit;">Let's take a general overview and see how to get started if you are new to the 3D world.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">More on Three.js</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Three.js library, as already mentioned, makes working with WebGL easier. </font><font style="vertical-align: inherit;">When using Three.js, there is no need to write shaders (but the possibility remains), and it becomes possible to operate on familiar concepts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A large number of developers work on the library. </font><font style="vertical-align: inherit;">The main ideologist and developer is Ricardo Cobello, known under the creative pseudonym </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mr.Doob</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modeling graphics using Three.js can be compared with the set, as we have the opportunity to operate with concepts such as scene, light, camera, objects and their materials. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Three so-called Three.js whales include:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scene</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a kind of platform where all the objects that we create are placed;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Camera</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - in fact - this is the ‚Äúeye‚Äù that will be directed to the scene. </font><font style="vertical-align: inherit;">The camera takes and displays objects that are located on the stage;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renderer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a visualizer that allows you to display a scene captured by the camera.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Three.js has several types of cameras:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perspective camera</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stereo camera</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orthographic camera</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cube camera</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The most common ones are the Perspective Camera and Orthographic Camera.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perspective camera</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is the most common projection mode used to render a 3D scene. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The perspective camera is designed to simulate what the human eye sees. </font><font style="vertical-align: inherit;">The camera perceives all objects in a perspective projection, that is: the farther the object is from us, the smaller it seems. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5q/ep/20/5qep20pewjasmk4gyhbmkzrfs5c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The perspective camera takes 4 arguments:</font></font><br>
<br>
<ul>
<li><i>FOV</i>  <i>Field Of View</i> (/ ) ‚Äî  ,       .</li>
<li><i>Aspect ratio</i> ‚Äî , ,     .            .   , ,       .</li>
<li><i>Near &amp; Far</i> ‚Äî      ,    . ,       ,   ,    .</li>
</ul><br>
<img src="https://habrastorage.org/webt/d9/ni/t0/d9nit0dydsge5svwiblgu51odxm.jpeg"><br>
<br>
<h4>Orthographic Camera</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this projection mode, the size of the object in the displayed image remains constant, regardless of its distance from the camera. </font><font style="vertical-align: inherit;">That is, it is a camera remote at an infinite distance from objects. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, all perpendicular lines remain perpendicular, all parallel - parallel. </font><font style="vertical-align: inherit;">If we move the camera, the lines and objects will not be distorted. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This can be useful when displaying 2D scenes and UI elements.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oz/t5/zw/ozt5zwzak-yqfuy-qtpf6ou_lmy.jpeg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lighting</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Without lighting on the stage, you will get the impression that you are in a dark room. </font><font style="vertical-align: inherit;">In addition, by lighting the stage, you can give greater realism. </font><font style="vertical-align: inherit;">Technically, each lighting can be set to color. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lighting Examples:</font></font><br>
<br>
<ul>
<li><i>Ambient Light</i> ‚Äî  ,        ;       ,     .</li>
<li><i>Directional Light</i> ‚Äî ,     .      ,       ,  ,   ,  ;     ,       .</li>
<li>P<i>oint Light </i> ‚Äî ,        .            ( ). </li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spot Light</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - this light is emitted from one point in one direction, along a cone, expanding as you move away from the light source.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/rw/yv/ud/rwyvudsp3ztknpnczfi5uakl3wa.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creating objects on stage</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The object created on stage is called Mesh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesh is a class that represents objects based on a triangular polygonal mesh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This class takes 2 arguments:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geometry</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - describes the shape (position of vertices, faces, radius, etc.)</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Material</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - describes the appearance of objects (color, texture, transparency, etc.)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to create 2 simple shapes: a cube and a sphere. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, go to the site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">three.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , download the latest version of the library. </font><font style="vertical-align: inherit;">Then we connect the library in the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">head</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section </font><font style="vertical-align: inherit;">or to the beginning of the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">body</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section of </font><font style="vertical-align: inherit;">our document, and you're done:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">utf-8</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>First Three.js app<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; }
      <span class="hljs-selector-tag">canvas</span> { <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span> }
      </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"js/three.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
      <span class="hljs-comment">//  Javascript .</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Further, so that we can display the created object, it is necessary to create a scene, add a camera and configure the render. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add scene:</font></font><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> scene = <span class="hljs-keyword">new</span> THREE.Scene();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add a perspective camera:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> camera = <span class="hljs-keyword">new</span> THREE.PerspectiveCamera( <span class="hljs-number">75</span>, <span class="hljs-built_in">window</span>.innerWidth / <span class="hljs-built_in">window</span>.innerHeight, <span class="hljs-number">0.1</span>, <span class="hljs-number">1000</span> );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The camera takes on 4 parameters, which were mentioned above:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">angle of view or FOV, in our case it is a standard angle of 75;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the second parameter is the aspect ratio or aspect ratio;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the third and fourth parameters are the minimum and maximum distance from the camera, which will fall into the rendering.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add and configure the render:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> renderer = <span class="hljs-keyword">new</span> THREE.WebGLRenderer();<font></font>
renderer.setSize( <span class="hljs-built_in">window</span>.innerWidth, <span class="hljs-built_in">window</span>.innerHeight );
<span class="hljs-built_in">document</span>.body.appendChild( renderer.domElement );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What we did: first create a render object, then set its size according to the size of the visible area, and finally add it to the page to create an empty canvas element that we will work with. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After creating the render, we indicate where to display the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canvas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tag </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In our case, we added it to the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">body</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tag </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To create the cube itself, we first set the geometry:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> geometry = <span class="hljs-keyword">new</span> THREE.BoxGeometry( <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A cube is created using the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BoxGeometry</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">This is a class that contains the vertices and faces of a cube. </font><font style="vertical-align: inherit;">We transfer the sizes:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">width</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : cube width, size of sides along the x axis</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">height</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : cube height i.e. </font><font style="vertical-align: inherit;">y-side size</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : depth of the cube i.e. </font><font style="vertical-align: inherit;">side size on the Z axis</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To color the cube, set the material:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> material = <span class="hljs-keyword">new</span> THREE.MeshBasicMaterial( { <span class="hljs-attr">color</span>: <span class="hljs-number">0x00ff00</span> } );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In our case, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MeshBasicMaterial is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> set </font><font style="vertical-align: inherit;">and the color parameter </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x00ff00 is passed</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , i.e. green color. This material is basically used to give the figure a uniform color. The downside is that the figure disappears in depth. But this material is quite useful when rendering wireframes using the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{wireframe: true}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parameter </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we need a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesh</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> object </font><font style="vertical-align: inherit;">that takes geometry and applies material to it:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> cube = <span class="hljs-keyword">new</span> THREE.Mesh( geometry, material );<font></font>
scene.add( cube );<font></font>
<font></font>
camera.position.z = <span class="hljs-number">25</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesh</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to the scene and move the camera back, since all objects after the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scene.add ()</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method </font><font style="vertical-align: inherit;">are added by default with coordinates (0,0,0), due to which the camera and the cube will be at the same point. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In order to animate the cube, we need to draw everything inside the render loop using </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requestAnimationFrame</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{<font></font>
        requestAnimationFrame( render );<font></font>
  cube.rotation.x += <span class="hljs-number">0.01</span>;<font></font>
  cube.rotation.y += <span class="hljs-number">0.01</span>;      <font></font>
  renderer.render( scene, camera );<font></font>
}<font></font>
render();</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requestAnimationFrame</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a request to the browser that you want to animate something. </font><font style="vertical-align: inherit;">We pass it a function to call, that is, the render () function. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here we set the parameters of the rotation speed. </font><font style="vertical-align: inherit;">As a result, the loop renders our scene 60 times per second and causes the cube to rotate.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/Intex/embed/preview/XWbPvzY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's draw a sphere:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> geometry = <span class="hljs-keyword">new</span> THREE.SphereGeometry(<span class="hljs-number">1</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To build a sphere, the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SphereGeometry</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class is </font><i><font style="vertical-align: inherit;">used</font></i><font style="vertical-align: inherit;"> , which takes care of:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">radius (default value is 1)</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">widthSegments</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the number of horizontal segments (triangles). </font><font style="vertical-align: inherit;">The minimum value is 3, the default value is 8</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heightSegments</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the number of vertical segments. </font><font style="vertical-align: inherit;">The minimum value is 2, the default value is 6</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, the more you specify the number of triangles, the smoother the surface of the sphere will be. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, we try to use another material - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MeshNormalMaterial</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a multicolor material that compares normal vectors in RGB colors:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> material = <span class="hljs-keyword">new</span> THREE.MeshNormalMaterial();
<span class="hljs-keyword">var</span> sphere = <span class="hljs-keyword">new</span> THREE.Mesh( geometry, material );<font></font>
scene.add( sphere );<font></font>
camera.position.z = <span class="hljs-number">3</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are a lot of types of material. </font><font style="vertical-align: inherit;">Some materials can be combined and applied simultaneously to one figure. </font><font style="vertical-align: inherit;">Read more </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The last step is to set the rendering cycle:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params"></span>) </span>{<font></font>
	requestAnimationFrame( render );<font></font>
	sphere.rotation.x += <span class="hljs-number">0.01</span>;<font></font>
  sphere.rotation.y += <span class="hljs-number">0.01</span>;<font></font>
  renderer.render( scene, camera );<font></font>
}<font></font>
render();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And we get the following:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/Intex/embed/preview/zYGLLLp" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to create a more complex figure, and apply more complex material. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As an example, take the material </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MeshPhongMaterial</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which takes into account the illumination. </font><font style="vertical-align: inherit;">Therefore, first we need to add some light to the scene. </font><font style="vertical-align: inherit;">Below we add a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpotLight</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with a yellow tint and set its position on the coordinate axis:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> scene = <span class="hljs-keyword">new</span> THREE.Scene();
<span class="hljs-keyword">var</span> spotLight = <span class="hljs-keyword">new</span> THREE.SpotLight(<span class="hljs-number">0xeeeece</span>);<font></font>
spotLight.position.set(<span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">1000</span>);<font></font>
scene.add(spotLight);<font></font>
<span class="hljs-keyword">var</span> spotLight2 = <span class="hljs-keyword">new</span> THREE.SpotLight(<span class="hljs-number">0xffffff</span>);<font></font>
spotLight2.position.set( <span class="hljs-number">-200</span>, <span class="hljs-number">-200</span>, <span class="hljs-number">-200</span>);<font></font>
scene.add(spotLight2);</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SpotLight</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as mentioned above, radiates from one point in one direction, along a cone, expanding as you move away from the light source. </font><font style="vertical-align: inherit;">In addition to color, spot light can take on arguments: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intensity, distance, angle, penumbra, decay</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , and also cast shadows. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can read about other types of light and their capabilities </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now define the shape itself:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> geometry = <span class="hljs-keyword">new</span> THREE.TorusGeometry( <span class="hljs-number">10</span>, <span class="hljs-number">3</span>, <span class="hljs-number">16</span>, <span class="hljs-number">100</span> );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TorusGeometry</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> class </font><i><font style="vertical-align: inherit;">is</font></i><font style="vertical-align: inherit;"> designed to build tori or ‚Äúrollers‚Äù. </font><font style="vertical-align: inherit;">This class takes on the following parameters:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">radius, default is 1; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pipe diameter, default 0.4; </font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">radialSegments</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or the number of triangle segments, defaults to 8;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tubularSegments</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or number of face segments, default is 6</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Add material:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> material = <span class="hljs-keyword">new</span> THREE.MeshPhongMaterial( {
<span class="hljs-attr">color</span>: <span class="hljs-number">0xdaa520</span>,
<span class="hljs-attr">specular</span>: <span class="hljs-number">0xbcbcbc</span>,<font></font>
 } );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This material is intended for shiny surfaces. </font><font style="vertical-align: inherit;">We give it a golden color, and add a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">specular</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> property </font><font style="vertical-align: inherit;">, which affects the luster of the material and its color. </font><font style="vertical-align: inherit;">The default color is </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x111111</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - dark gray. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Render, and here‚Äôs what we ended up with:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://codepen.io/Intex/embed/preview/RwPBByO" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A little more about Three.js features</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To include Three.js in a project, you just need to run </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm install three</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you combine files using </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webpack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browserify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which allow you to implement require ('modules') in the browser, combining all your dependencies, you have the option to import the module into your source files and continue to use it in normal mode:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> THREE = <span class="hljs-built_in">require</span>(<span class="hljs-string">'three'</span>);<font></font>
<font></font>
<span class="hljs-keyword">var</span> scene = <span class="hljs-keyword">new</span> THREE.Scene();<font></font>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is also possible to use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ES6 syntax import</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> THREE <span class="hljs-keyword">from</span> <span class="hljs-string">'three'</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> THREE.Scene();<font></font>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or, if you want to import only certain parts of the Three.js library, for example </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scene</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Scene } <span class="hljs-keyword">from</span> <span class="hljs-string">'three'</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> Scene();<font></font>
...</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With the help of almost a couple of lines of code, we created 2 simple shapes, and one is a bit more complicated. </font><font style="vertical-align: inherit;">Naturally, Three.js has a lot more features. </font><font style="vertical-align: inherit;">Three.js has a lot of shapes inside the box, materials, types of lighting, etc. </font><font style="vertical-align: inherit;">This is just a small part of the basics. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Three.js library allows you to create and create really healthy things. </font><font style="vertical-align: inherit;">Here are some sticky examples: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example 1 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example 2 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example 3</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
If you want to start learning 3D in JavaScript, you can find everything you need </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488474/index.html">About color, sound and ‚Äúcrowd exploration‚Äù as a separate kind of beautiful</a></li>
<li><a href="../en494800/index.html">Reverse engineering of Chinese USB IR transceiver protocol</a></li>
<li><a href="../en494804/index.html">‚ÄúSorry, I recognized ...‚Äù or recognize raspberries and controllers using the Tensorflow Object Detection API</a></li>
<li><a href="../en494806/index.html">Cyber ‚Äã‚Äãtargets 2019 as trends 2020 - hackers have changed focus</a></li>
<li><a href="../en494808/index.html">Product analyst: what does it do, how much does it make, what benefits does the business bring</a></li>
<li><a href="../en494814/index.html">Is Slurm useful?</a></li>
<li><a href="../en494818/index.html">How to choose a trading terminal to work on the exchange</a></li>
<li><a href="../en494820/index.html">How Intel's ATX12VO Power Supply Specification Will Change the Future</a></li>
<li><a href="../en494824/index.html">How the content system of Turbo pages is arranged: schemes, facts and a bit of history</a></li>
<li><a href="../en494826/index.html">To be ‚Äúnew‚Äù or not to be ...</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>