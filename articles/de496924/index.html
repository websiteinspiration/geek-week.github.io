<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✍🏾 🤯 👨🏾‍🎤 Webkomponenten-Routing 🧙🏾 🌴 🛥️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Manchmal scheint es, dass Webkomponenten das Framework nicht erreichen, insbesondere im Vergleich zu den beliebtesten Vertretern. Viele der dringendst...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Webkomponenten-Routing</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496924/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manchmal scheint es, dass Webkomponenten das Framework nicht erreichen, insbesondere im Vergleich zu den beliebtesten Vertretern. </font><font style="vertical-align: inherit;">Viele der dringendsten Aufgaben, die durch die Implementierung der im Konzept der Webkomponenten enthaltenen Standards nicht verdeckt werden, lassen sich jedoch mithilfe von Bibliotheken oder einer kleinen Menge ihres eleganten Codes leicht befestigen. </font><font style="vertical-align: inherit;">Eine dieser Funktionen ist das Front-End-Routing. </font><font style="vertical-align: inherit;">Das Feature ist nicht immer notwendig, vielleicht sogar umstritten, aber in den meisten Frameworks ist es vorhanden und wird von vielen verwendet. </font><font style="vertical-align: inherit;">Was ist mit Webkomponenten? </font><font style="vertical-align: inherit;">Und wir werden versuchen, das Routing mithilfe der Navigo-Bibliothek zu implementieren.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit Konsolenbefehle unter Windows besser funktionieren, können Sie Unix-Dienstprogramme aus der Git-Distribution für dieses System installieren oder anscheinend die neuen Funktionen von WSL und Terminals verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie zunächst ein Projekt:</font></font><br>
<br>
<pre><code class="bash hljs">mkdir testnavigo
<span class="hljs-built_in">cd</span> testnavigo<font></font>
npm init<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und oft drücken wir die Eingabetaste, bis es freigegeben wird, </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dann legen wir die Bibliothek ab</font></font><br>
<br>
<pre><code class="bash hljs">npm i navigo --save
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie die Datei index.html, </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
verbinden Sie die darin enthaltene Bibliothek und definieren Sie die Hauptklasse der Anwendung. Hier wird die Logik für das Routing und die Verwaltung aller untergeordneten Komponenten zusammengefasst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webkomponenten gaben uns die Möglichkeit, den Hook automatisch aufzurufen, wenn ein Element im Baum angezeigt wird, dem unsere Klasse im Baum der Browserobjekte zugewiesen ist. </font><font style="vertical-align: inherit;">Darin initialisieren wir die Routing-Bibliothek mit Code direkt aus dem Beispiel aus dem Bibliotheks-Github (im wirklichen Leben sollte dies mit modularem Laden besser gemacht werden).</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/node_modules/navigo/lib/navigo.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">my-app</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-app</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">

   <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{

       connectedCallback() {
           <span class="hljs-keyword">let</span> root = <span class="hljs-literal">null</span>;
           <span class="hljs-keyword">let</span> useHash = <span class="hljs-literal">true</span>; <span class="hljs-comment">// Defaults to: false</span>
           <span class="hljs-keyword">let</span> hash = <span class="hljs-string">'#!'</span>; <span class="hljs-comment">// Defaults to: '#'</span>
           <span class="hljs-keyword">this</span>.router = <span class="hljs-keyword">new</span> Navigo(root, useHash, hash);
       }
    }
   customElements.define(<span class="hljs-string">'my-app'</span>, MyApp);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Routenverarbeitung hinzufügen:</font></font><br>
<br>
<pre><code class="javascript hljs">connectedCallback() {
   <span class="hljs-keyword">let</span> root = <span class="hljs-literal">null</span>;
   <span class="hljs-keyword">let</span> useHash = <span class="hljs-literal">true</span>; <span class="hljs-comment">// Defaults to: false</span>
   <span class="hljs-keyword">let</span> hash = <span class="hljs-string">'#!'</span>; <span class="hljs-comment">// Defaults to: '#'</span>
   <span class="hljs-keyword">this</span>.router = <span class="hljs-keyword">new</span> Navigo(root, useHash, hash);<font></font>
   router<font></font>
       .on(<span class="hljs-string">'page-a'</span>, () =&gt; {
           <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.insertAdjacentHTML(<span class="hljs-string">'beforeend'</span>, <span class="hljs-string">'&lt;page-a&gt;&lt;/page-a&gt;'</span>);<font></font>
       })<font></font>
       .on(<span class="hljs-string">'page-b'</span>, () =&gt; {
           <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.insertAdjacentHTML(<span class="hljs-string">'beforeend'</span>, <span class="hljs-string">'&lt;page-b&gt;&lt;/page-b&gt;'</span>);<font></font>
       })<font></font>
       .on(<span class="hljs-string">'*'</span>, () =&gt; {
           <span class="hljs-keyword">this</span>.innerHTML = <span class="hljs-string">''</span>;
           <span class="hljs-keyword">this</span>.insertAdjacentHTML(<span class="hljs-string">'beforeend'</span>, <span class="hljs-string">'&lt;div&gt;Please click links above&lt;/div&gt;'</span>);<font></font>
       })<font></font>
       .resolve();<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes Mal, wenn die Route geändert wird, aktualisiert unsere Komponente den internen Inhalt, indem sie ein neues Tag hinzufügt. </font><font style="vertical-align: inherit;">Diese Tags müssen noch für die neuen Seitenkomponenten registriert werden.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PageA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{<font></font>
   connectedCallback() {<font></font>
       <span class="hljs-keyword">this</span>.insertAdjacentHTML(<span class="hljs-string">'beforeend'</span>, <span class="hljs-string">'&lt;div&gt;This is a page A&lt;/div&gt;'</span>);<font></font>
   }<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PageB</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HTMLElement</span> </span>{<font></font>
   connectedCallback() {<font></font>
       <span class="hljs-keyword">this</span>.insertAdjacentHTML(<span class="hljs-string">'beforeend'</span>, <span class="hljs-string">'&lt;div&gt;This is a page B&lt;/div&gt;'</span>);<font></font>
   }<font></font>
}<font></font>
customElements.define(<span class="hljs-string">'page-a'</span>, PageA);<font></font>
customElements.define(<span class="hljs-string">'page-b'</span>, PageB);
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen Sie ganz oben auf der Seite Links hinzu, um die Navigation zu überprüfen:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page-a"</span> <span class="hljs-attr">data-navigo</span>&gt;</span>Page A<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"page-b"</span> <span class="hljs-attr">data-navigo</span>&gt;</span>Page B<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Attribut data-navigo können Sie darauf klicken, um vom Router verarbeitet zu werden, anstatt Anforderungen an das Backend zu stellen. </font><font style="vertical-align: inherit;">Welches ist Zeit, um zum Beispiel so zu beginnen:</font></font><br>
<br>
<pre><code class="bash hljs">npx http-server
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Öffnen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 8080 </font><font style="vertical-align: inherit;">im Browser </font><font style="vertical-align: inherit;">oder was auch immer es Ihnen dort schreibt und stellen Sie sicher, dass alles funktioniert. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t1/1k/rs/t11krslhm3qhr_uoywydrwl0kbo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt können wir alles wie gewünscht in separaten Dateien verteilen, Vorlagen anhängen und Seiten dynamisch laden und Routen zur Konfiguration erstellen. Webkomponenten wird die Hauptarbeit mit dem Lifecycle von Anwendungsobjekten übernehmen, nur Ereignisse sollten Sie daran denken , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trennen disconnectedCallback ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in dem Haken. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da ich zeigen wollte , </font><font style="vertical-align: inherit;">wie schnell dies geschehen ist, werde ich wahrscheinlich nicht den Artikel strecke weiter;) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
über einen Teil dieser I bereits in Artikeln geschrieben: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnellstart mit WebComponents</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
und </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebComponents als Frameworks, Interaktion von Komponenten</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Warten Sie auf eine neue Enthüllung ^ W Artikel, teilen und mögen!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der resultierende Quellcode kann hier im Repository des Bitpacks angezeigt werden: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://bitbucket.org/techminded/testnavigo/</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de496912/index.html">ThinkPad E480 Intel unter Windows VS ThinkPad E495 AMD unter Ubuntu Gibt es einen Unterschied?</a></li>
<li><a href="../de496914/index.html">Das kürzeste Dezimalprogramm</a></li>
<li><a href="../de496916/index.html">Fernunterricht, Verhandlung und Beratung - Teil 3: Yealink Meeting Server und 4 Sonderangebote</a></li>
<li><a href="../de496920/index.html">Mit ASP.NET Core und Arduino ein Smart Home erstellen</a></li>
<li><a href="../de496922/index.html">Leitfaden zur Reverse Client-Server-Apk am Beispiel des Jobs NeoQUEST-2020</a></li>
<li><a href="../de496936/index.html">Verschlüsseln wir SSL-Zertifikate mit dem Cert-Manager in Kubernetes</a></li>
<li><a href="../de496938/index.html">Supercomputer, Genomsequenzierung und die Aussichten, das Coronavirus zu besiegen</a></li>
<li><a href="../de496940/index.html">Wie GM-Ingenieure Elektronik testen</a></li>
<li><a href="../de496942/index.html">Digitale Ereignisse in Moskau vom 13. bis 19. April</a></li>
<li><a href="../de496944/index.html">Digitale Veranstaltungen in St. Petersburg vom 13. bis 19. April</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>