<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯжЖ ЁЯФй ЁЯУ╢ UIKit рдФрд░ UIKit рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд┐рдлреНрдЯрдпреВрдЖрдИ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ MVVMs рдХреЛ рдорд┐рд▓рд╛рдПрдВ ЁЯУз ЁЯСиЁЯП╛тАНЁЯдЭтАНЁЯСиЁЯП╗ ЁЯзЭ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ ObservableObjecрдЗрд╕рдХреЗ рд╕рд╛рде рдЯреА рдХрдХреНрд╖рд╛рдПрдВ @PublishedрдЧреБрдг рдореЗрдВ рдмрдирд╛рдП рдЧрдП рд╣реИрдВ CombineрдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк View ModelрдореЗрдВ SwiftUIред рд▓реЗрдХрд┐рди рд╡рд╛рд╕реНрддреБрдХрд▓рд╛  View ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>UIKit рдФрд░ UIKit рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд┐рдлреНрдЯрдпреВрдЖрдИ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ MVVMs рдХреЛ рдорд┐рд▓рд╛рдПрдВ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492530/"><img src="https://habrastorage.org/webt/ku/lm/v5/kulmv5qftg5ynrc21jjj3rou7ro.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ </font></font><code>ObservableObjec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рд╕рд╛рде рдЯреА рдХрдХреНрд╖рд╛рдПрдВ </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреБрдг рдореЗрдВ рдмрдирд╛рдП рдЧрдП рд╣реИрдВ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рд▓реЗрдХрд┐рди </font><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ </font></font><code> View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди&nbsp; </font><font style="vertical-align: inherit;">рдореЗрдВ </font><font style="vertical-align: inherit;">рдмрд┐рд▓реНрдХреБрд▓ рдЙрд╕реА </font><font style="vertical-align: inherit;">рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font></font><code>MVVM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣рдореЗрдВ </font><font style="vertical-align: inherit;">рдПрд▓ </font><font style="vertical-align: inherit;">рдХреЗ </font><font style="vertical-align: inherit;">рдЧреБрдгреЛрдВ </font><font style="vertical-align: inherit;">рдХреЛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ "рдмрд╛рдЗрдВрдб" ( </font></font><code>bind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рдХрд░рдирд╛ рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">ред рдЖрдк рдЖрд╢реНрдЪрд░реНрдпрдЪрдХрд┐рдд рд╣реЛрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреА рдорджрдж рд╕реЗ </font><font style="vertical-align: inherit;">рдЖрдк рдХреБрдЫ рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рдХреЛрдб рдХрд░ </font><font style="vertical-align: inherit;">рд╕рдХрддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, </font><font style="vertical-align: inherit;">рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ </font><font style="vertical-align: inherit;">рдбрд┐рдЬрд╛рдЗрди рдХрд░рддреЗ рд╕рдордп рдЗрд╕ рд╡рд┐рдЪрд╛рд░рдзрд╛рд░рд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ </font><font style="vertical-align: inherit;">, рдЖрдк рдмрд╛рдж рдореЗрдВ рджрд░реНрдж рд░рд╣рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">
рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдПрдХ рдЖрджрд┐рдо рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд╕рд╛рде рджрд┐рдЦрд╛рдирд╛ рд╣реИ рдХрд┐ рдЖрдк рдХрд┐рд╕ рддрд░рд╣ рд╕реЗ рдПрдХ </font><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ </font><font style="vertical-align: inherit;">рдХреЛ </font><font style="vertical-align: inherit;">рдкреНрд░рднрд╛рд╡реА рдврдВрдЧ рд╕реЗ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд, рд╣рдо рдЙрд╕реА рдХрд╛ рдЙрдкрдпреЛрдЧ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ</font></font><code>UI</code><font style="vertical-align: inherit;"></font><code>@Published </code><font style="vertical-align: inherit;"></font><code>View Mode</code><font style="vertical-align: inherit;"></font><code>Combine</code><font style="vertical-align: inherit;"></font><code>UIKit</code><font style="vertical-align: inherit;"></font><code>SwiftUI</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>MVVM</code><font style="vertical-align: inherit;"></font><code>UIKit</code><font style="vertical-align: inherit;"></font><code>&nbsp;Combine</code><font style="vertical-align: inherit;"></font><code>View Model </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реА </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдЦ рджреЛ рд╕рд░рд▓ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдЧрд╛ рдЬреЛ рдЖрдкрдХреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p </font><font style="vertical-align: inherit;">рд╕рд╛рдЗрдЯ рд╕реЗ </font><font style="vertical-align: inherit;">рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╢рд╣рд░ рдХреЗ рд▓рд┐рдП рдирд╡реАрдирддрдо рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА </font><font style="vertical-align: inherit;">рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред рд▓реЗрдХрд┐рди </font></font><code> UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕рд╛рде рдмрдирд╛рдпрд╛ рдЬрд╛рдПрдЧрд╛ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рджреВрд╕рд░рд╛ рдорджрдж рд╕реЗ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП, рдпреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд▓рдЧрднрдЧ рд╕рдорд╛рди рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3r/2m/mo/3r2mmow1d4zuhf7a8gcaabv6adi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХреЛрдб </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ ( </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рдореЗрдВ рдХреЗрд╡рд▓ 2 </font></font><code>UI </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрддреНрд╡ </font><font style="vertical-align: inherit;">рд╢рд╛рдорд┐рд▓ рд╣реЛрдВрдЧреЗ </font><font style="vertical-align: inherit;">: рд╢рд╣рд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рда рдХреНрд╖реЗрддреНрд░ рдФрд░ рддрд╛рдкрдорд╛рди рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓реЗрдмрд▓ред рд╢рд╣рд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рда рдмреЙрдХреНрд╕ рд╕рдХреНрд░рд┐рдп INPUT ( </font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рд╣реИ, рдФрд░ рддрд╛рдкрдорд╛рди рд▓реЗрдмрд▓ рдирд┐рд╖реНрдХреНрд░рд┐рдп EXIT ( </font></font><code>Output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) рд╣реИред&nbsp;&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рднреВрдорд┐рдХрд╛ </font></font><code>View Model </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдореЗрдВ </font></font><code>MVVM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реИ рдХрд┐ рдпрд╣ рд╕реЗ рдЗрдирдкреБрдЯ (рд░реЛрдВ) рд▓реЗрддрд╛ рд╣реИ </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(рдпрд╛ </font></font><code>ViewController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡реЗрджрди рдХреЗ рд╡реНрдпрд╛рдкрд╛рд░ рддрд░реНрдХ), рдФрдЬрд╛рд░ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рдкрд╛рд╕ рд╡рд╛рдкрд╕ рднреЗрдЬрддрд╛&nbsp; </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(рдпрд╛ </font></font><code>ViewController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), рд╕рдВрднрд╡рддрдГ рд╡рд╛рдВрдЫрд┐рдд рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдпрд╣ рдбреЗрдЯрд╛ рдкреЗрд╢ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕&nbsp; </font><font style="vertical-align: inherit;">рдмрд╛рдд </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ - рддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдпрд╛ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ - рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИрдВ рдпрджрд┐ рдЖрдк </font></font><code>ObservableObject </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ </font></font><code> @Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреБрдгреЛрдВ рдХреЗ </font><font style="vertical-align: inherit;">рд╕рд╛рде </font><font style="vertical-align: inherit;">рдПрдХ </font><font style="vertical-align: inherit;">рд╡рд░реНрдЧ рдХрд╛ </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВред</font></font><br>
<br>
<h2>   <code>API</code>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow">OpenWeatherMap</a></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрд╡рд╛&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдЖрдкрдХреЛ</font></a><font style="vertical-align: inherit;"> &nbsp; рдмрд╣реБрдд рд╡реНрдпрд╛рдкрдХ рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдЬрд┐рд╕ рдбреЗрдЯрд╛ рдореЗрдВ рд╣рдо рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдЙрд╕рдХрд╛ рдореЙрдбрд▓ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реЛрдЧрд╛, рдпрд╣ </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрдпрдирд┐рдд рд╢рд╣рд░ рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ </font><font style="vertical-align: inherit;">рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рддрд╛&nbsp; </font><font style="vertical-align: inherit;">рд╣реИ рдФрд░ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ&nbsp; </font><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nn/mk/bp/nnmkbpg0dfdnan0olkkx_amlwus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐ рдЗрд╕ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдп рдореЗрдВ рд╣рдо рдХреЗрд╡рд▓ рддрд╛рдкрдорд╛рди рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦреЗрдВрдЧреЗ </font></font><code>temp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЬреЛ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рд╣реИ&nbsp; </font></font><code>Main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдореЙрдбрд▓ рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░реА рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдПрдХ рдореВрд▓ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ&nbsp; </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдпрд╣ рд╡рд┐рд╢реНрд╡рд╛рд╕ рдХрд░рддреЗ рд╣реБрдП рдХрд┐ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЖрдк рдЗрд╕ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред рд╕рдВрд░рдЪрдирд╛ </font></font><code>WeatherDetail&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛрдбреЗрдмрд▓ рд╣реИ, рдпрд╣ рд╣рдореЗрдВ рдХреЛрдб рдХреЗ рд╕рд┐рд░реНрдл рджреЛ рд▓рд╛рдЗрдиреЛрдВ рдХреЗ </font></font><code>JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рде рдореЙрдбрд▓ рдореЗрдВ рдбреЗрдЯрд╛ </font><font style="vertical-align: inherit;">рдХреЛ рд╕рдЪрдореБрдЪ рдбрд┐рдХреЛрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛&nbsp; </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдВрд░рдЪрдирд╛&nbsp; </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рднреА рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдП</font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд░ рд╣рдо рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдореМрд╕рдо рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА </font></font><code>[WeatherDetail]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдХреА рдПрдХ рд╕реВрдЪреА </font><font style="vertical-align: inherit;">рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЦреБрдж рдХреЛ рдЖрд╕рд╛рди рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ&nbsp; </font><font style="vertical-align: inherit;">рд╕реВрдЪреА&nbsp; </font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдХреЗ рд░реВрдк рдореЗрдВ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдпрд╣ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЕрдзрд┐рдХ рдкрд░рд┐рд╖реНрдХреГрдд рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдРрдк рдХреЗ рд▓рд┐рдП рднреА рдПрдХ рд░рд┐рдХреНрдд рд╣реИред рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ </font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдП рдЙрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ </font></font><code> id,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдорд╕реЗ рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рдпрд╛рд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдорддреМрд░ рдкрд░, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрд╡рд╛ рд╕рд╣рд┐рдд рд╕реЗрд╡рд╛рдПрдБ,&nbsp; </font></font><code>URLs </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рд╕рднреА рдкреНрд░рдХрд╛рд░ рдХреА рд╕реЗрд╡рд╛рдПрдБ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрд╡рд╛&nbsp; </font><font style="vertical-align: inherit;">рд╣рдореЗрдВ </font></font><code>URLs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╢рд╣рд░ рдореЗрдВ 5 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдпрд╛ рдкреВрд░реНрд╡рд╛рдиреБрдорд╛рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА </font><font style="vertical-align: inherit;">рдкреЗрд╢рдХрд╢ рдХрд░рддреА </font><font style="vertical-align: inherit;">рд╣реИ </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдЗрд╕ рдЖрд╡реЗрджрди рдореЗрдВ, рд╣рдо рдХреЗрд╡рд▓ рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдФрд░ рдЗрд╕ рдорд╛рдорд▓реЗ рдХреЗ рд▓рд┐рдП рджрд┐рд▓рдЪрд╕реНрдкреА рд▓реЗрдВрдЧреЗ</font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЧрдгрдирд╛ рдХреА рдЧрдИ </font></font><code>absoluteURL (city: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">OpenWeatherMap</font></a></font><br>
<br>
<img src="https://habrastorage.org/webt/i1/3i/ha/i13ihapejao-kzmclk5fz1k4vni.png"><br>
<br>
<code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП, </font><font style="vertical-align: inherit;">&nbsp;рд╣рдо рдЗрд╕реЗ </font><i><font style="vertical-align: inherit;">WeatherAPI.swift</font></i><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ </font><i><font style="vertical-align: inherit;">рд░рдЦреЗрдВрдЧреЗ</font></i><font style="vertical-align: inherit;"> ред рдЗрд╕рдХрд╛ рдХреЗрдВрджреНрд░реАрдп рднрд╛рдЧ </font><font style="vertical-align: inherit;">рдПрдХ рд╢рд╣рд░ рдореЗрдВ&nbsp; </font><font style="vertical-align: inherit;">рд╡рд┐рд╕реНрддреГрдд рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдзрд┐ рд╣реЛрдЧреА&nbsp; </font><font style="vertical-align: inherit;">:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><code>WeatherDetail</code><font style="vertical-align: inherit;"></font><code>city</code><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><code>fetchWeather (for city: String) -&gt; AnyPublisher&lt;WeatherDetail, Never&gt;</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ, </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдпрд╣ рд╡рд┐рдзрд┐ рди рдХреЗрд╡рд▓ рд╡рд┐рд╕реНрддреГрдд рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рджреЗрддреА рд╣реИ&nbsp; </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдмрд▓реНрдХрд┐ рд╕рдВрдмрдВрдзрд┐рдд "рдкреНрд░рдХрд╛рд╢рдХ" рд╣реИ </font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░рд╛ "рдкреНрд░рдХрд╛рд╢рдХ" </font></font><code>AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐рд╕реА рднреА рддреНрд░реБрдЯрд┐ рдХреЛ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ - </font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдпрджрд┐ рдХреЛрдИ рдирдореВрдирд╛ рдпрд╛ рдХреЛрдбрд┐рдВрдЧ рддреНрд░реБрдЯрд┐ рдЕрднреА рднреА рд╣реБрдИ рд╣реИ, рддреЛ рдбрд┐рдкреНрдЯреА </font></font><code>WeatherDetail.placeholder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреНрд░реБрдЯрд┐ рдХреЗ рдХрд╛рд░рдг рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд┐рд╕реА рднреА рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрджреЗрд╢ рдХреЗ рдмрд┐рдирд╛ </font><font style="vertical-align: inherit;">рд▓реМрдЯрддрд╛ рд╣реИ&nbsp; </font><font style="vertical-align: inherit;">ред&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдзрд┐рдХ рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдЙрд╕ рд╡рд┐рдзрд┐ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ&nbsp; </font></font><code>fetchWeather (for city: String) -&gt; AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ </font><font style="vertical-align: inherit;">&nbsp;рд╢рд╣рд░ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╕реНрддреГрдд рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА </font><font style="vertical-align: inherit;">рдХрд╛ рдЪрдпрди рдХрд░рддреА рд╣реИ </font></font><code>&nbsp;city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдХрд░рддреА рд╣реИ </font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3h/am/tl/3hamtl2_qeyqozmtw3vnp6ezmeq.png"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд╣рд░ рдХреЗ рдирд╛рдо рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╣рдо&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдЧрдпрд╛ рдлрд╝реЙрд░реНрдо </font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ </font></font><code>absoluteURL(city:city)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рд╕реНрддреГрдд рдореМрд╕рдо рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЕрдиреБрд░реЛрдз рдХрд░рдиреЗ&nbsp; </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li> ┬л┬╗ <code>dataTaskPublisher(for:)</code>,     <code>Output</code>   <code>(data: Data, response: URLResponse)</code>, &nbsp; <code>Failure</code>&nbsp;-&nbsp;<code>URLError</code>,</li>
<li>  <code>map { }</code>    (<code>data: Data, response: URLResponse) </code>    &nbsp;<code>data</code>,&nbsp;</li>
<li> <code>JSON </code>&nbsp;<code>data</code>   ,   &nbsp;<code>WeatherDetail</code>,     ,</li>
<li>  -     ┬л┬╗   &nbsp;<code>catch (error ... )</code>&nbsp;  ┬л┬╗ <code>WeatherDetail.placeholder</code>,</li>
<li>  <code> main</code> ,          <code>UI</code>,</li>
<li>┬л┬╗  ┬л┬╗   <code>eraseToAnyPublisher()</code>    <code>AnyPublisher</code>.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ "рдкреНрд░рдХрд╛рд╢рдХ" рдЗрд╕ рдкреНрд░рдХрд╛рд░ </font></font><code>AnyPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рдмрдВрдж" рдирд╣реАрдВ рд▓реЗрддрд╛ рд╣реИ, рдпрд╣ рддрдм рддрдХ рдХреБрдЫ рднреА рд╡рд┐рддрд░рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдЬрдм рддрдХ рдХрд┐ рдХреЛрдИ рдЗрд╕реЗ "рд╕рджрд╕реНрдпрддрд╛" рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рдо рдЗрд╕реЗ рдПрдХ рдРрд╕реЗ </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рд╡рд░реНрдЧ </font><font style="vertical-align: inherit;">рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ&nbsp; </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреЛрдиреЛрдВ </font><font style="vertical-align: inherit;">рдореЗрдВ&nbsp; </font><font style="vertical-align: inherit;">рдПрдХ рднреВрдорд┐рдХрд╛ рдирд┐рднрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">рдФрд░ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред&nbsp;</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЙрдбрд▓ рдмрдирд╛рдПрдВ рджреЗрдЦреЗрдВ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><code> View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ рд╡рд░реНрдЧ рдмрдирд╛рдиреЗ&nbsp; </font></font><code>TempViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐ рдФрдЬрд╛рд░ рдПрдХ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рджреЛ рдХреЗ рд╕рд╛рде&nbsp; </font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреБрдг: &nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/webt/db/gz/mt/dbgzmtbrpltinyd30ap_j6ykiok.png"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ&nbsp; </font></font><code>@Published var city: String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд╣рд░ рд╣реИ (рдЖрдк рдЗрд╕реЗ рд╕рд╢рд░реНрдд рд░реВрдк рд╕реЗ рдПрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХрд╛ рдореВрд▓реНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">),&nbsp;&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд╕рд░рд╛&nbsp; </font></font><code>@Published var currentWeather = WeatherDetail.placeholder </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рд╕рдордп рдЗрд╕ рд╢рд╣рд░ рдореЗрдВ рдореМрд╕рдо рд╣реИ (рд╣рдо рд╕рд╢рд░реНрдд рд░реВрдк рд╕реЗ рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреЛ EXIT рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ&nbsp; </font><font style="vertical-align: inherit;">)ред</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдмрд╛рд░ рдЬрдм рд╣рдо рдПрдХ </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рд╕рдВрдкрддреНрддрд┐ </font><font style="vertical-align: inherit;">рдирд┐рд░реНрдзрд╛рд░рд┐рдд&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд░ рд▓реЗрддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВ&nbsp; </font><font style="vertical-align: inherit;">, рддреЛ рд╣рдо рдЗрд╕реЗ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рдВрдкрддреНрддрд┐ рдХреЗ </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░реВрдк рдореЗрдВ рдФрд░ "рдкреНрд░рдХрд╛рд╢рдХ"&nbsp; </font><font style="vertical-align: inherit;">рджреЛрдиреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ&nbsp; </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╡рд░реНрдЧ рдореЗрдВ&nbsp; </font></font><code>TempViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЖрдк рди рдХреЗрд╡рд▓ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╣рд┐рдд рдХреЗ рдЧреБрдгреЛрдВ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рдЙрдирдХреЗ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЗ рд╡реНрдпрд╛рдкрд╛рд░рд┐рдХ рддрд░реНрдХ рднреА рд▓рд┐рдЦ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЕрдВрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЬрдм </font><font style="vertical-align: inherit;">рд╣рдо </font><font style="vertical-align: inherit;">рдХрдХреНрд╖рд╛ рдХреЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдХреЛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ </font></font><code>TempViewModel&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>init?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреЛ рд╣рдо рдПрдХ "рд╕рджрд╕реНрдпрддрд╛" рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рдЬреЛ рдХрдХреНрд╖рд╛ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ&nbsp; </font><font style="vertical-align: inherit;">рдкреВрд░реЗ "рдЬреАрд╡рди рдЪрдХреНрд░" рдореЗрдВ рдХрд╛рдо рдХрд░реЗрдЧреА </font></font><code>TempViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рд╢рд╣рд░ рдкрд░&nbsp; </font><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдХреА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдкреБрди: рдЙрддреНрдкрдиреНрди&nbsp; </font><font style="vertical-align: inherit;">рдХрд░реЗрдЧреА&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЛ рдЗрдирдкреБрдЯ "рдкреНрд░рдХрд╛рд╢рдХ" </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рд╕реЗ рдЖрдЙрдЯрдкреБрдЯ "рдкреНрд░рдХрд╛рд╢рдХ" </font></font><code>AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрдХ рдЦреАрдВрдЪрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХрд╛ рдореВрд▓реНрдп рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рд╣реИред рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдо "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░" рдХреА рдорджрдж рд╕реЗ рдЗрд╕реЗ "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм" рдХрд░рддреЗ рд╣реИрдВ&nbsp;</font></font><code>assign (to: \.currentWeather, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдФрд░ рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдХрд╛ рд╡рд╛рдВрдЫрд┐рдд рдорд╛рди&nbsp; </font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;"рдЖрдЙрдЯрдкреБрдЯ"&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдореЗрдВ рд╢реНрд░реГрдВрдЦрд▓рд╛рдУрдВ рдХреЛ рдХреЗрд╡рд▓ рдЧреБрдгреЛрдВ рд╕реЗ рдирд╣реАрдВ рдЦреАрдВрдЪрдирд╛ рдЪрд╛рд╣рд┐рдП </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЕрд░реНрдерд╛рддреН "рдкреНрд░рдХрд╛рд╢рдХреЛрдВ" рд╕реЗ </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рднрд╛рдЧ рд▓реЗрдВрдЧреЗ </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдФрд░ рдпрд╣ рд╡рд╣рд╛рдВ рд╣реИ рдХрд┐ рд╣рдо рдЗрд╕реЗ рдмрджрд▓ рджреЗрдВрдЧреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдпрд╣ рдХреИрд╕реЗ рдХрд░реЗрдВрдЧреЗ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣рдорд╛рд░реЗ рд╢рд╕реНрддреНрд░рд╛рдЧрд╛рд░ рдореЗрдВ рдПрдХ рдлрд╝рдВрдХреНрд╢рди </font></font><code> fetchWeather (for city: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реИ рдЬреЛ рдХрдХреНрд╖рд╛ рдореЗрдВ рд╣реИ&nbsp; </font></font><code>WeatherAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рд╢рд╣рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рд╕реНрддреГрдд рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд╕рд╛рде </font><font style="vertical-align: inherit;">"рдкреНрд░рдХрд╛рд╢рдХ" рд▓реМрдЯрд╛рддрд╛ </font><font style="vertical-align: inherit;">рд╣реИ&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рд╣рдо рдХреЗрд╡рд▓ рдХрд┐рд╕реА рднреА "рдкреНрд░рдХрд╛рд╢рдХ" рдХреЗ рдореВрд▓реНрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ&nbsp; </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕реЗ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рддрд░реНрдХ рдореЗрдВ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдСрдкрд░реЗрдЯрд░ рдХреА рдорджрдж&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдкреНрд░рдХрд╛рд╢рдХ </font></font><code>fetchWeather (for city: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдкрд░&nbsp; </font><font style="vertical-align: inherit;">рдЬрд╛рдПрдВ&nbsp; </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">
рдСрдкрд░реЗрдЯрд░</font></font><code>Combine</code><font style="vertical-align: inherit;"></font><code>flatMap</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/wz/1r/9j/wz1r9juemdlcse18ko2k4xcvgcs.png"><br>
<br><font style="vertical-align: inherit;"></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд┐рдЫрд▓реЗ "рдкреНрд░рдХрд╛рд╢рдХ" рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдЖрдВрдХрдбрд╝реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдирдпрд╛ "рдкреНрд░рдХрд╛рд╢рдХ" рдмрдирд╛рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдмрд╛рдж, рд╣рдо рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░" рдХреА рдорджрдж рд╕реЗ рдЗрд╕ рдирдП "рдкрдмреНрд▓рд┐рд╢рд░" рдХреЛ "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм" рдХрд░рддреЗ рд╣реИрдВ&nbsp; </font></font><code>assign (to: \.currentWeather, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЙрдкрд░реНрдЯреА </font><font style="vertical-align: inherit;">рдХреЛ "рдкрдмреНрд▓рд┐рд╢рд░" рд╕реЗ рдкреНрд░рд╛рдкреНрдд рд╡реИрд▓реНрдпреВ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВ&nbsp; </font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/ug/yt/ygugytbie7fl6ezfiala6jn-p9o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдордиреЗ рд╕рд┐рд░реНрдл рдПрдХ </font></font><code>init( )</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASYNCHRONOUS "рдкрдмреНрд▓рд┐рд╢рд░" рдФрд░ "рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдмреНрдб" рдмрдирд╛рдпрд╛, рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк </font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди" рдорд┐рд▓рд╛ред "ред </font></font><br>
<br>
<code>AnyCancellable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди" рдХрд┐рд╕реА рднреА рд╕рдордп рдХреЙрд▓ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдХреЛ "рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди" рдХреЛ рд░рджреНрдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдФрд░ рдЕрдм "рдкреНрд░рдХрд╛рд╢рдХ" рд╕реЗ рдорд╛рди рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЬреИрд╕реЗ рд╣реА </font></font><code>&nbsp;AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рд╕рджрд╕реНрдпрддрд╛" рдЕрдкрдирд╛ рджрд╛рдпрд░рд╛ рдЫреЛрдбрд╝рддреА рд╣реИ, "рдкреНрд░рдХрд╛рд╢рдХ" рджреНрд╡рд╛рд░рд╛ рдХрдмреНрдЬрд╛ рдХреА рдЧрдИ рдореЗрдореЛрд░реА рдХреЛ рдореБрдХреНрдд рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдЬреИрд╕реЗ рд╣реА рдпрд╣ </font></font><code>init( ) </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░рд╛ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдпрд╣ "рд╕рджрд╕реНрдпрддрд╛" рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛&nbsp;</font></font><code>ARC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рд╕рдордп рдХреА рджреЗрд░реА рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдЕрд╕рд╛рдЗрди рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдирд╣реАрдВ рд╣реИ&nbsp; </font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдЗрд╕ рддрд░рд╣ рдХреЗ "рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди" рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ OUTSIDE </font></font><code>init()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡реИрд░рд┐рдПрдмрд▓ </font><font style="vertical-align: inherit;">рдмрдирд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, </font><font style="vertical-align: inherit;">рдЬреЛ рдЗрд╕ "рд╡реИрд░рд┐рдПрдмрд▓" рдХреЛ рдХреНрд▓рд╛рд╕ рдХреЗ рдкреВрд░реЗ "рд▓рд╛рдЗрдл рд╕рд╛рдЗрдХрд▓" рдореЗрдВ рдЗрд╕ рд╡реЗрд░рд┐рдПрдмрд▓ рдореЗрдВ&nbsp; </font></font><code>var&nbsp;cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рдЦреЗрдЧрд╛ </font><font style="vertical-align: inherit;">ред&nbsp; </font><font style="vertical-align: inherit;">"рд╕рджрд╕реНрдпрддрд╛" рдЪрд░ рдореЗрдВ </font><font style="vertical-align: inherit;">
рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">рдСрдкрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ&nbsp; </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">рдирддреАрдЬрддрди, "рд╕рджрд╕реНрдпрддрд╛" рд╡рд░реНрдЧ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдкреВрд░реЗ "рдЬреАрд╡рди рдЪрдХреНрд░" рднрд░ рдореЗрдВ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛&nbsp; </font><font style="vertical-align: inherit;">ред рд╣рдо рдкреНрд░рдХрд╛рд╢рдХ рдХреЗ рдореВрд▓реНрдп рдХреЛ рдЗрдЪреНрдЫрд╛рдиреБрд╕рд╛рд░ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рдФрд░ </font><font style="vertical-align: inherit;">&nbsp;рдЗрд╕ рд╢рд╣рд░ </font><font style="vertical-align: inherit;">рдХрд╛ рд╡рд░реНрддрдорд╛рди рдореМрд╕рдо рд╣рдореЗрд╢рд╛ рд╣рдорд╛рд░реЗ рдирд┐рдкрдЯрд╛рди рдореЗрдВ рд░рд╣реЗрдЧрд╛ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">
рд╢рд╣рд░ рдЯрд╛рдЗрдк рдХрд░рддреЗ рд╕рдордп рд╕рд░реНрд╡рд░ рдХреЙрд▓ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП&nbsp;</font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"></font><code>TempViewMode</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>AnyCancellable</code><font style="vertical-align: inherit;"></font><code>cancellableSet</code><font style="vertical-align: inherit;"></font><code>store ( in: &amp;self.cancellableSet)</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/dq/xh/y9/dqxhy9d4lnobqznxdlhx_lt83k4.png"><br>
<br><font style="vertical-align: inherit;"></font><code>TempViewModel</code><font style="vertical-align: inherit;"></font><code>$city</code><font style="vertical-align: inherit;"></font><code>currentWeather</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╣рдореЗрдВ рд╢рд╣рд░ рдХреЗ рдирд╛рдо рдХреЗ рд╕рд╛рде рд▓рд╛рдЗрди рдХреЗ "рдкреНрд░рдХрд╛рд╢рдХ" рдХрд╛ рд╕реАрдзреЗ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП&nbsp; </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рдСрдкрд░реЗрдЯрд░реЛрдВ </font></font><code>debounce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>removeDuplicates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: рдХреЗ </font><font style="vertical-align: inherit;">рд╕рд╛рде рдЗрд╕рдХрд╛ рд╕рдВрд╢реЛрдзрд┐рдд рд╕рдВрд╕реНрдХрд░рдг </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ho/m9/ho/hom9ho7cbdou92ol4fd6dizlqd4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ред рдСрдкрд░реЗрдЯрд░ рдХреЛ&nbsp; </font></font><code>debounce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдХреАрдмреЛрд░реНрдб рдкрд░ рдЖрд╡рд╢реНрдпрдХ рдЬрд╛рдирдХрд╛рд░реА рдЯрд╛рдЗрдк рдХрд░рдиреЗ рддрдХ рдЗрдВрддрдЬрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рд╣реА рд╕рдВрд╕рд╛рдзрди-рдЧрд╣рдирддрд╛ рдПрдХ рдмрд╛рд░ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕реА рддрд░рд╣, рдПрдХ рдСрдкрд░реЗрдЯрд░ </font></font><code>removeDuplicates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореВрд▓реНрдпреЛрдВ рдХреЛ рддрднреА рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░реЗрдЧрд╛ рдЬрдм рд╡реЗ рдХрд┐рд╕реА рднреА рдкрд┐рдЫрд▓реЗ рдореВрд▓реНрдпреЛрдВ рд╕реЗ рдЕрд▓рдЧ рд╣реЛрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рд▓реЗ рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИ </font></font><code>john</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рддреЛ </font></font><code>joe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рдлрд┐рд░ </font></font><code>john</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╣рдо </font></font><code>john</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗрд╡рд▓ рдПрдХ рдмрд╛рд░ </font><font style="vertical-align: inherit;">рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрд╣ рд╣рдорд╛рд░реЗ </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЕрдзрд┐рдХ рдХреБрд╢рд▓ </font><font style="vertical-align: inherit;">рдмрдирд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUI рдХреЗ рд╕рд╛рде UI рдмрдирд╛рдирд╛</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдм рдЬрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдпрд╣ рд╣реИ </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">рддреЛ рдЪрд▓рд┐рдП </font><font style="vertical-align: inherit;">рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ </font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдФрд░ рдлрд┐рд░ рдкрд░ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо </font></font><code>Xcode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдирдИ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЬрд┐рд╕рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рд╣рдо </font><font style="vertical-align: inherit;">рдПрдХ </font><font style="vertical-align: inherit;">рдЪрд░ рдХреЗ </font><font style="vertical-align: inherit;">рд░реВрдк рдореЗрдВ рдЕрдкрдирд╛ </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp; рд╕реНрдерд╛рди рд░рдЦрддреЗ рд╣реИрдВ&nbsp; </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╢реАрд░реНрд╖рдХ рдХреЗ рд╕рд╛рде&nbsp; </font><font style="vertical-align: inherit;">рдмрджрд▓реЗрдВ&nbsp; </font><font style="vertical-align: inherit;">, рд╢рд╣рд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рда рдмреЙрдХреНрд╕ рдЬреЛрдбрд╝реЗрдВ&nbsp; </font><font style="vertical-align: inherit;">рдФрд░ рддрд╛рдкрдорд╛рди рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓реЗрдмрд▓: </font><font style="vertical-align: inherit;">
рд╣рдордиреЗ рд╕реАрдзреЗ рдЕрдкрдиреЗ рдЪрд░ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ </font><font style="vertical-align: inherit;">ред рд╣рдордиреЗ рд╢рд╣рд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╛рда рдмреЙрдХреНрд╕ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ </font><font style="vertical-align: inherit;">, рдФрд░ рддрд╛рдкрдорд╛рди рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЗрдмрд▓ рдореЗрдВ - </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">
рдЕрдм, </font><font style="vertical-align: inherit;">&nbsp;рдЧреБрдгреЛрдВ рдореЗрдВ </font><font style="vertical-align: inherit;">рдХрд┐рд╕реА рднреА рдкрд░рд┐рд╡рд░реНрддрди рд╕реЗ&nbsp; </font><font style="vertical-align: inherit;">"рдкреБрдирд░реНрд╡рд┐рддрд░рдг" рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">
рдпрд╣ рдЗрд╕ рддрдереНрдп рд╕реЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реЛрддрд╛ рд╣реИ рдХрд┐ рд╣рдорд╛рд░рд╛ </font><font style="vertical-align: inherit;">рд╣реИ</font></font><code>View Model</code><font style="vertical-align: inherit;"></font><code> @ObservedObject </code><font style="vertical-align: inherit;"></font><code>model</code><font style="vertical-align: inherit;"></font><code>Text ("Hello, World!") </code><font style="vertical-align: inherit;"></font><code>Text ("WeatherApp")</code><font style="vertical-align: inherit;"></font><code>TextField ("City", text: self.$model.city)&nbsp;</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/oc/si/zzocsimzbd7bpssf_-ckigkggdi.png"><br>
<br><font style="vertical-align: inherit;"></font><code>model:&nbsp;TempViewModel()</code><font style="vertical-align: inherit;"></font><code>$model.city</code><font style="vertical-align: inherit;"></font><code>model.currentWeather.main?.temp</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>@Published</code><font style="vertical-align: inherit;"></font><code>View</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/sd/jx/uk/sdjxukkrljf2xfbo944koyt4ee4.png"><br>
<br><font style="vertical-align: inherit;"></font><code>View Model </code><font style="vertical-align: inherit;"></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдпрд╣ рд╣реИ рдХрд┐, </font><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рдЧреБрдгреЛрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рддрддреНрд╡реЛрдВ ( </font><font style="vertical-align: inherit;">) рдХреЗ </font><font style="vertical-align: inherit;">"рдмрд╛рдзреНрдпрдХрд╛рд░реА" ( </font></font><code>binding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ </font><font style="vertical-align: inherit;">рдмрд╛рд╣рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдРрд╕рд╛ рд╕реНрд╡рдд: "рдмрд╛рдзреНрдпрдХрд╛рд░реА" рдХреЗрд╡рд▓ рдореЗрдВ рд╕рдВрднрд╡ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><code>View Model</code><font style="vertical-align: inherit;"></font><code>UI</code><font style="vertical-align: inherit;"></font><code>SwiftUI</code><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKit рд╡рд╛рд▓рд╛ UI рдмрдирд╛рдирд╛</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдореЗрдВ рдХреНрдпрд╛ рдХрд░рдирд╛ рд╣реИ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">рдпрд╣ рд╡рд╣рд╛рдБ рдирд╣реАрдВ рд╣реИ&nbsp;  </font></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдореЗрдВ&nbsp; </font></font><code>UIKit </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо "рдмрд╛рдЗрдВрдбрд┐рдВрдЧ" рдкреНрд░рджрд░реНрд╢рди рдХрд░реЗрдВрдЧреЗ ( </font></font><code>binding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореИрдиреНрдпреБрдЕрд▓)ред </font><font style="vertical-align: inherit;">рдЗрд╕ "рдореИрдиреБрдЕрд▓ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ" рдХреЛ рдХрд░рдиреЗ рдХреЗ рдХрдИ рддрд░реАрдХреЗ рд╣реИрдВ:</font></font><br>
<br>
<ul>
<li><code>Key-Value Observing </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╛ </font></font><code>KVO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: рдХрд┐рд╕реА </font></font><code>key paths</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдкрддреНрддрд┐ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдиреЗ рдФрд░ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП рдЙрдкрдпреЛрдЧ </font><font style="vertical-align: inherit;">рдХрд░рдиреЗ рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП рдПрдХ рддрдВрддреНрд░&nbsp; </font><font style="vertical-align: inherit;">рдЬреЛ рдЗрд╕реЗ рдмрджрд▓ рджрд┐рдпрд╛ рд╣реИред</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдпрд╛ </font></font><code>FRP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: рдПрдХ рдврд╛рдВрдЪреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font></li>
<li><code>Delegation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: рдПрдХ рд╕рдВрдкрддреНрддрд┐ рдореВрд▓реНрдп рдмрджрд▓ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдПрдХ рдЕрдзрд┐рд╕реВрдЪрдирд╛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдирд┐рдзрд┐ рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ред</font></font></li>
<li><code>Boxing</code>:    <code>didSet { }</code>    ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдЦ рдХреЗ рд╢реАрд░реНрд╖рдХ рдХреЛ рджреЗрдЦрддреЗ рд╣реБрдП, рд╣рдо рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХрд╛рдо рдХрд░реЗрдВрдЧреЗ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдореЗрдВ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡реЗрджрди, рд╣рдо рджрд┐рдЦрд╛ рджреЗрдВрдЧреЗ рдХрд┐рддрдирд╛ рдЖрд╕рд╛рди рд╣реИ рдХреЗ рд╕рд╛рде рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП "рдореИрдиреНрдпреБрдЕрд▓ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ" рд╣реИ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрдВ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡реЗрджрди, рд╣рдо рднреА рджреЛ рд╣реЛрдЧрд╛ </font></font><code>UI </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: рддрддреНрд╡реЛрдВ </font></font><code>UITextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢рд╣рд░ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдФрд░ </font></font><code> UILabel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрд╛рдкрдорд╛рди рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдореЗрдВ </font></font><code>ViewController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рд╣реЛрдЧрд╛ </font></font><code>Outlet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрди рддрддреНрд╡реЛрдВ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/_w/xs/dc_wxscdvx2gfvhkzpn2sppn_k8.png"><br>
<br>
<img src="https://habrastorage.org/webt/dp/hi/du/dphidu2qg7ym1bn1sorekv0opts.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╡реИрд░рд┐рдПрдмрд▓ рдХреЗ рд░реВрдк рдореЗрдВ </font></font><code>viewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд╣рдо рдХреЗ рд░реВрдк рдореЗрдВ рд╣реА рдПрдХ рд╣реИ </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд┐рдЫрд▓реЗ рдЕрдиреБрднрд╛рдЧ рдореЗрдВ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/py/lr/n1/pylrn1luepommf97vwrthhyz3oy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдХрд░ "рдореИрдиреБрдЕрд▓ рдмрдВрдзрди" рдХреЗ рд╕рд╛рде рдкрд╣рд▓реЗ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЪрд▓реЛ рдкрд╛рда рдХреНрд╖реЗрддреНрд░ рдмрдирд╛рддреЗ рд╣реИрдВ </font></font><code>UITextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдорд╛рд░реЗ рд╕рд╣рдпреЛрдЧреА рдФрд░ рд╣рдорд╛рд░реЗ рд╕рд╛рдордЧреНрд░реА рдХреА "рдкреНрд░рдХрд╛рд╢рдХ" </font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z0/dn/wg/z0dnwgxqkqam7mcy8qbyo6ajvx4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд╣рдореЗрдВ </font></font><code>viewDidLoad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ "рдореИрдиреБрдЕрд▓ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ" </font><font style="vertical-align: inherit;">рдХреЛ рдмрд╣реБрдд рдЖрд╕рд╛рдиреА рд╕реЗ </font><font style="vertical-align: inherit;">рд▓рд╛рдЧреВ </font><font style="vertical-align: inherit;">рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛</font></font><code>binding ()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q0/qu/-f/q0qu-ftfjqr_giedbnah50cwe2m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╣рдо "рдкреНрд░рдХрд╛рд╢рдХ" рдХреА </font></font><code> cityTextField.textPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"рд╕рджрд╕реНрдпрддрд╛" рдПрдХ рдмрд╣реБрдд рд╣реА рд╕рд░рд▓ "рдЧреНрд░рд╛рд╣рдХ" рдХреА рдорджрдж рд╕реЗ рд▓реЗрддреЗ рд╣реИрдВ&nbsp; </font></font><code>assign (to: \.city, on: viewModel)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдЯрд╛рдЗрдк рдХрд┐рдП рдЧрдП рдкрд╛рда </font></font><code>cityTextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рд╣рдорд╛рд░реА "рдЗрдирдкреБрдЯ" </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдкрддреНрддрд┐ рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП рд╣рдорд╛рд░реЗ "рдЗрдирдкреБрдЯ"&nbsp; </font><font style="vertical-align: inherit;">рд╕рдВрдкрддреНрддрд┐ рдореЗрдВ </font><font style="vertical-align: inherit;">рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реИрдВ </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рдПрдХ рдФрд░ рджрд┐рд╢рд╛ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рддреЗ рд╣реИрдВ: рд╣рдо "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░" рдХреА&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдкрддреНрддрд┐&nbsp; </font></font><code>$currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;рдХреЛ "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░" </font></font><code>sink </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЙрд╕рдХреЗ рдмрдВрдж рд╣реЛрдиреЗ </font><font style="vertical-align: inherit;">рдХреА рдорджрдж рд╕реЗ "рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдм" </font></font><code>receiveValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд░рддреЗ рд╣реИрдВ, рддрд╛рдкрдорд╛рди рдорд╛рди рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рд▓реЗрдмрд▓ рдкрд░ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВ </font></font><code> temperatureLabel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">"рд╕рджрд╕реНрдпрддрд╛" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрдВ рдкреНрд░рд╛рдкреНрдд&nbsp; </font></font><code>viewDidLoad&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЪрд░ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>var&nbsp;cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рдЙрдиреНрд╣реЗрдВ рдПрдХ рдмрд╛рд░ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж, рд╣рдо рдЙрдиреНрд╣реЗрдВ рдХрдХреНрд╖рд╛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рдкреВрд░реЗ "рдЬреАрд╡рди рдЪрдХреНрд░" рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ </font></font><code>ViewController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рд╕рд╛рде рдореЗрдВ рд╣рдорд╛рд░реЗ "рд╕рджрд╕реНрдпрддрд╛" рдХреЗ рд╕рд╛рде&nbsp;</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡реЗрджрди рдХреЗ рд╕рднреА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рддрд░реНрдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡реИрд╕реЗ, рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рде рдХрд╛рдо рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рдпрд╣ рд╣рд╕реНрддрдХреНрд╖реЗрдк рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред </font></font><code>UIKit </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдкреНрд░рддрд┐ рдЙрджрд╛рд╕реАрди </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░, рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдЗрд╕реЗ </font><font style="vertical-align: inherit;">рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font><font style="vertical-align: inherit;">рд╣рдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ&nbsp; </font></font><code>UIKit </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/fs/pi/wpfspirlf9jp-e2magbcorvzany.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рд╣рдо рдРрд╕рд╛ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдЗрд╕реЗ </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд╛рд▓реВ рдЕрдиреБрдкреНрд░рдпреЛрдЧ </font></font><code> UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рд╕рдВрднрд╡рддрдГ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ </font><font style="vertical-align: inherit;">рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдЕрдкрд░рд┐рд╡рд░реНрддрд┐рдд рд░рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрд╕ рдЗрддрдирд╛ рд╣реАред рдХреЛрдб </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рд╖реНрдХрд░реНрд╖ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рдврд╛рдВрдЪреЗ </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреБрдо рдмрд╣реБрдд рдмрд╕ рдФрд░ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ </font></font><code> MVVM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреЛрдиреЛрдВ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рд╕рдордЭрдиреЗ рдФрд░ рдкрдардиреАрдп рдХреЛрдб рдХреЗ рд░реВрдк рдореЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓рд┐рдВрдХ: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдпреБрдХреНрдд + UIKit + MVVM</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрдВрдмрд╛рдЗрди </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдИрдУрдПрд╕ рдПрдорд╡реАрд╡реАрдПрдо рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">: рдЖрдИрд╡реАрдПрд╕</font></a><font style="vertical-align: inherit;"> 
рдкреАрдПрд╕ рдХреЗ </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд┐рдП рдХрдВрдмрд╛рдЗрди рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд╕рд╛рде </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдПрдорд╡реАрд╕реА рдПрдорд╡реАрд╡реАрдПрдо рд╕реЗ </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд░рд┐рдлрд╝реЗрдХреНрдЯ</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд░рдирд╛ рдпрджрд┐ рдЖрдк рдХреБрдЫ рдореМрд╕рдо рдХреА рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУрдкрдирд╡реЗрд░рдкреЗрдЬрд╝</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рдкрдВрдЬреАрдХрд░рдг рдХрд░рдирд╛ рд╣реЛрдЧрд╛ </font><font style="vertical-align: inherit;">&nbsp;рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ </font></font><code> API key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рдЖрдкрдХреЛ 2 рдорд┐рдирдЯ рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд▓рдЧреЗрдЧрд╛ред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi492514/index.html">рд░реВрд╕ рдФрд░ рдХрдЬрд╛рдХрд┐рд╕реНрддрд╛рди рдореЗрдВ рд╕рдордХрдХреНрд╖реЛрдВ рдХреЗ рдХрд╛рдиреВрдиреА рд░реВрдк рд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкреНрд░рд╡рд╛рд╣ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреИрд╕реЗ рдХрд░реЗрдВ?</a></li>
<li><a href="../hi492518/index.html">рд╡рд╛рдпрд░рд╕ рдХреЗ рдкреНрд░рдХреЛрдк рдХреЗ рд▓рд┐рдП рджреВрд░рд╕реНрде рдХрд╛рд░реНрдп рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рджрд╕реНрддрд╛рд╡реЗрдЬреЛрдВ рдХреЗ рдбрд┐рдЬрд┐рдЯрд▓ рд╣рд╕реНрддрд╛рдХреНрд╖рд░</a></li>
<li><a href="../hi492520/index.html">рдиреИрдиреЛрдХрд╛рдб рдкреНрд▓рд╕ 20 рдореЗрдВ рдЕрд╕рд░ рдХрдк рдХреЗ рд╡реНрдпрд╛рд╕ 3 рдбреА рдореЙрдбрд▓рд┐рдВрдЧ</a></li>
<li><a href="../hi492522/index.html">рд░рд┐рдореЛрдЯ рдЯреАрдо рд╕рдВрдЪрд╛рд░</a></li>
<li><a href="../hi492524/index.html">рдХреИрд╕реЗ рдореИрдВрдиреЗ рдЕрдиреБрднрд╡ рдФрд░ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдмрд┐рдирд╛ $ 1,000,000 рдХрдорд╛рдпрд╛, рдФрд░ рдлрд┐рд░ рдЙрдиреНрд╣реЗрдВ рдЕрдкрдирд╛ рдЕрдиреБрд╡рд╛рджрдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЦрд░реНрдЪ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi492534/index.html">рддреЛ рдХреНрдпрд╛ рдорд╛рд╕реНрдХреЛ рдореЗрдВ рдЕрд╕рд▓реА рддреВрдлрд╛рди рд╣реИрдВ рдпрд╛ рдирд╣реАрдВ? рд╣рдо 13 рдорд╛рд░реНрдЪ, 2020 рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЧрд░реНрдо рдЦреЛрдЬ рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi492538/index.html">Wrike TechClub: рд╡рд┐рддрд░рдг рд╕рдВрд░рдЪрдирд╛ - рдкреНрд░рдХреНрд░рд┐рдпрд╛рдПрдБ рдФрд░ рдЙрдкрдХрд░рдг (DevOps + QAA)ред рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рдкреЗрдкрд░</a></li>
<li><a href="../hi492540/index.html">рдЦреЗрд▓ "рдПрдХ рдкрд▓ рд░реБрдХреЛ!" Arduino рдкрд░</a></li>
<li><a href="../hi492546/index.html">Nikto рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рд╕рд╛рдЗрдЯ рдХреА рднреЗрджреНрдпрддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛</a></li>
<li><a href="../hi492548/index.html">рдпреВрдирд┐рдЯреА рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ: рдЯреАрдЪрд┐рдВрдЧ рдПрдордУ рдПрдЬреЗрдВрдЯреНрд╕ рдЯреВ рдЬрдВрдк рдУрд╡рд░ рджреАрд╡рд╛рд░реЛрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>