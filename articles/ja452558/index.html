<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍❤️‍💋‍👨 ➡️ 📒 XiaomiのBLE温度計からデータを取得する方法 🧑🏽 🚥 ➖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="背景：趣味の1つとして、「スマートホーム」がありました。美しいデバイスが欲しいですが、自由とプライバシーも欲しいです。したがって、私はハリネズミのホームアシスタントとXiaomi uzhikの交配に従事しています。
 
 快適な環境を維持するには、家で何が起こっているかを知る必要があります。つまり、...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>XiaomiのBLE温度計からデータを取得する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452558/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景：趣味の1つとして、「スマートホーム」がありました。美しいデバイスが欲しいですが、自由とプライバシーも欲しいです。したがって、私はハリネズミの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ホームアシスタント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とXiaomi uzhikの交配に従事してい</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
快適な環境を維持するには、家で何が起こっているかを知る必要があります。つまり、センサーが必要です。 Xiaomiにはさまざまなものがありますが、何よりも電子インクの正方形温度計が好きでした。しかし、グラフィカルなインターフェースを除いて、WiFiもBLEもZigBeeも提供していないという意味で、彼はまったく賢くありません。しかし、CR2032バッテリーは数年間持続します。 Bluetooth付きのバージョンもありますが、少しエレガントではありません-一種の厚いパンケーキ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして春の初めに、新しい温度/湿度センサーが電子インクで、BLEで、そして時計でさえ発表されました。私は本当に時計は必要ありませんが、それ以外のものはすべての合理的な議論を即座に抑制し、温度計は人気のあるオンラインストアの1つで事前注文されました。乗り、乗り、ついに到着しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/62/pf/n262pfr57ulreqqa4i_vsvvacoa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
センサーは問題なくMiHomeアプリケーションに追加されました（私はどこにでも英語のインターフェイスを持っていますが、ロシア語版のMiHomeでは、翻訳の問題がありました）。現在の値と測定値の変更履歴を表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、ホームアシスタントへの統合に伴い、問題が発生しています。温度センサーの既存のコンポーネントは、デバイスからデータを取得することを望んでおらず、不正なデータ形式について不満を述べていました。さて、何もする必要はありません。シャベルを取り出して掘り始めます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の最初の考えは、BLEプロトコルデバイスに慣れることでしたが、ドキュメントのサイズを評価した後、一般的なpokeメソッドに切り替えることにしました。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シェルへの最初のアプローチ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開始するには、ubuntuでターミナルを開き、bluetoothctlを実行します。</font><font style="vertical-align: inherit;">次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">[NEW] Controller 00:1A:7D:DA:71:13 fett [default]<font></font>
[NEW] Device 3F:59:C8:80:70:BE LYWSD02<font></font>
[NEW] Device 4C:65:A8:DC:0D:AF MJ_HT_V1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MJ_HT_V1は古い温度センサー、LYWSD02は新しい温度センサーです。モデルの命名形式の違いは、いくぶん憂慮すべきです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、どうにかして読む必要があり、一般的にどのようなデータを私たちから取得することができます。彼</font><font style="vertical-align: inherit;">は、古いセンサーからデータを受信するためにHome Assistantで使用される</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mitemp</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリのソースを開きました</font><font style="vertical-align: inherit;">。そこでblewrapライブラリが使用されていることがわかりました。これは、BLEを操作するための2つのPythonライブラリのラッパーです。それほど多くのレイヤーは必要ありません</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。bluepy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。ドキュメントはありますが、多くはなく、少なからずあります。デバイス上のすべてのデータフィールドを通過するスクリプトを読み書きします。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> bluepy <span class="hljs-keyword">import</span> btle<font></font>
<font></font>
mac = <span class="hljs-string">'3F:59:C8:80:70:BE'</span><font></font>
p = btle.Peripheral(mac)<font></font>
<font></font>
<span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> p.getServices():<font></font>
    print(<span class="hljs-string">'Service:'</span>, s.uuid)
    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s.getCharacteristics():<font></font>
        print(<span class="hljs-string">'\tCharacteristic:'</span>, c.uuid)<font></font>
        print(<span class="hljs-string">'\t\t'</span>, c.propertiesToString())
        <span class="hljs-keyword">if</span> c.supportsRead():<font></font>
            print(<span class="hljs-string">'\t\t'</span>, c.read())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、すべてがシンプルです。BLEデバイスは一連のサービスを提供します。それぞれのサービスは一連の特性で構成されています。各特性は8つのタイプのいずれかにすることができます。1つの特性に対して、同時に複数のタイプを指定できます。サービスと機能は、2つの方法で識別されます-HEX値とUUIDの形式のアドレス。私はUUIDに慣れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、私は両方のセンサーのすべての仕様を検討し、それらを見て、再びまったく異なるメーカーのデバイスがXiaomiブランドで販売されていることに気付きました。</font><font style="vertical-align: inherit;">古いセンサーの値の中で「Cleargrass Inc」が見つかり、新しいセンサー「miaomiaoce.com」で見つかりました。</font><font style="vertical-align: inherit;">これら2つのセンサーのサービスと特性の構造も完全に異なり、新しいセンサーの特性のリストは2倍の長さです。</font><font style="vertical-align: inherit;">次に、センサーと統合するために独自のライブラリを作成する必要があることが明らかになりました（もちろん、最初はグーグルで検索しましたが、リクエストLYWSD02で何か便利なものがあるかもしれませんが、賢明なグーグルは提供していません）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それでは、どのようにしてデータを取得しますか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用可能な特性のタイプの中には、READの他に、WRITEおよびNOTIFYもあります。 WRITE-データをデバイスに送信し、NOTIFY-データを受信します。同時にWRITE NOTIFYもあります。デバイスは、WRITEコマンドで目的のバイトを送信してサブスクライブした後にのみデータを送信します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の手で何かを試みても結果は得られませんでした。絶望の第一線に達しましたが、そのとき、ノルディックセミコンダクターズのチップに基づいて工芸品に関する記事を読み、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF Connect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムをスマートフォンに入れました</font><font style="vertical-align: inherit;">。その助けを借りて、私はデバイスが提供するすべてのサービスにサブスクライブし、応答ログを保存し、それらに何が含まれているかを理解しようとし始めました。</font><font style="vertical-align: inherit;">
これらの三重矢印はサブスクリプションをアクティブにします。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/gy/xz/ak/gyxzakm5oinigfzudk_u7zvs6tw.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
古いセンサーの特徴は、温度と湿度に関するデータがUTF文字列の形式で提供されていたのに対し、新しいセンサーはすべてをバイナリ形式で返していたことです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通知を購読する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
センサーからデータを受信するには、サブスクリプション要求を送信する必要があります。</font><font style="vertical-align: inherit;">mitempライブラリでは、このために特性の2バイトが送信されましたが、どこから取得するのかが明確ではありません。ここでは、nRF Connectの古いセンサーのデータ構造がどのように見えるかを見て、ディスクリプターのように、データを持つ特性に目的のアドレスが指定されていることに気付きました。</font><font style="vertical-align: inherit;">その後、bluepyのドキュメントを再度読み始め、記述子オブジェクトは特性オブジェクトから簡単に取得できることに気付きました。</font><font style="vertical-align: inherit;">通知からデータを受信するコールバックメソッドでクラスを記述するだけです。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyDelegate</span>(<span class="hljs-params">btle.DefaultDelegate</span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handleNotification</span>(<span class="hljs-params">self, cHandle, data</span>):</span><font></font>
        print(data)<font></font>
<font></font>
mac_addr = <span class="hljs-string">'3F:59:C8:80:70:BE'</span><font></font>
p = btle.Peripheral(mac_addr)<font></font>
p.setDelegate(MyDelegate())<font></font>
uuid = <span class="hljs-string">'EBE0CCC1-7A0A-4B0C-8A1A-6FF2997DA3A6'</span><font></font>
<font></font>
<span class="hljs-comment">#    ,       </span>
ch = p.getCharacteristics(uuid=uuid)[<span class="hljs-number">0</span>]
<span class="hljs-comment">#    </span>
desc = ch.getDescriptors(forUUID=<span class="hljs-number">0x2902</span>)[<span class="hljs-number">0</span>]<font></font>
<font></font>
<span class="hljs-comment">#  ,        </span>
desc.write(<span class="hljs-number">0x01</span>.to_bytes(<span class="hljs-number">2</span>, byteorder=<span class="hljs-string">"little"</span>), withResponse=<span class="hljs-literal">True</span>)<font></font>
<font></font>
<span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<font></font>
        p.waitForNotifications(<span class="hljs-number">5.0</span>)</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もみ殻から穀物を分離します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸い、3つの特性のみがWRITE NOTIFYとしてマークされていましたが、データにはさまざまな頻度があり、視覚的な特徴がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のリクエストはすぐに大量のデータを送信し、その後スタックしました。この場合、最初のバイトは単調に増加する数でした。これは、平均の累積履歴のようです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目と3番目は定期的に送信されましたが、よく見ると、1つは変更されておらず、2番目のデータでは1バイトしか変更されていません。さて、これが現在の時刻です（この温度計には時計があることを思い出します。スマートホームの自尊心のあるデバイスには時計が必要です）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目の特性が、温度と湿度に関する有用なデータであるとします。</font><font style="vertical-align: inherit;">仮説を確認するために、物理的な実験が行われました-彼はセンサーに行き、ざっとそれを呼吸しました。</font><font style="vertical-align: inherit;">ディスプレイでデータ値が大幅に増加し、端末でバイトが変更されました。</font><font style="vertical-align: inherit;">やあ、データはどこか近くにあります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ解析</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は通常、テキストデータ（JSON / xmlの形式でHTTPデータを取得し、それをファイルまたはデータベースに入れます）を扱うので、タスクへの取り組み方がよくわかりませんでした。</font><font style="vertical-align: inherit;">したがって、私はpythonから作成できるさまざまな方法でデータを変換しようとし始めました。</font><font style="vertical-align: inherit;">この変換関数を書いて、センサー画面のデータとどのように関連しているかを調べ始めました。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">parse</span>(<span class="hljs-params">v</span>):</span>
    print([x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> v])<font></font>
    print(<span class="hljs-string">'{0:#x}'</span>.format(int.from_bytes(data, byteorder=<span class="hljs-string">'big'</span>)))<font></font>
    print(<span class="hljs-string">'{0:#x}'</span>.format(int.from_bytes(data, byteorder=<span class="hljs-string">'little'</span>)))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまな程度の不明瞭な線がコンソールに注がれましたが、3番目のバイトは常に数値であり、この数値は湿度値と一致していました。</font><font style="vertical-align: inherit;">忠実にするために、私はもう一度センサーを呼吸しました-画面と3番目のバイトの湿度値は同じに変わりました！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、温度を最初の2バイトに格納することを提案しました。</font><font style="vertical-align: inherit;">データを変更するために、私はセンサーを浴室の加熱されたタオルレールに移しました。</font><font style="vertical-align: inherit;">しかし、結果をどのように変換しようとしても、必要な数はうまくいきませんでした。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功への道</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのとき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、センサー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">説明を</font></a><font style="vertical-align: inherit;">もう一度見てみる</font><font style="vertical-align: inherit;">と、中にはスイスセンシリオンのセンサーが入っていることがわかりました。</font><font style="vertical-align: inherit;">おそらくこれから始める価値はありますが、これは私たちの方法ではありません。</font><font style="vertical-align: inherit;">このサイトは、Swiss Sensirion </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">センサーパック</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とそのデータシート</font><font style="vertical-align: inherit;">によって発見さ</font><font style="vertical-align: inherit;">れました。</font><font style="vertical-align: inherit;">特に、データシートでは、I2Cバスを介して送信されたバイトを数値に変換する式が見つかりました。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo stretchy=&quot;false&quot;>[</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xB0;</mo></mrow><mi>C</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>45</mn><mo>+</mo><mn>175</mn><mo>&amp;#x22C5;</mo><mfrac><msub><mi>S</mi><mi>T</mi></msub><mrow><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn><mo>&amp;#x2212;</mo><mn>1</mn></mrow></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.315ex" height="5.759ex" viewBox="0 -1455.1 12621.8 2479.7" role="img" focusable="false" style="vertical-align: -2.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-5B" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-B0" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-43" x="1483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-5D" x="2244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-3D" x="2800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-2212" x="3856" y="0"></use><g transform="translate(4635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-2B" x="5858" y="0"></use><g transform="translate(6859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-22C5" x="8582" y="0"></use><g transform="translate(8861,0)"><g transform="translate(342,0)"><rect stroke="none" width="3298" height="60" x="0" y="220"></rect><g transform="translate(1043,676)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-54" x="867" y="-213"></use></g><g transform="translate(60,-841)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-31" x="707" y="557"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-36" x="954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-2212" x="1677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-31" x="2677" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo stretchy="false">[</mo><mrow class="MJX-TeXAtom-ORD"><mo>°</mo></mrow><mi>C</mi><mo stretchy="false">]</mo><mo>=</mo><mo>−</mo><mn>45</mn><mo>+</mo><mn>175</mn><mo>⋅</mo><mfrac><msub><mi>S</mi><mi>T</mi></msub><mrow><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn><mo>−</mo><mn>1</mn></mrow></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">T[°C] = -45 + 175\cdot\frac{S_T}{2^16-1}</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし...それは非常に奇妙な値であることが判明しました。</font><font style="vertical-align: inherit;">-34.66のようなものですが、明らかに暖かくなりました。</font><font style="vertical-align: inherit;">悲しみと悲しみから、私はセンサーを開いて、スイスセンシリオンのセンサーがそこにあるかどうかを確認しました。</font><font style="vertical-align: inherit;">それは本当であることがわかりましたが、SHTC3インデックスでは、少し異なる式が必要でした。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>T</mi><mo stretchy=&quot;false&quot;>[</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#xB0;</mo></mrow><mi>C</mi><mo stretchy=&quot;false&quot;>]</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>45</mn><mo>+</mo><mn>175</mn><mo>&amp;#x22C5;</mo><mfrac><msub><mi>S</mi><mi>T</mi></msub><mrow><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn></mrow></mfrac></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.312ex" height="5.634ex" viewBox="0 -1455.1 10898.4 2425.9" role="img" focusable="false" style="vertical-align: -2.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-5B" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-B0" x="983" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-43" x="1483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-5D" x="2244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-3D" x="2800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-2212" x="3856" y="0"></use><g transform="translate(4635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-35" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-2B" x="5858" y="0"></use><g transform="translate(6859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-37" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-35" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-22C5" x="8582" y="0"></use><g transform="translate(8861,0)"><g transform="translate(342,0)"><rect stroke="none" width="1574" height="60" x="0" y="220"></rect><g transform="translate(181,676)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMATHI-54" x="867" y="-213"></use></g><g transform="translate(60,-841)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-31" x="707" y="557"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/452558/&amp;usg=ALkJrhiiqHxX8Q7GLWZcfvcqoOautb75tw#MJMAIN-36" x="954" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>T</mi><mo stretchy="false">[</mo><mrow class="MJX-TeXAtom-ORD"><mo>°</mo></mrow><mi>C</mi><mo stretchy="false">]</mo><mo>=</mo><mo>−</mo><mn>45</mn><mo>+</mo><mn>175</mn><mo>⋅</mo><mfrac><msub><mi>S</mi><mi>T</mi></msub><mrow><msup><mn>2</mn><mn>1</mn></msup><mn>6</mn></mrow></mfrac></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-2">T[°C] = -45 + 175\cdot\frac{S_T}{2^16}</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、それでもやはり、変換後のデータは実際のデータとあまり似ていませんでした。</font><font style="vertical-align: inherit;">ここで私はさらに悲しくなり、AdafruitのSHTC3ライブラリのソースコードを開き、C ++からpythonへの変換コードを適応させようとし始めました。</font><font style="vertical-align: inherit;">生データ、変換された構造、結果など、すべてをタブレットに持ち込みました。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handleNotification</span>(<span class="hljs-params">self, cHandle, data</span>):</span>
    temp = data[:<span class="hljs-number">2</span>]<font></font>
    humid = data[<span class="hljs-number">2</span>]<font></font>
    unpacked = struct.unpack(<span class="hljs-string">'H'</span>, temp)[<span class="hljs-number">0</span>]<font></font>
    print(data, unpacked, <span class="hljs-number">-45</span> + <span class="hljs-number">175</span> * unpacked / <span class="hljs-number">2</span> ** <span class="hljs-number">19</span>, sep=<span class="hljs-string">'\t'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなものを得た：</font></font><br>
<br>
<pre><code class="plaintext hljs">b',\n2'	2604	  -44.130821228027344<font></font>
b'-\n2'	2605	  -44.1304874420166<font></font>
b'+\n2'	2603	  -44.131155014038086<font></font>
b',\n2'	2604	  -44.130821228027344</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい...ちょっと寒いです...しかし、ちょっと待って、2604は何ですか？</font><font style="vertical-align: inherit;">これが画面の26.0度です。</font><font style="vertical-align: inherit;">仮説を確認するために、彼は再びセンサーをバッテリーに持ち込み、値が一致することを確認しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、次のデータ変換コードが取得されます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">handleNotification</span>(<span class="hljs-params">self, cHandle, data</span>):</span>
    humid_bytes = data[<span class="hljs-number">2</span>]<font></font>
    temp_bytes = data[:<span class="hljs-number">2</span>]<font></font>
    humidity = humid_bytes<font></font>
    temperature = struct.unpack(<span class="hljs-string">'H'</span>, temp_bytes)[<span class="hljs-number">0</span>] / <span class="hljs-number">100</span><font></font>
    <font></font>
    print(temperature, humidity)<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エピローグ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数晩、センサーに接続して正しい変換アルゴリズムを検索する操作が行われました。</font><font style="vertical-align: inherit;">何度も落として欲しかったのですが、同時に新しいアイディアが浮かび上がってきました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データがHome Assistantに転送された後、統合コードを完成させ、可能であれば、Bluepyからbleakに書き換える必要があります。これは、bleakがasync / awaitを使用し、aiohttpによって記述されたHome Assistantに適しているためです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/eb/ij/jmebijgiosb2hpbfup3agswpsgu.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照：</font></font></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mi.comのセンサーページ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluepyのドキュメント</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SHTC3センサー</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスと機能MJ_HT_V1</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスと機能LYWSD02</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドラフトHome Assistant統合のリポジトリ</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja452542/index.html">ZXスペクトラムのプログラムを最新の手段でTR-DOSに適合させます。パート2</a></li>
<li><a href="../ja452546/index.html">AirSelfie 2 Power Edition-Valikカメラ。か否か？</a></li>
<li><a href="../ja452548/index.html">そして、あなたはiPhoneのために何を準備していますか？</a></li>
<li><a href="../ja452552/index.html">GradleプロジェクトでScalaをクロスコンパイルする</a></li>
<li><a href="../ja452556/index.html">先週のフロントエンドの世界からの新鮮な食材のダイジェストNo. 365（2019年5月13日〜19日）</a></li>
<li><a href="../ja452560/index.html">PHPダイジェストNo. 156（2019年5月6〜20日）</a></li>
<li><a href="../ja452562/index.html">クリーンでスケーラブルなJavaScriptコードの作成：12のヒント</a></li>
<li><a href="../ja452564/index.html">使用する価値のあるPython 3の機能</a></li>
<li><a href="../ja452566/index.html">初心者のためのNode.js：ファイル操作の基本</a></li>
<li><a href="../ja452568/index.html">React 16+の新機能の詳細分析、パート1：一般情報</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>