<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📼 👦 ↩️ ちょうど別のツール：望ましい状態の構成でサービス構成を知る  💺 🛰️ 🛌</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="望ましい状態の構成（DSC）は、サーバー構成管理ツールです。これにより、サーバーの構成（レジストリの変更、ファイルのコピー、コンポーネントのインストールと削除）、設定の現在のステータスの監視、基本設定への迅速なロールバックが可能になります。
 
 DSCは、DevOpsアプローチに従う人にとって興味...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ちょうど別のツール：望ましい状態の構成でサービス構成を知る </h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/503072/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">望ましい状態の構成（DSC）は、サーバー構成管理ツールです。これにより、サーバーの構成（レジストリの変更、ファイルのコピー、コンポーネントのインストールと削除）、設定の現在のステータスの監視、基本設定への迅速なロールバックが可能になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSCは、DevOpsアプローチに従う人にとって興味深いものです。このツールは、コードとしてのインフラストラクチャのパラダイムによく適合します。開発者は要件を構成に追加してバージョン管理システムに含めることができ、チームは「手動」プロセスを使用せずにコードをデプロイできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一緒</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタニスラフBuldakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raiffeisenbank</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちはDSCエンジンでの経験を組み合わせ、2つの記事に分割しました。</font><font style="vertical-align: inherit;">最初に、私たちは仕事の基本原則を分析し、実際の例での使用の特徴に慣れます：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSCエンジンで「箱を開梱」し、デフォルトでどのようなリソースがあるかを確認し、追加のリソースをどこで入手できるかを示します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSCで構成を記述する方法を見てみましょう。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み込みエージェントのローカル構成マネージャーがサーバーに構成を適用する方法を学び、メタ構成を使用してそれがどのように構成されるかを示します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より複雑な構成のケースに移りましょう：部分的な構成とスタブ構成。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プッシュモードとプルモードでの作業の構成と機能については</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、2番目の記事を参照してください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<img src="https://habrastorage.org/webt/6p/cb/my/6pcbmyoaiunjv7xpcgcckapk4ok.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSCは軽量で高速なエンジンです。</font><font style="vertical-align: inherit;">たとえば、それを使用すると、仮想マシンに.NET Framework 3.5をより速くインストールできます。</font><font style="vertical-align: inherit;">彼がサービス構成プロセスをスピードアップするのに役立つものは次のとおりです。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerShellがプリインストールされているすべてのWindowsですぐに使えるアクセシビリティ。&nbsp;</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSCは、私たちがよく知っているPowerShellの一部であり、Windows管理フレームワークの標準メカニズムに基づいています。</font><font style="vertical-align: inherit;">Linuxは少しトリッキーです。</font><font style="vertical-align: inherit;">少なくとも、PowerShell自体を再インストールする必要があります。&nbsp;</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ターゲットホストを管理するための必須の方法ではなく、宣言的な方法。&nbsp;</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのような設定を行う必要があるかについては説明しますが、これを行う方法については説明しません。</font><font style="vertical-align: inherit;">エンジンは、DSCリソースを使用して独自にこれを処理します。&nbsp;</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">べき等性、つまり、複数の呼び出しで同じ結果を生成する機能。</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSCを使用して構成を監査し、サーバー用に事前定義されている設定に戻すと便利です。</font><font style="vertical-align: inherit;">この機能は、設定の不変性とそれらにすばやくロールバックする機能を保証します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定は、条件や分岐なしで、常に順次実行されます。</font><font style="vertical-align: inherit;">したがって、簡単に言うと、DSC操作アルゴリズムは次のようになります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカル設定マネージャ（LCM） </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、サーバーへの構成の適用を担当する組み込みエージェントです。</font><font style="vertical-align: inherit;">宣言された構成がどのように機能し、どのような順序で機能するかを彼に伝えます。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加のリソースが必要な場合は、事前にインストールして接続してください。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宣言的な形式で、構成順序を記述します。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成はMOFファイルの形式でブロードキャストします。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しくデプロイしたサーバーまたは既存のサーバーに構成を送信します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LCMは、構成（MOFファイル）とLCM自体をセットアップするための指示を受け取ります。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定はすぐにチームによって適用されます。</font></font><br>
</li>
</ol><br>
<img src="https://habrastorage.org/webt/xi/-k/br/xi-kbrc_in9acfygcdn5a_o9fly.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSCアーキテクチャの簡略図。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事前定義されたリソースを調べることから、エンジンとの知り合いを始めます。</font><font style="vertical-align: inherit;">次に、構成を記述してみます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DSCリソース&nbsp;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DSCリソースは、PowerShellモジュールの一種です。</font><font style="vertical-align: inherit;">すべてのWindowsサーバーには、事前に定義された一連のDSCリソースがあり、PowerShellモジュールと同じディレクトリにあります。</font><font style="vertical-align: inherit;">このリストは、Get-DscResourseコマンドレットを使用して取得できます。</font><font style="vertical-align: inherit;">Windows 10 1809でのこのリストは次のようになります。</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; Get-DscResource | Sort-Object -Property Name | ft ImplementedAs, Name -a<font></font>
&nbsp;<font></font>
ImplementedAs Name<font></font>
------------- ----<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Archive<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Environment<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary File<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Group<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite GroupSet<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary Log<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Package<font></font>
&nbsp;&nbsp;&nbsp;PowerShell PackageManagement<font></font>
&nbsp;&nbsp;&nbsp;PowerShell PackageManagementSource<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite ProcessSet<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Registry<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Script<font></font>
&nbsp;&nbsp;&nbsp;PowerShell Service<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite ServiceSet<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary SignatureValidation<font></font>
&nbsp;&nbsp;&nbsp;PowerShell User<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WaitForAll<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WaitForAny<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WaitForSome<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsFeature<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite WindowsFeatureSet<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsOptionalFeature<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Composite WindowsOptionalFeatureSet<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsPackageCab<font></font>
&nbsp;&nbsp;&nbsp;PowerShell WindowsProcess</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リソースの名前は、それらがどのように機能するかを理解するのに役立ちます。&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーカイブ-アーカイブのパックおよびアンパック;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境-環境変数を使用;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル-ファイルあり;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループ-ローカルユーザーグループ。</font></font><br>
</li>
<li>Log —  ;<br>
</li>
<li>Package —-   ;<br>
</li>
<li>Registry —-      ;<br>
</li>
<li>Service —     ;<br>
</li>
<li>User —     ;<br>
</li>
<li>WindowsFeature —   Windows Server;<br>
</li>
<li>WindowsProcess —   Windows;<br>
</li>
<li>Script —&nbsp;   PowerShell-   .  3  : SetScript —  -, TestScript — ,      , GetScript —    .<br>
</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ほとんどの場合、すぐに使えるDSCリソースでは不十分</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。この場合、標準モジュールを超えるすべてのものに対して独自のスクリプトを作成できます。ホイールを再発明しないために、他の開発者が作成したDSCリソースを使用できます。たとえば、ここから</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/PowerShell/DscResources</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSGallery</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">。&nbsp; </font></font><br>
&nbsp;<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加リソースのインストール方法</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Install-Module</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドレットを使用し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。リソースのインストールは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ env：PSModulePath</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数のパスの1つに沿ってリソースファイルをコピーするだけです</font><font style="vertical-align: inherit;">。インストールされたリソースはコンパイル時に自動的に接続されないため、後で構成自体に追加で接続します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リソースを使用するには、リソースをローカルおよびターゲットサーバーにインストールする必要があります。</font><font style="vertical-align: inherit;">オンプレミスインフラストラクチャでは、通常、セキュリティポリシーによりサーバーのインターネットアクセスが禁止されています。</font><font style="vertical-align: inherit;">この場合、DSCサーバーは外部ソースから追​​加のリソースをロードできません。</font><font style="vertical-align: inherit;">モジュールでアーカイブを公開するために、ローカルのNuGetリポジトリまたは通常のWebサーバーをデプロイします。</font><font style="vertical-align: inherit;">モジュールをC：\ Program Files \ WindowsPowerShell \ Modules \ディレクトリにアンパックすることで、Webサーバーの追加リソースをインストールできます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、Install-Moduleコマンドレットがまさに行うことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の記事では、プッシュモードとプルモードの設定の違いを詳しく見ていきます。&nbsp;</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シンプルな構成解析</font></font></h2><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、サーバー上で実行する必要があることの簡単で一貫した説明です。</font><font style="vertical-align: inherit;">シンプルなDSC構成は次のようになります。&nbsp;</font></font><br>
<br>
<pre><code class="powershell hljs">Configuration EnvironmentVariable_Path<font></font>
{<font></font>
<span class="hljs-keyword">param</span> ()
<span class="hljs-built_in">Import-DscResource</span> <span class="hljs-literal">-ModuleName</span> <span class="hljs-string">'PSDscResources'</span><font></font>
Node localhost<font></font>
&nbsp; &nbsp; {<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; Environment CreatePathEnvironmentVariable<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; {<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Name = <span class="hljs-string">'TestPathEnvironmentVariable'</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Value = <span class="hljs-string">'TestValue'</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Ensure = <span class="hljs-string">'Present'</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Path = <span class="hljs-variable">$true</span>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Target = <span class="hljs-selector-tag">@</span>(<span class="hljs-string">'Process'</span>, <span class="hljs-string">'Machine'</span>)<font></font>
&nbsp; &nbsp; &nbsp; &nbsp; }<font></font>
&nbsp; &nbsp; }<font></font>
}<font></font>
EnvironmentVariable_Path <span class="hljs-literal">-OutputPath</span>:<span class="hljs-string">"C:\EnvironmentVariable_Path"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼女の例では、構成の構成を見てみましょう。</font><b><font style="vertical-align: inherit;">Configuration</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブロック</font><font style="vertical-align: inherit;">は、取得する対象を記述する特別な種類のPowerShell関数です。&nbsp;</font><font style="vertical-align: inherit;">
ブロック内には以下が含まれます：&nbsp;</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部で使用できるパラメーターを持つ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">param</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロック</font><font style="vertical-align: inherit;">。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加のPowerShell呼び出しでブロックします。</font><font style="vertical-align: inherit;">ここでは、構成の最初に、常に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Import-Resource</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">実行して</font><font style="vertical-align: inherit;">追加のリソースを接続します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノード</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> $ servername </font><font style="vertical-align: inherit;">サーバーの設定を持つブロック</font><font style="vertical-align: inherit;">。&nbsp;</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブロック内</font><font style="vertical-align: inherit;">で、特定のサーバー上のどのリソースを構成するかを示します。</font><font style="vertical-align: inherit;">上記の例では、通常の環境リソースを使用して環境変数を作成しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Get-DscResource -Name Environment -Syntaxコマンドを使用して、もう少し深く特定のリソースの構文を見てみましょう。</font></font><br>
&nbsp;<br>
<pre><code class="powershell hljs">
<span class="hljs-built_in">PS</span> C:\windows\system32&gt; <span class="hljs-built_in">Get-DscResource</span> <span class="hljs-literal">-Name</span> Environment <span class="hljs-literal">-Syntax</span>
Environment [<span class="hljs-built_in">String</span>] <span class="hljs-comment">#ResourceName</span><font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Name = [<span class="hljs-built_in">string</span>]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">DependsOn</span> = [<span class="hljs-built_in">string</span>[]]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">Ensure</span> = [<span class="hljs-built_in">string</span>]{ <span class="hljs-type">Absent</span> | <span class="hljs-type">Present</span> }]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">Path</span> = [<span class="hljs-built_in">bool</span>]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">PsDscRunAsCredential</span> = [<span class="hljs-type">PSCredential</span>]]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">Value</span> = [<span class="hljs-built_in">string</span>]]<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では：&nbsp;</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -環境変数の名前。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEPENDSON、我々は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のリソースに依存関係を指定します。</font><font style="vertical-align: inherit;">ここで指定したリソースが完了するまで操作は実行されないことを覚えておくことが重要です。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認してください、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我々は、設定条件を指定してください。</font><font style="vertical-align: inherit;">そのような変数がない場合は、作成します。</font><font style="vertical-align: inherit;">存在する場合、このリソースは構成されません。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境変数にパスが含まれているかどうかを指定します。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PsDscRunAsCredential</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資格情報を指定しました。</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -環境変数の値。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ターゲットは、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成が適用される人の点で示されてもよいです。</font></font><br>
</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンパイル開始方法</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">必要なパラメーターを含む名前で構成を呼び出すだけです。</font><font style="vertical-align: inherit;">結果はmofファイルになり、DSCエンジンがさらに特定のサーバーを構成するために使用されます。</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; EnvironmentVariable_Path -OutputPath:"C:\EnvironmentVariable_Path"<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Directory: C:\EnvironmentVariable_Path<font></font>
&nbsp;<font></font>
Mode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LastWriteTime &nbsp; &nbsp; &nbsp; &nbsp; Length Name<font></font>
----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ------------- &nbsp; &nbsp; &nbsp; &nbsp; ------ ----<font></font>
-a---- &nbsp; &nbsp; &nbsp; 25.02.2020 &nbsp; &nbsp; 14:05 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2172 localhost.mof</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカル構成マネージャーを構成する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ローカル構成マネージャーは、mofファイルにコンパイルした構成を適用する責任があります。</font><font style="vertical-align: inherit;">構成で定義された状態の保存を監視するのは彼です。</font><font style="vertical-align: inherit;">システムがこの状態を離れると、LCMはリソース内のコードを呼び出して、指定された状態を復元します。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Get-DscLocalConfigurationManagerを使用してローカル構成マネージャーの設定を確認してみましょう。</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; Get-DscLocalConfigurationManager<font></font>
&nbsp;<font></font>
ActionAfterReboot&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ContinueConfiguration<font></font>
AgentId&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 1FB3A2EE-57C9-11EA-A204-58A023EF3A48<font></font>
AllowModuleOverWrite &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : False<font></font>
CertificateID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
ConfigurationDownloadManagers&nbsp; : {}<font></font>
ConfigurationID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
ConfigurationMode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ApplyAndMonitor<font></font>
ConfigurationModeFrequencyMins : 15<font></font>
Credential &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
DebugMode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {NONE}<font></font>
DownloadManagerCustomData&nbsp; &nbsp; &nbsp; :<font></font>
DownloadManagerName&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
LCMCompatibleVersions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {1.0, 2.0}<font></font>
LCMState &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : Idle<font></font>
LCMStateDetail &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
LCMVersion &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 2.0<font></font>
StatusRetentionTimeInDays&nbsp; &nbsp; &nbsp; : 10<font></font>
SignatureValidationPolicy&nbsp; &nbsp; &nbsp; : NONE<font></font>
SignatureValidations &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {}<font></font>
MaximumDownloadSizeMB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 500<font></font>
PartialConfigurations&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
RebootNodeIfNeeded &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : False<font></font>
RefreshFrequencyMins &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 30<font></font>
RefreshMode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : PUSH<font></font>
ReportManagers &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : {}<font></font>
ResourceModuleManagers &nbsp; &nbsp; &nbsp; &nbsp; : {}<font></font>
PSComputerName &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<font></font>
</code></pre><br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RefreshModeに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、LCM操作モード（プッシュまたはプル）が含まれています。</font><font style="vertical-align: inherit;">モードについては、2番目の記事で詳しく説明します。</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConfigurationMode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、現在の構成アプリケーションモードを示します。</font><font style="vertical-align: inherit;">この例では、ApplyAndMonitorです。変更を適用して追跡します。</font><font style="vertical-align: inherit;">ApplyOnlyモード（LCMは構成の変更を追跡しない）とApplyAndAutocorrectモード（LCMは変更を追跡するだけでなく、基本構成にロールバックする）も利用できます。</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RebootNodeIfNeeded-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定を適用する必要がある場合は、構成が完了した後にサーバーを再起動できます。&nbsp;</font></font><br>
</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConfigurationModeFrequencyMins</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -LCMが構成の変更をチェックする頻度を修正します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メタ構成のLCM設定を変更します。</font><font style="vertical-align: inherit;">これが彼女の例です：</font></font><br>
&nbsp;<br>
<pre><code class="powershell hljs"><font></font>
Configuration LCMConfiguration<font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;Node Localhost<font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LocalConfigurationManager<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RebootNodeIfNeeeded = <span class="hljs-variable">$True</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
LCMConfiguration</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コメント付きの最新バージョンのWMFでも同じです。</font></font><br>
<br>
<pre><code class="powershell hljs"><font></font>
&nbsp;<font></font>
[<span class="hljs-type">DSCLocalConfigurationManager</span>()]<font></font>
Configuration LCMConfiguration<font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">param</span><font></font>
&nbsp;&nbsp;&nbsp;(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-built_in">string</span>[]]<span class="hljs-variable">$Server</span> = <span class="hljs-string">"localhost"</span><font></font>
&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  LCM:</span>
<span class="hljs-comment">#  ,  </span>
<span class="hljs-comment"># : PUSH</span>
<span class="hljs-comment">#    30 </span>
&nbsp;&nbsp;&nbsp;Node <span class="hljs-variable">$Server</span><font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Settings<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RebootNodeIfNeeded = <span class="hljs-variable">$True</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode&nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">'Push'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshFrequencyMins = <span class="hljs-number">30</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#   </span>
LCMConfiguration <span class="hljs-literal">-Server</span> <span class="hljs-string">"localhost"</span> <span class="hljs-literal">-OutputPath</span> <span class="hljs-string">"C:\DSC\MetaConfigurations\EnvironmentVariable_Path\"</span></code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メタ構成の機能</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">メタ構成を作成するときは、通常のDSC構成と同じブロックを使用します。</font><font style="vertical-align: inherit;">例外は、LocalConfigurationManager（v4）内部ブロックまたは特定のサーバーのDSCLocalConfigurationManager（v5）属性です。</font><font style="vertical-align: inherit;">それらはすべての必要な設定を記述します。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メタ構成もmofファイルにコンパイルされますが、それを使用するには、Start-DSCConfigurationではなく、Set-DSCLocalConfigurationManagerコマンドレットが使用されます。</font></font><br>
&nbsp;<br>
<pre><code class="plaintext hljs">PS C:\windows\system32&gt; LCMConfiguration -OutputPath C:\EnvironmentVariable_Path\<font></font>
&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Directory: C:\EnvironmentVariable_Path<font></font>
&nbsp;<font></font>
Mode&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LastWriteTime &nbsp; &nbsp; &nbsp; &nbsp; Length Name<font></font>
----&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ------------- &nbsp; &nbsp; &nbsp; &nbsp; ------ ----<font></font>
-a---- &nbsp; &nbsp; &nbsp; 26.02.2020 &nbsp; &nbsp; 20:05 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1016 Localhost.meta.mof<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
PS C:\windows\system32&gt; Set-DscLocalConfigurationManager -Path C:\EnvironmentVariable_Path\<font></font>
PS C:\windows\system32&gt; Get-DscLocalConfigurationManager<font></font>
&nbsp;<font></font>
…<font></font>
RebootNodeIfNeeded &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : True<font></font>
…</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理論的には、LCMの構成と従来のリソースを同じ構成内で組み合わせることを妨げるものは何もありません。</font><font style="vertical-align: inherit;">ただし、簡単にするために、構成とメタ構成のスペルとアプリケーションを分離することをお勧めします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分構成&nbsp;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
部分的な構成-次々に順次実行されるいくつかの構成。</font><font style="vertical-align: inherit;">複数のチームがサービスに取り組んでいる場合に役立ちます。</font><font style="vertical-align: inherit;">各コマンドは、サービスの一部の設定を示し、部分的な構成では、すべての設定が順番に適用されます。</font><font style="vertical-align: inherit;">LCM設定では、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PartialConfigurationsで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分構成を指定します</font><font style="vertical-align: inherit;">。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
部分的な構成では、単純なDSCロジックを考慮する必要があります。</font><font style="vertical-align: inherit;">エンジンは分岐を許可しないため、さまざまな条件を満たすには追加のリソースが必要です。</font><font style="vertical-align: inherit;">これをいくつかの例で分析します。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーに構成を確実に配信し、次のアルゴリズムに従って続行したいとします。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、必要なモジュールがサーバーにインストールされていることを確認します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーを目的の状態にする構成を実行します。</font></font><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部にいくつかの連続した構成がある場合のメタ構成は次のようになります。</font></font><br>
<br>
<pre><code class="powershell hljs">
<span class="hljs-comment">#   </span>
[<span class="hljs-type">DSCLocalConfigurationManager</span>()]<font></font>
configuration MetaPushConfig<font></font>
{<font></font>
<span class="hljs-keyword">param</span><font></font>
&nbsp;&nbsp;&nbsp;(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-type">ValidateNotNullOrEmpty</span>()]<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-built_in">string</span>] <span class="hljs-variable">$NodeName</span> = <span class="hljs-string">'localhost'</span><font></font>
&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;Node <span class="hljs-variable">$NodeName</span><font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;	<font></font>
 <span class="hljs-comment">#      LCM,    </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PartialConfiguration ModulesDownloadConfig<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description = <span class="hljs-string">'Download and install modules'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode = <span class="hljs-string">'Push'</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#        </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PartialConfiguration ServerOSConfig<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[PartialConfiguration]ModulesDownloadConfig"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Description = <span class="hljs-string">'Configuration'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode = <span class="hljs-string">'Push'</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   LCM</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Settings<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshMode&nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">'Push'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RefreshFrequencyMins = <span class="hljs-number">30</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RebootNodeIfNeeded = <span class="hljs-variable">$true</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
&nbsp;<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  </span>
MetaPushConfig <span class="hljs-literal">-NodeName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-OutputPath</span> c:\DSC\MetaConfigurations<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#      </span>
<span class="hljs-variable">$cred</span> = (<span class="hljs-built_in">Get-Credential</span> <span class="hljs-literal">-UserName</span> Administrator <span class="hljs-literal">-Message</span> <span class="hljs-string">"Enter admin credentials"</span>)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  LCM   </span>
<span class="hljs-built_in">Set-DscLocalConfigurationManager</span> <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Path</span> <span class="hljs-string">"c:\DSC\MetaConfigurations"</span> <span class="hljs-literal">-Verbose</span> <span class="hljs-literal">-Force</span><font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#  </span>
<span class="hljs-built_in">Publish-DscConfiguration</span> c:\DSC\Configurations\ModulesDownloadConfig <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Force</span>
<span class="hljs-built_in">Publish-DscConfiguration</span> c:\DSC\Configurations\ServerOSConfig <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Force</span><font></font>
<font></font>
&nbsp;<font></font>
<font></font>
<span class="hljs-comment">#    </span>
<span class="hljs-built_in">Start-DscConfiguration</span> <span class="hljs-literal">-UseExisting</span> <span class="hljs-literal">-ComputerName</span> <span class="hljs-string">"NewServer.contoso.com"</span> <span class="hljs-literal">-Credential</span> <span class="hljs-variable">$cred</span> <span class="hljs-literal">-Force</span> <span class="hljs-literal">-Verbose</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成の最初の部分は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のダウンロードとインストールsを示しています。必要なリソースをダウンロードしてインストールします。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerOSConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の2番目の部分は</font><font style="vertical-align: inherit;">、サーバーを目的の状態にします。</font><font style="vertical-align: inherit;">DSCのわかりやすさのニュアンスは次のとおりです。&nbsp;</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成の最初の部分が最初にFALSEを返し、完全に完了した場合、LCMは2番目の構成に進みません。</font><font style="vertical-align: inherit;">DSCロジックによれば、最初にサーバーを説明されている最初の状態にする必要があります。&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対処方法：構成を2回実行するか、スクリプトでプロセス全体を自動化します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントのインストール後にサーバーを再起動する必要がある場合は、サーバーを再起動するまで構成は続行されません。</font><font style="vertical-align: inherit;">RebootNodeIfNeeeded = $ TrueをLCMに通知しても、エージェントは構成中にソリューションを待機します。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">対処</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
方法：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xPendingReboot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リソースは</font><font style="vertical-align: inherit;">、再起動時にレジストリキーを制御する</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">レスキューに到達</font></a><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">このリソースはサーバーを再起動します。</font></font><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、サーバーがインターネットにアクセスできない場合の「流血企業」シナリオでのリソースのダウンロードとインストールの設定例です。</font><font style="vertical-align: inherit;">これは、事前にダウンロードされたリソースがhttpプロトコルを介して誰でも利用できるWebサーバーの存在を前提としています。</font></font><br>
<br>
<pre><code class="powershell hljs"><font></font>
Configuration ModulesDownloadConfig<font></font>
{<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">param</span><font></font>
&nbsp;&nbsp;&nbsp;(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="hljs-built_in">string</span>[]]<span class="hljs-variable">$Server</span><font></font>
&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   </span>
&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Import-DscResource</span> <span class="hljs-literal">-ModuleName</span> <span class="hljs-string">"PSDesiredStateConfiguration"</span><font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  </span>
&nbsp;&nbsp;&nbsp;Node <span class="hljs-variable">$Server</span><font></font>
&nbsp;&nbsp;&nbsp;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  IE Security</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registry DisableIEESC<span class="hljs-literal">-Admin</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key = <span class="hljs-string">"HKLM:\SOFTWARE\Microsoft\Active Setup\Installed Components\{A509B1A7-37EF-4b3f-8CFC-4F3A74704073}"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueName = <span class="hljs-string">"IsInstalled"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueData = <span class="hljs-number">0</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueType = <span class="hljs-string">"DWORD"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registry DisableIEESC<span class="hljs-literal">-User</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key = <span class="hljs-string">"HKLM:\SOFTWARE\Microsoft\Active Setup\Installed Components\{A509B1A8-37EF-4b3f-8CFC-4F3A74704073}"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueName = <span class="hljs-string">"IsInstalled"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueData = <span class="hljs-string">"0"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ValueType = <span class="hljs-string">"DWORD"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#    ,    </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File CreateDistribDir {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">"present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DestinationPath = <span class="hljs-string">"C:\Install\PSModules"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">Type</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="hljs-string">"Directory"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   NetworkingDsc (&lt;a href="https://www.powershellgallery.com/packages/NetworkingDsc/8.0.0-preview0004"&gt;https://www.powershellgallery.com/packages/NetworkingDsc/8.0.0-preview0004&lt;/a&gt;),      </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Script NetworkingDscDownLoad {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetScript = { <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-string">"http://repo.contoso.com/repo/modules/NetworkingDsc.zip"</span> <span class="hljs-literal">-OutFile</span> <span class="hljs-string">"C:\Install\PSModules\NetworkingDsc.zip"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = { <span class="hljs-keyword">return</span> <span class="hljs-selector-tag">@</span>{ Result = <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Install\PSModules\NetworkingDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = <span class="hljs-variable">$GetScript</span>; SetScript = <span class="hljs-variable">$SetScript</span>; TestScript = <span class="hljs-variable">$TestScript</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript = { <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\NetworkingDsc"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;<span class="hljs-comment">#   NetworkingDsc  C:\Program Files\WindowsPowerShell\Modules</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Archive UnpackNetworkingDsc {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[Script]NetworkingDscDownLoad"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path = <span class="hljs-string">"C:\Install\PSModules\NetworkingDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination = <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
&nbsp;<span class="hljs-comment">#   ComputerManagementDsc (&lt;a href="https://www.powershellgallery.com/packages/ComputerManagementDsc/8.2.1-preview0001"&gt;https://www.powershellgallery.com/packages/ComputerManagementDsc/8.2.1-preview0001&lt;/a&gt;),      </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Script ComputerManagementDscDownLoad {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetScript = { <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-string">"http://repo.contoso.com/repo/modules/ComputerManagementDsc.zip"</span> <span class="hljs-literal">-OutFile</span> <span class="hljs-string">"C:\Install\PSModules\ComputerManagementDsc.zip"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = { <span class="hljs-keyword">return</span> <span class="hljs-selector-tag">@</span>{ Result = <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Install\PSModules\ComputerManagementDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = <span class="hljs-variable">$GetScript</span>; SetScript = <span class="hljs-variable">$SetScript</span>; TestScript = <span class="hljs-variable">$TestScript</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript = { <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\ComputerManagementDsc"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   ComputerManagementDsc  C:\Program Files\WindowsPowerShell\Modules</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Archive UnpackComputerManagementDsc {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[Script]ComputerManagementDscDownLoad"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path = <span class="hljs-string">"C:\Install\PSModules\ComputerManagementDsc.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination = <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   xPendingReboot (&lt;a href="https://www.powershellgallery.com/packages/xPendingReboot/0.4.0.0"&gt;https://www.powershellgallery.com/packages/xPendingReboot/0.4.0.0&lt;/a&gt;),      </span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Script xPendingRebootDownLoad {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SetScript = { <span class="hljs-built_in">Invoke-WebRequest</span> <span class="hljs-literal">-Uri</span> <span class="hljs-string">"http://repo.contoso.com/repo/modules/xPendingReboot.zip"</span> <span class="hljs-literal">-OutFile</span> <span class="hljs-string">"C:\Install\PSModules\xPendingReboot.zip"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = { <span class="hljs-keyword">return</span> <span class="hljs-selector-tag">@</span>{ Result = <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Install\PSModules\xPendingReboot.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GetScript = <span class="hljs-variable">$GetScript</span>; SetScript = <span class="hljs-variable">$SetScript</span>; TestScript = <span class="hljs-variable">$TestScript</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TestScript = { <span class="hljs-built_in">Test-Path</span> <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\xPendingReboot"</span> }<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
<font></font>
&nbsp;<font></font>
<font></font>
	<font></font>
 <span class="hljs-comment">#   xPendingReboot  C:\Program Files\WindowsPowerShell\Modules</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Archive UnpackxPendingReboot {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensure = <span class="hljs-string">"Present"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DependsOn = <span class="hljs-string">"[Script]xPendingRebootDownLoad"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Path = <span class="hljs-string">"C:\Install\PSModules\xPendingReboot.zip"</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destination = <span class="hljs-string">"C:\Program Files\WindowsPowerShell\Modules\"</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セキュリティについて</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現場でのDSCのマイナス面は、実行アカウントの不足です。</font><font style="vertical-align: inherit;">このメカニズムは、アカウントをユーザー名+「パスワードのソルトハッシュ」の形式で安全に保存し、認証を担当するサービスに引き渡します。</font><font style="vertical-align: inherit;">これがないと、DSCは別のサービスに代わってアカウントを管理できません。</font><font style="vertical-align: inherit;">また、特別な権限を持つアカウントで認証する必要がある場合、自動化プロセスは非常に複雑になります。</font><font style="vertical-align: inherit;">たとえば、サーバーをドメインに入力する場合がこれに該当します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが自由に使えるすべて：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資格情報はプレーンテキストで保存され、</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗号化された資格情報は、生成されたPCでのみ機能します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、いくつかの解決策があります。&nbsp;</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Azure Automation Run As Accounts</a>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Azure Automation State Configuration</a>.                     « »  Azure. ,  Run As   On-Premise    .    « »   ,   .<br>
</li>
<li>   DSC  -,          .&nbsp;<br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「スタブ」は、サーバーの動作の予測可能性を確保する必要がある場合に適しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下を使用した場合、いくつかのケースでサーバー構成の後に「スタブ」を実行します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再起動（xPendingRebootリソース）&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資格情報の転送&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">予定外の再起動やセキュリティに関するサーバーのパフォーマンスに影響を与える可能性のあるその他のリソース。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、xPendingRebootリソースを含むブロックなしの構成と、資格情報付きの構成を作成して再発行します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プルはかなり単純であり、その場で構成を変更する必要がないため、このアプローチはプッシュシナリオにのみ適用されます。</font><font style="vertical-align: inherit;">から</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の次の記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブルダコフ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プッシュモードとプルモードでの作業の構成と機能を詳細に検討しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、5月28日18時のRaiffeisenbank DGTLコミュニケーションコミュニティの最初のオンラインミーティングで、DSCテクノロジーのニュアンスとその適用の境界についても話し合います。</font><font style="vertical-align: inherit;">また、この会議では、ELKとExchangeを友だちにする方法、およびデバイス管理でMicrosoft Endpoint Managerが実行できることについて話し合います。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらがmitapの登録です</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja503056/index.html">5月23日オンラインパブ：雲、JS、携帯電話についてのホリバリム</a></li>
<li><a href="../ja503062/index.html">開発者にとってシリコンバレーでの生活費</a></li>
<li><a href="../ja503064/index.html">あなたが待っていなかったIoT（パート3）。シミュレーションモデルの構築</a></li>
<li><a href="../ja503068/index.html">テクノロジーとビジネスの岐路に立つ：ITリーダーがスイスに新しい大学を開設</a></li>
<li><a href="../ja503070/index.html">電気マグ。クレイジーな電動スクーター/電動自転車を作る</a></li>
<li><a href="../ja503074/index.html">Flutterのプロバイダーパッケージの詳細</a></li>
<li><a href="../ja503080/index.html">オフィスに設置された映画は、放送をストリーミングしないための実用的な方法です</a></li>
<li><a href="../ja503082/index.html">NAS / FTPとしての電報</a></li>
<li><a href="../ja503084/index.html">ライトベンドアカデミーコースの復習-リアクティブアーキテクチャ</a></li>
<li><a href="../ja503086/index.html">オンライン文字起こしサービスは安全で機密ですか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>