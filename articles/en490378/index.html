<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚ÄçüöÄ üë©üèæ‚Äçüé® üë®‚Äçüöí IPv6 - a wonderful world worth a quick transition to it ü§ú üï∫ üìû</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Almost all the articles that I saw on the topic ‚ÄúWhat is IPv6 good for and why should I switch to it faster‚Äù only speak of a simply wider address spac...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>IPv6 - a wonderful world worth a quick transition to it</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490378/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Almost all the articles that I saw on the topic ‚ÄúWhat is IPv6 good for and why should I switch to it faster‚Äù only speak of a simply wider address space. </font><font style="vertical-align: inherit;">At best, stateless address autoconfiguration ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLAAC) is mentioned.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)). This is depressing, but IPv6 has many other implicit goodies, being a very thoughtful protocol stack (IPv6 + ICMPv6 + NDP)! It seems that IPv6 is just stupid about the extension of addresses, and then it‚Äôs especially no profit. Or, some articles cry that they do not see a momentary profit from the introduction / transition. Simplicity and convenience, flexibility and advanced features (due to getting rid of NAT alone) are not as easy to measure as any delays and bandwidth. Therefore, I decided to collect my vision of the beautiful world of IPv6 protocol and its advantages in this article.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do not use IPv6 to build something new, new networks - it just does not make sense, since we lose a lot of amenities and opportunities, getting a bunch of hemorrhoids from depriving this mass of amenities and opportunities. IPv6 is supported even with Windows XP version. The last time I checked five years ago, but even then SLAAC + RDNSS / DNSSL supported both iOS and Android and even Windows 10 devices, not to mention GNU / Linux and BSD systems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPv4 is not a bad protocol. His only problem is that he </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">never</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I did not think to create a large global network, where almost every person on the globe will have access to it directly from his pants (where the smartphone is). It was created at a time when computers were faster than networks (weird comparison?) And with lots of memory. Now the opposite: you can make a 10 Gb communication channel trivially at home, but out of the box, none of the massively used OSs can effectively switch or route traffic at this speed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is difficult for the end user to imagine the benefits that are received, since the Internet, in fact, has not been given to anyone for a long time: the overwhelming majority of people have always sat behind NAT and believe that the invention of protocols like WebSocket is something regular, normal, logical and reasonable, and nothing except TCP, UDP, and ICMP, we don‚Äôt really go over IP.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It will be difficult for a network engineer, purely psychologically, to overpower himself in the understanding that there are really a lot of addresses and networks that do not make sense (and even will only harm the convenience and ease of maintenance) and save on their use. </font><font style="vertical-align: inherit;">The big problem is the realization that IP addresses are no longer a scarce resource and you have to think most often in terms of not single addresses, but entire huge networks with at least a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ 64</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prefix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPv6 has more serious requirements (this part can be called disadvantages):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimum allowed channel MTU: 1280 bytes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The channel should be with detection (or even correction) of errors.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The NDP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> protocol works actively on top of multicast addresses, requiring efficient multicast broadcasts on Ethernet.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PMTUD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is required for (efficient) operation since IPv6 does not have packet fragmentation at the router level.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The ICMPv6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> protocol plays a very important role for the operability of IPv6 networks, at least for NDP and PMTUD - by blocking it (as many admins like to do on IPv4 networks), the network will most likely stop working.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What IPv6 gives, what advantages it has:</font></font><br>
<br>
<ul>
<li>    <b></b>,          Facebook, , WhatsApp, YouTube  ..!         .  ,    , peer-to-peer ,  .    :       BitTorrent    .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">NAT</a> (  ,  ):          . , SCTP    in-order    ,   TCP,   ,     head-of-line blocking.     ,   overhead-    , ,    ,     IPsec (  VPN)  SCTP    UDP .        ,     .  <b>  </b>!</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">IPsec</a>,  ,   . -       VPN-/,       TCP   : <i>setsockopt</i>   per-socket IPsec policy,         IKE  (<i>sadb_ident</i>),        SSL/TLS-!   IPv6  ,   SSL/TLS,     <b></b>,     . IPsec                ,   ( IKE/KINK/whatever )  .  <b> ,   </b>!</li>
<li>            IP  ‚Äî    IP       ,      default-  .   -   <i>/64</i> .  <b>  </b>!</li>
<li>        ,       site-local   (<i>fc::/7</i>),     -   ,   VPN    (    IPv4 ,      ).     ,      .  <b> </b>!</li>
<li> ,   /,     4   ,      ( <i>:dead:babe:</i>): <i>2a02:6b8::2:242</i> (ya.ru), <i>:face:b00c:</i>   Facebook, <i>2001:4860:4860::8888</i>  DNS Google-, <i>2620:0:ccc::2</i> (OpenDNS).   -   ,         /,            .</li>
<li>      ,      /   .   <i>/48</i>, <i>/56</i>  <i>/64</i>       ,    .  <b> ,   </b>!</li>
<li>        <i>/48</i>, <i>/56</i>             ,   :          <i>2000::/3</i> ,   -  1/8     .     ,      7      .  <b></b>!</li>
<li><b>Killer-feature</b>: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">link-local</a> .      link-local        .      IPv4  .              - <i>10/8</i> ,      ,     .   IPv6                ,   - <i>fe80::1</i>                 .  <b> </b>!</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">well-known multicast</a>   <b></b>        (broadcast  Ethernet-),   ad-hoc         :<br>
<br>
<pre><code class="plaintext"># ping6 ff02::1%igb0<font></font>
PING6(56=40+8+8 bytes) fe80::be5f:f4ff:fedd:2752%igb0 --&gt; ff02::1%igb0<font></font>
16 bytes from fe80::be5f:f4ff:fedd:2752%igb0, icmp_seq=0 hlim=64 time=0.036 ms<font></font>
16 bytes from fe80::be5f:f4ff:fedd:98f1%igb0, icmp_seq=0 hlim=64 time=0.239 ms(DUP!)<font></font>
16 bytes from fe80::be5f:f4ff:fee6:c37e%igb0, icmp_seq=0 hlim=64 time=0.344 ms(DUP!)<font></font>
16 bytes from fe80::be5f:f4ff:fedd:9c5d%igb0, icmp_seq=0 hlim=64 time=0.479 ms(DUP!)<font></font>
</code></pre></li>
<li><b>Killer-feature</b>: SLAAC.   ,  plug-and-play,   -         .   ,    - ICMPv6 ,         (    , MTU, DNS) IPv6 .  ,  - <i>rtadvd</i>,      ,        . :<br>
<br>
<pre><code class="plaintext">igb0:addr="2001:dead:beef::":mtu=1320:rdnss="2001:dead:beef::1":
</code></pre><br>
</li>
<li>Anycast      NDP ,      .</li>
<li>IPv6    :   ,    ,   IPv4           hop-.         IPv4.  <b>  </b>!</li>
<li>Flow label  IPv6     /   <i>(src, dst, proto, portSrc, portDst)</i>,          ,   <i>(src, dst, flowLabel)</i>       IPv6 .   IP  ,  ,     ,      . Flow label   <b> </b>!</li>
<li>Multicast  NDP          ,    broadcast,  IPv4,  ,  ARP  DHCP.  <b></b>!</li>
<li> NDP, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">DHCPv6</a>   ICMPv6,   ,          .  , NDP/ICMPv6     ,    : Ethernet , PPP    .    IPv4    ARP  DHCP,      Ethernet,   PPP,      PPP /  .  IPv6       link-local .  ,      IPsec   !  <b>   </b>!</li>
<li>NDP NUD (neighbour unreachability detection)     () ,      next hop-  ,    . ,  ,  heartbeat ,     timeout-  IPv4.  <b>  </b>!</li>
<li>NDP RA (router advertisement)  NDP redirect       ,    ,     round-trip-  NDP address resolution,     IPv4 .  <b>  </b>!</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I would also like to mention the well </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-designed </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mobile IPv6</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . With just a relatively simple daemon (home agent) in the home network and a daemon on the mobile host (mobile agent), you can have fully working mobile IPv6, when you can always reach the mobile address using your home address. Unlike Mobile IPv4, without any additional requirements for the network where the mobile agent is located. IP packets will simply be </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">effective</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(just adding an extended IPv6 header) proxied from the home agent to the mobile. </font><font style="vertical-align: inherit;">In addition, if a third-party connection initiator also supports MIPv6, then it will transparently agree with home and mobile agents that it will send traffic directly to the mobile host, without proxying through the home, providing the maximum possible efficiency (taking into account one extended IPv6 header) transmission . </font><font style="vertical-align: inherit;">And thanks to the fast NDP NUD, a change in the mobile network will lead to minimal time delays due to updating the address of the mobile host. </font><font style="vertical-align: inherit;">And all this with minimal additions to the ICMPv6 / NDP protocols, the introduction of a simple advanced IPv6 header and Mobility Header. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Give IPv6 and full Internet access to the masses!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490362/index.html">Kubernetes in the spirit of piracy: our path to microservices and a ready-made template for implementation</a></li>
<li><a href="../en490364/index.html">Data centers consume a lot of electricity, but not yet threaten the climate</a></li>
<li><a href="../en490366/index.html">Should I store Google Fonts on my server?</a></li>
<li><a href="../en490372/index.html">Interview at Dodo Pizza</a></li>
<li><a href="../en490376/index.html">Plural</a></li>
<li><a href="../en490380/index.html">Delayed completion of the pod when it is deleted</a></li>
<li><a href="../en490382/index.html">FunCorp iOS meetup # 2 content</a></li>
<li><a href="../en490384/index.html">Russian Programming Language</a></li>
<li><a href="../en490386/index.html">How else to make money on the stock exchange and reduce risk: shares of companies with dividend payment</a></li>
<li><a href="../en490390/index.html">Olga Makushenko, Managing Director of 101XP: ‚Äú5 key mistakes in developing a game as a business‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>