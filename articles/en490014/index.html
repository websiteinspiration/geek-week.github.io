<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õîÔ∏è üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø üë∏üèæ JavaScript tree shaking, like a pro üë©üèæ‚Äç‚öñÔ∏è üêÇ üí™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a translation of an article about optimizing and reducing the size of an application bundle. It is good because best practices are described h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>JavaScript tree shaking, like a pro</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/funcorp/blog/490014/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is a translation of an article about optimizing and reducing the size of an application bundle. </font><font style="vertical-align: inherit;">It is good because best practices are described here, tips that you should follow to make trishhing work and throw unused code from the assembly. </font><font style="vertical-align: inherit;">It will be useful to many, because now everyone uses assembly systems in which there is trishashing out of the box. </font><font style="vertical-align: inherit;">But for it to work correctly, you must adhere to the principles described below.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k1/ad/ww/k1adww34zpzaizrd69llmbzm780.jpeg" alt="image"><br>
<a name="habracut"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trichashing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> becomes the main technique when you need to reduce the size of the bundle and improve application performance on JS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How trichashing works:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You declare imports and exports in each module.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The collector (Webpack, Rollup, or another) analyzes the dependency tree during assembly.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unused code is excluded from the final bundle.</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/g7/ym/z1/g7ymz1oeaf14f1fbgwnav4ix3k4.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The utility file exports two functions, </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/f3/1d/ww/f31dwwewxjpqtqxtizmd2edlp28.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">but only initializeName is used, formatName can be deleted. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, for the correct operation of trishaking, one setup of the collector is not enough. </font><font style="vertical-align: inherit;">To achieve a better result, it is necessary to take into account many details, as well as make sure that the modules were not skipped during optimization.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Where to begin?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are a huge number of guidelines for setting up trishaking. </font><font style="vertical-align: inherit;">It's better to start diving into the topic with the official </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webpack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> documentation </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is worth mentioning that a few years ago I created a boilerplate with an already configured assembly and trichashing. </font><font style="vertical-align: inherit;">So if you need a starting point for a project, my repository can be a good example of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">krakenjs / grumbler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article discusses working with Webpack, Babel, and Terser. </font><font style="vertical-align: inherit;">However, most of the principles presented will work whether you use Webpack, Rollup, or something else.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use ES6 syntax for imports and exports</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using ES6 imports and exports is the first and most important step to working trichashing. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most other implementations of the ‚Äúmodule‚Äù pattern, including commonjs and require.js, are non-deterministic during the build process. </font><font style="vertical-align: inherit;">This feature does not allow collectors like Webpack to determine exactly what is imported, what is exported, and, as a result, what code can be safely deleted. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ck/th/lm/ckthlmnikdyqmz7hnn5nb3z49l8.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options that are possible when using commonjs. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When using ES6 modules, import and export options are more limited:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can import and export only at the module level, and not inside the function;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the module name can only be a static string, not a variable;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">everything that you import must be exported somewhere.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/i4/b-/88/i4b-88ubn60dtovrl5mdcoukzlq.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ES6 modules have simpler semantics and rules of use. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simplified rules allow assemblers to understand exactly what was imported and exported, and, as a result, determine which code is not used at all.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do not allow Babel to transports imports and exports</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first problem you may encounter when using Babel to translate code is the default conversion of ES6 modules to commonjs. </font><font style="vertical-align: inherit;">This prevents the collector from optimizing the code and throwing too much. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortunately, in the Babel config there is an easy way to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disable module transpilation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After you do this, the collector will be able to take on the transpilation of imports and exports.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Make your exports atomic</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webpack typically leaves exports intact in the following cases:</font></font><br>
<br>
<ul>
<li>       ;</li>
<li>     ;</li>
<li>         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Such exports will either be fully included in the bundle, or completely removed. So, in the end, you may end up with a bundle containing code that will never be used. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zw/up/tx/zwuptxkp24ozsx8a29n46d2basi.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Both functions will be included in the bundle, even if only one is used. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/m7/ik/ob/m7ikobsbtsstpekn1loraxgvbyu.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And here the class will be entirely added to the assembly.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Try to keep your exports as small and simple as possible. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8m/ud/au/8mudautny14ffbmcz1fhdxvczvg.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Only the function that will be used will get into the final bundle.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Following this advice allows the collector to throw out more code due to the fact that now during the assembly process you can track which function was imported and used and which was not.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This tip also helps to write code in a more functional and reusable style, and to avoid using classes where this is not justified. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you are interested in functional programming, check out this </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avoid side effects at module level</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When writing modules, many people miss an important, but very insidious factor - the influence of side effects. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vt/_x/2n/vt_x2nrazlayvlc9iy8_rthvvgg.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webpack does not understand what window.memoize does, and therefore cannot throw this function. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note the example above </font></font><code>window.memoize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will be called at the time of import of the module. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As Webpack sees it:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ok, a pure add function is created and exported here - maybe I can remove it if it will not be used later;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">then window.memoize is called, to which add is passed;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I don‚Äôt know what she‚Äôs doing </font></font><code>window.memoize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, but I know that she will probably call add and create a side effect.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so for safety I‚Äôll leave the add function in the bundle, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">even if no one else uses it</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In reality, we are sure that it </font></font><code>window.memoize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is a pure function that does not create any side effects and calls add if someone uses it </font></font><code>memoizedAdd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But Webpack does not know this and, for the sake of peace, adds the add function to the final bundle. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To be honest: the</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> latest versions of Webpack and Terser are unusually good at detecting side effects. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bw/no/5y/bwno5y-6xyswrk_guf9cgofamks.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We give Webpack more information and get an optimized bundle. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now the collector has enough information for analysis:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">called here </font></font><code>memoize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at the module level, this can be fraught with problems;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">but the function </font></font><code>memoize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">came from ES6 import, you need to look at the function in </font></font><code>util.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indeed, memoize looks like a pure function, there are no side effects;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if no one uses the function </font></font><code>add</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, we can safely exclude it from the final bundle.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When Webpack does not receive enough information to make a decision, it will take the safe path and leave the function.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use tools to identify potential trishaking issues</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I found two tools to identify problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first tool is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module concatenation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a plugin for Webpack, which allows you to achieve a significant increase in performance. </font><font style="vertical-align: inherit;">It has a debugging option. </font><font style="vertical-align: inherit;">It is worth noting that the factors preventing concatenation and trichashing are the same: for example, side effects at the module level. </font><font style="vertical-align: inherit;">Take the warnings of the plugin seriously, as any problem potentially increases the size of the bundle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second is the plugin for the linter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.npmjs.com/package/eslint-plugin-tree-shaking</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">I have not integrated it into my boilerplate yet, because it did not support flow when I experimented with it. </font><font style="vertical-align: inherit;">However, he pretty well identified problems with trichashing.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Be careful with libraries</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Try to use libraries optimized for trichashing. </font><font style="vertical-align: inherit;">If you import a large bundle of minimized code, for example </font></font><code>jquery.min.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, there is a possibility that this module will not be optimized. </font><font style="vertical-align: inherit;">It is better to look for a module from which atomic functions can be imported, and for assembly and minification use Webpack or Rollup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sometimes you can import an entire library. </font><font style="vertical-align: inherit;">For example, when using the React production build you do not need to throw anything away - everything that is in it is already optimized. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you use a library that exports individual functions, for example, lodash, try importing only the necessary functions and make sure that the others are excluded from the final bundle.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use build flags</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DefinePlugin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plugin </font><font style="vertical-align: inherit;">for Webpack has a wonderful, but not the most famous feature - the ability to influence what code will be excluded during the build process. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/pf/vp/bzpfvpbla_gsmpjxacogiaoeiq0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If we pass it </font></font><code>__PRODUCTION__: true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to the plugin, not only the function call </font></font><code>validateOptions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, but also its definition </font><font style="vertical-align: inherit;">will be excluded from the final bundle </font><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This simplifies the creation of different bundles for development and production, and also helps to ensure that the code intended for debugging does not get into production.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Start assembly</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It‚Äôs very difficult by eye to determine how Webpack will optimize a particular module. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So run the build, check the final bundle and see what happens. </font><font style="vertical-align: inherit;">Take a look at the JavaScript code and make sure that there is nothing left in it that should have been thrown out by trichashing.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Something else?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you know other useful tips, please write about this in the comments.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489998/index.html">11. Fortinet Getting Started v6.0. Licensing</a></li>
<li><a href="../en490002/index.html">How to GraphQL on Kotlin and Micronaut and create a single access point to the API of several microservices</a></li>
<li><a href="../en490006/index.html">Educational program for technical specifications</a></li>
<li><a href="../en490010/index.html">Examination of the type system for checking the correctness of music</a></li>
<li><a href="../en490012/index.html">Alert-s and Error-s of storage, how to deal with them?</a></li>
<li><a href="../en490018/index.html">How to design mobile applications for one hand</a></li>
<li><a href="../en490020/index.html">Translation into English in IT sphere by the example of PVS-Studio</a></li>
<li><a href="../en490026/index.html">How we Elasticsearch put things in order: data sharing, cleaning, backups</a></li>
<li><a href="../en490034/index.html">ML REPA Meetup at Raffeisenbank: keep broadcasting</a></li>
<li><a href="../en490040/index.html">Python-Celery in Windows with Docker managing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>