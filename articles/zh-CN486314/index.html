<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🚒 ⛹🏿 👂🏿 [车间] DMA攻击在实践中。通过直接内存访问来利用 🚝 👊🏻 ⏳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="2020年2月1日，星期六，我们将在莫斯科的Hackspace Neuron中举办有关DMA攻击实际使用的大师班。我们将一起攻击具有模拟ATM或付款终端的加密文件系统的真实计算机。
 
 领导研讨会ValdikSS和Maxim Goryachy。酒吧后面是Pavel Zhovner。 
 
 
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>[车间] DMA攻击在实践中。通过直接内存访问来利用</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/neuronspace/blog/486314/"><img src="https://habrastorage.org/webt/cx/lb/o4/cxlbo4zplotbs9n6rjibkkl33aw.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2020年2月1日，星期六，我们</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在莫斯科</font><font style="vertical-align: inherit;">的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Hackspace Neuron</font></a><font style="vertical-align: inherit;">中举办有关DMA攻击实际使用的大师班。</font><font style="vertical-align: inherit;">我们将一起攻击具有模拟ATM或付款终端的加密文件系统的真实计算机。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">领导研讨会</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValdikSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maxim Goryachy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">酒吧后面是</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pavel Zhovner</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></b> <br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><div style="text-align:center;"><img width="270" src="https://habrastorage.org/webt/st/t3/6a/stt36a42onq46vh0etgnqtsfs8g.png"></div></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
直接内存访问（DMA）-计算机设备的低级操作模式，涉及直接访问计算机的RAM。</font><font style="vertical-align: inherit;">PCIe，Thunderbolt和其他一些设备需要使用它。</font><font style="vertical-align: inherit;">在正常情况下，DMA用于更快地访问内存，以免占用处理器。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
攻击者可以使用特殊的“邪恶”设备来控制PCIe总线，并获得对运行中的计算机内存的完全读取和写入访问权限，即使系统受到软件的保护也不会受到攻击。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DMA攻击允许</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统和防病毒软件不知道的是，读取和修改计算机内存中的数据；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将代码注入操作系统和正在运行的程序</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从正在运行的程序中检索任何数据：密钥，密码</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">绕过操作系统的认证和授权</font></font></li>
<li>    </li>
<li>     .</li>
</ul><br>
<h2>   </h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1部分-理论</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
首先，我们将用手指弄清楚PCIe总线的工作方式和内存访问，为什么可能发生这种攻击以及存在防止这种攻击的现代保护手段。让我们考虑一下存在哪些工具可以进行DMA攻击，以及如何最好地设计安全系统。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ValdikSS将谈论其使用DMA攻击来破解</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日本老虎机</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护的经验</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2部分-实践课程</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
要进行攻击，我们将使用两台计算机：攻击者和受害者。受害者的PCIe端口中插入了一个特殊的“邪恶”设备，该设备实现了PCIe的物理层并从攻击者发送命令。攻击计算机通过USB连接到“邪恶”板，并通过它向受害人的PCIe总线发送命令。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/ba/hp/afbahp6eynp5y_lufdbx594bcfq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
普通的X86计算机将成为受害者，而USB3380板将充当“邪恶”设备。</font><font style="vertical-align: inherit;">攻击者将使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pcileech</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">框架</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们找出哪些设备支持pcileech作为攻击者，以及选择哪种更好。</font><font style="vertical-align: inherit;">我们将基于USB3380主板从零开始建立攻击者的立场。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tx/ck/rl/txckrlnkdfivovxvptonsvxs46u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初，受害计算机将具有一个用bitlocker加密并锁定以进入操作系统的硬盘。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将执行以下攻击：</font></font></b><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows身份验证绕过</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -登录您的帐户而无需重置密码</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问受害者文件</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">尽管对文件系统进行了加密，但仍然可以从OS内访问文件</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们从内存中提取有价值的数据</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -来自比特币钱包的密钥，密码和键入的文本</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们立即在内存中安装仿木马程序，</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而磁盘上没有中间文件</font></font><br>
</li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这个职业是给谁的 </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本课程对于嵌入式系统的开发人员，设计终端机，ATM，机器，游戏机和赌博机的人员将非常有用。</font><font style="vertical-align: inherit;">您将需要计算机硬件的基本知识。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pcileech框架非常简单，并具有几个用于典型攻击的便捷插件，因此任何高级计算机用户都可以学习如何使用它。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于作者</font></font></h2><br>
<img align="left" width="200" src="https://habrastorage.org/webt/aq/l6/97/aql697p48xt1jdrozpngvxhhwlm.jpeg"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ValdikSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一名安全研究人员和开源爱好者。该程序的作者绕过DPI </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoodByeDPI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统</font><font style="vertical-align: inherit;">，并提供JustVPN和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anti-Ban服务</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。他曾在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digital Security工作</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><font color="white"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________ </font></font></font><br>
<br>
<img align="left" width="200" src="https://habrastorage.org/webt/is/by/i4/isbyi40hrlpb5mga5ht3p3vwucw.jpeg"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">马克西姆热</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Positive Technologies的嵌入式开发人员和安全研究员。</font><font style="vertical-align: inherit;">他对密码学，虚拟化技术，逆向工程以及与硬件相关的所有事物都感兴趣。</font><font style="vertical-align: inherit;">他曾在Black Hat的33C3、34C3演出。</font><font style="vertical-align: inherit;">他与Mark Ermolov一起在Apple MacOS固件Intel ME中发现了漏洞。</font></font><font color="white"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_________________________________________________________________________________________________________________________________________________________________________________________</font></font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 地点-Hackspace Neuron</font></font></h2><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hackspace Neuron</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是位于莫斯科市中心的极客和技术爱好者社区。</font><font style="vertical-align: inherit;">具有专业设备和创意氛围的工作场所。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zb/_j/br/zb_jbrtkw3jlq8r0g41raegk7ys.jpeg"><br>
<img width="70" src="https://habrastorage.org/getpro/habr/post_images/15c/75a/00f/15c75a00f31a7d58a6d5b67ca84e86a5.gif"> <font color="9999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有筹集的资金将用于支付租金和开发Huxspace。</font><font style="vertical-align: inherit;">如果您想进一步支持我们，则可以拥抱并提供帮助。</font></font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：大师班上提供的所有信息仅用于研究目的。</font><font style="vertical-align: inherit;">用于漏洞分析的测试平台不是真实的系统，而是专门为培训目的而创建的。</font><font style="vertical-align: inherit;">作者不敦促使用获得的知识进行违法行为。</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><div style="text-align:center;"><img width="270" src="https://habrastorage.org/webt/st/t3/6a/stt36a42onq46vh0etgnqtsfs8g.png"></div></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN486314/">https://habr.com/ru/post/zh-CN486314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN486298/index.html">生酮饮食：从治疗癫痫病到不健康</a></li>
<li><a href="../zh-CN486302/index.html">NSIS：$ 0- $ 9，$ R0- $ R9问题</a></li>
<li><a href="../zh-CN486304/index.html">Kubernetes代码中成千上万个被遗忘的TODO</a></li>
<li><a href="../zh-CN486306/index.html">12月和1月的产品管理摘要</a></li>
<li><a href="../zh-CN486310/index.html">如何更快地获得热电7倍</a></li>
<li><a href="../zh-CN486318/index.html">如何通过情感识别赚钱</a></li>
<li><a href="../zh-CN486320/index.html">Raiffeisenbank的领域驱动设计聚会：广播和演示</a></li>
<li><a href="../zh-CN486322/index.html">电报上的OSINT</a></li>
<li><a href="../zh-CN486326/index.html">世界微电子学中的谁是谁</a></li>
<li><a href="../zh-CN486328/index.html">隐私政策和使用条款是IT产品的强制属性</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>