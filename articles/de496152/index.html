<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬇️ 👰🏿 ☕️ Netzwerkautomatisierung. Fall des Lebens 🧑🏽‍🤝‍🧑🏻 🌱 🚪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 
 
 In diesem Artikel möchten wir über die Automatisierung der Netzwerkinfrastruktur sprechen. Es wird ein funktionierendes Netzwerkdiagra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Netzwerkautomatisierung. Fall des Lebens</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496152/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel möchten wir über die Automatisierung der Netzwerkinfrastruktur sprechen. </font><font style="vertical-align: inherit;">Es wird ein funktionierendes Netzwerkdiagramm vorgestellt, das in einem kleinen, aber sehr stolzen Unternehmen arbeitet. </font><font style="vertical-align: inherit;">Alle Übereinstimmungen mit realer Netzwerkhardware sind zufällig. </font><font style="vertical-align: inherit;">Wir werden einen Fall betrachten, der in diesem Netzwerk aufgetreten ist und zu einer langen Betriebsschließung und schwerwiegenden finanziellen Verlusten führen kann. </font><font style="vertical-align: inherit;">Die Lösung dieses Falls passt sehr gut zum Konzept der "Automatisierung der Netzwerkinfrastruktur". </font><font style="vertical-align: inherit;">Mit Hilfe von Automatisierungstools zeigen wir, wie Sie komplexe Probleme in kurzer Zeit effektiv lösen können, und reflektieren das Thema, warum diese Aufgaben vielversprechender sind, auf diese Weise und nicht anders </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(über die Konsole)</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gelöst zu werden </font><font style="vertical-align: inherit;">.</font></font><br>
<a name="habracut"></a><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haftungsausschluss</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unsere wichtigsten Automatisierungstools sind Ansible (als Mittel zur Automatisierung) und Git (als Aufbewahrungsort für Ansibles Playbooks). Ich möchte sofort reservieren, dass dies kein Informationsartikel ist, in dem wir über die Logik von Ansible oder Git sprechen und grundlegende Dinge erklären (z. B. Rollen \ Aufgaben \ Module \ Inventardateien \ Variablen in Ansible oder was passiert, wenn Sie Git-Push-Befehle eingeben oder git commit). In dieser Geschichte geht es nicht darum, wie Sie in Ansible üben und es auf NTP- oder SMTP-Geräten konfigurieren können. Dies ist eine Geschichte darüber, wie Sie ein Netzwerkproblem schnell und vorzugsweise fehlerfrei lösen können. Es ist auch wünschenswert, eine gute Vorstellung davon zu haben, wie das Netzwerk funktioniert, insbesondere was der TCP / IP-, OSPF-, BGP-Protokollstapel ist. Die Wahl von Ansible und Git kommt ebenfalls nicht in Frage. Wenn Sie immer noch die Wahl einer bestimmten Lösung haben,Wir empfehlen dringend, das Buch Netzwerkprogrammierbarkeit und -automatisierung zu lesen. Fähigkeiten für den Netzwerkingenieur der nächsten Generation “von Jason Edelman, Scott S. Lowe und Matt Oswalt.</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun zum Punkt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulierung des Problems</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich eine Situation vor: 3 Uhr morgens schlafen Sie tief und fest und träumen. </font><font style="vertical-align: inherit;">Der Anruf zum Telefon. </font><font style="vertical-align: inherit;">Der technische Direktor ruft an: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Ja? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ###, ####, #####, die Ansammlung von Firewalls ist gefallen und steigt nicht an !!! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie reiben sich die Augen, versuchen zu erkennen, was passiert, und stellen sich vor, wie so etwas hätte passieren können. </font><font style="vertical-align: inherit;">In der Röhre hört man die Haare auf dem Kopf des Regisseurs reißen und er bittet um Rückruf, weil der General ihn in der zweiten Zeile anruft. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einer halben Stunde sammelten Sie die ersten einleitenden Notizen aus der Dienstschicht und weckten alle, mit denen Sie aufwachen konnten. </font><font style="vertical-align: inherit;">Infolgedessen hat der technische Direktor nicht gelogen, alles ist so, die Hauptgruppe der Firewalls ist gefallen, und keine grundlegenden Gesten bringen ihn zur Besinnung. </font><font style="vertical-align: inherit;">Alle Dienstleistungen, die das Unternehmen anbietet, funktionieren nicht.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wählen Sie ein Problem für Ihren Geschmack, jeder wird sich an etwas anderes erinnern. </font><font style="vertical-align: inherit;">Zum Beispiel funktionierte nach einem Update über Nacht ohne schwere Last alles gut und alle zufriedenen gingen ins Bett. </font><font style="vertical-align: inherit;">Der Datenverkehr ging verloren und die Schnittstellenpuffer begannen aufgrund eines Fehlers im Netzwerkkartentreiber überzulaufen. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Situation kann Jackie Chan gut beschreiben. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/nm/20/ltnm203hcpvq05tb8uq3ke6e1qm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danke, Jackie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Situation ist nicht sehr angenehm, oder? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lass uns mit seinen traurigen Gedanken für die Zeit unseres Netzwerks gehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden diskutieren, wie sich die Ereignisse weiterentwickeln werden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir bieten die folgende Reihenfolge der Präsentation des Materials an</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betrachten Sie das Netzwerkdiagramm und analysieren Sie, wie es funktioniert.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden beschreiben, wie wir Einstellungen mit Ansible von einem Router auf einen anderen übertragen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lassen Sie uns über die Automatisierung der IT-Infrastruktur im Allgemeinen sprechen.</font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerkdiagramm und seine Beschreibung</font></font></h4><br>
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planen</font></font></b></p><br>
<br>
<img src="https://habrastorage.org/webt/wp/0f/zp/wp0fzp8bvlwmylrn-pl7knbplga.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die Logik unserer Organisation. </font><font style="vertical-align: inherit;">Wir werden keine spezifischen Hersteller von Geräten nennen, dies spielt im Artikel keine Rolle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Der aufmerksame Leser selbst wird erraten, welche</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Art von </font><i><font style="vertical-align: inherit;">Geräten verwendet wird)</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dies ist nur einer der guten Vorteile der Zusammenarbeit mit Ansible. Bei der Einrichtung ist es uns im Allgemeinen egal, um welche Art von Ausrüstung es sich handelt. </font><font style="vertical-align: inherit;">Nur um zu verstehen, ist dieses Gerät ein bekannter Anbieter wie Cisco, Juniper, Check Point, Fortinet, Palo Alto ... Sie können Ihre eigene Version ersetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben zwei Hauptaufgaben für den Verkehr:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gewährleistung der Veröffentlichung unserer Dienstleistungen, die das Geschäft des Unternehmens sind;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereitstellung der Kommunikation mit Niederlassungen, einem Remote-Rechenzentrum und Organisationen von Drittanbietern (Partner und Kunden) sowie Zugriff auf das Internet über die Zentrale.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit den Grundelementen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zwei Grenzrouter (BRD-01, BRD-02);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firewall-Cluster (FW-CLUSTER);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kernel Switch (L3-CORE);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Router, der zu einer Lebensader wird (bei der Lösung des Problems werden die Netzwerkeinstellungen von FW-CLUSTER auf NOTFALL übertragen) (NOTFALL);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switches zur Verwaltung der Netzwerkinfrastruktur (L2-MGMT);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Virtuelle Maschine mit Git und Ansible (VM-AUTOMATION);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Laptop, der Playbooks für Ansible (Laptop-Automation) testet und entwickelt.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Netzwerk wird ein dynamisches OSPF-Routing-Protokoll mit den folgenden Bereichen konfiguriert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereich 0 - der Bereich, in dem die für die Verkehrsbewegung in der EXCHANGE-Zone verantwortlichen Router enthalten sind;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereich 1 - der Bereich, in dem die für die Arbeit der Unternehmensdienste verantwortlichen Router enthalten sind;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereich 2 - der Bereich, in dem die für das Routing-Management-Verkehr verantwortlichen Router enthalten sind;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bereich N - Zweignetzbereiche.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf Grenzroutern wird es auf einem virtuellen Router (VRF-INTERNET) erstellt, auf dem die eBGP-Vollansicht mit dem entsprechenden zugewiesenen AS ausgelöst wird. Zwischen VRFs ist iBGP konfiguriert. Das Unternehmen verfügt über einen Pool weißer Adressen, die in diesen VRF-INTERNETs veröffentlicht werden. Einige der weißen Adressen werden direkt an FW-CLUSTER (Adressen, auf denen die Dienste des Unternehmens ausgeführt werden) weitergeleitet, andere über die EXCHANGE-Zone (interne Unternehmensdienste, für die externe IP-Adressen und externe NAT-Adressen für Büros erforderlich sind). Außerdem gelangt der Datenverkehr zu virtuellen Routern, die auf L3-CORE mit weißen und grauen Adressen (Sicherheitszonen) erstellt wurden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwaltungsnetzwerke verwenden dedizierte Switches und sind ein physisch dediziertes Netzwerk. Das Verwaltungsnetzwerk ist auch in Sicherheitszonen unterteilt.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der EMERGENCY-Router dupliziert den FW-CLUSTER physisch und logisch. </font><font style="vertical-align: inherit;">Alle Schnittstellen sind deaktiviert, mit Ausnahme derjenigen, die sich mit dem Verwaltungsnetzwerk befassen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisierung und ihre Beschreibung</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben herausgefunden, wie das Netzwerk funktioniert. </font><font style="vertical-align: inherit;">Schauen wir uns nun die Schritte an, wie wir den Datenverkehr von FW-CLUSTER zu EMERGENCY übertragen können:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deaktivieren Sie die Schnittstellen am Kernel-Switch (L3-CORE), die ihn mit dem FW-CLUSTER verbinden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deaktivieren Sie die Schnittstellen am L2-MGMT-Core-Switch, die ihn mit dem FW-CLUSTER verbinden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren Sie den NOT-Router (standardmäßig sind alle Schnittstellen außer den mit L2-MGMT verbundenen Schnittstellen deaktiviert):</font></font></li>
</ol><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir bieten Schnittstellen für NOTFÄLLE an.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurieren Sie die externe IP-Adresse (für NAT), die sich im FW-Cluster befand.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir generieren gARP-Anfragen, so dass sich in den L3-CORE-Arp-Tabellen die Mohnadressen von FW-Cluster zu NOT ändern.</font></font></li>
<li>      BRD-01, BRD-02;</li>
<li>  NAT;</li>
<li>  EMERGENCY OSPF Area 1;</li>
<li>  EMERGENCY OSPF Area 2;</li>
<li>    Area 1  10;</li>
<li>     Area 1  10;</li>
<li> ip-,   L2-MGMT ( ,    FW-CLUSTER);</li>
<li> gARP ,   arp- L2-MGMT  -  FW-CLUSTER  EMERGENCY.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir kehren wieder zur ursprünglichen Formulierung des Problems zurück. Drei Uhr morgens, großer Stress, ein Fehler in jedem Stadium kann zu neuen Problemen führen. Bereit, Befehle über die CLI einzugeben? Ja? Ok, spüle wenigstens dein Gesicht aus, trinke Kaffee und sammle deinen Willen in einer Faust. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bruce, bitte hilf den Jungs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0v/sh/qe/0vshqe7g7ngkcgdjrl4lxvdif4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, wir reduzieren weiterhin unsere Automatisierung. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unten finden Sie ein Diagramm der Arbeitsmappe in Bezug auf Ansible. Dieses Diagramm spiegelt das wider, was wir oben beschrieben haben, nur eine konkrete Implementierung in Ansible. </font></font><br>
<img src="https://habrastorage.org/webt/yg/oa/hu/ygoahutrkrtb-q7qqteifyuejp0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt haben wir erkannt, was zu tun ist, ein Spielbuch entwickelt und Tests durchgeführt. Jetzt können wir es starten.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein weiterer kleiner Exkurs. Die Leichtigkeit des Erzählens sollte Sie nicht irreführen. Das Schreiben von Spielbüchern war nicht so einfach und schnell, wie es scheinen mag. Das Testen hat ziemlich viel Zeit in Anspruch genommen, ein virtueller Stand wurde erstellt, die Lösung wurde mehrmals gerollt, es wurden ungefähr 100 Tests durchgeführt.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wir fangen an ... Es gibt das Gefühl, dass alles sehr langsam passiert, irgendwo liegt ein Fehler vor, am Ende wird etwas nicht funktionieren. Das Gefühl eines Fallschirmsprungs und der Fallschirm will sich nicht sofort öffnen ... das ist normal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes lesen wir das Ergebnis der Operationen des Ansible-Playbooks (wir haben die IP-Adressen aus Verschwörungsgründen ersetzt):</font></font><br>
<br>
<pre><code class="plaintext hljs">[xxx@emergency ansible]$ ansible-playbook -i /etc/ansible/inventories/prod_inventory.ini /etc/ansible/playbooks/emergency_on.yml <font></font>
<font></font>
PLAY [-------&gt;Emergency on VCF] ********************************************************<font></font>
<font></font>
TASK [vcf_junos_emergency_on : Disable PROD interfaces to FW-CLUSTER] *********************<font></font>
changed: [vcf]<font></font>
<font></font>
PLAY [-------&gt;Emergency on MGMT-CORE] ************************************************<font></font>
<font></font>
TASK [mgmt_junos_emergency_on : Disable MGMT interfaces to FW-CLUSTER] ******************<font></font>
changed: [m9-03-sw-03-mgmt-core]<font></font>
<font></font>
PLAY [-------&gt;Emergency on] ****************************************************<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable EXT-INTERNET interface] **************************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Generate gARP for EXT-INTERNET interface] ****************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable static default route to EXT-INTERNET] ****************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change NAT rule to EXT-INTERNET interface] ****************<font></font>
changed: [m9-04-r-04] =&gt; (item=12)<font></font>
changed: [m9-04-r-04] =&gt; (item=14)<font></font>
changed: [m9-04-r-04] =&gt; (item=15)<font></font>
changed: [m9-04-r-04] =&gt; (item=16)<font></font>
changed: [m9-04-r-04] =&gt; (item=17)<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable OSPF Area 1 PROD] ******************************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Enable OSPF Area 2 MGMT] *****************************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change OSPF Area 1 interfaces costs to 10] *****************<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1001)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1002)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1003)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1004)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1005)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1006)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1007)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1008)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1009)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1010)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1011)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1012)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1013)<font></font>
changed: [m9-04-r-04] =&gt; (item=VLAN-1100)<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change OSPF area1 default cost for to 10] ******************<font></font>
changed: [m9-04-r-04]<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Change MGMT interfaces ip addresses] ********************<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n.254', u'name': u'VLAN-803'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+1.254', u'name': u'VLAN-805'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+2.254', u'name': u'VLAN-807'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+3.254', u'name': u'VLAN-809'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+4.254', u'name': u'VLAN-820'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+5.254', u'name': u'VLAN-822'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+6.254', u'name': u'VLAN-823'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+7.254', u'name': u'VLAN-824'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+8.254', u'name': u'VLAN-850'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+9.254', u'name': u'VLAN-851'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+10.254', u'name': u'VLAN-852'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+11.254', u'name': u'VLAN-853'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+12.254', u'name': u'VLAN-870'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+13.254', u'name': u'VLAN-898'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+14.254', u'name': u'VLAN-899'})<font></font>
<font></font>
TASK [mk_routeros_emergency_on : Generate gARPs for MGMT interfaces] *********************<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n.254', u'name': u'VLAN-803'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+1.254', u'name': u'VLAN-805'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+2.254', u'name': u'VLAN-807'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+3.254', u'name': u'VLAN-809'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+4.254', u'name': u'VLAN-820'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+5.254', u'name': u'VLAN-822'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+6.254', u'name': u'VLAN-823'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+7.254', u'name': u'VLAN-824'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+8.254', u'name': u'VLAN-850'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+9.254', u'name': u'VLAN-851'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+10.254', u'name': u'VLAN-852'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+11.254', u'name': u'VLAN-853'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+12.254', u'name': u'VLAN-870'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+13.254', u'name': u'VLAN-898'})<font></font>
changed: [m9-04-r-04] =&gt; (item={u'ip': u'..n+14.254', u'name': u'VLAN-899'})<font></font>
<font></font>
PLAY RECAP ************************************************************************</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erledigt! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht die Konvergenz dynamischer Routing-Protokolle und das Laden einer großen Anzahl von Routen in die FIB. Wir können dies in keiner Weise beeinflussen. Wir warten. Es kam zusammen. Jetzt ist es fertig. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und im Dorf Vilabaggio (das die Netzwerkeinrichtung nicht automatisieren will) spülen sie das Geschirr weiter. Bruce (wenn auch schon anders, aber nicht weniger cool) versucht herauszufinden, wie viel mehr man Geräte manuell neu konfigurieren kann. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/4y/hc/zr4yhcq2zpqmjjbjp7lx37rxibg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte auch auf einen wichtigen Punkt eingehen. Wie bekommen wir alles zurück? Nach einiger Zeit werden wir unseren FW-CLUSTER wieder zum Leben erwecken. Dies ist das Hauptgerät, nicht das Backup, das Netzwerk sollte daran arbeiten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lust auf Networker zu brennen? Der technische Direktor wird tausend Argumente hören, warum dies nicht notwendig ist, warum es später getan werden kann. Leider funktioniert das Netzwerk auf diese Weise aus einer Reihe von Patches, Stücken und Überresten früheren Luxus. Es stellt sich heraus, eine Steppdecke. Unsere Aufgabe als Ganzes, nicht in dieser speziellen Situation, sondern im Allgemeinen als IT-Spezialist, besteht im Prinzip darin, das Netzwerk auf das schöne englische Wort „Konsistenz“ zu bringen. Es ist sehr vielfältig und kann übersetzt werden als: Konsistenz, Konsistenz, Konsistenz, Kohärenz, Konsistenz, Vergleichbarkeit, Konnektivität. Das ist alles über ihn. Nur in diesem Zustand ist das Netzwerk überschaubar, wir verstehen klar, was und wie es funktioniert, wir verstehen klar, was geändert werden muss, wenn nötig, wir wissen klar, wo wir bei Problemen suchen müssen.Und nur in einem solchen Netzwerk können Sie Tricks wie die gerade beschriebenen ausführen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich wurde ein anderes Spielbuch vorbereitet, das die Einstellungen auf ihren ursprünglichen Zustand zurückversetzte. </font><font style="vertical-align: inherit;">Die Logik seiner Arbeit ist dieselbe (es ist wichtig, sich daran zu erinnern, dass die Reihenfolge der Aufgaben sehr wichtig ist). Um den bereits langen Artikel nicht zu erweitern, haben wir beschlossen, die Auflistung des Spielbuchs nicht zu veröffentlichen. </font><font style="vertical-align: inherit;">Wenn Sie solche Übungen durchgeführt haben, werden Sie sich in Zukunft viel ruhiger und sicherer fühlen. Außerdem werden sich alle Krücken, die Sie dort angehäuft haben, sofort wiederfinden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder kann uns schreiben und den Quellcode des gesamten geschriebenen Codes zusammen mit allen Palybooks erhalten. </font><font style="vertical-align: inherit;">Kontakte im Profil.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prozesse, die automatisiert werden können, haben sich unserer Meinung nach noch nicht herauskristallisiert. </font><font style="vertical-align: inherit;">Basierend auf dem, was uns begegnet ist und was unsere westlichen Kollegen diskutieren, sind die folgenden Themen immer noch sichtbar:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerätebereitstellung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datensammlung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Berichterstattung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fehlerbehebung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beachtung</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Interesse können wir die Diskussion zu einem der vorgegebenen Themen fortsetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte auch ein bisschen über Automatisierung spekulieren. </font><font style="vertical-align: inherit;">Was soll es nach unserem Verständnis sein:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das System muss ohne Menschen leben und gleichzeitig den Menschen verbessern. </font><font style="vertical-align: inherit;">Das System sollte nicht von der Person abhängen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Bedienung muss fachmännisch sein. </font><font style="vertical-align: inherit;">Es gibt keine Klasse von Spezialisten, die Routineaufgaben ausführen. </font><font style="vertical-align: inherit;">Es gibt Experten, die die gesamte Routine automatisiert haben und nur komplexe Probleme lösen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Routine- \ Standardaufgaben werden automatisch "per Schaltfläche" erledigt, Ressourcen werden nicht verschwendet. </font><font style="vertical-align: inherit;">Das Ergebnis solcher Aufgaben ist immer vorhersehbar und verständlich.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wozu sollten diese Punkte führen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transparenz der IT-Infrastruktur (weniger Betriebs-, Modernisierungs- und Implementierungsrisiken. Weniger Ausfallzeiten pro Jahr);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Fähigkeit, IT-Ressourcen zu planen (Kapazitätsplanungssystem - Sie können sehen, wie viel verbraucht wird, wie viel Ressourcen in einem einzelnen System benötigt werden und nicht durch Briefe und Besuche bei den obersten Abteilungen);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Möglichkeit, die Anzahl der IT-Mitarbeiter zu reduzieren.</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autoren des Artikels: Alexander Manov (CCIE RS, CCIE SP) und Pavel Kirillov. </font><font style="vertical-align: inherit;">Wir sind daran interessiert, Lösungen zum Thema Automatisierung der IT-Infrastruktur zu diskutieren und vorzuschlagen.</font></font><br>
</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de496136/index.html">Verwenden der ColorPicker-Bibliothek in Android zum Implementieren einer flexiblen Farbauswahl</a></li>
<li><a href="../de496138/index.html">Nehmen Sie an der musikalischen Programmierung teil und machen Sie mit - Sprachen, die Ihnen dabei helfen</a></li>
<li><a href="../de496144/index.html">Die Früchte der Isolation: COVID-19 Interaktive Karte mit historischen Diagrammen und Migrationsbeschränkungen</a></li>
<li><a href="../de496146/index.html">Lua auf STM32</a></li>
<li><a href="../de496148/index.html">Strukturelle Entwurfsmuster in ES6 + am Beispiel des Game of Thrones</a></li>
<li><a href="../de496154/index.html">Customer Service Automation: Eine End-to-End-Lösung von DeepPavlov</a></li>
<li><a href="../de496156/index.html">Wie Verkehrsanalysesysteme Hacker-Taktiken erkennen von MITRE ATT & CK, Teil 3</a></li>
<li><a href="../de496160/index.html">Wir untersuchen die Mediastreamer2 VoIP-Engine. Teil 5</a></li>
<li><a href="../de496162/index.html">Terraform, Mono-Repositories und Compliance als Code</a></li>
<li><a href="../de496164/index.html">Während der Krise habe ich meinen Job verloren und jetzt habe ich Angst, intelligenten Code zu schreiben, um die neuesten Jobs nicht abzuschrecken</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>