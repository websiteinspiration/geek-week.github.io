<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚱️ ▶️ 🎮 Wie implementiere ich ignorierte blockierte Benutzer in Telegrammgruppen? 🔽 👩🏿‍🚀 🔰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPD: Danke an die Hilfe TkachovDieser Artikel verwandelte sich immer noch von einer Bitte um Hilfe in eine Arbeitsanweisung. In den Kommentaren gab er...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wie implementiere ich ignorierte blockierte Benutzer in Telegrammgruppen?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487512/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/n8/lx/it/n8lxiti0sdes3qvykd6fxu5smas.png" alt="Bild alt"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: Danke an die Hilfe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tkachov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieser Artikel verwandelte sich immer noch von einer Bitte um Hilfe in eine Arbeitsanweisung. In den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommentaren gab</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> er einen Arbeitscode zum Erstellen eines Ignorierens im Telegramm-Desktop-Client an. Für alle Fälle werde ich am Ende des Artikels eine Erklärung einfügen. Ferner wird der Artikel in derselben Form fortgesetzt, in der er geschrieben wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte die Community um Hilfe bitten, da ich alle meine eigenen Möglichkeiten völlig ausgeschöpft habe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Man könnte eine Frage zum Q &amp; A-Service (auch bekannt als ehemaliger Toaster) stellen - nur ich habe dies bereits getan, und es ist nicht viel daraus geworden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotzdem scheint es mir nicht sehr richtig, nur eine Frage unter dem Deckmantel eines Artikels zu stellen. Daher werde ich versuchen, den Hintergrund des gesamten Prozesses zum Text hinzuzufügen und zu erläutern, welche Schritte bereits unternommen wurden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Glück haben, wird Ihnen jemand in den Kommentaren die Lösung mitteilen. </font><font style="vertical-align: inherit;">Und dann können auch diejenigen, die diesen Artikel in den Suchmaschinen finden, dieses Problem lösen.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem und Hintergrund</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie allen Telegrammbenutzern bekannt ist, gibt es in den Gruppenchats dieses Messengers keine Benutzer-Ignorierfunktion. Sie können einen Benutzer blockieren, der für Sie unangenehm ist. Dies verhindert jedoch, dass er Ihnen private Nachrichten schreibt. In Gruppenchat - und jetzt scheinen Gruppen - </font><font style="vertical-align: inherit;">Chats zu 10 Tausend Benutzer zu beherbergen - Sie einfach </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">müssen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alles , </font><font style="vertical-align: inherit;">dass andere Mitglieder der Gruppe sehen weg geworfen haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im „Black Mirror“ gab es sogar eine Serie darüber. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/9h/lk/zr9hlk0liyhnvaexdinjwkpsgna.png"><br>
<sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pass auf! Pass auf! Pass auf!</font></font></i></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn wir versuchen, im Internet eine Lösung für dieses Problem zu finden, werden wir auf eine typische Kriegsgeschichte eines großen Unternehmens und einer kleinen Gruppe verärgerter Menschen stoßen. Die Stadien dieses Krieges sind auf Github deutlich sichtbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erste Anfrage für diese Funktion aus dem Jahr 2015.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Thread finden Sie Links zu den folgenden Themen. In den folgenden Jahren wurde ständig nach dieser Funktion gefragt, aber jeder Anruf wurde mit einer ziemlich dummen Antwort "Dies ist kein Client-Problem, sondern ein API-Problem" abgeschlossen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den Programmierer ist nicht einmal klar, dass die Daten dem Benutzer mit Hilfe des Clients angezeigt werden. Und selbst wenn die API Ihnen alle Nachrichten vom Server sendet, gibt es kein Problem, einige davon auf der Clientseite zu verbergen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber seit fünf Jahren, jedes Jahr und manchmal mehrmals im Jahr, kommen die Leute nach Github mit der Bitte, Ignorieren in Gruppen einzuführen - und jedes Mal, wenn sie abgelehnt und das Thema geschlossen werden. Vor mehr als sechs Monaten, anscheinend müde von den ständigen Anforderungen, haben die Entwickler </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine unverbindliche Entschuldigung veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Sie sagen, ja, ja, wir werden eines Tages alles in ferner Zukunft tun.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o8/vg/u7/o8vgu7sadj-sdregj1scnma6lz8.png"><br>
<sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe dich gehört! Ich habe es nur geäußert, bis ich bereit bin, Ihnen zu antworten. Sagen wir, ich verstehe Ihre Position. Komm, ruf an, geh nicht verloren!</font></font></i></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Diese Ausrede hat genau einen Vorteil: Jetzt beziehen sich tdesktop-Administratoren auf Github bei allen Beschwerden auf diese Nachricht. Sagen Sie - schauen Sie, sie wissen alles, sie werden alles tun, es tut mir leid, die Filiale ist geschlossen. In den letzten sechs Monaten wurden viele zeitaufwändige Änderungen am Telegramm vorgenommen, z. B. wurden Chatrooms animierte Aufkleber und REDUZIERENDE bewegliche Formen für Umfragen hinzugefügt. Aber kein Ignorieren kam auch nur annähernd. Ich denke, es wird in einem Jahr nicht erscheinen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig sieht die Situation sogar ein wenig unheimlich aus - es besteht das Gefühl, dass es verboten ist, diese Funktion mit speziellen Anweisungen für offizielle Gabeln einzuführen. Telegramm hat mindestens ein Dutzend bekannte Gabeln (wie Unigram) und hundert wenig bekannte Gabeln, aber keine von ihnen hat diese Funktion. Ich schrieb zur Unterstützung der beliebtesten Gabeln, erhielt aber keine Antwort. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig können mit blockierten Benutzern clientseitige Nachrichten verwaltet </font></font><u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werden</font></font></b></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dies wird durch die Existenz von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegreat bestätigt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dies ist eine Abzweigung von Telegramm, in der die Option zum Ignorieren blockierter Benutzer deklariert wurde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider ist dieses Ignorieren nicht real. Mit der Option "Blockierte Benutzer ignorieren" wird der Text von Nachrichten blockierter Benutzer nur grau eingefärbt. Bilder, Videos, Musik oder Aufkleber von blockierten Benutzern sind weiterhin sichtbar. Darüber hinaus ist die graue Farbe bei dunklen Themen perfekt lesbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Leute kommen regelmäßig zu einem Chat mit dem Entwickler, wo ich eine Weile saß, und bitten um ein "echtes Ignorieren". Zuvor lehnte er einfach ab; in den letzten sechs Monaten hat er sein Projekt komplett aufgegeben, weil er "keine Zeit hat". Nun, dies ist eine häufige Sache für kostenlose Open-Source-Projekte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich erwähne dieses Projekt aus zwei Gründen.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstens wird es genau als "Client mit einer Ignorierfunktion" beworben und von Personen empfohlen, die nur die Beschreibung lesen und nicht wissen, wie dieses "Ignorieren" dort tatsächlich implementiert wird. </font><font style="vertical-align: inherit;">Wie oben erwähnt, funktioniert diese Funktion nicht.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zweitens ist es eine lebendige Bestätigung, dass es im Telegramm-Client möglich ist, die Nachricht eines blockierten Benutzers zu ermitteln und zu ändern. </font><font style="vertical-align: inherit;">Das heißt, Ignorieren auf der Client-Seite ist tatsächlich möglich.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies tut jedoch niemand. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Beste ist, dass meine Gefühle in einem Kommentar zu einem ähnlichen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thema auf Reddit vor vier Jahren vermittelt werden:</font></font></a><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich bin schockiert, dass du es nicht kannst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ernsthaft? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich einfach nichts lesen möchte, was ein Benutzer schreibt, sollte ich dazu in der Lage sein ... es ist wie eine der Grundfunktionen jedes Kommunikationsprotokolls, das es je gab! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie könnten es in den 90ern mit E-Mails und Newsgroups tun!</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überall dort, wo wir über die Gründe für die Abwesenheit eines Spielers sprechen, werden dieselben Dinge wiederholt: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Sie werden nicht alle Nachrichten sehen und aus diesem Grund werden Sie nicht verstehen, was im Chat passiert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Sie werden Nachrichten duplizieren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Die Funktionalität des Systems der „Antworten“ wird verletzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wieder benutze ich ein Zitat, um Ihnen zu zeigen - dies sind nicht meine persönlichen Gedanken, dies ist unsere gemeinsame Position, Menschen, die diese Funktion einführen möchten:</font></font><br>
<blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">I can assure you 100.00% of people asking for this feature, are fully aware of the side effects it has, and could not care less about those.<br>
<br>
Yes just not show it at all. Yes including if it's a reply. Yes if the admin needs to see everything to moderate, then they don't have the luxury of using ignore. And most certainly we can compare TG groups to IRC, because they are both a mechanism for accomplishing the same thing, namely multi-user communication.</a></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier ist nur ein Beispiel aus dem Leben in Bezug auf das Duplizieren: Ich sitze in mehreren Telegramm-Chats und während des Tages </font><font style="vertical-align: inherit;">werfen mehrere Benutzer </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">immer</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die gleichen Nachrichten / lustigen Screenshots / frischen beliebten Memes in den Chat. Trotz der Tatsache, dass es vor ihnen schon war. Trotz der Tatsache, dass es kein Ignorieren gibt, lesen sie immer noch nicht den Chat-Verlauf und duplizieren Nachrichten. Darüber, wie Leute nicht wissen, wie sie die Suche in den Foren verwenden sollen, und wiederholt dieselben Fragen wiederholen - ich werde es nicht einmal erwähnen, die meisten Leser sind wahrscheinlich darauf gestoßen. Auch hier besteht dieses Problem ohne Unwissenheit bereits. Und ignorieren Sie sie wird nicht erschweren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gibt es</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diese Funktion wirklich nicht?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, die Verschwörungsthese besagt, dass das Hauptziel des Telegramms darin besteht, persönliche Daten und Benutzerinteraktionsdiagramme zu sammeln. In diesem Sinne können Sie mit jeder Telegrammgruppe eine typische kleine Gruppe festlegen, der der Benutzer zumindest standhalten kann und die ihm standhalten kann. Andernfalls wird er entweder aus der Gruppe geworfen oder er verlässt sich. Die Einführung von Ignorieren verletzt die Reinheit des Experiments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Marketing-Version ist etwas einfacher.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Khaled Mardam Bay 1995 mIRC gründete, schrieb er ein Programm für Menschen. Ich meine, für unabhängige Menschen, die wissen, was sie wollen, wählen sie, was sie für richtig halten, und sind für die Konsequenzen ihres Handelns verantwortlich. Einerseits verursachte dies Probleme, zum Beispiel mit geskripteten Sicherheitslücken - Sie führen eine Zeile mit Befehlen aus und das war's, Sie werden gehackt. Auf der anderen Seite war es ein Bote, der von Erwachsenen und Verantwortlichen benutzt wurde. Und sie wussten, wie man in einem Chat mit Ignorieren existiert, in dem einige der Nachrichten einfach nicht sichtbar sind.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Pascha Durov 2013 Telegramm machte, machte er das Programm „für Hausfrauen“. Für einen dummen Massenbenutzer, der einen guten Vormund braucht. Daher all diese Registrierung nach Telefonnummer, Senden von Nachrichten an alle im Telefonbuch, Flaggen und Verbote von allen Seiten. Immerhin „drücken sie etwas und alles verschwindet!“. Und dann werden sie Beschwerden zur Unterstützung schreiben! Daher solche dummen Ausreden - "denn wenn Sie Ignorieren aktivieren, werden Sie die Nachrichten anderer Leute nicht sehen." Wenn Sie ein Massenprodukt herstellen, müssen Sie die Funktionalität einschränken. Das Produkt für den Narren muss vor dem Narren geschützt sein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier kommt das Kronenargument, das immer am Ende steht: "Mag es nicht - benutze es nicht so." </font><font style="vertical-align: inherit;">Ich werde nicht erklären, was mit ihm los ist, dies ist eine ethische Frage des Formats „Warum Menschen nicht gegessen werden sollten“ - wer ihn fragt, ist bedeutungslos zu erklären. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber im Fall von Telegramm ist dieses Argument leicht modifiziert: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Ich mag es nicht - mach es wie du willst, es ist Open Source</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><b><font style="vertical-align: inherit;">"</font></b></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versuch zu lösen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich war es leid, jahrelang zu suchen, und beschloss, wirklich zu versuchen, etwas selbst zu ändern. </font><font style="vertical-align: inherit;">Es schien mir eine gute Idee zu sein, das Telegramm selbst zusammenzustellen. </font><font style="vertical-align: inherit;">Nicht im Sinne einer öffentlichen Versammlung mit einer Website und Platzierung im Anwendungsspeicher, sondern einfach die Anwendung für sich selbst zusammenstellen und selbst verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Sinne würde mich weder eine mögliche "Bremse" beim Ausblenden von Nachrichten noch das "Problem des Verlusts des Kontexts in der Konversation" noch das Problem der "Verwaltung des Chats, wenn Sie einige der Nachrichten nicht sehen" stören. </font><font style="vertical-align: inherit;">Das alles interessierte mich nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mir schien klar, dass ich nur eine Zeile wie diese hinzufügte:</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn message.author.isBlocked == true, dann message.value = 'Die Nachricht vom blockierten Benutzer'</font></font></b></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entschuldigung für den Pseudocode, aber es scheint mir, dass er die Idee richtig vermittelt. Ich wollte nur eine Nachricht in einem sehr frühen Stadium abfangen, wenn sie nur vom Server kommt, und sie durch eine Zeile über das Blockieren ersetzen. Somit würde das Problem mit Bildern / Aufklebern / Gifs gelöst - sie würden auch durch eine solche Nachricht ersetzt und wären nicht sichtbar. Und selbst wenn jemand auf eine Nachricht antwortete oder sie zitierte, würde sie dennoch ersetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wo soll ich anfangen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem ich Freunde von Programmierern gefragt hatte, fand ich heraus, dass es zwei Möglichkeiten gibt. Der erste besteht darin, den nativen Telegramm-Client zu verwenden, und der zweite darin, einen Drittanbieter-Client zu verwenden, der mit der neueren TDLib-Bibliothek geschrieben wurde. Ich ging zu dem am Anfang des Artikels erwähnten Fragendienst und stellte dort eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Wie Sie sehen können, ist die Linie der Befragten nicht in einer Reihe. Der einzige Thread führte zum Kotatogram Messenger. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mit dem Schöpfer dieses Boten gesprochen und er hat mir zwei nützliche Tipps gegeben. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstens sagte er, dass Nachrichten im nativen Client auf die übliche Weise angezeigt und nicht generiert werden (ich habe dies jedoch im Telegreat-Beispiel vermutet) - daher können Sie den nativen Client als Quelle verwenden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweitens sagte er, wo er nach der Nachrichtenausgabe selbst suchen soll - im Block history_message. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider hatte er, wie der Schöpfer von Telegreat, auch keine freie Zeit, um unabhängig die Ignorierfunktion hinzuzufügen, die für seinen Kunden bestimmt ist, was für mich ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie bin ich als nächstes vorgegangen? </font><font style="vertical-align: inherit;">Montageanleitungen sind auf Github vorhanden, spiegeln jedoch nicht alle Arbeitsschritte wider. </font><font style="vertical-align: inherit;">Ich werde sie hier beschreiben, falls jemand anderes zu dem Artikel kommt, der mit der Programmierung nicht besonders vertraut ist, aber denselben Client mit Ignorieren für sich selbst machen möchte:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich habe beschlossen, alles in einer virtuellen Maschine zu machen. </font><font style="vertical-align: inherit;">Zu diesem Zweck habe ich Oracle VM Virtual Box für mich selbst installiert und </font><font style="vertical-align: inherit;">die offizielle virtuelle Maschine mit vorinstalliertem Windows 10 und Visual Studio 2019 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von der offiziellen Microsoft-Website heruntergeladen</font></font></a><font style="vertical-align: inherit;"></font></li>
<li>      Visual Studio.  ,       C++,    Visual Studio Installer   .    Modify     C++,     .           QT <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>.</li>
<li>    Git c <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">git-scm.com</a></li>
<li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">  </a>. <b>  !</b> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt 2 Teams. </font><font style="vertical-align: inherit;">Und wenn der erste Abschnitt ungefähr ein Dutzend Befehle enthält, die einfach zu kopieren und in die Befehlszeile einzufügen sind, dann erscheint es für den zweiten Abschnitt von ein paar Dutzend Befehlen natürlich, den gesamten Code in eine Bat-Datei zu kopieren und auszuführen. </font><font style="vertical-align: inherit;">Dies ist ein Fehler, da der Prozess mindestens zweimal gestoppt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Stopp erfolgt nach der Zeile:</font></font><br>
<br>
<pre><code class="plaintext hljs">gyp --no-circular-check breakpad_client.gyp --format=ninja</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die zweite ist nach der vierten Zeile vom Ende die lange QT-Konfigurationsanweisung:</font></font><br>
<br>
<pre><code class="plaintext hljs">configure -prefix "%LibrariesPath%\Qt-5.12.5" ....... </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie meine Freunde mir sagten, liegt dies daran, dass während der Ausführung dieser Befehle andere Bat-Dateien gestartet werden, in denen bereits ein direkter Ausstieg aus dem Prozess registriert ist. </font><font style="vertical-align: inherit;">Daher müssen Sie entweder einfach die Befehle kopieren und einfügen oder die Anweisung in 3 Bat-Dateien aufteilen (denken Sie jedoch in diesem Fall daran, dass die Befehle weiterhin in demselben Verzeichnis ausgeführt werden sollten, in dem der Prozess gestoppt wurde!). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Abrufen Ihrer eigenen api_id wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auch auf Github beschrieben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Letztendlich habe ich eine voll funktionsfähige Telegramm-Exe-Datei zusammengestellt. </font><font style="vertical-align: inherit;">Insgesamt dauert die Montage etwa drei Stunden (ohne die vorläufigen Downloads und Installationen). Möglicherweise hängt diese Zeit von der Leistung des Computers ab.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hall Hilfe (und Lösung gefunden)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier erscheint endlich meine Bitte an die Habrasociety. Wie die Leser bereits vermutet haben, weiß ich nicht, was und wie ich mich ändern soll. Es scheint mir, dass ich einen Ort gefunden habe, an dem die Nachricht angezeigt wird, aber ich bin mir nicht sicher, da ich C ++ nicht kenne. Ganz zu schweigen davon, dass es (vielleicht) richtig wäre, etwas nicht in history_message, sondern irgendwo in history_item zu ändern. </font><sub><i><font style="vertical-align: inherit;">"Etwas auf Elbisch, das ich nicht lesen kann"</font></i></sub><font style="vertical-align: inherit;"> 
Vielleicht hat hier jemand bereits den Telegrammcode gefunden oder verfügt nur über eine sehr entwickelte Fähigkeit und kann dieselbe Zeile mit dem Ersetzen einer Nachricht von einem blockierten Benutzer schreiben und auch sagen, wo sie abgelegt werden soll dieser Code.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/wx/r6/el/wxr6el7uy7ed5dhp2fexr-9yhli.png"></a><br>
<sub><i><font style="vertical-align: inherit;"></font></i></sub><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich nehme an, dass sich der Auszahlungsmechanismus des Telegramms selbst nicht plötzlich ändern wird. </font><font style="vertical-align: inherit;">Wenn ich den Client aktualisiere, lade ich einfach die aktualisierte Version vom Github herunter und füge diese Zeile vor dem Kompilieren erneut mit einer Sperre hinzu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: Wie ich am Anfang des Artikels erwähnt habe, </font><font style="vertical-align: inherit;">erschien </font><font style="vertical-align: inherit;">in den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kommentaren</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eine funktionierende Version des Codes. </font><font style="vertical-align: inherit;">Ich bringe es direkt zum Artikel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Teil des Codes ersetzt den Text durch eine andere Nachricht. </font><font style="vertical-align: inherit;">Dies ist notwendig, weil </font><font style="vertical-align: inherit;">Dieser Text wird in Anführungszeichen angezeigt, wenn ein anderer Benutzer auf den blockierten antwortet, oder links im Chatfenster, wo die neuesten Nachrichten in Gruppenchats angezeigt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Datei History_Message.cpp finden wir die Funktion genau an der gleichen Stelle wie im obigen Screenshot:</font></font><br>
<br>
<pre><code class="cpp hljs">HistoryMessage::HistoryMessage(<font></font>
	not_null&lt;History*&gt; history,<font></font>
	<span class="hljs-keyword">const</span> MTPDmessage &amp;data,<font></font>
	MTPDmessage_ClientFlags clientFlags)<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und innen ersetzen wir den Originaltext:</font></font><br>
<br>
<pre><code class="cpp hljs">	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> media = data.vmedia()) {<font></font>
		setMedia(*media);<font></font>
	}<font></font>
	setText({<font></font>
		TextUtilities::Clean(qs(data.vmessage())),<font></font>
		Api::EntitiesFromMTP(data.ventities().value_or_empty())<font></font>
	});</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für Fortgeschrittene:</font></font><br>
<br>
<pre><code class="cpp hljs"><font></font>
	UserId from = data.vfrom_id().value_or_empty();<font></font>
	PeerData* pd = from ? history-&gt;owner().user(from) : history-&gt;peer;<font></font>
	<span class="hljs-keyword">if</span> (pd-&gt;isUser() &amp;&amp; pd-&gt;asUser()-&gt;isBlocked()) {<font></font>
		setText({<font></font>
			TextUtilities::Clean(qs(<span class="hljs-string">"The message from blocked user"</span>)),<font></font>
			Api::EntitiesFromMTP(data.ventities().value_or_empty())<font></font>
			});<font></font>
	}<font></font>
	<span class="hljs-keyword">else</span> {
		<span class="hljs-comment">//   442-448:</span>
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> media = data.vmedia()) {<font></font>
			setMedia(*media);<font></font>
		}<font></font>
		setText({<font></font>
			TextUtilities::Clean(qs(data.vmessage())),<font></font>
			Api::EntitiesFromMTP(data.ventities().value_or_empty())<font></font>
			});<font></font>
	}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie nur diesen Code verwenden, werden die alten Nachrichten blockierter Benutzer angezeigt, die neuen jedoch nicht mehr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher </font><font style="vertical-align: inherit;">
fügt </font><font style="vertical-align: inherit;">der zweite Teil der in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kommentar </font><font style="vertical-align: inherit;">erwähnten Lösung </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Datei history_view_message.cpp den folgenden Code hinzu:</font></font><br>
<br>
<pre><code class="cpp hljs">PeerData* pd = item-&gt;from();
<span class="hljs-keyword">if</span> (pd-&gt;isUser() &amp;&amp; pd-&gt;asUser()-&gt;isBlocked()) <span class="hljs-keyword">return</span>;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: In der neuen Version schwört der Compiler auf eine leere Rückgabe, daher habe ich die Ausgabe von QSize (0,0) hinzugefügt.</font></font><br>
<pre><code class="cpp hljs">PeerData* pd = item-&gt;from();
<span class="hljs-keyword">if</span> (pd-&gt;isUser() &amp;&amp; pd-&gt;asUser()-&gt;isBlocked()) <span class="hljs-keyword">return</span> QSize(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unmittelbar nach dem Deklarieren der </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elementvariablen </font><font style="vertical-align: inherit;">in den Funktionen </font><font style="vertical-align: inherit;">QSize Message :: performCountOptimalSize () </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
void Message :: draw ( </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Painter &amp; p, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 QRect-Clip, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 TextSelection-Auswahl, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 crl :: time ms) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
werden die Nachrichten von blockierten Benutzern im Chat-Protokoll vollständig verhindert. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein wichtiger Zusatz:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wenn plötzlich die Nachrichten des blockierten Benutzers immer noch sichtbar sind - Sie müssen nur auf sein Profil klicken, werden die Informationen, die er blockiert, aktualisiert und alle seine Nachrichten verschwinden aus dem Chat-Protokoll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für diejenigen, die es wünschen, fügte er Dropbox eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kompilierte Anwendung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">.</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
UPD: Eine "Site" zum Verteilen von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sites.google.com/view/ignoram erstellt</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de487512/">https://habr.com/ru/post/de487512/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de487498/index.html">Auswählen einer Datenbank für die Analyse</a></li>
<li><a href="../de487502/index.html">Abfragen von Druckgeräten mit SNMP, während der Drucker druckt</a></li>
<li><a href="../de487504/index.html">Bis zum Tag der russischen Wissenschaft werden die besten Leistungen der einheimischen Wissenschaftler von 2019 benannt</a></li>
<li><a href="../de487508/index.html">Messen der Entfernung zu Objekten mit RealSense D435</a></li>
<li><a href="../de487510/index.html">Radioaktive Produkte. Gammaspektrometer. Teil 1</a></li>
<li><a href="../de487514/index.html">Jährlicher Bericht zur Netzwerksicherheit und -verfügbarkeit von Qrator Labs</a></li>
<li><a href="../de487516/index.html">Jagdtechniken und -taktiken von Angreifern, die Prefetch-Dateien verwenden</a></li>
<li><a href="../de487518/index.html">Radioaktive Produkte. Gammaspektrometer. Teil 2</a></li>
<li><a href="../de487522/index.html">Wir lassen das Terminal fliegen (Teil 1)</a></li>
<li><a href="../de487524/index.html">Warum braucht ein Hardware-Startup-Hackathon?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>