<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌌 🤳🏿 🙍🏽 使用する価値のあるPython 3の機能 👨🏿‍🏫 🙇🏻 🧔🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="多くのプログラマは、Python 2のサポートが間もなく終了するため、Pythonの2番目のバージョンから3番目のバージョンに切り替え始めました。私たちが翻訳を公開した記事の著者は、彼が見たPython 3コードの大部分は、Python 2で書かれた角括弧付きのコードのように見えることを指摘していま...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>使用する価値のあるPython 3の機能</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/452564/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多くのプログラマは、Python 2のサポートが間もなく終了するため、Pythonの2番目のバージョンから3番目のバージョンに切り替え始め</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私たちが翻訳を公開した記事の著者は、彼が見たPython 3コードの大部分は、Python 2で書かれた角括弧付きのコードのように見える</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ことを指摘してい</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ここでは、Python 3を使用するユーザーのみが利用できる優れた機能のいくつかの例を示します。彼は、これらの機能がそれらについて学ぶ人々の生活を楽にすることを期待しています。</font><font style="vertical-align: inherit;">
この記事のすべての例は、Python 3.7を使用して記述されています。</font><font style="vertical-align: inherit;">各機能の説明には、その使用に必要なPythonの最小バージョンに関する情報が含まれています。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/kj/jh/pd/kjjhpdvsl0z0f6_hg3esdfhbnbe.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">書式文字列（3.6以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
文字列を使用しないと、あらゆるプログラミング言語で有用な何かを書くことは困難です。</font><font style="vertical-align: inherit;">しかし、文字列を効果的に使用するには、開発者が便利なツールを必要としています。</font><font style="vertical-align: inherit;">安心感を失わずに複雑な構造で操作できるようなツール。</font><font style="vertical-align: inherit;">ほとんどのPython開発者はこの方法を使用します</font></font><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">user = <span class="hljs-string">"Jane Doe"</span>
action = <span class="hljs-string">"buy"</span>
log_message = <span class="hljs-string">'User {} has logged in and did an action {}.'</span>.format(<font></font>
 &nbsp;user,<font></font>
 &nbsp;action<font></font>
)<font></font>
print(log_message)<font></font>
<span class="hljs-comment"># User Jane Doe has logged in and did an action buy.</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python 3は、メソッドとともに、</font></font><code>format</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォーマット文字列（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f-strings</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、f-strings）を</font><font style="vertical-align: inherit;">サポートします</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これらは、さまざまな文字列操作を実行するための柔軟なツールです。</font><font style="vertical-align: inherit;">以下は、フォーマット文字列を使用して書き換えられた前の例です。</font></font><br>
<br>
<pre><code class="python hljs">user = <span class="hljs-string">"Jane Doe"</span>
action = <span class="hljs-string">"buy"</span>
log_message = <span class="hljs-string">f'User <span class="hljs-subst">{user}</span> has logged in and did an action <span class="hljs-subst">{action}</span>.'</span><font></font>
print(log_message)<font></font>
<span class="hljs-comment"># User Jane Doe has logged in and did an action buy.</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pathlibモジュール（3.4以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォーマット文字列は優れた技術ですが、ファイルパスなどの一部の行を操作するために、それらの操作を大幅に簡略化する特別なツールが作成されています。</font><font style="vertical-align: inherit;">Python 3には</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pathlib</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font><font style="vertical-align: inherit;">があり</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。これは、ファイルパスを操作するための便利な抽象化です。</font><font style="vertical-align: inherit;">問題を解決するためのこのモジュールの有用性がまだわからない場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資料</font><font style="vertical-align: inherit;">をご覧ください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<font></font>
root = Path(<span class="hljs-string">'post_sub_folder'</span>)<font></font>
print(root)<font></font>
<span class="hljs-comment"># post_sub_folder</span>
path = root / <span class="hljs-string">'happy_user'</span>
<span class="hljs-comment">#   </span><font></font>
print(path.resolve())<font></font>
<span class="hljs-comment"># /home/weenkus/Workspace/Projects/DataWhatNow-Codes/how_your_python3_should_look_like/post_sub_folder/happy_user</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ注釈（3.5以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらが良いですか-静的または動的なタイピング？</font><font style="vertical-align: inherit;">おそらく、ほとんどすべてのプログラマーがこの難しい質問に独自の答えを持っています。</font><font style="vertical-align: inherit;">読者がプログラムをどのように類型化するかを決めるのは読者に任せます。</font><font style="vertical-align: inherit;">しかし、少なくともPython 3が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型注釈を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サポートしていることを誰もが知っているのは良いことだと思います</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sentence_has_animal</span>(<span class="hljs-params">sentence: str</span>) -&gt; bool:</span>
 &nbsp;<span class="hljs-keyword">return</span> <span class="hljs-string">"animal"</span> <span class="hljs-keyword">in</span> sentence<font></font>
sentence_has_animal(<span class="hljs-string">"Donald had a farm without animals"</span>)
<span class="hljs-comment"># True</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">送金（3.4+）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python 3は、このクラスのおかげで、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">列挙型を操作</font></a></font><code>Enum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するための単純なメカニズムを</font><font style="vertical-align: inherit;">サポート</font><font style="vertical-align: inherit;">してい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">列挙型は、定数のリストを格納するのに便利です。</font><font style="vertical-align: inherit;">それ以外の場合、定数はコード内にランダムに散在します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> enum <span class="hljs-keyword">import</span> Enum, auto
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Monster</span>(<span class="hljs-params">Enum</span>):</span><font></font>
 &nbsp;&nbsp;&nbsp;ZOMBIE = auto()<font></font>
 &nbsp;&nbsp;&nbsp;WARRIOR = auto()<font></font>
 &nbsp;&nbsp;&nbsp;BEAR = auto()<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
print(Monster.ZOMBIE)<font></font>
<span class="hljs-comment"># Monster.ZOMBIE</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 3の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
から、</font><font style="vertical-align: inherit;">列挙は、一意の不変の値に関連付けられたシンボリック名（メンバー）のコレクションであることがわかります。</font><font style="vertical-align: inherit;">単一のリストのメンバーは、同一性について比較できます。</font><font style="vertical-align: inherit;">列挙はバイパスできます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> monster <span class="hljs-keyword">in</span> Monster:<font></font>
 &nbsp;&nbsp;&nbsp;print(monster)<font></font>
<span class="hljs-comment"># Monster.ZOMBIE</span>
<span class="hljs-comment"># Monster.WARRIOR</span>
<span class="hljs-comment"># Monster.BEAR</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み込みLRUキャッシュ（3.2以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、キャッシングメカニズムは、ほとんどすべてのソフトウェアおよびハードウェアシステムで使用されています。</font><font style="vertical-align: inherit;">Python 3 </font><font style="vertical-align: inherit;">は、LRUキャッシングアルゴリズムを実装する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lru_cache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコレーター</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最も最近使用されていない</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">使用</font></a><font style="vertical-align: inherit;">して、キャッシングを大幅に簡素化し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下はフィボナッチ数を計算する関数です。</font><font style="vertical-align: inherit;">この関数は、再帰呼び出し中に何度も同じ操作を実行する必要があります。</font><font style="vertical-align: inherit;">その結果、キャッシュによってパフォーマンスを向上できることがわかりました。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> time
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fib</span>(<span class="hljs-params">number: int</span>) -&gt; int:</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> number == <span class="hljs-number">0</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> number == <span class="hljs-number">1</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> fib(number<span class="hljs-number">-1</span>) + fib(number<span class="hljs-number">-2</span>)<font></font>
start = time.time()<font></font>
fib(<span class="hljs-number">40</span>)<font></font>
print(<span class="hljs-string">f'Duration: <span class="hljs-subst">{time.time() - start}</span>s'</span>)
<span class="hljs-comment"># Duration: 30.684099674224854s</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを使用して</font></font><code>lru_cache</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この関数を最適化します（この最適化手法は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoization</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">その結果、以前は秒単位で測定されていた関数の実行時間は、ナノ秒単位で測定されるようになりました。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache
<span class="hljs-meta">@lru_cache(maxsize=512)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">fib_memoization</span>(<span class="hljs-params">number: int</span>) -&gt; int:</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> number == <span class="hljs-number">0</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> number == <span class="hljs-number">1</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> fib_memoization(number<span class="hljs-number">-1</span>) + fib_memoization(number<span class="hljs-number">-2</span>)<font></font>
start = time.time()<font></font>
fib_memoization(<span class="hljs-number">40</span>)<font></font>
print(<span class="hljs-string">f'Duration: <span class="hljs-subst">{time.time() - start}</span>s'</span>)
<span class="hljs-comment"># Duration: 6.866455078125e-05s</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反復可能なオブジェクトの解凍（3.0以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反復可能なオブジェクトを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンパック</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
するとき</font><font style="vertical-align: inherit;">は、名前の前にアスタリスクが付いた変数を使用できます。</font><font style="vertical-align: inherit;">他の変数に収まらないものはすべて、そのような変数に入ります。</font><font style="vertical-align: inherit;">したがって、次の例では、変数</font></font><code>head</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>tail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドは、コマンドによって生成されたリストから最初と最後の値を入力し</font></font><code>range(5)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の値と最後の値の間にあるすべてのものが</font><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">に入り</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">head, *body, tail = range(<span class="hljs-number">5</span>)<font></font>
print(head, body, tail)<font></font>
<span class="hljs-comment"># 0 [1, 2, 3] 4</span>
py, filename, *cmds = <span class="hljs-string">"python3.7 script.py -n 5 -l 15"</span>.split()<font></font>
print(py)<font></font>
print(filename)<font></font>
print(cmds)<font></font>
<span class="hljs-comment"># python3.7</span>
<span class="hljs-comment"># script.py</span>
<span class="hljs-comment"># ['-n', '5', '-l', '15']</span>
first, _, third, *_ = range(<span class="hljs-number">10</span>)<font></font>
print(first, third)<font></font>
<span class="hljs-comment"># 0 2</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データクラス（3.7以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python 3では</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データクラスが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">導入され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">彼らはプログラマに行動の自由の多くを与えます。</font><font style="vertical-align: inherit;">これらは、ボイラープレートコードの量を減らすために使用できます。</font><font style="vertical-align: inherit;">実際、デコレータはや</font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの特別なメソッドを自動的に生成</font></font><code>__init__()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code>__repr__()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">対応する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提案</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の公式テキストでは、</font><font style="vertical-align: inherit;">「デフォルト値を持つ可変の名前付きタプル」として説明されています。</font><font style="vertical-align: inherit;">以下は、デコレータを使用せずにクラスを作成する例です</font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Armor</span>:</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, armor: float, description: str, level: int = <span class="hljs-number">1</span></span>):</span><font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.armor = armor<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.level = level<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.description = description<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">power</span>(<span class="hljs-params">self</span>) -&gt; float:</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> self.armor * self.level<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
armor = Armor(<span class="hljs-number">5.2</span>, <span class="hljs-string">"Common armor."</span>, <span class="hljs-number">2</span>)<font></font>
armor.power()<font></font>
<span class="hljs-comment"># 10.4</span><font></font>
print(armor)<font></font>
<span class="hljs-comment"># &lt;__main__.Armor object at 0x7fc4800e2cf8&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は同じですが、既に使用して書かれてい</font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> dataclasses <span class="hljs-keyword">import</span> dataclass
<span class="hljs-meta">@dataclass</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Armor</span>:</span><font></font>
 &nbsp;&nbsp;&nbsp;armor: float<font></font>
 &nbsp;&nbsp;&nbsp;description: str<font></font>
 &nbsp;&nbsp;&nbsp;level: int = <span class="hljs-number">1</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">power</span>(<span class="hljs-params">self</span>) -&gt; float:</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> self.armor * self.level<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
armor = Armor(<span class="hljs-number">5.2</span>, <span class="hljs-string">"Common armor."</span>, <span class="hljs-number">2</span>)<font></font>
armor.power()<font></font>
<span class="hljs-comment"># 10.4</span><font></font>
print(armor)<font></font>
<span class="hljs-comment"># Armor(armor=5.2, description='Common armor.', level=2)</span></code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__init__.pyファイルなしのパッケージフォルダーのサポート（3.3以降）</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pythonコードを構成する1つの方法は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッケージ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用することです</font><font style="vertical-align: inherit;">（パッケージは、ファイルを含むフォルダーに配置されます</font></font><code>__init__.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">以下は公式ドキュメントの例です：</font></font><br>
<br>
<pre><code class="python hljs">sound/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__.py &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  sound<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formats/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wavread.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wavwrite.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aiffread.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aiffwrite.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auread.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auwrite.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effects/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;surround.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reverse.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filters/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equalizer.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vocoder.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;karaoke.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python 2を使用する場合、例で言及されている各フォルダーにはファイルが必要です</font></font><code>__init__.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このファイルのおかげで、フォルダーはPythonパッケージとして認識されます。</font><font style="vertical-align: inherit;">Python 3では、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implicit Namespace Packages</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能の登場により、</font><font style="vertical-align: inherit;">これらのファイルのようなフォルダーは不要になりました。</font></font><br>
<br>
<pre><code class="python hljs">sound/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__init__.py &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  sound<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formats/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wavread.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wavwrite.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aiffread.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aiffwrite.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auread.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auwrite.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effects/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;surround.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reverse.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filters/ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;equalizer.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vocoder.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;karaoke.py<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、すべてがそれほど単純ではないことに注意してください。</font><font style="vertical-align: inherit;">つまり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式仕様</font><font style="vertical-align: inherit;">によれば</font><font style="vertical-align: inherit;">、ファイル</font></font><code>__init__.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は通常のパッケージでも必要です。</font><font style="vertical-align: inherit;">フォルダーから削除すると、パッケージはいわゆる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前空間パッケージ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">変わり</font><font style="vertical-align: inherit;">、追加の制限が適用されます。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、Python 3の興味深い機能のすべてを説明しているわけではありませんが、ここで役立つものを見つけていただければ幸いです。</font><font style="vertical-align: inherit;">サンプルコードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリにあります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読者の皆様！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここでリストに追加するPython 3の機能は何ですか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja452552/index.html">GradleプロジェクトでScalaをクロスコンパイルする</a></li>
<li><a href="../ja452556/index.html">先週のフロントエンドの世界からの新鮮な食材のダイジェストNo. 365（2019年5月13日〜19日）</a></li>
<li><a href="../ja452558/index.html">XiaomiのBLE温度計からデータを取得する方法</a></li>
<li><a href="../ja452560/index.html">PHPダイジェストNo. 156（2019年5月6〜20日）</a></li>
<li><a href="../ja452562/index.html">クリーンでスケーラブルなJavaScriptコードの作成：12のヒント</a></li>
<li><a href="../ja452566/index.html">初心者のためのNode.js：ファイル操作の基本</a></li>
<li><a href="../ja452568/index.html">React 16+の新機能の詳細分析、パート1：一般情報</a></li>
<li><a href="../ja452570/index.html">Linux Install Fest-側面図</a></li>
<li><a href="../ja452572/index.html">MK-161のEFORTH：データ構造</a></li>
<li><a href="../ja452576/index.html">ITの内向性について</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>