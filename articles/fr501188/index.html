<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🎨 👦🏻 👩‍👦‍👦 Comment traiter l'imagerie satellite avec Sen2Cor 🧓🏾 💤 🧐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sen2Cor - un programme de traitement d'images prises à partir du satellite Sentinel-2. L'article décrit comment l'installer, l'exécuter et le configur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment traiter l'imagerie satellite avec Sen2Cor</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501188/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sen2Cor - un programme de traitement d'images prises à partir du satellite Sentinel-2. </font><font style="vertical-align: inherit;">L'article décrit comment l'installer, l'exécuter et le configurer.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/51/cd/2o/51cd2oxaws3nq4wtevldzstck-e.jpeg" alt="Imagerie satellite avant et après traitement avec Sen2Cor"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la magistrature, j'avais besoin de faire une correction atmosphérique des images du satellite Sentinel-2. </font><font style="vertical-align: inherit;">Master en écologie, il était donc possible de ne pas se plonger dans la physique et les mathématiques, mais d'utiliser un outil prêt à l'emploi. </font><font style="vertical-align: inherit;">Un tel outil a été trouvé - Sen2Cor.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que Sentinel-2</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Sentinel-2</a> —  ,     (ESA)  2015 .   13 ,           .   —  ,     .     100  100 .    — 10   .    —       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Copernicus Open Access Hub</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">USGS Earth Explorer</a>.<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le problème est qu'il n'y a pas d'instructions claires pour Sen2Cor. Les auteurs de manuels de géoinformatique ne rampent pas dans des jungles telles que le travail avec des programmes spécifiques, et les auteurs d'articles scientifiques, au contraire, pensent que la correction d'image est une partie trop simple de la technique, donc ils ne la décrivent pas en détail. Sur les sites "pour les nuls" (et pas tout à fait pour les nuls), Sen2Cor n'est pas non plus écrit. La documentation officielle prête à confusion: il suffit de dire que la section «Installation» de la 26e page du «Guide de l'utilisateur» fait immédiatement référence à la 60e page des Notes de version. Il m'a fallu un certain temps pour le comprendre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai décidé d'écrire un guide compréhensible pour l'installation, le démarrage et la configuration de Sen2Cor. Le manuel s'adresse aux biologistes, écologistes, spécialistes agricoles et à tous ceux qui peuvent avoir besoin d'un traitement d'image satellite, mais pour qui ce n'est pas la tâche principale. En fait, je partage ma propre expérience. Je ne garantis pas l'exactitude et l'exhaustivité absolues. Les spécialistes de la géoinformatique, je pense, me conseilleront quelque chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strictement parlant, Sen2Cor fait non seulement une correction atmosphérique, mais aussi une correction pour l'angle du Soleil et du terrain, ainsi qu'une classification thématique (classification des scènes), mais pour moi le plus important était la correction atmosphérique. Par conséquent, pour plus de simplicité, j'écris parfois «correction atmosphérique» au lieu de «traitement», bien que ce soit inexact.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sen2Cor fonctionne en trois modes: en tant qu'application console autonome, en tant que plugin dans Sentinel-2 Toolbox et en tant qu'application console utilisée dans PDGS (Payload Data Ground Segment). PDGS est un centre de données au sol reçu des satellites. Il est en Italie dans un institut de recherche. Théoriquement, vous pouvez exécuter Sen2Cor dans le même mode dans lequel il est lancé dans le centre de données, mais pour exécuter, vous avez besoin de données qui ne peuvent tout simplement pas être téléchargées sur Internet, nous ne considérerons donc pas cette option. Sentinel-2 Tolobox est également contourné, car je n'ai pas travaillé avec ce programme. Il a une interface graphique, donc je pense que comprendre son travail n'est pas difficile. Ainsi, cet article décrit comment utiliser Sen2Cor en mode console.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sen2Cor fonctionne sur Windows 64 bits, MacOS et Linux. </font><font style="vertical-align: inherit;">J'ai Linux, donc je vais montrer les commandes en utilisant Linux comme exemple. </font><font style="vertical-align: inherit;">Cependant, la seule différence réside dans les programmes d'installation et dans les chemins d'accès aux fichiers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sen2Cor nécessite 4 Go de RAM. </font><font style="vertical-align: inherit;">S'il est inférieur, il démarrera, mais peut se bloquer en cours de traitement. </font><font style="vertical-align: inherit;">La consommation de RAM dépend de la résolution des images prises, donc si la mémoire est petite et que le programme donne une erreur à cause de cela, alors vous pouvez commencer le traitement avec une résolution inférieure. </font><font style="vertical-align: inherit;">La procédure à suivre est décrite ci-dessous. </font><font style="vertical-align: inherit;">Il n'y a pas d'exigences strictes similaires pour le processeur, mais plus le processeur est faible, plus le traitement prendra du temps.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devez télécharger le programme d'installation et l'exécuter. Sen2Cor est écrit en Python, cependant, l'interpréteur et tous les packages nécessaires sont dans le programme d'installation, vous n'avez donc pas besoin d'installer Python vous-même et de configurer l'environnement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que nous ayons un utilisateur utilisateur avec un répertoire personnel </font></font><code>/home/user</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Créez un dossier dans le répertoire personnel </font></font><code>spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans lequel nous travaillerons avec les images. Le chemin complet vers le dossier sera </font></font><code>/home/user/spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, téléchargez et exécutez le programme d'installation. Ouvrez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la page Sen2Cor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le site de l'instrument de l'Agence spatiale européenne. Il existe deux versions du programme: 2.5.5 et 2.8. Installer 2.8 est mieux: il consomme moins de RAM et contient moins d'erreurs. La version 2.5.5 peut être nécessaire si vous devez traiter des photos prises selon les anciennes spécifications. Cliquez sur "Sen2Cor v2.8". À la fin de la page dans la section «Installateurs autonomes» se trouvent des liens pour télécharger les installateurs. Téléchargez celui qui convient à notre système d'exploitation. Dans ce cas, il s'agit du "programme d'installation Linux: Sen2Cor-02.08.00-Linux64.run". Enregistrez le fichier dans </font></font><code>/home/user/spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, ouvrez la console, accédez au répertoire </font></font><code>spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et exécutez le programme d'installation.</font></font><br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in">cd</span> ~/spaceshots<font></font>
$ ./Sen2Cor-02.08.00-Linux64.run<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par défaut, le programme est installé dans le répertoire courant. </font><font style="vertical-align: inherit;">Un dossier y est créé </font></font><code>Sen2Cor-02.08.00-Linux64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, où tous les fichiers du programme sont extraits. </font><font style="vertical-align: inherit;">Dans l'ensemble, l'installation se résume à décompresser l'archive. </font><font style="vertical-align: inherit;">De plus, dans le répertoire est créé un dossier pour les </font><font style="vertical-align: inherit;">fichiers de configuration et les </font><font style="vertical-align: inherit;">journaux: </font></font><code>/home/user/sen2cor/2.8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il n'y a pas d'erreur, une inscription devrait apparaître dans la console </font></font><code>«Congratulations, Installation successful...»</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et une suggestion pour tester l'installation. </font><font style="vertical-align: inherit;">Faisons un test:</font></font><br>
<br>
<pre><code class="bash hljs">$ /home/user/spaceshots/Sen2Cor-02.08.00-Linux64/bin/L2A_Process -h </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette commande </font></font><code>/home/user/spaceshots/Sen2Cor-02.08.00-Linux64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contient le répertoire où Sen2Cor a été installé. </font><font style="vertical-align: inherit;">Le dossier </font></font><code>bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contient les principaux fichiers exécutables du programme, y compris le fichier principal </font></font><code>L2A_Process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">L'option </font></font><code>-h</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indique que vous devez afficher la page d'aide. </font><font style="vertical-align: inherit;">À la suite de l'exécution de la commande, les éléments suivants devraient apparaître dans la console:</font></font><br>
<br>
<pre><code class="bash hljs">usage: L2A_Process.py [-h] [--mode MODE] [--resolution {10,20,60}]<font></font>
                      [--datastrip DATASTRIP] [--tile TILE]<font></font>
                      [--output_dir OUTPUT_DIR] [--work_dir WORK_DIR]<font></font>
                      [--img_database_dir IMG_DATABASE_DIR]<font></font>
                      [--res_database_dir RES_DATABASE_DIR]<font></font>
                      [--processing_centre PROCESSING_CENTRE]<font></font>
                      [--archiving_centre ARCHIVING_CENTRE]<font></font>
                      [--processing_baseline PROCESSING_BASELINE] [--raw]<font></font>
                      [--tif] [--sc_only] [--cr_only] [--debug]<font></font>
                      [--GIP_L2A GIP_L2A] [--GIP_L2A_SC GIP_L2A_SC]<font></font>
                      [--GIP_L2A_AC GIP_L2A_AC] [--GIP_L2A_PB GIP_L2A_PB]<font></font>
                      input_dir<font></font>
<font></font>
Sentinel-2 Level 2A Processor (Sen2Cor). Version: 2.8.0, created: 2019.02.20,<font></font>
supporting Level-1C product version 14.2 - 14.5.<font></font>
<font></font>
…<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il apparaissait, l'installation s'est bien déroulée et le programme est prêt à l'emploi. </font><font style="vertical-align: inherit;">La seule chose qui ne fait toujours pas de mal à faire est de simplifier le lancement du programme. </font><font style="vertical-align: inherit;">Alors que vous devez spécifier le chemin complet du fichier: </font></font><code>/home/user/spaceshots/Sen2Cor-02.08.00-Linux64/bin/L2A_Process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ce n'est pas confortable. </font><font style="vertical-align: inherit;">Il est beaucoup plus facile d'écrire simplement </font></font><code>L2A_Process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cependant, si vous le faites maintenant, une erreur apparaîtra:</font></font><br>
<br>
<pre><code class="bash hljs">$ L2A_Process<font></font>
bash: L2A_Process:   <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour corriger l'erreur et exécuter la commande Sen2Cor on </font></font><code>L2A_Process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous devez ajouter une commande au fichier </font></font><code>.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui se trouve dans le répertoire personnel (dans notre cas, à l'adresse </font></font><code>/home/user/.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Il s'agit d'un fichier caché, donc avant de l'ouvrir, vous devez activer l'affichage des fichiers cachés dans le gestionnaire de fichiers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajoutez les </font></font><code>.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lignes suivantes à la </font><font style="vertical-align: inherit;">fin du fichier </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># Sen2Cor processor (v. 2.8.0)</span>
<span class="hljs-built_in">source</span> /home/user/spaceshots/Sen2Cor-02.08.00-Linux64/L2A_Bashrc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première ligne est un commentaire pour se rappeler pourquoi la seconde est nécessaire. </font><font style="vertical-align: inherit;">A chaque démarrage du système, la deuxième ligne exécute le script contenu dans le fichier </font></font><code>L2A_Bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ce script modifie certaines variables d'environnement afin que la commande </font></font><code>L2A_Process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devienne accessible de partout, et vous n'avez pas besoin de spécifier le chemin d'accès complet à celle-ci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que les modifications </font></font><code>.bashrc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prennent effet, vous devez revenir à la console et exécuter la commande</font></font><br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in">source</span> ~/.bashrc</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez également changer l'endroit où le programme sera installé. </font><font style="vertical-align: inherit;">Pour ce faire, vous devez spécifier l'option lors du démarrage du programme d'installation </font></font><code>--target</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par exemple, la commande</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># ./Sen2Cor-02.08.00-Linux64.run --target /usr/share/sen2cor</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
va installer Sen2Cor dans </font></font><code>/usr/share/sen2cor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous exécutons la commande à partir du superutilisateur, car un utilisateur ordinaire, en règle générale, ne peut pas écrire de fichiers </font></font><code>/usr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cependant, dans ce cas, vous devrez alors exécuter Sen2Cor avec les droits de superutilisateur ou modifier les droits d'accès en </font></font><code>/usr/share/sen2cor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment installer sur MacOS et Windows</font></font></b>
                        <div class="spoiler_text"> MacOS    ,   Linux.<br>
<br>
 Windows  —  zip-,   .    <code>L2A_Process</code>  <code>L2A_Process.bat</code>,       <code>bin</code>,     ,    :<br>
<br>
<pre><code class="bash hljs">C:\Users\user\spaceshots\Sen2Cor-02.08.00-Linux64/L2A_Process.bat -h</code></pre><br>
      Windows       : <code>:\Users\user\sen2cor\2.8</code>.      .<br>
<br>
       ,    <code>L2A_Process.bat</code>,  Windows      <code>L2A_Bashrc.bat</code>  <code>PATH</code>.<br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traitement d'image</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons donc installé Sen2Cor et l'avons exécuté sur commande </font></font><code>L2A_Process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Faites maintenant une correction atmosphérique. Supposons que nous ayons déjà téléchargé et décompressé une image satellite dans </font></font><code>/home/user/spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. J'ai pris une photo de la zone à l'ouest d'Ekaterinbourg le 27 juillet 2018. Le fichier d'instantané s'appelle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1C_T40VFJ_A016162_20180727T071939.zip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Après le déballage, le dossier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S2A_MSIL1C_20180727T071621_N0206_R006_T40VFJ_20180727T092607.SAFE est apparu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ensuite, pour la correction atmosphérique, vous devez exécuter la commande suivante:</font></font><br>
<br>
<pre><code class="bash hljs">$ L2A_Process S2A_MSIL1C_20180727T071621_N0206_R006_T40VFJ_20180727T092607.SAFE/</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir appuyé sur Entrée, vous pouvez vous détendre, car le traitement prend beaucoup de temps (sur Yandex.Cloud avec Intel Cascade Lake et une part garantie de 5% de CPU - environ une heure). </font><font style="vertical-align: inherit;">Sen2Cor affiche des informations sur la progression dans la console, de sorte que vous comprendrez à peu près ce que fait le programme en ce moment.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journal de démarrage dans la console</font></font></b>
                        <div class="spoiler_text"><pre><code class="bash hljs">Sentinel-2 Level 2A Processor (Sen2Cor). Version: 2.8.0, created: 2019.02.20, supporting Level-1C product version 14.2 - 14.5 started ...<font></font>
Product version: 14.5<font></font>
Operation mode: TOOLBOX<font></font>
Processing baseline: 99.99<font></font>
Progress[%]:  0.00 : Generating datastrip metadata<font></font>
L1C datastrip found, L2A datastrip successfully generated<font></font>
Selected resolution: 60 m<font></font>
Progress[%]: 1.13 : PID-4202, L2A_ProcessTile: processing with resolution 60 m, elapsed time[s]: 2.299, total: 0:00:10.789933<font></font>
Progress[%]: 1.13 : PID-4202, L2A_ProcessTile: start of pre processing, elapsed time[s]: 0.000, total: 0:00:10.790432<font></font>
Progress[%]: 1.27 : PID-4202, L2A_Tables: start import, elapsed time[s]: 0.278, total: 0:00:11.068694<font></font>
Progress[%]: 1.69 : PID-4202, L2A_Tables: band B01 imported, elapsed time[s]: 0.851, total: 0:00:11.919562<font></font>
Progress[%]: 9.39 : PID-4202, L2A_Tables: band B02 imported, elapsed time[s]: 15.618, total: 0:00:27.537532<font></font>
Progress[%]: 17.16 : PID-4202, L2A_Tables: band B03 imported, elapsed time[s]: 15.743, total: 0:00:43.280800<font></font>
…</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque le programme a fini de fonctionner, à </font></font><code>/home/user/spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">côté de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S2A_MSIL1C_20180727T071621_N0206_R006_T40VFJ_20180727T092607.SAFE/</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un autre dossier avec un nom très similaire devrait apparaître - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S2A_MSIL2A_20180727T071621_N9999_R006_T40VF08 pour</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
lequel nous avons maintenant le programme pour lequel nous avons. Pour ce faire, considérez la structure des images Sentinel-2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'image satellite Sentinel-2 est une archive zip de plusieurs centaines de mégaoctets. Dans notre cas, l'archive s'appelle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1C_T40VFJ_A016162_20180727T071939.zip</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les informations sont codées sous le nom: niveau de traitement ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1C</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), code de territoire ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T40VFJ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), numéro d'orbite ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A016162</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), la date et l'heure du tournage. À l'intérieur de cette archive, il y a un dossier avec un nom long qui se termine par .SAFE. Dans le dossier * .SAFE, il y a un dossier GRANULE, il y a un autre dossier avec un nom long, à l'intérieur duquel se trouve le dossier IMG_DATA, et il y a 14 images au format jp2. Parmi eux, 13 sont numérotés - leur nom se termine par B01-B12 (plus un de plus avec le numéro B8A). Ce sont des tuiles - des images de la surface de la Terre, prises à des longueurs d’ondes spécifiques. Par exemple, B04 est une image dans la plage rouge et B08 est dans le proche infrarouge, et ensemble ces deux images peuvent être utilisées pour calculer un indice aussi connu que </font></font><abbr title="Indice de végétation par différence normalisée"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NDVI</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le nom de la 14e image se termine par TCI, ce qui signifie True Color Image - il s'agit d'une image en couleur, c'est-à-dire à peu près la même que celle qui se serait produite sur un appareil photo ordinaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sen2Cor reçoit le dossier * .SAFE en tant que données source - c'est lui qui est spécifié comme seul paramètre requis lors du démarrage du programme. Si au lieu du dossier * .SAFE vous spécifiez autre chose, par exemple, l'archive source avec un instantané ou une tuile spécifique, le programme ne démarre pas.</font></font><br>
<br>
<pre><code class="bash hljs">$ L2A_Process T40VFJ_20180727T071621_B04.jp2 <font></font>
Product metadata file cannot be <span class="hljs-built_in">read</span>.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait est que non seulement les tuiles elles-mêmes sont utilisées pour la correction atmosphérique, mais aussi les métadonnées, et qu'elles se trouvent dans les fichiers à l'intérieur du dossier * .SAFE, et non dans les tuiles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le résultat du travail du programme est également un dossier * .SAFE avec une structure similaire: à l'intérieur il y a un dossier GRANULE, à l'intérieur il y a un autre dossier dans lequel se trouve le dossier IMG_DATA, et il y a des tuiles corrigées. Les carreaux sont regroupés par résolution spatiale: ceux avec une résolution spatiale de 10 mètres sont situés dans le dossier R10m, ceux avec une résolution de 20 mètres en R20m et 60 mètres en R60m. Avec certains paramètres, certaines autorisations ne sont pas traitées et les dossiers correspondants ne sont pas créés - plus d'informations ci-dessous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nom du dossier * .SAFE qui en résulte ne diffère du nom d'origine qu'en un seul: au début au lieu de _MSI </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L1C</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_ indiqué _MSI </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L2A</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> _. L1C et L2A sont des codes de niveau de traitement. Le niveau L1C signifie que l'image est traitée au niveau de réflectance du haut de l'atmosphère, c'est-à-dire que les valeurs de pixels dans l'image correspondent à la réflexion enregistrée à la limite supérieure de l'atmosphère - où le satellite vole. Le niveau L2A est traité au niveau de réflectance du bas de l'atmoshpère, c'est-à-dire aux valeurs de réflexion à la surface de la Terre - comme si l'atmosphère était absolument transparente. En réalité, bien sûr, ce n'est pas le cas, et la correction atmosphérique vous permet de supprimer seulement une partie de la distorsion qui se produit lorsque la lumière traverse l'atmosphère, mais en général, les valeurs de réflectance du fond de l'atmosphère sont plus cohérentes avec la réflexion réelle de la surface de la terre que les valeurs du haut de l'atmosphère réflexion.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus des carreaux ajustés, Sen2Cor produit plusieurs autres images: en couleur (TCI), des cartes de la densité optique des aérosols de l'atmosphère (AOT - Aerosol Optical Thickness) et de la teneur en vapeur d'eau (WV - Water Vapor), une carte de classification thématique des types de surface (SC - Classification des scènes). Ils se trouvent également dans le dossier IMG_DATA dans des répertoires pour la résolution spatiale correspondante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez que le dossier avec le résultat du programme soit appelé non * .SAFE, mais d'une manière différente, vous pouvez spécifier le nom vous-même en utilisant l'option </font></font><code>--output_dir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Supposons que nous exécutions Sen2Cor trois fois avec des paramètres différents et que nous voulions enregistrer les résultats dans les dossiers test1, test2 et test3. Ensuite, nous indiquons </font></font><code>--output_dir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">au démarrage:</font></font><br>
<br>
<pre><code class="bash hljs">
$ L2A_Process --output_dir /home/user/spaceshots/test1 S2A_MSIL1C_20180727T071621_N0206_R006_T40VFJ_20180727T092607.SAFE</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- et l'image corrigée apparaîtra dans le catalogue </font></font><code>/home/user/spaceshots/test1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Aux deuxième et troisième départs, nous indiquons </font></font><code>--output_dir /home/user/spaceshots/test2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et, </font><font style="vertical-align: inherit;">respectivement </font></font><code>--output_dir /home/user/spaceshots/test3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une autre option utile </font></font><code>--resolution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il vous permet de définir la résolution spatiale des tuiles qui seront obtenues à la suite du programme. Sen2Cor peut créer des images avec différentes résolutions spatiales - 10, 20 ou 60 mètres par pixel. Par défaut, 10 et 20 mètres sont réalisés. Supposons que nous ayons suffisamment de tuiles avec une résolution de 60 mètres par pixel pour une analyse exploratoire. Ensuite, vous pouvez spécifier la résolution cible en utilisant l'option </font></font><code>--resolution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">$ L2A_Process --resolution 60 S2A_MSIL1C_20180727T071621_N0206_R006_T40VFJ_20180727T092607.SAFE
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'il est lancé avec ces paramètres, Sen2Cor traitera l'image et créera des tuiles ajustées avec une résolution de 60 mètres. </font><font style="vertical-align: inherit;">Contrairement à un lancement standard, le traitement prend beaucoup moins de temps - un peu plus de quatre minutes. </font><font style="vertical-align: inherit;">La consommation de mémoire est également moindre, donc si le démarrage avec une résolution standard s'est terminé par une erreur due au manque de mémoire, vous pouvez spécifier une résolution de 60 mètres. </font><font style="vertical-align: inherit;">Seul le dossier R60m sera dans le dossier IMG_DATA, et à l'intérieur il y aura des tuiles avec une résolution de 60 mètres et quelques autres images: une carte thématique en couleur et une carte du contenu de la vapeur d'eau.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichier de configuration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons traité l'image satellite à l'aide de Sen2Cor en utilisant les paramètres par défaut. La résolution et le dossier d'enregistrement des résultats de travail peuvent être modifiés à l'aide des options </font></font><code>--resolution</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>--output_dir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il existe quelques autres options de ligne de commande, cependant, toutes ne peuvent pas être configurées avec elles. Il existe de nombreux autres paramètres importants dans le traitement, par exemple: la prise en compte de la topographie, la suppression des nuages, l'évaluation de l'état de l'atmosphère. Dans Sen2Cor, ils sont configurés à l'aide du fichier de configuration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous exécutez Sen2Cor et ne spécifiez pas le chemin d'accès au fichier de configuration, comme nous l'avons fait auparavant, le fichier de configuration standard sera utilisé. Le fichier de configuration standard se trouve dans le répertoire personnel - dans notre cas, dans le dossier / </font></font><code>home/user/sen2cor/2.8/cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le fichier s'appelle</font></font><code>L2A_GIPP.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. L2A signifie niveau de traitement, GIPP signifie Ground Image Processing Parameters - paramètres pour le traitement au sol de l'image. Il s'agit d'un fichier xml normal, dans lequel il y a plusieurs sections, et dans les sections il y a des éléments pour différents paramètres. Une explication est écrite directement dans le fichier pour chaque paramètre. De plus, une description détaillée des paramètres est contenue dans la documentation - cependant, elle n'est pas facile à comprendre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez modifier directement le fichier de configuration standard, mais il est préférable de le copier et d'indiquer explicitement lorsque vous démarrez le programme que vous devez utiliser un autre fichier de configuration. Copiez L2A_GIPP.xml dans </font></font><code>/home/user/spaceshots</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, renommez-le en custom.xml et exécutez le programme avec ce fichier de configuration:</font></font><br>
<br>
<pre><code class="bash hljs">$ L2A_Process --GIP_L2A /home/user/spaceshots/custom.xml --resolution 60 S2A_MSIL1C_20180727T071621_N0206_R006_T40VFJ_20180727T092607.SAFE</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que l'option pour le fichier de configuration est appelée </font></font><code>--GIP_L2A</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- avec une lettre "P". </font><font style="vertical-align: inherit;">Comme nous n'avons pas édité le fichier de configuration, le processus et le résultat du programme ne sont pas différents du démarrage avec la configuration par défaut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreux paramètres différents dans le fichier de configuration. </font><font style="vertical-align: inherit;">Examinons certains d'entre eux.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journaux</font></font></h3><br>
<code>Log_Level</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- un paramètre qui détermine le niveau de détail du journal du programme. </font><font style="vertical-align: inherit;">Le journal est affiché dans la console pendant le fonctionnement et est en outre stocké dans le dossier du journal (dans notre cas - </font></font><code>/home/user/sen2cor/2.8/log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">La valeur par défaut est INFO. </font><font style="vertical-align: inherit;">Il n'est généralement pas nécessaire de modifier ce paramètre si vous n'avez pas rencontré d'erreurs dans le programme.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prise en compte du relief et de l'angle du soleil</font></font></h3><br>
<code>DEM_Directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- le dossier dans lequel se trouve la carte d'élévation numérique (DEM - Digital Elevetion Model). </font><font style="vertical-align: inherit;">Le traitement des résultats à l'aide d'une carte d'élévation numérique est généralement plus précis. </font><font style="vertical-align: inherit;">La valeur par défaut est AUCUN, c'est-à-dire que le terrain n'est pas pris en compte. </font><font style="vertical-align: inherit;">Si vous avez votre propre carte d'élévation numérique, indiquez le chemin d'accès. </font><font style="vertical-align: inherit;">Le dossier de DEM doit être au même endroit que les dossiers </font></font><code>cfg</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dans notre cas, dans le répertoire </font></font><code>/home/user/sen2cor/2.8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par conséquent, si vous avez une carte d'élévation numérique, vous devez la placer </font></font><code>/home/user/sen2cor/2.8/dem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et spécifier dem dans DEM_Directory. </font><font style="vertical-align: inherit;">S'il n'est pas là, mais que vous souhaitez toujours l'utiliser, vous pouvez spécifier n'importe quel chemin (par exemple, écrire dem aussi) et configurer le paramètre suivant.</font></font><br>
<br>
<code>DEM_Reference</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- URL à partir de laquelle télécharger le modèle d'élévation numérique, s'il ne se trouve pas dans le dossier spécifié au paragraphe précédent. </font><font style="vertical-align: inherit;">Les développeurs de Sen2Cor suggèrent d'utiliser</font></font><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http: // data_public: GDdci@data.cgiar-csi.org/srtm/tiles/GeoTIFF/</font></font></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Ceci est un lien vers STRM DEM, une carte d'élévation numérique librement distribuée avec une résolution spatiale de 90 mètres. </font><font style="vertical-align: inherit;">Étant donné que l'échelle n'est pas beaucoup plus petite que les images satellites elles-mêmes, ce modèle devrait donner un bon résultat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si Sen2Cor voit </font></font><code>DEM_Directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qu'une valeur autre que NONE </font><font style="vertical-align: inherit;">est </font><font style="vertical-align: inherit;">spécifiée, il essaiera d'ouvrir des fichiers avec un bump map à partir du répertoire spécifié. </font><font style="vertical-align: inherit;">Si les fichiers ne peuvent pas être ouverts, il essaiera de les télécharger à l'URL spécifiée dans </font></font><code>DEM_Reference</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">S'il ne parvient pas à télécharger, un message d'erreur apparaîtra dans le journal et le traitement se poursuivra sans tenir compte du terrain. </font><font style="vertical-align: inherit;">Les fichiers téléchargés à partir de l'URL sont enregistrés dans</font></font><code>DEM_Directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et ne sont pas supprimés une fois le programme terminé. Par conséquent, si vous souhaitez traiter à nouveau la même image avec la même carte d'élévation (par exemple, en modifiant d'autres paramètres de correction), Sen2Cor ne téléchargera pas à nouveau la carte d'élévation numérique, mais utilisera sa copie hors ligne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'option </font></font><code>Generate_DEM_Output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous permet d'obtenir une tuile séparée avec une carte d'élévation numérique à la suite du programme. Le défaut est faux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'option </font></font><code>DEM_Terrain_Correction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">désactive partiellement l'utilisation d'une carte d'élévation numérique: l'élévation continuera d'être prise en compte lors de la classification thématique (SC) et de la construction de la carte AOT, mais pas lors du réglage des valeurs de réflexion à partir de la surface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si DEM n'est pas utilisé, spécifiez le paramètre</font></font><code>Altitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il s'agit de la hauteur moyenne au-dessus du niveau de la mer dans la zone capturée sur l'image. </font><font style="vertical-align: inherit;">La hauteur est indiquée en kilomètres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deux autres paramètres liés à la comptabilité d'élévation sont </font></font><code>BRDF_Correction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>BRDF_Lower_Bound</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">BRDF signifie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fonction de distribution de réflectance bidirectionnelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et signifie une équation qui simule la réflexion de la lumière d'une surface opaque. </font><font style="vertical-align: inherit;">Différentes valeurs </font></font><code>BRDF_Correction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correspondent à différentes valeurs de l'un des coefficients de cette équation. </font><font style="vertical-align: inherit;">Dans la documentation officielle, il est recommandé dans la plupart des cas d'utiliser 21. Il </font></font><code>BRDF_Lower_Bound</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est responsable d'un autre coefficient dans l'équation, et il peut être laissé par défaut, sauf si vous savez exactement pourquoi et pourquoi vous devez le changer.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belle photo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'option </font></font><code>Generate_TCI_Output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">active et désactive la création d'une image en couleur. </font><font style="vertical-align: inherit;">La valeur par défaut est VRAI, mais si une belle image n'est pas nécessaire, vous pouvez sélectionner FAUX.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tenir compte de l'état de l'atmosphère</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les paramètres </font></font><code>Aerosol_Type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Mid_Latitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Ozone_Content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indiquent l'état de l'atmosphère au moment de la fusillade. </font></font><code>Aerosol_Type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut être défini sur le territoire: si le continent, puis RURAL, si l'océan, puis MARINE. </font></font><code>Mid_Latitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">également déterminé par la saison: si en été, puis en été, si en hiver, puis en hiver. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le paramètre </font></font><code>Ozone_Content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indique la teneur en ozone. </font><font style="vertical-align: inherit;">Le contenu en ozone peut être trouvé sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les archives en ligne des archives mondiales de l'ozone et des UV.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sur la carte, vous pouvez trouver la station la plus proche de la zone d'enquête, puis télécharger le jeu de données au bon moment et voir les résultats des mesures le jour du tournage. Cependant, il est impossible d'établir le résultat de mesure réel dans le fichier de configuration - vous devez sélectionner une valeur dans la liste pour la période correspondante de l'année. Par conséquent, vous devez d'abord trouver la valeur réellement mesurée, puis choisir la plus proche disponible. Par exemple, selon la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">station d'Ekaterinbourg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le 27 juin 2018 (temps pris), la teneur en ozone était de 316 </font></font><abbr title="Unité Dobson"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UD</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">L'explication dans le fichier de configuration indique: pour l'été aux latitudes moyennes, les options disponibles sont 250, 290, 331 (par défaut), 370, 410, 450. Le plus proche de 316 est 331. Il vient par défaut, donc dans ce cas, rien ne peut être fait ne changez pas. </font><font style="vertical-align: inherit;">Si la photo a été prise quelques jours plus tôt, lorsque la concentration d'ozone a </font><font style="vertical-align: inherit;">diminué à 302 DU, devrait être fixé </font></font><code>Ozone_Content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à 290. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principe, les trois paramètres - </font></font><code>Aerosol_Type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Mid_Latitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Ozone_Content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dans la </font><font style="vertical-align: inherit;">plupart des </font><font style="vertical-align: inherit;">cas peuvent être réglés par défaut - pour AUTO </font></font><code>Aerosol_Type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>Mid_Latitude</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et 0 pour </font></font><code>Ozone_Content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dans ce cas, Sen2Cor déterminera les valeurs les plus appropriées à partir des métadonnées d'image.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppression du cloud</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le paramètre </font></font><code>Cirrus_Correction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indique si les nuages ​​de cirrus sont supprimés ou non de l'image. </font><font style="vertical-align: inherit;">Fonctionne en conjonction avec </font></font><code>WV_Threshold_Cirrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- il s'agit du seuil de teneur en vapeur d'eau en dessous duquel la suppression des nuages ​​est automatiquement désactivée, même si elle est </font></font><code>Cirrus_Correction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">définie sur VRAI. </font><font style="vertical-align: inherit;">Par conséquent, s'il y a des raisons de croire que la teneur en vapeur d'eau dans l'atmosphère au moment du tournage était faible, mais qu'il y a encore de petits nuages ​​et qu'ils doivent être supprimés, il est préférable de réduire la valeur </font></font><code>WV_Threshold_Cirrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>WV_Threshold_Cirrus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut aller de 0,1 à 1.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, dans cet article, nous avons examiné les problèmes suivants: comment installer Sen2Cor, comment le démarrer avec les paramètres par défaut, comment modifier certains paramètres du programme à l'aide de la ligne de commande et des options du fichier de configuration. </font><font style="vertical-align: inherit;">Pour une étude plus approfondie de Sen2Cor, vous pouvez vous référer à la documentation officielle, qui est disponible sur la même page que les installateurs. </font><font style="vertical-align: inherit;">La documentation officielle comprend quatre documents: la note de version et le manuel d'utilisation du logiciel plus simples et plus clairs, ainsi que la définition technique du produit et la définition des données de sortie d'entrée plutôt sophistiquées. </font><font style="vertical-align: inherit;">Ce dernier fichier comprend également «La référence complète du GIPP» sous forme de fichier pdf joint. </font><font style="vertical-align: inherit;">Je pense que les experts techniques trouveront beaucoup plus utile dans ces documents.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501172/index.html">Mon ordinateur Mikrosh: continuez la semaine de la nostalgie</a></li>
<li><a href="../fr501178/index.html">Comment regarder du porno affecte la productivité du travail et des études</a></li>
<li><a href="../fr501180/index.html">[Post-Question] Avez-vous besoin d'un mouvement informatique pour FAITS sur le coronavirus et les «effets secondaires»</a></li>
<li><a href="../fr501182/index.html">oVirt en 2 heures. Partie 2. Installation du gestionnaire et des hôtes</a></li>
<li><a href="../fr501184/index.html">Comment configurer Apollo pour fonctionner avec GraphQL dans Android</a></li>
<li><a href="../fr501190/index.html">Comment démarrer une startup, pénétrer le marché chinois et obtenir 15 millions d'investissements</a></li>
<li><a href="../fr501192/index.html">Les 5 meilleurs conseils pour améliorer les compétences non techniques en anglais</a></li>
<li><a href="../fr501194/index.html">Dans le sillage des particules chaudes. Chambre de Wilson</a></li>
<li><a href="../fr501198/index.html">Comprendre (tous) les formats et outils JavaScript «modulaires»</a></li>
<li><a href="../fr501206/index.html">En bref sur où placer le référentiel dans Architeckture Oignon et DDD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>