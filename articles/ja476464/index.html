<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👃🏼 👩🏾‍🤝‍👨🏻 👊🏻 Windowsシステムのセキュリティイベントログの問題 ⛳️ 🥉 ⛹🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Windowsファミリのオペレーティングシステムには、非常に優れたセキュリティイベントログシステムがあります。さまざまな出版物やレビューで彼女について多くの良いことが書かれていますが、この記事は何か他のものについてです。ここでは、このシステムの問題と欠点について説明します。考慮される問題のいくつかは...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Windowsシステムのセキュリティイベントログの問題</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476464/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/r3/ka/al/r3kaaljcd70px_fvggsc4jmu4es.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsファミリのオペレーティングシステムには、非常に優れたセキュリティイベントログシステムがあります。</font><font style="vertical-align: inherit;">さまざまな出版物やレビューで彼女について多くの良いことが書かれていますが、この記事は何か他のものについてです。</font><font style="vertical-align: inherit;">ここでは、このシステムの問題と欠点について説明します。</font><font style="vertical-align: inherit;">考慮される問題のいくつかは重大ではなく、イベントの分析手順を複雑にするだけですが、他の問題は非常に深刻なセキュリティ上の脅威をもたらします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特定された問題は、Windows 7 Maximum（ロシア語版）、Windows 7 Professional（英語版）、Windows 10 Pro（ロシア語版）、Windows Server 2019 Datacenter（ロシア語版）でテストされました。</font><font style="vertical-align: inherit;">すべてのオペレーティングシステムが完全に更新されました。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題No. 1.失敗した監査パラメーター管理システム</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この問題はWindows 7/10 / Server 2019で確認されています。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows 7を使用して、デフォルト設定でインストールします。</font><font style="vertical-align: inherit;">ドメインは入力しません。</font><font style="vertical-align: inherit;">セキュリティイベントの監査設定を見てみましょう。</font><font style="vertical-align: inherit;">これを行うには、ローカルセキュリティポリシースナップイン（secpol.msc、またはコントロールパネル-&gt;管理ツール-&gt;ローカルセキュリティポリシー）を開き、基本的な監査設定（セキュリティ設定-&gt;ローカルポリシー-&gt;監査ポリシー）を表示します。 ）</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bd/sm/cw/bdsmcwohkqtxgp9dzcac8p63daw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、監査は設定されていません。</font><font style="vertical-align: inherit;">次に、詳細な監査ポリシーを確認します（「セキュリティ設定-&gt;詳細な監査ポリシーの構成-&gt;システム監査ポリシー-ローカルグループポリシーオブジェクト」）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/om/oy/po/omoypoc15q9ynn0osefv-gawd4i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、監査も設定されていません。</font><font style="vertical-align: inherit;">その場合、理論的にはログにセキュリティイベントが含まれていてはなりません。</font><font style="vertical-align: inherit;">チェックします。</font><font style="vertical-align: inherit;">セキュリティログを開きます（eventvwr.exe、または "コントロールパネル-&gt;管理ツール-&gt;イベントの表示"）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j0/s4/ot/j0s4otidlwtntmyx-s02-kom3uk.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">質問：「監査がまったく構成されていない場合、イベントはセキュリティログのどこから取得されますか？」</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この動作の理由を理解するには、オペレーティングシステムの「内部」を理解する必要があります。まず、基本的な監査ポリシーと高度な監査ポリシーについて説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows Vista以前は、監査ポリシーは1つだけでしたが、現在は基本ポリシーと呼ばれています。問題は、当時の監査管理の粒度が非常に低いことでした。そのため、ファイルへのアクセスを追跡する必要がある場合は、基本ポリシーのカテゴリ「オブジェクトへのアクセスを監査する」が含まれていました。その結果、ファイル操作に加えて、他の多くの「ノイズ」イベントがセキュリティログに注がれました。これはログ処理を非常に複雑にし、ユーザーを緊張させました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロソフトはこの「苦痛」を聞いて、支援することにしました。問題は、Windowsが下位互換性の概念に基づいて構築されており、既存の監査管理メカニズムに変更を加えると、この互換性が失われることです。したがって、ベンダーは逆の方向に進みました。彼は新しいツールを作成し、それをAdvanced Audit Policiesと呼びました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このツールの本質は、高度なポリシーカテゴリが基本的な監査ポリシーのカテゴリから作成され、それらを個別にオン/オフできるサブカテゴリに分割したことにあります。</font><font style="vertical-align: inherit;">高度な監査ポリシーでファイルへのアクセスを追跡する必要がある場合は、「オブジェクトアクセス」カテゴリに含まれる「ファイルシステム」サブカテゴリのみをアクティブ化する必要があります。</font><font style="vertical-align: inherit;">同時に、レジストリへのアクセスまたはネットワークトラフィックのフィルタリングに関連する「ノイズ」イベントは、セキュリティログに含まれません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスキーム全体の大きな混乱は、基本的な監査ポリシーと高度なポリシーのカテゴリの名前が一致していないことであり、最初はこれらが完全に異なるものに見えるかもしれませんが、これはそうではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監査管理の基本カテゴリと詳細カテゴリの名前の対応表を以下に示します</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b>   </b></td>
<td><b>   </b></td>
</tr>
<tr>
<td>    </td>
<td>    (DS)</td>
</tr>
<tr>
<td>   </td>
<td>  </td>
</tr>
<tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>   </td>
<td>/</td>
</tr>
<tr>
<td>    </td>
<td>  </td>
</tr>
<tr>
<td>  </td>
<td> </td>
</tr>
<tr>
<td>  </td>
<td></td>
</tr>
<tr>
<td>   </td>
<td>  </td>
</tr>
<tr>
<td>  </td>
<td> </td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的なカテゴリと高度なカテゴリの両方が基本的に同じものを制御することを理解することが重要です。</font><font style="vertical-align: inherit;">基本監査ポリシーカテゴリを含めると、対応する拡張監査ポリシーカテゴリが含まれ、結果としてそのすべてのサブカテゴリが含まれます。</font><font style="vertical-align: inherit;">予期しない結果を回避するために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoftは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本監査ポリシーと高度な監査ポリシーを同時に使用することを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">推奨していません</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、監査設定がどこに保存されているかを把握します。</font><font style="vertical-align: inherit;">まず、いくつかの概念を紹介します。</font></font><br>
<br>
<ol>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果的な監査ポリシー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -RAMに格納された情報で、監査機能を実装するオペレーティングシステムモジュールの現在の動作パラメーターを決定します。</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存された監査ポリシー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -HKEY_LOCAL_MACHINE \ SECURITY \ Policy \ PolAdtEvのレジストリに保存され、システムの再起動後に有効な監査ポリシーを決定するために使用される情報。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまな管理ツールを検討し、それらが表示する監査パラメータと設定を示します。</font><font style="vertical-align: inherit;">表のデータは実験に基づいています。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資金名</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示される監査ポリシー</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">永続的な監査ポリシー</font></font></b></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルセキュリティポリシースナップインの基本監査ポリシー </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果的な監査ポリシー</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果的な監査ポリシー、保存された監査ポリシー</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルセキュリティポリシースナップインの高度な監査ポリシー </font></font></td>
<td colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル </font></font><code>%SystemRoot%\System32\GroupPolicy\Machine\Microsoft\Windows NT\Audit\audit.csv</code></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auditpolユーティリティ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存された監査設定</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果的な監査設定、保存された監査設定</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例を挙げて説明します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例1</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
auditpolユーティリティを実行して監査パラメータを表示する場合：</font></font><br>
<code>auditpol /get /category:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保存された監査パラメータ、つまりレジストリのHKEY_LOCAL_MACHINE \ SECURITY \ Policy \ PolAdtEvに格納されているものが表示されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例2</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
同じユーティリティを実行するが、すでにパラメータを設定している場合：</font></font><br>
<code>auditpol /set /category:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有効な監査設定と保存された監査パラメータが変更されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のコメントでは、「ローカルセキュリティポリシー」スナップインの「基本監査ポリシー」に監査設定が表示される順序が必要です。対応する拡張監査ポリシーのすべてのサブカテゴリがインストールされている場合、基本監査ポリシーのカテゴリは設定されているように表示されます。少なくとも1つがインストールされていない場合、ポリシーはインストールされていないと表示されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例3</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
管理者がコマンドを使用して、</font></font><code>auditpol /set /category:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての監査サブカテゴリを成功監査モードに設定します。さらに、「ローカルセキュリティポリシー」スナップインの「基本監査ポリシー」に移動すると、各カテゴリの反対側に成功の監査がインストールされます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例4</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
管理者がコマンドを実行した</font></font><code>auditpol /clear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての監査設定をリセットします。次に、コマンドを実行してファイルシステム監査を設定しました</font></font><code>auditpol /set /subcategory:" "</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ここで、「ローカルセキュリティポリシー」スナップインの「基本監査ポリシー」に移動すると、拡張監査ポリシーの単一のカテゴリが完全に定義されていないため、すべてのカテゴリが「監査なし」ステータスで定義されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、最後に、新しくインストールしたオペレーティングシステムのどこからログを取得するかという質問に答えることができます。重要なのは、インストール後、Windowsの監査が保存された監査設定で構成および定義されることです。これを確認するには、コマンドを実行し</font></font><code>auditpol /get /category:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dx/ot/1s/dxot1swbotmghm7jxzo0zuafvcy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのカテゴリには1つ以上のサブカテゴリが定義されていないため、ローカルセキュリティポリシースナップインの基本監査ポリシーでは、この監査情報は表示されません。</font><font style="vertical-align: inherit;">ローカルセキュリティポリシースナップインの詳細監査ポリシーでは、％SystemRoot％\ System32 \ GroupPolicy \ Machine \ Microsoft \ Windows NT \ Audit \ audit.csvファイルに保存されている監査設定でのみスナップインが機能するため、この情報は表示されません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の本質は何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初はこれはまったく問題ではないと思われるかもしれませんが、問題ではありません。すべてのツールがさまざまな方法で監査パラメーターを表示するという事実は、ポリシーの悪意のある操作、結果として監査結果の機会を生み出します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">考えられるシナリオを検討してください</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。Windows7ベースの技術的なワークステーションが企業ネットワークで動作するようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マシンはドメインに含まれず、規制当局に毎日レポートを送信するロボットとして機能します。何らかの方法で攻撃者は、管理者権限でリモートアクセスしました。同時に、攻撃者の主な目標はスパイ活動であり、タスクはシステムで検出されないままにすることです。攻撃者は、セキュリティログにセキュリティコード</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">4719「監査ポリシーの変更」</font></a><font style="vertical-align: inherit;">を持つイベントはないと密かに決定しました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ファイルへのアクセスの監査を無効にしますが、同時にすべての管理ツールで監査が有効であると表示されます。</font><font style="vertical-align: inherit;">タスクを達成するために、彼らは以下の行動を行いました：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻撃されたワークステーションでは、HKEY_LOCAL_MACHINE \ SECURITY \ Policy \ PolAdtEvレジストリキーへの書き込み権限を付与し、このキーを「+ fs.reg」という名前のファイルにエクスポートしました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このファイルを別のコンピューターにインポートして再起動し、auditpolを使用してファイルシステムの監査をオフにした後、上記のレジストリキーを "-fs.reg"ファイルにエクスポートしました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻撃されたマシンで、「-fs.reg」ファイルがレジストリにインポートされました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻撃されたマシンにある％SystemRoot％\ System32 \ GroupPolicy \ Machine \ Microsoft \ Windows NT \ Audit \ audit.csvファイルのバックアップコピーを作成し、そこからファイルシステムサブカテゴリを削除しました。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼らは攻撃されたワークステーションを再起動し、ファイル％SystemRoot％\ System32 \ GroupPolicy \ Machine \ Microsoft \ Windows NT \ Audit \ audit.csvを以前に保存したバックアップコピーに置き換え、ファイル "+ fs.reg"もインポートしました</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべての操作の結果として、セキュリティログにポリシー変更エントリはありません。すべてのツールは監査が有効になっていることを示しますが、実際には機能しません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題No. 2.ファイル、ディレクトリ、レジストリキーを削除する操作のログの失敗</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この問題はWindows 7/10 / Server 2019で確認されています。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイル、ディレクトリ、またはレジストリキーを削除する1回の操作で、オペレーティングシステムは、コード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4663</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4660の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントのシーケンスを生成します</font><font style="vertical-align: inherit;">。問題は、イベントの全体の流れから、このカップルが互いに接続することはそれほど簡単ではないということです。これを行うには、分析されたイベントに次のパラメーターが必要</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。イベント1。コード4663「オブジェクトへのアクセスを取得しようとしました。」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントパラメータ：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「ObjectType」=ファイル。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
“ ObjectName” =削除するファイルまたはディレクトリの名前。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"HandleId" =削除するファイルへのハンドル。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「AcessMask」= 0x10000（このコードはDELETE操作に対応します。すべての操作コードの解読は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、MicrosoftのWebサイト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で確認できます</font><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ez/it/6z/ezit6zapdorhyh5blpomzppv1dc.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベント2。コード4660「オブジェクトが削除されました。」</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントパラメータ：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「HandleId」=「イベント1のHandleId」</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「System \ EventRecordID」=「System 1からのEvent \ EventRecordID」+ 1. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qy/bj/6a/qybj6a3724rrph9wsqki1bpcntm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レジストリキー（キー）の削除は同じです。コード4663の最初のイベントでのみ、パラメータ「 ObjectType” =キー。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レジストリ内の値の削除は別のイベント（コード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4657</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">によって記述され</font><font style="vertical-align: inherit;">、そのような問題を引き起こさないことに</font><font style="vertical-align: inherit;">注意してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 10およびServer 2019でファイルを削除する機能</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows 10 / Server 2019では、ファイルを削除する方法が2つあります。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルがゴミ箱に削除された場合、以前と同様に、イベント4663および4660のシーケンス。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルが完全に削除された場合（ごみ箱を過ぎた場合）、コード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4659の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単一のイベントが発生します</font><font style="vertical-align: inherit;">。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
奇妙なことが起こりました。</font><font style="vertical-align: inherit;">以前は、削除されたファイルを特定するために、イベント4663と4660の全体を監視する必要がありましたが、Microsoftは「ユーザー会議に参加」し、2つのイベントではなく3つを監視する必要があります。</font><font style="vertical-align: inherit;">また、ディレクトリを削除する手順が変更されていないことにも注意する必要があります。以前と同様に、2つのイベント4663および4660で構成されています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の本質は何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題は、誰がファイルまたはディレクトリを削除したかを見つけることは、重要な作業になることです。</font><font style="vertical-align: inherit;">セキュリティログで対応するイベントを平凡に検索する代わりに、イベントのシーケンスを分析する必要があります。これは手動で行うのはかなり面倒です。</font><font style="vertical-align: inherit;">この理由でも、ハブに記事がありました：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Powershellを使用して、ファイルへの削除とアクセスを監査し、ログファイルにイベントを書き込む」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題番号3（重大）。</font><font style="vertical-align: inherit;">ファイル、ディレクトリ、およびレジストリキーの名前変更のロギングの実装の失敗</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この問題はWindows 7/10 / Server 2019で確認されています。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題には2つの副問題があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前の変更中にシステムによって生成されたイベントでは、新しいオブジェクト名はどこにも固定されません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前の変更手順は、削除と非常に似ています。</font><font style="vertical-align: inherit;">パラメータ "AcessMask" = 0x10000（DELETE）を持つコード4663の最初のイベントに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベント4660 </font><b><font style="vertical-align: inherit;">がない</font></b><font style="vertical-align: inherit;">という事実によってのみ区別できます</font><font style="vertical-align: inherit;">。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レジストリに関しては、この問題はキーにのみ適用されることに注意してください。</font><font style="vertical-align: inherit;">レジストリ内の値の名前変更は、一連のイベント4657によって記述され、そのような不満を引き起こしませんが、もちろん、イベントが1つしかなかった場合ははるかに便利です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の本質は何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルの名前変更操作を検索するのが難しいことに加えて、ジャーナリングのこの機能では、ファイルシステムオブジェクトまたはレジストリキーのライフサイクル全体を追跡できません。</font><font style="vertical-align: inherit;">その結果、アクティブに使用されているファイルサーバーで何度も名前が変更されたファイルの履歴を特定することが非常に困難になります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題番号4（クリティカル）。</font><font style="vertical-align: inherit;">ディレクトリとレジストリキーの作成を追跡できません</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この問題はWindows 7/10 / Server 2019で確認されています。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsは、ファイルシステムディレクトリとレジストリキーの作成を追跡しません。</font><font style="vertical-align: inherit;">これは、オペレーティングシステムが、作成されたディレクトリまたはレジストリキーの名前を含むイベントを生成せず、そのパラメーターがこれが作成操作であることを示すという事実にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理論的には、間接的な指示によって、カタログを作成するという事実は可能です。</font><font style="vertical-align: inherit;">たとえば、「エクスプローラ」を介して作成された場合、作成プロセス中に、新しいディレクトリの属性のポーリングイベントが生成されます。</font><font style="vertical-align: inherit;">問題は、コマンドを使用してディレクトリを作成した場合</font></font><code>mkdir</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、イベントがまったく生成されないことです。</font><font style="vertical-align: inherit;">レジストリにキーを作成する場合も同様です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の本質は何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題により、情報セキュリティインシデントの調査が非常に困難になります。</font><font style="vertical-align: inherit;">この情報がジャーナルに記録されていないという事実についての合理的な説明はありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題番号5（クリティカル）。</font><font style="vertical-align: inherit;">Windowsのロシア語バージョンの不正な監査設定</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この問題の存在は、Windows 7/10 / Server 2019のロシア語版で確認されています。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsのロシア語バージョンにエラーがあり、セキュリティ監査管理システムが機能しなくなります。 </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">症状</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細なセキュリティポリシーを変更しても、効果的な監査設定には影響しません。つまり、ポリシーは適用されません。</font><font style="vertical-align: inherit;">たとえば、管理者は「ログイン」サブカテゴリをアクティブにし、システムを再起動し、コマンドを起動しましたが</font></font><code>auditpol /get /category:*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、このサブカテゴリは非アクティブのままです。</font><font style="vertical-align: inherit;">この問題は、グループポリシーで管理されるドメインコンピューターと、ローカルセキュリティポリシースナップインで構成されたローカルGPOを使用して管理される非ドメインコンピューターの両方に関係します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原因</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題は、管理者が高度な監査ポリシーの「失敗した」サブカテゴリの少なくとも1つをアクティブにした場合に発生します。</font><font style="vertical-align: inherit;">このような失敗したカテゴリには、特に次のものが含まれます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">権利の使用-&gt;機密データに影響する権利の使用を監査します。</font><font style="vertical-align: inherit;">GUID：{0cce9228-69ae-11d9-bed3-505054503030}。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">権利の使用-&gt;機密データに影響を与えない権利の使用を監査します。</font><font style="vertical-align: inherit;">GUID：{0cce9229-69ae-11d9-bed3-505054503030}。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトへのアクセス-&gt;アプリケーションによって生成された監査イベント。</font><font style="vertical-align: inherit;">GUID：{0cce9222-69ae-11d9-bed3-505054503030}。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題を解決するための推奨事項</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題がまだ発生していない場合は、示された「失敗した」サブカテゴリをアクティブにしないでください。</font><font style="vertical-align: inherit;">これらのサブカテゴリのイベントが非常に必要な場合は、auditpolユーティリティを使用してそれらをアクティブにするか、基本ポリシーを使用して監査を管理します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題が発生した場合は、次のことを行う必要があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメイングループポリシーディレクトリから、ファイル\ Machine \ microsoft \ windows nt \ Audit \ audit.csvを削除します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">監査に問題があるすべてのコンピューターから、次のファイルを削除します。％SystemRoot％\ security \ audit \ audit.csv、％SystemRoot％\ System32 \ GroupPolicy \ Machine \ Microsoft \ Windows NT \ Audit \ audit.csv</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の本質は何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題の存在は、高度な監査ポリシーを通じて定期的に監視できるセキュリティイベントの数を減らし、企業ネットワーク内の監査システムの管理を切断、ブロック、不安定化させる脅威も生み出します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題番号6（クリティカル）。</font><font style="vertical-align: inherit;">くそー「新しいテキストdocument.txt ...と新しいビットマップ.bmp」</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この問題はWindows 7で確認されています。Windows10 / Server 2019には問題がありません。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは偶然発見された非常に奇妙な問題です。</font><font style="vertical-align: inherit;">この問題の本質は、ファイル作成の監査をバイパスできるオペレーティングシステムに抜け穴があることです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">準備部分：</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しくインストールしたWindows 7を使用します。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用して、すべての監査設定をリセットします</font></font><code>auditpol /clear</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このアイテムはオプションであり、雑誌の分析に便利です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを実行して、ファイルシステム監査を設定します</font></font><code>auditpol /set /subcategory:" "</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C：\ TESTディレクトリを作成して、「すべて」アカウントの監査パラメーターを割り当てます。「ファイルの作成/データの書き込み」、「フォルダーの作成/データの書き込み」、「属性の書き込み」、「追加の属性の書き込み」、「サブフォルダーの削除」ファイル」、「削除」、「権限の変更」、「所有権の変更」、つまり、ファイルシステムへのデータの書き込みに関連するすべて。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
明確にするために、各実験の前に、オペレーティングシステムのセキュリティログをクリアします。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実験1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
実行</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドラインからコマンドを実行します。</font></font><code>echo &gt; "c:\test\  .txt"</code><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">観察：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ファイルの作成時に、コード4663のイベントがセキュリティログに表示され、ObjectNameフィールドに作成中のファイルの名前とAccessMaskフィールドに値0x2が含まれています（「データの書き込みまたはファイルの追加"）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k3/cn/6l/k3cn6ltuqg-gclek4pgtn7u_tea.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の実験を実行するために、フォルダーとイベントログを消去します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実験2. </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
「エクスプローラー」からC：\ TESTフォルダーを開き、右クリックで呼び出されるコンテキストメニューの「作成-&gt;テキストドキュメント」を使用して、「新しいテキストドキュメント.txt」ファイルを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cc/nh/gj/ccnhgj_6_2xrciyj4m6ubv9hmpk.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは観察します：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアクションはイベントログに反映されませんでした!!! </font><font style="vertical-align: inherit;">また、同じコンテキストメニューを使用して「ビットマップ」を作成する場合、エントリはありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/52/4b/-y524b96wuzs9eszx5cybyrwsdk.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実験3. </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
「エクスプローラ」からC：\ TESTフォルダを開き、右クリックして呼び出されるコンテキストメニューの[作成-&gt; RTF形式のドキュメント]を使用して、ファイル「RTF.rtf形式の新しいドキュメント」を作成します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">観察：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コマンドラインでファイルを作成する場合と同様に、コード4663のイベントと対応するコンテンツがログに表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/de/pf/wq/depfwqhwv1umoii77gpofddmoro.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題の本質は何ですか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、テキストドキュメントや画像を作成しても、特に害はありません。</font><font style="vertical-align: inherit;">ただし、「エクスプローラ」がファイル操作のロギングをバイパスできる場合、マルウェアはこれを行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題は、ファイル操作の監査結果の信頼性を著しく損なうため、考えられるすべての問題の中で最も重要です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の問題のリストは完全ではありません。その過程で、ローカライズされた定数をいくつかのイベントのパラメーター値として使用するなど、まだかなり多数のさまざまな小さな欠陥に遭遇しました。これにより、オペレーティングシステムのローカライズごとに分析スクリプトを記述する必要があり、イベントコードを意味のない操作に非論理的に分割します。たとえば、レジ​​ストリキーの削除は一連のイベント4663と4660であり、レジストリの値の削除は4657です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
公平に言えば、すべての欠点にもかかわらず、Windowsのセキュリティイベントログシステムには多くの利点があります。</font><font style="vertical-align: inherit;">ここにリストされている重大な問題を修正すると、すぐにセキュリティイベントをログに記録するための優れたソリューションに王冠を戻すことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WINDOWSのセキュリティイベントログを再度作成してください！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja476450/index.html">cPanelの概要-サイトの管理とホスティングのためのWebベースのコンソール</a></li>
<li><a href="../ja476452/index.html">Key-Valueストレージ、またはアプリケーションがより便利になった方法</a></li>
<li><a href="../ja476454/index.html">5Gの到来：2020年に新技術の導入を確実にする企業</a></li>
<li><a href="../ja476456/index.html">中国の社会的信用システムは、まず第一に、市民評価システムではなく、大規模なAPIです。</a></li>
<li><a href="../ja476460/index.html">インターネットで最初にヒットしたファイル形式はMP3ではなくMIDIでした</a></li>
<li><a href="../ja476466/index.html">本「知性の建築家」</a></li>
<li><a href="../ja476468/index.html">サムスンの新しい無料オンラインニューラルネットワークテキスト分析コース</a></li>
<li><a href="../ja476474/index.html">USBモデムのKeenetic-KN-1310サポートを返します</a></li>
<li><a href="../ja476476/index.html">GmailをHTMLのみで表示</a></li>
<li><a href="../ja476478/index.html">大企業に機械学習モデルを導入する段階</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>