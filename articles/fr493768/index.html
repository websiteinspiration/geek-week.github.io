<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍🍳 👊🏾 💜 React Native Listing 📍 👃🏾 ⏲️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je ne vous dirai pas que vous devez utiliser le moins de contenu possible pour afficher ou mettre en cache des images. Non! Nous ne ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>React Native Listing</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493768/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans cet article, je ne vous dirai pas que vous devez utiliser le moins de contenu possible pour afficher ou mettre en cache des images. </font><font style="vertical-align: inherit;">Non! </font><font style="vertical-align: inherit;">Nous ne parlerons que de l'optimisation de la liste réelle et peu importe ce que nous devons afficher, car si le client dit que je veux et que vous ne pouvez pas discuter avec lui.</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commençons par l'exemple le plus simple. </font><font style="vertical-align: inherit;">Disons que nous avons un tableau.</font></font></p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> list = [{ <span class="hljs-attr">_id</span>: <span class="hljs-number">567456</span>, <span class="hljs-attr">label</span>: “CodingChipmunks” }, ...]  </code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle est la façon la plus simple de rendre une petite liste? </font><font style="vertical-align: inherit;">Il est correct d'utiliser une méthode </font></font><code>.map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui renvoie un nouveau tableau et nous pouvons afficher la liste entière. </font><font style="vertical-align: inherit;">Eh bien, regardons un exemple:</font></font></p><br>
<pre><code class="javascript hljs">render() {  
    <span class="hljs-keyword">return</span> (<font></font>
        &lt;View&gt;<font></font>
            {list.map((item) =&gt; (  <font></font>
                &lt;View&gt;  <font></font>
                    &lt;Text&gt;{item.label}&lt;/Text&gt;  <font></font>
                &lt;View&gt;))}<font></font>
<font></font>
        &lt;/View&gt;<font></font>
    )  <font></font>
}  </code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Correctement? </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non! </font><font style="vertical-align: inherit;">Ne fais jamais cela!</font></font></strong></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout d'abord, vous devez toujours spécifier la clé pour chaque élément. </font><font style="vertical-align: inherit;">Et veuillez ne pas utiliser cet élément d'index dans le tableau. </font><font style="vertical-align: inherit;">Ci-dessous, je vais vous expliquer pourquoi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deuxièmement, le code semble désordonné</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Troisièmement, n'utilisez pas de fonctions anonymes</font></font></li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi ne pas le faire comme ça: </font></font></p><br>
<pre><code class="javascript hljs">renderItem = <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> (<font></font>
    &lt;View key={item._id}&gt;  <font></font>
        &lt;Text&gt;{item.label}&lt;/Text&gt;  <font></font>
    &lt;View&gt;<font></font>
)<font></font>
<font></font>
render() {  <font></font>
    return (<font></font>
    &lt;View&gt;<font></font>
        {list.map((item) =&gt; this.renderItem(item)}<font></font>
    &lt;/View&gt;)  <font></font>
}  </code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou alors:</font></font></p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> Item = <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> (  <font></font>
    &lt;View &gt;  <font></font>
        &lt;Text&gt;{item.label}&lt;/Text&gt;  <font></font>
    &lt;View&gt;  <font></font>
)<font></font>
<font></font>
class List extends React.Component {  <font></font>
…<font></font>
<font></font>
render() {  <font></font>
    return (<font></font>
        &lt;View&gt;<font></font>
            {list.map((item) =&gt; &lt;Item key={item._id} /&gt;}<font></font>
        &lt;/View&gt;)  <font></font>
    }  <font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Est-ce que c'est beaucoup mieux maintenant? </font><font style="vertical-align: inherit;">Pas vraiment.</font></font></p><br>
<p>   .          <code>.map</code>.     render           item       . .     .                -      .   ?      ,         </p><br>
<blockquote>        .<br>
   “? ? ?           ?”        . </blockquote><p> : </p><br>
<pre><code class="javascript hljs">    render() {  
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
                {list.map(this.renderItem)}
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><font></font>
        )  <font></font>
    }</code></pre><br>
<p>           PureComponent    item.</p><br>
<p>  !</p><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Item</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">PureComponent</span> </span>{<font></font>
...<font></font>
}</code></pre><br>
<p>      !</p><br>
<h3 id="a-chto-esli-u-menya-bolshoy-i-slozhnyy-spisok">        ?</h3><br>
<p>      .           .         ?     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">FlatList</a>. Flatlist  ?   .              .<br>
 :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> list = [loyaltyCard1, loyaltyCard2, … , loyaltyCard100];<font></font>
…<font></font>
renderItem = <span class="hljs-function">(<span class="hljs-params">{ item: loyaltyCard, index }</span>) =&gt;</span> (...)<font></font>
<font></font>
keyExtractor = <span class="hljs-function"><span class="hljs-params">loyaltyCard</span> =&gt;</span> loyaltyCard._id  <font></font>
<font></font>
render() {  <font></font>
    &lt;FlatList<font></font>
        keyExtractor={<span class="hljs-keyword">this</span>.keyExtractor} <font></font>
        data={list}<font></font>
        renderItem={<span class="hljs-keyword">this</span>.renderItem} /&gt;  <font></font>
}</code></pre><br>
<p>        <code>key</code>,    <code>keyExtractor</code>,            .<br>
 renderItem           :</p><br>
<ol>
<li>item —   </li>
<li>index —    </li>
<li>separator —        </li>
</ol><br>
<p>    ?<br>
  </p><br>
<p>                 ,       <code>extraData</code>.      .</p><br>
<p>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">getItemLayout</a>.                   </p><br>
<p>    ReactNative</p><br>
<pre><code class="javascript hljs">getItemLayout={(data, index) =&gt; (<font></font>
{<span class="hljs-attr">length</span>: ITEM_HEIGHT, <span class="hljs-attr">offset</span>: ITEM_HEIGHT * index, index}<font></font>
)}  </code></pre><br>
<p>            ?     getLayout     </p><br>
<pre><code class="javascript hljs">onLayout = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {  
    <span class="hljs-keyword">const</span> {x, y, width, height} = event.nativeEvent.layout;  
    <span class="hljs-keyword">do</span> something <span class="hljs-keyword">with</span> layout<font></font>
}<font></font>
…<font></font>
renderItem = <span class="hljs-function">(<span class="hljs-params">{ item: loyaltyCard, index}</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">onLayout</span>=<span class="hljs-string">{this.onLayout}</span> /&gt;</span></span>
)</code></pre><br>
<p>            ?   <strong>initialNumToRender</strong>  <strong>maxToRenderPerBatch</strong>.       . </p><br>
<p>initialNumToRender         .                 <br>
maxToRenderPerBatch         </p><br>
<ul>
<li>   lazyLoad  onEndReached  onEndReachedThreshold                  .</li>
</ul><br>
<h3 id="teper-pereydyom-k-dovolno-somnitelnym-metodam-optimizacii">      </h3><br>
<p>                   .</p><br>
<p>           ?   <br>
removeClippedSubviews —     <code>true</code>         .</p><br>
<ul>
<li>                       . </li>
</ul><br>
<p>    getItemLayout.<br>
              </p><br>
<p>     .           ReactNative                     </p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493752/index.html">CAPTCHA pour codeigniter 4</a></li>
<li><a href="../fr493756/index.html">Comment lancer une startup sur les marchés étrangers en quarantaine: Reddit, Product Hunt, ressources en Amérique latine</a></li>
<li><a href="../fr493758/index.html">L'intelligence artificielle créera d'abord un corpus d'anciens manuscrits slaves</a></li>
<li><a href="../fr493760/index.html">Technologie Li-Ion: le coût unitaire diminue plus rapidement que prévu</a></li>
<li><a href="../fr493762/index.html">Comment organiser le backend d'une application mobile?</a></li>
<li><a href="../fr493772/index.html">Les 10 meilleurs trucs et astuces de Kubernetes</a></li>
<li><a href="../fr493796/index.html">4 meilleurs modèles de conception pour les tests automatisés (et 86 autres)</a></li>
<li><a href="../fr493798/index.html">Il n'y a pas de conception dans 1C UX / UI</a></li>
<li><a href="../fr493800/index.html">Probabilité empirique</a></li>
<li><a href="../fr493802/index.html">Comprendre l'activité Android launchMode: standard, singleTop, singleTask et singleInstance</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>