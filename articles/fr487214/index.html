<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶üèø ‚ò¶Ô∏è üë¥üèæ Lancement sombre √† Istio: Services secrets üö£ üîê üêñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Le danger est mon deuxi√®me pr√©nom", a d√©clar√© Austin Powers, un homme myst√®re √† l'√©chelle internationale. Mais ce qui est tenu en haute estime par le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Lancement sombre √† Istio: Services secrets</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/487214/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Le danger est mon deuxi√®me pr√©nom", a d√©clar√© Austin Powers, un homme myst√®re √† l'√©chelle internationale. </font><font style="vertical-align: inherit;">Mais ce qui est tenu en haute estime par les super-agents et les services sp√©ciaux ne convient pas du tout aux services informatiques, o√π les choses ennuyeuses sont bien meilleures que les dangers. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/r1/0r/wpr10ryyfvsbrwoocqwshmfw8vq.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et Istio, avec OpenShift et Kubernetes, rendent les d√©ploiements de micro-services vraiment ennuyeux et pr√©visibles - et c'est g√©nial. </font><font style="vertical-align: inherit;">Nous en parlerons et bien plus dans le quatri√®me et dernier post de la s√©rie Istio.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quand l'ennui a raison</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre cas, l'ennui ne se produit que dans la phase finale, quand il ne reste plus qu'√† s'asseoir et regarder le processus. Mais pour cela, vous devez tout pr√©-configurer, et ici vous trouverez beaucoup de choses int√©ressantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du d√©ploiement d'une nouvelle version de votre logiciel, vous devez consid√©rer toutes les options pour minimiser les risques. Travailler en mode parall√®le est une m√©thode de test tr√®s puissante et √©prouv√©e, et Istio vous permet d'utiliser le "service secret" (une version de votre microservice cach√©e des regards indiscrets) pour cela sans interf√©rer avec le syst√®me de production. Il y a m√™me un terme sp√©cial pour cela - "Secret Launch" (Dark Launch), qui √† son tour est activ√© par une fonction avec le moins de spywares "traffic mirroring".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que la premi√®re phrase du paragraphe pr√©c√©dent utilise le terme ¬´d√©ployer¬ª plut√¥t que ¬´lib√©rer¬ª. </font><font style="vertical-align: inherit;">Vous devriez vraiment pouvoir d√©ployer - et, bien s√ªr, utiliser - votre microservice aussi souvent que vous le souhaitez. </font><font style="vertical-align: inherit;">Ce service doit pouvoir recevoir et traiter le trafic, produire des r√©sultats, ainsi qu'√©crire dans les journaux et surveiller. </font><font style="vertical-align: inherit;">Mais en m√™me temps, ce service lui-m√™me n'a pas du tout besoin d'√™tre mis en production. </font><font style="vertical-align: inherit;">Le d√©ploiement et la lib√©ration de logiciels ne sont pas toujours la m√™me chose. </font><font style="vertical-align: inherit;">Vous pouvez effectuer le d√©ploiement quand vous le souhaitez, mais ne le lib√©rer que lorsque vous √™tes compl√®tement pr√™t.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organiser l'ennui est int√©ressant</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetez un ≈ìil √† la r√®gle de routage Istio suivante, qui achemine toutes les requ√™tes HTTP vers le microservice de recommandation v1 (tous les exemples proviennent du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rentiel Istio Tutorial GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), tout en </font><font style="vertical-align: inherit;">les </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">mettant</font></a><font style="vertical-align: inherit;"> en miroir vers le microservice de recommandation v2:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/lo/mc/drlomco1x_qx4vrqa1_5ny__0ns.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faites attention √† l'√©tiquette </font></font><code>mirror:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en bas de l'√©cran - c'est elle qui d√©finit la mise en miroir du trafic. </font><font style="vertical-align: inherit;">Oui, c'est tellement simple! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat de cette r√®gle sera que votre syst√®me de production (v1) continuera de traiter les demandes entrantes, mais les demandes elles-m√™mes seront mises en miroir de mani√®re asynchrone sur la v2, c'est-√†-dire que leurs doublons complets y iront. </font><font style="vertical-align: inherit;">Ainsi, vous pouvez tester le travail de la v2 en conditions r√©elles - sur des donn√©es et du trafic r√©els - sans interf√©rer avec le travail du syst√®me de production. </font><font style="vertical-align: inherit;">Est-ce que cela rend l'organisation des tests ennuyeuse? </font><font style="vertical-align: inherit;">Oui bien s√ªr. </font><font style="vertical-align: inherit;">Mais cela se fait de fa√ßon int√©ressante.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter un drame</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que dans le code v2, il est n√©cessaire de pr√©voir les situations o√π les demandes entrantes peuvent entra√Æner des modifications de donn√©es. </font><font style="vertical-align: inherit;">Les requ√™tes elles-m√™mes sont refl√©t√©es facilement et de mani√®re transparente, mais le choix de la m√©thode de traitement dans le test vous appartient - et c'est d√©j√† un peu excitant.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©p√©tez le point important </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un lancement secret avec mise en miroir du trafic (Dark Launch / Request Mirroring) peut √™tre effectu√© sans affecter le code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nourriture pour la pens√©e</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais que se passe-t-il si l'endroit pour refl√©ter les demandes est d'en envoyer certaines non pas √† la v1, mais √† la v2? </font><font style="vertical-align: inherit;">Par exemple, un pour cent de toutes les demandes ou uniquement les demandes d'un groupe d'utilisateurs sp√©cifique. </font><font style="vertical-align: inherit;">Et puis, en regardant d√©j√† comment fonctionne la v2, transf√©rez progressivement toutes les demandes vers la nouvelle version. </font><font style="vertical-align: inherit;">Ou vice versa, remettez tout en v1 si quelque chose ne va pas avec v2. </font><font style="vertical-align: inherit;">Il semble s'appeler Canary Deployment (¬´canary deployment¬ª - le terme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remonte √† l'exploitation mini√®re</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et s'il √©tait d'origine russe, il contiendrait probablement une r√©f√©rence aux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chats</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), et maintenant nous allons l'examiner plus en d√©tail.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©ploiement des Canaries √† Istio: simplifier la mise en service</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention et progressivement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essence du mod√®le de d√©ploiement Canary Deployment est extr√™mement simple: lorsque vous d√©marrez une nouvelle version de votre logiciel (dans notre cas, le microservice), vous donnez d'abord acc√®s √† celui-ci √† un petit groupe d'utilisateurs. </font><font style="vertical-align: inherit;">Si tout se passe bien, vous augmentez lentement ce groupe jusqu'√† ce que la nouvelle version commence √† √™tre ind√©sirable, ou - si cela ne se produit pas - transf√©rez √©ventuellement tous les utilisateurs. </font><font style="vertical-align: inherit;">En introduisant consciencieusement et progressivement une nouvelle version en fonctionnement et en basculant les utilisateurs de mani√®re contr√¥l√©e, vous pouvez r√©duire les risques et maximiser le retour d'informations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, Istio simplifie le d√©ploiement de Canary en offrant plusieurs bonnes options pour le routage intelligent des requ√™tes. </font><font style="vertical-align: inherit;">Et oui, tout cela peut √™tre fait sans toucher √† votre code source.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtrer le navigateur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des crit√®res de routage les plus simples est la redirection bas√©e sur un navigateur. </font><font style="vertical-align: inherit;">Supposons que vous souhaitiez que la v2 envoie uniquement des demandes √† partir des navigateurs Safari. </font><font style="vertical-align: inherit;">Voici comment proc√©der:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/iw/af/ca/iwafcaw6eic0prnsylpv5-_qb4u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous appliquons cette r√®gle de routage, puis avec la commande, </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous simulerons des demandes r√©elles au microservice en boucle. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir sur la capture d'√©cran, ils vont tous √† la v1:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/np/yc/fi/npycfikddqlvdsaayjgv7q9wiq4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et o√π est le trafic sur la v2? </font><font style="vertical-align: inherit;">√âtant donn√© que dans notre exemple, toutes les demandes proviennent uniquement de notre propre ligne de commande, cela n'existe tout simplement pas. </font><font style="vertical-align: inherit;">Mais faites attention aux r√©sultats de la capture d'√©cran ci-dessus: c'est une r√©action au fait que nous avons ex√©cut√© la demande du navigateur Safari, qui √† son tour a √©mis ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1y/lx/fu/1ylxfuljfqriqjnho0xti883np4.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pouvoir illimit√©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√©j√† √©crit que les expressions r√©guli√®res offrent des capacit√©s tr√®s puissantes pour le routage des requ√™tes. </font><font style="vertical-align: inherit;">Jetez un ≈ìil √† l'exemple suivant (nous pensons que vous comprendrez vous-m√™me ce qu'il fait):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qg/zm/2n/qgzm2njck952jv0hnpofstseljc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, vous savez probablement d√©j√† de quoi les expressions r√©guli√®res sont capables.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agissez intelligemment</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le routage intelligent, en particulier le traitement des en-t√™tes de paquets √† l'aide d'expressions r√©guli√®res, vous permet de g√©n√©rer du trafic comme vous le souhaitez. </font><font style="vertical-align: inherit;">Et cela simplifie consid√©rablement la mise en service du nouveau code - c'est simple, cela ne n√©cessite pas de changer le code lui-m√™me, et si n√©cessaire, tout peut √™tre rapidement retourn√© tel quel.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int√©ress√© par?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√ätes-vous impatient d'exp√©rimenter avec Istio, Kubernetes et OpenShift sur votre ordinateur? </font><font style="vertical-align: inherit;">L' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©quipe de d√©veloppeurs Red Hat a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pr√©par√© un excellent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">didacticiel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur ce sujet et a partag√© tous les fichiers associ√©s. </font><font style="vertical-align: inherit;">Alors allez-y, et ne vous refusez rien.</font></font><br>
‚ÄÉ<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Istio Egress: sortie par la boutique de cadeaux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation d'Istio avec Red Hat OpenShift et Kubernetes peut grandement vous simplifier la vie avec les microservices. La grille de l'utilitaire Istio est cach√©e dans les pods Kubernetes et votre code est ex√©cut√© (principalement) de mani√®re isol√©e. Performance, facilit√© de changement, de tra√ßage et plus encore - tout cela est facile √† utiliser pr√©cis√©ment gr√¢ce √† l'utilisation de sidecar-containers. Mais que se passe-t-il si votre microservice doit communiquer avec d'autres services situ√©s en dehors de votre syst√®me OpenShift-Kubernetes?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est l√† qu'Istio Egress vient √† la rescousse. En un mot, il vous permet simplement d'acc√©der √† des ressources (lire: ¬´services¬ª) qui ne sont pas incluses dans votre syst√®me de pod Kubernetes. Si vous n'effectuez pas de configuration suppl√©mentaire, dans l'environnement Istio Egress, le trafic est achemin√© uniquement √† l'int√©rieur du cluster de pods et entre ces clusters en fonction des tables IP internes. Et ce genre de mise en sc√®ne fonctionne tr√®s bien jusqu'√† ce que vous ayez besoin d'acc√©der aux services de l'ext√©rieur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Egress vous permet de contourner les tables IP susmentionn√©es, soit en fonction des r√®gles Egress, soit pour une plage d'adresses IP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que nous ayons un programme Java qui ex√©cute une demande GET √† httpbin.org/headers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(httpbin.org est juste une ressource pratique pour tester les demandes de service sortantes.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous tapez √† l'invite de commande</font></font><code>curl http://httpbin.org/headers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous verrons ce qui suit:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rt/k2/uw/rtk2uw9b4vifwpb53kyuwejqsxk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou vous pouvez ouvrir la m√™me adresse dans un navigateur:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tz/do/xk/tzdoxkr-xlm2hak5birhlldkhxw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, le service qui s'y trouve renvoie simplement les en-t√™tes qui lui sont pass√©s.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Substitution d'importation au front</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, prenons le code Java de ce service externe √† notre syst√®me et ex√©cutons-le √† la maison, o√π, rappelez-vous, Istio se trouve. </font><font style="vertical-align: inherit;">(Vous pouvez le faire vous-m√™me en vous r√©f√©rant √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notre tutoriel Istio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .) Apr√®s avoir assembl√© l'image correspondante et l'avoir ex√©cut√©e sur la plate-forme OpenShift, nous appellerons ce service avec une commande </font></font><code>curl egresshttpbin-istioegress.$(minishift ip).nip.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, apr√®s quoi nous verrons √† l'√©cran ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ri/uu/fy/riuufy_oroj1ncon-vuzsa4lq0u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oups, que s'est-il pass√©? </font><font style="vertical-align: inherit;">Pourtant, cela a juste fonctionn√©. </font><font style="vertical-align: inherit;">Que signifie Not Found? </font><font style="vertical-align: inherit;">Nous l'avons juste fait pour lui </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtendez les tables IP √† l'ensemble d'Internet</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bl√¢mez (ou remerciez) Istio pour cela. </font><font style="vertical-align: inherit;">Apr√®s tout, Istio est juste des conteneurs side-car qui sont responsables de la d√©tection et du routage (enfin, pour beaucoup d'autres choses dont nous avons parl√© plus t√¥t). </font><font style="vertical-align: inherit;">Pour cette raison, les tables IP ne savent que ce qui se trouve √† l'int√©rieur de votre syst√®me de cluster. </font><font style="vertical-align: inherit;">Et httpbin.org est situ√© √† l'ext√©rieur et donc indisponible. </font><font style="vertical-align: inherit;">Et ici, Istio Egress vient √† la rescousse - sans la moindre modification de votre code source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La r√®gle Egress ci-dessous oblige Istio √† rechercher (si n√©cessaire, puis sur tout Internet) le service souhait√©, dans ce cas, httpbin.org. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir dans ce fichier (egress_httpbin.yml), la fonctionnalit√© ici est assez simple:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/7a/g0/dt7ag0yvazqigxahzkvaghy6q9a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il ne reste plus qu'√† appliquer cette r√®gle:</font></font><br>
<br>
<pre><code class="plaintext hljs">istioctl create -f egress_httpbin.yml -n istioegress
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez afficher les r√®gles de sortie avec la commande </font></font><code>istioctl get egressrules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/5w/ta/-c5wtafzvbioqrq5fmm-ftewjls.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, r√©ex√©cutez la commande </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - et v√©rifiez que tout fonctionne:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ry/5n/ts/ry5ntsmb11fe3roghccyt8k-tj8.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous pensons ouvertement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, Istio vous permet d'organiser l'interaction avec le monde ext√©rieur. </font><font style="vertical-align: inherit;">En d'autres termes, vous pouvez toujours cr√©er des services OpenShift et les diriger √† travers Kubernetes, en conservant tout dans des modules qui √©voluent de haut en bas selon les besoins. </font><font style="vertical-align: inherit;">Et en m√™me temps, vous pouvez acc√©der en toute s√©curit√© √† des services externes √† votre environnement. </font><font style="vertical-align: inherit;">Et oui, nous r√©p√©tons encore une fois que tout cela peut se faire sans toucher √† votre code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce fut le dernier message de la s√©rie Istio. </font><font style="vertical-align: inherit;">Restez avec nous - il y a beaucoup de choses int√©ressantes √† venir!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr487214/">https://habr.com/ru/post/fr487214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487198/index.html">Attention! Homo Consciousness. je</a></li>
<li><a href="../fr487200/index.html">6 raisons de d√©tester un d√©tecteur de radar</a></li>
<li><a href="../fr487206/index.html">Comment les d√©veloppeurs rendent les jeux honn√™tes</a></li>
<li><a href="../fr487208/index.html">Analytique pour les robots Telegram √©crits en Python</a></li>
<li><a href="../fr487210/index.html">Comment configurer Elasticsearch pour qu'il n'y ait pas de fuites</a></li>
<li><a href="../fr487216/index.html">Kim Dotcom: Caught, la personne la plus recherch√©e en ligne. Partie 2</a></li>
<li><a href="../fr487218/index.html">Botzees - un concepteur de robots pour les plus petits avec la r√©alit√© augment√©e et les yeux gentils</a></li>
<li><a href="../fr487220/index.html">Examen des ampoules LED Remez E27 et E14 sur les LED cor√©ennes de nouvelle g√©n√©ration</a></li>
<li><a href="../fr487224/index.html">Combien de temps une construction √† long terme, destin√©e √† devenir un chef-d'≈ìuvre</a></li>
<li><a href="../fr487226/index.html">Cr√©ez votre badge: Shitty Add-On ne d√©range pas OFFZONE</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>