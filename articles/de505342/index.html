<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåù üë®üèΩ‚Äçüíª üåú Die Abh√§ngigkeitsinjektion und das Prinzip der Abh√§ngigkeitsinversion sind NICHT EIN UND GLEICH üìÆ üö∂üèΩ üë©üèæ‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die √úbersetzung des Artikels wurde vor Beginn des Kurses "C ++ Developer" vorbereitet .
 
 
 
 Es war einmal, als ich anfing, auf LosTechies zu blogge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Die Abh√§ngigkeitsinjektion und das Prinzip der Abh√§ngigkeitsinversion sind NICHT EIN UND GLEICH</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/505342/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die √úbersetzung des Artikels wurde vor Beginn des Kurses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"C ++ Developer"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vorbereitet </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sa/sl/j7/saslj70zbwjvfx4rubfcof0jouo.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war einmal, als ich anfing, auf LosTechies zu bloggen, schrieb ich mehrere Artikel √ºber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dependency Inversion (DI)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Dependency Injection (auch DI) und nat√ºrlich dar√ºber, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie ich es endlich geschafft habe Ich begann die Essenz der Abh√§ngigkeitsinjektion zu verstehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Zu dieser Zeit dachte ich, dass beide DIs nur Variationen des Namens derselben Technik sind - ob Sie es "Injektion" oder "Inversion" nannten.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Injektion! = Inversion</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ungef√§hr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ein Jahr nach diesen beiden Ver√∂ffentlichungen schrieb </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ich f√ºr das Code Magazine einen Artikel √ºber die Prinzipien der SOLID-Softwareentwicklung</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">W√§hrend des Schreibens fragte ich meinen damaligen Mitarbeiter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derek Greer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seien Sie ein Rezensent dieses Artikels. Dies stellte sich als das Beste heraus, was ich je f√ºr mein Verst√§ndnis von SOLID getan habe, da Derek so freundlich (und geduldig mit meiner Sturheit) war, mir zu zeigen, wo sich mein Verst√§ndnis der Abh√§ngigkeitsinversion von dem richtigen unterschied. Er nahm sich die Zeit, um mich durch die Originalartikel von Onkel Bob zu f√ºhren, zu erkl√§ren, wo ich Abh√§ngigkeitsinjektion mit Inversion mischte, und schlie√ülich dieses Thema f√ºr mich zu kl√§ren. Als Ergebnis habe ich einen gro√üartigen Artikel erhalten, der immer noch sehr beliebt ist - und ich bin Derek sehr dankbar f√ºr die Hilfe bei der Korrektur meines Verst√§ndnisses. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bis heute sehe ich jedoch, wie andere Menschen den gleichen Fehler machen - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sogar in Rubin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Um anderen zu helfen, zu verstehen, was Abh√§ngigkeitsinversion ist und was nicht, ver√∂ffentliche ich hier einen Abschnitt dar√ºber aus meinem SOLID-Artikel. </font><font style="vertical-align: inherit;">Ich verstehe, dass ein Teil des Textes au√üerhalb des Kontexts des restlichen Artikels keinen Sinn ergibt. </font><font style="vertical-align: inherit;">Das allgemeine Prinzip sollte jedoch offensichtlich sein, und Sie haben jederzeit die M√∂glichkeit, dem Link zum Artikel zu folgen, um Ihre Punkte zu kl√§ren. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Rechtliche Formalit√§t: Der folgende Text erschien urspr√ºnglich in der </font><font style="vertical-align: inherit;">Januar / Februar 2010- </font><font style="vertical-align: inherit;">Ausgabe des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CODE-Magazins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und wird hier mit deren Genehmigung wiedergegeben.)</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prinzip der Abh√§ngigkeitsinversion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Abh√§ngigkeitsinversionsprinzip (DIP) besteht aus zwei Teilen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Module der oberen Ebene sollten nicht von Modulen der unteren Ebene abh√§ngig sein. </font><font style="vertical-align: inherit;">Sowohl diese als auch andere sollten von Abstraktionen abh√§ngen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abstraktionen sollten nicht von den Details abh√§ngen. </font><font style="vertical-align: inherit;">Details sollten von Abstraktionen abh√§ngen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktualisieren Sie das letzte Mal, wenn Sie die Lampe einschalten m√∂chten, um einen Teil des Raums zu beleuchten. </font><font style="vertical-align: inherit;">War es notwendig, ein Loch in die Wand zu schneiden, nach Kabeln zu suchen, sie freizulegen und die Lampe direkt in die Kabel des Hauses zu l√∂ten? </font><font style="vertical-align: inherit;">Nat√ºrlich nicht (zumindest hoffe ich nicht!). </font><font style="vertical-align: inherit;">Eine Steckdose bietet hierf√ºr eine Standardschnittstelle. </font><font style="vertical-align: inherit;">In den meisten Industriel√§ndern erwartet niemand, dass eine herk√∂mmliche Lampe sie direkt in die elektrische Verkabelung eines Geb√§udes einl√∂tet. </font><font style="vertical-align: inherit;">Au√üerdem erwartet niemand, dass nur eine Lampe in die Steckdose eingesetzt werden kann. </font><font style="vertical-align: inherit;">Wir sind es gewohnt, Lampen, Computer, Fernseher, Staubsauger und andere Ger√§te anzuschlie√üen. </font><font style="vertical-align: inherit;">Eine Standardsteckdose mit 120 Volt und 60 Hertz ist in den USA zu einem allgegenw√§rtigen Bestandteil der Gesellschaft geworden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das gleiche Prinzip gilt f√ºr die Softwareentwicklung. </font><font style="vertical-align: inherit;">Anstatt mit einer Reihe von Klassen zu arbeiten, die eng miteinander verbunden sind, m√∂chten Sie mit einer Standardschnittstelle arbeiten. </font><font style="vertical-align: inherit;">Dar√ºber hinaus m√∂chten Sie sicherstellen, dass Sie die Implementierung ersetzen k√∂nnen, ohne die Erwartungen dieser Schnittstelle gem√§√ü dem LSP (Liskov Substitution Principle - Liskov Substitution Principle) zu verletzen. </font><font style="vertical-align: inherit;">Wenn Sie also mit einer Schnittstelle arbeiten und diese ersetzen m√∂chten, m√ºssen Sie sicherstellen, dass Sie nur mit der Schnittstelle und nicht mit einer bestimmten Implementierung arbeiten. </font><font style="vertical-align: inherit;">Das hei√üt, Code, der auf einer Schnittstelle basiert, sollte nur die Details dieser Schnittstelle kennen. </font><font style="vertical-align: inherit;">Er sollte keine spezifischen Klassen kennen, die diese Schnittstelle implementieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beziehungen von Richtlinien, Details und Abstraktionen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir das Prinzip der Inversion ein wenig umschreiben, k√∂nnen wir sagen, dass die Richtlinie (hohe Ebene) nicht vom Detail (Implementierung) abh√§ngen sollte und das Detail von der Richtlinie abh√§ngen sollte. Eine √ºbergeordnete Richtlinie sollte die Abstraktion definieren, auf die sie verweist, wenn eine Implementierung des Teils die angeforderte Aktion ausf√ºhrt. Diese Perspektive hilft verdeutlichen , </font><font style="vertical-align: inherit;">warum es das Prinzip der ist </font><font style="vertical-align: inherit;">Abh√§ngigkeit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inversion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , und nicht nur das Prinzip der Abh√§ngigkeit Abstraktion.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie als Beispiel, warum die Abh√§ngigkeit eines Teils von einer Richtlinie eine Umkehrung einer Abh√§ngigkeit ist, den Code, den wir in FormatReaderService geschrieben haben. </font><font style="vertical-align: inherit;">Der formatierte Dateireaderdienst ist eine Richtlinie. </font><font style="vertical-align: inherit;">Es definiert, was die IFileFormatReader-Schnittstelle tun soll - das erwartete Verhalten dieser Methoden. </font><font style="vertical-align: inherit;">Auf diese Weise k√∂nnen Sie sich auf die Richtlinie selbst konzentrieren und bestimmen, wie der Lesedienst funktioniert, ohne die Implementierung von Details zu ber√ºcksichtigen - Leser einzelner Formate. </font><font style="vertical-align: inherit;">Somit sind Leser von der Abstraktion abh√§ngig, die vom Leserdienst bereitgestellt wird. </font><font style="vertical-align: inherit;">Letztendlich h√§ngen sowohl der Dienst als auch die einzelnen Leser von der Abstraktion der Formatleserschnittstelle ab.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzieren der Konnektivit√§t durch Invertieren von Abh√§ngigkeiten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie wissen, dass es f√ºr eine Klasse unpraktisch ist, keine Abh√§ngigkeiten zu haben (keine Konnektivit√§t zu haben). Sie h√§tten keine verwendbaren Klassen, wenn Sie keine Konnektivit√§t h√§tten. Sie m√∂chten jedoch auch die direkte Verbindung nach M√∂glichkeit beseitigen. Sie m√∂chten Ihr System so aufteilen, dass Sie seine einzelnen Teile √§ndern k√∂nnen, ohne etwas anderes als genau diese Teile zu √§ndern. Das Prinzip der Abh√§ngigkeitsinversion ist der Schl√ºssel zu diesem Konzept. Wenn Sie sich nur auf eine Abstraktion wie eine Schnittstelle oder eine Basisklasse st√ºtzen, k√∂nnen Sie die Konnektivit√§t zwischen verschiedenen Teilen Ihres Systems verringern. Auf diese Weise k√∂nnen Sie das System mit verschiedenen Implementierungen neu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die vielen Klassen, die in einer klaren Hierarchie instanziiert werden m√ºssen, damit Sie einige der Funktionen erhalten, die Sie ben√∂tigen. Am einfachsten ist es, eine Instanz der Klasse eine Ebene niedriger zu erstellen, indem Sie die Klasse der h√∂chsten Ebene (diejenige, die Sie aufrufen m√∂chten) verwenden, um damit die Klasse noch niedriger zu instanziieren, und so weiter. Abbildung 14 zeigt eine grafische Darstellung von Objekten, von denen ein Objekt einer h√∂heren Ebene (Richtlinie) abh√§ngt und direkt mit einem Objekt einer niedrigeren Ebene verbunden ist (Detail). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7i/zd/jv/7izdjvplld2jiet956hwk3ttlte.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 14: Mit dem Teil verkn√ºpfte Richtlinie.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies implementiert die erforderliche Hierarchie, bindet jedoch Klassen direkt. Sie k√∂nnen Foo nicht verwenden, ohne die Leiste zu ziehen. Wenn Sie diese Klassen trennen m√∂chten, k√∂nnen Sie einfach eine Schnittstelle eingeben, die Bar implementiert und von der Foo abh√§ngt. Abbildung 15 zeigt eine einfache IBar-Schnittstelle, die Sie basierend auf der √∂ffentlichen API der Bar-Klasse erstellen k√∂nnen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/ed/cx/giedcxlbprh_liaxhbew-59rggg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 15: Trennung durch Abstraktion</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In diesem Szenario k√∂nnen Sie die Implementierung von Bar von der Verwendung in Foo trennen, indem Sie eine Schnittstelle einf√ºhren. Sie trennen die Implementierung jedoch nur, indem Sie die Schnittstelle ausw√§hlen. Sie haben die Abh√§ngigkeitsstruktur noch nicht invertiert und nicht alle Konnektivit√§tsprobleme in diesem Schema behoben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was passiert, wenn Sie in diesem Szenario die Leiste √§ndern m√∂chten? Abh√§ngig davon, welche √Ñnderungen Sie vornehmen m√∂chten, k√∂nnen Sie eine Kettenreaktion ausl√∂sen, die Sie zwingt, die IBar-Schnittstelle zu √§ndern. Foo h√§ngt von der IBar-Schnittstelle ab, daher m√ºssen Sie auch die Implementierung von Foo √§ndern. M√∂glicherweise haben Sie die Implementierung von Bar getrennt, Foo jedoch abh√§ngig von √Ñnderungen an Bar verlassen. Das hei√üt, die Richtlinie h√§ngt immer noch von den Details ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Struktur von Abh√§ngigkeiten umkehren m√∂chten, damit der Teil von der Richtlinie abh√§ngig wird, m√ºssen Sie zun√§chst Ihre Perspektive √§ndern. Der Entwickler, der mit diesem System arbeitet, sollte verstehen, dass Sie die Implementierung nicht nur von der Schnittstelle abstrahiert haben. Ja, diese Trennung ist notwendig, aber nicht genug. Sie m√ºssen verstehen, wem die Abstraktion geh√∂rt - Politik oder Details.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Prinzip der Abh√§ngigkeitsinversion besagt, dass Details von Richtlinien abh√§ngig sein m√ºssen. Dies bedeutet, dass Sie √ºber eine Richtlinie verf√ºgen m√ºssen, die die vom Teil implementierte Abstraktion definiert und besitzt. Im Skript Foo-&gt; IBar-&gt; Bar m√ºssen Sie IBar als Teil von Foo betrachten und nicht nur als Wrapper f√ºr Bar. Obwohl sich strukturell nichts ge√§ndert hat, hat sich die Perspektive des Eigentums ge√§ndert, wie in Abbildung 16 dargestellt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dv/x8/13/dvx813ddp0l2nuaqdj6z_nsm5sm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 16: Politik besitzt Abstraktion. Das Detail h√§ngt von der Richtlinie ab.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Foo √ºber eine IBar-Abstraktion verf√ºgt, k√∂nnen Sie diese beiden Konstrukte unabh√§ngig von Bar in ein Paket einf√ºgen. Sie k√∂nnen sie in Ihren eigenen Namespace, in Ihre eigene Assembly usw. einf√ºgen. Dies kann die Sichtbarkeit der Klasse oder des Moduls erheblich erh√∂hen, die von welcher Klasse abh√§ngt. Wenn Sie sehen, dass AssemblyA Foo und IBar enth√§lt und AssemblyB eine Implementierung von IBar bereitstellt, k√∂nnen Sie leichter feststellen, dass die Granularit√§t von Bar von der von Foo definierten Richtlinie abh√§ngt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Struktur von Abh√§ngigkeiten korrekt umkehren, ist jetzt auch die Kettenreaktion auf √Ñnderungen in Richtlinien und / oder Details korrekt. </font><font style="vertical-align: inherit;">Wenn Sie die Implementierung von Bar √§ndern, beobachten Sie keine Aufw√§rtskette von √Ñnderungen mehr. </font><font style="vertical-align: inherit;">Dies liegt daran, dass Bar der von Foo bereitgestellten Abstraktion entsprechen muss - die Details erfordern keine √Ñnderung der Richtlinien mehr. </font><font style="vertical-align: inherit;">Wenn Sie dann die Anforderungen von Foo √§ndern und √Ñnderungen in der IBar-Oberfl√§che verursachen, werden Ihre √Ñnderungen in der gesamten Struktur verteilt. </font><font style="vertical-align: inherit;">Der Balken (Detail) muss sich abh√§ngig von Richtlinien√§nderungen √§ndern.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trennung und Inversion von Systemabh√§ngigkeiten beim Senden von E-Mails</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie unsere Codebasis durchsuchen, werden Sie m√∂glicherweise feststellen, dass IFileFormatReader bereits ein Beispiel f√ºr die Abh√§ngigkeitsinversion ist. Die FormatReaderService-Klasse besitzt eine Formatleser-Schnittstellendefinition. Wenn sich die Anforderungen des formatierten Dateireader-Dienstes √§ndern, wird h√∂chstwahrscheinlich eine Reihe von √Ñnderungen angezeigt, die sich auf Formatierungsleser auswirken. Wenn sich jedoch der Leser eines bestimmten Dateiformats √§ndert, ist es unwahrscheinlich, dass sich diese √Ñnderungen auf den Lesedienst formatierter Dateien auswirken. Dies l√§sst Sie sich fragen, wo Sie sonst Systemabh√§ngigkeiten invertieren k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als erstes m√∂chten Sie die Logik zum Empfangen und Senden von Protokollnachrichten per E-Mail vom Sendeformular trennen. Die Links zu den beiden E-Mail-Lese- und -Sendediensten st√∂ren Sie nicht, aber die Frage, wann und was zu verursachen ist, l√§sst Zweifel aufkommen. Sie erkennen, dass der Prozess tats√§chlich im Formular dupliziert ist: einmal zum Senden aus einer Datei und einmal zum Senden aus einer Datenbank. Und dann erinnern Sie sich an alle anderen Abteilungen, die dies ebenfalls verwenden, und beginnen sich √ºber das tats√§chliche Ausma√ü des Duplizierungsprozesses zu wundern. Dar√ºber hinaus haben einige Ihrer Freunde k√ºrzlich √ºber "Unit-Tests" gesprochen. Sie sagen, dass Sie sicherstellen m√ºssen, dass die eigentliche Logik des zu testenden Prozesses in Objekten enthalten ist, die keine Verweise auf externe Systeme haben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor diesem Hintergrund entscheiden Sie sich, ein Objekt namens ProcessingService zu erstellen. Nachdem Sie den Code einige Minuten lang hin und her gemischt haben, um den Prozess zu konsolidieren, stellen Sie fest, dass der Verarbeitungsdienst nicht direkt mit dem Datenbankleser oder den Dateilesediensten verbunden sein soll. Nach einigem Nachdenken bemerken Sie ein Muster zwischen ihnen: die GetMessageBody-Methode. Auf dieser Grundlage erstellen Sie eine neue IMessageInfoRetriever-Schnittstelle und implementieren sie sowohl als Datenbankleser als auch als Dateireader.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> interface IMessageInfoRetriever<font></font>
{ <font></font>
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span></span>; <font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileReaderService</span>:</span> IMessageInfoRetriever<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">/* ... */</span>}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseReaderService</span>:</span> IMessageInfoRetriever<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">/* ... */</span>}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úber diese Schnittstelle k√∂nnen Sie jede Implementierung f√ºr Verarbeitungsdienste bereitstellen, die Sie ben√∂tigen. </font><font style="vertical-align: inherit;">Dann achten Sie auf den E-Mail-Dienst, der derzeit in direktem Zusammenhang mit dem Verarbeitungsdienst steht. </font><font style="vertical-align: inherit;">Die einfache IEmailService-Schnittstelle l√∂st dieses Problem. </font><font style="vertical-align: inherit;">Abbildung 17 zeigt die resultierende Struktur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nv/np/aa/nvnpaagcxk8lp-aupfuydbylwu0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 17: Invertieren der Abh√§ngigkeiten des Verarbeitungsdienstes und des Dateilesedienstes </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch das √úbergeben von Nachrichtenabrufschnittstellen und E-Mail-Diensten an einen Verarbeitungsdienst wird sichergestellt, dass eine Instanz einer Klasse, die diese Schnittstellen implementiert, verf√ºgbar ist, ohne dass bestimmte Instanztypen erforderlich sind.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erfahren Sie mehr √ºber den Kurs.</font></font></a><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505314/index.html">Linux-Zeitsynchronisation: NTP, Chrony und systemd-timesyncd</a></li>
<li><a href="../de505322/index.html">Dispatcher der Zukunft: Wie wird sich seine Rolle im Dienstleistungsunternehmen ver√§ndern?</a></li>
<li><a href="../de505330/index.html">So erstellen Sie in 3 Jahren keine Kryptow√§hrung von Grund auf neu</a></li>
<li><a href="../de505336/index.html">Gewusst wie: Manet oder Monet? Neuronales Netz reagiert</a></li>
<li><a href="../de505340/index.html">Walmart-Mitarbeiter versuchen zu beweisen, dass Anti-Diebstahl-KI nicht funktioniert</a></li>
<li><a href="../de505362/index.html">Vite - Lead-Entwicklung ohne Bundles auf Vue</a></li>
<li><a href="../de505378/index.html">All dieses Marketing: Wie arbeitet man mit Kontaktstellen in einem IT-Unternehmen?</a></li>
<li><a href="../de505386/index.html">Debian auf Netgear Stora installieren</a></li>
<li><a href="../de505388/index.html">Treezor - Marktf√ºhrer f√ºr Bankdienstleistungen bei der Soci√©t√© G√©n√©rale</a></li>
<li><a href="../de505390/index.html">Gr√ºnder der F # Community: ‚ÄûOOP und AF des Gehirns m√ºssen sterben‚Äú // Wir sind zum Scheitern verurteilt # 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>