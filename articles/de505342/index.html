<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌝 👨🏽‍💻 🌜 Die Abhängigkeitsinjektion und das Prinzip der Abhängigkeitsinversion sind NICHT EIN UND GLEICH 📮 🚶🏽 👩🏾‍✈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Übersetzung des Artikels wurde vor Beginn des Kurses "C ++ Developer" vorbereitet .
 
 
 
 Es war einmal, als ich anfing, auf LosTechies zu blogge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Die Abhängigkeitsinjektion und das Prinzip der Abhängigkeitsinversion sind NICHT EIN UND GLEICH</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/505342/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Übersetzung des Artikels wurde vor Beginn des Kurses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"C ++ Developer"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vorbereitet </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sa/sl/j7/saslj70zbwjvfx4rubfcof0jouo.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war einmal, als ich anfing, auf LosTechies zu bloggen, schrieb ich mehrere Artikel über </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dependency Inversion (DI)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Dependency Injection (auch DI) und natürlich darüber, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wie ich es endlich geschafft habe Ich begann die Essenz der Abhängigkeitsinjektion zu verstehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Zu dieser Zeit dachte ich, dass beide DIs nur Variationen des Namens derselben Technik sind - ob Sie es "Injektion" oder "Inversion" nannten.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Injektion! = Inversion</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ungefähr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ein Jahr nach diesen beiden Veröffentlichungen schrieb </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ich für das Code Magazine einen Artikel über die Prinzipien der SOLID-Softwareentwicklung</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Während des Schreibens fragte ich meinen damaligen Mitarbeiter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Derek Greer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seien Sie ein Rezensent dieses Artikels. Dies stellte sich als das Beste heraus, was ich je für mein Verständnis von SOLID getan habe, da Derek so freundlich (und geduldig mit meiner Sturheit) war, mir zu zeigen, wo sich mein Verständnis der Abhängigkeitsinversion von dem richtigen unterschied. Er nahm sich die Zeit, um mich durch die Originalartikel von Onkel Bob zu führen, zu erklären, wo ich Abhängigkeitsinjektion mit Inversion mischte, und schließlich dieses Thema für mich zu klären. Als Ergebnis habe ich einen großartigen Artikel erhalten, der immer noch sehr beliebt ist - und ich bin Derek sehr dankbar für die Hilfe bei der Korrektur meines Verständnisses. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bis heute sehe ich jedoch, wie andere Menschen den gleichen Fehler machen - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sogar in Rubin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Um anderen zu helfen, zu verstehen, was Abhängigkeitsinversion ist und was nicht, veröffentliche ich hier einen Abschnitt darüber aus meinem SOLID-Artikel. </font><font style="vertical-align: inherit;">Ich verstehe, dass ein Teil des Textes außerhalb des Kontexts des restlichen Artikels keinen Sinn ergibt. </font><font style="vertical-align: inherit;">Das allgemeine Prinzip sollte jedoch offensichtlich sein, und Sie haben jederzeit die Möglichkeit, dem Link zum Artikel zu folgen, um Ihre Punkte zu klären. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Rechtliche Formalität: Der folgende Text erschien ursprünglich in der </font><font style="vertical-align: inherit;">Januar / Februar 2010- </font><font style="vertical-align: inherit;">Ausgabe des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CODE-Magazins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und wird hier mit deren Genehmigung wiedergegeben.)</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prinzip der Abhängigkeitsinversion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Abhängigkeitsinversionsprinzip (DIP) besteht aus zwei Teilen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Module der oberen Ebene sollten nicht von Modulen der unteren Ebene abhängig sein. </font><font style="vertical-align: inherit;">Sowohl diese als auch andere sollten von Abstraktionen abhängen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abstraktionen sollten nicht von den Details abhängen. </font><font style="vertical-align: inherit;">Details sollten von Abstraktionen abhängen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktualisieren Sie das letzte Mal, wenn Sie die Lampe einschalten möchten, um einen Teil des Raums zu beleuchten. </font><font style="vertical-align: inherit;">War es notwendig, ein Loch in die Wand zu schneiden, nach Kabeln zu suchen, sie freizulegen und die Lampe direkt in die Kabel des Hauses zu löten? </font><font style="vertical-align: inherit;">Natürlich nicht (zumindest hoffe ich nicht!). </font><font style="vertical-align: inherit;">Eine Steckdose bietet hierfür eine Standardschnittstelle. </font><font style="vertical-align: inherit;">In den meisten Industrieländern erwartet niemand, dass eine herkömmliche Lampe sie direkt in die elektrische Verkabelung eines Gebäudes einlötet. </font><font style="vertical-align: inherit;">Außerdem erwartet niemand, dass nur eine Lampe in die Steckdose eingesetzt werden kann. </font><font style="vertical-align: inherit;">Wir sind es gewohnt, Lampen, Computer, Fernseher, Staubsauger und andere Geräte anzuschließen. </font><font style="vertical-align: inherit;">Eine Standardsteckdose mit 120 Volt und 60 Hertz ist in den USA zu einem allgegenwärtigen Bestandteil der Gesellschaft geworden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das gleiche Prinzip gilt für die Softwareentwicklung. </font><font style="vertical-align: inherit;">Anstatt mit einer Reihe von Klassen zu arbeiten, die eng miteinander verbunden sind, möchten Sie mit einer Standardschnittstelle arbeiten. </font><font style="vertical-align: inherit;">Darüber hinaus möchten Sie sicherstellen, dass Sie die Implementierung ersetzen können, ohne die Erwartungen dieser Schnittstelle gemäß dem LSP (Liskov Substitution Principle - Liskov Substitution Principle) zu verletzen. </font><font style="vertical-align: inherit;">Wenn Sie also mit einer Schnittstelle arbeiten und diese ersetzen möchten, müssen Sie sicherstellen, dass Sie nur mit der Schnittstelle und nicht mit einer bestimmten Implementierung arbeiten. </font><font style="vertical-align: inherit;">Das heißt, Code, der auf einer Schnittstelle basiert, sollte nur die Details dieser Schnittstelle kennen. </font><font style="vertical-align: inherit;">Er sollte keine spezifischen Klassen kennen, die diese Schnittstelle implementieren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beziehungen von Richtlinien, Details und Abstraktionen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir das Prinzip der Inversion ein wenig umschreiben, können wir sagen, dass die Richtlinie (hohe Ebene) nicht vom Detail (Implementierung) abhängen sollte und das Detail von der Richtlinie abhängen sollte. Eine übergeordnete Richtlinie sollte die Abstraktion definieren, auf die sie verweist, wenn eine Implementierung des Teils die angeforderte Aktion ausführt. Diese Perspektive hilft verdeutlichen , </font><font style="vertical-align: inherit;">warum es das Prinzip der ist </font><font style="vertical-align: inherit;">Abhängigkeit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inversion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , und nicht nur das Prinzip der Abhängigkeit Abstraktion.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie als Beispiel, warum die Abhängigkeit eines Teils von einer Richtlinie eine Umkehrung einer Abhängigkeit ist, den Code, den wir in FormatReaderService geschrieben haben. </font><font style="vertical-align: inherit;">Der formatierte Dateireaderdienst ist eine Richtlinie. </font><font style="vertical-align: inherit;">Es definiert, was die IFileFormatReader-Schnittstelle tun soll - das erwartete Verhalten dieser Methoden. </font><font style="vertical-align: inherit;">Auf diese Weise können Sie sich auf die Richtlinie selbst konzentrieren und bestimmen, wie der Lesedienst funktioniert, ohne die Implementierung von Details zu berücksichtigen - Leser einzelner Formate. </font><font style="vertical-align: inherit;">Somit sind Leser von der Abstraktion abhängig, die vom Leserdienst bereitgestellt wird. </font><font style="vertical-align: inherit;">Letztendlich hängen sowohl der Dienst als auch die einzelnen Leser von der Abstraktion der Formatleserschnittstelle ab.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzieren der Konnektivität durch Invertieren von Abhängigkeiten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie wissen, dass es für eine Klasse unpraktisch ist, keine Abhängigkeiten zu haben (keine Konnektivität zu haben). Sie hätten keine verwendbaren Klassen, wenn Sie keine Konnektivität hätten. Sie möchten jedoch auch die direkte Verbindung nach Möglichkeit beseitigen. Sie möchten Ihr System so aufteilen, dass Sie seine einzelnen Teile ändern können, ohne etwas anderes als genau diese Teile zu ändern. Das Prinzip der Abhängigkeitsinversion ist der Schlüssel zu diesem Konzept. Wenn Sie sich nur auf eine Abstraktion wie eine Schnittstelle oder eine Basisklasse stützen, können Sie die Konnektivität zwischen verschiedenen Teilen Ihres Systems verringern. Auf diese Weise können Sie das System mit verschiedenen Implementierungen neu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die vielen Klassen, die in einer klaren Hierarchie instanziiert werden müssen, damit Sie einige der Funktionen erhalten, die Sie benötigen. Am einfachsten ist es, eine Instanz der Klasse eine Ebene niedriger zu erstellen, indem Sie die Klasse der höchsten Ebene (diejenige, die Sie aufrufen möchten) verwenden, um damit die Klasse noch niedriger zu instanziieren, und so weiter. Abbildung 14 zeigt eine grafische Darstellung von Objekten, von denen ein Objekt einer höheren Ebene (Richtlinie) abhängt und direkt mit einem Objekt einer niedrigeren Ebene verbunden ist (Detail). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7i/zd/jv/7izdjvplld2jiet956hwk3ttlte.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 14: Mit dem Teil verknüpfte Richtlinie.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies implementiert die erforderliche Hierarchie, bindet jedoch Klassen direkt. Sie können Foo nicht verwenden, ohne die Leiste zu ziehen. Wenn Sie diese Klassen trennen möchten, können Sie einfach eine Schnittstelle eingeben, die Bar implementiert und von der Foo abhängt. Abbildung 15 zeigt eine einfache IBar-Schnittstelle, die Sie basierend auf der öffentlichen API der Bar-Klasse erstellen können. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/ed/cx/giedcxlbprh_liaxhbew-59rggg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 15: Trennung durch Abstraktion</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In diesem Szenario können Sie die Implementierung von Bar von der Verwendung in Foo trennen, indem Sie eine Schnittstelle einführen. Sie trennen die Implementierung jedoch nur, indem Sie die Schnittstelle auswählen. Sie haben die Abhängigkeitsstruktur noch nicht invertiert und nicht alle Konnektivitätsprobleme in diesem Schema behoben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was passiert, wenn Sie in diesem Szenario die Leiste ändern möchten? Abhängig davon, welche Änderungen Sie vornehmen möchten, können Sie eine Kettenreaktion auslösen, die Sie zwingt, die IBar-Schnittstelle zu ändern. Foo hängt von der IBar-Schnittstelle ab, daher müssen Sie auch die Implementierung von Foo ändern. Möglicherweise haben Sie die Implementierung von Bar getrennt, Foo jedoch abhängig von Änderungen an Bar verlassen. Das heißt, die Richtlinie hängt immer noch von den Details ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Struktur von Abhängigkeiten umkehren möchten, damit der Teil von der Richtlinie abhängig wird, müssen Sie zunächst Ihre Perspektive ändern. Der Entwickler, der mit diesem System arbeitet, sollte verstehen, dass Sie die Implementierung nicht nur von der Schnittstelle abstrahiert haben. Ja, diese Trennung ist notwendig, aber nicht genug. Sie müssen verstehen, wem die Abstraktion gehört - Politik oder Details.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Prinzip der Abhängigkeitsinversion besagt, dass Details von Richtlinien abhängig sein müssen. Dies bedeutet, dass Sie über eine Richtlinie verfügen müssen, die die vom Teil implementierte Abstraktion definiert und besitzt. Im Skript Foo-&gt; IBar-&gt; Bar müssen Sie IBar als Teil von Foo betrachten und nicht nur als Wrapper für Bar. Obwohl sich strukturell nichts geändert hat, hat sich die Perspektive des Eigentums geändert, wie in Abbildung 16 dargestellt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dv/x8/13/dvx813ddp0l2nuaqdj6z_nsm5sm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 16: Politik besitzt Abstraktion. Das Detail hängt von der Richtlinie ab.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Foo über eine IBar-Abstraktion verfügt, können Sie diese beiden Konstrukte unabhängig von Bar in ein Paket einfügen. Sie können sie in Ihren eigenen Namespace, in Ihre eigene Assembly usw. einfügen. Dies kann die Sichtbarkeit der Klasse oder des Moduls erheblich erhöhen, die von welcher Klasse abhängt. Wenn Sie sehen, dass AssemblyA Foo und IBar enthält und AssemblyB eine Implementierung von IBar bereitstellt, können Sie leichter feststellen, dass die Granularität von Bar von der von Foo definierten Richtlinie abhängt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Struktur von Abhängigkeiten korrekt umkehren, ist jetzt auch die Kettenreaktion auf Änderungen in Richtlinien und / oder Details korrekt. </font><font style="vertical-align: inherit;">Wenn Sie die Implementierung von Bar ändern, beobachten Sie keine Aufwärtskette von Änderungen mehr. </font><font style="vertical-align: inherit;">Dies liegt daran, dass Bar der von Foo bereitgestellten Abstraktion entsprechen muss - die Details erfordern keine Änderung der Richtlinien mehr. </font><font style="vertical-align: inherit;">Wenn Sie dann die Anforderungen von Foo ändern und Änderungen in der IBar-Oberfläche verursachen, werden Ihre Änderungen in der gesamten Struktur verteilt. </font><font style="vertical-align: inherit;">Der Balken (Detail) muss sich abhängig von Richtlinienänderungen ändern.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trennung und Inversion von Systemabhängigkeiten beim Senden von E-Mails</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie unsere Codebasis durchsuchen, werden Sie möglicherweise feststellen, dass IFileFormatReader bereits ein Beispiel für die Abhängigkeitsinversion ist. Die FormatReaderService-Klasse besitzt eine Formatleser-Schnittstellendefinition. Wenn sich die Anforderungen des formatierten Dateireader-Dienstes ändern, wird höchstwahrscheinlich eine Reihe von Änderungen angezeigt, die sich auf Formatierungsleser auswirken. Wenn sich jedoch der Leser eines bestimmten Dateiformats ändert, ist es unwahrscheinlich, dass sich diese Änderungen auf den Lesedienst formatierter Dateien auswirken. Dies lässt Sie sich fragen, wo Sie sonst Systemabhängigkeiten invertieren können.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als erstes möchten Sie die Logik zum Empfangen und Senden von Protokollnachrichten per E-Mail vom Sendeformular trennen. Die Links zu den beiden E-Mail-Lese- und -Sendediensten stören Sie nicht, aber die Frage, wann und was zu verursachen ist, lässt Zweifel aufkommen. Sie erkennen, dass der Prozess tatsächlich im Formular dupliziert ist: einmal zum Senden aus einer Datei und einmal zum Senden aus einer Datenbank. Und dann erinnern Sie sich an alle anderen Abteilungen, die dies ebenfalls verwenden, und beginnen sich über das tatsächliche Ausmaß des Duplizierungsprozesses zu wundern. Darüber hinaus haben einige Ihrer Freunde kürzlich über "Unit-Tests" gesprochen. Sie sagen, dass Sie sicherstellen müssen, dass die eigentliche Logik des zu testenden Prozesses in Objekten enthalten ist, die keine Verweise auf externe Systeme haben.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor diesem Hintergrund entscheiden Sie sich, ein Objekt namens ProcessingService zu erstellen. Nachdem Sie den Code einige Minuten lang hin und her gemischt haben, um den Prozess zu konsolidieren, stellen Sie fest, dass der Verarbeitungsdienst nicht direkt mit dem Datenbankleser oder den Dateilesediensten verbunden sein soll. Nach einigem Nachdenken bemerken Sie ein Muster zwischen ihnen: die GetMessageBody-Methode. Auf dieser Grundlage erstellen Sie eine neue IMessageInfoRetriever-Schnittstelle und implementieren sie sowohl als Datenbankleser als auch als Dateireader.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">public</span> interface IMessageInfoRetriever<font></font>
{ <font></font>
  <span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span></span>; <font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileReaderService</span>:</span> IMessageInfoRetriever<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">/* ... */</span>}<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseReaderService</span>:</span> IMessageInfoRetriever<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetMessageBody</span><span class="hljs-params">()</span> </span>{<span class="hljs-comment">/* ... */</span>}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Über diese Schnittstelle können Sie jede Implementierung für Verarbeitungsdienste bereitstellen, die Sie benötigen. </font><font style="vertical-align: inherit;">Dann achten Sie auf den E-Mail-Dienst, der derzeit in direktem Zusammenhang mit dem Verarbeitungsdienst steht. </font><font style="vertical-align: inherit;">Die einfache IEmailService-Schnittstelle löst dieses Problem. </font><font style="vertical-align: inherit;">Abbildung 17 zeigt die resultierende Struktur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nv/np/aa/nvnpaagcxk8lp-aupfuydbylwu0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung 17: Invertieren der Abhängigkeiten des Verarbeitungsdienstes und des Dateilesedienstes </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch das Übergeben von Nachrichtenabrufschnittstellen und E-Mail-Diensten an einen Verarbeitungsdienst wird sichergestellt, dass eine Instanz einer Klasse, die diese Schnittstellen implementiert, verfügbar ist, ohne dass bestimmte Instanztypen erforderlich sind.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erfahren Sie mehr über den Kurs.</font></font></a><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505314/index.html">Linux-Zeitsynchronisation: NTP, Chrony und systemd-timesyncd</a></li>
<li><a href="../de505322/index.html">Dispatcher der Zukunft: Wie wird sich seine Rolle im Dienstleistungsunternehmen verändern?</a></li>
<li><a href="../de505330/index.html">So erstellen Sie in 3 Jahren keine Kryptowährung von Grund auf neu</a></li>
<li><a href="../de505336/index.html">Gewusst wie: Manet oder Monet? Neuronales Netz reagiert</a></li>
<li><a href="../de505340/index.html">Walmart-Mitarbeiter versuchen zu beweisen, dass Anti-Diebstahl-KI nicht funktioniert</a></li>
<li><a href="../de505362/index.html">Vite - Lead-Entwicklung ohne Bundles auf Vue</a></li>
<li><a href="../de505378/index.html">All dieses Marketing: Wie arbeitet man mit Kontaktstellen in einem IT-Unternehmen?</a></li>
<li><a href="../de505386/index.html">Debian auf Netgear Stora installieren</a></li>
<li><a href="../de505388/index.html">Treezor - Marktführer für Bankdienstleistungen bei der Société Générale</a></li>
<li><a href="../de505390/index.html">Gründer der F # Community: „OOP und AF des Gehirns müssen sterben“ // Wir sind zum Scheitern verurteilt # 7</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>