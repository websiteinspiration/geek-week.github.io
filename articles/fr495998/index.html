<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçü§ù‚Äçüë®üèª ‚õΩÔ∏è üë∞üèº Cr√©ation d'un th√®me sombre pour le d√©bordement de pile üà≤ ‚ùáÔ∏è üå∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le 30 mars 2020, les d√©veloppeurs de Stack Overflow ont donn√© aux visiteurs du site Web la possibilit√© d'utiliser une version b√™ta du th√®me sombre. Le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cr√©ation d'un th√®me sombre pour le d√©bordement de pile</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495998/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le 30 mars 2020, les d√©veloppeurs de Stack Overflow ont donn√© aux visiteurs du site Web la possibilit√© d'utiliser une version b√™ta du th√®me sombre. </font><font style="vertical-align: inherit;">Le mat√©riel, dont nous publions la traduction, est d√©di√© √† l'histoire de la cr√©ation du th√®me sombre de Stack Overflow.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/9d2/662/61f9d2662c30a95f29c885ac6c3180ee.png"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banni√®re sur Stack Overflow, qui vous permet d'inclure un th√®me sombre</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mon nom est Aaron Sheki. Je suis responsable du design chez Stack Overflow. Je participe √† la conception des composants d'interface qui sous-tendent les nouvelles fonctionnalit√©s du projet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, un peu d'ironie. Personnellement, je ne suis pas fan des th√®mes d'interface sombres.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je constate souvent que le niveau de contraste des interfaces sombres est trop faible. La conception de telles interfaces est difficile √† utiliser dans une gamme compl√®te de couleurs. La m√™me chose s'applique √† la simulation de volume √† l'aide d'ombres et √† l'application d'autres effets visuels. Lorsque je lis un texte clair, situ√© sur un fond sombre, mes yeux se fatiguent. Il est difficile de g√©rer des ph√©nom√®nes comme le contraste simultan√© lors de l‚Äôutilisation de th√®mes clairs, et si un th√®me sombre est utilis√©, alors tout devient plus compliqu√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais je suis la personne dont les efforts ont soulev√© un th√®me sombre sur Stack Overflow. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le travail dont je veux parler n'a jamais √©t√© sp√©cifiquement destin√© √† d√©velopper un sujet sombre, malgr√© le fait que de nombreux utilisateurs ont depuis longtemps demand√© d'√©quiper la ressource avec un tel sujet. </font><font style="vertical-align: inherit;">Mais au cours de l'√©volution vers un sujet sombre, nous avons d√ª r√©soudre de nombreux probl√®mes. </font><font style="vertical-align: inherit;">En particulier, le code frontal Stack Overflow a √©t√© mis √† niveau, l'accessibilit√© du contenu a √©t√© am√©lior√©e. </font><font style="vertical-align: inherit;">En travaillant sur un sujet sombre, nous avons eu une incitation √† utiliser notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syst√®me de conception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus largement dans le projet </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pouvons-nous donner aux utilisateurs un th√®me sombre et ouvrir simultan√©ment la voie √† l'am√©lioration de l'accessibilit√© du projet? </font><font style="vertical-align: inherit;">Nous avons r√©pondu √† cette question par l'affirmative, apr√®s avoir fait tout ce que je vais dire maintenant.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche de couleur</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la cr√©ation des √©chelles de couleurs d'origine pour le projet, nous, probablement un peu na√Øfs, avons pris une certaine valeur de couleur et l'avons modifi√©e √† l'aide de transformations impl√©ment√©es √† l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Less</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ainsi, par exemple, nous pourrions d√©clarer une variable Less </font></font><code>@red</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et rendre la couleur plus sombre plusieurs fois en utilisant le design </font></font><code>darken(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il en va de m√™me pour la clarification de plusieurs couleurs √† l'aide </font></font><code>tint(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela peut donner une √©chelle de couleurs dans laquelle les couleurs sont dans la plage de </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† </font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par incr√©ments de 10%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque j'ai essay√© pour la premi√®re fois de comprendre √† quoi pourrait ressembler la ressource Stack Overflow en mode sombre, j'ai d√©cid√© d'essayer de changer le fond blanc en noir et de ¬´retourner¬ª les √©chelles de couleurs. Avec cette approche, la couleur </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devient couleur</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, les couleurs changent en cons√©quence entre les couleurs initiales et finales de l'√©chelle. </font><font style="vertical-align: inherit;">Mais ces couleurs elles-m√™mes restent les m√™mes que celles utilis√©es auparavant.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4de/c02/321/4dec023214649262a2a743d8e32e6de0.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âchelles de couleurs claires et fonc√©es pour le rouge.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Avec cette approche, le contraste des √©l√©ments a souffert. </font><font style="vertical-align: inherit;">Ce qui s'est pass√© s'est av√©r√© contenir quelque chose que, en g√©n√©ral, je n'aimais pas sur les sujets sombres. </font><font style="vertical-align: inherit;">Par exemple, si vous regardez de pr√®s la version la plus sombre du rouge, situ√©e sur un fond sombre, vous verrez que la couleur est presque indiscernable. </font><font style="vertical-align: inherit;">Nous en parlerons plus loin ci-dessous.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/aa4/7fc/3ddaa47fcedcb5bc32c10e43d2079a7b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous devons absolument trouver quelque chose de mieux.</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçPour commencer: conception de la mise en page</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En essayant simplement de dessiner les √©chelles de couleurs, je n'ai en fait rien obtenu. </font><font style="vertical-align: inherit;">Cette √©tape ne peut pas √™tre qualifi√©e de v√©ritable d√©but de travail sur un sujet sombre. </font><font style="vertical-align: inherit;">Par cons√©quent, j'ai d√©cid√© de commencer √† d√©velopper une mise en page et √† s√©lectionner manuellement les couleurs dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">J'ai s√©lectionn√© les couleurs, en me concentrant sur la fa√ßon dont, √† mon avis, Stack Overflow devrait ressembler, sans penser √† la fa√ßon dont les nouvelles couleurs seront li√©es aux couleurs existantes. </font><font style="vertical-align: inherit;">La r√©duction du contraste global √©tait la cl√© pour pr√©server l'effet de profondeur dans l'interface, pour soutenir les ombres des √©l√©ments, pour appliquer le spectre complet des couleurs.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f6/abf/d73/7f6abfd73f890a0c221fafada3eefa8b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commencer avec la conception de la mise en page nous a permis, tout d'abord, de comprendre quel effet esth√©tique nous recherchons, sans pr√™ter attention aux exigences techniques du projet</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçS√©lection d'un algorithme am√©lior√© pour travailler avec les couleurs</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir choisi un fond plus clair pour le th√®me sombre, j'ai eu l'occasion d'explorer plus profond√©ment les √©chelles de couleurs. Tout d'abord, je devais r√©soudre certains des probl√®mes de couleur du syst√®me de conception existant, qui sont apparus lors de l'application du th√®me de la lumi√®re. √Ä l'extr√©mit√© brillante du spectre, les couleurs rouge et jaune ne ressemblaient pas √† ce que j'aurais voulu. Certaines couleurs avaient les valeurs les plus claires, trop proches du blanc. Il y avait des couleurs, dont les valeurs les plus claires √©taient trop sombres.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/554/d5f/86c/554d5f86ce75ada85b706b3604bb904b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La version la plus claire du jaune ne se distinguait pas du blanc, et la plus fonc√©e ne se distinguait pas du noir</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Nous avions des probl√®mes √† l'extr√©mit√© sombre du spectre. </font><font style="vertical-align: inherit;">En utilisant comme arri√®re-plan les couleurs</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code>@blue-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nous avons remarqu√© que ces couleurs ne se distinguent pas du noir et les unes des autres. </font><font style="vertical-align: inherit;">Nous avions besoin d'un algorithme qui nous donnerait des couleurs dont le ton principal se distingue √† la fois pour les versions les plus claires et les plus sombres. </font><font style="vertical-align: inherit;">Cela permettrait la cr√©ation de composants utilisant ces valeurs de couleur.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/570/4e5/9bd/5704e59bdc120461244c34f4dc678bea.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les variations les plus sombres de nos couleurs √©taient indiscernables du noir et les unes des autres. En</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
cr√©ant des composants qui impl√©mentent des notifications, nous ne pouvions pas utiliser les couleurs de notre syst√®me de conception. </font><font style="vertical-align: inherit;">Au lieu de cela, nous devions choisir nos propres couleurs √† l'≈ìil.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3fc/1e4/a56/3fc1e4a5627c6bec05aefae3de608e15.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ces couleurs sont belles, mais elles ne sont pas bas√©es sur les valeurs de couleur de nos √©chelles de couleurs.J'ai</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
utilis√© le merveilleux outil</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ColorBox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Lyft Design</font><font style="vertical-align: inherit;">pour normaliser les couleurs</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Au lieu de changer les couleurs de la mani√®re la plus simple, lin√©airement, par incr√©ments de 10%, j'ai appliqu√© des courbes de B√©zier. </font><font style="vertical-align: inherit;">Cela nous a permis de r√©aliser des am√©liorations significatives dans les positions extr√™mes des √©chelles de couleurs.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e9/58e/6ff/3e958e6ffcf012c47397c0a67afb58a3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s avoir normalis√© les couleurs dans la partie lumineuse du spectre, j'ai pu cr√©er des notifications dont les couleurs sont tir√©es des couleurs de notre syst√®me de conception</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Couleurs fonc√©es</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir mis en ordre la version all√©g√©e du site, il est temps d'essayer de nouvelles couleurs sur un fond sombre. </font><font style="vertical-align: inherit;">En cons√©quence, j'ai eu recours √† des r√©glages manuels de ce que l'algorithme de correspondance des couleurs a produit, en faisant cela pour pr√©server les couleurs d'entreprise qui ont √©t√© utilis√©es pendant tr√®s longtemps. </font><font style="vertical-align: inherit;">Cela m'a permis d'utiliser de nouvelles couleurs en production et en m√™me temps de me passer de changements trop drastiques dans l'apparence du projet.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb1/8f0/00f/eb18f000f7742e215c90a7c9be062795.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gamme de couleurs enti√®rement normalis√©e</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impl√©mentation d'un th√®me sombre dans l'interface Stacks</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si j'esp√©rais en quelque sorte √©quiper Stack Overflow d'un th√®me sombre, je devrais d'abord impl√©menter un th√®me sombre dans notre syst√®me de conception </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacks</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , en l'utilisant comme terrain d'essai pour tester de nouvelles technologies.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçVariables</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'avais besoin de convertir des valeurs de couleurs hexad√©cimales moins compil√©es statiques en propri√©t√©s CSS personnalis√©es con√ßues pour √™tre utilis√©es pendant l'ex√©cution du programme. Le fait est que les valeurs de couleur doivent √™tre stock√©es en utilisant des structures de vue </font></font><code>var(--red-500)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, plut√¥t qu'en utilisant des structures de vue statiques </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. C'√©tait une t√¢che int√©ressante - √† la fois dans la conception de notre syst√®me et dans l'ensemble du site. Nous avons g√©n√©ralement pris une seule valeur de couleur, comme </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et l' </font><font style="vertical-align: inherit;">avons </font><font style="vertical-align: inherit;">rendue plus claire ou plus sombre pour mettre en √©vidence diff√©rents √©tats des √©l√©ments (comme les √©tats que les √©l√©ments prennent lorsqu'ils survolent ou lorsqu'ils se concentrent), √† utiliser comme couleur d'arri√®re-plan ou couleur des bordures des √©l√©ments.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons des couleurs de chacun des boutons, que nous avons beaucoup, des couleurs de chaque √©tat de chaque bouton, alors nous pouvons dire que ces couleurs ont √©t√© obtenues au cours d'un ensemble de transformations d'une seule valeur de couleur compil√©e. Cela m'a rappel√© une sc√®ne du film "Le jeu pour une chute". L√†, ils ont parl√© de la possibilit√© de transformer un dix millioni√®me investissement en milliards de dollars. Il n'est pas surprenant que de telles ¬´transformations¬ª aient conduit √† la crise financi√®re. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le probl√®me avec les variables CSS r√©guli√®res est que vous ne pouvez pas leur appliquer de transformations Less. Les valeurs des variables CSS sont calcul√©es au moment de l'ex√©cution, donc une construction comme celle-ci </font></font><code>darken(var(--red-500), 5%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conduit √† une erreur de compilation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela signifiait que je devais retravailler le code responsable, par exemple, du style des boutons. Au d√©but, il ressemblait √† ceci:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: @white;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: @blue-<span class="hljs-number">600</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">10%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je devais continuer pour indiquer les valeurs de couleur exactes d√©crites dans notre syst√®me de couleurs. </font><font style="vertical-align: inherit;">En cons√©quence, je devais arriver √† cette version du code:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--white);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">600</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">800</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En m√™me temps, il √©tait clair que tout ne se limitait pas aux boutons. </font><font style="vertical-align: inherit;">Par cons√©quent, j'ai d√ª retravailler les styles de tous les composants disponibles dans les piles. </font><font style="vertical-align: inherit;">Il en va de m√™me pour les notifications, les menus contextuels, les fen√™tres modales, les liens et de nombreux autres composants.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Compatibilit√© du navigateur</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons de variables CSS, leur application signifiait la n√©cessit√© de consid√©rer leur prise en charge par les navigateurs. </font><font style="vertical-align: inherit;">En particulier, ils ne sont pas pris en charge par Internet Explorer 11 - un navigateur que nous n'avons jamais oubli√©. </font><font style="vertical-align: inherit;">En cons√©quence, nous avons d√©cid√© d'abandonner la prise en charge d'IE11, en nous d√©barrassant de tous les hacks CSS que nous avons ajout√©s au syst√®me au fil des ann√©es de son d√©veloppement, en tenant compte des fonctionnalit√©s de ce navigateur. </font><font style="vertical-align: inherit;">De plus, nous avons d√©cid√© d'envoyer des notifications aux utilisateurs d'IE11 avec une proposition d'installer un nouveau navigateur. </font><font style="vertical-align: inherit;">Cette d√©cision n'a pas √©t√© facile pour nous. </font><font style="vertical-align: inherit;">Sa mise en ≈ìuvre a n√©cessit√© des semaines de refactoring.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Classes conditionnelles</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IE11 ne me limitait plus et j'ai pu travailler avec des couleurs dans Stacks. J'ai d√©cid√© d'ajouter une </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font><font style="vertical-align: inherit;">√† l'√©l√©ment </font></font><code>.theme-system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela fait, j'ai pu remplacer les couleurs claires par leurs √©quivalents sombres en utilisant la requ√™te de m√©dia appropri√©e. De plus, nous pourrions refuser compl√®tement la demande des m√©dias en ajoutant simplement √† la </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font><code>.theme-dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela permettrait aux utilisateurs d'utiliser le th√®me sombre du site ind√©pendamment de leurs param√®tres syst√®me. Voici ce que j'ai obtenu en cons√©quence:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#c02d2e</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-system</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;@media (<span class="hljs-attribute">prefers-color-scheme</span>: dark) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--red-<span class="hljs-number">600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-dark</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour obtenir une flexibilit√© totale, Stacks permet de travailler avec des classes de couleurs atomiques, qui s'appliquent uniquement lorsqu'un th√®me sombre est activ√©. Les d√©tails sur la prise en charge CSS dans les piles peuvent √™tre trouv√©s </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Par exemple, ajouter une classe √† un √©l√©ment. </font></font><code>d:bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le concepteur exprime la pens√©e suivante: "En mode sombre, vous devez utiliser du vert pour l'arri√®re-plan </font></font><code>bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">." Des classes conditionnelles suppl√©mentaires con√ßues pour le mode sombre nous permettent de supprimer les bordures des √©l√©ments, de changer l'arri√®re-plan et d'ajuster la couleur du texte. Dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tweet, vous pouvez voir un exemple int√©ressant de r√©glage des couleurs. Un tel r√©glage est parfois n√©cessaire en mode sombre. Je tiens √† noter que l'une des sources d'inspiration pour travailler sur le mode sombre du site pour moi √©tait le framework CSS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tailwind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçUtilisez un th√®me sombre dans les piles</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois le th√®me sombre impl√©ment√© dans les piles, nous avons d√©cid√© d'ajouter un bouton en haut de l'interface syst√®me qui vous permet de basculer entre les th√®mes. </font><font style="vertical-align: inherit;">Les employ√©s de l'entreprise auraient d√ª avoir une capacit√© rapide et pratique de basculer entre les diff√©rents th√®mes de couleurs du site.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/577/bd3/cef577bd304db402329b23ee9aa740e4.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basculer entre les th√®mes clairs et sombres dans les piles</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impl√©mentation d'un th√®me sombre sur le site principal de Stack Overflow</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai r√©solu assez facilement les t√¢ches li√©es √† l'impl√©mentation du th√®me sombre dans l'interface du syst√®me de conception Stacks. Le refactoring, qui prend en compte les consid√©rations de d√©veloppement futur du syst√®me, permet aux piles d'√™tre plus petites que le site principal des cons√©quences de d√©cisions erron√©es prises par le pass√©. Afin d'√©quiper le th√®me sombre avec Stack Overflow, j'avais besoin de fournir un support pour moins de variables dans un souci de compatibilit√© descendante de la solution. Cela nous a permis d'organiser progressivement l'application du th√®me sombre, dans des parties distinctes de l'interface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que la plupart de notre interface, cr√©√©e apr√®s 2018, est bas√©e sur des piles, cette partie de l'interface re√ßoit, sans efforts suppl√©mentaires de notre part, un th√®me sombre et des mises en page r√©actives. Qu'en est-il de la partie principale de l'interface? Tout ici est loin d'√™tre aussi simple.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçCouleurs principales du site</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, je devais apporter les plus grandes modifications au site qui pourraient √™tre apport√©es sans violer le th√®me d'√©clairage standard Stack Overflow. </font><font style="vertical-align: inherit;">Les t√¢ches que j'ai d√ª r√©soudre √©taient principalement de remplacer les variables statiques Less par des variables CSS √©quivalentes. </font><font style="vertical-align: inherit;">Tout d'abord, j'ai appliqu√© le style </font></font><code>background-color: var(--white)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† l'arri√®re-plan du site, en le rempla√ßant par le style </font></font><code>background-color: @white</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Gr√¢ce √† cela, la zone principale des villages peut maintenant √™tre facilement repeinte en arri√®re-plan de couleur sombre. </font><font style="vertical-align: inherit;">Ensuite, j'ai fait la m√™me op√©ration avec les couleurs des polices et quelques autres √©l√©ments. </font><font style="vertical-align: inherit;">Ce travail consistait principalement √† supprimer une grande quantit√© de code CSS, car, par exemple, nous aimions souvent les styles trop d√©taill√©s, d√©finissant les couleurs de police des √©l√©ments enfants, bien que nous puissions bien nous en tirer avec les valeurs de couleur h√©rit√©es des √©l√©ments parents.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç D√©monstration d'un nouveau design pour les employ√©s de l'entreprise</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir travaill√© sur de gros blocs du site, j'ai demand√© √† nos programmeurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Lear</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nick Craver de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m'aider √† trouver un moyen de montrer une version pr√©liminaire du th√®me sombre au personnel de Stack Overflow. </font><font style="vertical-align: inherit;">Cela permettrait aux employ√©s d'inclure un sujet sombre, qui est encore tr√®s loin d'√™tre pr√™t √† voir quelles zones du site doivent encore √™tre am√©lior√©es. </font><font style="vertical-align: inherit;">Je pensais que cela les encouragerait √† affiner les parties du site avec le plus de trafic. </font><font style="vertical-align: inherit;">Cela me permettrait de surmonter l'obstacle principal √† un nouveau design. </font><font style="vertical-align: inherit;">√Ä savoir, cela aiderait √† int√©grer la nouvelle conception dans la base de code existante.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçBoutons</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la zone du site sur laquelle je travaillais a √©t√© cr√©√©e √† l'aide de Stacks, alors pour la pr√©parer √† l'utilisation du mode sombre, il √©tait n√©cessaire de r√©soudre peu de probl√®mes. Disons qu'au cours du travail, il a √©t√© possible de d√©cider que quelque part la bordure n'√©tait pas n√©cessaire, ou - que quelque part, une nuance de gris sp√©ciale √©tait n√©cessaire comme couleur de fond. Cette pr√©paration √† l'utilisation du r√©gime sombre pourrait √™tre limit√©e. Malheureusement, la plupart du site a √©t√© cr√©√© sans utiliser de piles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela s'est manifest√© le plus clairement en ce qui concerne les boutons. Au fil des ann√©es de travail sur le site, de nombreuses impl√©mentations de boutons y ont √©t√© utilis√©es. Cela a √©t√© particuli√®rement frustrant lorsque nous avons stylis√© les √©l√©ments eux-m√™mes </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cela signifie que tout √©l√©ment </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou √©l√©ment, d√©cor√© comme</font></font><code>input type=¬´button¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, a re√ßu le style par d√©faut. Ce style a un niveau de sp√©cificit√© tr√®s √©lev√© et est bas√© sur un ensemble de r√®gles obsol√®tes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait ci-dessus a conduit √† la n√©cessit√© de beaucoup de refactoring, qui est toujours en cours. Il vise √† supprimer les styles CSS au niveau √©l√©ment </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et √† les remplacer par des √©quivalents des piles. En particulier, nous parlons du fait que des centaines d'√©l√©ments </font></font><code>input type=¬´submit¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">doivent √™tre remplac√©s par </font></font><code>&lt;button type="submit" class="s-btn s-btn__primary"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. En plus d'ajouter du travail, je note que nous avons souvent li√© la fonctionnalit√© JavaScript aux s√©lecteurs visuels. Si vous modifiez les classes qui affectent l'apparence de l'√©l√©ment, cela peut casser la fonctionnalit√© du bouton. En cons√©quence, pendant le traitement de milliers de boutons, j'ai d√ª d'abord leur ajouter des classes</font></font><code>js-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, connectez-leur des gestionnaires, puis supprimez les anciens styles qui d√©finissent l'apparence des boutons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela m'a finalement conduit √† supprimer la plupart des anciennes classes de boutons, ce qui permettait aux boutons de changer correctement de couleur lors de l'activation d'un th√®me sombre.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Titre du site Web</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour compliquer la t√¢che, l'en-t√™te utilis√© sur l'ensemble du site peut fonctionner dans diff√©rents modes. Nous parlons des modes clair et sombre, et du mode support pour un sujet sp√©cial. L'option de site pour les √©quipes (Stack Overflow for Teams) et pour les syst√®mes d'entreprise utilise de force un th√®me d'en-t√™te sombre. De plus, la version de la commande utilise la couleur sp√©cifi√©e par la couleur de l'avatar de l'√©quipe. Comme beaucoup de nos autres composants, CSS pour le titre du site pr√©voit une seule couleur, qui d√©termine si le titre est clair ou fonc√©. Cette couleur est ensuite transform√©e en utilisant des instructions Less moins complexes, ce qui vous permet d'obtenir ses diff√©rentes options. Cependant, nous n'avons pas pu faire ce que nous avons fait lorsque nous avons trait√© le code du syst√®me de conception. Autrement dit, ils ne pouvaient pas simplement jeter tous les anciens CSS et les remplacer par du code,qui utilise des variables CSS. Le fait est que nos entreprises clientes, en fait, compl√®tement, √† l'aide de th√®mes, personnalisent l'apparence de l'en-t√™te. Dans ce cas, les options de couleur sont g√©n√©r√©es sur la base d'une seule couleur.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/46c/185/ac946c185fca67ca872cbba06ebf01e7.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cap l√©ger</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a3/4b0/c9c/1a34b0c9c3f233b0ce09f1ee3a304f26.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Titre sombre</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/297/a58/444297a5852500a5e4279b783619e1b3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En-</font><i><font color="#999999"><font style="vertical-align: inherit;"> t√™te de commande</font></font></i><font style="vertical-align: inherit;"> Dans le cas de l'en-t√™te lumineux Stack Overflow, nous avons d√ª trouver un m√©canisme pour savoir si une certaine couleur a √©t√© d√©finie √† l'aide d'une variable CSS ou √† l'aide d'une valeur hexad√©cimale statique. </font><font style="vertical-align: inherit;">Si la couleur a √©t√© d√©finie √† l'aide d'une variable CSS, nous pourrions ignorer compl√®tement sa transformation Moins, cr√©ant un en-t√™te qui pourrait changer les couleurs en fonction des param√®tres du th√®me sombre. </font><font style="vertical-align: inherit;">Si une variable Less statique √©tait utilis√©e √† la place, vous deviez √©valuer la couleur pour voir si elle √©tait claire ou fonc√©e et cr√©er un en-t√™te appropri√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, nous sommes arriv√©s √† cette approche:</font></font><br>
<br>
<pre><code class="css hljs">&amp; <span class="hljs-selector-tag">when</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: if(luma(@theme-topbar-background-color) &gt;= <span class="hljs-number">50%</span>, light, dark);<font></font>
&nbsp;}<font></font>
&nbsp;&amp; <span class="hljs-selector-tag">when</span> <span class="hljs-selector-tag">not</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: automatic;<font></font>
&nbsp;}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, en fonction de la valeur re√ßue ( </font></font><code>automatic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>light</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), l'en-t√™te correct est cr√©√©.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç√âtiquettes</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si je pouvais donner un seul conseil √† ceux qui sont impliqu√©s dans la conception des composants, alors il se lirait: "Ne d√©crivez pas dans les composants ce qui affecte leur emplacement sur la page." En d'autres termes, quel type d'espace s√©pare les composants doit d√©terminer le contexte dans lequel ils sont appliqu√©s. Pas besoin de d√©finir de telles choses dans le composant lui-m√™me. Dans les versions ant√©rieures de Stack Overflow, il √©tait d√©cid√© que le </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remplissage externe devait √™tre appliqu√© </font><font style="vertical-align: inherit;">aux composants </font><font style="vertical-align: inherit;">. Dans le m√™me temps, les balises, comme les boutons, se sont r√©v√©l√©es √™tre sujettes √† un probl√®me li√© √† JavaScript. Pour rendre les choses encore plus difficiles, la plupart des balises ont √©t√© g√©n√©r√©es √† l'aide d'une seule m√©thode d'assistance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La refactorisation des balises impliquait de remplacer </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-components par</font></font><code>s-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-composants con√ßus pour utiliser diff√©rents sujets. </font><font style="vertical-align: inherit;">Ce travail a √©galement inclus des modifications de JavaScript, en tenant compte de l'utilisation </font></font><code>js-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">De plus, il √©tait n√©cessaire de changer la m√©thode responsable de la g√©n√©ration des balises, afin qu'elle accepte les classes arbitraires qui affectent le placement des √©l√©ments. </font><font style="vertical-align: inherit;">Le fait est que dans certains contextes, les balises peuvent devoir √™tre plac√©es dans la disposition flexible, ce faisant au lieu de s'appuyer sur des retraits externes pr√©d√©finis (ou au lieu de traiter ces retraits).</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Styling publications</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La majeure partie de Stack Overflow est constitu√©e de publications utilisateur. Ces publications, √† savoir les questions, r√©ponses, commentaires, sont r√©dig√©es √† l'aide du balisage Markdown. Lors du lancement de Stack Overflow, Markdown Markup √©tait une technologie relativement nouvelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au fil des ans, le Web a d√©velopp√© des m√©thodes standard pour afficher quelque chose comme des titres et des citations. L'introduction du sujet sombre a √©t√© un excellent moment pour revoir notre approche de la mise en forme des publications. Le probl√®me le plus controvers√© dans cette affaire a √©t√© le formatage des citations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Initialement, les citations √©taient encadr√©es √† l'aide d'une puissante couleur de fond jaune, ce qui r√©duisait le contraste de la citation elle-m√™me. </font><font style="vertical-align: inherit;">De plus, la couleur jaune provoque certains probl√®mes lorsqu'elle est affich√©e sur un fond sombre. </font><font style="vertical-align: inherit;">En cons√©quence, nous sommes pass√©s √† la m√©thode g√©n√©ralement accept√©e d'affichage des citations, en utilisant une barre verticale grise √©troite pour les mettre en surbrillance.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Style de code</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur les pages de Stack Overflow, ce qui est assez compr√©hensible, de nombreux morceaux de code sont affich√©s. </font><font style="vertical-align: inherit;">Les couleurs que nous avons utilis√©es pour mettre en √©vidence la syntaxe n'avaient rien √† voir avec nos couleurs de signature. </font><font style="vertical-align: inherit;">Je soup√ßonne fortement que ces couleurs sont l'h√©ritage de la premi√®re biblioth√®que utilis√©e dans le projet pour la coloration syntaxique. </font><font style="vertical-align: inherit;">Apr√®s avoir analys√© ces couleurs, j'ai d√©cid√© de soumettre le reflet de la syntaxe √† une refonte profonde. </font><font style="vertical-align: inherit;">En cons√©quence, les couleurs de r√©tro√©clairage ont √©t√© remplac√©es par des couleurs de notre syst√®me de conception. </font><font style="vertical-align: inherit;">Cela s'applique aux sujets clairs et sombres. </font><font style="vertical-align: inherit;">Et cela est fait pour que ce qui s'est pass√© ne diff√®re pas radicalement de ce qu'il √©tait avant.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4df/a80/f44/4dfa80f44153364564dae8eef53c2b44.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le th√®me clair et la version b√™ta du th√®me sombre, sorti le 30 mars.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En raison du volume de travail de refactoring que nous avons effectu√© en passant au sujet sombre, nous avons pu apporter des modifications assez importantes √† l'apparence du projet sans aucune difficult√©. Sur la base de ce que nous avons maintenant, nous pouvons, par exemple, d√©velopper un th√®me de site Web √† contraste √©lev√© qui augmente son accessibilit√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La cr√©ation du th√®me sombre est le r√©sultat d'un changement fondamental dans l'approche de la conception de Stack Overflow. En particulier, nous parlons de l'utilisation d'un</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> syst√®me de conception</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que je fais la promotion depuis un an maintenant. Et la cr√©ation d'un th√®me sombre a √©t√© une excellente occasion pour moi de reconstruire de nombreuses parties du site. Il s'agit du premier de nombreux projets qui augmenteront la disponibilit√© de Stack Overflow.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous ne prenez pas en compte le rejet du support d'IE11, les travaux sur le sujet sombre ont commenc√© en juillet 2019 avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PR, visant √† rechercher la situation. </font><font style="vertical-align: inherit;">Avant cela, en avril 2019, il y avait eu des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">discussions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur un sujet sombre. </font><font style="vertical-align: inherit;">En octobre 2019, une version exp√©rimentale d'un th√®me sombre est entr√©e en production. </font><font style="vertical-align: inherit;">Et puis, apr√®s au moins 60 relations publiques, une version b√™ta du th√®me sombre a √©t√© pr√©sent√©e aux utilisateurs. </font><font style="vertical-align: inherit;">C'est arriv√© le 30 mars 2020. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chers lecteurs! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez-vous Stack Overflow? </font><font style="vertical-align: inherit;">Aimez-vous leur nouveau th√®me sombre?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495984/index.html">React, performance et -500 millisecondes au lancement - l'historique de nos optimisations en chiffres</a></li>
<li><a href="../fr495986/index.html">Analyse de documents internationaux sur la gestion des risques de s√©curit√© de l'information. Partie 2</a></li>
<li><a href="../fr495990/index.html">Divulgation de num√©ro de t√©l√©phone et g√©olocalisation par vuln√©rabilit√© dans Telegram</a></li>
<li><a href="../fr495994/index.html">D√©but du trimestre acad√©mique ou comment je suis devenu coordinateur de l'enseignement √† distance</a></li>
<li><a href="../fr495996/index.html">Raspberry Pi, Python et arrosage des plantes d'int√©rieur</a></li>
<li><a href="../fr496004/index.html">Nouveaux mod√®les de recherche et d'analyse de donn√©es. WSDM 2020 √† travers les yeux de l'√©quipe Yandex.Tolki</a></li>
<li><a href="../fr496006/index.html">Proxy inverse d√©pass√© - technologie pour la protection √† distance et l'optimisation du site sans modifier les enregistrements DNS A</a></li>
<li><a href="../fr496010/index.html">Qu'arrive-t-il aux transports pendant la crise (premi√®re semaine d'avril)</a></li>
<li><a href="../fr496014/index.html">S√©minaires hebdomadaires IBM - avril 2020</a></li>
<li><a href="../fr496020/index.html">MVP d'√©t√©. Quelle est la flexibilit√© de Kotlin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>