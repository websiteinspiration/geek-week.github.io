<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéª üìâ üå† Criando um tema escuro para estouro de pilha ü§≥üèΩ üêä üôã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em 30 de mar√ßo de 2020, os desenvolvedores do Stack Overflow deram aos visitantes do site a oportunidade de usar uma vers√£o beta do tema sombrio. O ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Criando um tema escuro para estouro de pilha</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495998/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 30 de mar√ßo de 2020, os desenvolvedores do Stack Overflow deram aos visitantes do site a oportunidade de usar uma vers√£o beta do tema sombrio. </font><font style="vertical-align: inherit;">O material, cuja tradu√ß√£o publicamos, √© dedicado √† hist√≥ria de como o tema sombrio do Stack Overflow foi criado.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/9d2/662/61f9d2662c30a95f29c885ac6c3180ee.png"></div></a><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banner no Stack Overflow, que permite incluir um tema sombrio</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Meu nome √© Aaron Sheki. Sou o chefe de design do Stack Overflow. Participo do design dos componentes da interface subjacentes aos novos recursos do projeto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para come√ßar, um pouco de ironia. Pessoalmente, n√£o sou f√£ de temas de interface obscuros.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Costumo ver que o n√≠vel de contraste das interfaces escuras √© muito baixo. O design dessas interfaces √© dif√≠cil de usar uma gama completa de cores. O mesmo se aplica √† simula√ß√£o de volume usando sombras e √† aplica√ß√£o de outros efeitos visuais. Quando leio um texto claro, localizado em um fundo escuro, meus olhos se cansam. √â dif√≠cil lidar com fen√¥menos como contraste simult√¢neo ao usar temas claros e, se um tema sombrio for usado, tudo se tornar√° mais complicado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas sou a pessoa cujos esfor√ßos trouxeram um tema sombrio no Stack Overflow. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O trabalho sobre o qual quero falar nunca teve como objetivo espec√≠fico o desenvolvimento de um t√≥pico obscuro, apesar do fato de muitos usu√°rios pedirem para equipar o recurso com esse t√≥pico. </font><font style="vertical-align: inherit;">Mas, ao avan√ßar para um t√≥pico obscuro, tivemos que resolver muitos problemas. </font><font style="vertical-align: inherit;">Em particular, o c√≥digo de front-end do Stack Overflow foi atualizado, a acessibilidade do conte√∫do foi aprimorada. </font><font style="vertical-align: inherit;">Trabalhando em um t√≥pico obscuro, recebemos um incentivo para usar nosso </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistema de design</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais amplamente no projeto </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos dar aos usu√°rios um tema sombrio e, simultaneamente, abrir o caminho para melhorar a acessibilidade do projeto? </font><font style="vertical-align: inherit;">Respondemos afirmativamente a essa pergunta, tendo feito tudo o que vou contar agora.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesquisa de cores</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao criar as escalas de cores originais para o projeto, n√≥s, provavelmente um pouco ing√™nuos, pegamos um determinado valor de cor e o modificamos usando transforma√ß√µes implementadas usando </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Less</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Assim, por exemplo, poder√≠amos declarar uma vari√°vel menos </font></font><code>@red</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e tornar a cor mais escura v√°rias vezes usando o design </font></font><code>darken(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. O mesmo vale para v√°rios esclarecimentos de cores usando </font></font><code>tint(@red, 10%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso pode fornecer uma escala de cores na qual as cores est√£o no intervalo de </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">at√© </font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incrementos de 10%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando tentei entender como o recurso Estouro de pilha pode parecer no modo escuro, decidi tentar alterar o fundo branco para preto e "virar" as escalas de cores. Com essa abordagem, a cor </font></font><code>@red-050</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se torna colorida</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, as cores mudam correspondentemente entre as cores inicial e final da escala. </font><font style="vertical-align: inherit;">Mas essas cores permanecem as mesmas que as usadas anteriormente.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4de/c02/321/4dec023214649262a2a743d8e32e6de0.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As cores claras e escuras s√£o escuras para o vermelho.Com</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
essa abordagem, o contraste dos elementos sofreu. </font><font style="vertical-align: inherit;">O que aconteceu acabou por conter algo que, em geral, eu n√£o gostei em t√≥picos obscuros. </font><font style="vertical-align: inherit;">Por exemplo, se voc√™ observar atentamente a vers√£o mais escura do vermelho, localizada em um fundo escuro, ver√° que a cor √© quase indistingu√≠vel. </font><font style="vertical-align: inherit;">Falaremos mais sobre isso abaixo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/aa4/7fc/3ddaa47fcedcb5bc32c10e43d2079a7b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definitivamente, precisamos criar algo melhor.</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StartedIntrodu√ß√£o: projeto de layout</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apenas tentando desenhar as escalas de cores, na verdade n√£o consegui nada. </font><font style="vertical-align: inherit;">Esta etapa n√£o pode ser chamada de in√≠cio real do trabalho em um t√≥pico obscuro. </font><font style="vertical-align: inherit;">Portanto, decidi come√ßar a desenvolver um layout e selecionar manualmente as cores no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Selecionei as cores, focando em como, na minha opini√£o, o Stack Overflow deve parecer, e n√£o pensando em como as novas cores se relacionar√£o com as existentes. </font><font style="vertical-align: inherit;">Reduzir o contraste geral foi a chave para preservar o efeito de profundidade na interface, para apoiar as sombras dos elementos, para aplicar todo o espectro de cores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f6/abf/d73/7f6abfd73f890a0c221fafada3eefa8b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A introdu√ß√£o do design do layout permitiu-nos, antes de tudo, entender para que efeito est√©tico estamos buscando, sem prestar aten√ß√£o aos requisitos t√©cnicos do projeto.</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OfSele√ß√£o de um algoritmo aprimorado para trabalhar com cores</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de escolher um fundo mais claro para o tema escuro, tive a oportunidade de explorar mais profundamente as escalas de cores. Primeiro, eu precisava lidar com alguns dos problemas de cores do sistema de design existente, que apareceram ao aplicar o tema da luz. No final brilhante do espectro, as cores vermelha e amarela n√£o eram da maneira que eu gostaria. Algumas cores tinham os valores mais claros, muito pr√≥ximos do branco. Havia cores, cujos valores mais claros eram escuros demais.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/554/d5f/86c/554d5f86ce75ada85b706b3604bb904b.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vers√£o mais clara do amarelo era indistingu√≠vel do branco e a mais escura era indistingu√≠vel do preto.Tivemos</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
problemas no extremo escuro do espectro. </font><font style="vertical-align: inherit;">Usando, como fundo, cores</font></font><code>@red-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font><code>@blue-900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, notamos que essas cores s√£o indistingu√≠veis do preto e um do outro. </font><font style="vertical-align: inherit;">Precis√°vamos de um algoritmo que nos desse cores cujo tom principal seja distingu√≠vel para as vers√µes mais clara e mais escura. </font><font style="vertical-align: inherit;">Isso permitiria a cria√ß√£o de componentes usando esses valores de cores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/570/4e5/9bd/5704e59bdc120461244c34f4dc678bea.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As varia√ß√µes mais escuras de nossas cores eram indistingu√≠veis do preto e umas das outras:</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
criando componentes que implementam notifica√ß√µes, n√£o podemos usar as cores do nosso sistema de design. </font><font style="vertical-align: inherit;">Em vez disso, precis√°vamos escolher nossas pr√≥prias cores nos olhos.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3fc/1e4/a56/3fc1e4a5627c6bec05aefae3de608e15.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essas cores s√£o bonitas, mas n√£o se baseiam nos valores de cores de nossas escalas de</font></font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"> cores.Usei</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
a maravilhosa ferramenta</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ColorBox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da Lyft Design</font><font style="vertical-align: inherit;">para normalizar as cores</font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Em vez de alterar as cores da maneira mais simples, linearmente, em incrementos de 10%, apliquei curvas de Bezier. </font><font style="vertical-align: inherit;">Isso nos permitiu obter melhorias significativas nas posi√ß√µes extremas das escalas de cores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e9/58e/6ff/3e958e6ffcf012c47397c0a67afb58a3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depois de normalizar as cores na parte brilhante do espectro, consegui criar notifica√ß√µes cujas cores s√£o retiradas das cores do nosso sistema de design</font></font></font></i><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç cores escuras</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de colocarmos em ordem a vers√£o clara do site, √© hora de experimentar novas cores contra um fundo escuro. </font><font style="vertical-align: inherit;">Como resultado, recorri a configura√ß√µes manuais do que o algoritmo de correspond√™ncia de cores produzia, fazendo isso para preservar as cores corporativas que s√£o usadas h√° muito tempo. </font><font style="vertical-align: inherit;">Isso me permitiu usar novas cores na produ√ß√£o e, ao mesmo tempo, sem mudan√ßas dr√°sticas na apar√™ncia do projeto.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb1/8f0/00f/eb18f000f7742e215c90a7c9be062795.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gama de cores normalizada total</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementando um Tema Sombrio na Interface Pilhas</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se, de alguma forma, eu pretendia equipar o Stack Overflow com um tema sombrio, primeiro seria necess√°rio implementar um tema sombrio em nosso sistema de design do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stacks</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , usando-o como campo de teste para testar novas tecnologias.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçVari√°veis</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu precisava converter valores est√°ticos de cor hexadecimal menos compilados em propriedades CSS personalizadas projetadas para serem usadas enquanto o programa estava em execu√ß√£o. O ponto √© que os valores de cores devem ser armazenados usando estruturas de vista </font></font><code>var(--red-500)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, em vez de usar estruturas de vista est√°ticas </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Foi uma tarefa interessante - tanto no design do sistema quanto em todo o site. Geralmente, peg√°vamos um √∫nico valor de cor, como </font></font><code>@red-500</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, e torn√°vamos mais claro ou mais escuro destacar estados diferentes dos elementos (como os estados que os elementos assumem quando passam o mouse sobre eles ou quando ficam em foco), para usar como cor de plano de fundo ou nas bordas dos elementos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se falarmos sobre as cores de cada um dos bot√µes, que temos muito, sobre as cores de cada estado de cada bot√£o, podemos dizer que essas cores foram obtidas no decorrer de um conjunto de transforma√ß√µes de um √∫nico valor de cor compilado. Isso me lembrou uma cena do filme "O jogo para uma queda". L√° eles conversaram sobre a possibilidade de transformar um investimento de dez milh√µes de milh√µes em bilh√µes de d√≥lares. N√£o √© de surpreender que essas "transforma√ß√µes" levaram √† crise financeira. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema com vari√°veis ‚Äã‚ÄãCSS regulares √© que voc√™ n√£o pode aplicar menos transforma√ß√µes a elas. Os valores das vari√°veis ‚Äã‚ÄãCSS s√£o calculados em tempo de execu√ß√£o, portanto, uma constru√ß√£o como essa </font></font><code>darken(var(--red-500), 5%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leva a um erro de compila√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo isso significava que eu precisava refazer o c√≥digo respons√°vel, por exemplo, pelos bot√µes de estilo. A princ√≠pio, ele ficou assim:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: @white;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: @blue-<span class="hljs-number">600</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">5%</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">darken</span>(@blue-<span class="hljs-number">600</span>, <span class="hljs-number">10%</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu precisava indicar os valores exatos das cores descritas em nosso sistema de cores. </font><font style="vertical-align: inherit;">Como resultado, eu precisava chegar a esta vers√£o do c√≥digo:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.s-btn</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--white);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">600</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&amp;:hover {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">700</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">var</span>(--blue-<span class="hljs-number">800</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo, ficou claro que nem tudo estava limitado a bot√µes. </font><font style="vertical-align: inherit;">Portanto, eu precisava refazer os estilos de todos os componentes dispon√≠veis no Stacks. </font><font style="vertical-align: inherit;">O mesmo aconteceu com notifica√ß√µes, menus pop-up, janelas modais, links e muitos outros componentes.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Compatibilidade do navegador</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se falamos de vari√°veis ‚Äã‚ÄãCSS, a aplica√ß√£o delas significava a necessidade de considerar o suporte dos navegadores. </font><font style="vertical-align: inherit;">Em particular, eles n√£o s√£o suportados pelo Internet Explorer 11 - um navegador que nunca esquecemos. </font><font style="vertical-align: inherit;">Como resultado, decidimos abandonar o suporte ao IE11, livrando-nos de todos os hacks CSS adicionados ao sistema ao longo dos anos de seu desenvolvimento, levando em considera√ß√£o os recursos deste navegador. </font><font style="vertical-align: inherit;">Al√©m disso, decidimos enviar notifica√ß√µes aos usu√°rios do IE11 com uma proposta para instalar um novo navegador. </font><font style="vertical-align: inherit;">Essa decis√£o n√£o foi f√°cil para n√≥s. </font><font style="vertical-align: inherit;">Sua implementa√ß√£o exigiu semanas de refatora√ß√£o.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ClassesClasses tradicionais</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O IE11 n√£o me limitou mais e pude trabalhar com cores no Stacks. Decidi adicionar uma </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font><font style="vertical-align: inherit;">ao elemento </font></font><code>.theme-system</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Depois disso, consegui substituir as cores claras por seus equivalentes escuros usando a consulta de m√≠dia apropriada. Al√©m disso, poder√≠amos recusar completamente a solicita√ß√£o de m√≠dia simplesmente adicionando √† </font></font><code>body</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">classe </font></font><code>.theme-dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso permitiria que os usu√°rios usassem o tema escuro do site, independentemente das configura√ß√µes do sistema. Aqui est√° o que eu tenho como resultado:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">body</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#c02d2e</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-system</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;@media (<span class="hljs-attribute">prefers-color-scheme</span>: dark) {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--red-<span class="hljs-number">600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-tag">body</span><span class="hljs-selector-class">.theme-dark</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attribute">--red-600</span>: <span class="hljs-number">#d25d5d</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obter flexibilidade total, o Stacks permite trabalhar com classes de cores at√¥micas, que se aplicam apenas quando um tema escuro est√° ativado. Detalhes sobre o suporte a CSS no Stacks podem ser encontrados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Por exemplo, adicionando uma classe a um elemento. </font></font><code>d:bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o designer expressa o seguinte pensamento: "No modo escuro, voc√™ precisa usar verde como plano de fundo </font></font><code>bg-green-100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". Classes condicionais adicionais projetadas para o modo escuro nos permitem remover as bordas dos elementos, alterar planos de fundo e ajustar a cor do texto. Em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tweet voc√™ pode ver um exemplo interessante de ajuste de cor. √Äs vezes, essa configura√ß√£o √© necess√°ria no modo escuro. Quero observar que uma das fontes de inspira√ß√£o ao trabalhar no modo escuro do site para mim foi a estrutura CSS do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tailwind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçUse um tema sombrio nas pilhas</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois que o tema escuro foi implementado no Stacks, decidimos adicionar um bot√£o na parte superior da interface do sistema que permite alternar entre temas. </font><font style="vertical-align: inherit;">Os funcion√°rios da empresa deveriam ter uma capacidade r√°pida e conveniente de alternar entre os diferentes temas de cores do site.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/577/bd3/cef577bd304db402329b23ee9aa740e4.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alterne entre temas claros e escuros no Stacks</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementando um Tema Sombrio no Site Principal do Stack Overflow</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resolvi as tarefas relacionadas √† implementa√ß√£o do tema sombrio na interface do sistema de design do Stacks com relativa facilidade. A refatora√ß√£o, que leva em considera√ß√£o as considera√ß√µes sobre o desenvolvimento futuro do sistema, facilita que o Stacks seja menor que o site principal, devido √†s consequ√™ncias de decis√µes erradas tomadas no passado. Para equipar o Stack Overflow com um tema sombrio, eu precisava fornecer suporte para Menos vari√°veis ‚Äã‚Äãpor uma quest√£o de compatibilidade com vers√µes anteriores da solu√ß√£o. Isso nos permitiu organizar a aplica√ß√£o do tema escuro de forma incremental, em partes separadas da interface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como a maior parte de nossa interface, criada ap√≥s 2018, √© baseada em pilhas, essa parte da interface recebe, sem esfor√ßos adicionais de nossa parte, um tema sombrio e layouts responsivos. E a parte principal da interface? Tudo aqui est√° longe de ser t√£o simples.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ain Principais cores do site</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para come√ßar, eu precisava fazer as maiores altera√ß√µes no site que poderiam ser feitas sem violar o tema claro padr√£o Stack Overflow. </font><font style="vertical-align: inherit;">As tarefas que tive que resolver foram principalmente substituir as vari√°veis ‚Äã‚Äãest√°ticas Less por vari√°veis ‚Äã‚ÄãCSS equivalentes a elas. </font><font style="vertical-align: inherit;">Primeiro, apliquei o estilo </font></font><code>background-color: var(--white)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no plano de fundo do site, substituindo-o pelo estilo </font></font><code>background-color: @white</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Gra√ßas a isso, a √°rea principal das aldeias poderia agora ser facilmente pintada na cor escura de fundo. </font><font style="vertical-align: inherit;">Ent√£o eu fiz a mesma opera√ß√£o com as cores das fontes e alguns outros elementos. </font><font style="vertical-align: inherit;">Esse trabalho consistiu principalmente na remo√ß√£o de uma grande quantidade de c√≥digo CSS, pois, por exemplo, gost√°vamos de estilos excessivamente detalhados, definindo as cores da fonte dos elementos filhos, embora pud√©ssemos conviver com os valores de cores herdados dos elementos pais.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Demonstra√ß√£o de um novo design para os funcion√°rios da empresa</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de trabalhar em grandes blocos do site, pedi aos nossos programadores </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adam Lear</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nick Craver que</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> me ajudassem a encontrar uma maneira de mostrar uma vers√£o preliminar do tema sombrio √† equipe do Stack Overflow. </font><font style="vertical-align: inherit;">Isso permitiria que os funcion√°rios inclu√≠ssem um t√≥pico obscuro, que ainda est√° muito longe de estar pronto para ver quais √°reas do site ainda precisam melhorar. </font><font style="vertical-align: inherit;">Pensei que isso os incentivaria a refinar partes do site com mais tr√°fego. </font><font style="vertical-align: inherit;">Isso me permitiria superar a principal barreira a um novo design. </font><font style="vertical-align: inherit;">Ou seja, ajudaria a integrar o novo design √† base de c√≥digo existente.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçBot√µes</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se a √°rea do site em que eu estava trabalhando foi criada usando o Stacks, para prepar√°-lo para o modo escuro, foi necess√°rio resolver muitos problemas. Digamos que, durante o curso do trabalho, foi poss√≠vel decidir que em algum lugar a borda n√£o era necess√°ria ou - em algum lugar, era necess√°rio um tom especial de cinza como cor de fundo. Essa prepara√ß√£o para o uso do regime sombrio pode ser limitada. Infelizmente, a maior parte do site foi criada sem o uso de pilhas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso foi mais claramente manifestado quando se tratava dos bot√µes. Ao longo dos anos de trabalho no site, ele implementou muitas implementa√ß√µes de bot√µes. Isso foi especialmente frustrante, pois estilizamos os pr√≥prios elementos </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso significa que qualquer elemento </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou elemento decorado como</font></font><code>input type=¬´button¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, foi atribu√≠do o estilo padr√£o. Esse estilo tem um n√≠vel muito alto de especificidade e √© baseado em um conjunto de regras desatualizado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O fato acima levou √† necessidade de muita refatora√ß√£o, que ainda est√° em andamento. Seu objetivo √© remover estilos CSS no n√≠vel do elemento </font></font><code>button</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e substitu√≠-los por equivalentes do Stacks. Em particular, estamos falando sobre o fato de que centenas de elementos </font></font><code>input type=¬´submit¬ª</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">precisam ser substitu√≠dos por </font></font><code>&lt;button type="submit" class="s-btn s-btn__primary"&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Al√©m de adicionar trabalho, observo que frequentemente vinculamos a funcionalidade JavaScript a seletores visuais. Se voc√™ alterar as classes que afetam a apar√™ncia do elemento, isso pode prejudicar a funcionalidade do bot√£o. Como resultado, durante o processamento de milhares de bot√µes, eu precisei adicionar classes a eles primeiro</font></font><code>js-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, conecte manipuladores a eles e livre-se dos estilos antigos que definem a apar√™ncia dos bot√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso me levou a remover a maioria das classes antigas de bot√µes, o que permitiu que os bot√µes mudassem de cor corretamente ao ativar um tema escuro.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Title T√≠tulo do site</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para complicar a tarefa, o cabe√ßalho usado em todo o site pode funcionar em modos diferentes. Estamos falando de modos claro e escuro, e sobre o modo de suporte para um t√≥pico especial. A op√ß√£o do site para equipes (Stack Overflow para equipes) e para sistemas corporativos usa √† for√ßa um tema de cabe√ßalho escuro. Al√©m disso, a vers√£o do comando usa a cor especificada pela cor do avatar da equipe. Como muitos outros componentes, o CSS para o t√≠tulo do site fornece uma √∫nica cor, que determina se o t√≠tulo √© claro ou escuro. Essa cor, ent√£o, usando instru√ß√µes Menos complexas, √© transformada, o que permite obter diferentes op√ß√µes. No entanto, n√£o pudemos fazer o que fizemos quando processamos o c√≥digo do sistema de design. Ou seja, eles n√£o podiam simplesmente jogar fora todo o CSS antigo e substitu√≠-lo por c√≥digo,que usa vari√°veis ‚Äã‚ÄãCSS. O fato √© que nossos clientes corporativos, de fato, completamente, com a ajuda de temas, personalizam a apar√™ncia do cabe√ßalho. Nesse caso, as op√ß√µes de cores s√£o geradas com base em uma √∫nica cor.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/46c/185/ac946c185fca67ca872cbba06ebf01e7.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√≠tulo leve</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1a3/4b0/c9c/1a34b0c9c3f233b0ce09f1ee3a304f26.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√≠tulo escuro</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/297/a58/444297a5852500a5e4279b783619e1b3.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cabe√ßalho do comando</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
No caso do cabe√ßalho brilhante Stack Overflow, precisamos encontrar um mecanismo para descobrir se uma determinada cor foi definida usando uma vari√°vel CSS ou um valor hex est√°tico. </font><font style="vertical-align: inherit;">Se a cor fosse definida usando uma vari√°vel CSS, poder√≠amos ignorar completamente sua transforma√ß√£o Menos, criando um cabe√ßalho que pudesse alterar as cores com base nos par√¢metros do tema escuro. </font><font style="vertical-align: inherit;">Se uma vari√°vel est√°tica Less for usada, voc√™ precisar√° avaliar a cor para ver se est√° clara ou escura e criar um cabe√ßalho apropriado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, chegamos a essa abordagem:</font></font><br>
<br>
<pre><code class="css hljs">&amp; <span class="hljs-selector-tag">when</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: if(luma(@theme-topbar-background-color) &gt;= <span class="hljs-number">50%</span>, light, dark);<font></font>
&nbsp;}<font></font>
&nbsp;&amp; <span class="hljs-selector-tag">when</span> <span class="hljs-selector-tag">not</span> ( <span class="hljs-selector-tag">iscolor</span>(<span class="hljs-keyword">@theme-topbar-background-color</span>) ) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">@theme-topbar-style</span>: automatic;<font></font>
&nbsp;}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, com base no valor recebido ( </font></font><code>automatic</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>light</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), o cabe√ßalho correto √© criado.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñçTags</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se eu pudesse dar apenas um conselho aos envolvidos no design de componentes, ele leria: "N√£o descreva nos componentes o que afeta sua localiza√ß√£o na p√°gina". Em outras palavras, que tipo de espa√ßo separa os componentes deve determinar o contexto em que eles s√£o aplicados. N√£o h√° necessidade de definir essas coisas no pr√≥prio componente. Nas vers√µes anteriores do Stack Overflow, foi decidido que </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o preenchimento externo deveria ser aplicado </font><font style="vertical-align: inherit;">aos componentes </font><font style="vertical-align: inherit;">. Ao mesmo tempo, tags, como bot√µes, estavam sujeitas a um problema relacionado ao JavaScript. Para tornar as coisas ainda mais dif√≠ceis, a maioria das tags foi gerada usando um √∫nico m√©todo auxiliar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A refatora√ß√£o de tags envolveu a substitui√ß√£o de </font></font><code>post-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-components por</font></font><code>s-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">componentes projetados para usar t√≥picos diferentes. </font><font style="vertical-align: inherit;">Este trabalho tamb√©m incluiu altera√ß√µes no JavaScript, levando em considera√ß√£o o uso </font></font><code>js-tag</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Al√©m disso, foi necess√°rio alterar o m√©todo respons√°vel pela gera√ß√£o de tags, para que ele aceitasse classes arbitr√°rias que afetam a localiza√ß√£o dos elementos. </font><font style="vertical-align: inherit;">O fato √© que, em certos contextos, as tags podem precisar ser colocadas no layout flex√≠vel, fazendo isso em vez de depender de recuos externos predefinidos (ou em vez de lidar com esses recuos).</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Publications Publica√ß√µes de estilo</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maior parte do Stack Overflow √© composta de publica√ß√µes do usu√°rio. Essas publica√ß√µes, ou seja, perguntas, respostas, coment√°rios, s√£o feitas com a ajuda da marca√ß√£o Markdown. Durante o lan√ßamento do Stack Overflow, o Markdown Markup foi uma tecnologia relativamente nova. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao longo dos anos, a web desenvolveu algumas maneiras padr√£o de exibir algo como t√≠tulos e cita√ß√µes. A introdu√ß√£o do t√≥pico sombrio foi um excelente momento para revisar nossa abordagem de formata√ß√£o de publica√ß√µes. A quest√£o mais controversa nesse assunto foi a formata√ß√£o de cita√ß√µes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, as aspas foram enquadradas usando uma poderosa cor de fundo amarela, o que reduziu o contraste da pr√≥pria cota√ß√£o. </font><font style="vertical-align: inherit;">Al√©m disso, a cor amarela causa alguns problemas quando √© exibida em um fundo escuro. </font><font style="vertical-align: inherit;">Como resultado, passamos ao m√©todo geralmente aceito de exibi√ß√£o de cota√ß√µes, usando uma barra vertical cinza estreita para destac√°-las.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ñç Estilo do c√≥digo</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas p√°ginas do Stack Overflow, o que √© bastante compreens√≠vel, muitos trechos de c√≥digo s√£o exibidos. </font><font style="vertical-align: inherit;">As cores que usamos para destacar a sintaxe n√£o tinham nada a ver com as cores de nossa assinatura. </font><font style="vertical-align: inherit;">Eu tenho uma forte suspeita de que essas cores sejam o legado da primeira biblioteca usada no projeto para destacar a sintaxe. </font><font style="vertical-align: inherit;">Depois de analisar essas cores, decidi sujeitar o destaque da sintaxe a um profundo redesenho. </font><font style="vertical-align: inherit;">Como resultado, as cores da luz de fundo foram substitu√≠das por cores do nosso sistema de design. </font><font style="vertical-align: inherit;">Isso se aplica a t√≥picos claros e escuros. </font><font style="vertical-align: inherit;">E isso √© feito para que o que aconteceu n√£o difira radicalmente do que era antes.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultados</font></font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4df/a80/f44/4dfa80f44153364564dae8eef53c2b44.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O tema claro e a vers√£o beta do tema sombrio, lan√ßada em 30 de mar√ßo.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Devido ao volume de trabalho de refatora√ß√£o que realizamos ao passar para o t√≥pico sombrio, fomos capazes de fazer grandes mudan√ßas na apar√™ncia do projeto sem dificuldades. Com base no que temos agora, podemos, por exemplo, desenvolver um tema de site de alto contraste que aumenta sua acessibilidade.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A cria√ß√£o do tema sombrio foi o resultado de uma mudan√ßa fundamental na abordagem do design do Stack Overflow. Em particular, estamos falando sobre o uso de um</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sistema de design</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que venho promovendo h√° um ano. E criar um tema sombrio foi uma excelente oportunidade para reconstruir muitas partes do site. Este √© o primeiro de muitos projetos que aumentar√£o a disponibilidade do Stack Overflow.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ n√£o levar em conta a rejei√ß√£o do apoio ao IE11, o trabalho sobre o tema sombrio come√ßou em julho de 2019 com </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PR, com o objetivo de pesquisar a situa√ß√£o. </font><font style="vertical-align: inherit;">Antes disso, em abril de 2019, havia </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">discuss√µes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobre um t√≥pico obscuro. </font><font style="vertical-align: inherit;">Em outubro de 2019, uma vers√£o experimental de um tema sombrio entrou em produ√ß√£o. </font><font style="vertical-align: inherit;">E, depois que foram feitas pelo menos 60 RPs, uma vers√£o beta do tema sombrio foi apresentada aos usu√°rios. </font><font style="vertical-align: inherit;">Aconteceu em 30 de mar√ßo de 2020. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Queridos leitores! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ usa o estouro de pilha? </font><font style="vertical-align: inherit;">Voc√™ gosta do novo tema sombrio?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt495984/index.html">Reagir, desempenho e -500 milissegundos no lan√ßamento - o hist√≥rico de nossas otimiza√ß√µes em n√∫meros</a></li>
<li><a href="../pt495986/index.html">An√°lise de documentos internacionais sobre gerenciamento de riscos √† seguran√ßa da informa√ß√£o. Parte 2</a></li>
<li><a href="../pt495990/index.html">Divulga√ß√£o de n√∫mero de telefone e geolocaliza√ß√£o por vulnerabilidade no Telegram</a></li>
<li><a href="../pt495994/index.html">In√≠cio do trimestre acad√™mico ou como me tornei coordenador de ensino a dist√¢ncia</a></li>
<li><a href="../pt495996/index.html">Raspberry Pi, Python e regar plantas de interior</a></li>
<li><a href="../pt496004/index.html">Novos modelos de pesquisa e an√°lise de dados. WSDM 2020 atrav√©s dos olhos da equipe Yandex.Tolki</a></li>
<li><a href="../pt496006/index.html">Supera√ß√£o do proxy reverso - tecnologia para prote√ß√£o remota e otimiza√ß√£o de sites sem alterar os registros A do DNS</a></li>
<li><a href="../pt496010/index.html">O que acontece com o transporte durante a crise (primeira semana de abril)</a></li>
<li><a href="../pt496014/index.html">Semin√°rios semanais da IBM - abril de 2020</a></li>
<li><a href="../pt496020/index.html">MVP de ver√£o. Qu√£o flex√≠vel √© o Kotlin?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>