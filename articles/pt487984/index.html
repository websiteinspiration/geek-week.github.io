<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåå ü§∏üèª ü•ñ A hist√≥ria de como automatizei o apartamento usando o Node-RED. Parte I üåßÔ∏è üëÉüèº üÜö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No ano passado, montei e configurei a automa√ß√£o para um pequeno apartamento perto de uma estrada movimentada. Neste artigo, falarei sobre as solu√ß√µes ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>A hist√≥ria de como automatizei o apartamento usando o Node-RED. Parte I</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/487984/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No ano passado, montei e configurei a automa√ß√£o para um pequeno apartamento perto de uma estrada movimentada. </font><font style="vertical-align: inherit;">Neste artigo, falarei sobre as solu√ß√µes usadas no sistema clim√°tico, ilumina√ß√£o, multim√≠dia e software.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_k/1w/hi/_k1whiczimlsb9xmwy5vfgvpzua.png"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que eu queria fazer</font></font></h3><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatize o desligamento da √°gua em caso de emerg√™ncia.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desligue a ventila√ß√£o em caso de inc√™ndio.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relatar emerg√™ncia.</font></font></li>
<li>     ( , ,  , ).</li>
<li>  (, ).</li>
<li> .</li>
<li>   (   ,  ,    ¬´¬ª     ).</li>
</ol><br>
<h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem v√°rios sistemas b√°sicos para gerenciar a automa√ß√£o residencial. Existem solu√ß√µes pagas e gratuitas - tudo depende da plataforma. Pode ser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPGA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (circuito integrado l√≥gico program√°vel), controladores no formato do roteador e apenas software. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, considerei o controlador </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIBARO Home Center 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> finalizado </font><font style="vertical-align: inherit;">como o hub principal. Embora a interface seja bonita e haja muitas configura√ß√µes, o hardware acabou sendo fraco. O firmware, a julgar pelos coment√°rios, √†s vezes era de buggy. Outros tipos de protocolos s√£o bastante dif√≠ceis de conectar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das op√ß√µes gratuitas, revi o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenHUB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Home Assistant.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. O OpenHUB parecia muito carregado e dif√≠cil de expandir: por exemplo, √© dif√≠cil adicionar um novo m√≥dulo Z-Wave se ele n√£o estiver nas configura√ß√µes do OpenHUB. O Home Assistant √© facilmente extens√≠vel, mas no momento da integra√ß√£o, a automa√ß√£o s√≥ podia ser escrita em YAML, o que √© dif√≠cil de depurar e manter. A integra√ß√£o com o Z-Wave no Home Assistant levantou quest√µes. Por isso, escolhi outro an√°logo gratuito, que discutirei mais adiante. </font><font style="vertical-align: inherit;">Eu escolhi o </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node-RED</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como solu√ß√£o de back-end, pois fornece muitas integra√ß√µes prontas com diferentes protocolos, √© gratuito e permite que voc√™ escreva a l√≥gica de automa√ß√£o diretamente em JavaScript no navegador sem recompila√ß√£o. Com ele, basta depurar scripts usando depura√ß√£o e inje√ß√£o. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pi/xc/yo/pixcyowgftmafmmilsgrchnpri4.png" alt="Janela Edi√ß√£o de Script Node-RED"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Janela Edi√ß√£o de Script Node-RED</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Node-RED usa o NodeJS sob o cap√¥, ent√£o o restante da liga√ß√£o tamb√©m foi gravado nele. </font><font style="vertical-align: inherit;">O Node-RED √© apenas um editor de scripts e integrador de v√°rios protocolos. </font><font style="vertical-align: inherit;">A parte frontal do controle - como, por exemplo, no Assistente de resid√™ncia - est√° ausente. </font><font style="vertical-align: inherit;">Existem v√°rios plug-ins que adicionam a capacidade de controlar dispositivos do navegador, mas eles n√£o s√£o muito convenientes para configurar e exigem a grava√ß√£o de c√≥digo front-end tamb√©m no navegador ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√≥-vermelho-painel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada fluxo no meu sistema √© aut√¥nomo e toda a comunica√ß√£o entre diferentes fluxos ocorre atrav√©s do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">barramento MQTT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tamb√©m posso mover o fluxo carregado para servidores separados para processamento distribu√≠do.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protocolos de comunica√ß√£o com dispositivos finais</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meu apartamento n√£o √© muito grande e n√£o havia lugar para colocar a unidade de comuta√ß√£o, ent√£o decidi usar m√≥dulos sem fio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sistema utiliza rel√©s de controle ocultos para deixar os bot√µes f√≠sicos da mesma s√©rie com sa√≠das. Bot√µes f√≠sicos s√£o necess√°rios para controle direto e em caso de falha do controlador central. Eu escolhi entre os sistemas sem fio Z-Wave e ZigBee. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento da integra√ß√£o do sistema, a tecnologia Z-Wave possu√≠a a cole√ß√£o mais completa de dispositivos necess√°rios. Em diferentes pa√≠ses, o Z-Wave usa uma frequ√™ncia operacional diferente; na R√∫ssia, voc√™ pode usar oficialmente a frequ√™ncia de 869 MHz. Como comprei a maioria dos sensores na R√∫ssia, decidi usar a frequ√™ncia oficial para todo o sistema.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m do Z-Wave, o sistema usa o m√≥dulo BroadLink IR e o Modbus TCP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para integrar o Z-Wave ao Node-RED, selecionei a biblioteca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenZWave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++ </font><font style="vertical-align: inherit;">e o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node-red-contrib-openzwave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font color="#909090"><font style="vertical-align: inherit;">Processamento de eventos Z-Wave</font></font><font style="vertical-align: inherit;"> 
Para a integra√ß√£o do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Modbus,</font></a><font style="vertical-align: inherit;"> uso o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">node-red-contrib-modbus</font></a><font style="vertical-align: inherit;"> , para o controle BroadLink, uso o </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">node-red-contrib-broadlink-control</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/a4/pg/z5/a4pgz5_fbdwsyckeftoa2nnkd5e.png" alt="Manipula√ß√£o de Eventos Z-Wave"></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base de dados</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu escolhi o MongoDB como o principal banco de dados: as leituras atuais dos sensores e dispositivos finais s√£o escritas l√°, ele tamb√©m armazena c√≥digos de IR para aparelhos de ar condicionado e multim√≠dia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O InfluxDB √© usado como base para armazenar s√©ries temporais. </font><font style="vertical-align: inherit;">De acordo com esses dados, voc√™ pode ver os gr√°ficos de umidade, temperatura, criar agrupamentos. </font><font color="#909090"><font style="vertical-align: inherit;">Leituras de temperatura externa por um m√™s</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/0h/ij/vs/0hijvsflebsgvi_jhsteuwrno-e.png" alt="     "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A parte dianteira</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidi escrever a parte da frente para obter a m√°xima flexibilidade do sistema. </font><font style="vertical-align: inherit;">Ao trabalhar com o Dashboard, dois sistemas auxiliares s√£o usados:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Servidor MQTT baseado no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aedes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor de autoriza√ß√£o.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servidor de autoriza√ß√£o emite um token JWT por login e senha ou por pertencer a uma rede local, ap√≥s o qual o servidor MQTT verifica esse token toda vez que envia ou recebe uma mensagem para o sistema front-end. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O front end √© escrito em ReactJS e o MQTT over WebSockets ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT.JS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) √© </font><font style="vertical-align: inherit;">usado como um protocolo de comunica√ß√£o do servidor </font><font style="vertical-align: inherit;">. Como estado, o MobX √© usado. O TypeScript tamb√©m √© usado e tudo compila o webpack. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O aplicativo consiste em duas p√°ginas: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d-/im/v2/d-imv2wdmjvnia-chaycz14qhuy.png" alt="Dashboard"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Painel Painel </font></font></font><br>
<br>
<img src="https://habrastorage.org/webt/pi/it/_9/piit_9wpnyzdhkr2j7dorwm2mps.png" alt="  Z-Wave-"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
administra√ß√£o de </font><font color="#909090"><font style="vertical-align: inherit;">dispositivos Z-Wave</font></font><font style="vertical-align: inherit;"> No painel de administra√ß√£o, voc√™ pode adicionar e remover dispositivos, configurar seus par√¢metros e associa√ß√µes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mq/bj/_t/mqbj_ts0a5osdwnblvhh_u4pa08.png" alt="  FGD212"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FGD212 Dimmer Setting</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na p√°gina Painel, voc√™ pode adicionar novas p√°ginas e combinar widgets de dispositivo como desejar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do ponto de vista do software, cada dispositivo √© um m√≥dulo separado, que √© inserido no sistema por meio da interface (TypeScript). </font><font style="vertical-align: inherit;">Isso oferece extensibilidade e integra√ß√£o f√°ceis de novos dispositivos no painel.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equipamento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como controlador, uso o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intel NUC NUC7PJYH</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no qual o Ubuntu Server est√° implantado. </font><font style="vertical-align: inherit;">Para comunica√ß√£o com a rede Z-Wave, escolhi o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pendrive Z-Wave.Me</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o controle remoto principal de uma casa inteligente, √© usado um tablet Android, que eu pedi no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alibaba.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">E o tablet veio direto da f√°brica: com um suporte Vesa, alimenta√ß√£o PoE e um plugue (n√£o USB). </font><font style="vertical-align: inherit;">O tablet √© alimentado por uma fonte de alimenta√ß√£o de 12V localizada em um trilho DIN no gabinete de controle. </font><font style="vertical-align: inherit;">N√£o h√° bateria no tablet, para n√£o apresentar op√ß√µes com carregamento constante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encomendei um tablet de acordo com minhas especifica√ß√µes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-4/af/sa/-4afsabw1da8l2bsf51zfwqtym8.jpeg" alt=" "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controle remoto</font></font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema clim√°tico</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para manter um clima confort√°vel, o sistema usa:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aquecimento de piso el√©trico em tr√™s zonas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ar condicionado nos alojamentos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ventila√ß√£o central.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umidificadores.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aquecimento central.</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ventila√ß√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como a casa est√° localizada pr√≥xima a uma estrada movimentada e n√£o quero abrir as janelas, uso o sistema de ventila√ß√£o. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/wi/wt/lywiwtj59f9rfwmbilvdibqrety.jpeg" alt="   ,     "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P√≥ preto na janela, acumulado em cerca de tr√™s</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
meses.Estudando solu√ß√µes diferentes para o problema de ventila√ß√£o sem abrir a janela, fiz uma pequena lista de tr√™s op√ß√µes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o de respiradores em cada quarto.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o da unidade externa e fia√ß√£o dos dutos na parede externa.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de ventila√ß√£o central.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os respiradores foram rejeitados imediatamente, pois teriam que ser colocados em todos os c√¥modos e, na minha opini√£o, s√£o bastante barulhentos para a troca de ar normal. Uma das condi√ß√µes importantes para mim foi o baixo n√≠vel de ru√≠do e a capacidade de ventilar rapidamente a sala. Ao usar um respirador, um bloco com filtros e um ventilador s√£o pendurados diretamente na parede dentro da sala, o que ocupa espa√ßo adicional no apartamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitos instaladores oferecem montar uma unidade de ventila√ß√£o externa ou instalar um suprimento na varanda. Mas eu n√£o tenho varanda e a unidade externa na parede ficaria bastante volumosa. Dado que duas unidades de aparelhos de ar condicionado j√° est√£o penduradas na parede, esse projeto n√£o seria aprovado. Por isso, escolhi um sistema de ventila√ß√£o central.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o espa√ßo do apartamento √© limitado e n√£o havia o desejo de baixar os tetos em todo o apartamento, a entrada foi instalada no corredor, onde os tetos foram reduzidos e a entrada foi feita no quarto das crian√ßas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vr/vz/rr/vrvzrrj0g5z15t0df-7nfalpz3u.jpeg" alt=" "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entrada de ventila√ß√£o</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Um orif√≠cio com um di√¢metro de 160 mm foi perfurado na parede externa usando uma broca de diamante e galvanizado com uma grade externa. O tubo de entrada foi isolado com isolamento K-flex. Em seguida, o tubo passa pela parede da cozinha e entra na unidade de ventila√ß√£o principal. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jj/wh/nx/jjwhnx9umnabl7bgkbie1pcscu8.jpeg" alt="  Breezart 550 lux     "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unidade de ventila√ß√£o Breezart 550 lux e unidade para filtro opcional A</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
unidade de ventila√ß√£o foi selecionada pela </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breezart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ao escolher, considerei o custo da instala√ß√£o, as dimens√µes e a capacidade de conectar-se ao sistema de automa√ß√£o. A unidade possui uma capacidade m√°xima de 550 m¬≥ por hora:</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-f/2d/9z/-f2d9zrqe5bprzao5zpma2vgtio.png" alt=" "></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O sistema possui um ventilador silencioso com 10 velocidades e um aerotermo el√©trico. Uma v√°lvula eletromec√¢nica √© instalada na entrada, que fecha quando a unidade √© desligada, para que o ar frio n√£o passe pelo apartamento. No lado eletr√¥nico, a instala√ß√£o forneceu tr√™s portas Modbus, sensores de temperatura e sensores de press√£o para determinar se os filtros est√£o sujos. Inclu√≠do com a instala√ß√£o est√° um filtro G4 grosso. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cd/lg/oh/cdlgohth4-gnxy_raief3jysfpy.jpeg" alt="     "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O filtro grosso ap√≥s seis meses de uso</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
O filtro grosso obstruiu em 70% ap√≥s um ano de uso, mas, a julgar pelo sensor de CO‚ÇÇ, a ventila√ß√£o n√£o √© mais puxada em baixas velocidades. </font><font color="#909090"><font style="vertical-align: inherit;">At√© 20 de dezembro - o filtro est√° entupido, ap√≥s 20 de dezembro - um novo filtro, a velocidade √© a mesma</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/bs/qe/nn/bsqennprgexihmp5qlnppjhppye.png" alt=" 20  ‚Äî  ,  20  ‚Äî  ,    "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s a instala√ß√£o da ventila√ß√£o, existe um filtro fino F7. Usando filtros mais refinados, como o HEPA, para minha situa√ß√£o, considerei inapropriado: eles entupem rapidamente e a instala√ß√£o n√£o consegue pression√°-los. Al√©m disso, os fabricantes n√£o recomendam exceder a queda de press√£o no filtro, pois isso aumentar√° a carga no ventilador e a sujeira dos filtros poder√° come√ßar a soprar nas salas.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/43/1a/9l/431a9lvm3xj9hbclnskkl-mknyq.png" alt="   "></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s o filtro fino, dois reguladores mec√¢nicos de fluxo de ar s√£o instalados, seguidos por v√°rios dutos de ar flex√≠veis da SONODEC para as salas. Esse tipo de duto foi escolhido para n√£o colocar um silenciador volumoso e, ao mesmo tempo, abafar o ru√≠do da instala√ß√£o. Ap√≥s o fechamento do teto, o sistema de ventila√ß√£o √© aud√≠vel apenas a partir da velocidade 8 (440 m¬≥ por hora) e apenas a partir do corredor. Na sa√≠da de ventila√ß√£o existem grades ajust√°veis ‚Äã‚Äãem duas dire√ß√µes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/7k/im/zu7kimcgwkzo5aev9gox2zfujpy.jpeg" alt="   "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistema de ventila√ß√£o</font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
montado no </font><font color="#909090"><font style="vertical-align: inherit;">teto </font></font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/uq/ya/ltuqya4yak7ydqqfwaelvorpsxg.jpeg" alt="     "><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sa√≠da de </font></font></font><font style="vertical-align: inherit;"><font color="#909090"><font style="vertical-align: inherit;">ventila√ß√£o </font></font><font color="#909090"><font style="vertical-align: inherit;">para uma das salas</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Um controle remoto do kit est√° conectado a uma das portas Modbus e um servidor Modbus TCP HF2211 √† segunda. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/a2/_r/rda2_rztx4z181nfpl3fxapgwzs.jpeg" alt="Modbus RTU ‚Äî Modbus TCP converter HF2211"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modbus RTU - Conversor Modbus TCP HF2211</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este servidor permite conectar-se √† rede interna via Wi-Fi ou Ethernet, por um lado, e ao dispositivo Modbus RTU, por outro. Em seguida, voc√™ pode elevar o servidor com as configura√ß√µes necess√°rias e j√° acessar a unidade de ventila√ß√£o via rede. A instala√ß√£o √© pesquisada a cada 300 ms: erros e somas de verifica√ß√£o s√£o verificados e somente depois disso √© permitido gravar alguns dados nos registros. A comunica√ß√£o com a instala√ß√£o ocorre atrav√©s do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugin node-red-contrib-modbus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font color="#909090"><font style="vertical-align: inherit;">Esquema de recebimento e envio de par√¢metros de uma unidade de ventila√ß√£o via modbus </font></font><font color="#909090"><font style="vertical-align: inherit;">Esquema de recebimento e envio de par√¢metros de uma unidade de ventila√ß√£o atrav√©s de modbus</font></font><font style="vertical-align: inherit;"> 
O site do fabricante possui uma </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">refer√™ncia</font></a><font style="vertical-align: inherit;"> detalhada </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">dos registros modbus</font></a><font style="vertical-align: inherit;"> e uma </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">descri√ß√£o geral</font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/k7/2v/p_/k72vp_pyjxo8efdugktk6j8xbe0.png" alt="        modbus"></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<img src="https://habrastorage.org/webt/ye/v6/cr/yev6crajttwfavoo--xqpnhx9j4.png" alt="        modbus"><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para esta instala√ß√£o, mas voc√™ precisa verificar a vers√£o do controlador e firmware. A unidade de ventila√ß√£o √© controlada automaticamente pelo tempo e pelo sensor CO‚ÇÇ MH-Z19b. </font><font color="#909090"><font style="vertical-align: inherit;">Automa√ß√£o da ventila√ß√£o de fluxo Ventila√ß√£o da automa√ß√£o de </font></font><font color="#909090"><font style="vertical-align: inherit;">fluxo</font></font><font style="vertical-align: inherit;"> 
O sensor de CO‚ÇÇ √© port√°til, montado com base no sensor MH-Z19b, duas baterias 18650, mosfet ESP32 e IRF520 (para desconectar a energia do sensor durante o sono do controlador). </font><font color="#909090"><font style="vertical-align: inherit;">Leituras de CO‚ÇÇ por um m√™s, pico de 1800 PPM - os convidados vieram com a subsequente inclus√£o de ventila√ß√£o em rota√ß√µes mais</font></font><font style="vertical-align: inherit;"> 
altas.Dependendo da velocidade da instala√ß√£o, √© ajustada uma temperatura confort√°vel do ar que aquece o aquecedor de ar.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/py/-w/if/py-wifq8mla3iw9k6in1sn9_eek.png" alt="Flow  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/b8/iw/gr/b8iwgr4ld9mrdjuuafbhas6dpna.png" alt="Flow  "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/0i/e_/7q/0ie_7q_6cc6f-eipfnui0jx-n6k.png" alt=" CO‚ÇÇ  ,   1800 PPM ‚Äî         "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em velocidades mais altas, √© necess√°ria uma temperatura mais alta - caso contr√°rio, ser√° sentido um fluxo de ar frio. </font><font style="vertical-align: inherit;">Para n√£o consumir muita eletricidade no inverno, quando est√° mais frio fora de -7 ¬∞ C, a instala√ß√£o √© limitada a uma terceira velocidade. </font><font style="vertical-align: inherit;">√Ä noite, a instala√ß√£o √© limitada a uma quarta velocidade. </font><font style="vertical-align: inherit;">Se ningu√©m estiver em casa, o sistema muda automaticamente para a primeira velocidade. </font><font style="vertical-align: inherit;">No comando "F√©rias", ocorre um desligamento completo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existe um modo de pr√©-aquecimento ap√≥s as f√©rias, arejando a toda velocidade e uma transi√ß√£o para a primeira velocidade em um temporizador. </font><font style="vertical-align: inherit;">Se o sistema tiver sensores de CO‚ÇÇ, √© poss√≠vel um controle de velocidade adicional de acordo com as restri√ß√µes globais.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Condicionamento</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sistema possui v√°rios aparelhos de ar condicionado com modos de refrigera√ß√£o e aquecimento. Havia uma id√©ia de colocar o ar-condicionado central, mas todos os sistemas s√£o muito grandes e n√£o permitem que a temperatura em cada quarto seja regulada. Infelizmente, meus aparelhos de ar condicionado s√£o controlados apenas por infravermelho. Comprei o painel de controle Broadlink RM Mini3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8j/iy/uj/8jiyujzojcsbgybjonzuctvefxo.jpeg" alt="Broadlink RM Mini3"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Broadlink RM Mini3</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Se voc√™ usar um aplicativo nativo, este controle remoto se conectar√° aos servidores chineses, para que todos os comandos de configura√ß√£o e gerenciamento sejam transmitidos diretamente do Node-RED usando o m√≥dulo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node-red-contrib-broadlink-control</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como n√£o encontrei nenhum c√≥digo IR limpo para os aparelhos de ar condicionado, e o controle remoto transmite todo o estado (rota√ß√µes, modo, temperatura) - todos os estados poss√≠veis de aquecimento e resfriamento foram copiados do controle remoto do ar condicionado usando o Broadlink para o banco de dados. Tamb√©m n√£o havia comandos limpos para ativar ou desativar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas descobri como usar o ar condicionado dentro e fora dos cron√¥metros. Defini-os por 10 segundos e os copiei no banco de dados. Agora, quando ativado, o comando para ativar o temporizador √© transmitido primeiro e, em seguida, o comando para definir o modo junto com a temperatura. </font><font color="#909090"><font style="vertical-align: inherit;">Controle de ar condicionado</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/am/is/tm/amistmp9wbyfvyap7bg-nvvvcte.png" alt=" "></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O script verifica o tempo l√° fora e, se os valores forem aceit√°veis ‚Äã‚Äã(acima de -7 ¬∞ C), liga o ar condicionado para aquecimento ou resfriamento, dependendo da hora do dia e da temperatura ambiente. </font><font style="vertical-align: inherit;">O sensor de temperatura l√™ uma vez por hora. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se todos sa√≠rem de casa, os aparelhos de ar condicionado ser√£o desligados. </font><font style="vertical-align: inherit;">Se ningu√©m estiver l√° e a temperatura estiver muito alta ou baixa, mas as baterias de aquecimento ainda n√£o estiverem ligadas, um arrefecimento ou aquecimento de 15 minutos ocorre a cada hora para manter o clima interno. </font><font color="#909090"><font style="vertical-align: inherit;">Cen√°rio de gerenciamento de ar condicionado</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/lr/oa/er/lroaerpssy1m9qyknb0c39hrfse.png" alt="Cen√°rio de gerenciamento de ar condicionado"></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aquecimento de piso</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O sistema possui tr√™s circuitos para aquecimento de piso el√©trico. Eles s√£o controlados por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tr√™s termostatos HeatIt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Z-Wave </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/ct/k-/svctk-3pmyypmjsvczxqehdvksm.jpeg" alt="HeatIt do termostato"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HeatIt do</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
termostato </font><font color="#909090"><font style="vertical-align: inherit;">O</font></font><font style="vertical-align: inherit;"> termostato permite configurar diferentes par√¢metros de resist√™ncia para diferentes tipos de elementos de aquecimento, possui prote√ß√£o para crian√ßas, dois modos de aquecimento salvos e outras configura√ß√µes menores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na esta√ß√£o fria, a temperatura do piso √© fixada em 1 ¬∞ C a mais que no ver√£o. Quando n√£o h√° ningu√©m em casa, e tamb√©m √† noite, os pisos s√£o desligados para economizar energia e ligados de manh√£ ou assim que algu√©m chega em casa. No banheiro, o piso aumenta a temperatura; se a luz estiver acesa, a porta estiver fechada, houve movimento at√© a porta ser fechada e a umidade aumentar acentuadamente. Ap√≥s uma hora, o piso entra no estado anterior ou desliga (se a noite cair).</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/pg/uj/u-/pguju-x0pul9hmoam6xz4tgsvx8.png" alt="Cen√°rio de controle de piso"></a><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piso aquecido </font></font></font><font style="vertical-align: inherit;"><font color="#909090"><font style="vertical-align: inherit;">script de gerenciamento de ch√£o roteiro aquecida gest√£o</font></font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/2k/hm/zw/2khmzwkksrhsrejcjq9thylccck.png" alt="Cen√°rio de controle de piso"></a><br>
<font color="#909090"><font style="vertical-align: inherit;"></font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aquecimento central</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como Moscou nem sempre desliga ou regula o aquecimento a tempo, dependendo da temperatura do lado de fora da janela, foi decidido colocar um termostato </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danfoss Living Connect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em cada bateria </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fx/0q/aa/fx0qaaxnvyqupve_oujmgfo4aza.jpeg" alt="Termostato Danfoss Living Connect"><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Termostato Danfoss Living Connect</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este termostato √© alimentado por baterias de dois dedos usando o protocolo Z-Wave. </font><font style="vertical-align: inherit;">Um ano se passou desde a instala√ß√£o, mas as baterias ainda n√£o acabaram. </font><font style="vertical-align: inherit;">A temperatura m√°xima definida √© de 28 ¬∞ C. </font><font style="vertical-align: inherit;">Como o sensor est√° pr√≥ximo √† bateria e o controle remoto n√£o est√° conectado, √†s vezes fica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No ver√£o, o regulador de temperatura est√° sempre na posi√ß√£o "aberto" e faz um fechamento completo a cada duas semanas, para que o estoque n√£o azeda. </font><font style="vertical-align: inherit;">Quando voc√™ se conecta pela primeira vez durante a semana, o sensor √© calibrado (o que realmente n√£o agradou minha esposa, pois as baterias foram completamente desligadas periodicamente), mas depois tudo funcionou como deveria. </font><font style="vertical-align: inherit;">Antes do in√≠cio da esta√ß√£o de aquecimento, a temperatura m√©dia externa √© verificada por duas semanas e, se estiver abaixo de 10 ¬∞ C, os termostatos entram no modo de aquecimento. </font><font style="vertical-align: inherit;">Se a temperatura na sala for superior √† temperatura confort√°vel, os termostatos reduzem a temperatura ou desligam completamente a bateria.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umidificadores</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para umidificar o ar no apartamento, foram considerados umidificadores centrais. Existem dois tipos principais: vapor e tradicional. Um umidificador a vapor requer muita eletricidade para aquecer constantemente a √°gua. Ambos os tipos de umidificador drenam muita √°gua no ralo, para que n√£o flores√ßa. √â necess√°rio realizar c√°lculos para que os dutos n√£o flores√ßam e fluam. Tamb√©m vale a pena considerar que os umidificadores centrais s√£o caros e ocupam muito espa√ßo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidi usar umidificadores ultrass√¥nicos em cada quarto. Eles rapidamente aumentam a umidade, mas requerem √°gua purificada, de prefer√™ncia ap√≥s osmose reversa. A umidade pode ser definida nos pr√≥prios umidificadores ou pode ser controlada usando IR.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/33XXlI4m3vk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<font color="#909090"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um exemplo de como a interface funciona</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segunda parte do</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> artigo, falarei sobre ilumina√ß√£o, um sistema multim√≠dia e sensores de seguran√ßa, al√©m de resumir o uso a longo prazo do sistema.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487966/index.html">TDD para microcontroladores. Parte 1: Primeiro v√¥o</a></li>
<li><a href="../pt487970/index.html">Traduzimos um portal corporativo no Microsoft Teams</a></li>
<li><a href="../pt487972/index.html">Entrevistas informais com hackers</a></li>
<li><a href="../pt487978/index.html">Minha pesquisa: "Por que jogar jogos online competitivos?"</a></li>
<li><a href="../pt487980/index.html">Como a configura√ß√£o autom√°tica de inicializa√ß√£o da Spring funciona</a></li>
<li><a href="../pt487990/index.html">Amea√ßas cibern√©ticas. Previs√£o para 2020: intelig√™ncia artificial, lacunas nas nuvens, computa√ß√£o qu√¢ntica</a></li>
<li><a href="../pt487996/index.html">Como drivers de script e m√£es de servidor assumem a TI</a></li>
<li><a href="../pt488000/index.html">Tesla Plaid. Duas op√ß√µes para layout de acionamento com tr√™s motores</a></li>
<li><a href="../pt488002/index.html">O caso de um nerd</a></li>
<li><a href="../pt488006/index.html">No Moscow Python Conf ++, fale com os desenvolvedores da linguagem</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>