<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññüèæ üë®‚Äçüë®‚Äçüë¶ üë®üèº‚Äçüéì Version Werf 1.1: am√©liorations du collecteur aujourd'hui et plans pour l'avenir üï¢ üë©üèª‚Äçüç≥ ü§≤üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf est notre utilitaire CLI GitOps open source pour la cr√©ation et la livraison d'applications √† Kubernetes. Comme promis, la sortie de la v1.0 a ma...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Version Werf 1.1: am√©liorations du collecteur aujourd'hui et plans pour l'avenir</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/493170/"><img src="https://habrastorage.org/webt/rv/bh/ky/rvbhkysbvfjn8ykkze1srkpmsha.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est notre utilitaire CLI GitOps open source pour la cr√©ation et la livraison d'applications √† Kubernetes. Comme promis, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sortie de la v1.0 a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> marqu√© le d√©but de l'ajout de nouvelles fonctionnalit√©s √† werf et de la r√©vision des approches famili√®res. Nous sommes maintenant heureux de publier la v1.1, qui est une grande √©tape dans le d√©veloppement et l'avenir </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">du collecteur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werf. La version est actuellement disponible dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canal 1.1 ea</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base de la sortie est la nouvelle architecture du stockage de sc√®ne et l'optimisation du travail des deux collectionneurs (pour Stapel et Dockerfile). La nouvelle architecture de stockage ouvre la possibilit√© de mettre en ≈ìuvre des assemblys distribu√©s √† partir de plusieurs h√¥tes et des assemblages parall√®les sur un seul h√¥te.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'optimisation du travail comprend la suppression des calculs inutiles au stade du calcul des signatures de stade et la modification des m√©canismes de calcul des sommes de contr√¥le des fichiers par des m√©canismes plus efficaces. Cette optimisation r√©duit le temps de construction moyen d'un projet utilisant werf. Et les versions inactives, lorsque toutes les √©tapes existent dans le cache de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stockage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des </font><i><font style="vertical-align: inherit;">√©tapes</font></i><font style="vertical-align: inherit;"> , sont d√©sormais tr√®s rapides. Dans la plupart des cas, le red√©marrage de l'assemblage sera plus rapide qu'en 1 seconde! Cela vaut √©galement pour les proc√©dures de v√©rification des √©tapes du travail des √©quipes </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>werf run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette version √©galement, il y avait une strat√©gie pour le balisage des images par contenu - le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balisage bas√© sur le contenu</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est maintenant activ√© par d√©faut et est le seul recommand√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons de plus pr√®s les principales innovations de werf v1.1 et parlons en m√™me temps des plans pour l'avenir.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qui a chang√© dans werf v1.1?</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouveau format de d√©nomination d'√©tape et algorithme de s√©lection d'√©tape de cache</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nouvelle r√®gle de g√©n√©ration de nom d'√©tape. </font><font style="vertical-align: inherit;">D√©sormais, chaque assemblage d'√©tape g√©n√®re un nom d'√©tape unique, qui se compose de 2 parties: une signature (comme dans la version 1.0) plus un identifiant temporaire unique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, le nom complet de l'image de la sc√®ne peut ressembler √† ceci: </font></font><br>
<br>
<code>werf-stages-storage/myproject:d2c5ad3d2c9fcd9e57b50edd9cb26c32d156165eb355318cebc3412b-1582656767835</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... ou sous une forme g√©n√©rale: </font></font><br>
<br>
<code>werf-stages-storage/PROJECT:SIGNATURE-TIMESTAMP_MILLISEC</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ici:</font></font><br>
<br>
<ul>
<li> <code>SIGNATURE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - il s'agit de la signature de l'√©tape, qui repr√©sente l'identifiant du contenu de l'√©tape et d√©pend de l'historique des modifications dans Git qui ont conduit √† ce contenu;</font></font></li>
<li> <code>TIMESTAMP_MILLISEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ceci est garanti un identifiant unique pour l'image qui est g√©n√©r√©e lors de l'assemblage de la nouvelle image.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme de s√©lection des √©tapes dans le cache est bas√© sur la v√©rification de la relation des validations Git:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Werf calcule la signature d'une √©tape.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stockage par √©tapes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , il peut y avoir plusieurs √©tapes pour une signature donn√©e. </font><font style="vertical-align: inherit;">Werf s√©lectionne toutes les √©tapes qui conviennent √† la signature.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si l'√©tape actuelle est associ√©e √† Git (git-archive, utilisateur √©tape c Git-patches: </font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>beforeSetup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou git-derni√®re-patch), puis Werf s√©lectionne uniquement les √©tapes qui se </font><font style="vertical-align: inherit;">rapportent √† commettre, qui est l'anc√™tre de l'engagement en </font><font style="vertical-align: inherit;">cours (pour ce </font><font style="vertical-align: inherit;">qui a </font><font style="vertical-align: inherit;">provoqu√© l' </font><font style="vertical-align: inherit;">assemblage )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Parmi les √©tapes appropri√©es restantes, une est s√©lectionn√©e - la plus ancienne par date de cr√©ation.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une sc√®ne pour diff√©rentes branches Git peut avoir la m√™me signature. </font><font style="vertical-align: inherit;">Mais werf emp√™chera l'utilisation d'un cache associ√© √† diff√©rentes branches entre ces branches, m√™me si les signatures correspondent. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouvel algorithme de cr√©ation et d'enregistrement d'√©tapes dans le stockage d'√©tapes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si werf ne trouve pas d'√©tape appropri√©e lors de la s√©lection d'√©tapes dans le cache, le processus d'assemblage d'une nouvelle √©tape est lanc√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que plusieurs processus (sur un ou plusieurs h√¥tes) peuvent commencer √† assembler la m√™me √©tape √† peu pr√®s au m√™me moment. </font><font style="vertical-align: inherit;">Werf utilise l'algorithme de verrouillage optimiste des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tapes de stockage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lorsqu'une image fra√Æchement collect√©e est stock√©e dans les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tapes de stockage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ainsi, lorsque l'assemblage de la nouvelle √©tape est pr√™t, werf bloque le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stockage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des </font><i><font style="vertical-align: inherit;">√©tapes</font></i><font style="vertical-align: inherit;"> et n'y enregistre l'image fra√Æchement collect√©e que s'il n'y a pas d'image appropri√©e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(pour la signature et d'autres param√®tres - voir le nouvel algorithme de s√©lection des √©tapes dans le cache)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une image fra√Æchement s√©lectionn√©e est garantie d'avoir un identifiant unique par </font></font><code>TIMESTAMP_MILLISEC</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(voir le nouveau format de d√©nomination de la sc√®ne)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si </font><font style="vertical-align: inherit;">une image appropri√©e est trouv√©e </font><font style="vertical-align: inherit;">dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stades-stockage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , werf supprimera l'image fra√Æchement collect√©e et utilisera l'image du cache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En d'autres termes: le premier processus qui termine la collecte de l'image (le plus rapide) recevra le droit de l'enregistrer dans les √©tapes de stockage (puis cette image particuli√®re sera utilis√©e pour tous les assemblages). </font><font style="vertical-align: inherit;">Un processus d'assemblage lent n'emp√™chera jamais un processus plus rapide d'enregistrer les r√©sultats d'assemblage de l'√©tape en cours et de passer √† l'assemblage suivant. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am√©lioration des performances du collecteur Dockerfile</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä l'heure actuelle, le pipeline des √©tapes pour une image compil√©e √† partir du Dockerfile se compose d'une √©tape - </font></font><code>dockerfile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Lors du calcul de la signature, la somme de contr√¥le des fichiers est prise en compte </font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui sera utilis√©e lors de l'assemblage. Avant cette am√©lioration, werf traversait r√©cursivement tous les fichiers et recevait une somme de contr√¥le, r√©sumant le contexte et le mode de chaque fichier. √Ä partir de la version 1.1, werf peut utiliser les sommes de contr√¥le calcul√©es stock√©es dans le r√©f√©rentiel Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme est bas√© sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git ls-tree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'algorithme prend en compte les entr√©es dans </font></font><code>.dockerignore</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et passe r√©cursivement dans l'arborescence de fichiers uniquement si n√©cessaire. Ainsi, nous nous sommes d√©barrass√©s de la lecture du syst√®me de fichiers, et la d√©pendance de l'algorithme sur la taille n'est </font></font><code>context</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas significative.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme v√©rifie √©galement les fichiers non suivis et, si n√©cessaire, les prend en compte dans la somme de contr√¥le.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am√©lioration des performances lors de l'importation de fichiers</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf v1.1 utilise le serveur rsync lors de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">importation de fichiers √† partir d'artefacts et d'images</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Auparavant, l'importation se faisait en deux √©tapes √† l'aide du montage du r√©pertoire √† partir du syst√®me h√¥te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les performances d'importation sur macOS ne se limitent plus aux volumes Docker et les importations se font en m√™me temps que Linux et Windows.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Balisage bas√© sur le contenu</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf v1.1 prend en charge ce que l'on appelle le balisage par </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contenu d'</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> image - </font><i><font style="vertical-align: inherit;">balisage bas√© sur le contenu</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les balises des images Docker r√©sultantes d√©pendent du contenu de ces images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous ex√©cutez la </font><font style="vertical-align: inherit;">commande </font></font><code>werf publish --tags-by-stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, les images publi√©es de la soi-disant </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature de l'√©tape d'</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> image </font><font style="vertical-align: inherit;">seront test√©es </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Chaque image est √©tiquet√©e avec sa propre signature des √©tapes de cette image, qui est calcul√©e selon les m√™mes r√®gles que la signature r√©guli√®re de chaque √©tape s√©par√©ment, mais est un identifiant g√©n√©ralis√© de l'image. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La signature des √©tapes de l'image d√©pend:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le contenu de cette image;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Historique des r√©visions Git qui ont conduit √† ce contenu.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©f√©rentiels Git ont toujours des validations inactives qui ne modifient pas le contenu des fichiers image. Par exemple, les validations avec des commentaires uniquement, ou les validations de fusion, ou les validations qui modifient les fichiers dans Git qui ne seront pas import√©s dans l'image. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation du balisage bas√© sur le contenu r√©sout le probl√®me des red√©marrages inutiles des modules d'application dans Kubernetes en raison des changements de nom d'image, m√™me si le contenu de l'image n'a pas chang√©. Soit dit en passant, c'est l'une des raisons qui rend difficile le stockage de nombreux microservices d'une application dans un seul r√©f√©rentiel Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, le balisage bas√© sur le contenu est une m√©thode de balisage plus fiable que le balisage par les branches Git, car le contenu des images r√©sultantes ne d√©pend pas de l'ordre d'ex√©cution des pipelines dans le syst√®me CI pour assembler plusieurs validations de la m√™me branche. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Important</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: D√©sormais, la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signature d'√©tapes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seule strat√©gie de balisage recommand√©e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il sera utilis√© par d√©faut dans l'√©quipe </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sauf si vous sp√©cifiez explicitement un sch√©ma de balisage diff√©rent). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Üí Documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une publication s√©par√©e sera √©galement consacr√©e √† cette fonctionnalit√©. </font></font></s> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MISE √Ä JOUR</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (3 avril): Un article avec des d√©tails a √©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publi√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Niveaux de journalisation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisateur a la possibilit√© de contr√¥ler la sortie, de d√©finir le niveau de journalisation et de travailler avec les informations de d√©bogage. </font><font style="vertical-align: inherit;">Ajout d' </font><font style="vertical-align: inherit;">options </font></font><code>--log-quiet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par d√©faut, la sortie contient un minimum d'informations: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/s6/6c/hhs66c1shzadu5wbrfbnhnqiio8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous utilisez la sortie d√©taill√©e ( </font></font><code>--log-verbose</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), vous pouvez suivre le fonctionnement de werf: La </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e0/su/ja/e0sujatvuptepfutttg0jqsy-vg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sortie d√©taill√©e ( </font></font><code>--log-debug</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), en plus des informations de d√©bogage de werf, contient √©galement les journaux des biblioth√®ques utilis√©es. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez voir comment l'interaction avec le Docker Registry se produit, et √©galement corriger les endroits o√π un temps important est pass√©:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/ca/rs/dkcarso11r4ghi5s1lyfwkbmczo.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plans futurs</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les fonctionnalit√©s d√©crites ci-dessous marqu√©es </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seront disponibles dans cette version, beaucoup d'entre elles dans un avenir proche. </font><font style="vertical-align: inherit;">Les mises √† jour proviendront </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mises </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">√†</font></a><font style="vertical-align: inherit;"> jour </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">automatiques lors de l'utilisation de multiwerf</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ces fonctionnalit√©s n'affectent pas la partie stable des fonctions v1.1; leur apparence ne n√©cessitera pas d'intervention manuelle de l'utilisateur dans les configurations existantes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prise en charge compl√®te de diverses impl√©mentations de Docker Registry (NOUVEAU)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: mars</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®me</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le but est que l'utilisateur utilise une impl√©mentation arbitraire sans restrictions lors de l'utilisation de werf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce jour, nous avons identifi√© l'ensemble de solutions suivant pour lequel nous allons garantir un support complet:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Par d√©faut (biblioth√®que / registre) *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AWS ECR,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Azur *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Docker hub</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GCR *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Forfaits Github</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Registre GitLab *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Port *,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Quai.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un ast√©risque indique les solutions qui sont actuellement enti√®rement prises en charge par werf. </font><font style="vertical-align: inherit;">Pour le reste, il y a du support, mais avec des limitations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On peut distinguer deux probl√®mes principaux:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Certaines solutions ne prennent pas en charge la suppression des balises √† l'aide de l'API Docker Registry, qui ne permet pas aux utilisateurs d'utiliser le nettoyage automatique impl√©ment√© dans werf. </font><font style="vertical-align: inherit;">Cela est vrai pour AWS ECR, Docker Hub et GitHub Packages.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Certaines solutions ne prennent pas en charge les soi-disant r√©f√©rentiels imbriqu√©s (Docker Hub, GitHub Packages et Quay) ou la prise en charge, mais l'utilisateur doit les cr√©er manuellement √† l'aide de l'interface utilisateur ou de l'API (AWS ECR).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons r√©soudre ces probl√®mes et d'autres en utilisant des API de solutions natives. </font><font style="vertical-align: inherit;">Cette t√¢che comprend √©galement la couverture du cycle werf complet avec des tests pour chacun d'eux.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assemblage d'images distribu√©es (‚Üë)</font></font></h3><br>
<ul>
<li> <i>: <s>v1.2</s> v1.1 (      )</i></li>
<li> <i>: <s>-</s> </i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Issue</a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le moment, werf v1.0 et v1.1 ne peut √™tre utilis√© que sur un seul h√¥te d√©di√© pour l'assemblage et la publication d'images et d√©ployer des applications dans Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin d'ouvrir les possibilit√©s du travail distribu√© werf, lorsque l'assemblage et le d√©ploiement d'applications dans Kubernetes est d√©marr√© sur plusieurs h√¥tes arbitraires et que ces h√¥tes ne maintiennent pas leur √©tat entre les assemblys (coureurs temporaires), werf doit impl√©menter la possibilit√© d'utiliser le Docker Registry comme r√©f√©rentiel d'√©tape. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auparavant, lorsque le projet werf s'appelait encore dapp, il avait une telle opportunit√©. Cependant, nous avons rencontr√© un certain nombre de probl√®mes qui doivent √™tre pris en compte lors de l'impl√©mentation de cette fonction dans werf. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cette fonctionnalit√© n'implique pas le travail du collecteur √† l'int√©rieur des pods Kubernetes, car </font><font style="vertical-align: inherit;">pour ce faire, d√©barrassez-vous de la d√©pendance √† l'√©gard du serveur Docker local (dans le module Kubernetes, il n'y a pas d'acc√®s au serveur Docker local, car le processus lui-m√™me s'ex√©cute dans le conteneur, et werf ne prend pas en charge et ne prend pas en charge le travail avec le serveur Docker sur le r√©seau). </font><font style="vertical-align: inherit;">La prise en charge du travail dans Kubernetes sera mise en ≈ìuvre s√©par√©ment.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Support officiel des actions GitHub (NOUVEAU)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: mars</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®me</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comprend la documentation werf ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rences</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font><font style="vertical-align: inherit;">sections de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">guide</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), ainsi que l'action officielle GitHub pour travailler avec werf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, cela permettra √† werf de travailler sur des coureurs √©ph√©m√®res. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©canique de l'interaction des utilisateurs avec le syst√®me CI sera bas√©e sur la mise en place d'√©tiquettes sur les demandes d'extraction pour lancer certaines actions de cr√©ation / d√©ploiement de l'application.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©veloppement et d√©ploiement d'applications locales avec werf (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janvier-f√©vrier</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avril</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®me</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objectif principal est de r√©aliser une configuration unifi√©e unique pour d√©ployer des applications √† la fois localement et en production, sans actions complexes, hors de la bo√Æte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf a √©galement besoin d'un mode de fonctionnement dans lequel il sera commode de modifier le code de l'application et de recevoir instantan√©ment les commentaires d'une application qui fonctionne pour le d√©bogage.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouvel algorithme de nettoyage (NOUVEAU)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.1</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: avril</font></font></i></li>
<li> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®me</font></font></a></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la version actuelle de werf v1.1, la proc√©dure </font></font><code>cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne pr√©voit pas de nettoyer les images pour le sch√©ma de balisage bas√© sur le contenu - ces images s'accumuleront. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, dans la version actuelle de werf (v1.0 et v1.1), diff√©rentes politiques de nettoyage sont utilis√©es pour les images publi√©es par les sch√©mas de balisage: branche Git, balise Git ou validation Git. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un nouvel algorithme de nettoyage d'image unifi√© pour tous les sch√©mas de marquage a √©t√© invent√© sur la base de l'historique des validations dans Git:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ne stockez pas plus de N1 images associ√©es aux N2 derni√®res validations pour chacun des git HEAD (branches et balises).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ne stockez pas plus de N1 images-√©tapes associ√©es aux N2 derni√®res validations pour chacun des git HEAD (branches et balises).</font></font></li>
<li>   ,    -   Kubernetes (  kube-    namespace';      ).</li>
<li>   ,      ,   Helm-.</li>
<li>    ,        HEAD  git (,     HEAD  )           Kubernetes    Helm.</li>
</ul><br>
<h3>   (‚Üì)</h3><br>
<ul>
<li> <i>: v1.1</i></li>
<li> <i>: <s>-</s> *</i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La version actuelle de werf collecte les images et les artefacts d√©crits dans </font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, s√©quentiellement. </font><font style="vertical-align: inherit;">Il est n√©cessaire de parall√©liser le processus d'assemblage d'√©tapes ind√©pendantes d'images et d'artefacts, ainsi que de fournir une conclusion pratique et informative. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Remarque: la date limite est d√©cal√©e en raison de la priorit√© accrue pour la mise en ≈ìuvre d'un assemblage distribu√©, qui ajoutera plus de fonctionnalit√©s pour la mise √† l'√©chelle horizontale, ainsi que l'utilisation de werf avec les actions GitHub. </font><font style="vertical-align: inherit;">L'assemblage parall√®le est la prochaine √©tape d'optimisation, offrant une √©volutivit√© verticale lors de l'assemblage d'un seul projet.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passer √† la barre 3 (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f√©vrier-mars</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mai *</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il comprend la transition vers la nouvelle base de code </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et un moyen √©prouv√© et pratique de migrer les installations existantes. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Remarque: le passage √† Helm 3 n'ajoutera pas de fonctionnalit√©s importantes √† werf, car toutes les fonctionnalit√©s cl√©s de Helm 3 (fusion √† 3 voies et manque de barre) sont d√©j√† impl√©ment√©es dans werf. </font><font style="vertical-align: inherit;">De plus, werf poss√®de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des fonctionnalit√©s suppl√©mentaires en</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus de celles indiqu√©es. </font><font style="vertical-align: inherit;">Cependant, cette transition reste dans nos plans et sera mise en ≈ìuvre.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description de la configuration de Jsonnet pour Kubernetes (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">janvier-f√©vrier</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avril-mai</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf prendra en charge la description de la configuration de Kubernetes au format Jsonnet. </font><font style="vertical-align: inherit;">Dans le m√™me temps, werf restera compatible avec Helm et il sera possible de s√©lectionner un format de description. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La raison en est que les mod√®les de langage Go, selon de nombreuses personnes, ont un seuil d'entr√©e important, et l'intelligibilit√© du code de ces mod√®les souffre √©galement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autres options pour l'impl√©mentation de syst√®mes de description de configuration Kubernetes (comme Kustomize) sont √©galement envisag√©es.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Travailler √† l'int√©rieur de Kubernetes (‚Üì)</font></font></h3><br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version: v1.2</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dates: </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avril-mai</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mai-juin</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objectif: Assurer l'assemblage des images et la livraison des applications √† l'aide de coureurs dans Kubernetes. </font><font style="vertical-align: inherit;">Ceux. </font><font style="vertical-align: inherit;">l'assemblage de nouvelles images, leur publication, leur nettoyage et leur d√©ploiement peuvent se faire directement √† partir des modules Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour r√©aliser cette fonctionnalit√©, vous devez d'abord pouvoir cr√©er des images de mani√®re distribu√©e </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(voir le paragraphe ci-dessus)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n√©cessite √©galement la prise en charge du mode de fonctionnement de g√©n√©ration sans le serveur Docker (c'est-√†-dire une construction de type Kaniko ou une construction dans l'espace utilisateur). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf prendra en charge les versions de Kubernetes non seulement avec le Dockerfile, mais aussi avec son g√©n√©rateur Stapel avec reconstructions incr√©mentielles et Ansible.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un pas vers le d√©veloppement open source</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous aimons notre communaut√© ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et nous voulons que de plus en plus de personnes contribuent √† am√©liorer notre situation, √† comprendre dans quelle direction nous allons et √† participer au d√©veloppement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus r√©cemment, il a √©t√© d√©cid√© de passer aux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartes de projet GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> afin d'ouvrir le flux de travail de notre √©quipe. </font><font style="vertical-align: inherit;">Vous pouvez maintenant voir les plans imm√©diats, ainsi que les travaux en cours dans les domaines suivants:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation et site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bugs et Bad UX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beaucoup de travail a √©t√© fait sur les probl√®mes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Supprim√© non pertinent.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les existants sont r√©duits √† un seul format, un nombre suffisant de d√©tails et de d√©tails.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ajout de nouveaux probl√®mes avec des id√©es et des suggestions.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment activer la version v1.1</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La version est actuellement disponible dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canal 1.1 ea</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (les </font><font style="vertical-align: inherit;">versions </font><font style="vertical-align: inherit;">dans </font><i><font style="vertical-align: inherit;">les</font></i><font style="vertical-align: inherit;"> canaux </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stables</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solides</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appara√Ætront au fur et √† mesure de leur stabilisation, mais </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ea</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lui-m√™me est d√©j√† suffisamment stable pour √™tre utilis√©, car il est pass√© par </font><i><font style="vertical-align: inherit;">les</font></i><font style="vertical-align: inherit;"> canaux </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alpha</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b√™ta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Il est activ√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">via multiwerf de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mani√®re suivante:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">source</span> $(multiwerf use 1.1 ea)<font></font>
werf COMMAND ...</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La nouvelle architecture du magasin de sc√®ne et les performances optimis√©es du collecteur pour les collecteurs Stapel et Dockerfile ouvrent la possibilit√© de mettre en ≈ìuvre des assemblages distribu√©s et parall√®les dans werf. Ces fonctionnalit√©s appara√Ætront bient√¥t dans la m√™me version v1.1 et deviendront automatiquement disponibles via le m√©canisme de mise √† jour automatique (pour les utilisateurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multiwerf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette version, une strat√©gie de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">balisage bas√©e sur le contenu a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© ajout√©e </font><font style="vertical-align: inherit;">, qui est devenue la strat√©gie par d√©faut. Un journal a √©galement √©t√© repens√© les commandes de </font><font style="vertical-align: inherit;">base: </font></font><code>werf build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf dismiss</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>werf cleanup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La prochaine √©tape importante consistera √† ajouter des assemblys distribu√©s. </font><font style="vertical-align: inherit;">Les assemblys distribu√©s depuis la version 1.0 sont devenus une priorit√© plus √©lev√©e que les assemblages parall√®les, car ils ajoutent plus de valeur werf: mise √† l'√©chelle verticale des collecteurs et prise en charge des collecteurs √©ph√©m√®res dans divers syst√®mes CI / CD, ainsi que la possibilit√© de prendre officiellement en charge les actions GitHub. </font><font style="vertical-align: inherit;">Par cons√©quent, le calendrier de mise en ≈ìuvre des assemblages parall√®les a √©t√© d√©cal√©. </font><font style="vertical-align: inherit;">Cependant, nous travaillons pour r√©aliser rapidement les deux possibilit√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suivez l'actualit√©! </font><font style="vertical-align: inherit;">Et n'oubliez pas de passer par notre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour cr√©er un probl√®me, en trouver un existant et mettre un plus, cr√©er un PR ou simplement regarder le d√©veloppement du projet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez aussi dans notre blog:</font></font><br>
<br>
<ul>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> werf 1.0 stable:    GitOps,   </a>¬ª</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">werf ‚Äî    CI/CD  Kubernetes (   )</a>¬ª;</li>
<li>      werf:<br>
<ul>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3-way merge  werf:   Kubernetes  Helm ‚Äû ‚Äú</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> werf    Helm-</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> monorepo  multirepo  werf     Docker Registry</a>¬ª;</li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> Docker-  werf      Dockerfile</a>¬ª.</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493160/index.html">Comment nous avons am√©lior√© la recherche intelligente sur hh.ru en 2019: infographie</a></li>
<li><a href="../fr493162/index.html">Une liste ouverte de r√©unions et conf√©rences en ligne</a></li>
<li><a href="../fr493164/index.html">Il s'av√®re que le commerce en ligne survit dans l'environnement actuel. Pourquoi? ADN supprim√©</a></li>
<li><a href="../fr493166/index.html">Ontol: une s√©lection d'articles sur le "burnout" [100+]</a></li>
<li><a href="../fr493168/index.html">Calculatrice Pipipax</a></li>
<li><a href="../fr493172/index.html">Le plus gros, le pire ou pourquoi la boucle de jeu est importante</a></li>
<li><a href="../fr493178/index.html">Tout est incroyable dans les logiciels, mais tout le monde est m√©content</a></li>
<li><a href="../fr493184/index.html">Contrat de d√©veloppement de l'√©lectronique. Calcul de projet</a></li>
<li><a href="../fr493186/index.html">Les meilleurs articles li√©s √† l'automobile pour les d√©veloppeurs sur Habr√© [170+]</a></li>
<li><a href="../fr493190/index.html">Comment nous avons cr√©√© la galerie d'art des r√©seaux de neurones et pourquoi nous ne donnons pas d'images √† copier</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>