<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👲🏻 👨🏾‍⚖️ ↩️ 推奨事項の選択の質とスピードにどのように取り組むか 👨🏾‍🎓 👩‍🔧 💃🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私はML開発者のPavel Parkhomenkoです。この記事では、Yandex.Zenサービスの設計について話し、技術的な改善点を共有します。これにより、推奨事項の品質が向上しました。投稿から、ほんの数ミリ秒で何百万ものドキュメントの中からユーザーにとって最も関連性の高いものを見つける方法を学び...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>推奨事項の選択の質とスピードにどのように取り組むか</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/490140/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はML開発者のPavel Parkhomenkoです。この記事では、Yandex.Zenサービスの設計について話し、技術的な改善点を共有します。これにより、推奨事項の品質が向上しました。投稿から、ほんの数ミリ秒で何百万ものドキュメントの中からユーザーにとって最も関連性の高いものを見つける方法を学びます。大規模な行列（数百万の列と数千万の行で構成される）の連続分解を実行して、新しいドキュメントが数十分でベクトルを受け取る方法ユーザーの記事のマトリックス分解を再利用して、ビデオの適切なベクトル表現を取得する方法。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nv/wk/lu/nvwklujlh3cigjss72fkrcjf6ie.png"><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの参照データベースには、さまざまな形式の何百万ものドキュメントが含まれています。プラットフォームで作成され、外部サイト、ビデオ、ナラティブ、短い投稿から取得されたテキスト記事です。</font><font style="vertical-align: inherit;">このようなサービスの開発には、多くの技術的課題が伴います。</font><font style="vertical-align: inherit;">それらの一部を次に示します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">個別の計算タスク：すべての負荷の高い操作をオフラインで実行し、リアルタイムでのみ、モデルの迅速な適用を実行して、100〜200ミリ秒を処理します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーの行動をすばやく検討します。</font><font style="vertical-align: inherit;">このため、すべてのイベントが即座にレコメンダーに配信され、モデルの結果に影響を与えることが必要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいユーザーが自分の行動にすばやく順応できるように、テープを作成します。</font><font style="vertical-align: inherit;">システムに入ったばかりの人は、自分のフィードバックが推奨事項に影響を与えていると感じるはずです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">誰が新しい記事を推薦するかを素早く理解します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいコンテンツの絶え間ない出現に迅速に対応します。</font><font style="vertical-align: inherit;">毎日数万件の記事が発行されており、その多くは寿命が限られています（たとえば、ニュース）。</font><font style="vertical-align: inherit;">これは、映画、音楽、その他の長寿命で高価なコンテンツ作成との違いです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あるドメインから別のドメインに知識を転送します。</font><font style="vertical-align: inherit;">おすすめシステムにテキスト記事のトレーニング済みモデルがあり、それにビデオを追加した場合、既存のモデルを再利用して、新しいタイプのコンテンツのランク付けを向上させることができます。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの問題をどのように解決したかをお話します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">候補者の選択</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ランク付けの質を実質的に悪化させることなく、検討中のドキュメントのセットを数千ミリ秒で削減するにはどうすればよいでしょうか。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くのMLモデルをトレーニングし、それらに基づいて属性を生成し、ユーザーのドキュメントをランク付けする別のモデルをトレーニングしたとします。すべてが問題ないでしょうが、これらのドキュメントが数百万ある場合、すべてのドキュメントのすべてのサインをリアルタイムで取得してカウントすることはできず、推奨事項を100〜200ミリ秒で構築する必要があります。タスクは、何百万ものユーザーからランク付けされる特定のサブセットを選択することです。このステップは一般的に候補選択と呼ばれます。いくつかの要件があります。まず、選択は非常に迅速に行われる必要があるため、ランキング自体にできるだけ多くの時間が残されます。次に、ランク付けするドキュメントの数を大幅に減らすことで、ユーザーに関連するドキュメントをできるだけ完全に保持する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの候補者選択の原則は進化を遂げており、現時点では多段階方式になっています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gj/yb/4c/gjyb4cr-st_hbkd0iopnaoxf_7c.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、すべてのドキュメントがグループに分割され、最も人気のあるドキュメントが各グループから取得されます。グループは、サイト、トピック、クラスターにすることができます。ユーザーごとに、彼のストーリーに基づいて、彼に最も近いグループが選択され、最高のドキュメントが既にそれらから取得されます。また、kNNインデックスを使用して、ユーザーに最も近いドキュメントをリアルタイムで選択します。 k最近傍のインデックスを構築するためのいくつかの方法がありますが、我々は最高の獲得している</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HNSWを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（階層的にナビゲート可能なスモールワールドグラフ）。これは、数百万番目のデータベースから数ミリ秒でユーザーのN個の最も近いベクトルを見つけることができる階層モデルです。以前は、ドキュメントのデータベース全体にオフラインでインデックスを付けていました。インデックスの検索は非常に高速に機能するため、強力な埋め込みが複数ある場合は、複数のインデックス（埋め込みごとに1つのインデックス）を作成し、それぞれにリアルタイムでアクセスできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーごとにまだ何万ものドキュメントがあります。</font><font style="vertical-align: inherit;">これはまだすべての属性を数えるのにたくさんあります。そのため、この段階では簡単なランキングを適用します-少ない属性を持つ軽量の重いランキングモデル。</font><font style="vertical-align: inherit;">タスクは、重いモデルが上部に持つドキュメントを予測することです。</font><font style="vertical-align: inherit;">予測が最も高いドキュメントが、ヘビーモデル、つまりランキングの最終段階で使用されます。</font><font style="vertical-align: inherit;">このアプローチでは、数十ミリ秒で、ユーザーに考慮されるドキュメントのデータベースを数百万から数千に減らすことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行時のALSステップ</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリック直後にユーザーのフィードバックを考慮する方法は？</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
推奨事項の重要な要素は、ユーザーのフィードバックに対する応答時間です。これは新しいユーザーにとって特に重要です。ある人がレコメンデーションシステムを使い始めたばかりのとき、彼はさまざまなトピックのドキュメントのパーソナライズされていないストリームを受け取ります。彼が最初のクリックをするとすぐに、これを考慮に入れ、彼の興味に適応する必要があります。すべての要因がオフラインで計算される場合、遅延のために迅速なシステム応答が不可能になります。したがって、ユーザーアクションをリアルタイムで処理する必要があります。これらの目的のために、実行時にALSステップを使用してユーザーのベクトル表現を構築します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのドキュメントのベクトル表現があるとします。</font><font style="vertical-align: inherit;">たとえば、ELMo、BERT、またはその他の機械学習モデルを使用して、記事のテキストの埋め込みに基づいてオフラインでビルドできます。</font><font style="vertical-align: inherit;">システムでの相互作用に基づいて、同じ空間にいるユーザーのベクトル表現をどのように取得できますか？</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザードキュメントマトリックスの形成と分解の一般的な原則</font></font></b><div class="spoiler_text">    m   n .         .         m x n:   ,   — .      ,  ́     ,    .    (, , )    -  —    ,     1,   –1.<br>
<br>
   : P (m x d)  Q (d x n),  d —    (   ).      d-  ( —    P,  —    Q).       .  ,    ,     .<br>
<br>
<img src="https://habrastorage.org/webt/co/13/pd/co13pdacvhi3axgly7ofjdkzmtq.png"></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
行列分解の可能な方法の1つは、ALS（Alternating Least Squares）です。</font><font style="vertical-align: inherit;">次の損失関数を最適化します。</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>min</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>q</mi><mo>&amp;#x2217;</mo><mo>,</mo><mi>p</mi><mo>&amp;#x2217;</mo></mrow></munder><munder><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow></munder><mo stretchy=&quot;false&quot;>(</mo><msub><mi>r</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi><mi>i</mi></mrow></msub><mo>&amp;#x2212;</mo><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>q</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi></mrow></msup><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>u</mi></mrow></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>+</mo><mi>&amp;#x03BB;</mi><mo stretchy=&quot;false&quot;>(</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msub><mi>p</mi><mi>u</mi></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.985ex" height="5.384ex" viewBox="0 -1024.6 18076.7 2318.2" role="img" focusable="false" style="vertical-align: -3.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-69" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-6E" x="1112" y="0"></use><g transform="translate(41,-601)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-2217" x="460" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-2C" x="961" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-70" x="1239" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-2217" x="1743" y="0"></use></g><g transform="translate(1835,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJSZ2-2211" x="0" y="0"></use><g transform="translate(147,-1090)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-69" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-3D" x="345" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-31" x="1124" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-28" x="3279" y="0"></use><g transform="translate(3669,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-2212" x="5092" y="0"></use><g transform="translate(6092,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-69" x="631" y="-213"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-54" x="1118" y="583"></use></g><g transform="translate(7481,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-75" x="712" y="-213"></use></g><g transform="translate(8490,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-2B" x="9555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-3BB" x="10556" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-28" x="11139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="11529" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="11807" y="0"></use><g transform="translate(12086,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="12877" y="0"></use><g transform="translate(13155,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-2B" x="14110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="15111" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="15389" y="0"></use><g transform="translate(15668,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="16676" y="0"></use><g transform="translate(16954,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/company/yandex/blog/490140/&amp;usg=ALkJrhixE9faV1BAykhpwVqI0ynxDl_9TQ#MJMAIN-29" x="17687" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><munder><mo movablelimits="true" form="prefix">min</mo><mrow class="MJX-TeXAtom-ORD"><mi>q</mi><mo>∗</mo><mo>,</mo><mi>p</mi><mo>∗</mo></mrow></munder><munder><mo>∑</mo><mrow class="MJX-TeXAtom-ORD"><mi>i</mi><mo>=</mo><mn>1</mn></mrow></munder><mo stretchy="false">(</mo><msub><mi>r</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi><mi>i</mi></mrow></msub><mo>−</mo><msup><mrow class="MJX-TeXAtom-ORD"><msub><mi>q</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi></mrow></msup><msub><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mi>u</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mi>λ</mi><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msub><mi>q</mi><mi>i</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo>+</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msub><mi>p</mi><mi>u</mi></msub><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">\min_{q*,p*} \sum_{i=1}(r_{ui}-{q_{i}}^{T}p_{u})^2+\lambda(||q_i||^2+||p_u||^2)</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、r </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ui</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はユーザーuとドキュメントiの相互作用、q </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はドキュメントiのベクトル、p </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はユーザーuのベクトルです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、対応する線形回帰を解くことにより、平均二乗誤差の観点から最適なユーザーベクトル（固定ドキュメントベクトルの場合）が分析的に求められます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはALSステップと呼ばれます。また、ALSアルゴリズム自体は、マトリックス（ユーザーと記事）の1つを交互に修正し、もう1つを更新して、最適なソリューションを見つけるという事実に基づいています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸い、ユーザーのベクトル表現を見つけることは、実行時にベクトル命令を使用して実行できるかなり迅速な操作です。</font><font style="vertical-align: inherit;">このトリックにより、ランキングでのユーザーのフィードバックをすぐに考慮することができます。</font><font style="vertical-align: inherit;">同じ埋め込みをkNNインデックスで使用して、候補の選択を改善できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散協調フィルタリング</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">増分分散行列因数分解を行い、新しい記事のベクトル表現をすばやく見つける方法は？</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コンテンツは、推奨事項の唯一の情報源ではありません。共同情報も重要な情報源です。ランキングの良い兆候は、従来、ユーザードキュメントマトリックスの分解から取得できます。しかし、この分解を行おうとすると、問題が発生しました</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。1。何百万ものドキュメントと何千万ものユーザーがいます。行列は1台のマシンに完全には適合せず、分解は非常に長くなります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.システム内のほとんどのコンテンツの有効期間は短いです。ドキュメントは数時間しか関連しません。したがって、可能な限り迅速にベクトル表現を構築する必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.文書の公開直後に分解を構築すると、十分な数のユーザーがそれを評価する時間がなくなります。したがって、そのベクトル表現はあまり良くない可能性があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.ユーザーが「いいね」または「嫌い」の場合、展開でこれをすぐに考慮することはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの問題を解決するために、ユーザードキュメントマトリックスの分散分解を実装し、頻繁に増分更新を行いました。正確にはどのように機能しますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N台のマシン（Nは数百台）のクラスターがあり、1台のマシンに適合しないそれらのマトリックスの分散分解を実行するとします。問題は、この分解を実行して、一方で各マシンに十分なデータがあり、他方で計算が独立しているようにする方法です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/sh/fy/kgshfyss_p2rj48ecnb3rn9scvc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のALS分解アルゴリズムを使用します。 1つのALSステップを分散して実行する方法を検討してください。残りのステップは同様です。ドキュメントの固定マトリックスがあり、ユーザーのマトリックスを作成するとします。これを行うには、行をN個の部分に分割します。各部分には、ほぼ同じ数の行が含まれます。各マシンに、対応する行の空でないセルと、ドキュメントの埋め込みのマトリックス（全体）を送信します。それはそれほど大きくなく、ユーザードキュメントマトリックスは通常非常に疎であるため、このデータは通常のマシンに適合します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなトリックは、モデルが収束するまでいくつかの時代に繰り返し、固定行列を交互に変更できます。しかし、それでも、マトリックスの分解は数時間続くことがあります。そして、これは、新しいドキュメントの埋め込みを迅速に受け取り、モデルの構築時にほとんど情報がなかったドキュメントの埋め込みを更新する必要があるという問題を解決しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モデルの迅速な増分更新の導入は私たちを助けました。現在トレーニング済みのモデルがあるとします。彼女のトレーニング以来、ユーザーとやり取りした新しい記事や、トレーニングとのやり取りがほとんどなかった記事が登場しています。このような記事をすばやく埋め込むために、モデルの最初の大規模なトレーニング中に取得したユーザー埋め込みを使用し、ALSステップを1つ実行して、ユーザーの固定行列を含むドキュメントの行列を計算します。これにより、ドキュメントを公開してから数分以内に非常に迅速に埋め込みを受信し、多くの場合、新しいドキュメントの埋め込みを更新できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
推奨事項に対する人間のアクションをすぐに考慮に入れるために、ランタイムでは、オフラインで受け取ったユーザー埋め込みを使用しません。</font><font style="vertical-align: inherit;">代わりに、ALSステップを実行して、現在のユーザーベクトルを取得します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のドメイン領域への移管</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト記事に対するユーザーのフィードバックを使用して、ビデオのベクトル表現を構築する方法は？</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当初はテキスト記事のみを推奨していたため、アルゴリズムの多くはこのタイプのコンテンツに重点を置いています。</font><font style="vertical-align: inherit;">しかし、異なるタイプのコンテンツを追加するとき、モデルを適応させる必要に直面しました。</font><font style="vertical-align: inherit;">サンプルビデオを使用してこの問題をどのように解決しましたか？</font><font style="vertical-align: inherit;">1つのオプションは、すべてのモデルを最初から再トレーニングすることです。</font><font style="vertical-align: inherit;">しかし、これは長い時間であり、さらに、いくつかのアルゴリズムはトレーニングサンプルの量を要求します。これは、サービスでの生活の最初の瞬間の新しいタイプのコンテンツにはまだ適切な量ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の方法で、ビデオのテキストモデルを再利用しました。</font><font style="vertical-align: inherit;">ビデオのベクトル表現を作成する際に、ALSと同じトリックが役立ちました。</font><font style="vertical-align: inherit;">テキスト記事に基づいてユーザーをベクトルで表現し、ビデオの再生に関する情報を使用してALSの手順を実行しました。</font><font style="vertical-align: inherit;">そのため、ビデオのベクトル表現を簡単に取得できました。</font><font style="vertical-align: inherit;">実行時には、テキスト記事から取得したユーザーベクトルとビデオベクトルの間の近接度を計算するだけです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リアルタイムレコメンダーシステムのコアの開発には多くのタスクが伴います。</font><font style="vertical-align: inherit;">このデータを効果的に使用するには、データをすばやく処理し、MLメソッドを適用する必要があります。</font><font style="vertical-align: inherit;">最小限の時間でユーザー信号と新しいコンテンツユニットを処理できる複雑な分散システムを構築します。</font><font style="vertical-align: inherit;">その他の多くのタスク。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が説明したデバイスである現在のシステムでは、ユーザーへの推奨の質は、そのアクティビティとサービスの継続時間とともに向上します。</font><font style="vertical-align: inherit;">しかし、もちろん、ここに主な難点があります。システムがコンテンツとほとんど相互作用しなかった人の興味をすぐに理解することは困難です。</font><font style="vertical-align: inherit;">新規ユーザー向けの推奨事項を改善することが私たちの主な関心事です。</font><font style="vertical-align: inherit;">私たちはアルゴリズムを最適化し続け、その人物に関連するコンテンツがより早くフィードに取り込まれ、無関係なコンテンツが表示されないようにします。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja490120/index.html">ビットトーンで学ぶ</a></li>
<li><a href="../ja490126/index.html">シンガポールの電子決済ライセンスの種類とその入手方法は？</a></li>
<li><a href="../ja490130/index.html">骨董品：オーディオファン形式としてのデジタルカセット</a></li>
<li><a href="../ja490132/index.html">Rust 1.41.1リリース：修正リリース</a></li>
<li><a href="../ja490138/index.html">キャッシュレジスタソフトウェアの更新タスクでのRの使用</a></li>
<li><a href="../ja490142/index.html">AnalogBytesカンファレンス：セクション1、民主主義の技術的基盤</a></li>
<li><a href="../ja490152/index.html">ブラッド・テンプルトン：ロボット車両の未来をどう見るか</a></li>
<li><a href="../ja490154/index.html">起源の遺伝学。ハプログループ</a></li>
<li><a href="../ja490156/index.html">VMware vCloud Availabilityを使用した災害復旧と移行。パート1</a></li>
<li><a href="../ja490158/index.html">ロボット車両の数：3兆マイル、500億時間、GDPの8％</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>