<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☂️ 🧤 💇 ICQ Neu: Bot Zuchtführer 🚳 🔪 🛑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jedes Mal, wenn wir den Boten betreten, treffen wir Bots in ihren unterschiedlichsten Erscheinungsformen. Einige reden über das Wetter, andere spielen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ICQ Neu: Bot Zuchtführer</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/506206/"><img src="https://habrastorage.org/webt/hz/yl/ac/hzylac6lisykfejesv6dmsxquok.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes Mal, wenn wir den Boten betreten, treffen wir Bots in ihren unterschiedlichsten Erscheinungsformen. Einige reden über das Wetter, andere spielen Burger und wieder andere werfen Meme in Stimmung. Sicherlich tauchte bei vielen von Ihnen ein Gedanke auf: "Aber kann ich meinen eigenen Bot machen?" Leider werden solche Gedanken oft über ein Missverständnis darüber gebrochen, wie man überhaupt einen Bot macht. Wahrscheinlich müssen Sie dafür ein cooler IT-Spezialist sein und Millionen von Technologien verstehen? Nicht wirklich. Und heute werden wir versuchen zu zeigen, dass die Erstellung unseres Bots ein einfacher und verständlicher Prozess ist. Lassen Sie uns den gesamten Zyklus der Erstellung eines Bots analysieren, vom Abrufen der erforderlichen Daten vom Messenger über das Schreiben von Code bis hin zum Starten auf dem Server.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor einiger Zeit wurde die Bot-Plattform in ICQ stark aktualisiert. </font><font style="vertical-align: inherit;">Sie wurde freundlicher, verständlicher und bequemer. </font><font style="vertical-align: inherit;">Mit der Python-Bibliothek der Entwickler erstellen wir unseren ersten Bot.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erste Sache</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst müssen Sie in ICQ registriert sein. </font><font style="vertical-align: inherit;">Dies kann über die Anwendung für ein Mobiltelefon, einen Computer oder direkt über einen Browser in der Webversion erfolgen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach der Registrierung können Sie beginnen, Ihren eigenen Bot im System einzurichten:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finden </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metabot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf ICQ.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreiben Sie ihm ein Team </font></font><code>/newbot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Senden Sie einen Namen für Ihren neuen Bot (sollte mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> enden </font><font style="vertical-align: inherit;">).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach diesem Metabot werden die Daten Ihres Bots gesendet:</font></font><br>
<br>
<ul>
<li><code>botId</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: eindeutige Botnummer;</font></font></li>
<li><code>nick</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Name des zu suchenden Bots;</font></font></li>
<li><code>token</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Das Token, das für Netzwerkanforderungen an den Server verwendet wird.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das war's, der Bot wird erstellt. Er kann in der Suche gefunden werden, schreiben Sie ihm eine Nachricht. Jetzt müssen wir den Bot aktivieren und reagieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Seite </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.com/botapi/#/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> finden Sie eine vollständige Beschreibung der API-Methoden. Sie werden verwendet, um mit dem Server zu interagieren. Lassen Sie uns einige davon genauer untersuchen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die grundlegende Methode ist </font></font><code>/events/get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Es wird verwendet, um neue Bot-Ereignisse zu empfangen. Wenn beispielsweise jemand einen Bot geschrieben hat, wird dieses Ereignis angezeigt, wenn Sie dazu aufgefordert werden </font></font><code>/events/get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Schreiben wir eine Nachricht an den Bot und überprüfen das Erscheinungsbild des entsprechenden Ereignisses. Dies kann beispielsweise in einem Browser erfolgen. Gehen Sie dazu zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://api.icq.net/bot/v1/events/get?token=Ihr Token &amp; pollTime = 1 &amp; lastEventId = 0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Parameter</font></font><code>pollTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verantwortlich für die Zeitdauer, in der die Anforderung vom Server gehalten wird. </font><font style="vertical-align: inherit;">Wenn Sie beispielsweise den Wert 60 eingeben, wartet der Server 60 Sekunden lang auf Ereignisse für den Bot. Wenn während dieser Zeit keine vorhanden sind, gibt der Server ein leeres Array von Ereignissen zurück. </font></font><code>lastEventId</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verantwortlich für das zuletzt verarbeitete Ereignis. </font><font style="vertical-align: inherit;">Mit anderen Worten, Ereignisse mit Werten, die kleiner als die übertragenen sind, werden abgeschnitten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie zu dieser Adresse gegangen sind, wird auf dem Bildschirm Folgendes angezeigt:</font></font><br>
<br>
<pre><code class="json hljs">{
 <span class="hljs-attr">"events"</span>: [<font></font>
  {<font></font>
    <span class="hljs-attr">"eventId"</span>: <span class="hljs-number">41</span>,
     <span class="hljs-attr">"payload"</span>: {
         <span class="hljs-attr">"chat"</span>: {
           <span class="hljs-attr">"chatId"</span>: <span class="hljs-string">"745294945"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"private"</span><font></font>
         },<font></font>
         <span class="hljs-attr">"from"</span>: {
                <span class="hljs-attr">"firstName"</span>: <span class="hljs-string">"Andrey"</span>,
                <span class="hljs-attr">"lastName"</span>: <span class="hljs-string">"Shvedov"</span>,
                <span class="hljs-attr">"nick"</span>: <span class="hljs-string">"shvedoff"</span>,
                <span class="hljs-attr">"userId"</span>: <span class="hljs-string">"745294945"</span><font></font>
         },<font></font>
         <span class="hljs-attr">"msgId"</span>: <span class="hljs-string">"6831171945581511151"</span>,
         <span class="hljs-attr">"text"</span>: <span class="hljs-string">""</span>,
         <span class="hljs-attr">"timestamp"</span>: <span class="hljs-number">1590506161</span><font></font>
     },<font></font>
     <span class="hljs-attr">"type"</span>: <span class="hljs-string">"newMessage"</span><font></font>
  }<font></font>
 ],<font></font>
 <span class="hljs-attr">"ok"</span>: <span class="hljs-literal">true</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf die gleiche Weise können Sie mit der Methode eine Nachricht im Namen des Bots senden </font></font><code>/messages/sendText</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir müssen diese Methoden nicht genauer untersuchen, wir haben eine vorgefertigte Python-Bibliothek, mit der wir unseren Bot schreiben können, ohne auf Details einzugehen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code schreiben?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, aber zuerst müssen wir unseren eigenen Computer darauf vorbereiten. </font><font style="vertical-align: inherit;">Wir werden die dritte Python-Version verwenden (laden Sie die Version für Ihr Betriebssystem hier herunter: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.python.org/downloads/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und den Pip-Paketmanager hier: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://pip.pypa.io/en/stable/installing/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Sie müssen die Bibliothek installieren, um mit Bots arbeiten zu können:</font></font><br>
<br>
<pre><code class="bash hljs">$ pip3 install --upgrade mailru-im-bot
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt können Sie fortfahren.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir schreiben!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Beispiel werden wir einen Spielbot schreiben, der die Kenntnisse der einfachen Mathematik testet. Er wird so arbeiten: Eine Person schreibt eine Nachricht an einen Bot, stellt sich vor und bietet an zu spielen. Nachdem der Benutzer zugestimmt hat, generiert der Bot ein einfaches mathematisches Beispiel und 4 Optionen zur Auswahl. Wenn der Benutzer auf die Schaltfläche mit der ausgewählten Antwort klickt, antwortet der Bot richtig oder falsch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Bot muss also zuerst Ereignisse vom Server empfangen. Dazu müssen wir zusätzlich zum Importieren aller Bibliotheken ein Klassenobjekt erstellen </font></font><code>Bot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und Updates erhalten:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> bot.bot <span class="hljs-keyword">import</span> Bot<font></font>
<font></font>
<font></font>
logging.basicConfig(format=<span class="hljs-string">'%(asctime)s %(levelname)s %(message)s'</span>,<font></font>
                    datefmt=<span class="hljs-string">'%Y.%m.%d %I:%M:%S %p'</span>, level=logging.DEBUG)<font></font>
<font></font>
TOKEN = <span class="hljs-string">""</span> <span class="hljs-comment">#your token here</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><font></font>
    bot = Bot(token=TOKEN)<font></font>
    bot.start_polling()<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<font></font>
    main()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier importieren wir die Protokollierungsbibliothek und führen sie aus. </font><font style="vertical-align: inherit;">Wir importieren auch die Bibliothek für ICQ-Bots, legen den erforderlichen Parameter fest </font></font><code>token</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, erstellen ein Klassenobjekt </font></font><code>Bot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und beginnen mit dem Empfang von Updates vom Server ( </font></font><code>bot.start_polling()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt kann unser Bot Ereignisse empfangen, aber nicht verarbeiten. </font><font style="vertical-align: inherit;">Wir ergänzen den Bot, damit er auf Nachrichten reagieren kann. </font><font style="vertical-align: inherit;">Fügen Sie dazu die erforderlichen Importe hinzu:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> MessageHandler
</code></pre><br>
<code>json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird benötigt, um den Teil der Nachricht zu formatieren, der für die Schaltflächen verantwortlich ist. </font></font><code>MessageHandler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erforderlich, um dem Handler-Code neue Nachrichten hinzuzufügen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes benötigen wir eine Funktion, die eine Nachricht für die Antwort erstellt:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startup</span>(<span class="hljs-params">bot, event</span>):</span><font></font>
    default_markup = [<font></font>
        [{<span class="hljs-string">"text"</span>: <span class="hljs-string">"!"</span>, <span class="hljs-string">"callbackData"</span>: <span class="hljs-string">"start"</span>}]<font></font>
        ]<font></font>
<font></font>
    first_message_text = <span class="hljs-string">"!  -  . ?"</span><font></font>
    bot.send_text(chat_id=event.from_chat,<font></font>
         text=first_message_text,<font></font>
         inline_keyboard_markup=json.dumps(default_markup))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es empfängt die Eingabe des erstellten Bots und das Ereignis einer neuen Nachricht. </font></font><code>default_markup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- eine Matrix von Schaltflächen (ein "Listen" -Objekt, das aus einem Array von Schaltflächenzeichenfolgen besteht. In unserem Fall ist dies die einzige </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Startschaltfläche!</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><code>first_message_text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- eine Zeichenfolge, deren Text an den Benutzer gesendet wird. </font><font style="vertical-align: inherit;">Die Methode </font></font><code>send_text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akzeptiert:</font></font><br>
<br>
<ul>
<li><code>chat_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Feld des Ereignisses, das verarbeitet wird) - Kennung des Chats, von dem die Nachricht empfangen wurde, </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Text der zu sendenden Nachricht </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>inline_keyboard_markup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- unsere Knöpfe.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun bleibt der Aufruf dieser Funktion beim Empfang einer Nachricht zu beschreiben. </font><font style="vertical-align: inherit;">Dafür hat die Bibliothek ein spezielles Design:</font></font><br>
<br>
<pre><code class="python hljs">bot.dispatcher.add_handler(MessageHandler(callback=startup))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können automatisch eine Funktion </font></font><code>startup()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit den erforderlichen Parametern </font><font style="vertical-align: inherit;">aufrufen, wenn Sie eine neue Nachricht erhalten </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dieser Handler muss in die Funktion eingefügt werden </font></font><code>main()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wir haben einen solchen Code, mit dem Sie eine Startnachricht senden können, wenn der Bot eine Nachricht empfängt:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> bot.bot <span class="hljs-keyword">import</span> Bot
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> MessageHandler<font></font>
<font></font>
logging.basicConfig(format=<span class="hljs-string">'%(asctime)s %(levelname)s %(message)s'</span>,<font></font>
                    datefmt=<span class="hljs-string">'%Y.%m.%d %I:%M:%S %p'</span>, level=logging.DEBUG)<font></font>
<font></font>
TOKEN = «» <span class="hljs-comment">#your token here</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startup</span>(<span class="hljs-params">bot, event</span>):</span><font></font>
    default_markup = [<font></font>
        [{«text»: «!», «callbackData»: «start»}]<font></font>
        ]<font></font>
    first_message_text = «!  —  . ?»<font></font>
    bot.send_text(chat_id=event.from_chat,<font></font>
        text=first_message_text,<font></font>
        inline_keyboard_markup=json.dumps(default_markup))<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><font></font>
    bot = Bot(token=TOKEN)<font></font>
    bot.dispatcher.add_handler(MessageHandler(callback=startup))<font></font>
    bot.start_polling()<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<font></font>
    main()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den Benutzer sieht es folgendermaßen aus:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a4/a51/4b4/6a4a514b4e5629c69a6cb9a1f187de4b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die Schaltfläche, die wir in der Nachricht gesendet haben, genauer:</font></font><br>
<br>
<pre><code class="python hljs">[ [{«text»: «!», «callbackData»: «start»}]]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusätzlich zu dem Text, der auf die Schaltfläche geschrieben wird, enthält die Nachricht ein Feld </font></font><code>callbackData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wenn Sie auf eine Schaltfläche klicken, generiert der Server ein Schaltflächenklickereignis. </font><font style="vertical-align: inherit;">Darin übergibt er dieses Feld als Kennung des gedrückten Knopfes. </font><font style="vertical-align: inherit;">Das heißt, anhand dieser vom Server empfangenen Zeile können wir beurteilen, auf welche Schaltfläche der Benutzer geklickt hat. </font><font style="vertical-align: inherit;">Daher müssen wir dem Bot die Button-Click-Verarbeitungslogik hinzufügen. </font><font style="vertical-align: inherit;">Dazu müssen wir erneut die erforderlichen Methoden importieren:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> BotButtonCommandHandler
<span class="hljs-keyword">from</span> bot.filter <span class="hljs-keyword">import</span> Filter
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Zeile ist der Ereignishandler zum Klicken auf eine Schaltfläche, die zweite Zeile ist ein Filter, der Ihnen hilft, zu verstehen, welche Schaltfläche gedrückt wird. </font><font style="vertical-align: inherit;">Wir müssen auch die Logik der Reaktion auf Tastenklicks beschreiben:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start</span>(<span class="hljs-params">bot, event</span>):</span>
    question = <span class="hljs-string">''</span>
    operands = [<span class="hljs-string">"+"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"*"</span>]<font></font>
    operations_count = randrange(<span class="hljs-number">3</span>)+<span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(operations_count):<font></font>
        question += str(randrange(<span class="hljs-number">9</span>))<font></font>
        question += choice(operands)<font></font>
    question = question[:<span class="hljs-number">-1</span>]<font></font>
    answer = eval(question)<font></font>
    buttons = [<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"right"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}],<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer<span class="hljs-number">-1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">2</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}]]<font></font>
    shuffle(buttons[<span class="hljs-number">0</span>])<font></font>
    shuffle(buttons[<span class="hljs-number">1</span>])<font></font>
    shuffle(buttons)<font></font>
    bot.answer_callback_query(<font></font>
        query_id=event.data[<span class="hljs-string">'queryId'</span>],<font></font>
        text=<span class="hljs-string">' '</span>)<font></font>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=question,<font></font>
        inline_keyboard_markup=json.dumps(buttons))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Analogie zu Nachrichten akzeptiert eine Funktion dieselben Argumente wie die Eingabe. </font><font style="vertical-align: inherit;">Anschließend werden ein Beispiel und eine Reihe von Schaltflächen mit Antworten generiert. </font><font style="vertical-align: inherit;">Eine der Antworten wird richtig sein. </font><font style="vertical-align: inherit;">Auf dieser Basis werden die Antworten unterschiedlich sein </font></font><code>callbackData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Am Ende müssen Sie die Methode definitiv </font></font><code>answer_callback_query</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit Parametern </font><font style="vertical-align: inherit;">aufrufen </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><code>query_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eindeutige Nummer des Ereignisses beim Drücken der Taste,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- den Text, der in der QuickInfo angezeigt wird, wenn Sie auf die Schaltfläche klicken.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch Aufrufen dieser Methode zeigen wir dem Benutzer, dass der Bot das Klicken einer Schaltfläche akzeptiert hat. </font><font style="vertical-align: inherit;">Andernfalls wird die Download-Anzeige für eine Weile auf der Schaltfläche angezeigt. </font><font style="vertical-align: inherit;">Mit dieser Methode müssen </font></font><code>send_text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie die Nachricht selbst mit einer Frage- und Antwortschaltfläche senden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen wir sofort Funktionen zur Verarbeitung der richtigen und falschen Antworten hinzu:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">right</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">'!'</span>)<font></font>
    start(bot, event)<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrong</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">':('</span>)<font></font>
    start(bot, event)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Funktionen werden aufgerufen, wenn Sie auf die richtigen und falschen Antworten klicken. </font><font style="vertical-align: inherit;">Und nach der Nachricht mit der richtigen Antwort erhält der Benutzer eine neue Frage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie müssen nur noch Button-Click-Handler hinzufügen:</font></font><br>
<br>
<pre><code class="python hljs">    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=start, filters=Filter.callback_data(«start»)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=wrong, filters=Filter.callback_data(«wrong»)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=right, filters=Filter.callback_data(«right»)))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder dieser drei Handler enthält einen Filter nach </font></font><code>callbackData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(zum Beispiel </font></font><code>filters=Filter.callback_data(«start»)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) und eine aufzurufende Funktion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit ist die Bot-Programmierung abgeschlossen. </font><font style="vertical-align: inherit;">Der resultierende Code sieht folgendermaßen aus:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> bot.bot <span class="hljs-keyword">import</span> Bot
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> BotButtonCommandHandler
<span class="hljs-keyword">from</span> bot.handler <span class="hljs-keyword">import</span> MessageHandler
<span class="hljs-keyword">from</span> bot.filter <span class="hljs-keyword">import</span> Filter
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randrange, choice, random, shuffle<font></font>
<font></font>
logging.basicConfig(format=<span class="hljs-string">'%(asctime)s %(levelname)s %(message)s'</span>,<font></font>
        datefmt=<span class="hljs-string">'%Y.%m.%d %I:%M:%S %p'</span>, level=logging.DEBUG)<font></font>
<font></font>
TOKEN = <span class="hljs-string">""</span> <span class="hljs-comment">#your token here</span><font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">startup</span>(<span class="hljs-params">bot, event</span>):</span><font></font>
    default_markup = [<font></font>
        [{<span class="hljs-string">"text"</span>: <span class="hljs-string">"!"</span>, <span class="hljs-string">"callbackData"</span>: <span class="hljs-string">"start"</span>}]<font></font>
        ]<font></font>
<font></font>
    first_message_text = <span class="hljs-string">"!  -  . ?"</span><font></font>
    bot.send_text(chat_id=event.from_chat,<font></font>
        text=first_message_text,<font></font>
        inline_keyboard_markup=json.dumps(default_markup))<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start</span>(<span class="hljs-params">bot, event</span>):</span>
    question = <span class="hljs-string">''</span>
    operands = [<span class="hljs-string">"+"</span>, <span class="hljs-string">"-"</span>, <span class="hljs-string">"*"</span>]<font></font>
    operations_count = randrange(<span class="hljs-number">3</span>)+<span class="hljs-number">2</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(operations_count):<font></font>
        question += str(randrange(<span class="hljs-number">9</span>))<font></font>
        question += choice(operands)<font></font>
    question = question[:<span class="hljs-number">-1</span>]<font></font>
    answer = eval(question)<font></font>
    buttons = [<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"right"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}],<font></font>
        [{<span class="hljs-string">'text'</span>: str(answer<span class="hljs-number">-1</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>},<font></font>
         {<span class="hljs-string">'text'</span>: str(answer+<span class="hljs-number">2</span>), <span class="hljs-string">'callbackData'</span>: <span class="hljs-string">"wrong"</span>}]]<font></font>
    shuffle(buttons[<span class="hljs-number">0</span>])<font></font>
    shuffle(buttons[<span class="hljs-number">1</span>])<font></font>
    shuffle(buttons)<font></font>
    bot.answer_callback_query(<font></font>
        query_id=event.data[<span class="hljs-string">'queryId'</span>],<font></font>
        text=<span class="hljs-string">' '</span>)<font></font>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=question,<font></font>
        inline_keyboard_markup=json.dumps(buttons))<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">right</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">'!'</span>)<font></font>
    start(bot, event)<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrong</span>(<span class="hljs-params">bot, event</span>):</span>
    bot.send_text(chat_id=event.data[<span class="hljs-string">'message'</span>][<span class="hljs-string">'chat'</span>][<span class="hljs-string">'chatId'</span>],<font></font>
        text=<span class="hljs-string">':('</span>)<font></font>
    start(bot, event)<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>():</span><font></font>
    bot = Bot(token=TOKEN)<font></font>
    bot.dispatcher.add_handler(MessageHandler(callback=startup))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=start, filters=Filter.callback_data(<span class="hljs-string">"start"</span>)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=wrong, filters=Filter.callback_data(<span class="hljs-string">"wrong"</span>)))<font></font>
    bot.dispatcher.add_handler(BotButtonCommandHandler(<font></font>
        callback=right, filters=Filter.callback_data(<span class="hljs-string">"right"</span>)))<font></font>
    bot.start_polling()<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<font></font>
    main()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stelle fest, dass es die Importe enthält, die für die Funktion zum Generieren der Frage erforderlich sind. </font><font style="vertical-align: inherit;">Anstelle dieser und anderer Funktionen können Sie auch eine eigene Logik schreiben :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wo und wie laufen?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist am bequemsten, einen Bot auf einem Remote-Server zu starten. </font><font style="vertical-align: inherit;">Es gibt viele Dienste, die virtuelle Server mit ausreichendem Zugriff zum Installieren von Programmen anbieten. </font><font style="vertical-align: inherit;">Einige Dienste bieten eine kostenlose Testphase. </font><font style="vertical-align: inherit;">Da wir Mail.ru sind, werden wir es am Beispiel von Mail.ru Cloud Solutions analysieren. </font><font style="vertical-align: inherit;">Es gibt einen einfachen Registrierungsprozess, einen schnellen Zugriff auf Ihren Server sowie eine kostenlose Testphase ohne Bankkarte oder andere Schwierigkeiten.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir registrieren ein Konto unter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://mcs.mail.ru/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie eine Instanz einer virtuellen Maschine. </font><font style="vertical-align: inherit;">Alle Einstellungen bleiben unverändert, sie reichen aus.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Dienst bietet an, den Zugangsschlüssel herunterzuladen. </font><font style="vertical-align: inherit;">Herunterladen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nun gehen wir zu unserer virtuellen Maschine: </font></font><code>ssh -i ./xxx.pem user@ip</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wo </font></font><code>./xxx.pem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist der Pfad zum heruntergeladenen Schlüssel?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danach müssen wir die erforderlichen Programme und Pakete installieren:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo curl https://raw.githubusercontent.com/dvershinin/apt-get-centos/master/apt-get.sh -o /usr/<span class="hljs-built_in">local</span>/bin/apt-get<font></font>
$ chmod 0755 /usr/<span class="hljs-built_in">local</span>/bin/apt-get<font></font>
$ sudo apt-get install python3<font></font>
$ curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py<font></font>
$ python3 get-pip.py<font></font>
$ pip3 install --upgrade mailru-im-bot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier haben wir Python und alle notwendigen Bibliotheken installiert, damit unser Bot funktioniert. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es bleibt, den Bot auf den Server zu kopieren und auszuführen. </font><font style="vertical-align: inherit;">Führen Sie im Ordner mit dem Skript Folgendes aus:</font></font><code>scp -i ./xxx.pem ./path/to_bot.py user@ip:~</code><br>
<br>
<ul>
<li><code>./xxx.pem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Weg zum Schlüssel;</font></font></li>
<li><code>./path/to_bot.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Pfad zur Datei mit dem Bot;</font></font></li>
<li><code>user@ip:~</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Login, Adresse und Pfad, wo der Bot kopiert werden soll.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danach befindet sich die Datei mit dem Bot im Home-Verzeichnis auf dem Remote-Server. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir gehen zurück zum Server und führen aus:, </font></font><code>python3 ~/file_name.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wo </font></font><code>file_name.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist der Name unserer Datei mit dem Bot.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was weiter?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis haben wir einen selbstarbeitenden Bot auf unserem persönlichen Server liegen. </font><font style="vertical-align: inherit;">Wenn Sie die Erstellung von Bots für ICQ weiterentwickeln möchten, lesen Sie die Dokumentation zu den API-Bots genauer und verkomplizieren Sie die interne Logik Ihres Bots. </font><font style="vertical-align: inherit;">Und ICQ hat auch einen Chat, in dem Sie Fragen zu Bots stellen können: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.im/botapi_faq</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nützliche Links</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.com/botapi/#/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ICQ-Bot-API. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/mail-ru-im/bot-python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Python-Bibliothek für ICQ-Bots. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.im/metabot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Holen Sie</font></a><font style="vertical-align: inherit;"> sich das Token und bearbeiten Sie den Bot. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/shvedoff/Icq_buttons</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ein Bot, der alle möglichen Aktionen mit Schaltflächen ausführt. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://icq.im/AoLE1J5Ecm5DIjZh1gg</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Chat für Fragen zu Bots.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de506180/index.html">So wählen Sie die richtige Stromversorgung für Ihre USV. Wir analysieren das Beispiel von Eaton</a></li>
<li><a href="../de506188/index.html">Benutzerdefinierter Grammatik-Parser mit 400 Zeilen</a></li>
<li><a href="../de506190/index.html">So subtrahieren Sie eine Reihe von Zeitintervallen und probieren den Bentley-Ottmann-Algorithmus aus</a></li>
<li><a href="../de506196/index.html">Wie wir eine Smart Factory gehackt haben</a></li>
<li><a href="../de506204/index.html">Abstrakter Datentyp. Teil 2: Datenverwaltung</a></li>
<li><a href="../de506218/index.html">Das Megaphon stört auch 2020 meinen HTTP-Verkehr und sendet Anzeigen, auch nachdem es Verbote erhalten hat</a></li>
<li><a href="../de506222/index.html">Checklisten: Versuchen Sie, die Details nicht zu verpassen</a></li>
<li><a href="../de506228/index.html">AdonisJS 5 - Laravel-ähnliches Framework auf nodeJS und mit Typescript, das Ihre Aufmerksamkeit verdient</a></li>
<li><a href="../de506230/index.html">Scheinwerfer, die mich überrascht haben. Test und Überprüfung von Gauss QPlus</a></li>
<li><a href="../de506238/index.html">Darmspiegelung Über ein heikles Thema ohne Spott</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>