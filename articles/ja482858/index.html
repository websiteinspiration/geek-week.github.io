<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📷 🤟🏼 😈 自家製ワイヤレスウィンドウセンサー：STM32L051 + RFM69 + Android 🥫 👩‍❤️‍💋‍👨 💃🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、親愛なるカブロバイト！数年前、私はカラフルなzWave広告を購入し、このプロトコルに基づいてウィンドウセンサーをインストールしました。 USB zWave-Stickがコントローラーの役割を果たすホームサーバーに接続され、このコントローラーからデータを受信する小さなJavaモジュールが書...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>自家製ワイヤレスウィンドウセンサー：STM32L051 + RFM69 + Android</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482858/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、親愛なるカブロバイト！数年前、私はカラフルなzWave広告を購入し、このプロトコルに基づいてウィンドウセンサーをインストールしました。 USB zWave-Stickがコントローラーの役割を果たすホームサーバーに接続され、このコントローラーからデータを受信する小さなJavaモジュールが書き込まれ、すべてのセンサーのステータスを美しく表示するAndroid用の小さなアプリケーションが書き込まれました。バッテリーが挿入され、センサーがコントローラーに登録され、すべてが機能しました。しかし、数か月後、ひどい失望がありました。まず、これらのzWaveセンサーは「メッセージを送信し、確認を待たずに眠りにつく」という原則に基づいて動作します。私の場合、これはコントローラーから最も遠いセンサーからの信号がコントローラーに届かないという事実につながりました。追加のzWaveリピーターのインストールでさえ助けにはなりませんでした。次に、バッテリーの消耗が速すぎて、約6か月後にすべてのセンサーが機能しなくなりました。その理由は、彼らが1時間ごとに目を覚ましてコントローラーに状態を知らせたからです。標準ソフトウェアでは断固としてこれを許可していなかったため、このオプションを無効にするか変更することはできませんでした。この生の、信頼性がなく、不親切なテクノロジーで2年間苦しんだ後、私は十分だと判断しました。しかし、すべてを片付けて捨てるのではなく、ケースを残して電子機器を変更するというアイデアを得ました。選択はかなり単純なRFM69トランシーバー（433 MHz）に基づいて行われました。これに基づいて、センサー用のボードとUSB経由でサーバーに接続されたコントローラーの両方を作成することが可能でした。新しいシステムは5か月間稼働しており、信頼性はほぼ100％です（ただし、いくつかの障害がありました）。バッテリーは考えるまで座ります。つまり、zWaveに基づく古いシステムの欠点がすべて解消されていることはすでに明らかであり、この記事の技術的な詳細を共有したいのですが、図を参照してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n-/gz/rd/n-gzrd4pxnz2h38utebhqhtakjg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
猫の下で誰が気にかけてください。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の場合、zWaveは2つの理由で機能しないことがわかりました。家には鉄筋コンクリートの床がある2つのフロアと広いエリアがあります（つまり、一部のセンサーがコントローラーから大幅に削除されています）。</font><font style="vertical-align: inherit;">まあ、センサーの定期的なウェイクアップを無効にすることができなかった独自のソフトウェアの欠陥が、バッテリーの急速な放電につながりました。</font><font style="vertical-align: inherit;">zWaveを使用していないことが明らかになったとき、同じセンサーハウジングに押し込める可能性のある他のオプションを探し始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
センサーの最初のプロトタイプは、ESP8266に基づいていました。</font><font style="vertical-align: inherit;">コントローラー-私</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">がHabréで</font></a><font style="vertical-align: inherit;">すでに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">書いた</font></a><font style="vertical-align: inherit;">私の支払い</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に基づいて</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。システムはプロトタイプとしても機能しましたが、2つの理由でそれを放棄しなければなりませんでした。最初の理由は同じです-家の中にWi-Fi信号のレベルが非常に低いコーナーがあり、ウェイクアップ時にESP8266の起動時間が非常に長くなり、その結果、バッテリーが強力に放電しました。私はこのESP8266の作り方がわからないことを認めています（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このような</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事は</font><font style="vertical-align: inherit;">この論文を</font><font style="vertical-align: inherit;">裏付けてい</font><font style="vertical-align: inherit;">ます）。しかし、2番目の理由はより深刻でした。ケースだけでなく、バ​​ッテリーコンパートメントも残すことにしたので、3.0ボルトのCR123Aバッテリーに制限されました。つまり、DC / DCコンバーターの増加により、センサーの価格と複雑さが増加しました。このトピックに関する</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">素晴らしい記事</font></a><font style="vertical-align: inherit;">がハブレにありますが</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。しかし、いずれにせよ、これらの2つの理由はそれを上回り、ESP8266を拒否しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のプロトタイプは配線されました。センサーとUSBコントローラーの両方のプロトタイプを作成し、サーバーモジュールを追加して、彼がzWave-Stickに加えてこのコントローラーを理解できるようにしました。センサーとワイヤーを次々に引っ張って、zWaveボードをワイヤードボードに変更するというアイデアがありました。しかし、結局、彼は壁を選ばず、このプロトタイプも落ちました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、433 MHzと868 MHzの無線モジュールを検討することを決定し、実験用にいくつかのモジュールを注文しました：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFM69HCW</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A110LR09A</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MRF89XAM8A</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。モジュールのサイズ、価格、およびライブラリーと</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">優れた例の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">両方が利用可能であることから</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">、私</font></a><font style="vertical-align: inherit;">はシステムの基礎を形成したRFM69HCW </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">に</font></a><font style="vertical-align: inherit;">落ち着きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムには4つのコンポーネントしかありません。 </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワイヤレスセンサー（433 MHz、CR123A 3.0Vバッテリー）、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネットワークコントローラー（433 MHz、サーバーからUSB経由で給電）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバー（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でHabréについてすでに書いたもの</font><font style="vertical-align: inherit;">）とサーバープログラムモジュール</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モバイルクライアント（Androidアプリケーション）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下では、各モジュールについて詳しく説明し、最後に、過去数か月間のシステムの動作に関する統計を示します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">センサー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
センサーは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFM69HCW</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">無線</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">モジュールを</font></a><font style="vertical-align: inherit;">使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。動作電圧範囲が広く（1.8V〜2.4V 17dBm、2.4V〜3.6V 20dBm）、SPIを介して制御されます。つまり、マイクロコントローラーが必要です。少し前にSTM32Lシリーズを知り、STM32L051を実験用に注文しました。スリープモードでの小さな電流（0.27μA）と、無線モジュールの電圧（1.65V-3.6V）とほぼ同じ動作電圧であることがわかりました。さらに低価格。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のスキームが判明しました：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0b/xx/kb/0bxxkbtvavy113lz23izewdi4yk.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロコントローラと無線モジュールの両方の供給電圧は、CR123Aエレメントから直接給電できるようになっています。 STM32L051には、ADCチャネル17に接続された内部電圧リファレンスと、このソースのキャリブレーション値があり、電源電圧VDDの電流値を測定できます。無線モジュールはQ1フィールドデバイスを介して電源に接続されているため、マイクロコントローラーから電源を制御できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スリープモードは、マイクロコントローラを「スタンバイ」に移行することによって実装されます。このモードでは、STM32L051は無効化されたコア、ほとんどすべての周辺機器、および内部電圧レギュレーターを備え、0.29μAのレベルでの消費を保証します（リアルタイムクロックは無効化されています）。ただし、このモードには機能があります。マイクロコントローラーは、WKUPピン（A0）の信号の立ち上がりエッジに沿ってのみ起動します。オン/オフ（閉または開）の磁気スイッチが使用されるため、磁気接点を閉じるときと開くときの両方で、短時間のパルスを生成する小さなブロックが必要です。このパルスは、マイクロコントローラの入力A0に供給され、それを呼び起こします。このようなコンバーターは、エネルギー効率の高い74AUPシリーズ（74AUP1G86）の排他的OR IC3チップに実装され、0.8V〜3.6Vの電圧範囲で動作し、0.2μAを消費します。したがって、スリープモードでの総消費量は約0.5μAになるはずです。これは、完全に組み立てられたセンサーでの測定によって確認されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロコントローラがウェイクアップすると、最初に電源電圧が測定され、1.8ボルト未満の場合、それは運命ではありません。トランスミッタを起動できず、マイクロコントローラはスリープ状態に戻ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バッテリー電圧が1.8ボルトを超えると、マイクロコントローラーがオンになり、無線モジュールを初期化して、状態をネットワークコントローラーに転送し、確認を待ちます。データパケットには、一意の32ビットパケット（イベント）番号、バッテリー電圧、温度、磁気接触ステータス、制御バイト（CRC7）が含まれます。確認が成功した場合、マイクロコントローラーはスリープ状態に戻ります。そうでない場合は、ステータスを再度送信しますが、最大10回送信します。ネットワークコントローラーが単にオフになっている状況で、センサーが無期限に応答を待機しないように、この境界を設定しました。最後に送信された一意のイベント番号は、マイクロコントローラの内部EEPROMに保存されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データ転送中、マイクロコントローラーはLEDを点滅させます（LEDがない場合）。 LEDはPWMを使用してオンになり、デューティサイクルは現在の電圧値に依存します。これにより、ほぼすべての動作電圧範囲でほぼ同じ輝度を得ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボードはEagleCADで設計されてい</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ボードのデザイン</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">はこちらから入手できます</font></a><font style="vertical-align: inherit;">。ボードは両面です。マイクロコントローラとそのハーネスは窓枠に面する上側にあり、無線モジュールとLEDは部屋に面する下側にあります。中国で注文し、従来のキッチンオーブン（上層）とヘアドライヤー（下層）にはんだ付けしました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/io/9l/rjio9lhfs3psrwyw8_xefn1lcmi.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
無線モジュールにはアンテナが必要です。これは、長さ164 mmのワイヤーです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストール後、各センサーをプログラムする必要があり、SWDコネクターが提供されます。残りの連絡先は今後の実験のためにボードに残しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファームウェアはC ++で書かれており、コードの一部は、ST HALライブラリへの呼び出しをカプセル化するかなりユニバーサルな基本クラスで実行されます。ソースコード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はこちら</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。開発には、System Workbench for STM32を使用しました。最終的なバイナリファームウェアファイルのサイズは22 kBです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、ここにケース内のセンサーがあります：センサー</font></font><br>
<br>
<img src="https://habrastorage.org/webt/91/fx/ap/91fxapzu7uwnpr0wp2cjydbpwaa.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の位置に応じて、一部のセンサーではアンテナを外側に残しました（ただし、白いフレームの背景ですが、見えません）。一部のセンサーでは、ワイヤーをフレームに曲げて、ケースの中に完全に詰め込みました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
興味を引くために、1つのセンサーのコンポーネントのコストを計算しました（Mouserカタログの価格、ユーロでの価格と合計価格で）</font></font><br>
<table cellspacing="0" border="0">
<tbody><tr>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">素子</font></font></font></b></td>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font></font></font></b></td>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font></font></font></b></td>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MOUSER番号</font></font></font></b></td>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数量</font></font></font></b></td>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">費用</font></font></font></b></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IC3</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">排他的OR</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1G86</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">771-74AUP1G86GW-G</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.254</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IC1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロコントローラー</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STM32L051</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">511-STM32L051K6T6</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.14</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SV1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コネクタ</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SWD</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68602-406HLF</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.157</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LED 3 mm</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3mm</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">630-HLMP-K155</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.351</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P-mosfet</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSH205</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">771-BSH205G2R</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.276</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁気接触</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORD211-0810</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">876-ORD211-0810 </font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.625</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IC2</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFM69HCW無線モジュール</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFM69HCW</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">474-COM-13910</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.36</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C1、C2、C3、C6</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMDコンデンサ</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.1uF</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80-C0805C104J5RAC</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.1</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C5</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMDコンデンサ</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.4nF</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C0805C471K8HACTU</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.021</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C4</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMDコンデンサ（タンタル）</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47uF</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">581-TAJR225K016RNJ</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.334</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMD抵抗</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10K</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">660-RK73H2ATTDD1002F</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.01</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R10</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMD抵抗</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">330</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">660-RK73H2ATTDD3300F</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.01</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R3、R4、R6、R7、R8、R11</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMD抵抗</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47K</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">660-RK73H2ATTDD4702F</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.06</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R5</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMD抵抗</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">660-RK73H2ATTD56R0F</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.013</font></font></font></td>
</tr>
<tr>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R9</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SMD抵抗</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5,600万</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">603-RC0805JR-0756ML</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="left"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.037</font></font></font></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.748</font></font></font></b></td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、それは元のzWaveセンサーよりも正確に3倍安いことがわかりました。</font><font style="vertical-align: inherit;">ケースを除いたパーツ代のみですが。</font><font style="vertical-align: inherit;">しかし、私の意見では、小売のzWaveセンサーはひどく高価です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネットワークコントローラー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントローラーは、センサーと同じ無線モジュールと同じマイクロコントローラーを使用しました。これにより、ファームウェアコードのほとんどを再利用できました。コントローラーには、Raspberry Piの既製のケースを使用するために、ボードのこのフォームファクターを選択しました。センサーと比較して、外部アンテナコネクタと、FT232RLおよびSI-8621アイソレーターに基づくUSBループが追加されました。もちろん、代わりに、USBを搭載したSTM32を使用することもできます。しかし、最初に、ファームウェアコードを分離し、次に、USBソフトウェアの実装を自分で行う必要があります。外部FT232RLを使用するオプションは、より高価ですが、より信頼性が高く、実装が高速です。結果は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このスキーム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wh/ij/_k/whij_k04j8jqetojnlz0hblpnom.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、組み立てられた形式では、次のようになります：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f2/-4/io/f2-4iog6apig6hfmq-6zhhxmzno.jpeg" alt="画像"><br>
<br>
<img src="https://habrastorage.org/webt/dp/gg/cu/dpggcuqsrdegbwobtujrbf1rlck.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロコントローラーはここでスリープ状態になりません。無線モジュールは受信に機能しますが、いずれかのセンサーからパケットを正常に受信した後、モジュールは送信モードになり、確認応答を送信します。</font><font style="vertical-align: inherit;">さらに、正常に受信されたパケットは、USB経由でサーバーに送信されます。</font><font style="vertical-align: inherit;">パッケージ形式は、記号「;」で区切られた値の文字列です：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GW; 3; 12; -57; 0; 146; 30; 18 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の位置はパケットラベルです（常に「GW」）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目の位置-データタイプ（センサーステータスまたはエラーコード）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3番目の位置-センサー番号</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4番目の位置-ネットワークコントローラー側の信号品質（RFM69HCWは受信中の信号品質を維持し、受信が完了したときにそれを問い合わせることができます）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5番目の位置-ウィンドウの状態（0オープン、1クローズ）</font></font></li>
<li>  —    ()  .       ,             .</li>
<li>  —    (30  3.0V)</li>
<li>,   —     .    ,    </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファームウェアのソースコード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、センサーと同じ場所にあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それらには、共通のメインファイルと基本クラスの共通ライブラリがあります。</font><font style="vertical-align: inherit;">ファームウェアオプション（センサーまたはコントローラー）は、main.cppファイルのdefineディレクティブを使用して選択されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USB回路、アンテナ、追加のコネクターにより、ネットワークコントローラーのコストが高くなります。</font><font style="vertical-align: inherit;">ただし、コントローラが1つしかないため、この添加剤は無視できます。</font><font style="vertical-align: inherit;">しかし、このサプリメントを使用しても、以前のzWave-Stickの3倍の価格であることが判明しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーモジュール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークコントローラーは、CentOS 7を実行しているサーバーに接続されています。サーバーは、Javaで記述されたプログラムを実行します。</font><font style="vertical-align: inherit;">そして、その構造、実装、およびタスクにおいて、プログラムは非常に単純です。</font></font><br>
<br>
<ul>
<li>    ,  ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">RxTx</a>     USB  (   /dev/ttyUSB0).          ,       .</li>
<li>     USB-,    -      .     .   ,            . ,      ,             .</li>
<li>    TCP/IP    TCP/IP    .          .</li>
<li> ,      ,      .     heartbit-    .</li>
<li>        XML.       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Java-</a>,       ,      -.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはあまり意味がありませんが、目的のために、IMEIを介してモバイルクライアントを承認する機能と、ソースコードに組み込まれたキー（javax.crypto Javaパッケージ）を使用したサーバーとクライアント間のメッセージのAES暗号化を追加しました。</font><font style="vertical-align: inherit;">ただし、このサーバーモジュールのTCP / IPポートには内部ネットワークからのみアクセスでき、外部からは見えないため、これは純粋に実験用です。</font><font style="vertical-align: inherit;">でも、もし私がこのポートを大きな世界に開放したいなら、今それをすることはそれほど怖くないでしょう。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーモジュールのソースコードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モバイルクライアント（Androidアプリケーション）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプリケーションがプロジェクト全体の最終結果であるという事実にもかかわらず、ここで多くを書くことはありません。</font><font style="vertical-align: inherit;">これは、1つのウィンドウの状態、2階の状態、および小さなサーバーテレメトリ（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ソースコードを参照</font></a><font style="vertical-align: inherit;">）の</font><font style="vertical-align: inherit;">3つのタブを持つ標準的で非常にシンプルなJavaアプリケーションです</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j5/hz/hd/j5hzhduedoxedwhuuhrpe0e4s8e.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。グラフィックは、互いに積み重ねられた一連のSVGファイルに基づいています。センサーの状態によって異なります。</font><font style="vertical-align: inherit;">各ウィンドウの領域では長押しがサポートされており、このウィンドウが開いたときにヒントが表示されます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4e/_z/42/4e_z42j_o2j11j7tl9lzzefeffi.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。原則として、このヒントにバッテリーアイコンを追加することを妨げるものは何もありませんが、手はまだそのヒントに達していません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">運転経験</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「くしゃみごと」はサーバー側のログファイルに記録されます。</font><font style="vertical-align: inherit;">過去5か月間のこれらのファイルの分析により、このシステムがどのように感じているかをより詳細に理解できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析は非常に簡単です。サーバーのログファイルフォルダーでgrepを実行するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
無線チャネルでデータを送信するときに、いくつのエラーがありましたか？</font><font style="vertical-align: inherit;">5か月間で、間違ったサイズのメッセージと誤ったCRCの25個のエラーを受信したときに、8個のエラーが記録されました。</font><font style="vertical-align: inherit;">どちらの場合も、この場合のデータパケットは完全に損傷しているため、どのセンサーに問題があったかを直接言うことはできません。</font><font style="vertical-align: inherit;">ネットワークコントローラーはこれらすべてのケースでデータ受信を確認しないため、センサーは新しい方法でデータを送信する必要があります。これにより、ほとんどの場合、これらのエラーが修正されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5か月間のセンサーの動作に関する概要表を次に示します。</font></font><br>
<table cellspacing="0" border="0">
<tbody><tr>
<td align="center"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">床</font></font></font></b></td>
<td align="center"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">センサー</font></font></font></b></td>
<td align="center"><b><font><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベント</font><font style="vertical-align: inherit;">数</font></font></font></b></td>
<td align="center"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失われた</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベント</font></font></font></b></td>
<td align="center"><b><font><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バッテリー</font><font style="vertical-align: inherit;">電圧</font></font></font></b></td>
<td align="center"><b><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央値</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
電力</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
信号</font></font></font></b></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-66</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十一</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-70</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">122</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-61</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十三</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-74</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2573</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-68</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">261</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-60</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">543</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-70</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">156</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-74</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">177</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-68</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十九</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">384</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">３</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-56</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">３</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">368</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-62</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">86</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-71</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">521</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-59</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">115</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-62</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">316</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-63</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">419</font></font></font></td>
<td align="center"><font color="#800000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-60</font></font></font></td>
</tr>
<tr>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">89</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></font></td>
<td align="center"><font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-68</font></font></font></td>
</tr>
</tbody></table><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
センサーNo.10が1回フリーズします。</font><font style="vertical-align: inherit;">これにより、バッテリー電圧が大幅に低下したようです。</font><font style="vertical-align: inherit;">凍結の理由はまだはっきりしていません。</font><font style="vertical-align: inherit;">それは再びハングします、あなたはそれを理解する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
センサー14番はフロントドアに設置されていますので、非常に多くの反応が得られます。</font><font style="vertical-align: inherit;">しかし、そのような多数のトリップはまだバッテリー電圧に影響を与えていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
失われたイベントは、センサーが状態を送信しようとしたが、サーバーがそれを確認しなかった場合です。</font><font style="vertical-align: inherit;">失われたイベントはすべて、クリーニングのために約半日サーバーの電源を切ったことが原因です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
信号強度の中央値列には、RSSI値の中央値（dBm）が表示されます。個々の値は、各パケットの受信後に取得されます。</font><font style="vertical-align: inherit;">最高の信号（No. 19、-56 dBm）を備えたセンサーは、ネットワークコントローラーからの直接の見通し線の2メートルのところにありますが、このセンサーのアンテナは、ケースの内側のフレームで折り畳まれています。</font><font style="vertical-align: inherit;">ネットワークコントローラー自体は1階にあります。</font><font style="vertical-align: inherit;">ただし、2階のセンサーからの信号は非常に良好です。</font><font style="vertical-align: inherit;">これは、2階のすべてのセンサーでアンテナがセンサーハウジングから取り外されているためです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あとがきの代わりに</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方では、自分で、趣味として、このレベルのシステムをゼロから設計、組み立て、実行することができてうれしいです。</font><font style="vertical-align: inherit;">また、zWaveの誇大広告技術に基づく「独自の」システムよりもうまく機能することをさらに嬉しく思います。</font><font style="vertical-align: inherit;">このシステムを開発および改善する余地もあります。</font><font style="vertical-align: inherit;">私は小さな疑問にのみ腹を立てています。</font><font style="vertical-align: inherit;">つまり、専門の電気教育を受けていない人が膝に何かを集めると、IOTブランドの狭いサークルで知られているブランド製品よりも確実に機能します。</font><font style="vertical-align: inherit;">おそらく、進展はどこか間違った方向に向いているでしょう。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja482848/index.html">ライブボット、パート2</a></li>
<li><a href="../ja482850/index.html">航空におけるバイオ燃料の見通し</a></li>
<li><a href="../ja482852/index.html">コンパクトオーディオの時代：テープが自動車に登場した方法</a></li>
<li><a href="../ja482854/index.html">見積もりについて</a></li>
<li><a href="../ja482856/index.html">神の見知らぬ人</a></li>
<li><a href="../ja482860/index.html">私はGoogleの国際関係の責任者でした。それが私が去った理由です</a></li>
<li><a href="../ja482862/index.html">サハリンにGameDevはありますか？1.V</a></li>
<li><a href="../ja482864/index.html">ホームビデオ監視。ホームレジストラーなしでビデオアーカイブを維持する方法</a></li>
<li><a href="../ja482866/index.html">来年ビットコインを購入する価値はありますか？</a></li>
<li><a href="../ja482870/index.html">ロックされたラップトップをeBayで購入し、IntelAMTベースのAntiAMftを作成する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>