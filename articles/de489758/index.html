<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚂 👈🏽 🧘 Winkel: Ein Beispiel für die Verwendung von NGRX 🛬 🥜 🚕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel ist eine Fortsetzung des Beitrags „Angular: Eine umfassende Einführung in NGRX“.
 
 NGRX-Beispiel
 In unserem Beispiel gibt es eine Lis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Winkel: Ein Beispiel für die Verwendung von NGRX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489758/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="Bild"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Artikel ist eine Fortsetzung des Beitrags </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Angular: Eine umfassende Einführung in NGRX“.</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NGRX-Beispiel</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Beispiel gibt es eine Liste der Benutzer, eine Seite mit Benutzerdetails und einige Informationen zur Erstkonfiguration, die Sie beim Starten der Anwendung erhalten sollten. </font><font style="vertical-align: inherit;">Wir werden einige wichtige NGRX-Threads implementieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktionsplan:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotheksinstallation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen einer Ordnerstruktur für die Speicherung </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellung von Speicher- und Anfangswerten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen erstellen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Getriebe erstellen (Reduzierstücke)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effekte erstellen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selektoren erstellen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endgültige Einrichtung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speicher in Komponenten verwenden</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also machen wir's ...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotheksinstallation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden Angle Cli verwenden, um das Projekt zu erstellen, und dann werden wir die ngrx-Bibliotheken hinzufügen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie ein Projekt:</font></font><br>
<br>
<pre><code class="bash hljs">ng new angular-ngrx --style=scss</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen Sie die erforderlichen NGRX-Bibliotheken hinzu:</font></font><br>
<br>
<pre><code class="bash hljs">npm install @ngrx/core @ngrx/store @ngrx/effects @ngrx/store-devtools @ngrx/router-store --save</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir installieren fast alle ngrx-Ökosystembibliotheken. </font><font style="vertical-align: inherit;">Die meisten von ihnen beschreiben ihren Zweck ganz klar: Kern, Speicher, Effekte, aber es gibt ein paar, für die Sie sich vielleicht fragen, warum sie benötigt werden?</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store-devtools</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ein leistungsstarkes Debugging-Tool.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Router-Store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Speichert den Status des eckigen Routers im Speicher.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ordnerstruktur zur Speicherung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit der Erörterung der Dateistruktur des Repositorys. </font><font style="vertical-align: inherit;">Diese Dateistruktur und die gesamte Speicherkonfiguration müssen im Hauptmodul Ihrer Anwendung vorhanden sein. In unserem Beispiel fehlt sie jedoch. Daher ist der Speicher im Hauptmodul unserer Anwendung vorhanden (die Schritte sind fast gleich, wenn Sie dies im Hauptmodul tun). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j2/pu/w_/j2puw_y4zbz0o1n1yemhvo9_ie0.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Ordnerstruktur ist eine Darstellung der tatsächlichen Speicherzusammensetzung. </font><font style="vertical-align: inherit;">Sie haben einen Hauptordner mit dem Namen "Speicher" und fünf Unterordner, die jeden der Hauptakteure im Speicher darstellen: "Aktionen", "Effekte", "Redurs", "Selektoren" und "Status".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellung von Speicher- und Anfangswerten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie bereits erwähnt, werden wir zwei Hauptabschnitte haben: unsere Anwendung, Benutzer und Konfiguration. </font><font style="vertical-align: inherit;">Für beide müssen wir einen Status und einen Anfangsstatus erstellen und dies auch für den Status der Anwendung tun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben zwei Schnittstellen für die Benutzerdefinition und Konfiguration erstellt. </font><font style="vertical-align: inherit;">Wir haben auch eine für die HTTP-Antwort des Benutzers, es ist nur ein IUser-Array. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/by/u-/01byu-tmzaa4tzpxzbr6ezfax5y.jpeg" alt="Bild"><br>
<br>
<img src="https://habrastorage.org/webt/hp/m7/l1/hpm7l1osf9nrlyjesvju9c33mxm.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit dem Benutzerstatus (store / state / user.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i9/pl/l-/i9pll-liw2wtmhlnuas8b1n0dzy.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was machen wir hier:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erstellen und exportieren eine Schnittstelle mit einer Benutzerumgebungsstruktur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir machen dasselbe mit dem anfänglichen Benutzerstatus, der die neu erstellte Schnittstelle implementiert.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für den Konfigurationsstatus machen wir dasselbe (store / States / config.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/tb/xm/88tbxmezhb0cau7fbbrzv6kevi8.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schließlich müssen wir den Anwendungsstatus generieren (store / States / app.state.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/in/mt/-t/inmt-tcdv5300xnatjpq9bix9os.jpeg" alt="Bild"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Anwendungsstatus enthält den Benutzerstatus und die Konfiguration sowie den Status des Routers.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dann setzen wir den Ausgangszustand der Anwendung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schließlich wird die Funktion exportiert, um den Ausgangszustand zu erhalten (wir werden sie später verwenden).</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen erstellen</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesen Sie unbedingt die Definition der Aktion, die wir im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vorherigen Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> besprochen haben </font><font style="vertical-align: inherit;">.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir müssen Aktionen für Benutzer und Einstellungen erstellen. </font><font style="vertical-align: inherit;">Beginnen wir mit den Benutzeraktionen (store / action / user.actions.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/34/rb/bj34rbgqv70s0mbqidrxbadtchk.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gehen wir den Code ein wenig durch:</font></font><br>
<br>
<ol>
<li>  Enum,     .  ,          , ,     .</li>
<li>          .      Action  ngrx. ,        ,        ,      .</li>
<li>,   ,    .     ,    , ,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das ist alles ... das Erstellen von Aktionen ist einfach. </font><font style="vertical-align: inherit;">Mal sehen, wie die Konfigurationsaktionen aussehen (store / action / config.actions.ts): Hier gibt es </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/ay/ew/lcayewp9ls8yumaflh3wybi2tuc.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nichts Neues, wahrscheinlich fühlen Sie sich jetzt mit allem, was in dieser Datei passiert, wohl. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Großartig, wir haben bereits den Status und die Aktionen festgelegt ... lasst uns Zahnräder erstellen!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Getriebe anlegen</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesen Sie unbedingt die Definition der Getriebe, die wir in einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">früheren Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> besprochen haben </font><font style="vertical-align: inherit;">.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden Getriebe haben, die auf einige Aktionen reagieren, da andere durch Effekte behandelt werden, die wir später implementieren werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir benötigen einen Reduzierer für Benutzer und einen anderen für die Konfiguration, aber wir müssen auch Anwendungsreduzierer generieren. Schauen wir uns zunächst die Benutzerreduzierer an (store / redurs / user.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/4j/7y/ju4j7ytjci0hkzq9zeceffolc-s.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns die Implementierung diskutieren:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Reduziererdeklaration empfängt einen Status und in diesem Fall eine Benutzeraktion und gibt einen IUserState zurück.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit der switch-Anweisung generieren wir Beobachtungen für jede mögliche Art von Aktion.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeder Fall gibt ein neues Objekt zurück, das das Ergebnis der Verschmelzung des alten Zustands und des neuen Werts ist.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle Getriebe haben ein Standardergebnis, das einfach den Zustand ohne Änderungen zurückgibt.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und das ist alles. </font><font style="vertical-align: inherit;">Sie werden nichts anderes im Getriebe finden. </font><font style="vertical-align: inherit;">Werfen wir einen Blick auf die Konfigurationsreduzierer (state / redurs / config.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/ky/3m/ouky3m_fpspiahaj5j4sgf5owvk.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/66/hg/ej66hgbbt97ljvpbqs728feti9g.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wir uns </font><font style="vertical-align: inherit;">abschließend </font><font style="vertical-align: inherit;">die Anwendungsreduzierer (Speicher) an: </font><font style="vertical-align: inherit;">Hier fügen wir alle Reduzierer zur Reduzierungszuordnung der Anwendung hinzu. </font><font style="vertical-align: inherit;">Wir verwenden eine Aktionsreduzierungskarte für die zusätzliche Typprüfung. </font><font style="vertical-align: inherit;">Später werden wir diese Anwendung mit Reduzierstücken für das Speichermodul versehen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effekte hinzufügen</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lesen Sie unbedingt die Definition von „Effekten“, die wir in einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">früheren Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> besprochen haben </font><font style="vertical-align: inherit;">.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie haben wahrscheinlich schon bemerkt, dass wir in Getrieben nicht alle Aktionen verarbeiten. </font><font style="vertical-align: inherit;">Dies liegt daran, dass wir verpasste Aktionen in Effekten behandeln werden, da diese Aktionen Nebenwirkungen haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit benutzerdefinierten Effekten (store / effect / user.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2n/bk/2c/2nbk2cyc2d_rlrasu6cdi0qjyps.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vieles, was in dieser Datei passiert. </font><font style="vertical-align: inherit;">Versuchen wir sie zu erklären:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir deklarieren unsere benutzerdefinierten Effekte mit einem Injektionsdekorateur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir deklarieren unsere Effekte mit dem von ngrx / Effects bereitgestellten Effektdekorator.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit den von ngrx / Effects bereitgestellten Aktionen starten wir die Pipeline unseres Operators für diesen Effekt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der nächste Schritt besteht darin, die Art der Effektaktion mit dem ofType-Operator festzulegen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die folgenden Teile sind die rxjs-Operatoren, mit denen wir das bekommen, was wir brauchen (wir haben bereits einen Link zur rxjs-Dokumentation in diesem Artikel).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schließlich sendet Effect in der letzten Anweisung eine weitere Aktion.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Konstruktor implementieren wir die Dienste, die wir verwenden werden, die Aktionen für ngrx / Effects und in diesem Fall auch das Repository (beachten Sie, dass dies eine Demo ist und wir den ausgewählten Benutzer aus der Liste der Benutzer in unserem Repository abrufen).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist fast die gleiche Struktur, die Sie mit jedem Effekt sehen werden. </font><font style="vertical-align: inherit;">In diesem Fall senden wir nur eine erfolgreiche Aktion, aber wir können Fehler oder jeden anderen Status senden, den wir in unseren Anwendungsreduzierern verarbeiten möchten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die Konfigurationseffekte (store / effect / config.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/vy/xo/rgvyxoxw13yif9tlsok083hyfhu.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt ist es Zeit, über Selektoren zu sprechen ...</font></font><br>
<br>
<h3> </h3><br>
<blockquote>   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es macht keinen Sinn, die Schichten unseres Zustands überall zu wiederholen. Erstellen wir also einige Selektoren, die wir wiederverwenden können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/ki/nj/h9kinj8iveawvqfcy2ax6cbi_wu.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wir uns </font><font style="vertical-align: inherit;">wie immer zuerst die Benutzerselektoren an (store / selectors / user.selectors.ts): </font><font style="vertical-align: inherit;">Dies ist wirklich verständlich, da wir in unseren Selektoren keine Datentransformationen durchführen, sondern einfach den Slice des Speichers zurückgeben, auf den der Selektor mit der Funktion verweist createSelector von ngrx / store. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste Parameter ist ein Fragment des Speichers, der zum Empfangen von Daten verwendet wird (es kann sich um ein Array mit mehreren Teilen des Status handeln). Der zweite Parameter ist eine anonyme Funktion, die entscheidet, was der Selektor zurückgibt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns die Konfigurationsselektoren an (store / selectors / config.selectors.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rf/x3/sy/rfx3syjbo0zah5fkr3d5lyxm-6o.png" alt="Bild"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endgültige Einrichtung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, wir haben alles geschaffen, was unser Speicher benötigt, aber eines fehlt uns immer noch - alles zusammenzusetzen. </font><font style="vertical-align: inherit;">Ich werde dies im Anwendungsmodul tun, aber Sie können dasselbe im Hauptmodul Ihrer Anwendung anwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fügen </font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/bv/op/afbvopehkmcitmm2xps9ch8mwdy.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wir </font><font style="vertical-align: inherit;">ein Anwendungsmodul hinzu: </font><font style="vertical-align: inherit;">Was haben wir hier gemacht:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir importieren unsere Getriebe und stellen sie im forRoot-Speichermodul zur Verfügung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir importieren unsere Effekte und stellen sie innerhalb des Arrays im forRoot-Effektmodul bereit.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben die Konfiguration für das Statusmodul des Routers eingerichtet, der den stateKey-Router bereitstellt.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Und wir fügen Store-Entwickler-Tools hinzu, wenn die Umgebung nicht produziert wird.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die ersten beiden Schritte sind notwendig, während die Schritte 3 und 4 ich sehr empfehle, aber sie sind nicht erforderlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt haben wir es endlich geschafft ... wir können unseren Speicher in Komponenten nutzen!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speichernutzung in einigen Komponenten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir nähern uns dem Ende! </font><font style="vertical-align: inherit;">Mal sehen, wie wir unseren Speicher verwenden ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lassen Sie uns zuerst die Konfiguration erhalten, wenn die Anwendung gestartet wird:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-w/kx/sq/-wkxsqjesnv939hqsrqu4w9aqoq.png" alt="Bild"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir fügen unserer app.component Speicher hinzu.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir setzen die Komponenteneigenschaft in der Konfiguration auf den Wert des Selektors, da wir einige dieser Informationen in HTML anzeigen möchten.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei onInit senden wir die Aktion, um die Konfiguration zu erhalten.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles ... Wir codieren bereits einen Effekt, der diese Aktion steuert, und einen Reduzierer, der diesen Effekt verarbeitet. </font><font style="vertical-align: inherit;">Sobald der Store in einen neuen Status wechselt, ändert der Selektor den Wert unseres Eigentums. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So verknüpfen Sie dies mit HTML: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wx/us/db/wxusdb0f2gbleczgbej7qiquuvk.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobald config $ einen Wert hat, wird dieser in HTML angezeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sehen wir uns nun die Liste der Benutzer an (container / users / users.component.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-s/xe/oi/-sxeoitbesiozalk-fx2apletno.png" alt="Bild"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Während wir die Konfiguration verwalten, erhalten wir eine Liste der Benutzer. </font><font style="vertical-align: inherit;">Zuerst fügen wir das Repository in die Benutzerkomponente ein.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf onInit veröffentlichen wir eine Aktion, um Benutzer zu erhalten.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erstellen eine Eigenschaft für die Komponente und weisen ihr mithilfe der Benutzerlistenauswahl eine Benutzerliste zu.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTML sieht folgendermaßen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/2p/a2/rg2pa2kcp1kzmwzdcm3u1cjg89y.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir zeigen die Liste der Benutzer in der Präsentationskomponente an, senden die Liste und ordnen den ausgewählten Benutzer der Navigationsfunktion zu, die in der Benutzercontainerkomponente oben zu sehen ist. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schauen wir uns die benutzerdefinierte Containerkomponente an:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/af/do/ge/afdogebu_sm4girkz_pheed6768.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Diese Komponente empfängt die Parameterkennung von der aktivierten Route, und Sie sind wahrscheinlich bereits mit dem Rest vertraut, sendet die Kennung als Parameter, wählt den ausgewählten Benutzer aus ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die Anwendung debuggen, sehen Sie die Entwicklertools, die recht einfach sind zu verwenden ... aber in diesem Artikel haben wir genug studiert, und ich hoffe, dass Sie diese Tools leicht herausfinden können.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel habe ich versucht, eine klare und verständliche Einführung in NGRX zu geben, die Ihnen alles bietet, was Sie wissen müssen, um mit diesem Tool mit der Entwicklung zu beginnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich hoffe wirklich, dass der Artikel Ihnen hilft, die Aktionsvorlage zu verstehen, und empfehle, dass Sie sie herunterladen und ein wenig mit dem Code spielen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de489744/index.html">Konvertieren Sie die Infix-Notation in Postfix</a></li>
<li><a href="../de489746/index.html">In den meisten Fällen ist eine Serialisierung in Android nicht erforderlich</a></li>
<li><a href="../de489750/index.html">Verwalten eines Docker-Schwarmclusters mit Swarmpit</a></li>
<li><a href="../de489754/index.html">20 Projektmanagementsysteme, Übersicht über 100 Chips</a></li>
<li><a href="../de489756/index.html">Erstellen Sie einen Stifteffekt in SVG</a></li>
<li><a href="../de489760/index.html">Bewusstsein und Existenz. Quantenmechanik ohne Paradoxien</a></li>
<li><a href="../de489762/index.html">Ein einfaches Beispiel für Parsing und Datenanalyse für World of Tanks</a></li>
<li><a href="../de489764/index.html">"Das Ziel hat viele Gestalten ..." oder wir automatisieren die Steuerung einer Glühbirne mit CANNY 3 tiny und einem Fotowiderstand</a></li>
<li><a href="../de489768/index.html">Wie π kollidierende Blöcke und einen Quantensuchalgorithmus kombiniert</a></li>
<li><a href="../de489770/index.html">Video von MinskJS mitap: Mein Bericht über Browsererweiterungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>