<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👩‍👦 🏄 🎵 アプローチに欠けている7つの要素12 Factor App 👨 🚜 👨🏾‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注意ペレフ。：私たちのチームリーダーがIBM Cloudブログでこの資料を見たときに経験した熱意-伝説のTwelve-Factorアプリの一種の「拡張機能」-がそれを物語っています。著者が提起した質問は、耳だけではなく、本当に重要です。日常生活に関連しています。彼らの理解は、DevOpsエンジニアだ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>アプローチに欠けている7つの要素12 Factor App</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/460363/"><img src="https://habrastorage.org/webt/2a/cg/zi/2acgziblbzalmpe4jsfclgm5bqm.png"><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意ペレフ。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：私たちのチームリーダーがIBM Cloudブログでこの資料を見たときに経験した熱意-伝説のTwelve-Factorアプリの一種の「拡張機能」-がそれを物語っています。著者が提起した質問は、耳だけではなく、本当に重要です。日常生活に関連しています。彼らの理解は、DevOpsエンジニアだけでなく、Kubernetesで実行される最新のアプリケーションを作成する開発者にも役立ちます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
よく知られている</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 12要素アプリケーションの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法論</font><font style="vertical-align: inherit;">は、マイクロサービスを開発するための明確に定義された一連のルールです。アプリケーションの起動、スケーリング、デプロイに広く使用されています。 IBM Cloud Privateプラットフォームでは、コンテナー化されたアプリケーションを開発するときに同じ12の原則に従います。記事「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kubernetes＆12-factor apps</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">»これらの12の要素を適用する詳細について話し合います（これらの要素は、Kubernetesコンテナーオーケストレーションモデルでサポートされています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetesの制御下で機能するコンテナ化されたマイクロサービスの開発の原則について考えると、次の結論に達しました。上記の12の要因は完全に当​​てはまりますが、他の要因も本番環境の編成に非常に重要です。</font></font><a name="habracut"></a><br>
<br>
<ul>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可観測性</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（observable）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">予測可能性</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（スケジュール可能）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能</font></font></i><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">性</font></b><i><font style="vertical-align: inherit;">（アップグレード可能）</font></i><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最小特権</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（最小特権）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可制御性</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（監査可能）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セキュリティ</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（セキュリティ保護可能）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">測定可能性</font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（測定可能）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの原則を詳しく見て、それらの重要性を評価してみましょう。</font><font style="vertical-align: inherit;">均一性を維持するために、既存のものに追加します-したがって、XIIIから始めます...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則XIII：観察可能性</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションは、現在のステータスとインジケータに関する情報を提供する必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
多くのマイクロサービスがアプリケーションに統合されているため、分散システムは管理が難しい場合があります。実際、メカニズム（アプリケーション）が機能するためには、さまざまなギアが協調して動く必要があります。マイクロサービスの1つで障害が発生した場合、システムはそれを自動的に検出して修正する必要があります。 Kubernetesは、テストのために、優れた省電力機構を提供</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レディネス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（準備）と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活気</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（活力）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らの助けを借りて、Kubernetesはアプリケーションがトラフィックを受信する準備ができていることを確認します。準備に失敗した場合、Kubernetesはポッドへのトラフィックの送信を停止し、次のテストでポッドの準備ができていることが示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フロントエンド、ビジネスロジック、データベースの3つのマイクロサービスで構成されるアプリケーションがあるとします。アプリケーションが機能するためには、トラフィックを受け入れる前に、フロントエンドはビジネスロジックとデータベースの準備ができていることを確認する必要があります。これは、準備テストを使用して実行できます。これにより、すべての依存関係が機能していることを確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アニメーションは、準備</font><i><font style="vertical-align: inherit;">テスト</font></i><font style="vertical-align: inherit;">が準備を示すまでポッドへのリクエストが送信されないことを示しています。準備</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lo/uu/zz/louuzz5pv2lt-wuj82-cqa1j0ne.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストの実行中：Kubernetesは準備プローブを使用して、ポッドがトラフィックを受信する準備ができているかどうかを確認します</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストには、HTTP、TCP要求、およびコマンドの3つのタイプがあります。テストの構成を制御できます。たとえば、開始の頻度、成功/失敗のしきい値、回答を待つ時間を指定できます。活性テストの場合、非常に重要なパラメータを1つ設定する必要があります- </font></font><b><code>initialDelaySeconds</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。アプリケーションの準備ができて初めてテストが開始することを確認してください。このパラメーターが正しく設定されていない場合、アプリケーションは常に再起動します。実装方法は次のとおりです。</font></font><br>
<br>
<pre><code class="plaintext hljs">livenessProbe:<font></font>
# an http probe<font></font>
  httpGet:<font></font>
    path: /readiness<font></font>
    port: 8080<font></font>
    initialDelaySeconds: 20<font></font>
    periodSeconds: 5</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
活性テストを通じて、Kubernetesはアプリケーションが実行されているかどうかを確認します。アプリケーションが正常に機能している場合、Kubernetesは何もしません。 「停止」した場合、Kubernetesはポッドを削除し、代わりに新しいポッドを開始します。これは、ステートレスマイクロサービスのニーズとそれらのリサイクル可能性（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第IX因子、使い捨て性</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）に対応しています。 ：活気のテストが失敗した後Kubernetesはポッドを再起動すると、以下のアニメーションは状況を示し</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/cl/j6/ieclj6m2qrr6kgegoy5yup-dvtg.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションでにぎわいテストを：そのヘルプKubernetesをチェックしてポッドが「生きて」いる場合</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
、これらのテストの大きな利点は、アプリケーションがどのような順序で展開することができるということではありません中毒の心配。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、これらのテストは本番環境には不十分であることがわかりました。通常、アプリケーションには、追跡する必要のある独自のメトリック（1秒あたりのトランザクション数など）があります。クライアントはしきい値を設定し、通知を構成します。 IBM Cloud Privateは、役割ベースのアクセス制御システムを備えたプロメテウスとグラファナの非常に安全な監視スタックでこのギャップを埋めます。詳しくは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBM Cloud Privateクラスターのモニターの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクションを参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prometheusは、エンドポイントメトリックからターゲットデータを収集します。アプリケーションでは、次のアノテーションを使用してエンドポイントメトリックを指定する必要があります。</font></font><br>
<br>
<pre><code class="plaintext hljs">prometheus.io/scrape: 'true'</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、Prometheusはエンドポイントを自動的に検出し、そこからメトリックを収集します（次のアニメーションに示すように）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k-/at/5l/k-at5lvq2tpxupqg5w_73cv3xv0.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタムメトリックの収集</font></font></i><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注 </font><font style="vertical-align: inherit;">ペレフ。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Prometheusが歩いてエンドポイントをポーリングし、Grafana自体がPrometheusからデータを取得するため、矢印を反対方向に向ける方がより正確ですが、一般的な意味ではこれはそれほど重要ではありません。</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則XIV：予測可能性</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションは、リソース要件の予測可能性を提供する必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
経営陣があなたのチームをKubernetesプロジェクトで実験するように選択したと想像してください。あなたは適切な環境を作るために一生懸命働きました。その結果は、典型的な応答時間とパフォーマンスを示すアプリケーションです。その後、別のチームが作業に参加しました。彼女は自分のアプリケーションを作成し、同じ環境で起動しました。 2番目のアプリケーションの開始後、最初のアプリケーションのパフォーマンスが突然低下しました。この場合、この動作の理由は、コンテナーで使用できるコンピューティングリソース（CPUとメモリ）で調べる必要があります。彼らの赤字の高い確率。問題が発生します。アプリケーションが必要とするコンピューティングリソースの割り当てをどのように保証するか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetesには、リソースの最小値を設定したり、コンテナの制限を設定したりできる優れたオプションがあります。最小値が保証されています。コンテナーがリソースを必要とする場合、Kubernetesはこのリソースが提供できるホストでのみコンテナーを実行します。一方、上限により、コンテナの食欲が特定の値を超えないことが保証されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/pk/qg/qrpkqgcmtzsog7xnqcrjasq8xbm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナー</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の</font><i><font style="vertical-align: inherit;">最小値と制限</font></i><font style="vertical-align: inherit;">次のYAMLコードフラグメントは、コンピューティングリソースのチューニングを示しています。</font></font><br>
<br>
<pre><code class="plaintext hljs">resources:<font></font>
  requests:<font></font>
    memory: "64Mi"<font></font>
    cpu: "150m"<font></font>
  limits:<font></font>
    memory: "64Mi"<font></font>
    cpu: "200m"</code></pre><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意 </font><font style="vertical-align: inherit;">ペレフ。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Kubernetesでのリソースの提供、リクエスト、制限の詳細については、最新のレポートとそのレビュー、「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetesで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動スケーリング</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">とリソース管理</font></a><font style="vertical-align: inherit;">」、および</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">K8sのドキュメントをご覧ください</font></a><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
運用環境の管理者にとってもう1つの興味深い機能は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前空間の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クォータの設定</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">割り当てが設定されている場合、Kubernetesはリクエスト/制限がこの名前空間で定義されていないコンテナを作成しません。</font><font style="vertical-align: inherit;">：名前空間のクォータを設定する例は、以下の図に見られる</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dw/rx/rt/dwrxrtirmxdelzgilu3lurdj3n0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前空間のクォータ</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則XV。</font><font style="vertical-align: inherit;">更新可能性</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションは、前の世代のデータ形式を更新する必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの場合、脆弱性を排除したり機能を拡張したりするために、稼働中の本番アプリケーションにパッチを適用する必要があります。</font><font style="vertical-align: inherit;">作業を中断せずに更新を行うことが重要です。</font><font style="vertical-align: inherit;">Kubernetesは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンタイムなしでアプリケーションを更新できるローリング更新</font><i><font style="vertical-align: inherit;">メカニズム</font></i><font style="vertical-align: inherit;">を提供します。</font><font style="vertical-align: inherit;">このメカニズムを使用すると、サービス全体を停止することなく、ポッドごとに一度に更新できます。</font><font style="vertical-align: inherit;">このプロセスの概略図を以下に示します（この場合、アプリケーションは2番目のバージョンに更新されます）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vm/ww/7a/vmww7ae4pwsdd5xoafuapdxwjgq.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
対応するYAML記述の例：</font></font><br>
<br>
<pre><code class="plaintext hljs">minReadySeconds: 5<font></font>
strategy:<font></font>
  # ,     <font></font>
  type: RollingUpdate<font></font>
  rollingUpdate:<font></font>
    maxSurge: 1<font></font>
    maxUnavailable: 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータに注意を払う</font></font><code>maxUnavailable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>maxSurge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li> <code>maxUnavailable</code> —  ,    pod',        .   ,      ,    ;</li>
<li> <code>maxSurge</code> —  ,    .     pod',        .</li>
</ul><br>
<h2> XVI:  </h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナーは最小限の特権で機能する必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
悲観的に聞こえますが、コンテナー内の各解決策は潜在的な脆弱性と見なす必要があります（図を参照）。</font><font style="vertical-align: inherit;">たとえば、コンテナがrootとして実行されている場合、それにアクセスできる人は誰でも悪意のあるプロセスをそこに挿入できます。</font><font style="vertical-align: inherit;">Kubernetesは</font><font style="vertical-align: inherit;">、ファイルシステム、ホストポート、Linux機能などへのアクセスを制限</font><font style="vertical-align: inherit;">する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポッドセキュリティポリシー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（PSP）を提供します。</font><font style="vertical-align: inherit;">IBM Cloud Privateは、名前空間でプロビジョニングされたときにコンテナーにバインドする既製のPSPセットを提供します。</font><font style="vertical-align: inherit;">詳細については</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ポッドセキュリティポリシーでの名前空間の使用を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g1/rs/e5/g1rse5fyeoqhmh8i6rxz7n6kado.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての解決策は潜在的な攻撃ベクトルです</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則XVII：制御可能性</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての重要な操作について、誰が、何を、どこで、いつ行うかを知る必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
制御性は、Kubernetesクラスターまたはアプリケーションでのあらゆるアクティビティに不可欠です。</font><font style="vertical-align: inherit;">たとえば、アプリケーションがクレジットカードのトランザクションを処理する場合、各トランザクションの制御トレースを取得するには、監査を有効にする必要があります。</font><font style="vertical-align: inherit;">IBM Cloud Privateは、業界標準の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Auditing Data Federation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（CADF）を</font><font style="vertical-align: inherit;">使用します</font><font style="vertical-align: inherit;">。CADFは、特定のクラウド実装に依存しません。</font><font style="vertical-align: inherit;">詳しく</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、IBM Cloud Privateでの監査ロギングを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CADFイベントには、次のデータが含まれています。</font></font><br>
<br>
<ul>
<li> <code>initiator_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -操作を実行したユーザーのID。</font></font></li>
<li> <code>target_uri</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ターゲットCADF URI（例：データ/セキュリティ/プロジェクト）;</font></font></li>
<li> <code>action</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-通常、実行されるアクション</font></font><code>operation: resource_type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則XVIII：セキュリティ（識別、ネットワーク、スコープ、証明書）</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションとリソースを見知らぬ人から保護する必要があります。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアイテムは別の記事に値します。</font><font style="vertical-align: inherit;">本番アプリケーションにはエンドツーエンドの保護が必要であると言えば十分でしょう。</font><font style="vertical-align: inherit;">IBM Cloud Privateは、実稼働環境のセキュリティーを確保するために以下の対策を講じています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 認証：本人確認。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 承認：認証されたユーザーアクセスチェック。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 証明書管理：作成、保存、更新などのデジタル証明書を操作します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> データ保護：送信および保存されたデータのセキュリティを確保します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ネットワークのセキュリティと分離：権限のないユーザーとプロセスによるネットワークへのアクセスの防止。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 脆弱性アドバイザー：画像の脆弱性を特定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 変異アドバイザー：コンテナー内の変異の検出。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳しくは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBM Cloud Private Security Guideを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特に注目すべきは、証明書マネージャーです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IBM Cloud Privateのこのサービスは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jetstack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オープン</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ソース</font></a><font style="vertical-align: inherit;">プロジェクトに基づいてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">証明書マネージャーを使用すると、IBM Cloud Privateで実行されているサービスの証明書を発行および管理できます。</font><font style="vertical-align: inherit;">公開証明書と自己署名証明書の両方をサポートし、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubectl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびロールベースのアクセス制御と</font><font style="vertical-align: inherit;">完全に統合し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則XIX：測定可能性</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの使用は、ユニット間の割り当てと決済のために測定可能でなければなりません。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的に、企業はITコストを支払う必要があります（下図を参照）。</font><font style="vertical-align: inherit;">実行中のコンテナ専用のコンピューティングリソースは測定可能である必要があり、クラスタを使用する組織は責任を負う必要があります。</font><font style="vertical-align: inherit;">原則XIV-予測可能性に従ってください。</font><font style="vertical-align: inherit;">IBM Cloud Privateは、</font><font style="vertical-align: inherit;">各コンテナーのコンピューティングリソースに関するデータを収集し、さらにそれらをネームスペースレベルで結合</font><font style="vertical-align: inherit;">する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アカウンティングサービス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">提供します</font><font style="vertical-align: inherit;">（ショーバックまたはチャージバックの一部として）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_i/j1/y_/_ij1y_opmepkpidymexgnbf-l78.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの使用は測定可能でなければなりません。</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事で取り上げたトピックを気に入っていただければ幸いです。すでに使用している要素に注目し、まだ傍観されている要素について考えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細について</font><font style="vertical-align: inherit;">は、上海でのKubeCon 2019でのパフォーマンス</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レコーディングについて</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理解することをお勧めします</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その中で</font><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Michael Elder</font></a><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Kubernetesベースのコンテナオーケストレーションの12 + 7原則について説明します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳者からのPS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのブログも読んでください：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロサービス：Kubernetesを使用している場合でも、サイズが重要です</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleによるコンテナ運用の7つのベストプラクティス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モニタリングとKubernetes（レビューとビデオレポート）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    2018 </a>».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460351/index.html">werf-KubernetesのCI / CD用ツール（レビューとビデオレポート）</a></li>
<li><a href="../ja460353/index.html">ガラスのニューラルネットワーク。電力を必要とせず、数字を認識します</a></li>
<li><a href="../ja460355/index.html">溺死を救うことは私たちのビジネスです：チームの意欲低下に対処する方法</a></li>
<li><a href="../ja460359/index.html">ヤングゲームデザイナー2コース：数学を使わずに進行とダイナミクスのバランスを取る</a></li>
<li><a href="../ja460361/index.html">医療情報システムのサイバーセキュリティに関する素晴らしいFAQ</a></li>
<li><a href="../ja460365/index.html">分散トレース：すべてが間違っていました</a></li>
<li><a href="../ja460367/index.html">カオスエンジニアリング：意図的な破壊の芸術。パート1</a></li>
<li><a href="../ja460373/index.html">フードターボページの下で：ウェブページの高速ダウンロード技術のアーキテクチャ</a></li>
<li><a href="../ja460375/index.html">本「ビジネスとマーケティングのための機械学習」</a></li>
<li><a href="../ja460377/index.html">Liquibaseを使用してSpring Bootアプリケーションでデータベース構造を管理する。パート1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>