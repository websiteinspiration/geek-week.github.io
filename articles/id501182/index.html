<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💄 👩🏾‍⚖️ 🎻 OVirt dalam 2 jam. Bagian 2. Menginstal manajer dan host 🛄 👨‍💻 🥟</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini adalah seri berikutnya pada oVirt, mulai dari sini .
 
 Artikel
 

1. pengantar
2. Instalasi manajer (mesin ovirt) dan hypervisor (host) -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>OVirt dalam 2 jam. Bagian 2. Menginstal manajer dan host</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501182/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini adalah seri berikutnya pada oVirt, mulai dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengantar</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalasi manajer (mesin ovirt) dan hypervisor (host) - Kami di sini</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan tambahan</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operasi dasar</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami akan mempertimbangkan masalah pemasangan awal komponen ovirt-engine dan ovirt-host.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda selalu dapat melihat proses pemasangan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> secara lebih rinci </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kandungan</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal mesin-ovirt</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal ovirt-host</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menambahkan simpul ke oVirtN</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan Antarmuka Jaringan</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan FC</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasikan FCoE</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyimpanan Gambar ISO</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM pertama</font></font></a></li>
</ol><br>
<a name="setup-engine"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal mesin-ovirt</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk Engine, persyaratan minimum adalah 2 core / 4 GiB RAM / 25 GiB penyimpanan. Disarankan - mulai dari 4 core / 16 GiB RAM / 50 GiB penyimpanan. Kami menggunakan opsi Standalone Manager ketika mesin berjalan pada mesin fisik atau virtual khusus di luar cluster yang dikelola. Untuk instalasi kami, mari kita ambil mesin virtual, misalnya, pada ESXi </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* yang</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> terpisah </font><font style="vertical-align: inherit;">. Lebih mudah menggunakan alat otomatisasi penyebaran atau kloning dari templat yang disiapkan sebelumnya atau memasang kickstart. </font></font><br>
<br>
<i><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Catatan: untuk sistem produksi ini adalah ide yang buruk karena manajer bekerja tanpa cadangan dan menjadi hambatan. Dalam hal ini, lebih baik mempertimbangkan opsi Mesin yang di-host sendiri.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika perlu, prosedur untuk mengubah Standalone ke Self Hosted dijelaskan secara rinci dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Secara khusus, tuan rumah perlu diberi perintah instal ulang dengan dukungan untuk Mesin yang Diinangi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal CentOS 7 dalam konfigurasi minimal pada VM, kemudian perbarui dan reboot sistem:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum update -y &amp;&amp; sudo reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mesin virtual, ada baiknya memasang agen tamu:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install open-vm-tools</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
untuk host VMware ESXi, atau untuk oVirt:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install ovirt-guest-agent</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menghubungkan repositori dan menginstal manajer:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install https://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm<font></font>
$ sudo yum install ovirt-engine<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengaturan dasar:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo engine-setup</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kebanyakan kasus, pengaturan default yang dipilih sudah cukup, untuk penggunaan otomatisnya, Anda dapat memulai konfigurasi dengan tombol:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo engine-setup --accept-defaults</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat terhubung ke mesin baru kami di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ovirt.lab.example.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Masih kosong di sini, jadi mari kita beralih ke menginstal hypervisors.</font></font><br>
<a name="setup-host"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal ovirt-host</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal CentOS 7 dalam konfigurasi minimal pada host fisik, lalu hubungkan repositori, perbarui dan reboot sistem:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install https://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm<font></font>
$ sudo yum update -y &amp;&amp; sudo reboot<font></font>
</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan: nyaman untuk menggunakan alat otomatisasi penyebaran atau memulai pemasangan untuk pemasangan.</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh file kickstart</font></font></b>
                        <div class="spoiler_text">! <b>   !</b>  !<br>
<br>
<pre><code class="plaintext hljs"># System authorization information<font></font>
auth --enableshadow --passalgo=sha512<font></font>
# Use CDROM installation media<font></font>
cdrom<font></font>
# Use graphical install<font></font>
graphical<font></font>
# Run the Setup Agent on first boot<font></font>
firstboot --enable<font></font>
ignoredisk --only-use=sda<font></font>
# Keyboard layouts<font></font>
keyboard --vckeymap=us --xlayouts='us','ru' --switch='grp:alt_shift_toggle'<font></font>
# System language<font></font>
lang ru_RU.UTF-8<font></font>
<font></font>
# Network information<font></font>
network  --bootproto=dhcp --device=ens192 --ipv6=auto --activate<font></font>
network  --hostname=kvm01.lab.example.com<font></font>
<font></font>
# Root password 'monteV1DE0'<font></font>
rootpw --iscrypted $6$6oPcf0GW9VdmJe5w$6WBucrUPRdCAP.aBVnUfvaEu9ozkXq9M1TXiwOm41Y58DEerG8b3Ulme2YtxAgNHr6DGIJ02eFgVuEmYsOo7./<font></font>
# User password 'metroP0!is'<font></font>
user --name=mgmt --groups=wheel --iscrypted --password=$6$883g2lyXdkDLbKYR$B3yWx1aQZmYYi.aO10W2Bvw0Jpkl1upzgjhZr6lmITTrGaPupa5iC3kZAOvwDonZ/6ogNJe/59GN5U8Okp.qx.<font></font>
# System services<font></font>
services --enabled="chronyd"<font></font>
# System timezone<font></font>
timezone Europe/Moscow --isUtc<font></font>
# System bootloader configuration<font></font>
bootloader --append=" crashkernel=auto" --location=mbr --boot-drive=sda<font></font>
# Partition clearing information<font></font>
clearpart --all<font></font>
# Disk partitioning information<font></font>
part /boot --fstype xfs --size=1024 --ondisk=sda  --label=boot<font></font>
part pv.01 --size=45056 --grow<font></font>
volgroup HostVG pv.01 --reserved-percent=20<font></font>
logvol swap --vgname=HostVG --name=lv_swap --fstype=swap --recommended<font></font>
logvol none --vgname=HostVG --name=HostPool --thinpool --size=40960 --grow<font></font>
logvol / --vgname=HostVG --name=lv_root --thin --fstype=ext4 --label="root" --poolname=HostPool --fsoptions="defaults,discard" --size=6144 --grow<font></font>
logvol /var --vgname=HostVG --name=lv_var --thin --fstype=ext4 --poolname=HostPool --fsoptions="defaults,discard" --size=16536<font></font>
logvol /var/crash --vgname=HostVG --name=lv_var_crash --thin --fstype=ext4 --poolname=HostPool --fsoptions="defaults,discard" --size=10240<font></font>
logvol /var/log --vgname=HostVG --name=lv_var_log --thin --fstype=ext4 --poolname=HostPool --fsoptions="defaults,discard" --size=8192<font></font>
logvol /var/log/audit --vgname=HostVG --name=lv_var_audit --thin --fstype=ext4 --poolname=HostPool --fsoptions="defaults,discard" --size=2048<font></font>
logvol /home --vgname=HostVG --name=lv_home --thin --fstype=ext4 --poolname=HostPool --fsoptions="defaults,discard" --size=1024<font></font>
logvol /tmp --vgname=HostVG --name=lv_tmp --thin --fstype=ext4 --poolname=HostPool --fsoptions="defaults,discard" --size=1024<font></font>
<font></font>
%packages<font></font>
@^minimal<font></font>
@core<font></font>
chrony<font></font>
kexec-tools<font></font>
<font></font>
%end<font></font>
<font></font>
%addon com_redhat_kdump --enable --reserve-mb='auto'<font></font>
<font></font>
%end<font></font>
<font></font>
%anaconda<font></font>
pwpolicy root --minlen=6 --minquality=1 --notstrict --nochanges --notempty<font></font>
pwpolicy user --minlen=6 --minquality=1 --notstrict --nochanges --emptyok<font></font>
pwpolicy luks --minlen=6 --minquality=1 --notstrict --nochanges --notempty<font></font>
%end<font></font>
# Reboot when the install is finished.<font></font>
reboot --eject<font></font>
</code></pre><br>
  , .,  <a href="" rel="nofollow">ftp.example.com/pub/labkvm.cfg</a>.           'Install CentOS 7',     ( Tab)    ( ,  )  <br>
<br>
<pre><code class="plaintext hljs">' inst.ks=ftp://ftp.example.com/pub/labkvm.cfg'</code></pre>.<br>
      /dev/sda,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> </a> (      lsblk).     kvm01.lab.example.com (     hostnamectl set-hostname kvm03.lab.example.com),  IP  — ,   — ,    .<br>
<br>
  root: monteV1DE0,   mgmt: metroP0!is.<br>
<b>!    !  !</b><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ulangi (atau jalankan secara paralel) pada semua host. </font><font style="vertical-align: inherit;">Dari mengaktifkan server "kosong" ke status selesai, dengan memperhitungkan 2 unduhan lama, dibutuhkan sekitar 20 menit.</font></font><br>
<a name="add-host"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menambahkan simpul ke oVirt</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini sangat sederhana: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hitung → Host → Baru → ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di wizard, kolom Name (nama tampilan, misalnya, kvm03), Hostname (FQDN, misalnya kvm03.lab.example.com) dan bagian Otentikasi diperlukan - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengguna root (selalu)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - kata sandi atau Kunci Publik SSH. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mengklik tombol </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ok</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">Anda akan menerima pesan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Anda belum mengonfigurasi Manajemen Daya untuk Host ini. Apakah anda yakin ingin melanjutkan? "</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ini normal - kami akan mempertimbangkan manajemen daya nanti, setelah koneksi host berhasil. Namun, jika mesin tempat host diinstal tidak mendukung manajemen (IPMI, iLO, DRAC, dll.), Saya sarankan untuk mematikannya: Hitung → Clusters → Default → Edit → Fencing Ploicy → Enable fencing, hilangkan centang.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika repositori oVirt tidak terhubung pada host, instalasi akan gagal, tetapi tidak apa-apa - Anda perlu menambahkannya, lalu klik Instal -&gt; Instal Ulang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Koneksi host tidak lebih dari 5-10 menit.</font></font><br>
<a name="host-nic"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan Antarmuka Jaringan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat kami membangun sistem yang toleran terhadap kesalahan, koneksi jaringan juga harus menyediakan koneksi yang berlebihan, yang dilakukan pada tab Compute → Hosts → </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOST</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> → Network Interfaces - Setup Host Networks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bergantung pada kemampuan peralatan jaringan dan pendekatan arsitektur, opsi dimungkinkan. Yang terbaik adalah terhubung ke tumpukan switch paling atas sehingga ketika salah satu gagal, ketersediaan jaringan tidak terganggu. Pertimbangkan contoh saluran LACP gabungan. Untuk mengkonfigurasi saluran gabungan, “ambil” adaptor ke-2 yang tidak digunakan dengan mouse dan “bawa” ke saluran ke-1. Jendela </font><b><font style="vertical-align: inherit;">Create New Bond</font></b><font style="vertical-align: inherit;"> terbuka.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di mana LACP (Mode 4, Agregasi tautan dinamis, 802.3ad) dipilih secara default. </font><font style="vertical-align: inherit;">Di sisi sakelar, konfigurasi grup LACP normal dilakukan. </font><font style="vertical-align: inherit;">Jika tidak memungkinkan untuk membangun stack switch, Anda dapat menggunakan mode Active-Backup (Mode 1). </font><font style="vertical-align: inherit;">Kami akan mempertimbangkan pengaturan VLAN di artikel berikutnya, dan lebih terinci dengan rekomendasi tentang pengaturan jaringan dalam dokumen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panduan Perencanaan dan Prasyarat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="host-fc"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan FC</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fibre Channel (FC) didukung di luar kotak, penggunaannya langsung. </font><font style="vertical-align: inherit;">Kami tidak akan mengonfigurasi jaringan penyimpanan, termasuk konfigurasi sistem penyimpanan dan penzonaan sakelar fabric sebagai bagian dari konfigurasi oVirt.</font></font><br>
<a name="ovirt-fcoe"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasikan FCoE</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FCoE, menurut saya, tidak banyak digunakan dalam jaringan penyimpanan, tetapi sering digunakan pada server sebagai "last mile", misalnya, dalam HPE Virtual Connect.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengkonfigurasi FCoE membutuhkan langkah-langkah sederhana tambahan.</font></font></b>
                        <div class="spoiler_text"><h4>Setup FCoE Engine</h4><br>
   Red Hat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">B.3. How to Set Up Red Hat Virtualization Manager to Use FCoE<br>
On the Manager</a>,         :<br>
<br>
<pre><code class="bash hljs">
$ sudo engine-config -s UserDefinedNetworkCustomProperties=<span class="hljs-string">'fcoe=^((enable|dcb|auto_vlan)=(yes|no),?)*$'</span><font></font>
$ sudo systemctl restart ovirt-engine.service<font></font>
</code></pre><br>
<h4>Setup Node FCoE</h4><br>
 oVirt-Host'   <br>
<br>
<pre><code class="bash hljs">$ sudo yum install vdsm-hook-fcoe</code></pre><br>
   FCoE,   Red Hat: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">25.5. Configuring a Fibre Channel over Ethernet Interface</a>.<br>
<br>
 Broadcom CNA   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">User Guide FCoE Configuration for Broadcom-Based Adapters</a>.<br>
<br>
,    (   minimal):<br>
<br>
<pre><code class="bash hljs">$ sudo yum install fcoe-utils lldpad</code></pre><br>
   ( ens3f2  ens3f3   CNA,    ):<br>
<br>
<pre><code class="bash hljs">$ sudo cp /etc/fcoe/cfg-ethx /etc/fcoe/cfg-ens3f2<font></font>
$ sudo cp /etc/fcoe/cfg-ethx /etc/fcoe/cfg-ens3f3<font></font>
$ sudo vim /etc/fcoe/cfg-ens3f2<font></font>
$ sudo vim /etc/fcoe/cfg-ens3f3<font></font>
</code></pre><br>
<b></b>:      DCB/DCBX,  DCB_REQUIRED     no.<br>
<br>
DCB_REQUIRED=«yes» → <b>#</b>DCB_REQUIRED=«yes»<br>
<br>
  ,  adminStatus    ,  ..   FCoE:<br>
<br>
<pre><code class="bash hljs">$ sudo lldptool <span class="hljs-built_in">set</span>-lldp -i ens3f0 adminStatus=disabled<font></font>
...<font></font>
$ sudo lldptool <span class="hljs-built_in">set</span>-lldp -i ens3f3 adminStatus=disabled
</code></pre><br>
    ,   LLDP:<br>
<br>
<pre><code class="bash hljs">$ sudo systemctl start lldpad<font></font>
$ sudo systemctl <span class="hljs-built_in">enable</span> lldpad
</code></pre><br>
  ,    DCB/DCBX,  DCB_REQUIRED     <b>no</b>      .<br>
<br>
<pre><code class="bash hljs">$ sudo dcbtool sc ens3f2 dcb on<font></font>
$ sudo dcbtool sc ens3f3 dcb on<font></font>
$ sudo dcbtool sc ens3f2 app:fcoe e:1<font></font>
$ sudo dcbtool sc ens3f3 app:fcoe e:1<font></font>
$ sudo ip link <span class="hljs-built_in">set</span> dev ens3f2 up<font></font>
$ sudo ip link <span class="hljs-built_in">set</span> dev ens3f3 up<font></font>
$ sudo systemctl start fcoe<font></font>
$ sudo systemctl <span class="hljs-built_in">enable</span> fcoe
</code></pre><br>
      :<br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/sysconfig/network-scripts/ifcfg-ens3f2<font></font>
$ sudo vim /etc/sysconfig/network-scripts/ifcfg-ens3f3<font></font>
</code></pre><br>
<pre><code class="plaintext hljs">ONBOOT=yes</code></pre><br>
  FCoE ,      .<br>
<br>
<pre><code class="bash hljs">$ sudo fcoeadm -i</code></pre><br>
  FCoE     FC.<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah konfigurasi sistem dan jaringan penyimpanan - zonasi, host SAN, pembuatan dan penyajian volume / LUN, setelah itu penyimpanan dapat dihubungkan ke host-ovirt: Storage → Domains → New Domain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi Domain kami meninggalkan Data, Jenis Penyimpanan - Saluran Serat, Host - apa pun, nama - mis. StorNN-volMM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentunya sistem penyimpanan Anda memungkinkan koneksi tidak hanya reservasi jalur, tetapi juga menyeimbangkan. </font><font style="vertical-align: inherit;">Banyak sistem modern yang mampu mentransmisikan data sepanjang semua jalur secara optimal (ALUA aktif / aktif). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengaktifkan semua jalur dalam keadaan aktif, Anda perlu mengonfigurasi multipassing, lebih dari itu di artikel berikut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konfigurasi NFS dan iSCSI dilakukan dengan cara yang serupa.</font></font><br>
<a name="host-iso"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyimpanan Gambar ISO</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menginstal OS, Anda akan memerlukan file instalasi mereka, paling sering tersedia dalam bentuk gambar ISO. </font><font style="vertical-align: inherit;">Anda dapat menggunakan jalur bawaan, tetapi untuk bekerja dengan gambar di oVirt, tipe penyimpanan khusus dikembangkan - ISO, yang dapat ditargetkan ke server NFS. </font><font style="vertical-align: inherit;">Tambahkan itu: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penyimpanan → Domain → Domain Baru, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi Domain → ISO, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalur Ekspor - mis. Mynfs01.example.com:/exports/ovirt-iso (pada saat koneksi, folder harus kosong, manajer harus dapat menulisnya), </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nama - mis. Mynfs01-iso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menyimpan gambar, manajer akan membuat struktur </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ ekspor / ovirt-iso </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ &lt;some UUID&gt; / images / 11111111-1111-1111-1111-11111111111111 /</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda sudah memiliki gambar ISO di server NFS kami, lebih mudah untuk menautkannya ke folder ini daripada menyalin file untuk menghemat ruang.</font></font><br>
<a name="1stVM"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VM pertama</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tahap ini, Anda sudah dapat membuat mesin virtual pertama, menginstal OS dan perangkat lunak aplikasi di atasnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hitung → Mesin Virtual → Baru </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mesin baru, tentukan nama (Nama), buat disk (Gambar Instance → Buat) dan hubungkan antarmuka jaringan (Instantiate antarmuka jaringan VM dengan memilih profil vNIC → pilih satu-satunya ovirtmgmt dari daftar sejauh ini). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sisi klien, Anda memerlukan browser modern dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">klien SPICE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk berinteraksi dengan konsol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin pertama mulai berhasil. </font><font style="vertical-align: inherit;">Namun, untuk operasi sistem yang lebih lengkap, sejumlah pengaturan tambahan diperlukan, yang akan kita lanjutkan di artikel berikut.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id501166/index.html">OVirt dalam 2 jam. Bagian 1. Platform Virtualisasi Open Failover</a></li>
<li><a href="../id501168/index.html">Ordo menyelamatkan diri mereka - apakah mereka menyimpan, menyimpan, terbakar?</a></li>
<li><a href="../id501172/index.html">Komputer Mikrosh saya: melanjutkan minggu nostalgia</a></li>
<li><a href="../id501178/index.html">Bagaimana menonton film porno memengaruhi produktivitas kerja dan belajar</a></li>
<li><a href="../id501180/index.html">[Pasca-Pertanyaan] Apakah Anda memerlukan gerakan TI untuk FACTS tentang coronavirus dan "efek samping"</a></li>
<li><a href="../id501184/index.html">Cara mengkonfigurasi Apollo agar berfungsi dengan GraphQL di Android</a></li>
<li><a href="../id501188/index.html">Bagaimana memproses citra satelit dengan Sen2Cor</a></li>
<li><a href="../id501190/index.html">Cara memulai startup, memasuki pasar Cina dan mendapatkan 15 juta investasi</a></li>
<li><a href="../id501192/index.html">5 Tips Terbaik untuk Meningkatkan Keterampilan Lunak dalam Bahasa Inggris</a></li>
<li><a href="../id501194/index.html">Di bangun dari partikel panas. Kamar Wilson</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>