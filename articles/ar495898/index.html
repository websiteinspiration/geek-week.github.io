<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ โ๐ฟ โน๐ผ ุฏููู ุนููู ููุชุนุงูู ูุน ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูู Node.js ๐ต โช๏ธ ๐คพ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุณุฑูุจุงุช ุงูุฐุงูุฑุฉ ุชุดุจู ุงูููุงูุงุช ุงูุทููููุฉ ูู ุงูุชุทุจูู. ุชุฎุชุฑู ุงููุธุงู ุจูุฏูุก ุ ูู ุงูุจุฏุงูุฉ ุฏูู ุงูุชุณุจุจ ูู ุฃู ุถุฑุฑ. ูููู ุฅุฐุง ุชุจูู ุฃู ุงูุชุณุฑุจ ููู ุจูุง ููู ุงูููุงูุฉ ุ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ุฏููู ุนููู ููุชุนุงูู ูุน ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูู Node.js</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/495898/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุฑูุจุงุช ุงูุฐุงูุฑุฉ ุชุดุจู ุงูููุงูุงุช ุงูุทููููุฉ ูู ุงูุชุทุจูู. </font><font style="vertical-align: inherit;">ุชุฎุชุฑู ุงููุธุงู ุจูุฏูุก ุ ูู ุงูุจุฏุงูุฉ ุฏูู ุงูุชุณุจุจ ูู ุฃู ุถุฑุฑ. </font><font style="vertical-align: inherit;">ูููู ุฅุฐุง ุชุจูู ุฃู ุงูุชุณุฑุจ ููู ุจูุง ููู ุงูููุงูุฉ ุ ููุฏ ูุคุฏู ุฐูู ุฅูู ูุงุฑุซุฉ ุงูุชุทุจูู. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู - ูุฅุจุทุงุฆูุง ุจููุฉ ุฃู ุจุจุณุงุทุฉ "ููุชููุง". </font><font style="vertical-align: inherit;">
ููุชุฑุญ ูุคูู ุงูููุงูุฉ ุ ุงูุชู ููุดุฑ ุชุฑุฌูุชูุง ุงูููู ุ ุงูุญุฏูุซ ุนู ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูู ุฌุงูุง ุณูุฑูุจุช. </font><font style="vertical-align: inherit;">ุนูู ูุฌู ุงูุฎุตูุต ุ ุณูุชุญุฏุซ ุนู ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู ุฌุงูุง ุณูุฑูุจุช ุ ูููููุฉ ุชุญุฏูุฏ ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูู ุงูุชุทุจููุงุช ุงูุญููููุฉ ุ ูููููุฉ ุงูุชุนุงูู ูุน ุชุณุฑุจ ุงูุฐุงูุฑุฉ.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/webt/ut/sj/t-/utsjt-d80r9mqkvrexbbkws-eae.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ูู ุชุณุฑุจ ุงูุฐุงูุฑุฉุ</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅู ุชุณุฑุจ ุงูุฐุงูุฑุฉ ุ ุจูุนูุงู ุงููุงุณุน ุ ูู ุฌุฒุก ูู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูุชุทุจูู ูู ูุนุฏ ูุฐุง ุงูุชุทุจูู ุจุญุงุฌุฉ ุฅููู ุ ูููู ูุง ูููู ุฅุนุงุฏุชู ุฅูู ูุธุงู ุงูุชุดุบูู ูุงุณุชุฎุฏุงูู ูู ุงููุณุชูุจู. </font><font style="vertical-align: inherit;">ุจูุนูู ุขุฎุฑ ุ ูู ูุชูุฉ ุฐุงูุฑุฉ ูุชู ุงูุชูุงุทูุง ุจูุงุณุทุฉ ุงูุชุทุจูู ุฏูู ููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูุฐุงูุฑุฉ ูู ุงููุณุชูุจู.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ูู ุขููุฉ ูุชุฎุตูุต ุฐุงูุฑุฉ ุงููุธุงู ุฅูู ุงูุชุทุจูู ุงูุฐู ูุญุชุงุฌูุง ุ ููู ุขููุฉ ูุฅุนุงุฏุฉ ุงูุฐุงูุฑุฉ ุบูุฑ ุงูุถุฑูุฑูุฉ ุฅูู ูุธุงู ุงูุชุดุบูู. </font><font style="vertical-align: inherit;">ููุงู ุงูุนุฏูุฏ ูู ุงูุฃุณุงููุจ ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ูุนุชูุฏ ุงูุฃุณููุจ ุงููุณุชุฎุฏู ุนูู ูุบุฉ ุงูุจุฑูุฌุฉ ุงููุณุชุฎุฏูุฉ. </font><font style="vertical-align: inherit;">ูููุง ููู ูุธุฑุฉ ุนุงูุฉ ุนูู ุงูุนุฏูุฏ ูู ุงูุฃุณุงููุจ ุงูุดุงุฆุนุฉ ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ:</font></font><br>
<br>
<ul>
<li>  .           .         .       ,    .        C  C++.   ,   ,   <code>malloc</code>  <code>free</code>,      .</li>
<li>   . ,      ,   ,       .   ,  ,    ,        . ,     ,  ,      ,   .         .  โ JavaScript, ,   JVM (Java, Scala, Kotlin), Golang, Python, Ruby  .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุทุจูู ููููู ููููุฉ ุงูุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ูุน ูุฐุง ุงูููุฌ ุ ูุฌุจ ุฃู ูููู ููู ูุชุบูุฑ ูุงููู ุงูุฎุงุต. </font><font style="vertical-align: inherit;">ุจูุฌุฑุฏ ุฃู ูููู ุงููุงูู ุฎุงุฑุฌ ุงููุทุงู ุ ูุชู ุชุฏููุฑ ุงููููุฉ ูู ุงููุชุบูุฑ ุ ูุชุญุฑูุฑ ุงูุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูููุฑุฉ ูู ุงูุตุฏุฃ.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงู ุทุฑู ุฃุฎุฑู ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุชุณุชุฎุฏู ูู ูุบุงุช ุงูุจุฑูุฌุฉ ุงููุฎุชููุฉ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูุณุชุฎุฏู C ++ 11 ูุบุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAII</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุจูููุง ูุณุชุฎุฏู Swift ุขููุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ARC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ููู ุงูุญุฏูุซ ุนููุง ูุชุฌุงูุฒ ูุทุงู ูุฐู ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ูููุงุฑูุฉ ุงูุฃุณุงููุจ ุงููุฐููุฑุฉ ุฃุนูุงู ูุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุ ูููู ุฅูุฌุงุจูุงุชูุง ูุณูุจูุงุชูุง ุ ูุญุชุงุฌ ุฅูู ููุงูุฉ ูููุตูุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุณุชุฎุฏู JavaScript ุ ููู ุงููุบุฉ ุงูุชู ูุง ูุณุชุทูุน ุงููุจุฑูุฌูู ุจุฏูููุง ุชุฎูู ุนูููู ุ ููุฑุฉ ุฌูุน ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ูุฐูู ุ ุณูุชุญุฏุซ ุฃูุซุฑ ุนู ููููุฉ ุนูู ูุฐู ุงูุขููุฉ.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌูุน ุงูููุงูุฉ ุฌุงูุง ุณูุฑูุจุช</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ุณุจู ุฐูุฑู ุ ูุฅู JavaScript ูู ูุบุฉ ุชุณุชุฎุฏู ููููู ุฌูุน ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ุฃุซูุงุก ุชุดุบูู ุจุฑุงูุฌ JS ุ ูุชู ุฅุทูุงู ุขููุฉ ุชุณูู ุฌุงูุน ุงูููุงูุฉ ุจุดูู ุฏูุฑู. </font><font style="vertical-align: inherit;">ููุชุดู ุฃู ุฃุฌุฒุงุก ูู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ูููู ุงููุตูู ุฅูููุง ูู ุฑูุฒ ุงูุชุทุจูู. </font><font style="vertical-align: inherit;">ุฃู ุงููุชุบูุฑุงุช ุงูุชู ูุชู ุงูุฑุฌูุน ุฅูููุง. </font><font style="vertical-align: inherit;">ุฅุฐุง ุงูุชุดู ุฌุงูุน ุงูููุงูุฉ ุฃู ุฌุฒุกูุง ูู ุงูุฐุงูุฑุฉ ูู ูุนุฏ ูุชู ุงููุตูู ุฅููู ูู ุฑูุฒ ุงูุชุทุจูู ุ ูุฅูู ูุญุฑุฑ ูุฐู ุงูุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ูููู ุชูููุฐ ุงูููุฌ ุฃุนูุงู ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุชูู ุฑุฆูุณูุชูู. </font><font style="vertical-align: inherit;">ุงูุฃูู ูู ูุง ูุณูู ุจุฎูุงุฑุฒููุฉ Mark and Sweep. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงูู ูู JavaScript. </font><font style="vertical-align: inherit;">ูุงูุซุงูู ูู ุงูุนุฏ ุงููุฑุฌุนู. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงูู ูู Python ู PHP.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ee/8ac/c60/3ee8acc608afe85e6a4c6f202cb1e8fe.gif"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูุงูุฉ ุงููุฑุงุญู (ูุถุน ุงูุนูุงูุงุช) ูุงูุงูุชุณุงุญ (ุชูุธูู)</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุฎูุงุฑุฒููุฉ</font><i><font color="#999999"><font style="vertical-align: inherit;"> Mark and Sweep</font></font></i><font style="vertical-align: inherit;"> ุนูุฏ ุชูููุฐ ุฎูุงุฑุฒููุฉ ูุถุน ุงูุนูุงูุงุช ุ ูุชู ุฅูุดุงุก ูุงุฆูุฉ ุจุงูุนูุฏ ุงูุฌุฐุฑูุฉ ุงูุชู ุชูุซููุง ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุนุงูููุฉ (ูุฐุง ูุงุฆู ูู ุงููุชุตูุญ</font></font><code>window</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) ุฃููุงู ุ ุซู ูุชู ุงูุฒุญู ุฅูู ุงูุดุฌุฑุฉ ุงููุงุชุฌุฉ ูู ุงูุฌุฐุฑ ุฅูู ุงูุนูุฏ ุงููุฑููุฉ ุงููููุฒุฉ ุจูู ุงูุชูู ุนูู ุทุฑููุฉ ุงูุฃุดูุงุก. </font><font style="vertical-align: inherit;">ูุชู ุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุนูู ุงููููุฉ ุงูุชู ุชุดุบููุง ูุงุฆูุงุช ุบูุฑ ุงููุตููุฉ.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุฑุจ ุงูุฐุงูุฑุฉ ูู ุชุทุจููุงุช Node.js</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุญุชู ุงูุขู ุ ูููุง ุจุชุญููู ูุง ูููู ูู ุงูููุงููู ุงููุธุฑูุฉ ุงููุชุนููุฉ ุจุชุณุฑูุจุงุช ุงูุฐุงูุฑุฉ ูุฌูุน ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ูุฐูู - ูุญู ุนูู ุงุณุชุนุฏุงุฏ ูููุธุฑ ูู ููู ูุจุฏู ูู ุฐูู ูู ุงูุชุทุจููุงุช ุงูุญููููุฉ. </font><font style="vertical-align: inherit;">ูู ูุฐุง ุงููุณู ุ ุณููุชุจ ุฎุงุฏู Node.js ุจู ุชุณุฑุจ ููุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ุณูุญุงูู ุชุญุฏูุฏ ูุฐุง ุงูุชุณุฑุจ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุฎุชููุฉ ุ ุซู ุณูุฒููู.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">โ ุงูุฅููุงู ุจููุฏ ูุญุชูู ุนูู ุชุณุฑุจ ููุฐุงูุฑุฉ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฃุบุฑุงุถ ุงูุนุฑุถ ุงูุชูุถูุญู ุ ูุชุจุช ุฎุงุฏู Express ูุญุชูู ุนูู ูุณุงุฑ ุชุณุฑุจ ููุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ุณูููู ุจุชุตุญูุญ ูุฐุง ุงูุฎุงุฏู.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>)<font></font>
<font></font>
<span class="hljs-keyword">const</span> app = express();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> leaks = [];<font></font>
<font></font>
app.get(<span class="hljs-string">'/bloatMyServer'</span>, (req, res) =&gt; {
&nbsp;&nbsp;<span class="hljs-keyword">const</span> redundantObj = {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">memory</span>: <span class="hljs-string">"leaked"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">joke</span>: <span class="hljs-string">"meta"</span><font></font>
&nbsp;&nbsp;};<font></font>
<font></font>
&nbsp;&nbsp;[...Array(<span class="hljs-number">10000</span>)].map(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> leaks.push(redundantObj));<font></font>
<font></font>
&nbsp;&nbsp;res.status(<span class="hljs-number">200</span>).send({<span class="hljs-attr">size</span>: leaks.length})<font></font>
});<font></font>
<font></font>
app.listen(port, () =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Example app listening on port <span class="hljs-subst">${port}</span>!`</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุงู ุตููู </font></font><code>leaks</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎุงุฑุฌ ูุทุงู ุฑูุฒ ูุนุงูุฌุฉ ุทูุจ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช. </font><font style="vertical-align: inherit;">ููุชูุฌุฉ ูุฐูู ุ ูู ูู ูุฑุฉ ูุชู ุชูููุฐ ุงูุฑูุฒ ุงููุทุงุจู ุ ุชุชู ุฅุถุงูุฉ ุนูุงุตุฑ ุฌุฏูุฏุฉ ุฅูู ุงูุตููู. </font><font style="vertical-align: inherit;">ูุง ูุชู ูุณุญ ุงูุตููู ุฃุจุฏูุง. </font><font style="vertical-align: inherit;">ูุธุฑูุง ูุฃู ุงูุงุฑุชุจุงุท ุฅูู ูุฐุง ุงูุตููู ูุง ูุฎุชูู ุจุนุฏ ุงูุฎุฑูุฌ ูู ูุนุงูุฌ ุงูุทูุจ ุ ูุง ูููู ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ูุทูููุง ุจุชุญุฑูุฑ ุงูุฐุงูุฑุฉ ุงูุชู ูุณุชุฎุฏููุง.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leakุงุฎุชุฑุงู ุงูุฐุงูุฑุฉ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุง ูุฃุชู ุฅูู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู. ุชูุช ูุชุงุจุฉ ุงูุนุฏูุฏ ูู ุงูููุงูุงุช ุญูู ููููุฉ </font></font><code>node --inspect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุตุญูุญ ุชุณุฑูุจุงุช ุฐุงูุฑุฉ ุงูุฎุงุฏู </font><font style="vertical-align: inherit;">ูุงุณุชุฎุฏุงููุง </font><font style="vertical-align: inherit;">ุจุนุฏ ููุก ุงูุฎุงุฏู ุจุงูุทูุจุงุช ุงูุชู ุชุณุชุฎุฏู ุดูุฆูุง ูุซู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฏูุนูุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ููู ูุฐุง ุงูููุฌ ูู ุนูุจ ูุงุญุฏ ููู. ุชุฎูู ุฃู ูุฏูู ุฎุงุฏู API ูุญุชูู ุนูู ุงูุขูุงู ูู ููุงุท ุงูููุงูุฉ. ูู ูุงุญุฏ ูููู ูุฃุฎุฐ ุงููุซูุฑ ูู ุงููุนููุงุช ุ ูุนุชูุฏ ุงูุฑูุฒ ุงูุฎุงุต ุงูุฐู ุณูุชู ุงุณุชุฏุนุงุคู ุนูู ุงูููุฒุงุช ุงูุชู. ููุชูุฌุฉ ูุฐูู ุ ูู ุงูุธุฑูู ุงูุญููููุฉ ุ ุฅุฐุง ูุงู ุงููุทูุฑ ูุง ูุนุฑู ุฃูู ูููู ุชุณุฑุจ ุงูุฐุงูุฑุฉ ุ ูุณูุชุนูู ุนููู ุงููุตูู ุฅูู ูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช ุนุฏุฉ ูุฑุงุช ุจุงุณุชุฎุฏุงู ุฌููุน ุงููุฌููุนุงุช ุงูููููุฉ ูู ุงููุนููุงุช ูููุก ุงูุฐุงูุฑุฉ. ุจุงููุณุจุฉ ูู ุ ููุณ ูู ุงูุณูู ุงูููุงู ุจุฐูู. ููุน ุฐูู ุ ูุชู ุชุณููู ุญู ูุฐู ุงููุดููุฉ ุจุงุณุชุฎุฏุงู ุดูุก ูุซู</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">goreplay</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ูุธุงู ูุณูุญ ูู ุจุชุณุฌูู ู "ูุนุจ" ุญุฑูุฉ ุงููุฑูุฑ ุงูุญููููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃุฌู ุงูุชุนุงูู ูุน ูุดููุชูุง ุ ุณูููู ุจุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุงูุฅูุชุงุฌ. </font><font style="vertical-align: inherit;">ุฃู ุฃููุง ุณูู ูุณูุญ ูุฎุงุฏููุง ุจุชุฌุงูุฒ ุงูุฐุงูุฑุฉ ุฃุซูุงุก ุงุณุชุฎุฏุงูู ุงููุนูู (ุญูุซ ูุชููู ูุฌููุนุฉ ูุชููุนุฉ ูู ุทูุจุงุช ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช). </font><font style="vertical-align: inherit;">ูุจุนุฏ ุฃู ูุฌุฏูุง ุฒูุงุฏุฉ ูุดุจููุฉ ูู ุญุฌู ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ููุง ุ ุณูููู ุจุงูุชุตุญูุญ.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">โ ูููุฉ ุชูุฑูุบ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูููู ูุงููุฉ ุชูุฑูุบ ุงููููุฉ ุ ูุญุชุงุฌ ุฃููุงู ุฅูู ูุนุฑูุฉ ูุนูู ููููู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ. ุฅุฐุง ููุช ุชุตู ูุฐุง ุงูููููู ุจุจุณุงุทุฉ ูุฏุฑ ุงูุฅููุงู ุ ููุฏ ุงุชุถุญ ุฃู ุงููููุฉ ูู ุงูููุงู ุงูุฐู ููุน ููู ูู ุดูุก ูุชู ุชุฎุตูุต ุงูุฐุงูุฑุฉ ููู. ูู ูุฐุง ุนูู ุงููููุฉ ุญุชู ูุฒูู ุฌุงูุน ุงูููุงูุฉ ููู ูู ูุง ูุนุชุจุฑ ุบูุฑ ุถุฑูุฑู. ุชูุฑูุบ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ููููุงู ูู ููุทุฉ ููุญุงูุฉ ุงูุญุงููุฉ ูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ. ูุญุชูู ุงูุชูุฑูุบ ุนูู ุฌููุน ุงููุชุบูุฑุงุช ูุงููุชุบูุฑุงุช ุงูุฏุงุฎููุฉ ุงูุชู ุฃุนูู ุนููุง ุงููุจุฑูุฌ. ููุซู ูุงูุฉ ุงูุฐุงูุฑุฉ ุงููุฎุตุตุฉ ุนูู ุงููููุฉ ููุช ุชููู ุงูุชูุฑูุบ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุชูุฌุฉ ูุฐูู ุ ุฅุฐุง ุชูููุง ุจุทุฑููุฉ ุฃู ุจุฃุฎุฑู ูู ููุงุฑูุฉ ุชูุฑูุบ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ููุฎุงุฏู ุงูุฐู ุจุฏุฃ ููุชู ูุน ุชูุฑูุบ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ููุฎุงุฏู ุ ูุงูุชู ูุงูุช ุชุนูู ููุชุฑุฉ ุทูููุฉ ูุชููุถ ุงูุฐุงูุฑุฉ ุ ููููููุง ุชุญุฏูุฏ ุงููุงุฆูุงุช ุงููุดุจููุฉ ุงูุชู ูุง ูุญุชุงุฌูุง ุงูุชุทุจูู ุ ูููู ูุง ูุชู ุญุฐููุง ูู ูุจู ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุจู ูุชุงุจุนุฉ ุงููุญุงุฏุซุฉ ุ ุฏุนูุง ูุชุญุฏุซ ุนู ููููุฉ ุฅูุดุงุก ููุงูุจ ูููุฉ. </font><font style="vertical-align: inherit;">ูุญู ูุฐู ุงููุดููุฉ ุ ุณูุณุชุฎุฏู ุญุฒูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm heapdump</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุงูุชู ุชุชูุญ ูู ุงูุญุตูู ุนูู ุชูุฑูุบ ูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ ุจุฑูุฌูุงู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุจุชุซุจูุช ุงูุญุฒูุฉ:</font></font><br>
<br>
<pre><code class="bash hljs">npm i heapdump
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุณูููู ุจุฅุฌุฑุงุก ุจุนุถ ุงูุชุบููุฑุงุช ุนูู ุฑูุฒ ุงูุฎุงุฏู ููุง ูุชูุญ ููุง ุงุณุชุฎุฏุงู ูุฐู ุงูุญุฒูุฉ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> heapdump = <span class="hljs-built_in">require</span>(<span class="hljs-string">"heapdump"</span>);<font></font>
<font></font>
<span class="hljs-keyword">const</span> app = express();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> leaks = [];<font></font>
<font></font>
app.get(<span class="hljs-string">'/bloatMyServer'</span>, (req, res) =&gt; {
&nbsp;&nbsp;<span class="hljs-keyword">const</span> redundantObj = {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">memory</span>: <span class="hljs-string">"leaked"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">joke</span>: <span class="hljs-string">"meta"</span><font></font>
&nbsp;&nbsp;};<font></font>
<font></font>
&nbsp;&nbsp;[...Array(<span class="hljs-number">10000</span>)].map(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> leaks.push(redundantObj));<font></font>
<font></font>
&nbsp;&nbsp;res.status(<span class="hljs-number">200</span>).send({<span class="hljs-attr">size</span>: leaks.length})<font></font>
});<font></font>
<font></font>
app.get(<span class="hljs-string">'/heapdump'</span>, (req, res) =&gt; {<font></font>
&nbsp;&nbsp;heapdump.writeSnapshot(<span class="hljs-string">`heapDump-<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>.heapsnapshot`</span>, (err, filename) =&gt; {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Heap dump of a bloated server written to"</span>, filename);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.status(<span class="hljs-number">200</span>).send({<span class="hljs-attr">msg</span>: <span class="hljs-string">"successfully took a heap dump"</span>})<font></font>
&nbsp;&nbsp;});<font></font>
});<font></font>
<font></font>
app.listen(port, () =&gt; {<font></font>
&nbsp;&nbsp;heapdump.writeSnapshot(<span class="hljs-string">`heapDumpAtServerStart.heapsnapshot`</span>, (err, filename) =&gt; {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Heap dump of a fresh server written to"</span>, filename);<font></font>
&nbsp;&nbsp;});<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงุณุชุฎุฏููุง ููุง ูุฐู ุงูุญุฒูุฉ ูุชูุฑูุบ ุฎุงุฏู ุชู ุฅุทูุงูู ุญุฏูุซูุง. </font><font style="vertical-align: inherit;">ููุฏ ุฃูุดุฃูุง ุฃูุถูุง ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช </font></font><code>/heapdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตููุฉ ูุฅูุดุงุก ูููุฉ ุนูุฏ ุงููุตูู ุฅูููุง. </font><font style="vertical-align: inherit;">ุณููุชูู ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ูุฐู ูู ุงููุญุธุฉ ุงูุชู ูุฏุฑู ูููุง ุฃู ุงูุฎุงุฏู ุจุฏุฃ ูุณุชููู ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅุฐุง ูุงู ุฎุงุฏูู ูุนูู ูู ูุฌููุนุฉ Kubernetes ุ ููู ุชููู ูุงุฏุฑูุง ุ ุฏูู ุจุฐู ุฌูุฏ ุฅุถุงูู ุ ุนูู ุงูุชุญูู ุฅูู ุฐูู ุงูุฌูุงุฒ ุงูุฐู ูุนูู ุฎุงุฏูู ูุงูุฐู ูุณุชููู ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ููููุงู ุจุฐูู ุ ููููู ุงุณุชุฎุฏุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุนุงุฏุฉ ุชูุฌูู ุงููููุฐ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุธุฑูุง ูุฃูู ูู ุชุชููู ูู ุงููุตูู ุฅูู ูุธุงู ุงููููุงุช ุงูุฐู ุชุญุชุงุฌู ูุชูุฒูู ูููุงุช ุงูุชูุฑูุบ ุ ููู ุงูุฃูุถู ุชุญููู ูุฐู ุงููููุงุช ุฅูู ุงูุชุฎุฒูู ุงูุณุญุงุจู ุงูุฎุงุฑุฌู (ูุซู S3).</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">detection ูุดู ุชุณุฑุจ ุงูุฐุงูุฑุฉ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงูุขู ุ ูุชู ูุดุฑ ุงูุฎุงุฏู. ููุฏ ูุงู ูุนูู ูุนุฏุฉ ุฃูุงู. ูุชููู ุงููุซูุฑ ูู ุงูุทูุจุงุช (ูู ุญุงูุชูุง ุ ุงูุทูุจุงุช ูู ููุณ ุงูููุน ููุท) ูุงูุชุจููุง ุฅูู ุฒูุงุฏุฉ ุญุฌู ุงูุฐุงูุฑุฉ ุงูุชู ูุณุชููููุง ุงูุฎุงุฏู. ูููู ุงููุดู ุนู ุชุณุฑุจ ููุฐุงูุฑุฉ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงููุฑุงูุจุฉ ูุซู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Express Status Monitor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clinic</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prometheus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุจุนุฏ ุฐูู ุ ูุณูู API ูุชูุฑูุบ ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ. ุณูุญุชูู ูุฐุง ุงูุชูุฑูุบ ุนูู ุฌููุน ุงููุงุฆูุงุช ุงูุชู ุชุนุฐุฑ ุนูู ุฌุงูุน ุงูุจูุงูุงุช ุงูููููุฉ ุญุฐููุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฅููู ูุง ูุจุฏู ุนููู ุงูุงุณุชุนูุงู ูุฅูุดุงุก ุชูุฑูุบ:</font></font><br>
<br>
<pre><code class="bash hljs">curl --location --request GET <span class="hljs-string">'http://localhost:3000/heapdump'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูุฏูุง ูุชู ุฅูุดุงุก ููู ุชูุฑูุบ ูููุฉ ุ ูุถุทุฑ ุฌุงูุน ุงูููุงูุฉ ููุชุดุบูู. ููุชูุฌุฉ ูุฐูู ุ ูุง ุฏุงุนู ููููู ุจุดุฃู ุชูู ุงููุงุฆูุงุช ุงูุชู ูุฏ ูููู ุฌุงูุน ุงูููุงูุฉ ุจุฅุฒุงูุชูุง ูู ุงููุณุชูุจู ุ ูููููุง ูุง ุชุฒุงู ูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุคูุชุฉ. ูุฐุง ูู - ุญูู ุงููุงุฆูุงุช ุนูุฏ ุงูุนูู ูุน ุนุฏู ุญุฏูุซ ุชุณุฑุจ ููุฐุงูุฑุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุฃู ูููู ูุฏููุง ูู ูู ุงูููุงูุจ ุชุญุช ุชุตุฑููุง (ุชูุฑูุบ ุฎุงุฏู ุชู ุฅุทูุงูู ุญุฏูุซูุง ูุชูุฑูุบ ุฎุงุฏู ูุนูู ูุจุนุถ ุงูููุช) ุ ูููููุง ุงูุจุฏุก ูู ููุงุฑูุชููุง. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุนุฏ ุงูุญุตูู ุนูู ุชูุฑูุบ ุฐุงูุฑุฉ ุนูููุฉ ุญุธุฑ ุชุณุชุบุฑู ุงููุซูุฑ ูู ุงูุฐุงูุฑุฉ ูุฅููุงููุง. ูุฐูู ุ ูุฌุจ ุฃู ูุชู ุจุญุฐุฑ. ููููู ูุฑุงุกุฉ ุงููุฒูุฏ ุญูู ุงููุดุงูู ุงููุญุชููุฉ ุงูุชู ุชูุช ููุงุฌูุชูุง ุฎูุงู ูุฐู ุงูุนูููุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุจุชุดุบูู Chrome ูุงุถุบุท ุนูู ุงูููุชุงุญ.</font></font><code>F12</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุณูุคุฏู ุฐูู ุฅูู ุงูุชุดุงู ุฃุฏูุงุช ุงููุทูุฑูู. </font><font style="vertical-align: inherit;">ููุง ุชุญุชุงุฌ ุฅูู ุงูุงูุชูุงู ุฅูู ุนูุงูุฉ ุงูุชุจููุจ </font></font><code>Memory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุญููู ูู ูู ููุทุงุช ุงูุฐุงูุฑุฉ.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5c1/252/992/5c125299224be08bb5bb73f74842f0b8.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญููู ุงูุฐุงูุฑุฉ ููุงูุจ ุนูู ุนูุงูุฉ ุงูุชุจููุจ ุงูุฐุงูุฑุฉ ูู ุฃุฏูุงุช ุงููุทูุฑูู ูุฑูู</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุจุนุฏ ุชุญููู ูู ูู ููุทุงุชุ ุชุญุชุงุฌ ุฅูู ุชุบููุฑ</font></font><code>perspective</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู</font></font><code>Comparison</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงููุฑ ุนูู ููุทุฉ ูู ุฐุงูุฑุฉ ุงูุฎุงุฏู ุงูุฐู ูุนูู ูุจุนุถ ุงูููุช.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a99/7c7/224/a997c7224ac3d053651be9e848380e75.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุจุฏุฃ ูู ููุงุฑูุฉ ุงูููุทุงุช</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ููุง ูููููุง ุชุญููู ุงูุนููุฏ</font></font><code>Constructor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงูุจุญุซ ุนู ุงููุงุฆูุงุช ุงูุชู ูุง ูุณุชุทูุน ุฌุงูุน ุงูููุงูุฉ ุฅุฒุงูุชูุง. </font><font style="vertical-align: inherit;">ุณูุชู ุชูุซูู ูุนุธู ูุฐู ุงููุงุฆูุงุช ุจุฑูุงุจุท ุฏุงุฎููุฉ ุชุณุชุฎุฏููุง ุงูุนูุฏ. </font><font style="vertical-align: inherit;">ููุง ูู ุงููููุฏ ุงุณุชุฎุฏุงู ุฎุฏุนุฉ ูุงุญุฏุฉ ุ ูุงูุชู ุชุชููู ูู ูุฑุฒ ุงููุงุฆูุฉ ุญุณุจ ุงูุญูู</font></font><code>Alloc. Size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุณูุคุฏู ูุฐุง ุฅูู ุงูุนุซูุฑ ุจุณุฑุนุฉ ุนูู ุงููุงุฆูุงุช ุงูุชู ุชุณุชุฎุฏู ุฃูุจุฑ ูุฏุฑ ูู ุงูุฐุงูุฑุฉ. </font><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุจุชูุณูุน ุงููุชูุฉ</font></font><code>(array)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุซู -</font></font><code>(object elements)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ููููู ุฑุคูุฉ ุตููู</font></font><code>leaks</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงููุงุฆูุงุช ุงูุชู ูุง ูููู ุญุฐููุง ุจุงุณุชุฎุฏุงู ุฌุงูุน ุงูููุงูุฉ.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e85/02c/0a2/e8502c0a2dcd1cf635f229eaef8d9e90.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญููู ูุตูููุฉ ูุดุจููุฉ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ุชุณูุญ ููุง ูุฐู ุงูุชูููุฉ ุจุงูุฐูุงุจ ุฅูู ุงูุตููู</font></font><code>leaks</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุฃู ุงูุนูููุฉ ุบูุฑ ุงูุตุญูุญุฉ ูุนู ูู ุงูุชู ุชุณุจุจ ุชุณุฑุจ ููุฐุงูุฑุฉ.</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">โุฅุตูุงุญ ุชุณุฑุจ ููุฐุงูุฑุฉ</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุจุนุฏ ุฃู ุนูููุง ุฃู "ุงูุฌุงูู" ูู ูุตูููุฉ </font></font><code>leaks</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูููููุง ุชุญููู ุงูุดูุฑุฉ ููุนุฑูุฉ ุฃู ุงููุดููุฉ ูู ุฃูู ุชู ุงูุชุตุฑูุญ ุนู ุงููุตูููุฉ ุฎุงุฑุฌ ูุนุงูุฌ ุงูุทูุจุงุช. </font><font style="vertical-align: inherit;">ููุชูุฌุฉ ูุฐูู ุ ุงุชุถุญ ุฃู ุงูุฑุงุจุท ุฅููู ูุง ูุชู ุญุฐูู ุฃุจุฏูุง. </font><font style="vertical-align: inherit;">ูุฅุตูุงุญ ูุฐู ุงููุดููุฉ ุฃูุฑ ุจุณูุท ููุบุงูุฉ - ููุท ูู ุจููู ุฅุนูุงู ุงูุตููู ุฅูู ุงููุนุงูุฌ:</font></font><br>
<br>
<pre><code class="javascript hljs">app.get(<span class="hljs-string">'/bloatMyServer'</span>, (req, res) =&gt; {
&nbsp;&nbsp;<span class="hljs-keyword">const</span> redundantObj = {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">memory</span>: <span class="hljs-string">"leaked"</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">joke</span>: <span class="hljs-string">"meta"</span><font></font>
&nbsp;&nbsp;};<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-keyword">const</span> leaks = [];<font></font>
<font></font>
&nbsp;&nbsp;[...Array(<span class="hljs-number">10000</span>)].map(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> leaks.push(redundantObj));<font></font>
<font></font>
&nbsp;&nbsp;res.status(<span class="hljs-number">200</span>).send({<span class="hljs-attr">size</span>: leaks.length})<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃุฌู ุงูุชุญูู ูู ูุนุงููุฉ ุงูุชุฏุงุจูุฑ ุงููุชุฎุฐุฉ ุ ูููู ุชูุฑุงุฑ ุงูุฎุทูุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ูููุงุฑูุฉ ุตูุฑ ุงููููุฉ ูุฑุฉ ุฃุฎุฑู.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฎุต</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุญุฏุซ ุชุณุฑุจ ููุฐุงูุฑุฉ ุจูุบุงุช ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ุนูู ูุฌู ุงูุฎุตูุต ุ ูู - ุชูู ุงูุชู ุชุณุชุฎุฏู ุขููุงุช ุฌูุน ุงูููุงูุฉ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูู JavaScript. </font><font style="vertical-align: inherit;">ุนุงุฏุฉู ูุง ูููู ูู ุงูุตุนุจ ุฅุตูุงุญ ุงูุชุณุฑุจ - ูุง ุชูุดุฃ ุงูุตุนูุจุงุช ุงูุญููููุฉ ุฅูุง ุนูุฏ ุงูุจุญุซ ุนูู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐู ุงูููุงูุฉ ุ ุชุนุฑูุช ุนูู ุฃุณุงุณูุงุช ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุ ูููููุฉ ุชูุธูู ุฅุฏุงุฑุฉ ุงูุฐุงูุฑุฉ ุจูุบุงุช ูุฎุชููุฉ. </font><font style="vertical-align: inherit;">ููุง ูููุง ุจุฅุนุงุฏุฉ ุฅูุชุงุฌ ุณููุงุฑูู ุญูููู ูุชุณุฑุจ ุงูุฐุงูุฑุฉ ููุตููุง ุทุฑููุฉ ูุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุฑุงุก ุงูุฃุนุฒุงุก! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุงุฌูุช ุชุณุฑุจ ููุฐุงูุฑุฉ ูู ูุดุงุฑูุน ุงูููุจ ุงูุฎุงุตุฉ ุจูุ</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar495888/index.html">ูุชุญุช PyCon Russia CFP ูููุชุญุฏุซูู ูู ุงููุณุชูุจู. ููุงุฐุฌ ุงููุดุงุฑูุฉ ูุงูููุงุถูุน ุงููุชููุนุฉ</a></li>
<li><a href="../ar495890/index.html">ุชูููู ุญุฒูุฉ Nginx / LetsEncrypt ูู Docker Swarm</a></li>
<li><a href="../ar495892/index.html">ูู ุชุนุฑู ุญูุง ูุง ูู ุงููุตูููุงุชุ</a></li>
<li><a href="../ar495894/index.html">ููุงุณ ุฃุฏุงุก ุฌุงูุง ุณูุฑูุจุช</a></li>
<li><a href="../ar495896/index.html">ุญุฒูุฉ ุงุณุชุฎุฏุงู ุงูุตูุช: ุงููุคุซุฑุงุช ุงูุตูุชูุฉ ูู ุชุทุจููุงุช ุงูุชูุงุนู</a></li>
<li><a href="../ar495902/index.html">CAPTCHA: ูุชู ุงูุชุญููู</a></li>
<li><a href="../ar495904/index.html">ูู ูููู ุชููุน ูุจุงุกุ</a></li>
<li><a href="../ar495908/index.html">ุงูุทุฑูู ุฅูู ุงูููุงูุฃุฉ</a></li>
<li><a href="../ar495910/index.html">ุชุซุจูุช ROS ูู ุตูุฑุฉ Ubuntu Single-Board IMG</a></li>
<li><a href="../ar495912/index.html">ููุตูุงุช ุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุฐููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>