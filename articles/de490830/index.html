<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♒️ 🤽🏼 😣 Kennwortverwaltung in der Open-Source-Edition der Zimbra Collaboration Suite 👨‍👩‍👦‍👦 ⛽️ 😒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Passwortverwaltung war schon immer eines der wichtigsten Probleme im Zusammenhang mit dem sicheren Betrieb von Informationssystemen. Die Möglichke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kennwortverwaltung in der Open-Source-Edition der Zimbra Collaboration Suite</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/490830/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Passwortverwaltung war schon immer eines der wichtigsten Probleme im Zusammenhang mit dem sicheren Betrieb von Informationssystemen. Die Möglichkeit, Kennwörter für mehrere Konten sicher zu speichern und schnell zu ändern, die Möglichkeit für Benutzer, ein vergessenes Kennwort sicher zurückzusetzen, und die Möglichkeit, ein Administratorkennwort sicher zurückzusetzen - all diese Funktionen sind nicht weniger wichtig als die zuvor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erwähnte Kennwortsicherheitsrichtlinie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . In diesem Artikel werden wir uns ansehen, wie diese Funktionen in Zimbra OSE implementiert sind.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/xi/ie/opxiieyaijocgswpkt2td6f4-u0.png"><a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ändern des Benutzer- und des globalen Administratorkennworts</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Das </font><b><font style="vertical-align: inherit;">globale Administratorkennwort</font></b><font style="vertical-align: inherit;"> wird während der Installation von Zimbra OSE festgelegt und kann anschließend in den Webclient-Einstellungen geändert werden. Das Benutzerkennwort wird beim Erstellen des Kontos zunächst festgelegt. Der Administrator kann jedoch die erzwungene Kennwortänderung aktivieren, wenn sich der Benutzer zum ersten Mal beim Webclient anmeldet, damit der Benutzer nicht vergisst, sein eigenes Kennwort festzulegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Falls der Benutzer sein Passwort vergisst, bietet Zimbra OSE eine Passwortwiederherstellungsfunktion. Wenn diese Funktion vom Administrator aktiviert wird, kann der Benutzer ein Sicherungspostfach angeben, in das ein temporärer Bestätigungscode eingeht. Mit diesem einmaligen Code kann ein Benutzer auf den Zimbra OSE-Webclient zugreifen und sein Kennwort ändern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Administrator jedoch plötzlich das Kennwort für sein Konto vergessen hat und sich aus diesem Grund nicht beim Webclient anmelden kann, um das Kennwort zu ändern, kann er das Attribut&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setPassword</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder einfach&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der Befehlszeile verwenden. Mit dem Befehl&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmprov sp admin@company.ru qwerty</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;können Sie beispielsweise das Administratorkennwort in qwerty ändern, ohne sich beim Zimbra OSE-Webclient anzumelden. Mit demselben Befehl können Sie das Kennwort eines anderen Benutzers ändern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie auch, dass der Administrator nicht die Option hat, das Kennwort des Benutzers anzuzeigen. Diese Einschränkung ist darauf zurückzuführen, dass Zimbra OSE im Prinzip keine Benutzerkennwörter im Klartext speichert. Stattdessen speichert Zimbra OSE nur gesalzene Kennwort-Hashes und vergleicht beim Anmelden den Hash des vom Benutzer eingegebenen Kennworts mit dem auf dem LDAP-Server gespeicherten. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kennwortänderung während der Authentifizierung über AD</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn AD zur Authentifizierung von Benutzern verwendet wird, werden Kennwörter auch nicht auf dem Server gespeichert. Stattdessen übergibt Zimbra OSE AD einfach die Benutzereingabe und erhält eine Antwort darüber, ob dieses Konto authentifiziert ist oder nicht. Da alle Kontoinformationen auf einem anderen Server gespeichert sind, wird bei Verwendung von externem AD normalerweise empfohlen, die Funktion zum Ändern des Kennworts im Zimbra OSE-Webclient zu deaktivieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch eine Möglichkeit, die Benutzerauthentifizierung über AD mit der Möglichkeit zu kombinieren, das Kennwort für Benutzer unabhängig zu ändern. </font><font style="vertical-align: inherit;">Dies kann durch eine Erweiterung namens&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory Change Password erfolgen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Es ändert die Funktionalität der Schaltfläche zum Ändern des Kennworts im Zimbra OSE-Webclient, sodass sich das Kennwort in AD ändert.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erweiterung ist recht einfach zu installieren und funktioniert wie folgt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Benutzer klickt auf die Schaltfläche zum Ändern des Passworts</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passwort eingeben</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweiterung definiert Benutzer-DN</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sucht nach einem externen AD-Server</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ändert das Kontokennwort über eine sichere Verbindung</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erweiterung wird mit den folgenden Befehlen in der Befehlszeile installiert:</font></font><br>
&nbsp;<blockquote>&nbsp;mkdir -p /opt/zimbra/lib/ext/adpassword<br>
&nbsp; wget&nbsp;https://github.com/Zimbra-Community/ADPassword/raw/master/out/artifacts/ADPassword_jar/ADPassword.jar&nbsp;-O /opt/zimbra/lib/ext/adpassword/adPassword.jar<br>
&nbsp; su zimbra<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapBindDn "%u@company.ru"<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchBase «CN=Users,DC=DOMAIN,DC=EXT»<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchBindDn «CN=serviceAccount,CN=Users,DC=DOMAIN,DC=EXT»<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchBindPassword "*********"<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchFilter "(samaccountname=%u)"<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapURL «ldaps://ad.company.ru:636»<br>
&nbsp; zmprov md domain.ext zimbraExternalGroupLdapSearchBase «CN=Users,DC=DOMAIN,DC=EXT»<br>
&nbsp; zmprov md domain.ext zimbraExternalGroupLdapSearchFilter "(samaccountname=%u)"<br>
&nbsp; zmprov md domain.ext zimbraAuthMech «ad»<br>
&nbsp; zmprov md domain.ext zimbraAuthMechAdmin «ad»<br>
&nbsp; zmprov md domain.ext zimbraPasswordChangeListener ADPassword<br>
&nbsp; zmprov gd domain.ext | grep -i ldap | grep -v Gal<br>
&nbsp; zmprov gd domain.ext | grep -i zimbraPasswordChangeListener<br>
&nbsp; zmprov md domain.ext zimbraAuthFallbackToLocal FALSE<br>
&nbsp; zmcontrol restart</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Ihre Zimbra OSE- und Active Directory-Server unterschiedliche SSL-Zertifikate verwenden, sollten Sie das AD-Zertifikat außerdem der vertrauenswürdigen Liste auf dem Zimbra OSE-Server hinzufügen. Wenn beide Informationssysteme dasselbe Zertifikat verwenden, können Sie diesen Schritt überspringen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach der Installation dieser Erweiterung können Ihre Benutzer ihr Kennwort direkt im Zimbra OSE-Webclient ändern, auch wenn Sie die Authentifizierung mit AD verwenden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Massenpasswort zurücksetzen</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist durchaus akzeptabel, dass Sie Kennwörter für eine große Anzahl von Zimbra OSE-Benutzern schnell zurücksetzen müssen. Für den Fall, dass die Anzahl der Benutzer groß genug ist, nimmt das manuelle Zurücksetzen von Kennwörtern viel Zeit in Anspruch, was in einer kritischen Situation einfach nicht akzeptabel sein kann. Ein Skript kann zur Optimierung dieser Aufgabe beitragen, mit der die Kennwörter von Benutzern einer separaten Domäne und eines gesamten Mailservers automatisch zurückgesetzt werden können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setzen Sie beispielsweise die Kennwörter aller Benutzer der Domäne company.ru zurück. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melden Sie sich dazu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beim Server an und führen Sie den Befehl&nbsp; </font><b><font style="vertical-align: inherit;">zmprov -l gaa company.ru&gt; /tmp/domainusers.txt aus</font></b><font style="vertical-align: inherit;"> . Als Ergebnis der Ausführung dieses Befehls wird die Textdatei </font><b><font style="vertical-align: inherit;">domainusers.txt</font></b><font style="vertical-align: inherit;"> erstellt</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in dem alle Benutzer der von uns angegebenen Domain aufgelistet werden. </font><font style="vertical-align: inherit;">Wenn Sie in diesem Befehl keine Domäne angeben, werden alle Konten auf diesem Server in die Textdatei geschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danach können Sie alle Systemkonten wie Galsync oder Spam sowie die Benutzer, deren Kennwort nicht zurückgesetzt wird, aus der empfangenen Textdatei entfernen. </font><font style="vertical-align: inherit;">Wenn die Datei fertig ist, können Sie das folgende Skript ausführen:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für i in `cat / tmp / domainusers.txt`; </font><font style="vertical-align: inherit;">do newpass = "Z1mBr @` openssl rand -base64 12`0a "&amp;&amp; / opt / zimbra / bin / zmprov sp $ i $ newpass &amp;&amp; echo $ i $ newpass &gt;&gt; newlogin.txt &amp;&amp; echo $ i &amp;&amp; sleep 5s; </font><font style="vertical-align: inherit;">erledigt</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis dieses Skripts ist eine </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">newlogin.txt-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datei </font><font style="vertical-align: inherit;">mit neuen </font><b><font style="vertical-align: inherit;">Kontokennwörtern</font></b><font style="vertical-align: inherit;"> . Wir empfehlen, dass Sie es so schnell wie möglich an einem sicheren Ort speichern und diese Datei vom Server löschen. Danach können Sie den Benutzern ihre neuen Passwörter mitteilen, damit sie weiterhin in Zimbra OSE arbeiten können. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Separates Passwort für mobile Geräte</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine weitere interessante Funktion, die nach der Installation der Zextras Suite mit Erweiterungen für Zimbra OSE verfügbar wird, ist ein separates Kennwort für die Eingabe der Mailbox von einem mobilen Gerät aus. Mit anderen Worten, mit dem Konto auf dem mobilen Gerät wird ein zusätzliches Kennwort für das Konto erstellt, mit dem es sein Gerät mit dem Postfach synchronisieren kann, sich jedoch nicht beim Zimbra OSE-Webclient anmelden kann. Diese Funktion kann die Sicherheit bei der Verwendung von E-Mails außerhalb des Büros erheblich erhöhen, da das mobile Gerät kompromittiert oder sogar gestohlen werden kann. Die Funktion für das mobile Kennwort verhindert, dass das Kennwort für das echte Konto in die Hände von Angreifern gelangt.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FLGYFkXLMZU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Erstellen eines Passworts für mobile Geräte ist ganz einfach. </font><font style="vertical-align: inherit;">Dies kann sowohl in der Administrationskonsole mit dem Zextras-Plugin als auch in der Befehlszeile erfolgen. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beispielsweise den Befehl&nbsp; </font><b><font style="vertical-align: inherit;">zxsuite mobile setAccountMobilePassword manager@company.ru Z1mBr @ verwenden,</font></b><font style="vertical-align: inherit;"> geben Sie dem Benutzer manager@company.ru das Kennwort Z1mBr @. </font><font style="vertical-align: inherit;">Mit dem Befehl&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zxsuite mobile getAccountMobilePassword manager@company.ru</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> können Sie das mobile Passwort des Benutzers manager@company.ru anzeigen und mit dem Befehl </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zxsuite mobile unsetAccountMobilePassword manager@company.ru können</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie das mobile Passwort vollständig vom angegebenen Benutzer entfernen.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei allen Fragen zur Zextras Suite können Sie sich per E-Mail an katerina@zextras.com an den Vertreter der Zextras-Firma Ekaterina Triandafilidi wenden</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490812/index.html">Spring Professional Certification 5 Einreichungserfahrung</a></li>
<li><a href="../de490816/index.html">Wie widerstehen E-Commerce-Websites den AuthBots-Botnetzen?</a></li>
<li><a href="../de490820/index.html">Alles Habr in einer Basis</a></li>
<li><a href="../de490826/index.html">Die Quelle der Produktionseffizienz</a></li>
<li><a href="../de490828/index.html">Roguelike in Unity von Grund auf neu erstellen</a></li>
<li><a href="../de490832/index.html">Schuhmarkierung: Als wir 2 Millionen Markierungscodes „1C“ + „Ehrliches Zeichen“ in Umlauf brachten</a></li>
<li><a href="../de490836/index.html">Wie man Kommentare öffnet und nicht in Spam ertrinkt</a></li>
<li><a href="../de490838/index.html">WiFi 6 ist da: Was der Markt bietet und warum brauchen wir diese Technologie</a></li>
<li><a href="../de490840/index.html">Ressourcenplanung. Teil 4.1. Bevor Sie einen Ressourcenplan erstellen</a></li>
<li><a href="../de490842/index.html">GPT-2 in Bildern (Visualisierung von Transformer-Sprachmodellen)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>