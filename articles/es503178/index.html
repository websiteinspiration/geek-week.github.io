<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≥ üòï üë©üèº‚Äçü§ù‚Äçüë©üèª Apple Mac y dispositivos sofisticados. LTO, SAS, Fibre Channel, eSATA üêë üèì üéê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El tema de este art√≠culo es conectar dispositivos externos a la Mac a trav√©s de interfaces SAS, Fibre Channel (FC) eSATA. Inmediatamente haga una rese...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Apple Mac y dispositivos sofisticados. LTO, SAS, Fibre Channel, eSATA</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503178/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El tema de este art√≠culo es conectar dispositivos externos a la Mac a trav√©s de interfaces SAS, Fibre Channel (FC) eSATA. Inmediatamente haga una reserva de que para resolver el problema de acceso a dichos dispositivos, hay una forma saludable: ensamblar una PC barata, pegar all√≠ una tarjeta controladora HBA SAS o FC (por ejemplo, el adaptador LSI m√°s simple), conectar sus dispositivos a este controlador, instalar cualquier Linux en la PC y trabajar desde Mac a trav√©s de la red. Pero es banal y poco interesante. Seguiremos el camino del hardcore y conectaremos nuestros dispositivos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directamente</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a la Mac.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo que necesitaremos para esto: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- una cantidad decente de dinero para comprar nuevos equipos, o buena suerte en subastas en eBay (donde, con un poco de esfuerzo, puede comprar el equipo requerido de generaciones anteriores 10 veces m√°s barato que la lista de precios); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Este art√≠culo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para trabajar con cinta magn√©tica (actualmente representada casi universalmente por el formato LTO), debe tener una unidad de cinta (unidad de cinta) o una biblioteca de cintas del est√°ndar LTO. Este es un dispositivo bastante caro para la compra inicial (de cientos de miles de rublos), pero vale la pena el dinero razonable al comprar uno usado. Dado que las generaciones LTO cambian aproximadamente cada dos a√±os, y la compatibilidad se limita a dos generaciones, el mercado secundario est√° suficientemente saturado con dispositivos operables de cuatro a√±os o m√°s, es decir. el a√±o anterior al pasado y m√°s all√°. Si compra un nuevo dispositivo con fines comerciales, usted mismo comprende por qu√© lo necesita. Si desea comprar para el hogar y la familia, puede considerar esta opci√≥n como una forma de archivar informaci√≥n (ya que los medios en s√≠ son muy baratos por 1 gigabyte).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenzando con la generaci√≥n LTO-5 (y en parte LTO-4), los dispositivos de cinta magn√©tica se conectan a la computadora a trav√©s de la interfaz SAS o FC (generalmente hay dos versiones de cada dispositivo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por otro lado, Apple nos brinda amablemente en nuestra Mac Interfaz USB-C (que funciona a trav√©s de protocolos USB, Thunderbolt 3 o DisplayPort), a veces una interfaz Ethernet, as√≠ como adaptadores patentados Thunderbolt 3 - Thunderbolt 2 y Thunderbolt - FireWire 800. ¬øUna </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
situaci√≥n desesperada? Realmente no. Afortunadamente, el bus Thunderbolt puede operar en modo PCIe y proporcionar la capacidad de conectar tarjetas PCIe de la misma manera que si estuvieran instaladas directamente dentro de la caja de la computadora. Debido a esto, cualquier extensi√≥n a la configuraci√≥n de hardware de Mac es posible, habr√≠a un adaptador y controladores apropiados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La forma conceptualmente m√°s simple de resolver el problema es utilizar una caja externa para adaptadores PCIe con interfaz Thunderbolt (sistema de expansi√≥n de tarjeta PCIe), en la que puede instalar un controlador (adaptador de bus host, HBA) SAS o FC. Por ejemplo, tales cajas son producidas por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonnet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y varios otros. Hay un matiz: no todos los controladores son adecuados para nosotros, pero solo tenemos un controlador para macOS. Solo hay unas pocas de estas tarjetas, y las m√°s baratas y populares (por ejemplo, la misma LSI) no est√°n incluidas en su n√∫mero. Afortunadamente, Sonnet tuvo el problema de compilar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tabla de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">compatibilidad de</font></a><font style="vertical-align: inherit;"> tarjetas PCIe para varios sistemas operativos a trav√©s de la interfaz Thunderbolt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra soluci√≥n es comprar un convertidor listo para el convertidor de interfaz Thunderbolt-SAS o Thunderbolt-FC, que, en esencia, es un ensamblaje listo para usar de la caja y el controlador. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATTO es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mejor conocido en esta √°rea </font><font style="vertical-align: inherit;">, pero tambi√©n se encuentran productos de otras compa√±√≠as. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que no todos los controladores SAS y FC est√°n certificados para cumplir con el est√°ndar LTO, ya que esto solo cuesta dinero. Algunos fabricantes escriben directamente que no se proporciona el funcionamiento de sus controladores con unidades de cinta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para completar la imagen, notamos que la compa√±√≠a mLogic produce un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dispositivo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que es una unidad IBM LTO-8 en una carcasa externa, en la que el convertidor SAS a Thunderbolt 3 se integra de inmediato. Sin embargo, esto es a√∫n m√°s ex√≥tico que todo lo anterior, especialmente seg√∫n los est√°ndares de nuestra √°rea. Dudo que este dispositivo se pueda importar legalmente a Rusia (las unidades LTO contienen herramientas criptogr√°ficas, y los fabricantes como IBM y HP, por este motivo, reciben el permiso de importaci√≥n FSB para cada modelo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, consideraremos, por ejemplo, un conjunto espec√≠fico de equipos, cuyo propietario se convirti√≥ en el autor como resultado de varias adquisiciones exitosas, pero el principio general debe mantenerse para todas las opciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces tenemos el siguiente equipo para trabajar con cinta:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Computadora Apple Mac mini 2018 con macOS 10.15 Catalina, que tiene puertos USB-C con soporte para Thunderbolt 3; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Adaptador Apple Thunderbolt 3 / Thunderbolt 2; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cable Apple Thunderbolt 2; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Convertidor de interfaz ATTO ThunderLink SH 1068 (2 * Thunderbolt / 2 * SAS-2); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cable SAS SFF-8088 - SFF-8088; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- unidad de cinta LTO-5 IBM TS2350; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Cartuchos LTO-5, cartucho de limpieza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora, como dicen, con toda esta basura intentaremos despegar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descargue la √∫ltima versi√≥n del controlador ThunderLink SH 1068 del sitio web de ATTO (aparentemente, para nuestra comodidad, se combina con el controlador SH 2068 y se encuentra en la secci√≥n 2068, que est√° escrita solo dentro del archivo del controlador) y la utilidad de configuraci√≥n ATTO.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7b8/7a2/a61/7b87a2a613e003ad3929a7fe456145f4.gif" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El controlador, por supuesto, necesita ser instalado. </font><font style="vertical-align: inherit;">Antes de tales acciones, el autor aconseja siempre hacer una instant√°nea del sistema de archivos APFS del disco de arranque con el comando</font></font><br>
<br>
<pre><code class="bash hljs">tmutil localsnapshot</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
o una copia de seguridad del disco de arranque, si hay HFS +. </font><font style="vertical-align: inherit;">Nunca se sabe qu√©. </font><font style="vertical-align: inherit;">Entonces ser√° f√°cil retroceder desde una instant√°nea. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, sin experiencia, pero mostrando la debida diligencia, la mente, sin duda, se inclinar√° a leer cuidadosamente las instrucciones ATTO para instalar el controlador y ejecutarlo. </font><font style="vertical-align: inherit;">El resultado es tadam! </font><font style="vertical-align: inherit;">- Obtenemos el sistema operativo colgando en la etapa de arranque. </font><font style="vertical-align: inherit;">Aqu√≠ podemos usar una instant√°nea de la que puede recuperarse llamando a Time Machine desde la partici√≥n de recuperaci√≥n, o puede borrar manualmente un kext enfermo del cat√°logo de extensiones del kernel desde la misma partici√≥n de recuperaci√≥n (el autor generalmente no recomienda hacer esto).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPor qu√© sucede? </font><font style="vertical-align: inherit;">Porque Apple nos cuid√≥. </font><font style="vertical-align: inherit;">En versiones recientes de macOS, no es f√°cil tomar e incrustar c√≥digo extra√±o en el proceso de arranque. </font><font style="vertical-align: inherit;">Los buenos programadores de Apple han bloqueado ese comportamiento destructivo. </font><font style="vertical-align: inherit;">M√°s precisamente, lo bloquearon a la mitad cuando se introduce la espera del conductor, pero el controlador en s√≠ no, por lo que todo se cuelga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© debe hacer una mente sofisticada antes de instalar un controlador? </font><font style="vertical-align: inherit;">Primero, da el comando:</font></font><br>
<br>
<pre><code class="bash hljs">csrutil status</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si en respuesta a eso obtenemos:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estado de protecci√≥n de integridad del sistema: habilitado.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto significa que los buenos programadores de Apple nos cuidan, por lo que nada saldr√° de nosotros hasta que apaguemos su maravillosa protecci√≥n. </font><font style="vertical-align: inherit;">Para hacer esto, reiniciamos en la partici√≥n de recuperaci√≥n (‚åòR), llamamos a la terminal y damos el comando:</font></font><br>
<br>
<pre><code class="bash hljs">csrutil <span class="hljs-built_in">disable</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, reiniciamos en el sistema de trabajo, y luego instalamos el controlador, y al mismo tiempo la utilidad de configuraci√≥n ATTO (en principio, la utilidad de configuraci√≥n es necesaria solo para diagn√≥sticos y no es necesaria durante la operaci√≥n normal). En el proceso, cuando se nos solicita, confirmamos la autorizaci√≥n ATTO en la configuraci√≥n del sistema. Despu√©s de la instalaci√≥n, puede reiniciar nuevamente en la partici√≥n de recuperaci√≥n y dar el comando</font></font><br>
<br>
<pre><code class="bash hljs">csrutil <span class="hljs-built_in">enable</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apple nos cuida de nuevo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora tenemos una interfaz compatible con el controlador para dispositivos SAS externos (o FC, si se utiliz√≥ el convertidor FC). ¬øPero c√≥mo trabajar con la cinta a un nivel l√≥gico? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como es sabido por una mente inexperta pero erudita, cualquier sistema compatible con Unix admite unidades de cinta en el nivel del n√∫cleo y las principales utilidades del sistema, que incluyen principalmente mt (gesti√≥n de cintas) y tar (un archivador con soporte para trabajar con archivos de cinta) . Sin embargo, ¬øqu√© especificar√° la mente sofisticada? Cualquier sistema compatible con Unix, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">excepto macOS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Apple se preocup√≥ por nosotros al eliminar el soporte para dispositivos de cinta de su c√≥digo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, ¬øes realmente imposible devolver este c√≥digo al portar las utilidades de c√≥digo abierto est√°ndar de c√≥digo abierto a macOS? La buena noticia es que Tolis ya ha hecho esto (un enlace que no proporciono) en su producto Tolis Tape Tools. La mala noticia es que dicha compa√±√≠a estima el uso de los resultados de su trabajo en 399 d√≥lares estadounidenses. Las estimaciones de este hecho pueden ser diferentes, pero el autor personalmente no est√° preparado para pagarle a alguien 400 d√≥lares por un c√≥digo, en su mayor parte escrito por personas completamente diferentes y utilizado abiertamente desde la d√©cada de 1970, y por lo tanto este problema es para el autor considera cerrado. (Por cierto, hay un proyecto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IOSCSITape</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuito </font><font style="vertical-align: inherit;">sobre el mismo tema </font><font style="vertical-align: inherit;">en el github en un estado vago </font><font style="vertical-align: inherit;">).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, hay una corporaci√≥n IBM en el mundo cuyos apetitos comerciales son de una escala completamente diferente y, por lo tanto, no aparecen en cada peque√±a cosa. En particular, desarroll√≥ el sistema de archivos de cinta LTFS de c√≥digo abierto, que tambi√©n se distribuye para macOS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un matiz en que diferentes fabricantes de dispositivos de cinta lanzan sus propias versiones de LTFS que admiten sus dispositivos. Como el autor usa la unidad de cinta IBM, tambi√©n instal√≥ LTFS. Las unidades de terceros pueden necesitar sus propios puertos LTFS. Y hay una implementaci√≥n universal de openLTFS en github y homebrew.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es importante para nosotros que LTFS use la funci√≥n de partici√≥n de medios y, por lo tanto, pueda funcionar con dispositivos y cartuchos, comenzando con la generaci√≥n LTO-5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, en nuestro caso, descargamos el producto IBM Spectrum Archive Single Drive Edition para macOS desde el sitio web de IBM, que solo incluye la implementaci√≥n de LTFS. </font><font style="vertical-align: inherit;">Sin aventuras, instalamos el producto con nuestro propio instalador. </font><font style="vertical-align: inherit;">En el proceso, tambi√©n instala el paquete FUSE, mientras que en la configuraci√≥n del sistema deber√° confirmar la autorizaci√≥n de un programador inteligente llamado Anatol Pomozov, del cual en este caso depende todo IBM. </font><font style="vertical-align: inherit;">Respeto y respeto por esta persona. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se recomienda escribir inmediatamente la l√≠nea en el archivo /Library/Frameworks/LTFS.framework/Versions/Current/etc/ltfs.conf.local:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opci√≥n single-drive sync_type = time @ 1</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
especificando el montaje de la cinta por defecto con el reinicio del b√∫fer de grabaci√≥n despu√©s de 1 minuto de inactividad (por defecto 5 minutos). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/47b/ac4/46a/47bac446a112a11830c3df9ea44dbad1.jpg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, todo est√° listo para conectarse. </font><font style="vertical-align: inherit;">Conectamos la cadena: Mac - Adaptador T3 / T2 - Cable Thunderbolt - Convertidor ATTO - Cable SAS - Unidad de cinta (la elecci√≥n de varios puertos en la Mac, el convertidor y la unidad no es importante). </font><font style="vertical-align: inherit;">Encienda la energ√≠a del convertidor. </font><font style="vertical-align: inherit;">Encienda la unidad de cinta. </font><font style="vertical-align: inherit;">Estamos esperando la inicializaci√≥n de la unidad por su indicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le damos el comando:</font></font><br>
<br>
<pre><code class="bash hljs">ltfs -o device_list</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Hurra! </font><font style="vertical-align: inherit;">Obtenemos (de la manera de diagn√≥stico habitual para IBM):</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">307 LTFS14000I LTFS iniciando, LTFS versi√≥n 2.4.2.0 (10418), nivel de registro 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14058I Especificaci√≥n de formato LTFS versi√≥n 2.4.0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14104I Lanzado por "ltfs -o device_list". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14105I Este binario est√° construido para Mac OS X. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14106I La versi√≥n GCC es 4.2.1 Apple Clang 4.1 compatible ((tags / Apple / clang-421.11.66)). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS17087I Versi√≥n de kernel: Darwin Kernel Versi√≥n 19.4.0: mi√© 4 de marzo 22:28:40 PST 2020; </font><font style="vertical-align: inherit;">ra√≠z: xnu-6153.101.6 ~ 15 / RELEASE_X86_64. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS17085I Plugin: Carga del backend de cinta "iokit". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lista de dispositivos de cinta:. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nombre del dispositivo = 0, ID del proveedor = IBM, ID del producto = ULT3580-TD5, N√∫mero de serie = **********, Nombre del producto = [ULT3580-TD5].</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Insertamos el cartucho, esperamos la descarga y formateamos:</font></font><br>
<br>
<pre><code class="bash hljs">mkltfs -d 0 -nTest -r <span class="hljs-string">"size=10M/name=.DS_Store"</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠, el par√°metro -d especifica el n√∫mero de la unidad (siempre cero si es el √∫nico, pero no puede omitir este comando), -n es el nombre de la cinta (puede omitirlo) y el par√°metro -r requiere que el contenido de los archivos .DS_Store no exceda el tama√±o 10 megabytes, en la secci√≥n de √≠ndice (es decir, destinada a directorios) de la cinta en lugar de la secci√≥n de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La vida misteriosa en la unidad de cinta se ha ido. Estamos esperando un par de minutos, obtenemos la respuesta:</font></font><br>
<br>
<blockquote>LTFS15000I Starting mkltfs, LTFS version 2.4.2.0 (10418), log level 2.<br>
LTFS15041I Launched by ¬´mkltfs -d 0 -nTest -r size=10M/name=.DS_Store¬ª.<br>
LTFS15042I This binary is built for Mac OS X.<br>
LTFS15043I GCC version is 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66)).<br>
LTFS17087I Kernel version: Darwin Kernel Version 19.4.0: Wed Mar 4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64.<br>
LTFS15003I Formatting device '0'.<br>
LTFS15004I LTFS volume blocksize: 524288.<br>
LTFS15005I Index partition placement policy: size=10M/name=.DS_Store.<br>
<br>
LTFS11337I Update index-dirty flag (1) ‚Äî NO_BARCODE (0x0x1021081e0).<br>
LTFS17085I Plugin: Loading ¬´iokit¬ª tape backend.<br>
LTFS30810I Opening a device through iokit driver (0).<br>
LTFS30814I Vendor ID is IBM.<br>
LTFS30815I Product ID is 'ULT3580-TD5 '.<br>
LTFS30816I Firmware revision is H976.<br>
LTFS30817I Drive serial is **********.<br>
LTFS17160I Maximum device block size is 1048576.<br>
LTFS11330I Loading cartridge.<br>
LTFS30854I Logical block protection is disabled.<br>
LTFS11332I Load successful.<br>
LTFS17157I Changing the drive setting to write-anywhere mode.<br>
LTFS15049I Checking the medium (mount).<br>
LTFS30854I Logical block protection is disabled.<br>
LTFS15010I Creating data partition b on SCSI partition 1.<br>
LTFS15011I Creating index partition a on SCSI partition 0.<br>
LTFS17165I Resetting the medium's capacity proportion.<br>
LTFS11097I Partitioning the medium.<br>
LTFS11100I Writing label to partition b.<br>
LTFS11278I Writing index to partition b.<br>
LTFS30808I READ_ATTR (0x8c) returns -20501.<br>
LTFS30865I READ_ATTR returns Invalid Field in CDB (-20501) 0.<br>
LTFS30836I Cannot read attribute (-20501).<br>
LTFS11336I The attribute does not exist. Ignore the expected error.<br>
LTFS17235I Writing index of NO_BARCODE to b (Reason: Format, 0 files) **********.<br>
LTFS17236I Wrote index of NO_BARCODE (b, **********).<br>
LTFS11337I Update index-dirty flag (0) ‚Äî NO_BARCODE (0x0x1021081e0).<br>
LTFS11100I Writing label to partition a.<br>
LTFS11278I Writing index to partition a.<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30808I READ_ATTR (0x8c) devuelve -20501. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30865I READ_ATTR devuelve un campo no v√°lido en CDB (-20501) 0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30836I No se puede leer el atributo (-20501). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS11336I El atributo no existe. </font><font style="vertical-align: inherit;">Ignora el error esperado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS17235I Escribir √≠ndice de NO_BARCODE en un (Motivo: Formato, 0 archivos) 9068025555. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS17236I Escribi√≥ √≠ndice de NO_BARCODE (a, **********). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15013I El UUID de volumen es: 3802a70d-bd9f-47a6-a999-eb74ffa67fc1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15019I La capacidad de volumen es de 1425 GB. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30854I La protecci√≥n de bloque l√≥gico est√° deshabilitada. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15024I Medio formateado con √©xito.</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Monte la cinta formateada:</font></font><br>
<br>
<pre><code class="bash hljs">sudo mkdir /Volumes/LTFS<font></font>
sudo chmod 777 /Volumes/LTFS/<font></font>
sudo ltfs /Volumes/LTFS</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obtenemos un par de minutos m√°s de funcionamiento del disco, diagn√≥sticos:</font></font><br>
<br>
<blockquote>307 LTFS14000I LTFS starting, LTFS version 2.4.2.0 (10418), log level 2.<br>
307 LTFS14058I LTFS Format Specification version 2.4.0.<br>
307 LTFS14104I Launched by ¬´ltfs /Volumes/LTFS/¬ª.<br>
307 LTFS14105I This binary is built for Mac OS X.<br>
307 LTFS14106I GCC version is 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66)).<br>
307 LTFS17087I Kernel version: Darwin Kernel Version 19.4.0: Wed Mar 4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64.<br>
307 LTFS14063I Sync type is ¬´time¬ª, Sync time is 60 sec.<br>
307 LTFS17085I Plugin: Loading ¬´iokit¬ª tape backend.<br>
307 LTFS17085I Plugin: Loading ¬´unified¬ª iosched backend.<br>
307 LTFS14095I Set the tape device write-anywhere mode to avoid cartridge ejection.<br>
307 LTFS30810I Opening a device through iokit driver (0).<br>
307 LTFS30814I Vendor ID is IBM.<br>
307 LTFS30815I Product ID is 'ULT3580-TD5 '.<br>
307 LTFS30816I Firmware revision is H976.<br>
307 LTFS30817I Drive serial is **********.<br>
307 LTFS17160I Maximum device block size is 1048576.<br>
307 LTFS11330I Loading cartridge.<br>
307 LTFS30854I Logical block protection is disabled.<br>
307 LTFS11332I Load successful.<br>
307 LTFS17157I Changing the drive setting to write-anywhere mode.<br>
307 LTFS11005I Mounting the volume.<br>
307 LTFS30854I Logical block protection is disabled.<br>
307 LTFS17227I Tape attribute: Vendor = IBM.<br>
307 LTFS17227I Tape attribute: Application Name = LTFS.<br>
307 LTFS17227I Tape attribute: Application Version = 2.4.2.0.<br>
307 LTFS17227I Tape attribute: Medium Label =.<br>
307 LTFS17228I Tape attribute: Text Localization ID = 0x81.<br>
307 LTFS17227I Tape attribute: Barcode =.<br>
307 LTFS17227I Tape attribute: Application Format Version = 2.4.0.<br>
307 LTFS17228I Tape attribute: Volume Lock Status = 0x00.<br>
307 LTFS17227I Tape attribute: Media Pool name =.<br>
307 LTFS14111I Initial setup completed successfully.<br>
307 LTFS14112I Invoke 'mount' command to check the result of final setup.<br>
307 LTFS14113I Specified mount point is listed if succeeded.<br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Y aqu√≠ est√°, nuestra cinta en el escritorio, llamada Test (ltfs)! La cinta sin nombre recibir√° el nombre OSXFUSE Volumen 0 (ltfs). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora puedes trabajar con ella. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/06f/956/191/06f9561919067fcc4c631f390c8b4d1e.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En realidad, debe tener en cuenta que es aconsejable no abusar de la visualizaci√≥n del contenido de los directorios de cinta en las ventanas del buscador, ya que esta es una operaci√≥n incre√≠blemente costosa para LTFS, pero es mejor trabajar con comandos de terminal, o simplemente volcar el directorio de copia de seguridad en masa en la cinta, como se muestra en la ventana de arriba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por cierto, hay una utilidad de IBM especialmente escrita ltfs_copy y sus clones dise√±ados para una copia m√°s eficiente entre la cinta y el disco, pero hasta ahora el autor no ha podido encontrarlos en el dominio p√∫blico durante las b√∫squedas de superficie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede desmontar la cinta con el comando:</font></font><br>
<br>
<pre><code class="bash hljs">umount /Volumes/LTFS</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
o simplemente t√≠ralo a la canasta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En realidad, hay alg√∫n tipo de shells gr√°ficos para macOS en la naturaleza para facilitar estas acciones, pero ¬øtenemos miedo, despu√©s de tales perversiones, de escribir algunas l√≠neas en el terminal? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como efecto secundario, tenemos la oportunidad de conectar unidades externas eSATA a trav√©s de un cable SAS / 4 * eSATA.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f6f/47b/ca9/f6f47bca9d7ea9928136b4757bab2c0f.jpg" alt="imagen"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es503156/index.html">Las estaciones de ferrocarril de Rusia pueden equiparse con c√°maras termogr√°ficas rusas; en apariencia son muy similares a las chinas</a></li>
<li><a href="../es503158/index.html">La inteligencia artificial pinta una imagen sola, realmente sola, sin aprender de ejemplos de otras pinturas</a></li>
<li><a href="../es503164/index.html">Publicidad de juegos de apuestas: resumen de pol√≠ticas de Google</a></li>
<li><a href="../es503172/index.html">C #: Introducci√≥n de generadores de c√≥digo fuente</a></li>
<li><a href="../es503176/index.html">Implementaci√≥n de un algoritmo para determinar el ancho de un objeto utilizando un tel√©metro ultras√≥nico y codificadores en lenguaje RobotC</a></li>
<li><a href="../es503182/index.html">"Soy el primer desarrollador ciego de mi empresa". Parte 1</a></li>
<li><a href="../es503184/index.html">Te invitamos a la reuni√≥n en l√≠nea Zabbix</a></li>
<li><a href="../es503192/index.html">oVirt en 2 horas. Parte 4. Operaciones b√°sicas</a></li>
<li><a href="../es503194/index.html">ISA no perdona errores</a></li>
<li><a href="../es503196/index.html">450 cursos gratuitos de la Ivy League</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>