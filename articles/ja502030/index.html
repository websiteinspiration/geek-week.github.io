<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗑️ 👇 👩🏾‍🤝‍👨🏻 OracleのWebサービス 👩🏻‍⚕️ 👨🏽‍🤝‍👨🏻 🙏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ウェブサービス1つのシステムのコンポーネント間または異なるシステム間の統合に広く使用されます。統合する方法としてのWebサービスの人気は、その多様性と、実装とデバッグの容易さによるものです。汎用性は、インターネットとHTTPプロトコルを使用したデータ転送に関連しています。 Webサービスを使用すると...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>OracleのWebサービス</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/custis/blog/502030/"><img src="https://habrastorage.org/webt/bn/fa/9y/bnfa9ydnf9mlh7nubs0t86xfdm4.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウェブサービス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つのシステムのコンポーネント間または異なるシステム間の統合に広く使用されます。統合する方法としてのWebサービスの人気は、その多様性と、実装とデバッグの容易さによるものです。汎用性は、インターネットとHTTPプロトコルを使用したデータ転送に関連しています。 Webサービスを使用すると、さまざまなオペレーティングシステムやプラットフォームで実行されるさまざまな言語で記述されたコンポーネント間の統合を比較的簡単に構築できます。 Webサービスの実装のシンプルさは、多くのIDEに組み込まれたツールとコンポーネントによって実現され、Webサービス（プロバイダー側​​）とクライアント側でサービスを呼び出すために必要なコードの両方をすばやく開発できます。人間が読めるデータ交換フォーマット（XMLとJSON）を使用することで、デバッグサービスが簡素化されます。それに、ロードを含む、サービスのデバッグとテストのための多くのユーティリティがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、Oracle DBMSから直接、つまりサードパーティのツールを使用せずにWebサービスを作成する方法をいくつか見ていきます。</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Native Oracle XML DB Web Services</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Oracle XML DB HTTP server</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   HTTP</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   -</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> Access List (ACL)</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> -    </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Oracle REST Data Service</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 1:   POST-</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    WS</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  HTTP-</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">CGI-</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 2:     ORDS</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     ORDS</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Java Servlet</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Database Access Descriptor (PL/SQL Servlet)</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></div>
                    </div><br>
<a name="Introduction"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックグラウンド</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前提：多くのコンポーネントとサブシステムで構成される大規模な流通ネットワーク（約1000の小売店）の情報ビジネスシステム。</font><font style="vertical-align: inherit;">各ストア内には、メインサーバー、つまりメインのビジネスロジックを備えたOracleデータベースがあります。</font><font style="vertical-align: inherit;">キャッシュノードは、ローカルデータベースとは別のソフトウェアによって管理されます。</font><font style="vertical-align: inherit;">このソフトウェアは定期的にメインサーバーからデータを収集し（WS SOAPを介して）、販売の結果を返します（ファイル交換）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
進歩は止まらず、新しい装備が店頭に現れました。この機器からのデータは定期的にストアのメインサーバーに送信する必要があります（期間-数分ごと）。統合は必ずWebサービスを経由する必要があり、メッセージは特定の形式である必要があり、認証は必要ありません。データ交換契約を調べたところ、使用されているWebサービスのテクノロジーでは、このような機器との統合を構築できないことがわかりました。そして、解決策の探求が始まりました...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、必要なWebサービスを実装するためのいくつかのオプションが検討され、Oracleデータベース用のOracleデータベースのウィンドウを開く個別のコンポーネントを作成するまで、一方はWebサービスを提供し、もう一方はJDBCを介してデータベースと対話しました。</font><font style="vertical-align: inherit;">難点は、最初に新しいコンポーネントを1000店舗にインストールする必要があり、次に、付随する必要のある別のリンクが表示されることです。</font><font style="vertical-align: inherit;">したがって、優先事項は、Oracleの組み込みツールを使用してWebサービスを実装するオプションでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検索の結果、この記事では4つの方法を検討しました。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネイティブOracle XML DB Webサービス</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle RESTデータサービス</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaサーブレット</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースアクセス記述子（PL / SQLサーブレット）</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の2つのオプションは、より詳細に検討されます。</font><font style="vertical-align: inherit;">私たちのシステムでは当初、ネイティブのOracle XML DB Webサービスが使用されていました。つまり、いわば継承されたものです。</font><font style="vertical-align: inherit;">ORDSはこの時代遅れのテクノロジーの代わりになりました（私はまだ懸命に働き、ORDSを数千の店舗にインストールする必要があったという事実にもかかわらず）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の2つの方法-JavaサーブレットとPL / SQLサーブレット-は、ネイティブOracle WSの代替を検索する際にORDSとともに検討しましたが、プロジェクトでは使用しませんでした。</font><font style="vertical-align: inherit;">したがって、これらのアプローチを詳細に検討せず、簡単な参照のみに限定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、実用的なサービスを作成するのに役立つ手順とともに、Webサービスを実装するいくつかの実用的な例を示します。</font></font><br>
<br>
<a name="NativeOracle"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネイティブOracle XML DB Webサービス</font></font></h2><br>
<a name="NativeOracleFeatures"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能力</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WS SOAP（バージョン1.1）を使用して、HTTP経由でOracleデータベースへのアクセスを整理できます。</font></font><br>
<br>
<ul>
<li> SQL-  XQuery-  SOAP.</li>
<li>     (   ).</li>
</ul><br>
<b></b><br>
<br>
<ul>
<li>  -     :      ,   HTTP-.</li>
<li> -    (WSDL),          ,  -.</li>
<li>     -.  ,    —    ,      —        .</li>
<li>   XML-.   ,  ,        XML,            - —   Oracle  .   ,      WS-    Oracle    —    ,    - . </li>
</ul><br>
<b></b><br>
<br>
<ul>
<li>  WSDL   ,      ,    - .        —       WSDL,      WSDL ,    .</li>
<li>       ( 50 ).          ,   —  ,     . ,     - —   ,  ,   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Web </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へのすべてのリクエストには認証が必要なことに注意してください（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ドキュメント</font></a><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">：基本認証：Oracle XML DBは基本認証をサポートし、クライアントはユーザー名とパスワードをAuthorizationヘッダーのクリアテキストで送信します）。</font><font style="vertical-align: inherit;">Oracleでは、HTTPを介したサーバーリソースへの匿名アクセスを構成できます-Oracle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML DBプロトコルサーバーの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セットアップを使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">が、実際にはGETリクエストに対してのみ機能し、POSTリクエストには認証が必要です。</font><font style="vertical-align: inherit;">ネイティブOracle WSはPOSTリクエストを通じてのみ機能するため、このテクノロジーに匿名アクセスを構成する方法はありません。</font></font><br>
<br>
<a name="NativeOracleSetup"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタマイズ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネイティブOracle WSを使用するには、次のものが必要です。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracleの組み込みHTTPサーバーを構成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracleデータベース内のアクセスを構成します（HTTPポートを開きます）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーブレットを作成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACL（アクセスリスト）を設定します。</font></font></li>
</ol><br>
<a name="NativeOracleSetup-Step1"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle XML DB HTTPサーバーの構成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTPサーバーはデフォルトですでに機能しているはずですが、場合によっては、追加のリスナー構成が必要になることがあります。</font></font><br>
<br>
<pre><code class="sql hljs">(DESCRIPTION=<font></font>
  (ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=8080))(Presentation=HTTP)(Session=RAW)<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、リスナーを再起動する必要があります。</font></font><br>
<br>
<a name="NativeOracleSetup-Step2"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPアクセスの構成</font></font></h4><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPの現在のポートを確認しています。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> dbms_xdb.gethttpport() <span class="hljs-keyword">AS</span> http_port <span class="hljs-keyword">FROM</span> dual;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値「0」は、HTTPアクセスが無効であることを意味します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポート設定。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">--    web-services</span>
    dbms_xdb.setHttpPort(<span class="hljs-number">8080</span>);
    <span class="hljs-keyword">COMMIT</span>;
<span class="hljs-keyword">END</span>;<font></font>
/</code></pre></li>
</ol><br>
<a name="NativeOracleSetup-Step3"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webサービスのサーブレットを作成する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webサービスを機能させるには、データベース構成でサーブレットを登録する必要があります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーブレットを作成するスクリプト</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-comment">--   SYS</span>
<span class="hljs-keyword">DECLARE</span>
    l_servlet_name      <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">32</span>)  := <span class="hljs-string">'orawsv'</span>;
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">--   orawsv   Native Web Services</span><font></font>
    DBMS_XDB.deleteServletMapping(l_servlet_name);<font></font>
    DBMS_XDB.deleteServlet(l_servlet_name);<font></font>
 <font></font>
    DBMS_XDB.addServlet( NAME     =&gt; l_servlet_name<font></font>
                       , LANGUAGE =&gt; 'C'<font></font>
                       , DISPNAME =&gt; 'Oracle Query Web Service'<font></font>
                       , DESCRIPT =&gt; 'Servlet for issuing queries as a Web Service'<font></font>
                       , SCHEMA   =&gt; 'XDB');<font></font>
 <font></font>
    DBMS_XDB.addServletSecRole( SERVNAME =&gt; l_servlet_name<font></font>
                              , ROLENAME =&gt; 'XDB_WEBSERVICES'<font></font>
                              , ROLELINK =&gt; 'XDB_WEBSERVICES');<font></font>
 <font></font>
    DBMS_XDB.addServletMapping( PATTERN =&gt; '/orawsv<span class="hljs-comment">/*'
                              , NAME    =&gt; l_servlet_name);
    COMMIT;
END;
/</span></code></pre></div>
                    </div><br>
<a name="NativeOracleSetup-Step4"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスリストの構成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTP経由でOracleにアクセスするには、DBMS構成にルールを追加する必要があります。</font><font style="vertical-align: inherit;">これは、組み込みのDBMSユーティリティを使用して行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ACLを構成するには、次のものが必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベース構成を編集するスクリプト（以下）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成が行われるデータベーススキーマ。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、ACLが構成されているデータベーススキーマが既に作成されている必要があります。</font><font style="vertical-align: inherit;">以下の例では、新しいデータベーススキーマを作成する必要のある場所に、このセクションへの参照があります。これらの場所では、ACLを構成する必要があります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SYSスキームでは、ACL構成スクリプトを実行します。</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-comment">--   SYS</span>
<span class="hljs-keyword">DECLARE</span>
    l_ws_user       <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">32</span>)  := <span class="hljs-string">'WS_SOAP_TEST'</span>; <span class="hljs-comment">--    ,        WS</span><font></font>
    l_acl           VARCHAR2(250) := 'acl_allow_all.xml';<font></font>
    l_tmp           VARCHAR2(250);<font></font>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">IMMEDIATE</span> <span class="hljs-string">'GRANT XDB_WEBSERVICES TO "'</span>||l_ws_user||<span class="hljs-string">'"'</span>;
    <span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">IMMEDIATE</span> <span class="hljs-string">'GRANT XDB_WEBSERVICES_OVER_HTTP TO "'</span>||l_ws_user||<span class="hljs-string">'"'</span>;
    <span class="hljs-keyword">EXECUTE</span> <span class="hljs-keyword">IMMEDIATE</span> <span class="hljs-string">'GRANT XDB_WEBSERVICES_WITH_PUBLIC TO "'</span>||l_ws_user||<span class="hljs-string">'"'</span>;<font></font>
 <font></font>
    <span class="hljs-comment">--       PL/SQL </span>
    <span class="hljs-keyword">BEGIN</span>
        dbms_network_acl_admin.drop_acl(acl =&gt; <span class="hljs-string">'/sys/acls/'</span>||l_acl);<font></font>
    EXCEPTION<font></font>
        WHEN dbms_network_acl_admin.acl_not_found THEN<font></font>
            NULL;<font></font>
    <span class="hljs-keyword">END</span>;<font></font>
 <font></font>
    <span class="hljs-comment">--  ACL</span><font></font>
    dbms_network_acl_admin.create_acl( acl         =&gt; l_acl<font></font>
                                     , description =&gt; 'Allow all connections'<font></font>
                                     , is_grant    =&gt; TRUE<font></font>
                                     , start_date  =&gt; SYSTIMESTAMP<font></font>
                                     , end_date    =&gt; NULL<font></font>
                                     , principal   =&gt; 'SYS'<font></font>
                                     , privilege   =&gt; 'connect');<font></font>
 <font></font>
    dbms_network_acl_admin.assign_acl( acl        =&gt; l_acl<font></font>
                                     , host       =&gt; '*'<font></font>
                                     , lower_port =&gt; NULL<font></font>
                                     , upper_port =&gt; NULL);<font></font>
 <font></font>
    <span class="hljs-comment">--    (resolve) </span><font></font>
    dbms_network_acl_admin.add_privilege( acl        =&gt; l_acl<font></font>
                                        , principal  =&gt; l_ws_user<font></font>
                                        , is_grant   =&gt; TRUE<font></font>
                                        , privilege  =&gt; 'resolve'<font></font>
                                        , POSITION   =&gt; NULL<font></font>
                                        , start_date =&gt; SYSTIMESTAMP<font></font>
                                        , end_date   =&gt; NULL);<font></font>
 <font></font>
    <span class="hljs-keyword">COMMIT</span>;
<span class="hljs-keyword">END</span>;<font></font>
/</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネイティブOracle WSだけでなく、この記事で説明するWebサービスを作成する他のすべての方法を使用する場合にも、ACL構成が必要になることに注意してください。</font></font><br>
<br>
<a name="NativeOracleExample"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バッチプロシージャを使用したWebサービスの例</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のものが必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webサービス要求を処理するためのオブジェクトが配置されるデータベーススキーマ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロギング用のテーブル。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロシージャ/関数を含むパッケージ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webリクエストを送信できるツール。</font><font style="vertical-align: inherit;">この場合、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SOAP UI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションが使用され</font><font style="vertical-align: inherit;">ましたが、コマンドラインまで、他のツールを選択できます。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特徴： </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロシージャパラメータは、単純タイプまたはオブジェクトタイプのいずれかである必要があります。</font><font style="vertical-align: inherit;">そうでない場合、手順はWebサービスメソッドとして認識されず、サービスメソッドのリストに含まれません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入力または出力データの複雑な構造を実装するには、オブジェクトタイプを使用する必要があります（バッチタイプは使用できません）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要なデータベースオブジェクトを作成します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スキーム</font></font><code>WS_TEST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> WS_SOAP_TEST <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> ws_soap_test <span class="hljs-keyword">QUOTA</span> <span class="hljs-number">200</span>M <span class="hljs-keyword">ON</span> <span class="hljs-keyword">USERS</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">SESSION</span>, <span class="hljs-keyword">RESOURCE</span> <span class="hljs-keyword">TO</span> ws_soap_test;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに新しいスキームをACLに追加します。</font><font style="vertical-align: inherit;">前のセクションのスクリプト。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいスキームで、ロギング用のテーブルを作成します</font></font><code>T_WS_REQ_LOG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> T_WS_REQ_LOG<font></font>
(<font></font>
  id_log      <span class="hljs-built_in">NUMBER</span> <span class="hljs-keyword">GENERATED</span> <span class="hljs-keyword">ALWAYS</span> <span class="hljs-keyword">AS</span> <span class="hljs-keyword">IDENTITY</span>,<font></font>
  message     <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">2000</span>),<font></font>
  proc        <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">128</span>),<font></font>
  dtm_request <span class="hljs-built_in">TIMESTAMP</span>(<span class="hljs-number">6</span>) <span class="hljs-keyword">DEFAULT</span> SYSTIMESTAMP<font></font>
);<font></font>
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> T_WS_REQ_LOG <span class="hljs-keyword">IS</span> <span class="hljs-string">' HTTP-'</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_REQ_LOG.id_log <span class="hljs-keyword">IS</span> <span class="hljs-string">''</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_REQ_LOG.message <span class="hljs-keyword">IS</span> <span class="hljs-string">''</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_REQ_LOG.proc <span class="hljs-keyword">IS</span> <span class="hljs-string">''</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_REQ_LOG.dtm_request <span class="hljs-keyword">IS</span> <span class="hljs-string">'/ '</span>;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">簡単な手順でパッケージ化：</font></font><br>
<br>
<pre><code class="sql hljs">
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">REPLACE</span> <span class="hljs-keyword">PACKAGE</span> PK_NATIVE_WS_TEST <span class="hljs-keyword">IS</span><font></font>
 <font></font>
<span class="hljs-keyword">PROCEDURE</span> proc_simple<font></font>
    ( a_id      <span class="hljs-built_in">INTEGER</span>
    , a_data    <span class="hljs-built_in">VARCHAR2</span>
    , o_result  <span class="hljs-keyword">OUT</span> <span class="hljs-built_in">VARCHAR2</span><font></font>
    );<font></font>
 <font></font>
<span class="hljs-keyword">END</span> PK_NATIVE_WS_TEST;<font></font>
/<font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">REPLACE</span> <span class="hljs-keyword">PACKAGE</span> <span class="hljs-keyword">BODY</span> PK_NATIVE_WS_TEST <span class="hljs-keyword">IS</span><font></font>
 <font></font>
<span class="hljs-keyword">PROCEDURE</span> proc_simple<font></font>
    ( a_id      <span class="hljs-built_in">INTEGER</span>
    , a_data    <span class="hljs-built_in">VARCHAR2</span>
    , o_result  <span class="hljs-keyword">OUT</span> <span class="hljs-built_in">VARCHAR2</span><font></font>
    )<font></font>
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_ws_req_log (message, proc)
    <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'ID='</span>||a_id||<span class="hljs-string">'; DATA='</span>||a_data, <span class="hljs-string">'proc_simple'</span>)
    <span class="hljs-keyword">RETURNING</span> id_log <span class="hljs-keyword">INTO</span> o_result;
<span class="hljs-keyword">END</span> proc_simple;<font></font>
 <font></font>
<span class="hljs-keyword">END</span> PK_NATIVE_WS_TEST;<font></font>
/</code></pre></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なWebサービスが作成され、準備が整いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービスにアクセスするには、次の形式のURLを使用する必要があります。</font></font><br>
<br>
<pre><code class="sql hljs">http://[server]:[port]/[servlet_name]/[DB_SCHEMA]/[WS_OBJ]?wsdl</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[server] </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">-Oracle</font></b><font style="vertical-align: inherit;">データベースサーバーのドメイン名またはIPアドレス</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[port]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -「HTTPを介したアクセスの構成」セクションで指定されたHTTP経由のアクセス用ポート</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[servlet_name]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -「Web用のサーブレットの作成」セクションで指定されたサーブレットの名前サービス” </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[DB_SCHEMA]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -データベーススキーマの名前（大文字）</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[WS_OBJ]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -サービスの名前（大文字）。これは、データベースオブジェクトの名前と同じです。この場合、パッケージの名前です</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。URLは重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンクの例：</font></font><br>
<br>
<pre><code class="sql hljs">http://my.server:8080/orawsv/WS_SOAP_TEST/PK_NATIVE_WS_TEST?wsdl
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブラウザでこのリンクをクリックすると、WSDLパッケージに基づいて自動的に作成されます。 </font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WSDL</font></font></b>
                        <div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">definitions</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PK_NATIVE_WS_TEST"</span>
    <span class="hljs-attr">targetNamespace</span>=<span class="hljs-string">"http://xmlns.oracle.com/orawsv/WS_SOAP_TEST/PK_NATIVE_WS_TEST"</span>
    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://schemas.xmlsoap.org/wsdl/"</span>
    <span class="hljs-attr">xmlns:tns</span>=<span class="hljs-string">"http://xmlns.oracle.com/orawsv/WS_SOAP_TEST/PK_NATIVE_WS_TEST"</span>
    <span class="hljs-attr">xmlns:xsd</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span>
    <span class="hljs-attr">xmlns:soap</span>=<span class="hljs-string">"http://schemas.xmlsoap.org/wsdl/soap/"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">types</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">xsd:schema</span> <span class="hljs-attr">targetNamespace</span>=<span class="hljs-string">"http://xmlns.oracle.com/orawsv/WS_SOAP_TEST/PK_NATIVE_WS_TEST"</span>
     <span class="hljs-attr">elementFormDefault</span>=<span class="hljs-string">"qualified"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">xsd:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PROC_SIMPLEInput"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">xsd:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xsd:sequence</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">xsd:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"A_DATA-VARCHAR2-IN"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">xsd:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"A_ID-NUMBER-IN"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xsd:integer"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:sequence</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:complexType</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:element</span>&gt;</span><font></font>
 <font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">xsd:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PROC_SIMPLEOutput"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">xsd:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">xsd:sequence</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">xsd:element</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"O_RESULT"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"xsd:string"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:sequence</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:complexType</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:element</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">xsd:schema</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">types</span>&gt;</span><font></font>
 <font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">message</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PROC_SIMPLEInputMessage"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">part</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"parameters"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">"tns:PROC_SIMPLEInput"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">message</span>&gt;</span><font></font>
 <font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">message</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PROC_SIMPLEOutputMessage"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">part</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"parameters"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">"tns:PROC_SIMPLEOutput"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">message</span>&gt;</span><font></font>
 <font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">portType</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PK_NATIVE_WS_TESTPortType"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">operation</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PROC_SIMPLE"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">message</span>=<span class="hljs-string">"tns:PROC_SIMPLEInputMessage"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">output</span> <span class="hljs-attr">message</span>=<span class="hljs-string">"tns:PROC_SIMPLEOutputMessage"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">operation</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">portType</span>&gt;</span><font></font>
 <font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">binding</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PK_NATIVE_WS_TESTBinding"</span>
           <span class="hljs-attr">type</span>=<span class="hljs-string">"tns:PK_NATIVE_WS_TESTPortType"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">soap:binding</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"document"</span> <span class="hljs-attr">transport</span>=<span class="hljs-string">"http://schemas.xmlsoap.org/soap/http"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">operation</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PROC_SIMPLE"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">soap:operation</span>
 <span class="hljs-attr">soapAction</span>=<span class="hljs-string">"PROC_SIMPLE"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">soap:body</span> <span class="hljs-attr">parts</span>=<span class="hljs-string">"parameters"</span> <span class="hljs-attr">use</span>=<span class="hljs-string">"literal"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">input</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">output</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">soap:body</span> <span class="hljs-attr">parts</span>=<span class="hljs-string">"parameters"</span> <span class="hljs-attr">use</span>=<span class="hljs-string">"literal"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">output</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">operation</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">binding</span>&gt;</span><font></font>
 <font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">service</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PK_NATIVE_WS_TESTService"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">documentation</span>&gt;</span>Oracle Web Service<span class="hljs-tag">&lt;/<span class="hljs-name">documentation</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">port</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"PK_NATIVE_WS_TESTPort"</span> <span class="hljs-attr">binding</span>=<span class="hljs-string">"tns:PK_NATIVE_WS_TESTBinding"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">soap:address</span> 
             <span class="hljs-attr">location</span>=<span class="hljs-string">"http://******:8080/orawsv/WS_SOAP_TEST/PK_NATIVE_WS_TEST"</span>/&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">port</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">service</span>&gt;</span><font></font>
 <font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">definitions</span>&gt;</span></code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービスをテストするには、SOAP UIで新しいSOAPプロジェクトを作成します。</font><font style="vertical-align: inherit;">URLとして、上記の例のアドレスを指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開く</font></font><code>Request 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、要求テンプレートは指定されたWSDLによって既に自動的に生成されていることがわかります。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リクエストの基本認証をすぐに追加します-ログインとパスワードはデータベースに接続するときと同じです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qi/e_/re/qie_rezy1hizdhgrcy-y--2ghae.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リクエストとレスポンスの例。</font><font style="vertical-align: inherit;">自動生成されたリクエストに行が追加されていることに注意してください</font></font><code>&lt;pk:O_RESULT-VARCHAR2-OUT/&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">実際のところ、Oracle 12cにはバグがあります：OUT変数がネイティブOracle WSのWSDLに追加されません）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j6/ch/em/j6chemtum0xqyl4tz6kmandwjdc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
呼び出しの結果はログテーブルに表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/be/5t/sy/be5tsyoz24pbltgramyceh86xf8.png"><br>
<br>
<a name="NativeOracleSummary"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査結果</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネイティブOracle XML DB Webサービステクノロジーは、このWebサービスに大きな負荷（数秒で1つのリクエスト）が発生しない限り、産業用ソリューションとして使用できます。</font><font style="vertical-align: inherit;">このオプションは、コンシューマーがWebサービス（その属性、データ構造、処理ロジック）に対して厳密な要件を持たず、厳密な事前定義の契約がない場合に適しています。</font><font style="vertical-align: inherit;">事前定義されたWSDLに従ってWebサービスを作成する必要がある場合（新しい機器の場合のように）、ネイティブのOracle WSテクノロジーは不適切です。</font></font><br>
<br>
<a name="OracleREST"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle RESTデータサービス</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョン11.1から、OracleはOracle REST Data Service（ORDS）と呼ばれる別のモジュールの形で完全なRESTfulサポートを導入しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSは、SQLおよびPL / SQLを使用してOracleデータベース用のRESTful APIを作成できるJavaアプリケーションです。これは、Oracle HTTP Serverとmod_plsqlを使用する代わりになります。本質的に、ORDSは外部の世界とOracleデータベース間のHTTPインターフェースです。このインターフェイスを使用すると、任意のデータベースオブジェクト（テーブルまたはPL / SQLプロシージャ）への着信HTTP要求を閉じることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要なのは、必要なデータベースのORDSをインストール、構成、実行することだけです。 RESTサービスを作成するための追加のプロセスは、PL / SQLでコードを書くことです（コードが遅延して作成できない場合は、IDEでマウスをクリックすることもできます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSをインストールするために追加のライセンスは必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要件：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java JDK 8以降。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle 11.1以降（Oracle 11 XE Release 2もサポートされています）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかのORDS展開オプションがサポートされています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタンドアロンモード;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションサーバー（Oracle WebLogic Server、Apache Tomcat）。</font></font></li>
</ul><br>
<a name="OracleRESTFeatures"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能力</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSでは次のことができます。 </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RESTfulスタイルでリソースへのアクセスを整理します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「リモートプロシージャコール」のスタイルで対話を構築します（RPCスタイルの対話）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
簡単に言うと、ORDSを利用して、HTTP経由で特定のデータベースオブジェクト（テーブル、プロシージャ、関数、パッケージ）にアクセスできます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のケースで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、RESTfulアーキテクチャスタイルで理解されるという意味でリソースを扱っています。各リソースは一意のURIによって定義され、リソースを使用した操作（CRUD-作成、読み取り、変更、削除）は、HTTP要求からの操作（PUT、POST、GET、DELETE）によって決定されます。たとえば、リソースが従業員テーブルのエントリである場合、このエントリは次の形式のURIで利用できます。</font></font><br>
<br>
<pre><code class="sql hljs">GET https://server:port/ords/workspace/hr/employees/7369</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、データベーススキーマ名、テーブル名、テーブル内のレコードIDがURIで示されています。したがって、このHTTPリクエストは実際には、指定されたテーブルからSELECT操作を実行します。他の操作（追加、変更、削除）でも、通信の原理は同じです。リソースへのパスはURIで示され、追加のパラメーターは、リクエストの本文で示されます（たとえば、レコードをテーブルに挿入するためのフィールド値）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目のケースで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、リソースにアクセスする代わりに、プロシージャコールが直接使用されます。プロシージャコールは、最初のケース（CRUD）と同じようにすべてを実行し、必要なビジネスプロセスを実装する他のロジックを実行します。パッケージからのプロシージャコールは、次の形式のHTTPリクエストを使用して行うことができます。</font></font><br>
<br>
<pre><code class="sql hljs">http://localhost:8080/ords/my_schema/my_pkg/MY_PROC</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 プロシージャのパラメータは、JSON形式の構造の形式でリクエストの本文で転送されます</font></font><code>{"param" : "value"}</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">前述のネイティブOracle WSを使用する場合も同じアプローチが使用されますが、RESTサービスの場合、SOAPプロトコルによって課される制限はありません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">長所</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">複雑なWebサービスを実装できる柔軟なメカニズム。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装の容易さ：PL / SQLプロシージャをWebサービスに変えるには、いくつかの一般的なコマンドを実行するだけで済みます。</font><font style="vertical-align: inherit;">SQL Developerを使用すると、REST APIを作成すると、最小限のコードを記述したマウスクリックに変わります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認証なしでWebサービスを実装する機能。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイナス</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDSは標準のOracleパッケージには含まれていません。サーバーごとに個別にインストールする必要があります（すでに説明したように、追加のライセンスは必要ありません）。</font><font style="vertical-align: inherit;">何千ものデータベースサーバーがある場合、これは問題になる可能性があります。</font></font></li>
</ul><br>
<a name="OracleRESTSetup"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタマイズ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSは、アプリケーションサーバー経由またはスタンドアロンモードの2つのモードで起動できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、スタンドアロンモードで実行するオプションについてのみ説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSが機能するには、次のものが必要です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストール前に設定を行います。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ODRSのインストールを完了します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDSを起動します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACLを構成します（目的のデータベーススキーマ用）。</font></font></li>
</ol><br>
<a name="OracleRESTSetup-Step1"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSディストリビューションには、デフォルトで次のようなパラメータを持つファイルがあります。</font></font><br>
<br>
<pre><code class="sql hljs">db.hostname=<font></font>
db.port=<font></font>
db.servicename=<font></font>
db.sid=<font></font>
db.username=APEX_PUBLIC_USER<font></font>
migrate.apex.rest=false<font></font>
rest.services.apex.add=<font></font>
rest.services.ords.add=true<font></font>
schema.tablespace.default=SYSAUX<font></font>
schema.tablespace.temp=TEMP<font></font>
standalone.http.port=8080<font></font>
standalone.static.images=<font></font>
user.tablespace.default=USERS<font></font>
user.tablespace.temp=TEMP<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータの説明は、</font><font style="vertical-align: inherit;">
スタンドアロンモードのパラメータ</font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントにあり</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータ</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font></font></b></td>
</tr>
<tr>
<td><code>db.hostname</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracleデータベースサーバーの名前またはIPアドレス </font></font></td>
</tr>
<tr>
<td><code>db.port</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DBポート（例：1521）</font></font></td>
</tr>
<tr>
<td><code>db.servicename</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス名データベース</font></font></td>
</tr>
<tr>
<td><code>db.username</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PL / SQLゲートウェイのユーザー名。</font><font style="vertical-align: inherit;">デフォルト= APEX_PUBLIC_USERですが、この例ではAPEXを使用する予定がないため、このパラメーターを空白のままにすることができます</font></font></td>
</tr>
<tr>
<td><code>db.password</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーパスワード（これも入力しないでください） </font></font></td>
</tr>
<tr>
<td><code>migrate.apex.rest</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RESTful APEXサービスのORDSへの移行。</font><font style="vertical-align: inherit;">APEXを使用しない場合はfalseに設定します。</font></font></td>
</tr>
<tr>
<td><code>rest.services.apex.add</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APEXで使用するためのORDSの構成</font></font></td>
</tr>
<tr>
<td><code>rest.services.ords.add</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDSのデータベーススキーマを設定します（ORDS_PUBLIC_USERおよびORDS_METADATA）。</font><font style="vertical-align: inherit;">値は真でなければなりません</font></font></td>
</tr>
<tr>
<td><code>schema.tablespace.default</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDS_METADATAスキーマのデフォルトの表スペース</font></font></td>
</tr>
<tr>
<td><code>schema.tablespace.temp</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDS_METADATAスキーマの一時テーブルスペース</font></font></td>
</tr>
<tr>
<td><code>standalone.http.port</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDSが実行されるポート。</font><font style="vertical-align: inherit;">このポートは、WSにアクセスするためにURIで使用されます。</font></font></td>
</tr>
<tr>
<td><code>user.tablespace.default</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDS_PUBLIC_USERスキーマのデフォルトの表スペース</font></font></td>
</tr>
<tr>
<td><code>user.tablespace.temp</code></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDS_PUBLIC_USERスキーマの一時表スペース</font></font></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その結果、ファイルの内容は次のようになります。</font></font><br>
<br>
<pre><code class="sql hljs">db.hostname=your_server_host_name<font></font>
db.port=1521<font></font>
db.servicename=your_db_servicename<font></font>
migrate.apex.rest=false<font></font>
rest.services.apex.add=false<font></font>
rest.services.ords.add=true<font></font>
schema.tablespace.default=SYSAUX<font></font>
schema.tablespace.temp=TEMP<font></font>
standalone.http.port=8888<font></font>
standalone.static.images=<font></font>
user.tablespace.default=USERS<font></font>
user.tablespace.temp=TEMP</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要な設定が完了したら、インストールを続行できます。</font></font><br>
<br>
<a name="OracleRESTSetup-Step2"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取り付け</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OSでコマンドを実行します。</font></font><br>
<br>
<pre><code class="sql hljs">java -jar ords.war</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、設定ファイルはの</font></font><code>params</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">横に</font><font style="vertical-align: inherit;">あるディレクトリから取得されます</font></font><code>ords.war</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">パラメータを使用して、このファイルへのパスを明示的に指定できます</font></font><code>--parameterFile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="xml hljs">java -jar ords.war --parameterFile /path/to/params/myown_params.properties</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールダイアログで、次の操作を行います。 </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定を保存するディレクトリへのパスを指定します（この例では</font></font><code>conf </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ファイルが配置されているのと同じディレクトリに</font><font style="vertical-align: inherit;">、ORDS設定のファイル</font></font><code>ords.war</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が作成されるディレクトリが作成さ</font></font><code>conf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れます）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ORDS_PUBLIC_USERのデータベースパスワードを入力してください」というコマンドが表示されたら、スキームのパスワードを入力します</font></font><code>ORDS_PUBLIC_USER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このユーザーの下で、ORDSはデータベースに接続します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PL / SQLゲートウェイを使用する場合は1を入力し、この手順をスキップする場合は2のプロンプトが表示されたら、「2」と応答します。これは、APEXを使用しないため、から移行する必要がないため</font></font><code>mod_plsql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタンドアロンモードで開始する場合はEnter 1を、[1]を終了する場合は2と表示されたら、「1」と回答します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPを使用する場合は1を入力し、HTTPSを使用する場合は2 [1]と入力した後、1と答えます</font></font></li>
</ol><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストールダイアログ</font></font></b>
                        <div class="spoiler_text"><code>D:\ords-19.2.0.199.1647&gt;java -jar ords.war install<br>
This Oracle REST Data Services instance has not yet been configured.<br>
Please complete the following prompts<br>
 <br>
 <br>
Enter the location to store configuration data: conf<br>
Enter the database password for ORDS_PUBLIC_USER:<br>
Confirm password:<br>
 03, 2019 2:47:49 PM oracle.dbtools.rt.config.setup.SchemaSetup getInstallOrUpgrade<br>
WARNING: Failed to connect to user ORDS_PUBLIC_USER jdbc:oracle:thin:@//***YOUR_HOST_NAME.DOMAIN***:1521/***YOUR_SERVICE_NAME.DOMAIN***<br>
 <br>
Enter 1 if you want to use PL/SQL Gateway or 2 to skip this step.<br>
If using Oracle Application Express or migrating from mod_plsql then you must enter 1 [1]:2<br>
 03, 2019 2:48:32 PM<br>
INFO: reloaded pools: []<br>
Enter 1 if you wish to start in standalone mode or 2 to exit [1]:<br>
Enter 1 if using HTTP or 2 if using HTTPS [1]:<br>
2019-09-03 14:48:49.754:INFO::main: Logging initialized @4276887ms to org.eclipse.jetty.util.log.StdErrLog<br>
 03, 2019 2:48:49 PM<br>
INFO: HTTP and HTTP/2 cleartext listening on port: 8082<br>
 03, 2019 2:48:50 PM<br>
INFO: Disabling document root because the specified folder does not exist: D:\ords-19.2.0.199.1647\conf\ords\standalone\doc_root<br>
Exception in thread "main" java.lang.reflect.InvocationTargetException<br>
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>
 at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)<br>
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)<br>
 at java.lang.reflect.Method.invoke(Unknown Source)<br>
 at oracle.dbtools.jarcl.Entrypoint.invoke(Entrypoint.java:66)<br>
 at oracle.dbtools.jarcl.Entrypoint.main(Entrypoint.java:89)<br>
Caused by: java.lang.OutOfMemoryError: Java heap space<br>
 at java.util.Arrays.copyOf(Unknown Source)<br>
 at java.lang.AbstractStringBuilder.ensureCapacityInternal(Unknown Source)<br>
 at java.lang.AbstractStringBuilder.append(Unknown Source)<br>
 at java.lang.StringBuilder.append(Unknown Source)<br>
 at java.lang.StringBuilder.append(Unknown Source)<br>
 at java.util.AbstractMap.toString(Unknown Source)<br>
 at java.lang.String.valueOf(Unknown Source)<br>
 at java.lang.StringBuilder.append(Unknown Source)<br>
 at oracle.dbtools.jarcl.zip.ZipIndex.toString(ZipIndex.java:166)<br>
 at java.lang.String.valueOf(Unknown Source)<br>
 at java.lang.StringBuilder.append(Unknown Source)<br>
 at oracle.dbtools.jarcl.JarClassLoader.toString(JarClassLoader.java:51)<br>
 at org.eclipse.jetty.server.ClassLoaderDump.dump(ClassLoaderDump.java:67)<br>
 at org.eclipse.jetty.util.component.Dumpable.dumpObjects(Dumpable.java:225)<br>
 at org.eclipse.jetty.util.component.ContainerLifeCycle.dumpObjects(ContainerLifeCycle.java:746)<br>
 at org.eclipse.jetty.server.handler.ContextHandler.dump(ContextHandler.java:259)<br>
 at org.eclipse.jetty.util.component.Dumpable.dumpObjects(Dumpable.java:162)<br>
 at org.eclipse.jetty.util.component.ContainerLifeCycle.dumpObjects(ContainerLifeCycle.java:746)<br>
 at org.eclipse.jetty.util.component.ContainerLifeCycle.dump(ContainerLifeCycle.java:701)<br>
 at org.eclipse.jetty.util.component.Dumpable.dump(Dumpable.java:62)<br>
 at org.eclipse.jetty.util.component.ContainerLifeCycle.dump(ContainerLifeCycle.java:684)<br>
 at oracle.dbtools.standalone.StandaloneConfiguration.start(StandaloneConfiguration.java:241)<br>
 at oracle.dbtools.standalone.Standalone.execute(Standalone.java:508)<br>
 at oracle.dbtools.cmdline.DefaultCommand.execute(DefaultCommand.java:137)<br>
 at oracle.dbtools.cmdline.Commands.execute(Commands.java:207)<br>
 at oracle.dbtools.cmdline.Commands.main(Commands.java:163)<br>
 at oracle.dbtools.cmdline.Commands.main(Commands.java:368)<br>
 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)<br>
 at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)<br>
 at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)<br>
 at java.lang.reflect.Method.invoke(Unknown Source)<br>
 at oracle.dbtools.jarcl.Entrypoint.invoke(Entrypoint.java:66)</code></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、ORDS構成のディレクトリが作成され、ORDSのユーティリティスキームがデータベースに表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
見る </font><font style="vertical-align: inherit;">また：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle REST Data Services 3.0.Xを5分以内にインストールします</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a name="OracleRESTSetup-Step3"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発売</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スタンドアロンモードで開始するには、次のコマンドを実行します。</font></font><br>
<br>
<pre><code class="sql hljs">java -jar ords.war standalone</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">起動ダイアログ</font></font></b>
                        <div class="spoiler_text"><code>D:\ords-19.2.0.199.1647&gt;java -jar ords.war standalone<br>
2019-09-03 15:52:45.825:INFO::main: Logging initialized @2079ms to org.eclipse.jetty.util.log.StdErrLog<br>
 03, 2019 3:52:45 PM<br>
INFO: HTTP and HTTP/2 cleartext listening on port: 8082<br>
 03, 2019 3:52:45 PM<br>
INFO: Disabling document root because the specified folder does not exist: D:\ords-19.2.0.199.1647\conf\ords\standalone\doc_root<br>
2019-09-03 15:52:47.124:INFO:oejs.Server:main: jetty-9.4.z-SNAPSHOT; built: 2019-05-02T09:46:34.874Z; git: 14f32d50076f2b706f41a33066eb364d8492e199; jvm 1.8.0_221-b11<br>
2019-09-03 15:52:47.179:INFO:oejs.session:main: DefaultSessionIdManager workerName=node0<br>
2019-09-03 15:52:47.179:INFO:oejs.session:main: No SessionScavenger set, using defaults<br>
2019-09-03 15:52:47.180:INFO:oejs.session:main: node0 Scavenging every 660000ms<br>
 03, 2019 3:52:48 PM<br>
INFO: Configuration properties for: |apex|pu|<br>
db.hostname=***YOUR_HOST_NAME.DOMAIN***<br>
db.password=******<br>
db.port=1521<br>
db.servicename=***YOUR_SERVICE_NAME.DOMAIN***<br>
db.username=ORDS_PUBLIC_USER<br>
resource.templates.enabled=true<br>
 <br>
 03, 2019 3:52:48 PM<br>
WARNING: *** jdbc.MaxLimit in configuration |apex|pu| is using a value of 10, this setting may not be sized adequately for a production environment ***<br>
 03, 2019 3:52:48 PM<br>
WARNING: *** jdbc.InitialLimit in configuration |apex|pu| is using a value of 3, this setting may not be sized adequately for a production environment ***<br>
 03, 2019 3:52:50 PM<br>
INFO: Oracle REST Data Services initialized<br>
Oracle REST Data Services version : 19.2.0.r1991647<br>
Oracle REST Data Services server info: jetty/9.4.z-SNAPSHOT<br>
 <br>
2019-09-03 15:52:50.484:INFO:oejsh.ContextHandler:main: Started o.e.j.s.ServletContextHandler@d56d67{/ords,null,AVAILABLE}<br>
2019-09-03 15:52:50.658:INFO:oejs.AbstractConnector:main: Started ServerConnector@12325ad{HTTP/1.1,[http/1.1, h2c]}{0.0.<br>
0.0:8082}<br>
2019-09-03 15:52:50.659:INFO:oejs.Server:main: Started @6914ms</code></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、ORDSが稼働します。</font><font style="vertical-align: inherit;">Webサービスアドレスはhttp：// &lt;hostname&gt;：/ ords / ...です。ここで、&lt;hostname&gt;はORDSを実行しているコンピューターの名前です（データベースサーバー名と一致する必要はありません。つまり、ORDSは別のホストで実行できます） ）、&lt;port&gt;-ORDS構成で指定されたポート。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じて、OSの起動時にORDSを自動的に実行するスクリプトを作成できます。</font></font><br>
<br>
<a name="OracleRESTSetup-Step4"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセス設定</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後のステップは、ACLの構成です。</font><font style="vertical-align: inherit;">手順は、</font><font style="vertical-align: inherit;">ネイティブOracle WSを使用</font><font style="vertical-align: inherit;">する場合</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と同じ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この手順は、データベーススキーマの作成後に完了する必要があるため、以下の例では、いつこの構成を実行する必要があるかを個別に示しています。</font><font style="vertical-align: inherit;">これまでのところ、すべての準備手順が完了していると想定して、例に進むことができます。</font></font><br>
<br>
<a name="OracleRESTExample1"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例1：POSTリクエストのハンドラー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例として、RPCスタイルの対話実装オプションを検討してください。つまり、ハンドラーがバッチプロシージャとなるWebサービスメソッドを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、このバージョンでは、ORDSを使用した作業が配信ネットワークのプロジェクトに実装され、結果は期待どおりでした。</font><font style="vertical-align: inherit;">機器の操作からサイトのAPIまで、さまざまなビジネスプロセス用の新しいWebサービスメソッドを作成するための迅速で普遍的な方法が判明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のように、ORDSサポートはSQL Developer（Oracleによって開発されたデータベースIDE）にも含まれています。</font><font style="vertical-align: inherit;">SQL Developerでは、Webサービスの作成は、メニュー項目またはコンテキストメニューから直接利用できます。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、SQL Developer（バージョン18）を使用して例を示していますが、IDEでのアクションの結果としてデータベースで実行されるPL / SQLコードも含まれています。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実験が行われたデータベースのバージョン：</font></font><br>
<br>
<pre><code class="sql hljs">SQL&gt; <span class="hljs-keyword">SELECT</span> v.BANNER <span class="hljs-keyword">FROM</span> v$<span class="hljs-keyword">version</span> v;<font></font>
 <font></font>
BANNER<font></font>
<span class="hljs-comment">--------------------------------------------------------------------------------</span>
Oracle DATABASE 12c Enterprise Edition <span class="hljs-keyword">Release</span> <span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span> - <span class="hljs-number">64</span><span class="hljs-built_in">bit</span> Production<font></font>
PL/<span class="hljs-keyword">SQL</span> <span class="hljs-keyword">Release</span> <span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span> - Production<font></font>
CORE	<span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>	Production<font></font>
TNS <span class="hljs-keyword">FOR</span> Linux: <span class="hljs-keyword">Version</span> <span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span> - Production<font></font>
NLSRTL <span class="hljs-keyword">Version</span> <span class="hljs-number">12.2</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span> - Production</code></pre><br>
<a name="OracleRESTExample1-Step1"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WSのテストユーザーの作成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例として、再び新しいスキームが必要です-作成してください：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> WS_TEST <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> ws_test <span class="hljs-keyword">QUOTA</span> <span class="hljs-number">200</span>M <span class="hljs-keyword">ON</span> <span class="hljs-keyword">USERS</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">SESSION</span>, <span class="hljs-keyword">RESOURCE</span> <span class="hljs-keyword">TO</span> ws_test;</code></pre><br>
<a name="OracleRESTExample1-Step2"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベーススキーマを設定する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダイアグラムが作成されたら、ORDSを介してアクセス可能にする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このため：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL Developerで、の接続を作成します</font></font><code>WS_TEST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続のリストで、新しい接続のコンテキストメニューを呼び出します。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RESTサービス→RESTサービスを有効にする...を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/qy/yv/jqqyyveitff-wlvruwzfefp8bae.png"><br>
 </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダイアログで、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スキーマ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">有効に</font></b><font style="vertical-align: inherit;">する]の横のボックスを</font><b><font style="vertical-align: inherit;">オンにします</font></b><font style="vertical-align: inherit;">（</font><b><font style="vertical-align: inherit;">スキーマ</font></b><font style="vertical-align: inherit;">の名前の代わりに</font><font style="vertical-align: inherit;">他のテキストをURI </font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">表示</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">場合</font><font style="vertical-align: inherit;">は、ここで「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スキーマエイリアス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」パラメーターを変更することもでき</font><font style="vertical-align: inherit;">ます</font></font><code>ws_test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/0d/f-/jc0df-k8qea-djnenwxg4spe2xw.png"><br>
</li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「次へ」を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックする</font><font style="vertical-align: inherit;">と、最終的にデータベースで実行されるPL / SQLコードが表示されます（IDEを使用せずに自分で作成できます）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wg/pd/pb/wgpdpbaxjzxzqv7ju6vf4yzp2i0.png"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">BEGIN</span>
    ORDS.ENABLE_SCHEMA( p_enabled             =&gt; <span class="hljs-literal">TRUE</span>
                      , p_schema              =&gt; <span class="hljs-string">'WS_TEST'</span>
                      , p_url_mapping_type    =&gt; <span class="hljs-string">'BASE_PATH'</span>
                      , p_url_mapping_pattern =&gt; <span class="hljs-string">'ws_test'</span>
                      , p_auto_rest_auth      =&gt; <span class="hljs-literal">FALSE</span>);<font></font>
 <font></font>
    <span class="hljs-keyword">COMMIT</span>;
<span class="hljs-keyword">END</span>;<font></font>
/</code></pre><br>
<a name="OracleRESTExample1-Step3"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールとテンプレートの作成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、リソースのモジュールとテンプレートを作成する必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、論理的に関連する複数のリソーステンプレートをグループ化できる構造単位です。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テンプレート</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、リソースの特定のメソッドセットを提供する特定のWebサービスです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソース</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リソースモジュール：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループ関連のリソーステンプレートに使用されている組織単位。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リソーステンプレート：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いくつかのURIセット（Universal Resource Identifiers）のリクエストを処理できる個別のRESTfulサービス。 URIのセットは、リソーステンプレートのURIパターンによって定義されます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
たとえば、オンラインストアの場合、モジュールは次のように呼び出すことができます。</font></font><code>shop </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-このモジュールでは、ストアのすべてのAPIが結合されます。</font><font style="vertical-align: inherit;">テンプレートには、注文（template </font></font><code>order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、製品カタログ（template </font></font><code>item</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、支払い（template </font></font><code>payment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）などの</font><font style="vertical-align: inherit;">特定のリソース</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を使用できます。モジュールとテンプレートを作成するには、次の手順を実行する必要があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトツリーで、RESTデータサービスセクションを開き</font><font style="vertical-align: inherit;">、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]セクションのコンテキストメニューを呼び出して</font><font style="vertical-align: inherit;">、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいモジュール...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]を</font><font style="vertical-align: inherit;">選択し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ar/uv/ry/aruvrywejhtzq-3oigkirmjy0qy.png"><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール作成ダイアログで、モジュール名（</font></font><code>shop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、プレフィックスURI（</font></font><code>shop </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の例では、Webサービスアドレステンプレートが何であるかがすぐにわかる）を指定し、dawを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Publishの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前に配置して</font><font style="vertical-align: inherit;">、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次へ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/db/ak/mf/dbakmfibj3ir0cxttme-zjuz4qu.png"><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のダイアログで、たとえばテンプレートの名前を指定し、</font></font><code>order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もう一度</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「次へ&gt;」を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のダイアログでは、モジュールとテンプレートのすべての入力パラメーターが表示されます。</font><font style="vertical-align: inherit;">「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL」</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タブで、</font><font style="vertical-align: inherit;">「</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」をクリックしたときにデータベースで実行されるPL / SQLコードを確認できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yj/al/g0/yjalg0-ud3fp5x37qtx5nyemwxq.png"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モジュールを作成するために、</font></font><code>shop </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらにパターンを追加でき</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。これは、オブジェクトツリー、コンテキストメニュー</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、[テンプレートの追加...</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]でも選択でき</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールとテンプレートを作成するコードリスト</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">BEGIN</span>
    ORDS.DEFINE_MODULE( p_module_name    =&gt; <span class="hljs-string">'shop'</span>
                      , p_base_path      =&gt; <span class="hljs-string">'shop'</span>
                      , p_items_per_page =&gt;  <span class="hljs-number">25</span>
                      , p_status         =&gt; <span class="hljs-string">'PUBLISHED'</span>
                      , p_comments       =&gt; <span class="hljs-literal">NULL</span>);<font></font>
 <font></font>
    ORDS.DEFINE_TEMPLATE( p_module_name    =&gt; 'shop'<font></font>
                        , p_pattern        =&gt; 'order'<font></font>
                        , p_priority       =&gt; 0<font></font>
                        , p_etag_type      =&gt; 'HASH'<font></font>
                        , p_etag_query     =&gt; NULL<font></font>
                        , p_comments       =&gt; NULL);<font></font>
 <font></font>
    <span class="hljs-keyword">COMMIT</span>;
<span class="hljs-keyword">END</span>;<font></font>
/</code></pre></div>
                    </div><br>
<a name="OracleRESTExample1-Step4"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPリクエストハンドラの作成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、サービスのHTTPリクエストハンドラを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、リクエスト処理ロジックを含むデータベースオブジェクトを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ロギング用のテーブルと、ハンドラーコードが含まれるパッケージが必要です。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトを使用してテーブルを作成します。</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> T_WS_LOG<font></font>
(<font></font>
  id_log          <span class="hljs-built_in">NUMBER</span> <span class="hljs-keyword">GENERATED</span> <span class="hljs-keyword">ALWAYS</span> <span class="hljs-keyword">AS</span> <span class="hljs-keyword">IDENTITY</span>,<font></font>
  message         <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">2000</span>),<font></font>
  request_header  <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">2000</span>),<font></font>
  request_body    <span class="hljs-keyword">CLOB</span>,<font></font>
  response_header <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">2000</span>),<font></font>
  response_body   <span class="hljs-keyword">CLOB</span>,<font></font>
  dtz_log         <span class="hljs-built_in">TIMESTAMP</span>(<span class="hljs-number">6</span>) <span class="hljs-keyword">WITH</span> <span class="hljs-built_in">TIME</span> ZONE <span class="hljs-keyword">DEFAULT</span> SYSTIMESTAMP<font></font>
);<font></font>
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> T_WS_LOG <span class="hljs-keyword">IS</span> <span class="hljs-string">'  HTTP- (ORDS)'</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.id_log <span class="hljs-keyword">IS</span> <span class="hljs-string">''</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.message <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.request_header <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.request_body <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.response_header <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.response_body <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_WS_LOG.dtz_log <span class="hljs-keyword">IS</span> <span class="hljs-string">'/  '</span>;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> T_WS_LOG <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> PK_T_WS_LOG PRIMARY <span class="hljs-keyword">KEY</span> (ID_LOG) <span class="hljs-keyword">USING</span> <span class="hljs-keyword">INDEX</span>;</code></pre></div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッケージを作成します。</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">REPLACE</span> <span class="hljs-keyword">PACKAGE</span> PK_ORDS_API <span class="hljs-keyword">IS</span><font></font>
 <font></font>
 <font></font>
<span class="hljs-keyword">FUNCTION</span> blob2clob<font></font>
    ( a_blob            <span class="hljs-built_in">BLOB</span>
    , a_from_charset    <span class="hljs-built_in">VARCHAR2</span>  := <span class="hljs-string">'AMERICAN_AMERICA.AL32UTF8'</span>
    , a_to_charset      <span class="hljs-built_in">VARCHAR2</span>  := <span class="hljs-string">'AMERICAN_AMERICA.AL32UTF8'</span>
    ) <span class="hljs-keyword">RETURN</span>            <span class="hljs-keyword">CLOB</span>;<font></font>
 <font></font>
 <font></font>
PROCEDURE process_request<font></font>
    ( a_request     CLOB<font></font>
    );<font></font>
 <font></font>
 <font></font>
<span class="hljs-keyword">END</span> PK_ORDS_API;<font></font>
/<font></font>
 <font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">REPLACE</span> <span class="hljs-keyword">PACKAGE</span> <span class="hljs-keyword">BODY</span> PK_ORDS_API <span class="hljs-keyword">IS</span><font></font>
 <font></font>
 <font></font>
<span class="hljs-keyword">FUNCTION</span> blob2clob<font></font>
    ( a_blob            <span class="hljs-built_in">BLOB</span>
    , a_from_charset    <span class="hljs-built_in">VARCHAR2</span>  := <span class="hljs-string">'AMERICAN_AMERICA.AL32UTF8'</span>
    , a_to_charset      <span class="hljs-built_in">VARCHAR2</span>  := <span class="hljs-string">'AMERICAN_AMERICA.AL32UTF8'</span>
    ) <span class="hljs-keyword">RETURN</span>            <span class="hljs-keyword">CLOB</span>
<span class="hljs-keyword">AS</span>
    l_clob      <span class="hljs-keyword">CLOB</span>;<font></font>
    l_amount    NUMBER := 2000;<font></font>
    l_offset    NUMBER := 1;<font></font>
    l_buffer    VARCHAR2(32767);<font></font>
    l_length    PLS_INTEGER := dbms_lob.getlength(a_blob);<font></font>
<span class="hljs-keyword">BEGIN</span>
    dbms_lob.createtemporary(l_clob, <span class="hljs-literal">TRUE</span>);<font></font>
    dbms_lob.OPEN(l_clob, dbms_lob.lob_readwrite);<font></font>
    WHILE l_offset &lt;= l_length LOOP<font></font>
        l_buffer := UTL_RAW.cast_to_varchar2(UTL_RAW.convert( r            =&gt; dbms_lob.substr(a_blob, l_amount, l_offset)<font></font>
                                                            , from_charset =&gt; a_from_charset<font></font>
                                                            , to_charset   =&gt; a_to_charset));<font></font>
        IF LENGTH(l_buffer) &gt; 0 THEN<font></font>
            dbms_lob.writeappend(l_clob, LENGTH(l_buffer), l_buffer);<font></font>
        <span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;<font></font>
        l_offset := l_offset + l_amount;<font></font>
        EXIT WHEN l_offset &gt; l_length;<font></font>
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<font></font>
    RETURN l_clob;<font></font>
<span class="hljs-keyword">END</span> blob2clob;<font></font>
 <font></font>
 <font></font>
PROCEDURE process_request<font></font>
    ( a_request     CLOB<font></font>
    )<font></font>
AS<font></font>
    TYPE TStringHash IS TABLE OF VARCHAR2(256) INDEX BY VARCHAR2(256);<font></font>
    lh_hdr              TStringHash;<font></font>
    l_hdr               VARCHAR2(256);<font></font>
    l_resp              CLOB;<font></font>
    l_response_status   INTEGER := 200;<font></font>
    l_ccontent_type     VARCHAR2(64) := 'application/json';<font></font>
    l_in_headers        VARCHAR2(32767);<font></font>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">--      </span>
    lh_hdr(<span class="hljs-string">'SERVER_SOFTWARE'</span>)       := OWA_UTIL.get_cgi_env(<span class="hljs-string">'SERVER_SOFTWARE'</span>);<font></font>
    lh_hdr('SERVER_NAME')           := OWA_UTIL.get_cgi_env('SERVER_NAME');<font></font>
    lh_hdr('GATEWAY_INTERFACE')     := OWA_UTIL.get_cgi_env('GATEWAY_INTERFACE');<font></font>
    lh_hdr('SERVER_PROTOCOL')       := OWA_UTIL.get_cgi_env('SERVER_PROTOCOL');<font></font>
    lh_hdr('SERVER_PORT')           := OWA_UTIL.get_cgi_env('SERVER_PORT');<font></font>
    lh_hdr('REQUEST_METHOD')        := OWA_UTIL.get_cgi_env('REQUEST_METHOD');<font></font>
    lh_hdr('PATH_INFO')             := OWA_UTIL.get_cgi_env('PATH_INFO');<font></font>
    lh_hdr('PATH_TRANSLATED')       := OWA_UTIL.get_cgi_env('PATH_TRANSLATED');<font></font>
    lh_hdr('SCRIPT_NAME')           := OWA_UTIL.get_cgi_env('SCRIPT_NAME');<font></font>
    lh_hdr('QUERY_STRING')          := OWA_UTIL.get_cgi_env('QUERY_STRING');<font></font>
    lh_hdr('REMOTE_HOST')           := OWA_UTIL.get_cgi_env('REMOTE_HOST');<font></font>
    lh_hdr('REMOTE_ADDR')           := OWA_UTIL.get_cgi_env('REMOTE_ADDR');<font></font>
    lh_hdr('AUTH_TYPE')             := OWA_UTIL.get_cgi_env('AUTH_TYPE');<font></font>
    lh_hdr('REMOTE_USER')           := OWA_UTIL.get_cgi_env('REMOTE_USER');<font></font>
    lh_hdr('REMOTE_IDENT')          := OWA_UTIL.get_cgi_env('REMOTE_IDENT');<font></font>
    lh_hdr('CONTENT-TYPE')          := OWA_UTIL.get_cgi_env('CONTENT-TYPE');<font></font>
    lh_hdr('CONTENT-LENGTH')        := OWA_UTIL.get_cgi_env('CONTENT-LENGTH');<font></font>
    lh_hdr('HTTP_ACCEPT')           := OWA_UTIL.get_cgi_env('HTTP_ACCEPT');<font></font>
    lh_hdr('HTTP_ACCEPT_LANGUAGE')  := OWA_UTIL.get_cgi_env('HTTP_ACCEPT_LANGUAGE');<font></font>
    lh_hdr('HTTP_USER_AGENT')       := OWA_UTIL.get_cgi_env('HTTP_USER_AGENT');<font></font>
    lh_hdr('HTTP_COOKIE')           := OWA_UTIL.get_cgi_env('HTTP_COOKIE');<font></font>
 <font></font>
    l_hdr := lh_hdr.FIRST;<font></font>
    WHILE l_hdr IS NOT NULL LOOP<font></font>
        IF lh_hdr(l_hdr) IS NOT NULL THEN<font></font>
            l_in_headers := l_in_headers||CHR(10)||l_hdr||': '||lh_hdr(l_hdr);<font></font>
        <span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;<font></font>
        l_hdr := lh_hdr.NEXT(l_hdr);<font></font>
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<font></font>
 <font></font>
    l_resp := '{ "result" : "success" }';<font></font>
 <font></font>
    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_ws_log<font></font>
        ( message<font></font>
        , request_header<font></font>
        , request_body<font></font>
        , response_header<font></font>
        , response_body)<font></font>
    <span class="hljs-keyword">VALUES</span>
        ( <span class="hljs-literal">NULL</span><font></font>
        , l_in_headers<font></font>
        , a_request<font></font>
        , <span class="hljs-string">'Content-Type: '</span>||l_ccontent_type<font></font>
        , l_resp<font></font>
        );<font></font>
 <font></font>
    OWA_UTIL.STATUS_LINE(nstatus =&gt; l_response_status, bclose_header =&gt; FALSE);<font></font>
    OWA_UTIL.MIME_HEADER(ccontent_type =&gt; l_ccontent_type, bclose_header =&gt; FALSE);<font></font>
    OWA_UTIL.HTTP_HEADER_CLOSE();<font></font>
    htp.p(l_resp);<font></font>
<span class="hljs-keyword">END</span> process_request;<font></font>
 <font></font>
<span class="hljs-keyword">END</span> PK_ORDS_API;<font></font>
/</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、作成したテンプレートにハンドラーを追加する必要があります。</font><font style="vertical-align: inherit;">HTTPメソッドのハンドラーを追加します</font></font><code>POST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、次の手順を実行します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テンプレートのコンテキストメニューを呼び出し、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハンドラーの追加</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]を</font><font style="vertical-align: inherit;">選択してから、HTTPメソッドを選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gh/hs/2l/ghhs2llhlojihuhzkko_pcfm6bo.png"></li>
<li>     .   <b>SQL Worksheet</b>  PL/SQL-,         HTTP-   <code>POST</code>.     ,   <code>process_request</code>    .  ,     bind- <code>:body</code> —    ORDS,          (    BLOB).       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://oracle-base.com/articles/misc/oracle-rest-data-services-ords-"></a>.      <code>:body_text</code>,        CLOB.        ,   ,   ,       ORDS  .     <code>:body_text</code>   ,        «» .       <code>:body</code>,      CLOB    . ,     :<br>
<br>
<img src="https://habrastorage.org/webt/z7/jw/md/z7jwmdky6orqwntld4kwoy_lw7i.png"><br>
</li>
<li>  Save REST Handler —      .<br>
<br>
   POST-:<br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span>
    l_blob <span class="hljs-built_in">BLOB</span> := :<span class="hljs-keyword">body</span>;
<span class="hljs-keyword">BEGIN</span><font></font>
    PK_ORDS_API.process_request(a_request =&gt; PK_ORDS_API.blob2clob(l_blob));<font></font>
EXCEPTION<font></font>
    WHEN OTHERS THEN<font></font>
        OWA_UTIL.STATUS_LINE(nstatus =&gt; 500, bclose_header =&gt; FALSE);<font></font>
        OWA_UTIL.MIME_HEADER(ccontent_type =&gt; 'application/json');<font></font>
        htp.p('{ "result" : "error", "message" : "'||SQLERRM||'" }');<font></font>
<span class="hljs-keyword">END</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要に応じて、PL / SQLコードを取得してハンドラーを作成できます。</font><font style="vertical-align: inherit;">これを行うには、ORDSモジュールのコンテキストメニューで[REST定義]を選択し、モジュール作成スクリプトを出力する場所（クリップボードなど）を指定します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6i/r4/ww/6ir4wwzdqbzg2zen2mmshbmmroq.png"></li>
</ol><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュールを作成する結果のコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-comment">-- Generated by Oracle SQL Developer REST Data Services 18.1.0.095.1630</span>
<span class="hljs-comment">-- Exported REST Definitions from ORDS Schema Version 18.4.0.r3541002</span>
<span class="hljs-comment">-- Schema: WS_TEST   Date: Wed Oct 23 20:19:54 MSK 2019</span>
<span class="hljs-comment">--</span>
<span class="hljs-keyword">BEGIN</span><font></font>
  ORDS.ENABLE_SCHEMA(<font></font>
      p_enabled             =&gt; <span class="hljs-literal">TRUE</span>,<font></font>
      p_schema              =&gt; <span class="hljs-string">'WS_TEST'</span>,<font></font>
      p_url_mapping_type    =&gt; <span class="hljs-string">'BASE_PATH'</span>,<font></font>
      p_url_mapping_pattern =&gt; <span class="hljs-string">'ws_test'</span>,<font></font>
      p_auto_rest_auth      =&gt; <span class="hljs-literal">TRUE</span>);    <font></font>
 <font></font>
  ORDS.DEFINE_MODULE(<font></font>
      p_module_name    =&gt; 'shop',<font></font>
      p_base_path      =&gt; '/shop/',<font></font>
      p_items_per_page =&gt;  25,<font></font>
      p_status         =&gt; 'PUBLISHED',<font></font>
      p_comments       =&gt; NULL);      <font></font>
  ORDS.DEFINE_TEMPLATE(<font></font>
      p_module_name    =&gt; 'shop',<font></font>
      p_pattern        =&gt; 'order',<font></font>
      p_priority       =&gt; 0,<font></font>
      p_etag_type      =&gt; 'HASH',<font></font>
      p_etag_query     =&gt; NULL,<font></font>
      p_comments       =&gt; NULL);<font></font>
  ORDS.DEFINE_HANDLER(<font></font>
      p_module_name    =&gt; 'shop',<font></font>
      p_pattern        =&gt; 'order',<font></font>
      p_method         =&gt; 'POST',<font></font>
      p_source_type    =&gt; 'plsql/block',<font></font>
      p_items_per_page =&gt;  0,<font></font>
      p_mimes_allowed  =&gt; '',<font></font>
      p_comments       =&gt; NULL,<font></font>
      p_source         =&gt; <font></font>
'<span class="hljs-keyword">DECLARE</span>
    l_blob <span class="hljs-built_in">BLOB</span> := :<span class="hljs-keyword">body</span>;
<span class="hljs-keyword">BEGIN</span><font></font>
    PK_ORDS_API.process_request(a_request =&gt; PK_ORDS_API.blob2clob(l_blob));<font></font>
EXCEPTION<font></font>
    WHEN OTHERS THEN<font></font>
        OWA_UTIL.STATUS_LINE(nstatus =&gt; 500, bclose_header =&gt; FALSE);<font></font>
        OWA_UTIL.MIME_HEADER(ccontent_type =&gt; ''application/json'');<font></font>
        htp.p(''{ "result" : "error", "message" : "''||SQLERRM||''" }'');<font></font>
<span class="hljs-keyword">END</span>;'<font></font>
      );<font></font>
 <font></font>
 <font></font>
  <span class="hljs-keyword">COMMIT</span>; 
<span class="hljs-keyword">END</span>;</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：モジュール作成手順を</font></font><code>ORDS.DEFINE_MODULE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再度</font><font style="vertical-align: inherit;">実行すると、</font><font style="vertical-align: inherit;">このモジュールのすべてのテンプレートが自動的に削除され、警告は表示されません。</font></font><br>
<br>
<a name="OracleRESTExample1-Step5"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼び出し例</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、Webサービスの準備が整いました。</font><font style="vertical-align: inherit;">作業を確認する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確認するには、リクエストを実行します。</font></font><br>
<br>
<pre><code class="xml hljs">POST http://****:8888/ords/ws_test/shop/order HTTP/1.1<font></font>
Accept-Encoding: gzip,deflate<font></font>
Content-Type: application/json<font></font>
Content-Length: 22<font></font>
Host: ****:8888<font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpClient/4.1.1 (java 1.5)<font></font>
 <font></font>
{ "message" : "test" }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それに応じて、以下を取得します。</font></font><br>
<br>
<pre><code class="sql hljs">HTTP/1.1 200 OK<font></font>
Date: Wed, 23 Oct 2019 16:54:53 GMT<font></font>
Content-Type: application/json<font></font>
Transfer-Encoding: chunked<font></font>
 <font></font>
{ "result" : "success" }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッドの実行結果は、リクエストとレスポンスの本文が記録されたログテーブルのレコード</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/89/tp/cj89tpjfzxvmdot-nsdr15nn49c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
です。ご覧のとおり、送信されたHTTPリクエストは、パケットのプロシージャによって正常に処理されました。</font></font><br>
<br>
<a name="OracleRESTExample1-Step6"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエストのパラメータ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記では、単純なWebサービスの結果をすでに見てきました。</font><font style="vertical-align: inherit;">次に、リクエストにパラメーターを追加して、タスクを少し複雑にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータを渡す方法は2つあり</font></font><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。URL経由。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータは、標準形式でURLに設定されます。</font></font><br>
<br>
<pre><code class="sql hljs">http://...URI...?p1=val1&amp;p2=val2</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HEADER経由。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータはリクエストヘッダーで次のように設定</font></font><code>p1: val1</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
されます。リクエストハンドラのORDSでは、パラメータはバインド変数として定義されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の例に2つのパラメーターを追加します。</font></font><code>prm1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-URIの</font></font><code>prm2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメーター</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">-要求ヘッダーのパラメーター。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのパラメーターを処理</font></font><code>PK_ORDS_API.process_request:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するには、</font><font style="vertical-align: inherit;">プロシージャを</font><font style="vertical-align: inherit;">追加し、パラメーター</font></font><code>a_prm_uri</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加します</font></font><code>a_prm_hdr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。リクエストには、パラメーターの値が送信されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいパラメーターを持つ要求ハンドラープロシージャ</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs">PROCEDURE process_request<font></font>
    ( a_request     CLOB<font></font>
    , a_prm_uri     VARCHAR2 := NULL<font></font>
    , a_prm_hdr     VARCHAR2 := NULL<font></font>
    )<font></font>
AS<font></font>
    TYPE TStringHash IS TABLE OF VARCHAR2(256) INDEX BY VARCHAR2(256);<font></font>
    lh_hdr              TStringHash;<font></font>
    l_hdr               VARCHAR2(256);<font></font>
    l_resp              CLOB;<font></font>
    l_response_status   INTEGER := 200;<font></font>
    l_ccontent_type     VARCHAR2(64) := 'application/json';<font></font>
    l_in_headers        VARCHAR2(32767);<font></font>
<span class="hljs-keyword">BEGIN</span>
    <span class="hljs-comment">--      </span>
    lh_hdr(<span class="hljs-string">'SERVER_SOFTWARE'</span>)       := OWA_UTIL.get_cgi_env(<span class="hljs-string">'SERVER_SOFTWARE'</span>);<font></font>
    lh_hdr('SERVER_NAME')           := OWA_UTIL.get_cgi_env('SERVER_NAME');<font></font>
    lh_hdr('GATEWAY_INTERFACE')     := OWA_UTIL.get_cgi_env('GATEWAY_INTERFACE');<font></font>
    lh_hdr('SERVER_PROTOCOL')       := OWA_UTIL.get_cgi_env('SERVER_PROTOCOL');<font></font>
    lh_hdr('SERVER_PORT')           := OWA_UTIL.get_cgi_env('SERVER_PORT');<font></font>
    lh_hdr('REQUEST_METHOD')        := OWA_UTIL.get_cgi_env('REQUEST_METHOD');<font></font>
    lh_hdr('PATH_INFO')             := OWA_UTIL.get_cgi_env('PATH_INFO');<font></font>
    lh_hdr('PATH_TRANSLATED')       := OWA_UTIL.get_cgi_env('PATH_TRANSLATED');<font></font>
    lh_hdr('SCRIPT_NAME')           := OWA_UTIL.get_cgi_env('SCRIPT_NAME');<font></font>
    lh_hdr('QUERY_STRING')          := OWA_UTIL.get_cgi_env('QUERY_STRING');<font></font>
    lh_hdr('REMOTE_HOST')           := OWA_UTIL.get_cgi_env('REMOTE_HOST');<font></font>
    lh_hdr('REMOTE_ADDR')           := OWA_UTIL.get_cgi_env('REMOTE_ADDR');<font></font>
    lh_hdr('AUTH_TYPE')             := OWA_UTIL.get_cgi_env('AUTH_TYPE');<font></font>
    lh_hdr('REMOTE_USER')           := OWA_UTIL.get_cgi_env('REMOTE_USER');<font></font>
    lh_hdr('REMOTE_IDENT')          := OWA_UTIL.get_cgi_env('REMOTE_IDENT');<font></font>
    lh_hdr('CONTENT-TYPE')          := OWA_UTIL.get_cgi_env('CONTENT-TYPE');<font></font>
    lh_hdr('CONTENT-LENGTH')        := OWA_UTIL.get_cgi_env('CONTENT-LENGTH');<font></font>
    lh_hdr('HTTP_ACCEPT')           := OWA_UTIL.get_cgi_env('HTTP_ACCEPT');<font></font>
    lh_hdr('HTTP_ACCEPT_LANGUAGE')  := OWA_UTIL.get_cgi_env('HTTP_ACCEPT_LANGUAGE');<font></font>
    lh_hdr('HTTP_USER_AGENT')       := OWA_UTIL.get_cgi_env('HTTP_USER_AGENT');<font></font>
    lh_hdr('HTTP_COOKIE')           := OWA_UTIL.get_cgi_env('HTTP_COOKIE');<font></font>
    lh_hdr('a_prm_uri')             := a_prm_uri;<font></font>
    lh_hdr('a_prm_hdr')             := a_prm_hdr;<font></font>
 <font></font>
    l_hdr := lh_hdr.FIRST;<font></font>
    WHILE l_hdr IS NOT NULL LOOP<font></font>
        IF lh_hdr(l_hdr) IS NOT NULL THEN<font></font>
            l_in_headers := l_in_headers||CHR(10)||l_hdr||': '||lh_hdr(l_hdr);<font></font>
        <span class="hljs-keyword">END</span> <span class="hljs-keyword">IF</span>;<font></font>
        l_hdr := lh_hdr.NEXT(l_hdr);<font></font>
    <span class="hljs-keyword">END</span> <span class="hljs-keyword">LOOP</span>;<font></font>
 <font></font>
    l_resp := '{ "result" : "success" }';<font></font>
 <font></font>
    <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_ws_log<font></font>
        ( message<font></font>
        , request_header<font></font>
        , request_body<font></font>
        , response_header<font></font>
        , response_body)<font></font>
    <span class="hljs-keyword">VALUES</span>
        ( <span class="hljs-literal">NULL</span><font></font>
        , l_in_headers<font></font>
        , a_request<font></font>
        , <span class="hljs-string">'Content-Type: '</span>||l_ccontent_type<font></font>
        , l_resp);<font></font>
 <font></font>
    OWA_UTIL.STATUS_LINE(nstatus =&gt; l_response_status, bclose_header =&gt; FALSE);<font></font>
    OWA_UTIL.MIME_HEADER(ccontent_type =&gt; l_ccontent_type, bclose_header =&gt; FALSE);<font></font>
    OWA_UTIL.HTTP_HEADER_CLOSE();<font></font>
    htp.p(l_resp);<font></font>
<span class="hljs-keyword">END</span> process_request;</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手順内では、新しいパラメーターの値をログに記録するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バインド変数</font></font><code>:prm_uri</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびの</font><font style="vertical-align: inherit;">形式で、POSTリクエストハンドラーに新しいパラメーターを追加します</font></font><code>:prm_hdr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいパラメータを使用したPOSTリクエストリクエストのハンドラ：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span>
    l_blob <span class="hljs-built_in">BLOB</span> := :<span class="hljs-keyword">body</span>;
<span class="hljs-keyword">BEGIN</span><font></font>
    PK_ORDS_API.process_request(a_request =&gt; PK_ORDS_API.blob2clob(l_blob), a_prm_uri =&gt; :prm_uri, a_prm_hdr =&gt; :prm_hdr);<font></font>
EXCEPTION<font></font>
    WHEN OTHERS THEN<font></font>
        OWA_UTIL.STATUS_LINE(nstatus =&gt; 500, bclose_header =&gt; FALSE);<font></font>
        OWA_UTIL.MIME_HEADER(ccontent_type =&gt; 'application/json');<font></font>
        htp.p('{ "result" : "error", "message" : "'||SQLERRM||'" }');<font></font>
<span class="hljs-keyword">END</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハンドラーの[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメーター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]タブで</font><font style="vertical-align: inherit;">、変数を宣言します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mc/cx/mh/mccxmhpqkgnbkll850xmlojvy6e.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このフォームでは、最初のフィールド（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Name</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）に要求で予期されるパラメーターの名前が含まれ、2番目のフィールド（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bind Parameter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）-この要求のハンドラーで指定されるバインド変数の名前が含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
：レッツは、新しいパラメータを持つリクエストの実行</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k1/rj/e5/k1rje5cdkd9prfi8r-canaolczs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果-要求からのパラメータをログに保存された：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4y/vy/c6/4yvyc6zvhi_xkhod215lxywbdee.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
URIからのパラメータもCGI変数から取得することができますノート</font></font><code>QUERY_STRING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、パラメータを受信するためのバインド変数を用意する必要はありません-あなたはハンドラ・プロシージャでそれらを解析することができますリクエスト。</font></font><br>
<br>
<a name="OracleRESTExample1-Step7"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CGI変数</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OracleでHTTPを使用する場合、HTTPリクエストのコンテキストを反映する環境変数の値を取得することが可能です。</font><font style="vertical-align: inherit;">手順を使用して、変数の値を取得できます</font></font><code>OWA_UTIL.get_cgi_env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PL / SQLで利用可能なCGI変数のリスト</font></font></b>
                        <div class="spoiler_text"><code>APEX_LISTENER_VERSION<br>
GATEWAY_INTERFACE<br>
GATEWAY_IVERSION<br>
HTTP_ACCEPT_ENCODING<br>
HTTP_HOST<br>
HTTP_PORT<br>
HTTP_USER_AGENT<br>
PATH_ALIAS<br>
PATH_INFO<br>
PLSQL_GATEWAY<br>
QUERY_STRING<br>
REMOTE_ADDR<br>
REMOTE_USER<br>
REQUEST_CHARSET<br>
REQUEST_IANA_CHARSET<br>
REQUEST_METHOD<br>
REQUEST_PROTOCOL<br>
REQUEST_SCHEME<br>
SCRIPT_NAME<br>
SERVER_NAME<br>
SERVER_PORT<br>
SERVER_PROTOCOL<br>
SERVER_SOFTWARE<br>
WEB_AUTHENT_PREFIX<br>
host<br>
user-agent<br>
CONTENT-LENGTH<br>
CONTENT-TYPE</code></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参照：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://oracle-base.com/articles/misc/oracle-rest-data-services-ords-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPヘッダー（OWA_UTIL）およびORDS固有のバインド変数</font></font></a><br>
<br>
<a name="OracleRESTExample2"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例2：ORDSを介したテーブルへのアクセス</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では、ORDSを介した（テーブルへの）データベースオブジェクトへのアクセスの編成を検討します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の例と同様に、許可なしにアクセスします。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リソースに安全にアクセスする方法をご覧ください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSを介してデータベースオブジェクトにアクセスできるようにするには、1つの手順（コマンド）を実行するだけで済みます</font></font><code>ORDS.ENABLE_OBJECT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その後、次の形式のURIでオブジェクトにアクセスできます。</font></font><br>
<br>
<pre><code class="sql hljs">http://&lt;HOST&gt;:&lt;PORT&gt;/ords/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<a name="OracleRESTExample2-Step1"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストパターンを作成する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例として、テーブル「注文」を作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブル作成スクリプト：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> T_ORDER<font></font>
(<font></font>
  id_order   <span class="hljs-built_in">NUMBER</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
  <span class="hljs-keyword">NUM</span>        <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">32</span>),<font></font>
  buyer_name <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">256</span>),<font></font>
  dt_order   <span class="hljs-built_in">DATE</span>,<font></font>
  memo       <span class="hljs-built_in">VARCHAR2</span>(<span class="hljs-number">2000</span>)<font></font>
);<font></font>
 <font></font>
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> T_ORDER <span class="hljs-keyword">IS</span> <span class="hljs-string">''</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_ORDER.id_order <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_ORDER.num <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_ORDER.buyer_name <span class="hljs-keyword">IS</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_ORDER.dt_order <span class="hljs-keyword">IS</span> <span class="hljs-string">'  '</span>;
<span class="hljs-keyword">COMMENT</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> T_ORDER.memo <span class="hljs-keyword">IS</span> <span class="hljs-string">''</span>;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> T_ORDER <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> PK_T_ORDER PRIMARY <span class="hljs-keyword">KEY</span> (ID_ORDER) <span class="hljs-keyword">USING</span> <span class="hljs-keyword">INDEX</span>;</code></pre><br>
<a name="OracleRESTExample2-Step2"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDSによるテーブルアクセスの開始</font></font></h4><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL Developerで必要なテーブルのコンテキストメニューを呼び出し、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスを有効にする] RESTを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択</font><b><font style="vertical-align: inherit;">します</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/pe/iw/jmpeiwllpn8ailltyqp-zmyfxji.png"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセス設定ウィンドウで</font><font style="vertical-align: inherit;">、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトを有効にする]チェックボックス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をオンにし</font><font style="vertical-align: inherit;">、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">承認が必要</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] </font><b><font style="vertical-align: inherit;">チェックボックス</font></b><font style="vertical-align: inherit;">をオフにして</font><font style="vertical-align: inherit;">、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ] </font><font style="vertical-align: inherit;">（または</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次へ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリック</font><font style="vertical-align: inherit;">して、受信したPL / SQLコードを確認し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">）をクリックします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9q/fj/9e/9qfj9eql816su08ignjwhfbjp24.png"><br>
<br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらの手順を実行</font></font><code>T_ORDER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すると、リソースにアクセスするためのベースURIであるHTTPを通じて</font><font style="vertical-align: inherit;">テーブル</font><font style="vertical-align: inherit;">が使用可能になります。</font></font><br>
<br>
<pre><code class="sql hljs">http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルインクルードリスト：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span>
  <span class="hljs-keyword">PRAGMA</span> AUTONOMOUS_TRANSACTION;
<span class="hljs-keyword">BEGIN</span><font></font>
 <font></font>
    ORDS.ENABLE_OBJECT(p_enabled =&gt; <span class="hljs-literal">TRUE</span>,<font></font>
                       p_schema =&gt; <span class="hljs-string">'WS_TEST'</span>,<font></font>
                       p_object =&gt; <span class="hljs-string">'T_ORDER'</span>,<font></font>
                       p_object_type =&gt; <span class="hljs-string">'TABLE'</span>,<font></font>
                       p_object_alias =&gt; <span class="hljs-string">'t_order'</span>,<font></font>
                       p_auto_rest_auth =&gt; <span class="hljs-literal">FALSE</span>);<font></font>
 <font></font>
    <span class="hljs-keyword">commit</span>;<font></font>
 <font></font>
<span class="hljs-keyword">END</span>;<font></font>
/</code></pre><br>
</li>
</ol><br>
<a name="OracleRESTExample2-Step3"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レコードを作成または編集する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルへのアクセスは開いています-ORDSを使用してテーブル内のレコードを作成および編集する方法を確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レコードを作成するには、リクエストを実行し</font></font><code>PUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSのドキュメントでは、メソッドの説明に次の説明</font></font><code>PUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が指定さ</font><font style="vertical-align: inherit;">れています</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="sql hljs">PUT http://&lt;HOST&gt;:&lt;PORT&gt;/ords/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/&lt;KeyValues&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり</font></font><code>KeyValues</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、新しいレコードが作成される場合でも</font><font style="vertical-align: inherit;">、フィールド</font><font style="vertical-align: inherit;">（レコードキー）に入力する必要があります。</font><font style="vertical-align: inherit;">クエリ自体は、テーブル内のすべてのフィールドをリストする必要があります（ただし、キーフィールドは省略できます）。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問い合わせ</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs">PUT http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25 HTTP/1.1<font></font>
Accept-Encoding: gzip,deflate<font></font>
Content-Type: application/json;charset=UTF-8<font></font>
Content-Length: 157<font></font>
Host: &lt;server&gt;:&lt;port&gt;<font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpClient/4.1.1 (java 1.5)<font></font>
 <font></font>
{<font></font>
	"num" : "ords-3472634",<font></font>
	"buyer_name" : "Buyer Name",<font></font>
	"dt_order" : "2019-10-25T12:00:00Z",<font></font>
	"memo" : "  1"<font></font>
}</code></pre></div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">応答として、作成したばかりのレコードのすべてのフィールドを取得します。</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><font></font>
HTTP/1.1 200 OK<font></font>
Content-Type: application/json<font></font>
Content-Location: http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25<font></font>
ETag: "..."<font></font>
Transfer-Encoding: chunked<font></font>
 <font></font>
{<font></font>
   "id_order": 25,<font></font>
   "num": "ords-3472634",<font></font>
   "buyer_name": "Buyer Name",<font></font>
   "dt_order": "2019-10-25T12:00:00Z",<font></font>
   "memo": "  1",<font></font>
   "links":    [<font></font>
            {<font></font>
         "rel": "self",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25"<font></font>
      },<font></font>
            {<font></font>
         "rel": "edit",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25"<font></font>
      },<font></font>
            {<font></font>
         "rel": "describedby",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/metadata-catalog/t_order/item"<font></font>
      },<font></font>
            {<font></font>
         "rel": "collection",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/"<font></font>
      }<font></font>
   ]<font></font>
}</code></pre></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルの内容を確認します。新しいレコードが</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oy/sb/ud/oysbudug0wwzgn8u7rz5jacs4ng.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
表示されました。レコードを変更するには、同じPUTメソッドを呼び出します。</font><font style="vertical-align: inherit;">注文のメモを変更します。</font></font><br>
<br>
<pre><code class="sql hljs">PUT http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25 HTTP/1.1<font></font>
Accept-Encoding: gzip,deflate<font></font>
Content-Type: application/json;charset=UTF-8<font></font>
Content-Length: 178<font></font>
Host: &lt;server&gt;:&lt;port&gt;<font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpClient/4.1.1 (java 1.5)<font></font>
 <font></font>
{<font></font>
	"num" : "ords-3472634",<font></font>
	"buyer_name" : "Buyer Name",<font></font>
	"dt_order" : "2019-10-25T12:00:00Z",<font></font>
	"memo" : "  1.  "<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
応答では、変更されたレコードのパラメーターを使用して同じJSONを取得します。</font><font style="vertical-align: inherit;">表では、メモが更新されていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gb/ba/ax/gbbaax7cmuudt8bd9osl3ugr6to.png"><br>
<br>
<a name="OracleRESTExample2-Step4"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブルからのレコードの取得</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルからデータをクエリするには、3つのモードがあります。</font></font><br>
 <br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページリクエスト：</font></font><br>
<br>
<pre><code class="sql hljs">GET http://&lt;HOST&gt;:&lt;PORT&gt;/ords/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?offset=&lt;Offset&gt;&amp;limit=&lt;Limit&gt;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件のリクエスト：</font></font><br>
<br>
<pre><code class="sql hljs"> GET http://&lt;HOST&gt;:&lt;PORT&gt;/ords/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/?q=&lt;FilterClause&gt;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主キー要求：</font></font><br>
 <br>
<pre><code class="sql hljs">GET http://&lt;HOST&gt;:&lt;PORT&gt;/ords/&lt;SchemaAlias&gt;/&lt;ObjectAlias&gt;/&lt;KeyValues&gt;</code></pre></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのレコードを取得するには、パラメーターを指定せずにクエリを実行します。</font></font><br>
<br>
<pre><code class="sql hljs">GET http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回答</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs">HTTP/1.1 200 OK<font></font>
Date: Fri, 25 Oct 2019 15:39:58 GMT<font></font>
Content-Type: application/json<font></font>
ETag: "..."<font></font>
Transfer-Encoding: chunked<font></font>
 <font></font>
{<font></font>
   "items": [   {<font></font>
      "id_order": 25,<font></font>
      "num": "ords-3472634",<font></font>
      "buyer_name": "Buyer Name",<font></font>
      "dt_order": "2019-10-25T12:00:00Z",<font></font>
      "memo": "ўµЃ‚ѕІ‹№ ·°є°· 1.  ·јµЅ‚Њ їЂјµ‡°Ѕµ",<font></font>
      "links": [      {<font></font>
         "rel": "self",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25"<font></font>
      }]<font></font>
   }],<font></font>
   "hasMore": false,<font></font>
   "limit": 25,<font></font>
   "offset": 0,<font></font>
   "count": 1,<font></font>
   "links":    [<font></font>
            {<font></font>
         "rel": "self",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/"<font></font>
      },<font></font>
            {<font></font>
         "rel": "edit",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/"<font></font>
      },<font></font>
            {<font></font>
         "rel": "describedby",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/metadata-catalog/t_order/"<font></font>
      },<font></font>
            {<font></font>
         "rel": "first",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/"<font></font>
      }<font></font>
   ]<font></font>
}</code></pre></div>
                    </div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OracleにエンコーディングをContent-Typeヘッダーに追加させる方法は未解決の問題です。</font></font></i><br>
<br>
<pre><code class="sql hljs">GET http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回答</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs">HTTP/1.1 200 OK<font></font>
Date: Fri, 25 Oct 2019 15:44:35 GMT<font></font>
Content-Type: application/json<font></font>
ETag: "..."<font></font>
Transfer-Encoding: chunked<font></font>
 <font></font>
{<font></font>
   "id_order": 25,<font></font>
   "num": "ords-3472634",<font></font>
   "buyer_name": "Buyer Name",<font></font>
   "dt_order": "2019-10-25T12:00:00Z",<font></font>
   "memo": "ўµЃ‚ѕІ‹№ ·°є°· 1.  ·јµЅ‚Њ їЂјµ‡°Ѕµ",<font></font>
   "links":    [<font></font>
            {<font></font>
         "rel": "self",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25"<font></font>
      },<font></font>
            {<font></font>
         "rel": "edit",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/25"<font></font>
      },<font></font>
            {<font></font>
         "rel": "describedby",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/metadata-catalog/t_order/item"<font></font>
      },<font></font>
            {<font></font>
         "rel": "collection",<font></font>
         "href": "http://&lt;server&gt;:&lt;port&gt;/ords/ws_test/t_order/"<font></font>
      }<font></font>
   ]<font></font>
}</code></pre></div>
                    </div><br>
<a name="OracleRESTExample2-Step5"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レコードを削除</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
削除するには、HTTPメソッドを使用します</font></font><code>DELETE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問い合わせ：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">http</span>://&lt;<span class="hljs-keyword">server</span>&gt;:&lt;port&gt;/ords/ws_test/t_order/?q={<span class="hljs-string">"id_order"</span>:<span class="hljs-number">25</span>}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元の形式のリクエスト：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">http</span>://&lt;<span class="hljs-keyword">server</span>&gt;:&lt;port&gt;/ords/ws_test/t_order/?q=%<span class="hljs-number">7</span>B%<span class="hljs-number">22</span>id_order%<span class="hljs-number">22</span>%<span class="hljs-number">3</span>A25%<span class="hljs-number">7</span>D</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回答：</font></font><br>
<br>
<pre><code class="sql hljs">HTTP/1.1 200 OK<font></font>
Date=Fri, 25 Oct 2019 16:23:39 GMT<font></font>
Content-Type=application/json<font></font>
Transfer-Encoding=chunked<font></font>
 <font></font>
{"rowsDeleted":1}</code></pre><br>
<a name="OracleRESTSummary"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査結果</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORDSは、Webサービスを操作するためのかなり柔軟で用途の広いメカニズムであり、本格的なRESTを実装できます。パフォーマンスの点では、内部XML解析が重いため、ネイティブOracle WSよりもはるかに優れています。高負荷のシステムを実装するには、このアプローチは適していません。この場合、別のアプリケーションサーバー、リクエストのプロキシ、クラスター化されたデータベースの使用など、別のテクノロジースタックが必要です。ただし、HTTPリクエストの数が比較的少ない（1秒あたり最大10〜20）システムの実装では、パフォーマンスと柔軟性の両方においてORDSが最適なアプローチです。 ORDSは、Webサービス仕様の生成に関してのみネイティブOracle WSよりも劣っています。後者は、サービスのコンシューマーに「そのまま」提供できる完全に完成した仕様（WSDL）を提供します。 ORDSも持っている</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">能力を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明を生成しますが、完全にユニバーサルなサービスを使用するこの記事で検討されているアプローチ（すべてのサービスに共通の処理手順がある場合）では、仕様の自動生成は不可能になります。</font><font style="vertical-align: inherit;">Oracleは最上位の仕様のみを生成し、パーツ（データモデル）は手動で記述する必要があります。</font></font><br>
<br>
<a name="Alternatives"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替アプローチ</font></font></h2><br>
<a name="JavaServlet"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaサーブレット</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成方法でWebサービスを作成するためのこのオプションは、ネイティブOracle WSに似ています。また、Oracleの組み込みHTTPサーバーとACL設定（およびその他すべての方法）を使用する必要があります。ただし、ネイティブOracle WSとは異なり、このオプションは純粋なHTTPで機能します。 （この場合、要求ハンドラは、Javaで書かれており、HTTP要求タイプでのみ見るさ</font></font><code>PUT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>GET</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>POST</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それが行われ、すべてのタイプのための1つのハンドラことができるが、等）、処理ロジックは完全に開発者の裁量に留まります。リクエストの本文を「そのまま」データベースロジックに転送し、分解して処理したり、ロジックの一部をJavaハンドラー側に残したり、データベースから、リクエストに含まれるデータに応じて必要なプロシージャを呼び出したりできます。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webサービスの実装に対するこのアプローチは非常に普遍的であり、追加のコンポーネントをインストールする必要もありません。</font><font style="vertical-align: inherit;">サービスの要件が厳しいため、それを適用することができませんでした。認証を必要としないWebサービスが必要でした。</font><font style="vertical-align: inherit;">このアプローチを実装する場合、認証が必要であり、この要件を回避することはできませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法の詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracleのドキュメントを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a name="DatabaseAccessDescriptor"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースアクセス記述子（PL / SQLサーブレット）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このオプションは前のオプションと完全に似ており、PL / SQLストアドプロシージャのみがリクエストハンドラとして機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
URLの例-パッケージ名、プロシージャ名、パラメーター（GETリクエスト）が示されています。</font></font><br>
<br>
<pre><code class="sql hljs">GET http://&lt;server&gt;:&lt;port&gt;/servlet_plsql/pi_test.test_serv?p_path=ppp </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
POSTリクエストの場合、パラメータ名は「=」記号を使用してリクエストの本文に直接入力する必要があります。この場合、リクエストコンテンツのタイプ（ContentType）はテキストのみなので、不便です。</font><font style="vertical-align: inherit;">次の形式でのみ、xmlまたはjson構造を転送できます。</font></font><br>
<br>
<pre><code class="sql hljs">p_proc_param_name=&lt;xml_data&gt;…&lt;/xml_data&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このバージョンのWebサービスは、非常に単純な要求（単純なデータ型のプロシージャコール）を処理する場合にのみ適用できます。</font><font style="vertical-align: inherit;">このオプションで複雑なマルチレベル構造を送信すると機能しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチはされて</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">詳細</font><font style="vertical-align: inherit;">ORACLE-BASEのウェブサイトで。</font></font><br>
<br>
<a name="Conclusion"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OracleでのWebサービスの作成は非常に単純なタスクであり、非常に複雑なコードを記述する必要はありません。同時に、Oracle開発者は、異機種システムまたはシステムの一部をHTTP経由で統合できるかなり強力なメカニズムを手に入れます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、Webサービスを作成するための4つのアプローチを検討しました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネイティブOracle WS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は時代遅れのテクノロジーですが、自動生成されたWSDL、XMLの自動解析、追加のソフトウェアをインストールする必要がないという利点があります。主な欠点は、サポートされているデータ型のパフォーマンスと制限です。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORDS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-私の意見では、Webサービスを作成するための好ましい方法です。十分に柔軟で用途が広い。この方法の不便な点は、標準のOracleパッケージに含まれていないこと、つまり、別途インストールする必要があることだけです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaサーブレット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、追加のソフトウェアのインストールを必要としない完全に普遍的な方法です。ただし、サービスを自動生成する可能性がないため、すべてを完全に手動で行う必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PL / SQLサーブレット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、最も成功していないアプローチです。さらに、このオプションでは、追加のソフトウェアをインストールしたり、他の言語で追加のコードを記述したりせずに、HTTP経由でストアドプロシージャを呼び出すことができることを区別できます。すべてのコードはPL / SQLでのみ記述されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご清聴ありがとうございました！</font><font style="vertical-align: inherit;">この記事の資料が、オラクル製品に何らかの形で関係していて、システム内およびシステム間の統合の問題に戸惑っている人にとって役立つことを願っています。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加資料</font></font></b>
                        <div class="spoiler_text"><b>Native Oracle XML DB Web Services </b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Using Native Oracle XML DB Web Services</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Native Oracle XML DB Web Services in Oracle 11g Release 1</a><br>
<br>
<b>ORDS</b><br>
<br>
: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Installation, Configuration, and Development Guide</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Install Oracle REST Data Services 3.0.X in under 5 minutes</a><br>
<br>
CGI-: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://oracle-base.com/articles/misc/oracle-rest-data-services-ords-">HTTP Headers (OWA_UTIL) and ORDS-Specific Bind Variables</a><br>
<br>
  ORDS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Oracle REST Data Services (ORDS)&nbsp;: Authentication</a><br>
<br>
ORDS  Open API (Swagger): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Oracle REST Data Services (ORDS)&nbsp;: Open API 2.0 (Swagger) Support</a><br>
<br>
ORDS,  BLOB: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ORDS web services returning BLOBs</a> <br>
<br>
<b>Java Servlet </b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Writing Oracle XML DB HTTP Servlets in Java</a><br>
<br>
<b>Database Access Descriptor (PL/SQL Servlet)</b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">DBMS_EPG — The Embedded PL/SQL Gateway in Oracle 10g Database Release 2</a> <br>
</div>
                    </div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja502014/index.html">雇用主：フリーランサーデーを祝おう</a></li>
<li><a href="../ja502018/index.html">モバイルデバイスのセキュリティとそれらの保護ソリューションの開発に関するポッドキャスト</a></li>
<li><a href="../ja502020/index.html">RoadHunters.io-世界中のモーターサイクリストを紹介します</a></li>
<li><a href="../ja502024/index.html">Androidでのクライアントサーバーアプリケーションの宣言型プログラミング。パート2</a></li>
<li><a href="../ja502028/index.html">Vanyaは祖母または動的JavaScriptアダプティブに行く</a></li>
<li><a href="../ja502034/index.html">Reactの制御および非制御コンポーネントは複雑である必要はありません</a></li>
<li><a href="../ja502038/index.html">アトムを上げる、2.0.1に近づく</a></li>
<li><a href="../ja502040/index.html">句動詞-5について（上/下）</a></li>
<li><a href="../ja502042/index.html">アナリストへのインタビュー-Alexer Sibrikov、AppMetricaのプロダクトマネージャー</a></li>
<li><a href="../ja502044/index.html">ウラジミール・キトフ：「テレビモニターを実質的に地下にOBにしました」</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>