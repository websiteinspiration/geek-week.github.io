<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎍 👙 ➗ 絶縁型USB-UARTコンバーター 🎐 ♓️ 🤚🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="マイクロコントローラーの制御下で電子デバイスを開発するプロセスでは、デバイスからコンピューターへ、またはその逆でデータを転送するというタスクが発生することがよくあります。おそらく最も簡単な方法は、USB-UARTアダプターを使用することです。その中には非常に多くありますが、私は自分で「自転車」を作っ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>絶縁型USB-UARTコンバーター</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478068/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロコントローラーの制御下で電子デバイスを開発するプロセスでは、デバイスからコンピューターへ、またはその逆でデータを転送するというタスクが発生することがよくあります。おそらく最も簡単な方法は、USB-UARTアダプターを使用することです。その中には非常に多くありますが、私は自分で「自転車」を作って結果をあなたと共有することにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の仕事は、愛する人をシンプル、安価、コンパクト、そして最も重要な電気的に絶縁されたUSB-UARTコンバーターにすることでした。私の主なケースは、uartを使用してprintfを介してデバッグすることです。はい、はい。SWOやその他の方法は知っていますが、uartを使用する方が便利です。断熱材の存在は私にとって重要です、なぜならラップトップのUSBポートなど、簡単に書き込みができる電力変換器を設計する必要があります。ただし、デバイスに高電圧がかかっていない場合は、リラックスしてはいけません。12VでもPCに完全な損傷を与える可能性があります。もちろん、干渉を忘れないでください。ガルバニック絶縁は、泥がUSBポートに入るのを部分的に防ぎます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のように、分離されたインターフェイスコンバーターにはいくつかの利点がありますが、ここではいくつかのことに反対します。</font><font style="vertical-align: inherit;">それでもAliexpressにあります。</font><font style="vertical-align: inherit;">ここでの答えは簡単です。完成したデバイスの価格、寸法、品質に満足していませんでした。</font><font style="vertical-align: inherit;">その結果、数時間で私はすべてのウィッシュリストを満足させる「自転車を発明」し、製造後は次のように</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4p/82/lq/4p82lqaxkefubuul_a-x5edehsq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なりました。USBポートを保護して、なぜそれが多いのか調べてみませんか？</font><font style="vertical-align: inherit;">次に行きましょう:)）</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概念</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当初、私は自分自身をデバッグ用のいくつかの「笛」にしたいと思っていました。将来的には、それらを使用して顧客に送信することもできます。たとえば、組み込みのブートローダーを介してファームウェアを安全に更新したり、問題が発生した場合にログを削除したりします。したがって、タスクは非常に安い鉄片を作ることでした。左右に分配するのは残念ではありません。確かに、すべてが少し異なって行きました... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の電報チャネルで、私は注文に参加することを申し出ました、なぜならロットの増加で装置のコストが減少したからです。その結果、1日あたり50個+10個の注文が集まり、それ以上は集まりませんでした。したがって、実際には、KDPVは10個ではなく数個です。今後は、このような小規模な注文により、1台のデバイスのコストを640ルーブルから375ルーブルに削減できたので、かなり良いと言えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンバーターのもう1つの特徴は、5 Vの電気的に絶縁されたDC / DCコンバーターがインストールされていないことです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0l/dw/fr/0ldwfr4kcezjvx9-9x41xwyeopi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブロック</font><font style="vertical-align: inherit;">図は次のようになります。</font><font style="vertical-align: inherit;">ご覧のとおり、ISO7721アイソレーターは左側にある5V USB自体から給電され、右側には必要な論理レベルの電圧をすでに供給している必要があります。このアイソレータは、2.5、3.3、および5Vの標準レベルで動作します。つまり、STM32を使用している場合は、VREFピンに+ 3.3Vを適用し、ATmega8を使用している場合は、+ 5Vを適用します。かなり便利で、このソリューションには多くの利点があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、通常のDC / DCを設定すると、デバイスのコストが2倍に増加します。そのため、USB側から常に電力があり、MK側からも電力がある場合に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、たとえば、入力電圧が5Vで出力電圧が3.3Vのdc / dcをインストールする場合、そこから5VのMKを供給することはほとんどありません。</font><font style="vertical-align: inherit;">私は本当にこれは必要ありませんが、私たちはatmegsと皮質だけで生活していないので、おそらく誰かが5Vを必要とするでしょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事業</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで主なこと-プロジェクトに。</font><font style="vertical-align: inherit;">Altium Designerで実行され、プロジェクトソースが開かれ、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADのライブラリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も必要に応じて開かれます。</font><font style="vertical-align: inherit;">Altiumをお持ちでない方のために、必要なファイルをすべてアップロードしました。最も重要なのは、プリント基板を注文するためのガーバーファイルです。</font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのプロジェクトソースはgithubにあります</font></font></a></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AltiumProject-AD19のソースプロジェクト</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント-PDF形式および仕様（BOM）の回路図</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製造-プリント回路基板（ガーバーおよびNCドリル）の製造用ファイルのセット</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機械-3Dデバイスモデル</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パネリング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自分で注文するのは10枚ではなく数枚だったので、パネルで組み立てることにしました。確かに将来的には、各コンバーターから少なくとも10〜20個のデータも収集し、一度に10枚のボードにコンポーネントをインストールする方がはるかに便利で高速です。私はまた、100枚のボードをすぐに注文することにしました。将来的に便利になるためです。中国の低コスト航空会社（PCBwayで注文しました）の価格設定ポリシーでは、100枚のボードは60枚にもなる</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
という結果になっています。 PCBの厚さは非標準の2 mmで、コストがわずかに増加しました。配達で、注文は98ドルまたは0.98ドル/ PCで出ました。もっと厚みを選んだのはPCBが2 mmの場合、PLSコネクタの端子間に完全にフィットします。これにより、取り付けが簡単になり、さらにボードの剛性と強度が向上します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/em/ga/rj/emgarjbtjpbfnqtz2eld-xezt-w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しばらくして、これらのパネルが私に来ました：</font><font style="vertical-align: inherit;">それに</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jb/bk/yd/jbbkyde9vrr4kcrtag4kaefbfwm.png"><br>
<br>
<img src="https://habrastorage.org/webt/mv/e6/i3/mve6i3tdaac3ytewr4n14u3yepa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ペーストを適用するためのステンシル：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/uv/_i/wquv_iwqw2yokxew0wdlkaxbaus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
githubでこのコンバーターをアセンブルしたい人のために、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製造</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォルダー</font><font style="vertical-align: inherit;">には、単一のボードと10ボードのパネルの両方のガーバーファイルがあり</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">写真のように。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組み立てとテスト</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスはシンプルで、18個のコンポーネントのみで構成されているため、ここで間違いをすることはあまりありません。すべてがすぐに機能し、インストールに起因する唯一の問題は、通常、何かが機能しない場合に、USBコネクタのはんだ付けとQFNケースを確認します。すべて残りは問題になりません。すべての抵抗器、コンデンサー、およびLEDのサイズは0603です。これは、ヘアドライヤーやオーブンではんだ付けするときにも問題を引き起こさないはずです。初心者でも、はんだごてでそれを行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
60個を組み立てた後、郵送前に確認する必要があったので、私はそれを簡単に行いました。PLD-4の対応物であるPBD-4コネクタを取り、RXとTXのレッグを短くして「エコー」、つまり、ここから端末から送信されたデータを取得しましたしかし、彼らは彼に受け入れられました。そして実際には、VREFおよびGNDコネクタの端子に3.3または5Vを印加することを忘れないでください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/vm/x3/kivmx35hzma8y6gs3bp1yn1rvkw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスをテストするためのシンプルで迅速な方法が得られます。</font><font style="vertical-align: inherit;">私はYAT端末でテストし、文字列を送信するだけで、すべてが問題なければ、すぐに戻ってきました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jt/_k/u4/jt_ku4elcwobgmoitrckmexwgcw.png"> <br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この小さなプロジェクトの結果として、トランスフォーマーが12の都市に送られました;最終的な受信者の場合、コンバーターのコストは、375ルーブル/ p​​c + 1クラス175の航空便によるクラスごとの転送です。</font><font style="vertical-align: inherit;">理論的には、デジキーではなく中国でコンポーネントを注文することでさらに安くすることができますが、サムスンがまだサムスンであり、ヤゲオがヤゲオであることを確信しているので、私はとても落ち着いています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、それは1つの単純な理由で安価であることがわかりました-プロジェクトには商用コンポーネントがありません。</font><font style="vertical-align: inherit;">ここにすべての時間の費用と利益を投入した場合、価格はそれほど興味深いものではなく、「稼ぐ」タスクの利点はそうではありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰かがこのプロジェクトに興味を持ち、問題なくそれを繰り返すことができることを願っています。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">githubで</font></a><font style="vertical-align: inherit;">安く</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> VOMから部品番号の位置を購入できない場合の交換の説明があります。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja478054/index.html">もう一度Google Fit。彼は仕事をしていますか？</a></li>
<li><a href="../ja478056/index.html">RBC：ロシアの取引所で貯蓄が少ない投資家の数が増加</a></li>
<li><a href="../ja478058/index.html">Habr Weekly＃29 /スマートフォンからのスマートディスプレイ、スコットランドのITライフ、州で開発された成長方法、Stadiaは離陸しません</a></li>
<li><a href="../ja478062/index.html">プロフェッショナルコミュニティFacebook開発者サークル：モスクワがMLとAIに関する一連のイベントを開始</a></li>
<li><a href="../ja478064/index.html">地形クレチン主義から何をするか：視空間機能のためのゲーム</a></li>
<li><a href="../ja478070/index.html">実験-ペアプログラミングからチーム全体のプログラミングまで</a></li>
<li><a href="../ja478072/index.html">Shopifyが1,000人を超える開発者とコラボレーションした方法</a></li>
<li><a href="../ja478078/index.html">Google Playで年間最高のアプリケーションにノミネートする：少なくとも始める方法（パート1）</a></li>
<li><a href="../ja478084/index.html">アルメニアでのスタートアップ立ち上げ-自分でエレバンを発見</a></li>
<li><a href="../ja478086/index.html">アヒルが賢くなります-QuAckテスト管理システム</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>