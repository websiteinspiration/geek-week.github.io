<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴‍☠️ 🧚🏿 🍑 Effektiv Autotests schreiben - Subkutane Tests 🔅 🈂️ 🐩</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stellen wir uns eine hypothetische Situation vor (in die wir regelmäßig eintauchen). Sie wurden einem Projekt zur "Gash" -Automatisierung zugewiesen. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Effektiv Autotests schreiben - Subkutane Tests</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502154/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stellen wir uns eine </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hypothetische</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Situation vor (in die wir regelmäßig eintauchen). </font><font style="vertical-align: inherit;">Sie wurden einem Projekt zur "Gash" -Automatisierung zugewiesen. </font><font style="vertical-align: inherit;">Sie erhalten einen riesigen Testplan mit einer großen Anzahl (Tausende von ihnen!) Von „manuellen“ Tests, und sie sagen, dass Sie etwas tun müssen, und zwar genau dort. </font><font style="vertical-align: inherit;">Und auch zu schnell und stabil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist </font><font style="vertical-align: inherit;">zu spät </font><font style="vertical-align: inherit;">, Unit-Tests </font><font style="vertical-align: inherit;">zu </font><font style="vertical-align: inherit;">schreiben oder an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TDD zu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> denken </font><font style="vertical-align: inherit;">. Der Produktcode wurde schon lange geschrieben. </font><font style="vertical-align: inherit;">Dein Wort, Genosse Autotester! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/c6/l-/p9/c6l-p9jm_r8j9ix3dpkptsalx3i.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Glücklicherweise gibt es einen kleinen Trick, der die Abdeckung erhöht und die Tests stabil und schnell macht - subkutane Tests („subkutane Tests“), aber das Wichtigste zuerst.</font></font><br>
<a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Wesentliche des Problems</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste bedingte Reflex des Automators ist die Einnahme von Selen (entweder dort, Selenid oder ein anderes Wunderkind für UI-Tests). </font><font style="vertical-align: inherit;">Dies ist ein solcher Industriestandard, aber es gibt viele Gründe, warum er nicht startet:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI-Tests sind langsam. </font><font style="vertical-align: inherit;">Es gibt kein Entrinnen davon. </font><font style="vertical-align: inherit;">Sie können parallel ausgeführt, abgelegt und etwas schneller ausgeführt werden, bleiben jedoch langsam.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI-Tests sind instabil. </font><font style="vertical-align: inherit;">Zum Teil, weil sie langsam sind. </font><font style="vertical-align: inherit;">Und auch, weil der Webbrowser und die Benutzeroberfläche nicht für die Steuerung durch einen Computer erstellt wurden (dieser Trend ändert sich derzeit, aber nicht die Tatsache, dass dies gut ist).</font></font></li>
<li>UI- —        .    <i> </i>. (   , , ,   «» -      ,        ).</li>
<li> , , , UI-   . <b>  . </b>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">ID  XPath </a>.       ,   «»  -       -  .   ,      ,      —  - ,    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jemand wird sagen, dass einige Funktionen einfach nicht anders getestet werden können. </font><font style="vertical-align: inherit;">Ich werde sagen, dass wenn es Funktionen gibt, die nur durch UI-Tests getestet werden können (mit Ausnahme der UI-Logik selbst), dies ein gutes Zeichen für Architekturprobleme im Produkt sein kann.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das einzige wirkliche Plus von UI-Tests ist, dass Sie damit mehr oder weniger nützliche Schecks „werfen“ können, ohne den Code des Produkts selbst tauchen und studieren zu müssen. </font><font style="vertical-align: inherit;">Was auf lange Sicht kaum ein Plus ist. </font><font style="vertical-align: inherit;">Eine ausführlichere Erklärung, warum dies zu hören ist, finden Sie in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieser Präsentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alternative Lösung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als sehr einfachen Fall betrachten wir eine Anwendung, die aus einem Formular besteht, in das Sie einen gültigen Benutzernamen eingeben können. </font><font style="vertical-align: inherit;">Wenn Sie einen Benutzernamen eingeben, der den Regeln entspricht, wird der Benutzer im System erstellt und in der Datenbank aufgezeichnet. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ef/sx/qs/efsxqs-1l5hrlvozwlt78knzps8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Den Quellcode der Anwendung finden Sie hier: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/senpay/login-form</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sie wurden gewarnt - in der Anwendung gibt es viele Fehler und es gibt keine modischen Tools und Frameworks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie versuchen, ein Scheckblatt für diese Anwendung zu "werfen", können Sie Folgendes erhalten:</font></font><br>
<div class="scrollable-table"><table border="1">
<tbody>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nummer</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritte</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erwartete Ergebnisse</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Geben Sie einen gültigen Benutzernamen ein. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Klicken Sie auf die Schaltfläche "Anmelden"</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Ein neuer Benutzer wird erstellt.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Geben Sie einen leeren Benutzernamen ein. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Klicken Sie auf die Schaltfläche "Anmelden"</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Die Fehlermeldung wird gegeben.</font></font></td>
</tr>
</tbody>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sieht es einfach aus Einfach! Kann ich UI-Tests schreiben? Kann. Ein Beispiel für die schriftlichen Tests (zusammen mit einem vollständigen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dreistufigen Framework</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) finden Sie in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoginFormTest.java,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wenn Sie zum </font><font style="vertical-align: inherit;">Label </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uitests</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git checkout uitests</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) gehen:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginFormTest</span> </span>{<font></font>
<font></font>
    SelenideMainPage sut = SelenideMainPage.INSTANCE;<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String APPLICATION_URL = <span class="hljs-string">"http://localhost:4567/index"</span>;<font></font>
<font></font>
    <span class="hljs-meta">@BeforeClass</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUpClass</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> String[] args = {};<font></font>
        Main.main(args);<font></font>
        Configuration.browser = <span class="hljs-string">"firefox"</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> </span>{<font></font>
        open(APPLICATION_URL);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@After</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">tearDown</span><span class="hljs-params">()</span> </span>{<font></font>
        close();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldBeAbleToAddNewUser</span><span class="hljs-params">()</span> </span>{<font></font>
        sut.setUserName(<span class="hljs-string">"MyCoolNewUser"</span>);<font></font>
        sut.clickSubmit();<font></font>
        Assert.assertEquals(<span class="hljs-string">"Status: user MyCoolNewUser was created"</span>, sut.getStatus());<font></font>
        Assert.assertTrue(sut.getUsers().contains(<span class="hljs-string">"Name: MyCoolNewUser"</span>));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldNotBeAbleToAddEmptyUseName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> numberOfUsersBeforeTheTest = sut.getUsers().size();<font></font>
        sut.clickSubmit();<font></font>
        Assert.assertEquals(<span class="hljs-string">"Status: Login cannot be empty"</span>, sut.getStatus());<font></font>
        Assert.assertEquals(numberOfUsersBeforeTheTest, sut.getUsers().size());<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einige Metriken für diesen Code:</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ausführungszeit: ~ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 Sekunden</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (12 Sekunden 956 Millisekunden, als ich diese Tests das letzte Mal ausgeführt habe) </font></font><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codeabdeckung</font></font></u><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Klasse: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100%</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Methode: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">93,8% (30/32)</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Zeile: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97,4% (75/77) )</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nehmen wir nun an, dass funktionale AutoTests auf der Ebene „unmittelbar unter“ der Benutzeroberfläche geschrieben werden können. Diese Technik wird als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">subkutane Tests bezeichnet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> („subkutane Tests“ - Tests, die unmittelbar unter dem Niveau der Anzeigelogik liegen) und wurde vor langer Zeit von Martin Fowler vorgeschlagen [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ].</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Leute an Autotests ohne Benutzeroberfläche denken, denken sie oft sofort an REST / SOAP oder seine API. </font><font style="vertical-align: inherit;">Die API (Application Programming Interface) ist jedoch ein viel umfassenderes Konzept, das sich nicht unbedingt auf HTTP und andere Schwergewichtsprotokolle auswirkt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir einen </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Produktcode</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auswählen </font><font style="vertical-align: inherit;">, können wir etwas Interessantes finden:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserApplication</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> IUserRepository repository = <span class="hljs-keyword">new</span> InMemoryUserRepository();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> UserService service = <span class="hljs-keyword">new</span> UserService(); {<font></font>
        service.setUserRepository(repository);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">getUsersList</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> getUsersList(<span class="hljs-string">"N/A"</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, Object&gt; <span class="hljs-title">addUser</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String username)</span> </span>{
        <span class="hljs-keyword">final</span> String status = service.addUser(username);
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; model = getUsersList(status);
        <span class="hljs-keyword">return</span> model;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Map&lt;String, Object&gt; <span class="hljs-title">getUsersList</span><span class="hljs-params">(String status)</span> </span>{
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; model = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<font></font>
        model.put(<span class="hljs-string">"status"</span>, status);<font></font>
        model.put(<span class="hljs-string">"users"</span>, service.getUserInfoList());
        <span class="hljs-keyword">return</span> model;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir auf eine Benutzeroberfläche klicken, wird eine dieser Methoden aufgerufen oder ein neues Benutzerobjekt hinzugefügt oder eine Liste bereits erstellter Benutzerobjekte zurückgegeben. </font><font style="vertical-align: inherit;">Was ist, wenn wir diese Methoden </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direkt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> anwenden? </font><font style="vertical-align: inherit;">Immerhin ist dies eine echte API! </font><font style="vertical-align: inherit;">Und am wichtigsten ist, dass REST und andere APIs nach dem gleichen Prinzip arbeiten - sie nennen eine bestimmte Methode der "Controller-Ebene". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesen Methoden können wir einen einfacheren und besseren Test schreiben:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserApplicationTest</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">private</span> UserApplication sut;<font></font>
<font></font>
    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> </span>{<font></font>
       sut = <span class="hljs-keyword">new</span> UserApplication();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldBeAbleToAddNewUser</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; myCoolNewUser = sut.addUser(<span class="hljs-string">"MyCoolNewUser"</span>);<font></font>
        Assert.assertEquals(<span class="hljs-string">"user MyCoolNewUser was created"</span>, myCoolNewUser.get(<span class="hljs-string">"status"</span>));<font></font>
        Assert.assertTrue(((List) myCoolNewUser.get(<span class="hljs-string">"users"</span>)).contains(<span class="hljs-string">"Name: MyCoolNewUser"</span>));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shouldNotBeAbleToAddEmptyUseName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; usersBeforeTest = sut.getUsersList();
        <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> numberOfUsersBeforeTheTest = ((List) usersBeforeTest.get(<span class="hljs-string">"users"</span>)).size();
        <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; myCoolNewUser = sut.addUser(<span class="hljs-string">""</span>);<font></font>
        Assert.assertEquals(<span class="hljs-string">"Login cannot be empty"</span>, myCoolNewUser.get(<span class="hljs-string">"status"</span>));<font></font>
        Assert.assertEquals(numberOfUsersBeforeTheTest, ((List) myCoolNewUser.get(<span class="hljs-string">"users"</span>)).size());<font></font>
    }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Code ist unter den Label- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untertests verfügbar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="bash hljs">git checkout subctests</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versuchen wir, Metriken zu sammeln. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ausführungszeit: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ 21 Millisekunden </font></font></b><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codeabdeckung</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klasse: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77,8%</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Methode: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78,1 (30/32)</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Zeile: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78,7 (75/77)</font></font></b><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir haben ein wenig Deckung verloren, aber die Geschwindigkeit der Tests hat sich 600-mal erhöht !!!</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wichtig / signifikant ist der Deckungsverlust in diesem Fall? </font><font style="vertical-align: inherit;">Es kommt auf die Situation an. </font><font style="vertical-align: inherit;">Wir haben einen kleinen Klebercode verloren, der wichtig sein kann (oder auch nicht) (ich empfehle zu bestimmen, welcher Code als Übung verloren geht). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rechtfertigt dieser Verlust der Abdeckung die Einführung von Schwergewichtstests auf UI-Ebene? </font><font style="vertical-align: inherit;">Es kommt auch auf die Situation an. </font><font style="vertical-align: inherit;">Wir können zum Beispiel:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fügen Sie einen UI-Test hinzu, um den Klebercode zu überprüfen, oder</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir keine häufigen Änderungen am Klebercode erwarten, lassen Sie ihn ohne Autotests oder</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir eine Art „manuelles“ Testen haben, besteht eine große Wahrscheinlichkeit, dass der Tester Probleme mit dem Klebercode bemerkt, oder</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lassen Sie sich etwas anderes einfallen (gleicher Einsatz auf den Kanaren)</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassend</font></font></h3><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionale Autotests müssen nicht auf UI- oder REST / SOAP-API-Ebene geschrieben werden. </font><font style="vertical-align: inherit;">Die Verwendung von „subkutanen Tests“ in vielen Situationen testet dieselbe Funktionalität mit höherer Geschwindigkeit und Stabilität.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einer der Nachteile des Ansatzes ist ein gewisser Deckungsverlust.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Weg, um einen Verlust der Abdeckung zu vermeiden, ist das „ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feature-Test-Modell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aber selbst mit dem Verlust der Abdeckung ist die Erhöhung der Geschwindigkeit und Stabilität signifikant.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine englische Version des Artikels finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de502134/index.html">Genug, um Angst vor subjektiv schönen Entscheidungen im Code zu haben - Sie sind keine Roboter</a></li>
<li><a href="../de502136/index.html">Datenkomprimierung in Apache Ignite. Sberbank Erfahrung</a></li>
<li><a href="../de502146/index.html">Online Roundtable "Ich möchte gamedev"</a></li>
<li><a href="../de502148/index.html">Verwenden von Komponenten von Drittanbietern im Speicher am Beispiel von Qsan</a></li>
<li><a href="../de502150/index.html">Skalieren eines Hochlastnetzwerks mit Nutanix: Funktionen und Herausforderungen anhand eines persönlichen Falls</a></li>
<li><a href="../de502156/index.html">Rambler gegen NGINX Fall: Kriminelle Risiken der Digitalisierung Roundtable 16. Mai</a></li>
<li><a href="../de502158/index.html">So organisieren Sie Tests, um Produktfreigaben zu beschleunigen und zu stabilisieren. Teil 2</a></li>
<li><a href="../de502160/index.html">Die Entwicklung von benutzerdefinierten mobilen Apps ist kostengünstig: Realität oder Illusion</a></li>
<li><a href="../de502166/index.html">Ghosts Windows 3.1</a></li>
<li><a href="../de502176/index.html">Los: JSON-Deserialisierung mit falscher Eingabe oder Umgehen von API-Entwicklerfehlern</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>