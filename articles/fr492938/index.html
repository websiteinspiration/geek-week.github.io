<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☁️ 👨‍🚒 🕜 Portail d'environnements de test, ou Save our devops 👖 🤜🏿 👧🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelques années, nous nous sommes sentis dans une sorte de rêve surréaliste. Tout le monde est allé dans le cloud pour les tests (il est pratiq...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Portail d'environnements de test, ou Save our devops</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/technoserv/blog/492938/"><img src="https://habrastorage.org/webt/wi/tu/rr/witurrrxurlbqvnj3bklqblic1o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a quelques années, nous nous sommes sentis dans une sorte de rêve surréaliste. Tout le monde est allé dans le cloud pour les tests (il est pratique d'étendre et de réduire les environnements de test), et nous avons essayé de savoir quels outils prêts à l'emploi devraient être fournis. Pour ce faire, nous avons déterminé avec les clients comment fonctionnent les processus devops. Et il s'est avéré que seules quelques entreprises en Russie utilisent l'automatisation avec compétence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais immédiatement expliquer que, pour la plupart, nous avons parlé soit avec ceux qui sont engagés dans le développement de 150 à 200 personnes au sein de l'entreprise, soit avec des secteurs où l'informatique est traditionnellement difficile. Les grandes entreprises ont généralement à la fois un processus et leur propre cloud, et elles viennent nous voir pour un déploiement de sauvegarde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La production est généralement bien établie. Il y a un cycle, un plan de publication, il y a un objectif, le code va à l'objectif avec les développeurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tests et l'assurance qualité sont également bien débogués le plus souvent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et entre eux, il y a un abîme. </font><font style="vertical-align: inherit;">Et DevOps essaie de le remplir. </font><font style="vertical-align: inherit;">Ce surhomme devrait prendre la sortie (et idéalement l'assembler dans Jenkins ou quelque chose de similaire), créer une voiture, déployer tout là-bas, vérifier le travail, peut-être passer quelques prétests et le donner à QA.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel est le problème?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'un produit est un petit type d'application Web, il n'y a aucun problème. </font><font style="vertical-align: inherit;">Directement, le développeur ou le testeur extrait la base de données de la sauvegarde, se connecte à la dernière version et s'exécute. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais lorsque le produit se développe un peu, l'effondrement de la production s'installe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devops a obtenu la libération, mais il l'a prise et n'avait pas l'intention de le faire. </font><font style="vertical-align: inherit;">Puis il commence à chercher l'extrême et à trier les développeurs. </font><font style="vertical-align: inherit;">Une version peut être collectée pendant plusieurs heures la nuit, et les développeurs sont généralement assis au bureau pendant la journée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presque tout se fait à la main. Autrement dit, les ops sont assis et regardent la barre de progression de l'assemblée. Parce que n'importe où peut mal tourner. Ceux qui sont plus énergiques lient tout cela avec leurs propres scripts, et cela se révèle parfois très bien et efficacement. Mais bien plus souvent, nous voyons que le plan de livraison de livraison est effectué étape par étape, une personne distincte est responsable de chaque étape, et il est plus facile pour lui de répéter la procédure vingt fois avec ses mains, car sinon il s'avère que cela ne fonctionne pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le même temps, quelqu'un devrait être responsable du processus dans son ensemble, et c'est le principal facteur d'arrêt. Une tentative de trouver une telle personne aboutit souvent à un échec. A savoir, il est responsable de l'automatisation, et c'est lui qui s'y intéresse. Responsable des sections individuelles, puis transférer les flèches à quelqu'un en développement, bien sûr, est toujours plus facile.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La virtualisation ajoute plus d'aspects du chaos. </font><font style="vertical-align: inherit;">Les environnements virtuels sont toujours un gâchis. </font><font style="vertical-align: inherit;">Le responsable du regroupement (serveur, rack), il est peu orienté, à qui cela appartient, que cela soit nécessaire ou non. </font><font style="vertical-align: inherit;">Il est logique que l'administrateur système n'ait pas à se soucier de ce qui se passe avec les développeurs. </font><font style="vertical-align: inherit;">Mais les devops devraient, mais son rôle n'implique généralement pas une telle connaissance. </font><font style="vertical-align: inherit;">Et il a peur d'éteindre l'excédent, car il ne comprend pas encore s'il sera nécessaire ou non. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, il est nécessaire de publier des comptes internes pour les règlements mutuels des départements. </font><font style="vertical-align: inherit;">Quelqu'un considère le temps de disponibilité, quelqu'un envisage l'utilisation du processeur, puis ils partagent également ou dans certaines proportions les coûts comme l'électricité et le travail des administrateurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De façon inattendue, mais pas de produit fini</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait que l'ensemble de ce convoyeur devrait être recouvert d'une sorte de produit. Il existe de nombreuses bonnes solutions ponctuelles. Le même Ansible se déploie parfaitement, mais ne sait pas diriger les machines virtuelles. Et les hyperviseurs le peuvent. Il y a tous les outils pour le devops-scripting, vous pouvez connecter les modules ... Il vous suffit de prendre et d'assembler à partir de cette chaîne logicielle, non? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas comme ça. Les banques et les entreprises publiques sont venues avec le désir de tester dans le cloud. Tout bon agent de sécurité est sujet à la paranoïa, souvent avec raison. Pour IB Bank, chaque nouvelle installation est un facteur très ennuyeux. Je connais un cas où les opérations ont traîné Jenkins et Terraform dans l'infrastructure, déployé bash derrière, puis le SGBD qui contient tout. Il s'est avéré être un bon convoyeur semi-automatique, qui pourrait être complété par un déploiement entièrement autonome. Seulement pour la sécurité de l'information, c'était un désastre.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils voulaient tout en un. </font><font style="vertical-align: inherit;">Et pour gérer la machine virtuelle (et divers fournisseurs, dont Openstack). </font><font style="vertical-align: inherit;">Un client sur une application peut avoir à la fois Vmvara et Hyper-in, et quelque chose d'autre ancien et terrible pour supporter FreeBSD ou OS / 2.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons besoin de notre vélo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, nous avons écrit notre plateforme. Sous le capot - Ansible, prêt à l'emploi - intégration avec Jenkins. Vous pouvez écrire vos propres scripts pour Ansible. Vous pouvez tout faire, de la collecte de sous-réseaux à la gestion des versions. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iy/we/3-/iywe3-qfoljbzt-_-qkkj-uce9e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le portail vit dans le paradigme de l'environnement de test. C'est son essence principale. Un environnement de test = un sous-réseau. De plus, si c'est vraiment mauvais - il y a intégration avec le RPA au cas où il n'y aurait pas d'API, et vous avez besoin d'un robot pour émuler les actions de l'utilisateur et cliquer sur les boutons dans l'interface. Il y a facturation, disponibilité et utilisation sont considérées soit de l'application à l'application: tant que la demande de destruction n'aura pas été écrite, l'argent coulera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voilà à quoi ça ressemble. Création d'un environnement à l'aide d'un modèle: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/az/jk/sb/azjksbd5u8asdk2whnxia_w25ke.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ajout d'une machine virtuelle: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ek/vp/wp/ekvpwp6bfgfffh8xhpdzzsgl5s0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Script:</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/op/k9/ba/opk9ba8fchbjcpr-8h1damaftb4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme il s'est avéré un peu plus tard, les plaintes «je ne veux pas courir sur 50 systèmes» sont entendues de tous les côtés. </font><font style="vertical-align: inherit;">Nous souffrions beaucoup. </font><font style="vertical-align: inherit;">Tout gros client avec des tests voulait quelque chose de similaire, mais pour une raison quelconque, il ne l'a pas résolu ou ne l'a pas résolu de manière organisationnelle avec des scripteurs. </font><font style="vertical-align: inherit;">Les problèmes sont très différents, à commencer par les ordinateurs virtuels sans nom (ils l'ont supprimé, puis quelqu'un s'est souvenu que c'était nécessaire) et se terminant par le fait que personne ne veut être responsable des scripts roulants. </font><font style="vertical-align: inherit;">Les scripts de roll-up sont difficiles à écrire, les réglementations en souffrent également. </font><font style="vertical-align: inherit;">Quelque part dans le cycle, il devrait y avoir anonymisation des données, et cela ressemble à "Parfois, au début de l'année, nous avons créé une base de données anonyme", et le logiciel a changé six fois, les données ont été mises à jour. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, si quelque chose de similaire vous fait soudainement mal, venez simplement regarder. </font><font style="vertical-align: inherit;">L'accès à la démonstration est disponible dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud Technoserv</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492918/index.html">Pape: éthique pour l'IA et les véhicules sans pilote</a></li>
<li><a href="../fr492920/index.html">La quarantaine en République tchèque: un regard intérieur</a></li>
<li><a href="../fr492924/index.html">Comment visualiser et animer des modèles (géophysiques). Informativité de la visualisation</a></li>
<li><a href="../fr492932/index.html">13 outils de traitement de texte basés sur le shell</a></li>
<li><a href="../fr492934/index.html">Difficultés à élever un assistant vocal. Le regard d'un linguiste et développeur</a></li>
<li><a href="../fr492940/index.html">Plongez dans Charles Proxy</a></li>
<li><a href="../fr492942/index.html">Ontol (= le plus utile) sur le travail à distance [compilation de plus de 100 articles]</a></li>
<li><a href="../fr492946/index.html">Coronavirus: comment nous nous trompons</a></li>
<li><a href="../fr492948/index.html">Rencontrez defer</a></li>
<li><a href="../fr492952/index.html">Retour vers le futur avec le Java Developer Course</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>