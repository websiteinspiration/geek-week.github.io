<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§¢ ğŸ•š ğŸ¤ŸğŸ¾ C # Anda sudah "berfungsi", biarkan saja. âš›ï¸ ğŸš ğŸš•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! Saya mempersembahkan kepada Anda terjemahan artikel asli "C # Anda sudah berfungsi, tetapi hanya jika Anda membiarkannya" oleh Igal Tabach...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>C # Anda sudah "berfungsi", biarkan saja.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493484/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo, Habr! Saya mempersembahkan kepada Anda terjemahan artikel asli </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"C # Anda sudah berfungsi, tetapi hanya jika Anda membiarkannya"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oleh Igal Tabachnik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa hari yang lalu, saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tweet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> potongan kode C # yang mengimplementasikan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FizzBuzz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , menggunakan beberapa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fitur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">di C # 8.0</font></a><font style="vertical-align: inherit;"> . Tweet â€œmenjadi viralâ€, beberapa orang mengagumi keringkasan dan fungsinya, sementara yang lain bertanya mengapa saya tidak menulisnya di F #?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih dari 4 tahun telah berlalu sejak terakhir kali saya menulis dalam bahasa C #, dan fakta bahwa saya biasanya menggunakan pemrograman fungsional telah jelas mempengaruhi cara saya menulis kode hari ini. </font><font style="vertical-align: inherit;">Cuplikan yang saya tulis tampaknya sangat rapi dan alami, tetapi beberapa orang telah menyatakan keprihatinan bahwa itu tidak terlihat seperti kode C #.</font></font><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Itu terlihat terlalu fungsional." </font><font style="vertical-align: inherit;">Mereka menulis kepada saya.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bergantung pada siapa Anda bertanya, "pemrograman fungsional" memiliki arti berbeda bagi orang yang berbeda. </font><font style="vertical-align: inherit;">Tapi alih-alih membahas semantik, saya ingin menawarkan penjelasan mengapa implementasi FizzBuzz ini tampaknya fungsional.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, mari kita lihat apa yang dilakukan kode ini:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span><font></font>
{<font></font>
      <span class="hljs-function"><span class="hljs-keyword">string</span> <span class="hljs-title">FizzBuzz</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> x</span>)</span> =&gt; <font></font>
            (x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>, x % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>) <span class="hljs-keyword">switch</span><font></font>
            {  <font></font>
                  (<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>) =&gt; <span class="hljs-string">"FizzBuzz"</span>, <font></font>
                  (<span class="hljs-literal">true</span>, _) =&gt; <span class="hljs-string">"Fizz"</span>, <font></font>
                  (_, <span class="hljs-literal">true</span>) =&gt; <span class="hljs-string">"Buzz"</span>, <font></font>
                  _ =&gt; x.ToString()<font></font>
            };<font></font>
    <font></font>
      Enumerable.Range(<span class="hljs-number">1</span>, <span class="hljs-number">100</span> ) <font></font>
            .Select(FizzBuzz).ToList() <font></font>
            .ForEach(Console.WriteLine); <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita membuat metode lokal, diwakili oleh ekspresi lambda, yang hasilnya dihitung menggunakan tuple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kebaruan di sini adalah penggunaan tuple (pasangan) untuk bekerja dengan hasil penghitungan dua ekspresi bersama (x% 3 = = 0 dan x% 5 = = 0). Ini memungkinkan Anda untuk menggunakan pencocokan pola untuk menentukan hasil akhir. Jika tidak ada opsi yang cocok, maka secara default representasi string nomor akan dikembalikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, tidak satu pun dari banyak "fungsional" "fitur" yang digunakan dalam bagian kode ini (termasuk loop foreach gaya LINQ) membuat kode ini berfungsi dengan sendirinya. Apa yang membuatnya fungsional adalah kenyataan bahwa, dengan pengecualian mengeluarkan hasilnya ke konsol, semua metode yang digunakan dalam program ini adalah ekspresi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sederhananya, ekspresi adalah pertanyaan yang selalu memiliki jawaban. Dalam hal pemrograman, ekspresi adalah kombinasi dari konstanta, variabel, operator, dan fungsi yang dihitung oleh runtime untuk menghitung (â€œmengembalikanâ€) suatu nilai. Untuk mengilustrasikan perbedaan dengan pernyataan, mari kita menulis versi FizzBuzz untuk programmer C # yang lebih akrab:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-keyword">string</span>[] args</span>)</span> <font></font>
{<font></font>
      <span class="hljs-keyword">foreach</span>( <span class="hljs-keyword">int</span> x <span class="hljs-keyword">in</span> Enumerable.Range(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)) <font></font>
      {<font></font>
             FizzBuzz(x);<font></font>
      }<font></font>
} <font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">FizzBuzz</span>(<span class="hljs-params"> <span class="hljs-keyword">int</span> x</span>)</span> <font></font>
{<font></font>
      <span class="hljs-keyword">if</span> (x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>  &amp;&amp; x % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>) <font></font>
             Console.WriteLine(<span class="hljs-string">"FizzBuzz"</span>); 
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span> ) <font></font>
             Console.WriteLine(<span class="hljs-string">"Fizz"</span>); 
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x % <span class="hljs-number">5</span> == <span class="hljs-number">0</span> ) <font></font>
             Console.WriteLine(<span class="hljs-string">"Buzz"</span>); 
      <span class="hljs-keyword">else</span><font></font>
             Console.WriteLine(x);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, ini jauh dari kode "bersih", dan dapat ditingkatkan, tetapi orang tidak bisa tidak setuju bahwa ini adalah kode C # biasa. Setelah memeriksa lebih dekat metode FizzBuzz, meskipun mempertimbangkan kesederhanaannya, itu jelas menunjukkan beberapa masalah desain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, program ini melanggar prinsip pertama SOLID - prinsip tanggung jawab tunggal. Ini mencampur logika menghitung nilai output berdasarkan nomor dan mengeluarkan nilai ini ke konsol. Akibatnya, itu melanggar prinsip inversi ketergantungan (yang terakhir dari SOLID), yang terhubung erat dengan output hasil ke konsol. Akhirnya, implementasi program seperti itu membuat sulit untuk menggunakan kembali dan kode sandbox. Tentu saja, untuk program sederhana seperti ini, tidak masuk akal untuk masuk ke seluk-beluk desain, jika tidak sesuatu seperti </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ini</font></a><font style="vertical-align: inherit;"> dapat berubah</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua masalah di atas dapat diselesaikan dengan memisahkan penerimaan nilai dan output ke konsol. </font><font style="vertical-align: inherit;">Bahkan tanpa menggunakan konstruksi bahasa mewah, hanya mengembalikan nilai yang dihasilkan ke kode panggilan membebaskan kita dari tanggung jawab untuk menggunakan nilai ini.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">string</span> <span class="hljs-title">FizzBuzz</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> x</span>)</span><font></font>
{<font></font>
      <span class="hljs-keyword">if</span> (x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span> &amp;&amp; x % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">"FizzBuzz"</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Fizz"</span>;
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x % <span class="hljs-number">5</span> == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Buzz"</span>;
      <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> x.ToString();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, ini bukan perubahan radikal, tetapi ini sudah cukup:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metode FizzBuzz sekarang merupakan ekspresi yang mengambil nilai numerik dan mengembalikan string.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak memiliki tanggung jawab dan efek tersembunyi lainnya, yang mengubahnya menjadi fungsi murni.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Itu dapat digunakan dan diuji secara independen, tanpa ada ketergantungan dan pengaturan tambahan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode yang memanggil fungsi ini bebas untuk melakukan apa saja dengan hasilnya - sekarang ini bukan tanggung jawab kami.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan ini adalah inti dari pemrograman fungsional - program terdiri dari ekspresi yang menghasilkan nilai apa pun, dan nilai-nilai ini dikembalikan ke kode panggilan. Ekspresi ini, sebagai suatu peraturan, sepenuhnya independen, dan hasil panggilannya hanya bergantung pada data input. Di bagian paling atas, di titik masuk (atau kadang-kadang disebut "akhir dunia"), nilai-nilai yang dikembalikan oleh fungsi mengumpulkan dan berinteraksi dengan seluruh dunia. Dalam jargon berorientasi objek, ini kadang-kadang disebut "arsitektur bawang" (atau "port dan adapter") - inti bersih yang terdiri dari logika bisnis dan kulit luar imperatif yang bertanggung jawab untuk berinteraksi dengan dunia luar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan ekspresi alih-alih pernyataan digunakan sampai batas tertentu oleh semua bahasa pemrograman. C # berkembang dari waktu ke waktu untuk memperkenalkan fungsi yang membuatnya lebih mudah untuk bekerja dengan ekspresi: LINQ, metode berbasis ekspresi, pencocokan pola, dan banyak lagi. "Fitur" ini sering disebut "fungsional" karena ada - dalam bahasa seperti F # atau Haskell, di mana keberadaan apa pun selain ekspresi hampir mustahil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, gaya pemrograman ini sekarang didorong oleh tim C #. Dalam pidatonya baru-baru ini di NDC London, Bill Wagner mendesak pengembang untuk mengubah kebiasaan (keharusan) mereka dan mengadopsi metode modern:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/aUbXGs7YTGo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C # (dan bahasa imperatif lainnya seperti Java) dapat digunakan secara fungsional, tetapi membutuhkan banyak usaha. </font><font style="vertical-align: inherit;">Bahasa-bahasa ini membuat gaya fungsional pengecualian, bukan norma. </font><font style="vertical-align: inherit;">Saya mendorong Anda untuk belajar bahasa pemrograman fungsional untuk menjadi spesialis kelas satu.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493468/index.html">Jangan takut bernafas dalam-dalam</a></li>
<li><a href="../id493470/index.html">Ilmuwan Menemukan Planet Kecil Baru Di Luar Neptunus</a></li>
<li><a href="../id493478/index.html">Hack The Box - Walkthrough Forest. Serangan Roasting AS-REP, DCSync dan Pass-The-Hash</a></li>
<li><a href="../id493480/index.html">Arsitektur untuk pemula atau mengapa Anda tidak perlu memasukkan bendera ke pedang pria</a></li>
<li><a href="../id493482/index.html">Temui kura-kura cybernetic, pendahulu Roomba</a></li>
<li><a href="../id493486/index.html">Startup otomotif paling menarik 2019-2020</a></li>
<li><a href="../id493488/index.html">Unity + git = friendship: part 1 set gentleman</a></li>
<li><a href="../id493496/index.html">ReactJS. Peringatan: Tidak dapat melakukan pembaruan status React pada komponen yang dilepas. Ini adalah no-op, tetapi ini menunjukkan memo</a></li>
<li><a href="../id493504/index.html">Pengalaman kerja jarak jauh kami dalam menciptakan toko online</a></li>
<li><a href="../id493506/index.html">Mengapa ahli geofisika percaya pada teori tanah datar di abad ke-21?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>