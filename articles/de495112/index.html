<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👧🏽 🐀 ⚖️ Inhaltsbasiertes Tagging im werf-Sammler: Warum und wie funktioniert es? 🤷🏽 🏔️ 👴🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="werf ist unser Open-Source-Dienstprogramm GitOps CLI zum Erstellen und Bereitstellen von Anwendungen für Kubernetes. In Version v1.1 gibt es eine neue...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Inhaltsbasiertes Tagging im werf-Sammler: Warum und wie funktioniert es?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/495112/"><img src="https://habrastorage.org/webt/yy/sb/jo/yysbjolbz1n1vpwu3xcwyhjlrmm.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">werf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist unser Open-Source-Dienstprogramm GitOps CLI zum Erstellen und Bereitstellen von Anwendungen für Kubernetes. </font><font style="vertical-align: inherit;">In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version v1.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gibt es eine neue Funktion für den Bildersammler: das Markieren von Bildern nach Inhalten oder das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inhaltsbasierte Markieren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bisher bestand das typische Tagging-Schema in werf darin, Docker-Bilder mit einem Git-Tag, einem Git-Zweig oder einem Git-Commit zu markieren. </font><font style="vertical-align: inherit;">Alle diese Schemata weisen jedoch Mängel auf, die durch die neue Markierungsstrategie vollständig behoben werden. </font><font style="vertical-align: inherit;">Details über sie und warum sie so gut ist - unter dem Schnitt.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rollback einer Reihe von Microservices aus einem Git-Repository</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oft gibt es eine Situation, in der die Anwendung in viele mehr oder weniger unabhängige Dienste unterteilt ist. Die Freigabe dieser Dienste kann unabhängig voneinander erfolgen: Ein oder mehrere Dienste können gleichzeitig freigegeben werden, während der Rest ohne Änderungen weiterarbeiten sollte. Unter dem Gesichtspunkt der Codespeicherung und des Projektmanagements ist es jedoch bequemer, solche Anwendungsdienste in einem einzigen Repository zu speichern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt Situationen, in denen Dienste wirklich unabhängig und nicht mit einer Anwendung verbunden sind. In diesem Fall befinden sie sich in separaten Projekten, und ihre Freigabe erfolgt über separate CI / CD-Prozesse in jedem der Projekte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Realität teilen Entwickler eine einzelne Anwendung jedoch häufig in mehrere Microservices auf, aber ein separates Repository und Projekt für jeden ... ist ein offensichtlicher Overkill. </font><font style="vertical-align: inherit;">Auf diese Situation wird weiter eingegangen: Mehrere solcher Microservices befinden sich in einem einzigen Projekt-Repository, und Releases erfolgen über einen einzigen Prozess in CI / CD.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git-Tag und Git-Tagging</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, die am häufigsten verwendete Tagging-Strategie wird verwendet - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tag-or-Branch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Bei Git-Zweigen werden Bilder mit dem Namen des Zweigs versehen. Für jeweils einen Zweig gibt es jeweils nur ein veröffentlichtes Bild, das für diesen Zweig benannt ist. </font><font style="vertical-align: inherit;">Bei Git-Tags werden Bilder entsprechend dem Tag-Namen markiert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Erstellen eines neuen Git-Tags - beispielsweise wenn eine neue Version veröffentlicht wird - wird für alle Projektabbilder in der Docker-Registrierung ein neues Docker-Tag erstellt:</font></font><br>
<br>
<ul>
<li> <code>myregistry.org/myproject/frontend:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice1:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice2:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice3:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice4:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/myservice5:v1.1.10</code></li>
<li> <code>myregistry.org/myproject/database:v1.1.10</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese neuen Bildnamen gelangen über die Helmmuster in die Kubernetes-Konfiguration. Wenn die Bereitstellung gestartet wird, </font></font><code>werf deploy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aktualisiert </font><font style="vertical-align: inherit;">das Team </font><font style="vertical-align: inherit;">das Feld </font></font><code>image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in den Kubernetes-Ressourcenmanifesten und startet die entsprechenden Ressourcen aufgrund des geänderten Image-Namens neu. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problem</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : In einem Fall, in dem die vorherige tatsächliche Vykata (Git-Tag) den Inhalt des Bildes nicht geändert hat, sondern nur das Docker-Tag, das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einmal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auftritt </font><i><font style="vertical-align: inherit;">,</font></i><font style="vertical-align: inherit;"> starten Sie diese Anwendung neu und sind dementsprechend einige einfach möglich. Obwohl es keinen wirklichen Grund gab, diesen Neustart durchzuführen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infolgedessen müssen Sie mit dem aktuellen Tagging-Schema mehrere separate Git-Repositorys umzäunen, und es tritt das Problem auf, den Rollout dieser verschiedenen Repositorys zu organisieren. </font><font style="vertical-align: inherit;">Im Allgemeinen ist ein solches Schema überlastet und komplex. </font><font style="vertical-align: inherit;">Es ist besser, viele Dienste in einem einzigen Repository zu kombinieren und solche Docker-Tags zu erstellen, damit keine unnötigen Neustarts stattfinden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git Commit Tagging</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werf hat auch eine Tagging-Strategie für Git-Commits. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git-Commit ist die Kennung des Inhalts des Git-Repositorys und hängt vom Verlauf der Dateibearbeitungen im Git-Repository ab. Daher erscheint es logisch, es zum Kennzeichnen von Bildern in der Docker-Registrierung zu verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Taggen durch Git-Commit hat jedoch die gleichen Nachteile wie durch Git-Zweige oder Git-Tags:</font></font><br>
<br>
<ul>
<li>     ,    ,  Docker-   .</li>
<li>    merge-,    ,  Docker-   .</li>
<li>    ,      Git,     ,  Docker-    .</li>
</ul><br>
<h2>   Git-    </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt ein weiteres Problem im Zusammenhang mit der Tagging-Strategie für Git-Zweige. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Markieren mit dem Namen eines Zweigs funktioniert, solange die Commits dieses Zweigs nacheinander in chronologischer Reihenfolge erfasst werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Benutzer im aktuellen Schema mit dem Wiederherstellen des alten Commits beginnt, das einem Zweig zugeordnet ist, löscht werf das Image mithilfe des entsprechenden Docker-Tags mit der neu zusammengestellten Version des Images für das alte Commit. Bereitstellungen, die dieses Tag verwenden, können ab sofort während des Neustarts des Pods eine andere Version des Images abrufen. Dadurch verliert unsere Anwendung die Verbindung zum CI-System und ist nicht mehr synchron.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei aufeinanderfolgenden Push'ahs in einem Zweig mit einem kleinen Zeitintervall zwischen ihnen kann das alte Commit später als das neuere erfasst werden: Die alte Version des Bildes löscht das neue mithilfe des Tags des Git-Zweigs. </font><font style="vertical-align: inherit;">Solche Probleme können durch das CI / CD-System gelöst werden (in GitLab CI wird beispielsweise die Pipeline des letzteren für eine Reihe von Commits gestartet). </font><font style="vertical-align: inherit;">Dies wird jedoch nicht von allen Systemen unterstützt, und es sollte einen zuverlässigeren Weg geben, um ein derart grundlegendes Problem zu verhindern.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist inhaltsbasiertes Tagging?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was genau ist inhaltsbasiertes Tagging? Markieren von Bildern nach Inhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Erstellen von Docker-Tags werden keine Git-Grundelemente (Git-Zweig, Git-Tag ...) verwendet, sondern eine Prüfsumme in Verbindung mit:</font></font><br>
<br>
<ul>
<li> <i> </i>. -    .        ,      ;</li>
<li> <i>     Git</i>. ,    Git-      werf,    -.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die sogenannte </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signatur der Bildstufen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fungiert als solches Identifikations-Tag </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes Bild besteht aus einer Reihe von Schritten: </font></font><code>from</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>before-install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>git-archive</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>imports-after-install</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>before-setup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ... </font></font><code>git-latest-patch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usw. </font><font style="vertical-align: inherit;">Jede Stufe hat eine Kennung, die ihren Inhalt widerspiegelt - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Signaturstufe </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Stufensignatur)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das endgültige Bild, das aus diesen Stufen besteht, ist mit der sogenannten Signatur des Satzes dieser Stufen - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufensignatur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - gekennzeichnet, die für alle Stufen des Bildes verallgemeinert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jedes Bild aus der Konfiguration hat </font></font><code>werf.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">im Allgemeinen eine eigene Signatur und dementsprechend das Docker-Tag. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Bühnenunterschrift löst all diese Probleme:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beständig gegen leere Git-Commits.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beständig gegen Git-Commits, die Dateien ändern, die für das Image nicht relevant sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Führt nicht zu einem Problem beim Schleifen der aktuellen Version des Image, wenn Assemblys für alte Git-Commits des Zweigs neu gestartet werden.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist jetzt die empfohlene Tagging-Strategie und wird standardmäßig in werf für alle CI-Systeme verwendet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So aktivieren und verwenden Sie in werf</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für das Team erschien die entsprechende Option </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><code>--tag-by-stages-signature=true|false</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im CI-System wird die Tagging-Strategie durch den Befehl festgelegt </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Zuvor wurde ein Parameter dafür definiert </font></font><code>werf ci-env --tagging-strategy=tag-or-branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Wenn Sie </font></font><code>werf ci-env --tagging-strategy=stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diese Option </font><font style="vertical-align: inherit;">angeben </font><font style="vertical-align: inherit;">oder nicht, verwendet werf standardmäßig eine Tagging-Strategie </font></font><code>stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Befehl setzt </font></font><code>werf ci-env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automatisch die erforderlichen Flags für den Befehl </font></font><code>werf build-and-publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(oder </font></font><code>werf publish</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), daher müssen keine zusätzlichen Optionen für diese Befehle angegeben werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel der Befehl:</font></font><br>
<br>
<pre><code class="plaintext hljs">werf publish --stages-storage :local --images-repo registry.hello.com/web/core/system --tag-by-stages-signature</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... kann folgende Bilder erstellen:</font></font><br>
<br>
<ul>
<li> <code>registry.hello.com/web/core/system/backend:4ef339f84ca22247f01fb335bb19f46c4434014d8daa3d5d6f0e386d</code></li>
<li> <code>registry.hello.com/web/core/system/frontend:f44206457e0a4c8a54655543f749799d10a9fe945896dab1c16996c6</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier </font></font><code>4ef339f84ca22247f01fb335bb19f46c4434014d8daa3d5d6f0e386d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist die Signatur der Bildstufen </font></font><code>backend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>f44206457e0a4c8a54655543f749799d10a9fe945896dab1c16996c6</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Signatur der Bildstufen </font></font><code>frontend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Verwendung von Sonderfunktionen </font></font><code>werf_container_image</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>werf_container_env</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in Helm-Vorlagen muss nichts geändert werden: Diese Funktionen generieren automatisch die richtigen Bildnamen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielkonfiguration in einem CI-System:</font></font><br>
<br>
<pre><code class="plaintext hljs">type multiwerf &amp;&amp; source &lt;(multiwerf use 1.1 beta)<font></font>
type werf &amp;&amp; source &lt;(werf ci-env gitlab)<font></font>
werf build-and-publish|deploy</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Konfigurationsinformationen finden Sie in der Dokumentation:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verzeichnis → Veröffentlichen (veröffentlichen)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten mit CI / CD → Allgemeine Informationen → Stufensignatur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integration mit GitLab CI / CD → .gitlab-ci.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gesamt</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neue Option </font></font><code>werf publish --tag-by-stages-signature=true|false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der neue Wert der Option </font></font><code>werf ci-env --tagging-strategy=stages-signature|tag-or-branch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(falls nicht angegeben, wird er standardmäßig verwendet </font></font><code>stages-signature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die Tagging - </font><font style="vertical-align: inherit;">Optionen für Git Commits , </font><font style="vertical-align: inherit;">bevor sie </font><font style="vertical-align: inherit;">verwendet wurden ( </font></font><code>WERF_TAG_GIT_COMMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oder die Option </font></font><code>werf publish --tag-git-commit COMMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), dann sicher auf die zu wechseln </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phasen-Signatur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Tagging - </font><font style="vertical-align: inherit;">Strategie </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Neue Projekte sollten besser sofort auf ein neues Tagging-Schema umgestellt werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei der Übersetzung in werf 1.1 ist es ratsam, alte Projekte auf das neue Tagging-Schema umzustellen, das alte </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tag-or-Branch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird jedoch weiterhin unterstützt.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inhaltsbasiertes Tagging löst alle im Artikel hervorgehobenen Probleme:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stabilität des Docker-Tag-Namens für leere Git-Commits.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die Stabilität des Namens des Docker-Tags für Git schreibt fest, dass Dateien geändert werden, die für das Image nicht relevant sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Führt nicht zu einem Problem beim Schleifen der aktuellen Version des Bildes beim Neustart von Assemblys für alte Git-Commits für Git-Zweige.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benutze es! </font><font style="vertical-align: inherit;">Und vergessen Sie nicht, bei unserem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub vorbeizuschauen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um ein Problem zu erstellen oder ein vorhandenes zu finden, ein Plus zu setzen, eine PR zu erstellen oder einfach die Entwicklung des Projekts zu verfolgen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lesen Sie auch in unserem Blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werf 1.1 Release: Verbesserungen des Builders heute und zukünftige Pläne</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einführung von werf 1.0 Stable: Was hat GitOps damit zu tun, Status und Pläne?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werf ist unser Tool für CI / CD in Kubernetes (Rezension und Videobericht)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eine Reihe von Hinweisen zu Innovationen in werf:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3-Wege-Zusammenführung in werf: Einsatz in Kubernetes mit Helm" auf Steroiden "</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit werf komplexe Helm-Charts ausrollen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “;</font></font></li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> monorepo  multirepo  werf     Docker Registry</a>»;</li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> Docker-  werf      Dockerfile</a>».</li>
</ul></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de495098/index.html">Der Abel-Preis für Mathematik wurde von zwei Pionieren auf dem Gebiet der Wahrscheinlichkeit und Dynamik geteilt</a></li>
<li><a href="../de495102/index.html">Total Surveillance Remedy</a></li>
<li><a href="../de495106/index.html">Die Pracht und Armut des modellorientierten Designs gemäß den Luftfahrtstandards DO-331</a></li>
<li><a href="../de495108/index.html">Wie viel kostet es, einen Mitarbeiter einzustellen, zu erziehen und zu entlassen? Ejchar Redmadrobot Rechner</a></li>
<li><a href="../de495110/index.html">Was passiert in Puschkins Pik-Dame und was spielen sie?</a></li>
<li><a href="../de495114/index.html">Selbstisolation: Wie wahrscheinlich ist es, dass Sie Coronavirus bekommen, wenn Sie spazieren gehen</a></li>
<li><a href="../de495116/index.html">Wie man alles von Nano bis Makro versteckt: Wissenschaftler haben die allgemeinen Prinzipien der "Theorie der Unsichtbarkeit" entwickelt.</a></li>
<li><a href="../de495118/index.html">Probleme bei der Verwendung von Doctrine ODM in Daemon-Prozessen</a></li>
<li><a href="../de495120/index.html">Es ist Zeit, die OpenBSD-Sicherheit zu überdenken</a></li>
<li><a href="../de495124/index.html">Wie man ein Macbook stiehlt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>