<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥣 ⬜️ ♨️ 座標（および必要なディレクトリを取得する場所）によるアドレス検索の設定方法 🙇🏿 👩🏾‍🤝‍👩🏻 🕴🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="春に、「Reverse Geocoding」機能をDaData.ru APIに追加しました。これは、「Address by Coordinates」とも呼ばれます。名前のヒント：このメソッドは地理座標を取り、住所に関するデータを提供します。
 
 同じ機能を備えた堅牢な製品はYandexを提供します...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>座標（および必要なディレクトリを取得する場所）によるアドレス検索の設定方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/hflabs/blog/467787/"><img src="https://habrastorage.org/webt/_w/mf/y5/_wmfy5eag0qfwexxhm4qerr0-64.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
春に、「Reverse Geocoding」機能をDaData.ru APIに追加しました。これは、「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Address by Coordinates</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">とも呼ばれ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">名前のヒント：このメソッドは地理座標を取り、住所に関するデータを提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ機能を備えた堅牢な製品はYandexを提供します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジオコーダー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ただし、Yandexサービスは、オープンな非営利プロジェクトに対してのみ無料です。</font><font style="vertical-align: inherit;">標準関税-年間120 000 from-は、すべての人に適しているわけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは考えました-Geocoderの無料または低コストの代替を作成する場合、開発者はきっと感謝するでしょう。</font><font style="vertical-align: inherit;">そして彼らはそうした。</font><font style="vertical-align: inherit;">この記事では、「座標による住所」構造がどのように機能するかを説明します。検索の設定方法、リファレンスブックのコンパイル方法、既製の方法へのパック方法について説明します。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どこでデータを取得し、どのようにして住所を探していますか </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクに近づくと、既製のソリューションを検討しました。住所を含む座標ディレクトリを取得する場所と、このディレクトリから地理的オブジェクトを検索する方法です。</font><font style="vertical-align: inherit;">適切なツールを探す必要さえないことがわかりました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは、FIASのアドレスオブジェクトを取る</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">連邦情報システムのアドレスを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、オープンおよび公式の住所録の中で最も包括的なものです。</font><font style="vertical-align: inherit;">これについては</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habré</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で詳しく説明し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ましたが</font></a><font style="vertical-align: inherit;">、次の4つの事実が重要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIASは、地域以下から、建物や追加の領土まで、国のすべてのアドレス可能なオブジェクトを格納します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリはDBFおよびXML形式で自由に利用できます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIASは完璧ではありません-何万もの家や多くの街路、特に新しい街路が不足しています。</font></font></li>
<li>   &nbsp;   ID&nbsp;— -.    , &nbsp;    &nbsp; .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IDとともにFIASからダウンロードされた住所オブジェクトは、リバースジオコーディングのディレクトリの基盤です。</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">OpenStreetMap</font></a></b><b><font style="vertical-align: inherit;">（OSM）</font></b></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から座標をダウンロードし&nbsp; </font><font style="vertical-align: inherit;">ます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OSMは無料ライセンスのプロジェクトです。愛好家はさまざまなオブジェクトの座標を収集し、それをすべての人に投稿します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
簡単に言うと、OSMはマップ上のポイント、ライン、およびポリゴンのセットです。各オブジェクトには、独自の説明、タイプ、および座標のセットがあります。ロシアのOSMデータは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">needgeo.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">osm.sbin.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">osm_dump </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">/</font></a><font style="vertical-align: inherit;">および&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">osmosis.svimik.com/latest/にあり</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ws/p6/hy/wsp6hyjy8brd4qmc11clfyoulic.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースのリストは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、プロジェクトの「Wiki」の特別ページで</font></a><font style="vertical-align: inherit;">公開さ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れています</font></font></a></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アンロードはPBFファイルで構成されます-この形式は、XMLの代わりに、よりコンパクトな形式として使用されます。 PBFをOSM XMLに変換してもコストはかかりません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミュニティで承認された多数のユーティリティが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">を</font></a><font style="vertical-align: inherit;">処理</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">できます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
独自のディレクトリでは、FIASから住所オブジェクトを取得し、OSMでそれらの座標を探します。見つかった場合は、結合したデータを保存します。 FIASとOSMのこのような交差点が判明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはすべてすばらしいですが、1つの問題があります。OSMでのデータの品質は簡単ではありません。オブジェクトの座標は現実に対応していないことがよくあります。たとえば、地域や地区のポリゴンで十分です。そして、都市以下のために-それほどではありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/hn/uh/dchnuhisbetq44m1uyd8sniuy20.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポリゴンは、マップ上の領域を区切るポリゴンです。それらは、座標を持つリンクされたポイントのセットで構成されます。多角形は、地域、地区、都市、さらには建物の境界を示します。</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
主な作業は、OSMから適切なデータを収集し、結婚をフィルタリングすることです。タスクが非常に大きいため、記事の中で別のセクションを割り当てました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSMからFIASにない家もダウンロードします。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上で述べたように、FIASには何万もの家がありません。これは問題ではなく、単に現実、背景です。したがって、OSMからの家でディレクトリを補充します。しかし、FIASに道がある人だけが。 OSMから取得した建物にはFIAS IDがないため、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">親のFIASコード+家番号</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として識別します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリで私たちは美しいの助けを借りて探しています</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lucene</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;は私たちの長年のアシスタントです。</font><font style="vertical-align: inherit;">ヒントをありがとう、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Luceneを使用した地理データのインデックス作成</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に関する投稿を書いた精通したインド人</font><font style="vertical-align: inherit;">（良い追加は&nbsp;</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、空間検索アルゴリズムの詳細</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;-</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">検索アルゴリズム</font></a><font style="vertical-align: inherit;">が構築されているkdツリーについて）です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luceneについて知るとすぐに、検索の問題はほぼ自動的に解決されました。</font><font style="vertical-align: inherit;">事業は残っている-サンドペーパーに行く。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luceneに座標と住所のディレクトリをロードし、検索インデックスを取得しました。</font><font style="vertical-align: inherit;">簡単にするために、ほとんどすべてが削除され、住所IDと座標のみが残りました。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インデックスによる検索を設定します。入力-座標、出力-見つかった住所オブジェクトのID。</font><font style="vertical-align: inherit;">インデックスが非常にショートカットだったため、検索は他の情報を返しません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見つかったIDによって「大きな」FIASからデータをロードして、発行に満足しました。</font><font style="vertical-align: inherit;">誰もが1行で必要とする住所から、都市の地方首都の標識まで、多くのすべてを追加します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受け取ったオブジェクトを並べ替えて与える方法を見つけました。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでのところ、すべてが単純に見えますが、これは作業のほんの一部です。</font><font style="vertical-align: inherit;">適切なディレクトリをコンパイルしていなければ、座標による住所の検索は機能しませんでした。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">座標と住所のベースを収集する方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、荷物を並べます。記事を読んだ後、すぐに同様のガイドを作成しても機能しません。</font><font style="vertical-align: inherit;">2014年から継続的に収集し、収集しています。</font><font style="vertical-align: inherit;">このいまいましい長い道のりについてお話します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディレクトリをコンパイルするときに最も難しいのは、OSMから取得した座標を整理することです。</font><font style="vertical-align: inherit;">初めに、私たちはそれらを私たちの手を含めて可能な限り最善のものとして検証しました。</font><font style="vertical-align: inherit;">そのときの主な目標は、大都市で参照ポイントを取得し、それらから参照ガイドを作成することでした。</font><font style="vertical-align: inherit;">このようなポイントが多数あるため、新しいデータを手動で確認する必要はほとんどありません。</font><font style="vertical-align: inherit;">一度に、座標とともに200,000〜300,000のアドレスを参照ディレクトリに追加します。これが、この方法です。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSMタグから完全なアドレスを形成します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSMアップロードでは、アドレスのコンポーネント部分はさまざまなタグによって分散されます。</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addr：都市-村Bulatnikovo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addr：ストリート-中央通り</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addr：housenumber-103</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはタグを通り抜け、それらから完全な住所を収集します：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bulatnikovo village、103 Central Street</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい住所はそれぞれ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dadat標準化API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を通じて実行し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このサービスは、住所を単一の「LIKE in FIAS」形式に変換します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプミスを修正します。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「NiNo」や「Msk」などの略語をデコードします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古い名前を新しい名前に変更します。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インデックスで住所に欠落している都市を見つけます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIASコードを定義します。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レターや小包を送信しているにもかかわらず、APIからのアドレスはクリーンです。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準化前</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">後</font></font></th>
</tr>
<tr>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bulatnikovo村、セントラルストリート、103</font></font></i></td>
<td><p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">142718、モスクワ地方、レーニンスキー地区、中央通り、ブラチニコヴォ、103。</font></font></i></p><br>
<p><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">FIAS</font></i><font style="vertical-align: inherit;">コード</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a8b6a52f-e96d-4ec3-a0ff-641013ab0445</font></font></i></p></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準化された住宅、街路、集落をワンポイントとして保管しています。</font><font style="vertical-align: inherit;">通りや村はこの点が中心です。</font><font style="vertical-align: inherit;">その結果、すべての住所オブジェクトは同じテーブル内にあります-住所、FIAS ID、緯度と経度。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">住所・アドレス</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIAS ID</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">緯度</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">経度</font></font></th>
</tr>
<tr>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">142718、モスクワ地方、レニンスキー地区、中央通り、ブラチニコヴォ、103</font></font></i></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a8b6a52f-e96d-4ec3-a0ff-641013ab0445</font></font></i></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55.558773</font></font></i></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.667103</font></font></i></td>
</tr>
<tr>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">119034、モスクワ、レーントゥルチャニノフ、d 6ビル2</font></font></i></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8c925e61-9173-48b3-999e-dc85c86d89e7</font></font></i></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">55.737096</font></font></i></td>
<td><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.597190</font></font></i></td>
</tr>
</tbody></table></div><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dadataが標準化しなかった住所を分析します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIASと一致しなかったアドレスは、サービスによってフラグでマークされます。</font><font style="vertical-align: inherit;">手動でチェックしますが、いくつかのオプションがあります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アドレスは適切なOSMアップロードタグに含まれていませんが、悪魔はどこにいるかを知っています。</font><font style="vertical-align: inherit;">満たされていない住所タグ、および街路タグ内の都市など、その他多数。</font></font></li>
<li>&nbsp;OSM      ,      . &nbsp;   , &nbsp;&nbsp;     &nbsp;.    .</li>
<li>&nbsp;— &nbsp;&nbsp; . , &nbsp;OSM   ,  &nbsp; .  &nbsp;S   &nbsp; , &nbsp;&nbsp;     &nbsp; &nbsp;.  &nbsp;     &nbsp; .</li>
</ol><br>
<img src="https://habrastorage.org/webt/_u/yc/1u/_uyc1uds-xef7yiwtpu01vgk7ju.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンロードをアンロードしましたが、タグに混乱があります</font></font></sub><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ので、ロードされた座標がどれだけ適切か</font></font></b><font style="vertical-align: inherit;"><sub><font style="vertical-align: inherit;">を</font></sub><b><font style="vertical-align: inherit;">確認します。</font></b><font style="vertical-align: inherit;">これを行うには、新しいオブジェクトの座標が親リージョンまたは地区のポリゴンに該当するかどうかを特別なユーティリティで調べます。住所からオブジェクトがオムスク地域にあることが通知された場合は、埋立地に入るようにしてください。都市への入場は必須ではありません-すべての都市がOSMで正確にカバーされているわけではありません。多くの場合、データは更新されません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OSMから参照ポリゴンを読み込み、そのまま</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GeoJSON</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形式で保存します</font><font style="vertical-align: inherit;">。ポイントで試すポリゴンを選択するには、別の表をご覧ください。その中で、CLADRコードのプレフィックスとポリゴンIDを比較しました。住所のCLADRコードを見つけ、どのポリゴンを選択するかを確認します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f_/ud/tt/f_udtt5i_rael-f2i8exqc-4k0g.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KLADRコードは、FIASの前に使用された一意の識別子です。</font><font style="vertical-align: inherit;">100万のサービスが住所のこのコードを見つけることができます。</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ユーティリティを使用すると、オブジェクトをputポリゴンから1,700メートル離れた場所に配置できます。</font><font style="vertical-align: inherit;">この規則は、地域の境界を越える高速道路が多いために追加されました。</font><font style="vertical-align: inherit;">しかし、統計によると、1,700メートルを超える距離はエラーの兆候です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで都市と通りの場合、チェックは終了します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もう一度、より厳密に、家のロードされた座標をチェックします。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再び言及されたユーティリティが効力を発揮し、これがその機能です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼は新しい家の住所を取得し、参照ディレクトリで彼の隣人を見つけます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">座標によると、検証されていない新しい家と信頼できる隣人の間の距離が考慮されます。</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/sx/vx/y-/sxvxy-u2l54hlaggzda0zx8u-tw.jpeg"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近所の人を見つけるのは簡単です。1.新しい家を手に入れ、親のFIAS IDを見つけます。 2.参照ディレクトリから、同じFIAS IDを持つ親の家を選択します</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
。信頼できる同僚から150メートル以内の家だけがテストされます。さらに、以下を分析する際に、新しく承認された各住宅を考慮します。これがどのように機能するかです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、リファレンスディレクトリに</font><font style="vertical-align: inherit;">は&nbsp; </font><i><font style="vertical-align: inherit;">、Communards通りの</font></i><font style="vertical-align: inherit;">家</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">番号1、2、3が</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格納されています</font><font style="vertical-align: inherit;">。新しいデータでは</font><font style="vertical-align: inherit;">、同じ通りにある</font><i><font style="vertical-align: inherit;">5番、6番、7番の</font></i><font style="vertical-align: inherit;">家が表示さ</font><font style="vertical-align: inherit;">れました。座標から判断すると、新しい家が近くにあります。ユーティリティは、家の</font><i><font style="vertical-align: inherit;">番号5</font></i><font style="vertical-align: inherit;">が家の</font><i><font style="vertical-align: inherit;">番号1、2、3の</font></i><font style="vertical-align: inherit;">隣にある</font><font style="vertical-align: inherit;">ことを確認し、参照ディレクトリに追加します。したがって、ハウス</font><i><font style="vertical-align: inherit;">6と7</font></i><font style="vertical-align: inherit;">もテストされています。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、OSMからのデータの運命が決定されます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">両方のチェックに合格した家：埋め立て地と隣人については、参照ディレクトリに追加します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトがポリゴンに該当しない場合、新しいデータは適切ではありません。</font><font style="vertical-align: inherit;">家と隣人の間の距離が大きすぎる場合も同じです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隣人のいない家は延期します。</font><font style="vertical-align: inherit;">それらは別のデータベースにあり、いつかは分析します。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストしたオブジェクトを2つの部分に分割します。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼らは私たちのリファレンスマニュアルの別のプレートに行きます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/60/mh/30/60mh30nzsamn2rv_gegjgooqusy.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の表-住宅、地域、集落、通りなど、FIAS IDを持つすべてのオブジェクト。</font><font style="vertical-align: inherit;">2番目の例では、最初のテーブルからの家と親へのリンク</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
FIASから欠落している家にキーを割り当てるには、2つのテーブルが必要です。</font><font style="vertical-align: inherit;">彼らは独自のFIASコードを持っていないので、以下にその方法を示します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家の住所オブジェクトを1つのテーブルに収集します。それぞれに独自のFIASコードがあります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目-最初のテーブルの親を参照しながら、自宅でのみ。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FIASコードのない建物の結果、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIAS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーを使用して</font><i><font style="vertical-align: inherit;">親ID +家番号</font></i><font style="vertical-align: inherit;">を識別します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照の準備ができました。テストする必要があります。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能テストサービスを夜間に実行し、パフォーマンスをテストします。</font><font style="vertical-align: inherit;">モスクワで速度をチェックし、半径3 km以内のすべての家を要求します。</font><font style="vertical-align: inherit;">念のため。</font><font style="vertical-align: inherit;">もちろん、それらはすべてを自動テストでオーバーレイしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アップデート後の主なことは悪化しないことです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーの目を通して逆ジオコーディング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力メソッドは、座標、結果の数、検索半径の3つのパラメーターを取ります。</font><font style="vertical-align: inherit;">デフォルトの半径は100メートル、最大は1キロメートルです。</font><font style="vertical-align: inherit;">正確な値は設定で設定されます。</font></font><br>
<br>
<pre><code class="java hljs">curl -X POST \<font></font>
  -H <span class="hljs-string">"Content-Type: application/json"</span> \<font></font>
  -H <span class="hljs-string">"Accept: application/json"</span> \<font></font>
  -H <span class="hljs-string">"Authorization: Token ${API_KEY}"</span> \<font></font>
  -d <span class="hljs-string">'{ "lat": 55.878, "lon": 37.653, "radius_meters": 50 }'</span> \<font></font>
  https:<span class="hljs-comment">//suggestions.dadata.ru/suggestions/api/4_1/rs/geolocate/address</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドは、見つかったオブジェクト（家、通り、集落）を返します。</font><font style="vertical-align: inherit;">精度の高い順に並べ替えます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家に。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通り。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和解。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都市。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、指定された座標からの距離で、もう一度並べ替えます。</font><font style="vertical-align: inherit;">メソッドが4つの家と1つの通りを見つけた場合、家は最初に特定のポイントからの距離の順に立っています。</font><font style="vertical-align: inherit;">それらの後ろには通りがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべての城の後、メソッドは最終的に、見つかったオブジェクトを返します。</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"suggestions"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"value"</span>: <span class="hljs-string">" ,  ,  11"</span>,
            <span class="hljs-attr">"unrestricted_value"</span>: <span class="hljs-string">" ,  ,  11"</span>,
            <span class="hljs-attr">"data"</span>: {...}<font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"value"</span>: <span class="hljs-string">" ,  ,  11"</span>,
            <span class="hljs-attr">"unrestricted_value"</span>: <span class="hljs-string">" ,  ,  11"</span>,
            <span class="hljs-attr">"data"</span>: {...}<font></font>
        }<font></font>
    ]<font></font>
} </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部-見つかったオブジェクトに関する多くの異なるもの：完全なアドレスと省略されたアドレス、現在の名前と古い名前、郵便番号、親オブジェクトのFIASコードなどの行。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c5/_4/8i/c5_48iyueonoygc22saytynllr4.png"><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドが提供するすべてのデータ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はドキュメンテーションに含まれています。</font></font></a></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
住宅の場合のように、異なる地域の座標によるコーティングは異なります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モスクワ-96％、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンクトペテルブルク-88％、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他の100万以上の都市-74％、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロシアの他の地域は47％です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてここにあります-通りをカバーしています：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モスクワ-92％</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンクトペテルブルク-79％、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その他の億万長者の都市-75％、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロシアの他の地域は67％です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らは都市を考慮しませんでした-ロシアの規模では、都市の誇り高い称号に属するという事実さえ不安定でした。</font><font style="vertical-align: inherit;">たとえば</font><font style="vertical-align: inherit;">&nbsp;、公式のFIASディレクトリによれば</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヤロスラヴリ地域、ポシェコンスキー地区、フェドルコフスキー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は都市です。</font><font style="vertical-align: inherit;">そして実際には、そしてアドレスで-地方。</font><font style="vertical-align: inherit;">物理的に、農村地域は大きなしみのいくつかの村の組合に似ています。</font><font style="vertical-align: inherit;">中心を決定するだけでなく、地図上で集落を見つけることさえ困難です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッドに何を追加するかについてはすでに考えています。オブジェクトのタイプによるフィルタリングを許可し、特定のポイントまでの距離を返すなどです。</font><font style="vertical-align: inherit;">需要を監視し、投資するかどうかを決定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そうでなければ、すべてがすでに製品化されています。</font><font style="vertical-align: inherit;">1日あたり最大10,000リクエスト-無料、さらに-年間5,000 fromからのサブスクリプション。</font><font style="vertical-align: inherit;">商用プロジェクトで座標による住所が必要で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ジオコーダー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が高すぎる場合</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">は、Dadati APIを</font></a><font style="vertical-align: inherit;">試し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">てください</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">元の記事は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HFLabsブログで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公開さ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">れてい</font></a><font style="vertical-align: inherit;">ます。</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja467775/index.html">ビジネスに関する5つの神話：クライアントが間違っている理由とAppleを凌ぐ方法</a></li>
<li><a href="../ja467779/index.html">Godot、GLSL、WebGLについて、ミニゲームで使用されるシェーダー</a></li>
<li><a href="../ja467781/index.html">CSセンターのC ++コース、前編</a></li>
<li><a href="../ja467783/index.html">ITプロフェッショナルはどのようにしてスイスで働き、生活することができますか</a></li>
<li><a href="../ja467785/index.html">大規模なデータセットを扱うときにパンダを最適化する方法（エッセイ）</a></li>
<li><a href="../ja467789/index.html">Java 13が登場しました。ZGCがメモリの共有を開始し、CDS自体がクラスを記憶し、その他の技術的な驚異</a></li>
<li><a href="../ja467791/index.html">Googleデータスタジオでのページスクロール分析</a></li>
<li><a href="../ja467793/index.html">一人のインターネット会社の退屈な技術スタック</a></li>
<li><a href="../ja467795/index.html">暗号通貨と政府規制に関するメモ</a></li>
<li><a href="../ja467797/index.html">「ために笑う」：「戦闘」アプリケーションのないソフトウェアツールが必要になる理由</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>