<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèÇüèø üî´ üë©üèæ‚ÄçüöÄ Wie wir bei Sportmaster ein Caching-System gew√§hlt haben. Teil 1 üßñüèª üë®‚Äçüíª üì•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo! Mein Name ist Alexey Pyankov, ich bin Entwickler bei Sportmaster. In diesem Beitrag habe ich dar√ºber gesprochen, wie die Arbeit an der Sportmas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wie wir bei Sportmaster ein Caching-System gew√§hlt haben. Teil 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/490912/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo! Mein Name ist Alexey Pyankov, ich bin Entwickler bei Sportmaster. In diesem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beitrag habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich dar√ºber gesprochen, wie die Arbeit an der Sportmaster-Website im Jahr 2012 begann, welche Initiativen wir durchsetzen konnten und umgekehrt, welchen Rechen wir gesammelt haben. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heute m√∂chte ich die Gedanken teilen, die einer anderen Geschichte folgen - die Auswahl eines Caching-Systems f√ºr das Java-Backend im Admin-Bereich der Site. Diese Handlung ist f√ºr mich von besonderer Bedeutung - obwohl die Geschichte nur 2 Monate dauerte, arbeiteten wir diese 60 Tage 12-16 Stunden und ohne freien Tag. Ich h√§tte nie gedacht und mir vorgestellt, dass man so viel arbeiten kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher teile ich den Text in 2 Teile, um ihn nicht vollst√§ndig herunterzuladen. Im Gegenteil, der erste Teil wird sehr einfach sein - Vorbereitung, Einf√ºhrung, einige √úberlegungen, was Caching ist. Wenn Sie bereits ein erfahrener Entwickler sind oder mit Caches gearbeitet haben - technisch gesehen - enth√§lt dieser Artikel h√∂chstwahrscheinlich nichts Neues. Aber f√ºr einen Junior kann eine kleine solche Bewertung sagen, wie er aussehen soll, wenn er sich an einem solchen Scheideweg befindet.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/c-/8-/z5/c-8-z5hphf6b0qo46ruj5mdf1vc.png"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als die neue Version der Sportmaster-Website in Produktion ging, kamen die Daten, gelinde gesagt, nicht sehr praktisch. Grundlage waren die Tabellen, die f√ºr die vorherige Version der Site (Bitrix) erstellt wurden, die in ETL versch√§rft, neu gestaltet und mit verschiedenen Kleinigkeiten aus einem Dutzend weiterer Systeme angereichert werden musste. Damit ein neues Bild oder eine neue Produktbeschreibung auf der Website angezeigt wird, mussten Sie bis zum n√§chsten Tag warten - Aktualisierung nur nachts, 1 Mal pro Tag.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anfangs gab es in den ersten Wochen nach Produktionsbeginn so viele Sorgen, dass solche Unannehmlichkeiten f√ºr Content Manager eine Kleinigkeit waren. Sobald sich alles beruhigt hatte, wurde die Entwicklung des Projekts fortgesetzt - einige Monate sp√§ter, Anfang 2015, begannen wir, das Admin-Panel aktiv weiterzuentwickeln. In den Jahren 2015 und 2016 l√§uft alles gut, wir werden es regelm√§√üig ver√∂ffentlichen, der Administrationsbereich deckt den gr√∂√üten Teil der Datenaufbereitung ab und wir bereiten uns darauf vor, dass bald das Wichtigste und Schwierigste unserem Team anvertraut wird - die Produktlinie (vollst√§ndige Aufbereitung und Pflege der Daten f√ºr alle Produkte). Im Sommer 2017, kurz vor dem Start der Produktlinie, wird sich das Projekt jedoch in einer sehr schwierigen Situation befinden - gerade wegen Caching-Problemen. Ich m√∂chte √ºber diese Episode im zweiten Teil dieser zweiteiligen Ver√∂ffentlichung sprechen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber in diesem Beitrag beginne ich wie einige Gedanken von weitem - Ideen zum Zwischenspeichern, die vor einem gro√üen Projekt im Voraus gescrollt werden sollten, w√§re ein guter Schritt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn eine Cache-Aufgabe auftritt</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Caching-Aufgabe wird nicht nur angezeigt. Wir sind Entwickler, wir schreiben ein Softwareprodukt und wir m√∂chten, dass es gefragt ist. Wenn das Produkt gefragt und erfolgreich ist, kommen Benutzer. Und mehr kommen und mehr. Und so gibt es viele Benutzer und dann wird das Produkt hoch geladen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den ersten Phasen denken wir nicht an Optimierung und Codeleistung. Die Hauptsache ist die Funktionalit√§t, die schnelle Einf√ºhrung des Piloten und das Testen von Hypothesen. Und wenn die Last w√§chst, pumpen wir Eisen. Wir erh√∂hen es um den Faktor zwei, drei, f√ºnf, lassen es zehnmal sein. Irgendwo hier - die Finanzen werden es nicht mehr zulassen. Und wie oft wird die Anzahl der Benutzer steigen? Es wird nicht nur 2-5-10 sein, sondern wenn es erfolgreich ist, wird es von 100-1000 und bis zu 100.000 Mal sein. Das hei√üt, fr√ºher oder sp√§ter, muss aber die Optimierung durchf√ºhren.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir an, ein Teil des Codes (nennen wir diesen Teil eine Funktion) funktioniert lange Zeit unanst√§ndig, und wir m√∂chten die Ausf√ºhrungszeit reduzieren. Funktion - es kann der Zugriff auf die Datenbank sein, es kann die Ausf√ºhrung einer komplexen Logik sein - die Hauptsache ist, dass es lange dauert. Wie viel k√∂nnen Sie die Vorlaufzeit reduzieren? Im Limit - kann nicht weiter auf Null reduziert werden. Und wie k√∂nnen Sie die Laufzeit auf Null reduzieren? Antwort: Ausschluss generell ausschlie√üen. Geben Sie stattdessen sofort das Ergebnis zur√ºck. Und woher kennst du das Ergebnis? Antwort: entweder berechnen oder irgendwo suchen. Berechnen ist eine lange Zeit. Und gucken hei√üt zum Beispiel, sich an das Ergebnis zu erinnern, das die Funktion beim letzten Aufruf mit denselben Parametern zuletzt erzeugt hat.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das hei√üt, die Implementierung der Funktion spielt f√ºr uns keine Rolle. </font><font style="vertical-align: inherit;">Es reicht zu wissen, von welchen Parametern das Ergebnis abh√§ngt. </font><font style="vertical-align: inherit;">Wenn die Parameterwerte dann in Form eines Objekts dargestellt werden, das in einem Speicher als Schl√ºssel verwendet werden kann, k√∂nnen wir das Ergebnis der Berechnung speichern und beim n√§chsten Mal lesen. </font><font style="vertical-align: inherit;">Wenn diese Schreib- / Leseergebnisse schneller sind als die Ausf√ºhrung der Funktion, erzielen wir einen Geschwindigkeitsgewinn. </font><font style="vertical-align: inherit;">Der Gewinnwert kann das 100-, 1000- und 100.000-fache erreichen (10 ^ 5 ist eher eine Ausnahme, aber bei einer anst√§ndigen Verz√∂gerungsbasis ist dies durchaus m√∂glich).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wichtige Caching-Anforderungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das erste, was f√ºr ein Caching-System erforderlich werden kann, ist eine schnelle Lesegeschwindigkeit und in etwas geringerem Ma√üe eine Schreibgeschwindigkeit. Dies ist so, aber nur bis wir das System in der Produktion einf√ºhren. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns einen solchen Fall spielen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir haben die aktuelle Ladung mit Eisen versorgt und f√ºhren nun schrittweise das Caching ein. Die Benutzer wachsen ein bisschen, die Last w√§chst - wir f√ºgen ein wenig Caches hinzu, wir befestigen sie hier und da. Dies ist schon seit einiger Zeit so, und jetzt werden die schweren Funktionen praktisch nicht mehr aufgerufen - die Hauptlast liegt beim Cache. Die Anzahl der Benutzer in dieser Zeit ist N-mal gestiegen.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wenn die anf√§ngliche Eisenversorgung 2-5-mal sein k√∂nnte, k√∂nnten wir mit Hilfe des Caches die Produktivit√§t alle 10 oder in einem guten Fall 100-mal an einigen Stellen, m√∂glicherweise 1000, erh√∂hen. Das hei√üt, wir verarbeiten auf demselben Eisen 100 mal mehr Anfragen. Gro√üartig, verdiene einen Lebkuchen! </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber jetzt st√ºrzte das System versehentlich ab und der Cache st√ºrzte ab. Nichts Besonderes - schlie√ülich wurde der Cache bei Bedarf ausgew√§hlt "Hochgeschwindigkeitslesen und -schreiben, der Rest spielt keine Rolle." </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Bezug auf die Startlast betrug die Eisenreserve das 2-5-fache, und die Last stieg w√§hrend dieser Zeit um das 10-100-fache. Mit Hilfe des Caches haben wir Anrufe f√ºr schwere Funktionen eliminiert und daher flog alles. Und jetzt, ohne Cache - wie oft h√§ngt unser System ab? Was wird mit uns passieren? Das System wird fallen.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbst wenn unser Cache nicht abgest√ºrzt ist, sondern nur f√ºr eine Weile gel√∂scht wurde, muss er aufgew√§rmt werden, und dies wird einige Zeit dauern. </font><font style="vertical-align: inherit;">Und zu diesem Zeitpunkt wird die Hauptlast auf die Funktion fallen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fazit: Hochlastprojekte im Produkt erfordern vom Caching-System nicht nur eine hohe Lese- und Schreibgeschwindigkeit, sondern auch Datensicherheit und Fehlerresistenz.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mehl der Wahl</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Projekt mit dem Admin-Panel ging die Wahl so: Zuerst haben sie Hazelcast gesetzt, weil </font><font style="vertical-align: inherit;">waren bereits mit diesem Produkt aus der Erfahrung der Hauptseite vertraut. </font><font style="vertical-align: inherit;">Aber hier war diese Wahl erfolglos - f√ºr unser Lastprofil arbeitet Hazelcast nicht nur langsam, sondern auch furchtbar langsam. </font><font style="vertical-align: inherit;">Und zu diesem Zeitpunkt haben wir uns bereits f√ºr die R√ºcknahmebedingungen f√ºr das Produkt angemeldet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spoiler: Wie genau sind die Umst√§nde entstanden, dass wir einen solchen Plop verpasst haben und eine akute und angespannte Situation hatten - ich werde im zweiten Teil erz√§hlen - sowohl wie wir uns herausstellten als auch wie wir herauskamen. </font><font style="vertical-align: inherit;">Aber jetzt - ich sage nur, dass es viel Stress war und "denke - irgendwie denke ich nicht, sch√ºttle die Flasche." </font><font style="vertical-align: inherit;">"Shaking the Bottle" ist auch ein Spoiler, etwas weiter. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was haben wir getan:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir erstellen eine Liste aller Systeme, die von Google und StackOverflow aufgefordert werden. </font><font style="vertical-align: inherit;">Etwas mehr als 30</font></font></li>
<li>   ,   .    ,      - ‚Äî       ,   .      </li>
<li> ,      , ,  .   ,    ‚Äì ,     .</li>
<li> 17-   ,   .  ¬´ ¬ª,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist jedoch eine Option, wenn Sie ein System ausw√§hlen m√ºssen, das in vorbereiteten Tests "schnell kriecht". Und wenn es noch keine solchen Tests gibt und Sie schneller w√§hlen m√∂chten? </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden eine solche Option simulieren (es ist schwer vorstellbar, dass der mittlere Entwickler in einem Vakuum lebt, und zum Zeitpunkt der Auswahl hatte er noch nicht entschieden, welches Produkt er zuerst ausprobieren sollte - daher ist eine weitere Diskussion eher ein Theoretiker / eine Philosophie / √ºber einen Junior). </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die Anforderungen festgelegt haben, werden wir beginnen, eine L√∂sung aus der Box auszuw√§hlen. Warum das Rad neu erfinden: Wir werden ein fertiges Caching-System nehmen.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie gerade erst anfangen und googeln, dann plus oder minus der Bestellung, aber im Allgemeinen werden die Richtlinien so sein. </font><font style="vertical-align: inherit;">Zun√§chst einmal stolpern Sie √ºber Redis, es ist √ºberall zu h√∂ren. </font><font style="vertical-align: inherit;">Dann werden Sie feststellen, dass es EhCache als √§ltestes und bew√§hrtes System gibt. </font><font style="vertical-align: inherit;">Dann wird √ºber Tarantool geschrieben - eine h√§usliche Entwicklung, bei der es einen einzigartigen Aspekt der L√∂sung gibt. </font><font style="vertical-align: inherit;">Und auch Ignite, denn es erfreut sich immer gr√∂√üerer Beliebtheit und wird von SberTech unterst√ºtzt. </font><font style="vertical-align: inherit;">Am Ende gibt es Hazelcast, weil es in der Unternehmenswelt oft inmitten gro√üer Unternehmen blinkt. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Liste endet nicht dort, es gibt Dutzende von Systemen. </font><font style="vertical-align: inherit;">Und wir schrauben nur einen. </font><font style="vertical-align: inherit;">Nehmen Sie die ausgew√§hlten 5 Systeme f√ºr den "Sch√∂nheitswettbewerb" und f√ºhren Sie eine Auswahl durch. </font><font style="vertical-align: inherit;">Wer wird der Gewinner sein?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir lesen, was sie auf der offiziellen Website schreiben. </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein Open Source Projekt. </font><font style="vertical-align: inherit;">Es bietet speicherinternen Datenspeicher, die M√∂glichkeit, auf der Festplatte zu speichern, automatisch in Partitionen zu partitionieren, hohe Verf√ºgbarkeit und Wiederherstellung nach Netzwerkunterbrechungen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass alles in Ordnung ist, man kann es nehmen und anschrauben - alles was er braucht ist was er tut. </font><font style="vertical-align: inherit;">Aber schauen wir uns nur das Interesse an den anderen Kandidaten an.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ehcache</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EhCache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ‚Äûder am h√§ufigsten verwendete Cache f√ºr Java‚Äú (√úbersetzung des Slogans von der offiziellen Website). </font><font style="vertical-align: inherit;">Auch OpenSource. </font><font style="vertical-align: inherit;">Und hier verstehen wir, dass Redis nicht unter Java steht, sondern allgemein, und um damit zu interagieren, ben√∂tigen Sie einen Wrapper. </font><font style="vertical-align: inherit;">Und EhCache wird bequemer sein. </font><font style="vertical-align: inherit;">Was verspricht das System noch? </font><font style="vertical-align: inherit;">Zuverl√§ssigkeit, Offenheit, volle Funktionalit√§t. </font><font style="vertical-align: inherit;">Nun, und sie ist die h√§ufigste. </font><font style="vertical-align: inherit;">Und speichert Terabytes an Daten zwischen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis ist vergessen, ich bin bereit, EhCache zu w√§hlen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ein Gef√ºhl des Patriotismus dr√§ngt mich zu sehen, was Tarantool gut macht.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarantool</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarantool</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Erf√ºllt die Bezeichnung "Echtzeit-Datenintegrationsplattform". Es klingt sehr schwierig, deshalb lesen wir die Seite im Detail und finden eine laute Aussage: "Zwischenspeichert 100% der Daten im RAM." Dies sollte Fragen aufwerfen - schlie√ülich kann es viel mehr Daten als Speicher geben. Die Entschl√ºsselung besteht darin, dass hier impliziert wird, dass Tarantool keine Serialisierung ausf√ºhrt, um Daten aus dem Speicher auf eine Festplatte zu schreiben. Stattdessen werden die Low-Level-Funktionen des Systems verwendet, wenn der Speicher einfach einem Dateisystem mit sehr guter E / A-Leistung zugeordnet wird. Im Allgemeinen haben sie es irgendwie wunderbar und cool gemacht. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns die Implementierung an: Mail.ru Corporate Highway, Avito, Beeline, Megafon, Alfa-Bank, Gazprom ...</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn es noch Zweifel an Tarantool g√§be, w√ºrde mich die Einf√ºhrung der Mastercard-Implementierung umbringen. </font><font style="vertical-align: inherit;">Ich nehme Tarantool. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wie auch immer‚Ä¶</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entz√ºnden</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... gibt es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das als "In-Memory-Computing-Plattform ... In-Memory-Geschwindigkeiten f√ºr Petabyte Daten" deklariert ist. </font><font style="vertical-align: inherit;">Es gibt auch viele Vorteile: verteilter In-Memory-Cache, schnellster Schl√ºsselwertspeicher und -cache, horizontale Skalierung, hohe Verf√ºgbarkeit, strenge Integrit√§t. </font><font style="vertical-align: inherit;">Im Allgemeinen stellt sich heraus, dass Ignite am schnellsten ist. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implementierungen: Sberbank, American Airlines, Yahoo! </font><font style="vertical-align: inherit;">Japan </font><font style="vertical-align: inherit;">Und dann finde ich immer noch heraus, dass Ignite nicht nur in Sberbank implementiert ist, sondern das SberTech-Team seine Mitarbeiter an das Ignite-Team sendet, um das Produkt fertigzustellen. </font><font style="vertical-align: inherit;">Das ist absolut fesselnd und ich bin bereit, Ignite zu nehmen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist v√∂llig unverst√§ndlich, warum, ich schaue auf den f√ºnften Punkt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hazelcast</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich gehe zur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hazelcast-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Website </font><font style="vertical-align: inherit;">und lese sie. </font><font style="vertical-align: inherit;">Und es stellt sich heraus, dass Hazelcast die schnellste L√∂sung f√ºr verteiltes Caching ist. </font><font style="vertical-align: inherit;">Er ist um Gr√∂√üenordnungen schneller als alle anderen L√∂sungen und im Allgemeinen f√ºhrend auf dem Gebiet des In-Memory-Datengitters. </font><font style="vertical-align: inherit;">Nehmen Sie vor diesem Hintergrund etwas anderes - respektieren Sie sich nicht. </font><font style="vertical-align: inherit;">Es verwendet auch redundanten Datenspeicher f√ºr den kontinuierlichen Betrieb des Clusters ohne Datenverlust. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles, ich bin bereit, Hazelcast zu nehmen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wenn Sie schauen, dann sind alle f√ºnf Kandidaten so gemalt, dass jeder von ihnen der beste ist. Wie man w√§hlt? Wir k√∂nnen sehen, welches am beliebtesten ist, nach Vergleichen suchen und die Kopfschmerzen werden vergehen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir finden eine solche </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bewertung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , w√§hlen Sie unsere 5 Systeme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r8/ix/gi/r8ixgicyh9dc4wgwv7sl_prtxsi.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier sind sie sortiert: An der Spitze von Redis, an zweiter Stelle stehen Hazelcast, Tarantool und Ignite werden immer beliebter, EhCache war und ist. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber schauen wir uns </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Berechnungsmethode an</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Links zu Websites, allgemeines Interesse am System, Stellenangebote - gro√üartig! Das hei√üt, wenn mein System ausf√§llt, werde ich sagen: ‚ÄûNein, es ist zuverl√§ssig! Hier gibt es viele Stellenangebote ... ". Ein so einfacher Vergleich wird nicht funktionieren.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle diese Systeme sind nicht nur Caching-Systeme. </font><font style="vertical-align: inherit;">Sie haben immer noch viele Funktionen, auch wenn die Daten nicht zur Verarbeitung an den Client √ºbertragen werden, sondern: Der Code, der auf den Daten ausgef√ºhrt werden muss, wird auf den Server verschoben, dort ausgef√ºhrt und das Ergebnis zur√ºckgegeben. </font><font style="vertical-align: inherit;">Und als separates System f√ºr das Caching werden sie nicht so oft in Betracht gezogen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, nicht aufgeben, wir finden einen direkten Vergleich der Systeme. </font><font style="vertical-align: inherit;">Nehmen Sie die beiden besten Optionen - Redis und Hazelcast. </font><font style="vertical-align: inherit;">Wir sind an Geschwindigkeit interessiert, wir k√∂nnen sie anhand dieses Parameters vergleichen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hz gegen Redis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir finden einen solchen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<img src="https://habrastorage.org/webt/vq/ue/l0/vquel0ijbidfqlj_iailrnfhzgg.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blau ist Redis, Rot ist Hazelcast. </font><font style="vertical-align: inherit;">Hazelcast gewinnt √ºberall und die Begr√ºndung lautet: Es ist Multithread-f√§hig, hochoptimiert, jeder Thread arbeitet mit einer eigenen Partition, sodass es keine Sperren gibt. </font><font style="vertical-align: inherit;">Und Redis ist Single-Threaded, es profitiert nicht von modernen Multi-Core-CPUs. </font><font style="vertical-align: inherit;">Hazelcast hat asynchrone E / A, Redis-Jedis hat Sockets blockiert. </font><font style="vertical-align: inherit;">Am Ende verwendet Hazelcast ein Bin√§rprotokoll, w√§hrend Redis textorientiert ist, was bedeutet, dass es ineffizient ist. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr alle F√§lle wenden wir uns einer anderen Vergleichsquelle zu. </font><font style="vertical-align: inherit;">Was wird er uns zeigen?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis vs Hz</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<img src="https://habrastorage.org/webt/70/ez/yp/70ezypii1cgalhogxc9jo7kmshk.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist Rot im Gegenteil Redis. </font><font style="vertical-align: inherit;">Das hei√üt, Redis √ºbertrifft Hazelcast in der Leistung. </font><font style="vertical-align: inherit;">Im ersten Vergleich gewann Hazelcast, im zweiten Redis. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier erkl√§rten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sie sehr genau, warum Hazelcast im vorherigen Vergleich gewonnen hat. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellt sich heraus, dass das Ergebnis des ersten tats√§chlich manipuliert wurde: Redis wurde in die Basisbox genommen und Hazelcast wurde f√ºr einen Testfall eingesperrt. </font><font style="vertical-align: inherit;">Dann stellt sich heraus: Erstens kann niemandem vertraut werden, und zweitens m√ºssen wir es immer noch richtig konfigurieren, wenn wir uns dennoch f√ºr ein System entscheiden. </font><font style="vertical-align: inherit;">Diese Einstellungen umfassen Dutzende, fast Hunderte von Parametern.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Flasche sch√ºtteln</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und den ganzen Prozess, den wir gerade gemacht haben, kann ich mit einer solchen Metapher erkl√§ren: "Sch√ºttle die Flasche." Das hei√üt, jetzt k√∂nnen Sie nicht programmieren, jetzt ist die Hauptsache, Stackoverflow lesen zu k√∂nnen. Und in meinem Team gibt es eine Person, einen Fachmann, der in kritischen Momenten einfach so arbeitet.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was macht er? Er sieht eine kaputte Sache, sieht eine Stapelspur, nimmt einige seiner W√∂rter (welche sind seine Fachkenntnisse im Programm), sucht in Google und findet einen Stapel√ºberlauf unter den Antworten. Ohne zu lesen, ohne nachzudenken, w√§hlt er unter den Antworten auf die Frage etwas, das dem Satz "dies und das tun" am √§hnlichsten ist (die Wahl einer solchen Antwort ist sein Talent, da es nicht immer die Antwort ist, die mehr Likes gesammelt hat), die er verwendet sieht aus: wenn sich etwas ge√§ndert hat, dann gut. Wenn es sich nicht ge√§ndert hat, rollen wir zur√ºck. Und wir wiederholen die Start-Check-Suche. Und auf solch intuitive Weise erreicht er, dass der Code nach einiger Zeit funktioniert. Er wei√ü nicht warum, er wei√ü nicht was er getan hat, er kann es nicht erkl√§ren. Aber! Diese Infektion funktioniert. Und das "Feuer gel√∂scht". Jetzt verstehen wir, was wir getan haben. Wenn das Programm funktioniert, ist es viel einfacher.Und spart erheblich Zeit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Methode wird durch ein solches Beispiel sehr gut erkl√§rt. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war einmal sehr beliebt, ein Segelboot in einer Flasche zu sammeln. Gleichzeitig ist das Segelboot gro√ü und zerbrechlich, und der Flaschenhals ist sehr schmal, man kann ihn nicht hineinschieben. Wie montiere ich es? </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/c-/8-/z5/c-8-z5hphf6b0qo46ruj5mdf1vc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine solche Methode, sehr schnell und sehr effektiv. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Schiff besteht aus ein paar kleinen Dingen: St√∂cken, Seilen, Segeln, Kleber. Wir packen das alles in eine Flasche. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir nehmen die Flasche mit beiden H√§nden und fangen an zu zittern. Wir zittern, zittern. Und normalerweise bekommt man nat√ºrlich kompletten M√ºll. Aber manchmal. Manchmal bekommt man ein Schiff! Genauer gesagt, etwas √§hnlich wie ein Schiff. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir zeigen dies jemandem: "Serge, sehen Sie !?". Und zwar aus der Ferne - als w√§re es ein Schiff. Aber dann kannst du das nicht loslassen.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es geht auch anders. Die Jungs benutzen fortgeschrittenere, solche Hacker. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hat so einem Kerl eine Aufgabe gegeben, er hat alles getan und ist gegangen. Und du siehst aus - es scheint getan zu sein. Und nach einer Weile, wenn es notwendig ist, den Code zu verfeinern - dort beginnt es deswegen ... Es ist gut, dass er es bereits geschafft hat, weit wegzulaufen. Das sind die Leute, die am Beispiel einer Flasche Folgendes tun: Sie sehen, wo der Boden ist - das Glas biegt sich. Und es ist nicht ganz klar, ob es transparent ist oder nicht. Dann schneiden die ‚ÄûHacker‚Äú diesen Boden ab, setzen das Schiff dort ein, f√ºgen den Boden erneut ein und als ob es notwendig w√§re.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter dem Gesichtspunkt der Problemstellung scheint alles korrekt zu sein. Aber hier ist ein Beispiel f√ºr Schiffe: Warum macht dieses Schiff im Allgemeinen, wer braucht es √ºberhaupt? Es hat keine Funktionalit√§t. Normalerweise sind solche Schiffe Geschenke an sehr hochrangige Leute, die sie als Symbol als Zeichen auf ein Regal √ºber sich stellen. Und jetzt, wenn eine solche Person, der Leiter eines gro√üen Unternehmens oder ein hochrangiger Beamter, wie steht die Flagge f√ºr solchen M√ºll, in den der Hals geschnitten ist? Es w√§re besser, wenn er nie davon w√ºsste. Wie werden diese Schiffe letztendlich hergestellt, die einer wichtigen Person pr√§sentiert werden k√∂nnen?</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der einzige Ort, Schl√ºssel, mit dem wirklich nichts zu tun ist, ist das Geb√§ude. Und der Rumpf des Schiffes geht gerade durch den Hals. W√§hrend das Schiff au√üerhalb der Flasche f√§hrt. Aber es geht nicht nur darum, ein Schiff zusammenzubauen, es ist ein echtes Schmuckhandwerk. Den Bauteilen werden spezielle Hebel hinzugef√ºgt, mit denen sie sp√§ter angehoben werden k√∂nnen. Zum Beispiel werden die Segel gefaltet, sanft hineingetrieben und dann mit Hilfe einer Pinzette ist es sehr Schmuck, sicher, sie werden gezogen und angehoben. Das Ergebnis ist ein Kunstwerk, das mit gutem Gewissen und Stolz pr√§sentiert werden kann.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wenn das Projekt erfolgreich sein soll, muss mindestens ein Juwelier im Team sein. </font><font style="vertical-align: inherit;">Jeder, der sich um die Qualit√§t des Produkts k√ºmmert und alle Aspekte ber√ºcksichtigt, ohne auch in stressigen Zeiten einen einzigen zu opfern, wenn die Umst√§nde dies zum Nachteil der Wichtigen dringend erfordern. </font><font style="vertical-align: inherit;">Alle erfolgreichen Projekte, die nachhaltig sind, die sich bew√§hrt haben, bauen auf diesem Prinzip auf. </font><font style="vertical-align: inherit;">Sie haben etwas sehr Pr√§zises und Einzigartiges, das alle verf√ºgbaren Funktionen nutzt. </font><font style="vertical-align: inherit;">Am Beispiel eines Schiffs in einer Flasche wird ausgespielt, dass der Schiffsrumpf durch den Hals verl√§uft.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie k√∂nnte diese Methode angewendet werden, um zur Auswahl unseres Caching-Servers zur√ºckzukehren? </font><font style="vertical-align: inherit;">Ich schlage eine solche Option aus allen Systemen vor, die es gibt - sch√ºtteln Sie nicht die Flasche, w√§hlen Sie nicht, sondern sehen Sie, worauf sie bei der Auswahl eines Systems im Prinzip achten m√ºssen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wo man nach Flaschenhals sucht</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns versuchen, die Flasche nicht zu sch√ºtteln, nicht alles zu sortieren, was wiederum ist, sondern zu sehen, welche Aufgaben, wenn auch pl√∂tzlich, f√ºr Ihre Aufgabe entstehen - ein solches System selbst zu entwerfen. </font><font style="vertical-align: inherit;">Nat√ºrlich werden wir das Fahrrad nicht zusammenbauen, aber wir werden dieses Schema verwenden, um uns an den Punkten zu orientieren, auf die in den Produktbeschreibungen zu achten ist. </font><font style="vertical-align: inherit;">Wir skizzieren ein solches Schema. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/pk/uf/d3pkufjwip_flieqquuhgk-8jlm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das System verteilt ist, haben wir mehrere Server (6). </font><font style="vertical-align: inherit;">Sagen wir vier (es ist praktisch, sie auf dem Bild zu platzieren, aber es kann nat√ºrlich eine beliebige Anzahl davon geben). </font><font style="vertical-align: inherit;">Wenn sich die Server auf verschiedenen Knoten befinden, bedeutet dies, dass sich auf allen ein Teil des Codes dreht. Dies ist daf√ºr verantwortlich, dass diese Knoten einen Cluster bilden und sich im Falle einer Unterbrechung gegenseitig verbinden und erkennen.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ben√∂tigen noch eine Codelogik (2), bei der es eigentlich um Caching geht. Clients interagieren mit diesem Code √ºber eine API. Der Clientcode (1) kann sich beide innerhalb derselben JVM befinden und √ºber das Netzwerk darauf zugreifen. Die darin implementierte Logik ist die Entscheidung, welche Objekte im Cache belassen und welche geworfen werden sollen. Wir verwenden Speicher (3), um den Cache zu speichern, aber bei Bedarf k√∂nnen wir auch einen Teil der Daten auf der Festplatte (4) speichern.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mal sehen, in welchen Teilen die Last auftreten wird. Tats√§chlich werden jeder Pfeil und jeder Knoten geladen. Erstens kann zwischen Client-Code und API, wenn es sich um eine Netzwerkinteraktion handelt, ein Absinken durchaus sp√ºrbar sein. Zweitens k√∂nnen wir im Rahmen der API selbst - nachdem wir sie mit komplexer Logik √ºberschrieben haben - auf die CPU sto√üen. Und es w√§re gut, wenn die Logik den Speicher nicht noch einmal ansteuern w√ºrde. Und es bleibt die Interaktion mit dem Dateisystem - in der √ºblichen Version wird es serialisiert / wiederhergestellt und geschrieben / gelesen. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Interaktion mit dem Cluster. H√∂chstwahrscheinlich befindet es sich im selben System, kann jedoch separat ausgef√ºhrt werden. Hier m√ºssen Sie auch die Daten√ºbertragung ber√ºcksichtigen, die Geschwindigkeit der Datenserialisierung und die Interaktion zwischen dem Cluster.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einerseits k√∂nnen wir uns vorstellen, welche Zahnr√§der sich im Cache-System drehen, wenn Anforderungen aus unserem Code verarbeitet werden, und andererseits k√∂nnen wir absch√§tzen, welche und wie viele Anforderungen unser Code an dieses System generiert. Dies reicht aus, um eine mehr oder weniger n√ºchterne Wahl zu treffen - um ein System f√ºr unseren Anwendungsfall zu w√§hlen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hazelcast Mal</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
sehen, wie diese Zerlegung auf unsere Liste zutrifft. Zum Beispiel Hazelcast. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Daten von Hazelcast abzulegen / abzurufen, greift der Client-Code auf (1) die API zu. Mit Hz k√∂nnen Sie den Server als eingebettet starten. In diesem Fall ist der Zugriff auf die API ein Methodenaufruf innerhalb der JVM. Sie k√∂nnen ihn kostenlos lesen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Logik in (2) zu erarbeiten, st√ºtzt sich Hz auf einen Hash aus dem Byte-Array des serialisierten Schl√ºssels - das hei√üt, die Schl√ºssel-Serialisierung erfolgt in jedem Fall. Dies ist ein unvermeidlicher Overhead f√ºr Hz. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√§umungsstrategien sind gut implementiert, aber f√ºr spezielle F√§lle k√∂nnen Sie Ihre eigenen verbinden. Sie m√ºssen sich um diesen Teil keine Sorgen machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Speicher (4) kann angeschlossen werden. Fein. Die Interaktion (5) f√ºr Embedded kann als sofort betrachtet werden. Der Datenaustausch zwischen Knoten im Cluster (6) - ja, das ist es. Dies tr√§gt zur Ausfallsicherheit auf Kosten der Geschwindigkeit bei. Die Hz-Funktion von Near-Cache erm√∂glicht das Verringern des Preises - Daten, die von anderen Knoten des Clusters empfangen werden, werden zwischengespeichert. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was kann unter solchen Bedingungen getan werden, um die Geschwindigkeit zu erh√∂hen?</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um beispielsweise zu vermeiden, dass der Schl√ºssel in (2) √ºber Hazelcast serialisiert wird, schrauben Sie einen weiteren Cache f√ºr die hei√üesten Daten. Bei Sportmaster wurde zu diesem Zweck Koffein ausgew√§hlt. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr das Verdrehen auf Stufe (6) bietet Hz zwei Arten von Speicher: IMap und ReplicatedMap. </font></font><br>
<img src="https://habrastorage.org/webt/t_/_a/ie/t__aieqdprk1bzb_ac_qpuvn7ro.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist erw√§hnenswert, wie Hazelcast in den Sportmaster-Technologie-Stack kam.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als wir 2012 an dem allerersten Pilotprojekt der zuk√ºnftigen Site arbeiteten, stellte sich heraus, dass Hazelcast der erste Link war, den die Suchmaschine herausgab. Die Bekanntschaft begann ‚Äûdas erste Mal‚Äú - wir waren beeindruckt von der Tatsache, dass es nur zwei Stunden sp√§ter funktionierte, als wir die Hz in das System einschraubten. Und es hat gut funktioniert. Bis zum Ende des Tages haben wir einige Tests hinzugef√ºgt, wir waren froh. Und diese Kraft reichte aus, um die √úberraschungen zu √ºberwinden, die Hz im Laufe der Zeit mit sich brachte. Jetzt hat das Sportmaster-Team keinen Grund, Hazelcast abzulehnen.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber Argumente wie "der erste Link in einer Suchmaschine" und "schnell zusammengestellte HelloWorld" sind nat√ºrlich eine Ausnahme und ein Merkmal des Augenblicks, in dem die Wahl getroffen wurde. Diese Tests f√ºr das ausgew√§hlte System beginnen mit der Freigabe im Produkt. In diesem Stadium sollten Sie bei der Auswahl eines Systems, einschlie√ülich des Caches, aufpassen. In unserem Fall k√∂nnen wir tats√§chlich sagen, dass wir uns zuf√§llig f√ºr Hazelcast entschieden haben, aber dann stellte sich heraus, dass wir uns f√ºr den richtigen entschieden haben.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr die Produktion ist es viel wichtiger: √úberwachung, Verarbeitungsfehler auf einzelnen Knoten, Datenreplikation, Skalierungskosten. </font><font style="vertical-align: inherit;">Das hei√üt, es lohnt sich, auf die Aufgaben zu achten, die sich gerade dann ergeben, wenn das System unterst√ºtzt wird - wenn die Last zehnmal h√∂her ist als geplant, wenn wir versehentlich etwas in die falsche Richtung f√ºllen, wenn Sie eine neue Version des Codes einf√ºhren, die Daten ersetzen und unbemerkt tun m√ºssen f√ºr Kunden. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr all diese Anforderungen ist Hazelcast definitiv geeignet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fortsetzung folgt</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber Hazelcast ist kein Allheilmittel. </font><font style="vertical-align: inherit;">2017 haben wir Hazelcast f√ºr den Cache im Admin-Bereich ausgew√§hlt, wobei wir uns einfach auf den guten Eindruck vergangener Erfahrungen verlassen haben. </font><font style="vertical-align: inherit;">Dies spielte eine Schl√ºsselrolle in einem sehr b√∂sen Witz, weshalb wir uns in einer schwierigen Situation befanden und 60 Tage lang ‚Äûheldenhaft‚Äú herauskamen. </font><font style="vertical-align: inherit;">Aber mehr dazu im n√§chsten Teil. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Zwischenzeit ... Happy New Code!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490892/index.html">So generieren Sie kostenlos Schl√ºssel und Anzeigen f√ºr Yandex und Google aus einer YML-Datei</a></li>
<li><a href="../de490894/index.html">Subtile Gedanken zur Website-Architektur</a></li>
<li><a href="../de490896/index.html">Arbeitsprinzipien f√ºr die Intensivstation f√ºr Kinder in Form einer Antwort auf ‚ÄûProgrammierer, das Rudel und John Steinbeck‚Äú oder</a></li>
<li><a href="../de490906/index.html">Yandex hat eine Beta einer unabh√§ngigen Aura herausgebracht - aura.top. Ist es top?</a></li>
<li><a href="../de490908/index.html">Zonendatenspeicherung</a></li>
<li><a href="../de490916/index.html">Probleme der Interaktion mit externen Teams bei gro√üen Projekten</a></li>
<li><a href="../de490918/index.html">Andrei Zaretsky, Alexander Trukhanov (Fortsetzung): ‚ÄûWir hatten keinen Namen, aber es gab Arroganz‚Äú</a></li>
<li><a href="../de490920/index.html">Beschleunigen Sie Ihre Suche in Wurde ich auf 49 Mikrosekunden (C ++) pwned</a></li>
<li><a href="../de490924/index.html">Was ist Windows PowerShell und was isst es? Teil 2: Einf√ºhrung in die Programmiersprache</a></li>
<li><a href="../de490926/index.html">Unity Ball Trajektorie 2d f√ºr Anf√§nger</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>