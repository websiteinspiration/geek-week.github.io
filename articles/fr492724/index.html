<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏐 🤜 ♠️ Björn Straustrup répond aux 5 meilleures questions C ++ avec débordement de pile 💇 ◾️ 🐁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En prévision du début du cours, "C ++ Developer" a préparé une traduction de matériel intéressant.
 
 
 
 
 Marielle Frank et Sonny Lee, auteurs du co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Björn Straustrup répond aux 5 meilleures questions C ++ avec débordement de pile</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/492724/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En prévision du début du cours, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"C ++ Developer" a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> préparé une traduction de matériel intéressant.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/or/lp/9i/orlp9idhsixpobifegpwo0wzn_0.png"><br>
<hr><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Marielle Frank et Sonny Lee, auteurs du cours Learn C ++ sur Codecademy, ont récemment eu l'occasion d'interviewer le Dr Bjorn Straustrup, le créateur de C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cadre de cette interview, il a répondu aux questions C ++ qui ont recueilli le plus de votes sur Stack Overflow.Bien que toutes les interviews valent la peine d'être lues, Codecademy nous a généreusement permis d'en partager une partie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous vous êtes déjà demandé s'il y avait des réponses définitivement complètes sur Stack Overflow, alors voici quelque chose de plus proche que vous pouvez obtenir à coup sûr (bien que nous nous attendions à ce que quelqu'un ne soit pas d'accord).</font></font><a name="habracut"></a><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi le traitement d'un tableau trié est-il plus rapide que le traitement d'un tableau non trié?</font></font></a></b><br>
<br>
<img src="https://habrastorage.org/webt/4m/er/cz/4merczp8jf7ifnydyyyd7wb9y38.png"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: Cette question est le numéro 1 qui a reçu le plus de votes sur le débordement de pile de tous les temps.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela ressemble à une question d'une interview. </font><font style="vertical-align: inherit;">C'est vrai? </font><font style="vertical-align: inherit;">Comment saviez-vous que? </font><font style="vertical-align: inherit;">Il est mauvais de répondre à des questions sur l'efficacité sans prendre de mesures préliminaires, il est donc important de savoir comment les mesurer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai donc vérifié un vecteur d'un million d'entiers et obtenu:</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-number">32995</span> <font></font>
          <span class="hljs-number">125944</span> <font></font>
<font></font>
     <span class="hljs-number">18610</span> <font></font>
          <span class="hljs-number">133304</span> <font></font>
<font></font>
     <span class="hljs-number">17942</span> <font></font>
          <span class="hljs-number">107858</span> </code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai couru cela plusieurs fois pour m'en assurer. </font><font style="vertical-align: inherit;">Oui, ce phénomène est réel. </font><font style="vertical-align: inherit;">Mon code principal était:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; v, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; label)</span>
</span>{
    <span class="hljs-keyword">auto</span> t0 = system_clock::now();<font></font>
    sort(v.begin(), v.end());<font></font>
    <span class="hljs-keyword">auto</span> t1 = system_clock::now();
    <span class="hljs-built_in">cout</span> &lt;&lt; label <font></font>
         &lt;&lt; duration_cast&lt;microseconds&gt;(t1 — t0).count() <font></font>
         &lt;&lt; <span class="hljs-string">" milliseconds\n"</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tst</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">v</span><span class="hljs-params">(<span class="hljs-number">1'000'000</span>)</span></span>;<font></font>
    iota(v.begin(), v.end(), <span class="hljs-number">0</span>);<font></font>
    run(v, <span class="hljs-string">"already sorted "</span>);
    <span class="hljs-built_in">std</span>::shuffle(v.begin(), v.end(), <span class="hljs-built_in">std</span>::mt19937{ <span class="hljs-built_in">std</span>::random_device{}() });<font></font>
    run(v, <span class="hljs-string">"shuffled    "</span>);<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au moins, ce phénomène est réel avec ce compilateur, la bibliothèque standard et les paramètres d'optimisation. Différentes implémentations peuvent donner (et donner) des réponses différentes. En fait, quelqu'un a fait une étude plus systématique (une recherche rapide sur Internet vous aidera à le trouver), et la plupart des implémentations montrent cet effet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des raisons est la prédiction de branche: l'opération clé dans l'algorithme de tri est «if (v [i] &lt;pivot]) ...» ou l'équivalent. Pour une séquence triée, ce test est toujours vrai, tandis que pour une séquence aléatoire, la branche sélectionnée change de façon aléatoire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre raison est que lorsque le vecteur est déjà trié, nous n'avons jamais besoin de déplacer les éléments à la bonne position. L'effet de ces petits détails donne un facteur d'environ cinq ou six, ce que nous avons observé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quicksort (et le tri en général) est une étude complexe qui a attiré certains des plus grands esprits de l'informatique. Une bonne fonction de tri est le résultat du choix d'un bon algorithme et de l'attention portée aux performances de l'équipement lors de sa mise en œuvre. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous voulez écrire du code efficace, vous devez prendre en compte l'architecture de la machine. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
————————————————————————————— </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Désolé pour l'intervention. Juste un rappel que le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podcast Stack Overflow est de retour</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font><font style="vertical-align: inherit;">Passez nous voir et écoutez une entrevue avec notre nouveau PDG. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que l'opérateur -&gt; en C ++? </font></font><br>
</a></b><br>
<br>
<img src="https://habrastorage.org/webt/yw/ew/be/ywewbeplta16qsoc-gfro9ihugk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est une vieille question piège. </font><font style="vertical-align: inherit;">En C ++, il n'y a pas d'opérateur -&gt;. </font><font style="vertical-align: inherit;">Considérer ce qui suit:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> (p--&gt;m == <span class="hljs-number">0</span>) f(p);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien sûr, cela ressemble à une sorte d'opérateur -&gt; et avec une déclaration appropriée p et m, vous pouvez même compiler et exécuter ceci:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> p = <span class="hljs-number">2</span>;
<span class="hljs-keyword">int</span> m = <span class="hljs-number">0</span>;
<span class="hljs-keyword">if</span> (p--&gt;m == <span class="hljs-number">0</span>) f(p);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela signifie en fait: voyez si p-- est supérieur à m (tel qu'il est), puis comparez le résultat (vrai) avec 0. Eh bien, vrai! = 0, donc le résultat est faux et f () n'est pas appelé. </font><font style="vertical-align: inherit;">En d'autres termes:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">if</span> ((p--) &gt; m == <span class="hljs-number">0</span>) f(p);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez ne pas consacrer trop de temps à ces questions. Ils étaient populaires pour confondre les débutants avant même l'invention du C ++. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le meilleur guide et liste de livres C ++</font></font></a></b><br>
<br>
<img src="https://habrastorage.org/webt/bg/bz/je/bgbzjenv7f21qg0gvpkwkiwx2js.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Malheureusement, il n'y a pas de liste canonique de livres C ++. Cela, en principe, ne peut pas l'être. Tout le monde n'a pas besoin des mêmes informations, tout le monde n'a pas la même expérience et les meilleures pratiques C ++ évoluent constamment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai fait une petite recherche sur Internet et trouvé un ensemble étonnant de recommandations. Beaucoup étaient sérieusement dépassés et certains étaient tout simplement mauvais. Un débutant à la recherche d'un bon livre sans guide sera très confus!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez vraiment besoin d'un livre parce que les méthodes qui rendent C ++ efficace ne sont pas faciles à trouver sur plusieurs blogs sur des sujets spécifiques, et bien sûr les blogs souffrent également d'erreurs, d'obsolescence et de mauvaises explications. Souvent, ils se concentrent également sur de nouveaux sujets avancés et ignorent les principes de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je recommande mon</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation: principes et pratiques d'utilisation du C ++ (2e édition) pour les personnes qui commencent tout juste à apprendre à programmer, et de la visite C ++ (2e édition)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour les personnes qui sont déjà programmeurs et qui ont besoin de se familiariser avec le C ++ moderne. Les personnes ayant une solide formation en mathématiques peuvent commencer par </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Découvrir le C ++ moderne: un cours intensif pour les scientifiques, les ingénieurs et les programmeurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Peter Gottschling. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois que vous commencez à utiliser C ++ pour de vrai, vous aurez besoin d'un ensemble de directives pour faire la distinction entre ce qui peut être fait et ce qui est une bonne pratique. Pour cela, je recommande les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">directives de base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">++ sur GitHub.</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour une bonne brève explication des caractéristiques et fonctions de chaque langue de la bibliothèque standard, je recommande</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.cppreference.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 4. </font><font style="vertical-align: inherit;">Quelles sont les différences entre une variable pointeur et une variable de référence en C ++? </font></font></a></b><br>
<br>
<img src="https://habrastorage.org/webt/ho/el/by/hoelby-gminexssk8b1x0tqaplw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour en savoir plus sur les liens et les pointeurs, consultez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Learn C ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les deux sont représentés en mémoire comme une adresse machine. </font><font style="vertical-align: inherit;">La différence réside dans leur utilisation. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour initialiser le pointeur, vous lui donnez l'adresse de l'objet:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> x = <span class="hljs-number">7</span>;
<span class="hljs-keyword">int</span>* p1 = &amp;x;
<span class="hljs-keyword">int</span>* p2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>{<span class="hljs-number">9</span>};</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour lire et écrire à travers un pointeur, nous utilisons l'opérateur de déréférence (*):</font></font><br>
<br>
<pre><code class="cpp hljs">*p1 = <span class="hljs-number">9</span>;       <span class="hljs-comment">// write through p1</span>
<span class="hljs-keyword">int</span> y = *p2;   <span class="hljs-comment">// read through p2</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous attribuons un pointeur à un autre, ils pointeront tous deux vers le même objet:</font></font><br>
<br>
<pre><code class="cpp hljs">p1 = p2;       <span class="hljs-comment">//  p1  p2    int   9</span>
*p2 = <span class="hljs-number">99</span>;      <span class="hljs-comment">//  99  p2</span>
<span class="hljs-keyword">int</span> z = *p1;   <span class="hljs-comment">//   p1, z  99 (  9)</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez qu'un pointeur peut pointer vers différents objets au cours de son cycle de vie. </font><font style="vertical-align: inherit;">C'est la principale différence avec les liens. </font><font style="vertical-align: inherit;">Le lien est attaché à l'objet lors de sa création et ne peut pas être converti en lien vers un autre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les références, le déréférencement est implicite. </font><font style="vertical-align: inherit;">Vous initialisez le lien avec l'objet et le lien obtient son adresse.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">int</span> x = <span class="hljs-number">7</span>;
<span class="hljs-keyword">int</span>&amp; r1 = x;
<span class="hljs-keyword">int</span>&amp; r2 = *<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>{<span class="hljs-number">9</span>};</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nouvel opérateur renvoie un pointeur, j'ai donc dû le déréférencer avant l'affectation, en l'utilisant pour initialiser le lien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour lire et écrire via un lien, nous utilisons simplement le nom du lien (sans déréférencement explicite):</font></font><br>
<br>
<pre><code class="cpp hljs">r1 = <span class="hljs-number">9</span>;        <span class="hljs-comment">//   r1</span>
<span class="hljs-keyword">int</span> y = r2;    <span class="hljs-comment">//   r2</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous attribuons un lien à un autre, la valeur spécifiée sera copiée:</font></font><br>
<br>
<pre><code class="cpp hljs">r1 = r2;       <span class="hljs-comment">//  p1  p2     9</span>
r1 = <span class="hljs-number">99</span>;       <span class="hljs-comment">//  99  r1</span>
<span class="hljs-keyword">int</span> z = r2;    <span class="hljs-comment">//   r2, z  9 (  99)</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les références et les pointeurs sont souvent utilisés comme arguments d'une fonction:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span>* p)</span>

</span>{
    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// ...</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">g</span><span class="hljs-params">(<span class="hljs-keyword">int</span>&amp; r)</span>
</span>{
    <span class="hljs-comment">// ...</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">int</span> x = <span class="hljs-number">7</span>;<font></font>
f(&amp;x);<font></font>
g(x);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il peut y avoir un pointeur </font></font><code>nullptr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nous devons donc vérifier s'il indique quelque chose. </font><font style="vertical-align: inherit;">À propos du lien, vous pouvez initialement supposer qu'il fait référence à quelque chose. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 5. </font><font style="vertical-align: inherit;">Comment parcourir les mots chaîne? </font></font><br>
</a></b><br>
<br>
<img src="https://habrastorage.org/webt/hc/ag/xp/hcagxpnbqha5e8ujjeeqow0cozg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisez </font></font><code>stringstream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais comment définissez-vous un "mot"? </font><font style="vertical-align: inherit;">Pensez: "Marie avait un petit agneau." </font><font style="vertical-align: inherit;">Le dernier mot est «agneau» ou «agneau».? </font><font style="vertical-align: inherit;">S'il n'y a pas de ponctuation, c'est facile:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">split</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; s)</span>
</span>{
    <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(s)</span></span>;
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; words;
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> w; ss&gt;&gt;w; ) words.push_back(w);
    <span class="hljs-keyword">return</span> words;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">auto</span> words = split(<span class="hljs-string">"here is a simple example"</span>);   <span class="hljs-comment">// five words</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; w : words) <span class="hljs-built_in">cout</span> &lt;&lt; w &lt;&lt; <span class="hljs-string">'\n'</span>;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou simplement:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; w : split(<span class="hljs-string">"here is a simple example"</span>)) <span class="hljs-built_in">cout</span> &lt;&lt; w &lt;&lt; <span class="hljs-string">'\n'</span>;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par défaut, l'opérateur &gt;&gt; saute les espaces. </font><font style="vertical-align: inherit;">Si nous avons besoin d'ensembles de délimiteurs arbitraires, les choses deviennent un peu plus confuses:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> Delim&gt;
<span class="hljs-built_in">string</span> <span class="hljs-title">get_word</span><span class="hljs-params">(istream&amp; ss, Delim d)</span>
</span>{
    <span class="hljs-built_in">string</span> word;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> ch; ss.get(ch); )    <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">if</span> (!d(ch)) {<font></font>
            word.push_back(ch);<font></font>
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">char</span> ch; ss.get(ch); )    <span class="hljs-comment">//  </span>
        <span class="hljs-keyword">if</span> (!d(ch))<font></font>
            word.push_back(ch);<font></font>
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">return</span> word;<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d est une opération indiquant si le caractère est un délimiteur, et je renvoie "" (chaîne vide) pour indiquer qu'il n'y a pas de mot à renvoyer.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">split</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; s, <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; delim)</span>
</span>{
    <span class="hljs-function"><span class="hljs-built_in">stringstream</span> <span class="hljs-title">ss</span><span class="hljs-params">(s)</span></span>;
    <span class="hljs-keyword">auto</span> del = [&amp;](<span class="hljs-keyword">char</span> ch) { <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x : delim) <span class="hljs-keyword">if</span> (x == ch) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; };<font></font>
<font></font>
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; words;
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> w; (w = get_word(ss, del))!= <span class="hljs-string">""</span>; ) words.push_back(w);
    <span class="hljs-keyword">return</span> words;<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">auto</span> words = split(<span class="hljs-string">"Now! Here is something different; or is it? "</span>, <span class="hljs-string">"!.,;? "</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; w : words) <span class="hljs-built_in">cout</span> &lt;&lt; w &lt;&lt; <span class="hljs-string">'\n'</span>;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez une bibliothèque de plages C ++ 20, vous n'avez pas besoin d'écrire quelque chose comme ça, mais vous pouvez utiliser split_view. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bjarn Straustrup est partenaire technique et directeur général de Morgan Stanley New York et professeur invité à Columbia University. </font><font style="vertical-align: inherit;">Il est également le créateur de C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus d'informations sur C ++ 20, voir: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isocpp.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout. </font><font style="vertical-align: inherit;">Rendez-vous </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le parcours</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492710/index.html">Chemin épineux du candidat à travers divers systèmes de GRH</a></li>
<li><a href="../fr492712/index.html">Maîtriser le développement grâce aux tests sur Android à l'aide de tests d'interface</a></li>
<li><a href="../fr492714/index.html">Travail efficace à domicile: général et personnel</a></li>
<li><a href="../fr492718/index.html">Sécurité grâce à la restriction des utilisateurs ou comment créer une vulnérabilité</a></li>
<li><a href="../fr492720/index.html">discussion: service de fichiers de projet</a></li>
<li><a href="../fr492726/index.html">OS Sivelkiriya: processus de développement logiciel</a></li>
<li><a href="../fr492728/index.html">Astérisque et envoi manqués dans Telegram / Slack / E-mail</a></li>
<li><a href="../fr492730/index.html">Département américain de la Défense: éthique pour l'IA et les véhicules sans pilote</a></li>
<li><a href="../fr492742/index.html">Visualisez les données de l'application Node JS avec Prometheus + Grafana</a></li>
<li><a href="../fr492744/index.html">Quel système sera le plus bruyant et qui donnera le silence «absolu»: deux projets scientifiques intéressants</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>