<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÆ üé° üë®üèæ‚Äçü§ù‚Äçüë®üèº Logistics. Introduction Just about complicated ‚ùî üë©üèø‚Äç‚öñÔ∏è ‚ùå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We all love to dream, especially when it comes to visiting new places or returning to your favorite places. Nothing inspires so much as a sense of ant...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Logistics. Introduction Just about complicated</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490652/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We all love to dream, especially when it comes to visiting new places or returning to your favorite places. Nothing inspires so much as a sense of anticipation of a planned event and is overshadowed by only the presence of organizational issues, in particular, the selection and purchase of plane tickets. And for some reason, internally, we always put off this issue or shift it on tour operators, metasearch engines or other aggregators. In the practice of each, there were situations when a message was displayed on the screen: ‚ÄúUnfortunately, nothing was found for your request. There may be flights for other days. ‚Äù </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As often happens, it is far from always in response to a request with a route search that the desired result with a flight is given, which immediately goes to checkout. We start moving from site to site to get a satisfying answer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The occurrence of similar cases is associated with the lack of direct communication or pre-planned combined (connecting) routes, or routes with transfers were proposed that included waiting time for the next flight for more than 5-6 hours, or even a whole day. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How is it that with all the variety of airlines we get answers that are far from always satisfying us, and in general, how are the algorithms for finding route options constructed algorithmically? In this matter, applied mathematics comes to our aid using algorithms and evaluation criteria. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b4/8m/fm/b48mfm5uc3bow95wxkidms4wh-4.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">World Airports Map</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I‚Äôve been dealing with logistic problems for a long time and when I was faced with the task of building a search engine that will search for optimal routes, it seemed to me rather trivial. From experience, I could say in advance that it can be solved by fairly simple methods and in a relatively short time. However, if everything was so simple, then this article would not have appeared. Therefore, having joined the work, after a while I realized that it wasn‚Äôt so trivial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The starting point, as often happens when traveling, and it was with this approach that I came up with, was the decision to build a transport network in the form of a graph. The transport network initially included data on airports, airlines, their flight schedules, and connecting time indicators.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was taken as the basis that airports are considered as the top of the graph, and flights between them are edges. </font><font style="vertical-align: inherit;">As a result, we got a skeleton, as in a skeleton, on the basis of which I began to impose a schedule that had its own characteristics: departure and arrival times. </font><font style="vertical-align: inherit;">Moreover, movement along the edges is always possible only at a certain time, which is characterized by particular options for solving the problem:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimum travel time;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimum (or adequate in plain language) number of transplants;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time interval for transfer from one flight to another when choosing complex routes.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The difficulty lies in the fact that under no circumstances we have the use of only one particular case, the query always contains related search criteria, including one or two or more refinements. It follows that the application of criterion imposes certain conditions on the calculation of the desired route options. In addition to the three listed above, the calculation includes the use of categories of service classes (first, business, economy), cost, number of passengers and their categories, as well as the availability of a number of additional services that affect the result. Thus, this completely began to fit into my concept of solving the problem by means of multi-criteria optimization (multi-purpose optimization), namely, finding the shortest path by several criteria (MOSP - multi-objective shortest path).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But, as everyone knows, in order to test one hypothesis, a number of others must be cited. As another option for solving the problem, the use of nonlinear programming was considered.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Given that the arcs of the graph are weighted by vectors, the solution of the problem could be reduced to quadratic (nonlinear) programming. And everything would be perfect if it were not for the fact that the vectors, in fact, have only two characteristics: length and projection on the coordinate axes, which means the presence in the objective function of variables with a degree of no more than two. However, in my case, the components of the vectors ‚Äúconflict‚Äù with each other, which contradicts non-linear (quadratic) programming. For example: ‚Äúconflict‚Äù may be due to the fact that each flight has a specific aircraft capacity and it is impossible to sell more seats for it. Due to the presence of ‚Äúconflicts‚Äù, the option to solve the problem by nonlinear programming had to be abandoned in favor of the same multi-criteria programming.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After analyzing the options for solving the problem, I went with the classic version of decomposition with the following parts:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">search based on the schedule of all ‚Äúshortest‚Äù routes from the point of departure to the point of arrival;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">search among the "shortest" paths of the most "optimal" based on criteria.</font></font></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the same time, after the decomposition, the question logically followed, but on the basis of which approach is it better to build a transport route network? </font><font style="vertical-align: inherit;">And which of the available graphs is more acceptable for solving this problem? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
According to the classics of the genre, not one was found, but several models, which I began to consider.</font></font><br>
<br>
<h4><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Time-Extended Model</font></font></b></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A time-extended graph is a directed graph. </font><font style="vertical-align: inherit;">The arcs of such a graph are the directions of the departure and arrival points of flights, and the peaks are the slots (take-off and landing times) of flights. </font><font style="vertical-align: inherit;">The use of the time-extended model is to expand the original graph with airports peaks and arcs, reflecting the relationship of routes by combining airports among themselves in accordance with the flight schedule: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1y/er/de/1yerde47mfisfcuwl_kse8wmb9w.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Arcs are indicated as</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>B</mi><mi>C</mi><mo>,</mo><mn>3</mn></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.091ex" height="2.134ex" viewBox="0 -540.2 2192.1 918.9" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-43" x="759" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2C" x="1520" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-33" x="1798" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mi>C</mi><mo>,</mo><mn>3</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-1">e_{BC,3}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">For example, an arc connects an airport</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-42" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-2">B</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with airport </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>$</mo></mrow><mi>C</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>$</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.091ex" height="2.259ex" viewBox="0 -809.3 1761.5 972.7" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-24" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-43" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-24" x="1261" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo>$</mo></mrow><mi>C</mi><mrow class="MJX-TeXAtom-ORD"><mo>$</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-3">$C$</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and directed from </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>B</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-42" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>B</mi></math></span></span><script type="math/tex" id="MathJax-Element-4">B</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>C</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.766ex" height="2.134ex" viewBox="0 -809.3 760.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-43" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi></math></span></span><script type="math/tex" id="MathJax-Element-5">C</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">specified by comma index </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>3</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-33" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>3</mn></math></span></span><script type="math/tex" id="MathJax-Element-6">3</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shows that this is not the only flight, but the third in a row. </font><font style="vertical-align: inherit;">Moreover, each arc can be easily weighted, for example, the weight of the arc</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>B</mi><mi>C</mi><mo>,</mo><mn>3</mn></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.091ex" height="2.134ex" viewBox="0 -540.2 2192.1 918.9" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-65" x="0" y="0"></use><g transform="translate(466,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-43" x="759" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2C" x="1520" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-33" x="1798" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mi>C</mi><mo>,</mo><mn>3</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-7">e_{BC,3}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can be calculated as </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>w</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>B</mi><mi>C</mi><mo>,</mo><mn>3</mn></mrow></msub><mo>=</mo><msub><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>C</mi><mo>,</mo><mn>9</mn></mrow></msub><mo>&amp;#x2212;</mo><msub><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>B</mi><mo>,</mo><mn>6</mn></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.81ex" height="2.509ex" viewBox="0 -701.7 8098.6 1080.4" role="img" focusable="false" style="vertical-align: -0.88ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-77" x="0" y="0"></use><g transform="translate(716,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-43" x="759" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2C" x="1520" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-33" x="1798" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-3D" x="2719" y="0"></use><g transform="translate(3776,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-43" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2C" x="760" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-39" x="1039" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2212" x="5548" y="0"></use><g transform="translate(6549,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-42" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2C" x="759" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-36" x="1038" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mi>C</mi><mo>,</mo><mn>3</mn></mrow></msub><mo>=</mo><msub><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>C</mi><mo>,</mo><mn>9</mn></mrow></msub><mo>‚àí</mo><msub><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>B</mi><mo>,</mo><mn>6</mn></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-8">w_{BC,3} = t_{C,9}-t_{B,6}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The vertices inside a single airport are easily arranged according to the time indicator of each flight, and also, based on the connecting time inside the airport, flights are connected by arcs that correspond to the available time of transfer from one flight to another. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The advantage of a time-expanded graph is that the fastest arrival path can be found in the shortest time, for example, using the Dijkstra algorithm. </font><font style="vertical-align: inherit;">The disadvantage of using this approach is the multiple increase in vertices and edges, which, however, does not affect the sparseness of the graph, because an increase in the number of edges is proportional to an increase in the number of vertices.</font></font><br>
<br>
<h4><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Time dependent model</font></font></b></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A time-dependent graph is a directed graph without additional transformations over the original graph. </font><font style="vertical-align: inherit;">Each arc corresponds to a route with connections between airports, while the arc has a special data set that includes parameters about the time of departure and arrival of the flight along the route. </font><font style="vertical-align: inherit;">The value retrieved from this dataset depends on the exact moment in time accessing this arc occurs, hence the name ‚Äútime-dependent‚Äù. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hm/eq/fb/hmeqfbl17jmeacixzd_s6ervlka.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The advantage of a time-dependent graph is that it allows you to find the path with the least number of transfers, the disadvantage is the excessive load on the data of each arc.</font></font><br>
<br>
<h4><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multigraph</font></font></b></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A multigraph is a directed graph with sets of characteristics inherent in time-enhanced and time-dependent models.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0h/bg/9g/0hbg9ggfk06uoh_dmx2gp8flgps.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are as many arcs between airports as during the extended model, but these arcs are ‚Äúweighted‚Äù by the departure and arrival times, and the connecting time between flights at each airport will have to be constantly and repeatedly calculated. On the other hand, in a multi-graph representation there is exactly as much information about flights as during a time-dependent model, but all this information is assigned to many arcs. Finding the path with the least number of transfers will be as simple as during the time-dependent model, but passing along one arc does not take into account the information of other arcs, so after the path with the least number of transfers is found, you will have to repeat this path for calculation of information about other flights (arcs).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Representation of a transport route network in the form of a multigraph is a raw state for time-extended and time-dependent models. The search for the path with the shortest arrival will be performed by the same transformations characteristic of the time-expanded model, and the search for the path with the least number of transfers will be performed by the time-dependent model. And entails an increase in network calculation time. However, there is a nuance here, because the search for the ‚Äúshortest‚Äù path according to two criteria, in the general case, already belongs to the NP class of difficult tasks and the modification of Dijkstra's algorithm performs quite complex manipulations with the marking of vertices.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Representation of the computational complexity of the problem with the multigraph of the model of the set of routes with airports and flights can be considered through the simplest modification method - Dijkstra's algorithm, which searches only for Pareto-optimal paths. The total amount of criteria for a single Pareto optimal path cannot be worse or better than other Pareto optimal paths for all criteria simultaneously. For example, a set of paths with the following sum of two criteria {(30, 10), (20, 20), (10, 30)} will be Pareto optimal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a more illustrative example, we consider the operation of the algorithm on a small graph whose arcs are weighted by two-dimensional vectors:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zl/tm/uo/zltmuoxypxvrbmoqnjoggefgwrm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The operation of the modified Dijkstra's algorithm on such a graph, as well as the usual algorithm for a regular graph, will consist of iterations with successive striking out of the vertices, except that each vertex may have not one Pareto-optimal value, but several. In addition, it is also necessary to save information about the origin of each calculated value of the sum.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Given that the problem considers routes with airport connections for flights, it is quite appropriate to assume that there can be quite a lot of arcs between two vertices, and each of them can be weighted by at least a three-component vector. </font><font style="vertical-align: inherit;">But with an increase in the components of the vectors, an increase in the Pareto optimal paths can also occur. </font><font style="vertical-align: inherit;">Moreover, almost all arcs between two vertices can be Pareto-optimal. </font><font style="vertical-align: inherit;">In this case, the sum of the paths will contain even more Pareto-optimal paths. </font><font style="vertical-align: inherit;">This can be seen on a small multigraph weighted by two-dimensional vectors: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tv/ao/6c/tvao6czahugnpqht2ytdrxssjdk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The use of the modified Dijkstra algorithm in such a model is permissible, since it can work on multigraphs, but the algorithm processing speed depends on the number of vertices</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.509ex" viewBox="0 -540.2 600.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">n</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and on the number of arcs </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>m</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.04ex" height="1.509ex" viewBox="0 -540.2 878.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6D" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">m</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">For sparse simple graphs and the usual algorithm, the complexity is of the order of</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><mi>n</mi><mi>log</mi><mo>&amp;#x2061;</mo><mi>n</mi><mo>+</mo><mi>m</mi><mi>log</mi><mo>&amp;#x2061;</mo><mi>n</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.139ex" height="2.634ex" viewBox="0 -809.3 8671.1 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-28" x="763" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6E" x="1153" y="0"></use><g transform="translate(1920,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-67" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6E" x="3366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2B" x="4189" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6D" x="5189" y="0"></use><g transform="translate(6234,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-6C"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-6F" x="278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-67" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6E" x="7681" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-29" x="8281" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>‚Å°</mo><mi>n</mi><mo>+</mo><mi>m</mi><mi>log</mi><mo>‚Å°</mo><mi>n</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-11">O(n\log n+m\log n)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">However, it is difficult to say whether the resulting multigraph will be "sparse", since in the general case the edge density of multigraphs can be much higher than that of a full graph. </font><font style="vertical-align: inherit;">If we take into account that the number of edges of a complete graph</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.776ex" height="2.009ex" viewBox="0 -755.5 764.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-45" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">E</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> determined by the number of its vertices </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-13">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> according to the formula:</font></font><br>
<br>
<math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mfrac><mrow><mi>V</mi><mo stretchy=&quot;false&quot;>(</mo><mi>V</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mrow><mn>2</mn></mfrac></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.618ex" height="3.884ex" viewBox="0 -1186 5002 1672.4" role="img" focusable="false" style="vertical-align: -1.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-3D" x="1042" y="0"></use><g transform="translate(2098,0)"><g transform="translate(120,0)"><rect stroke="none" width="2663" height="60" x="0" y="220"></rect><g transform="translate(60,588)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-28" x="769" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-56" x="1159" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2212" x="1928" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-31" x="2707" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-29" x="3207" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-32" x="1633" y="-542"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mfrac><mrow><mi>V</mi><mo stretchy="false">(</mo><mi>V</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow></math></span></span><script type="math/tex" id="MathJax-Element-14">E={\frac {V(V-1)}{2}}</script><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And the edge density is defined as:</font></font><br>
<br>
<math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mfrac><mrow><mn>2</mn><mi>E</mi></mrow><mrow><mi>V</mi><mspace width=&quot;thinmathspace&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>V</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></mrow></mfrac></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.153ex" height="3.884ex" viewBox="0 -970.7 5232.7 1672.4" role="img" focusable="false" style="vertical-align: -1.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-44" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-3D" x="1106" y="0"></use><g transform="translate(2162,0)"><g transform="translate(120,0)"><rect stroke="none" width="2830" height="60" x="0" y="220"></rect><g transform="translate(967,411)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-45" x="500" y="0"></use></g><g transform="translate(60,-442)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-56" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-28" x="1005" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-56" x="1394" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-2212" x="2164" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-31" x="2942" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-29" x="3443" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>D</mi><mo>=</mo><mrow class="MJX-TeXAtom-ORD"><mfrac><mrow><mn>2</mn><mi>E</mi></mrow><mrow><mi>V</mi><mspace width="thinmathspace"></mspace><mo stretchy="false">(</mo><mi>V</mi><mo>‚àí</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac></mrow></math></span></span><script type="math/tex" id="MathJax-Element-15">D={\frac {2E}{V\,(V-1)}}</script><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For complete graphs </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.594ex" height="2.634ex" viewBox="0 -809.3 5422.6 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-61" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-78" x="1408" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-28" x="1980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-44" x="2370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-29" x="3198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-3D" x="3865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-31" x="4922" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-16">max(D) = 1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, but for multigraphs, the value of the edge density is generally unlimited. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, I came to the conclusion that the shortest path can be found using the Dijkstra algorithm, and all other shortest paths can be found using the Yen algorithm. Given that at this stage we operate with unweighted arcs and can immediately discard paths, for example with four transfers, then the search for one shortest path will be guaranteed to be performed in less than</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>n</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.032ex" height="2.884ex" viewBox="0 -916.9 2596.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-32" x="849" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/490652/&amp;usg=ALkJrhhbnZnUXwDDHO9k8Qs4ZPf9suSx3g#MJMAIN-29" x="2207" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17">O(n^{2})</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/x9/xt/utx9xtuunro7dz_f3ioncfz6a_s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considering that this article does not cover the immediate results of implementation, I can assume in advance that the modified Dijkstra algorithm on a multigraph model will not work out taking into account the optimal time interval. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, I will move on to the immediate solution of the first subproblem, namely, to the solution of the question related to multicriteria optimization, which I selected by the method of conditional optimization. The method consists in the fact that despite the inconsistency of the criteria, the highest priority always exists, and all the others have valid values. As a result, optimization of the entire task comes down to optimization at the highest priority.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A feature of the task is the fact that the calculation includes not only direct flights, which always greatly simplifies the task, but, on the contrary, connecting flights or transfers. Therefore, the time-dependent graph model is very suitable for solving the problem, because often the number of transfers does not form more than 3-4 segments in the route. The time-dependent graph, first of all, carries information about the totality of available routes in the form of flights with connections between airports. Then, an estimate of the departure and arrival times for the docking is calculated taking into account the usual unweighted graph. All that needs to be done at this stage is to find all valid routes between airports ‚ÄúA‚Äù and ‚ÄúB‚Äù with a predetermined number of transfers, for example, three.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7m/zq/by/7mzqbyjypinj-hju7hqiwanyslu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considering that at this stage the graph is unweighted, it is possible to find the shortest path using the usual breadth-first search, and all other shortest paths using the Yen algorithm. Since the breadth-first search is performed in linear time, we can say that the search time for all paths, with the same 3 transfers, will be linear. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When evaluating the use of algorithms for finding optimal routes and the availability of data on the frequency of schedule updates, we can say that the idea of ‚Äã‚Äãa pre-calculated matrix with all the "shortest" paths in directions is justified. Of course, at the initial stage of creating the matrix, such a solution will turn out to be laborious calculations, but then, in the future, it will allow you to almost instantly find the ‚Äúshortest‚Äù paths and promptly make adjustments to the matrix itself.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, the question remains, and which ‚Äúshortest‚Äù route routes with connections and transfers are the most ‚Äúshortest‚Äù? </font><font style="vertical-align: inherit;">Otherwise, we have an array of data that will not allow us to make a decision. </font><font style="vertical-align: inherit;">A set of criteria is often reduced to the most optimal in this case, namely:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimum travel time;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimum number of transfers.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Both criteria can have custom intervals or time values, so it remains only to combine the routes and check on the fly the correspondence of the admissible values: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2j/w0/zl/2jw0zl8reztcomvlgoaor6sq9o0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considering that the maximum number of transfers varies in values ‚Äã‚Äãof 3-4, some combinations of flights will be immediately excluded , leading us to the solution of the following subproblem - to identify among the routes the most ‚Äúoptimal‚Äù criteria for the variety.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The criterion system is the main problem in the formation of the issuance of routes, because the concept of "optimal" will depend on the preferences of a particular passenger, and he often only upon receipt of an answer to the request can manage the received routes by setting a different set of filters. And even if you provide him with ordered routes in accordance with the ‚Äúshortest‚Äù paths, the results will be an array of data that will not allow the passenger to decide and will lead to an endless search of options. Therefore, the formation of an array of route options that take into account various combinations of filter application, both collectively and individually, is an extremely important parameter that affects the entire task.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What then needs to be considered and how? Creating ranking filters is a very time-consuming task, because a set of filters, their number and the degree of influence on each other can significantly change the result of the search for optimal paths as a result of refinement of search algorithms. Then what can it consist of? We all know the key flight parameters - information on airlines, dates with departure / arrival times, departure / arrival airports, time zone offsets, connections and transfers, but we often forget about such data as the necessary and sufficient time to arrive at the airport or travel time between airports to make a connection in the case when the subsequent departure is from another point in the location. And we should not forget about the category of our passenger,as well as their quantity for the subsequent offer of not only the optimal route in time, but also in price, depending on the tariff policy.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An array of proposals should instill a certain degree of confidence in every traveler, no matter how paradoxical this may sound. Confidence based on mathematical principles and consisting in the provision of a minimum set of proposals with route options that take into account preferences and reduce the risk of force majeure. And in this case, force majeure is not only the likelihood of a flight delay or a change in time and airport of departure / arrival, but also indicators such as natural, technological and epidemiological situations that entail the complete or partial cancellation of flights.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ability to manage data in our realities entails many questions each time: is everything taken into account, what else can be added. And in this desire to build a transport route network, a paradox arises related to the fact that the algorithm should be both optimal and simple at the same time. But you often have to sacrifice something, from here somewhere minimizing the initial criteria to the minimum amount seemed to me the most acceptable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If we go along the path of selecting criteria, then omitting the secondary ones, we can distinguish such options that take into account not only the time of the entire journey, cost and comfort, the number of transfers and their duration of transfers, but also, say, information on the congestion of airports and data on communication between airports when changing one airport to another. This is justified by the fact that when forming connections, taking into account the presence of several airports in one city that have different communications with external airports, not only air traffic, but the time of movement when such a situation arises will be calculated in the calculation of time and route formation. And they have a place to be ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The decision-making system in choosing the ‚Äúoptimal‚Äù routes in situations where we have a set of criteria sets that affect preferences is just that stumbling block that I did not think about at all at the initial stages. </font><font style="vertical-align: inherit;">Even leading them to a certain systematization, there are quite a lot of differences in their application with each other, so we will consider them separately. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comfort</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The meaning of the concept of "comfort" is understood by everyone differently, but the following levels are accepted by airlines:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">first grade;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Business Class;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Economy class.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my approach, I admitted that the ‚Äúcomfort‚Äù parameter can be measured and take values ‚Äã‚Äãfrom 1 to 10, and formed the following condition: the lower this indicator for a particular flight, the less comfortable it will be in the ranking system. </font><font style="vertical-align: inherit;">In this case, a problem immediately arises that is related to the non-additivity of such a quantity, i.e. </font><font style="vertical-align: inherit;">the sum of the comfort indicators of the two flights will not reflect their overall comfort. </font><font style="vertical-align: inherit;">For example, there are two route combinations:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the first route with two segments, the first raid with comfort 10, the second with comfort 1;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the second route with two segments, the first raid with comfort 6, the second with comfort 5.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, the sum and arithmetic mean value of the ‚Äúcomfort‚Äù parameter of each path will be the same, but they will not reflect the true state of affairs. However, given the need to consider the aggregate comfort of the two routes, it is most advisable in this situation to use their average values ‚Äã‚Äãtogether with the standard deviation, which would allow us to estimate the ‚Äúspread‚Äù of comfort levels. That is, at the initial consideration, we pay attention to average comfort, and then, by the magnitude of the standard deviation, we consider how these comforts differ greatly from each other. Thus, this criterion splits into two very ‚Äúclose‚Äù ones. Although, on the other hand, even without painstaking examination, it is clear that the assumption of such a ‚Äúmeasurable‚Äù level of comfort is very far from reality,because we have well-known class levels. And secondly, it is also obvious that the comfort of the entire journey is in some kind of functional dependence on other criteria, for example, the duration of the flight, the number of transfers with their duration, the rating of the airline and its air fleet. Whether it makes sense to focus on this criterion is a question. After all, the approach is based on a system of accounting for the totality of ‚Äúoptimal‚Äù ways. Therefore, in the future we will use the comfort representation in the form of two indicators: the arithmetic mean of the comfort indicators of flights and their standard deviation.the number of transfers with their duration, the rating of the airline and its air fleet. Whether it makes sense to focus on this criterion is a question. After all, the approach is based on a system of accounting for the totality of ‚Äúoptimal‚Äù ways. Therefore, in the future we will use the comfort representation in the form of two indicators: the arithmetic mean of the comfort indicators of flights and their standard deviation.the number of transfers with their duration, the rating of the airline and its air fleet. Whether it makes sense to focus on this criterion is a question. After all, the approach is based on a system of accounting for the totality of ‚Äúoptimal‚Äù ways. Therefore, in the future we will use the comfort representation in the form of two indicators: the arithmetic mean of the comfort indicators of flights and their standard deviation.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duration of transfers</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
There are two types of route coordination:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transfers (pre-agreed between airlines);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docking.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of interest from this list is the concept of ‚Äúconnection‚Äù, which is the result of a combination of two or more airlines on the same route with agreed time periods, based on the minimum connecting time required, but not always sufficient to transfer from one flight to another. Therefore, to combine flights, in such a route, it is necessary to calculate the sufficient time required to complete the connection. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here we have a dissonance, because often such flights can be excluded from the options for the offer, but, due to the presence of such a criterion, there are situations when connecting with a temporary wait of more than a day is ‚Äúoptimal‚Äù for our passenger. Therefore, it makes sense not to discard routes with too long transplant times, since, albeit rarely, they may still be in demand.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airport</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
congestion The airport congestion indicator can be estimated when calculating the ‚Äúoptimal‚Äù routes with an assessment of the degree of their filling upon the sale of tickets for flights, taking into account the participation of an airport in the route. Obviously, in this assumption, the minimum connecting time will have some functional dependence on the congestion of the airport. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Number of transfers</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The number of transplants per se is a contradictory amount. Indeed, it is often this way that you can reduce the cost of the entire route. On the other hand, there is a category of passengers for whom the presence of even one change creates a number of problems. Do not forget the situations when the transfer route is the most ‚Äúoptimal‚Äù due to the fact that expensive business class tickets are left on the desired route or, say, there are tickets with a fare without the possibility of exchange / return, which entails the probability of refusal the proposed option.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But in the number of transfers, another sub-criterion is laid down - this is the probability of moving from one airport to another. Therefore, the formation of connections is often a difficult task, because in calculating the route, it is necessary to lay the time for moving between airports, and this entails the need to order tickets for transport within the city for moving in subparagraphs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The criteria ‚Äútravel time‚Äù and ‚Äúcost‚Äù are absolutely additive quantities, therefore they rely on direct indicators with a ranking system. </font><font style="vertical-align: inherit;">And all would be fine if it were not for the need to include the total travel time with the calculation of the time for arrival at the airport or departure from it to the destination, as well as when connecting the accounting for the need for additional expenses for moving between airports. </font><font style="vertical-align: inherit;">At this stage, let me neglect this clarification.</font></font><br>
<br>
<h4><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The hierarchical structure of the global goal</font></font></b></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose that the definition of ‚Äúoptimality‚Äù should be understood as the best always and for all, and not only for passengers, but also for airlines, airports and, possibly, other travel service providers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, dividing a single, very complex target into subgoals is the only way out. Such a breakdown may look like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pc/of/ze/pcofzegdgtoz5q7ie93rcts_ssa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is quite obvious that in order to satisfy all areas of interest, one will have to achieve less ‚Äúglobal‚Äù, but to some extent conflicting goals. How to achieve this? Perhaps this is a great topic for another article. But looking ahead, we can say that dividing a complex goal into simpler subgoals is also connected with optimization and graph theory, namely, the search for optimal hierarchical structures.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The decision-making system is rather closely connected with such methods as the criteria of Laplace, Wald, Savage and Hurwitz, therefore, having an array of ‚Äúshortest‚Äù routes, I could not help knowing which of them would be the most ‚Äúoptimal‚Äù based on them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the most universal approaches to solving multipurpose optimization problems is to search for optimal solutions according to Pareto and Slater. If we evaluate the array of ‚Äúshortest‚Äù routes according to Slater‚Äôs optimality criterion, then the optimal path will be considered the one that is the best by all criteria at the same time. A path is considered Pareto optimal if all other paths are better than it in some one parameter, but worse in another, i.e. one cannot improve a path by at least one criterion without worsening it by the rest.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All Pareto and Slater optimality solutions can be easily demonstrated graphically for the minimization problem with two criteria: The </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w6/sp/r0/w6spr0hi-ok6mich1qlgqsbqbcc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
set of points with the parameters of the Pareto optimal criteria are indicated in green, and the Slater optimal ones are indicated in yellow. </font><font style="vertical-align: inherit;">The set of Slater-optimal points also contains the set of Paretto-optimal points. </font><font style="vertical-align: inherit;">Within the framework of the problem under consideration, all these points will be the ends of the vectors starting at the origin of the seven-dimensional space. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In conclusion, I can say that this is only the tip of the iceberg, which allows you to give an initial idea of ‚Äã‚Äãwhat search engines encounter when forming optimal routes.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490640/index.html">Overloading in C ++. Part III. Overloading new / delete statements</a></li>
<li><a href="../en490642/index.html">Plugin for monitoring K8s applications DevOpsProdigy KubeGraf v1.3.0: new release and new features</a></li>
<li><a href="../en490644/index.html">Simple rpm repository using Inotify and webdav</a></li>
<li><a href="../en490648/index.html">Using Kata Containers in Kubernetes</a></li>
<li><a href="../en490650/index.html">The main mistakes in compiling a CV by beginner IT specialists</a></li>
<li><a href="../en490654/index.html">Dotting over MQ Series gas sensors - deep understanding of datasheet and tuning</a></li>
<li><a href="../en490656/index.html">Camunda external tasks - a powerful tool for building applications with resilient and scalable architecture</a></li>
<li><a href="../en490660/index.html">How did we ensure the growth of CityMobile</a></li>
<li><a href="../en490664/index.html">PHP: array_key_exists searches 500 times faster than in_array</a></li>
<li><a href="../en490668/index.html">The history of the transformation from product to project and vice versa (using the example of Goodness in the Moscow region)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>