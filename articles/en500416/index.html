<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öìÔ∏è üëé ü§ôüèΩ Why (not) need getters? üëàüèΩ üéá ü§æüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The previous article about setters / getters as a way to work with an entity (using Symfony in PHP as an example) received a heated discussion. In thi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Why (not) need getters?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500416/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The previous article about </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setters / getters</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as a way to work with an entity (using Symfony in PHP as an example) received a heated discussion. </font><font style="vertical-align: inherit;">In this article I will try to express my thoughts separately about getters: why and when to get something, what responsibility they decide and when it is appropriate to use them, when it is not appropriate. </font><font style="vertical-align: inherit;">I tried to collect thoughts in one place and formalize them with you.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getHumanFactory (). getHuman (). getDoneWork (). getWorkTime ()</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Getters are needed in order to get some state of the current object. </font><font style="vertical-align: inherit;">In OOP languages, this is the value of some class variable, usually private.</font></font><br>
<br>
<pre><code class="java">class Article {<font></font>
     private String name<font></font>
<font></font>
     public function getName(): String {<font></font>
          return this.name<font></font>
     }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The value of the class variable itself can be obtained as you wish. We simply ask the object to give us what it is, the very name of the method says ‚Äúgive‚Äù to us: but do not ‚Äúdo‚Äù, do not ‚Äúsend‚Äù, do not ‚Äúcreate‚Äù, do not ‚Äúcount‚Äù. Says give - give what is. This works quite normally in all kinds of data objects, the responsibility of which is to just give / carry information. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There can be no logic in the getter, because the semantics of the word are straightforward. "Mom, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">give me a pie</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " does not contain "Mom, buy flour, fire a pie and finally </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">give me a pie</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." Maybe the phrase ‚Äúprovide me with a pie‚Äù somehow can encapsulate all these actions, but it‚Äôs definitely not ‚Äúgive‚Äù.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You will be surprised, but I have met this way of naming all methods more than once. </font><font style="vertical-align: inherit;">The complexity of the code at the same time grows quite a bit, because in the getter chains it is not always clear what exactly is happening in the application layers and what kind of connections are involved, as a rule, not everything is in order with the design and connivance of this kind is a source of errors.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getValue () throw WhyDoYouNeedIt? </font><font style="vertical-align: inherit;">{}</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The purpose of the data object is understandable - this is the corporal from the 1917 film, who is fleeing somewhere to convey some message about the need to retreat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But what to do with business objects? </font><font style="vertical-align: inherit;">Why does the entity ‚ÄúDocument‚Äù give someone a list of their fields? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If this is a business object, then the document can be posted, rejected, verified (including in these fields), filled out or confirmed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If there is a need to "give" the field, then this document is not part of the business process. </font><font style="vertical-align: inherit;">Why do I need to give someone a field? </font><font style="vertical-align: inherit;">Maybe for publication? </font><font style="vertical-align: inherit;">Or extract, or archiving, or sending a copy by mail, or report? </font><font style="vertical-align: inherit;">It‚Äôs not entirely clear why and to whom - there is a separate responsibility to ‚Äúgive‚Äù like that of a good old data object, you can clearly see the use in the form of some source for reading in the context of another business process that is not basic in understanding the document itself.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">doEverythingEverywhere (world.getGod ())</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Back to the business entities. If you leave getters in entities, then the temptation is great to use its getters exactly everywhere and as you like. We are tied to the state of a certain object and we reverse absolutely any logic to the campaign. It may even seem that we have not broken encapsulation. But what about? State in one place, behavior in another - a classic encapsulation violation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, there is some entity:</font></font><br>
<br>
<pre><code class="java">class Order<font></font>
{<font></font>
     private Status status<font></font>
     private Boolean closed<font></font>
<font></font>
     public function getStatus(): Status {<font></font>
          return this.status<font></font>
     }<font></font>
<font></font>
     public function setClosed(Boolean closed): void {<font></font>
           this.closed = closed<font></font>
     }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surely, with such an architecture, you will request a status in a dozen / a hundred places. It can be all sorts of services, controllers, other modules. I saw only once when restrictions were artificially created for the distribution of this code by some set of rules for developers, not code ... Encapsulation was provided by coding standards, and not by code design :). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you needed to do something like this somewhere:</font></font><br>
<br>
<pre><code class="java">if(order.getStatus() == input.getStatus()) {<font></font>
      order.setClosed(true)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That most likely the entity does not contain a state machine. </font><font style="vertical-align: inherit;">This means that the invariants of the object from the inside are not controlled in any way - there is no verification of data during each operation from the inside. </font><font style="vertical-align: inherit;">As a result - high connectivity, complex functional testing, since it is not enough to check the unit logic of the code that changes the state of the entity, you need to check that the state of the entity external to the code is valid. </font><font style="vertical-align: inherit;">And as a result: increased complexity, probability of bugs, more code and complex tests. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bottom line:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I hope my and your colleagues will use getters less like any method that does any work with the result that will return. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And I hope more developers will pay attention to the CQRS concept, where the responsibilities for reading and business operations are divided. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Good to all!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500404/index.html">How to make friends Electron and Webix. Part 2. Create an application with your View</a></li>
<li><a href="../en500406/index.html">The Story of the First Paralysis of the Internet: The Curse of the Busy Signal</a></li>
<li><a href="../en500408/index.html">Happiness in poverty</a></li>
<li><a href="../en500410/index.html">Creating backlash *</a></li>
<li><a href="../en500414/index.html">3D CNC machine or everything is already done before us</a></li>
<li><a href="../en500418/index.html">New earthquake calculations predict their probable destructiveness</a></li>
<li><a href="../en500420/index.html">sMock - Swift mocking framework for Unit-tests (thanks gMock for ideas)</a></li>
<li><a href="../en500422/index.html">Visual Debugger for Jupyter</a></li>
<li><a href="../en500424/index.html">Deferred use of directive functionality in Angular</a></li>
<li><a href="../en500426/index.html">Python, pandas and solving three problems from the world of Excel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>