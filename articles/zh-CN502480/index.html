<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>▪️ 👩 🛴 什么是DHCP侦听，它如何工作？ 👩🏼‍⚕️ 💅 🕴🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="“即使我的笔记本电脑动态接收到IP地址，为什么我也无法连接到网络？” 您在日常生活中遇到过这个问题吗？您是否怀疑IP地址的真实性？它们是从授权的DHCP服务器收到的吗？如果没有，该如何预防？本文将引入DHCP侦听一词，以帮助用户避免使用非法IP地址。
 
 什么是DHCP监听？
 DHCP侦听是运行...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>什么是DHCP侦听，它如何工作？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502480/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“即使我的笔记本电脑动态接收到IP地址，为什么我也无法连接到网络？” </font><font style="vertical-align: inherit;">您在日常生活中遇到过这个问题吗？</font><font style="vertical-align: inherit;">您是否怀疑IP地址的真实性？</font><font style="vertical-align: inherit;">它们是从授权的DHCP服务器收到的吗？</font><font style="vertical-align: inherit;">如果没有，该如何预防？</font><font style="vertical-align: inherit;">本文将引入DHCP侦听一词，以帮助用户避免使用非法IP地址。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么是DHCP监听？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCP侦听是运行状况良好的网络交换机的操作系统中内置的第2层安全技术，可丢弃认为不适当的DHCP通信。</font><font style="vertical-align: inherit;">DHCP侦听可防止未经授权（欺诈）的DHCP服务器向DHCP客户端提供IP地址。</font><font style="vertical-align: inherit;">DHCP侦听功能执行以下操作：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">检查来自不受信任来源的DHCP消息并过滤掉无效消息。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建并维护DHCP侦听绑定数据库，该数据库包含有关具有租用IP地址的不受信任主机的信息。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用DHCP侦听绑定数据库来验证来自不受信任主机的后续请求。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHCP侦听如何工作？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要了解DHCP侦听的工作方式，我们需要捕获有效的DHCP机制，该机制代表动态主机配置协议。启用DHCP时，没有IP地址的网络设备将通过以下四个阶段与DHCP服务器“交互”。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/402/540/47d/40254047dbbfdfceed1ab4a01a3d8e60.jpg" title="_1570419937_O8eZreIy0u.jpg" alt="DHCP Principle.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCP侦听通常将交换机上的接口分为两类：受信任的不受信任端口，如图2所示。受信任端口是DHCP服务器消息受信任的端口或源。不受信任的端口是不信任DHCP服务器消息的端口。如果触发了DHCP监听，则DHCP提议消息只能通过受信任的端口发送。否则，它将被丢弃。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/13c/b35/a76/13cb35a7610937f9573a2ffb181dbf51.jpg" title="_1570419954_XgNqUWM9Fx.jpg" alt="DHCP侦听app.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在确认阶段，将根据DHCP ACK消息创建DHCP绑定表。</font><font style="vertical-align: inherit;">它记录主机的MAC地址，租用的IP地址，租用的时间，绑定类型以及与主机相关联的VLAN号和接口信息，如图3所示。如果从不受信任的主机接收到的后续DHCP数据包不匹配，信息，它将被删除。</font></font><br>
<div class="scrollable-table"><table>
<tbody>
<tr>
<td width="127" align="center"></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MAC地址</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IP地址</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">租金（秒）</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">虚拟局域网</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接口</font></font></td>
</tr>
<tr>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条目1</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e4-54-e8-9d-ab-42</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10.32.96.19</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2673</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dhcp监听</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></td>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eth 1/23</font></font></td>
</tr>
<tr>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参赛作品2</font></font></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
</tr>
<tr>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条目3</font></font></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
</tr>
<tr>
<td width="127" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
<td width="127" align="center"></td>
</tr>
</tbody>
</table></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHCP侦听可防止的基本攻击类型</font></font></h2><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHCP欺骗攻击</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当攻击者尝试响应DHCP请求并尝试将自己（欺骗）指定为默认网关或DNS服务器时，就会发生DHCP欺骗，从而通过中介发起攻击。</font><font style="vertical-align: inherit;">同时，他们有可能在转发到真实网关或执行DoS之前拦截来自用户的流量，从而使真实的DHCP服务器充满了阻塞IP地址资源的请求。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHCP饥饿（DHCP耗尽）</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCP资源耗竭通常以网络DHCP服务器为目标，以便使用伪造的源MAC地址用DHCP REQUEST消息填充授权的DHCP服务器。</font><font style="vertical-align: inherit;">DHCP服务器将通过分配可用的IP地址来响应所有请求，而不知道这是DHCP耗尽攻击，这将导致DHCP池耗尽。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何启用DHCP监听？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCP侦听仅适用于有线用户。</font><font style="vertical-align: inherit;">作为访问级别的安全功能，它主要在包含DHCP服务的VLAN访问端口的任何交换机上启用。</font><font style="vertical-align: inherit;">部署DHCP侦听时，必须在要保护的VLAN中启用DHCP侦听之前，配置可信端口（有效的DHCP服务器消息将通过的端口）。</font><font style="vertical-align: inherit;">这可以在CLI界面和Web界面中实现。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结论</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
尽管DHCP简化了IP寻址，但它也引起了安全问题。</font><font style="vertical-align: inherit;">要解决此问题，DHCP侦听（一种保护机制）可以防止欺诈性DHCP服务器使用不受信任的DHCP地址，并可以防止尝试使用所有现有DHCP地址的资源耗尽攻击。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN502460/index.html">在2020年乌克兰的创业舞台上会有什么期望？</a></li>
<li><a href="../zh-CN502462/index.html">5月18日至24日在莫斯科举行的数字活动</a></li>
<li><a href="../zh-CN502464/index.html">5月18日至24日在圣彼得堡举行的数字活动</a></li>
<li><a href="../zh-CN502466/index.html">新条件下的新RIT ++</a></li>
<li><a href="../zh-CN502472/index.html">Prometheus监视微服务应用程序。维塔利·列琴科（Vitaly Levchenko）</a></li>
<li><a href="../zh-CN502486/index.html">该书“与流行病竞赛。对抗超级细菌的抗生素</a></li>
<li><a href="../zh-CN502490/index.html">闪烁的限制性信念。为了什么和给什么</a></li>
<li><a href="../zh-CN502492/index.html">Zextras Suite和Zimbra OSE中的创新</a></li>
<li><a href="../zh-CN502494/index.html">黑色星期五的7个错误以及Magento Cloud的工作原理-视频</a></li>
<li><a href="../zh-CN502496/index.html">通过ActiveX Server轻松访问LabVIEW VI PHP应用程序</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>