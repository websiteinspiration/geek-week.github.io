<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤱🏿 👨🏿‍💻 🤴🏿 Harus cepat. Mengoptimalkan permintaan konten email IMAP 🤲🏼 😿 👨🏽‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! Dalam artikel sebelumnya, saya berbicara tentang bagaimana Anda dapat dengan cepat menyinkronkan isi kotak di cache lokal. Di sini saya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Harus cepat. Mengoptimalkan permintaan konten email IMAP</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495956/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo semuanya! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam artikel sebelumnya,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya berbicara tentang bagaimana Anda dapat dengan cepat menyinkronkan isi kotak di cache lokal. </font><font style="vertical-align: inherit;">Di sini saya ingin berbicara tentang fitur meminta isi surat dan cara terbaik untuk meminta konten, tidak takut dengan konsumsi lalu lintas tinggi.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kk/4w/8a/kk4w8ac2scl3dawogln5zyvg7fg.jpeg" alt="gambar"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita cepat mengingat apa yang kita pelajari di artikel terakhir:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IMAP adalah protokol stateful</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk melihat isi kotak masuk, Anda harus memilihnya terlebih dahulu dengan perintah SELECT</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk menyinkronkan kotak tempat kami berada, Anda dapat menggunakan perintah NOOP</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agar tidak mengurutkan pesan dari penyimpanan lokal untuk memperbarui kotak surat yang telah kami tinggalkan, Anda dapat menggunakan CONDSTORE dan QRESYNC, asalkan server Anda mendukung data ekstensi protokol</font></font></li>
</ul><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cukup!</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biarkan saya mengingatkan Anda perintah untuk meminta isi surat:</font></font><br>
<br>
<pre><code class="bash hljs">1 FETCH number (BODY[])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini akan membuat permintaan untuk mendapatkan seluruh isi surat dan semua lampiran. </font><font style="vertical-align: inherit;">Lihat saja berapa lama untuk mendapatkan pesan dalam 42 paragraf Lorem Ipsum dan dengan gambar 2 megabita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, tanyakan ukuran pesan di server. </font><font style="vertical-align: inherit;">Ini dilakukan oleh perintah:</font></font><br>
<br>
<pre><code class="bash hljs">1 FETCH 18871 (RFC822.SIZE)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RFC822.SIZE mengembalikan ukuran pesan dalam byte:</font></font><br>
<br>
<pre><code class="bash hljs">* 18871 FETCH (RFC822.SIZE 3937793)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, pesan kami memakan hampir 4 megabita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, bagaimanapun, kami akan menggunakan permintaan untuk isi penuh surat itu dan melihat pada saat itu:</font></font><br>
<br>
<pre><code class="bash hljs">1 OK Fetch completed (0.007 + 3.265 secs).</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3,3 detik! </font><font style="vertical-align: inherit;">Dan ini hanya satu pesan dengan lampiran, dan bayangkan mereka akan menjadi seluruh kotak. </font><font style="vertical-align: inherit;">Maka akan diperlukan lebih dari satu menit untuk mengunduh setidaknya dua puluh satu yang pertama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda harus mengakui bahwa bisnis klien yang pada tahun 2020 tidak dapat menyinkronkan surat lebih cepat daripada dalam satu menit adalah buruk. </font><font style="vertical-align: inherit;">Tetapi apa yang harus dilakukan?</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beri aku gigitan sekali</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda membuat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RFC3501</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam klausa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.5.4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang menjelaskan parameter yang mungkin untuk perintah FETCH, Anda akan melihat permintaan yang menarik:</font></font><br>
<br>
<pre><code class="bash hljs">BODY[&lt;section&gt;]&lt;&lt;partial&gt;&gt;
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian - bagian mana dari surat untuk mendapatkan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parsial - ukuran bagian ini</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana sebagian dibangun? </font><font style="vertical-align: inherit;">Dan itu sangat mudah. </font><font style="vertical-align: inherit;">Pertama, byte dari mana Anda harus mulai membaca ditulis melalui titik, dan kemudian berapa byte secara umum harus dibaca:</font></font><br>
<br>
<pre><code class="bash hljs">BODY[&lt;section&gt;]&lt;&lt;0.1024&gt;&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami meminta bagian surat dari nol byte ke 1024. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oke, apa bagian itu? </font><font style="vertical-align: inherit;">Pertama, saya akan berbicara tentang parameter yang sangat berguna dalam permintaan FETCH sebagai BODYSTRUCTURE:</font></font><br>
<br>
<pre><code class="bash hljs">1 FETCH 18871 (BODYSTRUCTURE)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parameter ini, seperti yang mungkin Anda mengerti dari tanda tangan, mengembalikan struktur surat dalam bentuk yang dijelaskan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MIME-IMB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs">* 18871 FETCH (BODYSTRUCTURE (((<span class="hljs-string">"text"</span> <span class="hljs-string">"plain"</span> (<span class="hljs-string">"charset"</span> <span class="hljs-string">"utf-8"</span>) NIL NIL <span class="hljs-string">"quoted-printable"</span> 25604 337 NIL NIL NIL NIL)(<span class="hljs-string">"text"</span> <span class="hljs-string">"html"</span> (<span class="hljs-string">"charset"</span> <span class="hljs-string">"utf-8"</span>) NIL NIL <span class="hljs-string">"quoted-printable"</span> 29593 390 NIL NIL NIL NIL) <span class="hljs-string">"alternative"</span> (<span class="hljs-string">"boundary"</span> <span class="hljs-string">"--=_Part_763_774309787.1586268692"</span>) NIL NIL NIL)(<span class="hljs-string">"image"</span> <span class="hljs-string">"jpeg"</span> (<span class="hljs-string">"name"</span> <span class="hljs-string">"IMG_20200217_000236.jpg"</span>) NIL NIL <span class="hljs-string">"base64"</span> 3880726 NIL (<span class="hljs-string">"attachment"</span> (<span class="hljs-string">"filename"</span> <span class="hljs-string">"IMG_20200217_000236.jpg"</span>)) NIL NIL) <span class="hljs-string">"mixed"</span> (<span class="hljs-string">"boundary"</span> <span class="hljs-string">"--=_Part_210_297656922.1586268692"</span>) NIL NIL NIL))
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihat saja struktur ini, dan kepala Anda berputar? </font><font style="vertical-align: inherit;">Jangan takut, sekarang kami akan mengetahuinya. </font><font style="vertical-align: inherit;">Bandingkan kurung buka dan tutup.</font></font><br>
<br>
<pre><code class="bash hljs">(<font></font>
BODYSTRUCTURE&nbsp;<font></font>
(<font></font>
[1] (<font></font>
[1.1] (<span class="hljs-string">"text"</span> <span class="hljs-string">"plain"</span> (<span class="hljs-string">"charset"</span> <span class="hljs-string">"utf-8"</span>) NIL NIL <span class="hljs-string">"quoted-printable"</span> 25604 337 NIL NIL NIL NIL)<font></font>
[1.2] (<span class="hljs-string">"text"</span> <span class="hljs-string">"html"</span> (<span class="hljs-string">"charset"</span> <span class="hljs-string">"utf-8"</span>) NIL NIL <span class="hljs-string">"quoted-printable"</span> 29593 390 NIL NIL NIL NIL) <span class="hljs-string">"alternative"</span> (<span class="hljs-string">"boundary"</span> <span class="hljs-string">"--=_Part_763_774309787.1586268692"</span>) NIL NIL NIL<font></font>
)<font></font>
[2] (<span class="hljs-string">"image"</span> <span class="hljs-string">"jpeg"</span> (<span class="hljs-string">"name"</span> <span class="hljs-string">"IMG_20200217_000236.jpg"</span>) NIL NIL <span class="hljs-string">"base64"</span> 3880726 NIL (<span class="hljs-string">"attachment"</span> (<span class="hljs-string">"filename"</span> <span class="hljs-string">"IMG_20200217_000236.jpg"</span>)) NIL NIL) <span class="hljs-string">"mixed"</span> (<span class="hljs-string">"boundary"</span> <span class="hljs-string">"--=_Part_210_297656922.1586268692"</span>) NIL NIL NIL<font></font>
)<font></font>
)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin memperhatikan bahwa saya meletakkan angka di dekat beberapa tanda kurung. </font><font style="vertical-align: inherit;">Ini bagian. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana cara menghitungnya? </font><font style="vertical-align: inherit;">Braket pertama harus dilewati, karena hanya berisi jawaban atas permintaan, maka setiap braket pembuka harus diberi nomor sesuai dengan aturan karena judul dalam dokumen diberi nomor:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami memberi nomor pada setiap braket pembuka dengan mempertimbangkan bagian sebelumnya</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika bagian tersebut bersarang, maka bagian saat ini melalui titik ditambahkan ke nomor sebelumnya</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika bagian tersebut tidak bersarang, tambah jumlahnya satu</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, dalam hal ini, di bagian pertama yang diakhiri dengan "alternatif" (yaitu, ini adalah bagian dari huruf multi-bagian / alternatif, di mana kita bebas memilih bagian mana yang akan ditampilkan untuk pengguna), ada dua bagian yang diberi nomor melalui titik. </font><font style="vertical-align: inherit;">Saya bertemu dengan server di mana mungkin ada tiga tingkat bersarang (yaitu, [1.1.1], [1.1.2], dll). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita menganalisis bagian [1.1] melihat struktur semua hal ini dalam dokumen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MIME-IMB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dilihat oleh itu, header Jenis Konten adalah yang pertama. </font><font style="vertical-align: inherit;">Itu termasuk:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis MIME, ini dia teks / polos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengkodean (charset = utf8)</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah dua parameter yang ditulis sebagai NIL. </font><font style="vertical-align: inherit;">Terus terang, saya tidak mengerti apa itu, tetapi sejauh ini saya belum membutuhkannya, jadi saya akan melewatkannya. </font><font style="vertical-align: inherit;">Saya minta maaf atas kesembronoan seperti ini. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikutnya adalah header Content-Transfer-Encoding, termasuk di dalamnya, yang menggambarkan mekanisme pengkodean, di sini dikutip-cetak.&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua angka berikut ini menjelaskan ukuran bagian dalam byte dan jumlah garis, jika memungkinkan. </font><font style="vertical-align: inherit;">Dengan bantuan mereka, kita dapat menghitung berapa byte yang harus diambil untuk menampilkan sejumlah garis. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baris berikut yang tidak ada di bagian ini:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content-Id, yang digunakan dalam inline surat itu</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konten-Deskripsi, garis yang menjelaskan apa bagian ini</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk dua parameter lainnya, saya tidak dapat menemukan jawaban yang pasti apa itu, tetapi salah satu dari parameter ini mungkin mengandung bagian MD5, yang kadang-kadang bisa berguna. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk bagian [2], semuanya sama, kecuali bahwa itu adalah gambar, lampiran dengan nama, dan pengkodean base64. Jika masih belum sepenuhnya jelas apa yang terjadi di sini, maka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di situs ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ditata dengan sempurna bagaimana cara menghitung bagian. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang diberikannya? Dan fakta bahwa pada tahap menampilkan surat kita sudah dapat meminta hanya bagian atas konten dan tidak memuat lampiran sampai pengguna sendiri memasukkan pesan dan mengklik tombol "unduh". Semua informasi untuk menampilkan lampiran datang kepada kami di BODYSCTRUCTURE sehingga nama, format, dan ukuran dapat ditampilkan tanpa memuat lampiran itu sendiri.&nbsp;</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lanjutkan berlatih. </font><font style="vertical-align: inherit;">Kami akan meminta satu kilobyte konten pesan tanpa lampiran, hanya untuk mengetahui apa yang mereka kirimkan kepada kami.</font></font><br>
<br>
<pre><code class="bash hljs">1 fetch 18871 (body[1.1]&lt;0.1024&gt;)<font></font>
* 18871 FETCH (BODY[1.1]&lt;0&gt; {1024}<font></font>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus consecte=<font></font>
tur enim <span class="hljs-keyword">in</span> nisi venenatis, id varius tellus viverra. Praesent et enim te=<font></font>
llus. Nunc vestibulum diam tortor, id posuere turpis tempor luctus. Vivam=<font></font>
us molestie non nunc nec placerat. Cras finibus ut erat et tristique. Cur=<font></font>
abitur vitae commodo risus. Etiam sed scelerisque erat. Quisque cursus bl=<font></font>
andit finibus. Nullam ac lectus accumsan, molestie quam non, mollis urna.=<font></font>
&nbsp;Nulla at arcu <span class="hljs-keyword">in</span> libero condimentum mollis ut non velit. Vestibulum sed =<font></font>
risus et magna congue iaculis. Vestibulum nec interdum elit, ut commodo m=<font></font>
auris. Nulla ipsum leo, vestibulum nec ligula non, elementum ullamcorper =<font></font>
risus. Nunc et malesuada sem, id venenatis massa. Integer dolor ante, max=<font></font>
imus <span class="hljs-keyword">in</span> eleifend nec, ultricies ut risus. Mauris posuere eget tortor at p=<font></font>
orttitor.=0AIn porta elementum ornare. Suspendisse aliquam, tortor sed al=<font></font>
iquam bibendum, nulla ante rhoncus elit, placerat accumsan augue nibh non=<font></font>
&nbsp;est. Duis finibus vel tortor finibu)<font></font>
1 OK Fetch completed (0.073 + 0.000 + 0.072 secs).</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekitar 100 milidetik dan kami sudah melihat beberapa isi surat itu! </font><font style="vertical-align: inherit;">Ini hanya hasil yang sangat baik, mengingat bahwa sebelumnya kami butuh hampir 4 detik untuk mengunduh konten satu huruf. </font><font style="vertical-align: inherit;">Kemudian Anda cukup memuat seluruh isi surat dalam aliran latar belakang, dari luar akan tampak bahwa surat-surat itu dimuat secara instan. </font><font style="vertical-align: inherit;">Yang diperlukan hanyalah melihat struktur surat dan mengunduh hanya apa yang diperlukan untuk tampilan cepat.&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hanya satu saat. </font><font style="vertical-align: inherit;">Permintaan ini akan membuat pesan di server muncul sebagai telah dibaca. </font><font style="vertical-align: inherit;">Tetapi Anda dapat memperbaikinya dengan menambahkan hanya MENGINTIP ke permintaan tubuh</font></font><br>
<br>
<pre><code class="bash hljs">1 fetch 18871 (BODY.PEEK[1.1]&lt;0.1024&gt;)<font></font>
* 18871 FETCH (BODY[1.1]&lt;0&gt; {1024}<font></font>
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus consecte=<font></font>
tur enim <span class="hljs-keyword">in</span> nisi venenatis, id varius tellus viverra. Praesent et enim te=<font></font>
llus. Nunc vestibulum diam tortor, id posuere turpis tempor luctus. Vivam=<font></font>
us molestie non nunc nec placerat. Cras finibus ut erat et tristique. Cur=<font></font>
abitur vitae commodo risus. Etiam sed scelerisque erat. Quisque cursus bl=<font></font>
andit finibus. Nullam ac lectus accumsan, molestie quam non, mollis urna.=<font></font>
&nbsp;Nulla at arcu <span class="hljs-keyword">in</span> libero condimentum mollis ut non velit. Vestibulum sed =<font></font>
risus et magna congue iaculis. Vestibulum nec interdum elit, ut commodo m=<font></font>
auris. Nulla ipsum leo, vestibulum nec ligula non, elementum ullamcorper =<font></font>
risus. Nunc et malesuada sem, id venenatis massa. Integer dolor ante, max=<font></font>
imus <span class="hljs-keyword">in</span> eleifend nec, ultricies ut risus. Mauris posuere eget tortor at p=<font></font>
orttitor.=0AIn porta elementum ornare. Suspendisse aliquam, tortor sed al=<font></font>
iquam bibendum, nulla ante rhoncus elit, placerat accumsan augue nibh non=<font></font>
&nbsp;est. Duis finibus vel tortor finibu)<font></font>
1 OK Fetch completed (0.001 + 0.000 secs).</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan voila! </font><font style="vertical-align: inherit;">Surat itu masih belum dibaca dan beberapa konten yang kami terima. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya menjadi lebih mudah jika fitur permintaan </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">PREVIEW</font></a><font style="vertical-align: inherit;"> diimplementasikan di server Anda.&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<pre><code class="bash hljs">1 fetch 18871 (PREVIEW)<font></font>
* 18871 FETCH (PREVIEW (FUZZY <span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus consectetur enim in nisi venenatis, id varius tellus viverra. Praesent et enim tellus. Nunc vestibulum diam tortor, id posuere turpis t"</span>))<font></font>
1 OK Fetch completed (0.001 + 0.000 secs).</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami tidak menghabiskan waktu untuk menanyakan struktur sama sekali dan kami mendapatkan pratinjau pesan secara instan. </font><font style="vertical-align: inherit;">Tapi jangan lupa bahwa struktur kueri berguna untuk mendefinisikan lampiran sehingga tidak dimuat ke dalam idle.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tunggu</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hampir semua klien email mengimplementasikan tombol "segarkan" jika pengguna ingin menerima surat baru sekarang. </font><font style="vertical-align: inherit;">Tapi entah kenapa ini tidak keren untuk zaman kita, di mana ada notifikasi baik di perangkat maupun di browser. </font><font style="vertical-align: inherit;">Apa yang dikatakan IMAP tentang ini? </font><font style="vertical-align: inherit;">Dan dia mengatakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDLE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Operasi ini memegang koneksi ke folder dan memberi tahu Anda tentang perubahan ke folder. </font><font style="vertical-align: inherit;">Harap dicatat, bukan kotak surat, tetapi folder. </font><font style="vertical-align: inherit;">Untuk melakukan ini, Anda memerlukan server untuk mengimplementasikan fitur IDLE.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, pilih folder tempat server akan mengirimkan peringatan, dan kemudian aktifkan IDLE</font></font><br>
<br>
<pre><code class="bash hljs">1 SELECT Inbox<font></font>
* FLAGS (\Answered \Flagged \Deleted \Seen \Draft <span class="hljs-variable">$Forwarded</span> <span class="hljs-variable">$MDNSent</span>)<font></font>
* OK [PERMANENTFLAGS (\Answered \Flagged \Deleted \Seen \Draft <span class="hljs-variable">$Forwarded</span> <span class="hljs-variable">$MDNSent</span> \*)] Flags permitted.<font></font>
* 18872 EXISTS<font></font>
* 0 RECENT<font></font>
* OK [UNSEEN 18685] First unseen.<font></font>
* OK [UIDVALIDITY 1532079879] UIDs valid<font></font>
* OK [UIDNEXT 20155] Predicted next UID<font></font>
* OK [HIGHESTMODSEQ 26338] Highest<font></font>
1 OK [READ-WRITE] Select completed (0.002 + 0.000 + 0.001 secs).<font></font>
1 IDLE<font></font>
+ idling</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jawaban "+ idling" memberi tahu tentang dimasukkannya idle di folder. </font><font style="vertical-align: inherit;">Apa yang terjadi jika surat baru tiba?</font></font><br>
<br>
<pre><code class="bash hljs">* 18873 EXISTS<font></font>
* 1 RECENT</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mengirim sendiri surat yang sama, dan Idle memberi tahu saya bahwa saya harus meminta surat 18873, bahwa ada 18873 surat di folder itu, dan satu surat baru saja tiba. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, saya akan meminta surat ini di koneksi lain, kami tertarik pada surat dengan jawaban ADA.</font></font><br>
<br>
<pre><code class="bash hljs">1 fetch 18873 (BODY.PEEK[1.1]&lt;0.1024&gt;)<font></font>
* 18873 FETCH (BODY[1.1]&lt;0&gt; {1024}<font></font>
---- Original Message ---- Tue, Apr 7, 2020, 17:11=0ASubject=<font></font>
: Lorem Ipsum=0A&nbsp; Lorem ipsum dolor sit amet, consectetur adipiscing elit=<font></font>
. Vivamus consectetur enim <span class="hljs-keyword">in</span> nisi venenatis, id varius tellus viverra. P=<font></font>
raesent et enim tellus. Nunc vestibulum diam tortor, id posuere turpis te=<font></font>
mpor luctus. Vivamus molestie non nunc nec placerat. Cras finibus ut erat=<font></font>
…</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sangat penting untuk dipahami. </font><font style="vertical-align: inherit;">IDLE membutuhkan koneksi terpisah, sehingga Anda tidak dapat menerima perubahan dan meminta pesan di sesi yang sama. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa lagi yang bisa dilakukan IDLE? </font><font style="vertical-align: inherit;">Dia dapat memberi tahu tentang surat dan surat yang dihapus yang benderanya telah berubah. </font><font style="vertical-align: inherit;">Mari kita lihat surat demi contoh, dengan demikian meletakkan bendera "/ terlihat" di atasnya dan menghapus surat itu.</font></font><br>
<br>
<pre><code class="bash hljs">* 18873 FETCH (FLAGS (\Seen \Recent))<font></font>
* OK Still here<font></font>
* OK Still here<font></font>
* 18873 EXPUNGE<font></font>
* 18871 EXPUNGE<font></font>
* 0 RECENT</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menghapus percakapan (18873, 18871) dan melihat surat lain (respons FETCH). </font><font style="vertical-align: inherit;">Mengapa surat ini menjadi 18871? </font><font style="vertical-align: inherit;">Karena IMAP menceritakan nomor surat jika ada sesuatu yang berubah. </font><font style="vertical-align: inherit;">Karena menjadi yang teratas, jumlahnya juga berubah.&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan IDLE, kami dapat dengan cepat menyinkronkan keadaan kotak, tetapi tidak menyenangkan karena memerlukan koneksi terpisah. </font><font style="vertical-align: inherit;">Mungkinkah ini lebih baik? </font><font style="vertical-align: inherit;">Itu sebabnya saya di sini.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teriak bagaimana kabar Anda</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana jika saya memberi tahu Anda bahwa ada fitur yang memungkinkan Anda menerima pemberitahuan dari server dalam koneksi yang sama, dan bahkan dikonfigurasikan secara khusus untuk kotak surat, dan bahkan tidak satu. </font><font style="vertical-align: inherit;">Kedengarannya seperti dongeng, tetapi jangan menjadi gila, ini adalah kemampuan nyata </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MEMPERHATIKAN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dia tahu banyak, misalnya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasikan folder tertentu dari mana kami mengharapkan pemberitahuan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengarkan perubahan status folder (baca huruf, huruf baru)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atur format pemberitahuan, yaitu, apa yang ingin kita lihat saat mengganti folder</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengarkan perubahan nama folder</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengarkan perubahan metadata folder</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat contoh bagaimana kita dapat mendengarkan perubahan status folder</font></font><br>
<br>
<pre><code class="bash hljs">1 notify <span class="hljs-built_in">set</span> (inboxes (MessageNew FlagChange MessageExpunge))<font></font>
1 OK NOTIFY completed (0.001 + 0.000 secs).</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang server akan mengirimkan pemberitahuan kepada kami dengan status folder, misalnya, saya akan menambahkan beberapa pesan ke folder yang berbeda</font></font><br>
<br>
<pre><code class="bash hljs">* STATUS INBOX/Ozon (MESSAGES 312 UIDNEXT 321 UNSEEN 48)<font></font>
* STATUS <span class="hljs-string">"INBOX/Company News"</span> (MESSAGES 178 UIDNEXT 179 UNSEEN 1)<font></font>
* STATUS <span class="hljs-string">"INBOX/Company News"</span> (MESSAGES 177 UIDNEXT 179 UNSEEN 0)</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan menganalisis perintah: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama datang perintah SET NOTIFY. </font><font style="vertical-align: inherit;">Selanjutnya, dalam tanda kurung, kita memilih folder mana yang akan kita dengarkan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotak masuk - untuk semua folder yang dapat Anda pilih</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pribadi - folder yang ada dalam ruang nama pengguna</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berlangganan - folder tempat pengguna berlangganan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Subtree - subtree folder yang akan ditentukan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotak surat - di sini Anda dapat membuat daftar folder untuk didengarkan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dipilih - hanya peringatan untuk folder yang dipilih</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan parameter yang bertanggung jawab untuk filter peringatan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MessageNew - jika pesan baru tiba</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlagChange - jika bendera telah berubah</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MessageExpunge - jika pesan itu dihapus atau dipindahkan</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi dengan perintah seperti itu, kami tidak dapat menerima parameter dari pesan baru, yang diubah, atau dihapus. </font><font style="vertical-align: inherit;">Untuk melakukan ini, pilih parameter yang Dipilih dan tentukan apa yang harus dikembalikan. </font><font style="vertical-align: inherit;">Kami dapat menambahkan lansiran lain tanpa menghapus yang sebelumnya.</font></font><br>
<br>
<pre><code class="bash hljs">1 notify <span class="hljs-built_in">set</span> status (selected (MessageNew (uid preview) MessageExpunge))
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, di dalam MessageNew, kami menentukan parameter yang harus dikembalikan oleh notifikasi. </font><font style="vertical-align: inherit;">Saya akan memilih Kotak Masuk dan lagi saya akan melemparkan ke diri sendiri lorem ipsum.</font></font><br>
<br>
<pre><code class="bash hljs">* 18868 FETCH (UID 20157 PREVIEW (FUZZY <span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus consectetur enim in nisi venenatis, id varius tellus viverra. Praesent et enim tellus. Nunc vestibulum diam tortor, id posuere turpis t"</span>))</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa kabar? </font><font style="vertical-align: inherit;">Untuk idle, kita perlu menyimpan dua koneksi, yang salah satunya juga meminta pesan yang dikembalikan kepada kita. </font><font style="vertical-align: inherit;">Segera mereka membawa kita semua di piring perak.&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi kita bisa mendengarkan perubahan nama folder</font></font><br>
<br>
<pre><code class="bash hljs">1 notify <span class="hljs-built_in">set</span> (inboxes (MailboxName))</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ganti nama beberapa folder dan lihat hasilnya.</font></font><br>
<br>
<pre><code class="bash hljs">* LIST () <span class="hljs-string">"/"</span> 1111 (<span class="hljs-string">"OLDNAME"</span> (aaaa))</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang kita tahu bahwa ada folder "aaaa", dan menjadi "1111" </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat mendengarkan perubahan bendera dan penghapusan pesan. </font><font style="vertical-align: inherit;">Untuk melakukan ini, gunakan parameter FlagChange</font></font><br>
<br>
<pre><code class="bash hljs">1 notify <span class="hljs-built_in">set</span> (selected (MessageNew (uid) FlagChange MessageExpunge))</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan ketika Anda mengubah bendera pesan dan menghapusnya, kami mendapatkannya</font></font><br>
<br>
<pre><code class="bash hljs">* 18865 EXPUNGE<font></font>
* 18864 FETCH (FLAGS ())<font></font>
* 18864 FETCH (FLAGS (\Answered))</code></pre><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa berikutnya</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua fitur ini membantu klien email untuk bekerja secepat dan senyaman mungkin bagi pengguna. </font><font style="vertical-align: inherit;">IDLE dan NOTIFY memberi tahu pengguna tentang perubahan dalam folder, meminta bagian dari surat mempercepat pemuatannya.&nbsp;</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel terakhir, saya ingin berbicara tentang mekanisme pencarian di IMAP dan bagaimana hal itu dapat dipercepat dan mengurangi beban pada jaringan. </font><font style="vertical-align: inherit;">Terima kasih sudah membaca sampai akhir.&nbsp;</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id495942/index.html">Hemat waktu, saraf dan jam kerja</a></li>
<li><a href="../id495944/index.html">TOP50 yang diperbarui (peringkat superkomputer CIS): dinamika dan tren</a></li>
<li><a href="../id495946/index.html">Norbert Wiener: ayah sibernetika yang terganggu</a></li>
<li><a href="../id495948/index.html">Tertanam Karat. Pengembangan untuk prosesor Cortex-M3 menggunakan papan debug STM32F103C8T6 (Black Pill)</a></li>
<li><a href="../id495954/index.html">Bagaimana cara Cisco beroperasi dalam mode akses jarak jauh dan garis batas yang tidak ada selama 20 tahun?</a></li>
<li><a href="../id495960/index.html">Hanya AH-ny Wi-Fi. Atau bagaimana kami membangun jaringan Wi-Fi 6 (AX) di lembaga pendidikan</a></li>
<li><a href="../id495962/index.html">Udalenka: bagaimana di X5 mereka berencana untuk beralih ke format kerja jarak jauh</a></li>
<li><a href="../id495966/index.html">Kode tidak masuk akal atau "bagaimana tidak menulis"</a></li>
<li><a href="../id495970/index.html">Alat untuk kerja tim jarak jauh: dari pelacakan waktu hingga keuangan</a></li>
<li><a href="../id495974/index.html">Pengamatan fotografi dari meteor, Perseids 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>