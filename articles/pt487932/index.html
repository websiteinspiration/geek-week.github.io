<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê© üíπ üë®üèª‚Äçüé§ Mapas normais ideais para o Unity (e outros programas) üïå üòÄ ü§πüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... e como descobrir o que h√° de errado com seu pipeline de cria√ß√£o de conte√∫do.
 
 
 Digamos que voc√™ tenha um incr√≠vel modelo high-poly no qual o ar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mapas normais ideais para o Unity (e outros programas)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487932/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... e como descobrir o que h√° de errado com seu pipeline de cria√ß√£o de conte√∫do.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89e/6f3/877/89e6f38773acdefc8f2680cf7bfd223a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que voc√™ tenha um incr√≠vel modelo high-poly no qual o artista tenha trabalhado, e voc√™ queira coloc√°-lo no jogo. </font><font style="vertical-align: inherit;">O artista mostrou capturas de tela do modelo em seu programa e elas parecem incr√≠veis. </font><font style="vertical-align: inherit;">Mesmo depois de criar mapas normais para a vers√£o low-poly, ele ainda parece √≥timo.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/810/be8/3a4810be8abd5ad6cb24fca98ee9e61c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veja a grandeza deste modelo tradicional para testar mapas normais! </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o a artista a coloca no jogo, e ela parece ... um pouco errada.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/fa2/e70/350fa2e7020b28db82bf99958d10f958.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esses rostos n√£o deveriam ser planos? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As superf√≠cies, que devem ser planas, ainda s√£o um pouco arredondadas, algumas s√£o at√© deprimidas e, pior ainda, listras estranhas as acompanham. </font><font style="vertical-align: inherit;">Situa√ß√£o familiar? </font><font style="vertical-align: inherit;">Alguns de voc√™s provavelmente se depararam com isso, pensaram: "Bem, provavelmente, n√£o vai funcionar melhor" e seguiram em frente. </font><font style="vertical-align: inherit;">Talvez um pouco de sujeira tenha sido aplicada para mascarar os casos mais graves. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas h√° realmente algo errado com seu pipeline de cria√ß√£o de conte√∫do. </font><font style="vertical-align: inherit;">Isso nem sempre √© √≥bvio, mas o problema pode ser resolvido! * </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Se voc√™ assumir que, em alguns casos, poder√° fazer altera√ß√µes no pipeline de conte√∫do.</font></font></i><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pref√°cio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo √© sobre como exportar mapas normais ideais de outros aplicativos para uso no Unity 5.3 e superior. </font><font style="vertical-align: inherit;">Ele n√£o fala sobre como obter mapas normais de alta qualidade, existem muitos outros tutoriais para isso, ent√£o n√£o vou abordar esse t√≥pico.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base espacial tangente</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O problema √© como os mapas normais do espa√ßo tangente funcionam. Em particular, como funciona o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espa√ßo tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou base tangente). N√£o irei muito longe nos aspectos t√©cnicos do que eles fazem. Eu, como outros autores, j√° </font></font><a rel="noopener" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conversamos sobre isso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas, em resumo, o espa√ßo tangente determina o que a orienta√ß√£o da dire√ß√£o no mapa normal deve representar. Qual dire√ß√£o no mapa normal √© realmente "avan√ßar", "subir" ou "direita". Grosso modo, essa orienta√ß√£o √© a orienta√ß√£o das coordenadas UV da textura e normais dos v√©rtices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â mais importante entender que o programa usado para criar o mapa normal da malha highpoly para a malha lowpoly deve calcular seu espa√ßo tangente</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exatamente o mesmo que o programa em que os mapas normais ser√£o usados</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como programas diferentes podem usar o espa√ßo tangente de maneiras diferentes, os mapas cozidos normais de uma malha n√£o ser√£o necessariamente os mesmos para todos os aplicativos. </font><font style="vertical-align: inherit;">Mesmo para aplica√ß√µes que usam o mesmo espa√ßo tangente!</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conhe√ßa seu inimigo</font></font></h1><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Golpe devido a erro √≥bvio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O erro mais comum √© o problema ‚ÄúOpenGL vs Direct3D‚Äù. </font><font style="vertical-align: inherit;">Eles tamb√©m s√£o chamados de mapas normais Y + e Y-. </font><font style="vertical-align: inherit;">Inclu√≠-os aqui apenas para completar. </font><font style="vertical-align: inherit;">Provavelmente, a maioria das pessoas que encontrou esse problema j√° o conhece ou pelo menos aprendeu a resolv√™-lo. </font><font style="vertical-align: inherit;">Como os mapas normais s√£o gerados em uma orienta√ß√£o, eles s√£o essencialmente in√∫teis para uso em um aplicativo desenvolvido para usar outro.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39a/064/afd/39a064afd8830af08c8841d279e234bc.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais na orienta√ß√£o Direct3D no mecanismo Unity, que espera uma orienta√ß√£o OpenGL.Isso</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pode ser entendido pelo fato de que a ilumina√ß√£o parece estar invertida ou caindo do outro lado, mas apenas em algumas dire√ß√µes de ilumina√ß√£o. Alguns cantos ou rostos podem parecer completamente normais at√© voc√™ mover a fonte de luz.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E com esse problema, tudo est√° claro o suficiente. </font><font style="vertical-align: inherit;">A maioria dos aplicativos de cria√ß√£o de mapas normais possui um bom bot√£o ou menu grande para alternar entre a op√ß√£o de orienta√ß√£o OpenGL / Direct3D ou Y. Descubra qual orienta√ß√£o o aplicativo de destino usa e fa√ßa mapas nele. </font><font style="vertical-align: inherit;">O Unity usa OpenGL e Y +. </font><font style="vertical-align: inherit;">A Unreal usa o Direct3D e Y-. </font><font style="vertical-align: inherit;">Isso pode ser claramente entendido observando a textura do pr√≥prio mapa normal. </font><font style="vertical-align: inherit;">Se parece que no canal verde eles est√£o acesos "de cima", ent√£o esta √© a orienta√ß√£o do OpenGL. </font><font style="vertical-align: inherit;">Se de baixo, ent√£o √© o Direct3D.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extravag√¢ncias com sRGB</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro erro comum √© usar uma textura marcada como textura sRGB. Isso altera a maneira como a textura da GPU √© amostrada, for√ßando-a a converter valores de cores do espa√ßo sRGB, do qual as pessoas geralmente selecionam valores de cores, em um espa√ßo linear de cores. Para mapas normais, isso n√£o √© necess√°rio. Se voc√™ definir o tipo como "Mapa normal" para a textura no Unity, o mecanismo desativar√° automaticamente essa op√ß√£o, mas voc√™ tamb√©m poder√° desativar a op√ß√£o "sRGB (Textura de cor)" manualmente, e a textura funcionar√° como um mapa normal. Pelo menos no Unity 2017.1 e mais recente.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eed/4fa/006/eed4fa006eb6dc4cb232b61f6df0d95d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal com o tipo de textura Padr√£o e sRGB ativados.Este</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
problema pode ser reconhecido pelo fato de os mapas normais serem fortemente influenciados em uma dire√ß√£o. </font><font style="vertical-align: inherit;">Neste modelo, quase todos os rostos parecem direcionados para uma fonte de luz. </font><font style="vertical-align: inherit;">Obviamente, isso nem sempre ser√° o caso. </font><font style="vertical-align: inherit;">Em um mapa normal mais detalhado, todas as partes respondem √† ilumina√ß√£o quase corretamente, mas mudam ligeiramente para algum √¢ngulo. </font><font style="vertical-align: inherit;">√Äs vezes, pode parecer que toda a superf√≠cie da malha est√° distorcida.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muito diferente para ser normal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro problema comum √© o uso de diferentes malhas normais de cozimento no ativo do jogo. </font><font style="vertical-align: inherit;">Assim como as tangentes, para que tudo funcione, elas devem </font><font style="vertical-align: inherit;">corresponder </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exatamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esse erro geralmente ocorre se os artistas exportam malhas com valores normais de v√©rtices incorretos. </font><font style="vertical-align: inherit;">Nesse caso, qualquer aplicativo que abrir a malha precisar√° calcul√°-los voc√™ mesmo. </font><font style="vertical-align: inherit;">N√£o existe uma maneira certa de resolver isso, tudo depende da malha. Portanto, certifique-se de exportar (ou artistas) o modelo com as normais finais!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/26b/196/2f9/26b1962f97b26c1f90e1143007844e30.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais criados em uma malha suavizada, exibidos como em uma malha com bordas afiadas</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/970/07c/51d/97007c51d1aea9f42e5971e1a3d79ef6.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normais criados em uma malha com bordas afiadas, exibidos como em uma malha suavizada</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse √© outro problema f√°cil de detectar. Se o modelo parecer ter arestas n√≠tidas, mas o sombreamento se inclinar dessas arestas, significa que voc√™ criou o mapa normal com normais suaves, mas elas s√£o renderizadas em uma malha com arestas n√≠tidas. Se o sombreamento dobrar em dire√ß√£o √† borda, isso significa que o mapa foi cortado com uma borda afiada e renderizado em uma borda suave. De fato, em um modelo, ambos os casos podem estar presentes, porque √© poss√≠vel indicar a suavidade ou nitidez das arestas individuais e at√© o grau de suavidade. Mas, de fato, eles s√£o garantidos como err√¥neos se voc√™ permitir que outro aplicativo adivinhe como deve ser. O modelo apresentado acima √© um caso extremo, e muitas vezes nem tudo √© t√£o √≥bvio, porque grandes partes do modelo podem parecer completamente normais. Mas no caso geral,se voc√™ tiver v√°rias arestas que parecem particularmente estranhas, provavelmente isso se deve a uma incompatibilidade nas normais do v√©rtice.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace vs Autodesk</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um problema menos percept√≠vel √© que, ao criar mapas normais do 3ds Max ou Maya, eles sempre estar√£o incorretos no mecanismo do Unity. </font><font style="vertical-align: inherit;">Eles estar√£o errados no Unreal e em quase qualquer outro programa, exceto no programa em que foram assados. </font><font style="vertical-align: inherit;">Os mapas normais do 3ds Max n√£o funcionam no Maya e vice-versa! </font><font style="vertical-align: inherit;">Cada um desses aplicativos calcula o espa√ßo tangente de maneira exclusiva, o que n√£o corresponde a outros aplicativos. </font><font style="vertical-align: inherit;">Quando usados ‚Äã‚Äãde forma independente, eles parecem </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perfeitos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, se voc√™ gerar mapas normais para uso nesses programas, tente criar mapas normais neles. </font><font style="vertical-align: inherit;">Quase nenhum </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">outro</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> programa √© capaz de criar os mapas normais corretos para esses aplicativos, ent√£o voc√™ parece n√£o ter escolha.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A √∫nica solu√ß√£o nesse caso √© n√£o criar mapas normais com esses aplicativos se voc√™ quiser us√°-los em outro lugar. </font><font style="vertical-align: inherit;">Se voc√™ precisar de um programa gratuito, use o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xNormal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esta √© uma ferramenta padr√£o do setor. </font><font style="vertical-align: inherit;">Se voc√™ usar Subst√¢ncia em algum lugar no pipeline de cria√ß√£o de conte√∫do, use-o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/fa2/e70/350fa2e7020b28db82bf99958d10f958.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O 3ds Max criou o mapa normal usado pelo Unity A</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
maneira mais f√°cil de perceber esse problema √© ver que as faces planas t√™m pequenas amolgadelas ou curvaturas. </font><font style="vertical-align: inherit;">Em alguns casos, isso pode ser muito discreto, especialmente em objetos org√¢nicos. </font><font style="vertical-align: inherit;">Portanto, problemas desse tipo geralmente passam despercebidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitos aplicativos que n√£o s√£o da Autodesk mudaram para um m√©todo de c√°lculo de espa√ßo tangente chamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">O xNormal e o Substance, assim como o Blender, Unity, Unreal, Godot, Marmoset, Houdini, Modo e alguns outros, por padr√£o, usam o MikkTSpace ou, pelo menos, de alguma forma o suportam, o que melhora bastante sua compatibilidade. </font><font style="vertical-align: inherit;">De fato, nos √∫ltimos dez anos, tornou-se o padr√£o do setor em todos os casos em que s√£o usados ‚Äã‚Äãmapas normais do espa√ßo tangente. </font><font style="vertical-align: inherit;">Presumivelmente, em algum momento, o 3ds Max adicionar√° seu suporte, mas n√£o est√° claro se os desenvolvedores planejam permitir mapas normais usando o MikkTSpace ou simplesmente fornecem suporte para visualiza√ß√£o / renderiza√ß√£o com sua ajuda.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malhas de exporta√ß√£o e pintor de subst√¢ncias</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro problema com o 3ds Max e o Maya √© que, ao exportar malhas a partir deles, existe uma op√ß√£o de exporta√ß√£o com "tangentes e binormais". Eles n√£o estar√£o nas tangentes reais do MikkTSpace, mas ser√£o baseados neles. Alguns aplicativos for√ßam novamente o c√°lculo do MikkTSpace correto por padr√£o (por exemplo, xNormal, Unity e Unreal), mas outros aplicativos usam malhas tangentes (se houver) "como est√£o" e computam o MikkTSpace apenas se a malha n√£o tiver tangentes. Por exemplo, o Substance Painter usa malhas tangentes se estiverem presentes, ou seja, o Painter cria mapas normais muito semelhantes ao 3ds Max! Semelhante, mas n√£o exatamente o mesmo, portanto, se voc√™ import√°-los de volta para o 3ds Max, eles n√£o parecer√£o t√£o bons quanto cozidos no Max.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace vs MikkTSpace?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pr√≥ximo problema √© que h√° mais de uma vers√£o do MikkTSpace! </font><font style="vertical-align: inherit;">Sim, esse n√£o seria o padr√£o se, de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alguma forma,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n√£o apresentasse confus√£o. </font><font style="vertical-align: inherit;">O MikkTSpace determina como os dados devem ser armazenados na malha para cada v√©rtice e como os dados s√£o usados ‚Äã‚Äãpara renderiza√ß√£o. </font><font style="vertical-align: inherit;">Todos os aplicativos habilitados para MikkTSpace calculam os mesmos dados de malha para v√©rtices. </font><font style="vertical-align: inherit;">Mas existem duas maneiras diferentes de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> esses dados na renderiza√ß√£o. </font><font style="vertical-align: inherit;">MikkTSpace define como calcular o vetor tangente e assinar para cada v√©rtice com base na orienta√ß√£o UV. </font><font style="vertical-align: inherit;">Por√©m, ao usar o espa√ßo tangente, a tangente a dois pontos (bitangente) √© recalculada para cada v√©rtice ou para cada pixel. </font><font style="vertical-align: inherit;">Este par√¢metro tamb√©m deve ser o mesmo para assar e visualizar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
xNormal e Subst√¢ncia t√™m a op√ß√£o de criar mapas normais usando os dois m√©todos. Essas op√ß√µes s√£o denominadas ‚Äúcomputar espa√ßo tangente por fragmento‚Äù em Subst√¢ncia e ‚Äúcomputar binormal no pixel shader‚Äù no xNormal. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ n√£o precisa</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> us√°-lo se estiver preparando os m√©todos de renderiza√ß√£o do Unity embutidos. No entanto, pode </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valer</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a </font><em><font style="vertical-align: inherit;">pena</font></em><font style="vertical-align: inherit;"> fazer isso para SRP, dependendo do tipo que voc√™ escolher!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc8/288/f49/dc8288f495d420416d8bd2ee5ae401c3.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XNormal "pixel shader binormals" com renderizador avan√ßado incorporado Unity</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Visualmente, isso parece usar um espa√ßo tangente completamente diferente, mas geralmente √© muito menos pronunciado. Alguns rostos podem parecer como se o normal estivesse um pouco distorcido e n√£o ter√° um grande dente. A solu√ß√£o aqui √© muito simples - n√£o selecione essa op√ß√£o se estiver utilizando os m√©todos de renderiza√ß√£o embutidos do Unity. Marque a caixa se voc√™ usar motores Unreal ou Unity para HDRP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitas fontes dizem que Blender e Unity s√£o id√™nticos, mas na verdade isso nunca √© verdade! O Blender, como o Unity, usa a orienta√ß√£o MikkTSpace e OpenGL, mas, como o Unreal, usa binormals para cada binomals de fragmento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A boa not√≠cia √© que agora os shaders LWRP, URP e Shader Graph usam binormais para cada v√©rtice e os shaders HDRP integrados para cada pixel. </font><font style="vertical-align: inherit;">Em uma atualiza√ß√£o futura do Shader Graph (7.2.0), a transi√ß√£o para a computa√ß√£o pixel por pixel ser√° realizada e, ap√≥s algum tempo, os shaders URP integrados tamb√©m mudar√£o para ele. </font><font style="vertical-align: inherit;">E os m√©todos de renderiza√ß√£o padr√£o podem ser alterados usando seus pr√≥prios shaders, se voc√™ escolher essa rota.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Triangular, triangular, triangular!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O √∫ltimo problema s√£o diferentes maneiras de triangular. </font><font style="vertical-align: inherit;">Se voc√™ exportar malhas sem triangula√ß√£o preliminar, n√£o h√° garantia de que outros aplicativos triangular√£o o modelo da mesma maneira. </font><font style="vertical-align: inherit;">Isso tamb√©m prejudica os mapas normais! </font><font style="vertical-align: inherit;">Portanto, triangule as malhas, usando as op√ß√µes de exporta√ß√£o ou atrav√©s do modificador de triangula√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/271/14f/174/27114f17454f66db812ec2673e72d97c.png"></div><br>
<i>  Substance Painter  ,   Unity  ,   3ds Max   (quads)</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso parece muito semelhante a um espa√ßo tangente completamente errado, como se mapas normais tivessem sido cortados no 3ds Max. Mas, no caso geral, elas s√£o um pouco mais n√≠tidas, quase dobradas e n√£o parecem concavidades suaves. Nesta malha, uma forma de X √© vis√≠vel nas faces externas. Esse problema pode ser dif√≠cil e irritante quando v√°rias pessoas est√£o trabalhando com o modelo no pipeline de produ√ß√£o de conte√∫do em diferentes aplicativos, porque geralmente √© √∫til n√£o triangular a malha e salvar belos pol√≠gonos. Nesse caso, voc√™ precisa aceitar a inconveni√™ncia ou criar a √∫ltima ferramenta no pipeline antes de exportar o modelo para o jogo, tamb√©m usado para gerar uma malha usada para assar normais. Como um espa√ßo tangente com normais de v√©rtices (que fazem parte do espa√ßo tangente),a triangula√ß√£o tamb√©m deve corresponder exatamente.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista para criar mapas normais perfeitos para o Unity</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, aqui est√£o algumas dicas para gerar mapas normais de espa√ßo tangente para malhas lowpoly a partir dos modelos highpoly originais para uso no Unity:</font></font><br>
<br>
<ul>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o √© necess√°rio criar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mapas normais usando o 3ds Max, o Maya ou qualquer outro aplicativo que n√£o possua a op√ß√£o tangente </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exporte malhas como </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tri√¢ngulos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , com </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normais</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sem</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tangentes.</font></font></strong></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolha </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenGL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou X + </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y +</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Z + como orienta√ß√£o do mapa normal ao assar (bem como ao criar um projeto para o Substance Painter).</font></font></li>
<li><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ n√£o precisa</font></font></em> </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> habilitar as op√ß√µes de tangentes para os dois pontos "</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por pixel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " / "</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por fragmento</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " ao processar os m√©todos de renderiza√ß√£o internos (proativos ou diferidos) ou LWRP.</font></font></li>
<li><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inclua</font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> op√ß√µes de tangentes para os dois pontos</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "por pixel"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "por fragmento"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao executar o HDRP e, em breve, o URP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deixe as op√ß√µes de importa√ß√£o do modelo padr√£o para o Unity, com as normais definidas como "Importar" e as tangentes como "Calcular o espa√ßo do Mikkts".</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso √© tudo! </font><font style="vertical-align: inherit;">Toda vez que voc√™ obt√©m mapas normais perfeitamente preparados!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/810/be8/3a4810be8abd5ad6cb24fca98ee9e61c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viva! </font><font style="vertical-align: inherit;">O mapa normal perfeito!</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bed/daa/477/beddaa477b105ae87e6dda113381e910.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... com reflex√µes? </font><font style="vertical-align: inherit;">Ahem ..</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bem, o √∫ltimo, n√≥s apenas ignoramos. </font><font style="vertical-align: inherit;">O mais "perfeito" poss√≠vel com formatos de textura compactada com 8 bits por canal. </font><font style="vertical-align: inherit;">Um mapa de pontilhamento normal pode parecer um pouco melhor que listras, mas, infelizmente, poucas ferramentas fornecem essa op√ß√£o. </font><font style="vertical-align: inherit;">Caso contr√°rio, voc√™ pode usar mapas normais de 16 bits. </font><font style="vertical-align: inherit;">Mas este √© um t√≥pico para outro artigo.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saiba mais sobre o MikkTSpace.</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O site semi-oficial do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mikktspace.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> explica bem os principais benef√≠cios do MikkTSpace. Em particular, esse espa√ßo funciona bem tanto para recontar quanto para transferir dados tangentes entre programas com diferentes processos de malha, mantendo a integridade dos resultados. O texto do site √© uma c√≥pia da j√° extinta p√°gina wiki do Blender, escrita pelo pr√≥prio Morten S. Mikkelsen. Infelizmente, ele menciona apenas a vers√£o com tangentes a dois pontos para cada pixel, mas n√£o a vers√£o para cada v√©rtice, o padr√£o usado pelo Unity e xNormal. Como o Blender usa derivadas de tangentes por pixel, √© l√≥gico que apenas elas sejam mencionadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√£o coment√°rios sobre essas duas op√ß√µes do arquivo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mikktspace.h</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> original </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<blockquote>           ,    /.<br>
<br>
<code>bitangent = fSign * cross(vN, tangent);</code><br>
<br>
‚Ä¶<br>
<br>
    (/    )     ,          .<br>
<br>
,   ,       ,    ¬´¬ª  ,       : vT, vB  vN.<br>
<br>
  (  )<br>
<br>
<code>vNout = normalize( vNt.x * vT + vNt.y * vB + vNt.z * vN );</code><br>
<br>
 vNt ‚Äî    .         ¬´¬ª ,       ,    .<br>
<br>
‚Ä¶<br>
<br>
         ,     ,   ,        .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, no exemplo original, a tangente a dois pontos √© recriada no shader de v√©rtice e passada para o shader de pixel como outro valor interpolado. √â assim que os shaders normais do Unity atualmente lidam com mapas normais. Um exemplo de execu√ß√£o dessa tarefa em um pixel shader √© mais um improviso do que um exemplo "principal". Al√©m disso, desde que a implementa√ß√£o do Unity 5.3 (e xNormal?) Foi criada pelo pr√≥prio Morten S. Mikkelsen, e ambos usam tangentes para cada v√©rtice, essa √© outra prova de nossa teoria. Mas o Blender usou tangentes pixel por pixel, e Morten tamb√©m estava envolvido. Provavelmente, de fato, foi apenas uma op√ß√£o que causou pequenas altera√ß√µes nos shaders finais do Unity e, embora para gr√°ficos em tempo real, nenhum dos m√©todos tenha sido considerado muito melhor que o outro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A vantagem da implementa√ß√£o pixel por pixel √© a elimina√ß√£o de dois valores interpolados ao custo de pequenos custos extras para a ALU (matem√°tica do pixel shader). Isso significa que, em vez dos tr√™s valores do vetor3 (tangente, tangente a dois pontos e o normal), precisamos apenas do vetor4 e do vetor3 (tangente com um sinal e normal). Nas GPUs modernas, isso √© um pouco mais r√°pido. E √© </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definitivamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais r√°pido quando executado na CPU, pois pode ser usado para renderizadores n√£o em tempo real. Desse ponto de vista, √© l√≥gico que a maior parte da ind√∫stria decidiu recriar a tangente para dois pontos no pixel, e n√£o no topo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â engra√ßado que, quando escrevi este artigo, o Morten promoveu a transi√ß√£o no Unity SRP para pixel por pixel tangente a dois pontos! </font><font style="vertical-align: inherit;">√â uma m√° sorte que os m√©todos de renderiza√ß√£o internos do Unity tenham um legado de escolhas inconvenientes.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente em diferentes aplica√ß√µes</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Embora este artigo se concentre principalmente no Unity, como hoje esse mecanismo se tornou popular, eu queria que meu estudo fosse mais detalhado. </font><font style="vertical-align: inherit;">Portanto, criei uma lista de v√°rios aplicativos com informa√ß√µes sobre o uso do espa√ßo tangente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unidade (5.3+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para v√©rtices ou pixels * </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por padr√£o, o mecanismo redefine √† for√ßa as tangentes da malha na importa√ß√£o para usar o MikkTSpace. Para usu√°rios avan√ßados, ele tem op√ß√µes para o uso de malha tangente, mas isso n√£o garante a compatibilidade com mapas normais criados em outras ferramentas, especialmente ao usar sombreadores embutidos. Eles podem ser substitu√≠dos por shaders completamente pr√≥prios. E para seus shaders integrados, o HDRP usa tangentes pixel por pixel em dois pontos. No momento da reda√ß√£o deste artigo, planejava-se que os shaders URP e Shader Graph tamb√©m mudassem para tangentes pixel por pixel para dois pontos. Antes do Unity 5.3, o mecanismo usava tangentes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://web.archive.org/web/20160306000702/" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lengyel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que ainda podem ser usadas selecionando a op√ß√£o Legacy Tangents no importador de malha, mas os shaders internos n√£o suportam mais esse espa√ßo tangente.</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al√©m disso: antes do URP 7.2.0, o processamento de mapas normais no Shader Graph era completamente interrompido! </font><font style="vertical-align: inherit;">Nem o MikkTSpace nem o espa√ßo tangente de Lengyel s√£o usados ‚Äã‚Äãcorretamente, e √© imposs√≠vel corrigir isso dentro do Shader Graph. </font><font style="vertical-align: inherit;">Se poss√≠vel, atualize para 7.2.0.</font></font></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor irreal 4</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Direct3D Y- </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes em dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel por pixel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por padr√£o, o mecanismo redefine as tangentes da malha ao importar usando o MikkTSpace. </font><font style="vertical-align: inherit;">Para usu√°rios avan√ßados, h√° op√ß√µes para usar uma malha tangente, mas isso n√£o garante a compatibilidade com mapas normais criados em outras ferramentas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Godot</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada v√©rtice </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se n√£o houver dados tangentes, ele poder√° calcular malhas tangentes no MikkTSpace na importa√ß√£o. </font><font style="vertical-align: inherit;">A documenta√ß√£o do mecanismo sugere a exporta√ß√£o de malhas de malha tangente, mas como a maioria das ferramentas n√£o exporta a malha tangente correta, eu ignoraria essa dica. </font><font style="vertical-align: inherit;">Mesmo se voc√™ usar a malha tangente original, n√£o h√° garantia de que os mapas normais ter√£o a apar√™ncia correta.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Playcanvas</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente: </font></font></strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=http://web.archive.org/web/20160306000702/" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lengyel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sch√ºler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada v√©rtice / com base em derivadas </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fornece v√°rios m√©todos para processar o espa√ßo tangente. As tangentes geradas por c√≥digo n√£o usam MikkTSpace. Possui op√ß√µes para usar uma tangente a dois pontos para cada v√©rtice que normalizam os vetores de espa√ßo tangente no shader de pixel "fastTbn" </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sem normalizar o</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> espa√ßo tangente no shader de fragmento (do qual </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">precisamos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, uma vez que isso corresponde √† implementa√ß√£o do MikkTSpace com um c√°lculo para cada v√©rtice) ou eles usam o TBN baseado em derivado, emprestado de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Christian Schuler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">ignora completamente a tangente da malha e calcula o espa√ßo tangente no pixel shader. </font><font style="vertical-align: inherit;">Agora, por padr√£o, s√£o usados ‚Äã‚Äãmapas normais baseados em derivativos, para os quais, at√© onde eu sei, n√£o existem ferramentas para fazer mapas normais exatos. </font><font style="vertical-align: inherit;">√â poss√≠vel importar malhas com dados normais e tangentes existentes do MikkTSpace e, em seguida, usar a op√ß√£o de material "fastTbn" para corresponder aos m√©todos de renderiza√ß√£o integrados do Unity, mas acredito que isso deve ser feito no c√≥digo, e n√£o na interface do editor.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filamento</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes em dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada v√©rtice </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dependendo do desempenho no futuro, o mecanismo pode ir para tangentes pixel por pixel em dois pontos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ds max</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Direct3D Y- * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√µes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nativas de </font><strong><font style="vertical-align: inherit;">exporta√ß√£o de malha:</font></strong><font style="vertical-align: inherit;"> exporte arquivos FBX com o Triangulate ativado, mas Tangents e Binormals desativados. </font><font style="vertical-align: inherit;">As normais sempre devem ser exportadas. </font><font style="vertical-align: inherit;">As normais divididas por v√©rtice podem ser desativadas. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por padr√£o, o 3ds Max sup√µe que a orienta√ß√£o do Direct3D seja usada em mapas normais, mas tem op√ß√µes para inverter as orienta√ß√µes X e Y ao usar texturas de mapa normais em materiais. </font><font style="vertical-align: inherit;">O cozimento sempre usa a orienta√ß√£o Direct3D. </font><font style="vertical-align: inherit;">O suporte do MikkTSpace aparecer√° em vers√µes futuras.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maya</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√µes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nativas de </font><strong><font style="vertical-align: inherit;">exporta√ß√£o de malha:</font></strong><font style="vertical-align: inherit;"> exporte arquivos FBX com o Triangulate ativado, mas Tangents e Binormals desativados. </font><font style="vertical-align: inherit;">As normais s√£o sempre exportadas. </font><font style="vertical-align: inherit;">As normais divididas por v√©rtice podem ser desativadas. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observa√ß√µes:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> algumas pessoas me disseram que o Maya j√° suporta parcialmente o MikkTSpace, mas n√£o sei at√© que ponto.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liquidificador (2.57+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada pixel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Op√ß√µes de exporta√ß√£o de </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">malha </font></strong><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exporte arquivos FBX com um valor de suaviza√ß√£o de "Somente normais". </font><font style="vertical-align: inherit;">Voc√™ pode exportar com ou sem o Tangent Space se o aplicativo de destino tamb√©m usar o MikkTSpace, como Unity ou Unreal. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas: O</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Blender n√£o possui uma op√ß√£o de triangula√ß√£o ao exportar para o FBX, portanto, use o modificador Triangulate primeiro. </font><font style="vertical-align: inherit;">Os mapas normais criados no Blender n√£o ser√£o 100% compat√≠veis com o Unity, mas se voc√™ virar o canal verde em um aplicativo de terceiros ou em material personalizado, eles funcionar√£o perfeitamente no Unreal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xNormal (3.17.5+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espa√ßo tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> MikkTSpace * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado (para cada v√©rtice ou pixel) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Op√ß√µes para fazer mapas normais:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tem op√ß√µes para inverter os tr√™s eixos do mapa normal durante a exporta√ß√£o. A unidade precisa de X + Y + Z +. Tamb√©m h√° a op√ß√£o de usar tangentes para dois pontos para cada v√©rtice ou pixel (ou seja, fragmento). Por padr√£o, o xNormal usa tangentes para dois pontos para cada v√©rtice, mas isso pode ser alterado no menu Gerenciador de plug-ins (√≠cone do plugue de energia no canto inferior esquerdo) clicando em "Calculadora de base tangente", "Mikk - TSpace" e clicando em Configurar. Uma janela pop-up aparecer√° com a √∫nica op√ß√£o "Computar binormal no pixel shader". Ele deve estar desativado para o Unity e ativado para o Unreal. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora o xNormal suporte apenas o MikkTSpace, seu sistema de plugins suporta teoricamente qualquer espa√ßo tangente. </font><font style="vertical-align: inherit;">At√© agora, o √∫nico plug-in de espa√ßo tangente que conhe√ßo foi projetado para criar o espa√ßo tangente do Unity 4 e j√° √© in√∫til. </font><font style="vertical-align: inherit;">Ou seja, se abordado de forma realista, o aplicativo suporta apenas o MikkTSpace.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pintor de subst√¢ncias</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personaliz√°vel (OpenGL ou Direct3D) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para o MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personaliz√°vel (para v√©rtices ou pixels) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Op√ß√µes de cozimento para mapas normais:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> possui op√ß√µes de cozimento na orienta√ß√£o OpenGL ou Direct3D. E uma op√ß√£o para usar tangentes em dois pontos para cada v√©rtice ou pixel (fragmento), que √© configurado pelo par√¢metro ‚ÄúCalcular espa√ßo tangente por fragmento‚Äù. Ao exportar para m√©todos internos de renderiza√ß√£o do Unity, √© necess√°rio selecionar OpenGL e desativar Computar espa√ßo tangente por fragmento nas op√ß√µes de projeto e exporta√ß√£o, e ao exportar para o Unreal ou Unity HDRP, fa√ßa o oposto. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Pintor de subst√¢ncias, por padr√£o, usa os dados tangentes que a malha importada usa. </font><font style="vertical-align: inherit;">A menos que voc√™ esteja exportando do Blender, voc√™ n√£o precisa disso! </font><font style="vertical-align: inherit;">Mas n√£o h√° op√ß√µes para desativar esse recurso. </font><font style="vertical-align: inherit;">Antes de importar para o Substance Painter, exporte malhas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sem</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tangentes. </font><font style="vertical-align: inherit;">Anteriormente, na documenta√ß√£o da subst√¢ncia, foi afirmado erroneamente que os c√°lculos de tangentes a dois pontos </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
no Blender correspondem ao Unity, mas agora o erro foi corrigido!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maleta de ferramentas Sagui 3</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel por pixel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parece que o programa tem op√ß√µes para visualizar ou criar mapas normais em quase todas as configura√ß√µes existentes. </font><font style="vertical-align: inherit;">Incluindo configura√ß√µes prontas para espa√ßos tangentes 3ds Max e Maya! </font><font style="vertical-align: inherit;">No entanto, a op√ß√£o de espa√ßo tangente ‚ÄúMikk / xNormal‚Äù usa tangentes pixel por pixel em dois pontos, e isso n√£o pode ser alterado. </font><font style="vertical-align: inherit;">Ou seja, o Marmoset Toolbag 3 n√£o pode exibir ou criar corretamente mapas normais para os m√©todos internos de renderiza√ß√£o do Unity. </font><font style="vertical-align: inherit;">Talvez em vers√µes futuras a situa√ß√£o mude, porque os desenvolvedores est√£o cientes do problema.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3DCoat</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espa√ßo tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> personalizado </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :? </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Possui muitas op√ß√µes para visualizar e criar mapas normais. </font><font style="vertical-align: inherit;">√â perfeitamente capaz de combinar o Blender e o UE4, portanto, suporta tangentes pixel por pixel em dois pontos, mas n√£o sei se tangentes de v√©rtice a dois pontos s√£o usadas na predefini√ß√£o do Unity.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Houdini (16.0.514+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personaliz√°vel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personaliz√°vel * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para o MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel por pixel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suporta sua pr√≥pria base de tangentes ou MikkTSpace, tanto para visualiza√ß√£o quanto para cozimento, mas apenas na vers√£o pixel por pixel. </font><font style="vertical-align: inherit;">Parece que, por padr√£o, ele n√£o usa o MikkTSpace para renderiza√ß√£o, mas come√ßando com o Houdini 17.5. </font><font style="vertical-align: inherit;">As malhas podem ser modificadas com n√≥s internos para usar o MikkTSpace tangente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modo (10+?)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espa√ßo tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> personalizado </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes de dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado (v√©rtice ou pixel por pixel) * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observa√ß√µes:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parece que suporta renderiza√ß√£o e cozimento em diferentes espa√ßos tangentes, bem como a op√ß√£o de tangentes pixel por pixel para dois pontos para exporta√ß√£o. </font><font style="vertical-align: inherit;">Eu n√£o testei isso.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knald</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orienta√ß√£o: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espa√ßo tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dois pontos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel por pixel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas: ele</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usa o MikkTSpace por padr√£o e redefine as tangentes das malhas importadas, mas, se necess√°rio, existe uma op√ß√£o para usar malhas tangentes existentes. </font><font style="vertical-align: inherit;">A orienta√ß√£o dos mapas normais pode ser invertida com um par√¢metro que se aplica a todo o projeto.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um aspecto importante √© que, se o modelo de baixo poli no qual voc√™ assa √© apenas um plano (por exemplo, para textura lado a lado), tudo o que √© escrito √© inconseq√ºente e voc√™ pode assar usando qualquer ferramenta ... se voc√™ mantiver tudo na orienta√ß√£o correta ou depois, inverta os canais de textura correspondentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, a maioria dos problemas listados no artigo √© percept√≠vel apenas em modelos s√≥lidos. </font><font style="vertical-align: inherit;">As formas org√¢nicas podem ocultar as diferen√ßas mais sutis, por exemplo, a diferen√ßa entre v√©rtices e pixels por tangentes de pixel em dois pontos.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt487920/index.html">Sobrecarga em C ++. Parte I. Sobrecarregando Fun√ß√µes e Modelos</a></li>
<li><a href="../pt487922/index.html">Aprendendo a implantar microsservi√ßos. Parte 1. Spring Boot e Docker</a></li>
<li><a href="../pt487924/index.html">Kim Dotcom: Caught, a pessoa mais procurada online. Parte 3</a></li>
<li><a href="../pt487926/index.html">Em busca de educa√ß√£o f√≠sica</a></li>
<li><a href="../pt487930/index.html">Palestra noite eu quero gamedev</a></li>
<li><a href="../pt487934/index.html">Como otimizamos nosso servidor DNS usando as ferramentas GO</a></li>
<li><a href="../pt487938/index.html">Apresentando effector-dom usando a lista de tarefas de exemplo</a></li>
<li><a href="../pt487940/index.html">Computa√ß√£o reproduz√≠vel em R. Como separar c√≥digo e dados?</a></li>
<li><a href="../pt487944/index.html">Aprendizado de m√°quina no setor de energia, ou nem todos podem assistir amanh√£</a></li>
<li><a href="../pt487948/index.html">Autentica√ß√£o de dois fatores no OpenVPN com Telegram bot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>