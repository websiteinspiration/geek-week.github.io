<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§≤ ‚òÑÔ∏è ‚úçüèª Modularit√© en Java 9 üöñ üì† üêã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La principale innovation de Java 9 a √©t√© l'introduction de la modularit√©. Il y a eu beaucoup de discussions sur cette fonctionnalit√©, la date de sorti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Modularit√© en Java 9</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499872/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La principale innovation de Java 9 a √©t√© l'introduction de la modularit√©. </font><font style="vertical-align: inherit;">Il y a eu beaucoup de discussions sur cette fonctionnalit√©, la date de sortie a √©t√© report√©e plusieurs fois pour tout finir correctement. </font><font style="vertical-align: inherit;">Dans cet article, nous parlerons de ce qui donne le m√©canisme des modules et de l'utilit√© de Java 9 en g√©n√©ral. </font><font style="vertical-align: inherit;">La base de ce poste √©tait le rapport de mon coll√®gue </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sergei Malkevich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br>
<img src="https://habrastorage.org/webt/iw/pu/7t/iwpu7tdtfukrgul-dx7psz6r2ia.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour impl√©menter les modules dans cette version de Java, un projet entier a √©t√© allou√© - Project Jigsaw - qui comprend plusieurs JEP et JSR. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/w1/gx/yrw1gxgxxkoogldzhbojsyfdddc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les fans de documentation officielle, vous pouvez en savoir plus sur chaque JEP </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus sur Project Jigsaw</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet Jigsaw, qui met en ≈ìuvre la modularit√©, a commenc√© √† √™tre d√©velopp√© en 2005: le premier JSR 277 a √©t√© publi√©, et d√©j√† en 2008, le travail direct sur le projet a commenc√©. </font><font style="vertical-align: inherit;">La lib√©ration n'a eu lieu qu'en 2017. </font><font style="vertical-align: inherit;">Autrement dit, pour visser les modules en Java, il a fallu pr√®s de 10 ans. </font><font style="vertical-align: inherit;">Ce qui, en fait, met l'accent sur la pleine √©chelle du travail et les changements qui ont √©t√© apport√©s lors de la mise en ≈ìuvre de la modularit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quels sont les objectifs fix√©s par les d√©veloppeurs:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faciliter le d√©veloppement de grandes applications et biblioth√®ques;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Am√©liorer la s√©curit√© de Java SE en g√©n√©ral et de JDK en particulier;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">augmenter les performances des applications;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cr√©er la possibilit√© de r√©duire la taille du JRE pour qu'il s'ex√©cute sur de petits appareils afin de ne pas consommer trop de m√©moire;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JAR HELL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (plus √† ce sujet plus tard).</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quel Java 9 utile</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant la version 9, JDK et JRE √©taient monolithiques. </font><font style="vertical-align: inherit;">Leur taille augmentait √† chaque sortie. </font><font style="vertical-align: inherit;">Java 8 occupait d√©j√† des centaines de m√©gaoctets, et tout cela, les d√©veloppeurs devaient ¬´l'emporter avec eux¬ª √† chaque fois pour pouvoir ex√©cuter des applications Java. </font><font style="vertical-align: inherit;">Seul </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rt.jar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p√®se √† lui </font><i><font style="vertical-align: inherit;">seul</font></i><font style="vertical-align: inherit;"> environ 60 Mo. </font><font style="vertical-align: inherit;">Eh bien, ici, nous ajoutons √©galement un d√©marrage lent et une consommation de m√©moire √©lev√©e. </font><font style="vertical-align: inherit;">Java 9 est venu √† la rescousse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la s√©paration des modules a √©t√© introduite, √† savoir, le JDK a √©t√© divis√© en 73 modules. </font><font style="vertical-align: inherit;">Et √† chaque nouvelle version, le nombre de ces modules augmente. </font><font style="vertical-align: inherit;">Dans la version 11, ce nombre est proche de 100. Cette s√©paration a permis aux d√©veloppeurs de cr√©er l'utilitaire JLINK. </font><font style="vertical-align: inherit;">√Ä l'aide de JLINK, vous pouvez cr√©er des ensembles JRE personnalis√©s qui n'incluront que les modules ¬´n√©cessaires¬ª dont votre application a r√©ellement besoin. </font><font style="vertical-align: inherit;">Ainsi, une application simple et certains </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">customJRE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec un ensemble minimal (ou petit) de modules peuvent √©ventuellement tenir dans 20 Mo, ce qui est une bonne nouvelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La liste des modules se trouve </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec l'av√®nement de Java 9, la structure JDK a chang√©: elle est d√©sormais identique √† la structure JRE. </font><font style="vertical-align: inherit;">Si auparavant le JDK incluait le dossier JRE, o√π bin est √† nouveau et les fichiers sont dupliqu√©s, maintenant tout ressemble √† ceci:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/du/9w/mn/du9wmn9grm8tmssx5qldnicxrci.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modules</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©ellement. Qu'est-ce qu'un module? Un module est un nouveau niveau d'agr√©gation de packages et de ressources (orig. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Un groupe unique et r√©utilisable de packages li√©s, ainsi que des ressources et un descripteur de module"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les modules sont livr√©s dans des fichiers JAR avec des packages et un descripteur de module </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-info.java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-info.java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contient une description du module: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nom, d√©pendances, packages export√©s, services consomm√©s et fournis, autorisations d'acc√®s √† la r√©flexion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemples de descriptions de descripteurs de module:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> java.sql {
    <span class="hljs-keyword">requires</span> transitive java.logging;
    <span class="hljs-keyword">requires</span> transitive java.transaction.xa;
    <span class="hljs-keyword">requires</span> transitive java.xml;<font></font>
<font></font>
    <span class="hljs-keyword">exports</span> java.sql;
    <span class="hljs-keyword">exports</span> javax.sql;<font></font>
<font></font>
    uses java.sql.Driver;<font></font>
}</code></pre><br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> jdk.javadoc {
   <span class="hljs-keyword">requires</span> java.xml;<font></font>
   <font></font>
   <span class="hljs-keyword">requires</span> transitive java.compiler;
   <span class="hljs-keyword">requires</span> transitive jdk.compiler;<font></font>
   <font></font>
   <span class="hljs-keyword">exports</span> jdk.javadoc.doclet;<font></font>
   <font></font>
   provides java.util.spi.ToolProvider with<font></font>
       jdk.javadoc.internal.tool.JavadocToolProvider;<font></font>
   <font></font>
   provides javax.tools.DocumentationTool with<font></font>
       jdk.javadoc.internal.api.JavadocTool;<font></font>
   <font></font>
   provides javax.tools.Tool with<font></font>
      jdk.javadoc.internal.api.JavadocTool;   <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s le module de mots-cl√©s, nous avons le nom du package </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jdk.javadoc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui d√©pend d'un autre package </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">java.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et d√©pend de mani√®re transitoire d'autres packages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons de plus pr√®s chacun des mots cl√©s:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">require</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique les modules dont d√©pend le module actuel;</font></font></li>
</ul><br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√©cessite transitif</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une d√©pendance transitive - signifie ce qui suit: si le module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m1 est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> transitoirement d√©pendant du module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et que nous avons un troisi√®me module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mX</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui d√©pend de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le module </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mX aura √©galement acc√®s √† m2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
</ul><br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requiert statique</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous permet de sp√©cifier les d√©pendances au moment de la compilation;</font></font></li>
</ul><br>
<ul>
<li><i>exports</i>  ,     (  ‚Äú‚Äù);</li>
</ul><br>
<ul>
<li><i>exports...to‚Ä¶</i>   : <i>export com.my.package.name to com.specific.package</i>;            - () ()  ;</li>
</ul><br>
<ul>
<li><i>uses</i> ,    :<br>
 <br>
<pre><code class="java hljs">uses java.sql.Driver;</code></pre><br>
   ,     ;</li>
</ul><br>
<ul>
<li><i>provides</i> ,    :<br>
 <br>
<pre><code class="java hljs">provides javax.tools.Tool with<font></font>
    jdk.javadoc.internal.api.JavadocTool;</code></pre><br>
    ‚Äî <i>javax.tools.Tool</i>,  with ‚Äî .</li>
</ul><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu sur les services.</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Disons que nous avons plusieurs modules connect√©s qui impl√©mentent un service abstrait - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MyService</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Lors de la cr√©ation de l'application, nous avons la possibilit√© de d√©cider quelle impl√©mentation de service utiliser en ¬´faisant glisser¬ª les modules d'impl√©mentation de service requis vers </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs">Iterable&lt;MyService&gt; services = <font></font>
        ServiceLoader.load(MyService.class);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, l'it√©rateur renvoy√© contient une liste d'impl√©mentations de l'interface MyService. En fait, il contiendra toutes les impl√©mentations trouv√©es dans les modules trouv√©s sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi, en principe, les services ont-ils √©t√© introduits? Ils sont n√©cessaires pour montrer comment notre code sera utilis√©. Autrement dit, il y a un r√¥le s√©mantique. De plus, la modularit√© concerne l'encapsulation et la s√©curit√©, car nous pouvons rendre l'impl√©mentation priv√©e et exclure la possibilit√© d'acc√®s non autoris√© par r√©flexion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, l'une des options d'utilisation des services est une impl√©mentation assez simple des plugins. Nous pouvons impl√©menter l'interface de plugin pour notre application et connecter des modules pour travailler avec eux. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Revenons √† la syntaxe de description des modules:</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jusqu'√† 9ki, par r√©flexion, nous avions acc√®s √† presque tout et pouvions faire ce que nous voulions et avec ce que nous voulions. </font><font style="vertical-align: inherit;">Et la 9√®me version, comme d√©j√† mentionn√©, vous permet de vous prot√©ger contre l'acc√®s "ill√©gal" √† la r√©flexion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons ouvrir compl√®tement le module pour l'acc√®s √† la r√©flexion en d√©clarant </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ouvert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs">open <span class="hljs-keyword">module</span> my.<span class="hljs-keyword">module</span> {<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou, nous pouvons sp√©cifier tous les packages pour l'acc√®s √† la r√©flexion en d√©clarant </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opens</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> my.<span class="hljs-keyword">module</span> {<font></font>
    opens com.my.coolpackage;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici , </font><font style="vertical-align: inherit;">il est √©galement possible d'utiliser </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ouvre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com.my.coolpackage </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√†</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donnant ainsi acc√®s √† la r√©flexion </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.my.coolpackage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ensemble </font><font style="vertical-align: inherit;">du paquet que nous indiquerons apr√®s </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√†</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types de modules</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Project Jigsaw classe les modules comme suit:</font></font><br>
<br>
<ul>
<li>System Modules ‚Äî Java SE  JDK .    ,   <i>java --list-modules</i>.</li>
</ul><br>
<ul>
<li>Application Modules ‚Äî   ,   ,     (  ),    .</li>
</ul><br>
<ul>
<li>Automatic Modules ‚Äî     ,  Java   JAR-. ,        ,    - .      JAR-  <i>--module-path</i>  Java     ,    JAR-. </li>
</ul><br>
<ul>
<li>Unnamed Module ‚Äî  ,     JAR-,    <i>--class-path</i>.           Java .</li>
</ul><br>
<h3>Class-path vs module-path</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec l'av√®nement des modules, un nouveau concept est apparu - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En substance, c'est le m√™me </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chemin de classe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais pour les modules. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le lancement d'une application modulaire est le suivant: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/vp/0z/hhvp0zd-py0ds1onano6l8kj0lw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mode de lancement normal, nous sp√©cifions les options et le chemin complet vers la classe principale. Dans le cas o√π nous voulons travailler avec des modules, nous sp√©cifions √©galement des options et le param√®tre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-m</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-module</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui indique simplement que nous ex√©cuterons les modules. Autrement dit, nous traduisons automatiquement notre application en mode modulaire. Ensuite, nous indiquons le nom du module et le chemin d'acc√®s √† la classe principale √† partir du module. En </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
outre, si en mode normal , </font><font style="vertical-align: inherit;">nous sommes habitu√©s √† travailler avec les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-CP</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">options --class-chemin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en mode modulaire, nous prescrivons un nouveau param√®tre </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui indique les chemins vers les modules utilis√©s dans l'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Souvent, je rencontre le fait que les d√©veloppeurs ne passent pas √† la version 9+, car ils pensent qu'ils devront travailler avec des modules. </font><font style="vertical-align: inherit;">Bien qu'en fait, nous pouvons ex√©cuter nos applications dans l'ancien mode, simplement sans √©crire de param√®tre ni utiliser de modules, mais en utilisant uniquement d'autres nouvelles puces.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enfer de pot</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je veux √©galement m'attarder en diagonale sur le probl√®me de Jar Hell. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cs/bv/rq/csbvrqh03ughwg3yvyelzm5_irk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que Jar Hell en bref? Par exemple, nous avons une sorte de notre application et cela d√©pend de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la X </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®que</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font><b><font style="vertical-align: inherit;">la biblioth√®que Y</font></b><font style="vertical-align: inherit;"> . En m√™me temps, ces deux biblioth√®ques d√©pendent de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioth√®que Z</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais de versions diff√©rentes: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©pend de la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">version 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Eh bien, si la version 2 est r√©trocompatible avec la version 1, aucun probl√®me. Et sinon, il est √©vident que nous obtenons un conflit de version, c'est-√†-dire que la m√™me biblioth√®que ne peut pas √™tre charg√©e en m√©moire par le m√™me chargeur de classe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment sortez-vous de cette situation? Il existe des m√©thodes standard que les d√©veloppeurs utilisent depuis le tout premier Java, par exemple, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exclure</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , quelqu'un utilise des plugins pour Maven, qui renomment les noms des packages racine de la biblioth√®que. Ou, les d√©veloppeurs recherchent diff√©rentes versions de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioth√®que X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour trouver une option compatible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi suis-je: les premiers prototypes de Jigsaw impliquaient que le module avait une version et permettait le chargement de plusieurs versions via diff√©rents ClassLoaders, mais plus tard il a √©t√© abandonn√©. En cons√©quence, la ¬´balle d'argent¬ª, que beaucoup attendaient, n'a pas fonctionn√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais, d√®s la sortie de la bo√Æte, nous √©tions un peu √† l'abri de ces probl√®mes. Java 9 d√©sactive les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">packages fractionn√©s</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- packages divis√©s en plusieurs modules. Autrement dit, si nous avons le package </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.my.coolpackage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un module, nous ne pouvons pas l'utiliser dans un autre module au sein de la m√™me application. Lorsque vous d√©marrez l'application avec des modules contenant les m√™mes packages, nous plantons simplement. Cette petite am√©lioration √©limine la possibilit√© d'un comportement impr√©visible lors du t√©l√©chargement de packages Split. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, en plus des modules eux-m√™mes, il existe √©galement un m√©canisme de couche ou </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">couches de scie sauteuse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui aide √©galement √† faire face au probl√®me de l'enfer des pots.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une couche de scie sauteuse peut √™tre d√©finie comme un syst√®me modulaire local. </font><font style="vertical-align: inherit;">Et ici, il convient de noter que les packages Split mentionn√©s ci-dessus ne sont interdits que dans le cadre d'une couche Jigsaw. </font><font style="vertical-align: inherit;">Les modules avec les m√™mes packages ont leur place, mais ils doivent appartenir √† diff√©rentes couches. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela ressemble √† ceci: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mw/cu/s6/mwcus6cggzhadfiihrbo1olk2nw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque l'application d√©marre, une couche de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©marrage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est cr√©√©e </font><font style="vertical-align: inherit;">, qui comprend des modules de plateforme charg√©s par Bootstrap, des modules de plateforme suppl√©mentaires charg√©s par le chargeur de plateforme et nos modules d'application charg√©s par le chargeur d'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tout moment, nous pouvons y cr√©er nos propres couches et ¬´mettre¬ª des modules de diff√©rentes versions et ne pas tomber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a une excellente discussion d√©taill√©e sur YouTube sur le sujet: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âchapper √† l'enfer des pots avec des couches de puzzle</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moteur de module de Java 9 nous ouvre de nouvelles possibilit√©s, alors que le support des biblioth√®ques est assez faible aujourd'hui. </font><font style="vertical-align: inherit;">Oui, les gens ex√©cutent Spring, Spring Boot et ainsi de suite. </font><font style="vertical-align: inherit;">Mais la plupart des biblioth√®ques ne sont pas pass√©es √† la pleine utilisation des modules. </font><font style="vertical-align: inherit;">Apparemment, tous ces changements ont donc √©t√© per√ßus de mani√®re plut√¥t sceptique par la communaut√© technique. </font><font style="vertical-align: inherit;">Les modules nous offrent de nouvelles opportunit√©s, mais la question de la demande reste ouverte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et enfin, je propose une s√©lection de documents sur ce sujet: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project Jigsaw </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK Module Summary </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paul Deitel - Comprendre les modules Java 9 </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">baeldung.com - Introduction to Project Jigsaw </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alex Buckley - D√©veloppement modulaire avec JDK 9 </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evgeny Kozlov - Modules en Java</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr499850/index.html">Comment analyser les concurrents et mettre en place une strat√©gie digitale en 40 minutes</a></li>
<li><a href="../fr499852/index.html">Documentation en anglais pour Angular</a></li>
<li><a href="../fr499854/index.html">Apache Bigtop et le choix de la distribution Hadoop aujourd'hui</a></li>
<li><a href="../fr499858/index.html">Que faire le week-end: un aper√ßu de certains jeux de soci√©t√© pour ceux qui en ont assez des √©crans bleus</a></li>
<li><a href="../fr499870/index.html">Pylint: un test d√©taill√© de l'analyseur de code</a></li>
<li><a href="../fr499874/index.html">D√©tection de toux sur Intel NUC</a></li>
<li><a href="../fr499876/index.html">Top 5 des livres classiques pour am√©liorer la litt√©ratie financi√®re et pr√©parer les premi√®res √©tapes de l'√©change</a></li>
<li><a href="../fr499878/index.html">La lutte pour des millisecondes. Comment choisir le serveur avec le moins de ping</a></li>
<li><a href="../fr499882/index.html">Comment nous s√©lectionnons les concepteurs et r√©alisons des entretiens techniques</a></li>
<li><a href="../fr499884/index.html">11 choses que j'ai comprises sur CustDev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>