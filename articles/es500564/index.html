<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🎓 🍉 📝 Transacciones fuera de línea en transporte público - seguridad y antifraude 👨🏽‍🎤 👨🏾‍🤝‍👨🏼 🍉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Y no ha pasado un día, ya que estoy escribiendo un nuevo artículo, que también está relacionado con la tecnología NFC. A saber: transacciones fuera de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Transacciones fuera de línea en transporte público - seguridad y antifraude</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500564/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y no ha pasado un día, ya que estoy escribiendo un nuevo artículo, que también está relacionado con la tecnología NFC. A saber: transacciones fuera de línea en el transporte público, por qué y cuáles son las ventajas y desventajas de los pasajeros y transportistas que transporta. Hace unos cinco años, varios escándalos relacionados con el pirateo de tarjetas de Troika en Moscú hicieron ruido. Luego, los piratas informáticos necesitaban obtener las claves para acceder al contenido de las tarjetas Mifare 1K y similares, así como un software bastante específico para trabajar con ellas. Al mismo tiempo, la probabilidad de ser detectado era bastante alta: las tarjetas con inconsistencias en el contenido y el servidor de Troika se enviaron rápidamente a la lista de detención, y al intentar pasar por dicha tarjeta, el torniquete emitió un grito penetrante, atrayendo la atención. ¿Qué cambió cuando los terminales comenzaron a admitir tarjetas bancarias?</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/up/59/xi/up59xi-eljbjnmjuvc9a2uj34yq.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta es exactamente la imagen cuando se puede pagar la tarifa en algunas grandes ciudades. </font><font style="vertical-align: inherit;">Los nuevos terminales pueden funcionar tanto con tarjetas Mifare antiguas como con tarjetas EMV sin contacto. </font><font style="vertical-align: inherit;">¿Es necesario decir que a pesar de los escándalos que han estallado, las vulnerabilidades del viejo Mifare no han desaparecido? </font><font style="vertical-align: inherit;">Pero en este artículo, hablaremos sobre las vulnerabilidades que trae el soporte de EMV.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Advertencia para marginados, delincuentes y hackers de todas las franjas:</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descrito a continuación es puramente informativo y de naturaleza informativa. </font><font style="vertical-align: inherit;">Entiendo que, por algunas razones subjetivas, esta advertencia no detendrá a algunos lectores, pero aún así recuerdo: ¡hay artículos del Código Penal de la Federación Rusa No. 159 y No. 272!</font></font></b><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poco de teoría</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EMV (Europay Mastercard Visa)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : un estándar que describe el comportamiento de un chip de tarjeta de pago en varios escenarios para garantizar la mayor seguridad de pago posible. </font><font style="vertical-align: inherit;">Puedes leer más sobre esto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aquí</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en una publicación respetada</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexgre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Solo nos interesa el hecho de que en algunos casos el protocolo permite transacciones fuera de línea, es decir, la operación que la tarjeta y el terminal realizan exclusivamente entre ellos, y la información de la transacción se transmite al banco adquirente más tarde. La ventaja de este enfoque es, sin duda, que esta solución es ideal para condiciones donde no hay conexión, o la conexión es inestable, como el mismo bus, por ejemplo. El signo negativo se deduce del nombre: el terminal no puede verificar la disponibilidad de fondos en la tarjeta, así como el estado de la tarjeta en sí. El banco solo podrá confirmar o denegar cancelaciones para una transacción específica durante la sincronización. ¿Qué sucede si le muestra al conductor una tarjeta en blanco o bloqueada? Pero no pasará nada.Usando comandos APDU básicos, el terminal le preguntará a la tarjeta su fecha de vencimiento y la comparará con la hora del sistema; si no ha expirado, le pedirá a la tarjeta su PAN; este es el mismo número de tarjeta estampado en ella. Una vez guardados estos datos, a discreción de TRM (Terminal Risk Management, Terminal Risk Management), el terminal transferirá un número aleatorio a la tarjeta, lo codifica y lo firma con su clave, el terminal guarda el número original y la respuesta de la tarjeta, para que luego pueda transferirse al banco. Después de realizar estas operaciones, el terminal envía un comando para finalizar la conexión a la tarjeta y finaliza la conexión imprimiendo un ticket de cheque. Más tarde, el terminal no podrá cancelar el dinero de esta tarjeta (la tarjeta PAN se envía a la lista de paradas) hasta que se cancele la deuda, esta tarjeta no será aceptada en ningún autobús. Un sistema ideal, ¿no? Parece que hay vulnerabilidades,no hay regalos, todos pagan por todo al final. Todo habría permanecido igual, si no fuera por un gran "Pero" ... o unos pocos.</font></font><br>
<br>
<h3>Apple/Samsung/Google Pay — </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y el 9 de septiembre de 2014, Apple presentó un nuevo método de pago sin contacto sobre la infraestructura existente. Apple Pay se ha centrado en la simplicidad, la velocidad y la privacidad. La interfaz intuitiva de Wallet proporcionó simplicidad (y proporciona), y la tokenización garantiza la privacidad. Al agregar una tarjeta a Wallet, un sistema de pago (como Mastercard o Visa) genera un token. El token es un PAN, pero no el que está eliminado en la tarjeta que se está agregando, sino su equivalente en el sistema de pago. A partir de ahora, el sistema de pago considerará las solicitudes de terminal POS para este PAN virtual como si fuera un número de tarjeta física. Con este enfoque, incluso un terminal potencialmente comprometido no ve el número real de la tarjeta: el token solo se puede usar para pagos en terminales POS, en otros casos es inútil.Más tarde, Samsung Pay y Google Pay (anteriormente Android Pay) comenzaron a funcionar con el mismo principio.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fichas en transacciones fuera de línea</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si. </font><font style="vertical-align: inherit;">Un dispositivo sin contacto aquí equivale a una tarjeta física. </font><font style="vertical-align: inherit;">Y en caso de un error de pago, la terminal en el autobús colocará de forma pedante el PAN en la lista de paradas. </font><font style="vertical-align: inherit;">¡La justicia ha triunfado! </font><font style="vertical-align: inherit;">Solo que ... ¡PAN es efímero! </font><font style="vertical-align: inherit;">Cada vez que agrega una tarjeta a un dispositivo móvil, el token será diferente. </font><font style="vertical-align: inherit;">En consecuencia, agregamos la tarjeta al dispositivo y salimos de la lista de paradas sin pagar un centavo. </font><font style="vertical-align: inherit;">Repita si es necesario. </font><font style="vertical-align: inherit;">Por lo tanto, para reproducir este ataque, cualquier dispositivo capaz de realizar pagos sin contacto es adecuado. </font><font style="vertical-align: inherit;">Eso es el 90 por ciento de todos los teléfonos con NFC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Como pelear?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fuera de línea, de ninguna manera. </font><font style="vertical-align: inherit;">Absolutamente. </font><font style="vertical-align: inherit;">No hay forma de determinar si un token pertenece a alguna cuenta. </font><font style="vertical-align: inherit;">Por lo tanto, necesitamos terminales que puedan desconectarse solo cuando sea necesario y permanecer en línea el mayor tiempo posible. </font><font style="vertical-align: inherit;">Entiendo que la suma de riesgos es pequeña, pero la vulnerabilidad es tan fácil de operar que todos pueden aprovecharla. </font><font style="vertical-align: inherit;">Puede solucionar la situación: hay validadores especializados para el transporte público.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipo de tal.</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/ov/1t/wl/ov1twljnqkirfa91bajgeyo8igk.jpeg" alt="image"><br>
     ,      .       .<br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cuáles son los hallazgos?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las innovaciones apresuradas no siempre serán seguras y confiables. </font><font style="vertical-align: inherit;">Al igual que con el sistema de transporte, las viejas vulnerabilidades aún no se han corregido, pero ya han traído nuevas y fáciles de explotar. </font><font style="vertical-align: inherit;">Y las muletas son malas. </font><font style="vertical-align: inherit;">Espero que mi pequeña investigación ayude a algunas compañías de transporte a repensar sus prioridades.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500552/index.html">Cómo acelerar la revisión de código</a></li>
<li><a href="../es500554/index.html">Plantilla de servidor back-end de Golang - parte 2 (API REST)</a></li>
<li><a href="../es500556/index.html">Dos años de transformación digital en dos meses.</a></li>
<li><a href="../es500558/index.html">Una selección de artículos sobre aprendizaje automático: estudios de casos, guías e investigaciones para abril de 2020</a></li>
<li><a href="../es500562/index.html">Formar patrones de diseño. Reseña del libro</a></li>
<li><a href="../es500568/index.html">Simulación espacial simple usando Python y Box2D</a></li>
<li><a href="../es500572/index.html">Spring MVC: diseño de sitios web y servicios RESTful</a></li>
<li><a href="../es500574/index.html">Análisis completo de la primera parte del examen en SHAD 2020</a></li>
<li><a href="../es500576/index.html">Interpolación y discretización, ¿por qué son necesarias para la conversión de imagen proyectiva?</a></li>
<li><a href="../es500578/index.html">El único que importa (Parte 4 de la Guía de inicio de Mark Andriessen, 2007)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>