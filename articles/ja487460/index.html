<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥕 👨🏽‍🎤 👍🏿 Delta：データ同期および強化プラットフォーム 🖖🏿 👨🏿‍🎨 🐻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="データエンジニアコースでの新しいストリームの立ち上げを見越して、興味深い資料の翻訳を準備しました。
 
 
 
 
 
 概観
 アプリケーションが複数のデータストアを使用するかなり一般的なパターンについて説明します。各ストアは、独自の目的で使用されます。たとえば、正規形式のデータ（MySQLなど）...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Delta：データ同期および強化プラットフォーム</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/487460/"><i><b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データエンジニア</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースでの新しいストリームの立ち上げを見越して、</font><font style="vertical-align: inherit;">興味深い資料の翻訳</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">を</font></a><font style="vertical-align: inherit;">準備しました。</font></font><br>
</b></i><br>
<br>
<img src="https://habrastorage.org/webt/pg/_y/c6/pg_yc6ttjvtbnkh2-rhe_eq1dnw.png"><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概観</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 アプリケーションが複数のデータストアを使用するかなり一般的なパターンについて説明します。各ストアは、独自の目的で使用されます。たとえば、正規形式のデータ（MySQLなど）を格納し、高度な検索機能（ElasticSearchなど）を提供します。 。）、キャッシング（Memcachedなど）など。通常、複数のデータストレージを使用する場合、そのうちの1つは主ストレージとして機能し、もう1つは派生ストレージとして機能します。唯一の問題は、これらのデータストアを同期する方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複式エントリー、分散トランザクションなど、複数のリポジトリーの同期の問題を解決しようとするさまざまなパターンを調べました。</font><font style="vertical-align: inherit;">ただし、これらのアプローチには、実際の使用、信頼性、メンテナンスの面で大きな制限があります。</font><font style="vertical-align: inherit;">一部のアプリケーションでは、データ同期に加えて、外部サービスを呼び出してデータを充実させる必要があります。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの問題を解決するために、Deltaが開発されました。</font><font style="vertical-align: inherit;">Deltaは、最終的には、データを同期および強化するための一貫したイベント駆動型プラットフォームです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既存のソリューション</font></font></h3><br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダブルエントリー</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2つのデータストアを同期するには、1つのストアに書き込み、すぐに別のストアに書き込む二重記録を使用できます。最初のレコードを繰り返すことができ、試行回数を使い果たした後で最初のレコードが失敗した場合、2番目のレコードを中断できます。ただし、2番目のストアへの書き込みが失敗した場合、2つのデータストアが同期を停止することがあります。通常、この問題は、最初のストレージから2番目のストレージに定期的にデータを再転送できる回復手順を作成するか、データに違いが見つかった場合にのみこれを実行することで解決されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回復手順の実行は、再利用できない特定のジョブです。</font><font style="vertical-align: inherit;">また、ストレージ間のデータは、リカバリ手順が完了するまで同期されません。</font><font style="vertical-align: inherit;">3つ以上のデータストアを使用する場合、ソリューションは複雑になります。</font><font style="vertical-align: inherit;">最後に、回復手順は、元のデータソースにストレスを加える可能性があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログテーブルの変更</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 一連のテーブルで変更が発生すると（レコードの挿入、更新、削除など）、変更トランザクションは同じトランザクションの一部としてログテーブルに追加されます。すべてのストレージでレコードを確認した後でログテーブルからイベントを削除する必要が生じた場合、別のスレッドまたはプロセスが常にログテーブルにイベントを要求し、それらを1つ以上のデータストレージに書き込みます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このパターンは、ライブラリとして、理想的にはそれを使用するアプリケーションコードを変更せずに実装する必要があります。ポリグロット環境では、このようなライブラリーの実装は必要な言語で存在する必要がありますが、言語間の機能と動作の調整を確実にすることは非常に困難です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の問題は、MySQLなどのトランザクションスキーマ変更[1] [2]をサポートしないシステムでのスキーマ変更の取得にあります。</font><font style="vertical-align: inherit;">そのため、変更（スキームの変更など）を行い、トランザクションログに変更ログのテーブルに書き込むためのテンプレートは、常に機能するとは限りません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散トランザクション</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 分散トランザクションを使用して、トランザクションを複数の異種データストレージ間で分割し、使用されるすべてのストアで操作がコミットされるか、いずれのストアでもコミットされないようにすることができます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分散トランザクションは、異種データウェアハウスにとって非常に大きな問題です。</font><font style="vertical-align: inherit;">その性質上、関係するシステムの最小公分母にのみ依存できます。</font><font style="vertical-align: inherit;">たとえば、準備プロセス中に障害が発生した場合、XAトランザクションは実行をブロックします。</font><font style="vertical-align: inherit;">さらに、XAはデッドロック検出を提供せず、オプティミスティック並行性管理スキームをサポートしません。</font><font style="vertical-align: inherit;">さらに、ElasticSearchのような一部のシステムは、XAまたはその他の異種トランザクションモデルをサポートしていません。</font><font style="vertical-align: inherit;">したがって、さまざまなデータストレージテクノロジーでの記録の原子性を保証することは、アプリケーションにとって非常に困難な作業です[3]。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デルタ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Deltaは、既存のデータ同期ソリューションの制限に対処するように設計されており、その場でデータを充実させます。私たちの目標は、これらすべての複雑な点をアプリケーション開発者から抽象化して、ビジネス機能の実装に完全に集中できるようにすることでした。次に、NetflixのDeltaの実際の使用例である「映画検索」について説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Netflixはマイクロサービスアーキテクチャを広範囲に使用し、各マイクロサービスは通常、1つのタイプのデータを提供します。映画に関する主な情報はMovie Serviceと呼ばれるマイクロサービスで取り出され、プロデューサー、俳優、ベンダーなどに関する情報などの関連データは、他のいくつかのマイクロサービス（つまり、Deal Service、Talent Service、Vendor Service）によって管理されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Netflix Studiosのビジネスユーザーは、映画のさまざまな基準で検索する必要があることが多いため、映画に関連するすべてのデータを検索できることが非常に重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta以前は、映画検索チームは映画データにインデックスを付ける前に、いくつかのマイクロサービスからデータを取得する必要がありました。さらに、チームは検索インデックスを定期的に更新し、変更がまったくない場合でも他のマイクロサービスからの変更を要求するシステムを開発する必要がありました。このシステムはすぐに複雑になり、保守が困難になりました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tc/kb/t9/tckbt9vwkwiqmilkt4y18gjqbjs.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1. Deltaの前のポーリングシステム</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Deltaを使用した後、システムは次の図に示すように、イベント駆動型システムに簡略化されました。 CDC（Change-Data-Capture）イベントは、Delta-Connectorを使用してKeystone Kafkaトピックに送信されます。 （Flinkに基づく）Delta Stream Processing Frameworkを使用して構築されたDeltaアプリケーションは、トピックからCDCイベントを受け取り、それらを強化し、他のマイクロサービスを呼び出し、最終的に、強化されたデータをElasticsearchの検索インデックスに渡します。プロセス全体がほぼリアルタイムで行われます。つまり、変更がデータウェアハウスに記録されるとすぐに、検索インデックスが更新されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bz/lg/t4/bzlgt47eyfuw8wlbzv2dsx6i3ge.png"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図2. Deltaを使用したデータパイプライン</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 次のセクションでは、リポジトリに接続し、トランスポートレベルでCDCイベントを発行するDelta-Connectorの作業について説明します。トランスポートレベルは、CDCイベントをKafkaトピックに転送するリアルタイムデータ転送インフラストラクチャです。</font><font style="vertical-align: inherit;">そして最後に、アプリケーション開発者が処理およびエンリッチロジックに使用できるDeltaストリーム処理フレームワークについて説明します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDC（変更データキャプチャ）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Delta-Connectorと呼ばれるCDCサービスを開発しました。これは、コミットされた変更をデータストアからリアルタイムでキャプチャし、ストリームに書き込むことができます。</font><font style="vertical-align: inherit;">リアルタイムの変更は、トランザクションログとストレージダンプから取得されます。</font><font style="vertical-align: inherit;">トランザクションログは通常、変更履歴全体を格納しないため、ダンプが使用されます。</font><font style="vertical-align: inherit;">変更は通常、Deltaイベントとしてシリアル化されるため、受信者は変更の発生元を気にする必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta-Connectorは、次のようないくつかの追加機能をサポートしています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kafkaを通過したカスタム出力を書き込む機能。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのテーブル、特定のテーブル、または特定の主キーに対していつでも手動ダンプをアクティブ化する機能。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダンプはチャンク単位で取得できるため、障害が発生した場合に最初からやり直す必要はありません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブルにロックをかける必要はありません。これは、データベースへの書き込みトラフィックがサービスによってブロックされないようにするために非常に重要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWSアベイラビリティーゾーンでのバックアップによる高可用性。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、AWS RDSとAuroraへのデプロイを含め、MySQLとPostgresをサポートしています。</font><font style="vertical-align: inherit;">Cassandra（マルチマスター）もサポートしています。</font><font style="vertical-align: inherit;">Delta-Connectorについて詳しくは、この</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブログ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をご覧</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カフカと輸送レベル</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta Event Transportレイヤーは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keystone</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラットフォームのメッセージングサービス上に構築されています</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、歴史的には、Netflixへの投稿は、寿命ではなく可用性の向上のために最適化されてきました（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前の記事を参照</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。妥協は、さまざまな国境シナリオでブローカーデータの不整合の可能性でした。たとえば、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不潔なリーダーの選出</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、受信者がイベントを重複または失う可能性があることを確認する責任があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deltaでは、派生ストレージへのCDCイベントの配信を確実にするために、耐久性のより強い保証を得たいと考えました。このために、特別に設計されたカフカクラスターをファーストクラスのオブジェクトとして提案しました。以下の表でいくつかのブローカー設定を確認できます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/70/hn/ri70hnpnr5wmiedci0_n5clwlwc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。Keystone Kafkaクラスターで</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、パブリッシャーの可用性を確保するために、通常</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">不適切なリーダーの選択が</font></i><font style="vertical-align: inherit;">有効になっています。これにより、非同期のレプリカがリーダーとして選択されている場合、メッセージが失われる可能性があります。信頼性の高い新しいKafkaクラスターでは、</font><font style="vertical-align: inherit;">メッセージの損失を防ぐため</font><font style="vertical-align: inherit;">に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不潔なリーダー選出</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプションが</font><font style="vertical-align: inherit;">無効になっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レプリケーション係数</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を2から3に</font><font style="vertical-align: inherit;">増やし、</font><i><font style="vertical-align: inherit;">非同期レプリカ</font></i><font style="vertical-align: inherit;">を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最小限に抑えました。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1から2まで。このクラスターに書き込みを行うパブリッシャーは、他のすべてからの確認応答を必要とし、3つのうち2つのレプリカがパブリッシャーによって送信される最新のメッセージを確実に持つようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブローカーインスタンスが終了すると、新しいインスタンスが古いインスタンスを置き換えます。ただし、新しいブローカーは同期されていないレプリカに追いつく必要があり、数時間かかる場合があります。このシナリオの復旧時間を短縮するために、ローカルブローカーディスクの代わりにAmazon Elastic Block Storeの使用を開始しました。新しいインスタンスが完了したブローカーインスタンスを置き換えると、完了したインスタンスが持っていたEBSボリュームがアタッチされ、新しいメッセージに追いつき始めます。このプロセスにより、新しいインスタンスを空の状態から複製する必要がなくなるため、バックログを削除する時間が数時間から数分に短縮されます。一般に、ストレージとブローカーのライフサイクルを分離すると、ブローカーの変更による影響が大幅に減少します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データ配信の保証をさらに高めるために</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、メッセージ追跡システム</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">て</font></a><font style="vertical-align: inherit;">、極端な条件（セクションリーダーでのクロック同期など）でのメッセージの損失を検出しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリーム処理フレームワーク</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deltaの処理レベルは、NetflixエコシステムとのApache Flink統合を提供するNetflix SPaaSプラットフォームに基づいています。このプラットフォームは、FlinkジョブのデプロイとTitusコンテナー管理プラットフォーム上でのFlinkクラスターのオーケストレーションを制御するユーザーインターフェイスを提供します。このインターフェースはジョブ構成も管理し、ユーザーがFlinkジョブを再コンパイルすることなく構成を動的に変更できるようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DeltaはFlinkおよびSPaaS </font><b><i><font style="vertical-align: inherit;">ベースの</font></i></b><font style="vertical-align: inherit;">データ用のストリーム処理フレームワークを提供し、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注釈ベースの</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技術的な詳細を抽象化するDSL（ドメイン固有言語）。たとえば、外部サービスを呼び出すことによってイベントが強化されるステップを決定するには、ユーザーは次のDSLを記述する必要があり、フレームワークはそれに基づいてFlinkが実行するモデルを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/l2/kn/ful2knsuaqitsat9p69qhitq-a4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3. Deltaで</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の</font><i><font style="vertical-align: inherit;">DSL強化の例</font></i><font style="vertical-align: inherit;">処理フレームワークは、学習曲線を短縮するだけでなく、重複排除、スキーマ化などの一般的なフロー処理機能、および職場での一般的な問題を解決する柔軟性とフォールトトレランスも提供します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delta Stream Processing Frameworkは、DSL＆APIモジュールとランタイムモジュールの2つの主要モジュールで構成されています。 DSL＆APIモジュールは、ユーザーが独自の処理ロジック（フィルタリングや変換など）を記述できるように、DSLおよびUDF（ユーザー定義関数）APIを提供します。ランタイムモジュールは、DSLパーサーの実装を提供します。これは、DAGモデルの処理ステップの内部表現を構築します。実行コンポーネントは、DAGモデルを解釈して実際のFlinkステートメントを初期化し、最終的にFlinkアプリケーションを起動します。フレームワークのアーキテクチャを次の図に示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9_/gm/on/9_gmono77zxzhhorwhyghdkgdqq.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図4. Delta Stream Processing Frameworkのアーキテクチャー</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このアプローチにはいくつかの利点があります。</font></font><br>
<br>
<ul>
<li>     -      Flink   SPaaS.</li>
<li>      ,         -     (UDF).</li>
<li>  Delta   ,             ,     .</li>
</ul><br>
<br>
<h3>  </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deltaは1年以上製造されており、多くのNetflix Studioアプリケーションで重要な役割を果たしています。</font><font style="vertical-align: inherit;">これは、チームが検索インデックス作成、データストレージ、イベント駆動型ワークフローなどのユースケースを実装するのに役立ちました。</font><font style="vertical-align: inherit;">以下は、Deltaプラットフォームの高レベルのアーキテクチャの概要です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/rf/dq/imrfdqholl1umfrm_pb4nqwy064.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図5. Deltaの高レベルのアーキテクチャ。</font></font></i><br>
 <br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">謝辞</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Netflixでのデルタの作成と開発に貢献してくれた次の人々に感謝します。 、Steven Wu、Tharanga Gamaethige、Yun Wang、Zhenzhong Xu。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出典</font></font></h3><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev.mysql.com/doc/refman/5.7/en/implicit-commit.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev.mysql.com/doc/refman/5.7/en/cannot-roll-back.html</font></font></a></li>
<li>Martin Kleppmann, Alastair R. Beresford, Boerge Svingen: Online event processing. Commun. ACM 62(5): 43–49 (2019). DOI: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">doi.org/10.1145/3312527</a></li>
</ol><br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a>: «Data Build Tool   Amazon Redshift».</b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja487444/index.html">「コーヒーを飲みながら、請求され、支払いのプッシュを受けました」-24時間365日ビジネスを行うことを可能にするイノベーション</a></li>
<li><a href="../ja487446/index.html">会社は「自分の」色を塗ることができますか？</a></li>
<li><a href="../ja487448/index.html">極薄材料の超能力：材料科学では、2Dが新しい3Dです</a></li>
<li><a href="../ja487450/index.html">OpenWrtを実行しているMikrotikルーターにWireGuardを設定します</a></li>
<li><a href="../ja487454/index.html">これらの人々は誰ですか？なぜ彼らは私を必要とするのですか？およびその他のスクラムマスターの問題</a></li>
<li><a href="../ja487462/index.html">初心者の目から見たWebix JavaScriptライブラリ。パート4。データの操作。CRUD</a></li>
<li><a href="../ja487470/index.html">Calibry：3D Breakthrough Price Breakthrough</a></li>
<li><a href="../ja487486/index.html">セガドリームキャストの解剖学：コンソールSecond Life</a></li>
<li><a href="../ja487488/index.html">ネットワーク異常分析ツールを適用するケース：悪意のあるコードの拡散の検出</a></li>
<li><a href="../ja487490/index.html">CLRを使用しないMS SQLでのXSL変換</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>