<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•Ÿ ğŸšŒ ğŸ’ˆ Vivadoï¼šãƒ”ã‚«ã‚½ãƒ¢ãƒ¼ãƒ‰ ğŸª ğŸˆ¶ ğŸ™‡ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ³¨é‡ˆ
 

ç‹‚æ°—ã®ã™ã¹ã¦ã®å¹´é½¢ã®å¾“é †ãª
 

FPGAã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­è¨ˆã™ã‚‹ã¨ãã€è¨­è¨ˆç’°å¢ƒè‡ªä½“ã¨ãã‚ŒãŒè¨­è¨ˆã«æä¾›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®æ¨™æº–çš„ãªä½¿ç”¨æ³•ã¨ã„ã†æ¦‚å¿µãŒæ€ã„æµ®ã‹ã¶ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®çŸ­ã„è¨˜äº‹ã§ã¯ã€Tclã«å®Ÿè£…ã•ã‚ŒãŸç’°å¢ƒç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€FPGAã§æ–‡å­—ã€å†™çœŸã€çµµç”»ã€ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆã€ãŠã‚ˆã³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Vivadoï¼šãƒ”ã‚«ã‚½ãƒ¢ãƒ¼ãƒ‰</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477974/"><h2 id="annotaciya"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨é‡ˆ</font></font></h2><br>
<p><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹‚æ°—ã®ã™ã¹ã¦ã®å¹´é½¢ã®å¾“é †ãª</font></font></em></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPGAã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨­è¨ˆã™ã‚‹ã¨ãã€è¨­è¨ˆç’°å¢ƒè‡ªä½“ã¨ãã‚ŒãŒè¨­è¨ˆã«æä¾›ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®æ¨™æº–çš„ãªä½¿ç”¨æ³•ã¨ã„ã†æ¦‚å¿µãŒæ€ã„æµ®ã‹ã¶ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®çŸ­ã„è¨˜äº‹ã§ã¯ã€Tclã«å®Ÿè£…ã•ã‚ŒãŸç’°å¢ƒç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã€FPGAã§æ–‡å­—ã€å†™çœŸã€çµµç”»ã€ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆã€ãŠã‚ˆã³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æç”»ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ã‚ˆã†ãªçã—ã„ã€Œãƒ‡ã‚¶ã‚¤ãƒ³ãƒ«ãƒ¼ãƒˆã€ã¯1å¹´åŠå‰ã«å®Ÿè£…ã•ã‚Œã¾ã—ãŸãŒã€Tclã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒ‡ã‚¶ã‚¤ãƒ³ç’°å¢ƒï¼ˆã“ã®å ´åˆã¯Vivadoï¼‰ã‚’ç®¡ç†ã™ã‚‹ã“ã¨ã¯ã»ã¨ã‚“ã©å®Ÿè·µã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€å°ã•ãªå¤‰æ›´ã‚’åŠ ãˆã‚‹ã ã‘ã§ã€Quartus IIãªã©ã®ä»–ã®é–‹ç™ºç’°å¢ƒã«ã™ã¹ã¦ã‚’ç°¡å˜ã«é©åˆã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font></p><br>
<p><img src="https://habrastorage.org/webt/32/h7/xr/32h7xruuubk_cai37jn18jgf8ca.png"></p><a name="habracut"></a><br>
<h2 id="vvedenie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰æ›¸ã</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚ã¡ã‚ã‚“ã€ãã®ã‚¢ã‚¤ãƒ‡ã‚¢ã¯ã©ã“ã‹ã‚‰ã‚‚æ€ã„æµ®ã‹ã³ã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">ç§ã®å½“æ™‚ã®FPGAã§ã®ç”»åƒå‡¦ç†ã¨ãƒ“ãƒ‡ã‚ªã‚¹ãƒˆãƒªãƒ¼ãƒ ç®¡ç†ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®é›‡ç”¨ã«ã‚ˆã£ã¦ã€ãã®ç™»å ´ãŒä¿ƒé€²ã•ã‚Œã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">å•é¡Œã®è§£æ±ºç­–ã‚’æ¤œè¨ã™ã‚‹ã¨ãã«ã€ã™ã¹ã¦ã®ç•°ç«¯ãŒãªãœãã‚ŒãŒæ©Ÿèƒ½ã—ãªã„ã‹ã€ã¾ãŸã¯æœŸå¾…ã©ãŠã‚Šã«æ©Ÿèƒ½ã—ãªã„ã®ã‹ã€ç§ãŸã¡ãŒæœŸå¾…ã©ãŠã‚Šã«æ©Ÿèƒ½ã—ãªã„ã®ã‹ã‚’æ€ã„èµ·ã“ã—ã¾ã™ã€‚</font></font></p><br>
<p>          Vivado,                   . </p><br>
<p> ,       CLB   ,   Â«Â» â€“    ,       ,      CLB?â€¦     </p><br>
<h2 id="chem-nam-pomozhet-tcl">   Tcl?</h2><br>
<p>,        100100 .  ,      CLB     :  CLB   .   100x100   10000        ,        .  ,    CLB        Tcl  .    ?</p><br>
<p>,     â€“    ,      .  ,     Vivado   Tcl              .     .       Vivado       ,     ,    ,        Tcl ,   Vivado,    2000  [1].</p><br>
<p>  ,    Â«highlightÂ»    ,   highlight_objects.          ,    .    highlight_objects :</p><br>
<p>-<em>color_index</em> â€“ ( )         1  20. ,      ,        ,     Colors â†’ Highlight    Tools â†’ Settings.<br>
-<em>rgb </em>â€“ ( )       RGB<br>
-<em>color </em>â€“ ( )        : red, green, blue, magenta, yellow, cyan  orange</p><br>
<p>            .     highlight_objects  ,          .<br>
,      ,      RGB â€“  <em>rgb</em></p><br>
<p>        ,   ,       bitmap,   .     ,       . ,       bitmap   ,        .     .  ,      bitmap (        )   (,    -       ).      github,      Image2Bitmap [2].</p><br>
<p>                     RGB565.   ,         5 ,  6    5 .      .           (slice). </p><br>
<h2 id="vybor-plis"> </h2><br>
<p>  ,      ,     Â«  Â»     .   ,  Â«Â»        ,    .          . ,  Spartan-7.   ,      Â«Â», ,   Ultrascale+.</p><br>
<ol>
<li><p> Vivado   </p><br>
</li>
<li><p>  xc7s6cpga196-2,      <br>
<br>
<img src="https://habrastorage.org/webt/vk/zj/do/vkzjdo6hklo098bevkxuz7qvjhu.png"></p><br>
</li>
<li><p>        , ,        elaborate.  Vivado      -   .<br>
<br>
<img src="https://habrastorage.org/webt/nb/ss/7k/nbss7kzptxr8ify9ot4ctpijx8u.png"></p><br>
</li>
<li><p>   Tcl .<br>
a.  ,         Â«.tclÂ»,  Â«fpga_painter.tclÂ»<br>
<br>
<img src="https://habrastorage.org/webt/x9/k8/is/x9k8ismf9abat7cjtkl6kqto-lg.png"></p><br>
<p>b.   Vivado,      .<br>
<br>
<img src="https://habrastorage.org/webt/zs/we/gd/zswegdciaq_qyj-8x56ar2wfzom.png"></p><br>
<p>c.     ,   .<br>
<br>
<img src="https://habrastorage.org/webt/ut/h6/-p/uth6-puy3u6amils-egmrxs8cqo.png"></p><br>
</li>
<li><p>  ,            Open Elaborate Design.  .<br>
<br>
<img src="https://habrastorage.org/webt/g8/cy/mk/g8cymkxi_hdpdwm32k7mld50t_s.png"></p><br>
</li>
<li><p>  Elaborate Design   Windowâ†’Device.     .<br>
<br>
<img src="https://habrastorage.org/webt/sz/_n/cd/sz_ncdlckd-5rqbvicyshqmulxu.png"> </p><br>
</li>
<li><p> ,    .</p><br>
</li>
</ol><br>
<h2 id="opredelenie-parametrov-i-procedur">   </h2><br>
<h3 id="testovoe-izobrazhenie"> </h3><br>
<p>    /     ,  5x3,     Â«  Â».</p><br>
<ol>
<li><p> Paint,    53  (   ).    Â«5x3.pngÂ»<br>
<br>
<img src="https://habrastorage.org/webt/nh/vg/l6/nhvgl6sub5ywa74hvrn-p5xq8hm.png"></p><br>
</li>
<li><p>  Image2Bitmap       RGB565.<br>
<br>
<img src="https://habrastorage.org/webt/aq/vb/u9/aqvbu9m6zhzrjakwux_1clytapk.png"></p><br>
</li>
<li><p>       15 </p><br>
</li>
</ol><br>
<pre><code class="plaintext hljs">*uint16_t image = {<font></font>
0xf800, 0x07e0, 0x001f, 0x8410, 0x8010, 0xfbe4, 0xff80, 0x2589, 0x051d,<font></font>
0x3a59, 0xa254, 0xbbca, 0xfd79, 0xef36, 0x9edd,<font></font>
};*<font></font>
</code></pre><br>
<h3 id="podgotovka-dannyh"> </h3><br>
<p>        ,   Image2Bitmap   ,       .          Â«pic_array.datÂ»,       . </p><br>
<p><img src="https://habrastorage.org/webt/1b/xm/dj/1bxmdjjzyzhrqxqchlngx8qmpiu.png"> </p><br>
<p>        Â«pic_array.datÂ».  ,     ,   Image2Bitmap,        ,         Â«pixelsÂ».</p><br>
<p><img src="https://habrastorage.org/webt/rj/xl/pc/rjxlpcpleobp3ekmfwp4z_sofe0.png"> </p><br>
<p>       Â«uint16_t image = {Â»   Â«};Â».                .</p><br>
<p><img src="https://habrastorage.org/webt/p0/j0/cl/p0j0clka4-dt-ggaskumsj5zkd8.png"> </p><br>
<p>   ,  ,     Â«};Â»   ,   .</p><br>
<p><img src="https://habrastorage.org/webt/zm/sc/ao/zmscaotma7373mbpnknpxh4xn5m.png"></p><br>
<p>        .     .</p><br>
<h3 id="opredelenie-razmera-izobrazheniya">  </h3><br>
<p>       .      (SLICE),       Â«Â»   Â«YÂ». , SLICE_X6Y36.</p><br>
<p><img src="https://habrastorage.org/webt/hm/iz/du/hmizdutpp0x-mieimj5ma07rgnk.png"></p><br>
<p>      ,        .                .   ,        X0Y49.</p><br>
<p><img src="https://habrastorage.org/webt/0h/ip/b-/0hipb-wldjghc-p2xs5-uafdtxe.png"></p><br>
<p>           .         X0  131,     Y49  Y0.  ,           132x50.</p><br>
<h3 id="nachalnye-parametry"> </h3><br>
<p> :     :</p><br>
<ol>
<li><p>     :   start_x<br>
<br>
<img src="https://habrastorage.org/webt/l8/qr/gh/l8qrghklltffibctylxjcczbwqk.png"></p><br>
</li>
<li><p>     Y:   start_y<br>
<br>
<img src="https://habrastorage.org/webt/yf/23/kf/yf23kfl9uxrt5zekli3n16zpzew.png"></p><br>
</li>
<li><p>  (    5):  w<br>
<br>
<img src="https://habrastorage.org/webt/cs/oi/un/csoiunryjazlcstfmab_g3ee9r0.png"></p><br>
</li>
<li><p>  (    3):  h<br>
<br>
<img src="https://habrastorage.org/webt/oz/d2/09/ozd209wjyznbgt2uvcb7fvrhd2c.png"></p><br>
</li>
</ol><br>
<h3 id="korrektirovka-cveta-piksela">  </h3><br>
<p> Image2Bitmap      RGB565   16  ,    .  :</p><br>
<ol>
<li><p>     .       hex2bin,     [3]<br>
<br>
<img src="https://habrastorage.org/webt/fv/su/mt/fvsumtam5vrnkkm0uucn5vx4brc.png"></p><br>
</li>
<li><p>     :<br>
â€¢   R[15:11]<br>
<br>
<img src="https://habrastorage.org/webt/tj/mh/2k/tjmh2k-ihvuroxwduqm6_ugqmxi.png"></p><br>
<p>â€¢   G[10:5]<br>
<br>
<img src="https://habrastorage.org/webt/y6/g0/yd/y6g0ydaosk3gkzzlylaenkh_oxm.png"></p><br>
<p>â€¢   B[4:0]<br>
<br>
<img src="https://habrastorage.org/webt/3i/97/vh/3i97vhrm4ivfevdr-xqwjzi9bzg.png"></p><br>
</li>
</ol><br>
<p><em>:     ,   hex2bin  ,       0,   15-   0-  ,  0-  15-  </em></p><br>
<ol>
<li><p>     binary  decimal.       bin2dec,    [3]:<br>
<br>
<img src="https://habrastorage.org/webt/hc/1n/em/hc1nemkiw4byzq2yc-vka0gckmq.png"><br>
<br>
<img src="https://habrastorage.org/webt/hi/td/uy/hitduy-sypn4d7bv7kidwic2g2m.png"> </p><br>
</li>
<li><p>    RGB565   RGB888,     .      ,     [4].   :<br>
â€¢    R  B 5 .    ,      ,    t5,        <br>
<br>
<img src="https://habrastorage.org/webt/lk/vw/_a/lkvw_abrbpyeylfdoggm5pbpxns.png"><br>
<br>
<img src="https://habrastorage.org/webt/ao/mw/tv/aomwtv2q6hz9bg-_lmszmig7euq.png"><br>
<br>
<img src="https://habrastorage.org/webt/uy/qh/16/uyqh16vi-qkh9vpfrzcovq-zugs.png"> </p><br>
<p>â€¢    G   t6<br>
<br>
<img src="https://habrastorage.org/webt/ti/is/lh/tiislhhogy2om7xxhvj_676dm5s.png"><br>
<br>
<img src="https://habrastorage.org/webt/pa/bh/3d/pabh3dqnk_3sk3sn6zt5big0t0e.png"></p><br>
</li>
</ol><br>
<h3 id="opredelenie-nalichiya-sekcii">  </h3><br>
<p>       ,       . ,    ,     ( xc7s50)<br>
<br>
<img src="https://habrastorage.org/webt/uq/er/yq/uqeryqyfckyqezufafrp-vrxbgi.png"></p><br>
<p>         .   ,  ,   ,     <br>
<br>
<img src="https://habrastorage.org/webt/zx/a8/lt/zxa8lt_n0pb6o7s3ztrfozkuu2k.png"></p><br>
<h3 id="okrashivanie-sekcii"> </h3><br>
<p>  ,   .         highlight_objects:<br>
<br>
<img src="https://habrastorage.org/webt/5i/fv/lp/5ifvlpcm5e70ur9sg7mufhmh4e0.png"></p><br>
<h3 id="vektor-dvuhmernyy-massiv"> â†’ </h3><br>
<p> ,       pixels,      .      , x  y,       .     pixels,   ,    for:    ,      <br>
<br>
<img src="https://habrastorage.org/webt/fk/pu/wa/fkpuwau81hpppxfxkgvvzuvdtr0.png"><br>
<br>
<img src="https://habrastorage.org/webt/hf/bj/jh/hfbjjhugkpxwqd2zdtrn0seyzse.png"></p><br>
<h3 id="polnyy-listing-skripta">  </h3><br>
<div class="spoiler"><b class="spoiler_title"> fpga_painter.tcl</b><div class="spoiler_text"><pre><code class="vhdl hljs">#https://tcl.tk/<font></font>
#http://www.tune-it.ru/web/il/home/-/blogs/-rgb888-&lt;-&gt;-rgb565-----<font></font>
#https://github.com/FoxExe/Image2Bitmap/releases/tag/<span class="hljs-number">0.5</span><font></font>
<font></font>
#       <font></font>
set start_x  <span class="hljs-number">0</span>; # <font></font>
set start_y  <span class="hljs-number">49</span>; #<font></font>
<font></font>
set w <span class="hljs-number">5</span>; #  (   )<font></font>
set h <span class="hljs-number">3</span>; #  ( )<font></font>
<font></font>
proc hex2bin hex {<font></font>
    set t [list <span class="hljs-number">0</span> <span class="hljs-number">0000</span> <span class="hljs-number">1</span> <span class="hljs-number">0001</span> <span class="hljs-number">2</span> <span class="hljs-number">0010</span> <span class="hljs-number">3</span> <span class="hljs-number">0011</span> <span class="hljs-number">4</span> <span class="hljs-number">0100</span> \
        <span class="hljs-number">5</span> <span class="hljs-number">0101</span> <span class="hljs-number">6</span> <span class="hljs-number">0110</span> <span class="hljs-number">7</span> <span class="hljs-number">0111</span> <span class="hljs-number">8</span> <span class="hljs-number">1000</span> <span class="hljs-number">9</span> <span class="hljs-number">1001</span> \<font></font>
        a <span class="hljs-number">1010</span> b <span class="hljs-number">1011</span> c <span class="hljs-number">1100</span> d <span class="hljs-number">1101</span> e <span class="hljs-number">1110</span> f <span class="hljs-number">1111</span> \<font></font>
        A <span class="hljs-number">1010</span> B <span class="hljs-number">1011</span> C <span class="hljs-number">1100</span> D <span class="hljs-number">1101</span> E <span class="hljs-number">1110</span> F <span class="hljs-number">1111</span>]<font></font>
    regsub {^<span class="hljs-number">0</span>[xX]} $hex {} hex
    <span class="hljs-keyword">return</span> [<span class="hljs-built_in">string</span> <span class="hljs-keyword">map</span> -nocase $t $hex]<font></font>
}<font></font>
<font></font>
proc bin2dec bin {<font></font>
    #returns <span class="hljs-built_in">integer</span> equivalent <span class="hljs-keyword">of</span> $bin <font></font>
    set res <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span> {$bin == <span class="hljs-number">0</span>} {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    } elseif {[<span class="hljs-built_in">string</span> match -* $bin]} {<font></font>
        set sign -<font></font>
        set bin [<span class="hljs-built_in">string</span> <span class="hljs-keyword">range</span> $bin[set bin {}] <span class="hljs-number">1</span> <span class="hljs-keyword">end</span>]<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        set sign {}<font></font>
    }<font></font>
    foreach i [split $bin {}] {<font></font>
        set res [expr {$res*<span class="hljs-number">2</span>+$i}]<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> $sign$res<font></font>
}<font></font>
<font></font>
###############<font></font>
#RGB565 -&gt; RGB888 using tables<font></font>
set t5 [list <span class="hljs-number">0</span>  <span class="hljs-number">8</span>  <span class="hljs-number">16</span>  <span class="hljs-number">25</span>  <span class="hljs-number">33</span>  <span class="hljs-number">41</span>  <span class="hljs-number">49</span>  <span class="hljs-number">58</span> <span class="hljs-number">66</span> <span class="hljs-number">74</span> <span class="hljs-number">82</span> <span class="hljs-number">90</span> <span class="hljs-number">99</span> <span class="hljs-number">107</span> <span class="hljs-number">115</span> <span class="hljs-number">123</span> <span class="hljs-number">132</span>\
 <span class="hljs-number">140</span> <span class="hljs-number">148</span> <span class="hljs-number">156</span> <span class="hljs-number">165</span> <span class="hljs-number">173</span> <span class="hljs-number">181</span> <span class="hljs-number">189</span> <span class="hljs-number">197</span> <span class="hljs-number">206</span> <span class="hljs-number">214</span> <span class="hljs-number">222</span> <span class="hljs-number">230</span> <span class="hljs-number">239</span> <span class="hljs-number">247</span> <span class="hljs-number">255</span>]<font></font>
<font></font>
set t6 [list <span class="hljs-number">0</span> <span class="hljs-number">4</span> <span class="hljs-number">8</span> <span class="hljs-number">12</span> <span class="hljs-number">16</span> <span class="hljs-number">20</span> <span class="hljs-number">24</span> <span class="hljs-number">28</span> <span class="hljs-number">32</span> <span class="hljs-number">36</span> <span class="hljs-number">40</span> <span class="hljs-number">45</span> <span class="hljs-number">49</span> <span class="hljs-number">53</span> <span class="hljs-number">57</span> <span class="hljs-number">61</span> <span class="hljs-number">65</span> <span class="hljs-number">69</span>\
 <span class="hljs-number">73</span> <span class="hljs-number">77</span> <span class="hljs-number">81</span> <span class="hljs-number">85</span> <span class="hljs-number">89</span> <span class="hljs-number">93</span> <span class="hljs-number">97</span> <span class="hljs-number">101</span> <span class="hljs-number">105</span> <span class="hljs-number">109</span> <span class="hljs-number">113</span> <span class="hljs-number">117</span> <span class="hljs-number">121</span> <span class="hljs-number">125</span> <span class="hljs-number">130</span> <span class="hljs-number">134</span> <span class="hljs-number">138</span>\
 <span class="hljs-number">142</span> <span class="hljs-number">146</span> <span class="hljs-number">150</span> <span class="hljs-number">154</span> <span class="hljs-number">158</span> <span class="hljs-number">162</span> <span class="hljs-number">166</span> <span class="hljs-number">170</span> <span class="hljs-number">174</span> <span class="hljs-number">178</span> <span class="hljs-number">182</span> <span class="hljs-number">186</span> <span class="hljs-number">190</span> <span class="hljs-number">194</span> <span class="hljs-number">198</span>\
 <span class="hljs-number">202</span> <span class="hljs-number">206</span> <span class="hljs-number">210</span> <span class="hljs-number">215</span> <span class="hljs-number">219</span> <span class="hljs-number">223</span> <span class="hljs-number">227</span> <span class="hljs-number">231</span> <span class="hljs-number">235</span> <span class="hljs-number">239</span> <span class="hljs-number">243</span> <span class="hljs-number">247</span> <span class="hljs-number">251</span> <span class="hljs-number">255</span>]<font></font>
###############<font></font>
<font></font>
#  .        <font></font>
set script_path [get_property DIRECTORY [get_projects *]]<font></font>
cd $script_path<font></font>
<font></font>
#      <font></font>
set fId [<span class="hljs-keyword">open</span> {pic_array.dat} r] <font></font>
<font></font>
# ,       <font></font>
set pixels [list ]<font></font>
<font></font>
#    .   <font></font>
gets $fId <span class="hljs-literal">line</span><font></font>
<font></font>
#  .     .<font></font>
<span class="hljs-keyword">while</span> {[gets $fId <span class="hljs-literal">line</span>] &gt; <span class="hljs-number">0</span>} {<font></font>
    set pixels [concat $pixels $<span class="hljs-literal">line</span>]<font></font>
}<font></font>
<font></font>
#   pixels   <span class="hljs-string">"};"</span>,    Image2Bitmap<font></font>
set pixels [lrange $pixels <span class="hljs-number">0</span> <span class="hljs-keyword">end</span>-<span class="hljs-number">1</span>]<font></font>
<font></font>
#    pixels<font></font>
set pix_num <span class="hljs-number">0</span>;<font></font>
<font></font>
#     <font></font>
<span class="hljs-keyword">for</span> {set y <span class="hljs-number">0</span>} { $y &lt; $h } {incr y} {<font></font>
<font></font>
    #    ( )<font></font>
    set Y [expr {$start_y - $y}]<font></font>
<font></font>
    #   <font></font>
        <span class="hljs-keyword">for</span> {set x <span class="hljs-number">0</span>} { $x &lt; $w } {incr x } {<font></font>
<font></font>
            set pix_val [lindex $pixels $pix_num];<font></font>
<font></font>
            incr pix_num<font></font>
<font></font>
            #   binary <font></font>
            set pix_bin [hex2bin $pix_val] ;<font></font>
<font></font>
            #             <font></font>
            set R_bin [<span class="hljs-built_in">string</span> <span class="hljs-keyword">range</span> $pix_bin <span class="hljs-number">0</span> <span class="hljs-number">4</span>]<font></font>
            #   <font></font>
            set R_dec [ bin2dec $R_bin ]<font></font>
            #       t5<font></font>
            set R [lindex $t5 $R_dec]<font></font>
<font></font>
            #      <font></font>
            set G_bin [<span class="hljs-built_in">string</span> <span class="hljs-keyword">range</span> $pix_bin <span class="hljs-number">5</span> <span class="hljs-number">10</span>]<font></font>
            set G [lindex $t6 [ bin2dec $G_bin ]]<font></font>
<font></font>
            set B_bin [<span class="hljs-built_in">string</span> <span class="hljs-keyword">range</span> $pix_bin <span class="hljs-number">11</span> <span class="hljs-number">15</span>]<font></font>
            set B [lindex $t5 [ bin2dec $B_bin ] ]<font></font>
<font></font>
            #   <font></font>
            set X [expr {$start_x + $x}]<font></font>
<font></font>
            #,     <font></font>
            set cond [get_sites <span class="hljs-string">"SLICE_X${X}Y${Y}"</span>]
            <span class="hljs-keyword">if</span> {$cond ne <span class="hljs-string">""</span>} {<font></font>
                # <font></font>
                highlight_objects [get_sites <span class="hljs-string">"SLICE_X${X}Y${Y}"</span>]  -rgb <span class="hljs-string">"$R $G $B"</span><font></font>
            }<font></font>
            puts <span class="hljs-string">"X = $X   Y = $Y; $R $G $B"</span>    <font></font>
      } <font></font>
}<font></font>
close $fId<font></font>
puts <span class="hljs-string">"Complete::Check FPGA field::Window-&gt;Device"</span></code></pre></div></div><br>
<h2 id="testirovanie"></h2><br>
<ol>
<li><p>  , ,     , ..     : elaborated, synthesis  implemented.      Window â†’ Device<br>
<br>
<img src="https://habrastorage.org/webt/sz/_n/cd/sz_ncdlckd-5rqbvicyshqmulxu.png"></p><br>
</li>
<li><p>  Â«pic_array.datÂ»        Image2Bitmap.  <br>
<br>
<img src="https://habrastorage.org/webt/gf/bo/qk/gfboqkmege_xbatauuqznugutls.png"> </p><br>
</li>
<li><p> .      0  49,    5  3   .           Run.<br>
<br>
<img src="https://habrastorage.org/webt/z6/ku/xk/z6kuxks3efxqgcg6w-ml18pwaic.png"></p><br>
</li>
<li><p>  Tcl console  ,    .<br>
<br>
<img src="https://habrastorage.org/webt/km/of/qr/kmofqrtlejamixfiwexviemy4ay.png"></p><br>
</li>
<li><p>   Device  ,      .<br>
<br>
<img src="https://habrastorage.org/webt/xv/ba/nf/xvbanfmjcmx9lqxxofnq04wxwf0.png"></p><br>
</li>
<li><p>    ,         .    .</p><br>
</li>
</ol><br>
<p><em>P.S.:        Vivado</em><br>
<br>
<img src="https://habrastorage.org/webt/oz/hx/f4/ozhxf4slhbnycmhqmpfxbsb7fby.png"> </p><br>
<h2 id="spisok-literatury"> </h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UG835ã€‚</font><font style="vertical-align: inherit;">Vivado Design Suite TclCommandãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚¬ã‚¤ãƒ‰</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/FoxExe/Image2Bitmap/releases/tag/0.5</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://tcl.tk</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.tune-it.ru/web/il/home/-/blogs/conversion-rgb888-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt;-&gt; -rgb565-and-protection-mushrooms-from-fading</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja477956/index.html">3Dã§ã®JavaScriptï¼šThree.jsã®æ¦‚è¦</a></li>
<li><a href="../ja477958/index.html">æ–°ã—ã„High-Tech-Tech Crime Trendsãƒ¬ãƒâ€‹â€‹ãƒ¼ãƒˆ2019/2020 Group-IBã®ä¸Šä½10ã®ãƒˆãƒ¬ãƒ³ãƒ‰</a></li>
<li><a href="../ja477964/index.html">ã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã‚‰æœ€åˆã®è²©å£²ã¾ã§2ã‹æœˆï¼šå‰µä¸–è¨˜ãƒãƒ¼ãƒ ã®çµŒé¨“</a></li>
<li><a href="../ja477966/index.html">å‚åŠ è€…ã®ç›®ã‚’é€šã—ã¦HolyJS 2019ãƒ¢ã‚¹ã‚¯ãƒ¯</a></li>
<li><a href="../ja477968/index.html">ã†ã•ãã®ç©´ã«é™¥ã‚‹ï¼šãƒ¯ãƒ‹ã‚¹ã®å†èµ·å‹•ã‚¨ãƒ©ãƒ¼ã«é–¢ã™ã‚‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼-ãƒ‘ãƒ¼ãƒˆ1</a></li>
<li><a href="../ja477976/index.html">ã‚°ãƒ©ãƒ•ã‚’ä½¿ç”¨ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ§‹é€ ã®è¦–è¦šåŒ–ã¨åˆ†æ</a></li>
<li><a href="../ja477978/index.html">ã‚¬ã‚¸ã‚§ãƒƒãƒˆã®å¹´é–“ã®æœ€å®‰å€¤ã‚’ã©ã“ã§è¦‹ã‚‹ã‹</a></li>
<li><a href="../ja477980/index.html">1å¹´åŠã®20ãƒãƒƒã‚«ã‚½ãƒ³ï¼šã‚µãƒãƒ­ãƒ•ãƒãƒ¼ãƒ ã®çµŒé¨“</a></li>
<li><a href="../ja477984/index.html">é–¢é€£ã™ã‚‹å”¯ä¸€ã®ãƒ¡ãƒˆãƒªãƒƒã‚¯ã®åŸºæœ¬çš„ãªãƒˆãƒ©ãƒƒãƒ—</a></li>
<li><a href="../ja477986/index.html">æœ‰æ¯’ãªãƒ‘ãƒªãƒ†ã‚£</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>