<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÉ ü§ôüèº ü•° MVI-Architekturvorlage in Kotlin Multiplattform, Teil 1 üë©üèæ‚Äçüíº ‚Ñ¢Ô∏è üöÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vor ungef√§hr einem Jahr interessierte ich mich f√ºr die neue Kotlin Multiplatform-Technologie. Sie k√∂nnen gemeinsamen Code schreiben und f√ºr verschiede...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>MVI-Architekturvorlage in Kotlin Multiplattform, Teil 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/badoo/blog/501968/"><img src="https://habrastorage.org/webt/nl/1i/n-/nl1in-q1zjy6mzgvzrr875nd4lq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor ungef√§hr einem Jahr interessierte ich mich f√ºr die neue Kotlin Multiplatform-Technologie. Sie k√∂nnen gemeinsamen Code schreiben und f√ºr verschiedene Plattformen kompilieren, w√§hrend Sie auf deren API zugreifen k√∂nnen. Seitdem experimentiere ich aktiv in diesem Bereich und bewerbe dieses Tool in unserem Unternehmen. Ein Ergebnis ist beispielsweise unsere </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reaktive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><font style="vertical-align: inherit;">- Reaktive Erweiterungen f√ºr Kotlin Multiplatform. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Badoo- und Bumble-Anwendungen f√ºr die Entwicklung f√ºr Android verwenden wir die MVI-Architekturvorlage (weitere Informationen zu unserer Architektur finden Sie im Artikel von Zsolt Kocsi: ‚Äû </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moderne Kotlin-basierte MVI-Architektur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"). Bei der Arbeit an verschiedenen Projekten wurde ich ein gro√üer Fan dieses Ansatzes. Nat√ºrlich durfte ich die Gelegenheit nicht verpassen, MVI in Kotlin Multiplatform auszuprobieren. Dar√ºber hinaus war der Fall geeignet: Wir mussten Beispiele f√ºr die Reaktive Bibliothek schreiben. Nach meinen Experimenten war ich noch mehr von MVI inspiriert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich achte immer darauf, wie Entwickler Kotlin Multiplatform verwenden und wie sie die Architektur solcher Projekte erstellen. Nach meinen Beobachtungen ist der durchschnittliche Kotlin Multiplatform-Entwickler tats√§chlich ein Android-Entwickler, der die MVVM-Vorlage in seiner Arbeit verwendet, nur weil er so daran gew√∂hnt ist. Einige wenden zus√§tzlich ‚Äûsaubere Architektur‚Äú an. Meiner Meinung nach ist MVI jedoch am besten f√ºr Kotlin Multiplatform geeignet, und ‚Äûsaubere Architektur‚Äú ist eine unn√∂tige Komplikation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesem Grund habe ich beschlossen, diese Serie von drei Artikeln zu folgenden Themen zu schreiben:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine kurze Beschreibung der MVI-Vorlage, eine Erkl√§rung des Problems und die Erstellung eines gemeinsamen Moduls mit Kotlin Multiplatform.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integration eines gemeinsamen Moduls in iOS- und Android-Anwendungen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unit- und Integrationstests.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unten ist der erste Artikel in der Reihe. </font><font style="vertical-align: inherit;">Es ist f√ºr alle von Interesse, die Kotlin Multiplatform bereits verwenden oder nur planen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stelle sofort fest, dass der Zweck dieses Artikels nicht darin besteht, Ihnen das Arbeiten mit der Kotlin-Multiplattform selbst beizubringen. </font><font style="vertical-align: inherit;">Wenn Sie der Meinung sind, dass Sie in diesem Bereich nicht √ºber ausreichende Kenntnisse verf√ºgen, sollten Sie sich zun√§chst mit der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einf√ºhrung und Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vertraut machen </font><font style="vertical-align: inherit;">(insbesondere mit den </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Abschnitten</font></a><font style="vertical-align: inherit;"> ‚Äû </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parallelit√§t</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äú und ‚Äû </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unver√§nderlichkeit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äú, um die Funktionen des Kotlin / Native-Speichermodells zu verstehen). </font><font style="vertical-align: inherit;">In diesem Artikel werde ich nicht die Konfiguration des Projekts, der Module und anderer Dinge beschreiben, die nicht mit dem Thema zusammenh√§ngen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVI</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erinnern wir uns zun√§chst daran, was MVI ist. </font><font style="vertical-align: inherit;">Die Abk√ºrzung steht f√ºr Model-View-Intent. </font><font style="vertical-align: inherit;">Es gibt nur zwei Hauptkomponenten im System:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell - eine Schicht aus Logik und Daten (das Modell speichert auch den aktuellen Status des Systems);</font></font></li>
<li> (View) ‚Äî UI-,     (states)     (intents).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das folgende Diagramm ist wahrscheinlich vielen bereits bekannt: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5x/zj/2g/5xzj2gjuwvbtanwvgprrspjyfms.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen also diese sehr grundlegenden Komponenten: das Modell und die Pr√§sentation. Alles andere sind die Daten, die zwischen ihnen zirkulieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist leicht zu erkennen, dass sich Daten nur in eine Richtung bewegen. Zust√§nde kommen aus dem Modell und fallen zur Anzeige in die Ansicht, Absichten kommen aus der Ansicht und gehen zur Verarbeitung in das Modell. Diese Zirkulation wird als unidirektionaler Datenfluss bezeichnet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Praxis wird ein Modell h√§ufig durch eine Entit√§t namens Store dargestellt (es wird von Redux ausgeliehen). Dies ist jedoch nicht immer der Fall. In unserer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVICore-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">hei√üt das</font></a><font style="vertical-align: inherit;"> Modell beispielsweise Feature.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist auch erw√§hnenswert, dass MVI sehr eng mit der Reaktivit√§t zusammenh√§ngt. </font><font style="vertical-align: inherit;">Die Darstellung von Datenstr√∂men und deren Transformation sowie die Verwaltung des Lebenszyklus von Abonnements ist sehr praktisch, wenn reaktive Programmierbibliotheken verwendet werden. </font><font style="vertical-align: inherit;">Eine relativ gro√üe Anzahl von ihnen ist jetzt verf√ºgbar. Wenn Sie jedoch allgemeinen Code in Kotlin Multiplatform schreiben, k√∂nnen Sie nur Bibliotheken mit mehreren Plattformen verwenden. </font><font style="vertical-align: inherit;">Wir brauchen Abstraktion f√ºr Datenstr√∂me, wir brauchen die F√§higkeit, ihre Ein- und Ausg√§nge zu verbinden und zu trennen sowie Transformationen durchzuf√ºhren. </font><font style="vertical-align: inherit;">Im Moment kenne ich zwei solcher Bibliotheken:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unsere </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reaktive</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><font style="vertical-align: inherit;">- Implementierung von Reactive Extensions auf Kotlin Multiplatform;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Coroutinen und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flow</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Implementierung von Cold Streams mit Kotlin Coroutinen.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulierung des Problems</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel wird gezeigt, wie die MVI-Vorlage in Kotlin Multiplatform verwendet wird und welche Vor- und Nachteile dieser Ansatz hat. </font><font style="vertical-align: inherit;">Daher werde ich nicht an eine bestimmte MVI-Implementierung gebunden sein. </font><font style="vertical-align: inherit;">Ich werde jedoch Reaktive verwenden, da noch Datenstr√∂me ben√∂tigt werden. </font><font style="vertical-align: inherit;">Wenn gew√ºnscht, kann Reaktive nach Kenntnis der Idee durch Coroutinen und Flow ersetzt werden. </font><font style="vertical-align: inherit;">Im Allgemeinen werde ich versuchen, unser MVI so einfach wie m√∂glich zu gestalten, ohne unn√∂tige Komplikationen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um MVI zu demonstrieren, werde ich versuchen, das einfachste Projekt zu implementieren, das die folgenden Anforderungen erf√ºllt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unterst√ºtzung f√ºr Android und iOS;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demonstration des asynchronen Betriebs (Eingabe-Ausgabe, Datenverarbeitung usw.);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so viel allgemeiner Code wie m√∂glich;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI-Implementierung mit nativen Tools jeder Plattform;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mangel an Rx auf der Plattformseite (so dass Sie keine Abh√§ngigkeiten von Rx als "API" angeben m√ºssen).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Beispiel habe ich eine sehr einfache Anwendung ausgew√§hlt: einen Bildschirm mit einer Schaltfl√§che, indem ich darauf klicke, auf den eine Liste mit beliebigen Bildern von Katzen heruntergeladen und angezeigt wird. </font><font style="vertical-align: inherit;">Zum Hochladen von Bildern verwende ich die offene API: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://thecatapi.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Auf diese Weise k√∂nnen Sie die Anforderungen des asynchronen Betriebs erf√ºllen, da Sie Listen aus dem Web herunterladen und die JSON-Datei analysieren m√ºssen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Den gesamten Quellcode des Projekts finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf unserem GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erste Schritte: Abstraktionen f√ºr MVI</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst m√ºssen wir einige Abstraktionen f√ºr unser MVI einf√ºhren. </font><font style="vertical-align: inherit;">Wir ben√∂tigen die grundlegenden Komponenten - das Modell und die Ansicht - und einige Typealien.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Typealiasen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Absichten zu verarbeiten, f√ºhren wir einen Akteur (Actor) ein - eine Funktion, die die Absicht und den aktuellen Status akzeptiert und einen Strom von Ergebnissen zur√ºckgibt (Effekt):</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/6cb0694e570e01a126f820ff6767fe5b.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102432667" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpactor-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpactor-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpactor-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typealias </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akteur</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zustand</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Absicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wirkung</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zustand</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Absicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachtbar</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effekt</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpActor.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir brauchen auch einen Reduzierer (Reduzierer) - eine Funktion, die wirksam wird und den aktuellen Status und einen neuen Status zur√ºckgibt:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/083d13a424ec0fee93901bfcc63ff1ef.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102434310" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpreducer-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpreducer-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpreducer-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typealias </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reducer</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effect</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effect</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpReducer.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gesch√§ft</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Store pr√§sentiert ein Modell von MVI. </font><font style="vertical-align: inherit;">Er muss Absichten akzeptieren und einen Strom von Staaten abgeben. </font><font style="vertical-align: inherit;">Beim Abonnieren eines Statusstroms sollte der aktuelle Status ausgegeben werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns die entsprechende Schnittstelle vorstellen:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/76bc9ed85106c836234b957acec63723.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433133" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpstoreinterface-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpstoreinterface-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpstoreinterface-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shop</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeder</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Any</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consumer</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;, </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observable</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;, </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einweg</font></font></span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpStoreInterface.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unser Shop hat also folgende Eigenschaften:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat zwei generische Parameter: Eingabeabsicht und Ausgabestatus;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist ein Verbraucher von Absichten (Verbraucher &lt;Intent&gt;);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist ein Statusstrom (Observable &lt;State&gt;);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es ist zerst√∂rbar (Einweg).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da es nicht sehr bequem ist, eine solche Schnittstelle jedes Mal zu implementieren, ben√∂tigen wir einen bestimmten Assistenten:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/9cccbb6d90992ae9dfeeb17e38087541.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433272" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpstorehelper-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpstorehelper-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpstorehelper-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StoreHelper</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Any</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">out </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Any</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effect </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Any</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpstorehelper-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">initialState </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpstorehelper-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Privat </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schauspieler </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schauspieler</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effect</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpstorehelper-kt-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-smi">reducer</span><span class="pl-k">:</span> <span class="pl-en">Reducer</span>&lt;<span class="pl-en">State</span>, <span class="pl-en">Effect</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpstorehelper-kt-LC5" class="blob-code blob-code-inner js-file-line">) <span class="pl-k">:</span> <span class="pl-e">Observable</span>&lt;<span class="pl-en">State</span>&gt;, <span class="pl-en">DisposableScope</span> by <span class="pl-en">DisposableScope</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpstorehelper-kt-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpstorehelper-kt-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">init</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpstorehelper-kt-LC8" class="blob-code blob-code-inner js-file-line">        ensureNeverFrozen()</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpstorehelper-kt-LC9" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpstorehelper-kt-LC10" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpstorehelper-kt-LC11" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">val</span> subject <span class="pl-k">=</span> <span class="pl-en">BehaviorSubject</span>(initialState)</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpstorehelper-kt-LC12" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpstorehelper-kt-LC13" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">fun</span> <span class="pl-en">onIntent</span>(<span class="pl-smi">intent</span><span class="pl-k">:</span> <span class="pl-en">Intent</span>) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpstorehelper-kt-LC14" class="blob-code blob-code-inner js-file-line">        actor(subject.value, intent).subscribeScoped(isThreadLocal <span class="pl-k">=</span> <span class="pl-c1">true</span>, onNext <span class="pl-k">=</span> ::onEffect)</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpstorehelper-kt-LC15" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpstorehelper-kt-LC16" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpstorehelper-kt-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fun </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onEffect</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effekt </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effekt</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-mvikmpstorehelper-kt-LC18" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        subject.onNext (Reduzierer (subject.value, effect))</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-mvikmpstorehelper-kt-LC19" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-mvikmpstorehelper-kt-LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-mvikmpstorehelper-kt-LC21" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberschreibung </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abonnieren</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachter </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObserver</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-mvikmpstorehelper-kt-LC22" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        subject.subscribe (Beobachter)</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-mvikmpstorehelper-kt-LC23" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstorehelper-kt-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-mvikmpstorehelper-kt-LC24" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpStoreHelper.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
StoreHelper ist eine kleine Klasse, die es uns einfacher macht, einen Store zu erstellen. </font><font style="vertical-align: inherit;">Es hat die folgenden Eigenschaften:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat drei generische Parameter: Eingabeabsicht und Wirkung und Ausgabestatus;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akzeptiert den Ausgangszustand durch den Konstrukteur, den Akteur und das Getriebe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist ein Strom von Staaten;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zerst√∂rbar (Einweg);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht einfrieren (damit Abonnenten auch nicht </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eingefroren werden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> );</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementiert </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposableScope</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Schnittstelle von Reaktive zur Verwaltung von Abonnements);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akzeptiert und verarbeitet Absichten und Wirkungen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen Sie sich das Diagramm unseres Shops an. </font><font style="vertical-align: inherit;">Der Darsteller und das Getriebe sind Implementierungsdetails: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-l/ss/ct/-lssctmy9h8oat9htzn25q4xbji.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten wir die onIntent-Methode genauer:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akzeptiert Absichten als Argument;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruft den Schauspieler an und gibt die Absicht und den aktuellen Zustand an ihn weiter;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abonniert den vom Schauspieler zur√ºckgegebenen Effektstrom;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leitet alle Effekte auf die onEffect-Methode.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Abonnieren von Effekten erfolgt mit dem Flag </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isThreadLocal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dies vermeidet das Einfrieren in Kotlin / Native).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns nun die onEffect-Methode genauer an:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nimmt Effekte als Argument;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruft das Getriebe auf und √ºbertr√§gt den Effekt und den aktuellen Zustand in das Getriebe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbergibt den neuen Status an das BehaviorSubject, wodurch alle Abonnenten den neuen Status erhalten.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aussicht</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kommen wir nun zur Pr√§sentation. </font><font style="vertical-align: inherit;">Es sollte Modelle f√ºr die Anzeige akzeptieren und einen Strom von Ereignissen ausgeben. </font><font style="vertical-align: inherit;">Wir werden auch eine separate Schnittstelle erstellen:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/589842b3ed09f58164f295a8cd97f1a9.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433318" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpmviview-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpmviview-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpmviview-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beliebig</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aus </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ereignis </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beliebig</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpmviview-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpmviview-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> events </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachtbares</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ereignis</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpmviview-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpmviview-kt-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpmviview-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpmviview-kt-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendern</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpmviview-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpmviview-kt-LC5" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpMviView.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Ansicht hat die folgenden Eigenschaften:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat zwei generische Parameter: Eingabemodell und Ausgabeereignis;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akzeptiert Modelle zur Anzeige mit der Rendermethode;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versendet einen Ereignisstrom mithilfe der Eigenschaft events.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe dem MviView-Namen das Mvi-Pr√§fix hinzugef√ºgt, um Verwechslungen mit Android View zu vermeiden. </font><font style="vertical-align: inherit;">Au√üerdem habe ich die Schnittstellen Consumer und Observable nicht erweitert, sondern lediglich die Eigenschaft und die Methode verwendet. </font><font style="vertical-align: inherit;">Auf diese Weise k√∂nnen Sie die Pr√§sentationsoberfl√§che auf eine Plattform f√ºr die Implementierung (Android oder iOS) einstellen, ohne Rx als API-Abh√§ngigkeit zu exportieren. </font><font style="vertical-align: inherit;">Der Trick besteht darin, dass Clients nicht direkt mit der Eigenschaft "events" interagieren, sondern die MviView-Schnittstelle implementieren und die abstrakte Klasse erweitern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºgen Sie diese abstrakte Klasse sofort hinzu, um Folgendes darzustellen:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/b988c98e92bd48139a0d3951134c8e9c.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433330" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpabstractmviview-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpabstractmviview-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpabstractmviview-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">abstract</span> <span class="pl-k">class</span> <span class="pl-en">AbstractMviView</span>&lt;<span class="pl-k">in</span> <span class="pl-en">Model</span> <span class="pl-k">:</span> <span class="pl-c1">Any</span>, <span class="pl-en">Event</span> <span class="pl-k">:</span> <span class="pl-c1">Any</span>&gt; <span class="pl-k">:</span> <span class="pl-e">MviView</span>&lt;<span class="pl-en">Model</span>, <span class="pl-en">Event</span>&gt; {</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpabstractmviview-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">val</span> subject <span class="pl-k">=</span> <span class="pl-en">PublishSubject</span>&lt;<span class="pl-en">Event</span>&gt;()</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpabstractmviview-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">val</span> events<span class="pl-k">:</span> <span class="pl-en">Observable</span>&lt;<span class="pl-en">Event</span>&gt; <span class="pl-k">=</span> subject</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpabstractmviview-kt-LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpabstractmviview-kt-LC5" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">protected</span> <span class="pl-k">fun</span> <span class="pl-en">dispatch</span>(<span class="pl-smi">event</span><span class="pl-k">:</span> <span class="pl-en">Event</span>) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpabstractmviview-kt-LC6" class="blob-code blob-code-inner js-file-line">        subject.onNext(event)</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpabstractmviview-kt-LC7" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpabstractmviview-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpabstractmviview-kt-LC8" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpAbstractMviView.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Klasse hilft uns bei der Ausgabe von Ereignissen und bewahrt die Plattform vor der Interaktion mit Rx. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein Diagramm, das zeigt, wie dies funktioniert: Der </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wu/kr/ad/wukradmtg6czbxwjr_3fqi91txu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Store erzeugt Zust√§nde, die in Modelle umgewandelt und von der Ansicht angezeigt werden. </font><font style="vertical-align: inherit;">Letzteres erzeugt Ereignisse, die in Absichten konvertiert und zur Verarbeitung an den Store gesendet werden. </font><font style="vertical-align: inherit;">Dieser Ansatz beseitigt die Koh√§renz zwischen Store und Pr√§sentation. </font><font style="vertical-align: inherit;">In einfachen F√§llen kann eine Ansicht jedoch direkt mit Zust√§nden und Absichten arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles, was wir brauchen, um MVI zu implementieren. </font><font style="vertical-align: inherit;">Schreiben wir den allgemeinen Code.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gemeinsamer Code</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Planen</font></font></h3><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden ein allgemeines Modul erstellen, dessen Aufgabe es ist, eine Liste von Bildern von Katzen herunterzuladen und anzuzeigen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UI Wir abstrahieren die Schnittstelle und werden ihre Implementierung nach au√üen √ºbertragen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir werden unsere Implementierung hinter einer praktischen Fassade verstecken.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kittenstore</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir mit der Hauptsache - erstellen Sie einen KittenStore, der eine Liste von Bildern l√§dt:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/0a4a907bc8385e21e129c1d45f971714.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433398" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenstoreinterface-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStore </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Store</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">State</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versiegelte </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Absicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC3" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objekt neu</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> laden </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Absicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ()</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC4" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenklasse</font></font></span> <font style="vertical-align: inherit;"><span class="pl-k"><font style="vertical-align: inherit;"> </font></span></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC7" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isLoading </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boolean </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">false</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC8" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ()</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC9" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC10" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versiegelte </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC11" class="blob-code blob-code-inner js-file-line">            <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Urls </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> emptyList ()) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ()</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC12" class="blob-code blob-code-inner js-file-line">            <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objekt</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fehler </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ()</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC13" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC14" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreinterface-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittenstoreinterface-kt-LC15" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenStoreInterface.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben die Store-Oberfl√§che um Absichtstypen und Statustypen erweitert. </font><font style="vertical-align: inherit;">Bitte beachten Sie: Die Schnittstelle ist als intern deklariert. </font><font style="vertical-align: inherit;">Unser KittenStore enth√§lt die Implementierungsdetails des Moduls. </font><font style="vertical-align: inherit;">Unsere Absicht ist nur eine - Neu laden, es bewirkt das Laden einer Liste von Bildern. </font><font style="vertical-align: inherit;">Aber die Bedingung ist es wert, genauer betrachtet zu werden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das isLoading-Flag zeigt an, ob der Download gerade l√§uft oder nicht.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Dateneigenschaft kann eine von zwei Optionen annehmen:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder - eine Liste von Links zu Bildern;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Fehler - bedeutet, dass ein Fehler aufgetreten ist.</font></font></li>
</ul></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginnen wir nun mit der Implementierung. </font><font style="vertical-align: inherit;">Wir werden dies schrittweise tun. </font><font style="vertical-align: inherit;">Erstellen Sie zun√§chst eine leere KittenStoreImpl-Klasse, die die KittenStore-Schnittstelle implementiert:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/4d89b73d8f2ac1d54079b7dc7bd24056.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433730" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenstoreimpl1-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC2" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStore</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposableScope</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposableScope</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <font style="vertical-align: inherit;"><span class="pl-k"><font style="vertical-align: inherit;">√ºberschreiben </font></span></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onNext</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wert </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC5" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC6" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberschreibung </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abonnieren</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachter </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ObservableObserver</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC8" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl1-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenstoreimpl1-kt-LC9" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenStoreImpl1.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben auch die bekannte DisposableScope-Schnittstelle implementiert. </font><font style="vertical-align: inherit;">Dies ist f√ºr eine bequeme Abonnementverwaltung erforderlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir m√ºssen die Liste der Bilder aus dem Web herunterladen und die JSON-Datei analysieren. </font><font style="vertical-align: inherit;">Deklarieren Sie die entsprechenden Abh√§ngigkeiten:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/5f7790cf91b5f46e7e83cf2cc02e02e5.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433772" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenstoreimpl2-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">privates </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der private </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parser </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parser</font></font></span>    </td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC4" class="blob-code blob-code-inner js-file-line">) <span class="pl-k">:</span> <span class="pl-e">KittenStore</span>, <span class="pl-en">DisposableScope</span> by <span class="pl-en">DisposableScope</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">onNext</span>(<span class="pl-smi">value</span><span class="pl-k">:</span> <span class="pl-en">Intent</span>) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC7" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">subscribe</span>(<span class="pl-smi">observer</span><span class="pl-k">:</span> <span class="pl-en">ObservableObserver</span>&lt;<span class="pl-en">State</span>&gt;) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC10" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Network</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC13" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">fun</span> <span class="pl-en">load</span>()<span class="pl-k">:</span> <span class="pl-en">Maybe</span>&lt;<span class="pl-c1">String</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC14" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC15" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC16" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Parser</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC17" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fun </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parse</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;&gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC18" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl2-kt-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-mvikmpkittenstoreimpl2-kt-LC19" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenStoreImpl2.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Netzwerk l√§dt den Text f√ºr die JSON-Datei aus dem Netzwerk herunter, und Parser analysiert die JSON-Datei und gibt eine Liste der Bildlinks zur√ºck. </font><font style="vertical-align: inherit;">Im Fehlerfall endet Vielleicht einfach ohne Ergebnis. </font><font style="vertical-align: inherit;">In diesem Artikel interessiert uns die Art des Fehlers nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erkl√§ren Sie nun die Effekte und den Reduzierer:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/bbd8458785d5c77f684023ecf6bf67c6.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433788" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenstoreimpl3-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">privates </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der private </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parser </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parser</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC4" class="blob-code blob-code-inner js-file-line">) <span class="pl-k">:</span> <span class="pl-e">KittenStore</span>, <span class="pl-en">DisposableScope</span> by <span class="pl-en">DisposableScope</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">onNext</span>(<span class="pl-smi">value</span><span class="pl-k">:</span> <span class="pl-en">Intent</span>) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC7" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">subscribe</span>(<span class="pl-smi">observer</span><span class="pl-k">:</span> <span class="pl-en">ObservableObserver</span>&lt;<span class="pl-en">State</span>&gt;) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC10" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">fun</span> <span class="pl-en">reduce</span>(<span class="pl-smi">state</span><span class="pl-k">:</span> <span class="pl-en">State</span>, <span class="pl-smi">effect</span><span class="pl-k">:</span> <span class="pl-en">Effect</span>)<span class="pl-k">:</span> <span class="pl-en">State</span> <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC13" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">when</span> (effect) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC14" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">is</span> <span class="pl-en">Effect</span>.<span class="pl-en">LoadingStarted</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> state.copy(isLoading <span class="pl-k">=</span> <span class="pl-c1">true</span>)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC15" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">is</span> <span class="pl-en">Effect</span>.<span class="pl-en">LoadingFinished</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> state.copy(isLoading <span class="pl-k">=</span> <span class="pl-c1">false</span>, <span class="pl-k">data</span> <span class="pl-k">=</span> <span class="pl-en">State</span>.<span class="pl-en">Data</span>.<span class="pl-en">Images</span>(urls <span class="pl-k">=</span> effect.imageUrls))</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC16" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">is</span> <span class="pl-en">Effect</span>.<span class="pl-en">LoadingFailed</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> state.copy(isLoading <span class="pl-k">=</span> <span class="pl-c1">false</span>, <span class="pl-k">data</span> <span class="pl-k">=</span> <span class="pl-en">State</span>.<span class="pl-en">Data</span>.<span class="pl-en">Error</span>)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC17" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC18" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC19" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">sealed</span> <span class="pl-k">class</span> <span class="pl-en">Effect</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC20" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">object</span> LoadingStarted <span class="pl-k">:</span> <span class="pl-e">Effect</span>()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC21" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">data</span> <span class="pl-k">class</span> <span class="pl-en">LoadingFinished</span>(<span class="pl-k">val</span> <span class="pl-smi">imageUrls</span><span class="pl-k">:</span> <span class="pl-c1">List</span>&lt;<span class="pl-c1">String</span>&gt;) <span class="pl-k">:</span> <span class="pl-e">Effect</span>()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC22" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">object</span> LoadingFailed <span class="pl-k">:</span> <span class="pl-e">Effect</span>()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC23" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC24" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC25" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Network</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC26" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">fun</span> <span class="pl-en">load</span>()<span class="pl-k">:</span> <span class="pl-en">Maybe</span>&lt;<span class="pl-c1">String</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC27" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC28" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC29" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Parser</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC30" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fun </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parse</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;&gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC31" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl3-kt-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-mvikmpkittenstoreimpl3-kt-LC32" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenStoreImpl3.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bevor wir mit dem Download beginnen, geben wir den LoadingStarted-Effekt aus, wodurch das isLoading-Flag gesetzt wird. </font><font style="vertical-align: inherit;">Nach Abschluss des Downloads geben wir entweder LoadingFinished oder LoadingFailed aus. </font><font style="vertical-align: inherit;">Im ersten Fall l√∂schen wir das Flag isLoading und wenden die Liste der Bilder an, im zweiten Fall l√∂schen wir auch das Flag und wenden den Fehlerstatus an. </font><font style="vertical-align: inherit;">Bitte beachten Sie, dass Effekte die private API unseres KittenStore sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt implementieren wir den Download selbst:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/0908f90ae8233bb3f164c1f6a518141d.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433858" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenstoreimpl4-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-smi">network</span><span class="pl-k">:</span> <span class="pl-en">Network</span>,</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-smi">parser</span><span class="pl-k">:</span> <span class="pl-en">Parser</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC4" class="blob-code blob-code-inner js-file-line">) <span class="pl-k">:</span> <span class="pl-e">KittenStore</span>, <span class="pl-en">DisposableScope</span> by <span class="pl-en">DisposableScope</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">onNext</span>(<span class="pl-smi">value</span><span class="pl-k">:</span> <span class="pl-en">Intent</span>) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC7" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">subscribe</span>(<span class="pl-smi">observer</span><span class="pl-k">:</span> <span class="pl-en">ObservableObserver</span>&lt;<span class="pl-en">State</span>&gt;) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC10" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">fun</span> <span class="pl-en">reload</span>(<span class="pl-smi">network</span><span class="pl-k">:</span> <span class="pl-en">Network</span>, <span class="pl-smi">parser</span><span class="pl-k">:</span> <span class="pl-en">Parser</span>)<span class="pl-k">:</span> <span class="pl-en">Observable</span>&lt;<span class="pl-en">Effect</span>&gt; <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC13" class="blob-code blob-code-inner js-file-line">        network</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC14" class="blob-code blob-code-inner js-file-line">            .load()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC15" class="blob-code blob-code-inner js-file-line">            .flatMap(<span class="pl-smi">parser</span>::parse)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC16" class="blob-code blob-code-inner js-file-line">            .map(<span class="pl-smi">Effect</span>::<span class="pl-en">LoadingFinished</span>)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC17" class="blob-code blob-code-inner js-file-line">            .observeOn(mainScheduler)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC18" class="blob-code blob-code-inner js-file-line">            .asObservable()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC19" class="blob-code blob-code-inner js-file-line">            .defaultIfEmpty(<span class="pl-en">Effect</span>.<span class="pl-en">LoadingFailed</span>)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC20" class="blob-code blob-code-inner js-file-line">            .startWithValue(<span class="pl-en">Effect</span>.<span class="pl-en">LoadingStarted</span>)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">fun</span> <span class="pl-en">reduce</span>(<span class="pl-smi">state</span><span class="pl-k">:</span> <span class="pl-en">State</span>, <span class="pl-smi">effect</span><span class="pl-k">:</span> <span class="pl-en">Effect</span>)<span class="pl-k">:</span> <span class="pl-en">State</span> <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC23" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Omitted code</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC24" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC25" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">sealed</span> <span class="pl-k">class</span> <span class="pl-en">Effect</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC26" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Omitted code</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC27" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC28" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC29" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Network</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC30" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">fun</span> <span class="pl-en">load</span>()<span class="pl-k">:</span> <span class="pl-en">Maybe</span>&lt;<span class="pl-c1">String</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC31" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC32" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC33" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Parser</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC34" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">fun</span> <span class="pl-en">parse</span>(<span class="pl-smi">json</span><span class="pl-k">:</span> <span class="pl-c1">String</span>)<span class="pl-k">:</span> <span class="pl-en">Maybe</span>&lt;<span class="pl-c1">List</span>&lt;<span class="pl-c1">String</span>&gt;&gt;</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC35" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl4-kt-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-mvikmpkittenstoreimpl4-kt-LC36" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenStoreImpl4.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist zu beachten, dass wir Network und Parser an die Reload-Funktion √ºbergeben haben, obwohl sie uns bereits als Eigenschaften des Konstruktors zur Verf√ºgung stehen. </font><font style="vertical-align: inherit;">Dies geschieht, um Verweise darauf zu vermeiden und infolgedessen den gesamten KittenStore einzufrieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwenden Sie zum Schluss StoreHelper und beenden Sie die Implementierung von KittenStore:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/90c8f4d3af71de9b1bababbf24a02f6b.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433888" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenstoreimpl5-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">privates </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der private </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parser </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parser</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC4" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStore</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposableScope</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposableScope</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">val</span> helper <span class="pl-k">=</span> <span class="pl-en">StoreHelper</span>(<span class="pl-en">State</span>(), ::handleIntent, ::reduce).scope()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">onNext</span>(<span class="pl-smi">value</span><span class="pl-k">:</span> <span class="pl-en">Intent</span>) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC9" class="blob-code blob-code-inner js-file-line">        helper.onIntent(value)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC10" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">override</span> <span class="pl-k">fun</span> <span class="pl-en">subscribe</span>(<span class="pl-smi">observer</span><span class="pl-k">:</span> <span class="pl-en">ObservableObserver</span>&lt;<span class="pl-en">State</span>&gt;) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC13" class="blob-code blob-code-inner js-file-line">        helper.subscribe(observer)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC14" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC15" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC16" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">fun</span> <span class="pl-en">handleIntent</span>(<span class="pl-smi">state</span><span class="pl-k">:</span> <span class="pl-en">State</span>, <span class="pl-smi">intent</span><span class="pl-k">:</span> <span class="pl-en">Intent</span>)<span class="pl-k">:</span> <span class="pl-en">Observable</span>&lt;<span class="pl-en">Effect</span>&gt; <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC17" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">when</span> (intent) {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC18" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">is</span> <span class="pl-en">Intent</span>.<span class="pl-en">Reload</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> reload(network, parser)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC19" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC21" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">fun</span> <span class="pl-en">reload</span>(<span class="pl-smi">network</span><span class="pl-k">:</span> <span class="pl-en">Network</span>, <span class="pl-smi">parser</span><span class="pl-k">:</span> <span class="pl-en">Parser</span>)<span class="pl-k">:</span> <span class="pl-en">Observable</span>&lt;<span class="pl-en">Effect</span>&gt; <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC22" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Omitted code</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC24" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">fun</span> <span class="pl-en">reduce</span>(<span class="pl-smi">state</span><span class="pl-k">:</span> <span class="pl-en">State</span>, <span class="pl-smi">effect</span><span class="pl-k">:</span> <span class="pl-en">Effect</span>)<span class="pl-k">:</span> <span class="pl-en">State</span> <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC25" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Omitted code</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC27" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">private</span> <span class="pl-k">sealed</span> <span class="pl-k">class</span> <span class="pl-en">Effect</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC28" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> Omitted code</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC29" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC30" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC31" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">interface</span> <span class="pl-en">Network</span> {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC32" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fun </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">load</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC33" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC34" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC35" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parser</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC36" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fun </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parse</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;&gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC37" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenstoreimpl5-kt-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-mvikmpkittenstoreimpl5-kt-LC38" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenStoreImpl5.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unser KittenStore ist fertig! </font><font style="vertical-align: inherit;">Wir gehen zur Pr√§sentation √ºber.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kittenview</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deklarieren Sie die folgende Schnittstelle:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/9645de0c34f245bb0af0e331c2771491.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433909" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittenviewinterface-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittenviewinterface-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenView </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ereignis</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC3" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isLoading </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boolean</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC4" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isError </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boolean</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC5" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imageUrls </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC6" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    )</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versiegelte </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Event</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC9" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objekt</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RefreshTriggered </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Event</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ()</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC10" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittenviewinterface-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittenviewinterface-kt-LC11" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenViewInterface.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben ein Ansichtsmodell mit Lade- und Fehlerflags und einer Liste von Bildlinks angek√ºndigt. </font><font style="vertical-align: inherit;">Wir haben nur ein Ereignis - RefreshTriggered. </font><font style="vertical-align: inherit;">Sie wird jedes Mal ausgegeben, wenn der Benutzer ein Update aufruft. </font><font style="vertical-align: inherit;">KittenView ist die √∂ffentliche API unseres Moduls.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenDataSource</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Aufgabe dieser Datenquelle besteht darin, Text f√ºr eine JSON-Datei aus dem Web herunterzuladen. </font><font style="vertical-align: inherit;">Deklarieren Sie wie gewohnt die Schnittstelle:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/cb13bbeabf7bd57f53059b3b71b021da.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433928" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittendatasourceinterface-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittendatasourceinterface-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittendatasourceinterface-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnittstelle </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenDataSource</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittendatasourceinterface-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittendatasourceinterface-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limit </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Offset </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittendatasourceinterface-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittendatasourceinterface-kt-LC3" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenDataSourceInterface.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Datenquellenimplementierungen werden f√ºr jede Plattform separat durchgef√ºhrt. </font><font style="vertical-align: inherit;">Daher k√∂nnen wir eine Factory-Methode mit Expect / Actual deklarieren:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/eb5277b5d9684ad992f52edc09140836.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433944" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittendatasourcefactory-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittendatasourcefactory-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittendatasourcefactory-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intern </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erwarten </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenDataSource</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenDataSource</font></font></span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenDataSourceFactory.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Implementierung der Datenquelle wird im n√§chsten Teil erl√§utert, in dem Anwendungen f√ºr iOS und Android implementiert werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die letzte Phase ist die Integration aller Komponenten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implementierung der Netzwerkschnittstelle:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/5ba850187daea56be5b69035ff36aa5c.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433957" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-kittenstorenetwork-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-kittenstorenetwork-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-kittenstorenetwork-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interne </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreNetwork</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstorenetwork-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-kittenstorenetwork-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">private </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dataSource </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenDataSource</font></font></span></td>
      </tr>
      <tr>
        <td id="file-kittenstorenetwork-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-kittenstorenetwork-kt-LC3" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netzwerk</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstorenetwork-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-kittenstorenetwork-kt-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fun </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Load</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font><span class="pl-k"><font style="vertical-align: inherit;">√ºberschreiben </font></span></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√∂glicherweise</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dataSource.load (Limit </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Offset </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstorenetwork-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-kittenstorenetwork-kt-LC5" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreNetwork.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Implementierung der Parser-Schnittstelle:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/d14c01adbef415bb1164ffd00536301c.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433981" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-kittenstoreparser-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-kittenstoreparser-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-kittenstoreparser-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">internes </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objekt</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> KittenStoreParser </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parser</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-kittenstoreparser-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberschreibung </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parse</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vielleicht</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &lt; </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">String</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;&gt; </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-kittenstoreparser-kt-LC3" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        vielleichtFromFunction {</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-kittenstoreparser-kt-LC4" class="blob-code blob-code-inner js-file-line">            <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Json</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JsonConfiguration</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stabil</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-kittenstoreparser-kt-LC5" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">                .parseJson (json)</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-kittenstoreparser-kt-LC6" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">                .jsonArray</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-kittenstoreparser-kt-LC7" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">                .map {it.jsonObject.getPrimitive ( </font></font><span class="pl-s"><span class="pl-pds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> url </font></font><span class="pl-pds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"</font></font></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) .content}</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-kittenstoreparser-kt-LC8" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        }}</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-kittenstoreparser-kt-LC9" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">            .subscribeOn (computationScheduler)</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-kittenstoreparser-kt-LC10" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">            .onErrorComplete ()</font></font></td>
      </tr>
      <tr>
        <td id="file-kittenstoreparser-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-kittenstoreparser-kt-LC11" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreParser.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier haben wir die Bibliothek </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kotlinx.serialization</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwendet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Das Parsen wird in einem Berechnungsplaner durchgef√ºhrt, um ein Blockieren des Hauptthreads zu vermeiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Status in Ansichtsmodell konvertieren:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/93b72bd2faa46640b125605b674b7c10.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102433991" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpstatetomodel-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpstatetomodel-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpstatetomodel-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interner </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√üzustand</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toModel</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpstatetomodel-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modell</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpstatetomodel-kt-LC3" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        isLoading </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> isLoading,</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpstatetomodel-kt-LC4" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        isError </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpstatetomodel-kt-LC5" class="blob-code blob-code-inner js-file-line">            <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">falsch</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpstatetomodel-kt-LC6" class="blob-code blob-code-inner js-file-line">            <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehler </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wahr</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpstatetomodel-kt-LC7" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        },</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpstatetomodel-kt-LC8" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        imageUrls </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">data</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpstatetomodel-kt-LC9" class="blob-code blob-code-inner js-file-line">            <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .urls</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpstatetomodel-kt-LC10" class="blob-code blob-code-inner js-file-line">            <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Staat</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Daten</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fehler </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> emptyList ()</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpstatetomodel-kt-LC11" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpstatetomodel-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpstatetomodel-kt-LC12" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    )</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpStateToModel.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ereignisse in Absichten umwandeln:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/51ee3616f1664dcc2322a206fc2def16.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102434002" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpeventtointent-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpeventtointent-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpeventtointent-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">internes </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ereignis. </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toIntent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpeventtointent-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpeventtointent-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wenn</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dies</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpeventtointent-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpeventtointent-kt-LC3" class="blob-code blob-code-inner js-file-line">        <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ereignis</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RefreshTriggered </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neu laden</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpeventtointent-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpeventtointent-kt-LC4" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpEventToIntent.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fassadenvorbereitung:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/f425417396ab89af2d098c33577bf7f1.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102434013" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittencomponent1-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittencomponent1-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenComponent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onViewCreated</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC4" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onStart</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC7" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC8" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onStop</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC10" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC12" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onViewDestroyed</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC13" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC15" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onDestroy</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> () {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC16" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent1-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpkittencomponent1-kt-LC17" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}}</font></font></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht roh</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MviKmpKittenComponent1.kt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        gehostet mit ‚ù§ von </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viele Android-Entwickler kennen den Lebenszyklus. </font><font style="vertical-align: inherit;">Es ist gro√üartig f√ºr iOS und sogar JavaScript. </font><font style="vertical-align: inherit;">Das Diagramm des √úbergangs zwischen den Zust√§nden des Lebenszyklus unserer Fassade sieht folgenderma√üen aus: Ich werde </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kb/li/4z/kbli4zpkq5ts6lgucpwfrjegwq0.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kurz erkl√§ren, was hier passiert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuerst wird die onCreate-Methode aufgerufen, danach - onViewCreated und dann - onStart: Dadurch wird die Fassade in einen funktionsf√§higen Zustand versetzt (gestartet).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Irgendwann danach wird die onStop-Methode aufgerufen: Dadurch wird die Fassade gestoppt (gestoppt).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem gestoppten Zustand kann eine von zwei Methoden aufgerufen werden: onStart oder onViewDestroyed, dh entweder kann die Fassade erneut gestartet oder ihre Ansicht zerst√∂rt werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn die Ansicht zerst√∂rt wird, kann sie entweder erneut erstellt werden (onViewCreated) oder die gesamte Fassade kann zerst√∂rt werden (onDestroy).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Fassadenimplementierung k√∂nnte folgenderma√üen aussehen:</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/746d656d5a629e58afd10a5d1a6f41c6.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist102434056" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-mvikmpkittencomponent2-kt" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-kotlin ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-mvikmpkittencomponent2-kt-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenComponent</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC2" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">privater </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">val</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> store </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC3" class="blob-code blob-code-inner js-file-line">        <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreImpl</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC4" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">            network </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreNetwork</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dataSource </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenDataSource</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ()),</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC5" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">            Parser </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenStoreParser</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC6" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">        )</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">private </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> view </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenView? </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">private </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">var</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> startStopScope </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DisposableScope? </font></font></span> <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">null</font></font></span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC10" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC11" class="blob-code blob-code-inner js-file-line">    <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spa√ü </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onViewCreated</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansicht </font></font></span><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font></span> <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenView</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) {</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC12" class="blob-code blob-code-inner js-file-line">        <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diese</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .view </font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> view</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC13" class="blob-code blob-code-inner js-file-line"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    }}</font></font></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC15" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">fun</span> <span class="pl-en">onStart</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC16" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">val</span> view <span class="pl-k">=</span> requireNotNull(view)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC17" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC18" class="blob-code blob-code-inner js-file-line">        startStopScope <span class="pl-k">=</span> disposableScope {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC19" class="blob-code blob-code-inner js-file-line">            store.subscribeScoped(onNext <span class="pl-k">=</span> <span class="pl-smi">view</span>::render)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC20" class="blob-code blob-code-inner js-file-line">            view.events.map(<span class="pl-smi">Event</span>::toIntent).subscribeScoped(onNext <span class="pl-k">=</span> <span class="pl-smi">store</span>::onNext)</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC21" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC22" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC23" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC24" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">fun</span> <span class="pl-en">onStop</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC25" class="blob-code blob-code-inner js-file-line">        start<span class="pl-en">StopScope?</span>.dispose()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC26" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC27" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC28" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">fun</span> <span class="pl-en">onViewDestroyed</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC29" class="blob-code blob-code-inner js-file-line">        view <span class="pl-k">=</span> <span class="pl-c1">null</span></td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC30" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC31" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC32" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">fun</span> <span class="pl-en">onDestroy</span>() {</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC33" class="blob-code blob-code-inner js-file-line">        store.dispose()</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC34" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-mvikmpkittencomponent2-kt-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-mvikmpkittencomponent2-kt-LC35" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">MviKmpKittenComponent2.kt</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie es funktioniert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zuerst erstellen wir eine Instanz von KittenStore.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der onViewCreated-Methode erinnern wir uns an den Link zu KittenView.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In onStart signieren wir KittenStore und KittenView miteinander.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in onStop spiegeln wir sie voneinander;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In onViewDestroyed l√∂schen wir den Link zur Ansicht.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zerst√∂re in onDestroy KittenStore.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies war der erste Artikel in meiner MVI-Serie bei Kotlin Multiplatform. </font><font style="vertical-align: inherit;">Darin wir:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erinnerte sich, was MVI ist und wie es funktioniert;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die einfachste MVI-Implementierung auf Kotlin Multiplatform mithilfe der Reaktive Bibliothek durchgef√ºhrt;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hat ein gemeinsames Modul zum Laden einer Liste von Bildern mit MVI erstellt.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie die wichtigsten Eigenschaften unseres gemeinsamen Moduls:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist uns gelungen, den gesamten Code mit Ausnahme des UI-Codes in das Multiplattform-Modul einzuf√ºgen. </font><font style="vertical-align: inherit;">Alle Logik sowie die Verbindungen und Konvertierungen zwischen Logik und Benutzeroberfl√§che sind gemeinsam.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Logik und Benutzeroberfl√§che sind v√∂llig unabh√§ngig voneinander.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Implementierung der Benutzeroberfl√§che ist sehr einfach: Sie m√ºssen nur die eingehenden Ansichtsmodelle anzeigen und Ereignisse ausl√∂sen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Modulintegration ist ebenfalls einfach: Sie ben√∂tigen lediglich:</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KittenView-Schnittstelle (Protokoll) implementieren;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen Sie eine Instanz von KittenComponent.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seine Lebenszyklusmethoden zur richtigen Zeit nennen;</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieser Ansatz vermeidet das ‚ÄûDurchsickern‚Äú von Rx (oder Coroutine) in die Plattformen, was bedeutet, dass wir keine Abonnements auf Anwendungsebene verwalten m√ºssen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alle wichtigen Klassen werden durch Schnittstellen abstrahiert und getestet.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im n√§chsten Teil werde ich in der Praxis zeigen, wie die KittenComponent-Integration in iOS- und Android-Anwendungen aussieht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Folgen Sie mir auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und bleiben Sie in Verbindung!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de501948/index.html">Wie ein Zug von Bahnhof zu Bahnhof f√§hrt: Routing-Funktionen</a></li>
<li><a href="../de501954/index.html">Ob VR auf Microsoft Kinect wartet oder die Zukunft des Spielens ist - lassen Sie uns gemeinsam sprechen</a></li>
<li><a href="../de501956/index.html">Unsere Erfahrung mit Daten in etcd Kubernetes-Cluster direkt zu arbeiten (ohne K8s API)</a></li>
<li><a href="../de501960/index.html">Suchskalierung. Elasticsearch Seine Vorteile und Grundvoraussetzungen f√ºr die Installation</a></li>
<li><a href="../de501964/index.html">Wof√ºr sind Industriecomputer?</a></li>
<li><a href="../de501970/index.html">Was brauchst du, um einen guten Dungeon in RPG zu erstellen?</a></li>
<li><a href="../de501976/index.html">So lernen Sie, Software zu testen</a></li>
<li><a href="../de501978/index.html">Wie funktioniert das Prometheus-Histogramm?</a></li>
<li><a href="../de501980/index.html">Die Geschichte eines Projekts oder wie ich 7 Jahre PBX basierend auf Asterisk und Php erstellt habe</a></li>
<li><a href="../de501982/index.html">So √ºbertragen Sie einen Shader von einer Spiel-Engine auf Substance Painter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>