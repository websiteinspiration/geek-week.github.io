<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÅ ‚ùå üîΩ HighLoad ++, Anastasia Tsymbalyuk, Stanislav Tselovalnikov (Sberbank): comment nous sommes devenus MDA üëåüèø üëåüèΩ üé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La prochaine conf√©rence HighLoad ++ se tiendra les 6 et 7 avril 2020 √† Saint-P√©tersbourg, 
 d√©tails et billets ici . HighLoad ++ Siberia 2019. Salle "...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>HighLoad ++, Anastasia Tsymbalyuk, Stanislav Tselovalnikov (Sberbank): comment nous sommes devenus MDA</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/487540/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La prochaine conf√©rence HighLoad ++ se tiendra les 6 et 7 avril 2020 √† Saint-P√©tersbourg, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d√©tails et billets </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . HighLoad ++ Siberia 2019. Salle "Krasnoyarsk". 25 juin, 14 h R√©sum√©s et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pr√©sentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©velopper un syst√®me de gestion et de diffusion de donn√©es industrielles √† partir de z√©ro n'est pas une t√¢che facile. Surtout quand il y a un arri√©r√© complet, le temps de travail est d'un quart et les exigences du produit sont des turbulences perp√©tuelles. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uj/hf/lo/ujhflolbmpow2ysfvjjdsiomcya.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous dirons sur l'exemple de la construction d'un syst√®me de gestion des m√©tadonn√©es, comment construire un syst√®me √©volutif industriel dans un court laps de temps, qui comprend le stockage et la diffusion des donn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre approche tire pleinement parti des m√©tadonn√©es, du code SQL dynamique et de la g√©n√©ration de code bas√©e sur Swagger codegen et les guidons. Cette solution r√©duit le temps de d√©veloppement et de reconfiguration du syst√®me et l'ajout de nouveaux objets de gestion ne n√©cessite pas une seule ligne de nouveau code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous vous expliquerons comment cela fonctionne dans notre √©quipe: √† quelles r√®gles nous adh√©rons, quels outils nous utilisons, quelles difficult√©s nous avons rencontr√©es et comment nous les avons h√©ro√Øquement surmont√©es.</font></font><a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anastasia Tsymbalyuk (ci-apr√®s - AC):</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Mon nom est Nastya, et voici Stas! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stas Tselovalnikov (ci-apr√®s - SC):</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Bonjour √† tous! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Aujourd'hui, nous allons vous parler de MDA et comment, en utilisant cette approche, nous avons r√©duit le temps de d√©veloppement et introduit le monde √† un syst√®me de gestion de m√©tadonn√©es √©volutif industriel. </font><font style="vertical-align: inherit;">Hourra! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Nastya, qu'est-ce que le MDA? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Stas, je pense que nous allons passer √† cela maintenant. </font><font style="vertical-align: inherit;">Plus pr√©cis√©ment, je vais en parler un peu √† la fin de la pr√©sentation. </font><font style="vertical-align: inherit;">Parlons d'abord de nous: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zy/5q/t1/zy5qt1-etpbxnwskirsjg_sq-ri.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
je peux me d√©crire comme un chercheur de synergie dans les solutions informatiques industrielles. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Et moi?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que fait l'√©quipe SberData?</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Et vous n'√™tes qu'un mastodonte industriel, car vous avez apport√© plus d'une solution au bal! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - En fait, nous travaillons ensemble √† Sberbank dans la m√™me √©quipe et g√©rons les m√©tadonn√©es SberData: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n9/ou/qj/n9ouqjstpumrwh93zv0zcl6olby.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - SberData, si c'est simple - c'est une plateforme analytique o√π toutes les pistes num√©riques de chaque client circulent. Si vous √™tes un client de Sberbank, toutes les informations vous concernant y circulent exactement. De nombreux ensembles de donn√©es y sont stock√©s, mais nous comprenons que la quantit√© de donn√©es ne signifie pas leur qualit√©. Et les donn√©es sans contexte sont parfois totalement inutiles, car nous ne pouvons pas les appliquer, les interpr√©ter, les prot√©ger, les enrichir.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seules ces t√¢ches sont r√©solues par des m√©tadonn√©es. Ils nous montrent le contexte commercial et la composante technique des donn√©es, c'est-√†-dire o√π elles sont apparues, comment elles ont √©t√© transform√©es, √† quel point la description minimale, le balisage est maintenant. C'est d√©j√† suffisant pour commencer √† utiliser les donn√©es et √† leur faire confiance. C'est pr√©cis√©ment la t√¢che que les m√©tadonn√©es r√©solvent. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - En d'autres termes, la mission de notre √©quipe est d'augmenter l'efficacit√© de la plateforme d'analyse d'informations Sberbank car les informations dont vous venez de parler doivent √™tre livr√©es aux bonnes personnes, au bon moment et au bon endroit. Et rappelez-vous, vous avez √©galement dit que si les donn√©es sont du p√©trole moderne, les m√©tadonn√©es sont une carte des gisements de ce p√©trole. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- En effet, c'est une de mes brillantes d√©clarations, dont je suis tr√®s fier. </font><font style="vertical-align: inherit;">Techniquement, cette t√¢che a √©t√© r√©duite au fait que nous devions cr√©er un outil de gestion des m√©tadonn√©es au sein de notre plateforme et assurer son cycle de vie complet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais pour plonger dans les probl√®mes de notre sujet et comprendre o√π nous en sommes, je vous sugg√®re de revenir en arri√®re il y a 9 mois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors, imaginez: √† l'ext√©rieur de la fen√™tre est le mois de novembre, les oiseaux ont tous vol√© vers le sud, nous sommes tristes ... Et √† ce moment-l√†, nous avions un pilote r√©ussi avec l'√©quipe, il y avait des clients - nous sommes tous rest√©s dans la zone de confort jusqu'au point m√™me de non-retour.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®le de syst√®me de gestion des m√©tadonn√©es</font></font></h3><br>
<img src="https://habrastorage.org/webt/ga/hc/yp/gahcyp-lwacxan__ba3h4amhsbe.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Il y avait autre chose que vous aviez dans une zone de confort ... En fait, nous avions pour mission de cr√©er Metadata Broker, qui √©tait cens√© donner la possibilit√© de communiquer avec nos clients, nos programmes, nos syst√®mes. </font><font style="vertical-align: inherit;">Nos clients auraient d√ª avoir la possibilit√© au niveau du backend d'envoyer un type de package de m√©tadonn√©es ou de le recevoir. </font><font style="vertical-align: inherit;">Et nous, en fournissant cette fonction, √† notre niveau avons d√ª accumuler les informations les plus coh√©rentes et pertinentes sur les m√©tadonn√©es √† quatre niveaux logiques:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Niveau du glossaire m√©tier.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le niveau du mod√®le logique.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le niveau du mod√®le physique.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'√©tat de l'environnement que nous avons re√ßu en raison de l'inverse des environnements industriels.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et tout cela doit √™tre coh√©rent. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Oui, vraiment. Mais ici, j'expliquerais aussi d'une mani√®re simple, car je n'exclue pas que le sujet soit peu clair et incompr√©hensible ... Un </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
glossaire d'entreprise parle de ce que les gens intelligents en costume proposent pendant des heures ... comment nommer un terme, comment trouver une formule calcul. Ils r√©fl√©chissent depuis longtemps, et finalement ils n'ont qu'un glossaire commercial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mod√®le logique concerne la fa√ßon dont l'analyste se voit dans le monde, qui est capable de communiquer avec ces personnes intelligentes en costume-cravate, mais qui comprend en m√™me temps comment il serait possible d'atterrir. Loin des d√©tails de la r√©alisation physique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mod√®le physique concerne le moment o√π les programmeurs s√©v√®res, les architectes qui comprennent vraiment comment poser ces objets - dans quelle table mettre, quels champs cr√©er, quels index accrocher ... L' </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√©tat de l'environnement est une sorte de distribution. </font><font style="vertical-align: inherit;">C'est comme le t√©moignage d'une voiture. </font><font style="vertical-align: inherit;">Un programmeur veut parfois dire une chose √† la machine, mais elle se m√©prend. </font><font style="vertical-align: inherit;">Seul l'√©tat de l'environnement nous montre l'√©tat r√©el des choses, et nous comparons constamment tout; </font><font style="vertical-align: inherit;">et nous comprenons qu'il y a une diff√©rence entre ce que le programmeur a dit et l'√©tat r√©el de l'environnement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cas pour d√©crire les m√©tadonn√©es</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Expliquons-le avec un exemple concret. Par exemple, nous avons quatre de ces niveaux d√©sign√©s. Supposons que nous ayons ces gens s√©rieux dans des liens qui travaillent au niveau d'un glossaire commercial - ils ne comprennent pas du tout comment et ce qui est organis√© √† l'int√©rieur. Mais ils comprennent qu'ils doivent faire une forme de d√©claration obligatoire, ils doivent obtenir, disons, le solde moyen sur les comptes personnels: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xm/4y/5g/xm4y5gvemtitzrlgzug4znuhbtk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√† ce niveau, une personne devrait d√©j√† avoir son propre glossaire d'entreprise (conditions de d√©claration obligatoire) ou l'avoir (solde moyen sur un compte personnel). Vient ensuite l'analyste qui le comprend parfaitement, peut parler le m√™me langage avec lui, mais il peut √©galement parler le m√™me langage avec les programmeurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il dit: "√âcoutez, ici vous avez toute l'histoire divis√©e en comptes s√©par√©s en tant qu'entit√©s, et ils ont un attribut - le solde moyen." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vient ensuite l'architecte et d√©clare: ¬´Nous ferons cette vitrine des pr√™ts aux personnes morales. En cons√©quence, nous ferons un tableau physique des comptes personnels, nous ferons un tableau physique des soldes quotidiens sur les comptes personnels (car ils sont re√ßus tous les jours √† la cl√¥ture du jour de bourse). Et une fois par mois √† la date limite, nous calculerons la moyenne (tableau des soldes mensuels), comme demand√©. ¬ª</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä peine dit que c'√©tait fait. </font><font style="vertical-align: inherit;">Et puis notre analyseur est venu, qui est all√© sur le circuit industriel et a dit: "Oui, je vois - il y a des tables n√©cessaires ..." Qu'est-ce qui a enrichi cette table? </font><font style="vertical-align: inherit;">Ici (√† titre d'exemple) - partitions et index, m√™me si, √† proprement parler, les partitions et les index peuvent √™tre au niveau de la conception du mod√®le physique, mais il peut y avoir autre chose (par exemple, le volume de donn√©es).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrement et stockage au niveau des m√©tadonn√©es</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Comment tout est stock√© chez nous? Ceci est une forme super simplifi√©e de l'exemple que Stas a peint plus t√¥t! Comment tout cela nous appartiendra-t-il? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cl/6b/cu/cl6bcun8zmcowyo5pocbcjy64j8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, ce sera une ligne dans l'objet Glossaire, une dans l'objet Termes, une dans les Entit√©s, une dans les Attributs, etc. Dans la figure ci-dessus, chaque rectangle est un objet de notre syst√®me de contr√¥le, qui repr√©sente telle ou telle information qui y est stock√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de vous pr√©senter lentement la terminologie, je vous demande de noter ce qui suit ... Qu'est-ce qu'un objet de gestion des m√©tadonn√©es? Physiquement, cela est pr√©sent√© sous la forme d'un tableau, mais en fait, certaines informations y sont stock√©es sous forme de termes, glossaires, entit√©s, attributs, etc. Ce terme, ¬´objet¬ª, nous continuerons √† l'utiliser dans notre pr√©sentation. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ici, il faut dire que chaque cube est juste une table dans notre syst√®me o√π nous stockons des m√©tadonn√©es, et nous appelons cela l'objet de contr√¥le.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exigences relatives aux m√©tadonn√©es</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'avions-nous √† l'entr√©e? </font><font style="vertical-align: inherit;">A l'entr√©e, nous avons re√ßu des exigences assez int√©ressantes. </font><font style="vertical-align: inherit;">Il y en avait beaucoup, mais ici nous voulons en montrer trois principales: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/by/he/sa/byhesadzdaf8chjm3cncp9hhzxs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re exigence est assez classique. </font><font style="vertical-align: inherit;">On nous dit: "Les gars, tout ce qui vous est arriv√© une fois doit arriver pour toujours." </font><font style="vertical-align: inherit;">L'historisation est termin√©e, et toute modification de votre syst√®me de m√©tadonn√©es qui vous est venue (peu importe si un paquet de 100 champs est arriv√© (100 modifications) ou si un champ a chang√© dans une table) n√©cessite un nouvel enregistrement des m√©tadonn√©es. </font><font style="vertical-align: inherit;">Ils n√©cessitent √©galement le retour d'une r√©ponse:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par d√©faut - √©tat actuel;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par date;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par num√©ro de r√©vision.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me exigence √©tait plus int√©ressante: on nous a dit qu‚Äôils pouvaient travailler avec nous sur des objets, mais qu‚Äôils devaient beaucoup programmer en Java, mais qu‚Äôils ne le voulaient pas. Ils ont sugg√©r√© de m√©langer 100 objets (ou 10) √† la fois, et nous devrions g√©rer cette activit√© (car nous le pouvons). Que signifie le m√©lange? Par exemple, 10 colonnes sont arriv√©es. Ils ont un lien vers l'identifiant de la table, mais nous n'avons pas la table elle-m√™me - elle est venue √† la fin de JSON. "Vous pensez et traitez - il faut que vous puissiez"! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par ordre d'int√©r√™t croissant - le troisi√®me: ¬´Nous voulons √™tre en mesure non seulement d'utiliser l'API que vous allez nous fabriquer, mais aussi de nous comprendre ...¬ª Et dans un ordre arbitraire dire: ¬´Donnez-nous l'union de cet objet √† celui via le troisi√®me objet. Et laissez votre syst√®me lui-m√™me comprendre comment tout faire, demandez √† la base de donn√©es et renvoyez le r√©sultat en JSON. ¬ª</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avions une telle histoire √† l'entr√©e.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estimations estim√©es</font></font></h3><br>
<img src="https://habrastorage.org/webt/nj/e3/jg/nje3jgkluyviljufojbo92jkd48.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Selon nos calculs approximatifs, afin de mettre en ≈ìuvre tout ce concept, chaque objet de contr√¥le devait participer √† sept interfaces: simple (simple), pour objet par √©criture / lecture et suppression ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trois autres - pour √©criture / lecture / suppression universelle, t Autrement dit, que nous pouvons jeter tout cela dans n'importe quel ordre et comment transf√©rer l'ensemble de soupe au syst√®me, et elle trouvera dans quel ordre supprimer, mettre, lire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Encore une chose - pour construire une hi√©rarchie afin que nous puissions indiquer au syst√®me - ¬´Rendez-nous d‚Äôobjet en objet¬ª; </font><font style="vertical-align: inherit;">et il retourne un arbre d'objets imbriqu√©s.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Complexit√© de la mise en ≈ìuvre</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - En plus des exigences techniques qui nous sont venues au moment du d√©but de cette histoire, nous avons eu des difficult√©s suppl√©mentaires. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/h4/pg/geh4pgnrayjpjtko_vryyvoco2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, il s'agit d'une certaine incertitude des exigences. Toutes les √©quipes ne pouvaient pas toujours exprimer clairement ce dont elles avaient besoin du service, et souvent le moment de v√©rit√© est n√© au moment de prototyper une histoire sur le circuit de la d√©f. Et pendant qu'il atteignait le bal, il pouvait y avoir plusieurs cycles. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - C'est la turbulence m√™me qui a √©t√© annonc√©e au d√©but. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ensuite ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y avait un d√©lai prohibitif, car m√™me au moment du lancement, plus de cinq √©quipes d√©pendaient de nous. Classiques du genre: le r√©sultat √©tait n√©cessaire hier. L'option de travail est en mode cheval √©chaud√©, c'est ce que nous avons fait.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le troisi√®me est un grand d√©veloppement. </font><font style="vertical-align: inherit;">Nastya sur sa diapositive a montr√© que lorsque nous avons examin√© les exigences de quoi et comment faire, nous avons r√©alis√©: 1 objet n√©cessite sept API (soit pour lui, soit une participation √† sept API). </font><font style="vertical-align: inherit;">Cela signifie que si nous avons un patch (6 objets, mod√®le, 42 API) va dans une semaine ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Approche standard</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Oui, en fait 42 API par semaine ne sont que la pointe de l'iceberg. </font><font style="vertical-align: inherit;">Nous savons bien que pour garantir le fonctionnement de ces 42 API, nous avons besoin de:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tout d'abord, cr√©ez une structure de stockage pour l'objet;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deuxi√®mement, assurer la logique de son traitement;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">troisi√®mement, √©crivez l'API m√™me √† laquelle l'objet participe (ou est configur√© sp√©cifiquement pour lui);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatri√®mement, ce serait bien de couvrir id√©alement tout cela avec les contours des tests, tester et dire que tout va bien;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cinqui√®mement (la m√™me cerise sur le g√¢teau), pour documenter toute cette histoire.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/rv/lt/c_/rvltc_6nldjheqzq5hnju6eqhiq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturellement, la premi√®re chose qui nous est venue √† l'esprit (au d√©but, nous vous avons montr√© un diagramme approximatif) - nous avions environ 35 objets. </font><font style="vertical-align: inherit;">Il fallait en faire quelque chose, tout cela devait √™tre d√©duit, et il y avait tr√®s peu de temps. </font><font style="vertical-align: inherit;">Et la premi√®re id√©e qui nous est venue a √©t√© de nous asseoir, de retrousser nos manches et de commencer √† coder. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me apr√®s avoir travaill√© dans ce mode pendant quelques jours (nous avions trois √©quipes), nous avons atteint une temp√©rature aussi √©clatante ... Tout le monde √©tait nerveux ... Et nous avons r√©alis√© que nous devions chercher une approche diff√©rente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Approche personnalis√©e</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons commenc√© √† pr√™ter attention √† ce que nous faisons. L'id√©e de cette approche a toujours √©t√© sous nos yeux, car nous sommes engag√©s dans les m√©tadonn√©es depuis tr√®s longtemps. D'une certaine mani√®re, tout de suite, cela ne nous est pas venu √† l'esprit ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le deviner, l'essence de cette id√©e est d'utiliser des m√©tadonn√©es. Cela consiste dans le fait que nous collectons la structure de notre r√©f√©rentiel (il s'agit de certaines m√©tadonn√©es), une fois que nous avons cr√©√© un mod√®le pour du code (par exemple, plusieurs API ou proc√©dures pour le traitement de la logique, des scripts pour cr√©er des structures). Une fois que nous avons cr√©√© ce mod√®le, puis parcouru toutes les m√©tadonn√©es. Par des balises, les propri√©t√©s sont substitu√©es dans le code (noms d'objets, champs, caract√©ristiques importantes) et le code r√©sultant est pr√™t.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hy/rl/xt/hyrlxt2uztvqeakue0olbbmctzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, il suffit de se confondre une fois - cr√©ez un mod√®le, puis utilisez toutes ces informations pour les objets existants et nouveaux. </font><font style="vertical-align: inherit;">Ici, nous introduisons un autre concept - #META_META. </font><font style="vertical-align: inherit;">Je vais vous expliquer pourquoi, afin de ne pas vous confondre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre syst√®me est engag√© dans la gestion des m√©tadonn√©es, et l'approche que nous utilisons d√©crit un syst√®me de gestion des m√©tadonn√©es, c'est-√†-dire deux m√©tas. </font><font style="vertical-align: inherit;">¬´MetaMeta¬ª - nous l'avons appel√© √† la maison, √† l'int√©rieur de l'√©quipe. </font><font style="vertical-align: inherit;">Afin de ne pas confondre davantage les autres, nous utiliserons ce terme m√™me.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©canisme pour assurer l'historisation et la r√©vision</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Vous avez r√©sum√© le reste de notre discours. Nous le dirons plus en d√©tail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je dois dire que lors de la pr√©paration du discours, on nous a demand√© de fournir des informations techniques qui pourraient int√©resser mes coll√®gues. Nous le ferons. De plus, les diapositives deviendront plus techniques - peut-√™tre que quelqu'un verra quelque chose d'int√©ressant pour lui-m√™me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Premi√®rement, comment nous avons r√©solu le probl√®me de l'historisation et de la r√©vision. Peut-√™tre que cela ressemble √† combien. Consid√©rez ceci en utilisant des m√©tadonn√©es comme exemple, qui d√©crivent un seul champ dans la table de publication (comme exemple):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ny/7m/dd/ny7mddafiwemxmigli7who-mee8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a un id - "7", un nom - carry_note, un lien id_table 73 et un champ - 255. Nous entrons dans la cl√© primaire et alternative un champ (de type date) √† partir du moment o√π cette entr√©e devient valide - valid_from. Et un autre champ - √† quelle date cet enregistrement est valide (valid_to). Dans ce cas, ils sont remplis par d√©faut - il est clair que cette entr√©e est toujours valable en principe. Et cela se produit jusqu'√† ce que nous voulions changer, disons, la longueur du champ.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√®s que nous voulons le faire, nous fermons l'enregistrement valid_to (nous fixons l'horodatage auquel l'√©v√©nement s'est produit). En m√™me temps, nous faisons un nouveau record ("300"). Il est facile de remarquer que dans cette situation, si vous regardez la base de donn√©es √† un moment donn√© par la ¬´bataille¬ª (entre) entre valid_from et valid_to, nous obtiendrons un enregistrement unique, mais pertinent √† ce moment-l√†. Et en m√™me temps, nous avons simultan√©ment gard√© un journal de r√©vision: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zt/-k/s9/zt-ks9u2di9jbuzxgyd-dpnqllc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nous y avons enregistr√© des </font><font style="vertical-align: inherit;">r√©visions qui </font><font style="vertical-align: inherit;">augmentent en s√©quence (s√©quence) id, et le point temporel qui correspond √† cet id de r√©vision. Nous avons donc pu cl√¥turer la premi√®re demande. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Je suppose oui! </font><font style="vertical-align: inherit;">Ici, l'approche est la m√™me. </font><font style="vertical-align: inherit;">Nous comprenons que chaque objet dans le syst√®me a ces deux champs obligatoires, et une fois que nous nous sommes tromp√©s - avons cod√© la logique de traitement de ce mod√®le, puis (lors de la g√©n√©ration du code dynamique) nous substituons simplement les noms des objets correspondants. </font><font style="vertical-align: inherit;">Ainsi, chaque objet de notre syst√®me devient une r√©vision, et tout cela peut √™tre trait√© - nous n'√©crivons g√©n√©ralement pas une seule ligne de code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mise √† jour par lots</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - La deuxi√®me exigence pour moi √©tait un peu plus int√©ressante. Honn√™tement, en ce qui concerne l'entr√©e, au d√©but, je suis juste tomb√© dans la stupeur. Mais la d√©cision est venue! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vous rappelle que c'est le m√™me cas lorsque, disons, JSON avec un paquet nous est parvenu pour le ni√®me nombre d'objets qui doivent √™tre ins√©r√©s dans le syst√®me. Dans le m√™me temps, au d√©but, nous avons 10 colonnes faisant r√©f√©rence √† une table inexistante, et la table est all√©e dans la queue JSON. Que faire? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pd/ja/nn/pdjann3lit7axfk1infab47y8rm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons trouv√© un moyen d'utiliser le m√©canisme des requ√™tes hi√©rarchiques r√©cursives - c'est √† coup s√ªr la connexion bien connue par construction ant√©rieure. Nous l'avons fait comme suit: voici un fragment de notre code de production:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sk/zz/i7/skzzi7gzikn81bg2lmlk4fzd9wq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce stade (une section de code entour√©e d'un ovale rouge) est le point principal qui donne une id√©e. Et ici, l'objet est li√© √† un autre objet li√© par une cl√© √©trang√®re, qui est dans le syst√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre: si quelqu'un √©crit du code dans Oracle, il y a All_columns, All_all_ tables, All_constraint tables - c'est le dictionnaire qui est trait√© par les scripts (comme ceux montr√©s sur la diapositive ci-dessus). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä la sortie, nous obtenons des champs qui nous donnent la priorit√© de traitement des objets, et donnons en plus un descripteur - c'est essentiellement un identifiant de cha√Æne unique pour tout enregistrement de m√©tadonn√©es. Le code par lequel le descripteur est re√ßu est √©galement indiqu√© sur la diapositive ci-dessus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, un champ - √† quoi pourrait-il ressembler? Voici le code de la plateforme: oracle KP., Production. KP, my_scheme. KP, my_table. KP, etc., o√π KP est le code de champ. Il y aura donc un tel descripteur. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Quels sont les probl√®mes ici? Nous avons des objets dans le syst√®me et l'ordre de leur insertion est tr√®s important pour nous. Par exemple, nous ne pouvons pas ins√©rer de colonnes devant des tables, car une colonne doit faire r√©f√©rence √† une table sp√©cifique. Comme nous le faisons en standard: d'abord nous ins√©rons les tables, en r√©ponse nous obtenons un tableau d'id, par ces ID nous lan√ßons les colonnes et faisons la deuxi√®me op√©ration d'insertion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√©alit√©, comme l'a montr√© Stas, la longueur de cette cha√Æne atteint 8 √† 9 objets. L'utilisateur, en utilisant l'approche standard, doit effectuer toutes ces op√©rations √† tour de r√¥le (toutes ces 9 op√©rations) et comprendre clairement leur ordre afin qu'aucune erreur ne se produise.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour autant que j'interpr√®te correctement Stas, nous pouvons transf√©rer tous ces objets dans le syst√®me dans n'importe quel ordre et ne nous soucions pas de la fa√ßon dont nous devons effectuer cette insertion - nous venons de jeter un ensemble de soupe dans le syst√®me, et tout cela a d√©termin√© dans quel ordre ins√©rer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seule chose que j'ai est la question: que se passe-t-il si nous ins√©rons l'objet pour la premi√®re fois? Nous avons ins√©r√© la table avant, nous ne connaissons pas son identifiant. Comment indiquer (un exemple purement hypoth√©tique) que nous devons ins√©rer deux tableaux, chacun ayant une colonne? Comment pouvons-nous indiquer que dans cette colonne JSON se r√©f√®re √† table1, pas table2? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Un descripteur! La poign√©e que nous avons indiqu√©e sur cette diapositive (pr√©c√©dente). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et sur cette diapositive, la solution m√™me est donn√©e:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/au/_v/o2/au_vo2urh2ur5fllwuhuvgfaw78.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les descripteurs sont utilis√©s dans le syst√®me comme une sorte de champ mn√©monique qui n'existe pas, mais remplace id. </font><font style="vertical-align: inherit;">A ce moment, quand au d√©but le syst√®me comprend qu'il est n√©cessaire d'ins√©rer la table - insert, il recevra id; </font><font style="vertical-align: inherit;">et d√©j√† au stade de la g√©n√©ration de la requ√™te SQL pour l'insertion et la colonne, il fonctionnera sur id. </font><font style="vertical-align: inherit;">L'utilisateur ne peut pas prendre un bain de vapeur: ¬´Donnez la poign√©e et ex√©cutez!¬ª. </font><font style="vertical-align: inherit;">Le syst√®me fera l'affaire.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requ√™te universelle sur un groupe d'objets associ√©s</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre mon cas pr√©f√©r√©. C'est l'exigence technique pr√©f√©r√©e que nous avions. Ils sont venus vers nous et ont dit: ¬´Les gars, faites-le pour que le syst√®me puisse tout faire! D'objet en objet, s'il vous pla√Æt. Devinez comment tout cela se joint entre eux. Rendez-nous, JSON, s'il vous pla√Æt. Nous ne voulons pas programmer beaucoup en utilisant votre service "... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Question:" Comment?! " </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons fait de m√™me. Exactement la m√™me construction: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xm/ya/rm/xmyarmfesokkzn31kval5xnbvnu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
il a √©t√© utilis√© pour r√©soudre ce probl√®me. La seule diff√©rence est qu'il y avait un filtre valide, qui d√©roulait cet arbre hi√©rarchique uniquement pour les histoires o√π un descripteur √©tait requis. Relativement parlant, il √©tait unique pour chaque objet. Ici, toutes les connexions possibles dans le syst√®me sont sans torsion (nous avons environ 50 objets).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les connexions possibles entre les objets sont pr√©par√©es √† l'avance. Si nous avons un objet impliqu√© dans trois relations, respectivement, trois lignes seront pr√©par√©es pour que l'algorithme puisse comprendre. Et d√®s que la demande JSON nous parvient, nous nous rendons √† l'endroit o√π cette histoire a √©t√© pr√©par√©e √† l'avance dans MeteMet, nous recherchons la fa√ßon dont nous avons besoin. Si nous ne trouvons pas, c'est une histoire, si nous la trouvons, nous formons une requ√™te dans la base de donn√©es. En cours d'ex√©cution - retour de JSON (comme demand√©). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - En cons√©quence, nous pouvons transf√©rer au syst√®me de quel objet nous voulons recevoir. Et si vous pouvez d√©finir une connexion claire entre deux objets, le syst√®me lui-m√™me d√©terminera le niveau d'imbrication de l'objet qui vous reviendra dans l'arborescence:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tr√®s flexible! Une fois de plus, nos utilisateurs sont dans un √©tat de ¬´turbulence¬ª: aujourd'hui ils ont besoin d'une chose, demain ils en ont besoin d'une autre. Et cette solution nous permet d'adapter la structure de mani√®re tr√®s flexible. Ce sont trois cas cl√©s qui ont √©t√© utilis√©s de notre c√¥t√© central. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - R√©sumons certains. Il est clair que maintenant nous ne dirons pas tous les jetons √† cause du temps limit√©. √Ä notre avis, trois cas, nous avons effectu√© et racont√©. Nous avons r√©ussi, nous avons pu mettre toutes les logiques les plus complexes, et celle qui devrait fonctionner uniform√©ment pour chaque objet de gestion des m√©tadonn√©es, dans le code du noyau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous ne pouvions pas rendre ce code 100% dynamique, ce qui signifie qu'avec des objets cr√©√©s (peu importe s'ils ont d√©j√† √©t√© cr√©√©s ou qui seront cr√©√©s plus tard; l'essentiel est d'√™tre cr√©√© selon les r√®gles), le syst√®me peut fonctionner - rien n'a besoin d'√™tre ajout√©, r√©√©crit. </font><font style="vertical-align: inherit;">Il suffit de tester. </font><font style="vertical-align: inherit;">Nous avons gar√© toute cette histoire dans trois m√©thodes universelles. </font><font style="vertical-align: inherit;">√Ä mon avis, il y en a suffisamment pour r√©soudre presque tous les probl√®mes commerciaux:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tout d'abord, ce m√™me ¬´updater¬ª universel est une m√©thode qui permet de mettre √† jour / ins√©rer / supprimer (supprimer c'est fermer un enregistrement) sur un ou un groupe d'objets transf√©r√©s dans un ordre al√©atoire.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la seconde est une m√©thode qui peut renvoyer des informations universelles sur un seul objet;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la troisi√®me est la m√™me m√©thode qui peut renvoyer des informations de jointure connect√©es par des groupes d'objets.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voil√† comment cela s'est av√©r√©, et nous avons fait le noyau. </font><font style="vertical-align: inherit;">Et puis nous passerons √† votre partie pr√©f√©r√©e.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Point d'entr√©e de l'application</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Oui, c'est ma partie pr√©f√©r√©e, car c'est mon domaine de responsabilit√© - Application Server. </font><font style="vertical-align: inherit;">Pour comprendre dans quelle situation j'√©tais, je vais essayer de vous replonger dans un probl√®me. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stas a fait du bon travail et m'a transmis ces trois m√©thodes standard qui manipulaient ces objets. </font><font style="vertical-align: inherit;">Il s'agit d'une description purement sommaire - en r√©alit√©, il y en a beaucoup plus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5o/dk/mo/5odkmo2v_zex8mki419gtahlk3c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenons au tout d√©but pour vous plonger ... Comment les m√©tadonn√©es du syst√®me seront-elles pr√©sent√©es ici? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kc/b1/yk/kcb1yk6tgcqfrnez3dm_umstpzu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous voyons qu'il y a une table dans l'environnement, elle tombera dans notre syst√®me comme un enregistrement dans l'objet table et deux enregistrements dans l'objet champ. </font><font style="vertical-align: inherit;">Essentiellement, nous avons mis en place une structure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On peut remarquer que la quantit√© de ces objets est diff√©rente. Ensuite, afin de manipuler ces objets, de tout amener √† une structure universelle, afin que les trois m√©thodes comprennent ce qui est discut√©, Stas fait un pas avec le cheval. Il prend et retourne tous les objets, c'est-√†-dire qu'il repr√©sente n'importe quel objet de notre syst√®me de gestion des m√©tadonn√©es en quatre lignes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wv/bg/ne/wvbgne8ly7inu5jwunv3f8xnmne.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que tout objet de notre syst√®me de gestion des m√©tadonn√©es est physiquement une table, tout objet peut √™tre d√©compos√© selon ces quatre signes: num√©ro de ligne , table, champ et valeur de champ. C'est Stas qui est venu avec tout cela, et j'avais besoin de l'impl√©menter et de le donner aux utilisateurs. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- D√©sol√©, mais comment puis-je vous donner des colonnes dans une sorte de r√©ponse plate, par exemple, qui n'ont pas encore √©t√© cr√©√©es, seront cr√©√©es un jour, et Dieu sait ce qu'elles peuvent √™tre? .. Par cons√©quent, la seule option dans les conditions du code dynamique est de configurer l'interaction entre noyau et application, pour vous transmettre ces informations - uniquement telles que nous les voyons. Je pense que de mon point de vue, cette d√©cision a √©t√© ing√©nieuse, car elle vient uniquement de vous. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Maintenant, nous ne discuterons pas de cela. Deux semaines avant la fin du d√©lai, je suis rest√© avec le fait que j'avais ces trois m√©thodes sur les mains (√† gauche sur la diapositive pr√©c√©dente) qui manipulaient la structure universelle (√† droite sur la m√™me diapositive).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ma premi√®re pens√©e a √©t√© de tout simplement boucler tout au niveau de l'API et d'aller √† l'utilisateur avec ceci, en disant: ¬´Regardez, quelle chose brillante! </font><font style="vertical-align: inherit;">Tu peux faire n'importe quoi! </font><font style="vertical-align: inherit;">Transf√©rez tous les objets, ou m√™me ceux qui n'existent pas. </font><font style="vertical-align: inherit;">Cool, ouais "?! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ml/iq/qp/mliqqpbuethupkpzjgr-tstqgm4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et ils disent: ¬´Mais vous comprenez que votre service n'est pas du tout sp√©cialis√©? </font><font style="vertical-align: inherit;">En tant qu'utilisateur, je ne comprends pas quels objets je peux transf√©rer vers le syst√®me, comment je peux les manipuler ... Pour moi, c'est une bo√Æte noire, j'ai g√©n√©ralement peur de soumettre des donn√©es; </font><font style="vertical-align: inherit;">Je peux me tromper - j'ai peur. </font><font style="vertical-align: inherit;">Faites en sorte que je puisse suivre clairement les instructions et voir quels objets se trouvent dans le syst√®me et quelles m√©thodes de manipulation je peux utiliser. ¬ª</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grain. </font><font style="vertical-align: inherit;">Une approche</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, il est devenu clair pour nous que c'√©tait cool de faire une sp√©cification pour notre service. Bref, faire une liste d'objets de notre syst√®me, une liste de points, de manipulations et quels objets ils jonglent entre eux. Il se trouve que dans notre entreprise, nous utilisons Swagger √† ces fins comme une sorte de solution architecturale. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/we/vz/fo/wevzfoicvrvvkasgu3ihlkbcv7a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir examin√© la structure Swagger, j'ai r√©alis√© que je devais prendre quelque part la structure des objets qui se trouvent dans le syst√®me. Du noyau, je n'ai re√ßu que trois m√©thodes standard et un changeur de table. Rien d'autre. Pour moi, il semblait alors impossible de r√©cup√©rer toute la structure qui se trouve dans le r√©f√©rentiel √† partir de ces quatre champs standard. Je n'ai sinc√®rement pas compris o√π me procurer toutes les descriptions d'objets, toutes les valeurs autoris√©es, toute la logique ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Qu'est-ce que cela signifie o√π? </font><font style="vertical-align: inherit;">Vous et moi avons MetaMeta, qui fournit le noyau en mode temps r√©el. </font><font style="vertical-align: inherit;">Le noyau en ex√©cution en temps r√©el g√©n√®re une requ√™te SQL qui communique avec la base de donn√©es. </font><font style="vertical-align: inherit;">Tout est l√†, pas seulement ce dont vous avez besoin. </font><font style="vertical-align: inherit;">Il existe √©galement des liens entre les objets. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sur les conseils de Stas, je suis ensuite all√© chez MetaMetu et j'ai √©t√© surpris, car tout le kit de gentleman n√©cessaire pour g√©n√©rer des sp√©cifications standard √©tait l√†. </font><font style="vertical-align: inherit;">Puis l'id√©e est venue que vous devez cr√©er un mod√®le et tout peindre selon sept sc√©narios possibles - 7 API standard pour chaque objet.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grain. </font><font style="vertical-align: inherit;">OAS + Guidon</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, il est facile de remarquer en quoi consiste la sp√©cification: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0w/y5/wt/0wy5wtfsnvh9bpunt-fpdtgwce4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vous pouvez aller sur le site Web de l'OEA et sur le guidon (au bas de la diapositive) et voir en quoi cela devrait consister - il y a un ensemble de points de terminaison, un ensemble de m√©thodes et √† la fin il y a des mod√®les. Le code est r√©p√©t√© de temps en temps. Pour chaque objet, nous devons √©crire get, put. supprimer; pour un groupe d'objets, nous devons √©crire ceci et ainsi de suite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'astuce √©tait d'√©crire toute l'histoire une fois et de ne plus se baigner. La diapositive montre un exemple de code r√©el. Les objets bleus sont des balises dans le guidon, il s'agit d'un moteur de mod√®le; assez flexible, je conseille √† tout le monde - vous pouvez le personnaliser pour vous-m√™me, √©crire des gestionnaires de balises personnalis√©s ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au lieu de ces balises bleues, lorsque ce mod√®le est ex√©cut√© sur toutes les m√©tadonn√©es, toutes les propri√©t√©s significatives sont substitu√©es - le nom de l'objet, sa description, une sorte de logique (par exemple, que nous devons ajouter un param√®tre suppl√©mentaire, selon la propri√©t√©) et ainsi de suite. </font><font style="vertical-align: inherit;">√Ä la fin se trouve un lien vers le mod√®le qu'il interpr√®te.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code d'application. </font><font style="vertical-align: inherit;">Swagger Codegen + Guidon</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela, nous l'avons encod√©, enregistr√©, constitu√© une sp√©cification. Tout √©tait tr√®s cool et bon. Nous avons obtenu les 7 sc√©narios possibles pour chaque objet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donn√© √† l'utilisateur. Il a dit: ¬´Wow! Cool! Maintenant, nous voulons l'utiliser! " Quel est le probl√®me, encore une fois? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons une sp√©cification qui d√©crit chaque m√©thode en d√©tail, que faire avec elle, quels objets manipuler. Et il existe trois m√©thodes de noyau standard qui prennent en entr√©e le tableau invers√© d√©crit ci-dessus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, il suffisait de croiser l'un avec l'autre (maintenant cela me semble facile). Autrement dit, lorsqu'un utilisateur appelle une m√©thode dans l'interface, nous avons d√ª la transmettre correctement et correctement au noyau, en transformant le mod√®le (o√π nous avons de belles sp√©cifications) en ces quatre champs standard. C'√©tait tout ce qu'il fallait faire.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ql/20/bm/ql20bmpw34giiqlmn73ndf3thyy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mettre tout cela en pratique, il nous fallait des transformations ¬´nominatives¬ª ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conversions</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Swagger a initialement un tel outil - Swagger Codegen. Si vous √™tes d√©j√† entr√© dans les sp√©cifications, faites, il y a un bouton "G√©n√©rer une partie serveur". Cliquez sur, choisissez une langue - un projet termin√© est g√©n√©r√© pour vous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est g√©n√©r√© de fa√ßon remarquable: il y a toutes les descriptions de classe, toutes les descriptions de points de terminaison ... - cela fonctionne. Vous pouvez l'ex√©cuter localement - cela fonctionnera. Le probl√®me est un: il renvoie des talons - chaque m√©thode n'est pas incr√©ment√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'id√©e √©tait d'ajouter une logique bas√©e sur ces sept sc√©narios dans le g√©n√©rateur de code - ¬´g√¢cher¬ª l'un des mod√®les standard, configurez-le par vous-m√™me. Voici juste un exemple de code r√©el que nous utilisons dans le moteur de mod√®le et une liste des actions que nous devions effectuer pour configurer ce g√©n√©rateur de code pour nous-m√™mes:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tt/ye/ls/ttyelscqkjzd0js6dfnzpr_4opg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La chose la plus importante qu'ils ont faite a √©t√© de connecter les biblioth√®ques n√©cessaires, d'√©crire des classes pour communiquer avec le noyau et d'interpr√©ter (selon le sc√©nario) l'appel d'une ou plusieurs m√©thodes c√¥t√© noyau. Le mod√®le a √©galement √©t√© retourn√©: du beau indiqu√© dans le cahier des charges √† quatre champs, puis retransform√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le cas probablement le plus difficile ici √©tait de donner √† l'utilisateur un arbre, car le noyau nous renvoie √©galement quatre lignes - allez voir √† quel niveau se trouve la hi√©rarchie. Nous avons utilis√© le m√©canisme des relations ext√©rieures, qui est dans l'IDE, c'est-√†-dire que nous sommes all√©s √† MetaMetu, regard√© tous les chemins les uns des autres et g√©n√©r√© dynamiquement un arbre √† travers eux. L'utilisateur peut nous demander √† n'importe quel objet ce qu'il veut - un bel arbre lui sera rendu √† la sortie, dans lequel tout est d√©j√† structur√©. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Je vais vous arr√™ter une seconde, car je commence d√©j√† √† me perdre. Je vais vous demander dans le style "Est-ce que je comprends bien" ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous voulez dire que nous avons calcul√© tout le code le plus compliqu√© et le plus complexe qui devrait √™tre √©crit pour un nouvel objet. Et pour gagner du temps, pas pour le faire, nous avons r√©ussi √† tout mettre dans le noyau et √† rendre cette histoire dynamique ... Mais cette API (comme ils plaisantaient, "t√™tue") est si "peut faire n'importe quoi" qu'il est effrayant de la donner √† l'ext√©rieur: avec lui, vous pouvez corrompre les m√©tadonn√©es. C'est d'une part. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autre part, nous avons r√©alis√© que nous ne pouvons pas communiquer avec nos clients clients √† moins que nous ne leur donnions une API, qui sera une projection unique de ces objets de gestion des m√©tadonn√©es qui sont int√©gr√©s dans le syst√®me (en fait, ex√©cuter un certain contrat pour notre service). Il semblerait que tout - on frappe: si l'objet n'est pas l√† - il n'est pas encore l√†, et quand il appara√Æt - l'extension de contrat appara√Æt, d√©j√† un nouveau code.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous semblons √™tre entr√©s dans le codage manuel √©vitable, mais ici vous proposez de faire ce code par bouton. </font><font style="vertical-align: inherit;">Encore une fois, nous parvenons √† sortir de l'histoire lorsque nous devons √©crire quelque chose avec nos mains. </font><font style="vertical-align: inherit;">C'est vrai? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Oui, √ßa l'est vraiment. </font><font style="vertical-align: inherit;">En g√©n√©ral, mon id√©e √©tait de commencer la programmation une fois pour toutes, au moins √† l'aide de moteurs de mod√®les. </font><font style="vertical-align: inherit;">√âcrivez le code une fois, puis d√©tendez-vous. </font><font style="vertical-align: inherit;">Et m√™me si un nouvel objet appara√Æt dans le syst√®me - par le bouton on d√©marre la mise √† jour, tout se resserre, on a une nouvelle structure, de nouvelles m√©thodes sont g√©n√©r√©es, tout va bien.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tuning MetaMeta</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de rendre notre service encore meilleur, nous avons enrichi la MetaMeta standard. A l'entr√©e, nous avions ce qui restait du noyau. Nous avons √©galement ajout√© une description suppl√©mentaire aux objets, les objets sont regroup√©s en zones. Nous affichons tout cela dans la sp√©cification afin que l'utilisateur comprenne ce qu'il manipule et avec quel objet il communique actuellement. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l8/jw/z2/l8jwz2tyod81csu9xxpkwi1lwb4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seulement, nous y avons ajout√© quelques petites choses - types, formats, listes de valeurs acceptables, mod√®les, exemples. Cela pla√Æt √©galement aux utilisateurs - ils comprennent d√©j√† clairement ce qui peut √™tre ins√©r√©, ce qui ne peut pas. Nous fournissons √©galement un artefact client √† l'utilisateur, ce qui nous permet de d√©tecter les erreurs lors de la communication avec notre service (pr√©cis√©ment par format, d√©j√† au stade de la compilation).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le plus important, pour que toute cette magie fonctionne, nous devions nous mettre d'accord sur l'int√©rieur: cr√©er un ensemble de certaines r√®gles. </font><font style="vertical-align: inherit;">Il n'y en a pas beaucoup - j'en ai compt√© trois (il y en a deux sur la diapositive, donc il faudra s'en souvenir):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convention de d√©nomination. </font><font style="vertical-align: inherit;">Nous nommons sp√©cifiquement les objets dans le syst√®me afin de faciliter la reconnaissance des sc√©narios pour leur utilisation ult√©rieure.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accord de dactylographie. </font><font style="vertical-align: inherit;">C'est pour d√©terminer correctement les types, les formats et qu'ils se sont battus entre le noyau et le serveur d'applications, nous utilisons le syst√®me de v√©rification, par lequel nous comprenons √† quel format appartient une propri√©t√© particuli√®re.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cl√©s √©trang√®res valides. </font><font style="vertical-align: inherit;">Si l'objet re√ßoit un lien non valide vers un autre objet, alors toute cette magie ne fonctionnera pas correctement.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultat</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - C'est cool, mais beaucoup de th√©orie. Pouvez-vous donner un exemple pratique? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Oui, je l'ai sp√©cialement pr√©par√©. Avant de partir pour la conf√©rence, vendredi soir, litt√©ralement 5 minutes avant la fin de la journ√©e de travail, Stas m'a dit: ¬´Oh, regarde! J'ai publi√© un patch de mod√®le - comme c'est cool! Ce serait bien de mettre √† jour notre service. " Le patch ne contenait que deux objets, mais je comprends qu'avec l'ancienne approche, je devrais √™tre confus et √©crire ou ajouter 7 API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imm√©diatement, j'ai juste eu le clic d'un bouton pour faire fonctionner toute cette magie. J'ai sp√©cialement </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jf/gr/ae/jfgraecrwtkmqpkaro8dd33ce2e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
encercl√© en rouge l' </font><font style="vertical-align: inherit;">endroit o√π la magie est </font><font style="vertical-align: inherit;">sur le point de </font><font style="vertical-align: inherit;">se produire: je </font><font style="vertical-align: inherit;">clique sur le bouton ... Ce sont bien s√ªr des captures d'√©cran, mais en r√©alit√© tout fonctionne comme ceci:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9e/i9/f2/9ei9f2kb_hwoehod_unzzigzfgm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons une nouvelle m√©thode (entre les deux), qui donne d√©j√† des donn√©es, par laquelle nous, dans la hi√©rarchie, pouvons interroger la structure enti√®re, tous les objets imbriqu√©s: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9m/yu/vp/9myuvpinmkso-52vkoumvvrt2r8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zc/x8/7b/zcx87bkyy3xqnaqnbhlbifvs014.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/7w/_p/kh/7w_pkhczrzpdq8knnr2ief_9abe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et tout fonctionne! </font><font style="vertical-align: inherit;">Je n'ai pas du tout √©crit une seule ligne de code.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sommaire</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Premi√®rement, quel est le fait? Nous avons g√©r√© la logique la plus complexe, ce qui prendrait le plus de temps √† nos programmeurs, pour emballer du code de noyau 100% dynamique qui peut fonctionner avec des objets - ceux qui le sont et ceux qui le seront: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d8/xp/qe/d8xpqeq5w0itd_cch0ei793hh_u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deuxi√®mement, nous avons r√©ussi au niveau du serveur d'applications (o√π ce n'est pas possible) pour √©viter √©galement la programmation en raison de la g√©n√©ration de code - le m√™me bouton que vous avez d√©montr√©: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bc/07/a7/bc07a74gn9n8lnrekq5dzjjfnva.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Nous avons essay√© d'√©tendre la m√™me approche bas√©e sur les m√©tadonn√©es √† d'autres zones, √† la zone de test. Nous √©crivons √©galement un mod√®le une fois pour certains objets, y ins√©rons des balises. Et lorsque ce mod√®le est ex√©cut√© le long des m√©tadonn√©es, il g√©n√®re une feuille finie avec tous les sc√©narios de test, c'est-√†-dire que nous couvrons tous les objets avec des tests.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qc/wp/rf/qcwprf4610fb9txjxag0mu_jbye.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, la cerise sur le g√¢teau. Je sais que peu de gens aiment documenter ce qu'ils font. Nous avons √©galement r√©solu cette douleur en fonction des m√©tadonn√©es. Une fois que nous avons pr√©par√© un mod√®le avec un balisage html, nous l'avons marqu√©. Et lorsque nous passons en revue les m√©tadonn√©es, toutes ces balises sont remplac√©es par leurs propri√©t√©s correspondant aux objets. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/br/fw/qd/brfwqd8kkmrzw4i3vtj00nihefw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La sortie est une belle page html termin√©e. Ensuite, nous publions dans Confluence, et nous pouvons donner √† nos utilisateurs dans un format lisible par l'homme afin qu'ils puissent voir ce que nous avons dans le syst√®me, comment travailler avec lui, une description minimale, des valeurs acceptables, des propri√©t√©s requises, des cl√©s ... Ils peuvent tous le faire voir et peut le comprendre assez facilement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, nous avons quatre points principaux, et cette approche est appel√©e MDA (Model Driven Architecture). </font><font style="vertical-align: inherit;">Pour une raison quelconque, cela se traduit par une ¬´architecture pilot√©e par les mod√®les¬ª, m√™me si je l'appellerais une ¬´m√©thode de d√©veloppement logiciel¬ª. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/eg/xc/tdegxczzes1iuf9cabkvfyqpnsq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans quel but? </font><font style="vertical-align: inherit;">Vous cr√©ez un mod√®le, convenez de certaines r√®gles. </font><font style="vertical-align: inherit;">Ensuite, vous cr√©ez des mod√®les de transformation uniques de ce mod√®le dans un langage de programmation √† votre disposition. </font><font style="vertical-align: inherit;">Tout cela fonctionne pour changer d'anciens objets, pour en ajouter de nouveaux. </font><font style="vertical-align: inherit;">Vous √©crivez le code une fois et ne vous emb√™tez plus. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Honn√™tement, j'ai attendu l'int√©gralit√© du rapport lorsque vous r√©pondez √† cette question. </font><font style="vertical-align: inherit;">Passons √† mes diapositives pr√©f√©r√©es.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©cision. </font><font style="vertical-align: inherit;">Processus. </font><font style="vertical-align: inherit;">Avant</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ¬´Le processus. Avant ¬ª- c'est notre fiert√©, parce que nous programmions beaucoup, ne mangions presque rien - nous √©tions tr√®s mauvais. J'ai d√ª effectuer toutes ces 5 √©tapes pour chaque objet: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ww/md/b5/wwmdb5ner6xv170apuzcaipk7bw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c'√©tait tr√®s triste et cela nous a pris beaucoup de temps. Nous avons maintenant r√©duit cette cha√Æne alimentaire √† trois maillons, dont le plus important est simplement de cr√©er correctement l'objet, et rien de plus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/vi/3a/rxvi3axe32vloy0xw77jbs5whrw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MetaMeta est lanc√© par un bouton (mise √† jour), puis en test. Nous cherchons actuellement √† nous assurer que rien ne nous √©chappe, puisque nous avons r√©cemment commenc√© √† appliquer cette approche. Nous essayons de contr√¥ler tout ce processus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les estimations, tous nos co√ªts de main-d'≈ìuvre pour le d√©veloppement de tous nos logiciels ont √©t√© r√©duits de 6 fois. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- De ma part, je tiens √† dire sinc√®rement que le chiffre 6 n'est pas souffl√©, il est m√™me conservateur. </font><font style="vertical-align: inherit;">En fait, l'efficacit√© est encore plus √©lev√©e.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plans futurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez demand√© √† la fin du rapport de vous attarder sur nos plans. </font><font style="vertical-align: inherit;">Tout d'abord, il semble que nous devons parvenir non seulement √† une solution compl√®te, mais ali√©n√©e et en bo√Æte. </font><font style="vertical-align: inherit;">Ces technologies peuvent √™tre appliqu√©es quelque part √† proximit√©, le cas √©ch√©ant. </font><font style="vertical-align: inherit;">J'aimerais obtenir un produit fini qui sera d√©velopp√© et que nous pourrons proposer au nom de Sberbank. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, si nous parlons de t√¢ches imm√©diates, elles sont toutes affich√©es sur les diapositives avec des puces. </font><font style="vertical-align: inherit;">Malgr√© l'optimisation que nous avons re√ßue, la charge sur l'√©quipe est encore assez s√©rieuse. </font><font style="vertical-align: inherit;">Je ne peux pas dire avec certitude √† partir de quel trimestre nous pouvons passer √† la mise en ≈ìuvre de ces √©tapes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Num√©ro 6 et le cas que Nastya a apport√© - ils sont honn√™tes. C'√©tait vraiment vendredi, lorsque nous devions obtenir des documents (avion, voyage, etc.). L'√©quipe adjacente √©tait pr√©vue pour des tests lundi, et nous devions publier ce correctif, pas pour configurer les gars. √áa a march√©! C'est un vrai cas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/zz/t7/dlzzt7b-gf7fr_piyeigv5dvyeu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je serais heureux si cela pouvait √™tre utile pour n'importe lequel d'entre vous. Si vous avez des questions, nous sommes disponibles. Et apr√®s le rapport, ici aussi pendant un certain temps. Demander. Nous serons heureux de pouvoir vous aider! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- En effet, cette approche, je pense, peut commencer √† √™tre utilis√©e par tout le monde. </font><font style="vertical-align: inherit;">Pas n√©cessairement sous notre forme (nous sommes engag√©s dans la gestion des m√©tadonn√©es). </font><font style="vertical-align: inherit;">Cela peut √™tre un syst√®me de contr√¥le de n'importe quoi. </font><font style="vertical-align: inherit;">Tout ce que vous devez avoir √† port√©e de main est une vue relationnelle des choses, prendre des m√©tadonn√©es √† partir de l√†, comprendre certains moteurs de mod√®le et comprendre un langage de programmation (comment cela fonctionne). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ces outils sont dans le domaine public - vous pouvez d√©j√† commencer √† googler et comprendre comment les utiliser. </font><font style="vertical-align: inherit;">Je suis s√ªr que leur utilisation vous rendra la vie plus facile, meilleure et lib√®re g√©n√©ralement du temps pour de nouvelles t√¢ches ambitieuses et cool. </font><font style="vertical-align: inherit;">Remercier!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des questions</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Question du public (ci-apr√®s - A): - Dois-je bien comprendre que tout est empil√© parce que vous utilisez une base de donn√©es relationnelle? Il me semble que si vous regardiez vers la base de donn√©es orient√©e document, toute cette solution serait beaucoup plus facile pour vous que je ne le vois maintenant. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Pas vraiment. Ce que nous avons commenc√© quand nous avons parl√© des personnes travaillant au niveau du glossaire et de l'araign√©e qui va au bal, lit ces histoires et v√©rifie - en effet, la table avec le champ qui est responsable de ce terme du glossaire a lieu au bal . Ils ont dit de notre service: ¬´Les gars, vous devriez avoir une API REST. Comment vous le faites est votre probl√®me. Voici une liste des technologies autoris√©es - utilisez quelque chose de cette liste (c'est ce que nous pouvons utiliser dans Sberbank). ¬ª</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est le niveau de notre solution, l'architecture appliqu√©e. Pour nous, au contraire, il √©tait plus facile de faire cela non pas au niveau relationnel. Pourquoi? Je vais donner un exemple, l'un des nombreux ... Par exemple, je dois m'assurer, lorsque j'√©cris un champ, qu'il ne fait r√©f√©rence nulle part √† une table qui n'existe pas. Je fais juste une cl√© √©trang√®re dans la base de donn√©es et je ne suis pas inquiet. Je n'√©cris pas de ligne - elle ne me laissera pas faire ce disque. Et il en existe de nombreux exemples! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous devrions plut√¥t parler d'autre chose. Une histoire plus compliqu√©e: nous publierons un correctif de mod√®le avec un ensemble de donn√©es d'ajustement / certification, et il y a 6 objets. Et in√©vitablement, pour que vous puissiez fournir cet ensemble gentleman d'API, vous avez besoin de trois mois pour travailler (√† la main). Cela nous prendra une semaine et demie. Sans l'application de ces technologies, il √©tait tout simplement impossible de survivre dans ces conditions. Nous ne donnerions tout simplement pas un tel niveau de service!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est possible si vous avez construit la production de telle mani√®re que vous avez un patch de mod√®le (nouvel objet), un bouton ¬´Tout faire bien¬ª et un logiciel qui testera en mode d'√©mulation client. A gagn√© un nouveau, l'ancien ne tombait pas - cela devait √™tre r√©alis√©, mais comment - c'√©tait le choix de l'√©quipe. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/ln/nb/umlnnbfg3yswh30rmviy9zwevlc.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - J'ai une deuxi√®me question. Et quel est un exemple d'utilisation de la vie? Je comprends que th√©oriquement il semble que vous pouvez au moins d√©crire le monde entier avec votre objet META_META ... Mais dans la vie, comment l'utilisez-vous? A en juger par la fa√ßon dont il est mis en ≈ìuvre (tout doit √™tre mis les uns dans les autres), il devrait ralentir! </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Au fait, non (√©tonnamment)! Une autre application de cette histoire est les g√©n√©rateurs de code. C'est l√† que certaines vitrines, stockages sont construits, et vous √™tes ETL, vous essayez de garer toutes les options possibles sur neuf mod√®les, neuf moteurs de mod√®les qui sont d√©crits √† l'avance. √Ä l'aide de m√©tadonn√©es, vous d√©crivez cette transformation en utilisant ces mod√®les comme stubs. De plus, cette machine sans programmation donne un code ETL, g√©n√®re du code bas√© sur des m√©tadonn√©es. Je crois qu'il existe √©galement de telles technologies, les approches seront appropri√©es et correctes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Je comptais sur un exemple plus pr√©cis. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Dites-moi, s'il vous pla√Æt, il a √©t√© √©crit dans vos exigences que vous devez effectuer des requ√™tes structurelles complexes (Join et similaires). Dans quelle langue est-il impl√©ment√© ou le d√©crivez-vous de fa√ßon logique? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Acc√®s via l'API REST, le plus souvent c'est Java, bien qu'il puisse s'agir de n'importe quel langage. Notre service a √©t√© publi√© (dhttps, demandez https - vous obtiendrez JSON). Ces morceaux de code que nous avons montr√©s sont SQL. Afin de comprendre dans quel ordre il doit √™tre trait√©, nous avons effectu√© un r√©glage SQL sur les dictionnaires SGBD et l'avons plac√© dans un sch√©ma s√©par√© sous la forme de repr√©sentations mat√©rialis√©es. En cons√©quence, lorsqu'un patch de mod√®le est publi√©, le bouton ¬´Actualiser la vue mat√©rialis√©e¬ª est cliqu√© (les champs + apparaissent). Mais vraiment notre code est Java et Oracle. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il convient de noter ici que nous avons d√©cid√© de diviser les domaines de responsabilit√©. Nous avons d√©lib√©r√©ment transf√©r√© toute la magie au noyau, et Application interpr√®te simplement correctement ces r√©ponses. Autrement dit, le m√©canisme Join lui-m√™me se produit dans le noyau, et Java diffuse tout simplement avec comp√©tence tout dans l'arborescence et donne √† l'utilisateur le r√©sultat final. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Et que fait Code Gens - y √©crivez-vous d√©j√† la logique des requ√™tes complexes? Ou est-ce fait du c√¥t√© client? Nous devons comprendre quel c√¥t√© est d√©crit ... Ils ont pr√©sent√©, il s'av√®re, Code Gen, sur lequel il est n√©cessaire de d√©crire avec pr√©cision dans une certaine structure: par exemple, je veux que mon API apprenne telle ou telle Join, parcourez la liste; alors dites s'il y a dedans ou pas ... - des requ√™tes complexes suffisent. √Ä quel stade est-ce √©crit? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Si je comprends bien votre question, c'est exactement l'histoire quand nos clients, nos clients (c'est une √©quipe √† l'int√©rieur du noyau, de la plateforme) disent: "√âcoutez, nous ne voulons pas programmer - donnez-nous cela." ¬´√áa y est¬ª tout a √©t√© fait dans le noyau. Le noyau - essentiellement quoi? 80 pour cent, peut-√™tre 90 - c'est la g√©n√©ration de code dynamique, le texte qui sera appel√© sous PL / SQL, mais tourn√© vers la base de donn√©es. L√†, m√™me dans le temps, cette ligne est g√©n√©r√©e plus longtemps, puis la base de donn√©es est acc√©d√©e (par exemple, la demande Join), la retourne, l'enveloppe en JSON et l'affiche √† l'envers. De plus, Java transforme tout cela en un contrat, qui d√©pend de la structure. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ET:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- R√©v√©l√© une solution de mise √† jour par lots. Et comment se d√©roule la garantie de livraison - le colis est-il arriv√© en totalit√© ou en partie? Ont-ils un certain cachend? Et comment s'assurer que ni le service ne tombe, ni les structures de donn√©es n'ont aucune sorte de coh√©rence, afin qu'il n'y ait pas d'erreurs? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Nous avons un protocole - il existe deux modes de mise √† jour. Dans l'un d'eux, vous pouvez d√©finir le drapeau "Appliquer tout ce que vous pouvez." Il existe certains logiciels qu'Excel convertit en JSON - il peut y avoir 10 000 lignes. Et vous, √† proprement parler, deux lignes peuvent √™tre invalides (erreur). Et soit vous dites: ¬´Appliquez tout ce que vous pouvez¬ª; ou "Appliquer uniquement si toute l'histoire n'aura pas une seule erreur." L√†, le statut int√©gral sera par exemple la restauration. En fait, une insertion est effectu√©e dans la base de donn√©es, mais la validation n'est pas appel√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cas d'erreur - il appelle un rollback, c'est dans le protocole; vous obtenez le protocole de toute fa√ßon. Vous obtenez un statut sur chaque ligne et vous avez un identifiant dans un champ s√©par√© - soit un nombre (identifiant d'objet), soit une autre cl√©, soit les deux. Le protocole permet de comprendre ce qui est arriv√© √† ma demande. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - L'utilisateur lui-m√™me indique dans laquelle des options il doit se d√©placer. Nous passons ce param√®tre au c√¥t√© du noyau, et le noyau produit d√©j√† toute la magie, nous donne la r√©ponse et nous l'interpr√©tons. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ET:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Pourquoi n'avez-vous pas utilis√© de compilateur d'expressions int√©gr√© qui aiderait √† d√©finir la r√®gle?" Supposons que nous ayons un mod√®le, je blogue dans une langue (langage de script tap√© / non tap√©); a √©crit: "Je veux une liste." Pass√© ce fragment pour qu'un processeur de code m√¢che tout cela, le mette dans une base de donn√©es NoSQL, comme sugg√©r√© dans la premi√®re question ... Pourtant, il n'est pas clair pourquoi une base de donn√©es relationnelle et pourquoi et comment g√©rer la redondance des donn√©es? Un homme vous envoie un mod√®le avec un milliard de d√©chets ... Comment ces accords sont-ils conclus quand une personne en a besoin? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/kd/7h/gwkd7h6jpjvt37swvv7nbnaiq7c.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Je vais essayer de r√©pondre si j'ai bien compris la question." La plupart du programme communique avec nous maintenant. Lorsque le m√©canisme d'interaction d'int√©gration est mis en place, peu de gens communiquent avec nous en tant que programmes. Il y a, bien s√ªr, des cas o√π les gens envoient des exelniks pour le d√©versement principal: nous en faisons des JSON, les t√©l√©chargeons, mais il s'agit plus d'un param√®tre principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et nous avons un mode lorsque vous avez envoy√© 5 000 lignes, dont 4 900 sont retourn√©es avec le statut "J'ai trait√©, je n'ai trouv√© aucun changement, je n'ai rien fait". Mais cela se refl√®te dans le protocole et il n'y a pas d'erreur. Il s'agit d'une part de redondance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons toute cette histoire stock√©e dans une forme approximative √† la troisi√®me, normale, ce qui n'implique pas de redondance, contrairement √† certaines structures d√©normalis√©es qui sont utilis√©es, par exemple, pour les vitrines.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi relationnel? Les g√©n√©rateurs de code fonctionnent pour nous et la sensibilit√© √† la qualit√© des m√©tadonn√©es dans le syst√®me est tr√®s √©lev√©e. Et lorsque nous avons la possibilit√© de configurer une cl√© √©trang√®re en utilisant des relations et de nous assurer ... Le dossier ne se couche tout simplement pas - il y aura une erreur si quelque chose ne va pas dans le syst√®me, en cas de d√©faillance. Et nous voulons, mais nous ne cherchons pas de travail suppl√©mentaire ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous ne sommes pas mesur√©s √† cause du nombre de lignes de code que nous avons √©crit: "Avez-vous r√©solu la question du service et de sa stabilit√© ou non?" Vous n'√©crivez peut-√™tre pas du tout - l'essentiel est que cela fonctionne. En ce sens, c'√©tait tout simplement plus rapide et plus pratique pour nous de le faire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne prends pas de fournisseur sp√©cifique, mais les bases de donn√©es relationnelles se d√©veloppent depuis 20 ans! Ce n'est pas juste comme √ßa. Prenez, par exemple, Word ou Excel sous Windows - vous n'y programmez pas le code qui, √† l'aide de "Assembleur", acc√®de et d√©place les t√™tes du disque dur pour √©crire un fichier ... La m√™me chose est ici! Nous venons d'utiliser les d√©veloppements qui √©taient dans le SGBDR, et c'√©tait pratique. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Pour garantir toutes nos exigences, l'int√©grit√© des m√©tadonn√©es √©tait importante pour nous. Et ici, nous voulions probablement aussi dire que nous n'avons pas du tout √† nous accrocher - nous utilisons du relationnel, pas du relationnel ... L'essence du rapport est que vous pouvez √©galement commencer √† l'utiliser. Pas n√©cessairement sur une base relationnelle, car √† coup s√ªr, d'autres ont √©galement une sorte de m√©tadonn√©es qui peuvent √™tre collect√©es: au moins, quelles tables, quels champs, et tout cela est programm√©. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Le syst√®me implique une certaine utilisation. Comment pr√©voyez-vous (ou avez-vous d√©j√† fait) la livraison des donn√©es √† votre syst√®me? Il est clair qu'une sorte de mise √† jour de la structure des donn√©es est en cours √† l'√©picerie. Comment tout cela vous vient-il? Automatiquement, ou votre agent est debout, ou pliez-vous toutes les √©quipes de d√©veloppement pour recevoir des mises √† jour? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Nous avons deux modes de fonctionnement. L'une est lorsque les d√©veloppeurs eux-m√™mes ou les √©quipes elles-m√™mes sont oblig√©s de diffuser des m√©tadonn√©es dans le syst√®me via les services REST. Le deuxi√®me mode de fonctionnement est le m√™me ¬´aspirateur¬ª: nous allons nous-m√™mes dans l'environnement et en prenons toutes les m√©tadonn√©es possibles. Nous le faisons une fois par jour et v√©rifions simplement ce que les d√©veloppeurs nous ont envoy√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/om/qs/o0omqsz1ftq17pwp2_urym0g4he.jpeg"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SC:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Sur les quatre niveaux que nous avons examin√©s, les trois premiers niveaux (glossaire, mod√®les logiques, mod√®les physiques) sont l'histoire qui nous vient par d√©faut en mode Metadata Broker, et nous sommes un participant passif. Ils nous appellent, nous passent quelque chose, demandent; notre t√¢che est de nous garer de mani√®re coh√©rente. Bien qu'il y ait des cas o√π nous mettons en place quelques histoires avec les ressources de l'√©quipe, si nous sommes tr√®s int√©ress√©s √† avoir ces m√©tadonn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme l'a dit Nastya, concernant l'histoire √† l'envers (dans le jargon technique, nous l'appelons ¬´aspirateur¬ª), nous allons dans l'environnement industriel et lisons quelques donn√©es. Il existe diff√©rents cas - nous sommes pr√™ts √† discuter plus tard, nous sommes pr√™ts √† raconter de nombreuses histoires int√©ressantes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Je viens du centre de la technologie financi√®re. J'y ai vu un mot familier - DACUM principal. Notre plateforme a ses propres m√©tadonn√©es. Comment √™tes-vous amis - directement avec les tables Oracle ou avec nos m√©tadonn√©es dans ce cas? Parce que dans notre cas, √™tre ami avec les tables Oracle n'est pas enti√®rement indicatif. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAROLINE DU SUD:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Il existe une telle table DACUM principale, qui contient le c√¢blage. </font><font style="vertical-align: inherit;">Ce n'est pas un secret: il y avait et il y a des produits qui travaillent sur cette histoire. </font><font style="vertical-align: inherit;">Ce sont l'une des sources d'informations dans le r√©f√©rentiel. </font><font style="vertical-align: inherit;">Il existe une sorte de syst√®me qui est un fournisseur de donn√©es. </font><font style="vertical-align: inherit;">Naturellement, c'est au centre de notre attention en termes de m√©tadonn√©es, parce que l'une des histoires que nous devrions montrer et que nous n'avons pas du tout touch√©es ici (en raison du sujet du rapport) est la lign√©e des donn√©es. </font><font style="vertical-align: inherit;">Vous devez montrer d'o√π provient l'historique des donn√©es de ce champ. </font><font style="vertical-align: inherit;">En ce sens, s'il existe une table DACUM principale, nous le savons.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/GUUSIMn9mao" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de publicit√© :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci de rester avec nous. Aimez-vous nos articles? Vous voulez voir des mat√©riaux plus int√©ressants? Soutenez-nous en passant une commande ou en recommandant √† vos amis, le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud VPS pour les d√©veloppeurs √† partir de 4,99 $</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analogue unique de serveurs d'entr√©e de gamme que nous avons invent√© pour vous: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toute la v√©rit√© sur VPS (KVM) E5-2697 v3 (6 c≈ìurs) 10 Go DDR4 480 Go SSD 1 Gbit / s √† partir de 19 $ ou comment diviser le serveur?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 fois moins cher au centre de donn√©es Equinix Tier IV √† Amsterdam?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous avons seulement </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV √† partir de 199 $</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aux Pays-Bas!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - √† partir de 99 $! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En savoir plus sur la</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cr√©ation d'un b√¢timent d'infrastructure. </font><font style="vertical-align: inherit;">classe c utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</font></font></a></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487522/index.html">Nous faisons voler le terminal (partie 1)</a></li>
<li><a href="../fr487524/index.html">Pourquoi un hackathon de d√©marrage mat√©riel a-t-il besoin</a></li>
<li><a href="../fr487528/index.html">–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å–∞—Ö –•–∞–±—Ä–∞</a></li>
<li><a href="../fr487534/index.html">etcd 3.4.3: recherche sur la fiabilit√© et la s√©curit√© du stockage</a></li>
<li><a href="../fr487538/index.html">.NET Interactive est arriv√©! | Ordinateurs portables .NET Preview 2</a></li>
<li><a href="../fr487542/index.html">PRESENT - Cryptage de blocs ultra-l√©ger (traduction du PRESENT original: Un chiffrement de blocs ultra-l√©ger)</a></li>
<li><a href="../fr487544/index.html">Documentation .NET: Nouveaut√©s de janvier</a></li>
<li><a href="../fr487548/index.html">Nouvelle exp√©rience: appel des services .NET gRPC √† partir d'un navigateur avec gRPC-Web</a></li>
<li><a href="../fr487550/index.html">Image 3D en python avec des performances (presque) normales</a></li>
<li><a href="../fr487552/index.html">Swift 5.2 - quoi de neuf?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>