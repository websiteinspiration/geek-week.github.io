<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∑üèº üòæ ‚öñÔ∏è CSS: full calc () function guide üë®üèº‚Äç‚öïÔ∏è üí≥ üö•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="CSS has a special function calc()used to perform simple calculations. Here is an example of its use:
 
 

.main-content { ¬†¬†/* 80px 100vh */ ¬†¬†height:...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CSS: full calc () function guide</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493660/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS has a special function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used to perform simple calculations. </font><font style="vertical-align: inherit;">Here is an example of its use:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.main-content</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  80px  100vh */</span>
&nbsp;&nbsp;<span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">80px</span>);<font></font>
}<font></font>
</code></pre><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here</font></font></a><font style="vertical-align: inherit;"></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you can experiment </font><font style="vertical-align: inherit;">with the CSS code in which it is used </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
The author of the article, the translation of which we are publishing today, wants to talk about everything that is worth knowing about this very useful function.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/_z/e9/t3/_ze9t3mm5v_hppi2jyizmcxbu7w.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calc () function and CSS property values</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The only place you can use the function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is with CSS property values. </font><font style="vertical-align: inherit;">Take a look at the following examples in which, using this function, we set the values ‚Äã‚Äãof various properties.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">3vw</span> + <span class="hljs-number">2px</span>);
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: &nbsp; &nbsp; <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">20px</span>);
&nbsp;&nbsp;<span class="hljs-attribute">height</span>:&nbsp; &nbsp; <span class="hljs-built_in">calc</span>(<span class="hljs-number">100vh</span> - <span class="hljs-number">20px</span>);
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: &nbsp; <span class="hljs-built_in">calc</span>(<span class="hljs-number">1vw</span> + <span class="hljs-number">5px</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can also be used to set any separate part of the property:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-built_in">calc</span>(<span class="hljs-number">2vw</span> + <span class="hljs-number">5px</span>);
&nbsp;&nbsp;<span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15px</span> <span class="hljs-built_in">calc</span>(<span class="hljs-number">15px</span> / <span class="hljs-number">3</span>) <span class="hljs-number">4px</span> <span class="hljs-number">2px</span>;
&nbsp;&nbsp;<span class="hljs-attribute">transition</span>: transform <span class="hljs-built_in">calc</span>(<span class="hljs-number">1s</span> - <span class="hljs-number">120ms</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This function may even be part of another function that is responsible for forming part of a certain property! </font><font style="vertical-align: inherit;">For example, here it is </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used to adjust the position of the gradient color change:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">background</span>: <span class="hljs-number">#1E88E5</span> <span class="hljs-built_in">linear-gradient</span>(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;to bottom,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;#<span class="hljs-number">1</span>E88E5,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;#<span class="hljs-number">1</span>E88E5 calc(<span class="hljs-number">50%</span> - <span class="hljs-number">10px</span>),
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-number">#3949AB</span> <span class="hljs-built_in">calc</span>(<span class="hljs-number">50%</span> + <span class="hljs-number">10px</span>),
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-number">#3949AB</span><font></font>
&nbsp;&nbsp;);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The calc () function is a tool for working with numeric properties.</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Please note that in all the above examples we use the function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when working with numerical properties. We will also talk about some features of working with numerical properties (they are associated with the fact that sometimes the use of units of measurement is not required). Now we note that this function is designed to perform operations with numbers, and not with strings or with something else.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/* ! */</span>
&nbsp;&nbsp;<span class="hljs-attribute">counter-reset</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-string">"My "</span> + <span class="hljs-string">"counter"</span>);<font></font>
}<font></font>
<span class="hljs-selector-class">.el</span><span class="hljs-selector-pseudo">::before</span> {
&nbsp;&nbsp;<span class="hljs-comment">/* ! */</span>
&nbsp;&nbsp;<span class="hljs-attribute">content</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-string">"Candyman "</span> * <span class="hljs-number">3</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are many units of measurement that can be used in CSS to specify the size of the elements and their parts: </font></font><code>px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>em</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>rem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>in</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>mm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>cm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>pt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>pc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>ex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>ch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>vh</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>vw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>vmin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>vmax</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">All of these units can be used with the function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This function can also work with numbers used without specifying units:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">line-height</span>: <span class="hljs-selector-tag">calc</span>(1<span class="hljs-selector-class">.2</span> * 1<span class="hljs-selector-class">.2</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It can also be used to calculate angles:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">transform</span>: <span class="hljs-selector-tag">rotate</span>(<span class="hljs-selector-tag">calc</span>(10<span class="hljs-selector-tag">deg</span> * 5));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This function can also be used in those cases when no calculations are performed in the expression passed to it:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*   ,    */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">20px</span>);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calc () cannot be used in media queries</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although this function is designed to set CSS property values, it unfortunately does not work in media queries:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width:</span> <span class="hljs-number">40rem</span>) {
&nbsp;&nbsp;<span class="hljs-comment">/* 40rem   */</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">/*  ! */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">min-width:</span> calc(<span class="hljs-number">40rem</span> + <span class="hljs-number">1px</span>)) {
&nbsp;&nbsp;<span class="hljs-comment">/* ,  40rem */</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If once such constructions prove to be workable, this will be very good, as this will allow creating </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mutually exclusive media queries</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> that look very logical (for example, the ones shown above).</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Using different units in one expression</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The admissibility of using different units of measure in one expression is probably the most valuable opportunity </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Similar is used in almost all of the above examples. </font><font style="vertical-align: inherit;">Here, just to draw your attention to it, another example that shows the use of different units of measurement:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-comment">/*      */</span>
<span class="hljs-selector-tag">width</span>: <span class="hljs-selector-tag">calc</span>(100% <span class="hljs-selector-tag">-</span> 20<span class="hljs-selector-tag">px</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This expression reads as follows: "The width is equal to the width of the element from which 20 pixels are subtracted." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In a situation where the width of the element can change, it is completely impossible to calculate the desired value in advance, using only indicators expressed in pixels. In other words, you cannot preprocess </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">using something like Sass and trying to get something like polyfill. Yes, this is not necessary, given the fact that </font><font style="vertical-align: inherit;">browsers </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">support</font></a></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> very well </font><font style="vertical-align: inherit;">. The point here is that such calculations, in which values ‚Äã‚Äãexpressed in different units are mixed, must be performed in the browser (during the "execution" of the page). Namely, the ability to perform such calculations is the main value </font><font style="vertical-align: inherit;">.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>calc()</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here are a couple more examples of using values ‚Äã‚Äãexpressed in different units:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">transform</span>: <span class="hljs-selector-tag">rotate</span>(<span class="hljs-selector-tag">calc</span>(1<span class="hljs-selector-tag">turn</span> + 45<span class="hljs-selector-tag">deg</span>));<font></font>
<font></font>
<span class="hljs-selector-tag">animation-delay</span>: <span class="hljs-selector-tag">calc</span>(1<span class="hljs-selector-tag">s</span> + 15<span class="hljs-selector-tag">ms</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can probably preprocess these expressions, because they mix values ‚Äã‚Äãwhose units are not related to anything that is determined while the page is running in the browser.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparison of calc () with preprocessor calculations</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We just said that the most useful feature is </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not amenable to preprocessing. </font><font style="vertical-align: inherit;">But preprocessing gives the developer some features that match the capabilities </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">For example, when using Sass, you can also calculate property values:</font></font><br>
<br>
<pre><code class="css hljs">$<span class="hljs-selector-tag">padding</span>: 1<span class="hljs-selector-tag">rem</span>;<font></font>
<font></font>
<span class="hljs-selector-class">.el</span><span class="hljs-selector-attr">[data-padding=<span class="hljs-string">"extra"</span>]</span> {
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: $padding + <span class="hljs-number">2rem</span>; //  3rem;
&nbsp;&nbsp;<span class="hljs-attribute">margin-bottom</span>: $padding * <span class="hljs-number">2</span>; //  2rem;&nbsp;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here, calculations can be made indicating the units of measure, here you can add the quantities expressed in the same units of measurement, you can multiply certain values ‚Äã‚Äãby values ‚Äã‚Äãwhose units are not indicated. </font><font style="vertical-align: inherit;">But it is not possible to perform calculations with values ‚Äã‚Äãexpressed in different units of measurement. </font><font style="vertical-align: inherit;">Restrictions resembling restrictions are imposed on such calculations </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(for example, the numbers by which something is multiplied or divided must be values ‚Äã‚Äãwithout units).</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disclosing the meaning of numeric values ‚Äã‚Äãused in CSS</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Even if you do not take advantage of opportunities that are achievable only with help </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, this function can be used to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reveal the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> meaning of the values ‚Äã‚Äãused in CSS. </font><font style="vertical-align: inherit;">Suppose you want the value of a property to be exactly 1/7 of the width of the element:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*   , */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">7</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*   */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">14.2857142857%</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This approach may be useful in something like a kind of self-styled CSS-API:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-attr">[data-columns=<span class="hljs-string">"7"</span>]</span> <span class="hljs-selector-class">.col</span> { <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">7</span>); }
<span class="hljs-selector-attr">[data-columns=<span class="hljs-string">"6"</span>]</span> <span class="hljs-selector-class">.col</span> { <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">6</span>); }
<span class="hljs-selector-attr">[data-columns=<span class="hljs-string">"5"</span>]</span> <span class="hljs-selector-class">.col</span> { <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">5</span>); }
<span class="hljs-selector-attr">[data-columns=<span class="hljs-string">"4"</span>]</span> <span class="hljs-selector-class">.col</span> { <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">4</span>); }
<span class="hljs-selector-attr">[data-columns=<span class="hljs-string">"3"</span>]</span> <span class="hljs-selector-class">.col</span> { <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">3</span>); }
<span class="hljs-selector-attr">[data-columns=<span class="hljs-string">"2"</span>]</span> <span class="hljs-selector-class">.col</span> { <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">2</span>); }
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mathematical Operators of calc () Function</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The expression to be evaluated with the help of </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the operators you can use </font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and </font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">But in their application there are some features. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When adding ( </font></font><code>+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) and subtracting ( </font></font><code>-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), you must use the values ‚Äã‚Äãwith the specified units</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">10px</span> + <span class="hljs-number">10px</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">10px</span> + <span class="hljs-number">5</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Please note that the use of incorrect values ‚Äã‚Äãleads to the fact that a particular announcement also becomes incorrect. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When dividing ( </font></font><code>/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), it is necessary that the unit of measurement should not be indicated on the second number</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">30px</span> / <span class="hljs-number">3</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">30px</span> / <span class="hljs-number">10px</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  (   ) */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">30px</span> / <span class="hljs-number">0</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When multiplying ( </font></font><code>*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), one of the numbers should not have a unit of measure:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">10px</span> * <span class="hljs-number">3</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">3</span> * <span class="hljs-number">10px</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">margin</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">30px</span> * <span class="hljs-number">3px</span>);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The importance of spaces</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The spaces used in expressions are important in addition and subtraction operations:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">3vw</span> + <span class="hljs-number">2px</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">3vw</span>+<span class="hljs-number">2px</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">3vw</span> - <span class="hljs-number">2px</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">font-size</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">3vw</span>-<span class="hljs-number">2px</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here it is quite possible to use negative numbers (for example, in a construct like </font></font><code>calc(5vw ‚Äî -5px)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), but this is an example of a situation in which spaces are not only necessary, but also useful in terms of clarity of expressions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tab Atkins told me that the reason why the addition and subtraction operators should be separated by spaces is, in fact, the peculiarities of parsing expressions. I can‚Äôt say that I fully understood this, but, for example, the parser processes the expression </font></font><code>2px-3px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as a number </font></font><code>2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">with a unit of measure</font></font><code>px-3px</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. And nobody will need such a strange unit of measurement. Parsing expressions with the addition operator has its own problems. For example, a parser can take this operator as part of the syntax used to describe numbers. I thought that a space is needed to correctly handle the syntax of custom properties ( </font></font><code>--</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), but that is not the case. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When multiplying and dividing spaces around operators are not required. But I believe that you can recommend using spaces with these operators in order to increase the readability of the code, and in order to not forget about spaces and when entering expressions that use addition and subtraction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spaces that separate brackets </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from an expression do not play any role. The expression, if desired, can even be selected by moving to a new line:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-number">100%</span> &nbsp; &nbsp; /   <span class="hljs-number">3</span><font></font>
&nbsp;&nbsp;);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
True, you should be careful here. </font><font style="vertical-align: inherit;">There </font></font><code>calc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">should be no spaces </font><font style="vertical-align: inherit;">between the name of the function ( </font><font style="vertical-align: inherit;">) and the first opening bracket:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*  */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: calc (<span class="hljs-number">100%</span> / <span class="hljs-number">3</span>);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nested constructions: calc (calc ())</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When working with a function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, you can use nested constructions, but this is not really necessary. </font><font style="vertical-align: inherit;">This is similar to using brackets without </font></font><code>calc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;calc(<span class="hljs-number">100%</span> / <span class="hljs-number">3</span>)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;-<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">calc</span>(<span class="hljs-number">1rem</span> * <span class="hljs-number">2</span>)<font></font>
&nbsp;&nbsp;);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It makes no sense to build nested constructions from functions </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, since the same can be rewritten using only brackets:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<font></font>
&nbsp;&nbsp;&nbsp;(<span class="hljs-number">100%</span> / <span class="hljs-number">3</span>)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;-<font></font>
&nbsp;&nbsp;&nbsp;(<span class="hljs-number">1rem</span> * <span class="hljs-number">2</span>)<font></font>
&nbsp;&nbsp;);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, parentheses are not needed in this example, since the rules for determining the priority of operators are applied when calculating the expressions presented here. </font><font style="vertical-align: inherit;">Division and multiplication are performed before addition and subtraction. </font><font style="vertical-align: inherit;">As a result, the code can be rewritten like this:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> / <span class="hljs-number">3</span> - <span class="hljs-number">1rem</span> * <span class="hljs-number">2</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But in the event that it seems that the additional brackets make the code clearer, they can be used. </font><font style="vertical-align: inherit;">In addition, if without parentheses, based only on the priority of the operators, the expression will be calculated incorrectly, then such an expression needs parentheses:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/* ,   , */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> + <span class="hljs-number">2rem</span> / <span class="hljs-number">2</span>);<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*     ,    */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>((<span class="hljs-number">100%</span> + <span class="hljs-number">2rem</span>) / <span class="hljs-number">2</span>);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Custom CSS Properties and calc ()</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We already learned about one of the great features </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, about calculations that use values ‚Äã‚Äãwith different units. </font><font style="vertical-align: inherit;">Another interesting feature of this function is how it can be applied with custom CSS properties. </font><font style="vertical-align: inherit;">Custom properties can be assigned values ‚Äã‚Äãthat can be used in calculations:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">html</span> {
&nbsp;&nbsp;<span class="hljs-attribute">--spacing</span>: <span class="hljs-number">10px</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.module</span> {
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: <span class="hljs-built_in">calc</span>(var(--spacing) * <span class="hljs-number">2</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I‚Äôm sure it‚Äôs easy to imagine a set of CSS styles in which many settings are done in one place by setting values ‚Äã‚Äãfor custom CSS properties. These values ‚Äã‚Äãwill then be used throughout the CSS code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Custom properties, in addition, can refer to each other (note that it is </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not used here). The obtained values ‚Äã‚Äãcan be used to set the values ‚Äã‚Äãof other CSS properties (but here you can </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">not do without).</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">html</span> {
&nbsp;&nbsp;<span class="hljs-attribute">--spacing</span>: <span class="hljs-number">10px</span>;
&nbsp;&nbsp;<span class="hljs-attribute">--spacing-L</span>: <span class="hljs-built_in">var</span>(--spacing) * <span class="hljs-number">2</span>;
&nbsp;&nbsp;<span class="hljs-attribute">--spacing-XL</span>: <span class="hljs-built_in">var</span>(--spacing) * <span class="hljs-number">3</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.module</span><span class="hljs-selector-attr">[data-spacing=<span class="hljs-string">"XL"</span>]</span> {
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: <span class="hljs-built_in">calc</span>(var(--spacing-XL));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To some this may not seem very convenient, since when accessing a custom property, you need to remember about </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">But I find this interesting in terms of code readability. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The source of custom properties can be HTML code. </font><font style="vertical-align: inherit;">Sometimes this can be extremely useful. </font><font style="vertical-align: inherit;">For example, in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Splitting.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indexes are added to words and symbols.</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">--index</span>: 1;"&gt; ... &lt;/<span class="hljs-selector-tag">div</span>&gt;<font></font>
&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">--index</span>: 2;"&gt; ... &lt;/<span class="hljs-selector-tag">div</span>&gt;<font></font>
&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">--index</span>: 3;"&gt; ... &lt;/<span class="hljs-selector-tag">div</span>&gt;
<span class="hljs-selector-tag">div</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*     HTML (   ) */</span>
&nbsp;&nbsp;<span class="hljs-attribute">animation-delay</span>: <span class="hljs-built_in">calc</span>(var(--index, <span class="hljs-number">1</span>) * <span class="hljs-number">0.2s</span>);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assigning Units to Custom Properties After Declaring These Properties</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suppose we are in a situation where it makes sense to write a number without units of measure in a custom property, or in a situation where such a number will be convenient, before actual use, somehow convert without using units of measure. </font><font style="vertical-align: inherit;">In such cases, a custom property can be assigned a value without specifying units. </font><font style="vertical-align: inherit;">When it will be necessary to convert this number into a new one, expressed in certain units of measure, it can be multiplied by </font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicating the desired units of measurement:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">html</span> {
&nbsp;&nbsp;<span class="hljs-attribute">--importantNumber</span>: <span class="hljs-number">2</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*    ,  ,        */</span>
&nbsp;&nbsp;<span class="hljs-attribute">padding</span>: <span class="hljs-built_in">calc</span>(var(--importantNumber) * <span class="hljs-number">1rem</span>);<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Work with flowers</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When describing colors using formats such as RGB and HSL, numbers are used. </font><font style="vertical-align: inherit;">These numbers can be worked on </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">For example, you can set some basic HSL values, and then change them as needed ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> an example):</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">html</span> {
&nbsp;&nbsp;<span class="hljs-attribute">--H</span>: <span class="hljs-number">100</span>;
&nbsp;&nbsp;<span class="hljs-attribute">--S</span>: <span class="hljs-number">100%</span>;
&nbsp;&nbsp;<span class="hljs-attribute">--L</span>: <span class="hljs-number">50%</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">background</span>: <span class="hljs-built_in">hsl</span>(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;calc(var(--H) + <span class="hljs-number">20</span>),
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">calc</span>(var(--S) - <span class="hljs-number">10%</span>),
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">calc</span>(var(--L) + <span class="hljs-number">30%</span>)<font></font>
&nbsp;&nbsp;)<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You cannot combine calc () and attr ()</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CSS function </font></font><code>attr()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can seem quite attractive. </font><font style="vertical-align: inherit;">And the truth: you take the attribute value from HTML, and then use it. </font><font style="vertical-align: inherit;">But‚Ä¶</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">data-color</span>="<span class="hljs-selector-tag">red</span>"&gt;...&lt;/<span class="hljs-selector-tag">div</span>&gt;
<span class="hljs-selector-tag">div</span> {
&nbsp;&nbsp;<span class="hljs-comment">/*    */</span>
&nbsp;&nbsp;<span class="hljs-attribute">color</span>: <span class="hljs-built_in">attr</span>(data-color);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, this function does not understand the ‚Äútypes‚Äù of values. </font><font style="vertical-align: inherit;">As a result, it </font></font><code>attr()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is suitable only for working with strings and for setting CSS properties using it </font></font><code>content</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">That is, such a design turns out to be quite working:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">::before</span> {
&nbsp;&nbsp;<span class="hljs-attribute">content</span>: <span class="hljs-built_in">attr</span>(data-color);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I said this here because someone might want to try to extract a </font></font><code>attr()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certain number </font><font style="vertical-align: inherit;">from the HTML code </font><font style="vertical-align: inherit;">and use it in the calculations:</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">class</span>="<span class="hljs-selector-tag">grid</span>" <span class="hljs-selector-tag">data-columns</span>="7" <span class="hljs-selector-tag">data-gap</span>="2"&gt;...&lt;/<span class="hljs-selector-tag">div</span>&gt;
<span class="hljs-selector-class">.grid</span> {
&nbsp;&nbsp;<span class="hljs-attribute">display</span>: grid;<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/*         */</span>
&nbsp;&nbsp;<span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(attr(data-columns), <span class="hljs-number">1</span>fr);
&nbsp;&nbsp;<span class="hljs-attribute">grid-gap</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">1rem</span> * attr(data-gap));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, the good thing is that it does not really matter, since custom properties in HTML are </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">great</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for solving such problems:</font></font><br>
<br>
<pre><code class="css hljs">&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">class</span>="<span class="hljs-selector-tag">grid</span>" <span class="hljs-selector-tag">style</span>="<span class="hljs-selector-tag">--columns</span>: 7; <span class="hljs-selector-tag">--gap</span>: 2<span class="hljs-selector-tag">rem</span>;"&gt;...&lt;/<span class="hljs-selector-tag">div</span>&gt;
<span class="hljs-selector-class">.grid</span> {
&nbsp;&nbsp;<span class="hljs-attribute">display</span>: grid;<font></font>
<font></font>
&nbsp;&nbsp;<span class="hljs-comment">/* ! */</span>
&nbsp;&nbsp;<span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(var(--columns), <span class="hljs-number">1</span>fr);
&nbsp;&nbsp;<span class="hljs-attribute">grid-gap</span>: <span class="hljs-built_in">calc</span>(var(--gap));<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browser tools</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Browser developer tools typically display expressions with the </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">same as described in the CSS source code.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b84/ab9/53b/b84ab953ba98882439db62dbeaca39be.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firefox Developer Tools, Rules tab</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
If you need to find out what the function will calculate</font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, you can refer to the tab</font></font><code>Computed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(this tab can be found in the developer tools of all browsers I know). </font><font style="vertical-align: inherit;">There, the value calculated will be shown</font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29a/18f/0be/29a18f0be9f5f6b59bed7c4e051d0174.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chrome Developer Tools Computed Tab</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browser support</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> you can find out about </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">browser </font><font style="vertical-align: inherit;">support for the feature </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">If we talk about modern browsers, the level of support </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is more than 97%. </font><font style="vertical-align: inherit;">If you need to support fairly old browsers (like IE 8 or Firefox 3.6), then they usually do this: add </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the same property </font><font style="vertical-align: inherit;">before the property to calculate the value of which is </font><font style="vertical-align: inherit;">set in a format that old browsers understand:</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.el</span> {
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-number">92%</span>; <span class="hljs-comment">/*   */</span>
&nbsp;&nbsp;<span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">2rem</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">has many known problems, but only old browsers suffer from them. </font><font style="vertical-align: inherit;">On </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caniuse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can find a description of 13 such problems. </font><font style="vertical-align: inherit;">Here are some of them:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Firefox browser below version 59 does not support </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the functions used to set the color. </font><font style="vertical-align: inherit;">For example: </font></font><code>color: hsl(calc(60 * 2), 100%, 50%)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IE 9-11 will not render the shadow specified by the property </font></font><code>box-shadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if it is used to determine any of the values </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Neither IE 9-11 nor Edge support view design </font></font><code>width: calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">when applied to table cells.</font></font></li>
</ul><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Life examples</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I asked several CSS developers about when they last used the function </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Their answers were a small selection that will help everyone to learn about how other programmers use </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in their daily work.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I used </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to create the helper class for the fields of management: </font></font><code>.full-bleed { width: 100vw; margin-left: calc(50% ‚Äî 50vw); }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">I can say that it </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is in my top 3 most useful CSS features.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I used this function to allocate space for a fixed "footer" of the page.</font></font></li>
<li>  <code>calc()</code>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a>.  ,   <code>font-size</code>,     .   <code>font-size</code>    ‚Äî   <code>calc()</code>      <code>line-height</code>. (   ,     <code>calc()</code>    ,        ,   ,    <code>rem</code>  <code>em</code>.      ,    ).</li>
<li>      ,   .        .  ‚Äî : <code>.margin { width: calc( (100vw ‚Äî var(--content-width)) / 2); }</code>.</li>
<li>  <code>calc()</code>   -    ,        .     : <code>.drop-cap { --drop-cap-lines: 3; font-size: calc(1em * var(--drop-cap-lines) * var(--body-line-height)); }</code>.</li>
<li>     ,            .</li>
<li>          ,      <code>padding</code>     <code>vw/vh</code>.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I apply </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to circumvent restrictions </font></font><code>background-position</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">This is especially true for restrictions on the adjustment of color change positions in gradients. </font><font style="vertical-align: inherit;">For example, this can be described as follows: "position the position of the color change, not reaching </font></font><code>0.75em</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the bottom."</font></font></li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dear readers! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Do you use CSS </font></font><code>calc()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">?</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en493644/index.html">PCB badge, which will not be, or how to overcome everything and lose at the finish</a></li>
<li><a href="../en493646/index.html">A new era of recruiting. Employment Trends and Forecasts for 2020</a></li>
<li><a href="../en493648/index.html">We disassemble the NSG200 Nebula Security Gateway router. Inside and outside view</a></li>
<li><a href="../en493654/index.html">Eggs, dodecahedrons, and counter-perfection: omnidirectional sound emission - a factor of realism and marketing manipulations</a></li>
<li><a href="../en493656/index.html">Sure ways to ditch CRM ... and anything in life</a></li>
<li><a href="../en493662/index.html">Space power</a></li>
<li><a href="../en493664/index.html">COVID-19 propagation rate analysis and publication of the results on dstack.ai</a></li>
<li><a href="../en493666/index.html">How we taught artificial intelligence to answer support questions. Experience Yandex.Taxi</a></li>
<li><a href="../en493668/index.html">How I created the next site builder</a></li>
<li><a href="../en493670/index.html">Media System for Toyota Prius (Part 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>