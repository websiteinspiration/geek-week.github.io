<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›¢ï¸ ğŸ“ ğŸ¤¼ Monitor Kelembaban Tanah DIY Nirkabel ğŸ‘©â€ğŸ¤ ğŸ˜“ ğŸ‘¨ğŸ¼â€ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salam untuk semua pembaca Habr! Hari ini saya ingin berbagi dengan Anda proyek baru saya - sensor kelembaban tanah nirkabel, yang dibangun berdasarkan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Monitor Kelembaban Tanah DIY Nirkabel</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492174/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salam untuk semua pembaca Habr! Hari ini saya ingin berbagi dengan Anda proyek baru saya - sensor kelembaban tanah nirkabel, yang dibangun berdasarkan modul kelembaban tanah yang terkenal dengan aliexpress. Sensor baru ini merupakan kelanjutan logis dari proyek DIY pertama saya tentang topik ini. Tetapi dalam implementasi baru, ini bukan lagi modul Arduino, tetapi perangkat lengkap dengan kasusnya sendiri. Jadi, bubur dari kapak, bagian dua! :)</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k9/ea/gd/k9eagdijc2lxr-garqi6eooxuxm.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modul pengukuran kelembaban tanah Cina dibangun pada timer 555. Metode pengukurannya kapasitif. Untuk proyek saya, saya membutuhkan versi modul dengan regulator tegangan XC6206P332 yang dipasang di 3.3V, yang di masa depan harus dihapus dari papan modul. Faktanya adalah bahwa dalam versi seperti itu kami menggunakan modifikasi timer TLC555 dengan ambang batas yang lebih rendah untuk catu daya 2V. Dalam versi tanpa stabilizer, timer NE555 digunakan dengan batas daya 5V yang lebih rendah. Tetapi bagaimanapun juga, apa yang lebih mudah dibeli untuk mengulangi proyek ini adalah bisnis pengulang. Pada opsi pertama, kami menyolder regulator tegangan, pada detik kami mengubah timer, misalnya yang seperti ini - LMC555 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">datasheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) bekerja bahkan dari 1.5V. Untuk modul nirkabel ke sensor kelembaban tanah Cina, saya memilih modul radio dari EBYTE E73C tempat chip nRF52840 dipasang. Argumennya adalah harga modul dan jumlah modul yang tersedia di cadangan saya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e4/c4/3t/e4c43tfn22ihs1-ywelmsoikjwq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modul nirkabel ternyata sangat sederhana, LED RGB, beberapa tombol, transistor efek medan, baterai. Bahkan solder pemula yang paling tidak berpengalaman dapat merakit perangkat seperti itu. Pada sensor kelembaban, selain melepas stabilisator tegangan, perlu juga melepas konektor dan menyolder steker 3P laki-laki di tempatnya, langkah 2,54 mm. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dimensi papan ternyata sedikit lebih kecil dari pada proyek pertama - 42x29mm, ditentukan oleh ukuran dudukan baterai.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/oq/sj/twoqsjaebwgnyxb9xl1lzao174m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kasing ini dicetak pada printer SLA rumah tangga ANYCUBIC saya. Waktu pencetakan untuk komponen adalah beberapa jam. Pemrosesan pos selanjutnya membutuhkan waktu sekitar setengah jam. Biaya resin polimer yang dihabiskan adalah ~ 100r. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konsumsi dalam mode tidur - 4.7mA, dalam mode transmisi 8mA. Interval pengukuran adalah variabel, langkah 1 menit. Waktu pengukuran 50ms (5 pengukuran dalam program uji), konsumsi selama pengukuran ~ 1 mA. Ini juga mengukur suhu chip, mengukur tingkat baterai. Transfer data ke pengontrol UD melalui jaringan Mysensors, transfer data ke pengontrol UD melalui jaringan Zigbee. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode program pengujian ada di Github saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh bekerja di jaringan Mysensors dan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4t/cx/xc/4tcxxc4zmsos7jw_bpb0k_rojc4.png"><br>
<br>
<img src="https://habrastorage.org/webt/lg/ni/c8/lgnic80mcvhmva1ifxmjr_afluy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UD </font><font style="vertical-align: inherit;">Mazhordomo</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ev/-q/bv/ev-qbvfynpoemmo0w5l7iijqnvw.png"><br>
<br>
<img src="https://habrastorage.org/webt/dh/m6/yh/dhm6yhm6l7o6btdqyfhq2onmlpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode konfigurasi konverter dalam modul zigbee2mqtt untuk sensor kelembaban (belum yakin bahwa ini adalah solusi yang tepat). </font></font><br>
<br>
<pre><code class="javascript hljs">{
        <span class="hljs-attr">zigbeeModel</span>: [<span class="hljs-string">'nrf52840.ru_PWS'</span>],
        <span class="hljs-attr">model</span>: <span class="hljs-string">'nrf52840.ru_PWS'</span>,
        <span class="hljs-attr">vendor</span>: <span class="hljs-string">'nrf52840.ru'</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">'Plant watering sensor'</span>,
        <span class="hljs-attr">supports</span>: <span class="hljs-string">'humidity'</span>,
		<span class="hljs-attr">fromZigbee</span>: [fz.humidity2, fz.battery_PWS],
        <span class="hljs-attr">toZigbee</span>: [],
		<span class="hljs-attr">meta</span>: {<span class="hljs-attr">configureKey</span>: <span class="hljs-number">1</span>},
        <span class="hljs-attr">configure</span>: <span class="hljs-keyword">async</span> (device, coordinatorEndpoint) =&gt; {
            <span class="hljs-keyword">const</span> endpoint = device.getEndpoint(<span class="hljs-number">10</span>);
			<span class="hljs-keyword">await</span> bind(endpoint, coordinatorEndpoint, [<span class="hljs-string">'msRelativeHumidity'</span>, <span class="hljs-string">'genPowerCfg'</span>]);
            <span class="hljs-keyword">await</span> configureReporting.humidity(endpoint);
			<span class="hljs-keyword">await</span> configureReporting.batteryVoltage(endpoint);<font></font>
        },<font></font>
    },<font></font>
</code></pre><br>
<img src="https://habrastorage.org/webt/vs/iv/6f/vsiv6fyhbwc0ns9spmifwe1a5g8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firmware uji ditulis oleh salah satu peserta di komunitas DIY kami - Lenz, ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GIthub-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nya </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biaya komponen yang harus ditambahkan ke pengukur kelembaban Cina adalah sekitar 400-500 rubel. </font><font style="vertical-align: inherit;">Menurut saya itu tidak buruk sama sekali. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Video pengoperasian sensor</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/LTzc0X-ESm4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foto Sensor</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/pw/is/l2/pwisl2sjbuwgpytlnqtttmikphc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/oq/12/oi/oq12oihawzfhxgkf9topgaaohgq.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/da/sk/h7/daskh7kfgzsgkqsgytolve37ixg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/yo/nu/34/yonu34vue48s2vdub5vlil9fdne.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/rv/kd/va/rvkdvaawgrkepxu2tb5ho5dmw4c.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/z2/ez/pg/z2ezpg7vbscf6w68ucainaan0b0.jpeg"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rencana lebih lanjut untuk proyek ini. Saya ingin mengganti MK dengan sesuatu yang lebih sederhana, misalnya, dengan nRF52810 atau nRF52811, tetapi semuanya akan tergantung pada harganya, kemungkinan besar Anda harus meninggalkan modul radio dan melakukannya pada sebuah chip. Mungkin saya akan berpikir tentang menambahkan bel, sangat mungkin merupakan penstabil daya, karena sekarang perlu memperhitungkan tegangan suplai saat mengukur. Bawa versi Zigbee ke kondisi stabil, buat versi BLE, buat aplikasi tampilan seluler. Secara umum, pasti akan ada sesuatu yang lain. </font></font><br>
<br>
<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github dari proyek ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika Anda tertarik pada proyek ini, saya mengusulkan untuk pergi ke grup telegram, akan selalu ada bantuan dalam menguasai Maysensor, Zigbee, protokol BLE pada nRF5, mereka akan membantu untuk menguasai pemrograman nRF52 di Arduino IDE dan tidak hanya di dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrolan Keranjang - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@DIY Perangkat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obrolan Keranjang - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@MySensors</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492162/index.html">Antarmuka Mata. Laporkan dalam Yandex</a></li>
<li><a href="../id492164/index.html">Gerbang menuju langit, atau kota masa depan</a></li>
<li><a href="../id492166/index.html">Widget di Android. Fitur yang jarang ditemukan</a></li>
<li><a href="../id492168/index.html">Pekerjaan depan pada pengembangan backend portal terbesar pada perangkat lunak open source: berbagi pengalaman</a></li>
<li><a href="../id492172/index.html">Cadangan tipis sistem file Linux. Cara membuat salinan kerja dari DBMS MySQL tiga terabyte dalam 20 detik</a></li>
<li><a href="../id492178/index.html">Jalur tujuh ribu piksel: evolusi resolusi monitor dan persyaratan kami</a></li>
<li><a href="../id492182/index.html">Dasar-dasar Keamanan Informasi di Tim Microsoft</a></li>
<li><a href="../id492184/index.html">Forbes berbicara dengan perwakilan pasar tentang pra-instalasi wajib perangkat lunak Rusia. Kami memilih poin utama</a></li>
<li><a href="../id492186/index.html">Populer tentang artikel dalam bahasa Inggris</a></li>
<li><a href="../id492190/index.html">SaaS Rusia 2019 - hasil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>