<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐅 ✍🏻 👩🏾‍🍳 Manajemen swipe dalam proyek game di Godot Engine 👱 📼 🦅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salam untuk semua! Hari ini saya ingin berbicara tentang bagaimana menerapkan manajemen swipe dalam proyek game untuk Android di Godot Engine.
 
 
 Na...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Manajemen swipe dalam proyek game di Godot Engine</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492144/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salam untuk semua! </font><font style="vertical-align: inherit;">Hari ini saya ingin berbicara tentang bagaimana menerapkan manajemen swipe dalam proyek game untuk Android di Godot Engine.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/773/b8a/443/773b8a4432cd4faa601f0b96aa425352.gif" alt="gambar"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nama saya Peter, dan saya adalah salah satu pengguna aktif mesin game Godot Engine. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di segmen bahasa Rusia, ada kekurangan besar bahan pada alat ini, yang sangat mengejutkan saya, karena ini adalah salah satu mesin game yang paling cepat berkembang. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, dalam banyak hal kalah dengan engine seperti Unity, UE, dan sejenisnya, dan Anda tidak akan membuat gim kelas AAA di dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun! Ini gratis (penuh), lintas-platform (penuh), dan beratnya sekitar 60 megabita, berbeda dengan Unity yang sama.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin bekerja pada sebagian besar perangkat, bahkan jika yang terakhir dari garis anggaran yang sangat. Juga, "out of the box", ini sudah Russified, memiliki semua alat yang diperlukan, tidak memerlukan perangkat lunak tambahan, dan tidak memakan semua RAM dalam bentuk yang sedang berjalan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sudah melihat beberapa artikel tentang Habré di atasnya, dan ini sangat kecil, karena sangat ramah bagi pengembang sehingga merupakan kelalaian besar untuk melewatinya dan tidak mencoba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Topik postingan ini adalah implementasi swipe management (gestures) dalam proyek Android. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara umum, pengalaman saya menggunakan mesin cukup luas, dan jika topiknya mendapat respons, saya bisa mengatur seluruh kursus pelatihan. Dengan posting ini saya ingin setidaknya menarik perhatian Anda ke mesin.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai bahasa pemrograman, Anda dapat menggunakan, sekali lagi, di luar kotak, dua opsi: GDScript dan C #. Saya akan menggunakan yang pertama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka editor utama terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/08c/413/508/08c41350881b6a2f1b89c16be70cfa7a.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di dalamnya Anda dapat bekerja secara bersamaan dengan skrip 3D, 2D, dan secara umum semua yang diperlukan oleh pengembang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin menggunakan pendekatan di mana game Anda adalah satu set adegan yang saling bersarang. Dan mungkin ada beberapa kebingungan, karena saya menggunakan istilah "adegan" untuk node yang hanya adegan permainan (situasi, jendela, status permainan (menu, permainan, dll.)), Dan untuk kasus lain saya menggunakan istilah "Prefab" dipinjam dari Unity.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena dalam posting ini saya akan mempertimbangkan kasus khusus, saya tidak akan memperluas beberapa topik. Jika ada sesuatu yang tidak jelas, ada komentar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, adegan utama untuk demonstrasi, kita akan memiliki permainan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strukturnya terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b02/e02/749/b02e027490b4d5b53a0988584ce5819a.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simpul root dari permainan menyimpan bersarang dalam dirinya sendiri: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - dunia, - menyimpan data level di dalamnya </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - - level, - satu set objek lingkungan (blok, cincin, hambatan) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - - pemain, - objek pemain </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - - InterpolatedCamera, - smooth kamera yang memantau pemutar </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - gui, - antarmuka, tidak akan terlibat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nama ke objek dan struktur sewenang - wenang dan ini hanya kasus khusus.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di dekat beberapa objek, Anda dapat melihat ikon yang mengatakan bahwa objek ini adalah prefab (adegan bersarang) dan skrip juga dapat ditambahkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, dengan mengklik ikon "skrip", kita masuk ke editor skrip, pada kenyataannya, mode operasi mesin hanya beralih. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f10/ba8/178/f10ba8178d6fcdd585a2e31fe1d63088.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam mode operasi ini, Anda dapat mengedit perilaku objek. Sebenarnya, dalam hal ini adalah skrip objek dunia, yang, saat memuat objek ke dalam game, menetapkan objek kamera (InterpolatedCamera) menetapkan target untuk dilacak.</font></font><br>
<br>
<pre><code class="python hljs">extends Spatial<font></font>
<font></font>
func _ready():<font></font>
	$InterpolatedCamera.target = <span class="hljs-string">'../player/camera'</span> <span class="hljs-comment">#  , ,         (  ).   player  "camera"   pivot.   .         .</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara sintaksis, GDScript mirip dengan Python. Anda dapat mengikuti pelatihan singkat tentang GDScript dalam bahasa Rusia di sini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buku GDScript</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dengan objek dunia, jelas, itu hanya menetapkan target kamera untuk pelacakan. Objek berikutnya (sudah menjadi anak dunia) adalah level. Strukturnya terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/6c9/66c/d57/6c966cd5730b9f968c40ea4731c9b910.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya, ini hanyalah objek yang diatur dengan properti fisik yang tidak memiliki skrip atau perilaku. Selain benda "sel". Ini adalah cincin pemintalan yang menghilang saat bersentuhan dengan objek pemain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objek pemain paling menarik saat ini, yang berisi logika kontrol gesek untuk layar sentuh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pabrikan ini terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7b0/463/3ef/7b04633ef9eea50d04dafe2718a8c017.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objek root memiliki skrip, yang akan kita bahas nanti. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, pertimbangkan objek bersarang.</font></font><br>
<br>
<ul>
<li>camera, —     ,      ,   .           player.</li>
<li>CollisionShape, —    .        «» .        ,     ,   .         .</li>
<li>MeshInstance, —    .     ,  .   Blender 3D ,   .</li>
<li>Tween,        .          .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nah, sekarang perhatikan skrip itu sendiri di objek root. Ternyata menjadi yang paling banyak di seluruh "permainan". </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2e8/e97/33d/2e8e9733deb908e37715c9ce68a90187.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nah, uraian dan penguraiannya.</font></font><br>
<br>
<pre><code class="python hljs">
extends KinematicBody <span class="hljs-comment">#       </span><font></font>
<font></font>
<span class="hljs-comment">#  </span>
const GRAV = <span class="hljs-number">0.5</span> <span class="hljs-comment">#   (      Y, ..       ,     )</span>
const SPEED = <span class="hljs-number">2</span> <span class="hljs-comment">#  </span>
const SWIPE_SPEED = <span class="hljs-number">30</span> <span class="hljs-comment">#       </span>
const JUMP_SPEED = <span class="hljs-number">10</span> <span class="hljs-comment">#     </span><font></font>
<font></font>
onready var ball = $MeshInstance <span class="hljs-comment">#        </span>
onready var tween = $Tween <span class="hljs-comment">#      </span>
var vel = Vector3() <span class="hljs-comment">#     </span>
var swipe = <span class="hljs-string">''</span> <span class="hljs-comment">#       </span><font></font>
<font></font>
<font></font>
func _ready():<font></font>
	<span class="hljs-keyword">pass</span> <span class="hljs-comment">#        ;    </span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#       (60FPS)  </span>
func _physics_process(delta): <span class="hljs-comment"># delta -  Delta Time ,  ,    </span>
	vel.y -= GRAV <span class="hljs-comment">#      (  )</span>
	vel.z = -SPEED <span class="hljs-comment">#     .   </span>
	ball.rotate_x(-delta * SPEED * <span class="hljs-number">2</span>) <span class="hljs-comment">#     ,   ""</span><font></font>
<font></font>
	<span class="hljs-keyword">if</span> swipe &amp;&amp; swipe != <span class="hljs-string">'swiped'</span>: <span class="hljs-comment">#         </span>
		<span class="hljs-keyword">if</span> swipe == <span class="hljs-string">'up'</span> &amp;&amp; is_on_floor(): <span class="hljs-comment">#        ()</span>
			vel.y = JUMP_SPEED <span class="hljs-comment">#     ,   -  </span>
		<span class="hljs-keyword">elif</span> swipe == <span class="hljs-string">'left'</span> || swipe == <span class="hljs-string">'right'</span>: <span class="hljs-comment">#     </span>
			tween.interpolate_property(self, <span class="hljs-string">"translation"</span>, <span class="hljs-comment">#      </span>
				translation, translation+Vector3(<span class="hljs-number">-2</span> <span class="hljs-keyword">if</span> swipe == <span class="hljs-string">'left'</span> <span class="hljs-keyword">else</span> <span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>), <span class="hljs-number">0.2</span>, <span class="hljs-comment">#    ,         X.      . -2  ,  2</span>
				Tween.TRANS_CUBIC, Tween.EASE_IN_OUT) <span class="hljs-comment">#     "" </span>
			tween.start() <span class="hljs-comment">#   </span>
		swipe = <span class="hljs-string">'swiped'</span> <span class="hljs-comment">#   ,   </span><font></font>
<font></font>
	vel = move_and_slide(vel, Vector3.UP) <span class="hljs-comment">#       ,                  </span><font></font>
<font></font>
<span class="hljs-comment">#       </span><font></font>
func _input(e):<font></font>
	<span class="hljs-keyword">if</span> e <span class="hljs-keyword">is</span> InputEventScreenDrag: <span class="hljs-comment"># ,       </span>
		<span class="hljs-keyword">if</span> !swipe: <span class="hljs-comment">#       </span>
			<span class="hljs-keyword">if</span> e.relative.y &lt; -SWIPE_SPEED: <span class="hljs-comment">#       Y</span>
				swipe = <span class="hljs-string">'up'</span> <span class="hljs-comment">#     (     )    ( ,          ),     " (UP)"</span>
			<span class="hljs-keyword">elif</span> e.relative.x &lt; -SWIPE_SPEED: <span class="hljs-comment">#      ,     X.     -  </span>
				swipe = <span class="hljs-string">'left'</span>
			<span class="hljs-keyword">elif</span> e.relative.x &gt; SWIPE_SPEED: <span class="hljs-comment">#  ,</span>
				swipe = <span class="hljs-string">'right'</span> <span class="hljs-comment">#  </span><font></font>
<font></font>
	<span class="hljs-keyword">elif</span> e <span class="hljs-keyword">is</span> InputEventScreenTouch: <span class="hljs-comment">#     </span>
		<span class="hljs-keyword">if</span> !e.pressed: <span class="hljs-comment">#      </span>
			swipe = <span class="hljs-string">''</span> <span class="hljs-comment">#   </span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menggambarkan setiap baris, saya harap, dengan skrip semuanya plus atau minus jelas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika dalam bahasa Rusia, maka ketika kita menggerakkan jari kita melintasi layar, kita mendaftarkan arah gerakan dan kecepatan. Jika jari bergerak dengan kecepatan yang diinginkan, kami menghitung geseknya. Berdasarkan sumbu mana dan ke arah mana gerakan itu berjalan, kami memiliki tiga opsi: ATAS, KIRI, KANAN. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menulis nilai yang diterima ke dalam variabel, yang segera diambil oleh peristiwa memperbarui keadaan objek, dan melakukan tindakan yang diperlukan dengannya, setelah itu menandai acara sebagai terpenuhi dan mengharapkan yang berikutnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mengambil bukan cara termudah untuk menerapkan gesekan, tetapi cukup andal dan berfungsi di sebagian besar situasi. Tentu saja, itu tergantung pada genre dan jenis permainannya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasil dari pekerjaan yang dilakukan, kami mendapatkan contoh betapa mudahnya menerapkan manajemen gesek dalam sepuluh menit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara total, butuh sekitar 30 menit, ini memperhitungkan pembuatan model di Blender. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut tradisi ...</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video Pengembangan</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/b8NPIt0TqXU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kode sumber</font></font></b><div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">  ,  </a><br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id492122/index.html">Bermigrasi dari Gitolite ke GitLab dengan Script Shell</a></li>
<li><a href="../id492128/index.html">Tales Interface Kakek Beracun "Get a Rag!" (s1 e4)</a></li>
<li><a href="../id492134/index.html">Pro dan kontra dalam melakukan bisnis di AS: tayangan setelah tiga tahun pengembangan dua perusahaan</a></li>
<li><a href="../id492138/index.html">Mengapa kita (mungkin) melebih-lebihkan kematian COVID-19</a></li>
<li><a href="../id492140/index.html">Hangover 8 Maret: artikel lain tentang Habré tentang wanita di bidang TI</a></li>
<li><a href="../id492146/index.html">Alexander Pavlyuk: "Saya benar-benar ingin membangun rencana untuk secara bertahap muncul di OSM"</a></li>
<li><a href="../id492148/index.html">Bagaimana cara mengubah hosting</a></li>
<li><a href="../id492150/index.html">Terapkan sepenuhnya. Di-in-js</a></li>
<li><a href="../id492154/index.html">Peluncuran ExoMars tertunda ke jendela peluncuran berikutnya pada tahun 2022</a></li>
<li><a href="../id492156/index.html">Dikurangkan. Ingin. Melakukan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>