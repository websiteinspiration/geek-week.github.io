<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔀 🧛🏿 ♠️ Fälle für die Anwendung von Tools zur Analyse von Netzwerkanomalien: Erkennen der Verbreitung von Schadcode 👩🏻‍🔧 👨🏼‍🏭 🤭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich werde weiterhin Fälle im Zusammenhang mit der Verwendung von IS-Überwachungslösungen unter Verwendung der Klassenlösung NTA (Network Traffic Analy...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Fälle für die Anwendung von Tools zur Analyse von Netzwerkanomalien: Erkennen der Verbreitung von Schadcode</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cisco/blog/487488/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich werde weiterhin Fälle im Zusammenhang mit der Verwendung von IS-Überwachungslösungen unter Verwendung der Klassenlösung NTA (Network Traffic Analysis) prüfen. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das letzte Mal habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich gezeigt, wie Sie Informationslecks erkennen können. Dieses Mal werden wir uns jedoch mit der Identifizierung von Schadcode in einem Unternehmens- oder Abteilungsnetzwerk befassen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d_/5y/zy/d_5yzys5bncf4bq3_xft3ekqchw.png" alt="Bild"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist so schwer daran, bösartigen Code zu erkennen? Sie setzen ein Antivirenprogramm ein, das Malware abfängt. Ach! Wenn es so einfach wäre, hätten Sie dieses Problem wahrscheinlich für immer vergessen können, aber nein ... Die Anzahl erfolgreicher Malware-Infektionen wird nicht geringer, und das alles, weil Angreifer ihre Techniken und Taktiken ständig ändern, Malware modifizieren, Sie verwenden unkörperliche Malware, sie verwenden legale Dienstprogramme für die Verwaltung (dieselbe PowerShell) ... Und dies ist der Fall, wenn Sie Situationen nicht berücksichtigen, in denen auf einzelnen Knoten entweder überhaupt kein Antivirenprogramm vorhanden ist (IT-Spezialisten möchten es nicht installieren, weil es langsamer wird) oder für diese Plattform existiert einfach nicht. Und vielleicht gibt es eine Situation, mit der ich mich in verschiedenen Unternehmen wiederholt auseinandersetzen musste.Der Top-Manager nimmt Malware auf seinem Heim-Laptop oder -Tablet auf und schleppt sie in das Unternehmen, damit lokale IT-Spezialisten dies herausfinden. Das Gerät stellt eine Verbindung zu lokalem WLAN her und auf diese Weise beginnt die interne Epidemie. sogar in einem vom Internet isolierten Netzwerk. In jedem Fall ist das Antivirenprogramm keineswegs immer eine Rettung vor modernem Schadcode, und wir benötigen andere Methoden, um Bösewichte in unserem Netzwerk zu erkennen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was zeichnet modernen modernen Schadcode aus? </font><font style="vertical-align: inherit;">Gibt es Anzeichen dafür, dass in unserem Netzwerk etwas schief geht und wir immer noch eine Infektion haben? </font><font style="vertical-align: inherit;">Wenn Sie klassische Viren nicht berücksichtigen, die nicht die Funktion einer unabhängigen Verteilung über das Netzwerk haben (und Sie haben lange klassische Viren gesehen), würde ich unter den Anzeichen, die das Vorhandensein von Schadcode im Netzwerk charakterisieren können, Folgendes nennen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scannen interner Knoten nach Schwachstellen in Betriebssystemen oder Anwendungen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durchsuchen interner Knoten nach offenen Ports, über die Sie eine Verbindung zum System herstellen können</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interaktion mit bekannten Befehlsservern</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atypischer Datenverkehr vom Host (zuvor nicht erfüllte Protokolle, die den typischen Datenverkehr überschreiten, Serverprotokolle an Arbeitsstationen usw.).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies sind Netzwerkzeichen, die nahezu unabhängig davon sind, welcher Schadcode verwendet wird. Sie können also versuchen, sie zu identifizieren, und Überwachungstools für Anomalien und Bedrohungen, die auf Netflow (oder anderen Ablaufprotokollen) basieren, sind die besten Kandidaten dafür. Lassen Sie uns sehen, wie dies am Beispiel der Cisco Stealthwatch-Lösung erreicht werden kann.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist der Unterschied zwischen einem herkömmlichen Scan, beispielsweise einem Sicherheitsscanner, und einem von bösartigem Code durchgeführten Scan? Im ersten Fall iteriert in den meisten Situationen durch offene Ports auf einem Computer, dann auf einem anderen, auf dem dritten und so weiter. Solche Versuche, sich recht leicht zu identifizieren. Es ist leicht festzustellen, wann der Scanner einfach nach nur einem offenen Port im Adressbereich sucht. Bei bösartigem Code ist das Funktionsprinzip anders: Es scannt Knoten, findet anfällige, geht zu ihnen über, scannt erneut, findet anfällige erneut und so weiter. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pm/hf/th/pmhfthynsrnygqtlv6gvir_8i0e.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist eine solche Entwicklung, die wir mit Hilfe spezieller Algorithmen erkennen können, die in die NTA eingebettet sind.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ob/oh/vz/obohvzsbaod2spmwmmz1leviudk.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiterer Hinweis für uns ist die Rolle der Computer, von denen der Scan aufgezeichnet wurde. In allen Fällen handelt es sich dabei um Arbeitsstationen von Vertriebs- und Marketingmitarbeitern, die ganze Subnetze scannen, die logisch mit der Vertriebsabteilung verbunden sind. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rt/4q/co/rt4qcocbyepsz3vlfb2f9dydiw0.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir einen Infektionspunkt mit der anschließenden Verbreitung von Schadcode gefunden haben: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tx/hw/gj/txhwgjcmlbonfgosfqbjondeyo0.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können versuchen, andere potenzielle Opfer des Schadcodes zu finden: </font><font style="vertical-align: inherit;">Nachdem </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rc/xv/z9/rcxvz9dxkrffxays3hou3zg1rr0.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wir das Anomalieanalysesystem korrekt konfiguriert haben, können wir das nächste Mal keine separaten Untersuchungen mehr durchführen, die die Frage beantworten, ob wir einen Netzwerkscan haben oder nicht ? Es reicht aus, nur die entsprechende Alarmanzeige (Recon) auf der Hauptkonsole zu sehen:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/vu/gb/srvugbzem5sfprr-qlqn_zdga-g.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
und klicken Sie darauf, um eine Liste aller Personen zu erhalten, die bei „illegalen“ Computeraktivitäten bemerkt wurden (die erste Abbildung in diesem Artikel zeigt übrigens eine andere Möglichkeit, den Umfang der Verbreitung von Schadcode zu visualisieren). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yw/hv/sh/ywhvshjiohdvtjjhpjjnf4y1vma.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sei daran erinnert, dass ein scheinbar einfacher Scan das erste Signal für schwerwiegendere Probleme sein kann. Wenn Phishing-E-Mails einer der ersten Schritte sind, mit denen Angreifer ihre Aktivitäten beginnen, erweitern sie durch die Infektion eines Computers ihren Brückenkopf, und die Hauptmethode hierfür beginnt mit einem Scan. So hat sich WannaCry verhalten, also hat sich Shamoon verhalten, also haben sich Hunderte anderer Schadprogramme verhalten, was zu schwerwiegenden Zwischenfällen geführt hat.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w6/-d/wc/w6-dwcrq1labj-rymczqy43o6na.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir die Tatsache des Scannens und Verbreitens von Schadcode aufgezeichnet haben, stehen wir vor der Aufgabe, eine detailliertere Untersuchung durchzuführen und zu verstehen, ob ein Knoten bereits infiziert war, als wann er infiziert wurde usw.? Die NTA-Klassenlösung allein kann dies nicht, da Sie diese Fragen nicht allein durch Telemetrie beantworten können. Im Fall von Cisco Stealthwatch wird uns jedoch eine kostenlose Cisco Threat Response-Lösung zu Hilfe kommen, über die ich bereits </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gesprochen habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es reicht aus, auf den für uns interessanten Knoten zu klicken, und im Dropdown-Kontextmenü sehen wir die Möglichkeit, CTR zu starten, mit der wiederum Informationen über den für uns interessanten Knoten von verschiedenen Systemen gesammelt werden können - Cisco AMP für Endpunkte, Cisco Umbrella, Cisco Talos usw.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gn/64/wo/gn64woga66tkwkd5vedz1gucauo.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So könnte das Bild aussehen, das die kostenlose Cisco Threat Response basierend auf ihren Funktionen zum Anreichern und Visualisieren von Sicherheitsereignissen anzeigt: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/bp/zq/htbpzqxctri84ercsdvfpbj_ryq.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CTR kann uns schädliche Dateien anzeigen, die mit der für uns interessanten Site verknüpft sind und die wir über die Cisco Threat Grid-Sandbox oder den VirusTotal-Dienst überprüfen können. Mit Daten auf einem Knoten können wir sehen, mit wem er im Rahmen des Vorfalls interagiert hat oder mit wem er interagiert, wo der Angriff begann, welcher Schadcode daran beteiligt war, wie das Netzwerk eingedrungen ist und viele andere Fragen beantwortet haben, die für Sicherheitsanalysten von Interesse sind.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tp/hu/mt/tphumth99yiy9qlefo59mxcrycw.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann können wir bereits zusätzliche Überprüfungen der empfangenen Artefakte mithilfe externer Threat Intelligence-Dienste durchführen, die uns mehr Kompromissindikatoren, mehr Informationen über die Angreifer und mehr Informationen über die von ihnen verwendeten Techniken und Taktiken liefern. </font><font style="vertical-align: inherit;">Alles begann mit einem einfachen Netzwerk-Scan, der von der Lösung zur Analyse von Anomalien mithilfe von Netflow (oder einem anderen Flow-Protokoll) erkannt wurde.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3b/w3/qz/3bw3qzewibdfgyj8xwijzag10t8.png" alt="Bild"></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de487454/index.html">Wer sind diese Leute? Warum brauchen sie mich? und andere Scrum Master Probleme</a></li>
<li><a href="../de487460/index.html">Delta: Plattform für Datensynchronisation und -anreicherung</a></li>
<li><a href="../de487462/index.html">Webix JavaScript-Bibliothek mit den Augen eines Anfängers. Teil 4. Mit Daten arbeiten. CRUD</a></li>
<li><a href="../de487470/index.html">Calibry: 3D-Durchbruch Preisdurchbruch</a></li>
<li><a href="../de487486/index.html">Sega Dreamcast Anatomy: Konsole Second Life</a></li>
<li><a href="../de487490/index.html">XSL-Transformation unter MS SQL ohne CLR</a></li>
<li><a href="../de487498/index.html">Auswählen einer Datenbank für die Analyse</a></li>
<li><a href="../de487502/index.html">Abfragen von Druckgeräten mit SNMP, während der Drucker druckt</a></li>
<li><a href="../de487504/index.html">Bis zum Tag der russischen Wissenschaft werden die besten Leistungen der einheimischen Wissenschaftler von 2019 benannt</a></li>
<li><a href="../de487508/index.html">Messen der Entfernung zu Objekten mit RealSense D435</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>