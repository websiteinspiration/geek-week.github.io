<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê° üéã üèáüèº Office 365 & Microsoft Teams - Convenience of Collaboration and Impact on Security üöï üëØ üôáüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article, we would like to show how working with Microsoft Teams looks from the point of view of users, IT administrators, and IS employees. 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Office 365 & Microsoft Teams - Convenience of Collaboration and Impact on Security</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/varonis/blog/504370/"><img src="https://habrastorage.org/webt/qc/uy/cf/qcuycfi7h1omjqrgpghxx6vsy40.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article, we would like to show how working with Microsoft Teams looks from the point of view of users, IT administrators, and IS employees. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First of all, let's clarify the difference between Teams and most other Microsoft products in their Office 365 offer (hereinafter, for brevity - O365). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teams is only a client that does not have its own cloud application. And it places the data it manages in various O365 applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We will show what happens ‚Äúunder the hood‚Äù when users work in Teams, SharePoint Online (hereinafter SPO) and OneDrive.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you would like now to move on to the practical part on providing security using Microsoft tools (1 hour out of the total course time), we highly recommend listening to our Office 365 Sharing Audit course, available </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here. </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This course covers, among other things, the sharing settings in O365, which are only editable through PowerShell.</font></font><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meet Acme Co.'s Internal Project Team </font></font></font></h2><br>
<img src="https://habrastorage.org/webt/jw/re/x1/jwrex1bnvli3muwzcbgyvlg9-si.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is how this Team looks in Teams, after its creation and the provision of appropriate access to its members by the owner of this Team - Amelia:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ix/iv/_g/ixiv_gvyf88gglymunjxvourvea.png"><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Team starts work</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linda implies that only the James and William with whom they discussed this will contact the file with the bonus payment plan placed in her Channel. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rn/jg/ii/rnjgiiesssqtpl-u86z-c6nl7u4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
James, in turn, directs a link to access this file to an employee of the human resources department, Emma, ‚Äã‚Äãwho is not part of the Team. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k8/sn/xt/k8snxte-jprqfuxbgcjdn4pvrn0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
William sends a contract with a third party‚Äôs personal data to another Team member via MS Teams chat:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f0/ng/xx/f0ngxx4p3ik108ysivdrld9k02i.png"><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We climb under the hood</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zoey, with the light hand of Amelia, can now add anyone to the Team at any time, or remove from it: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8s/h_/sf/8sh_sf21bjr51_cwwzpp8ezeh1c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linda, laying out a document with critical data intended for use by only two of her colleagues, was mistaken with the Channel type when creating it, and the file became accessible to all Team members: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3h/c9/67/3hc9670klsgaymujlozl6rlekr0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortunately, there is a Microsoft application for O365, in which you can (using it completely for other purposes) quickly see </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">what critical data all users have access to</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , using for testing a user who is included only in the most common security group . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Even if the files are located inside the Private Channels (Private Channels) - this may not be a guarantee that only a certain circle of people will have access to them.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the example with James, he provided a link to the Emma file, which is not even included in the Command, not to mention access to the Private Channel (if it was one). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this situation, the worst thing is that we will not see information about this anywhere in the security groups in Azure AD, since access rights are granted to it directly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The PDN file sent by William will be available to Margaret anytime, not just while working online chat.</font></font><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We climb up to the waist</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We understand further. </font><font style="vertical-align: inherit;">First, let's see what exactly happens when a user creates a new Team in MS Teams:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tj/xd/67/tjxd67isslyqve7wxf1980hulzs.png"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A new Office 365 security group is being created in Azure AD, including Team owners and members</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The site of the new Team is created in SharePoint Online (hereinafter - SPO)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Three new local (active only in this service) groups are created in SPO: Owners, Members, Visitors</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Changes are made in Exchange Online</font></font></li>
</ul><br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MS Teams data and where they live</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teams is not a data warehouse or platform. </font><font style="vertical-align: inherit;">It is integrated with all Office 365 solutions.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i6/ey/vk/i6eyvk1nzkv4nzdivocyzwh50oa.png"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O365 offers many applications and products, but the data is always stored in the following places: SharePoint Online (SPO), OneDrive (hereinafter - OD), Exchange Online, Azure AD</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The data that you share or receive through MS Teams is stored on these platforms, and not inside Teams itself</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this case, the risk is a growing trend for collaboration. </font><font style="vertical-align: inherit;">Anyone who has access to data on the SPO and OD platforms can make it available to anyone, both inside and outside the organization.</font></font></li>
<li>   (   )    SPO,     </li>
<li>         Documents    SPO:<br>
<ul>
<li>         Documents  SPO  (  ,  )</li>
<li>Email-,   ,    ‚ÄúEmail Messages‚Äù  </li>
</ul><br>
</li>
<li>    ,        SPO,    ,       ( ‚Äî         SPO)</li>
<li>,   ,       OneDrive (  ‚ÄúMicrosoft Teams Chat Files‚Äù),       </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chat and chat content are stored in the user and Team mailboxes, respectively, in hidden folders. </font><font style="vertical-align: inherit;">Now there is no way to get additional access to them.</font></font></li>
</ul><br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Water in the carburetor, flow in the hold</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main points that are important to remember in terms of </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">information security</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Access control, and an understanding of who can be granted rights to important data, is transferred to the end-user level. </font><font style="vertical-align: inherit;">There is no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full centralized control or monitoring</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When someone shares company data, your ‚Äúblind spots‚Äù are visible to others, but not to you.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/jp/wu/6o/jpwu6od5kboeljghjiu_mi91vm0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the list of persons who are members of the Team (through the security group in Azure AD), we do not see Emma, ‚Äã‚Äãbut she has access to a specific file, a link to which James sent her. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u_/qm/4r/u_qm4r4r5edzqpq9svgq2rgzsxe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the same way, we will not find out about its ability to access files from the Teams interface: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fk/th/0m/fkth0m8wfqouywvj0j64jzyb5m4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Can we somehow get information about which object Emma has access to? Yes, we can, but only by studying access rights to everything or to a specific object in the SPO, for which we have suspicions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having studied such rights, we will see that Emma and Chris have rights to the object at the SPO level. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ra/xw/j2/raxwj2mjejzuklwsggzjw4y-rpo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chris? We do not know any Chris. Where did he come from? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And he "came" to us from the "local" security group SPO, which already, in turn, includes the Azure AD security group, with members of the Compensations Team.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s3/we/kg/s3wekgao2caixuda-he7cdd9mmk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maybe </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft Cloud App Security (MCAS)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can shed light on issues of interest to us by providing the right level of understanding? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alas, no ... Despite the fact that we can see Chris and Emma, ‚Äã‚Äãwe can not see the specific users who are granted access.</font></font><br>
<br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O365 Access Levels and Techniques - IT Challenges </font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The simplest process of providing access to data on file storages within the perimeter of organizations is not particularly complicated and practically does not provide opportunities to bypass the granted access rights. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ag/u4/vl/agu4vlud6bfaraduswjdkroiyrw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O365 has many opportunities for collaboration and data access.</font></font><br>
<br>
<ul>
<li>  ,     ,       ,   ,         ,   ,        </li>
<li>             </li>
<li> ,       </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Microsoft at O365 has probably provided too many ways to modify access control lists. </font><font style="vertical-align: inherit;">Such settings are at the level of tenant, sites, folders, files, the objects themselves and links to them. </font><font style="vertical-align: inherit;">Configuring accessibility settings is important and should not be neglected. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We provide the opportunity to take a free, about an hour and a half video course on the configuration of these parameters, a link to which is given at the beginning of this article. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Without thinking twice, you can block all external file sharing, but then:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Some of the features of the O365 platform will remain unused, especially if some users are used to using them at home or at a previous job</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúAdvanced users‚Äù will ‚Äúhelp‚Äù other employees to violate your rules by other means</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configuring sharing capabilities includes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Different configurations for each application: OD, SPO, AAD and MS Teams (part of the configuration can be done only by the administrator, part - only by the users themselves)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration configurations at the tenant level and at the level of each specific site</font></font></li>
</ul><br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What does this mean for IB</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As we saw above, full reliable access rights to data cannot be seen in a single interface: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y3/rt/ia/y3rtiakjd056b3efddq2-sf8wtw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, in order to understand who has access to EVERY specific file or folder, you will need to independently create an access matrix, collecting data for it, taking into account the following:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Team Members Visible in Azure AD and Teams, but Not in SPO</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Team Owners can designate Co-Owners who can expand the Team list on their own </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TEAMs may also include EXTERNAL users - ‚ÄúGuests‚Äù </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Links provided for sharing or downloading are not visible in Teams or in Azure AD - only in SPO, and only after tedious transitions in the mass of links</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Access only to the SPO site is not visible in Teams</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The lack of centralized control</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> means that you cannot:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">See who has access to which resources</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">See where critical data is</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meet the requirements of regulations requiring an approach to planning services with a focus on confidentiality of access at their core </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detect abnormal behavior regarding critical data</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limit attack area</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Choose an effective way to reduce the level of risk, based on their assessment</font></font></li>
</ul><br>
<h2><font color="#D21927"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Summary</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a conclusion, we can say that </font></font><br>
<br>
<ul>
<li>   ,    O365,    ,        ,         ,       -    O365</li>
<li>         ,     ,    ,      -    O365     ,            O365</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en504352/index.html">Ten companies that Figma helped achieve new design results and more</a></li>
<li><a href="../en504354/index.html">Reduce the size of the ML model without registration and SMS</a></li>
<li><a href="../en504356/index.html">PHP 8 in eight pieces of code</a></li>
<li><a href="../en504358/index.html">PuppetConf 2016. Kubernetes for system administrators. Part 2</a></li>
<li><a href="../en504362/index.html">Quickly load large amounts of data in Google Colab</a></li>
<li><a href="../es486176/index.html">Memo de correspondencia de correo electr√≥nico corporativo</a></li>
<li><a href="../es486178/index.html">FOSS News No. 1 - revisi√≥n de noticias gratuitas y de c√≥digo abierto del 27 de enero al 2 de febrero de 2020</a></li>
<li><a href="../es486180/index.html">Consejos y fuentes para crear aplicaciones sin servidor</a></li>
<li><a href="../es486184/index.html">C√≥mo usar la b√∫squeda de manera efectiva</a></li>
<li><a href="../es486186/index.html">Nube catastr√≥fica: c√≥mo funciona</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>