<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíáüèø ü§±üèæ üëâ R√©servez Kubernetes pour DevOps üôáüèΩ üöá üïï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, habrozhiteli! Kubernetes est l'un des √©l√©ments cl√©s de l'√©cosyst√®me cloud moderne. Cette technologie offre la fiabilit√©, l'√©volutivit√© et la ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>R√©servez Kubernetes pour DevOps</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/492508/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/w6/ix/vt/w6ixvt-g2rjcyrcfpzdkpv9zfae.jpeg" align="left" alt="image"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, habrozhiteli! Kubernetes est l'un des √©l√©ments cl√©s de l'√©cosyst√®me cloud moderne. Cette technologie offre la fiabilit√©, l'√©volutivit√© et la r√©silience de la virtualisation de conteneurs. John Arundel et Justin Domingus parlent de l'√©cosyst√®me Kubernetes et pr√©sentent des solutions √©prouv√©es aux probl√®mes quotidiens. √âtape par √©tape, vous allez cr√©er votre propre application cloud et cr√©er l'infrastructure pour la prendre en charge, configurer l'environnement de d√©veloppement et le pipeline de d√©ploiement continu, qui vous seront utiles lorsque vous travaillerez sur les applications suivantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Commencez avec les conteneurs et Kubernetes √† partir de z√©ro: aucune exp√©rience particuli√®re n'est requise pour apprendre le sujet. </font><font style="vertical-align: inherit;">‚Ä¢ D√©marrez vos propres clusters ou choisissez un service Kubernetes g√©r√© d'Amazon, Google, etc. ‚Ä¢ Utilisez Kubernetes pour g√©rer le cycle de vie des conteneurs et la consommation des ressources. </font><font style="vertical-align: inherit;">‚Ä¢ Optimiser les clusters pour le co√ªt, les performances, la r√©silience, la puissance et l'√©volutivit√©. </font><font style="vertical-align: inherit;">‚Ä¢ Apprenez les meilleurs outils pour d√©velopper, tester et d√©ployer vos applications. </font><font style="vertical-align: inherit;">‚Ä¢ Profitez des pratiques actuelles de l'industrie en mati√®re de s√©curit√© et de contr√¥le. </font><font style="vertical-align: inherit;">‚Ä¢ Mettez en ≈ìuvre les principes DevOps dans votre entreprise afin que les √©quipes de d√©veloppement deviennent plus flexibles, rapides et efficaces.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä qui s'adresse le livre?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le livre est le plus pertinent pour les employ√©s des services administratifs responsables des serveurs, des applications et des services, ainsi que pour les d√©veloppeurs impliqu√©s dans la cr√©ation de nouveaux services cloud ou la migration des applications existantes vers Kubernetes et le cloud. </font><font style="vertical-align: inherit;">Ne vous inqui√©tez pas, il n'est pas n√©cessaire de savoir comment travailler avec Kubernetes et les conteneurs - nous vous apprendrons tout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les utilisateurs exp√©riment√©s de Kubernetes trouveront √©galement beaucoup de valeur: des sujets tels que RBAC, le d√©ploiement continu, la gestion des donn√©es sensibles et l'observabilit√© sont trait√©s en profondeur. </font><font style="vertical-align: inherit;">Nous esp√©rons que les pages du livre auront s√ªrement quelque chose d'int√©ressant pour vous, quelles que soient vos comp√©tences et votre exp√©rience.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quelles questions le livre r√©pond-il</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours de la planification et de la r√©daction du livre, nous avons discut√© des technologies cloud et de Kubernetes avec des centaines de personnes, discut√© avec des dirigeants et des experts de l'industrie, ainsi qu'avec des d√©butants absolus. </font><font style="vertical-align: inherit;">Voici les questions individuelles auxquelles ils aimeraient voir des r√©ponses dans cette publication.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Je voudrais savoir pourquoi il faut consacrer du temps √† cette technologie. </font><font style="vertical-align: inherit;">Quels probl√®mes m'aidera-t-elle, moi et mon √©quipe, √† r√©soudre? ¬ª</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Kubernetes semble int√©ressant, mais a un seuil d'entr√©e assez √©lev√©. </font><font style="vertical-align: inherit;">Pr√©parer un exemple simple n'est pas difficile, mais une administration et un d√©bogage suppl√©mentaires sont effrayants. </font><font style="vertical-align: inherit;">Nous aimerions obtenir des conseils fiables sur la fa√ßon dont les gens g√®rent les clusters Kubernetes dans la vie r√©elle et sur les probl√®mes que nous sommes susceptibles de rencontrer. ¬ª</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Des conseils subjectifs seraient utiles. </font><font style="vertical-align: inherit;">L'√©cosyst√®me Kubernetes offre aux √©quipes novices un trop grand nombre d'options. </font><font style="vertical-align: inherit;">Quand la m√™me chose peut se faire de plusieurs mani√®res, comment comprendre laquelle est la meilleure? </font><font style="vertical-align: inherit;">Comment faire un choix? "</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et, probablement, la plus importante de toutes les questions:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Comment utiliser Kubernetes sans perturber mon entreprise?"</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extrait. </font><font style="vertical-align: inherit;">Configuration et objets secrets</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La possibilit√© de s√©parer la logique de l'application Kubernetes de sa configuration (c'est-√†-dire de toute valeur ou param√®tre susceptible de changer avec le temps) est tr√®s utile. Les valeurs de configuration incluent g√©n√©ralement les param√®tres d'un environnement sp√©cifique, les adresses DNS des services tiers et les informations d'identification pour l'authentification. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, tout cela peut √™tre plac√© directement dans le code, mais cette approche n'est pas assez flexible. Par exemple, pour modifier la valeur de configuration, vous devrez alors r√©assembler et d√©ployer votre code. Une bien meilleure solution serait de s√©parer la configuration du code et de la lire du fichier ou des variables d'environnement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes propose plusieurs fa√ßons diff√©rentes de g√©rer votre configuration. </font><font style="vertical-align: inherit;">Tout d'abord, vous pouvez transmettre des valeurs √† l'application via les variables d'environnement sp√©cifi√©es dans la sp√©cification du shell du pod (voir la section "Variables d'environnement" √† la page 192). </font><font style="vertical-align: inherit;">Deuxi√®mement, les donn√©es de configuration peuvent √™tre stock√©es directement dans Kubernetes √† l'aide des objets ConfigMap et Secret. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce chapitre, nous examinerons ces objets en d√©tail et envisagerons des approches pratiques pour g√©rer la configuration et les donn√©es sensibles √† l'aide d'un exemple d'application de d√©monstration.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mise √† jour des shells de pod lors du changement de configurations</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez que votre cluster dispose d'un d√©ploiement et que vous souhaitez modifier certaines valeurs dans son ConfigMap. </font><font style="vertical-align: inherit;">Si vous utilisez le graphique Helm (voir la section ¬´Helm: Gestionnaire de packages pour Kubernetes¬ª √† la page 102), vous pouvez d√©tecter un changement de configuration et red√©marrer vos shells de pod avec une astuce √©l√©gante. </font><font style="vertical-align: inherit;">Ajoutez l'annotation suivante √† votre sp√©cification de d√©ploiement:</font></font><br>
<br>
<pre><code class="bash hljs">checksum/config: {{ include (<span class="hljs-built_in">print</span> $.Template.BasePath <span class="hljs-string">"/configmap.yaml"</span>) .<font></font>
       | sha256sum }}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, le mod√®le de d√©ploiement contient la somme de contr√¥le des param√®tres de configuration: lorsque les param√®tres sont modifi√©s, la somme est mise √† jour. </font><font style="vertical-align: inherit;">Si vous ex√©cutez la commande de mise √† niveau de helm, Helm constatera que la sp√©cification de d√©ploiement a chang√© et red√©marrera tous les shells de pod.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Donn√©es confidentielles chez Kubernetes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous savons d√©j√† que l'objet ConfigMap fournit un m√©canisme flexible pour stocker et acc√©der aux donn√©es de configuration dans un cluster. Cependant, la plupart des applications contiennent des informations secr√®tes et confidentielles: par exemple, des mots de passe ou des cl√©s API. Il peut √©galement √™tre stock√© dans ConfigMap, mais une telle solution n'est pas id√©ale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au lieu de cela, Kubernetes propose un type sp√©cial d'objet con√ßu pour stocker des donn√©es sensibles: Secret. Ensuite, nous consid√©rons un exemple de la fa√ßon dont cet objet peut √™tre appliqu√© dans notre application de d√©monstration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, jetez un ≈ìil au manifeste Kubernetes pour l'objet Secret (voir hello-secret-env / k8s / secret.yaml):</font></font><br>
<br>
<pre><code class="bash hljs">apiVersion: v1<font></font>
kind: Secret<font></font>
metadata:<font></font>
    name: demo-secret<font></font>
stringData:<font></font>
    magicWord: xyzzy<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, la cl√© priv√©e magicWord est xyzzy (en.wikipedia.org/wiki/Xyzzy_(computing)). </font><font style="vertical-align: inherit;">Le mot xyzzy est g√©n√©ralement tr√®s utile dans le monde des ordinateurs. </font><font style="vertical-align: inherit;">Semblable √† ConfigMap, vous pouvez placer de nombreuses cl√©s et valeurs dans un objet Secret. </font><font style="vertical-align: inherit;">Ici, pour plus de simplicit√©, nous n'utilisons qu'une seule paire cl√©-valeur.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation d'objets secrets comme variables d'environnement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme ConfigMap, l'objet Secret peut √™tre rendu disponible dans le conteneur en tant que variables d'environnement ou fichier sur son disque. </font><font style="vertical-align: inherit;">Dans l'exemple suivant, nous assignerons √† la variable d'environnement la valeur de Secret:</font></font><br>
<br>
<pre><code class="bash hljs">spec:<font></font>
   containers:<font></font>
       - name: demo<font></font>
          image: cloudnatived/demo:hello-secret-env<font></font>
          ports:<font></font>
             - containerPort: 8888<font></font>
          env:<font></font>
             - name: GREETING<font></font>
               valueFrom:<font></font>
               secretKeyRef:<font></font>
                  name: demo-secret<font></font>
                  key: magicWord</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ex√©cutez la commande suivante dans le r√©f√©rentiel de d√©monstration pour appliquer les manifestes:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl apply -f hello-secret-env/k8s/<font></font>
deployment.extensions <span class="hljs-string">"demo"</span> configured<font></font>
secret <span class="hljs-string">"demo-secret"</span> created</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme pr√©c√©demment, redirigez le port local vers le d√©ploiement pour voir le r√©sultat dans votre navigateur:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl port-forward deploy/demo 9999:8888<font></font>
Forwarding from 127.0.0.1:9999 -&gt; 8888<font></font>
Forwarding from [::1]:9999 -&gt; 8888</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous ouvrez l'adresse de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h√¥te local</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 9999 / vous devriez voir ce qui suit:</font></font><br>
<br>
<code>The magic word is "xyzzy"</code><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âcriture d'objets secrets dans des fichiers</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, nous attacherons l'objet Secret au conteneur en tant que fichier. Le code se trouve dans le dossier hello-secret-file du r√©f√©rentiel de d√©monstration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour connecter Secret en tant que fichier, nous utiliserons le d√©ploiement suivant:</font></font><br>
<br>
<pre><code class="bash hljs">spec:<font></font>
   containers:<font></font>
       - name: demo<font></font>
          image: cloudnatived/demo:hello-secret-file<font></font>
          ports:<font></font>
              - containerPort: 8888<font></font>
          volumeMounts:<font></font>
              - name: demo-secret-volume<font></font>
                mountPath: <span class="hljs-string">"/secrets/"</span>
                readOnly: <span class="hljs-literal">true</span><font></font>
   volumes:<font></font>
      - name: demo-secret-volume<font></font>
        secret:<font></font>
           secretName: demo-secret</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme dans la sous-section ¬´Cr√©ation de fichiers de configuration √† partir d'objets ConfigMap¬ª sur p. </font><font style="vertical-align: inherit;">240, nous cr√©ons un volume (dans ce cas, demo-secret-volume) et le connectons au conteneur dans la section des sp√©cifications de volumeMounts. </font><font style="vertical-align: inherit;">MountPath √©tant / secrets, Kubernetes cr√©era donc un fichier pour chaque paire cl√©-valeur d√©finie dans l'objet Secret de ce dossier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre exemple, nous avons d√©fini une seule paire cl√©-valeur appel√©e magicWord, de sorte que le manifeste cr√©era un seul fichier / secrets / magicWord avec des donn√©es confidentielles dans le conteneur en lecture seule. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous appliquez ce manifeste de la m√™me mani√®re que dans l'exemple pr√©c√©dent, vous devriez obtenir le m√™me r√©sultat:</font></font><br>
<br>
<code>The magic word is "xyzzy"</code><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lecture d'objets secrets</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la section pr√©c√©dente, nous avons utilis√© la commande kubectl describe pour afficher le contenu de ConfigMap. </font><font style="vertical-align: inherit;">Pouvez-vous faire de m√™me avec Secret?</font></font><br>
<br>
<pre><code class="bash hljs">kubectl describe secret/demo-secret<font></font>
Name:          demo-secret<font></font>
<font></font>
Namespace:      default<font></font>
Labels:             &lt;none&gt;<font></font>
Annotations:<font></font>
Type:               Opaque<font></font>
<font></font>
Data<font></font>
====<font></font>
magicWord: 5   bytes</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que les donn√©es elles-m√™mes ne sont pas affich√©es. </font><font style="vertical-align: inherit;">Les objets secrets dans Kubernetes sont de type Opaque: cela signifie que leur contenu n'est pas affich√© dans la sortie de kubectl decrire, les entr√©es de journal et le terminal, ce qui rend impossible de r√©v√©ler accidentellement des informations sensibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour afficher la version encod√©e des donn√©es sensibles au format YAML, utilisez la commande kubectl get:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl get secret/demo-secret -o yaml<font></font>
apiVersion: v1<font></font>
data:<font></font>
   magicWord: eHl6enk=<font></font>
kind: Secret<font></font>
metadata:<font></font>
...<font></font>
<span class="hljs-built_in">type</span>: Opaque</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base64</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que eHl6enk =, qui est compl√®tement diff√©rent de notre valeur d'origine? Il s'agit en fait d'un objet Secret, repr√©sent√© dans le codage base64. Base64 est un sch√©ma de codage pour les donn√©es binaires arbitraires sous la forme d'une cha√Æne de caract√®res. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que les informations confidentielles peuvent √™tre binaires et inaccessibles pour la sortie (comme, par exemple, dans le cas de la cl√© de chiffrement TLS), les objets secrets sont toujours stock√©s au format base64. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le texte beHl6enk = est la version encod√©e en base64 de notre mot secret xyzzy. Vous pouvez le v√©rifier si vous ex√©cutez la commande base64 --decode dans le terminal:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">echo</span> <span class="hljs-string">"eHl6enk="</span> | base64 --decode<font></font>
xyzzy</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, malgr√© le fait que Kubernetes vous prot√®ge contre l'affichage accidentel de donn√©es sensibles dans le terminal ou les fichiers journaux, si vous avez le droit de lire des objets secrets dans un espace de noms sp√©cifique, ces donn√©es peuvent √™tre re√ßues au format base64 puis d√©cod√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous devez coder du texte en base64 (par exemple, pour le mettre en secret), utilisez la commande base64 sans argument:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">echo</span> xyzzy | base64<font></font>
eHl6enkK</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acc√®s aux objets secrets</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qui peut lire et modifier des objets secrets? </font><font style="vertical-align: inherit;">Ceci est d√©termin√© par RBAC, le m√©canisme de contr√¥le d'acc√®s (nous en discuterons en d√©tail dans la section ¬´Introduction au contr√¥le d'acc√®s bas√© sur les r√¥les¬ª √† la page 258). </font><font style="vertical-align: inherit;">Si vous utilisez un cluster dans lequel le syst√®me RBAC est absent ou non activ√©, tous vos objets Secret sont accessibles √† tous les utilisateurs et conteneurs (nous expliquerons plus loin que vous ne devriez pas avoir de cluster industriel sans RBAC).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cryptage passif des donn√©es</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'en est-il de ceux qui ont acc√®s √† la base de donn√©es etcd, dans laquelle Kubernetes stocke toutes ses informations? Peuvent-ils lire des donn√©es sensibles sans avoir le droit de lire des objets secrets via l'API? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuis la version 1.7, Kubernetes prend en charge le chiffrement passif des donn√©es. Cela signifie que les informations confidentielles √† l'int√©rieur de etcd sont stock√©es sur le disque sous forme crypt√©e et ne peuvent pas √™tre lues m√™me par ceux qui ont un acc√®s direct √† la base de donn√©es. Pour le d√©chiffrer, vous avez besoin d'une cl√© que seul le serveur API Kubernetes poss√®de. Dans un cluster correctement configur√©, le chiffrement passif doit √™tre activ√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√©rifiez si le chiffrement passif fonctionne dans votre cluster en proc√©dant comme suit:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl describe pod -n kube-system -l component=kube-apiserver |grep encryption<font></font>
        --experimental-encryption-provider-config=...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous ne voyez pas l'indicateur experimental-encryption-provider-config, le cryptage passif n'est pas activ√©. </font><font style="vertical-align: inherit;">Lorsque vous utilisez le moteur Google Kubernetes ou d'autres services de gestion Kubernetes, vos donn√©es sont crypt√©es √† l'aide d'un m√©canisme diff√©rent, de sorte que l'indicateur sera absent. </font><font style="vertical-align: inherit;">V√©rifiez aupr√®s de votre fournisseur Kubernetes pour voir si le contenu de etcd est crypt√©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage de donn√©es confidentielles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe des ressources Kubernetes qui ne doivent jamais √™tre supprim√©es d'un cluster: par exemple, des objets secrets particuli√®rement importants. </font><font style="vertical-align: inherit;">Vous pouvez prot√©ger la ressource contre la suppression √† l'aide de l'annotation fournie par Helm Manager:</font></font><br>
<br>
<pre><code class="bash hljs">kind: Secret<font></font>
metadata:<font></font>
    annotations:<font></font>
        <span class="hljs-string">"helm.sh/resource-policy"</span>: keep</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strat√©gies de gestion d'objets secrets</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'exemple de la section pr√©c√©dente, les donn√©es sensibles ont √©t√© prot√©g√©es contre tout acc√®s non autoris√© imm√©diatement apr√®s leur stockage dans le cluster. </font><font style="vertical-align: inherit;">Mais dans les fichiers manifestes, ils √©taient stock√©s en texte brut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous ne devez jamais placer d'informations confidentielles dans des fichiers qui se trouvent dans le syst√®me de contr√¥le de version. </font><font style="vertical-align: inherit;">Comment administrer et stocker ces informations en toute s√©curit√© avant de les appliquer √† un cluster Kubernetes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez choisir n'importe quel outil ou strat√©gie pour travailler avec des donn√©es sensibles dans vos applications, mais vous devez toujours r√©pondre au moins aux questions suivantes.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O√π stocker les donn√©es sensibles afin qu'elles soient hautement accessibles?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment mettre des donn√©es sensibles √† la disposition de vos applications actives?</font></font></li>
<li>     ,       ?</li>
</ul><br>
<h3> </h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John Arundel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un consultant avec 30 ans d'exp√©rience dans l'industrie informatique. Il a √©crit plusieurs livres et travaille avec de nombreuses entreprises de diff√©rents pays, les conseillant sur l'infrastructure bas√©e sur le cloud et Kubernetes. Pendant son temps libre, il aime surfer, tire avec un bon pistolet et joue du piano de fa√ßon amateur. Vit dans un fabuleux chalet √† Cornwall, en Angleterre. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Justin Domingus</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un ing√©nieur d'administration syst√®me travaillant dans un environnement DevOps avec Kubernetes et les technologies cloud. Il aime passer du temps √† l'ext√©rieur, boire du caf√©, attraper des crabes et s'asseoir devant l'ordinateur. Vit √† Seattle, Washington, avec un chat merveilleux et une femme encore plus merveilleuse et la meilleure amie √† temps partiel Adrienne.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬ªPlus d'informations sur le livre peuvent √™tre trouv√©es sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le site Web de l'√©diteur</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
¬ª </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contenu</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
¬ª </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extrait</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pour Khabrozhiteley 25% de r√©duction sur le coupon - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Lors du paiement de la version papier du livre, un livre √©lectronique est envoy√© par e-mail.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492496/index.html">Exemple de SPA Simple Notes sur Mithril.js</a></li>
<li><a href="../fr492500/index.html">Garage scientifique en russe. Exp√©rience de traduction d'un spectacle am√©ricain</a></li>
<li><a href="../fr492502/index.html">MIP * = RE: preuve historique du domaine de l'informatique qui a provoqu√© l'effet domino en physique et en math√©matiques</a></li>
<li><a href="../fr492504/index.html">Que se passe-t-il lorsqu'un module JS est import√© deux fois?</a></li>
<li><a href="../fr492506/index.html">3 fa√ßons de rendre de grandes listes en angulaire</a></li>
<li><a href="../fr492510/index.html">Modules ES6 dans le navigateur: sont-ils pr√™ts ou non?</a></li>
<li><a href="../fr492512/index.html">CSS: aventures au pays de la translucidit√©</a></li>
<li><a href="../fr492514/index.html">Comment √©tablir un flux de documents √©lectroniques juridiquement significatif des contreparties en Russie et au Kazakhstan?</a></li>
<li><a href="../fr492518/index.html">L'√©pid√©mie de virus n√©cessite un travail √† distance, ce qui signifie la signature num√©rique des documents</a></li>
<li><a href="../fr492520/index.html">Mod√©lisation 3D param√©tr√©e de la cuvette de roulement dans nanoCAD Plus 20</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>