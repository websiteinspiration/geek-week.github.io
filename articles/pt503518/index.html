<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚úàÔ∏è üëç üë©üèø‚Äçü§ù‚Äçüë©üèæ Neomorfismo usando SwiftUI. Parte 2: O que pode ser feito com acessibilidade? ü§¶üèæ üïµüèæ üë®üèæ‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° a todos! Em antecipa√ß√£o ao lan√ßamento do curso avan√ßado ‚ÄúIOS Developer‚Äù, publicamos uma tradu√ß√£o da segunda parte do artigo sobre neomorfismo usan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Neomorfismo usando SwiftUI. Parte 2: O que pode ser feito com acessibilidade?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/503518/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ol√° a todos! </font><font style="vertical-align: inherit;">Em antecipa√ß√£o ao lan√ßamento do curso avan√ßado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúIOS Developer‚Äù,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> publicamos uma tradu√ß√£o da segunda parte do artigo sobre neomorfismo usando o SwiftUI ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leia a primeira parte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/he/yr/xx/heyrxxyvuyqlbcy3ky0-7wuosmu.png"><br>
<br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tema escuro</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de come√ßarmos a entender como podemos melhorar a disponibilidade do neomorfismo, vamos ver como podemos trabalhar com o efeito para criar outros estilos interessantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro adicione mais duas cores √† extens√£o, </font></font><code>Color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para que tenhamos v√°rios valores constantes √† m√£o:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> darkStart = <span class="hljs-type">Color</span>(red: <span class="hljs-number">50</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">60</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">65</span> / <span class="hljs-number">255</span>)
<span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> darkEnd = <span class="hljs-type">Color</span>(red: <span class="hljs-number">25</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">25</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">30</span> / <span class="hljs-number">255</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Podemos us√°-los como pano de fundo </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, substituindo o existente </font></font><code>Color.white</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, conforme mostrado aqui:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
    <span class="hljs-type">ZStack</span> {
        <span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O nosso </font></font><code>SimpleButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agora parece fora de lugar, porque imp√µe uma estiliza√ß√£o brilhante em um fundo escuro. Ent√£o, criaremos um novo estilo escuro que funcione melhor aqui, mas desta vez vamos dividi-lo em duas partes: uma visualiza√ß√£o em segundo plano que podemos usar em qualquer lugar, e um estilo de bot√£o que o envolva com os modificadores de preenchimento e contentShape. Isso nos dar√° mais flexibilidade, como voc√™ ver√° mais adiante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A nova visualiza√ß√£o de plano de fundo que adicionaremos nos permitir√° especificar qualquer forma para nosso efeito visual, para que n√£o fiquemos mais apegados a c√≠rculos. Ele tamb√©m acompanhar√° se c√¥ncava nosso efeito convexo (interno ou externo), dependendo da propriedade </font></font><code>isHighlighted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que podemos mudar do lado de fora.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Come√ßaremos com o mais simples, usando uma abordagem de invers√£o de sombra modificada para obter um efeito c√¥ncavo. </font><font style="vertical-align: inherit;">Adicione esta estrutura:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DarkBackground</span>&lt;<span class="hljs-title">S</span>: <span class="hljs-title">Shape</span>&gt;: <span class="hljs-title">View</span> </span>{
    <span class="hljs-keyword">var</span> isHighlighted: <span class="hljs-type">Bool</span>
    <span class="hljs-keyword">var</span> shape: <span class="hljs-type">S</span><font></font>
<font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-keyword">if</span> isHighlighted {<font></font>
                shape<font></font>
                    .fill(<span class="hljs-type">Color</span>.darkEnd)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
<font></font>
            } <span class="hljs-keyword">else</span> {<font></font>
                shape<font></font>
                    .fill(<span class="hljs-type">Color</span>.darkEnd)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A modifica√ß√£o √© que, quando o bot√£o √© pressionado, o tamanho da sombra diminui - usamos uma dist√¢ncia de 5 pontos em vez de 10. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, podemos envolv√™-lo com a ajuda de </font></font><code>DarkButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padding e contentShape, como mostrado aqui:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DarkButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
            .padding(<span class="hljs-number">30</span>)<font></font>
            .contentShape(<span class="hljs-type">Circle</span>())<font></font>
            .background(<font></font>
                <span class="hljs-type">DarkBackground</span>(isHighlighted: configuration.isPressed, shape: <span class="hljs-type">Circle</span>())<font></font>
            )<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, podemos aplicar isso ao nosso bot√£o </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alterando-o </font></font><code>ButtonStyle()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs">.buttonStyle(<span class="hljs-type">DarkButtonStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos ver o que aconteceu - embora n√£o tenhamos muito c√≥digo, acho que o resultado parece bom o suficiente.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jz/va/7o/jzva7ocai47mzhaj-cft8nn7e6g.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algumas experi√™ncias</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora √© a hora de experimentar o efeito, porque ele ajudar√° voc√™ a entender melhor do que o SwiftUI √© especificamente capaz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, podemos criar um bot√£o convexo suave adicionando um gradiente linear a ele e gir√°-lo quando pressionado:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> isHighlighted {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkEnd, <span class="hljs-type">Color</span>.darkStart))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
<font></font>
} <span class="hljs-keyword">else</span> {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ executar isso, ver√° que o bot√£o anima suavemente para cima e para baixo quando pressionado e solto. </font><font style="vertical-align: inherit;">Eu acho que a anima√ß√£o √© um pouco perturbadora, por isso recomendo desativ√°-la adicionando esse modificador ao m√©todo </font></font><code>makeBody()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from </font></font><code>DarkButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ap√≥s o modificador presente l√° </font></font><code>background()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs">.animation(<span class="hljs-literal">nil</span>)</code></pre><br>
<img src="https://habrastorage.org/webt/g3/lo/n5/g3lon5maomyp_uldbmdvxiknxvs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse efeito do bot√£o de almofada √© encantador, mas se voc√™ planeja us√°-lo, aconselho a tentar as tr√™s altera√ß√µes a seguir para destacar o bot√£o um pouco mais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em primeiro lugar, apesar do fato de que isso contradiz o princ√≠pio de baixo contraste do design neom√≥rfico, eu substituiria o √≠cone cinza por um √≠cone branco para destac√°-lo. </font><font style="vertical-align: inherit;">Ent√£o, </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voc√™ precisaria do seguinte:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
    .foregroundColor(.white)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em segundo lugar, se voc√™ adicionar sobreposi√ß√£o para o bot√£o no estado pressionado, isso n√£o apenas far√° com que pare√ßa mais com um bot√£o f√≠sico real pressionado uniformemente, mas tamb√©m ajudar√° a distinguir seu estado pressionado do n√£o pressionado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para implementar isso, voc√™ precisa inserir o modificador </font></font><code>overlay()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depois </font></font><code>fill()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quando </font></font><code>isHighlighted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© verdade, como aqui:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> isHighlighted {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkEnd, <span class="hljs-type">Color</span>.darkStart))<font></font>
        .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br>
<img src="https://habrastorage.org/webt/dz/3r/ek/dz3rekiskxg_akiehpl0xp6iv9u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obter uma apar√™ncia ainda mais n√≠tida, voc√™ pode remover dois modificadores </font></font><code>shadow()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para o estado pressionado que se concentram na sobreposi√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em terceiro lugar, voc√™ tamb√©m pode adicionar sobreposi√ß√£o ao estado n√£o compactado, apenas para marcar que √© um bot√£o. </font><font style="vertical-align: inherit;">Coloque-o imediatamente depois </font></font><code>fill()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, assim:</font></font><br>
<br>
<pre><code class="swift hljs">} <span class="hljs-keyword">else</span> {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd))<font></font>
        .overlay(shape.stroke(<span class="hljs-type">Color</span>.darkEnd, lineWidth: <span class="hljs-number">4</span>))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
}</code></pre><br>
<img src="https://habrastorage.org/webt/l7/5s/jf/l75sjfjt4ymqfaoeyshsdwto1ds.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adicionando um estilo de switch</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma das vantagens de separar um estilo de bot√£o de um estilo de fundo n√£o-m√≥rfico √© que agora podemos adicionar um estilo de op√ß√£o usando o mesmo efeito. </font><font style="vertical-align: inherit;">Isso significa criar uma nova estrutura compat√≠vel com protocolo </font></font><code>ToggleStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semelhante a </font></font><code>ButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, exceto que:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precisamos ler </font></font><code>configuration.isOn</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para determinar se o interruptor est√° ativado.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precisamos fornecer um bot√£o para lidar com o ato de mudar, ou pelo menos algo assim </font></font><code>onTapGesture()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font><font style="vertical-align: inherit;">algo assim </font><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione esta estrutura ao seu projeto:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DarkToggleStyle</span>: <span class="hljs-title">ToggleStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {
        <span class="hljs-type">Button</span>(action: {<font></font>
            configuration.isOn.toggle()<font></font>
        }) {<font></font>
            configuration.label<font></font>
                .padding(<span class="hljs-number">30</span>)<font></font>
                .contentShape(<span class="hljs-type">Circle</span>())<font></font>
        }<font></font>
        .background(<font></font>
            <span class="hljs-type">DarkBackground</span>(isHighlighted: configuration.isOn, shape: <span class="hljs-type">Circle</span>())<font></font>
        )<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queremos colocar um deles </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para que voc√™ possa test√°-lo, ent√£o comece adicionando esta propriedade:</font></font><br>
<br>
<pre><code class="swift hljs">@<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isToggled = <span class="hljs-literal">false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, enrole o bot√£o existente </font></font><code>VStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com espa√ßamento igual a 40 e coloque-o abaixo:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Toggle</span>(isOn: $isToggled) {
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.white)<font></font>
}<font></font>
.toggleStyle(<span class="hljs-type">DarkToggleStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sua estrutura </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deve ficar assim:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isToggled = <span class="hljs-literal">false</span><font></font>
<font></font>
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd)<font></font>
<font></font>
            <span class="hljs-type">VStack</span>(spacing: <span class="hljs-number">40</span>) {
                <span class="hljs-type">Button</span>(action: {
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
                }) {<font></font>
                    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
                        .foregroundColor(.white)<font></font>
                }<font></font>
                .buttonStyle(<span class="hljs-type">DarkButtonStyle</span>())<font></font>
<font></font>
                <span class="hljs-type">Toggle</span>(isOn: $isToggled) {
                    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
                        .foregroundColor(.white)<font></font>
                }<font></font>
                .toggleStyle(<span class="hljs-type">DarkToggleStyle</span>())<font></font>
            }<font></font>
        }<font></font>
        .edgesIgnoringSafeArea(.all)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E √© tudo - aplicamos nosso design neom√≥rfico comum em dois lugares!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Melhoria da acessibilidade</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tivemos tempo suficiente para brincar com v√°rios estilos neom√≥rficos, mas agora quero me concentrar nos problemas desse design: uma extrema falta de contraste significa que bot√µes e outros controles importantes n√£o s√£o suficientes para se destacar do ambiente, o que dificulta o uso de nossos aplicativos para pessoas com vis√£o imperfeita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este √© o momento em que observo alguns mal-entendidos, por isso quero dizer algumas coisas com anteced√™ncia:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sim, entendo que os bot√µes padr√£o da Apple se parecem com texto azul e, portanto, n√£o se parecem com bot√µes familiares, pelo menos √† primeira vista, mas eles t√™m uma alta taxa de contraste.</font></font></li>
<li>  ¬´   ,      ,     ¬ª ‚Äî  ‚Äî   ¬´ ¬ª,  ,        ,     - .</li>
<li>    -     SwiftUI,  ,             VoiceOver     Apple.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ j√° viu como alteramos o √≠cone cinza para branco para obter aprimoramento instant√¢neo do contraste, mas os bot√µes e interruptores ainda precisam de muito mais contraste se voc√™ quiser torn√°-los mais acess√≠veis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, vamos considerar quais mudan√ßas poder√≠amos fazer para que os elementos realmente se destacassem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, gostaria que voc√™ adicionasse duas novas cores √† nossa extens√£o:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> lightStart = <span class="hljs-type">Color</span>(red: <span class="hljs-number">60</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">160</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">240</span> / <span class="hljs-number">255</span>)
<span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> lightEnd = <span class="hljs-type">Color</span>(red: <span class="hljs-number">30</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">80</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">120</span> / <span class="hljs-number">255</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em segundo lugar, duplique o existente </font></font><code>DarkBackground</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e nomeie a c√≥pia </font></font><code>ColorfulBackground</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">N√≥s vamos lidar com isso em um momento, mas, novamente, primeiro precisamos fazer alguma prepara√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terceiro, duplique o estilo escuro do bot√£o e alterne, renomeie-o para </font></font><code>ColorfulButtonStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>ColorfulToggleStyle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, em seguida, fa√ßa-os usar o novo </font></font><code>ColorfulBackground</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como plano de fundo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o eles devem ficar assim:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ColorfulButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
            .padding(<span class="hljs-number">30</span>)<font></font>
            .contentShape(<span class="hljs-type">Circle</span>())<font></font>
            .background(<font></font>
                <span class="hljs-type">ColorfulBackground</span>(isHighlighted: configuration.isPressed, shape: <span class="hljs-type">Circle</span>())<font></font>
            )<font></font>
            .animation(<span class="hljs-literal">nil</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ColorfulToggleStyle</span>: <span class="hljs-title">ToggleStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {
        <span class="hljs-type">Button</span>(action: {<font></font>
            configuration.isOn.toggle()<font></font>
        }) {<font></font>
            configuration.label<font></font>
                .padding(<span class="hljs-number">30</span>)<font></font>
                .contentShape(<span class="hljs-type">Circle</span>())<font></font>
        }<font></font>
        .background(<font></font>
            <span class="hljs-type">ColorfulBackground</span>(isHighlighted: configuration.isOn, shape: <span class="hljs-type">Circle</span>())<font></font>
        )<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, finalmente, edite o bot√£o e alterne </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para usar o novo estilo:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Button</span>(action: {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
}) {<font></font>
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.white)<font></font>
}<font></font>
.buttonStyle(<span class="hljs-type">ColorfulButtonStyle</span>())<font></font>
<font></font>
<span class="hljs-type">Toggle</span>(isOn: $isToggled) {
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.white)<font></font>
}<font></font>
.toggleStyle(<span class="hljs-type">ColorfulToggleStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode executar o aplicativo, se quiser, mas isso n√£o faz sentido - ele n√£o mudou. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para trazer nossa vers√£o colorida da vida, mudaremos os modificadores </font></font><code> fill()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>overlay()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os estados pressionado e n√£o pressionado. </font><font style="vertical-align: inherit;">Assim, quando </font></font><code>isHighlighted</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verdadeiro, mudar </font></font><code>darkStart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tanto </font></font><code>darkEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para </font></font><code>lightStart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code>lightEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, como este:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> isHighlighted {<font></font>
    shape<font></font>
        .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightEnd, <span class="hljs-type">Color</span>.lightStart))<font></font>
        .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ executar o aplicativo novamente, ver√° que ele j√° melhorou significativamente: o estado pressionado agora possui uma cor azul brilhante, tornando-se claro quando os bot√µes s√£o pressionados e os comutadores est√£o ativos. </font><font style="vertical-align: inherit;">Mas podemos fazer outra coisa - podemos adicionar a mesma cor ao redor do bot√£o quando ele n√£o √© pressionado, ajudando a chamar a aten√ß√£o para ele. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/gb/lo/pogblok8qjgbcoiourimhye6tx4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, altere o </font></font><code>overlay()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estado n√£o estressado </font><font style="vertical-align: inherit;">existente </font><font style="vertical-align: inherit;">para isso:</font></font><br>
<br>
<pre><code class="swift hljs">.overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, o estilo do bot√£o final deve ficar assim:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">ZStack</span> {
    <span class="hljs-keyword">if</span> isHighlighted {<font></font>
        shape<font></font>
            .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightEnd, <span class="hljs-type">Color</span>.lightStart))<font></font>
            .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">5</span>, y: <span class="hljs-number">5</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
        shape<font></font>
            .fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.darkStart, <span class="hljs-type">Color</span>.darkEnd))<font></font>
            .overlay(shape.stroke(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.lightStart, <span class="hljs-type">Color</span>.lightEnd), lineWidth: <span class="hljs-number">4</span>))<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkStart, radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">10</span>, y: -<span class="hljs-number">10</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.darkEnd, radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora execute o aplicativo novamente e voc√™ ver√° que um anel azul apareceu ao redor dos bot√µes e interruptores e, quando clicado, √© preenchido com azul - √© muito mais acess√≠vel.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2r/gl/x7/2rglx7dgbgwzdh8ch3mvzrddsra.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na pr√°tica, voc√™ n√£o ter√° v√°rios estilos de bot√£o diferentes em um projeto, pelo menos se n√£o gostar de criar uma dor de cabe√ßa para seus usu√°rios. Mas este √© um espa√ßo interessante para experimenta√ß√£o, e espero que voc√™ entenda essa ideia do meu artigo, porque voc√™ pode criar efeitos realmente bonitos sem rasgar suas costas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu disse repetidamente que voc√™ deve sempre monitorar a disponibilidade do seu aplicativo, e isso significa mais do que apenas garantir que o VoiceOver funcione com a interface do usu√°rio. Certifique-se de que seus bot√µes pare√ßam interativos, verifique se os r√≥tulos e os √≠cones de texto t√™m uma taxa de contraste suficiente em rela√ß√£o ao plano de fundo (pelo menos 4,5: 1, mas tendem a 7: 1) e verifique se as √°reas clic√°veis ‚Äã‚Äãs√£o confort√°veis ‚Äã‚Äãe grande (pelo menos 44x44 pixels).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, pelo amor de Deus, use o design neom√≥rfico para experimentar e expandir seu conhecimento do SwiftUI, mas nunca se esque√ßa de que, se voc√™ sacrifica a usabilidade por uma nova tend√™ncia de design de moda, n√£o ganha nada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode obter o c√≥digo-fonte completo para este projeto no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia a primeira parte.</font></font></a><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saiba mais sobre o curso.</font></font></a><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt503488/index.html">Melhores pr√°ticas do Kubernetes. Desativar finaliza√ß√£o correta</a></li>
<li><a href="../pt503490/index.html">Compara√ß√£o de cenas de rap russas usando t√©cnicas de minera√ß√£o de texto e texto. Noize Mc, Oxxxymiron, tio Zhenya. Epis√≥dio 2</a></li>
<li><a href="../pt503494/index.html">Montando um gateway DIY para dispositivos Zigbee</a></li>
<li><a href="../pt503504/index.html">O projeto de ci√™ncia de dados mais bem-sucedido e mais escandaloso: Cambridge Analytica</a></li>
<li><a href="../pt503508/index.html">Escolas, professores, alunos, suas notas e classifica√ß√µes</a></li>
<li><a href="../pt503522/index.html">Mundo depois de 2020 (ensaio)</a></li>
<li><a href="../pt503524/index.html">Como registrador de dom√≠nio, o P01 Registrar entrega seus clientes</a></li>
<li><a href="../pt503526/index.html">Django ORM para iniciantes | Otimizamos solicita√ß√µes</a></li>
<li><a href="../pt503530/index.html">Seu decl√≠nio profissional vir√° (muito) mais cedo do que voc√™ pensa</a></li>
<li><a href="../pt503532/index.html">Como as compras on-line nos EUA mudaram devido ao coronav√≠rus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>