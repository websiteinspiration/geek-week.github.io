<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👴🏼 🎄 🐍 私はAndroid開発者であり、手作業を行うのが好きではありませんでした。 👩🏼‍⚕️ 🍀 👇🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Skyengに落ち着いたとき、太陽は少し明るく輝いていて、草は青々としていませんでした（それは春の初めと同じでした）。チームリーダーは、コーディングにどれだけの時間が費やされ、話とレビューにどれだけの時間が費やされたかをJiraに書くように頼みました。少なくとも2週間に1回。
 
 
 「これらのデ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>私はAndroid開発者であり、手作業を行うのが好きではありませんでした。</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/490784/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skyengに落ち着いたとき、太陽は少し明るく輝いていて、草は青々としていませんでした（それは春の初めと同じでした）。チームリーダーは、コーディングにどれだけの時間が費やされ、話とレビューにどれだけの時間が費やされたかをJiraに書くように頼みました。少なくとも2週間に1回。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p0/gd/rw/p0gdrwyypbzz6wn81ybvknbmohq.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「これらのデータに基づいて、見積もりを調整する必要があるかどうか、チーム内のコミュニケーションに問題があるかどうかを理解しようとしています」と彼らは言った。しかし、そのような「ババイカ」は誰にも言われませんでした。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはすべてリモートワーカーなので、このアイデアは合理的に聞こえます。そして、この8時間が経過したところ、私にとって面白くなりました。ただし、ロギングは異常でした。そして、一般的に怠惰。それから私は私のために働き続ける何かを探すことにしました。そして、研究の過程で、私は少し夢中になり、IntelliJ IDEA用のプラグインを書きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下にあります</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完成したツールと私の自転車の主観的なレビュー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ソース付き）。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チームが使用するソリューションを研究します</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が最初にしたことは、何を使っているか同僚から見つけ出すことでした。</font><font style="vertical-align: inherit;">オプションはおよそ次のとおりです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clockify-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてを支配する1つのボタン</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドックのコーディングや作成に時間は必要ですか？</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグイン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はほとんどどこにでもボタン（かなり目立たない灰色のパックマン）を追加します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yy/9-/ic/yy9-icorb-pi37wptn9yh7wxtxk.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">したがって、Googleドキュメントで表示されます</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/tf/m0/1ktfm0ax7-xl9rmwtlq9jvwtgec.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
では、ダッシュボードでNatrekannyiを鑑賞したり、テーブルにインポートしてJiraにドロップしたりできます。</font><font style="vertical-align: inherit;">
Jiraへの</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/bf/6h/jsbf6htyizodd76lwvq5hbzuqhy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザー拡張</font></font></a></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">によっても別途提供され</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますが、Clockifyから取得した作業ログを含むテーブルを作業カレンダーにアップロードすることができます。</font><font style="vertical-align: inherit;">オフラインで時間を追跡するために、Windows、Linux、Mac用のデスクトップアプリケーションがあります。</font><font style="vertical-align: inherit;">モバイルアプリも。</font><font style="vertical-align: inherit;">主な機能は無料ですが、プライバシー、リマインダー、プロジェクトのテンプレートなどの便利な料金プランがいくつかあります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ただToggl</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてはほぼ同じですが、もう少し便利です。たとえば、デスクトップアプリケーションでは、時間のロギングに関するリマインダーを設定したり、ポモドーロモードをオンにしたり、特定のアプリケーションを特定のプロジェクトにリンクしたり、自動追跡を設定したりすることもできます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/yp/sv/hlypsvcpl66hldse0c4ayfhkmzi.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、ニュアンスがあります。使用の最初の日に、私はこのウィンドウとリマインダー付きの通知に驚きました。</font><font style="vertical-align: inherit;">理論はクールに聞こえましたが）</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Toggl + </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonスクリプト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ボタンだけでは不十分な場合</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同僚の発明。</font><font style="vertical-align: inherit;">どういうわけか、彼はテーブルをJiraにエクスポートするためのジェスチャーを減らすことに決め、Togglでの課税のアンロードをスクリプトにシフトしました。</font><font style="vertical-align: inherit;">あなたはcronを入れて人生を楽しむことができます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wakatime-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちが行くところ、ボタンは必要ありません</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてを自分で記録します。したがって、ブラウザ拡張機能を接続するときに最初に覚えておくべきことはブラックリストです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
拡張機能に加えて、いくつかの統合と、最も一般的なIDEおよびエディター向けの適切な数のプラグインを提供します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xz/4u/uk/xz4uuk51xsdjdkemxh-ichx8ceg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDEのプラグインは、特定のgitブランチと特定のファイルの両方で費やされた時間を追跡します。画面では、利用可能なもののリストが非常に印象的です。 Serenyk-「計画中」、彼らの迅速な実装のために、投票することができます。月額9ドルの有料サブスクリプションの一部のプラグイン。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、ダッシュボードでは、さまざまな言語でコードを書くのに費やされた時間の割合を確認できます。通常のAndroidプロジェクトにKotlin、Java、Groovy、xmlの使用が含まれていることを覚えている場合-これはそれ自体に意味があります）。</font><font style="vertical-align: inherit;">そして、インストールされたプラグインをしばらく使用すると、かなり無慈悲であることに気づくでしょう。ダッシュボードは、コードのアクティブな読み取りと書き込みの時間を取得します。</font><font style="vertical-align: inherit;">また、ガラスのような見た目では、貼り付きがモニターに入りません。</font><font style="vertical-align: inherit;">言うまでもなく、アマチュア。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">うーん、WakaTimeのソースコードは公開されています。どのように機能するかを理解することができます...</font></font></b><div class="spoiler_text">  , ?           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   IDE  JetBrains</a>. <br>
<br>
 .     WakaTime.java.    ,         ,    Heartbeat (),   WakaTime CLI    .      , , ,       . <br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">類推して自転車を書く</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらくポテトガンの方が便利でしょうが、研究目的では何もしません。WakaTimeソースで瞑想した後、IDEでのアクティビティを追跡し、書き込み時間を記録して、すべてJiraに送信できる独自のプラグインを作成することにしました。 （私たちのフローでは、ブランチはJiraのタスクにちなんで名付けられているため、非常に現実的に見えます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、コードの処理中にサーバーがリクエストでいっぱいにならないようにするために、Android Studioが閉じたときにログを送信し、この瞬間までログをローカルに保存します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.プラグインのソースコードでどのエンティティを見つけることができますか（そして私たち自身で使用できますか）？</font></font></h4><br>
<b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前はプラグインの主要な構造単位であった</font><b><font style="vertical-align: inherit;">Components（これは</font></b><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Legacyです</font></a></b><b><font style="vertical-align: inherit;">）</font></b><b><font style="vertical-align: inherit;">は使用しません</font></b><font style="vertical-align: inherit;">。アプリケーションレベル、プロジェクトレベル、またはモジュールレベルの場合があります。 WakaTimeソースにはApplicationComponentがありますが、ソースコンポーネントは既に5年前のものであり、下位互換性を維持する必要があります。コンポーネントは、関連付けられているレベルのライフサイクルに関連付けられています。したがって、たとえば、IDEの起動時にApplicationComponentがロードされます。使用すると、IDEを再起動せずにプラグインの再起動をブロックし、通常は不快な動作をします。したがって、代わりにサービスを使用することをお勧めします。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスを利用する</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-現在の主な構造単位。</font><font style="vertical-align: inherit;">それらはアプリケーション、プロジェクト、モジュールの同じレベルに分割され、適切なレベルでロジックをカプセル化し、プラグインの状態を保存するのに役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントとは異なり、サービスはServiceManager.getService（）メソッドを使用して独自にロードする必要があります。</font><font style="vertical-align: inherit;">プラットフォームは、すべてのサービスがシングルトンであることを保証します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションの追加</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -それらはショートカット、追加のメニュー項目にすることができます-つまり、IDEのユーザーアクションに何らかの影響を与えるすべてのことを担当します。</font><font style="vertical-align: inherit;">拡張機能</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用します</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。たとえば、アクションよりも複雑な機能の拡張機能です。たとえば、IDEライフサイクルに接続し、スプラッシュ画面を表示しているとき、または終了する前に何かを行います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはすべて/META_INF/plugin.xmlファイルで宣言する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Plugin.xmlおよびbuild.gradle</font></font></h4><br>
<img src="https://habrastorage.org/webt/ap/ia/vz/apiavzht769ipgzd8ltqaobce4o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクト作成ウィンドウ。</font><font style="vertical-align: inherit;">Kotlinでプラグインを作成し、アセンブリにGradleを使用します。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは、IDEAでプラグインブランクを作成した後に最初に表示されるものです（[ファイル]-&gt; [新規]-&gt; [プロジェクト]-&gt; [Gradle]-&gt; [IntelliJプラットフォームプラグイン]）。</font><font style="vertical-align: inherit;">プラグインの依存関係と簡単な説明が含まれています。</font><font style="vertical-align: inherit;">プラグインコンポーネント（前述のコンポーネント、サービス、アクション、拡張）を宣言する必要があります。</font><font style="vertical-align: inherit;">特定のエントリポイントはありません。必要に応じて、カスタムアクションまたはIDEライフサイクルイベントになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの依存関係が必要になります。結局のところ、スタジオ用のプラグインを作成して、それがGitで動作できるようにする必要があります。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">depends</span>&gt;</span>Git4Idea<span class="hljs-tag">&lt;/<span class="hljs-name">depends</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">depends</span>&gt;</span>com.intellij.modules.androidstudio<span class="hljs-tag">&lt;/<span class="hljs-name">depends</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git4Ideaは仮想ファイルシステム（VCS）のプラグインであり、トピックを提供します。これにより、後でチェックアウトなどのgitイベントをリッスンできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、プラグインがJiraと連携できるようにしたいので、Gradleを介して、親切なライブラリとRESTクライアントを接続します。</font><font style="vertical-align: inherit;">これを行うには、Atlassian mavenリポジトリをそこに追加します。</font></font><br>
<br>
<pre><code class="kotlin hljs">repositories {<font></font>
   mavenCentral()<font></font>
   maven {<font></font>
       url <span class="hljs-string">"https://packages.atlassian.com/maven/repository/public"</span><font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして実際にはライブラリ：</font></font><br>
<br>
<pre><code class="kotlin hljs">implementation <span class="hljs-string">"joda-time:joda-time:2.10.4"</span>
implementation(<span class="hljs-string">"com.atlassian.jira:jira-rest-java-client-core:4.0.0"</span>) {<font></font>
   exclude group: <span class="hljs-string">'org.slf4j'</span><font></font>
   dependencies {<font></font>
       implementation <span class="hljs-string">"com.atlassian.fugue:fugue:2.6.1"</span><font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、関心のあるIDEのバージョンとそのパスを決定します（実際のAndroid Studioが起動し、プラグインのデバッグ用の軽量バージョンと同じくらい高速に動作した場合）。</font></font><br>
<br>
<pre><code class="kotlin hljs">intellij {<font></font>
   version <span class="hljs-string">'2019.1'</span>
   plugins <span class="hljs-string">'git4idea'</span>
   alternativeIdePath <span class="hljs-string">'E:\\Android Studio'</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、おそらくここで、いつかは、新しく改善された機能について書きます。</font><font style="vertical-align: inherit;">しかし今ではありません。</font></font><br>
<br>
<pre><code class="kotlin hljs">patchPluginXml {<font></font>
   changeNotes <span class="hljs-string">"""
     Add change notes here.&lt;br&gt;
     &lt;em&gt;most HTML tags may be used&lt;/em&gt;"""</span>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. UIの作成</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jiraに何かをプッシュするには、まずログインする必要があります。</font><font style="vertical-align: inherit;">プロジェクトを開いた直後にこれを行うのが理にかなっています。</font><font style="vertical-align: inherit;">拡張機能が必要なようですが、plugin.xmlで宣言することを躊躇しません。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">postStartupActivity</span> <span class="hljs-attr">implementation</span>=<span class="hljs-string">"Heartbeat"</span>/&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その中に対話を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UIコンポーネントは主にSwingのコンポーネントであり、プラットフォームSDKの一部の拡張機能を備えています。</font><font style="vertical-align: inherit;">これらすべては最近、kotlin ui dslにラップされています。</font><font style="vertical-align: inherit;">執筆時点で、ドキュメントにはdslがメジャーバージョン間で非常に変化する可能性があることが記載されているため、少し恐れて使用します。</font></font><br>
<br>
<pre><code class="kotlin hljs">
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createCenterPanel</span><span class="hljs-params">()</span></span>: JComponent? {<font></font>
<font></font>
   title = <span class="hljs-string">"Jira credentials"</span>
   setOKButtonText(<span class="hljs-string">"Save"</span>)<font></font>
<font></font>
   <span class="hljs-keyword">return</span> panel {<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Jira hostname"</span>)()<font></font>
           hostname = JTextField(<span class="hljs-string">"https://"</span>)<font></font>
           hostname()<font></font>
       }<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Username:"</span>)()<font></font>
           username = JTextField()<font></font>
           username()<font></font>
       }<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Password:"</span>)()<font></font>
           password = JPasswordField()<font></font>
           password()<font></font>
       }<font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは対話を作成し、それを示し、Jiraから資格情報を受け取りました。</font><font style="vertical-align: inherit;">今、私たちはそれらを、できれば安全に、できるだけ保存する必要があります。</font><font style="vertical-align: inherit;">PersistingStateComponentが役に立ちます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. PersistingStateComponentデバイス（それほど複雑ではない）</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PersistingStateComponentは、saveStateとloadStateの2つのことを実行できます。渡されたオブジェクトをシリアル化して保存し、ストレージから取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正確にデータを保存する必要がある場合、彼はStateアノテーションから学びます。</font><font style="vertical-align: inherit;">ドキュメントでは、最も単純な2つのオプションについて説明しています。ファイルを指定するか、すべてをワークスペース設定に保存します。</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-meta">@Storage(<span class="hljs-meta-string">"yourName.xml"</span>)</span>
<span class="hljs-meta">@Storage(StoragePathMacros.WORKSPACE_FILE)</span> 
<span class="hljs-meta">@State(
   name = <span class="hljs-meta-string">"JiraSettings"</span>,
   storages = [
       Storage(<span class="hljs-meta-string">"trackerSettings.xml"</span>)</span>
   ])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特別なケースがあるため、機密データの保管についてはドキュメントを参照してください。</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getState</span><span class="hljs-params">()</span></span>: Credentials? {
   <span class="hljs-keyword">if</span> (credentials == <span class="hljs-literal">null</span>)  {
       <span class="hljs-keyword">val</span> credentialAttributes = createCredentialAttributes()<font></font>
       credentials = PasswordSafe.instance.<span class="hljs-keyword">get</span>(credentialAttributes)<font></font>
   }<font></font>
   <span class="hljs-keyword">return</span> credentials<font></font>
}<font></font>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadState</span><span class="hljs-params">(state: <span class="hljs-type">Credentials</span>)</span></span> {<font></font>
   credentials = state<font></font>
   <span class="hljs-keyword">val</span> credentialAttributes = createCredentialAttributes()<font></font>
   PasswordSafe.instance.<span class="hljs-keyword">set</span>(credentialAttributes, credentials)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のPersistingStateComponentは、さまざまなブランチについてログに記録された時間の保存を扱います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jiraはログインを見つけました。</font><font style="vertical-align: inherit;">ユーザーデータの保存も。</font><font style="vertical-align: inherit;">次に、なんとかしてブランチ上のチェックアウトイベントを追跡してカウントダウンを開始する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.イベントを購読する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IntelliJプラットフォームは、目的のレベルのmessageBusでトピックにサブスクライブすることにより、興味のあるイベントでObserverをハングさせる機会を提供します。</font><font style="vertical-align: inherit;">これ</font><font style="vertical-align: inherit;">が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドック</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。とても興味深いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トピックは、イベントの表現である特定のエンドポイントです。</font><font style="vertical-align: inherit;">あなたがする必要があるのは、何が起こっているのかを処理するリスナーをサブスクライブして実装することだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、Gitでチェックアウトを聞く必要があります...</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToProjectTopic(project, GitRepository.GIT_REPO_CHANGE) {<font></font>
    GitRepositoryChangeListener {<font></font>
        currentBranch = it.currentBranch<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...アプリケーションを閉じます（ポーン時間を楽しくするため）...</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToAppTopic(AppLifecycleListener.TOPIC) {
    <span class="hljs-keyword">object</span>: AppLifecycleListener {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">appWillBeClosed</span><span class="hljs-params">(isRestart: <span class="hljs-type">Boolean</span>)</span></span> {
            <span class="hljs-keyword">if</span> (!isRestart) {<font></font>
                JiraClient.logTime(entry.key, DateTime.now(), entry.value)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...文書を保存します（そうなるように）。</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToAppTopic(AppTopics.FILE_DOCUMENT_SYNC) {<font></font>
    CustomSaveListener()<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、原則として、すでに十分です（そうでない場合は、いつでも独自に作成できます）。</font><font style="vertical-align: inherit;">しかし、スクロールとマウスのわずかな動きを聞きたい場合はどうでしょうか。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. EditorEventMulticaster</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開いているエディターウィンドウで発生するすべての情報（編集、表示領域の変更、マウスの動き）を収集し、1つの場所ですぐにサブスクライブできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで必要なものがすべて揃いました。</font><font style="vertical-align: inherit;">現在のブランチ（存在する場合）からJiraのタスクの名前を抽出し、タスクに費やした時間を計算し、すぐにスタジオを終了してタスクに追加できます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.コードと詳細は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら</font></font></a></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行するには、最新のAndroid Studio（3.6.1）が必要です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パフォーマンスをテストするには-gitと、Jiraのタスクに少なくともリモートで類似した名前のブランチ。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラグインがコンソールに時間を出力するだけでなく、それを追跡するように-Heartbeat.ktの対応する行のコメントを外します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.役立つリンク</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一連のプラグイン開発記事</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android開発者によるプラグインの開発に関するもう1つの興味深い記事</font></font></a></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSそして最後に何を選びましたか？</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-くそー、それはちょっと悪すぎる。</font><font style="vertical-align: inherit;">そして、私がコードを書かないなら？</font><font style="vertical-align: inherit;">そして、私が私の鼻を選んで、それに何が起こっているのかを理解しようと頑張ったら？</font><font style="vertical-align: inherit;">コードでは、という意味で。</font><font style="vertical-align: inherit;">結局のところ、これにはほとんどの時間がかかります。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -その後、少なくともそれをスクロールします。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-暴力行為をシミュレートすることはそう遠くないです。</font><font style="vertical-align: inherit;">そして、私は何週間もスタジオをシャットダウンして再起動することができません。</font><font style="vertical-align: inherit;">たぶん私たちはそのような幸せを必要としませんか？</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 「間違いなく必要ではない。」</font><font style="vertical-align: inherit;">それから別の理由が必要です、さもなければ私はプラグインを書くのが好きでした。</font><font style="vertical-align: inherit;">そして、私はまだVCSを本当に理解していませんでした。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「自分で使っていますか？」</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -いや。</font><font style="vertical-align: inherit;">私はどういうわけか、自分自身の手で、いつの間にか自分自身でログを取ることを学びました。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja490772/index.html">Telegram Open Network（TON）でスマートコントラクトを作成して公開する方法</a></li>
<li><a href="../ja490774/index.html">レスポンシブ</a></li>
<li><a href="../ja490778/index.html">プログラマーの仕事を理解している人はどこにでもいます</a></li>
<li><a href="../ja490780/index.html">Intel Xeon Scalable Gen2：コアの大セール</a></li>
<li><a href="../ja490782/index.html">AnalogBytesカンファレンス：Roskomnadzor、メディア、ハイロード、オールオールオール</a></li>
<li><a href="../ja490786/index.html">2次リーク分析：銀行からデータを盗む人からリークする場合</a></li>
<li><a href="../ja490788/index.html">役に立たないREPL。Yandexレポート</a></li>
<li><a href="../ja490790/index.html">Zipファイル：履歴、説明、実装</a></li>
<li><a href="../ja490792/index.html">NSX-VのVXLAN-問題のあるアンダーレイ</a></li>
<li><a href="../ja490796/index.html">CRDを使用してコード形式のポリシーのスタイルでコンテナーのセキュリティを自動化する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>