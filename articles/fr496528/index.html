<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî≠ üë≠ üëçüèæ La localisation d'un code QR est une t√¢che importante, sans raison, sans attention üßöüèø üåΩ ‚úãüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous sommes s√ªrs qu'aujourd'hui il n'y a pas un seul lecteur Habr qui ne conna√Ætrait pas les codes QR. Ces codes-barres bidimensionnels sont partout. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>La localisation d'un code QR est une t√¢che importante, sans raison, sans attention</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/smartengines/blog/496528/"><img src="https://habrastorage.org/webt/5g/mo/eg/5gmoegkwyn0bmh_t_kewswuiboc.png" width="250" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous sommes s√ªrs qu'aujourd'hui il n'y a pas un seul lecteur Habr qui ne conna√Ætrait pas les codes QR. Ces codes-barres bidimensionnels sont partout. Il est logique que dans le monde, il existe de nombreux outils qui permettent d'ajouter des codes QR √† votre projet avec un certain degr√© d'efficacit√©. Le fait est que cette efficacit√© mentionn√©e d√©pend directement de la qualit√© de l'outil utilis√© pour reconna√Ætre les codes QR. Et voici la prise classique: vous pouvez r√©soudre le probl√®me (tr√®s) bien et (tr√®s) cher, ou vous pouvez le faire gratuitement et en quelque sorte. Est-il possible de modifier le gratuit pour qu'il r√©sout n√©anmoins bien le probl√®me? Si vous √™tes int√©ress√©, regardez sous le chat.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reconna√Ætre un code QR sur une photo est une t√¢che bien pos√©e de la vision industrielle. Premi√®rement, dans la t√¢che, un objet est √©tudi√©, qui √©tait √† l'origine sp√©cialement con√ßu pour une reconnaissance ¬´pratique¬ª. Deuxi√®mement, la t√¢che elle-m√™me est divis√©e en plusieurs sous-t√¢ches compr√©hensibles ind√©pendantes: localisation du code QR, orientation du code QR et d√©codage direct du code QR. Il s'est av√©r√© que le domaine public dispose depuis longtemps de bonnes biblioth√®ques capables de r√©soudre les deux derniers probl√®mes: l'orientation et le d√©codage d'un code QR. Un probl√®me: pour un d√©codage de haute qualit√©, ces biblioth√®ques s'attendent √† ce qu'une bonne image binaire directement du code-barres soit entr√©e. Inversement, peu d'attention est accord√©e √† la t√¢che de localisation des codes-barres dans l'image.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'apr√®s notre exp√©rience, plus vous localisez avec pr√©cision un objet de reconnaissance, plus il est facile de choisir les bons outils de pr√©traitement et, en fait, de le reconna√Ætre. Par cons√©quent, si vous souhaitez am√©liorer la qualit√© de reconnaissance des QR codes dans votre projet, alors commencez par la modernisation des m√©thodes de localisation des QR codes. En effet, m√™me si vous devez ult√©rieurement binariser une image, il est beaucoup plus efficace (√† la fois d'un point de vue informatique et qualitatif) de binariser une r√©gion avec un code-barres que la totalit√© de l'image d'origine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, nous vous expliquerons comment am√©liorer facilement la qualit√© de localisation des codes QR √† l'aide des m√©thodes classiques de traitement d'image, ainsi que fournir des caract√©ristiques num√©riques de l'efficacit√© de l'algorithme propos√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous parlerons de la fa√ßon originale de localiser les codes QR sur les images en utilisant la m√©thode modifi√©e de Viola et Jones comme base.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note d'information sur le sujet de l'article</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette section, nous d√©crivons les principales caract√©ristiques du code QR utilis√©es pour construire la m√©thode de localisation, ainsi qu'une br√®ve description de la version originale de la m√©thode Viola et Jones.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QR Code</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le QR code (abr√©viation de Quick Response Code) est un code-barres bidimensionnel qui a √©t√© d√©velopp√© au Japon au milieu des ann√©es 90 pour l'industrie automobile. </font><font style="vertical-align: inherit;">En raison de sa capacit√© de lecture rapide et de sa capacit√© sup√©rieure par rapport aux codes √† barres lin√©aires, le syst√®me de code QR est devenu populaire dans le monde entier dans divers domaines de la vie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement aux codes-barres lin√©aires standard, qui sont g√©n√©ralement scann√©s par le mat√©riel, un code QR est souvent scann√© par une cam√©ra. </font><font style="vertical-align: inherit;">La structure du code QR est enti√®rement d√©crite dans ISO / IEC 18004 (La norme ISO / IEC 18004). </font><font style="vertical-align: inherit;">Pour construire un algorithme de reconnaissance robuste pour de telles images, le code QR a des points de r√©f√©rence qui forment un mod√®le de fonction: trois carr√©s dans les coins de l'image du code √† barres (appel√©s mod√®les de recherche) et des carr√©s de synchronisation plus petits dans toute l'image du code √† barres (appel√©s mod√®les d'alignement) . </font><font style="vertical-align: inherit;">Ces points vous permettent de normaliser la taille de l'image et son orientation.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qp/ut/kn/qputknsphjra1c0nwyoxpfnwniy.png"><br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">Structure du code QR</font></font></i></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que visuellement tous les codes QR soient similaires les uns aux autres, diff√©rentes copies des codes QR, selon la quantit√© de donn√©es cod√©es, peuvent avoir une disposition diff√©rente des √©l√©ments internes. </font><font style="vertical-align: inherit;">En outre, les soi-disant codes QR de concepteur sont tr√®s populaires, dans lesquels au lieu de la partie d'informations suppl√©mentaires qui garantit une reconnaissance de haute qualit√© du code √† barres, des √©l√©ments graphiques tiers sont utilis√©s (logos, embl√®mes, inscriptions, etc.). </font><font style="vertical-align: inherit;">Toutes ces caract√©ristiques des codes QR doivent √™tre prises en compte lors de la construction de m√©thodes de localisation et de reconnaissance de codes QR.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1k/f2/f0/1kf2f024blycs3yruzzsk3cnxr0.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">Diff√©rentes options de code QR valides</font></font></i></p><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©thode Viola et Jones</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seuls les paresseux sur Habr√© n'ont pas encore √©crit sur la m√©thode de Viola et Jones. M√™me nous dans notre bloc l'avons fait plusieurs fois (par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Et pourtant, nous estimons n√©cessaire de dire tr√®s bri√®vement, litt√©ralement en deux paragraphes, ce que c'est. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©thode de d√©tection d'objets Viola et Jones a √©t√© d√©velopp√©e pour rechercher des visages dans une image en temps r√©el. Cette m√©thode r√©duit le probl√®me de d√©tection au probl√®me de classification binaire √† chaque point d'image, c'est-√†-dire que pour chaque r√©gion d'image rectangulaire prise avec toutes sortes de d√©calages et d'√©chelles, l'hypoth√®se de la pr√©sence de l'objet souhait√© dans la r√©gion est v√©rifi√©e √† l'aide d'un classificateur pr√©-form√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant qu'espace d'entit√©, la m√©thode Viola et Jones utilise des entit√©s rectangulaires de Haar, dont la valeur est calcul√©e comme la diff√©rence entre les sommes de luminosit√© des pixels des zones d'image √† l'int√©rieur des rectangles adjacents. Pour calculer efficacement la valeur des caract√©ristiques de Haar, une image int√©gr√©e est utilis√©e, qui est √©galement connue dans la litt√©rature sous le terme table de surface somm√©e. Un classificateur binaire ¬´faible¬ª </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œß</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Üí {-1, + 1}, g√©n√©ralement pr√©sent√© comme un arbre de reconnaissance √† une branche: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y7/ly/se/y7lyseencrhtwi3hefy1xsl3kya.png" width="237"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
o√π </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ∏</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- la valeur seuil de l'attribut et la parit√© du classificateur, respectivement. </font><font style="vertical-align: inherit;">Ensuite, en utilisant la m√©thode d'apprentissage automatique AdaBoost, un classificateur ¬´fort¬ª est construit comme une superposition lin√©aire des classificateurs ¬´faibles¬ª ci-dessus. </font><font style="vertical-align: inherit;">La vitesse √©lev√©e de la m√©thode Viola et Jones est assur√©e par l'utilisation d'une cascade de classificateurs ¬´forts¬ª, qui permet de localiser des r√©gions d'image ¬´vides¬ª (sans objet) dans un petit nombre de calculs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme de d√©tection de code QR</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la construction d'une m√©thode de localisation d'un code QR, nous nous sommes appuy√©s sur les fonctionnalit√©s suivantes de la t√¢che. Premi√®rement, la m√©thode d√©velopp√©e doit avoir des performances √©lev√©es pour une utilisation dans des syst√®mes de reconnaissance fonctionnant en temps r√©el. Deuxi√®mement, la m√©thode doit √™tre r√©sistante √† la distorsion admissible du code-barres dans l'image. Troisi√®mement, la m√©thode devrait prendre en compte toute la variabilit√© existante des codes QR. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme mentionn√© ci-dessus, nous avons choisi la m√©thode de Viola et Jones comme m√©thode fondamentale. Cette m√©thode a fait ses preuves dans diverses t√¢ches de recherche d'objets rigides, tandis que la m√©thode fournit les performances requises. Mais dans la version originale, la m√©thode Viola et Jones ne peut pas √™tre utilis√©e pour les raisons suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la m√©thode classique de Viola et Jones utilise une famille d'attributs Haar qui ¬´soulignent¬ª les caract√©ristiques de texture de l'objet, et dans notre cas, bien que le code QR soit compos√© de barcels noir et blanc, leur distribution est tr√®s diff√©rente du code-barres au code-barres;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la m√©thode classique de Viola et Jones est con√ßue pour le m√™me type de d√©tection d'objets dans une orientation donn√©e, ce qui n'est pas non plus observ√© dans notre t√¢che.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que la m√©thode de Viola et Jones puisse √™tre appliqu√©e pour r√©soudre le probl√®me, nous utilisons la famille d'origine d'entit√©s limites et un classificateur de haut niveau sous la forme d'un arbre de d√©cision. </font><font style="vertical-align: inherit;">La premi√®re modification permettra de se concentrer sur les traits limites de l'objet √©tudi√©, et non sur la texture. </font><font style="vertical-align: inherit;">La deuxi√®me modification vous permettra de construire un classificateur unique capable de d√©tecter des objets variables. </font><font style="vertical-align: inherit;">Ensuite, nous vous en dirons un peu plus sur chaque modification.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signes d√©grad√©s de Haar.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour construire un d√©tecteur efficace de codes QR, nous avons utilis√© une famille sp√©ciale de caract√©ristiques de gradient [1]. </font><font style="vertical-align: inherit;">Ces panneaux sont des panneaux rectangulaires de Haar, calcul√©s en haut de la carte des limites dirig√©es, ce qui peut consid√©rablement am√©liorer leur pouvoir de g√©n√©ralisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La carte des limites directionnelles est une image du module de gradient, qui prend en outre en compte la direction pr√©f√©r√©e du gradient au point ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), d√©finie comme la discr√©tisation de l'angle de la fronti√®re dans les directions horizontale, verticale, + 45 ¬∞ et ‚Äì45 ¬∞. </font><font style="vertical-align: inherit;">Pour construire un d√©tecteur de code QR, nous avons utilis√© deux types de carte des limites directionnelles: une carte des limites droite et une carte des faces diagonales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit l'image d'origine </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Ensuite, vous pouvez calculer la valeur approximative de la d√©riv√©e le long des directions horizontale et verticale √† l'aide de l'op√©rateur Sobel: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pf/yg/_p/pfyg_pwalnr_vdg6dm-fi_jnv9o.png" width="466"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, en utilisant </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></i><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></i><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vous pouvez calculer la direction du d√©grad√© √† chaque point de l'image: La </font></font><br>
<br>
<img src="https://habrastorage.org/webt/28/7w/w1/287ww1jnk9sr3fbrtgsr-q4ygoc.png" width="301"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
carte des bordures droites contient principalement des bordures horizontales et verticales et est calcul√©e comme suit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/bj/ie/vibjieyjzpf4rmokqrwozdru7ba.png" width="328"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carte les bordures diagonales contiennent principalement des bordures le long des diagonales et sont calcul√©es comme suit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/zy/zy/kgzyzyc1owgaxci7skuiotoirw4.png" width="405"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus de la carte construite des bordures dirig√©es (diagonales ou droites), des panneaux de Haar rectangulaires sont calcul√©s. Contrairement aux entit√©s Haar classiques, ces entit√©s fronti√®res g√©n√©ralisent bien les objets contenant un grand nombre de fronti√®res.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mv/mo/fd/mvmofd__pwr9myrhvp4xxh9-_gi.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">Illustration d'une carte des fronti√®res directionnelles: (a) l'image originale d'un code QR, (b) une carte des fronti√®res droites, (c) une image d'un code QR tourn√© (d) une carte des fronti√®res diagonales d'un code QR tourn√©</font></font></i></p><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'arbre d√©cisif des classificateurs forts</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'arbre des classificateurs forts [2] est une sorte d'arbre de d√©cision binaire: le n≈ìud d'arbre est un classificateur fort, sur le bord droit duquel se trouvent des sous-fen√™tres contenant vraisemblablement l'objet et sur la gauche - celles qui n'ont pas √©t√© reconnues comme un objet, respectivement. </font><font style="vertical-align: inherit;">La r√©ponse finale n'est donn√©e que dans les feuilles. </font><font style="vertical-align: inherit;">Le classificateur classique en cascade d√©crit dans les travaux originaux de Viola et Jones est, en fait, un classificateur d'arbre contenant une seule sortie ¬´positive¬ª (feuille) et de nombreuses sorties ¬´n√©gatives¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans [2], il est montr√© que tout chemin de la racine au n≈ìud le plus bas du classificateur d'arbre peut √™tre repr√©sent√© comme une cascade dans laquelle les classificateurs forts individuels entrent avec une r√©ponse invers√©e. </font><font style="vertical-align: inherit;">Gr√¢ce √† cela, il est possible de construire un algorithme d'apprentissage pour le classificateur d'arbre, qui utilise la proc√©dure de formation du classificateur en cascade classique pour enseigner les chemins individuels. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le classificateur d'arborescence vous permet de former des classificateurs plus efficaces en termes d'exhaustivit√© pour les objets variables par rapport aux classificateurs en cascade classiques.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultats exp√©rimentaux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cadre d'une exp√©rience visant √† √©valuer l'efficacit√© de la m√©thode de localisation de codes √† barres propos√©e dans cet article, un ensemble d'images de codes √† barres compos√© de 264 images a √©t√© pr√©par√©. </font><font style="vertical-align: inherit;">La taille physique des images √©tait d'environ 1 MPix. </font><font style="vertical-align: inherit;">Chaque image contient un seul code QR dans une orientation arbitraire, la zone du code √† barres repr√©sentait au moins 10% de la zone d'image totale. </font><font style="vertical-align: inherit;">La figure ci-dessous montre des exemples d'images de l'ensemble assembl√©.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/vv/bd/rbvvbdyp8t7mffaqa38b4olv-_m.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">Exemples d'images de l'ensemble d'images de codes √† barres assembl√©</font></font></i></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ensemble d'images pr√©par√© a √©t√© divis√© en un ensemble de formation et un ensemble de test. La taille de l'√©chantillon d'apprentissage √©tait de 88 images, la taille de l'√©chantillon d'essai √©tait de 176 images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ensemble de formation a √©t√© utilis√© √† la fois pour pr√©parer des exemples positifs et pour pr√©parer des exemples n√©gatifs. Le nombre initial d'exemples positifs √©tant faible, nous avons utilis√© la technologie d'augmentation des donn√©es [3]. En particulier, nous avons appliqu√© une rotation autour du centre du code-barres par incr√©ments de 15‚Å∞. Apr√®s augmentation, le nombre d'exemples positifs √©tait de 2088 exemples.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant les m√™mes exemples positifs et n√©gatifs, nous avons form√© trois d√©tecteurs de code QR: un classificateur en cascade classique avec des caract√©ristiques Haar standard, un classificateur en cascade classique avec des caract√©ristiques limites et un classificateur d'arbre avec des caract√©ristiques limites. </font><font style="vertical-align: inherit;">Le premier classificateur en cascade comprenait 12 niveaux et contenait un total de 58 attributs. </font><font style="vertical-align: inherit;">Le deuxi√®me classificateur en cascade se composait de 8 niveaux et contenait un total de 39 attributs. </font><font style="vertical-align: inherit;">Le classificateur d'arbre form√© se composait de 39 sommets, contenait un total de 110 caract√®res, et le chemin maximal du haut vers la feuille √©tait de 9. Ci-dessous est un diagramme du classificateur d'arbre form√©.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/pp/rx/0epprxrwsrqho130ykkanqj_cs8.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">Sch√©ma du classificateur d'arbres form√©</font></font></i></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©valuer la qualit√© des d√©tecteurs de code QR construits, nous avons utilis√© le module de d√©codage de codes √† barres de la biblioth√®que de vision par ordinateur open source OpenCV. </font><font style="vertical-align: inherit;">Sur l'ensemble d'images de test pr√©par√© (qui, comme mentionn√© ci-dessus, comprenait 176 images), nous avons lanc√© le module de d√©codage sans pr√©traitement sp√©cial, ainsi qu'apr√®s une recherche pr√©liminaire de codes QR √† l'aide de d√©tecteurs form√©s. </font><font style="vertical-align: inherit;">Voici les r√©sultats du d√©codage des codes √† barres:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non.</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Titre exp√©rimental</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre d'images d√©cod√©es</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qualit√© de d√©codage</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCV uniquement</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">104</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59,09%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VJ (fonctionnalit√©s en niveaux de gris, classificateur en cascade) + OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">105</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59,66%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VJ (fonctionnalit√©s Edge, classificateur en cascade) + OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69,89%</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VJ (fonctionnalit√©s Edge, classificateur d'arbre) + OpenCV</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">77,27%</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tableau montre que la localisation pr√©liminaire du code QR √† l'aide de la m√©thode d√©crite peut am√©liorer consid√©rablement la qualit√© du d√©codage des codes √† barres (le nombre d'erreurs de d√©codage a diminu√© de 44%). De plus, les r√©sultats d√©montrent √©galement que l'application de la m√©thode originale de Viola et Jones (avec les caract√©ristiques Haar classiques et un classificateur en cascade) n'est pas efficace dans la t√¢che de localisation des codes QR.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant avec quelle pr√©cision chaque classificateur localise le code-barres. </font><font style="vertical-align: inherit;">La figure de gauche √† droite montre les r√©sultats de la d√©tection du m√™me code-barres avec un classificateur en cascade classique avec des caract√©ristiques Haar standard, un classificateur en cascade classique avec des caract√©ristiques de limite et un classificateur d'arbre avec des caract√©ristiques de limite. </font><font style="vertical-align: inherit;">On peut voir que le classificateur d'arbre fournit la meilleure pr√©cision de localisation de code √† barres en tenant compte de la variabilit√© des codes QR.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o-/um/wr/o-umwrnaxpniz5oziynxxm-bjja.png"><br>
<br>
<p><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">Illustration du travail de d√©tecteurs form√©s sur la m√™me image</font></font></i></p><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aujourd'hui, les codes QR sont utilis√©s dans divers domaines de la vie: dans le secteur de la publicit√© pour l'encodage d'URL, dans le segment de l'√âtat dans le cadre des services √©lectroniques, etc. </font><font style="vertical-align: inherit;">Malgr√© la distribution extr√™mement √©lev√©e de ces codes-barres, les biblioth√®ques open source existantes se concentrent sur le processus de d√©codage, pas sur le probl√®me de localisation. </font><font style="vertical-align: inherit;">Mais pour √™tre honn√™te, le v√©ritable objectif de cet article n'√©tait pas tant de d√©crire une m√©thode efficace de localisation de codes QR, mais plut√¥t de vous dire, cher lecteur, comment, en utilisant la pens√©e scientifique et l'analyse du syst√®me, en comprenant comment utiliser les outils classiques de traitement d'image num√©rique, vous pouvez lib√©rer les biblioth√®ques am√®nent au niveau industriel actuel. </font><font style="vertical-align: inherit;">Merci pour l'attention.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste des sources utilis√©es</font></font></b><div class="spoiler_text">[1] A.A. Kotov, S.A. Usilin, S.A. Gladilin, and D.P. Nikolaev, ‚ÄúConstruction of robust features for detection and classification of objects without characteristic brightness contrasts,‚Äù Journal of information technologies and computing systems, 1, 53-60, (2014).<br>
[2] A. Minkina, D. Nikolaev, S. Usilin, and V. Kozyrev, ‚ÄúGeneralization of the Viola-Jones method as a decision tree of strong classifiers for real-time object recognition in video stream,‚Äù in Seventh International Conference on Machine Vision (ICMV 2014), 9445, International Society for Optics and Photonics, (2015), doi:10.1117/12.2180941.<br>
[3] D. P. Matalov, S. A. Usilin, and V. V. Arlazarov, ‚ÄúModification of the viola-jones approach for the detection of the government seal stamp of the russian federation,‚Äù in Eleventh International Conference on Machine Vision (ICMV 2018), 11041, International Society for Optics and Photonics, (2019), doi:10.1117/12.2522793.</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496510/index.html">Comment NE PAS devenir Game Designer</a></li>
<li><a href="../fr496512/index.html"># 05 - Et un octet entier ne suffit pas ... | Manga</a></li>
<li><a href="../fr496514/index.html">Tunnel VPN IPsec IPIP entre la machine Linux et Mikrotik derri√®re le fournisseur NAT</a></li>
<li><a href="../fr496516/index.html">Bot t√©l√©gramme en python vs COVID-19</a></li>
<li><a href="../fr496518/index.html">Comment sommes-nous arriv√©s √† la t√©l√©commande</a></li>
<li><a href="../fr496532/index.html">Nous v√©rifions nous-m√™mes: comment d√©ployer et administrer 1C: Flux de documents au sein de l'entreprise 1C</a></li>
<li><a href="../fr496536/index.html">DeepCode: vue lat√©rale</a></li>
<li><a href="../fr496538/index.html">Fractales en Python. Proc√©dure pas √† pas</a></li>
<li><a href="../fr496542/index.html">Le trafic Internet en Europe a augment√© une fois et demie. Les fournisseurs de backbone enregistrent les enregistrements de charge</a></li>
<li><a href="../fr496544/index.html">Hackathon en ligne de projets pour les ind√©pendants: 500 mille roubles pour leurs id√©es et le soutien du Service f√©d√©ral des imp√¥ts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>