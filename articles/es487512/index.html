<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç∂ üôÉ üèõÔ∏è ¬øC√≥mo implementar ignorar usuarios bloqueados en grupos de Telegram? üíÜ üîÖ üßñüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="UPD: gracias por ayudar TkachovEste art√≠culo todav√≠a pas√≥ de una solicitud de ayuda a una instrucci√≥n de trabajo. En los comentarios, dio un c√≥digo de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>¬øC√≥mo implementar ignorar usuarios bloqueados en grupos de Telegram?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487512/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/n8/lx/it/n8lxiti0sdes3qvykd6fxu5smas.png" alt="imagen alt"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: gracias por ayudar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tkachov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este art√≠culo todav√≠a pas√≥ de una solicitud de ayuda a una instrucci√≥n de trabajo. En los </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comentarios,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dio un c√≥digo de trabajo para crear un ignorar en el cliente de escritorio Telegram. Por si acaso, pondr√© una explicaci√≥n al final del art√≠culo. Adem√°s, el art√≠culo contin√∫a en la misma forma en que fue escrito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me gustar√≠a pedir ayuda a la comunidad, porque he agotado por completo todas mis posibilidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uno podr√≠a hacer una pregunta sobre el servicio de preguntas y respuestas (tambi√©n conocido como ex tostador), solo que ya lo he hecho y no ha salido mucho de eso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, hacer una pregunta con el pretexto de un art√≠culo no me parece muy correcto. Por lo tanto, intentar√© agregar el fondo de todo el proceso al texto y decir qu√© pasos ya se han tomado.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tienes suerte, alguien en los comentarios te dir√° la soluci√≥n. </font><font style="vertical-align: inherit;">Y luego, aquellos que encuentren este art√≠culo en los motores de b√∫squeda tambi√©n podr√°n resolver este problema.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problema y antecedentes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como todos los usuarios de Telegram saben, en los chats grupales de este mensajero no hay funci√≥n de ignorar usuarios. Puede bloquear a un usuario que sea desagradable para usted, pero esto simplemente le proh√≠be escribirle mensajes privados. En el chat grupal, y ahora los chats grupales parecen acomodar hasta 10 mil usuarios, simplemente </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiene que</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ver todo lo que otros miembros del grupo han desechado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el "Black Mirror" incluso hubo una serie al respecto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/9h/lk/zr9hlk0liyhnvaexdinjwkpsgna.png"><br>
<sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Sigue mirando! ¬°Sigue mirando! ¬°Sigue mirando!</font></font></i></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si tratamos de encontrar una soluci√≥n a este problema en Internet, nos encontraremos con una t√≠pica historia de guerra de una gran corporaci√≥n y un peque√±o grupo de personas descontentas. Las etapas de esta guerra son claramente visibles en Github. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ est√° la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primera solicitud de esta funci√≥n desde 2015.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puede encontrar enlaces a los siguientes temas en este hilo, las personas constantemente solicitaron esta funci√≥n en los a√±os siguientes, pero cada llamada se cerr√≥ con una respuesta bastante est√∫pida "Esto no es un problema del cliente, sino un problema de API". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ni siquiera est√° claro para el programador que los datos se muestran al usuario con la ayuda del cliente. E incluso si la API le env√≠a todos los mensajes desde el servidor, no hay problema para ocultar algunos de ellos en el lado del cliente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero desde hace cinco a√±os, todos los a√±os, y a veces varias veces al a√±o, las personas llegan a Github con una solicitud de ignorar en grupos, y cada vez que se les niega y se cierra el tema. Hace m√°s de seis meses, aparentemente cansados ‚Äã‚Äãde los requisitos constantes, los desarrolladores </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicaron una excusa no vinculante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : dicen, s√≠, s√≠, haremos todo, alg√∫n d√≠a en un futuro lejano.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o8/vg/u7/o8vgu7sadj-sdregj1scnma6lz8.png"><br>
<sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Te o√≠! Solo lo expres√© hasta que estoy listo para responderte, digamos, entiendo tu posici√≥n. ¬°Vamos, llama, no te pierdas!</font></font></i></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Esta excusa tiene exactamente un beneficio: ahora los administradores de tdesktop en Github se refieren a este mensaje para todas las quejas. Diga, miren, lo saben todo, lo har√°n todo, lo siento, la sucursal est√° cerrada. En los √∫ltimos seis meses, se produjeron muchos cambios que consumieron mucho tiempo en el telegrama, por ejemplo, se agregaron a los chats pegatinas animadas y HERMOSOS formularios para agitar las encuestas. Pero no ignorar lleg√≥ incluso cerca. Creo que no aparecer√° en un a√±o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al mismo tiempo, la situaci√≥n parece incluso un poco siniestra: existe la sensaci√≥n de que est√° prohibido introducir esta funci√≥n con instrucciones especiales para las horquillas oficiales. Telegram tiene al menos una docena de horquillas conocidas (como Unigram) y cien horquillas poco conocidas, pero ninguna de ellas tiene esta caracter√≠stica. Escrib√≠ en apoyo de los tenedores m√°s populares, pero no recib√≠ respuesta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al mismo tiempo, gestionar usuarios bloqueados con mensajes del lado del cliente </font></font><u><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pueden ser</font></font></b></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esto se confirma por la existencia de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegreat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esta es una bifurcaci√≥n de Telegram, en la que se declar√≥ la opci√≥n de ignorar a los usuarios bloqueados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por desgracia, este ignorar no es real. Todo lo que hace la opci√≥n "Ignorar usuarios bloqueados" es colorear el texto de los mensajes de los usuarios bloqueados en gris. Las im√°genes, videos, m√∫sica o calcoman√≠as de usuarios bloqueados a√∫n son visibles; Adem√°s, el color gris en temas oscuros es perfectamente legible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las personas acuden regularmente al chat con el desarrollador, donde me sent√© un rato, y me piden que haga un "verdadero ignorar". Anteriormente, simplemente se negaba; En los √∫ltimos seis meses, abandon√≥ por completo su proyecto, porque "no tiene tiempo". Bueno, esto es algo com√∫n para proyectos de c√≥digo abierto gratuitos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menciono este proyecto por dos razones.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En primer lugar, se anuncia precisamente como un "cliente con una funci√≥n de ignorar" y es aconsejado por personas que leen solo la descripci√≥n, sin saber c√≥mo se implementa realmente este "ignorar". </font><font style="vertical-align: inherit;">Como se mencion√≥ anteriormente, esta funci√≥n no funciona.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En segundo lugar, es una confirmaci√≥n viva de que en el cliente de Telegram es posible determinar el mensaje de un usuario bloqueado y cambiarlo. </font><font style="vertical-align: inherit;">Eso es, de hecho, ignorar en el lado del cliente es posible.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, nadie hace esto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo mejor de todo es que mis sentimientos se transmiten en un comentario sobre un </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">tema</font></a><font style="vertical-align: inherit;"> similar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en Reddit hace cuatro a√±os:</font></font></a><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estoy sorprendido de que no puedas hacerlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øSeriamente? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si simplemente no quiero leer nada que escriban algunos usuarios, deber√≠a poder hacerlo ... ¬°es como una de las caracter√≠sticas m√°s b√°sicas de todos los protocolos de comunicaci√≥n! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Podr√≠as hacerlo en los a√±os 90 con correos electr√≥nicos y grupos de noticias!</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, dondequiera que hablemos sobre los motivos de la ausencia de un jugador, se repiten las mismas cosas: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - No ver√° todos los mensajes y por eso no entender√° lo que sucede en el chat. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Duplicar√°s los mensajes. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Se violar√° la funcionalidad del sistema de "respuestas". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y, de nuevo, uso una cita, solo para mostrarle: estos no son mis pensamientos personales, esta es nuestra posici√≥n com√∫n, las personas que desean introducir esta funci√≥n:</font></font><br>
<blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">I can assure you 100.00% of people asking for this feature, are fully aware of the side effects it has, and could not care less about those.<br>
<br>
Yes just not show it at all. Yes including if it's a reply. Yes if the admin needs to see everything to moderate, then they don't have the luxury of using ignore. And most certainly we can compare TG groups to IRC, because they are both a mechanism for accomplishing the same thing, namely multi-user communication.</a></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este es solo un ejemplo de vida con respecto a la duplicaci√≥n: me siento en varios chats de telegramas y durante el d√≠a </font><font style="vertical-align: inherit;">varios usuarios </font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siempre</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lanzan las mismas noticias / capturas de pantalla divertidas / memes populares nuevos en el chat. A pesar de que antes de ellos ya estaba. A pesar del hecho de que no se ignora, simplemente no leen el historial de chat ni los mensajes duplicados. Acerca de c√≥mo la gente no sabe c√≥mo usar la b√∫squeda en los foros y repite repetidamente las mismas preguntas. Ni siquiera lo mencionar√©, la mayor√≠a de los lectores probablemente se han encontrado con esto. Nuevamente, sin ninguna ignorancia, este problema ya existe. E ignorarla no lo agravar√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øpor </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qu√©</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en realidad no existe esta funci√≥n?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, la tesis de la conspiraci√≥n dice que el objetivo principal de Telegram es recopilar datos personales y gr√°ficos de interacci√≥n del usuario. En este sentido, cada grupo de telegramas le permite arreglar un grupo peque√±o t√≠pico, que el usuario puede soportar al menos, y que puede soportarlo. De lo contrario, o es expulsado del grupo o se va. La introducci√≥n de ignorar violar√° la pureza del experimento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La versi√≥n de marketing es un poco m√°s f√°cil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando Khaled Mardam Bay cre√≥ mIRC en 1995, escribi√≥ un programa para personas. Quiero decir, para las personas independientes que saben lo que quieren, eligen lo que piensan que es correcto y son responsables de las consecuencias de sus acciones. Por un lado, esto caus√≥ problemas, por ejemplo, con vulnerabilidades programadas: ejecuta una l√≠nea con comandos y eso es todo, es pirateado. Por otro lado, era un mensajero utilizado por adultos y personas responsables. Y sab√≠an c√≥mo existir en un chat con ignorar, donde algunos de los mensajes simplemente no son visibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando en 2013 Pasha Durov hizo Telegram, hizo el programa "para amas de casa". Para un usuario masivo tonto que necesita un buen tutor. Por lo tanto, todo este registro por n√∫mero de tel√©fono, enviando mensajes a todos en la gu√≠a telef√≥nica, banderas y prohibiciones desde todos los lados. Despu√©s de todo, "presionan algo y todo desaparece". ¬°Y luego escribir√°n quejas en apoyo! De ah√≠ esas est√∫pidas excusas: "porque si activas ignorar, no ver√°s los mensajes de otras personas". Cuando crea un producto en masa, se ve obligado a limitar cualquier funcionalidad. El producto para el tonto debe tener protecci√≥n contra el tonto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ viene el argumento de la corona, que siempre se da al final: "No me gusta, no lo use as√≠". </font><font style="vertical-align: inherit;">No explicar√© qu√© le pasa, esta es una pregunta √©tica del formato "por qu√© no se debe comer a la gente": quien le pregunte no tiene sentido explicarlo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero en el caso de Telegram, este argumento est√° ligeramente modificado: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"No me gusta, hazlo como quieras, es de c√≥digo abierto"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intento de resolver</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cansado de muchos a√±os de b√∫squeda, decid√≠ realmente intentar cambiar algo por mi cuenta. </font><font style="vertical-align: inherit;">Me pareci√≥ una buena idea hacer mi propio ensamblaje del Telegram. </font><font style="vertical-align: inherit;">No en el sentido de una asamblea p√∫blica, con un sitio web y ubicaci√≥n en la tienda de aplicaciones, sino simplemente compilando la aplicaci√≥n y us√°ndola usted mismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este sentido, no me molestar√≠an los posibles "frenos" de ocultar mensajes, ni el "problema de perder el contexto en la conversaci√≥n", ni el problema de "c√≥mo administrar el chat si no ve parte de los mensajes". </font><font style="vertical-align: inherit;">Todo esto no me interesaba. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me pareci√≥ obvio que solo agregando una l√≠nea como esta:</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if message.author.isBlocked == true, message.value = 'El mensaje del usuario bloqueado'</font></font></b></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perd√≥n por el pseudoc√≥digo, pero me parece que transmite la idea correctamente. Solo quer√≠a captar cualquier mensaje en una etapa muy temprana, cuando solo proviene del servidor, y reemplazarlo con una l√≠nea sobre bloqueo. Por lo tanto, el problema se resolver√≠a con im√°genes / pegatinas / gifs; tambi√©n se reemplazar√≠an con un mensaje de este tipo y no ser√≠an visibles. E incluso si alguien respondiera o citara un mensaje, a√∫n ser√≠a reemplazado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øPero por d√≥nde empezar? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de preguntar a los amigos de los programadores, descubr√≠ que hay dos formas. El primero es usar el cliente nativo de Telegram, y el segundo es usar un cliente de terceros que est√° escrito usando la nueva biblioteca TDLib. Fui al servicio de preguntas mencionado al principio del art√≠culo y formul√© una </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">pregunta</font></a><font style="vertical-align: inherit;"> all√≠</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Como puede ver, la l√≠nea de encuestados no est√° alineada. El √∫nico hilo condujo al mensajero Kotatogram. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habl√© con el creador de este mensajero, y √©l me dio dos consejos √∫tiles. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, dijo que los mensajes en el cliente nativo se muestran de la manera habitual y no se generan (sin embargo, sospech√© esto con el ejemplo de Telegreat), por lo tanto, puede usar el cliente nativo como fuente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En segundo lugar, le dijo d√≥nde buscar la salida del mensaje en s√≠, en el bloque history_message. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desafortunadamente, √©l, como el creador de Telegreat, tampoco tuvo tiempo libre para agregar independientemente la funci√≥n de ignorar, que es para su cliente, que es para m√≠.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo proced√≠ despu√©s? </font><font style="vertical-align: inherit;">Las instrucciones de ensamblaje existen en Github, pero no refleja todas las etapas del trabajo. </font><font style="vertical-align: inherit;">Los describir√© aqu√≠, en caso de que alguien m√°s llegue al art√≠culo que no est√© particularmente familiarizado con la programaci√≥n, pero que quiera hacer que el mismo cliente ignore por s√≠ mismo:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decid√≠ hacer todo en una m√°quina virtual. </font><font style="vertical-align: inherit;">Para hacer esto, instal√© Oracle VM Virtual Box para m√≠ y descargu√© </font><font style="vertical-align: inherit;">su m√°quina virtual oficial con Windows 10 y Visual Studio 2019 preinstalados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del sitio web oficial de Microsoft</font></font></a><font style="vertical-align: inherit;"></font></li>
<li>      Visual Studio.  ,       C++,    Visual Studio Installer   .    Modify     C++,     .           QT <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"></a>.</li>
<li>    Git c <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">git-scm.com</a></li>
<li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">  </a>. <b>  !</b> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay 2 secciones de equipos. </font><font style="vertical-align: inherit;">Y si la primera secci√≥n contiene aproximadamente una docena de comandos que son f√°ciles de copiar y pegar en la l√≠nea de comando, entonces, para la segunda secci√≥n de varias docenas de comandos, parece natural copiar todo el c√≥digo en un archivo bat y ejecutarlo. </font><font style="vertical-align: inherit;">Esto es un error, porque el proceso se detiene al menos dos veces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera parada ocurre despu√©s de la l√≠nea:</font></font><br>
<br>
<pre><code class="plaintext hljs">gyp --no-circular-check breakpad_client.gyp --format=ninja</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda es despu√©s de la cuarta l√≠nea desde el final, la instrucci√≥n de configuraci√≥n QT larga:</font></font><br>
<br>
<pre><code class="plaintext hljs">configure -prefix "%LibrariesPath%\Qt-5.12.5" ....... </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como me dijeron mis amigos, esto se debe al hecho de que durante la ejecuci√≥n de estos comandos se lanzan otros archivos bat, en los que ya se ha registrado una salida directa del proceso. </font><font style="vertical-align: inherit;">Como resultado, debe simplemente copiar y pegar los comandos, o dividir la instrucci√≥n en 3 archivos bat (pero en este caso, recuerde que los comandos deben continuar ejecut√°ndose desde el mismo directorio en el que se detuvo el proceso). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obtener su propio api_id </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tambi√©n se describe en Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En √∫ltima instancia, compil√© un archivo exe de Telegram completamente funcional. </font><font style="vertical-align: inherit;">En total, el ensamblaje dura aproximadamente tres horas (sin contar las descargas e instalaciones preliminares), tal vez esta vez depende de la potencia de la computadora.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ayuda de Hall (y soluci√≥n encontrada)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y aqu√≠ finalmente aparece mi pedido a la sociedad habra. Como los lectores ya han adivinado, no s√© qu√© y c√≥mo cambiar. Me parece que encontr√© un lugar donde se muestra el mensaje, pero no estoy seguro, porque no conozco C ++. Sin mencionar que (quiz√°s) ser√≠a correcto cambiar algo no en history_message, sino en alg√∫n lugar de history_item. </font><sub><i><font style="vertical-align: inherit;">"Algo en √©lfico, no puedo leer"</font></i></sub><font style="vertical-align: inherit;"> 
Tal vez alguien aqu√≠ ya ha encontrado el c√≥digo de Telegram o simplemente tiene una habilidad muy desarrollada y puede escribir la misma l√≠nea con el reemplazo de cualquier mensaje de un usuario bloqueado, y tambi√©n decir d√≥nde ponerlo este c√≥digo</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/wx/r6/el/wxr6el7uy7ed5dhp2fexr-9yhli.png"></a><br>
<sub><i><font style="vertical-align: inherit;"></font></i></sub><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongo que el mecanismo de retirada del telegrama en s√≠ no cambiar√° repentinamente. </font><font style="vertical-align: inherit;">Entonces, al actualizar el cliente, simplemente descargar√© la versi√≥n actualizada del github y agregar√© esta l√≠nea nuevamente con un candado antes de compilar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: Como mencion√© al principio del art√≠culo, </font><font style="vertical-align: inherit;">una versi√≥n funcional del c√≥digo apareci√≥ </font><font style="vertical-align: inherit;">en los </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comentarios</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Lo traigo directamente al art√≠culo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera parte del c√≥digo reemplaza el texto con otro mensaje. </font><font style="vertical-align: inherit;">Esto es necesario porque </font><font style="vertical-align: inherit;">este texto es visible entre comillas si otro usuario responde el bloqueado, o a la izquierda en la ventana de chat, donde se muestran los √∫ltimos mensajes en chats grupales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el archivo History_Message.cpp encontramos la funci√≥n en el mismo lugar que en la captura de pantalla anterior:</font></font><br>
<br>
<pre><code class="cpp hljs">HistoryMessage::HistoryMessage(<font></font>
	not_null&lt;History*&gt; history,<font></font>
	<span class="hljs-keyword">const</span> MTPDmessage &amp;data,<font></font>
	MTPDmessage_ClientFlags clientFlags)<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y dentro reemplazamos el texto original:</font></font><br>
<br>
<pre><code class="cpp hljs">	<span class="hljs-keyword">if</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> media = data.vmedia()) {<font></font>
		setMedia(*media);<font></font>
	}<font></font>
	setText({<font></font>
		TextUtilities::Clean(qs(data.vmessage())),<font></font>
		Api::EntitiesFromMTP(data.ventities().value_or_empty())<font></font>
	});</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En avanzado:</font></font><br>
<br>
<pre><code class="cpp hljs"><font></font>
	UserId from = data.vfrom_id().value_or_empty();<font></font>
	PeerData* pd = from ? history-&gt;owner().user(from) : history-&gt;peer;<font></font>
	<span class="hljs-keyword">if</span> (pd-&gt;isUser() &amp;&amp; pd-&gt;asUser()-&gt;isBlocked()) {<font></font>
		setText({<font></font>
			TextUtilities::Clean(qs(<span class="hljs-string">"The message from blocked user"</span>)),<font></font>
			Api::EntitiesFromMTP(data.ventities().value_or_empty())<font></font>
			});<font></font>
	}<font></font>
	<span class="hljs-keyword">else</span> {
		<span class="hljs-comment">//   442-448:</span>
		<span class="hljs-keyword">if</span> (<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span> media = data.vmedia()) {<font></font>
			setMedia(*media);<font></font>
		}<font></font>
		setText({<font></font>
			TextUtilities::Clean(qs(data.vmessage())),<font></font>
			Api::EntitiesFromMTP(data.ventities().value_or_empty())<font></font>
			});<font></font>
	}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si usa solo este c√≥digo, los mensajes antiguos de los usuarios bloqueados ser√°n visibles, pero los nuevos ya no lo ser√°n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, la segunda parte de la soluci√≥n mencionada en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">este</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comentario </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
agrega el siguiente c√≥digo al archivo history_view_message.cpp:</font></font><br>
<br>
<pre><code class="cpp hljs">PeerData* pd = item-&gt;from();
<span class="hljs-keyword">if</span> (pd-&gt;isUser() &amp;&amp; pd-&gt;asUser()-&gt;isBlocked()) <span class="hljs-keyword">return</span>;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPD: en la nueva versi√≥n, el compilador jura en un retorno vac√≠o, por lo que agregu√© la salida de QSize (0,0)</font></font><br>
<pre><code class="cpp hljs">PeerData* pd = item-&gt;from();
<span class="hljs-keyword">if</span> (pd-&gt;isUser() &amp;&amp; pd-&gt;asUser()-&gt;isBlocked()) <span class="hljs-keyword">return</span> QSize(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inmediatamente despu√©s de declarar la variable del elemento en </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QSize Message :: performCountOptimalSize () </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
void Message :: draw ( </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Painter &amp; p, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 QRect clip, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 TextSelection selection, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 crl :: time ms) </font><font style="vertical-align: inherit;">, </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
esto le permitir√° ver completamente los mensajes de usuarios bloqueados en el registro de chat. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adici√≥n importante:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si de repente los mensajes del usuario bloqueado siguen siendo visibles, solo necesita hacer clic en su perfil, la informaci√≥n que est√° bloqueada se actualizar√° y todos sus mensajes desaparecer√°n del registro de chat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para aquellos que lo deseen, agreg√≥ una </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aplicaci√≥n compilada</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a Dropbox </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">.</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
UPD: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">cre√≥</font></a><font style="vertical-align: inherit;"> un "sitio" para distribuir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sites.google.com/view/ignoram</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es487512/">https://habr.com/ru/post/es487512/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487498/index.html">Elegir una base de datos para an√°lisis</a></li>
<li><a href="../es487502/index.html">Sondeo de dispositivos de impresi√≥n utilizando SNMP mientras la impresora est√° imprimiendo</a></li>
<li><a href="../es487504/index.html">Para el d√≠a de la ciencia rusa, los mejores logros de los cient√≠ficos nacionales de 2019 se nombran</a></li>
<li><a href="../es487508/index.html">Medici√≥n de distancia a objetos con RealSense D435</a></li>
<li><a href="../es487510/index.html">Productos radiactivos. Espectr√≥metro de rayos gamma. Parte 1</a></li>
<li><a href="../es487514/index.html">Informe anual de disponibilidad y seguridad de red de Qrator Labs</a></li>
<li><a href="../es487516/index.html">T√©cnicas de caza y t√°cticas de atacantes que usan archivos Prefetch</a></li>
<li><a href="../es487518/index.html">Productos radiactivos. Espectr√≥metro de rayos gamma. Parte 2</a></li>
<li><a href="../es487522/index.html">Hacemos volar la terminal (parte 1)</a></li>
<li><a href="../es487524/index.html">¬øPor qu√© necesita un hackathon de inicio de hardware?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>