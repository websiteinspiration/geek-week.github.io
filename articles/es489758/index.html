<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Ä üßîüèø üõéÔ∏è Angular: un ejemplo de uso de NGRX üïµüèø üìë üì∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este art√≠culo es una continuaci√≥n de la publicaci√≥n "Angular: una introducci√≥n completa a NGRX"
 
 Ejemplo NGRX
 En nuestro ejemplo, habr√° una lista d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular: un ejemplo de uso de NGRX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489758/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="imagen"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este art√≠culo es una continuaci√≥n de la publicaci√≥n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angular: una introducci√≥n completa a NGRX"</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplo NGRX</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En nuestro ejemplo, habr√° una lista de usuarios, una p√°gina de detalles del usuario y cierta informaci√≥n de configuraci√≥n inicial que debe obtener cuando inicie la aplicaci√≥n. </font><font style="vertical-align: inherit;">Vamos a implementar algunos hilos importantes de NGRX. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plan de ACCION:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalaci√≥n de la biblioteca</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear una estructura de carpetas para el almacenamiento </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creaci√≥n de almacenamiento y valores iniciales.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear acciones</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear cajas de engranajes (reductores)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creando efectos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear selectores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n final</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar almacenamiento en componentes</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hagamoslo ...</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalaci√≥n de la biblioteca</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos a usar Angle Cli para crear el proyecto, y luego agregaremos las bibliotecas ngrx. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crea un proyecto:</font></font><br>
<br>
<pre><code class="bash hljs">ng new angular-ngrx --style=scss</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agregue las bibliotecas NGRX necesarias:</font></font><br>
<br>
<pre><code class="bash hljs">npm install @ngrx/core @ngrx/store @ngrx/effects @ngrx/store-devtools @ngrx/router-store --save</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instalamos casi todas las bibliotecas del ecosistema ngrx. </font><font style="vertical-align: inherit;">La mayor√≠a de ellos describe con claridad su prop√≥sito: n√∫cleo, almacenamiento, efectos, pero hay un par para el que puede preguntarse por qu√© son necesarios.</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store-devtools</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : una poderosa herramienta de depuraci√≥n.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">router-store</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : guarda el estado del enrutador angular en el almacenamiento.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estructura de carpetas para almacenamiento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos discutiendo la estructura de archivos del repositorio. </font><font style="vertical-align: inherit;">Esta estructura de archivos y toda la configuraci√≥n de almacenamiento deben existir en el m√≥dulo principal de su aplicaci√≥n, pero en nuestro ejemplo est√° ausente, por lo tanto, el almacenamiento existir√° en el m√≥dulo principal de nuestra aplicaci√≥n (los pasos son casi los mismos si hace esto en el m√≥dulo principal). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j2/pu/w_/j2puw_y4zbz0o1n1yemhvo9_ie0.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La estructura de carpetas es una representaci√≥n de la composici√≥n de almacenamiento real. </font><font style="vertical-align: inherit;">Tendr√° una carpeta principal con el nombre "tienda" y cinco subcarpetas que representan a cada uno de los jugadores clave en la tienda: "Acciones", "Efectos", "Redurs", "Selectores" y "Estado".</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creaci√≥n de almacenamiento y valores iniciales.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como mencionamos anteriormente, tendremos dos secciones principales: nuestra aplicaci√≥n, usuarios y configuraci√≥n. </font><font style="vertical-align: inherit;">Para ambos, necesitamos crear un estado y un estado inicial, y tambi√©n hacer lo mismo para el estado de la aplicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creamos dos interfaces para la definici√≥n y configuraci√≥n del usuario. </font><font style="vertical-align: inherit;">Tambi√©n tenemos uno para la respuesta HTTP del usuario, es solo una matriz IUser. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/by/u-/01byu-tmzaa4tzpxzbr6ezfax5y.jpeg" alt="imagen"><br>
<br>
<img src="https://habrastorage.org/webt/hp/m7/l1/hpm7l1osf9nrlyjesvju9c33mxm.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con el estado del usuario (store / state / user.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i9/pl/l-/i9pll-liw2wtmhlnuas8b1n0dzy.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© estamos haciendo aqu√≠?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creamos y exportamos una interfaz con una estructura de entorno de usuario.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacemos lo mismo con el estado de usuario inicial, que implementa la interfaz reci√©n creada.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para el estado de configuraci√≥n, hacemos lo mismo (store / states / config.state.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/88/tb/xm/88tbxmezhb0cau7fbbrzv6kevi8.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, necesitamos generar el estado de la aplicaci√≥n (store / states / app.state.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/in/mt/-t/inmt-tcdv5300xnatjpq9bix9os.jpeg" alt="imagen"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El estado de la aplicaci√≥n contiene el estado y la configuraci√≥n del usuario, as√≠ como el estado del enrutador.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego establecemos el estado inicial de la aplicaci√≥n.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, exporta la funci√≥n para obtener el estado inicial (lo usaremos m√°s adelante).</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear acciones</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aseg√∫rese de leer la definici√≥n de acci√≥n que discutimos en el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">art√≠culo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Necesitamos crear acciones para usuarios y configuraciones. </font><font style="vertical-align: inherit;">Comencemos con las acciones del usuario (store / actions / user.actions.ts): veamos </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/34/rb/bj34rbgqv70s0mbqidrxbadtchk.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
un poco el c√≥digo:</font></font><br>
<br>
<ol>
<li>  Enum,     .  ,          , ,     .</li>
<li>          .      Action  ngrx. ,        ,        ,      .</li>
<li>,   ,    .     ,    , ,   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y eso es todo ... crear acciones es f√°cil. </font><font style="vertical-align: inherit;">Veamos c√≥mo se ven las acciones de configuraci√≥n (store / actions / config.actions.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lc/ay/ew/lcayewp9ls8yumaflh3wybi2tuc.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aqu√≠ no hay nada nuevo, probablemente ahora se sienta c√≥modo con todo lo que sucede en este archivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Genial, ya hemos determinado el estado y las acciones ... ¬°creemos engranajes!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear cajas de engranajes</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aseg√∫rese de leer la definici√≥n de cajas de cambios que discutimos en un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">art√≠culo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tendremos cajas de cambios que respondan a algunas acciones, porque otras ser√°n manejadas por los efectos que implementaremos m√°s adelante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Necesitaremos un reductor para los usuarios y otro para la configuraci√≥n, pero tambi√©n necesitaremos generar reductores de aplicaciones, comencemos analizando los reductores de usuarios (store / redurs / user.reducers.ts): Discutamos </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/4j/7y/ju4j7ytjci0hkzq9zeceffolc-s.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la implementaci√≥n:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una declaraci√≥n de reductor recibe un estado y, en este caso, una acci√≥n del usuario y devuelve un IUserState.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando la instrucci√≥n switch, generamos observaciones para cada tipo de acci√≥n posible.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada caso devuelve un nuevo objeto, que es el resultado de la fusi√≥n del estado anterior y el nuevo valor.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todas las cajas de cambios tienen un resultado predeterminado, que simplemente devuelve el estado sin ning√∫n cambio.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y es todo. </font><font style="vertical-align: inherit;">No encontrar√°s nada m√°s en la caja de cambios. </font><font style="vertical-align: inherit;">Echemos un vistazo a los reductores de configuraci√≥n (state / redurs / config.reducers.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/ky/3m/ouky3m_fpspiahaj5j4sgf5owvk.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, echemos un vistazo a los reductores de la aplicaci√≥n (tienda): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/66/hg/ej66hgbbt97ljvpbqs728feti9g.jpeg" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aqu√≠ agregamos todos los reductores al mapa reductor de la aplicaci√≥n. </font><font style="vertical-align: inherit;">Utilizamos un mapa reductor de acciones para la verificaci√≥n de tipo adicional. </font><font style="vertical-align: inherit;">M√°s adelante proporcionaremos esta aplicaci√≥n con reductores para el m√≥dulo de la tienda.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A√±ade efectos</font></font></h3><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aseg√∫rese de leer la definici√≥n de "Efectos", que discutimos en un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">art√≠culo anterior</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probablemente ya haya notado que en las cajas de cambios no procesamos todas las acciones. </font><font style="vertical-align: inherit;">Esto se debe a que vamos a manejar acciones perdidas en los efectos, porque estas acciones tienen efectos secundarios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con los efectos personalizados (store / effects / user.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2n/bk/2c/2nbk2cyc2d_rlrasu6cdi0qjyps.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mucho de lo que sucede en este archivo. </font><font style="vertical-align: inherit;">Tratemos de explicarlos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaramos nuestros efectos personalizados utilizando un decorador de inyecci√≥n.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Declaramos nuestros efectos utilizando el decorador de efectos proporcionado por ngrx / Effects.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando las acciones proporcionadas por ngrx / Effects, vamos a comenzar la canalizaci√≥n de nuestro operador para este efecto.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El siguiente paso es establecer el tipo de acci√≥n del efecto utilizando el operador ofType.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las siguientes partes son los operadores de rxjs que utilizamos para obtener lo que necesitamos (ya tenemos un enlace a la documentaci√≥n de rxjs en este art√≠culo).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, en la √∫ltima declaraci√≥n, Effect enviar√° otra acci√≥n.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el constructor, implementamos los servicios que vamos a usar, las acciones para ngrx / Effects, y en este caso tambi√©n el repositorio (tenga en cuenta que esta es una demostraci√≥n, y obtenemos al usuario seleccionado de la lista de usuarios en nuestro repositorio).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta es casi la misma estructura que ver√° con cualquier efecto. </font><font style="vertical-align: inherit;">En este caso, enviamos solo una acci√≥n exitosa, pero podemos enviar errores o cualquier otro estado que queramos procesar en nuestros reductores de aplicaciones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere los efectos de configuraci√≥n (store / effects / config.effects.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/vy/xo/rgvyxoxw13yif9tlsok083hyfhu.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ahora es el momento de hablar sobre los selectores ...</font></font><br>
<br>
<h3> </h3><br>
<blockquote>   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a>.</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No tiene sentido repetir las porciones de nuestro estado en todas partes, as√≠ que creemos algunos selectores que podamos reutilizar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como siempre, primero veamos los selectores de usuario (store / selectors / user.selectors.ts): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h9/ki/nj/h9kinj8iveawvqfcy2ax6cbi_wu.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
esto es realmente comprensible porque no hacemos ninguna transformaci√≥n de datos en nuestros selectores, sino que simplemente devolvemos el segmento de la tienda al que hace referencia el selector usando la funci√≥n createSelector de ngrx / store. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer par√°metro es un fragmento del almacenamiento que se usar√° para recibir datos (puede ser una matriz con varias partes del estado), el segundo par√°metro es una funci√≥n an√≥nima que decidir√° qu√© devolver√° el selector.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veamos los selectores de configuraci√≥n (store / selectors / config.selectors.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rf/x3/sy/rfx3syjbo0zah5fkr3d5lyxm-6o.png" alt="imagen"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuraci√≥n final</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, hemos creado todo lo que nuestro almacenamiento necesita, pero a√∫n nos falta una cosa: unir todo. </font><font style="vertical-align: inherit;">Voy a hacer esto en el m√≥dulo de aplicaci√≥n, pero puede aplicar lo mismo en el m√≥dulo principal de su aplicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agreguemos un m√≥dulo de aplicaci√≥n: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/bv/op/afbvopehkmcitmm2xps9ch8mwdy.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© hemos hecho aqu√≠?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importamos nuestras cajas de cambios y las proporcionamos en el m√≥dulo de almacenamiento forRoot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importamos nuestros efectos y los proporcionamos dentro de la matriz en el m√≥dulo de efectos forRoot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuramos la configuraci√≥n para el m√≥dulo de estado del enrutador que proporciona el enrutador stateKey.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y agregamos herramientas para desarrolladores de tiendas si el entorno no es la producci√≥n.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los primeros dos pasos son necesarios, mientras que los pasos 3 y 4 los recomiendo, pero no son obligatorios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora finalmente lo hemos hecho ... ¬°podemos usar nuestro almacenamiento en componentes!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uso de almacenamiento en algunos componentes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos estamos acercando al final! </font><font style="vertical-align: inherit;">Veamos c√≥mo usar nuestro almacenamiento ... </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primero, obtengamos la configuraci√≥n cuando se inicie la aplicaci√≥n:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-w/kx/sq/-wkxsqjesnv939hqsrqu4w9aqoq.png" alt="imagen"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estamos agregando almacenamiento a nuestro componente app.com.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Establecemos la propiedad del componente en el valor del selector en la configuraci√≥n, porque queremos mostrar parte de esta informaci√≥n en HTML.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En onInit, enviamos la acci√≥n para obtener la configuraci√≥n.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eso es todo ... Ya estamos codificando un efecto que controlar√° esta acci√≥n, y un reductor que manejar√° este efecto. </font><font style="vertical-align: inherit;">Tan pronto como la Tienda entre en un nuevo estado, el selector cambiar√° el valor de nuestra propiedad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C√≥mo asociar esto con HTML: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wx/us/db/wxusdb0f2gbleczgbej7qiquuvk.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tan pronto como config $ tenga un valor, lo veremos en HTML. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora veamos la lista de usuarios (contenedores / users / users.component.ts):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-s/xe/oi/-sxeoitbesiozalk-fx2apletno.png" alt="imagen"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As√≠ como gestionamos la configuraci√≥n, vamos a obtener una lista de usuarios. </font><font style="vertical-align: inherit;">Primero, inyectamos el repositorio en el componente del usuario.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En onInit, publicamos una acci√≥n para obtener usuarios.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creamos una propiedad para el componente y le asignamos una lista de usuarios utilizando el selector de lista de usuarios.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTML tiene este aspecto: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rg/2p/a2/rg2pa2kcp1kzmwzdcm3u1cjg89y.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mostramos la lista de usuarios en el componente de presentaci√≥n, enviamos la lista y asociamos al usuario seleccionado con la funci√≥n de navegaci√≥n que se puede ver en el componente contenedor de usuario anterior. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veamos el componente contenedor personalizado:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/af/do/ge/afdogebu_sm4girkz_pheed6768.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
este componente recibe el identificador de par√°metro de la ruta activada, y probablemente ya est√© familiarizado con el resto, env√≠a el identificador como par√°metro, selecciona el usuario seleccionado ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si est√° depurando la aplicaci√≥n, puede ver las herramientas del desarrollador, que son bastante simples para usar ... pero en este art√≠culo hemos estudiado lo suficiente, y espero que pueda descubrir f√°cilmente estas herramientas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, trat√© de proporcionar una introducci√≥n clara y comprensible a NGRX, proporcion√°ndole todo lo que necesita saber para comenzar el desarrollo con esta herramienta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realmente espero que el art√≠culo te ayude a comprender la plantilla de acci√≥n y recomiende que la descargues y juegues un poco con el c√≥digo.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489744/index.html">Convertir notaci√≥n infijada a postfix</a></li>
<li><a href="../es489746/index.html">En la mayor√≠a de los casos, no se necesita la serializaci√≥n en Android</a></li>
<li><a href="../es489750/index.html">Gesti√≥n de un cl√∫ster de enjambre Docker con Swarmpit</a></li>
<li><a href="../es489754/index.html">20 sistemas de gesti√≥n de proyectos, resumen de 100 chips</a></li>
<li><a href="../es489756/index.html">Crea un efecto de l√°piz en SVG</a></li>
<li><a href="../es489760/index.html">Conciencia y existencia. Mec√°nica cu√°ntica sin paradojas.</a></li>
<li><a href="../es489762/index.html">Un ejemplo simple de an√°lisis y an√°lisis de datos para World of Tanks</a></li>
<li><a href="../es489764/index.html">"El destino tiene muchas formas ..." o automatizamos el control de una bombilla usando CANNY 3 tiny y un fotorresistor</a></li>
<li><a href="../es489768/index.html">C√≥mo combina los bloques colisionantes y un algoritmo de b√∫squeda cu√°ntica</a></li>
<li><a href="../es489770/index.html">Video de MinskJS mitap: mi informe sobre las extensiones del navegador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>