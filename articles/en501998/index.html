<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß¢ üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø üõ´ Expensive price of styles. Yandex Report üíâ üêñ üë¥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Loading CSS on a page is a blocking operation. If asynchronous loading of JavaScript may not be visible to the user, then the slow appearance of style...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Expensive price of styles. Yandex Report</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/501998/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Loading CSS on a page is a blocking operation. </font><font style="vertical-align: inherit;">If asynchronous loading of JavaScript may not be visible to the user, then the slow appearance of styles can drive an impatient guest from the site. </font><font style="vertical-align: inherit;">How to load CSS as efficiently and seamlessly as possible for users? </font><font style="vertical-align: inherit;">Nikita Dubko is trying to figure out</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DarkMeFoDy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from the Yandex search interface group in Minsk.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/kATRlMrtaaY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Hello everyone. </font><font style="vertical-align: inherit;">I'll tell you about the styles. </font><font style="vertical-align: inherit;">Everyone is talking about TypeScript and TypeScript today. </font><font style="vertical-align: inherit;">And I will talk about Cascade style script.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Shortly about myself. </font><font style="vertical-align: inherit;">I‚Äôm a Belarusian developer - after the film Dudya I‚Äôll say that everywhere. </font><font style="vertical-align: inherit;">You may have heard my voice in the Web Standards podcast, and if you see typos in the Web Standards news feed, it's probably me too. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Little disclaimer. </font><font style="vertical-align: inherit;">There will be several insanities in the report - treat everything that I say with great criticism. </font><font style="vertical-align: inherit;">Think about why you can use such techniques, and why you do not need them. </font><font style="vertical-align: inherit;">Some things will be really crazy. </font><font style="vertical-align: inherit;">Go.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What for?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To begin with - why talk about CSS optimization at all? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you start looking in search engines for fast JS downloads, there are a lot of results. If you look for quick CSS loading, then the top not even displays the CSS that you need. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fd/fy/mh/fdfymhsjiglvpavgqbzxrczyqo8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you look at Google, there are 111 million results about JS, and about CSS just 26 million. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So maybe this just doesn't matter? Why talk about it? If you look for JS performance reports, you will find a lot of them. There is about React, about all sorts of other frameworks, about Vanilla, etc. But about CSS, I found only one report. Harry Roberts in 2018 read a cool </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> about CSS performance. I thought I found a second </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">by Roma Dvornova, ‚ÄúParsim CSS: performance tips &amp; tricks‚Äù. But it turned out to be a JS report that parses CSS. Not exactly what we need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turns out that they don‚Äôt think much about CSS. It's a shame. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But when I go to the web, I usually see HTML. And I also see CSS that stylizes the page. But I do not see JS. JS is a thing that moves CSS and HTML on a page to make everything look beautiful. This is a script. And if JS doesn't load, it's not as bad as if CSS doesn't load. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Errors in JS fall silently into the console. And the average user is unlikely to get into DevTools to look: "Oh, you have it there, a mistake in the console." But if CSS does not load, then you may not see everything you need at all. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, there are studies about the fact that the main thing is to make a first impression.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38% of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> users can go to the site, and if they see that it is directly disgusting, they will leave immediately. And </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">88%</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> will tolerate, use it once, and then they will never return and are unlikely to advise your site. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now that we are all sitting at home, Internet traffic has especially grown. And we need to think about how to efficiently deliver any resources to users. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's try to count from the point of view of Yandex. If we can optimize every Yandex delivery for 100 ms and give, say, 200 million pages per day (I don‚Äôt know the exact number), then this day we will save 0.1 s * 200 million = 232 person-days. Just by optimizing the output for 100 milliseconds. And CSS does that too.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's play a little detectives and find out how to get the most out of loading styles.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Measure!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The very first advice is to always measure everything. There is no point in doing optimizations theoretically. You can assume that optimization works in your case, but real measurements will show that nothing of the kind. This is the most important rule of any optimization. </font><font style="vertical-align: inherit;">Andrei Prokopyuk from the SERP Velocity team on HolyJS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spoke</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> very well </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">about</font></a><font style="vertical-align: inherit;"> how we do this </font><font style="vertical-align: inherit;">, I will not repeat myself. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What measurement tools are there? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- If you want to measure on more or less real devices, slow, not as cool as yours, use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebPageTest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . I usually take measurements there. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- You have Lighthouse if you use Chromium-based browsers. He, like local measurements, shows quite good things.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- If you are sure that you can do everything yourself, go to DevTools, to the Performance tab. It has a lot of details, you can start your own metrics and analyze them. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vx/xl/jl/vxxljlbogdfjvd0v2kyqedewfxy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturally, in Performance it is necessary to set real conditions. You are sitting on your cool laptop with cool Internet in the office, everything is amazing right here, but they come to you and say: ‚ÄúI'm slow.‚Äù And you say: "Everything works for me." Do not do like this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Always try to check how the user in the conditions of the subway or somewhere else will use your site. To do this, you need to set up a very slow Internet. It is also advisable to slow down the CPU, because someone can come to you from some Nokia 3110. He also needs to show the site.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most important: measure on real users. There is such a metric, more precisely, a whole set of metrics - RUM, Real User Monitoring. This is when you measure not what synthetically happens in your code, but metrics on real users in production. For example, from loading a page to an action. An action is, for example, something that works in the browser or even a click on some important element. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remember that you are not developing for robots. Sotka in Lighthouse - it's great, it's really good. So, you fulfill at least the requirements that the Lighthouse sets. But there are real users, and if the user is unable to see the page when heaving in Lighthouse, then you are doing something wrong.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z-/fy/cn/z-fycndvddxfylx_s_ahdxjolpc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are metrics that are important to focus on. </font><font style="vertical-align: inherit;">This is First Contentful Paint, when the first content appears on your page with which you can do something, read. </font><font style="vertical-align: inherit;">This metric is sent in Chromium browsers, you can get it. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/xi/mi/mtximitp8tflgksudiaaporikko.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recently, you can still look at Largest Contentful Paint. </font><font style="vertical-align: inherit;">It often happens that you have a media page, and it is important, for example, to look at a photo on it. </font><font style="vertical-align: inherit;">Then you need this particular metric.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS loading</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's finally move on to CSS, how CSS is loaded. </font><font style="vertical-align: inherit;">Receptions have long been known. </font><font style="vertical-align: inherit;">There is a Critical Rendering Path, a critical rendering path. </font><font style="vertical-align: inherit;">It is about what the browser does from the moment of sending the request for the resource to the moment the pixels are displayed on the screen of the user. </font><font style="vertical-align: inherit;">About this, too, there are a bunch of articles and reports. </font><font style="vertical-align: inherit;">But let's take a quick look at how this browser does it.</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ru"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>CSS ‚Äî  <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/main.ac74gsac.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
He begins to download HTML, sees tags. </font><font style="vertical-align: inherit;">He gradually parses them, understands what to do with them. </font><font style="vertical-align: inherit;">Loads. </font><font style="vertical-align: inherit;">Came across link. </font><font style="vertical-align: inherit;">It must be used. </font><font style="vertical-align: inherit;">But how? </font><font style="vertical-align: inherit;">First you need to download it. </font><font style="vertical-align: inherit;">Downloading is slow. </font><font style="vertical-align: inherit;">When it loads, it starts parsing the page further.</font></font><br>
<br>
<pre><code class="html hljs xml"> <span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ru"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>CSS ‚Äî  <span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/main.ac74gsac.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>-!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If it stumbles upon another link, it is blocked again and does not allow execution. </font><font style="vertical-align: inherit;">Blocks JS, blocks parsing. </font><font style="vertical-align: inherit;">And until it boots, it does nothing. </font><font style="vertical-align: inherit;">But then it starts to work further.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;link&gt;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's dig deeper - what happens when you access the link? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/eb/cs/3webcs2yte1_pqw5nzwvmj_epy4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recording where we go is standard. </font><font style="vertical-align: inherit;">There is a CSS style that lies somewhere. </font><font style="vertical-align: inherit;">Now it‚Äôs fashionable to put all the statics on the CDN.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Where to go?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, the browser needs to understand where to go. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u8/me/ix/u8meixyugzfctlaocm2xzo862po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
He sees the URL, and he needs to understand this URL - what is it about? We are used to the fact that the URL is a site identifier. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/26/2m/6b/262m6bmfjupam-ega9z7tmpibzk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But physically we need to get the IP address of this URL and go to the real physical machine at the IP address. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/nq/ah/ysnqah21cz075zefg6khjupdm-w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For your CDN, it will receive a record in DNS and will actually go directly to the IP address. How can one accelerate in this case? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lz/cl/sn/lzclsnosywf5yaqi0fihvdefism.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A crazy idea is to reduce the distance from the user to the DNS server. Take and transplant the user. For example, to display the message: ‚ÄúSit closer‚Äù or ‚ÄúMove closer‚Äù. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can immediately specify the IP address in the link. Why do we need to look for DNS, resolve domains, if you can immediately give the result by IP address? This is a crazy way, but in the case of DDoS global DNS servers it can even save you.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And we can get rid of getting an IP address. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/s4/i0/1v/s4i01v9rasbbahddidnteghzu8a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Turning to your index.html or to another file, you already know the domain address where you go. Here is just the case when, instead of storing statics on a separate domain or subdomain, you can put the statics closer to your domain, namely this domain itself. Then DNS does not need to be resolved, it already is. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zn/l1/gg/znl1ggztpsl37dgk1cmfo0ob8c8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We figured out where to go. But we can do such things for the browser in advance. If, for example, your style sheet is loaded much later via the DOM tree, you can tell the browser using &lt;link rel = "dns-prefetch"&gt; that "I don‚Äôt go there yet, but you‚Äôll warm up the resources, I‚Äôll definitely need them later ".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
With this entry, you tell the browser to go down and get this DNS. </font><font style="vertical-align: inherit;">When link appears in the code, the browser will already know the IP address of this domain. </font><font style="vertical-align: inherit;">You can do such preliminary things. </font><font style="vertical-align: inherit;">The same thing, for example, before entering the next page, where you will definitely go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ok, the browser knows where to go. </font><font style="vertical-align: inherit;">He needs to understand how to go.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to go</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are watching the protocol. Now, of course, https is a direct requirement. Including search engines will mark your sites not on https with forms as not entirely safe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I found an amazing </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://howhttps.works/why-do-we-need-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">series of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comics about how the board works https. But we are IT people, we love cool complex diagrams, and funny comics are too easy. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/hh/p1/jqhhp1dzstopvkbbsf70gnkxwpw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here I have formulated in my own words how https works. First you get an SSL certificate from your server. Then you must check the certificate at a certification authority. These are special servers that know what is valid and what is not, and can prompt browsers: ‚Äúyes, everything is fine here, use this certificate‚Äù.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next is the generation of keys for communication between the server and the client, encryption, decryption using different keys. The process is interesting if you look at it in terms of cryptography. But we want to speed up. How? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pq/g1/ue/pqg1ueqmruwadkjjb7ff5sstwu0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We can again transfer the user closer to the servers. We already have a DNS, now we can put it closer to the certification authority. And to put between these servers will be perfect. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can opt out of https, why do we need it? We spend time getting a certificate, encrypt, decrypt. Not really. This is the most harmful advice in the report, do not do so. https is user data protection, and http / 2 will not work without https, and http / 2 is another way to speed up.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/hh/p1/jqhhp1dzstopvkbbsf70gnkxwpw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is also OCSP Stapling technology. You can verify a certificate without a certification authority. This is probably closer to DevOps. You need to configure your server in a certain way so that it can cache the response of the Certification Authority and issue to the user: "Believe me, my certificate is really real." Thus, we can save at least the step at which we go to the Certification Authority. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But there is a nuance - in Chrome this does not work, and for a long time. But for the user of other browsers, you can speed up this process.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I have already said twice that it‚Äôs necessary to transplant the user, and the idea is soaring in the air - to move the server closer to the user. I have not discovered anything new for you. This is a CDN, a distributed content delivery network. The idea is that you can use ready-made sidienki, independently create your own infrastructure and put a bunch of servers around the world, as far as money and opportunities allow you. But you need to arrange the server so that a user from Australia goes to Australian servers. Here the speed of light plays on you, the smaller the distance, the faster the electrons pass it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's dig deeper. What else is going on in the request? In fact, https is just a wrapper over http. Not just a cool wrapper. And if it‚Äôs even deeper, then http is such a request from the TCP / IP family.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wl/be/sf/wlbesfr8mnsmulrqrlgazdwxa_4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How are packets and bytes sent on the network so that all browsers, clients and servers communicate with each other? </font><font style="vertical-align: inherit;">The first thing a client / server does over a TCP / IP connection is a handshake. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But in 2020, WHO recommends avoiding handshakes. </font><font style="vertical-align: inherit;">There is such a cool TCP Fast Open technology. </font><font style="vertical-align: inherit;">You can, at the time of the handshake, avoid the entire chain ‚ÄúHello, I am a client‚Äù - ‚ÄúHello, I am a server‚Äù - ‚ÄúI believe you‚Äù - ‚ÄúAnd I believe you. </font><font style="vertical-align: inherit;">Go". </font><font style="vertical-align: inherit;">You can already send useful data at this moment. </font><font style="vertical-align: inherit;">And if the handshake was successful, then part of the useful data has passed. </font><font style="vertical-align: inherit;">This is TCP Fast Open.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What to pick up?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let‚Äôs figure out what the client should pick up from the server. </font><font style="vertical-align: inherit;">The main thing is not the client takes something from the server, but the server gives the data to the client. </font><font style="vertical-align: inherit;">Then you might think: User-Agent. </font><font style="vertical-align: inherit;">I can get the User-Agent from the client, find out which browser the user has logged into. </font><font style="vertical-align: inherit;">Find out approximately if it does not deceive me, this browser.</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.example</span> {
    <span class="hljs-attribute">display</span>: -ms-grid;
    <span class="hljs-attribute">display</span>: grid;
    <span class="hljs-attribute">-webkit-transition</span>: all .<span class="hljs-number">5s</span>;
    <span class="hljs-attribute">-o-transition</span>: all .<span class="hljs-number">5s</span>;
    <span class="hljs-attribute">transition</span>: all .<span class="hljs-number">5s</span>;
    <span class="hljs-attribute">-webkit-user-select</span>: none;
       <span class="hljs-attribute">-moz-user-select</span>: none;
        <span class="hljs-attribute">-ms-user-select</span>: none;
            <span class="hljs-attribute">user-select</span>: none;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">-webkit-gradient</span>(linear, left top, left bottom, from(white), <span class="hljs-built_in">to</span>(black));
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">-o-linear-gradient</span>(top, white, black);
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, white, black);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's say he logged in from Firefox. </font><font style="vertical-align: inherit;">I, as usual, have an assembly in which autoprefixer is corny connected, it has generated a bunch of code for me. </font><font style="vertical-align: inherit;">Yes, this is a cool approach that everything will work everywhere. </font><font style="vertical-align: inherit;">But I already know that the user has logged in from Firefox. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Why not turn off all the excess? </font><font style="vertical-align: inherit;">Agree, there are much fewer lines, we send less bytes, this is cool. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have a lite version of SERP, Granny. </font><font style="vertical-align: inherit;">Vitaly Kharisov talked about her</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vithar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, class </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on Web Standards Days. It uses exactly this approach. We can generate several bundles and give them to different clients in different ways. They weigh much less, because Firefox gets its own, WebKit gets its own, and it works, it‚Äôs verified. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/av/3l/rj/av3lrjwxk0h7r1uvu2soqygili8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Further. We most likely process user requests, we know that the person is authorized and use some personal information for him. It is logical that we should get something from the database. But not all! There are static things that do not differ for any of the users, they are exactly the same. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
James Akvuh read a cool </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">report</font></a><font style="vertical-align: inherit;"> about it</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúServer-Side Rendering. </font><font style="vertical-align: inherit;">Do it yourself". </font><font style="vertical-align: inherit;">What is the point? </font><font style="vertical-align: inherit;">You already know that you have HTML and some kind of CSS that is the same for all users. </font><font style="vertical-align: inherit;">Before you go for any data, you can generate the output from this static data, immediately send the most useful in a stream from the server. </font><font style="vertical-align: inherit;">And after that - go for the data, quickly receive it, convert it into templates and give it to the client. </font><font style="vertical-align: inherit;">And the user will already see something useful.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Your browser does not support HTML5 video.</font></font><source src="https://mefody.dev/talks/css-cost/images/screencast-yandex-prerender.mp4" type="video/mp4"></video></div></div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have implemented this a long time ago. We have on SERP, on the main search page, two phases - presearch and postsearch. Presearch is when we send all the pieces that do not need knowledge about which user has logged in. We can already give him, for example, a hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is, we have a search bar that the user can start using before everything else loads. This is useful on a slow connection. We do it, it works. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And I also talked about http / 2. This is fully supported by modern browsers, so if you haven‚Äôt configured it on your server yet, at least figure out how to configure it.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server Push is a cool technology that says: ‚ÄúBrowser, I have not yet given you the knowledge that you need some kind of CSS. But I know exactly what is needed. So hold it, preload it. ‚Äù </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6b/hr/do/6bhrdomeghpruxrhggwss8lpe4a.png"><br>
<br>
<img src="https://habrastorage.org/webt/0_/h-/eo/0_h-eognhuhs4pp55sj0rzltkly.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It's not hard. You need to configure a couple of headers on the server, and everything will start working. If the browser does not know this title, nothing will break, this is the most beautiful. Let's dig even further. TCP We already talked about this: a handshake, bytes are sent. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/f4/gy/htf4gytrvdio_te6zyz5wsevhn8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wash your hands after a handshake. But in terms of TCP, we begin to forward bytes, and the algorithms are optimized enough so that the client server does not stand idle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, a certain data segment is sent first. By default, (this you can change in the settings) it is 1460 bytes. The server does not send information on one segment. He sends windows. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first window is 14600 bytes, ten segments. Then, if the connection is good, he starts to enlarge the windows. If the connection is poor, it may reduce the window. What is important to understand? There is the first window of ten segments, in which you must fit the entire site, if you want. And then there will be a maximum speed of the appearance of content. </font><font style="vertical-align: inherit;">Vitaliy Kharisov </font><font style="vertical-align: inherit;">also read a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> about this </font><font style="vertical-align: inherit;">. And yes, it‚Äôs possible to fit a site with everything you need into one window if you turn off, for example, JS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An important nuance. </font><font style="vertical-align: inherit;">When you fill an entire segment, it is one segment. </font><font style="vertical-align: inherit;">But if you send just one extra byte, the server will still send a whole extra segment. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h4/8v/ut/h48vut1nv1yldqqdo2ubbe3miai.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can do a cool optimization, reduce the output by a whole kilobyte, but you won‚Äôt see anything on your measurements - perhaps because of this. </font><font style="vertical-align: inherit;">Try to do the optimization normally on several segments. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strange: I am a typesetter, and I tell such complex server things. </font><font style="vertical-align: inherit;">Let's get even closer to real CSS.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ship less</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, we send less to the user, fewer segments, comes faster, the user is happy. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/76/hb/6l/76hb6lkb_giyi6iwvnfvaui4yuk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minification. She was all set up on her projects. There are a bunch of cool tools, webpack plugins, gulp settings - in general, you'll figure it out for yourself. You can customize it by hand, but it seems only when you are sure that you can compress your CSS cooler than any CSSO. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Remember to enable compression. If at least gzip is not turned on in 2020, you are definitely doing something wrong, because this is an ancient compression technique. In general, in 2020, it's time to use brotli. This is a good way to slightly reduce the output in Chromium browsers. Or, if you do not want to support brotli, then at least you can try zopfli.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a fairly slow compression algorithm for gzip, which simply gives the best compression results and decompresses as fast as regular gzip. Therefore, zopfli needs to be configured wisely and used only when you do not need to output data on the fly. You can configure gzip archivers to be collected during assembly using the zopfli algorithm, and sent statically already, in fact, not going on the fly. This can help you. But also measure the results.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pu/f6/sm/puf6smovgfumpzw6cdrj4nxvjzo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All these algorithms use some kind of dictionaries: a dictionary is built on the basis of repeating code fragments. But sometimes they say: it is necessary to inline, if we inline, then we get rid of the request. Linking all the CSS in HTML will be very fast. The trick is that gzip works a little more efficiently when you break down styles and HTML, because the dictionaries are different, more efficient. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my case, I just took the bootstrap page, linked bootstrap there and compared the two versions. Gzip over individual resources is 150 bytes less. Yes, the gain is very small. Here, too, you need to measure everything. But in your case, this can, for example, reduce the number of segments by one.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How to optimize the code? I'm not talking about minification. Take away what you are not using in the project. Most likely you have code that will never execute on the client. What for? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oc/qy/i3/ocqyi32nsmaifhfwjtobuhbfyt0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So that you can automate this, special tabs are built into the browser, for example, in Chrome DevTools, this is Coverage, which tells you: "I did not use this CSS or this JS, you can cut it out." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But you may have hover, focus, active, something installed using JS. You need to simulate all the possible actions on the site, only then you will be sure that this CSS can be cut. Chris Coyer has a good review </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> about automatic tools that try to do everything with hover and focus. But he came to the conclusion that it was impossible to automate this. It doesn‚Äôt work out yet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a good </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report by</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anton Kholkin from Booking.com, where they also tried to remove heaps of legacy code. </font><font style="vertical-align: inherit;">But they had a peculiarity: a legacy code that came from external projects. </font><font style="vertical-align: inherit;">It was necessary to remove it. </font><font style="vertical-align: inherit;">See what interesting solutions they came across. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You yourself can try to play with the same Puppeteer, which is like Chrome. </font><font style="vertical-align: inherit;">You can do tests that automatically pass through everything, try to do hover, focus. </font><font style="vertical-align: inherit;">And use this same Coverage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My colleague Vitya Khomyakov</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">victor-homyakov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">made my own </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">script</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , such as finding duplicates and styles on a page. Just take, copy and paste. He will write to you in the console: "this selector, it seems, you do not need." Up to the point that just enter in DevTools. It‚Äôs awesome. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5q/4i/4g/5q4i4gjomb59s7ry5xcukiqi0zc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A feature that I really like about the tools of the Firefox developers: an opportunity to see styles that seem to be used, but in fact the browser does not apply them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, you can set display: inline, and it seems that this display: inline does not make sense to set sizes. Or vertical-align, it only works for inline or table-cell. So far, I have only seen in Firefox that it can highlight: "you do not need this line."</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here, too, you need to be careful: perhaps you use this style to later paste the class. But in my opinion, a cool feature. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ask yourself the question right now: do you need the whole Bootstrap on the project? Place any CSS framework that you use instead of Bootstrap. Most likely, you use Bootstrap for grids and more or less common elements, and half of Bootstrap you do not need. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Try using the assembly correctly. Almost all modern CSS frameworks allow you to use source code for assembly and select only what you need. This can drastically reduce the size of the CSS bundle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Do not give away unused. Instead of looking for my legacy, you can use the build-level understanding that this page will not use this CSS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, a full BEM stack allows you to make the assembly so that you, already giving the page, can build a tree of all the components of the BEM blocks that will be on the page. BEM allows you to determine that if this block is not on the page, there is no need to load this CSS. Ship only the necessary. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Even the guys from Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">say</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : use BEM, it can really help you for optimization. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I do not believe that I say it out loud, but in this case CSS-in-JS seems to be a good approach. When you write independent independent components and carefully configure the assembly or determine in runtime which blocks are used and which are not, you can get rid of the problem of finding a legacy code by simply not sending this code to the client. Sounds easy, but discipline is needed. Think about it in advance at the beginning of the project.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/he/na/zrhenay2u6hrppvi4jx-ams_njo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What other option is there? A little crazy. In this code, it seems that style is not needed, because we use a div - the default is already display: block. And let's delete all the defaults? If in your project you know for sure that the HTML markup will never change again - go through the default values ‚Äã‚Äãthat the browser already provides and remove them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Less styles - great! But this is again a crazy idea. CSS doesn't have to know about HTML, because it's a style. It is quite independent, you must connect it to another project, it should work there. And yes, it‚Äôs hard to maintain. Change the tag - everything breaks. Crazy idea as promised. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use variables. CSS has very old variables like currentColor.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vh/eg/om/vhegomyxszcuft3mc8rloetjmio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Often there is a pattern: you want, for example, to make a button whose text and border are the same in color. And by hover we change them both. What for? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/-5/jl/-v-5jle8hdyn94asbckxmh0ev_i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a currentColor variable that takes a value from color, and you put it, for example, at the border, proxy this property and change only one line by hover, by focus, by active, whatever you want. This seems to be convenient, and the code has become one line less. You can optimize. By the way, in this example, you can not use the border-color task at all, because by default it already takes a value from the color property. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is sometimes very sad to watch how base64 is used. In CSS, it was actively recommended before: use base64 to inject small icons. If it fits in one segment over TCP, it‚Äôs good for you. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/95/uu/rb/95uurb_rsvp6_xjhnolso-ftl-o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But Harry Roberts, too</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conducted a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> classy study on how base64 affects page loading. Yes, there are fewer requests, but such styles are parsed at times slower. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, parsing is a very fast operation, the user most likely will not notice. But we have an important metric - the first rendering, so that the user sees something on the page. On mobile phones, the first rendering, according to a study by Harry Roberts, occurs ten times later. Think about whether you need base64? Yes, there are fewer requests, but did it have an effect? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And please do not use base64 for SVG. Because SVG is great for using URL-encoder. Julia Bukhvalova has a cool </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tool</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Come in, paste your SVG and it will give out CSS in a ready-to-paste form. You may notice that there is no base64, but some things are escaped that in CSS may not be perceived correctly. It is much more efficient. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On average, base64 gives a plus of 30% to the size of what you compress. What for? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use modern technology. We may need to support Internet Explorer - the usual arguments when talking about grids. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pe/mg/xu/pemgxutjaqos0iq67ch7qdzudnc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But think about it: if you don‚Äôt have IE support, and you are still typesetting on float or tables, you can use grids to make three-column layout with a 20-pixel gap - this is the distance between the columns. Three lines. Well, five, considering the announcement itself.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Try this on a float. And I mean that we change three lines, including the name of the classes, if you touch HTML. I did not find a way to do the same cool on a float. Throw off your decisions. But use modern technology. They allow you to more compactly indicate the markup. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/vb/ze/jivbzezcoj7ou78zj5ylexaxd8i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can try Atomic CSS. What is it? You write these slightly crazy class names. And after some time you begin to understand that it is you who set the background-color or just color. These are the ‚Äúfeatures‚Äù for CSS. But you have a fixed CSS set that you then use in HTML as an indication of style. And CSS is suddenly getting smaller. For large projects, it really will become smaller, because there are fewer unique styles. But you are growing HTML.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gy/77/fl/gy77flr72xq4fuxlgz0jq3etfcu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can look in the direction of Tailwind CSS, which is now gaining popularity. It is not Atomic CSS, it is about utility classes, similar to Bootstrap, only more utilitarian. You can use a specific set. Enough seems to be enough for you. A set of classes that perform their functions. You can also try, but do not overdo it much. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kn/ir/8j/knir8jsxsmezohd8gouoba98pk4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another crazy idea - why do we need whole class names on the client? Yes, it‚Äôs convenient for development and debugging, but let's take all the class names and make them single-letter. It will be less. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on how to do this. You can configure webpack or another plugin when building. But it didn‚Äôt take off from us. We tried.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turned out that gzip is so cool that everything was pretty well optimized for us, and BEM and gzip are awesomely friendly. </font><font style="vertical-align: inherit;">Because text constructs are repeated to describe blocks and elements in the code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, this gave us almost no profit. </font><font style="vertical-align: inherit;">But if, for example, you don‚Äôt have BEM and a bunch of dissimilar classes, you can try. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Important: measure. </font><font style="vertical-align: inherit;">Measure all such experimental pieces. </font><font style="vertical-align: inherit;">Perhaps now it works for you, and then you slightly changed the architecture of the project, it began to assemble differently and everything slowed down.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Download it!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So far, I have only talked about how to download a file. We downloaded it. What has the user seen all this time? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hv/0l/8e/hv0l8e1uk89lmfqategu9yux-je.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
He saw such an amazing screen. While we were downloading, the screen was blank. We downloaded, and the browser begins six more steps. Be patient a little, I‚Äôll talk about them a little faster than about downloading. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4c/zj/yy/4czjyy-8-jl4c4qdm9dzgczmfes.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's start with parsing. Parsing is when a browser has downloaded a stream of bytes, and begins to break it into entities that it understands.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/709/df0/50d/709df050daf8e241e96c31e73c720fad.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, he came across import. This again must be downloaded. Read the first piece of the report again? import is a blocking operation. But browsers are smart. They have a Preload Scanner. I said that everything is blocked there, this is not true. Browsers know that, for example, if there are three link tags in a row that follow the style, then when I download the first, you can start downloading the second and third. It cannot parse, because the whole structure of parsing breaks. But download in advance - it can. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/yw/qw/abywqwqotl2uyae8y67kpx_-6ky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So import is a bad thing. If the styles are consistent in HTML, the browser will see that we will go further for another file.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/zb/-k/xfzb-kzu_zycogs1kilkjp73rsy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And if you insert it directly into import, it should first download your style.css, then see import in it. He begins to parse this CSS ... Yeah, we block everything in a new way and go for the file! So you can make a cool waterfall with deoptimization on the site. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Forget import, or configure so that there is no import after the build. For the dev environment, ok, but not for the user. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/le/2g/lx/le2glxus3towgrovquopecvq1nu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next we go through the stages of building trees, using Cascade. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/g-/q8/qog-q84eqwq9dszmfw3zlo7f__0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All this is also described for a long time. The CSS Object Model is built - a special tree of how the browser maps tags, classes to styles. He links it all to the DOM and makes these connections very quickly. When you change something, it is enough for him to change it inside the tree.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cp/kv/b1/cpkvb1obn0v0kwyr1ijpgmc3vmc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The larger the selector, the more difficult it is for the browser to draw a tree. He needs to parse the selector, convert it to tree structures. And if you inserted! Important there, then he should take this into account. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/z_/ld/abz_ldlw6yhtfzvfiak5pjnnjem.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It seems like it's time to talk about BEM again. But BEM is not necessary if you know how to use utility classes, if one class is responsible for one functionality and they do not interfere with each other. Then building a tree is very simple. You have a fairly flat structure and then the browser should correctly link it to the DOM.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w3/tt/fd/w3ttfdtaor_cd7m8e4gikrch4po.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you do this, then they say such selectors slow down CSS parsing. But these are legends long ago, the difference is so small for the browser that in the average project you will not notice it if you optimize selectors with asterisks. But would you like to develop and maintain such code? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/83/1d/po831d3idqqnykaw8ieprtg5eoo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I used to hear tips: try putting everything in a shortcut. background is a shortcut for a lot of other properties. We put everything in one property, and it becomes optimal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By bytes, yes, it is getting smaller. But if you want to optimize the composition of CSS OM, then the browser will still make all these properties out of background. Browsers for each DOM element build a table of all the properties that it can have. When you look at DevTools computed values, they are not there because the browser calculated them according to your requirement. It stores this in memory, because it is much easier to rewrite one property and everything works. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is also very strange advice, but if you want to make CSS OM faster, you can immediately set all the properties one at a time. That might work. But the size of the bundle will greatly increase. You need to measure. I doubt that it will give a profit, but suddenly!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When CSS OM is built, JS is also locked at this point. If building OM CSS takes two seconds, JS fails. Although I can‚Äôt imagine how you managed to write so much in CSS that the tree is built for two seconds. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/25/0e/un/250eunwpu4yepgffhza-6g1u2dg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Further the browser does Layout. This is the location of all the DOM elements, the use of positions. He understands where the element should be located and with what dimensions. It seems that at this stage the user should already see some kind of picture. But he sees everything in the viewport, can look through a limited window. If something is not right from below, he simply won‚Äôt see it.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/af/_r/hgaf_racfuoqjcan8wci-i94miu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The idea is called Critical CSS, and it is also quite old. You insert some important things for the first screen at the very beginning of the download. For example, inline in your HTML, get rid of any additional requests. The user sees this screen first, and then download as you like. Most likely, he will start scrolling when you have time to load it. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hb/nk/0u/hbnk0uuz7vgkbubstjoqnfwgsus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is done simply. There are tools that automate all this, including plugins for webpack and React. Just search and configure correctly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/addyosmani/critical</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/pocketjoso/penthouse</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/anthonygore/html-critical-webpack-plugin</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/GoogleChromeLabs/critters</font></font></a><br>
<br>
<img src="https://habrastorage.org/webt/1p/pi/qp/1ppiqpkakke_gsbhxo1cybumlgo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Have a good </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">approach</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from Filament Group - how to load asynchronously without blocking CSS. Everything is quite simple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you put &lt;link rel = preload&gt;, then tell the browser: ‚ÄúI will need this style, but now we are not blocking anything. You download it now, cache it, and when I turn to it, start building CSS OM. ‚Äù And you just need to put onload and process that "ok, since I downloaded it, do it rel = stylesheet, enable parsing." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A fairly simple approach, but use it wisely too. If you have too much preload, you can do worse. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j1/ny/ri/j1nyrizteczgvkx5dwd78_fy1yy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also play with media expressions. Paste them and tell the browser: "this style is not needed now, but when this media expression works, it will be needed." The browser will also download proactively, but with a lower priority and without blocking.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/m3/go/iem3golzhy8qq3fulda1iwn8d0u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another crazy approach, but not so crazy - when you have http / 2 push. You can embed CSS right in front of the block. Without CSS, your block will not look very good. So why not inline the CSS you need for the next block before this block? This is logical, and http / 2 push will allow you to optimize it. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A simple approach. If you expand it, use lazy loading. Why should a user download something that he will not use? You can configure React components so that if it has never hit the page visibility area, why should it download styles for itself? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Explore the Intersection Observer API and you may be able to dramatically speed up your page. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-v/ag/dz/-vagdzf0qqu3mmpabixf1rw9_ss.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The last step is drawing and applying to composite layers, gluing them and so on.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/be/1v/bc/be1vbcsui3hmenm-0ryzhadzrjs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The browser creates composite layers in a huge number of cases. </font><font style="vertical-align: inherit;">In my opinion, only one quarter of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chromium </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">source code</font></a><font style="vertical-align: inherit;"> fit here </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">You can see for yourself when it creates composite layers in the browser code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Video memory is limited, especially on mobile phones. </font><font style="vertical-align: inherit;">If you bring everything to new layers to optimize animations using will-change: transform or something else, then you may be doing worse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Create fewer layers - exactly as much as you need for the current optimization. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Great, we all parsed.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And if I come back?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And what if I return to the page? This is only the first time I went. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Returning to the page, I seem to be able to download everything instantly. I already downloaded all the resources, why not use them a second time? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8v/di/1l/8vdi1lapv3i9ka0lb-swsysnhms.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the server does not give the Cache-Control header, the browser will try to cache your file in order to reuse it. You can configure your server by default, say: "cache this file for a whole year." Will not change. But if so, you need to deal with the global cache invalidation issue. But this is the topic of a separate report. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Use Service Workers! 2020, it's time, Progressive Web Applications! Kirill Chugainov had a good </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">about how Service Workers can be used for different occasions. In this case, you intercept the CSS request, save it, and if the browser follows this style for the second time, give it away from the cache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But the browser does not promise you anything. You can always face the fact that the browser has run out of memory. He will try to cache, but there is no memory. Caching is not one hundred percent. Always handle such situations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can try using Local Storage. But he is wildly slow. Downloading a file is sometimes faster than going to the Local Storage API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can try the built-in browser database. But measure it. Perhaps a trip to JS will take you longer due to a weak processor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also tell the browser in advance that you will download something.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7a/_f/oq/7a_foqb9hzh_ycjaddhrkarqhia.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;link rel&gt; - learn how this attribute works. There is preconnect, prefetch, prerender - I want to talk about it separately. He says: ‚ÄúI am on this page now, and then I will go to the next. Download everything for this page in the background tab and draw. ‚Äù Cool stuff. Doesn't work anywhere. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iy/ca/ql/iycaqlaidexf0urgnjv05zpjskg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In a sense, it is supported in IE and Edge. In Chrome, it does not really do this, it does not render. It works like prefetch: downloads these files and caches. Unfortunately, a full-fledged prerender doesn't work anywhere. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But you can develop this idea. For example, in the Yandex application - naturally, not using CSS - a prerender is made. When you are looking for something, chances are you can get your results instantly. We </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">can</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> predict where you will go, and in advance by our own methods go and get all the necessary resources.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What's next? </font><font style="vertical-align: inherit;">There were a lot of links. </font><font style="vertical-align: inherit;">I also advise you to look at an amazing </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">collection of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> optimization of everything from Vanya Akulov</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iamakulov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">See how to optimize both HTML, and JS, and assembly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And don't forget to tidy up. </font><font style="vertical-align: inherit;">Now my advice really works, suggesting how to do it quickly, but most likely, after five years, they will even be harmful. </font><font style="vertical-align: inherit;">There will be some kind of technology that will be incompatible with them. </font><font style="vertical-align: inherit;">Keep track of this and try to keep your code optimal, including after a while. </font><font style="vertical-align: inherit;">Thank you for the attention.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en501988/index.html">How does the VK message screen render?</a></li>
<li><a href="../en501990/index.html">Useful post: 4 events to solve the problems of the second day in OpenShift and create operators</a></li>
<li><a href="../en501992/index.html">How to organize testing in order to accelerate and stabilize product releases. Part 1</a></li>
<li><a href="../en501994/index.html">Orchestrator for MySQL: why a fail-safe project cannot be built without it</a></li>
<li><a href="../en501996/index.html">Zen Go (Pocket Version)</a></li>
<li><a href="../en502000/index.html">12 Data Engineering Online Courses</a></li>
<li><a href="../en502004/index.html">Kanban Method: Understanding Your Process as a Collective Knowledge Process - Part 1 (recipes)</a></li>
<li><a href="../en502008/index.html">Programming to the masses</a></li>
<li><a href="../en502012/index.html">Azure for Everyone: Introductory Course</a></li>
<li><a href="../en502018/index.html">Podcast on the security of mobile devices and the development of protective solutions for them</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>