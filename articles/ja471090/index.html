<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚉 🐸 🧘🏼 CDNを使用する[しない] 👨🏿‍🌾 👩‍✈️ 🛀🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="サイトの速度を最適化するためのほとんどすべての記事またはツールには、「CDNを使用する」という控えめな項目があります。一般に、CDNはコンテンツ配信ネットワークまたはコンテンツ配信ネットワークです。Method Labでは、このトピックに関する顧客の質問に頻繁に遭遇します。その一部には、独自のCDN...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CDNを使用する[しない]</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471090/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイトの速度を最適化するためのほとんどすべての記事またはツールには、「CDNを使用する」という控えめな項目があります。</font><font style="vertical-align: inherit;">一般に、CDNはコンテンツ配信ネットワークまたはコンテンツ配信ネットワークです。</font><font style="vertical-align: inherit;">Method Labでは、このトピックに関する顧客の質問に頻繁に遭遇します。その一部には、独自のCDNが含まれています。</font><font style="vertical-align: inherit;">この記事の目的は、サイトの読み込み速度に関してCDNが何を提供できるか、どのような問題が発生する可能性があるか、およびどの場合にCDNの使用が正当化されるかを理解することです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/sg/bv/rysgbvrvb4uinpoqicfjno5nswm.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像の遅延は、CDNの使用が原因です。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ちょっとした歴史</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くのテクノロジーと同様に、CDNは必要に応じて登場しました。 Webユーザー向けのインターネットチャネルの開発に伴い、オンラインビデオサービスが登場しています。当然、ビデオコンテンツには、従来のWebサイトコンテンツ（画像、テキスト、CSSまたはJSコード）よりも桁違いに高いスループットが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのサーバーから複数のクライアントに並行してビデオストリームをブロードキャストしようとすると、サーバーのインターネットチャネルがボトルネックになる可能性があります。一般に、数千のスレッドで通常のサーバーチャネルを詰まらせるのに十分です。もちろん、他のリソース制限があるかもしれませんが、今はそれらは重要ではありません。また、サーバーチャネルを拡張することは、コストがかかりすぎ（場合によっては不可能）、実際的でないことも重要です。放送中のチャンネルの負荷は周期的になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のサーバーのチャネル制限の問題は、CDNによって完全に解決されます。クライアントはサーバーに直接接続するのではなく、CDNネットワークのノードに接続します。理想的な状況では、サーバーは1つのストリームをCDNに提供し、ネットワークは独自のリソースを使用してこのストリームを多くのユーザーに配信します。経済の観点からは、実際に消費されたリソース（帯域幅やトラフィックなど）に対してのみ支払い、サービスの優れたスケーラビリティが得られます。 CDNを使用して重いコンテンツを配信することは、十分に正当化され、論理的です。この分野の最大のプレーヤー（Netflixなど）は、大規模な商用CDN（Akamai、Cloudflare、Fastlyなど）を使用する代わりに、CDNを構築することに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webが進化するにつれ、Webアプリケーション自体がより複雑で重くなっています。ダウンロード速度の問題が前面に出ました。サイト速度の愛好家は、サイトの読み込み速度の低下につながるいくつかの主要な問題をすぐに発見しました。それらの1つはネットワーク遅延（RTT-往復時間またはping時間）でした。遅延は、サイトのロードにおける多くのプロセスに影響を与えます。TCP接続の確立、TLSセッションの開始、各リソースの個別のロード（画像、JSファイル、HTMLドキュメントなど）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題は、HTTP / 1.1パンクチャ（SPDY、QUIC、HTTP / 2以前は唯一のオプションでした）を使用すると、ブラウザが1つのホストに対して6つ以下のTCP接続しか開かないという事実によって悪化しました。これらすべてが、シンプルな接続とチャネル帯域幅の非効率的な使用につながりました。この問題はドメインシャーディングによって部分的に解決されました-接続数の制限を克服するための追加ホストの作成。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、CDNの2番目の機能である、多数のポイントとユーザーへのノードの近接性による遅延の削減（RTT）について説明します。ここでの距離が決定的な役割を果たします。光の速度は制限されています（光ファイバーで約200,000 km / s）。つまり、1000 kmのパスごとに5 msの遅延または10 msのRTTが追加されます。中間装置にはまだ遅延があるため、これは最小伝送時間です。通常、CDNはサーバー上のオブジェクトをキャッシュできるため、CDNを介してそのようなオブジェクトをロードすることで利益を得ることができます。このための前提条件：キャッシュ内のオブジェクトの存在、CDNの近接性は、Webアプリケーションサーバー（元のサーバー）と比較してユーザーを指します。 CDNの地理的な近接性が低遅延を保証するものではないことを理解することが重要です。クライアントとCDN間のルーティングは、このような方法で構築できます。クライアントが別の国、場合によっては別の大陸のホストに接続すること。ここでは、通信事業者とCDNサービス（ピアリング、インターフェースの存在、IXへの参加など）の関係と、CDNトラフィック自体のルーティングポリシーが有効になります。たとえば、2つの初期プラン（無料と安価）を使用する場合、Cloudflareは最寄りのサイトからのコンテンツの配信を保証しません。ホストは、最小コストを達成するように選択されます。2つの初期プラン（無料と安価）を使用する場合のCloudflareは、最寄りのサイトからのコンテンツの配信を保証しません。ホストの選択は、最小コストを達成するために行われます。2つの初期プラン（無料と安価）を使用する場合のCloudflareは、最寄りのサイトからのコンテンツの配信を保証しません。ホストの選択は、最小コストを達成するために行われます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの主要なインターネット企業は、ダウンロード速度とWebサイトのパフォーマンスをテーマに、一般（Web開発者とサービス所有者）の関心を集めています。これらの企業には、Yahoo（tool Yslow）、AOL（WebPageTest）、Google（service Page Speed Insights）があり、これらはWebサイトアクセラレーションに関する推奨事項を開発しています（主に、クライアントの最適化に関連しています）。その後、サイトの速度をテストするための新しいツールが登場し、サイトの速度を上げるためのヒントも得られます。これらの各サービスまたはプラグインでは、「Use CDN」を常に推奨しています。 CDNの効果の説明として、ネットワーク遅延の削減が一般的に示されています。残念ながら、誰もがCDNによる加速効果がどのように正確に達成され、どのように測定できるかを理解する準備ができているわけではないため、推奨は信念に基づいて行われ、仮説として使用されます。実際、すべてのCDNが同じように役立つわけではありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日のCDNの使用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CDNを使用することの有用性を評価するには、それらを分類する必要があります。</font><font style="vertical-align: inherit;">現在実際に見つかるもの（括弧内の例は完全ではありません）：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSライブラリの配布用の無料CDN（MaxCDN、Google。Yandex）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアント最適化のためのCDNサービス（たとえば、フォントにはGoogle Fonts、画像にはCloudinary、Cloudimage）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMSでの静的およびリソース最適化のためのCDN（Bitrix、Wordpressなどで利用可能）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汎用CDN（StackPath、CDNVideo、NGENIX、Megaphone）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウェブサイトアクセラレーション用のDNS（Cloudflare、Imperva、Airi）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのタイプの主な違いは次のとおりです。トラフィックのどの部分がCDNを通過します。タイプ1〜3は、コンテンツの一部のみの配信です。1つの要求から数十（通常は画像）までです。タイプ4および5は、CDNを介した完全なプロキシトラフィックです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、これはサイトのダウンロードに使用される接続の数を意味します。 HTTP / 2を使用する場合、ホストへの1つのTCP接続を使用して、任意の数の要求を処理します。メインホスト（オリジン）とCDNのリソースを共有する場合、複数のドメイン間でリクエストを分離し、複数のTCP接続を作成する必要があります。最悪の場合、これは、DNS（1 RTT）+ TCP（1 RTT）+ TLS（2-3 RTT）= 6-7 RTTです。この式では、デバイスの無線チャネルのアクティブ化によるモバイルネットワークの遅延（アクティブでない場合）とセルタワーでの遅延は考慮されていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、サイトのウォーターフォールロードの様子です（RTT 150ミリ秒でCDNに接続するために遅延が強調表示されています）：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fk/dv/z8/fkdvz87weqiyydgin9dynvoq6d0.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CDNがすべてのサイトトラフィック（サードパーティサービスを除く）をカバーしている場合、単一のTCP接続を使用できるため、追加のホストへの接続の遅延を節約できます。</font><font style="vertical-align: inherit;">もちろん、これはHTTP / 2接続に適用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらなる違いは、特定のCDNの機能によって決まります。最初のタイプの場合、これは静的ファイルをホストしているだけで、5番目の場合は、最適化のためにいくつかのタイプのサイトコンテンツを変更しています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDN Webサイトアクセラレーション機能</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
個々のタイプのCDNの機能に関係なく、CDNのWebサイトアクセラレーション機能の全範囲を説明し、それぞれに実装されているものを見てみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.テキストリソースの圧縮</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、最も基本的な機能と理解できる機能は、実装が不十分であることがよくあります。</font><font style="vertical-align: inherit;">圧縮の存在は、すべてのCDNを高速化の機能として宣言します。</font><font style="vertical-align: inherit;">しかし、さらに詳しく見ると、欠陥が明らかになります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低度は動的圧縮に使用できます-5-6（たとえば、gzip maximum-9）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静的圧縮（キャッシュ内のファイル）では、追加機能は使用されません（たとえば、11の累乗のzopfiまたはbrotli）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効率的なbrotli圧縮はサポートされていません（gzipと比較して約20％節約できます）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CDNを使用する場合は、次の点を確認する必要があります。CDNから取得したファイルを取得し、サイズを圧縮形式で修正して、比較のために手動で圧縮します（brotliサポートを備えたオンラインサービス（たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compress.rf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を使用できます</font><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.クライアントキャッシングヘッダーの設定</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、スピードアップする簡単な機能：クライアント（ブラウザ）がコンテンツをキャッシュするためのヘッダーを配置します。</font><font style="vertical-align: inherit;">最新のキャッシュ制御ヘッダー、expiredはexpiresです。</font><font style="vertical-align: inherit;">さらに、Etagを使用できます。</font><font style="vertical-align: inherit;">主なことは、cache-control max-ageは十分に大きくなければならず（1か月以上）、リソースを可能な限りキャッシュする準備ができている場合は、不変オプションを追加できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CDNはmax-age値を過小評価する可能性があり、静的をより頻繁にリロードするようユーザーに強制します。</font><font style="vertical-align: inherit;">理由は何ですか：ネットワーク上のトラフィックを増やしたい、またはキャッシュをフラッシュする方法がわからないサイトとの互換性を高めたいという願望があるため、明確ではありません。</font><font style="vertical-align: inherit;">たとえば、Cloudflareヘッダーのデフォルトのキャッシュ時間は1時間で、不変の静的データの場合は非常に短いです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.画像の最適化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CDNは画像のキャッシュとアップロードの機能を引き継ぐため、CDN側で画像を最適化し、この形式でユーザーに提供するのが合理的です。この機能はCDNタイプ2、3、および5でのみ利用可能である</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ことをすぐに述べます。高度な圧縮形式（WebPなど）、より効率的なエンコーダー（MozJPEG）を使用するか、単に余分なメタデータを消去するなど、さまざまな方法で画像を最適化</font><font style="vertical-align: inherit;">でき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、そのような最適化には2つのタイプがあります。品質の損失ありと品質の損失なしです。</font><font style="vertical-align: inherit;">CDNは通常、ロスレス最適化を使用するように努めています-画質の変更に関する顧客からの不満の可能性を避けるためです。</font><font style="vertical-align: inherit;">このような状況では、ゲインは最小になります。</font><font style="vertical-align: inherit;">実際には、多くの場合、JPEGの品質レベルは必要以上に高く、ユーザーの認識を損なうことなく、より低い品質のインジケーターで安全に再圧縮を実行できます。</font><font style="vertical-align: inherit;">一方、すべての可能なWebアプリケーションの品質と設定のレベルを普遍的に決定することは困難であるため、CDNは、コンテキスト（イメージの割り当て、Webアプリケーションのタイプなど）を考慮して適用できる設定よりも保守的な設定を使用します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. TLS接続の最適化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日のほとんどのトラフィックはTLS接続を介して送信されます。つまり、TLSネゴシエーションに追加の時間を費やしています。最近、このプロセスを加速する新しいテクノロジーが開発されました。たとえば、EC暗号化、TLS 1.3、セッションキャッシュとチケット（セッションチケット）、ハードウェア暗号化アクセラレーション（AES-NI）など。TLSを適切に構成すると、接続時間を0-1 RTT（DNSとTCPを含まない）に短縮できます。 ）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最新のソフトウェアが存在する場合、自社の施設でそのようなプラクティスを実装することは難しくありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのCDNがTLSのベストプラクティスを実装しているわけではありません。これは、TLS接続の時間を測定することで確認できます（たとえば、Webpagetestで）。新しい接続に最適-1RTT、2RTT-中レベル、3RTTなど-悪い。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、CDNレベルでTLSを使用する場合でも、サーバーとCDN間のトラフィックがパブリックネットワーク上を通過するため、Webアプリケーションを備えたサーバーもTLSを処理する必要がありますが、CDN側からです。</font><font style="vertical-align: inherit;">最悪の場合、TLS接続の遅延が2倍になります（最初はCDNホストへ、2番目はそれとサーバーの間）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のアプリケーションでは、セキュリティの問題に注意を払う必要があります。通常、トラフィックはCDNノードで復号化され、これはトラフィックを傍受する潜在的な機会です。</font><font style="vertical-align: inherit;">トラフィックを開示せずに作業するオプションは、通常、トップエンドの料金プランで有料で提供されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.接続の遅延を減らす</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰もが話しているCDNの主な利点は、CDNホストとユーザー間の待ち時間が短い（距離が短い）ことです。これは、ホストがユーザー集中ポイント（都市、トラフィック交換ポイントなど）に配置される地理的に分散したネットワークアーキテクチャを作成することによって実現されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、異なるネットワークの優先順位は特定の地域に配置される場合があります。たとえば、ロシアのCDNはロシアでより多くの拠点を持つことになります。アメリカ人は主にアメリカでネットワークを開発します。たとえば、最大のCDN Cloudflareの1つは、ロシアとモスクワおよびサンクトペテルブルクの2つのポイントしかありません。つまり、モスクワでの直接の宿泊と比較して、可能な限り約10 msの遅延を節約できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの西側CDNはロシアではまったくポイントがありません。</font><font style="vertical-align: inherit;">それらに接続することによって、あなたはあなたのロシアの聴衆のために遅れを増やすことができるだけです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.コンテンツの最適化（縮小、構造変更）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も複雑で技術的なアイテム。</font><font style="vertical-align: inherit;">配信時にコンテンツを変更することは非常に危険な場合があります。</font><font style="vertical-align: inherit;">たとえ最小化しても、（余分なスペース、重要でない構造などにより）ソースコードを削減すると、パフォーマンスに影響を与える可能性があります。</font><font style="vertical-align: inherit;">JSコードをHTMLの最後に移動したり、ファイルをマージしたりするなど、より深刻な変更について話す場合、サイトの機能を混乱させるリスクはさらに高くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、一部のタイプ5 CDNのみがこれを実行します。</font><font style="vertical-align: inherit;">もちろん、加速するために必要なすべての変更を自動化することはできません。手動の分析と最適化が必要です。</font><font style="vertical-align: inherit;">たとえば、未使用または重複したコードの削除は、手動タスクに正確に関連しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原則として、そのようなすべての最適化は設定によって制御され、最も危険なものはデフォルトで無効になっています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CDNタイプ別の高速化サポート</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、さまざまなタイプのCDNが提供する可能性のある加速オプションのどれを見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
便宜上、分類を繰り返します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSライブラリの配布用の無料CDN（MaxCDN、Google。Yandex）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアント最適化のためのCDNサービス（たとえば、フォントにはGoogle Fonts、画像にはCloudinary、Cloudimage）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMSでの静的およびリソース最適化のためのCDN（Bitrix、Wordpressなどで利用可能）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">汎用CDN（StackPath、CDNVideo、NGENIX、Megaphone）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウェブサイトアクセラレーション用のDNS（Cloudflare、Imperva、Airi）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、CDNの機能とタイプを比較します。</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機会</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ2</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ3</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ4</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ5</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト圧縮</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャッシュヘッダー</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TLS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遅延</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
</tbody></table></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この表では、「+」は完全なサポートを示し、「-」は不足を示し、「+-」は部分的なサポートを示します。</font><font style="vertical-align: inherit;">もちろん、このテーブルからの逸脱は実際には可能です（たとえば、一部の汎用CDNは画像を最適化するための機能を導入します）が、一般的な考えには役立ちます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事を読んだ後、サイトを高速化するための「CDNを使用する」という推奨事項についてより明確に理解していただければ幸いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのビジネスでもそうですが、サービスのマーケティングの約束を信じることはできません。</font><font style="vertical-align: inherit;">影響は、実際の条件で測定および検証する必要があります。</font><font style="vertical-align: inherit;">すでに何らかのCDNを使用している場合は、記事に記載されている基準に従って、有効性を確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、CDNを使用すると、現在サイトの読み込みが遅くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的な推奨事項として、次のことに焦点を当てることができます。聴衆を研究し、その地理的範囲を決定します。主な聴衆が1〜2千kmの半径に集中している場合、遅延を減らすために、主な目的にCDNは必要ありません。代わりに、サーバーをユーザーの近くに配置して適切に構成し、記事に記載されている最適化のほとんど（無料で永続的）を行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オーディエンスが本当に地理的に分散している場合（半径が3000キロを超える場合）、高品質のCDNを使用すると非常に便利です。</font><font style="vertical-align: inherit;">ただし、CDNが正確に何を高速化できるかを事前に理解する必要があります（機能とその説明の表を参照）。</font><font style="vertical-align: inherit;">同時に、ウェブサイトの高速化は、CDNを接続しても解決できない複雑なタスクのままです。</font><font style="vertical-align: inherit;">示されている最適化に加えて、最も効果的な加速ツールはCDNのままです：サーバーパーツの最適化、高度なクライアントパーツの変更（未使用のコードの削除、レンダリングプロセスの最適化、コンテンツの操作、フォント、適応性など）</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja471078/index.html">Chromeは混合コンテンツを完全にブロックします</a></li>
<li><a href="../ja471080/index.html">アプリケーションのテストの品質に責任を持つのは誰ですか？本番環境でエラーが発生する10の理由</a></li>
<li><a href="../ja471084/index.html">タイルカードで使用できる手続き型パターン</a></li>
<li><a href="../ja471086/index.html">BlenderのPython音楽カバージェネレーター</a></li>
<li><a href="../ja471088/index.html">ITスペシャリストのバーンアウト：マネージャー、開発者、製品、管理者による4つのストーリー。サウスブリッジのレシピ</a></li>
<li><a href="../ja471092/index.html">cpコマンド：ファイルフォルダーを* nixに正しくコピーする</a></li>
<li><a href="../ja471094/index.html">Tutu.ruとプログラマーのモスクワクラブは、10月17日のバックエンド会議に招待されています</a></li>
<li><a href="../ja471096/index.html">公開テスト：イーサリアムのプライバシーとスケーラビリティのソリューション</a></li>
<li><a href="../ja471098/index.html">デジタルブレークスルー-現状</a></li>
<li><a href="../ja471100/index.html">RxJSを使用したAngularコンポーネント間の相互作用</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>