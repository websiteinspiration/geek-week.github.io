<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👭 🚁 🔯 Uso de datos sin procesar en Google Analytics en la práctica ✋ 🏰 🧑🏻‍🤝‍🧑🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace tiempo que creemos que las herramientas estándar de Google Analytics son la mejor manera de obtener información útil. A veces, tuve que lidiar co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Uso de datos sin procesar en Google Analytics en la práctica</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/boodet_online/blog/503702/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hace tiempo que creemos que las herramientas estándar de Google Analytics son la mejor manera de obtener información útil. A veces, tuve que lidiar con algunas limitaciones y resultados bastante extraños, y parecía que no tenía fin, hasta que algunos analistas descubrieron Google Analytics 360 y los mecanismos para exportar datos en bruto a Google BigQuery. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de solo unas pocas horas de trabajo con herramientas más avanzadas y consultas SQL, pudimos extraer información que nunca hubiéramos recibido utilizando solo informes agregados de Google Analytics. A partir de ese momento, nos enfocamos en estudiar las características de los datos sin procesar (“sin procesar”) y en los beneficios prácticos que los expertos web pueden obtener de ellos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artículo responde las siguientes preguntas:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cuál es la diferencia entre datos sin procesar y resumen?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cuáles son los beneficios de usar datos sin procesar?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cómo acceder a los datos sin procesar?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cómo utilizar estos nuevos datos (ejemplos prácticos)?</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cuál es la diferencia entre datos brutos y de resumen en Google Analytics?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con la versión gratuita de Google Analytics, solo puede obtener datos de resumen. </font><font style="vertical-align: inherit;">Es decir, la información de visualización completa para una visita y evento en particular no estará disponible. </font><font style="vertical-align: inherit;">Por supuesto, el informe del Explorador de usuarios contiene mucha información útil que los análisis web pueden usar. </font><font style="vertical-align: inherit;">Sin embargo, se imponen ciertas restricciones a este archivo: no se escala y no está disponible para descargar. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la mayoría de los casos, tener solo datos de resumen es suficiente para obtener respuestas a preguntas comunes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Qué campaña genera la mayor cantidad de conversiones?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Qué tan común es la tecnología de aprendizaje automático de Feature X (está creciendo su base de usuarios)?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿De dónde vienen los visitantes (principales fuentes de tráfico)?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿A qué dispositivos van los usuarios?</font></font></li>
</ul><br>
 <img src="https://habrastorage.org/webt/5p/kj/x9/5pkjx9gtd-yzsm6v4vre_yozv0u.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No necesita analizar los datos sin procesar para obtener las respuestas a las preguntas anteriores. </font><font style="vertical-align: inherit;">Las herramientas de informes personalizadas o predeterminadas en Google Analytics pueden hacer esto fácilmente. </font><font style="vertical-align: inherit;">El principal problema con los datos de resumen es que están agregados. </font><font style="vertical-align: inherit;">Usted asigna muchos tipos de acciones de usuario que pueden usarse para ocultar información muy útil. </font><font style="vertical-align: inherit;">Damos un ejemplo con vistas de varias páginas en una sesión. </font><font style="vertical-align: inherit;">Tenemos dos fuentes con seis sesiones con el siguiente número de páginas vistas en una sesión:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente A: 1, 1, 2, 2, 2, 10;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fuente B: 2, 2, 3, 3, 4, 4.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando el método estadístico de valores atípicos, se puede determinar que la fuente A caracteriza a un usuario con un menor grado de participación. </font><font style="vertical-align: inherit;">Pero si tomamos en cuenta solo los datos promediados, podemos concluir sobre la misma participación para ambas fuentes, ya que el número de páginas es el mismo (la mediana puede ser cualquiera). </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Por qué los informes analíticos estándar no contienen estos datos? </font><font style="vertical-align: inherit;">La razón principal es el costo computacional. </font><font style="vertical-align: inherit;">Al proporcionar solo datos de resumen selectivos, no es necesario procesar los millones de filas que contiene el informe. </font><font style="vertical-align: inherit;">Por lo tanto, la versión gratuita de Google Analytics no contiene herramientas para realizar cálculos avanzados de forma gratuita.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qué información se puede extraer de los datos sin procesar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al comprender las limitaciones de los datos de resumen, es hora de descubrir cómo se pueden usar los datos sin procesar. </font><font style="vertical-align: inherit;">Considere varias opciones para su aplicación.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duración del evento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una de las limitaciones a las que se enfrenta cualquier analista web que utiliza herramientas estándar de Google Analytics es que no puede determinar el intervalo de tiempo entre colocar un artículo en el carrito y realizar una compra, independientemente de si esta acción se produce en una sola sesión o no. </font><font style="vertical-align: inherit;">Por supuesto, para esto puede usar cookies y hacer sus propios cálculos. </font><font style="vertical-align: inherit;">Pero esto no tiene sentido, especialmente porque Google Analytics ya ha hecho este trabajo por nosotros.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de analizar los datos en bruto, puede determinar fácilmente la hora exacta en que ocurrió el evento para un usuario en particular, realizar un análisis comparativo con otro evento para el mismo usuario. </font><font style="vertical-align: inherit;">También puede agregar datos a su discreción, habiendo obtenido una distribución promedio, mediana o percentil, o usar otro modelo estadístico avanzado. </font><font style="vertical-align: inherit;">¿No importa el hecho de que el 20% de los usuarios realizan la acción objetivo en 2 minutos y el 10% durante toda la semana? </font><font style="vertical-align: inherit;">Con este conocimiento, utilizará varios enfoques para interactuar con estas dos categorías de usuarios.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Análisis de tamaño de audiencia</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los informes de Google Analytics y Google Analytics 360 contienen datos de segmentación de visitantes durante los últimos 90 días. </font><font style="vertical-align: inherit;">A menudo, para obtener datos confiables, se requiere un análisis a distancias más largas (especialmente para grandes empresas). </font><font style="vertical-align: inherit;">Según el análisis de los datos sin procesar, puede obtener respuestas a las siguientes preguntas:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Es más probable que los usuarios que participan en la temporada de vacaciones compren el producto en septiembre que la probabilidad de que otras categorías de usuarios realicen una compra en el mismo mes?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cuál es el efecto de mirar videos durante todo el año y cómo afecta esto al número de conversiones?</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando datos sin procesar, puede almacenar registros de eventos por tiempo ilimitado y eliminarlos solo cuando estos datos ya están irremediablemente desactualizados.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relaciones entre datos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se introduce un coeficiente de correlación para determinar la relación estadística entre dos valores variables. </font><font style="vertical-align: inherit;">Al analizar grandes cantidades de datos, puede determinar la relación entre dos tipos de comportamiento del usuario:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Cómo afectan las páginas vistas al rendimiento de una acción específica?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Existe una conexión entre el tipo de contenido consumido y el producto que el usuario finalmente adquiere?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿Hay productos relacionados? </font><font style="vertical-align: inherit;">Por ejemplo, si alguien compra el producto A, ¿qué categoría de producto está asociada con él?</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datos de terceros</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por último, pero no menos importante, los datos sin procesar le permiten obtener mucha más información si conecta otras fuentes de datos. </font><font style="vertical-align: inherit;">Los siguientes son algunos ejemplos ilustrativos: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datos de comercio electrónico</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La herramienta es más útil si guarda el ID de cliente en Google Analytics, que realizó cualquier acción para agregar al carrito o realizar un pedido. Esto le permitirá calcular el valor exacto de la tasa de conversión, incluso si las herramientas de Google Analytics no funcionaron (debido a los bloqueadores de anuncios utilizados por los clientes, la falta de una redirección desde la página de pago, el largo tiempo de espera para que la página se cargue y otras razones). Además, en función de sus propios datos, puede excluir acciones objetivo canceladas y devoluciones para volver a calcular el beneficio real. También le permite calcular indicadores más complejos y cerrados, por ejemplo, margen en lugar de ingresos. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datos de CRM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ¿Qué podría ser peor que el hecho de que una gran cantidad de leads contenga una gran cantidad de leads irrelevantes? Este es un problema común para los servicios en línea B2B. Al exportar datos CRM con identificadores únicos (identificador de cliente cifrado con el correo electrónico SHA-256, identificador generado, etc.), puede asociarlos fácilmente con identificadores de cliente en Google Analytics. Esto le permitirá calcular no solo el porcentaje de clientes potenciales generados, sino también la tasa de conversión. El análisis multicanal requerirá consultas más complejas, pero puede controlar completamente el proceso de cálculo. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eventos fuera de línea</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El negocio en línea se ve afectado por muchos factores externos: vacaciones, condiciones climáticas, huelgas, un virus mortal que envió a la mitad de la población mundial al autoaislamiento. Google Analytics no brinda la capacidad de introducir nuevos parámetros para estudiar durante un cierto período de tiempo. En cuanto a las anotaciones, no participan en los cálculos y se utilizan únicamente como un elemento de la interfaz de usuario. Sin embargo, sería útil saber cómo las vacaciones afectan el número de ventas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5a/pr/2x/5apr2xzrir9metfmac7wfwe_kja.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para realizar dicho análisis, es necesario recopilar información y proporcionarla en un formato legible. Al hacer esto, tendrá datos relevantes y relevantes. </font></font><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anuncios, robots de búsqueda, registros</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : todos estos datos deben almacenarse en un único repositorio.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al aprender a compararlos con datos analíticos, puede hacer realidad sus sueños más salvajes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿El contenido más largo atrae a los usuarios? </font><font style="vertical-align: inherit;">Al elegir el robot de búsqueda adecuado (por ejemplo, Screaming Frog), puede establecer la relación entre la longitud del contenido del texto y el número de visitas a la página.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿El comportamiento de los motores de búsqueda afecta la optimización SEO? </font><font style="vertical-align: inherit;">Con los datos de registro de BigQuery, puede determinar cómo la frecuencia de las visitas al robot de búsqueda afecta los resultados de búsqueda.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Cuál es la rentabilidad real de su negocio? </font><font style="vertical-align: inherit;">Después de realizar la configuración en el algoritmo de cálculo de atribución, puede medir el retorno de la inversión en campañas publicitarias para todas las plataformas utilizadas.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas de extracción de datos sin procesar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La información presentada anteriormente favorece los datos sin procesar. </font><font style="vertical-align: inherit;">¿Pero cómo conseguirlos? </font><font style="vertical-align: inherit;">Considere algunos de los métodos más comunes.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Analytics 360</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si tiene la suerte de obtener acceso a este servicio o si tiene suficiente presupuesto para pagar el costo de usarlo, tiene la mejor herramienta para extraer datos sin procesar de Google BigQuery. </font><font style="vertical-align: inherit;">Le permite exportar cualquier información, incluidos datos avanzados de comercio electrónico. </font><font style="vertical-align: inherit;">Cada línea corresponde a una sesión específica, y puede usar una gran cantidad de parámetros y métricas.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplicación Google Analytics + Web y Firebase</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recientemente, la analítica web ha podido exportar datos a Google BigQuery sin tener que comprar Google Analytics 360. Firebase, que es el núcleo de la aplicación Google Analytics + Web, admite la funcionalidad de exportación a Google BigQuery. Se le facturará con Blaze, que utiliza un enfoque de pago por uso. Si tiene un gran portal de Internet, deberá realizar un seguimiento de su presupuesto. Para sitios pequeños, los costos van desde nada hasta unos pocos dólares al mes. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada línea corresponde a un evento que contiene una pantalla o página vista. Tendrá que acostumbrarse a esta forma muy específica de presentar datos, que es diferente de la utilizada en Google Analytics. Sin embargo, este servicio puede ser la mejor solución para aquellos que desean usar datos sin procesar.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otras herramientas gratuitas: Yandex.Metrica y Matomo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No pude probar todas las herramientas, ya que muchas de ellas son pagas. </font><font style="vertical-align: inherit;">Cada uno de ellos contiene funcionalidades para exportar datos sin procesar. </font><font style="vertical-align: inherit;">Sin embargo, hay dos servicios en línea absolutamente gratuitos que ofrecen la misma funcionalidad y no cobran por su uso. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Metrica es una herramienta absolutamente gratuita que proporciona acceso a datos sin procesar a través de la API de sus registros. </font><font style="vertical-align: inherit;">Matomo es una herramienta de análisis de código abierto que debe instalarse directamente en su servidor donde se encuentran los archivos del sitio. </font><font style="vertical-align: inherit;">Exporta los datos sin procesar directamente a su base de datos.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canal de datos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra forma de cargar datos de Google Analytics directamente en su almacén de datos es a través de la canalización de datos. OWOX BI organiza un poderoso flujo de datos entre Google Analytics y BigQuery. Para implementar la funcionalidad, debe crear una tarea personalizada en Google Analytics. Crea copias de la carga útil de Google Analytics y la transfiere al almacén de datos final. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con suficiente experiencia, podrá crear de forma independiente su propio punto final para cargar datos utilizando la funcionalidad del servicio en la nube y en función del análisis del registro. Los siguientes son dos recursos útiles para ayudarlo a resolver esto:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simo Ahab - "Cómo construir un monitor GTM". </font><font style="vertical-align: inherit;">Después de leer este artículo, aprenderá cómo enviar datos a BigQuery utilizando las funciones de la nube. </font><font style="vertical-align: inherit;">La cantidad de datos transmitidos está limitada a 100,000 filas por segundo, que pueden integrarse en el servicio BigQuery. </font><font style="vertical-align: inherit;">Si el número de líneas excede el valor máximo indicado anteriormente, deberá agrupar los datos de varios registros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Centro de ayuda de Google Cloud: arquitectura de seguimiento de píxeles sin servidor </font><font style="vertical-align: inherit;">Esta fuente analiza el mecanismo para crear su propio píxel de seguimiento, seguido de la integración en BigQuery.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplos y casos especiales de uso de BigQuery</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora conoce los beneficios de usar datos sin procesar y cómo acceder a ellos. Ahora veamos algunos ejemplos que demuestran claramente los principios de trabajar con estos datos. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Establecer una relación entre temas y acciones objetivo en Google Analytics 360 El </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
análisis se realizó para un sitio de noticias con suscriptores en línea. El objetivo principal del análisis fue establecer una relación (correlación) entre los temas de las noticias que los usuarios leen y las acciones específicas realizadas. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El resultado y las conclusiones:</font></font><br>
 <br>
<code>corr_culture 0.397<br>
corr_opinion 0.305<br>
corr_lifestyle 0.0468<br>
corr_sport 0.009</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La categoría más probable de quienes se suscriben al sitio son los usuarios interesados ​​en las secciones "Cultura" y "Opiniones". </font><font style="vertical-align: inherit;">Por otro lado, si el usuario está interesado en los títulos "Estilo de vida" o "Deporte", la probabilidad de suscribirse es mínima.</font></font><br>
 <br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consulta para BigQuery</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span>
<span class="hljs-keyword">CORR</span>(culture,transac) <span class="hljs-keyword">AS</span> corr_culture,
<span class="hljs-keyword">CORR</span>(opinion,transac) <span class="hljs-keyword">AS</span> corr_opinion,
<span class="hljs-keyword">CORR</span>(lifestyle,transac) <span class="hljs-keyword">AS</span> corr_lifestyle,
<span class="hljs-keyword">CORR</span>(sport,transac) <span class="hljs-keyword">AS</span> corr_sport
<span class="hljs-keyword">FROM</span>(
<span class="hljs-keyword">SELECT</span>
  <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">IF</span>(hit.page.pagePath <span class="hljs-keyword">LIKE</span><span class="hljs-string">'/culture%'</span>,
      <span class="hljs-number">1</span>,
      <span class="hljs-number">0</span>)) <span class="hljs-keyword">AS</span> culture,
  <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">IF</span>(hit.page.pagePath <span class="hljs-keyword">LIKE</span><span class="hljs-string">'/opinion%'</span>,
      <span class="hljs-number">1</span>,
      <span class="hljs-number">0</span>)) <span class="hljs-keyword">AS</span> opinion,
  <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">IF</span>(hit.page.pagePath <span class="hljs-keyword">LIKE</span><span class="hljs-string">'/lifestyle%'</span>,
      <span class="hljs-number">1</span>,
      <span class="hljs-number">0</span>)) <span class="hljs-keyword">AS</span> lifestyle,-
  <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">IF</span>(hit.page.pagePath <span class="hljs-keyword">LIKE</span><span class="hljs-string">'/sport%'</span>,
      <span class="hljs-number">1</span>,
      <span class="hljs-number">0</span>)) <span class="hljs-keyword">AS</span> sport,      
  <span class="hljs-keyword">COUNT</span>(hit.transaction.transactionId) <span class="hljs-keyword">AS</span> transac
<span class="hljs-keyword">FROM</span>
  <span class="hljs-string">`mydatabase.view_id.ga_sessions_*`</span>,
  <span class="hljs-keyword">UNNEST</span>(hits) <span class="hljs-keyword">AS</span> hit
<span class="hljs-keyword">WHERE</span>
  _TABLE_SUFFIX <span class="hljs-keyword">BETWEEN</span> <span class="hljs-string">'20191201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200301'</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span><font></font>
  fullVisitorId<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  transac <span class="hljs-keyword">DESC</span>
)</code></pre><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Análisis de cohorte con Firebase</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se tomó para el análisis una aplicación con contenido actualizado regularmente y una alta tasa de estacionalidad. </font><font style="vertical-align: inherit;">El análisis se lleva a cabo para encontrar respuestas a las siguientes preguntas: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Cómo se comportan los usuarios que instalaron esta aplicación por primera vez? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿Cuál es el mejor momento para atraer clientes que usarán la aplicación de manera regular? </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El resultado y las conclusiones: a </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/og/qp/j9/ogqpj95hvueiuit6zbysm13rqxc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
juzgar por los datos recibidos, la aplicación es utilizada con mayor frecuencia por los clientes que la descargaron por primera vez en septiembre y diciembre.</font></font><br>
 <br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consulta para BigQuery</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-comment"># change my-app.analytics_123456789 to your ID</span>
<span class="hljs-keyword">WITH</span> cohorte_september
<span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">WITH</span>
user_september <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> user_pseudo_id <span class="hljs-keyword">AS</span> <span class="hljs-keyword">user</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20190901'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20190930'</span>
<span class="hljs-keyword">AND</span>
event_name=<span class="hljs-string">"first_open"</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span> sessions, <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span><font></font>
(<font></font>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id) <span class="hljs-keyword">AS</span> sessions,<span class="hljs-string">"201909"</span> <span class="hljs-keyword">AS</span> <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20190901'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20190930'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201910"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191001'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191031'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201911"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191130'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201912"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191231'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202001"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200131'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202002"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200229'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202003"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200301'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200331'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_september)<font></font>
)<font></font>
)<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">month</span> <span class="hljs-keyword">ASC</span><font></font>
),<font></font>
<font></font>
<span class="hljs-comment">#october</span><font></font>
<font></font>
cohorte_october <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">WITH</span>
user_october <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> user_pseudo_id <span class="hljs-keyword">AS</span> <span class="hljs-keyword">user</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191001'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191031'</span>
<span class="hljs-keyword">AND</span>
event_name=<span class="hljs-string">"first_open"</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span> sessions, <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span><font></font>
(<font></font>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id) <span class="hljs-keyword">AS</span> sessions,<span class="hljs-string">"201909"</span> <span class="hljs-keyword">AS</span> <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20190901'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20190930'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201910"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191001'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191031'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201911"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191130'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201912"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191231'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202001"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200131'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202002"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200229'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202003"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200301'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200331'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_october)<font></font>
)<font></font>
)<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">month</span> <span class="hljs-keyword">ASC</span><font></font>
),<font></font>
<font></font>
<span class="hljs-comment">#november</span><font></font>
<font></font>
cohorte_november <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">WITH</span>
user_november <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> user_pseudo_id <span class="hljs-keyword">AS</span> <span class="hljs-keyword">user</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191130'</span>
<span class="hljs-keyword">AND</span>
event_name=<span class="hljs-string">"first_open"</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span> sessions, <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span><font></font>
(<font></font>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id) <span class="hljs-keyword">AS</span> sessions,<span class="hljs-string">"201909"</span> <span class="hljs-keyword">AS</span> <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20190901'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20190930'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201910"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191001'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191031'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201911"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191130'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201912"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191231'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202001"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200131'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202002"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200229'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202003"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200301'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200331'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_november )<font></font>
)<font></font>
)<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">month</span> <span class="hljs-keyword">ASC</span><font></font>
),<font></font>
<font></font>
<span class="hljs-comment">#decembre</span><font></font>
<font></font>
<font></font>
cohorte_decembre <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">WITH</span>
user_decembre <span class="hljs-keyword">AS</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> user_pseudo_id <span class="hljs-keyword">AS</span> <span class="hljs-keyword">user</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191231'</span>
<span class="hljs-keyword">AND</span>
event_name=<span class="hljs-string">"first_open"</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span> sessions, <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span><font></font>
(<font></font>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id) <span class="hljs-keyword">AS</span> sessions,<span class="hljs-string">"201909"</span> <span class="hljs-keyword">AS</span> <span class="hljs-keyword">month</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20190901'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20190930'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
(<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201910"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191001'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191031'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre  )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201911"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191130'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre  )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"201912"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20191201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20191231'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre  )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202001"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200101'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200131'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre  )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202002"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200201'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200229'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre  )<font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> user_pseudo_id),<span class="hljs-string">"202003"</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-string">`my-app.analytics_123456789.events_*`</span>
<span class="hljs-keyword">WHERE</span>
_table_suffix <span class="hljs-keyword">between</span> <span class="hljs-string">'20200301'</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">'20200331'</span>
<span class="hljs-keyword">AND</span> event_name=<span class="hljs-string">"session_start"</span>
<span class="hljs-keyword">AND</span> user_pseudo_id <span class="hljs-keyword">IN</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">FROM</span> user_decembre  )<font></font>
)<font></font>
)<font></font>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">month</span> <span class="hljs-keyword">ASC</span><font></font>
)<font></font>
<font></font>
<span class="hljs-keyword">SELECT</span> cohorte_september.sessions <span class="hljs-keyword">AS</span> september_cohort,  <font></font>
 cohorte_october.sessions <span class="hljs-keyword">AS</span> october_cohort,  <font></font>
 cohorte_november.sessions <span class="hljs-keyword">AS</span> november_cohort,  <font></font>
 cohorte_decembre.sessions <span class="hljs-keyword">AS</span> december_cohort,  
 <span class="hljs-keyword">month</span><font></font>
<font></font>
<span class="hljs-keyword">FROM</span> cohorte_september
<span class="hljs-keyword">JOIN</span>  cohorte_october <span class="hljs-keyword">USING</span> (<span class="hljs-keyword">month</span>)
<span class="hljs-keyword">JOIN</span>  cohorte_november <span class="hljs-keyword">USING</span> (<span class="hljs-keyword">month</span>)
<span class="hljs-keyword">JOIN</span>  cohorte_decembre <span class="hljs-keyword">USING</span> (<span class="hljs-keyword">month</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">month</span> <span class="hljs-keyword">ASC</span></code></pre><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recomendaciones</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo más probable es que se produzcan cambios serios en el futuro cercano, y Google App + Web se convertirá en algo así como un estándar de la industria. Este enfoque proporciona una mayor integración entre los servicios de Google, como Marketing Platform y Google Cloud Platform, y especialmente BigQuery. Si ha perdido la capacidad de crear consultas SQL (un lenguaje para trabajar con DBMS), le recomiendo que actualice su información en su memoria y la practique. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El análisis avanzado de datos digitales se está convirtiendo en una herramienta cada vez más poderosa debido al fácil acceso a los datos sin procesar, a los procesos informáticos rápidos y eficientes, y a la buena visualización de la información. En un futuro cercano, se implementará una integración aún más estrecha con otros tipos de datos comerciales.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante muchos años, los expertos han argumentado que la analítica digital y empresarial debe trabajar en conjunto. </font><font style="vertical-align: inherit;">Poco a poco, pero con confianza, estamos avanzando hacia la traducción de esta idea en realidad.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es503688/index.html">Joel Spolsky: ¿Qué significa ser un desarrollador de software? (Prefacio al codificador para desarrollador)</a></li>
<li><a href="../es503690/index.html">Mejores prácticas de Kubernetes. Actualización del clúster de tiempo de inactividad cero de Kubernetes</a></li>
<li><a href="../es503696/index.html">Gears of war: cuando las computadoras analógicas mecánicas gobernaban el mar</a></li>
<li><a href="../es503698/index.html">Contabilidad remota: como beneficio comercial</a></li>
<li><a href="../es503700/index.html">Crear formularios de reacción en 2020</a></li>
<li><a href="../es503704/index.html">En lugar de 100 lanzamientos de aplicaciones, una prueba automática o cómo salvar a un ingeniero de control de calidad 20 años de vida</a></li>
<li><a href="../es503706/index.html">¿Por qué se necesitan estas reglas climáticas molestas para lanzar y aterrizar cohetes?</a></li>
<li><a href="../es503710/index.html">PyDoma [PyData Moscow Meetup # 12]: 26 de mayo de 2020</a></li>
<li><a href="../es503712/index.html">Estado y rendimiento de las soluciones de almacenamiento persistente de Kubernetes</a></li>
<li><a href="../es503716/index.html">¿Necesitas nubes en el espacio?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>