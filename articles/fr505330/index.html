<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôªÔ∏è üññüèΩ ‚úùÔ∏è Comment ne pas cr√©er une crypto-monnaie √† partir de z√©ro en 3 ans üîä üïµüèª ‚óªÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je d√©crirai comment j'ai √©crit la crypto-monnaie seule √† partir de z√©ro, quelles technologies int√©ressantes j'ai appris de l√†, avec ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment ne pas cr√©er une crypto-monnaie √† partir de z√©ro en 3 ans</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505330/"><img src="https://habrastorage.org/webt/p5/vm/p3/p5vmp3vpw1waurtqnk8ccsaqmgc.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je d√©crirai comment j'ai √©crit la crypto-monnaie seule √† partir de z√©ro, quelles technologies int√©ressantes j'ai appris de l√†, avec quelle exp√©rience j'ai quitt√© et ce qui s'est pass√© ensuite. </font><font style="vertical-align: inherit;">Ce n'est pas un tutoriel, mais simplement une description des √©v√©nements, mais si je le souhaite, je peux √©crire quelques articles sur quoi et pourquoi, m√™me si je ne suis pas s√ªr que quelqu'un en ait besoin. </font><font style="vertical-align: inherit;">√Ä la fin de l'article, il y aura des conclusions auxquelles je suis arriv√© apr√®s 3 ans de cr√©ation.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bonjour √† tous, je n‚Äôai rien √©crit ici depuis longtemps. </font><font style="vertical-align: inherit;">Mon dernier article sur le prolog bot a √©t√© plus ou moins r√©ussi et le public l'a aim√©. </font><font style="vertical-align: inherit;">Comme j'aime m'int√©grer dans toutes sortes d'entreprises √©tranges, je voulais faire quelque chose.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu d'histoire</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, √† l'√©t√© 2017, j'ai commenc√© √† lire sur la blockchain et les crypto-monnaies, et donc, comment apprendre de moi est mieux obtenu dans la pratique - j'ai d√©cid√© d'√©crire ma propre crypto-monnaie. </font><font style="vertical-align: inherit;">En fait, l'objectif n'√©tait pas seulement d'√©tudier, tout a commenc√© avec une seule pens√©e - la blockchain - le registre, et donc - la base de donn√©es. </font><font style="vertical-align: inherit;">Pourquoi, alors, seules les donn√©es financi√®res sont stock√©es dans la blockchain - pourquoi ne pas stocker des donn√©es arbitraires?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec ces pens√©es √† l'esprit, j'ai commenc√© √† √©tudier la blockchain Bitcoin, et je l'ai compl√®tement r√©p√©t√© sur nodejs avec mes calculs (et, bien s√ªr, les v√©los) en 4 mois. En octobre 2017, j'avais un brouillon de travail avec un code tr√®s tordu, ce qui √©tait difficile √† maintenir, litt√©ralement en novembre, j'ai √©crit un autre client SPV et ajout√© un support client l√©ger au r√©seau, en plus, j'ai refait le pool de minage (la seule partie que je n'ai pas faite √† partir de z√©ro, mais juste pris le fini et finalis√©), cr√©√© et con√ßu l'explorateur de blocs, qui communiquait avec le n≈ìud local via les m√©thodes rpc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
III ... il y avait des √©v√©nements qui √©taient hors de mon contr√¥le, reportant le d√©veloppement (et √©ventuellement le lancement) pour une p√©riode ind√©termin√©e (jusqu'√† la 19e ann√©e, comme il s'est av√©r√© plus tard). Permettez-moi de vous rappeler que quelque part √† l'automne et √† l'hiver du 17e crypto-monnaie a soudainement d√©cid√© d'aller au maximum de ses prix.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait que j'avais une crypto-monnaie fonctionnelle avec une certaine id√©e et infrastructure et j'ai rat√© le moment o√π tout le monde, absolument toutes les crypto-monnaies ont montr√© leurs maximums et n'importe quelle crypto-monnaie pouvait √™tre lanc√©e (m√™me certains jetons fournis avec des briques) - a ajout√© une petite d√©ception au mien des plans brillants, mais je ne d√©sesp√©rais pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä ce moment-l√†, je ne pouvais pas continuer le d√©veloppement, mais il y avait du temps pour √©tudier les 10 principales crypto-monnaies, j'ai donc cr√©√© un canal de t√©l√©gramme dans lequel j'ai analys√© les principales crypto-monnaies qui figuraient dans le top 10 √† ce moment-l√† du c√¥t√© technique. Soit dit en passant, si habrayuzery veut - je peux "porter" ces articles ici.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette analyse √† l'avenir, lorsque je suis revenu au d√©veloppement - ils m'ont permis d'am√©liorer le mod√®le et de r√©fl√©chir plus en d√©tail sur l'architecture de la future crypto-monnaie. </font><font style="vertical-align: inherit;">En 2019, je suis retourn√© au d√©veloppement et suis reparti de z√©ro. </font><font style="vertical-align: inherit;">J'ai r√©fl√©chi plus en d√©tail √† la future architecture, je me suis d√©barrass√© des r√©f√©rences crois√©es dans le code, j'ai supprim√© les modules redondants, transf√©r√© certains des modules dans des packages npm s√©par√©s et collect√© la crypto-monnaie r√©cemment.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©tails</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je dois dire tout de suite que ce n'est pas un projet, mais juste un ensemble de code inutile, donc j'esp√®re que je ne serai pas banni pour les liens vers le github et pour indiquer les noms. </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crypto-monnaie</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s la premi√®re exp√©rience relativement r√©ussie, je suis devenu plus audacieux et j'ai d√©cid√© que le prochain projet devrait √™tre plus beau en termes de code que le premier prototype. </font><font style="vertical-align: inherit;">De plus, j'ai d√©cid√© de rendre le syst√®me modulaire, sous la forme d'un framework, afin de pouvoir connecter et d√©connecter des modules si n√©cessaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, √©crire une crypto-monnaie en termes techniques n'est pas une t√¢che si difficile, en bref:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">construire une base de donn√©es pour les blocs et l'indexation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">organiser un protocole d'√©change de messages entre n≈ìuds</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finir le format de s√©rialisation des donn√©es et l'algorithme de signature de transaction</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finir le consensus et mettre en place des r√®gles d'ajout et de validation</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">serveur rpc en option</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puis configurez le client de la console et essayez de l'ex√©cuter en g√©n√©rant le bloc genesis et en configurant des validateurs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apr√®s une tonne d'erreurs et d'inexactitudes corrig√©es - vous avez une crypto-monnaie fonctionnelle, f√©licitations</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s cela, il y a l'√©tape d'ajouter des fonctions qui ne sont pas √† la base. </font><font style="vertical-align: inherit;">Par exemple, j'ai ce datacript, la base du projet.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javascript</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet que j'ai √©crit pendant 4 mois s'appelait orwell et est une fourchette de bitcoin dans une plus grande mesure, mais il suppose √©galement que chaque transaction, en plus des informations financi√®res, contient des donn√©es suppl√©mentaires au format HEX, qui (si la transaction est valide et tombe dans le bloc) est traduite en un site sp√©cialis√© Une machine virtuelle qui d√©chiffre ces donn√©es et les traduit en une base de donn√©es r√©guli√®re. </font><font style="vertical-align: inherit;">J'ai nomm√© cette VM orwelldb, et le format est un script de donn√©es, un exemple de d√©cryptage: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hex:</font></font><br>
<br>
<code>ef01fd4f01190b6578616d706c6564617461fd3f0154fd3b011f000f0fa1067e45f40003f1096f776e65725f6b65798230343233633635653064373364626161386537393435633965663135626338366533643864396638636364323636626366323362623032646336333432386636623239343766336164643731636536333962653739646561333933313237613061336661623136613339306630326537363966633135373561333535333130323461f30a70726976696c6567657301f1008230346231363165656566623739363163366637306137643338666434373764616633333437643231346561663365313639643964316434336232346437323338383665343063643962633563633232393638333635656531663962653635333932303539383630643735656432356136303836653830666462653138336565613364f20b7772697465536372697074fdb815</code> <br>
<br>
<pre><code class="json hljs">[<font></font>
{<font></font>
   <span class="hljs-attr">"dataset"</span>: <span class="hljs-string">"exampledata"</span>,
   <span class="hljs-attr">"operator"</span>: <span class="hljs-string">"create"</span>,
   <span class="hljs-attr">"content"</span>: {
    <span class="hljs-attr">"owner_key"</span>: <span class="hljs-string">"0423c65e0d73dbaa8e7945c9ef15bc86e3d8d9f8ccd266bcf23bb02dc63428f6b2947f3add71ce639be79dea393127a0a3fab16a390f02e769fc1575a35531024a"</span>,
    <span class="hljs-attr">"privileges"</span>: [
<span class="hljs-string">"04b161eeefb7961c6f70a7d38fd477daf3347d214eaf3e169d9d1d43b24d723886e40cd9bc5cc22968365ee1f9be65392059860d75ed25a6086e80fdbe183eea3d"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"writeScript"</span>: <span class="hljs-number">5560</span><font></font>
   },<font></font>
   <span class="hljs-attr">"canRead"</span>: <span class="hljs-literal">true</span>,
   <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span><font></font>
  }<font></font>
]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais vous parler un peu du contenu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le datascript contient un tableau d'appels vers une base de donn√©es sp√©cifique et ses jeux de donn√©es, dans ce cas, la transaction d√©crit la cr√©ation d'un nouveau jeu de donn√©es (c'est-√†-dire une table, si nous parlons de bases de donn√©es relationnelles), cela d√©coule du contenu du champ ¬´op√©rateur¬ª. En plus de cr√©er, il peut √©galement y avoir ¬´√©criture¬ª et ¬´param√®tres¬ª - l'ajout (ou la modification) de donn√©es et la mise √† jour des param√®tres de l'ensemble de donn√©es, respectivement. Le ¬´contenu¬ª n'est que les donn√©es qui sont √©crites dans l'ensemble de donn√©es. Dans ce cas, nous cr√©ons une table, donc le contenu est identique √† ce qui est √©crit avec operator = settings - table settings. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour d√©crire exactement ce qui y est √©crit, il faut se tourner vers le concept d'un script de donn√©es. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais vous montrer le sch√©ma de 2017 cr√©√© √† ces fins:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nj/jd/_7/njjd_72nro0czhi3e_4bbhkbrv4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le script de donn√©es, par analogie avec Bitcoin et ses scripts de verrouillage et de d√©verrouillage, contient des scripts de lecture et d'√©criture, le premier d√©termine qui peut lire le message et le second - qui peut √©crire dans un ensemble de donn√©es sp√©cifique. </font><font style="vertical-align: inherit;">Les scripts sont des langages orient√©s pile. </font><font style="vertical-align: inherit;">Readscript est √©crit dans le message lui-m√™me et indique qui peut lire le message. </font><font style="vertical-align: inherit;">Ceci est impl√©ment√© en utilisant le cryptage. </font><font style="vertical-align: inherit;">Lors de la sp√©cification du cryptage, seul celui qui poss√®de la cl√© n√©cessaire dans le magasin de cl√©s peut lire, sinon, quiconque le souhaite peut le lire. </font><font style="vertical-align: inherit;">Les messages avec l'instruction create / settings ne doivent jamais √™tre chiffr√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de readScript ouvert (n'importe qui peut le lire):</font></font><br>
<br>
<pre><code class="plaintext hljs">DATA_HEXJSON + jsonhexbytes <font></font>
 DATA_HEXJSON  = 0x54</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crypt√©:</font></font><br>
<br>
<pre><code class="plaintext hljs">DATA_HEXJSONENCRYPTED + var_str(encrypted data) + PUSHDATA_DBREADPRIVATEKEY + uint8(encryption) + OP_DECRYPT + OP_HASH256 + DATA_HASH + char[32](hash) + OP_EQUAL</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sous forme brute: </font></font><br>
<br>
<pre><code class="plaintext hljs">0x53 + var_str + 0x56 + (0x1 or 0x2) + 0x57 + 0x59 + 0x58 + char[32] + 0x87</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Test de d√©cryptage des donn√©es avec v√©rification du hachage des donn√©es d√©crypt√©es. </font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si quelqu'un est int√©ress√©, plus en d√©tail, j'ai tout d√©crit dans la documentation du protocole: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github: docscript</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le jsonhex sp√©cifi√© dans le code est mon impl√©mentation de la traduction de json en format binaire. </font><font style="vertical-align: inherit;">Il semblerait que vous puissiez quitter le json habituel, mais je voulais l'uniformit√©, j'ai donc d√©velopp√© un protocole s√©par√©. </font><font style="vertical-align: inherit;">Si vous voulez en savoir plus sur lui, voici la documentation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github: bitowl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Writescript est enregistr√© dans les param√®tres de l'ensemble de donn√©es, dans l'exemple, il s'agit de 0x5560. </font><font style="vertical-align: inherit;">Dans ce cas, il dit:</font></font><br>
<br>
<pre><code class="plaintext hljs">PUSHDATA_DBWRITEPUBLICKEY  OP_CHECKDBPRIVILEGES</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceux. </font><font style="vertical-align: inherit;">envoyer la cl√© publique de l'exp√©diteur du message √† la pile - et v√©rifier la liste des privil√®ges pour cet ensemble de donn√©es. </font><font style="vertical-align: inherit;">Si cette cl√© figure dans la liste des privil√®ges (soit l'exp√©diteur du message de cr√©ation, soit la cl√© du propri√©taire), il peut alors √©crire. </font><font style="vertical-align: inherit;">De plus, si l'√©criture est vide, cela signifie TOUS, c'est-√†-dire </font><font style="vertical-align: inherit;">n'importe qui peut √©crire dans cet ensemble de donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les param√®tres de l'op√©rateur =, tout a la m√™me apparence, seuls les param√®tres √† l'int√©rieur du contenu changent. </font><font style="vertical-align: inherit;">Pour l'√©criture, le contenu contient les donn√©es r√©elles.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu sur la blockchain</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais qu'en est-il de la base de donn√©es, demandez-vous? Dans mon cas, j'ai fait un hack - si la transaction contient un contenu de script de donn√©es - la premi√®re sortie de cette transaction est toujours nulle, et ce script de donn√©es lui est envoy√©, c'est-√†-dire chaque adresse sur le r√©seau est une base de donn√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce mod√®le vous permet de stocker des donn√©es √† l'int√©rieur de la blockchain elle-m√™me, ce qui donne une certaine flexibilit√©, mais ajoute en m√™me temps des probl√®mes de stockage, car la blockchain bitcoin a d√©j√† atteint pr√®s de 500 gigaoctets, et ce uniquement sur les donn√©es financi√®res. Si vous en ajoutez ici aussi des arbitraires - cela se r√©v√©lera redondant. Par cons√©quent, le stockage √©tait limit√© √† toutes sortes de cl√©s et de connexions pour l'autorisation. Et d'ailleurs, toutes les r√®gles sont valid√©es au niveau de la machine virtuelle lors de la cr√©ation, mais vous devez la synchroniser avec la blockchain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, j'ai cr√©√© quelques jeux de donn√©es syst√®me dans la base de donn√©es syst√®me: domaine, masternode, jeton, dapp, vous pouvez ainsi cr√©er des domaines pour chaque adresse / base de donn√©es et fonctionner non pas avec un ensemble de caract√®res obscurs, mais avec un surnom pratique (par exemple), en plus, des domaines, De par leur conception, ils peuvent √™tre utilis√©s dans dapps (dont je parlerai plus tard). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ce qui concerne le jeton et le masternode de l'ensemble de donn√©es, le premier stocke les jetons utilisateur que chaque participant peut cr√©er, et le masternode stocke une liste de cl√©s publiques des participants qui sont des validateurs de r√©seau. </font><font style="vertical-align: inherit;">Une petite digression s'impose ici.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consensus </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base de la blockchain est le consensus, c'est-√†-dire un accord entre les n≈ìuds, un certain ensemble de r√®gles qui op√®rent sur le r√©seau et tous se conforment pour que le r√©seau soit op√©rationnel. Par exemple, le consensus Bitcoin est une preuve de travail, ou minage, qui, j'en suis s√ªr, a √©t√© √©crit √† plusieurs reprises ici. L'essence du consensus est de v√©rifier les nouveaux blocs publi√©s par les participants au r√©seau. Dans Bitcoin, les participants au r√©seau publient au hasard des blocs - celui qui trouve le premier recevra une r√©compense. Il a d'abord fait la m√™me chose sur son r√©seau, mais a ensuite d√©cid√© que ce n'√©tait pas rationnel, car un mineur de bitcoin serait suffisant pour perturber mon r√©seau et appliquer une attaque √† 51%. Donc, apr√®s un certain temps, j'ai impl√©ment√© le module </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consensus consensusjs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui d√©crivait plusieurs consensus diff√©rents: centralis√©, PoW, PoS (PoW + PoS), dpow statique, dos statique, dpos dynamique. Je m'arr√™tai enfin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le d√©l√©gu√© dynamique pos (ddpos) suppose qu'au tout d√©but s'il y a un certain nombre de d√©l√©gu√©s (validateurs) dont la liste est tri√©e par note et nombre de pi√®ces en cours d'utilisation, un tour est cr√©√© au cours duquel chaque validateur de la liste publie un bloc dans un ordre strict. √Ä la fin de la ronde, une nouvelle est calcul√©e et chaque membre du r√©seau a la possibilit√© de calculer ind√©pendamment la ronde actuelle et la ronde suivante en fonction des donn√©es ouvertes du r√©seau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, cela n√©cessite la table des masternodes, dans laquelle nous stockons tous ceux qui ont exprim√© le d√©sir d'√™tre un validateur, et leur note actuelle. </font><font style="vertical-align: inherit;">Au d√©but de chaque tour, nous trions ce tableau et cr√©ons un tour avec les N validateurs r√©sultants. </font><font style="vertical-align: inherit;">Si le nombre de validateurs est inf√©rieur √† N, nous cr√©ons un tour avec des validateurs r√©seau standard d√©crits dans le fichier de configuration (leurs cl√©s publiques).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la d√©mocratie</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept de vote au sein du r√©seau a √©t√© invent√© et mis en ≈ìuvre dans l'ancienne version de la crypto-monnaie, il vous permet de recevoir des donn√©es moyennes du r√©seau de tous les n≈ìuds vot√©s. </font><font style="vertical-align: inherit;">Dans la nouvelle version, j'ai impl√©ment√© un module s√©par√©, mais je n'ai pas r√©ussi √† l'int√©grer. </font><font style="vertical-align: inherit;">Il a √©t√© suppos√© qu'avec l'aide de la d√©mocratie, il serait possible de modifier les param√®tres du r√©seau par un vote √©quitable, ainsi que de r√©duire la taille de la blockchain stock√©e en d√©calant la gen√®se du bloc (le bloc de la gen√®se s'agrandit en pla√ßant de vieux UTXO et des donn√©es dedans), mais cela permettrait de synchroniser pas un million de blocs , mais seulement les 1000 derniers, par exemple. </font><font style="vertical-align: inherit;">De plus, le vote pourrait g√©rer les fourchettes et les changements dans le r√©seau, ainsi que r√©soudre les probl√®mes organisationnels li√©s au r√©seau. </font><font style="vertical-align: inherit;">Certes, je n'ai pas r√©ussi √† impl√©menter ce module, comme je l'ai √©crit plus haut, mais l'id√©e est rest√©e.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapps</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept de dapps a √©t√© invent√© un peu plus tard apr√®s le pic du bitcoin au d√©but du 18e. Puis il y a eu l'id√©e de le faire en enregistrant l'application (cl√© publique) dans la blockchain, en enregistrant les travailleurs (cl√©s publiques) dans les tables syst√®me, en communiquant les travailleurs avec l'application, et les travailleurs travailleraient d√©j√† dans leur propre blockchain isol√©e. Il y a encore un spectateur dans ce concept, c'est-√†-dire partie de l'application avec une interface de communication avec le client, le navigateur et une application distincte peuvent agir comme un visualiseur. Plus tard, j'ai refus√© cette id√©e, car il m'a fallu beaucoup de temps pour la mettre en ≈ìuvre et la rendre un peu plus facile.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©galement enregistrer dApp dans la blockchain, l'associer √† un domaine et un participant, connaissant le domaine associ√© √† la cl√© publique de l'application, peut interagir avec cette application. </font><font style="vertical-align: inherit;">Lors de l'acc√®s au domaine, le serveur DNS transparent du client r√©seau lit la demande de l'utilisateur, la chiffre √† l'aide du chiffrement ecdh, de sorte que seul le participant avec la cl√© publique de l'application peut lire le contenu et l'envoyer au r√©seau. </font><font style="vertical-align: inherit;">L'application re√ßoit cette demande, l'envoie au point de terminaison sp√©cifi√© dans la configuration de cette application et renvoie le r√©sultat au r√©seau, √©galement chiffr√©.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Soit dit en passant, un fait amusant: puisque les n≈ìuds communiquent entre eux √† l'aide du cryptage ecdh et que dApp envoie et re√ßoit des donn√©es est crypt√© - lors des transferts entre les n≈ìuds, une partie du message est crypt√©e deux fois.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec cette m√©thode, un r√©seau crypt√© est obtenu, o√π chaque participant peut cr√©er des sites (et pas seulement), et il devient plus facile de contr√¥ler le trafic, car chaque participant contient sa propre cl√© publique, avec laquelle il "navigue sur le site", les adresses IP sont coup√©es des demandes et des r√©ponses rendre le r√©seau anonyme. </font><font style="vertical-align: inherit;">Ainsi, au d√©part il y a autorisation, et il est √©galement possible de voir le solde de l'utilisateur, le solde des jetons (associ√©s au site par exemple) et de terminer le processus de paiement sans quitter le site et le r√©seau. </font><font style="vertical-align: inherit;">Le seul inconv√©nient au moment des tests √©tait la performance - sous cette forme, les sites se chargent 10 fois plus lentement, car ils sont envoy√©s sur un r√©seau d√©centralis√©. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le m√©canisme d√©crit ci-dessus n'est qu'un concept, mais d√©j√† √† moiti√© mis en ≈ìuvre. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous le spoiler, j'ai pouss√© un lien vers le code qui impl√©mente ceci (github):</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code dapp brut</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/gettocat/friday/blob/master/node/modules/dapps/index.js</font></font></a><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par o√π commencer maintenant</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Et √† la fin, je veux √©crire quelques astuces que j'appliquerais si je devais tout recommencer avec les connaissances actuelles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'architecture modulaire est certainement uniquement pour que chaque module soit connect√© de mani√®re minimale √† tous les autres et pourrait √™tre remplac√© en cas de changement de consensus, par exemple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'isolement des modules est essentiellement une continuation du paragraphe pr√©c√©dent, qui concerne sp√©cifiquement les modules fonctionnels, pas les modules logiques. </font><font style="vertical-align: inherit;">Par exemple - dans mon code, le consensus est impl√©ment√© par un module consensusjs distinct, qui vous permet de le tester de haut en bas avant de l'impl√©menter dans un brouillon de travail, il en va de m√™me pour les soi-disant primitives (format de transaction, blocs et leur s√©rialisation / d√©s√©rialisation), vous pouvez ainsi tester la fonctionnalit√© d'un module sp√©cifique jusqu'√† l'incorporer dans le code principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tests - couvrir chaque module de tests est la base du bien-√™tre lors du lancement et d'un sommeil normal la nuit (test√© sur soi). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versions dans tout - puisque les crypto-monnaies sont un syst√®me ferm√© - vous devez penser √† l'avance √† ce qui va se passer ensuite - comment vous le supporterez. </font><font style="vertical-align: inherit;">Il est n√©cessaire de r√©fl√©chir √† un mod√®le de mise √† jour des fonctionnalit√©s de version en version pour tous les participants, afin de ne pas souffrir ceux qui ne l'ont pas encore mis √† jour, car dans le cas contraire une fourchette involontaire du r√©seau principal peut se produire. </font><font style="vertical-align: inherit;">Dans mon module consensusjs, la fonctionnalit√© de d√©termination des fourches et des versions valides des blocs a √©t√© impl√©ment√©e, mais je ne l'ai pas encore ajout√©e au code principal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sommaire</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai promis, √† la fin de l'article, je r√©sumerai certains des r√©sultats. Ce message peut √™tre consid√©r√© comme un moment de l'histoire avec une crypto-monnaie maison. D'une part, j'ai compris que ce n'est pas pour la production, un contr√¥le de code plus sensible, une couverture de test et d'autres choses de projets de production, ainsi que plus d'un programmeur, sont n√©cessaires. Et la finance, la finance, la finance. Nulle part sans lui. Je n'ai pas tout cela, et je ne l'avais pas, donc j'√©tais simplement int√©ress√© √† essayer, √©tudier la technologie et voir si cela en valait la peine ou non. √áa valait la peine. Je peux dire qu'apr√®s le travail effectu√©, j'ai commenc√© √† mieux comprendre de nombreux aspects de la programmation, de la technologie (j'ai vraiment avanc√© dans le travail avec des s√©quences d'octets, par exemple) et j'ai d√©finitivement √©tudi√© la blockchain et les technologies qui en d√©coulent.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, je sais avec certitude qu'Ethereum utilise un concept similaire avec des donn√©es de transaction et une machine virtuelle qui traite ces donn√©es, seul Ethereum utilise les donn√©es en tant que fonctions (si de mani√®re simple) et y acc√®de (en dehors de la cr√©ation de contrats). Je sais avec certitude que les scripts internes du bitcoin (le langage de pile) sont une chose assez forte, Satoshi a impliqu√© la cr√©ation de contrats intelligents bas√©s sur eux bien avant que le concept de ¬´contrat intelligent¬ª n'apparaisse, mais l'utilisation de ces scripts est limit√©e dans le bitcoin, car bogues pr√©c√©demment inconnus possibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons des technologies que j'aimais apr√®s mes 3 ans de recherche - c'est d√©finitivement un consensus, c'est-√†-dire accord entre les participants au r√©seau et r√®gles g√©n√©rales de validation des messages. Le filtre bloom est une chose plut√¥t int√©ressante, qui nous permet d'envoyer un filtre √† un autre participant par lequel il filtre les donn√©es envoy√©es sans r√©v√©ler de d√©tails. Ainsi, vous obtenez des donn√©es sans r√©v√©ler le type de donn√©es dont vous avez besoin. L'arbre Merkle en tant que structure de stockage de donn√©es, la base des n≈ìuds l√©gers dans le bitcoin et les arbres d'√©tat (il y en a trois) ethereum. PoW est une id√©e si simple, mais en m√™me temps si √©l√©gante, "tout le monde recherche un nombre inf√©rieur √† la complexit√© moyenne totale sur les N derniers blocs, calcul√©e par le rapport habituel".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quant aux inconv√©nients, ils sont √©galement nombreux. Le premier est le co√ªt de la main-d'≈ìuvre. Au fil du temps, j'ai √©puis√© cette id√©e, m√™me si elle m'a captur√© pendant environ 3 ans. Par exemple, maintenant la crypto-monnaie semble m√™me √™tre lanc√©e, et il semblerait qu'elle ne d√©tienne d√©j√† rien pour la lancer, mais apr√®s 5 000 blocs, un bug √©trange s'est form√© avec le fait que pour une raison quelconque, le comptage des blocs commence √† z√©ro (les index semblent planter d'une mani√®re ou d'une autre) , √† la recherche de laquelle il n'y a pas de temps, pas de d√©sir.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre qu'un jour je reviendrai sur cette id√©e ou similaire (ou bas√©e sur elle). </font><font style="vertical-align: inherit;">Si vous le souhaitez, vous pouvez √©tudier le code ou bifurquer le projet de vendredi sur mon github, tout le code est sous licence MIT. </font><font style="vertical-align: inherit;">Certainement ne cessera certainement pas de travailler dans ce sens, car les technologies d√©centralis√©es sont tr√®s int√©ressantes, quoique assez laborieuses. </font><font style="vertical-align: inherit;">J'attends dans le PM s'il y a des questions / suggestions ou clarifications. </font><font style="vertical-align: inherit;">Je vais vous aider √† comprendre si vous en avez soudainement besoin. </font><font style="vertical-align: inherit;">Ci-dessous, j'organiserai une enqu√™te - cela vaut-il la peine d'√©crire sur ce sujet ici, bien que la note elle-m√™me mettra tout en place.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr505302/index.html">10 conseils de conception de circuits</a></li>
<li><a href="../fr505306/index.html">Des jeux aux projets de commerce √©lectronique. Modification du programme biennal du Technopark</a></li>
<li><a href="../fr505310/index.html">Ce qui distingue les entreprises technologiquement avanc√©es et comment techlide peut aider votre √©quipe √† se d√©velopper</a></li>
<li><a href="../fr505314/index.html">Synchronisation de l'heure Linux: NTP, Chrony et systemd-timesyncd</a></li>
<li><a href="../fr505322/index.html">R√©partiteur du futur: comment va √©voluer son r√¥le dans l'entreprise de services?</a></li>
<li><a href="../fr505336/index.html">Comment: Manet ou Monet? Le r√©seau neuronal r√©pond</a></li>
<li><a href="../fr505340/index.html">Les employ√©s de Walmart tentent de prouver que l'IA antivol ne fonctionne pas</a></li>
<li><a href="../fr505342/index.html">L'injection de d√©pendance et le principe d'inversion de d√©pendance NE SONT PAS UN ET M√äME</a></li>
<li><a href="../fr505362/index.html">Vite - D√©veloppement de leads sans bundles sur Vue</a></li>
<li><a href="../fr505378/index.html">Tout ce marketing: comment travailler avec des points de contact dans une entreprise informatique?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>