<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤘 🍡 📤 Taktik Tim Merah: Teknik Pemantauan Proses Lanjut dalam Operasi Serangan 👩🏻‍🚒 💖 🤲🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo lagi. Pada malam yang PenTest. Praktik Pengujian Penetrasi ” menerjemahkan materi lain yang menarik untuk Anda.
 
 
 
 Dalam artikel ini, kita ak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Taktik Tim Merah: Teknik Pemantauan Proses Lanjut dalam Operasi Serangan</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/498544/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halo lagi. </font><font style="vertical-align: inherit;">Pada malam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang PenTest. </font><font style="vertical-align: inherit;">Praktik Pengujian Penetrasi ”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menerjemahkan materi lain yang menarik untuk Anda.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/av/qe/wo/avqewourhsmerqakgy0q9hqbk-e.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini, kita akan memahami kemampuan utilitas pemantauan proses yang terkenal dan menunjukkan bagaimana menggunakan teknologi yang mendasari alat ini untuk operasi ofensif Tim Merah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemahaman teknis yang baik tentang sistem yang kita andalkan adalah kriteria utama untuk membuat keputusan tentang apa langkah selanjutnya dari operasi itu. Pengumpulan dan analisis data tentang proses yang berjalan dalam sistem yang dikompromikan memberi kita banyak informasi dan membantu kita memahami bagaimana infrastruktur TI dari organisasi target bekerja. Selain itu, data proses yang diminta secara berkala membantu kami merespons perubahan lingkungan dan menerima sinyal pemicu ketika penyelidikan dimulai.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk dapat mengumpulkan data terperinci tentang proses pada titik akhir yang dikompromikan, kami menciptakan kotak peralatan yang menyatukan kekuatan utilitas proses canggih dan kerangka kerja C2 (seperti Cobalt Strike). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alat (dan kode sumbernya) dapat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditemukan di sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilitas Sistem Internal Windows</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulainya, kita akan mencari tahu utilitas mana yang dapat digunakan untuk mengumpulkan informasi tentang proses komputer pada Windows. </font><font style="vertical-align: inherit;">Kami kemudian belajar bagaimana utilitas ini mengumpulkan informasi sehingga nantinya dapat digunakan dalam toolkit Tim Merah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem operasi Windows dilengkapi dengan banyak utilitas siap pakai untuk mengelola sistem. Meskipun sebagian besar alat yang disediakan cocok untuk keperluan administrasi sistem dasar, beberapa di antaranya tidak memiliki fungsi yang diperlukan untuk pemecahan masalah dan pemantauan lanjutan. Sebagai contoh, task manager Windows memberi kita informasi dasar tentang semua proses yang berjalan dalam sistem, tetapi bagaimana jika kita membutuhkan informasi yang lebih rinci, seperti deskriptor objek, koneksi jaringan, atau modul yang dimuat sebagai bagian dari proses tertentu? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengumpulkan informasi seperti itu ada alat yang lebih maju. Misalnya, utilitas sistem dari paket </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sysinternals</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Sebagai anggota Tim Merah dengan pengalaman luas dalam administrasi jaringan dan sistem, saya selalu menjadi penggemar berat Sysinternals. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat memecahkan masalah sistem server yang berjalan lambat atau komputer klien yang terinfeksi, saya paling sering memulai pemecahan masalah menggunakan alat seperti Process Explorer atau Procmon. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari sudut pandang forensik digital, alat-alat ini juga tampaknya sangat berguna untuk melakukan analisis dasar dinamis sampel malware dan mencari artefak dalam sistem yang terinfeksi. Jadi mengapa alat ini sangat populer di kalangan administrator sistem serta profesional keamanan? Mari kita mencari tahu, menggali beberapa informasi proses yang bisa kita dapatkan menggunakan alat Process Explorer.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggunakan Process Explorer</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal pertama yang kita lihat ketika memulai </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Process Explorer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah daftar / pohon dari semua proses yang berjalan pada sistem. </font><font style="vertical-align: inherit;">Ini memberi kita informasi tentang nama-nama proses, pengidentifikasi mereka, konteks pengguna dan tingkat integritas proses dan informasi versi. </font><font style="vertical-align: inherit;">Informasi tambahan juga dapat tercermin dengan menyesuaikan kolom yang sesuai. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9d/9s/fk/9d9sfkhmwl222wp8vlzcuhcw85y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita menggunakan panel bawah, kita akan dapat melihat semua modul yang dimuat oleh proses tertentu, atau beralih ke melihat deskriptor untuk berkenalan dengan semua objek deskriptor bernama yang digunakan oleh proses:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/ss/ei/bassei2hnk4jg_kuyl2xd3maihg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menjelajahi modul dapat berguna saat mencari perpustakaan jahat yang dimuat dalam proses atau untuk Tim Merah, itu adalah produk keamanan aktif (misalnya, EDR) yang telah menerapkan modul koneksi API dalam mode pengguna. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/f0/sn/lyf0snflh_begeau_5pjbtwhtis.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Beralih ke deskriptor tampilan memungkinkan Anda untuk berkenalan dengan jenis dan nama semua objek bernama yang digunakan dalam proses. Ini berguna untuk mencari tahu file dan kunci registri mana yang terbuka, yang bernama pipa yang digunakan untuk komunikasi antarproses. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jika Anda mengklik dua kali pada nama proses, sebuah jendela dengan informasi yang lebih detail akan muncul. Mari kita lihat beberapa tab untuk mempelajari tentang properti tambahan objek: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mx/cr/k-/mxcrk-tik-hny6ailuno3pksvs4.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Tab </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gambar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menampilkan informasi tentang jalur biner, direktori kerja, dan opsi baris perintah. Selain itu, ini menampilkan informasi tentang konteks pengguna, proses induk, jenis gambar (x86 atau x64) dan banyak lagi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-i/_o/bu/-i_obubvbxw47snh32g2ysmp7yg.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Tab </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berisi informasi tentang menjalankan utas dalam proses. Ketika Anda memilih aliran dan kemudian mengkliknya, tombol tumpukan akan mencerminkan tumpukan panggilan untuk aliran khusus ini. Untuk melihat utas / panggilan diluncurkan dalam mode kernel, Process Explorer menggunakan driver kernel, yang diinstal ketika bekerja dalam mode tinggi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari sudut pandang DFIR, informasi utas berguna untuk mendeteksi suntikan ke dalam memori, misalnya, ketika ada ancaman virus bebas-file. </font><font style="vertical-align: inherit;">Dengan demikian, stream yang tidak didukung oleh file pada disk dapat menandakan perilaku yang mencurigakan. </font><font style="vertical-align: inherit;">Untuk informasi lebih lanjut tentang utas dan memori, saya sangat menyarankan untuk memperhatikan alat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Process Hacker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/_s/0s/3w_s0sra5w6xq4_jf56lbg7czu4.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Tab lain yang menarik di Process Explorer adalah tab TCP / IP. </font><font style="vertical-align: inherit;">Di atasnya Anda akan melihat semua koneksi jaringan yang terkait dengan proses ini. </font><font style="vertical-align: inherit;">Dari sudut pandang serangan, ini bisa berguna untuk memahami ketika koneksi dibuat dari sistem yang dikompromikan. </font><font style="vertical-align: inherit;">Sesi jarak jauh PowerShell atau sesi RDP yang masuk dapat menandakan bahwa penyelidikan telah dimulai.</font></font><br>
 <br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggunakan metode yang dibahas untuk serangan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sekarang kami telah mempelajari sedikit hal menarik tentang proses, dan tentang informasi yang dapat kami kumpulkan tentang mereka menggunakan Process Explorer, Anda mungkin bertanya-tanya bagaimana cara mengakses informasi ini dari kerangka kerja C2 favorit kami. Tentu saja, kita bisa menggunakan PowerShell, karena ini akan memberi kita kesempatan untuk menggunakan bahasa skrip yang kuat dan Windows API. Namun, hari ini PowerShell berada di bawah pengawasan terus-menerus dari layanan keamanan, jadi kami mencoba menghindari metode ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cobalt Strike,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kita dapat menggunakan perintah ps dalam konteks suar. Perintah ini menampilkan informasi dasar tentang proses berdasarkan semua proses yang berjalan di sistem. Dalam kombinasi dengan skrip </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">@r3dQu1nn ProcessColor</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, metode ini cenderung menjadi yang terbaik untuk mendapatkan data proses.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Output dari perintah </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ps</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berguna untuk menyortir proses yang berjalan dengan cepat, tetapi mereka tidak mengandung informasi terperinci yang akan membantu Anda lebih memahami sistem. </font><font style="vertical-align: inherit;">Untuk mengumpulkan informasi lebih rinci, kami membuat utilitas kami sendiri untuk memperoleh informasi tentang proses. </font><font style="vertical-align: inherit;">Dengan bantuan mereka, kami dapat mengumpulkan dan memperkaya informasi yang diperoleh dari sistem yang dikompromikan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ps Tools </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Tidak mudah untuk meniru fungsi dan informasi yang disediakan oleh alat seperti Process Explorer. Pertama kita perlu mencari tahu bagaimana alat ini bekerja di bawah tenda (dan dalam mode pengguna), maka kita perlu memahami bagaimana cara merefleksikan informasi ini dengan lebih baik di konsol, dan bukan di antarmuka grafis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menganalisis kode sumber, menjadi jelas bahwa banyak alat tingkat rendah untuk menyediakan informasi sistem sebagian besar didasarkan pada API </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NtQuerySystemInformation</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> asli </font><font style="vertical-align: inherit;">. Meskipun API dan struktur terkaitnya tidak sepenuhnya didokumentasikan, API ini memungkinkan Anda mengumpulkan banyak informasi tentang sistem Windows. Jadi gunakan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NtQuerySystemInformation</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebagai titik awal untuk mengumpulkan informasi tentang proses yang berjalan dalam sistem, kami akan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PEB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> masing </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">-</font></a><font style="vertical-align: inherit;"> masing proses untuk mengumpulkan informasi terperinci tentang masing-masing proses. </font><font style="vertical-align: inherit;">Menggunakan </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NtQueryInformationProcess</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> API </font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">,</font></a></i><font style="vertical-align: inherit;"> kita dapat membaca struktur </font></font><code>PROCESS_BASIC_INFORMATION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan deskriptor proses dan menemukannya </font></font><code>PebBaseAddress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kemudian kami menggunakan </font></font><code>NtReadVirtualMemory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API untuk membaca struktur </font></font><code>RTL_USER_PROCESS_PARAMETERS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan memungkinkan kami untuk mengetahui parameter </font></font><code>ImagePathName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code>CommandLine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosesnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan API ini sebagai dasar dari kode kami, kami telah menulis alat berikut untuk mendapatkan informasi tentang proses:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : menampilkan daftar terperinci dari semua proses yang berjalan pada sistem.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psk</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : menampilkan informasi kernel, termasuk driver yang dimuat.</font></font></li>
<li><i>Psc</i>:        TCP-.</li>
<li><i>Psm</i>:          (    , ).</li>
<li><i>Psh</i>:         (,  ,  ).</li>
<li><i>Psw</i>:        .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Semua alat ini ditulis dalam C sebagai DLL reflektif dan dapat secara refleks tertanam ke dalam proses spawned menggunakan kerangka C2 seperti Cobalt Strike (atau kerangka kerja lain yang mendukung injeksi DLL reflektif). </font><font style="vertical-align: inherit;">Untuk Cobalt Strike, kami telah menambahkan skrip agresor yang dapat digunakan untuk memuat alat menggunakan manajer skrip Cobalt Strike. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat setiap alat spesifik yang diluncurkan di Cobalt Strike untuk mendemonstrasikan fungsionalitas dan menunjukkan informasi apa yang dapat dikumpulkan dengan menggunakannya:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psx</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Alat ini menunjukkan daftar terperinci dari semua proses yang berjalan pada sistem. Output dapat dibandingkan dengan informasi di layar utama Process Explorer. Psx menampilkan nama proses, id, PID induknya, waktu pembuatan, dan informasi yang terkait dengan file biner dari proses (arsitektur, nama perusahaan, versi, dll.). Seperti yang Anda lihat, ini juga menampilkan beberapa informasi menarik dari kernel aktif sistem, misalnya, alamat dasar kernel, yang berguna saat mengoperasikan kernel (misalnya, untuk menghitung offset gadget ROP). Semua informasi ini dapat dikumpulkan dari konteks pengguna normal (tanpa peningkatan hak istimewa).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/jt/be/nijtbefsyhpct-kkpkxpwdp4pvc.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jika kami memiliki cukup izin untuk membuka deskriptor proses, Anda dapat membaca informasi tambahan, seperti konteks pengguna dan tingkat integritas tokennya. </font><font style="vertical-align: inherit;">Dengan menghitung PEB dan struktur terkait memungkinkan Anda untuk mendapatkan informasi tentang lintasan gambar dan parameter baris perintah: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-d/hu/bm/-dhubmeevabpdhf1_-f_wpq8q9c.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Seperti yang mungkin Anda perhatikan, kami membaca dan menampilkan informasi versi dari gambar proses biner, misalnya, nama dan deskripsi perusahaan. </font><font style="vertical-align: inherit;">Mengetahui nama perusahaan, Anda dapat dengan mudah mendaftar semua produk keamanan aktif dalam sistem. </font><font style="vertical-align: inherit;">Dengan menggunakan alat ini, kami membandingkan nama perusahaan dari semua proses aktif dengan daftar pemasok produk keamanan yang terkenal dan menampilkan hasilnya:</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xv/c4/nf/xvc4nflmu_fzxkgjq8wuq5zkd0m.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psk</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Alat ini mencerminkan informasi tentang kernel yang berjalan, termasuk semua modul driver yang dimuat. </font><font style="vertical-align: inherit;">Seperti alat Psx, ia juga menyediakan ringkasan semua modul kernel yang dimuat dari produk keamanan terkenal.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oe/mr/ii/oemrii004bpzkatpi1solktzfvq.png"><br>
 <br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psc</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Alat ini menggunakan metode yang sama untuk menampilkan informasi tentang proses aktif seperti </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , kecuali bahwa ia hanya menampilkan proses dengan koneksi jaringan aktif (IPv4, IPv6 TCP, RDP, ICA):</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/m9/gf/su/m9gfsulxhhfcacdvaofmpmxvdpy.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psm</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Anda dapat menggunakan alat ini untuk mendapatkan informasi terperinci tentang proses tertentu. </font><font style="vertical-align: inherit;">Ini akan menampilkan daftar semua modul (DLL) yang digunakan oleh proses dan koneksi jaringan:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yu/5x/wc/yu5xwczhban43kmlv5kjjg7o8v8.png"><br>
 <br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psh</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sama seperti </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tetapi bukannya modul yang dimuat, ini menunjukkan daftar deskriptor proses:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-q/ok/nt/-qokntyj-1pdgaetariouoyi15a.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psw</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Alat </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Psw</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> terakhir namun tidak kalah penting </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Alat ini akan menampilkan daftar proses dengan pegangan jendela aktif, yang terbuka di desktop pengguna, termasuk judul jendela. </font><font style="vertical-align: inherit;">Ini berguna untuk menentukan antarmuka aplikasi grafis mana yang dibuka pengguna tanpa harus mengambil tangkapan layar desktop:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tj/ah/zg/tjahzg3ck9ed8-9of7hvv0krrl4.png"><br>
 <br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan kasing</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Anda mungkin bertanya-tanya: "Dan bagaimana semua ini membantu kami dalam operasi ofensif?" </font><font style="vertical-align: inherit;">Setelah mendapatkan akses ke aset yang dikompromikan, kami biasanya menggunakan informasi ini untuk tujuan berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mendeteksi alat keamanan pada aset yang dikompromikan. </font><font style="vertical-align: inherit;">Tidak hanya oleh informasi proses, tetapi juga oleh modul yang dimuat.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mendeteksi mesin pengait kustom.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cari peluang untuk manuver (melalui sesi jaringan) dan peningkatan hak istimewa.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah kompromi pertama, Anda dapat secara berkala meminta informasi serupa tentang proses dan mulai membuat pemicu. </font><font style="vertical-align: inherit;">Misalnya, kami secara otomatis memasukkan informasi ini ke </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RedELK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kemudian Anda dapat membuat peringatan tentang perubahan mencurigakan dalam informasi proses, seperti:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luncurkan alat audit keamanan atau instal produk keamanan titik akhir yang baru.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koneksi jaringan masuk dari departemen keamanan melalui sesi RDP atau PowerShell jarak jauh.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuka pegangan oleh proses lain pada salah satu artefak berbahaya kami (misalnya, file yang digunakan untuk mempertahankan keberadaan).</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini, kami menunjukkan bagaimana alat seperti Sysinternals Process Explorer dapat digunakan untuk mendapatkan informasi terperinci tentang proses yang berjalan pada sistem, dan bagaimana informasi ini dapat membantu administrator dan profesional keamanan memecahkan masalah dan memeriksa sistem untuk masalah keamanan atau kinerja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Informasi yang sama juga relevan dan berguna untuk Tim Merah, yang memiliki akses ke sistem yang dikompromikan selama operasi. Ini membantu untuk lebih memahami sistem dan infrastruktur TI dari tujuan Anda, dan pertanyaan berkala atas sistem semacam itu memungkinkan Tim Merah untuk merespons kemungkinan perubahan di lingkungan (misalnya, pemicu penyelidikan).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami telah mereplikasi beberapa fungsi yang disediakan oleh alat-alat seperti Process Explorer, sehingga kami dapat menggunakan informasi yang sama dalam operasi ofensif. </font><font style="vertical-align: inherit;">Untuk melakukan ini, beberapa alat pemantauan proses telah dibuat yang dapat digunakan sebagai bagian dari kerangka kerja C2, misalnya Cobalt Strike. </font><font style="vertical-align: inherit;">Kami menunjukkan cara menggunakan alat ini dan informasi apa yang dapat Anda gunakan untuk mengumpulkannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alat-alat ini tersedia di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">halaman GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">dan siap digunakan sebagai bagian dari Cobalt Strike.</font></font><br>
<br>
<hr><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelajari lebih lanjut tentang kursus.</font></font><br>
</a><br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id498534/index.html">Pengakuan dokumen dan orang: penyatuan atas nama kebebasan atau langkah menuju kediktatoran digital?</a></li>
<li><a href="../id498536/index.html">Bagaimana cara menggunakan kembali kode dengan bundel symfony 5? Bagian 2. Kami mengeluarkan kode dalam bundel</a></li>
<li><a href="../id498538/index.html">Katakku yang cantik</a></li>
<li><a href="../id498540/index.html">Infografis menggunakan Excel dan PowerPoint. Bagian 2</a></li>
<li><a href="../id498542/index.html">Kelas praktis "Mencari malware di IoT"</a></li>
<li><a href="../id498548/index.html">Membuat Paket Anda Sendiri untuk Laravel Nova: OptimalImage</a></li>
<li><a href="../id498552/index.html">Kesalahan apa yang dilakukan manajer di situs jarak jauh</a></li>
<li><a href="../id498556/index.html">Hans Peter Lun dan kelahiran algoritma hash</a></li>
<li><a href="../id498560/index.html">Komponen web dalam proyek nyata</a></li>
<li><a href="../id498562/index.html">Berlawanan dengan karantina: cara kami mentransfer magang ke format jarak jauh</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>