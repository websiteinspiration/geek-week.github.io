<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥜 ⚠️ 🏼 開発者向けのCIサービスとしての負荷テスト 😐 ☝🏾 🙍🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="複数製品のソフトウェアベンダーがよく直面する問題の1つは、ほぼすべてのチームでエンジニア（開発者、テスター、インフラストラクチャ管理者）の能力の重複です。これは、負荷テストの分野の専門家である高価なエンジニアにも当てはまります。
 
 エンジニアは、直接的な責任を負い、独自の経験を使用して負荷テスト...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>開発者向けのCIサービスとしての負荷テスト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/504290/"><img src="https://habrastorage.org/webt/r5/fa/5g/r5fa5gszksri1ly608-wffhunqu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数製品のソフトウェアベンダーがよく直面する問題の1つは、ほぼすべてのチームでエンジニア（開発者、テスター、インフラストラクチャ管理者）の能力の重複です。これは、負荷テストの分野の専門家である高価なエンジニアにも当てはまります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンジニアは、直接的な責任を負い、独自の経験を使用して負荷テストプロセスを構築し、方法論、最適なメトリックを選択し、負荷プロファイルに従ってセルフテストを作成する代わりに、多くの場合、ゼロからテストインフラストラクチャを展開し、負荷ツールを構成して、それらを埋め込む必要があります。 CIシステムでは、レポートの監視と公開を構成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Positive Technologiesで使用しているテストにおける組織的な問題の解決策については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別の記事をご覧ください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ここでは、「サービスとしての負荷テスト」の概念を使用して、負荷テストを一般的なCIパイプラインに統合する可能性について説明します。</font><font style="vertical-align: inherit;">ロードソースのDockerイメージをCIパイプラインで使用する方法と方法について学習します。</font><font style="vertical-align: inherit;">アセンブリテンプレートを使用してロードソースをCIプロジェクトに接続する方法。</font><font style="vertical-align: inherit;">負荷テストを実行して結果を公開するためのデモパイプの外観。</font><font style="vertical-align: inherit;">この記事は、CIのソフトウェアテストエンジニアや自動化エンジニアが負荷システムのアーキテクチャについて検討したことがある場合に役立ちます。</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンセプトの本質</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービスとしての負荷テストの概念は、Apache JMeter、Yandex.Tankロードツール、およびカスタムフレームワークを任意の継続的統合システムに統合する機能を意味します。デモはGitLab CI向けですが、原則はすべてのCIシステムに共通して述べられています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サービスとしての負荷テストは、負荷テストを実施するための集中型サービスです。負荷テストは専用のエージェントプールで実行され、結果はGitLab Pages、Influx DB、Grafana、またはテストレポートシステム（TestRail、ReportPortalなど）で自動的に公開されます。自動化とスケーリングは、GitLab CIプロジェクトに通常のgitlab-ci.ymlテンプレートを追加してパラメーター化することにより、可能な限りシンプルに実現されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの利点は、CIインフラストラクチャ全体、ロードエージェント、ロードソースのDockerイメージ、テストパイプライン、およびレポートの公開が中央の自動化部門（DevOpsエンジニア）によってサポートされ、負荷テストエンジニアがテスト開発に集中できることです。インフラストラクチャの問題に対処することなく、結果を分析します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
説明を簡単にするために、対象のテストアプリケーションまたはサーバーが事前にデプロイおよび構成されていると想定しています（このために、Python、SaltStack、Ansibleなどの自動化スクリプトを使用できます）。次に、サービスとしてのストレステストの概念全体が</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、準備、テスト、レポートの発行の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 3つの段階に適合し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。図の詳細（すべての画像はクリック可能です）：</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/uc/no/nj/ucnonjamcikvuob-3njskwev-he.png"></a><br>
<br>
<h2>      </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストレステストを実施するとき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ISTQBの標準と方法論</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を順守するよう努め</font><font style="vertical-align: inherit;">、適切な用語と推奨される指標を使用します。負荷テストの基本的な概念と定義の短いリストを示します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷エージェント（負荷エージェント）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -アプリケーションが起動される仮想マシン- </font><b><font style="vertical-align: inherit;">負荷</font></b><font style="vertical-align: inherit;">のソース（Apache JMeter、Yandex.Tankまたは自己記述型ロードモジュール）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストの目的（ターゲット）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、負荷がかかるサーバーまたはサーバーにインストールされているアプリケーションです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストケース（テストケース）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -パラメーター化された一連のステップ：ユーザーアクションとこれらのアクションに対する予想される反応。指定されたパラメーターに応じて、ネットワーク要求と応答が固定されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロファイルまたは負荷計画（プロファイル）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISTQB法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">セクション</font></a><font style="vertical-align: inherit;"> 4.2.4、P 43）は、負荷プロファイルは、試験中に負荷パラメータを変更するための特定の試験のための重要な指標とオプションを決定します。図にプロファイルの例を示します。</font><b><font style="vertical-align: inherit;">テスト</font></b><font style="vertical-align: inherit;">は、事前に定義されたパラメーターのセットを持つスクリプトです。</font><b><font style="vertical-align: inherit;">テスト計画</font></b><font style="vertical-align: inherit;"> -テストスイートと負荷プロファイル。</font><b><font style="vertical-align: inherit;">Testrun（testrun）</font></b><font style="vertical-align: inherit;"> -完全に実行された負荷シナリオと受信したレポートを使用して1つのテストを実行する1つの反復。</font><b><font style="vertical-align: inherit;">ネットワーク要求（要求）</font></b><font style="vertical-align: inherit;"> -エージェントからターゲットに送信されるHTTP要求。</font><b><font style="vertical-align: inherit;">ネットワーク応答（応答）</font></b><font style="vertical-align: inherit;"> -ターゲットからエージェントに送信されるHTTP応答。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/qm/iq/d5/qmiqd5egscabj6hrmlnufxnyv4m.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTP応答ステータスは、アプリケーションサーバーからの標準応答コードです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランザクション（トランザクション）-「要求-応答」の完全なサイクル。</font><font style="vertical-align: inherit;">トランザクションは、リクエスト（リクエスト）の送信開始からレスポンス（レスポンス）の受信完了までカウントされます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランザクションステータス（トランザクションステータス）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -サイクルの「リクエスト-レスポンス」を正常に完了することができましたか。</font><font style="vertical-align: inherit;">このループでエラーが発生した場合、トランザクション全体が失敗したと見なされます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">応答時間（レイテンシ）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -要求（要求）の送信の終了から応答（応答）の受信の開始までの時間。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロードのメトリック（メトリック）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ロードテストのプロセス中に定義された、ロードされたサービスとロードエージェントの特性。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷パラメータを測定するための基本的なメトリック</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下の表</font><font style="vertical-align: inherit;">
に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISTQB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法論</font><font style="vertical-align: inherit;">（</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">p。36、52）</font></a><font style="vertical-align: inherit;">で最も一般的で推奨される</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">指標の</font></a><font style="vertical-align: inherit;">一部を</font><font style="vertical-align: inherit;">示します。</font><font style="vertical-align: inherit;">エージェントとターゲットの同様のメトリックが同じ行に表示されます。</font></font><br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エージェントメトリックの読み込み</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷をかけてテストされたターゲットシステムまたはアプリケーションのメトリック</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリ</font><font style="vertical-align: inherit;">の数&nbsp;&nbsp; </font><font style="vertical-align: inherit;">、</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスク</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ロードエージェントの「鉄」の特性</font></font></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリ、ディスク使用量</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テスト中に</font><font style="vertical-align: inherit;">プロセッサ、メモリ、ディスクをロードするダイナミクス</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用可能な最大値の</font><font style="vertical-align: inherit;">パーセンテージとして測定され</font><font style="vertical-align: inherit;">ます。</font></font></td>
</tr>
<tr>
<td><b>Network throughput</b> (on load agent) —   <br>
   , <br>
   . <br>
      (bps)</td>
<td><b>Network throughput</b>(on target) —     <br>
  .       (bps)</td>
</tr>
<tr>
<td><b>Virtual users</b>—   , <br>
    <br>
   </td>
<td><b>Virtual users status</b>, Passed/Failed/Total —    <br>
     <br>
  ,     .<br>
<br>
 ,      <br>
  ,    . <br>
   ,       <br>
      </td>
</tr>
<tr>
<td><b>Requests per second (minute)</b>—      ( ).<br>
<br>
   :     . <br>
       </td>
<td><b>Responses per second (minute)</b><br>
 —      ( ).<br>
<br>
   :   <br>
       <br>
 </td>
</tr>
<tr>
<td></td>
<td><b>HTTP responses status</b>—     <br>
  ,   . <br>
, 200 OK   , <br>
 404 —    </td>
</tr>
<tr>
<td></td>
<td><b>Latency</b> ( ) —    <br>
  (request)     (response). <br>
    (ms)</td>
</tr>
<tr>
<td></td>
<td><b>Transaction response time</b>—    , <br>
  « — ». <br>
      (request) <br>
    (response).<br>
<br>
      ( ) <br>
 :  , <br>
,  , , 90- . <br>
    —   <br>
  . <br>
    , <br>
    , <br>
     </td>
</tr>
<tr>
<td></td>
<td><b>Transactions per second (minute)</b> —   <br>
   (), <br>
       <br>
    . <br>
    </td>
</tr>
<tr>
<td></td>
<td><b>Transactions status</b> , Passed / Failed / Total —  <br>
,     .<br>
<br>
    <br>
    <br>
     </td>
</tr>
</tbody>
</table></div><br>
<h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
負荷テストの基本的なスキームは非常にシンプルで、すでに述べた3つの主要な段階で構成されています。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">準備-テスト-レポート</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、つまり、テスト目標を準備し、ロードソースのパラメーターを設定してから、負荷テストを実行し、最後にレポートを生成して公開します。テストについて。</font><font style="vertical-align: inherit;">
スキームへのメモ：</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/o5/s5/z5/o5s5z5f79dpui3ojk5vbwgsayso.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA.Tester-ストレステストのエキスパート</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ターゲットは、負荷がかかったときの動作を知る必要があるターゲットアプリケーションです。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダイアグラムのエンティティ、ステージ、ステップの分類子</font></font></h2><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステージとステップ</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何が起こっていますか</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入り口にあるもの</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出力は何ですか</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">準備：テスト準備フェーズ</font></font></td>
</tr>
<tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷パラメータ</font></font></b></td>
<td><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザー</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
負荷パラメータの</font><font style="vertical-align: inherit;">設定と初期化</font><font style="vertical-align: inherit;">、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メトリックの選択</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、テスト計画</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（負荷プロファイル）の</font><font style="vertical-align: inherit;">準備</font></font></td>
<td>  <br>
  <br>
-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>VM</b></td>
<td>   <br>
   <br>
 </td>
<td>    <br>
   <br>
 </td>
<td>  <br>
 </td>
</tr>
<tr>
<td><b>Env</b></td>
<td>    <br>
  <br>
  </td>
<td>   <br>
 <br>
   <br>
 </td>
<td> : <br>
,   , <br>
   <br>
 </td>
</tr>
<tr>
<td><b>LoadAgents</b></td>
<td>,    <br>
 . <br>
  -  <br>
  </td>
<td>-   <br>
(, JM   )<br>
  <br>
 </td>
<td>   <br>
   <br>
</td>
</tr>
<tr>
<td colspan="4">Test:    .    ,       GitLab CI</td>
</tr>
<tr>
<td><b>Load</b></td>
<td>   <br>
  -<br>
   </td>
<td>  <br>
  <br>
 <br>
-<br>
 </td>
<td>  <br>
 <br>
 <br>
      </td>
</tr>
<tr>
<td><b>RunAgents</b></td>
<td>  <br>
   <br>
  <br>
  <br>
   <br>
  </td>
<td>-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>Logs</b></td>
<td> «»  <br>
   : <br>
    , <br>
   <br>
 ,    </td>
<td></td>
<td>  <br>
 <br>
 </td>
</tr>
<tr>
<td><b>Metrics</b></td>
<td> «»    </td>
<td></td>
<td>    <br>
  </td>
</tr>
<tr>
<td colspan="4">Report:     </td>
</tr>
<tr>
<td><b>Generator</b></td>
<td>  <br>
   <br>
  «» <br>
  <br>
   <br>
 , <br>
   <br>
</td>
<td>  <br>
 <br>
 <br>
   <br>
   </td>
<td> «»  <br>
 ,   <br>
   <br>
   ,<br>
   </td>
</tr>
<tr>
<td><b>Publish</b></td>
<td>  <br>
  <br>
   <br>
</td>
<td> «» <br>
  ,  <br>
    <br>
</td>
<td>   <br>
   <br>
,  <br>
  </td>
</tr>
</tbody>
</table></div><br>
<h2>    CI-</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実用的な部分に移りましょう。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Positive Technologiesの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いくつかのプロジェクトで</font><font style="vertical-align: inherit;">、負荷テストの概念をサービスとして実装した</font><font style="vertical-align: inherit;">方法を示したいと思い</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、DevOpsエンジニアの助けを借りて、負荷テストを実行するための専用エージェントプールをGitLab CIに作成しました。テンプレート内のそれらをアセンブリプールなどの他のものと混同しないように、これらのエージェントに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タグ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を追加しました</font><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">タグ</font></a><font style="vertical-align: inherit;">：ロード。他のクリアタグを使用できます。これらは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitLab CIランナーの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">登録時に</font></a><font style="vertical-align: inherit;">設定さ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">れ</font></a><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハードウェアによって必要な電力を見つける方法は？ロードエージェントの特性-十分な量のvCPU、RAM、およびディスク-は、Docker、Python（Yandex.Tankの場合）、GitLab CIエージェント、Java（Apache JMeterの場合）がエージェントで実行されている必要があることに基づいて計算できます。 JMeterでのJavaの場合、最低512 MBのRAMを使用し、上限として</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用可能なメモリの80％</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用することもお勧めします</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、私たちの経験に基づいて、ロードエージェントには少なくとも4つのvCPU、4 GBのRAM、60 GBのSSDを使用することをお勧めします。ネットワークカードの帯域幅は、負荷プロファイルの要件に基づいて決定されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主に2つのロードソースを使用します-DockerイメージApache JMeterとYandex.Tankです。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これは、ストレステスト用のYandexのオープンソースツールです。そのモジュラーアーキテクチャは、高性能な非同期ヒットベースのHTTPリクエストジェネレータPhantomに基づいています。タンクには、SSHプロトコルを使用してテストされたサーバーのリソースの監視が組み込まれており、特定の条件に従ってテストを自動的に停止し、結果をコンソールとグラフの両方の形式で出力できます。モジュールをサーバーに接続して機能を拡張できます。ちなみに、タンクはまだ主流になっていない頃に使用しました。 「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tankと負荷テストの自動化</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」の記事</font><font style="vertical-align: inherit;">では、2013年</font><font style="vertical-align: inherit;">に当社の製品の1つである</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PT Appllication Firewallの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">負荷テストをどのように実施したかについてのストーリーを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ご覧いただけ</font></a><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache JMeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apacheストレステストを実施するためのオープンソースツールです。静的と動的の両方のWebアプリケーションのテストに等しく使用できます。 JMeterは膨大な数のプロトコルとアプリケーションとの対話方法をサポートしています：HTTP、HTTPS（Java、NodeJS、PHP、ASP.NETなど）、SOAP / REST Webサービス、FTP、TCP、LDAP、SMTP（S）、POP3（S ）およびIMAP（S）（JDBCを介したデータベース）は、シェルコマンドを実行し、Javaオブジェクトを操作できます。 JMeterには、テスト計画を作成、デバッグ、および実行するためのIDEがあります。互換性のあるJava OS（Linux、Windows、Mac OS X）のコマンドラインで作業するためのCLIもあります。ツールは、HTMLテストレポートを動的に生成できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
社内での使いやすさ、テスターが環境を変更および追加できるようにするため、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artifactoryの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部docker </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">-registerに</font></a><font style="vertical-align: inherit;">公開して、GitLab CIにロードソースのdockerイメージを作成しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより、負荷テスト用にパイプラインでそれらを接続することがより速く簡単になります。</font><font style="vertical-align: inherit;">GitLab CIを介してDockerをレジストリにプッシュする方法- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手順を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Tankの基本的なDockerファイルは次のとおりです。</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM direvius/yandex-tank<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これはApache JMeterの場合：</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM vmarrazzo/jmeter<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
継続的インテグレーションシステムの仕組みについては、記事「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発プロセスの自動化：ポジティブテクノロジーでDevOpsのアイデアをどのように実装したか」をご覧</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テンプレートとパイプライン</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
負荷テストを実行するためのサンプルテンプレートは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo-load</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトにあり</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">テンプレートの使用方法について</font><font style="vertical-align: inherit;">は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Readmeファイルをご覧ください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。テンプレート自体（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.gitlab-ci.ymlファイル</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）には、このステップまたはそのステップが何を担当するかについてのメモがあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テンプレートは非常に単純で、図で前述した負荷テストの3つの段階（準備、テスト、レポートの発行）を示しています。それのための責任は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリステージ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、テスト、およびレポートを準備します</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ol>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Prepare</a>           .       ,     -    docker registry:       Test.         .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Test</a>     ,      .     : Yandex.Tank, Apache JMeter,    .         job-.     :<br>
 <ul>
<li>  Yandex.Tank    .<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">/tests/yandextank.sh</a>,</li>
<li>  Apache JMeter    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">./tests/jmeter.sh</a>.</li>
</ul><br>
:         CI-        .     ,    bash-.   ,       —    QA-.               .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">./tests</a>.<br>
 </li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Report</a>      ,    Test,   ,   GitLab Pages    .  GitLab Pages ,      ./public        index.html.     GitLab Pages    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.<br>
<br>
,   : <ul>
<li> JMeter  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">GitLab Pages</a>,</li>
<li> Yandex.Tank  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">InfluxDB  Grafana</a>.</li>
</ul><br>
   :<ul>
<li>HTML-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">GitLab Pages</a>,</li>
<li> InfluxDB    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Grafana</a>.</li>
</ul></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモの例では、ロードテストと2つのロードソース（不要なものを無効にできます）を備えたパイプラインは次のようになり</font><font style="vertical-align: inherit;">
ます。ApacheJMeterはHTMLレポート自体を生成できるため、通常のツールを使用してGitLab Pagesに保存する方が収益性が高くなります。</font><font style="vertical-align: inherit;">Apache JMeterレポートは次のように</font><font style="vertical-align: inherit;">
なります</font><font style="vertical-align: inherit;">。Yandex.Tankのデモでは、GitLabページのセクションに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">偽のテキストレポート</font></a><font style="vertical-align: inherit;">のみが表示されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">テスト中、Tankは結果をInfluxDBデータベースに保存し、そこから、たとえばGrafanaに表示できます（構成は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">./tests/example-yandextank-test.yml</font></a><font style="vertical-align: inherit;">ファイルで実行されます</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">これは、Grafanaでのタンクのレポートの外観です。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/t6/0f/bx/t60fbxhrvwnju5mubzwmifhjmn0.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/fr/pl/pr/frplprdv1ns3obkqrpn2i4tgetu.png"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/a6/y9/zw/a6y9zw9ej6wcy_g5pk69s1ncrpa.png"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、「サービスとしての負荷テスト」（サービスとしての負荷テスト）の概念について説明しました。主なアイデアは、構成済みのロードエージェントのプールのインフラストラクチャ、ロードソースのDockerイメージ、レポートシステム、および単純な.gitlab-ci.ymlテンプレートに基づいてGitLab CIでそれらを統合するパイプラインを使用することです（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照による</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font><font style="vertical-align: inherit;">）。これらはすべて、自動化エンジニアの小さなチームによってサポートされ、製品チームの要求に応じて複製されます。これがあなたの会社で同様のスキームを準備して実装するのに役立つことを願っています。清聴ありがとうございました！</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS私の同僚であるSergey KurbanovとNikolay Yusevに、弊社でのサービスとしての負荷テストの概念の実装に関する技術支援を提供してくれたことに感謝します。</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ティムール・ギルムリン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -副。</font><font style="vertical-align: inherit;">テクノロジーおよび開発プロセス（DevOps）の責任者、Positive Technologies</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja504270/index.html">Svelteはウィジェットの実装に適していますか？</a></li>
<li><a href="../ja504276/index.html">トップ10開発者向け書籍</a></li>
<li><a href="../ja504278/index.html">メドゥーサが新しいアプリケーションのベータテストをリーダーと一緒に組織し、それを台無しにしない方法</a></li>
<li><a href="../ja504282/index.html">NSPKでのエンタープライズアーキテクチャの作成</a></li>
<li><a href="../ja504284/index.html">本「純粋なアジャイル。柔軟性の基本</a></li>
<li><a href="../ja504296/index.html">Pythonでのランダムブランチの生成</a></li>
<li><a href="../ja504300/index.html">IBM i（別名AS / 400）のインタラクティブアプリケーションの開発について</a></li>
<li><a href="../ja504304/index.html">Samurai Path：サーブレットからリアクティブプログラミングへ</a></li>
<li><a href="../ja504306/index.html">ElbrusのストレージAerodisk Vostok用にロシアのハードウェアはどのように作られていますか</a></li>
<li><a href="../ja504308/index.html">Nginxで直接プログラミング</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>