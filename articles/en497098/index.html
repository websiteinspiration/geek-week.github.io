<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì∑ üë† üÜó How we made the autopilot for the combine harvester on video analytics the first in the world üåø üí¢ üë≤üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="That's the whole set, if there is a CAN bus.
 
 Just five years ago there were no normally functioning neural networks for the same determination of o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How we made the autopilot for the combine harvester on video analytics the first in the world</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cognitivepilot/blog/497098/"><img src="https://habrastorage.org/webt/9i/k_/cv/9ik_cvvnsvujhfri-caf6jrhiuk.jpeg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's the whole set, if there is a CAN bus.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Just five years ago there were no normally functioning neural networks for the same determination of obstacles and stalk edges, therefore there was no video analytics either. There were ‚Äúblind‚Äù GPS methods, which in practice turned out to be far from the best and greatly dampened the prestige of automation in agriculture. In five years, we believe that all combines will be automated precisely by visual autopilots to look from the cockpit and to the sides and control all aspects of harvesting.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We are in the moment when we already have ready-made technologies, they are well tested, cheap and have annual operating experience, and large combine harvesters look at them with interest. Most likely, it will be like with car radios: first they are put into cars, and then the cars come with already built-in ones. So we are now modifying old combines, but we want to take a place in the ecosystem and put the complex on all new ones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Such a project could start in our country, in Brazil, and even in a couple of countries due to the specifics of the market. We need a country with agriculture, developers inside, inefficient harvesting (that is, a clear pain to save) and a new fleet of combines. We were lucky with everything, including the park: after the USSR, everything fell apart, and now we are seeing cars about four to five years ago in the main farms.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are 350 thousand combines in Russia, and another 35 thousand are delivered annually. This is not a car market, of course, but by making the right decision now, while no one has come there, you can get it all. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But let‚Äôs tell you better how it works and how we modify combines in Russia.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/8n/rd/ze/8nrdzeoolx1niri-pdeduyrtcge.jpeg" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How the working day of the combine operator with our Agro Pilot goes</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The combine operator - the operator or machine operator - arrives at seven in the morning on the field. If this is not the first day, then the car is already directly in the middle of crops. Settings are made for the next section, warming up. At nine in the morning the dew leaves the fields, you can start. You need to finish in the dark when the humidity rises again. You can‚Äôt work in the rain. In about two weeks, you need to have time to collect all the grain before it pours and spills out onto the ground: the farther, the greater the losses. You cannot start earlier: the grain has not yet ripened. Therefore, it is precisely at this peak of loads that any simple, any error or accident is very expensive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The change lasts up to 14 hours of monotonous work. The operator needs:</font></font><br>
<br>
<ul>
<li>    ,       .     .      . </li>
<li>    :    ,       20‚Äì22 ,     .      ,   .  . </li>
<li>      ‚Äî    . </li>
<li>      ‚Äî     .</li>
<li>      . </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here, my colleague Eduard spoke in more detail about the features of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">why, in the end, operators focus only on taxiing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , leave the default settings in the collection mechanism and often skip the power line support or tractor in front and crash into the 10th shift. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A short summary: a person can either steer, or monitor the quality of cleaning. It turns out badly to steer, because the combine has a 12 meter dimension along the header, and often large mowed stripes remain due to imperfect turns.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you remove the load on taxiing, then suddenly the grain harvest increases miraculously. </font><font style="vertical-align: inherit;">In our practice, last year from the same site - by 3% due to the fact that the operator has the opportunity to more accurately look at what is happening ahead. </font><font style="vertical-align: inherit;">And about 3-5% more - due to retention of capture without "belly buttons" and large mowed parts. </font><font style="vertical-align: inherit;">Plus no accidents. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, this is a very necessary thing that would have long been implemented if there had been a technical possibility.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Technical opportunity appeared</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here's what autopilot does: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ta/bf/6b/tabf6blt67jepb4xygam7pvjncg.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The combine is driving as it should according to the characteristics of the growth of the current culture and how the combines went to it.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It allows you to work together a mixed fleet: both for those cars that have an autopilot, and with manual control. </font><font style="vertical-align: inherit;">Autopilot makes no difference.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Very clearly keeps the distance between the aisles, ensuring a minimum of mowing.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">He searches for obstacles, classifies them and decides what to do: go round, slow down or, while there is time, warn the operator. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Support for optimal speed for a specific situation. </font><font style="vertical-align: inherit;">There is such a feature: for the harvester to clean cleanly, you need to keep the interval from 6 to 6.5 kilometers per hour for, say, wheat on a specific model. </font><font style="vertical-align: inherit;">If we cross this line, then the mass will be larger, the scourges will stop knocking out all the grains, and further the losses increase exponentially from speed: seven kilometers - 0.2%, eight - 0.5%, and so on.</font></font></li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agrotechnical evaluation of one of the combines</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> according to the results of laboratory field tests</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How speed affects collection performance</font></font></b><div class="spoiler_text"><div class="scrollable-table"><table>
<tbody>
<tr>
<td rowspan="3"></td>
<td colspan="9">    </td>
</tr>
<tr>
<td colspan="3"></td>
<td colspan="3"></td>
<td colspan="3"></td>
</tr>
<tr>
<td colspan="3"> 1</td>
<td colspan="3"> 2</td>
<td colspan="3"> 3</td>
</tr>
<tr>
<td colspan="10"> </td>
</tr>
<tr>
<td>  , /</td>
<td>4,1</td>
<td>5,4</td>
<td>6,3</td>
<td>4,5</td>
<td>5,6</td>
<td>7</td>
<td>2,8</td>
<td>3,6</td>
<td>4,3</td>
</tr>
<tr>
<td>   , </td>
<td colspan="9">4,8</td>
</tr>
<tr>
<td>  , </td>
<td colspan="3">14</td>
<td colspan="3">23</td>
<td colspan="3">6</td>
</tr>
<tr>
<td colspan="10">   </td>
</tr>
<tr>
<td> :</td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>‚Äî  , </td>
<td>‚Äî</td>
<td>13</td>
<td>13</td>
<td>22</td>
<td>22</td>
<td>22</td>
<td>5</td>
<td>5</td>
<td>5</td>
</tr>
<tr>
<td> </td>
<td>‚Äî</td>
<td>1,4</td>
<td>1,42</td>
<td>1,65</td>
<td>1,86</td>
<td>3,37</td>
<td>1,35</td>
<td>1,47</td>
<td>1,19</td>
</tr>
<tr>
<td>‚Äî  , </td>
<td>‚Äî</td>
<td>9,6</td>
<td>9,5</td>
<td>8</td>
<td>8,6</td>
<td>14,8</td>
<td>12,2</td>
<td>12,1</td>
<td>9,4</td>
</tr>
<tr>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>‚Äî  , %</td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>        20%, , %</td>
<td>‚Äî</td>
<td>0,13</td>
<td>0,17</td>
<td>0,27</td>
<td>0,35</td>
<td>0,36</td>
<td>0,56</td>
<td>0,62</td>
<td>0,74</td>
</tr>
<tr>
<td>   :</td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>‚Äî </td>
<td>‚Äî</td>
<td>0,08</td>
<td>0,11</td>
<td>0,2</td>
<td>0,24</td>
<td>0,25</td>
<td>0,29</td>
<td>0,32</td>
<td>0,31</td>
</tr>
<tr>
<td>‚Äî   </td>
<td>‚Äî</td>
<td>0,05</td>
<td>0,06</td>
<td>0,07</td>
<td>0,11</td>
<td>0,11</td>
<td>0,24</td>
<td>0,27</td>
<td>0,4</td>
</tr>
<tr>
<td>‚Äî   </td>
<td>‚Äî</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0,03</td>
<td>0,03</td>
<td>0,03</td>
</tr>
<tr>
<td>, /</td>
<td>10,7</td>
<td>15,3</td>
<td>16,1</td>
<td>2,7</td>
<td>3,4</td>
<td>4,5</td>
<td>3,6</td>
<td>4,1</td>
<td>6,1</td>
</tr>
<tr>
<td> , /</td>
<td>5,28</td>
<td>6,75</td>
<td>7,72</td>
<td>2,09</td>
<td>2,68</td>
<td>4,84</td>
<td>4</td>
<td>5,3</td>
<td>7</td>
</tr>
<tr>
<td> , /</td>
<td>3,85</td>
<td>4,15</td>
<td>5,37</td>
<td>2,23</td>
<td>2,87</td>
<td>5,99</td>
<td>5</td>
<td>7</td>
<td>8,7</td>
</tr>
<tr>
<td>   , , %,</td>
<td>0,83</td>
<td>0,93</td>
<td>1,01</td>
<td>0,39</td>
<td>0,44</td>
<td>0,5</td>
<td>0,33</td>
<td>0,49</td>
<td>0,53</td>
</tr>
<tr>
<td>  :</td>
<td rowspan="2">0,24</td>
<td rowspan="2">0,37</td>
<td rowspan="2">0,42</td>
<td rowspan="2">0,27</td>
<td rowspan="2">0,32</td>
<td rowspan="2">0,37</td>
<td rowspan="2">0,26</td>
<td rowspan="2">0,42</td>
<td rowspan="2">0,45</td>
</tr>
<tr>
<td>‚Äî  </td>
</tr>
<tr>
<td>‚Äî  </td>
<td>0,43</td>
<td>0,41</td>
<td>0,45</td>
<td colspan="3">0</td>
<td colspan="3">0</td>
</tr>
<tr>
<td>‚Äî -    </td>
<td>‚Äî</td>
<td>0,003</td>
<td>‚Äî</td>
<td colspan="3"> </td>
<td colspan="3"> </td>
</tr>
<tr>
<td>‚Äî   , %</td>
<td>0,16</td>
<td>0,15</td>
<td>0,14</td>
<td>0,12</td>
<td>0,12</td>
<td>0,13</td>
<td>0,06</td>
<td>0,07</td>
<td>0,08</td>
</tr>
<tr>
<td>    , %:</td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
<td> </td>
</tr>
<tr>
<td>‚Äî </td>
<td>1,56</td>
<td>1,5</td>
<td>1,41</td>
<td>1,18</td>
<td>1,2</td>
<td>1,27</td>
<td>0,62</td>
<td>0,6911,27</td>
<td>0,83</td>
</tr>
<tr>
<td>‚Äî  </td>
<td>0,42</td>
<td>0,5</td>
<td>0,57</td>
<td>0,88</td>
<td>0,89</td>
<td>1,09</td>
<td>1,32</td>
<td>98,04</td>
<td>1,72</td>
</tr>
<tr>
<td>‚Äî   ()  </td>
<td>98,02</td>
<td>98</td>
<td>98,02</td>
<td>97,94</td>
<td>97,91</td>
<td>97,64</td>
<td>98,06</td>
<td> </td>
<td>97,45</td>
</tr>
<tr>
<td>      , </td>
<td>1052</td>
<td>1048</td>
<td>1063</td>
<td colspan="3"> </td>
<td colspan="3"> </td>
</tr>
</tbody>
</table></div><br>
<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main function of our equipment now is not auto-driving, but the exclusion of the human factor from the operator‚Äôs work. </font><font style="vertical-align: inherit;">The basic set of our equipment helps to eliminate the recession of reapers and unnecessary runs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What's in the stuffing</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. 2 MP camera on the mirror bracket. We focus only on the camera: this is the main sensor. Nothing more is required. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/w4/h1/pow4h1ijecaqg904e_rgcyhyfmq.jpeg" alt="image"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Cab display: this is the interface for the operator. Through it, warnings and settings are made. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gj/ww/p1/gjwwp18gleu8z-xvtjwdk_7awiy.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Control unit under the cab: there is NVIDIA TX2. The main algorithm stack spins there, the video is processed, and from there commands to the CAN bus are issued. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/3w/bf/ae3wbfuqvfnvl03vdsfl_-73vsw.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Block 340x290x60 mm, 40 watts. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/y0/yp/bfy0ypfh1bb9ph-la5uhgilvree.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The module for issuing commands is connected to the CAN bus or other system input / output of the combine. There are a couple of ambushes, in particular, with the fact that not everywhere is possible, and not everywhere hydraulic control is possible through this interface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the case of the harvester of the last five years of production, this is almost always everything: a box with brains, a camera, a display in the cab.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The wheel rotation sensor is needed in case the combine is old or without preparation, and we cannot get this data from the system bus. We need data for odometry (speed and angle of rotation of the wheels): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6b/xg/4e/6bxg4eyq2iytumu7uco2meaiaks.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The metering pump in the hydraulic system is needed to directly control the hydraulics by our co-pilot:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/b_/vk/shb_vkwxni7amiilcj-xri1ayh4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first ambush with the CAN bus is that there is not always clear documentation. In theory, there are other options for receiving signals from the bus, but in practice in Russia these are very rare cases. In general, at best there is some kind of system API and a cable hole. In a simple case, we contact the manufacturer of this hole and ask for a description of the protocol. After a couple of weeks of negotiations, they understand who we are and what we need, and send. Not everyone perceives this simply, but large producers are partly happy with us because they know that last year we put our solutions in a number of farms and large agricultural complexes, which </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caused a </font></font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bit of </font></font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noise in the media.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And they often immediately ask if our technologies can be integrated into the harvester of the future. This is a separate story, but as a result of the first part, we have a protocol, and everything is fine.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In an ideal world, that would be the end. Unfortunately, sometimes there are still cases when there is no documentation or the manufacturer fails to get a clear description. In this case, we connect and reverse the bus. Of course, there is a J1939 protocol that manufacturers should follow, but not everyone does it. Usually you connect with the debugging utility, you get all the packets with variables and just sit with the operator clicking on the buttons. I went - somewhere zero became a positive number. Accelerated - the number has increased. Slowed down - decreased. Yeah, the speed is. And so - all day. Next, you need to catch the correlation and select the conversion factors. Once we caught a very unpleasant bug with what worked on the test site, but not in the field. The harvester in peace mode sent some packets,and with the reaper and reel turned on, he went into a special combat mode and began to send his special combat messages in the same captured packets. We had to collect data signs in hellish ways. As it turned out, the header gave its information normally to the same packets into the same variables, and the bus designer optimized all this wildly so as not to set new variables. Probably, he participates in the 256b-intro competition in his spare time.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There were surprises on hydraulics too. Although Danfoss is in the partners, although they helped everyone as much as possible and gave detailed schemes, everything can be checked only by starting the combine. Somewhere, the components slightly stood at the border, so the system for the customer came to harvest (and this is only one of the cases). That is, it was necessary to mount it all at night, start up, check and, if at least something is wrong, remove it so that the combine could be used further in the morning. We arrived at eight in the evening and began to shaman with hydraulics. We finished the first installation at four in the morning. They did not know whether it would start or not. If it does not work out, then it will be necessary to disassemble and return to its normal state. Started up - it works. Steers as it should. This is the coolest hello world in our life. I didn‚Äôt imagine working with neural networks, but where without it.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can add a cellular modem to send telemetry to the kit. </font><font style="vertical-align: inherit;">However, the kit does not need GPS. </font><font style="vertical-align: inherit;">This is a huge plus. </font><font style="vertical-align: inherit;">For normal GPS driving to work normally, you need to map in advance, set up an RTK station for corrections, or buy a signal package and so on. </font><font style="vertical-align: inherit;">And still press buttons and menus, and machine operators really dislike user interfaces. </font><font style="vertical-align: inherit;">We have a camera-box-boarded-let's go. </font><font style="vertical-align: inherit;">It is not necessary to map the field to cut it into pens. </font><font style="vertical-align: inherit;">You need to drive to the field. </font><font style="vertical-align: inherit;">The robot will say: ‚ÄúOh, cheers, field!‚Äù </font><font style="vertical-align: inherit;">And just go.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why only a driving camera</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In 2014, we took a scientific grant for a prototype of an integrated agricultural enterprise management system using AI. We plunged into the business of agricultural producers and looked at the most obvious points of automation. Russia is a very risky crop (one crop per year, and five in Brazil). You cultivate a field for a whole year: expensive seed (this is the most expensive), then you sprinkle with expensive chemicals (second expense item), conduct a cycle of work on preparing soil and crops. This is a whole year from March to autumn. And only in the fall you have two weeks when you need to harvest. If something goes wrong, then a plus or minus a day can be 10% yield loss. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The harvester did not come out, the harvester washed down, crookedly squinted - broke along the road. Everything, simple for hours and days.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was with the recognition of obstacles that we started. Immediately a lidar came up, but it is expensive, so the camera. Once a monocamera - you need to immediately recognize images. Because you need not only to see, but also to understand what it is, what size it is, how you behave, what to expect. We either stand still or move forward, but you need to know the relative distance to the object and still remember about the header 7.5 or 9 meters in different directions (and this is not the maximum, often on running models there are also 12-13 meters). All the same, on such dimensions, it is possible to accidentally grind a tractor operator or a refueling machine out of a small need at a U-turn.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rm/nv/d2/rmnvd2ndzq5avbs_fa17tt_ig2a.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neural networks do an excellent job. But still, since we have a monocamera, you can fool the algorithm with a 1:40 combine model in rare cases (because you can also get geometry from a monocamera in motion). But such rarely come across in the field. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In corn (three meter stalk), it is important to look for pillars, for example. Since we had a definition that here is culture and what is an obstacle, then we could further distinguish where what culture is. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ia/-c/la/ia-clae4gjnyxlgsofl0ejejhis.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And this is the second level autopilot:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p8/56/sp/p856spkuki351drsuhlfuvdsvhg.png" alt="image"><br>
<br>
<img src="https://habrastorage.org/webt/6a/sx/yy/6asxyykgumggicw6fgyqrvlf4bu.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It was very difficult with the culture itself. At the first iterations of the trips, we came to the field for a new culture or a specific one that looked specific. Agronomist poorly watched, for example, did not spray on time. Low crop with weeds - the neural network does not eat. Once it was that we came to the farm for testing. And there is a sharply different climate, and barley does not look at all like in the reference book of the agronomist. And in our segmentation does not recognize the mowed and beveled parts correctly. There were few data for the training sample, but we ourselves shot them. All day until the evening we rode through the fields with a machine operator, took a new sample. They sat down at the hotel at night with their staff to mark out these data. Put on retraining network. The next day, everything drove into a new field. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is how you can add the target sample:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kt/ad/uc/ktaducfozmnkzziwj_njqfwoic4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
According to Eduard, who explains this to farmers, people themselves perfectly understand that cleaning is the main point of automation. There feeds the day a year. And they are trying with all their might to exclude human errors. In the end, we agree on a ‚Äúlook." Before the season comes our service group or dealers, install everything. Then carry out a calibration check. Or, before the harvesting period, they are immediately calibrated, it will take a day and a half. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If it‚Äôs interesting, then I can tell you later about the features of recognition of everything that is found in the fields, or about how we wonderfully collect training samples, because the finished ones are disgusting and not suitable for Russian conditions. This is also due to the fact that we are the first to do anything with this topic around the world, and therefore there are no established practices yet.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> If your agronomist is not on Habr√©, and he is interested, then you can find contacts here: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">promo.cognitivepilot.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and substantively discuss for which combine what specific set of equipment is needed, how much it costs, and how you can quickly see it- to experience.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en497082/index.html">Presentations of the second ROS Meetup on the topics: Gazebo and tools for robots</a></li>
<li><a href="../en497086/index.html">CQRS and Microservices in Product Development</a></li>
<li><a href="../en497090/index.html">Node.js in 2020: Logout and Logout Normally</a></li>
<li><a href="../en497092/index.html">Home-made computer from the AON board</a></li>
<li><a href="../en497096/index.html">Mobile threat defense: a marketing move or a new trend?</a></li>
<li><a href="../en497100/index.html">Launch Jupyter into orbit LXD</a></li>
<li><a href="../en497106/index.html">Network simulator tutorial ns-3. Chapters 1.2</a></li>
<li><a href="../en497108/index.html">Fighting Covid-2019: The Great Turn comes</a></li>
<li><a href="../en497110/index.html">Do I need voice acting for video clips about games?</a></li>
<li><a href="../en497112/index.html">CI / CD Process Update: octopus deploy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>