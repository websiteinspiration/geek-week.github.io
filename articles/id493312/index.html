<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌥️ 🤴🏾 👋🏿 Pelacakan geografis di Bereaksi Asli 🥕 🌿 💐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aplikasi seluler dapat bertindak sebagai "tempat kerja" seorang karyawan, sementara itu mungkin diperlukan untuk mentransfer koordinat geografis dan d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pelacakan geografis di Bereaksi Asli</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/simbirsoft/blog/493312/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi seluler dapat bertindak sebagai "tempat kerja" seorang karyawan, sementara itu mungkin diperlukan untuk mentransfer koordinat geografis dan data lainnya. Dalam pengembangan aplikasi lintas platform di iOS dan Android, kerangka kerja seperti Flutter atau React Native sering digunakan untuk tugas ini. Dalam artikel ini, kita berbicara tentang fitur bekerja dengan geolokasi di React Native menggunakan contoh kasus kami.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bq/d8/av/bqd8avprg_s7gfc5vohsywtdptg.png"><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keandalan, kecepatan, dan kematangan React Native terkadang dikritik oleh pengembang, dan sekitar tiga tahun lalu keraguan semacam itu bisa disebut dibenarkan. Namun, selama ini, teknologi telah menjadi lebih maju, dan React Native telah diakui sebagai alat praktis untuk membuat berbagai aplikasi. Secara khusus, React Native cocok untuk aplikasi yang menggunakan koordinat geografis - misalnya, berbagai pelacak, aplikasi untuk kurir, dll.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga di toko-toko dikembangkan pada aplikasi React Native dari toko online, menu restoran, feed berita, aplikasi pengiriman, pelanggan untuk jejaring sosial - dengan demikian, sejumlah besar React Native terus digunakan, bahkan tanpa memikirkannya. Contoh sederhana adalah Facebook, Instagram, Skype, Uber Eats, Wallmart. Menurut perkiraan, Microsoft dapat mengisi kembali daftar ini dan mentransfer aplikasi selulernya ke React Native, terutama setelah menerapkan dukungan untuk platform Windows. Ada dukungan React Native untuk </font><font style="vertical-align: inherit;">aplikasi </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">Weechat </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">macOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , "built-in" </font><font style="vertical-align: inherit;">, meskipun dukungan dan dokumentasi untuk platform ini masih agak langka.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Native dapat melakukan hampir semua hal yang sama dengan aplikasi asli. Misalnya, menerima informasi dari sensor perangkat, seperti yang dilakukan aplikasi Java / Kotlin atau ObjC / Swift, atau mengirim data di latar belakang menggunakan Foreground Service atau Background fetch. Satu-satunya perbedaan adalah bahwa dalam Bereaksi Asli Anda perlu mengimplementasikan antarmuka untuk interaksi antara bagian asli dan Javascript. Untuk tugas sehari-hari, antarmuka ini sering sudah diimplementasikan. Ini juga berlaku untuk melacak lokasi dan operasi Javascript di latar belakang: sudah ada solusi dalam bentuk perpustakaan open source independen. Kebetulan bahwa komunitas secara mandiri "menarik" Javascript ke depan, baik programmer dan perusahaan secara aktif menggunakan solusi Open Source. Beberapa komunitas bahasa memiliki jumlah perpustakaan, kerangka kerja yang sama,utilitas kualitas. Namun, dalam React Native, beberapa fitur yang ada dalam pengembangan asli masih terbatas, dan ini harus diingat.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan Bereaksi Asli</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertimbangkan beberapa faktor utama yang memastikan kecepatan pengembangan aplikasi lintas platform di React Native:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basis kode umum</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Begitu logika tertulis, layar tata letak dan komponen pada platform yang berbeda berfungsi dan terlihat sama mungkin (misalnya, di Android, alih-alih bayangan yang biasa, mereka menggunakan gagasan kegembiraan). </font><font style="vertical-align: inherit;">Praktis tidak ada sakit kepala abadi untuk pengembang dengan versi lama - misalnya, mudah untuk menambahkan dukungan bahkan untuk Android 4.4, meskipun dalam praktiknya pelaksanaan tugas ini juga tergantung pada penggunaan modul asli tambahan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alur Kerja Optimal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seringkali, Bereaksi menyediakan alur kerja yang optimal yang membuat pengembangan fitur baru beberapa kali lebih cepat daripada dalam bahasa asli. </font><font style="vertical-align: inherit;">Ini berlaku untuk tata letak, pendekatan komponen, instalasi ketergantungan, solusi arsitektur umum untuk React.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hot reload</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengembang tidak perlu membangun kembali aplikasi setiap kali untuk melihat perubahannya. </font><font style="vertical-align: inherit;">Berkat Hot Reload, hanya perlu beberapa detik untuk memperbarui aplikasi ke keadaan saat ini. </font><font style="vertical-align: inherit;">Dan dalam versi 0.61 Live Reload (sekarang Fast Refresh) juga diingatkan, sekarang ketika mengedit perubahan pengaturan huruf ditarik "on the fly", tanpa mengatur ulang keadaan komponen saat ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat membuat aplikasi, beberapa bidang utama memerlukan perhatian khusus: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1) Javascript</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Native bertujuan untuk bekerja dengan Javascript, memungkinkan Anda untuk dengan cepat menggambarkan logika dan antarmuka. Ada banyak modul siap pakai dari dunia Web dan Node.js yang dapat digunakan dengan cara biasa (tentu saja, jika mereka tidak terhubung ke DOM atau ke sisi server). Meskipun kecepatannya tinggi, Javascript terkadang kalah dengan bahasa asli. Tidak ada multithreading. Di Bereaksi Asli, kami tidak dapat langsung mengakses API Asli, meskipun pembatasan ini dapat segera dihapus. Javascript terutama menjelaskan apa yang perlu dilakukan dan ditampilkan di bagian asli. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2) Jembatan</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bus yang menerima panggilan Javascript melalui antarmuka khusus yang disediakan oleh perpustakaan reaksi-asli. Panggilan adalah pesan berseri reguler. Untuk setiap komponen - Tampilan sederhana, bidang input atau panggilan ke dialog sistem - ada antarmuka yang dijelaskan dalam Javascript dengan logika yang diterapkan di bagian asli. Bus adalah bagian yang paling lambat, asinkron, mentransfer data antara Javascript dan asli memerlukan waktu (kemungkinan besar, Facebook dapat sepenuhnya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menghilangkannya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Seringkali, masalah kinerja aplikasi pada React Native disebabkan justru oleh pengoperasian jembatan, tetapi jika Anda menggunakannya dengan benar (mengurangi transfer data bolak-balik ke minimum yang diperlukan), maka kinerja dalam aplikasi React Native tidak akan berbeda secara signifikan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3) Bagian asli</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi pada React Native pada awalnya merupakan aplikasi asli biasa. </font><font style="vertical-align: inherit;">Keunikannya adalah bahwa semua perpustakaan yang diperlukan sudah terhubung di dalamnya sehingga Anda dapat menulis semua logika di Bereaksi JS. </font><font style="vertical-align: inherit;">Di sini kita dapat menulis logika asli kita sendiri untuk menggunakan (atau tidak menggunakannya) di JS, tambahkan pustaka asli yang biasa (misalnya, untuk mendukung TLS v1.2 pada KitKat dan sebelumnya). </font><font style="vertical-align: inherit;">Di aplikasi asli yang sudah jadi, Anda dapat menambahkan dukungan untuk React Native.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan pelacakan geografis di Bereaksi Asli</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di salah satu proyek, kami perlu mengembangkan "tempat kerja seluler" untuk karyawan klien kami, khususnya, untuk memastikan transfer koordinat geografis mereka di latar belakang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa alat untuk bekerja dengan geolokasi di React Native. Misalnya, ini adalah paket dari komunitas React Native </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ react-native-community / geolocation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang mencakup sebagian besar </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">kasus</font></a><font style="vertical-align: inherit;"> penggunaan, namun, tidak berfungsi di latar belakang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengimplementasikan tugas kami, kami menggunakan beberapa solusi, termasuk perpustakaan dengan nama yang berbicara </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ mauron85 / react-native-background-geolocation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Awalnya, perpustakaan ini adalah plugin untuk Cordova, tetapi kemudian penulis memisahkan basis dan membuat pembungkus terpisah untuk React Native. Ada juga perpustakaan berbayar dengan nama yang sama dari transistorsoft, tetapi pada saat kami mengerjakan proyek ini, ia hanya menang dengan dokumentasinya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perpustakaan memungkinkan kami untuk mengatur pengaturan yang fleksibel untuk lokasi pelacakan. Misalnya, dengan frekuensi apa untuk menginterogasi layanan sistem, bagaimana tepatnya bekerja di latar belakang, dalam radius apa posisi akan dianggap tidak bergerak. Pengaturan dan metode untuk mengirim koordinat ini ke server dapat digunakan "di luar kotak", tetapi kami memutuskan untuk tidak mengirim permintaan spam, tetapi untuk mengagregasi koordinat yang diterima dalam repositori dan mengirimkannya dengan interval besar. Pada saat yang sama, perpustakaan memungkinkan kami untuk meluncurkan aplikasi kami sebagai foregroundActivity, menyelamatkan kami dari sakit kepala yang tidak perlu, karena pada banyak perangkat Android aplikasi di latar belakang hanya dapat bekerja dengan pengaturan tambahan ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei, MIUI, Samsung baru-baru ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah instalasi, Anda dapat membuat komponen atau hanya pembantu yang mengelola layanan. </font><font style="vertical-align: inherit;">Kami memutuskan untuk menggunakan komponen untuk memasangnya dengan kondisi di router dan dengan mudah menghubungkannya ke redux. </font><font style="vertical-align: inherit;">Siapkan layanan kami:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> BackgroundGeolocation, {<font></font>
  Location,<font></font>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@mauron85/react-native-background-geolocation'</span>;<font></font>
 <font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ForegroundService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PureComponent</span>&lt;<span class="hljs-title">Props</span>&gt; </span>{
<span class="hljs-comment">//...</span>
startBackgroundService = <span class="hljs-function">(<span class="hljs-params">config: GeotrackerConfig</span>) =&gt;</span> {
     <span class="hljs-comment">//    </span><font></font>
	BackgroundGeolocation.configure({<font></font>
  	<span class="hljs-attr">desiredAccuracy</span>: BackgroundGeolocation.HIGH_ACCURACY,
  	<span class="hljs-attr">stationaryRadius</span>: <span class="hljs-number">50</span>,
  	<span class="hljs-attr">distanceFilter</span>: config.distance,
  	<span class="hljs-attr">notificationTitle</span>: Strings.Geolocation.NOTIFICATION_TITLE,
  	<span class="hljs-attr">notificationText</span>: Strings.Geolocation.NOTIFICATION_DESCRIPTION,
  	<span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span>,
  	<span class="hljs-attr">startOnBoot</span>: <span class="hljs-literal">false</span>,
  	<span class="hljs-attr">stopOnTerminate</span>: <span class="hljs-literal">true</span>,
  	<span class="hljs-attr">locationProvider</span>: BackgroundGeolocation.ACTIVITY_PROVIDER,
  	<span class="hljs-attr">interval</span>: <span class="hljs-keyword">this</span>.runnerInterval,
  	<span class="hljs-attr">fastestInterval</span>: <span class="hljs-number">10000</span>,
  	<span class="hljs-attr">activitiesInterval</span>: <span class="hljs-number">30000</span>,
  	<span class="hljs-attr">stopOnStillActivity</span>: <span class="hljs-literal">false</span>,
  	<span class="hljs-attr">notificationIconColor</span>: Colors.primary,
  	<span class="hljs-attr">notificationIconSmall</span>: <span class="hljs-string">'notification_icon'</span>,<font></font>
	});<font></font>
 <font></font>
     <span class="hljs-comment">//    start()      </span>
                    	BackgroundGeolocation.on(<span class="hljs-string">'authorization'</span>, status =&gt; {
  	<span class="hljs-keyword">if</span> (status !== BackgroundGeolocation.AUTHORIZED) {
    	<span class="hljs-comment">//   </span>
  	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (status.hasPermissions) {
        <span class="hljs-comment">// hasPermission -  ,    </span><font></font>
  	}<font></font>
	});<font></font>
 <font></font>
     <span class="hljs-comment">//  </span><font></font>
                    	BackgroundGeolocation.start();<font></font>
};<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa di sini Anda juga dapat mengatur pengaturan untuk pemberitahuan, ikon (dari aset asli). </font><font style="vertical-align: inherit;">Bagaimana dengan izin? </font><font style="vertical-align: inherit;">Untuk Android, setelah menginstal paket, tidak ada yang diperlukan, perpustakaan akan mengambil alih permintaan untuk akses ke geolokasi sistem. </font><font style="vertical-align: inherit;">Tetapi untuk operasi normal pada iOS di Xcode, Anda juga harus mengaktifkan Pemrosesan latar belakang dan Pembaruan lokasi di tab Penandatanganan &amp; Kemampuan proyek. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vn/q9/yw/vnq9ywwhisotkblbxko5g3je3he.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menerapkan metode utama untuk menyimpan dan mengirim koordinat di acara di ('lokasi') dengan metode yang sama. </font><font style="vertical-align: inherit;">Ini akan berfungsi baik dengan aplikasi aktif dan dalam keadaan diminimalkan:</font></font><br>
<br>
<pre><code class="javascript hljs">BackgroundGeolocation.on(<span class="hljs-string">'location'</span>, location =&gt; {<font></font>
    BackgroundGeolocation.startTask(<span class="hljs-keyword">async</span> taskKey =&gt; {
     <span class="hljs-comment">//       ,</span>
     <span class="hljs-comment">//     iOS-</span>
      <span class="hljs-keyword">const</span> batteryLevel = <span class="hljs-keyword">this</span>.isSimulator<font></font>
        ? <span class="hljs-number">100</span>
        : (<span class="hljs-keyword">await</span> DeviceInfo.getBatteryLevel()) * <span class="hljs-number">100</span>;
      <span class="hljs-keyword">const</span> updateDelta = location.time - <span class="hljs-keyword">this</span>.lastUpdateAt;<font></font>
<font></font>
     <span class="hljs-comment">//      </span>
      <span class="hljs-keyword">this</span>.props.locationUpdate(location);
      <span class="hljs-keyword">this</span>.props.locationAddTrackerData({
        <span class="hljs-attr">altitude</span>: location.altitude,
        <span class="hljs-attr">batteryChargeLevel</span>: batteryLevel,
        <span class="hljs-attr">latitude</span>: location.latitude,
        <span class="hljs-attr">longitude</span>: location.longitude,
        <span class="hljs-attr">course</span>: location.bearing,
        <span class="hljs-attr">accuracy</span>: location.accuracy,
        <span class="hljs-attr">speed</span>: location.speed,
        <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">Number</span>(<span class="hljs-built_in">String</span>(location.time).substr(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)),
        <span class="hljs-attr">isAlertOn</span>: <span class="hljs-literal">false</span>,<font></font>
      });<font></font>
<font></font>
     <span class="hljs-comment">//  ?</span>
      <span class="hljs-keyword">if</span> (updateDelta / <span class="hljs-number">1000</span> &gt; config.sendInterval) {
        <span class="hljs-keyword">this</span>.syncDataWithInterval();
        <span class="hljs-keyword">this</span>.lastUpdateAt = location.time;<font></font>
      }<font></font>
<font></font>
     <span class="hljs-comment">//    AsyncStorage,    </span><font></font>
      Storage.setLastKnownLocation(location);<font></font>
      BackgroundGeolocation.endTask(taskKey);  <span class="hljs-comment">//   !</span><font></font>
    });<font></font>
});<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami memanggil tindakan dari toko, tempat kami mentransfer data koordinat dalam format khusus, juga menyimpan data pada pembacaan baterai, menggunakan perpustakaan info-perangkat-asli-info. </font><font style="vertical-align: inherit;">Semua ini bekerja dengan baik di Android dan iOS saat aplikasi aktif atau di latar belakang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, ada metode untuk mendapatkan lokasi saat ini (tetapi ini hanya berfungsi ketika layanan sedang berjalan), berlangganan transisi dari status aplikasi dari aktif ke latar belakang, beralih ke pengaturan sistem aplikasi. </font><font style="vertical-align: inherit;">Namun, pada umumnya, yang paling penting diberikan dalam contoh-contoh ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasilnya adalah komponen yang dapat dipasang, misalnya, hanya untuk bagian yang diotorisasi:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ForegroundService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PureComponent</span>&lt;<span class="hljs-title">Props</span>&gt; </span>{
	<span class="hljs-comment">//...</span><font></font>
	componentDidMount() {<font></font>
		<span class="hljs-keyword">this</span>.startBackgroundService(<span class="hljs-keyword">this</span>.props.config);<font></font>
	}<font></font>
<font></font>
	componentWillUnmount() {<font></font>
    BackgroundGeolocation.stop();<font></font>
    BackgroundGeolocation.removeAllListeners();<font></font>
  }<font></font>
<font></font>
	startBackgroundService = <span class="hljs-function">(<span class="hljs-params">config: GeotrackerConfig</span>) =&gt;</span> {<font></font>
    BackgroundGeolocation.configure({<font></font>
		<span class="hljs-comment">// ...</span><font></font>
	};<font></font>
<font></font>
	render() {<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<font></font>
  }<font></font>
} </code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika navigasi reaksi digunakan, Anda dapat membuat navigasi untuk bagian yang diotorisasi sebagai berikut:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//  StackNavigator   </span>
<span class="hljs-keyword">const</span> Navigator = createStackNavigator(RouteConfigs, NavigatorConfig);<font></font>
<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AppNavigator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">PureComponent</span>&lt;<span class="hljs-title">Props</span>&gt; </span>{
  <span class="hljs-keyword">static</span> router: NavigationRouter = Navigator.router;<font></font>
<font></font>
  componentDidMount(): <span class="hljs-keyword">void</span> {<font></font>
    SplashScreen &amp;&amp; SplashScreen.hide();<font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ForegroundService</span> <span class="hljs-attr">navigation</span>=<span class="hljs-string">{this.props.navigation}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Navigator</span> {<span class="hljs-attr">...this.props</span>} /&gt;</span>
      <span class="hljs-tag">&lt;/&gt;</span></span><font></font>
    );<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> AppNavigator;</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, navigator ini dapat digunakan dengan cara biasa di navigator root:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> RootNavigator = createSwitchNavigator(<font></font>
  {<font></font>
    <span class="hljs-attr">Auth</span>: AuthNavigator,
    <span class="hljs-attr">App</span>: AppNavigator,<font></font>
  },<font></font>
  {<font></font>
    <span class="hljs-attr">initialRouteName</span>: <span class="hljs-string">'Auth'</span>,<font></font>
  },<font></font>
);<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> createAppContainer(RootNavigator);</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, layanan geolokasi dan pertukaran data hanya akan berfungsi di bagian resmi aplikasi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk meringkas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kami memeriksa fitur menggunakan React Native dalam aplikasi geolokasi. </font><font style="vertical-align: inherit;">Seperti yang kami ketahui, menggunakan kerangka kerja ini, pengembang sekarang dapat dengan mudah melacak koordinat geografis perangkat - misalnya, di pelacak sepeda, aplikasi untuk kurir dan forwarder, aplikasi untuk memilih real estat, dll. </font><font style="vertical-align: inherit;">Perpustakaan mencakup sebagian besar kasus yang terkait dengan geotracking, khususnya, memungkinkan Anda untuk menyesuaikan interval dan menghemat daya perangkat, ini bekerja secara stabil di latar belakang pada kedua platform, dan mendukung autorun di Android. </font><font style="vertical-align: inherit;">Pada saat yang sama, untuk aplikasi yang kompleks, sebagai aturan, pengembangan asli lebih cocok (misalnya, untuk bekerja dengan perhitungan dan widget, seperti yang sudah kami tulis di </font><font style="vertical-align: inherit;">artikel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sebelumnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terima kasih atas perhatian Anda, semoga artikel ini bermanfaat bagi Anda!</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493302/index.html">Teknologi apa yang telah dipanggil untuk memerangi coronavirus?</a></li>
<li><a href="../id493304/index.html">Mengembangkan hexapod dari awal (bagian 8) - peningkatan pergerakan matematika</a></li>
<li><a href="../id493306/index.html">Menggunakan Gateway API sebagai Titik Masuk Tunggal untuk Aplikasi Web dan API</a></li>
<li><a href="../id493308/index.html">Pengalaman nyata mentransfer hampir semua karyawan ke situs terpencil</a></li>
<li><a href="../id493310/index.html">Game of God: Organisme Buatan</a></li>
<li><a href="../id493320/index.html">Perpanjang Laravel dengan komponen kami sendiri</a></li>
<li><a href="../id493322/index.html">IT GRAD: tayangan pertama dari format kerja jarak jauh</a></li>
<li><a href="../id493332/index.html">Mengapa pencitra termal tidak dapat mengukur suhu tubuh seseorang</a></li>
<li><a href="../id493334/index.html">52 Miliar Serangan: Trend Micro 2019 Ancaman</a></li>
<li><a href="../id493336/index.html">Bagaimana Pusat Ilmu Komputer Diterjemahkan Pembelajaran Online</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>