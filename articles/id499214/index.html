<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ® ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ¿ ğŸ› Menyebarkan Hyperledger Fabric 1.4 di AWS âœ… ğŸ‚ ğŸš¶ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hyperledger Fabric adalah platform blockchain open source dari Linux Foundation. Dengannya, Anda dapat membuat aplikasi blockchain dan mengontrol akse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Menyebarkan Hyperledger Fabric 1.4 di AWS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nix/blog/499214/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hyperledger Fabric adalah platform blockchain open source dari Linux Foundation. Dengannya, Anda dapat membuat aplikasi blockchain dan mengontrol akses dan izin untuk data di blockchain. Hyperledger Fabric harus digunakan jika Anda ingin membuat jaringan blockchain pribadi atau menetapkan batasan pada transaksi apa yang bisa dilihat oleh masing-masing pihak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam dokumentasi Hyperledger Fabric, pembuatan jaringan blockchain pada satu mesin menggunakan Docker direncanakan dengan baik, di mana setiap anggota jaringan adalah wadah yang terpisah. Tetapi proses pengaturan jaringan pada beberapa mesin fisik atau virtual tidak dijelaskan. Ini akan dibahas dalam artikel ini.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi blockchain kami adalah layanan untuk menyimpan beberapa data medis anak-anak sekolah dan prasekolah. </font><font style="vertical-align: inherit;">Data harus tidak berubah. </font><font style="vertical-align: inherit;">Mereka akan disajikan dalam bentuk informasi tentang vaksinasi dan persetujuan pasien dengan dokter tertentu. </font><font style="vertical-align: inherit;">Jaringan akan mencakup anggota Orang Tua (sebuah organisasi yang mewakili kepentingan orang tua), Rumah Sakit (rumah sakit dengan orang tua dokter anak dapat mengadakan perjanjian untuk merawat anak / anak-anak mereka) dan Taman Kanak-Kanak (sebuah taman kanak-kanak yang dapat meminta laporan kesehatan dan vaksinasi untuk atau anak lain di rumah sakit).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon mengelola blockchain</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AWS memiliki layanan Blockchain Amazon Managed. </font><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk menggunakan jaringan blockchain menggunakan antarmuka pengguna konsol AWS. </font><font style="vertical-align: inherit;">Tetapi, setelah mendapatkan beberapa pengalaman bekerja dengan Amazon Managed Blockchain, kami harus meninggalkan ide untuk menggunakan layanan ini dalam proyek komersial. </font><font style="vertical-align: inherit;">Ada beberapa alasan untuk ini. </font><font style="vertical-align: inherit;">Yang utama adalah:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hanya versi Hyperledger Fabric 1.2 yang tersedia di Amazon Managed Blockchain, dan pada saat penulisan ini, versi 1.4 digunakan untuk membangun jaringan blockchain perusahaan. </font><font style="vertical-align: inherit;">Itu juga tidak mengizinkan penggunaan versi modern alat Node.js SDK;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon Managed Blockchain tidak mendukung basis data CouchDB, membuatnya sulit untuk membuat aplikasi yang mengindeks data yang disimpan.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, pendapat kami adalah bahwa lebih baik menggunakan server virtual atau fisik untuk membangun jaringan menggunakan kerangka kerja Hyperledger Fabric.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang saluran aplikasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hyperledger Fabric memiliki konsep "saluran." </font><font style="vertical-align: inherit;">Saluran adalah subnet untuk melakukan transaksi sensitif. </font><font style="vertical-align: inherit;">Akan ada dua saluran di aplikasi kita.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Rumah Sakit Parents". </font><font style="vertical-align: inherit;">Ini dimaksudkan untuk transaksi antara anggota Orang Tua dan organisasi Rumah Sakit: membuat dan mengubah catatan medis, membuat perjanjian dengan dokter anak, dan menandatangani perjanjian dokter anak.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Parentshospitalkindergarten." </font><font style="vertical-align: inherit;">Dalam saluran ini, anggota Orang Tua dan Rumah Sakit akan berinteraksi dengan anggota TK. </font><font style="vertical-align: inherit;">Juga, laporan akan dihasilkan berdasarkan data dari catatan medis.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lingkungan kerja</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan menggunakan jaringan blockchain kami menggunakan Docker Swarm - ini adalah sistem Docker asli untuk menggunakan cluster host. Jika Anda belum pernah bekerja dengan Docker (dan terutama dengan Docker Swarm), maka pertama-tama periksa produk ini dan cara mengatur wadah menggunakan Docker Swarm. The </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menjelaskan dasar-dasar bekerja dengan alat-alat ini dengan baik.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seluruh jaringan kami akan berlokasi di server AWS EC2. </font><font style="vertical-align: inherit;">Informasi dalam jaringan blockchain akan disimpan di CouchDB. </font><font style="vertical-align: inherit;">Hyperledger Fabric juga mendukung basis data LevelDB, tetapi CouchDB, tidak seperti yang terakhir, memungkinkan untuk mencari berdasarkan kriteria apa pun dalam kumpulan dokumen. </font><font style="vertical-align: inherit;">Kami juga akan menggunakan Fabric Certificate Authority - ini adalah komponen modular untuk mengelola pengidentifikasi jaringan semua organisasi dan penggunanya. </font><font style="vertical-align: inherit;">Ini menyediakan pendaftaran peserta jaringan dan penerbitan sertifikat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan memiliki empat server EC2:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orderer, MySQL DB (untuk menyimpan informasi aplikasi yang tidak berlaku untuk catatan medis)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organisasi orang tua (Peer0, Peer1), CouchDB, Fabric-CA, CLI</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organisasi rumah sakit (Peer0, Peer1), CouchDB, Fabric-CA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organisasi TK (Peer0, Peer1), CouchDB, Fabric-CA</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat Server EC2 di AWS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membutuhkan layanan perantara untuk bekerja. </font><font style="vertical-align: inherit;">Jenis server EC2 ini memiliki daya komputasi yang cukup untuk menginstal semua perangkat lunak yang diperlukan dan bekerja dengan alat Hyperledger Fabric. </font><font style="vertical-align: inherit;">Di Konfigurasikan Grup Keamanan, setel Semua lalu lintas, dan Sumber - 0.0.0.0/0, :: / 0. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bb/kx/iu/bbkxiua1teuzbc0jbmajtl-o5i0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 1. </font><font style="vertical-align: inherit;">Konfigurasikan Grup Keamanan di panel AWS. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapat empat server EC2:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ec2-18-232-164-119.compute-1.amazonaws.com</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ec2-54-145-203-186.compute-1.amazonaws.com</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ec2-54-80-241-117.compute-1.amazonaws.com</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ec2-52-87-193-235.compute-1.amazonaws.com</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda secara alami akan memiliki jalur Anda sendiri ke server EC2. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/az/ab/as/azabas37iihj5xmuaqzrty6-mcc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 2. </font><font style="vertical-align: inherit;">Disiapkan untuk server operasi EC2.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menginstal perangkat lunak prasyarat pada server EC2</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang di setiap server EC2 kita perlu menginstal Docker dan Git. </font><font style="vertical-align: inherit;">Untuk kenyamanan, buka empat tab di terminal. </font><font style="vertical-align: inherit;">Mari kita pergi ke setiap layanan EC2 melalui SSH: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminal 1:</font></font><br>
<br>
<pre><code class="plaintext hljs">HOST1=ec2-18-232-164-119.compute-1.amazonaws.com<font></font>
ssh ec2-user@$HOST1 -i ./key-poc.pem<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminal 2:</font></font><br>
<br>
<pre><code class="plaintext hljs">HOST2=ec2-54-145-203-186.compute-1.amazonaws.com<font></font>
ssh ec2-user@$HOST2 -i ./key-poc.pem<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminal 3:</font></font><br>
<br>
<pre><code class="plaintext hljs">HOST3=ec2-54-80-241-117.compute-1.amazonaws.com<font></font>
ssh ec2-user@$HOST3 -i ./key-poc.pem<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminal 4:</font></font><br>
<br>
<pre><code class="plaintext hljs">HOST4=ec2-52-87-193-235.compute-1.amazonaws.com<font></font>
ssh ec2-user@$HOST4 -i ./key-poc.pem<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di setiap terminal, jalankan perintah berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo yum update -y<font></font>
sudo yum install -y docker<font></font>
sudo service docker start<font></font>
sudo docker info<font></font>
sudo yum install git<font></font>
sudo usermod -a -G docker ec2-user<font></font>
newgrp docker<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita sudah menginstal Docker dan Git.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jaringan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita perlu mengkloning elemen jaringan kita dari repositori. </font><font style="vertical-align: inherit;">Untuk melakukan ini, jalankan perintah di setiap terminal:</font></font><br>
<br>
<pre><code class="plaintext hljs">git clone https://github.com/nixsolutions/blockchain-poc-network.git network
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita juga perlu mengkloning kontrak pintar dari repositori yang akan mengatur hubungan antar peserta jaringan. </font><font style="vertical-align: inherit;">Kontrak pintar ditulis dalam bahasa Golang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melakukan langkah-langkah ini di masing-masing dari empat server:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd network &amp;&amp; mkdir chaincode &amp;&amp; cd chaincode<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-medical-contract.git medical-contract<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-kindergarten-contract.git kindergarten-contract<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di terminal pertama, kita perlu membuat file konfigurasi dan sertifikat saluran untuk menghubungkan organisasi ke jaringan:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd network/poc-network<font></font>
./1_generate_connection_files.sh<font></font>
./2_generating_channel_configuration.sh<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang salin folder-artefak dan folder crypto-config ke tiga host lainnya di folder poc-network dari direktori induk jaringan. </font><font style="vertical-align: inherit;">Harap dicatat: saat menyalin organisasi ke server EC2, Anda perlu menghapus sertifikat pihak ketiga dari folder crypto-config / peerOrganizations yang terkait dengan pekerjaan organisasi lain. </font><font style="vertical-align: inherit;">Misalnya, ketika menyalin ke host Orang Tua, kita harus meninggalkan folder parents.poc-network.com di folder ini, tetapi hapus hospital.poc-network.com dan kindergarten.poc-network.com.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat Tumpukan Docker Swarm</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar kontainer milik organisasi yang berbeda dan terletak di server EC2 yang berbeda untuk dapat saling mengakses, kita perlu menggabungkannya ke dalam tumpukan. </font><font style="vertical-align: inherit;">Mari kita lihat jaringan file / poc-network / docker-compose-general.yaml kami. </font><font style="vertical-align: inherit;">Ini berisi konfigurasi layanan, menunjukkan host mana dari layanan tertentu (kunci </font></font><code>node.hostname</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">akan digunakan untuk </font><font style="vertical-align: inherit;">, alias (kunci </font></font><code>aliases</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">ditunjukkan </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita perlu menginisialisasi swarm di terminal pertama:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker swarm init<font></font>
docker swarm join-token manager<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Token akan muncul untuk melampirkan server EC2 lain ke stack. </font><font style="vertical-align: inherit;">Sesuatu seperti: </font></font><code>docker swarm join --token SWMTKN-1-42ml0ohnnbidg8kflgp8xp9dkkus6mn1lslqc15hrxj4tk9e3q-5h4vbzbfk8p90n83oe08gbltf 172.31.46.214:2377</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat mengeksekusi di terminal yang tersisa:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker swarm join --token SWMTKN-1-2xzco7t7txohnzd09318eczpbgmm8woex80byxptpt1jl5i2ar-bsg37h40xze1gaabg80i96gw2 172.31.38.245:2377
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebuah pesan muncul di konsol:</font></font><br>
<br>
<pre><code class="plaintext hljs">This node joined a swarm as a manager.
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah ketiga host terhubung ke Swarm, kita dapat melihatnya di terminal host pertama dengan menjalankan perintah:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker node ls
</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/16d/687/898/16d687898e5eb8b4ed00883d4eef2de7.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 3. </font><font style="vertical-align: inherit;">Daftar server di Docker Swarm. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di folder jaringan / poc-jaringan ada file .env.template di mana Anda perlu menentukan nama host untuk masing-masing host: </font></font><br>
<br>
<code>ORDERER=ip-172-31-38-245</code><br>
<code>PARENTS=ip-172-31-43-64</code><br>
<code>HOSPITAL=ip-172-31-38-130</code><br>
<code>KINDERGARTEN=ip-172-31-40-157</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menghasilkan file .env, Anda perlu menjalankan file ./3_env_gen.sh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang buat jaringan dengan driver </font></font><code>overlay</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker network create --driver overlay --attachable stage_byfn
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan Swarm untuk membuat tumpukan berdasarkan file docker-compose-general.yaml:</font></font><br>
<br>
<pre><code class="plaintext hljs">env $(cat .env | grep ^[A-Z] | xargs) docker stack deploy -c docker-compose-general.yaml stage 2&gt;&amp;1
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan perintah ini, kami juga menetapkan variabel lingkungan, yang dijelaskan dalam file .env dan yang diperlukan agar jaringan dapat berfungsi dengan benar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menjalankan perintah </font></font><code>docker service ls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di terminal pertama. </font><font style="vertical-align: inherit;">Anda akan melihat daftar semua layanan yang berjalan pada semua instance EC2 kami.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc6/d4d/e6c/dc6d4de6c534c2b97430a1cf2e45512c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 4. </font><font style="vertical-align: inherit;">Daftar semua layanan yang berjalan di semua server EC2. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melihat hal yang sama di terminal Anda seperti pada tangkapan layar, maka semuanya baik-baik saja. </font><font style="vertical-align: inherit;">Sekarang jalankan jaringan kami. </font><font style="vertical-align: inherit;">Di terminal kedua, Anda harus memasukkan wadah CLI (setelah semua, wadah ini digunakan pada host kedua):</font></font><br>
<br>
<pre><code class="plaintext hljs">docker exec -ti stage_cli.1.owni217t53m53efjtikb5oa2f /bin/bash
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nama kontainer dapat dilihat dengan mengeksekusi perintah di terminal </font></font><code>docker ps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam wadah, kami menjalankan semua perintah kami dari file 4_create_channels.sh, menyalinnya satu per satu ke terminal. </font><font style="vertical-align: inherit;">Dalam folder bin, kami memiliki binari untuk membuat jaringan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peer channel create - create saluran;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bergabung dengan saluran rekan - bergabung dengan rekan ke saluran;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pembaruan saluran rekan - memperbarui konfigurasi;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install peer chaincode - instal kode kode;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peer chaincode instantiate - menyebarkan kode rantai yang ditentukan pada jaringan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat meninggalkan wadah dengan menjalankan perintah </font></font><code>exit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi Orang Tua Kembali</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal aplikasi pada host kedua:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-backend.git back<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita juga perlu menginstal NodeJS dan gcc-c ++ (compiler):</font></font><br>
<br>
<pre><code class="plaintext hljs">curl -sL https://rpm.nodesource.com/setup_10.x | sudo bash -<font></font>
sudo yum install nodejs<font></font>
cd back<font></font>
sudo yum install gcc-c++ -y<font></font>
npm install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami juga dapat memasukkan database kami melalui admin dengan data otorisasi berikut: </font></font><br>
<br>
<code>&lt;HOST_1&gt;:3306</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(di mana </font></font><code>&lt;HOST_1&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah alamat server EC2 pertama tempat database disimpan) Kita </font></font><br>
<code>dev</code><br>
<code>devpass</code><br>
<code>poc_database</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
juga perlu menghubungkan aplikasi API kami ke database:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/config/config.json
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapkan nilai yang benar untuk kunci </font></font><code>host</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aplikasi kembali kami telah menyiapkan migrasi dan benih. </font><font style="vertical-align: inherit;">Anda perlu menjalankannya:</font></font><br>
<br>
<pre><code class="plaintext hljs">npx sequelize-cli db:migrate<font></font>
npx sequelize-cli db:seed:all<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabel akan muncul di database. </font><font style="vertical-align: inherit;">Dan dalam tabel organisasi kita akan melihat tiga baris dengan organisasi kita - orang tua, rumah sakit, taman kanak-kanak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat membuat sertifikat di awal, kami menerima file untuk menghubungkan ke jaringan untuk setiap organisasi di host pertama. </font><font style="vertical-align: inherit;">Salin file koneksi-parents.json dari host pertama ke yang kedua. </font><font style="vertical-align: inherit;">Untuk melakukan ini, buka terminal lain dari folder di mana kita </font></font><code>key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berada dan jalankan perintah:</font></font><br>
<br>
<pre><code class="plaintext hljs">HOST1=ec2-18-232-164-119.compute-1.amazonaws.com<font></font>
HOST2=ec2-54-145-203-186.compute-1.amazonaws.com<font></font>
scp -i ./key-poc.pem -r ec2-user@$HOST1:~/network/poc-network/connection-parents.json ~<font></font>
scp -i ./key-poc.pem ~/connection-parents.json ec2-user@$HOST2:~/network/poc-network<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbaiki </font></font><code>exports.hostName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di constants.js (nilai untuk host saat ini):</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/constants.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan aplikasi kita di terminal kedua:</font></font><br>
<br>
<pre><code class="plaintext hljs">npm start
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di file userGenerator.sh, tetapkan nilai yang </font></font><code>HOST_2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benar untuk </font><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/generators/userGenerator.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, Anda perlu menjalankan skrip yang akan membuat pengguna organisasi Orang Tua:</font></font><br>
<br>
<pre><code class="plaintext hljs">./back/generators/userGenerator.sh parents
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan skrip untuk menghasilkan catatan medis:</font></font><br>
<br>
<pre><code class="plaintext hljs">node ~/back/generators/setCards.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua kartu akan dibuat di blockchain, yang juga akan ditulis ke dalam database SQL di tabel kartu.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi kembali rumah sakit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan analogi dengan aplikasi-kembali sebelumnya, kita perlu menempatkan file untuk terhubung ke jaringan pada host ketiga. </font><font style="vertical-align: inherit;">Untuk melakukan ini, di terminal kelima, jalankan:</font></font><br>
<br>
<pre><code class="plaintext hljs">scp -i ./key-poc.pem -r ec2-user@$HOST1:~/network/poc-network/connection-hospital.json ~<font></font>
scp -i ./key-poc.pem ~/connection-hospital.json ec2-user@$HOST3:~/network/poc-network<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mengkloning aplikasi kami ke host ketiga:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-backend.git back<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal NodeJS dan gcc-c ++ (compiler):</font></font><br>
<br>
<pre><code class="plaintext hljs">curl -sL https://rpm.nodesource.com/setup_10.x | sudo bash -<font></font>
sudo yum install nodejs<font></font>
cd back<font></font>
sudo yum install gcc-c++ -y<font></font>
npm install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbaiki </font></font><code>exports.hostName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di constants.js (nilai untuk host saat ini):</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/constants.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan aplikasi kita di terminal ketiga:</font></font><br>
<br>
<pre><code class="plaintext hljs">npm start
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di file userGenerator.sh, tetapkan nilai yang </font></font><code>HOST_3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benar untuk </font><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/generators/userGenerator.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kita perlu menjalankan skrip yang akan membuat pengguna organisasi Rumah Sakit:</font></font><br>
<br>
<pre><code class="plaintext hljs">./back/generators/userGenerator.sh hospital
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sekarang memiliki pengguna kedua di tabel Pengguna di database.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi TK kembali</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan analogi dengan aplikasi-kembali sebelumnya, kita perlu menempatkan file untuk terhubung ke jaringan pada host ketiga. </font><font style="vertical-align: inherit;">Untuk melakukan ini, di terminal kelima, jalankan:</font></font><br>
<br>
<pre><code class="plaintext hljs">scp -i ./key-poc.pem -r ec2-user@$HOST1:~/network/poc-network/connection-kindergarten.json ~<font></font>
scp -i ./key-poc.pem ~/connection-kindergarten.json ec2-user@$HOST4:~/network/poc-network<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mengkloning aplikasi kami ke host ketiga:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-backend.git back<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal NodeJS dan Gcc-c ++ (compiler):</font></font><br>
<br>
<pre><code class="plaintext hljs">curl -sL https://rpm.nodesource.com/setup_10.x | sudo bash -<font></font>
sudo yum install nodejs<font></font>
cd back<font></font>
sudo yum install gcc-c++ -y<font></font>
npm install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbaiki </font></font><code>exports.hostName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di constants.js (nilai untuk host saat ini):</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/constants.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan aplikasi kita di terminal ketiga:</font></font><br>
<br>
<pre><code class="plaintext hljs">npm start
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di file userGenerator.sh, tetapkan nilai yang </font></font><code>HOST_4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benar untuk </font><font style="vertical-align: inherit;">variabel </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~/back/generators/userGenerator.sh
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kita perlu menjalankan skrip yang akan membuat pengguna organisasi Rumah Sakit:</font></font><br>
<br>
<pre><code class="plaintext hljs">./back/generators/userGenerator.sh kindergarten
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sekarang memiliki pengguna ketiga di tabel Pengguna di database.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal wkhtmltopdf di server EC2 kedua, ketiga dan keempat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi kembali menggunakan perpustakaan wkhtmltopdf untuk menghasilkan laporan PDF tentang status kesehatan anak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita perlu menginstal libpng - perpustakaan resmi untuk bekerja dengan grafik raster dalam format PNG. </font><font style="vertical-align: inherit;">Perpustakaan adalah platform independen dan terdiri dari fungsi-fungsi yang ditulis dalam bahasa C. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tim pertama akan menginstal wkhtmltox - perpustakaan LGPLv3 open source untuk rendering HTML ke PDF dan berbagai format gambar menggunakan mesin rendering QtWebKit:</font></font><br>
<br>
<pre><code class="plaintext hljs">wget https://downloads.wkhtmltopdf.org/0.12/0.12.5/wkhtmltox-0.12.5-1.centos7.x86_64.rpm<font></font>
sudo yum install -y wkhtmltox-0.12.5-1.centos7.x86_64.rpm<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok perintah kedua akan mengunduh dan menggunakan pustaka libpng15:</font></font><br>
<br>
<pre><code class="plaintext hljs">wget https://sourceforge.net/projects/libpng/files/libpng15/older-releases/1.5.15/libpng-1.5.15.tar.gz/download -O libpng-1.5.15.tar.gz<font></font>
tar -zxvf libpng-1.5.15.tar.gz<font></font>
cd libpng-1.5.15<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blok perintah ketiga diperlukan untuk menginstal kompiler:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo yum groupinstall -y "Development Tools"<font></font>
./configure --prefix=/usr<font></font>
sudo make install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda masih perlu menginstal LibTIFF:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo yum install -y libtiff
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami dapat menguji:</font></font><br>
<br>
<pre><code class="plaintext hljs">wkhtmltopdf https://majestic.cloud majestic.pdf
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat membuat dan melihat dokumen PDF.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sedikit tentang Node SDK</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NodeJS-tools untuk bekerja dengan jaringan Fabric Hyperledger disajikan dalam bentuk paket "fabric-ca-client -v 1.4.0" dan "fabric-network" v 1.4.0 ". </font><font style="vertical-align: inherit;">Semua layanan aplikasi backend yang berinteraksi dengan jaringan menggunakan Node SDK terletak di folder Services, di akar proyek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat membaca tentang alat-alat ini dan metode mereka dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi resmi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proses bisnis aplikasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita akan berbicara tentang bagaimana anggota jaringan berinteraksi satu sama lain dalam aplikasi ini. </font><font style="vertical-align: inherit;">Semua proses dijelaskan dalam diagram UML. </font><font style="vertical-align: inherit;">Mari kita pertimbangkan masing-masing secara lebih rinci.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/31f/484/89d/31f48489d84e6f301b105a4cff8b45c7.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr.5. Deskripsi grafis dari proses bisnis dalam aplikasi.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jadi, ada beberapa organisasi di jaringan: Orang Tua, Rumah Sakit, dan TK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seorang anggota Orang Tua membuat catatan kesehatan elektronik untuk dua anak mereka. Data ini akan disimpan (dan ditambahkan) di jaringan blockchain. Selanjutnya, orang tua mengirim permintaan untuk perjanjian dengan dokter anak, yang akan mengamati anak-anaknya sampai mereka mencapai usia dewasa (dalam diagram - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permintaan untuk perjanjian dengan dokter</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seorang anggota organisasi rumah sakit menandatangani perjanjian (dalam diagram - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokter menandatangani perjanjian</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, orang tua mengirim permintaan ke taman kanak-kanak dengan permintaan untuk mendaftarkan anaknya (dalam diagram - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permintaan taman kanak-kanak untuk menerima anak</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf9/da3/cee/cf9da3ceedba087e53abef137fbe353b.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 6. </font><font style="vertical-align: inherit;">Halaman dengan daftar institusi pendidikan yang tersedia di akun orang tua. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Taman kanak-kanak melihat permintaan dalam daftar permintaan baru:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7cd/d01/a8b/7cdd01a8bf99c9cf9d916eef519ff66b.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 7. </font><font style="vertical-align: inherit;">Halaman dengan daftar aplikasi untuk masuk ke akun pribadi lembaga pendidikan. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Taman kanak-kanak sebelum memutuskan penerimaan anak harus memastikan kesehatannya memuaskan. </font><font style="vertical-align: inherit;">Untuk melakukan ini, taman kanak-kanak mengirimkan permintaan ke klinik tempat anak ini diamati (dalam diagram - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permintaan laporan kesehatan anak</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Permintaan ke dokter anak dilakukan secara otomatis setelah permintaan masuk ke taman dipindahkan ke tab "Diterima".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff1/5af/d29/ff15afd292455ccf1a0e9cdc69315f4c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 8. </font><font style="vertical-align: inherit;">Halaman dengan daftar aplikasi yang disetujui untuk masuk ke akun pribadi lembaga pendidikan. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dokter anak melihat permintaan dan menghasilkan laporan yang berisi data tentang kesehatan anak (dalam diagram - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buat laporan kesehatan anak</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8be/1e6/1f2/8be1e61f2dbbd9e146259a5b3a11ffa2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar 9. </font><font style="vertical-align: inherit;">Halaman dengan daftar aplikasi untuk membuat laporan tentang keadaan kesehatan anak di akun pribadi rumah sakit. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Orang tua melihat bahwa dokter anak telah membuat laporan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/06d/fe9/c40/06dfe9c403dfe790632d631c7a54e7b0.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 10. </font><font style="vertical-align: inherit;">Halaman di akun pribadi orang tua, yang menampilkan status laporan tentang status kesehatan anak. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... dan membuat keputusan tentang pemberian akses ke lembaga pendidikan prasekolah untuk melihat dan mengunduh laporan (dalam diagram - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beri izin untuk melihat laporan</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35f/ed9/c86/35fed9c8680c84dda737f7acb6029afc.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 11. </font><font style="vertical-align: inherit;">Jendela sembulan untuk memilih lembaga pendidikan yang dapat melihat laporan medis yang dihasilkan. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klik orang tua "Konfirmasi":</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3cf/00d/cb5/3cf00dcb54572c2b93b3f2af509d8245.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambar 12. </font><font style="vertical-align: inherit;">Pemberitahuan bahwa lembaga pendidikan yang dipilih telah menerima izin untuk melihat laporan medis. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam daftar laporan dalam aplikasi lembaga pendidikan, muncul informasi bahwa laporan telah dibuat dan tersedia untuk dilihat dan diunduh dalam format PDF.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2b6/a1a/ac2/2b6a1aac247da598bf28f434d0614616.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 13. </font><font style="vertical-align: inherit;">Tautan untuk mengunduh laporan dalam format PDF sesuai dengan aplikasi yang disetujui. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah laporan yang akan Anda lihat di tab baru di komputer Anda:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fbb/94a/1e1/fbb94a1e19e8e0db4354d2cc60b6927e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 14. </font><font style="vertical-align: inherit;">Laporan kesehatan yang dihasilkan oleh karyawan rumah sakit.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat rekam medis dan perjanjian dengan dokter anak, menandatangani perjanjian</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena aplikasi dirancang lebih untuk menunjukkan penyebaran jaringan pada server EC2 yang terpisah, kami akan menjalankan beberapa perintah dari skrip yang disiapkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server EC2 Pertama:</font></font><br>
<br>
<pre><code class="plaintext hljs">node ~/back/generators/setCards.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sebelumnya telah terhubung ke database. </font><font style="vertical-align: inherit;">Setelah menjalankan perintah, Anda akan melihat dua entri dalam tabel Kartu. </font><font style="vertical-align: inherit;">Juga, informasi tentang data medis kedua anak ini dicatat di blockchain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari server EC2 ini kita perlu membuat perjanjian dengan dokter anak yang akan mengamati anak-anak:</font></font><br>
<br>
<pre><code class="plaintext hljs">node ~/back/generators/createAgreement.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang perjanjian ini harus ditandatangani oleh pengguna yang kami buat untuk organisasi Rumah Sakit. </font><font style="vertical-align: inherit;">Kami menjalankan perintah dari host kedua:</font></font><br>
<br>
<pre><code class="plaintext hljs">node ~/back/generators/signAgreement.js
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perjanjian kami ditandatangani oleh dokter dan kami dapat terus mengerjakan aplikasi kami. </font><font style="vertical-align: inherit;">Selanjutnya, kita perlu menginstal aplikasi frontend pada server EC2 kedua, ketiga dan keempat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Anda dapat menemukan semua perintah untuk menghasilkan pengguna, kartu, perjanjian, dan perjanjian penandatanganan di folder ~ / back / generator.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi Frontend Orang Tua</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan pada host kedua (di mana organisasi Orang Tua berada):</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-frontend.git front<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuat file .env dan menentukan nama host tempat aplikasi frontend kami berada:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~ /front/.env:
</code></pre><br>
<br>
<pre><code class="plaintext hljs">VUE_APP_API_BASE_URL='http://ec2-107-22-75-46.compute-1.amazonaws.com:3006/'
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu untuk menetapkan dependensi:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd front<font></font>
npm install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga harus membangun aplikasi dan menjalankannya di port 8080:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker build . -t my-app<font></font>
docker run -d -p 8080:80 my-app<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi kami akan tersedia di: di </font></font><code>http://&lt;HOST_2&gt;:8080</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mana </font></font><code>&lt;HOST_2&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah alamat server EC2 kedua tempat aplikasi kami berada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Login: </font></font><code>parents</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">password: </font></font><code>password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti inilah tampilan frontend. </font><font style="vertical-align: inherit;">Di sini Anda akan melihat informasi tentang kartu medis yang kami buat dari terminal:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/409/71a/2dd/40971a2dde54cabe268936b96d0a3618.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 15. </font><font style="vertical-align: inherit;">Informasi tentang catatan medis anak-anak di akun pribadi orang tua.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi Frontend Rumah Sakit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan pada host kedua (di mana organisasi Rumah Sakit berada):</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-frontend.git front<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuat file .env dan menentukan nama host tempat aplikasi frontend kami berada:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~ /front/.env:
</code></pre><br>
<br>
<pre><code class="plaintext hljs">VUE_APP_API_BASE_URL='http://ec2-3-91-238-161.compute-1.amazonaws.com:3006/'
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu untuk menetapkan dependensi:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd front<font></font>
npm install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga harus membangun aplikasi dan menjalankannya di port 8080:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker build . -t my-app<font></font>
docker run -d -p 8080:80 my-app<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi kami akan tersedia di: di </font></font><code>http://&lt;HOST_3&gt;:8080</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mana </font></font><code>&lt;HOST_3&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah alamat server EC2 ketiga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Login: </font></font><code>hospital</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">password: </font></font><code>password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aplikasi frontend TK</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan pada host kedua (di mana organisasi TK berada):</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~<font></font>
git clone https://github.com/nixsolutions/blockchain-poc-frontend.git front<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuat file .env dan menentukan nama host tempat aplikasi frontend kami berada:</font></font><br>
<br>
<pre><code class="plaintext hljs">vim ~ /front/.env:
</code></pre><br>
<br>
<pre><code class="plaintext hljs">VUE_APP_API_BASE_URL='http://ec2-107-22-12-137.compute-1.amazonaws.com:3006/'
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu untuk menetapkan dependensi:</font></font><br>
<br>
<pre><code class="plaintext hljs">cd front<font></font>
npm install<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga harus membangun aplikasi dan menjalankannya di port 8080:</font></font><br>
<br>
<pre><code class="plaintext hljs">docker build . -t my-app<font></font>
docker run -d -p 8080:80 my-app<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi kami akan tersedia di: di </font></font><code>http://&lt;HOST_4&gt;:8080</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mana </font></font><code>&lt;HOST_4&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah alamat server EC2 keempat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Login: </font></font><code>kindergarten</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">password: </font></font><code>password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memeriksa cara menggunakan jaringan aplikasi blockchain di beberapa server virtual atau fisik. </font><font style="vertical-align: inherit;">Artikel ini dirancang untuk menjadi akrab dengan dasar-dasar teknologi blockchain, tahu apa kontrak pintar, dan setidaknya secara dangkal akrab dengan kerangka kerja Hyperledger Fabric dan aplikasi sampel kain standar.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id499202/index.html">Opium. Isi - standarisasi skema warna melalui mata programmer</a></li>
<li><a href="../id499206/index.html">Asisten virtual. Membuat chatbots tanpa pemrograman</a></li>
<li><a href="../id499208/index.html">Acara digital di Moskow dari 27 April hingga 3 Mei</a></li>
<li><a href="../id499210/index.html">Acara digital di St. Petersburg dari 27 April hingga 3 Mei</a></li>
<li><a href="../id499212/index.html">Seminar Mingguan IBM - April 2020</a></li>
<li><a href="../id499216/index.html">Desain di tingkat sistem. Bagian 2. Arsitektur terperinci</a></li>
<li><a href="../id499220/index.html">Mentransfer pengembang ke situs jarak jauh karena coronavirus meningkatkan produktivitas di Google dan Microsoft</a></li>
<li><a href="../id499224/index.html">Sudah waktunya untuk mulai belajar dengan benar</a></li>
<li><a href="../id499226/index.html">Tanpa pandemi: cara membuat film tentang cryptocurrency seharga $ 1000 dan masuk ke distribusi film top AS</a></li>
<li><a href="../id499230/index.html">Cara memelihara cacing puas yang sehat: parsing manual 1910</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>