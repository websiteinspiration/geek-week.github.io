<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍💻 ↪️ 👨🏼 JavaScriptがHTMLを食い尽くす理由：コード例 👇🏿 🏊 🎗️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Web開発は常に進化しています。最近、1つの傾向が一般的になりましたが、それは基本的にWebアプリケーションを開発する方法の一般的に受け入れられているアイデアと矛盾しています。他の人が失望している間、いくつかは彼に高い希望を持っています。これには独自の理由があり、一言で説明するのは困難です。
 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>JavaScriptがHTMLを食い尽くす理由：コード例</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492754/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web開発は常に進化しています。最近、1つの傾向が一般的になりましたが、それは基本的にWebアプリケーションを開発する方法の一般的に受け入れられているアイデアと矛盾しています。他の人が失望している間、いくつかは彼に高い希望を持っています。これには独自の理由があり、一言で説明するのは困難です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/4k/1f/oo4k1fjtwxiesojbv9pwre0n2no.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来、Webページのコードは3つのセクションで構成され、それぞれがその役割を果たします。HTMLコードは構造とセマンティクスを定義し、CSSコードは外観を決定し、JavaScriptコードはその動作を決定します。デザイナー、HTML / CSS開発者、JavaScript開発者を含むチームでは、この分離は自然です。デザイナーは視覚要素とユーザーインターフェイスを定義し、HTMLとCSS開発者はこれらの視覚要素をブラウザーのページに配置し、JavaScript開発者はユーザーとの対話を追加しますすべてを結び付け、「機能させる」。誰もが、他の2つのカテゴリの開発者のコ​​ードに干渉することなく、作業に取り組むことができます。しかし、これはいわゆる「古いスタイル」にも当てはまります。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
近年、JavaScript開発者は、HTMLではなく（たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jsフレームワークを使用して</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">JavaScriptでページの構造を決定</font><font style="vertical-align: inherit;">するようになりました。これは、ユーザー対話コードの作成と保守を簡素化するのに役立ちます。 jsフレームワークがなければ、最新のWebサイトの開発ははるかに困難です。もちろん、彼が作成したHTMLコードを細かく分割してJavaScriptと混合する必要があると誰かに言った場合、彼は非常に精通しているため、これは（明らかな理由により）敵意をもって認識されます。少なくとも、対談者は、なぜこれが必要なのか、そしてこれからどのように利益を得るのかを尋ねます。</font></font><br>
<cut></cut><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能横断的なチームのJavaScript開発者として、この質問がときどき私に尋ねられ、しばしば答えることが困難です。</font><font style="vertical-align: inherit;">このトピックで見つけたすべての資料は、JavaScriptに既に精通している読者を対象としています。</font><font style="vertical-align: inherit;">そして、これはHTMLとCSSだけを専門とする人にはあまり良くありません。</font><font style="vertical-align: inherit;">しかし、HTML-in-JSパターン（または同じ利点を提供する何か）はしばらくの間需要がある可能性が高いので、これはWeb開発に関わるすべての人が理解する必要がある重要なことだと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、興味のある人のためにコード例を示しますが、私の目標は、このアプローチを説明し、理解しなくても理解できるようにすることです。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Likbez：HTML、CSS、JavaScript</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の読者を最大化するために、これらの言語がWebページの作成にどのような役割を果たしているか、およびそれらの言語間にどのような種類の分離が最初に存在していたかについて簡単に説明します。</font><font style="vertical-align: inherit;">これをすべて知っている場合は、このセクションをスキップできます。</font></font><br>
<br>
<h3><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML：構造とセマンティクス</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTMLコード（HyperText Markup Language）は、ページに配置されるコンテンツの構造とセマンティクスを定義します。</font><font style="vertical-align: inherit;">たとえば、この記事のHTMLコードには、現在読んでいるテキストが含まれており、指定された構造に従って、このテキストは見出しの後、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CodePenを貼り付ける</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の別の段落に配置されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、買い物リストを含む簡単なWebページを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/vy/a-/ygvya-pjtq3-f_43xus3zz0w0bg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードをファイルに保存し、Webブラウザーで開くと、ブラウザーに結果が表示されます。ご覧のとおり、この例のHTMLコードは、見出し「ショッピングリスト」（ショッピングアイテム（2アイテム））、入力テキストボックス、「アイテムの追加」ボタン、および2つのアイテムリスト（「卵」）を含むページです。および「油」）。ユーザーは自分のWebブラウザーにアドレスを入力し、ブラウザーはこのHTMLコードをサーバーに要求し、ダウンロードして表示します。リストにすでに要素がある場合、サーバーはこの例のように既製の要素を含むHTMLを送信できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力フィールドに何かを入力して、[アイテムを追加]ボタンをクリックしてください。何も起こっていないことがわかります。ボタンは、HTMLを変更する可能性のあるコードに関連付けられておらず、HTML自体は何も変更できません。すぐにこれに戻ります。</font></font><br>
<br>
<h3><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS：外観を変更する</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CSSコード（Cascading Style Sheets）は、ページの外観を定義します。</font><font style="vertical-align: inherit;">たとえば、この記事のCSSは、読んでいるテキストのフォント、間隔、色を定義します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
お気づきかもしれませんが、ショッピングリストの例は非常にシンプルに見えます。</font><font style="vertical-align: inherit;">HTMLでは、間隔、フォントサイズ、色などを指定できません。</font><font style="vertical-align: inherit;">それがCSSを使用する理由です。</font><font style="vertical-align: inherit;">このページにCSSコードを追加して少し装飾する</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/em/k4/mtemk4giymqzyfu_sqy0yqhw-o0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ことができます。ご覧のとおり、このCSSコードはテキスト文字のサイズと太さ、および背景色を変更しました。</font><font style="vertical-align: inherit;">同様に、開発者は独自のスタイルのルールを記述でき、それらは任意のHTML構造に順次適用され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このページ</font><font style="vertical-align: inherit;">に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション、ボタン、またはul</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素を追加する</font><font style="vertical-align: inherit;">と、同じフォントの変更が適用されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、[アイテムの追加]ボタンはまだ何もしません。ここではJavaScriptが必要です。</font></font><br>
<br>
<h3><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript：動作を実装する</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScriptコードは、ページ上のインタラクティブ要素または動的要素の動作を定義します。たとえば、CodePenはJavaScriptを使用して記述されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例の[アイテムの追加]ボタンをJavaScriptなしで機能させるには、特別なHTMLコードを使用して、強制的にサーバーにデータを送り返す必要があります（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;form action \ u003d '...'&gt;に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">突然興味がある場合）。さらに、ブラウザーは、ページの現在の状態を保存せずに、HTMLファイル全体の更新バージョンを再ロードします。この買い物リストが大きなWebページの一部である場合、ユーザーが行ったすべてのことは失われます。テキストの読み取り中に下に移動したピクセル数は関係ありません。サーバーを再起動すると最初に戻りますが、再生した動画の何分かは関係ありません。再起動すると再び始まります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがすべてのWebアプリケーションが機能する方法でした。ユーザーがWebページを操作するたびに、彼はWebブラウザーを閉じて再度開いたように見えました。これは単純なケーススタディではそれほど重要ではありませんが、ロードに時間がかかる可能性のある大きくて複雑なページの場合、このアプローチはブラウザにもサーバーにも効果的ではありません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このページを完全に再読み込みせずにページの何かを変更したい場合は、JavaScriptを使用する必要があります。</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/qh/gd/vj/qhgdvjtm-0qokwslddjifxc_knu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ここで、入力フィールドにテキストを入力して[アイテムを追加]ボタンをクリックすると、新しい要素がリストに追加され、上部の要素数が更新されます。実際のアプリケーションでは、新しいアイテムをバックグラウンドでサーバーに送信するコードも追加して、次にページが読み込まれたときに表示されるようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScriptをHTMLおよびCSSから分離することは、この単純な例でも正当化されます。</font><font style="vertical-align: inherit;">より複雑な相互作用は次のように機能します。HTMLがロードされて表示され、JavaScriptが起動して何かを追加して変更します。</font><font style="vertical-align: inherit;">ただし、Webアプリケーションの複雑さが増すにつれて、JavaScriptコードが変更される内容、場所、タイミングを注意深く監視する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この買い物リストアプリの開発を続けると、アイテムを編集またはリストから削除するボタンが追加される可能性があります。</font><font style="vertical-align: inherit;">要素を削除するボタンのJavaScriptコードを記述し、ページの上部にある要素の総数に関する情報を更新するコードを追加することを忘れたとします。</font><font style="vertical-align: inherit;">突然、エラーが発生します。ユーザーがアイテムを削除すると、ページに示された合計数がリストと一致しなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーに気づいたらすぐに、アイテムの追加のコードからアイテムの削除のコードに同じtotalText.innerHTML行を追加して修正しました。これで同じコードができましたが、いくつかの場所で複製されています。後で、このコードを変更して、ページの上部にある「（2 items）」の代わりに「Items：2」を表示するとします。 HTML、アイテムの追加ボタンのJavaScriptコード、アイテムの削除ボタンのJavaScriptコードの3か所すべてでこのコードを更新することを忘れないようにしてください。そうしないと、別のエラーが発生します。そのため、このテキストはユーザーとの対話後に劇的に変化します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この簡単な例ですでに、コードで混乱するのがいかに簡単かがわかります。</font><font style="vertical-align: inherit;">もちろん。</font><font style="vertical-align: inherit;">この問題を解決しやすくするためにJavaScriptコードを合理化するためのアプローチと実践があります。</font><font style="vertical-align: inherit;">ただし、状況が複雑になると、簡単に開発および保守できるように、プロジェクトの再構築を継続し、常にプロジェクトを書き直す必要があります。</font><font style="vertical-align: inherit;">HTMLとJavaScriptは別々に保存されますが、両者を確実に同期させるには多くの労力が必要です。</font><font style="vertical-align: inherit;">これが、Reactなどの新しいJavaScriptフレームワークが一般的になった理由の1つです。これらは、HTMLとJavaScriptの間により形式化された効率的な関係を提供するように設計されています。</font><font style="vertical-align: inherit;">これがどのように機能するかを理解するには、まずコンピュータサイエンスについてもう少し詳しく説明する必要があります。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令型プログラミングと宣言型プログラミング</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理解すべき重要なことは、考え方の違いです。ほとんどのプログラミング言語では、1つのパラダイムのみに従うことができますが、一度に2つをサポートするものもあります。 JavaScript開発者の観点からHTML-in-JSの主な利点を理解するには、両方のパラダイムを理解することが重要です。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.  «»  ,       .         ( )   :        ,  ,    .        ,    ,   .  -     «».        Vanilla JavaScript   ,  jQuery. JavaScript        .<br>
 <ul>
<li>« X,   Y,   Z».</li>
<li>:     ,     .selected;        ,   .selected.</li>
</ul></li>
</ul><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.    ,    .  ,   ,    «» (),       ,   - .        ,     .    (, React),     ,   ,     . ,        ,     ,       ,    .  ,      :<br>
<ul>
<li>«   XYZ.  ,   ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例：ユーザーが選択した場合、この要素には.selectedクラスがあります。</font></font></li>
</ul><br>
 </li>
</ul><br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTMLは宣言型言語です</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちょっとJavaScriptを忘れてください。</font><font style="vertical-align: inherit;">ここに重要な事実があります。HTMLは宣言型言語です。</font><font style="vertical-align: inherit;">HTMLファイルでは、次のように宣言できます。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>My name is Mike.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WebブラウザーがこのHTMLコードを読み取ると、必要な手順を個別に判断して実行します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素を作成します</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レベル1のヘッダー要素（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">作成します</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイトル要素のテキストを「Hello」に設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイトル要素をセクション要素に配置します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段落要素（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">作成します</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段落要素のテキストを「私の名前はマイク」に設定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">段落要素を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素に配置し</font><font style="vertical-align: inherit;">ます。</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素</font><font style="vertical-align: inherit;">をHTMLドキュメントに配置します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントを画面に表示します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Web開発者にとって、ブラウザがこれらのことをどのように実行するかは重要ではありません。重要なのはブラウザが何をするかです。</font><font style="vertical-align: inherit;">これは、2つのプログラミングパラダイムの違いを示す良い例です。</font><font style="vertical-align: inherit;">つまり、HTMLは宣言的に抽象化されたものであり、命令的に実装されたWebブラウザーのレンダリングエンジンにラップされています。</font><font style="vertical-align: inherit;">彼はどのように気にかけるので、あなたは何を心配する必要があるだけです。</font><font style="vertical-align: inherit;">Mozilla、Google、およびAppleの優秀な人々がWebブラウザーを作成するときに命令型コードを作成したため、宣言型HTMLを作成しながら人生を楽しむことができます。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScriptは必須の言語です</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の買い物リストの例では、命令型JavaScriptの簡単な例をすでに検討しました。アプリケーション関数の複雑さが、それらを実装するために必要な労力と、この実装でのエラーの可能性にどのように影響するかを説明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、もう少し複雑なタスクを見て、宣言型アプローチを使用してどのように単純化できるかを見てみましょう。</font><font style="vertical-align: inherit;">以下を含むWebページを想像してみてください。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグが立てられたフラグのリスト。各行が選択されると色が変わります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下のテキスト、たとえば「1 of 4 selected」。フラグが変更されたときに更新する必要があります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[すべて選択]ボタン。すべてのチェックボックスがすでに選択されている場合は無効にしてください。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なしボタンを選択します。チェックボックスが選択されていない場合は無効にしてください。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、プレーンHTML、CSS、および命令型JavaScriptでの実装です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8p/kx/5u/8pkx5uxweemg5tmpqietjhadqpw.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> captionText = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'caption-text'</span>);
<span class="hljs-keyword">const</span> checkAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'check-all-button'</span>);
<span class="hljs-keyword">const</span> uncheckAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uncheck-all-button'</span>);
<span class="hljs-keyword">const</span> checkboxes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'input[type="checkbox"]'</span>);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateSummary</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> numChecked = <span class="hljs-number">0</span>;<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{
    <span class="hljs-keyword">if</span> (checkbox.checked) {<font></font>
      numChecked++;<font></font>
    }<font></font>
  });<font></font>
  captionText.innerHTML = <span class="hljs-string">`<span class="hljs-subst">${numChecked}</span> of <span class="hljs-subst">${checkboxes.length}</span> checked`</span>;
  <span class="hljs-keyword">if</span> (numChecked === <span class="hljs-number">0</span>) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (numChecked === checkboxes.length) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
checkAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">true</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">'checked'</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
uncheckAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">false</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">''</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
  checkbox.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = checkbox.checked ? <span class="hljs-string">'checked'</span> : <span class="hljs-string">''</span>;<font></font>
    updateSummary();<font></font>
  });<font></font>
});</code></pre><br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのまま頭痛</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
命令型JavaScriptを使用してこの関数を実装するには、ブラウザーにいくつかの詳細な指示を与える必要があります。</font><font style="vertical-align: inherit;">これは、上記の例のコードを口頭で説明したものです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTMLでは、元のページ構造を宣言します。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4つの行要素（テーブルの行、それはリストです）があり、それぞれにフラグが含まれています。</font><font style="vertical-align: inherit;">3番目のフラグがチェックされます。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「選択された4のうちの1」というテキストがあります。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オンになっている[すべて選択]ボタンがあります。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[選択しない]ボタンがあり、無効になっています。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScriptでは、これらの各イベントが発生したときに何を変更する必要があるかを指示します：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フラグがマークされていない状態からマークされた状態に変化した場合：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックボックスを含む行を見つけて、それに.selected CSSクラスを追加します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト内のすべてのフラグを見つけて、マークされているフラグの数とマークされていないフラグの数を計算します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキストを見つけて更新し、選択した購入の正しい数とその合計数を示します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[なしを選択]ボタンを探し、無効になっている場合はオンにします。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのチェックボックスがオンになっている場合は、[すべて選択]ボタンを見つけてオフにします。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フラグがマーク付きからマークなしに変化した場合：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグを含む行を見つけ、そこから.selectedクラスを削除します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト内のすべてのチェックボックスを見つけ、チェックされているチェックボックスとチェックされていないチェックボックスの数を計算します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">履歴書テキストアイテムを見つけて、確認済みの数と合計で更新します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[すべて選択]ボタンを探し、無効になっている場合はオンにします。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのボックスがオフになっている場合は、[何も選択しない]ボタンを見つけてオフにします。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[すべて選択]ボタンを押すと、次のようになります。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト内のすべてのチェックボックスを見つけてマークします。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト内のすべての行を見つけ、.selectedクラスをそれらに追加します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキストを見つけて更新します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[すべて選択]ボタンを見つけてオフにします。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[何も選択しない]ボタンを見つけてオンにします。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[何も選択しない]ボタンが押された場合：</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト内のすべてのチェックボックスを見つけ、すべてのチェックボックスをオフにします。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト内のすべての行を見つけ、それらから.selectedクラスを削除します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再開テキスト要素を見つけて更新します。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[すべて選択]ボタンを見つけてオンにします。</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[何も選択しない]ボタンを見つけてオフにします。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
うわー...それはたくさんですよね？考えられるすべての状況に対応するコードを書くことを忘れないでください。これらの指示のいずれかを忘れたり、めちゃくちゃにしたりすると、エラーが発生します。合計がチェックボックスと一致しないか、クリックしても何も実行されないボタン、または選択された行の色が間違っているなどがオンになっています。まだ考えていませんし、ユーザーが不満を言うまでわかりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここには本当に大きな問題があります。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">状態</font></a><font style="vertical-align: inherit;">に関する完全な情報を含むエンティティはありません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの（この場合、これは「どのフラグがマークされているか？」という質問への回答です）、この情報の更新を担当します。</font><font style="vertical-align: inherit;">フラグはもちろん、チェックされているかどうかを知っていますが、テーブル、テキスト、および各ボタンの行のCSSコードもこれを認識している必要があります。</font><font style="vertical-align: inherit;">この情報の5つのコピーはHTML全体に個別に保存され、これらの場所のいずれかで変更があった場合、JavaScript開発者はこれをキャッチし、命令コードを記述して他の場所の変更と同期する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、1つの小さなページコンポーネントの簡単な例です。</font><font style="vertical-align: inherit;">この一連の指示が頭痛のように見えても、命令型JavaScriptでこれらすべてを実装する必要があるときに、より大きなWebアプリケーションがどれほど複雑で壊れやすいかを想像してみてください。</font><font style="vertical-align: inherit;">多くの複雑な最新のWebアプリケーションでは、このソリューションは「完全に」という言葉から拡張されません。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">真実の源を探しています</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reactのようなツールでは、JavaScriptを宣言的に使用できます。</font><font style="vertical-align: inherit;">HTMLがWebブラウザーに表示するための命令に対する宣言的な抽象化であるのと同様に、ReactはJavaScriptに対する宣言的な抽象化です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTMLによって、実装の詳細ではなくページの構造に焦点を当てることができ、ブラウザがこの構造をどのように表示するかを覚えていますか？同様に、Reactを使用する場合、1つの場所に格納されているデータに基づいて構造を定義し、構造に集中できます。このプロセスは一方向バインディングと呼ばれ、アプリケーション状態データの場所は「単一の真のソース」と呼ばれます。真実のソースが変更されると、Reactが自動的にページ構造を更新します。 HTMLのWebブラウザーと同様に、バックステージで必要な手順を処理します。ここでは例としてReactを使用していますが、このアプローチはVueなどの他のフレームワークでも機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の例のチェックボックスのリストに戻りましょう。</font><font style="vertical-align: inherit;">この場合、知りたい「真実」はかなり簡潔です。どのフラグがチェックされますか？</font><font style="vertical-align: inherit;">その他の詳細（たとえば、テキスト、線の色、ボタンがオンになっているなど）は、信頼できる情報源に基づいて取得された情報です。</font><font style="vertical-align: inherit;">そして、なぜ彼らはこの情報の独自のコピーを持つべきなのでしょうか？</font><font style="vertical-align: inherit;">それらは単に単一の読み取り専用の真理値ソースを使用する必要があり、すべてのページ要素はどのチェックボックスがチェックされているかを「知っている」必要があり、それに応じて動作します。</font><font style="vertical-align: inherit;">テーブルの行、テキスト、およびボタンは、チェックされているかどうかに応じて、チェックボックスに自動的に応答できるようになっていると言えます（「何が起こっているのか確認してください」）。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたが欲しいもの（本当に欲しいもの）を教えてください</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このページをReactで実装するために、リストをいくつかの単純なファクトの説明に置き換えることができます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どのフィールドがマークされているかを示す、checkboxValuesと呼ばれるtrue / false値のリストがあります。</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例：checkboxValues \ u003d [false、false、true、false]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このリストは、4つのフラグがあり、3番目のみが設定されていることを示しています。</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テーブルのcheckboxValuesの各値について、次のような行があります：</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値がtrueの場合、.selectedというCSSクラスがあり、かつ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値がtrueの場合にチェックされるフラグが含まれます。</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テキスト「{x} of {y} selected」を含むテキスト要素があります。ここで、{x}は、checkboxValues内の真の値の数であり、{y}は、checkboxValues内の値の総数です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックボックス値に偽の値がある場合に有効になる「すべて選択」ボタンがあります。</font></font></li>
<li>  Select None,  ,   checkboxValues ​​  true.</li>
<li>  ,     checkboxValues.</li>
<li>  Select All ,     checkboxValues ​​ true.</li>
<li>   Select None    checkboxValues ​​  false.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の3つの段落は依然として必須の指示です（「これが発生した場合、実行してください」）が、これが私たちが記述する必要がある唯一の必須コードです。これらは3行のコードであり、すべてが1つの真の情報源を更新します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残りは宣言文（「there is ...」）で、ページ構造の定義に直接組み込まれています。これを行うには、特別なJavaScript構文拡張であるJavaScript XML（JSX）を使用して要素のコードを記述します。 HTMLに似ています。JSXを使用すると、HTMLのような構文を使用して、インターフェースの構造や通常のJavaScriptを記述できます。これにより、JSロジックとHTML構造を混在させることができるため、いつでも構造を変えることができます。これはすべて、checkboxValuesの内容に依存します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reactの例を書き直します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/np/bv/zknpbvuumzprgv3vrejfyv99vkk.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ChecklistTable</span>(<span class="hljs-params">{ columns, rows, initialValues, ...otherProps }</span>) </span>{
  <span class="hljs-keyword">const</span> [checkboxValues, setCheckboxValues] = React.useState(initialValues);<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">true</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uncheckAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">false</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCheckboxValue</span>(<span class="hljs-params">rowIndex, checked</span>) </span>{
    <span class="hljs-keyword">const</span> newValues = checkboxValues.slice();<font></font>
    newValues[rowIndex] = checked;<font></font>
    setCheckboxValues(newValues);<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">const</span> numItems = checkboxValues.length;
  <span class="hljs-keyword">const</span> numChecked = checkboxValues.filter(<span class="hljs-built_in">Boolean</span>).length;<font></font>
  <font></font>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table pf-m-grid-lg"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"grid"</span> {<span class="hljs-attr">...otherProps</span>}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">caption</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{numChecked} of {numItems} items checked<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{checkAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">numItems}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-primary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Check all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{uncheckAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">0}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-secondary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Uncheck all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">caption</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">td</span> /&gt;</span>
          {columns.map(function(column) {
            return <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"col"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{column}</span>&gt;</span>{column}<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>;
          })}
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        {rows.map(function(row, rowIndex) {
          const [firstCell, ...otherCells] = row;
          const labelId = `item-${rowIndex}-${firstCell}`;
          const isChecked = checkboxValues[rowIndex];
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{firstCell}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isChecked</span> ? '<span class="hljs-attr">checked</span>' <span class="hljs-attr">:</span> ''}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table__check"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
                  <span class="hljs-attr">name</span>=<span class="hljs-string">{firstCell}</span>
                  <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">{labelId}</span>
                  <span class="hljs-attr">checked</span>=<span class="hljs-string">{isChecked}</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{function(event)</span> {
                    <span class="hljs-attr">setCheckboxValue</span>(<span class="hljs-attr">rowIndex</span>, <span class="hljs-attr">event.target.checked</span>);
                  }}
                /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[0]}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{labelId}</span>&gt;</span>{firstCell}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              {otherCells.map(function(cell, cellIndex) {
                return (
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{cell}</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[1</span> + <span class="hljs-attr">cellIndex</span>]}&gt;</span>
                    {cell}
                  <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                );
              })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ShoppingList</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChecklistTable</span>
      <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Shopping list"</span>
      <span class="hljs-attr">columns</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">Item</span>', '<span class="hljs-attr">Quantity</span>']}
      <span class="hljs-attr">rows</span>=<span class="hljs-string">{[</span>
        ['<span class="hljs-attr">Sugar</span>', '<span class="hljs-attr">1</span> <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Butter</span>', '½ <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Eggs</span>', '<span class="hljs-attr">2</span>'],
        ['<span class="hljs-attr">Milk</span>', '½ <span class="hljs-attr">cup</span>'],
      ]}
      <span class="hljs-attr">initialValues</span>=<span class="hljs-string">{[false,</span> <span class="hljs-attr">false</span>, <span class="hljs-attr">true</span>, <span class="hljs-attr">false</span>]}
    /&gt;</span></span><font></font>
  );<font></font>
}<font></font>
<font></font>
ReactDOM.render(<font></font>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ShoppingList</span> /&gt;</span></span>,
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'shopping-list'</span>)<font></font>
);<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSXは奇妙に見えます。</font><font style="vertical-align: inherit;">私が最初にこれに出会ったとき、それをすることは単に不可能であるように私には思えました。</font><font style="vertical-align: inherit;">私の最初の反応は、「何ですか？</font><font style="vertical-align: inherit;">HTMLをJavaScriptコード内に含めることはできません！」</font><font style="vertical-align: inherit;">そして私だけではなかった。</font><font style="vertical-align: inherit;">ただし、これはHTMLではなく、JavaScriptはHTMLにドレスアップします。</font><font style="vertical-align: inherit;">実際、これは強力なソリューションです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の20の命令を覚えていますか？</font><font style="vertical-align: inherit;">これで3つあります。</font><font style="vertical-align: inherit;">残りの（内部の）命令命令Reactは、checkboxValuesが変更されるたびに、舞台裏で実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードを使用すると、線のテキストまたは色がチェックボックスと一致しない場合、またはボタンがオンの場合に、状況が発生しなくなりますが、無効にする必要があります。</font><font style="vertical-align: inherit;">現在、Webアプリケーションでは発生し得ないエラーのカテゴリ全体があります。</font><font style="vertical-align: inherit;">すべての作業は単一の真実の情報源に基づいて行われ、開発者は少ないコードを記述して、夜によりよく眠ることができます。</font><font style="vertical-align: inherit;">まあ、少なくともJavaScript開発者は...</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScriptがHTMLを打ち負かした：飢えた</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webアプリケーションがより複雑になるにつれ、HTMLとJavaScriptの間のタスクの従来の分離を維持することはより困難になってきています。</font><font style="vertical-align: inherit;">HTMLはもともと静的なWebページ用に設計されました。</font><font style="vertical-align: inherit;">そこでより複雑なインタラクティブ関数を追加するには、命令型JavaScriptに適切なロジックを実装する必要があります。これは、コードの各行でより混乱しやすく、壊れやすくなります。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最新のアプローチの利点：予測可能性、再利用性、組み合わせ</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単一の信頼できる情報源を使用できることは、このモデルの最も重要な利点ですが、他の利点もあります。 JavaScriptコードでページ要素を定義すると、コンポーネント（Webページの個々のブロック）を再利用できるため、同じHTMLコードを複数の場所にコピーして貼り付けることができなくなります。コンポーネントを変更する必要がある場合は、そのコードを1か所だけ変更してください。この場合、コンポーネントのすべてのコピー（再利用可能なコンポーネントを使用している場合は、1つまたは多くのWebアプリケーションの内部）に変更が発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単純なコンポーネントを取り、それらをLEGOキューブのように組み合わせて、ロジックをあまり混乱させずに、より複雑で有用なコンポーネントを作成できます。</font><font style="vertical-align: inherit;">また、他の開発者が作成したコンポーネントを使用すると、コードを書き直さなくても、更新やバグ修正を簡単にまとめることができます。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じJavaScript、プロファイルのみ</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの利点には欠点があります。</font><font style="vertical-align: inherit;">人々がHTMLとJavaScriptの分離を高く評価するのには十分な理由があります。</font><font style="vertical-align: inherit;">前に述べたように、通常のHTMLファイルを破棄すると、JavaScriptを使用したことがないユーザーのワークフローが複雑になります。</font><font style="vertical-align: inherit;">以前は独立してWebアプリケーションに変更を加えることができた人は、自律性を維持するため、またはチームに配置するために、さらに複雑なスキルを習得する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な欠陥もあります。たとえば、リンターやパーサーなどの一部のツールは、通常のHTMLのみを入力として受け入れ、代わりにサードパーティのJavaScriptプラグインでの作業が難しい場合があります。さらに、JavaScriptは最適な言語ではありませんが、Webブラウザーで受け入れられている統一規格です。新しいツールと機能はそれをより良くしますが、それに取り組む前に知っておく必要があるいくつかの落とし穴があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の潜在的な問題：ページのセマンティック構造が抽象的なコンポーネントに分割されると、開発者は結果として生成されるHTML要素について考えるのをやめるかもしれません。</font><b><font style="vertical-align: inherit;">セクションやサイド</font></b><font style="vertical-align: inherit;">などの特定のHTMLタグ</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">には独自のセマンティクスがあり、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">divやspan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの汎用タグを使用</font><font style="vertical-align: inherit;">すると、ページ上で視覚的に同じように見えても</font><font style="vertical-align: inherit;">失わ</font><font style="vertical-align: inherit;">れます。</font><font style="vertical-align: inherit;">これは、さまざまなカテゴリのユーザーがWebアプリケーションを確実に利用できるようにするために特に重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、視覚障害のあるユーザーのスクリーンリーダーの動作に影響します。</font><font style="vertical-align: inherit;">おそらくこれらは開発者にとって最も興味深いタスクではありませんが、JavaScript開発者は常に、この場合のHTMLのセマンティクスの維持が最も重要な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タスクで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あることを覚えておく必要があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font color="“#3AC1EF”"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意識的なニーズと無意識の傾向</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近、すべてのプロジェクトでフレームワークを使用する傾向があります。 HTMLとJavaScriptの分離は時代遅れだと信じている人もいますが、そうではありません。複雑なユーザーインタラクションを必要としない単純な静的Webサイトの場合、これは適切です。もっと熱心なReactファンはここで私に反対するかもしれませんが、JavaScriptがすべて非インタラクティブなWebページを作成することである場合は、それを使用しないでください。 JavaScriptは通常のHTMLほど速く読み込まれません。したがって、新しい開発経験を得たり、コードの信頼性を向上させるタスクを設定しない場合、ここでのJavaScriptは、害を及ぼすだけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、ReactでWebサイト全体を記述する必要はありません。またはVue！または他に何があるか...すべてのチュートリアルは基本的にReactを使用してサイトをゼロから開発する方法を示しているため、多くの人はこれを知らないでしょう。シンプルなウェブサイトに小さな複雑なウィジェットが1つしかない場合は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、1つのコンポーネントにReactを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。 Webpack、Redux、Gatsbyなど、「ベストプラクティス」として誰かが推奨することについて常に心配する必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、アプリケーションが非常に複雑な場合は、最新の宣言型アプローチを使用することは絶対に価値があります。</font><font style="vertical-align: inherit;">Reactは最良のソリューションですか？</font><font style="vertical-align: inherit;">番号。</font><font style="vertical-align: inherit;">彼はすでに強い競争相手を持っています。</font><font style="vertical-align: inherit;">そして、ますます登場します...しかし、宣言型プログラミングはどこにも行きません。そして、いくつかの新しいフレームワークでは、このアプローチは再考され、よりよく実装されるでしょう。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja492730/index.html">米国国防総省：AIと無人車両の倫理</a></li>
<li><a href="../ja492742/index.html">Prometheus + GrafanaでNode JSアプリケーションデータを視覚化する</a></li>
<li><a href="../ja492744/index.html">どのシステムが最も音量が大きく、「絶対的な」沈黙をもたらすか：2つの興味深い科学プロジェクト</a></li>
<li><a href="../ja492746/index.html">プログラミングの怒りを避ける方法は？インテグレーターのヒント</a></li>
<li><a href="../ja492748/index.html">専門職DevOps-engineer：システム管理者の見解</a></li>
<li><a href="../ja492758/index.html">開発者向けのポッドキャスト</a></li>
<li><a href="../ja492760/index.html">CSSグリッド：レスポンシブな20行の雑誌レイアウトの入力</a></li>
<li><a href="../ja492762/index.html">投資家のアルファベット：マージンコールとは何ですか、それを回避する方法</a></li>
<li><a href="../ja492766/index.html">Angularでイベントを使って作業をポンプします</a></li>
<li><a href="../ja492768/index.html">AFLSmartの例によるGreyboxファジング</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>