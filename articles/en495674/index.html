<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅🏻 💫 💘 Exploring electromagnetic fields using an SDR receiver and OpenCV 👨🏾 👨🏾‍🎤 🌫️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The SDR receiver, even the cheapest, is a highly sensitive instrument. If you add a special antenna and OpenCV to it, you can not only habitually list...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Exploring electromagnetic fields using an SDR receiver and OpenCV</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495674/"><img src="https://habrastorage.org/webt/ib/ou/e3/iboue3wtbxaaqgybseqipvlcli0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The SDR receiver, even the cheapest, is a highly sensitive instrument. </font><font style="vertical-align: inherit;">If you add a special antenna and OpenCV to it, you can not only habitually listen to the ether, but also look at the distribution of electromagnetic fields in space. </font><font style="vertical-align: inherit;">Such an interesting application will be discussed in this article. </font><font style="vertical-align: inherit;">Attention! </font><font style="vertical-align: inherit;">Under the cut a lot of pictures and animations!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Would you like to see electromagnetic fields? Yes, there is nothing easier, here they are: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4q/wp/g1/4qwpg15jegjm3_v3nnk1oep1n8q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I agree, not very clearly. Even if we are able to see light (which is also described by these equations), then the radio spectrum is not so easily accessible for us. For this reason, mankind has come up with many different ways to spy on this mystery of nature, using both computer modeling and specialized installations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The latter can be found within the walls of scientific institutes, research departments of large companies and, of course, the military. Usually this is a separate room, shielded from external radiation by a Faraday cage, and from the inside covered with radar absorbing materials. After all, a neighbor-amateur or an ungrounded microwave should not bother us when conducting such experiments. This room is called anechoic chamber. The name is of course more consistent with the recording studio, but in this case, “echo” refers to any internal reflections and re-reflections of electromagnetic waves that interfere with research and are mercilessly quenched. Inside the camera, from the point of view of the antenna, you are in an absolute void, where all the radiation goes into endless expanses simulated by a radio absorber and nothing comes back.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title">   </b><div class="spoiler_text">          ,   -,     ,  - —    ,      ,        .    «»       <s>    </s>        ,        ---,         .</div></div><br>
<img src="https://habrastorage.org/webt/ce/c8/7g/cec87grt90ifljrqx2srics4-jw.jpeg"><br>
<i>      ,   Panasonic.  « » —    .         —  .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When conducting tests for electromagnetic compatibility, the development of antennas, as well as scientific research related to electromagnetic radiation, one cannot do without such cameras. However, the camera itself is only part of the story. Among other key elements necessary to record the behavior of electromagnetic waves, special antennas, expensive measuring instruments, and, in fact, a field scanner will also be needed. The scanner is nothing more than the notorious coordinate system with CNC. You can give the scanner a suitable antenna or a measuring probe in your “hand”, and then go to drink coffee until it carefully walks around the points set by the program, constructing a beautiful picture of the distribution of fields around your new tank or, for example, the radiation pattern of the radar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But back to the point. It just so happened that far from sources, in empty space, electromagnetic fields look pretty boring. Something like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7p/dh/uw/7pdhuwo7ipehsxq4kel_wzbx3ji.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
While the most magic and interesting things lurk in regions where waves form (near sources), or interact with objects. These areas usually do not exceed the dimensions of the wavelength of radio emission, which is involved in the experiment, and are called the near-field zone. Investigations of the near field fields are undoubtedly one of the most curious, and of course they could not stay long only behind the shielded walls of large organizations.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enthusiasts quickly realized that for mapping fields on the same principle as in professional cameras, you can build your own coordinate scanner, or, even simpler, adapt the ubiquitous 3d printers for this purpose. Why, really, they even </font><font style="vertical-align: inherit;">wrote a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scientific article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> about it. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ce/lt/hx/celthx3phyz46vx340eqew1gozi.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3d-printers, where instead of the extruder (or with it) are installed measuring probes, antennas. It is shown above how the coupling coefficient of two loop antennas: the measuring one, and the one lying on the printer table (the so-called S21 parameter) changes in space. Below is an example of constructing the distribution of a high-frequency magnetic field over an Arduino shawl.</font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although homemade scanners are not in the electromagnetically sterile environment of anechoic chambers, they can still produce interesting results. And if in the first example from the picture above an expensive professional analyzer is used to collect data (a scientific article, after all), then in the second case they cost an inexpensive SDR receiver, which makes such experiments even more affordable. However, we will not dwell on 3d printers, they are already tired of everything in order. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The author of the second project from the picture, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Charles Grassin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , decided to simplify the process even more, and completely get rid of any coordinate system, like an extra bulky element, offering to track the movement of the measuring antenna using OpenCV. The system he conceived looks like this:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rq/56/ms/rq56msbovhfzkatrkavyfkfknmk.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation diagram for mapping electromagnetic fields using an SDR receiver and OpenCV.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
A camera is installed above the object whose field we want to see. The script sets how our antenna looks, and then we draw it, just like a brush, in the areas where we want to see the field. The signal from the antenna goes to the SDR receiver and the python script compares the position of the antenna in the frame with the rms signal level from the receiver. After which we get a beautiful picture with the distribution of fields. Of course, this approach so far limits us to one plane, but this does not make it less interesting. Let's build this system and check how it works, since a lot of details are not required for this.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First we decide what exactly we will measure. Despite the fact that electromagnetic fields are a single phenomenon, we can separately look at both its electric and magnetic components. Each type will require its own special measuring antenna. Like the author of the original, I made a probe antenna for a magnetic field according to the scheme below: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p7/ia/cb/p7iacb6dnqvl5cxxoe_i-herez4.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A scheme for manufacturing a magnetic probe and examples that I made. If you took the mapping of fields seriously, then make a lot of antennas of different sizes - come in handy. Even if it doesn’t come out with margins, then there will be a good set for blowing soap bubbles.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This design is well known to hams under the name of a loop antenna, however, unlike older brothers, this antenna does not have to be coordinated with the receiver, which certainly simplifies our life. As a basis for a probe, it is best to use a hard or semi-hard coaxial cable, but in principle, you can do almost anything. Cable impedance also does not play a role. What is important is the size of the antenna, as we will see later. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To demonstrate how the probe “feels” the different components of the electromagnetic field, I modeled it in CST:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/rm/qd/jurmqddsqiwsdrgws3pn9zdxr6w.gif"><br>
<i>       ,          ,    .       —        ,      (   ).         .         .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Even as two manifestations of a single entity, the electric and magnetic fields interact with the antenna in different ways. The gap in the braid that we made from above is nothing but an air condenser. As befits a capacitor, it concentrates the electric field in its gap. The magnetic field, due to the symmetry of the structure, has a maximum inside the loop. Thus, if we want to measure the latter, it is enough to place the loop parallel to the measured object. And this is just what you need to capture it in the frame using OpenCV! So, after the antenna is ready, add the final touch. We will improve its visual recognition by using black heat shrink or electrical tape. Here is my work:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/fi/up/gdfiupw_gs7i0ipjjeyghsd2xiy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the largest antenna (5 cm in diameter), there was no shrinkage of the required size. However, in the end I did not use it. Black will give a great contrast to the white background so that OpenCV makes it easier to see our antenna.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Next, you need to get a webcam and install it on a kind of tripod. If suddenly you did not have a webcam, then a smartphone on android with the DroidCam application is also suitable. The antenna is connected to the SDR receiver, and he, in turn, to the computer. The hardware is ready for this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Download the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">camera_emi_mapper.py</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> script </font><font style="vertical-align: inherit;">. It will require the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opencv</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font><b><font style="vertical-align: inherit;">pyrtlsdr</font></b><font style="vertical-align: inherit;"> libraries to </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">work.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Detailed installation instructions are available at the designated link. Please note that if you use Windows, then the pyrtlsdr libraries should be of the same bit depth as the python version on your system. The script is launched by the command:</font></font><br>
<br>
<pre><code class="powershell hljs">python3 camera_emi_mapper.py <span class="hljs-literal">-c</span> <span class="hljs-number">1</span> <span class="hljs-operator">-f</span> <span class="hljs-number">100</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-c</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flag </font><font style="vertical-align: inherit;">allows you to select a camera if you have several of them, and the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-f</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> flag </font><font style="vertical-align: inherit;">sets the frequency at which the signal magnitude will be monitored (in megahertz). If everything works, then we will see the image from the webcam. For the first test experiment, I placed my </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSA103</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> device in the frame </font><font style="vertical-align: inherit;">, turning it on in the generator mode at </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">100 MHz</font></a><font style="vertical-align: inherit;"> : We </font></font><br>
<br>
<img src="https://habrastorage.org/webt/es/np/js/esnpjsuxfkuk-zspauh-qvxe_y8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
press </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> so that the script remembers the background image, and then we put a loop into the scanning zone. Then, using the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key, </font><font style="vertical-align: inherit;">you can select our antenna in the following way: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uf/gg/sm/ufggsmll5zmkjxesxhyvrjjsdyq.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After confirming your choice with the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> key, </font><font style="vertical-align: inherit;">data capture from the camera and the SDR receiver will immediately begin. Well, and as usual, the first time everything goes wrong:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/lr/vj/aflrvjczj3jvh38qdkmlghbcd1a.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To understand what OpenCV sees and why the capture does not work as it should, I uncommented the following lines of the script:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># debug only</span>
<span class="hljs-comment">#cv2.imshow("Thresh", thresh)</span>
<span class="hljs-comment">#cv2.imshow("Frame Delta", frameDelta)</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
They open two additional windows where you can see how well the antenna contrasts with the background image. </font><font style="vertical-align: inherit;">This contrast is </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adjusted by the</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> value in </font><b><font style="vertical-align: inherit;">thresh</font></b><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="python hljs">    	
thresh = cv2.threshold(frameDelta, <span class="hljs-number">50</span>, <span class="hljs-number">255</span>, cv2.THRESH_BINARY)[<span class="hljs-number">1</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the original it was 15, I increased this value to 50, and the antenna began to be confidently captured. </font><font style="vertical-align: inherit;">This number must be selected depending on the lighting in the frame. </font><font style="vertical-align: inherit;">At the same time, I experimented with the brightness of the antenna, since black sometimes got confused with a large square FPGA. </font><font style="vertical-align: inherit;">After these corrections, everything began to work like a clock: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f9/xd/dy/f9xddydb0dw1nx1mrn3-qopdqgu.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the scan is completed, you need to press </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the script will build the field distribution. </font><font style="vertical-align: inherit;">In this case, the result is as follows:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xp/mq/p0/xpmqp0epk-zhqloznyehrepfqwe.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Honestly - little is understood, everything turned out to be blurry and with some kind of divorce. Not that I was expecting a super result, but I would like to see something more specific, for example, which circuits in the device are involved in the generation. Still, the mapping of electromagnetic fields should give answers to questions and not create new ones. I looked again at the code and saw that the picture of the field was very blurry during construction. I reduced this effect by changing the sigma value from 7 to 2:</font></font><br>
<br>
<pre><code class="python hljs">
blurred = gaussian_with_nan(powermap, sigma=<span class="hljs-number">2</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, I replaced the measurement object. To test the method, you need some simpler thing as a test subject, and a device with a complex internal structure is not suitable for this. Moreover, the distribution of the radio frequency magnetic field of the new object must be known in advance so that it is clear whether the script shows the fields correctly or not. The same magnetic loop fits perfectly with this criterion. As we saw earlier, in a loop, the magnetic field is concentrated inside its loop. So, when scanning, we should see it. I soldered a simple square resonant circuit of the form of copper foil and capacitor:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n8/8q/v2/n88qv2miykk7uik2lga7dkgras4.jpeg"><br>
<i>     ,       .               ,           .  ,      .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may have a question - how can we see the field in this way, if there is not even any source here! And the thing is that we are surrounded by white noise (the same “noise” that we hear when we are not tuned to a favorite station), and in its spectrum there are already almost any desired frequencies. If we bring the measuring antenna close to the resonant circuit, it will become more susceptible to noise at the resonant frequency of this circuit itself. The SDR receiver is so sensitive that it can even be used to measure fields in passive objects! Let's try what happens:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lx/p5/e9/lxp5e95ggjapsjhd9fpa2q0hqi4.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I tried to act very carefully, but still in the process I slightly shifted the sheet on which the contour was glued. However, the result was not bad. You can drive our probe much faster. As I understand it, the speed of data processing depends only on the performance of the computer and the tremor of your hands. In any case, the video card of my laptop noticeably strained during the testing process. Yes, and I also changed the color map to a more pleasant plasma for the eyes:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/7m/qv/bh7mqv3olx5fxmdzbvk5v3jonyc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It seems that the practice nevertheless coincides with the theory and the working method. We see the magnetic field where it was expected - inside the circuit. At the same time, the resolution of our image is directly dictated by the size of the measuring antenna, which is why the fields are a little out of place where they are physically. And this is the reason why the size of the antenna is so important, because the magnitude of this shift will depend on it. It is also clearly seen that a change in the direction of movement of the antenna distorts the picture. This is because the process of such "drawing" reminds me suspiciously of something:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uk/rt/tl/ukrttl_ibsnefffeocp-33mh-q0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By analogy with the example above, the method gives good resolution in the direction of movement of the antenna. But with each change in this direction, an error creeps into the data in the form of a displacement of the field picture. I circled the same outline, but this time diagonally, which once again demonstrated this drawback. By the way, both scans were carried out at a frequency of 87 MHz. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/ql/bv/rdqlbvtgqpekxzzekrk-f7ffd9s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, I am a so-so programmer, because I have not yet figured out how to modify the code to fix this error. Instead, I can offer a brief authoring methodology for measuring fields. We call it a single stroke technique:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xl/kx/ng/xlkxngwi2y8p7tdrfr3scwnvahu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Everything is simple - if there is one direction, then there are no errors. Of course, while this limits the scope of possible applications even more, but we will be sure that the observed fields more or less correspond to reality. Now, being aware of how to measure correctly, you can try to scan something else. For example, did you know that a resonant circuit, like the one already shown, can be done without conductors at all? As I have already argued, a high-frequency current flows through a capacitor, which means that you can assemble a resonant circuit using only it and nothing more. Mentally increase the capacitor many times and get a piece of ceramic that also localizes the magnetic field near it (thanks to colleagues from ITMO for the provided sample). Scanning frequency 254 MHz.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ux/sr/5z/uxsr5ztyuzipgyutfnrrv2hybcs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is worth mentioning another drawback of the method - the distance from the object to the antenna should ideally be the same, otherwise our picture of the fields will no longer be in the plane, which means it will be distorted. Theoretically, I think this can also be fixed using OpenCV, by tracking the change in the size of the antenna in the frame. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For the final demonstration, I put together such a more complicated thing: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w5/wg/fx/w5wgfx2dc8znny90bmlga6__jwy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a multi-stage low-pass filter, it can also be called a transmission line, or even metamaterial (with a very big stretch). The circuit diagram looks like this: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6t/dx/8a/6tdx8a1uf8trjyfgwlglswnhdee.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since there are a lot of resonant elements in this structure, it also has a lot of resonant frequencies (measured by the device from the first experiment). Each minimum of the graph is a resonance in the spectrum:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fg/8p/y2/fg8py2czjqr4rrodtbndgp4oixc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Such resonances are called eigenmodes. And each of them has its own unique picture of the fields. But nevertheless, they are all connected by a certain regularity, namely, the number of waves that fit into the structure, which is clearly visible when scanning: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/li/is/h2/liish2fi84aaputbaaxtan7lrae.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having counted the number of field peaks, you can accurately name the mode number. It is also a great illustration of how electromagnetic fields reduce their speed inside materials. After all, the wave velocity is less - more field peaks fit in the picture. In my opinion, a great visual aid.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, the idea of ​​crossing SDR and OpenCV turned out to be quite good. </font><font style="vertical-align: inherit;">And most importantly, this union brings a creative touch to the boring and monotonous measurement process. </font><font style="vertical-align: inherit;">I think in the future it can make the study of electromagnetic fields a more exciting experience, as well as become a good help for home laboratories.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495646/index.html">What non-stressful podcasts to listen to on the weekend</a></li>
<li><a href="../en495658/index.html">Where to get audio for machine learning: a selection of open libraries licensed under Creative Commons</a></li>
<li><a href="../en495660/index.html">NVMe over Fiber Channel. What is it and where is it needed?</a></li>
<li><a href="../en495662/index.html">Protecting and Hacking the Xbox 360 (Part 2)</a></li>
<li><a href="../en495670/index.html">Migrating from a seamless Data Lake to a distributed Data Mesh</a></li>
<li><a href="../en495676/index.html">ETL process for retrieving email data in Apache Airflow</a></li>
<li><a href="../en495678/index.html">Competition VK Sup. Track ML. 4th place. How?</a></li>
<li><a href="../en495682/index.html">API reverse for its android application</a></li>
<li><a href="../en495684/index.html">5 reasons why interacting with your end users improves your code</a></li>
<li><a href="../en495686/index.html">Personal Las Vegas, or a game in the browser extension</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>