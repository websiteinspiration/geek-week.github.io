<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐘 👨🏾‍🚀 🎳 How I keep learning UE4 while making my game 🐞 🤺 🎪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all
 In this article I want to talk about the problems that I encountered while continuing to develop a car simulator and what I came up w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How I keep learning UE4 while making my game</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496304/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good day to all</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article I want to talk about the problems that I encountered while continuing to develop a car simulator and what I came up with when trying to get around them.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">World composition</font></font></h3><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">previous article,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I talked about how it is simple and fast to create a large world in UE4, divided into pieces to optimize loading. </font><font style="vertical-align: inherit;">As a result, I abandoned this mode for the following reasons:</font></font><br>
<br>
</p><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First of all, I drew attention to the fact that in all the examples and videos, the Epics themselves (and other developers) make 8km x 8km cards “whole”. </font><font style="vertical-align: inherit;">This is even more than I need, so World Composition for me is, apparently, a kind of over optimization.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paving roads with Landscape Splines, I noticed that UE4 does not break them down by the size of the map cell (at the joints), but extends its borders by the size of the resulting Spline. </font><font style="vertical-align: inherit;">This causes problems when trying to move the map, and it also seems to spoil the dynamic loading logic, loading immediately everything that the road passes through (in my case, this is half the world).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the border of the pieces of the map is generally an interesting question. </font><font style="vertical-align: inherit;">I redid the roads for the home-made Blueprint Spline (more on that below) and, in order not to repeat the “mistakes” of Landscape Splines, I had to implement automatic spline splitting into pieces at the level boundaries, synchronizing bends in these places, creating child objects (so that each one has its own place the level for auto loading) ... I’m not sure that this is possible in principle, and it would certainly take a lot of time (I didn’t find references to level boundary functions, etc. in Blueprints)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">falling through the map. </font><font style="vertical-align: inherit;">About the bypass of this "feature" using BlockTillLevelStreamingCompleted () I already talked about in that article. </font><font style="vertical-align: inherit;">However, this solution led to the following problem:</font></font></li>
<li>    .    (   )   OpenLevel (   World Composition),     «»   -, ..  spawn ,       ,      .        ,      ++,   «StreamingPauseRendering»     override  «BeginLoadingScreen».           ,  ,       .</li>
<li>       ,         World Composition             ++<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">UMyGameInstance::OnWorldChanged</span><span class="hljs-params">(UWorld * OldWorld, UWorld * NewWorld)</span>
</span>{<font></font>
	Super::OnWorldChanged(OldWorld, NewWorld);<font></font>
<font></font>
	<span class="hljs-keyword">if</span> (NewWorld) {
		<span class="hljs-keyword">if</span> (NewWorld-&gt;WorldComposition) {
			<span class="hljs-keyword">const</span> TArray&lt;ULevelStreaming*&gt; TilesStreaming = NewWorld-&gt;WorldComposition-&gt;TilesStreaming;<font></font>
			NewWorld-&gt;ClearStreamingLevels();<font></font>
			NewWorld-&gt;SetStreamingLevels(TilesStreaming);<font></font>
		}<font></font>
	}<font></font>
}<font></font>
</code></pre></li>
</ul><br>
<h3>    Blueprints Spline</h3><br>
<p>   ,  Blueprints Spline     «»  ( ,  ,      «» ),     Landscape Splines     «Deform Landscape to Splines».   ,      «»,  "<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Editor Apply Spline</a>"        Landscape + Spline!     «Call In Editor»   Blueprint      Spline (   )       .   .<br>
</p><br>
<h3>   Widgets</h3><br>
<p>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Vehicle Variety Pack</a>       ,  ,       ,           ,   ,       .       3D ,           Widget,  ,      ! Workaround'       «Render Target»,   3  ,        «»  ,    ,   ,   Widget.     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"> </a>,      « »   .</p><br>
<h3>    </h3><br>
<p>           ,          UE4,          ( ,         ). <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">   Udemy</a> ,  ,  ,   ,   ,    \  . ,      , ,  «»  (  PlayerController)       .          AI Controller Class  «dummy» AIController,        .<br>
</p><br>
<h3>    </h3><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suddenly it turned out to be a problem to close the menu in the game by pressing Esc. </font><font style="vertical-align: inherit;">There was no difficulty in catching the Esc in the game, pausing the game and opening the Menu Widget in full screen ... but he didn’t hurry to close Esc again, the override “On Key Down” started to work in some unobvious situations, such as “calling the console UE4 by ~, then close it, then press something ... ”The solution turned out to be painfully simple - check the“ Is Focusable ”checkbox in the Widget designer on the root element (on Widget itself).</font></font><br>
</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thank you for your attention, if I manage to break out of the released Mount &amp; Blade II: Bannerlord and not fall into the outgoing Snowrunner, then I will continue to develop my project and write about all the unobvious things that took a lot of nerves and time.</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en496286/index.html">How the new Federation / Eagle spacecraft was calculated. Interview with TESIS</a></li>
<li><a href="../en496290/index.html">Kotlin / Java console utility using args4j library</a></li>
<li><a href="../en496292/index.html">Neuro-stimulation of the spinal cord allows people paralyzed after spinal injuries to walk</a></li>
<li><a href="../en496300/index.html">Asynchronous code in Startup ASP.NET Core: 4 ways to get around GetAwaiter (). GetResult ()</a></li>
<li><a href="../en496302/index.html">How not to give your company to a hacker while she is away. Tips for SOC Specialists</a></li>
<li><a href="../en496308/index.html">Create seamless noise maps</a></li>
<li><a href="../en499818/index.html">Uzbek Telegram Marketing</a></li>
<li><a href="../en499820/index.html">Why we chose Kotlin as one of our target languages. Part 2: Kotlin Multiplatform</a></li>
<li><a href="../en499822/index.html">Wireless access point vs router: what are the differences?</a></li>
<li><a href="../en499824/index.html">The digest of events for HR and IT recruiters in May 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>