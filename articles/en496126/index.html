<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêû üèáüèæ üöï Crazy Logs üéª ‚õ™Ô∏è üéôÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the morning, without taking a sip of coffee, you open the mail and see a bug report on what was working fine for itself, it didn‚Äôt fail, and it did...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Crazy Logs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496126/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the morning, without taking a sip of coffee, you open the mail and see a bug report on what was working fine for itself, it didn‚Äôt fail, and it didn‚Äôt really bother. There are zero ideas on the move, there are no suspects, there were no big changes in the code either - you need to go into the logs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And you didn‚Äôt go there so long ago that you distributed a file with logs up to 100 mb. or up to 500 mb. Heck! Or maybe up to 10 GB (*). And precious evidence lies somewhere among 10,737,418,240 bytes, which needs to be urgently run in order to find out what is going on, even as the coffee is already cooling down. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or maybe an archive with two hundred files (say 5 MB each) of the broken logs went to the report with a trailer and you need to glue them somehow, and then look, dig and think. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Is that familiar?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, all of us, one way or another, are faced with the need to analyze the ‚Äúlife traces‚Äù of our creations, and it‚Äôs good if the file weighs a couple of MB, because opening a 1 GB log with a notepad and even trying to do a search is a dubious task. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Under the cut, I‚Äôll tell you about one tool that does not have limits (**) on the size of the opened files, but it has a very quick search. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And I invite you to join the development. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And yes, there will be many interesting pictures.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, it would seem a trivial task to open the logs and search, sometimes it can run into a banal file size. You can open a trifle with anything, at least with the same notepad or notepad ++, but on poppies and Linux, so it‚Äôs sometimes easier to drop everything into the console with a cat and do a search. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Among other things, you can use the mentioned notepad ++, atom, logExpert, sublime, bare vim, bbedit, glogg, etc. I have to say right away that not everyone will open gigabyte 2, and some of the surviving alas will break down in the search. And of all the above, perhaps only atom is truly cross-platform, and I want to have one thing when I have to work on several platforms in parallel. And how many some eat up RAM to process at least a couple of hundred megabytes of logs is a different story.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That's actually why we have the chipmunk tool, which was sawn under narrow tasks, but quickly grew into a comprehensive solution for analyzing logs. </font><font style="vertical-align: inherit;">Chipmunk can do nothing else; its tasks are reduced to a simple one:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">open logs without worrying about file size;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">search so that you don‚Äôt wait, but see the result immediately;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remember all your searches and carefully store them on demand;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">help you visually perceive the information;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">behave modestly in relation to RAM;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to solve other narrower tasks, but always reduced to the analysis of logs.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, let's talk about everything in order.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resources</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chipmunk does not load anything into RAM, except for the piece of logs that is visible on the screen (well, a little more buffering, but this is a trifle). </font><font style="vertical-align: inherit;">Walking around the file, chipmunk reads a piece of the file (corresponding to the position of the scrolling) and only loads it into memory. </font><font style="vertical-align: inherit;">Thanks to this, the appetites for RAM are quite intelligible and do not fluctuate, and the first "screen" with the contents of the file is shown immediately (although indexing will continue with the background).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convenience and visualization</font></font></h3><br>
<img src="https://habrastorage.org/getpro/habr/post_images/eb2/e92/165/eb2e92165855a17fab611a86864e1d24.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a search query manager where you can:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assign colors to filters (which facilitates the perception of data)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">save the collection of filters to a file so that you always have a ready-made search pattern on hand.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can, for example, look at the file for the frequency of matches (the higher the column, the more matches in the file fragment). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2ef/52b/e2e/2ef52be2ec67b01778d2d6eb29724d5f.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Or you can specify a group in a regular expression and get a beautiful graph (in the example used, the expression </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU usage: \ s + (\ d + \. \ D +)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">And now you see where the CPU consumption was abnormal and which piece of logs should be examined carefully. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/808/3f5/4b1/8083f54b181a1e4a1e3a7d2243069275.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to searching by itself, individual lines of logs can be bookmarked, which will always be presented in the search results window. </font><font style="vertical-align: inherit;">This is very convenient when I saw something important among a couple of million lines and you do not want to lose sight of it.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File combination</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To solve problems associated with several files, chipmunk can blind files into one (for example, by the date of the last change in the file). </font><font style="vertical-align: inherit;">All that is needed:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">throw a group of files into the chipmunk window</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">if you need to sort files as you like</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in addition, you can search all files and, for example, exclude those files that do not have matches for the word "error" (well, why should we go where everything is so calm?)</font></font></li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/f7b/4be/cfe/f7b4becfe52ba18c850105ebe0f0faac.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result, we get in the window a sequence of all selected files. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you need a more complex mechanism for combining logs (for example, if you have logs from different devices / sources), you can use the merge function, which determines the format of the time stamp for each file and displays the logs in chronological order. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ad4/85c/61e/ad485c61ebdcbf1811d07c22bae7814d.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pay attention to the color labels to the left of the output - these are file labels. </font><font style="vertical-align: inherit;">That is, you do not see the output of one file after another (concatenation), but the output sorted by time from all files (merging).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Special features</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you have ever encountered DLT, then you know what a pain it is to use DLTViewer. </font><font style="vertical-align: inherit;">The good news is that chipmunk is an alternative for opening and analyzing DLT files. </font><font style="vertical-align: inherit;">In addition, it also supports DLT streaming. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a31/182/c2d/a31182c2d8fea8c7f33192e69355561e.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When you open the DLT file, you will immediately see a summary of the file, including a list of all components, which is convenient if you are interested in a specific APID, and not the entire log.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speaking of threads</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Out of the box with chipmunk comes a simple plugin ‚ÄúCommands‚Äù, which will allow you to run any console command and receive output in chipmunk with the ability to search for this output. </font><font style="vertical-align: inherit;">Naturally, if you have an active search (for example, a saved filter), then the result data will be updated as the stream updates from your console command.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7ae/20a/f12/7ae20af1239871d0929db5e4c273a10f.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oh yes plugins</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are few of them so far. That's right, really not enough. There are only 5 public ones (those that are in the public domain and accessible to the plugin manager), not public, I don‚Äôt even know, maybe a couple dozen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Writing your plugin is very simple (I‚Äôll make a reservation for a simple task). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, if your logs contain messages presented in the form of bytes, and you would like to see them immediately in a readable form (that is, decoded); it‚Äôs easy to gash a plug-in, which will receive the selected log fragment as input and throw the decoded output into the panel. Or maybe even decoding on the fly and displaying an intelligible text on the screen, and not </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A5 FF 13 EE ... etc.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, there are two types of extensions: the first work with the render, that is, they allow you to change the presentation of the output: if you want columns, please; I want to decode something on the fly - you can; there is a desire to stick graphics (for example, icons) - it is not clear why you need it, but you can. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another type of plugins (and it is more interesting), those that can supply data (create streams). For example, want to see the output from the serial port? Not a problem: the case is a new npm project, we include our favorite port port in it, add a little UI to your taste and now your plugin can throw data into chipmunk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For convenience and first dates, as is usual in decent families, there is a quickstart repository with a couple of three examples.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If interested, let me know in comments - I will make a separate post-guide for creating and publishing plugins (by the way, no registration is required for publishing).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instead of a conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That‚Äôs probably all. I don‚Äôt want to make either an advertising booklet or a user card from this post - therefore, so briefly with a minimum of letters. My goal is to share with you another tool for working with logs, which can be useful for solving many problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The project is fully open-source and open to your participation, any of your participation. Want to see support for something like that? Create an issue and select ‚ÄúFeature request‚Äù. Found a bug? We will be happy to see a bug report from you with a brief (but sufficient) description of the problem. English is welcome, but Russian is not forbidden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And of course, putting the treasured star on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in just a few seconds you will feel a slight warmth and mood improvement from our gratitude for the approval of what we are doing. </font><font style="vertical-align: inherit;">For you, click - for us, feedback and inspiration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thank.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Releases</font></font></b>
                        <div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mac</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linux</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">windows</font></font></a></li>
</ul><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Other links</font></font></b>
                        <div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the code</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quickstart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for plugin development</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a></li>
</ul><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clarification</font></font></b>
                        <div class="spoiler_text">(<b>*</b>)   ,    (1  &lt;).     ,       . .      10-20 ,    .  embedded     .<br>
<br>
(<b>**</b>), ,    .  chipmunk         .  ,   chipmunk     RAM,     ,         SSD.<br>
</div>
                    </div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en496108/index.html">How to quickly adjust budgets and eliminate cash gaps: we invite you to a webinar</a></li>
<li><a href="../en496112/index.html">News from the USA on the lunar program "Artemis" (Artemis)</a></li>
<li><a href="../en496116/index.html">Python ORM performance testing using the TPC-C benchmark method</a></li>
<li><a href="../en496118/index.html">Why are there so many data centers in Amsterdam</a></li>
<li><a href="../en496122/index.html">Caring for your homework: backup your laptop or desktop using the free Veeam Agents</a></li>
<li><a href="../en496128/index.html">How SEO optimization and Google algorithms destroyed the real Internet</a></li>
<li><a href="../en496130/index.html">Mirror of the soul: the history of TV from the ‚Äúbox‚Äù to intelligence</a></li>
<li><a href="../en496134/index.html">How to get rid of blurry photos using Python</a></li>
<li><a href="../en496136/index.html">Using the ColorPicker library in Android to implement flexible color selection</a></li>
<li><a href="../en496138/index.html">Take and join in musical programming - languages ‚Äã‚Äãthat will help to do this</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>