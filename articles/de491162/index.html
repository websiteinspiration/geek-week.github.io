<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🍳 💝 🌀 PostgreSQL Antipatterns: Eine Geschichte über die iterative Verfeinerung der Suche nach Namen oder "Optimierung hin und her". 🐩 👨‍👩‍👧‍👦 🕯️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tausende von Managern aus Vertriebsbüros im ganzen Land zeichnen täglich Zehntausende von Kontakten in unserem CRM-System auf  - Fakten zur Kommunikat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PostgreSQL Antipatterns: Eine Geschichte über die iterative Verfeinerung der Suche nach Namen oder "Optimierung hin und her".</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tensor/blog/491162/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tausende von Managern aus Vertriebsbüros im ganzen Land zeichnen </font><b><font style="vertical-align: inherit;">täglich Zehntausende von Kontakten</font></b><font style="vertical-align: inherit;"> in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unserem CRM-System auf</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Fakten zur Kommunikation mit potenziellen oder bereits mit uns zusammenarbeitenden Kunden. Und für diesen Kunden müssen Sie zuerst und vorzugsweise sehr schnell finden. Und das passiert meistens mit Namen. </font><font style="vertical-align: inherit;">
Daher ist es nicht verwunderlich, dass </font><font style="vertical-align: inherit;">ich bei der </font><font style="vertical-align: inherit;">erneuten Analyse „schwerer“ Anfragen in einer der am stärksten ausgelasteten Datenbanken - unserem eigenen </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">VLSI-Unternehmenskonto</font></a><font style="vertical-align: inherit;"> - </font><font style="vertical-align: inherit;">„oben“ eine </font><b><font style="vertical-align: inherit;">Anfrage nach einer „schnellen“ Namenssuche</font></b><font style="vertical-align: inherit;"> nach Firmenkarten gefunden habe. </font><font style="vertical-align: inherit;">
Darüber hinaus ergab eine weitere Untersuchung ein interessantes Beispiel für die </font><i><b><font style="vertical-align: inherit;">Optimierung und anschließende Verschlechterung der Leistung</font></b></i></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anfrage in seiner anschließenden Verfeinerung durch mehrere Teams, von denen jedes ausschließlich aus wohlmeinenden Gründen handelte.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0: Was wollte der Benutzer?</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/du/k9/mg/duk9mgzeofw0ka5_lrg8lewch7k.png"></div><font color="#c0c0c0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[KDPV </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Was bedeutet der Benutzer normalerweise, wenn er "schnelle" Suche nach Namen sagt? </font><font style="vertical-align: inherit;">Fast nie stellt sich heraus, dass es sich um eine „ehrliche“ Suche nach einem Teilstring handelt </font></font><code>... LIKE '%%'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- denn dann nicht nur </font><font style="vertical-align: inherit;">und </font><font style="vertical-align: inherit;">, sondern </font><font style="vertical-align: inherit;">sogar </font><font style="vertical-align: inherit;">das Ergebnis </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
Der Benutzer impliziert auf Haushaltsebene, dass Sie ihm </font><b><font style="vertical-align: inherit;">am Anfang eines Wortes</font></b><font style="vertical-align: inherit;"> im Titel </font><font style="vertical-align: inherit;">eine </font><b><font style="vertical-align: inherit;">Suche</font></b><font style="vertical-align: inherit;"> anbieten und relevanter zeigen, was </font><b><font style="vertical-align: inherit;">mit dem</font></b><font style="vertical-align: inherit;"> eingegebenen </font><b><font style="vertical-align: inherit;">beginnt</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Und das </font><b><font style="vertical-align: inherit;">fast augenblicklich</font></b><font style="vertical-align: inherit;"> - mit interlinearer Eingabe.</font></font><code>'<u></u>'</code><font style="vertical-align: inherit;"></font><code>' <u></u>'</code><font style="vertical-align: inherit;"></font><code>'<u></u>'</code><font style="vertical-align: inherit;"></font><code>'  <u></u>'</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1: Begrenzen Sie die Aufgabe</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und noch mehr, eine Person wird nicht speziell eingeben, </font></font><code>' '</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">so dass Sie nach jedem Wortpräfix suchen müssen. </font><font style="vertical-align: inherit;">Nein, es ist für den Benutzer viel einfacher, auf einen kurzen Hinweis auf das letzte Wort zu antworten, als die vorherigen absichtlich zu "verpassen" - sehen Sie, wie eine Suchmaschine funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen ist die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">korrekte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Formulierung von Anforderungen für eine Aufgabe mehr als die halbe Lösung. </font><font style="vertical-align: inherit;">Manchmal kann eine sorgfältige Analyse des Anwendungsfalls </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das Ergebnis erheblich beeinflussen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was macht der abstrakte Entwickler?</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0: externe Suchmaschine</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oh, die Suche ist schwierig, ich möchte überhaupt nichts tun - geben wir es den Devops! </font><font style="vertical-align: inherit;">Lassen Sie sie uns eine externe Suchmaschine in Bezug auf die Datenbank bereitstellen: Sphinx, ElasticSearch, ... Eine </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
funktionierende, wenn auch zeitaufwändige Option in Bezug auf Synchronisation und Änderungsgeschwindigkeit. </font><font style="vertical-align: inherit;">In unserem Fall jedoch nicht, da die Suche für jeden Kunden nur im Rahmen seiner Kontodaten durchgeführt wird. </font><font style="vertical-align: inherit;">Und die Daten haben eine ziemlich hohe Variabilität - und wenn der Manager die Karte jetzt eingelegt hat </font></font><code>' '</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kann er sich bereits nach 5-10 Sekunden daran erinnern, dass er vergessen hat, die E-Mail dort anzugeben und sie finden und korrigieren möchte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deshalb - sie </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sucht „direkt in der Datenbank</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><b><font style="vertical-align: inherit;">“ </font></b><font style="vertical-align: inherit;">Glücklicherweise ermöglicht uns PostgreSQL dies und nicht nur eine Option - wir werden sie in Betracht ziehen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1: "ehrlicher" Teilstring</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir klammern uns an das Wort "Teilzeichenfolge". </font><font style="vertical-align: inherit;">Aber genau für die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indexsuche nach Teilzeichenfolgen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (und sogar nach regulären Ausdrücken!) </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Gibt</font></a><font style="vertical-align: inherit;"> es ein hervorragendes </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Modul pg_trgm</font></a><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">Nur dann muss richtig sortiert werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versuchen wir zur Vereinfachung des Modells, eine Platte zu nehmen:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> firms(
  <span class="hljs-keyword">id</span>
    <span class="hljs-built_in">serial</span>
      PRIMARY <span class="hljs-keyword">KEY</span>
, <span class="hljs-keyword">name</span>
    <span class="hljs-built_in">text</span>
);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir füllen dort 7,8 Millionen Datensätze von realen Organisationen und Index aus:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> EXTENSION pg_trgm;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms <span class="hljs-keyword">USING</span> gin(<span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) gin_trgm_ops);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suchen wir nach den ersten 10 Einträgen für die Interline-Suche:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'(^|\s)'</span> || <span class="hljs-string">''</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'^'</span> || <span class="hljs-string">''</span>) <span class="hljs-keyword">DESC</span> <span class="hljs-comment">--  " "</span>
, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-comment">--   </span>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;
</code></pre><br>
<img src="https://habrastorage.org/webt/0m/pk/su/0mpksuspk5xdasdj7mtg5ch4jvw.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[werfen Sie einen Blick auf EXPLAIN.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nun, das sind ... </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26 ms, 31 MB</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gelesene Daten und mehr als 1,7 KB gefilterte Datensätze - für 10 Personen. </font><font style="vertical-align: inherit;">Der Overhead ist zu hoch, ist es möglich, irgendwie effizienter zu sein?</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2: Textsuche? </font><font style="vertical-align: inherit;">es ist FTS!</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Tat bietet PostgreSQL einen sehr leistungsfähigen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mechanismus für die Volltextsuche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Volltextsuche), einschließlich der Möglichkeit der Präfixsuche. </font><font style="vertical-align: inherit;">Eine großartige Option, auch Erweiterungen müssen nicht installiert werden! </font><font style="vertical-align: inherit;">Lass es uns versuchen:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms <span class="hljs-keyword">USING</span> gin(to_tsvector(<span class="hljs-string">'simple'</span>::regconfig, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)));</code></pre><br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  to_tsvector(<span class="hljs-string">'simple'</span>::regconfig, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)) @@ to_tsquery(<span class="hljs-string">'simple'</span>, <span class="hljs-string">':*'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'^'</span> || <span class="hljs-string">''</span>) <span class="hljs-keyword">DESC</span>
, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/wd/ln/tq/wdlntqgqo_zvb4sbhcq-wln_jrw.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[siehe EXPLAIN.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hier hat uns die Parallelisierung der Abfrageausführung ein wenig geholfen und die Zeit um die Hälfte auf </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 ms reduziert</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ja, und wir mussten 1,5 mal weniger lesen - nur </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 MB</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Und hier, je kleiner desto besser, denn je größer der von uns subtrahierte Betrag ist, desto höher ist die Wahrscheinlichkeit, dass ein Cache-Fehler auftritt, und jede zusätzliche Datenseite, die von der Festplatte gelesen wird, ist eine potenzielle „Bremse“ für die Anforderung.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.3: Immer noch WIE?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die vorherige Anforderung ist für alle gut, aber nur wenn Sie sie hunderttausend Mal am Tag </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abrufen</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , werden 2 </font><i><b><font style="vertical-align: inherit;">TB der</font></b></i><font style="vertical-align: inherit;"> gelesenen Daten </font><font style="vertical-align: inherit;">ausgeführt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Bestenfalls - aus dem Speicher, aber wenn Sie kein Glück haben, dann von der Festplatte. </font><font style="vertical-align: inherit;">Versuchen wir also, es kleiner zu machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Denken Sie daran, dass der Benutzer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zuerst "das beginnen mit ..."</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sehen möchte </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Das ist also in seiner reinen Form eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Präfixsuche</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit </font></font><code>text_pattern_ops</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font><font style="vertical-align: inherit;">Und nur wenn wir bis zu 10 erforderliche Datensätze "nicht genug" sind, müssen wir sie mithilfe der FTS-Suche lesen:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms(<span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) text_pattern_ops);</code></pre><br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/_7/e_/jx/_7e_jxpnkc7n97e9rj2rbbk2ukq.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[siehe EXPLAIN.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hervorragende Leistung - nur </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0,05 ms und etwas mehr als 100 KB</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gelesen! </font><font style="vertical-align: inherit;">Nur haben wir vergessen, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nach Namen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><b><font style="vertical-align: inherit;">sortieren,</font></b><font style="vertical-align: inherit;"> damit der Benutzer nicht in den Ergebnissen verloren geht:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/ku/d4/r1/kud4r1oipobzbsljhvbavzd2ypa.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[siehe EXPLAIN.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Oh, etwas ist nicht mehr so ​​hübsch - es scheint, dass es einen Index gibt, aber die Sortierung fliegt daran vorbei ... Es ist natürlich um ein Vielfaches effektiver als die vorherige Version, aber ...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.4: "Mit einer Datei ändern"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt jedoch einen Index, mit dem Sie nach Bereich suchen können, und es ist normal, die Sortierung zu verwenden - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normaler btree</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> <span class="hljs-keyword">ON</span> firms(<span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nur eine Anfrage dafür muss „manuell zusammengestellt“ werden:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &gt;= <span class="hljs-string">''</span> <span class="hljs-keyword">AND</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &lt;= (<span class="hljs-string">''</span> || <span class="hljs-keyword">chr</span>(<span class="hljs-number">65535</span>)) <span class="hljs-comment">--  UTF8,   - chr(255)</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
   <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/eh/o3/-i/eho3-irvjqbcpgpmmp7fuheb9nm.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[siehe EXPLAIN.tensor.ru]</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Großartig - sowohl die Sortierarbeiten als auch der Ressourcenverbrauch bleiben "mikroskopisch", </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tausende Male effizienter als "reine" FTS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">Es bleibt in einer einzigen Anfrage zu sammeln:</font></font><br>
<br>
<pre><code class="sql hljs">(
  <span class="hljs-keyword">SELECT</span><font></font>
    *<font></font>
  <span class="hljs-keyword">FROM</span><font></font>
    firms<font></font>
  <span class="hljs-keyword">WHERE</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &gt;= <span class="hljs-string">''</span> <span class="hljs-keyword">AND</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) &lt;= (<span class="hljs-string">''</span> || <span class="hljs-keyword">chr</span>(<span class="hljs-number">65535</span>)) <span class="hljs-comment">--  UTF8,    - chr(255)</span>
  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
     <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
  <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span><font></font>
(<font></font>
  <span class="hljs-keyword">SELECT</span><font></font>
    *<font></font>
  <span class="hljs-keyword">FROM</span><font></font>
    firms<font></font>
  <span class="hljs-keyword">WHERE</span>
    to_tsvector(<span class="hljs-string">'simple'</span>::regconfig, <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)) @@ to_tsquery(<span class="hljs-string">'simple'</span>, <span class="hljs-string">':*'</span>) <span class="hljs-keyword">AND</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>) <span class="hljs-comment">-- " "    </span>
  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
    <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) ~ (<span class="hljs-string">'^'</span> || <span class="hljs-string">''</span>) <span class="hljs-keyword">DESC</span> <span class="hljs-comment">--    ,     btree-</span>
  , <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>)
  <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stelle fest, dass die zweite Unterabfrage </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nur</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausgeführt wird, </font><b><font style="vertical-align: inherit;">wenn die erste weniger als die vom</font></b><font style="vertical-align: inherit;"> letzten </font><b><font style="vertical-align: inherit;">erwartete</font></b></font><code>LIMIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anzahl von Zeilen </font><font style="vertical-align: inherit;">zurückgibt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich habe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bereits</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> über diese Methode der Abfrageoptimierung geschrieben </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also ja, wir haben jetzt btree und gin gleichzeitig auf dem Tisch, aber statistisch gesehen hat sich herausgestellt, dass </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">weniger als 10% der Anfragen den zweiten Block erreichen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das heißt, mit solch bekannten typischen Einschränkungen für die Aufgabe konnten wir den gesamten Serverressourcenverbrauch um fast das Tausendfache reduzieren!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.5 *: Auf die Datei verzichten</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oben wurde </font></font><code>LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uns daran gehindert, die falsche Sorte zu verwenden. </font><font style="vertical-align: inherit;">Sie kann jedoch durch Angabe der USING-Anweisung "auf den wahren Pfad gesetzt" werden:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Standardeinstellung ist impliziert </font></font><code>ASC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Darüber hinaus können Sie den Namen eines bestimmten Sortieroperators in einem Satz angeben </font></font><code>USING</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Sortieroperator muss Mitglied einer bestimmten Familie von B-Tree-Operatoren sein, die kleiner oder größer als diese ist. </font></font><code>ASC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalerweise gleichwertig </font></font><code>USING &lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font><code>DESC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalerweise gleichwertig </font></font><code>USING &gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In unserem Fall ist "weniger" </font></font><code>~&lt;~</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
<span class="hljs-keyword">FROM</span><font></font>
  firms<font></font>
<span class="hljs-keyword">WHERE</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">LIKE</span> (<span class="hljs-string">''</span> || <span class="hljs-string">'%'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span>
  <span class="hljs-keyword">lower</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">USING</span> ~&lt;~
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span>;</code></pre><br>
<img src="https://habrastorage.org/webt/s8/6r/4u/s86r4ujfiklgl9rqwn0fl7_g44i.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[siehe EXPLAIN.tensor.ru]</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2: wie man Anfragen "sauer" macht</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt verlassen wir unsere Bitte, ein halbes Jahr oder ein Jahr lang darauf zu bestehen, und überraschenderweise finden wir sie wieder „ganz oben“ mit Indikatoren für das tägliche „Pumpen“ des Speichers ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gemeinsam genutzte Puffer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5,5 TB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - das heißt sogar mehr als ursprünglich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein, natürlich ist unser Geschäft gewachsen und die Last hat zugenommen, aber nicht so sehr! </font><font style="vertical-align: inherit;">Hier ist also etwas schmutzig - lass es uns herausfinden.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1: die Geburt des Paging</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Irgendwann wollte ein anderes Entwicklungsteam es ermöglichen, von einer schnellen Indexsuche mit denselben, aber erweiterten Ergebnissen in die Registrierung zu „springen“. </font><font style="vertical-align: inherit;">Und welche Registrierung ohne Seitennavigation? </font><font style="vertical-align: inherit;">Lass es uns vermasseln!</font></font><br>
<br>
<pre><code class="sql hljs">( ... LIMIT &lt;N&gt; + 10)<font></font>
UNION ALL<font></font>
( ... LIMIT &lt;N&gt; + 10)<font></font>
LIMIT 10 OFFSET &lt;N&gt;;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt war es für den Entwickler ohne Anstrengung möglich, die Registrierung der Suchergebnisse mit "Typ-Seite" -Ladung anzuzeigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich wird </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für jede nächste Datenseite immer mehr gelesen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (die gesamte vorherige Zeit, die wir verwerfen, plus den gewünschten „Schwanz“) - das heißt, dies ist ein eindeutiges Antimuster. </font><font style="vertical-align: inherit;">Und es wäre richtiger, die Suche bei der nächsten Iteration von dem in der Schnittstelle gespeicherten Schlüssel aus zu starten, aber darüber - ein anderes Mal.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2: will exotisch</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Irgendwann wollte der Entwickler </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die resultierende Auswahl mit Daten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aus einer anderen Tabelle </font><b><font style="vertical-align: inherit;">diversifizieren. Zu</font></b><font style="vertical-align: inherit;"> diesem Zweck wurde die gesamte vorherige Anforderung an den CTE gesendet:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">WITH</span> q <span class="hljs-keyword">AS</span> (<font></font>
  ...<font></font>
  <span class="hljs-keyword">LIMIT</span> &lt;N&gt; + <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span><font></font>
  *<font></font>
, (<span class="hljs-keyword">SELECT</span> ...) sub_query <span class="hljs-comment">-- -    </span>
<span class="hljs-keyword">FROM</span><font></font>
  q<font></font>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span> <span class="hljs-keyword">OFFSET</span> &lt;N&gt;;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und trotzdem - nicht schlecht, denn eine Unterabfrage wird nur für 10 zurückgegebene Datensätze berechnet, wenn nicht ...</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3: UNTERSCHIEDLICH bedeutungslos und gnadenlos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Irgendwo in den Prozess der eine solche Entwicklung, eine </font><b><font style="vertical-align: inherit;">war Bedingung </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verloren</font></font><code>NOT LIKE</code><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aus der zweiten Unterabfrage </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es ist klar, dass ich danach </font><b><font style="vertical-align: inherit;">zweimal</font></b></font><code>UNION ALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> angefangen habe, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einige Datensätze zurückzugeben</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - zuerst am Anfang der Zeile und dann wieder - am Anfang des ersten Wortes dieser Zeile. </font><font style="vertical-align: inherit;">Im Limit könnten alle Datensätze der 2. Unterabfrage mit den Datensätzen der ersten übereinstimmen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was macht ein Entwickler, anstatt nach einem Grund zu suchen? Keine Frage!</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verdoppeln Sie die Größe der</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Originalmuster</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setzen Sie DISTINCT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> so, dass wir nur einzelne Instanzen jeder Zeile erhalten</font></font></li>
</ul><br>
<pre><code class="sql hljs"><span class="hljs-keyword">WITH</span> q <span class="hljs-keyword">AS</span> (<font></font>
  ( ... <span class="hljs-keyword">LIMIT</span> &lt;<span class="hljs-number">2</span> * N&gt; + <span class="hljs-number">10</span>)
  <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
  ( ... <span class="hljs-keyword">LIMIT</span> &lt;<span class="hljs-number">2</span> * N&gt; + <span class="hljs-number">10</span>)
  <span class="hljs-keyword">LIMIT</span> &lt;<span class="hljs-number">2</span> * N&gt; + <span class="hljs-number">10</span><font></font>
)<font></font>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span><font></font>
  *<font></font>
, (<span class="hljs-keyword">SELECT</span> ...) sub_query
<span class="hljs-keyword">FROM</span><font></font>
  q<font></font>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">10</span> <span class="hljs-keyword">OFFSET</span> &lt;N&gt;;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das heißt, es ist klar, dass das Ergebnis am Ende genau das gleiche ist, aber die Chance, zur 2. CTE-Unterabfrage zu „fliegen“, ist viel höher geworden, und ohne dies </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird deutlich mehr gelesen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber das ist nicht das Traurigste. </font><font style="vertical-align: inherit;">Da der Entwickler mich gebeten hat, </font></font><b><code>DISTINCT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht nach bestimmten, sondern sofort nach allen Feldern des</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datensatzes </font><font style="vertical-align: inherit;">auszuwählen, </font><font style="vertical-align: inherit;">wurde das Feld sub_query, das Ergebnis der Unterabfrage, ebenfalls automatisch angezeigt. </font><font style="vertical-align: inherit;">Für die Ausführung </font></font><code>DISTINCT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">musste die Datenbank nun </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht 10 Unterabfragen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausführen </font><b><font style="vertical-align: inherit;">, sondern alle &lt;2 * N&gt; + 10</font></b><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4: vor allem kooperation!</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Entwickler haben also gelebt - sie haben sich nicht darum gekümmert, weil sie in der Registrierung auf signifikante N-Werte "gepatcht" wurden, mit einer chronischen Verlangsamung beim Empfang jeder nächsten "Seite". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bis Entwickler aus einer anderen Abteilung zu ihnen kamen und keine so bequeme Methode </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">für die iterative Suche verwenden</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wollten </font><font style="vertical-align: inherit;">- das heißt, wir nehmen ein Stück aus einem Beispiel, filtern nach zusätzlichen Bedingungen, zeichnen das Ergebnis und dann das nächste Stück (was in unserem Fall durch erreicht wird) Erhöhen Sie N) und so weiter, bis wir den Bildschirm ausfüllen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen erreichte die gefangene Probe </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N Werte von fast 17</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> K, und in nur 24 Stunden wurden mindestens 4 K solche Anforderungen „in der Kette“ ausgeführt. </font><font style="vertical-align: inherit;">Der letzte von ihnen hat bereits kühn gescannt</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 GB Speicher bei jeder Iteration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font><br>
<br>
<h2></h2><br>
<img src="https://habrastorage.org/webt/zt/yx/ss/ztyxssr661ga_wndmpmqmvgtrq0.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de491138/index.html">Satelliten- und Ansible Tower-Integration</a></li>
<li><a href="../de491146/index.html">UML für Entwickler</a></li>
<li><a href="../de491150/index.html">Wie ich Betrüger gehackt habe oder nur die Innenseiten von Phishing-Panels</a></li>
<li><a href="../de491154/index.html">Kurssuche: So erstellen Sie einen Lernpfad</a></li>
<li><a href="../de491156/index.html">Messbare Empathie: Vorhersage der Sympathie für die MRT des Gehirns</a></li>
<li><a href="../de491164/index.html">Wie programmiere ich ein Diplom? Komplette Anleitung</a></li>
<li><a href="../de491170/index.html">Wie Amplifer Logux verwendet - ein Tool für die Kommunikation zwischen Client und Server</a></li>
<li><a href="../de491172/index.html">Wann ein Front-End-Entwickler von React zu Vue wechseln sollte und wann dies die Entwicklung erschweren wird</a></li>
<li><a href="../de491174/index.html">Schreiben Sie nicht dasselbe: Wie die wiederverwendbaren Komponenten von React Front-End-Entwicklern helfen können, Anwendungen schneller zu erstellen</a></li>
<li><a href="../de491176/index.html">5 Zeichen eines zu verkaufenden it-Produkts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>