<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>㊗️ ⛹🏿 🤳🏻 Télémédecine. Stéthoscope électronique à ingénierie inverse 📄 🔛 👨🏼‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je suis engagé dans le développement de l'électronique depuis plus de 10 ans, mais il est arrivé que mon premier projet dans le domaine de la médecine...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Télémédecine. Stéthoscope électronique à ingénierie inverse</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497964/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/e-/xv/iae-xv2nrkl_avl3oitfn0omrmc.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Je suis engagé dans le développement de l'électronique depuis plus de 10 ans, mais il est arrivé que mon premier projet dans le domaine de la médecine ne soit apparu que l'année dernière, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et après cela je n'ai pas abandonné ce sujet</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Comme d'habitude dans de tels cas, le développement, il a été décidé de commencer par l'étude des prototypes. </font><font style="vertical-align: inherit;">Dans cet article, je veux partager les résultats secondaires de l'ingénierie inverse du fœtus d'une startup de télémédecine d'origine chinoise - un stéthoscope électronique. </font><font style="vertical-align: inherit;">Si vous êtes intéressé par ce que l'intérieur d'un représentant typique de startups dans le domaine de la télémétrie, lancé au début des années 2010, est caché, et pourquoi une telle solution de conception de circuits a été choisie, vous êtes les bienvenus chez cat.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/wz/sf/8h/wzsf8hu2ps5h83v6zqjekrlitkm.jpeg"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cliquez si vous ne savez pas, mais quel genre de bête est-ce - un stéthoscope?</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/tg/zm/o_/tgzmo_gbiuhuxupdue9oczu2rna.jpeg" align="left">C    ,           .       ,    , , , .         :  (   ),  ( )   (   ).   «»         <i></i>.     «» ,      ,    .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Malgré le fait que les gars aient commencé leur projet en Australie, ils ont réussi à lever la première vague d'investissements uniquement en Chine. </font><font style="vertical-align: inherit;">Étant donné que l'épine dorsale de l'équipe provenait de l'Empire éternel et que la Chine a un programme gouvernemental sérieux pour aider les startups, ce n'est pas du tout surprenant. </font><font style="vertical-align: inherit;">Cependant, nous avons été distraits, le sujet de cet article est la structure interne de l'appareil, et non l'histoire du développement de la startup. </font><font style="vertical-align: inherit;">À ce sujet, peut-être la prochaine fois.</font></font><br>
<br>
<h3><font color="#66a3be"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regardons à l'intérieur du paquet</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/4s/jh/4d/4sjh4d1l79ym65zknzg2ucr7fqe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En regardant à l'intérieur, un emballage en carton de très haute qualité, nous trouvons un étui agréable au toucher avec deux appareils. Celui qui est plus grand et étendu comme un crocodile est un thermomètre sans contact. Round est le patient de notre aujourd'hui, un stéthoscope. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les gars ont beaucoup manqué avec le thermomètre - non seulement la stabilité des mesures s'est avérée extrêmement faible, mais la fiabilité du travail nous a également laissé tomber. Pour l'ingénierie inverse, nous avons acheté un appareil d'occasion et le thermomètre sans contact qu'il contient s'est révélé défectueux. Concentrons-nous donc sur le stéthoscope. Examinons d'abord le câble de connexion.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/on/vu/ed/onvued1yqhfjrdrzkwvvfrmjd-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez voir que d'une part, il se termine par une prise audio et, d'autre part, par un connecteur microUSB. </font><font style="vertical-align: inherit;">Pourquoi est-il plus facile de comprendre si vous voyagez mentalement en 2012 - l'année de la naissance de la startup. </font><font style="vertical-align: inherit;">À cette époque, sur Kickstarter, vous pouviez trouver un grand nombre d'une grande variété d'appareils connectés au gadget de manière si exotique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ont été conçus principalement pour fonctionner avec la génération d'alors de l'iPhone. </font><font style="vertical-align: inherit;">Il n'avait pas de connecteur USB et l'organisation de la transmission du signal sur les canaux sans fil avec lui était extrêmement difficile. </font><font style="vertical-align: inherit;">Par conséquent, les gadgets ont été connectés via un câble audio, via la prise casque, et l'échange de commandes a été effectué à l'aide de signaux audio codés par la fréquence et la durée des paquets. </font><font style="vertical-align: inherit;">C'est ce principe de communication qui est également utilisé dans notre sujet expérimental. </font><font style="vertical-align: inherit;">Il est temps, cependant, de regarder sous son capot!</font></font><br>
<br>
<h3><font color="#66a3be"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est temps de passer aux détails</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le boîtier en métal coulé se compose de deux moitiés reliées par un filetage. À l'intérieur du boîtier se trouvent deux foulards. L'un d'eux ne mérite pas notre attention - seul le support d'une batterie à trois volts n'y est pas situé, mais le second mérite d'être étudié plus en détail et même des deux côtés. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/z-/ry/tuz-ryxmpnm7o9dn3k_vxs8mxtk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le côté gauche des cartes, nous voyons un connecteur microUSB. Le choix est tombé sur lui car il est beaucoup plus petit qu'une prise audio standard d'un diamètre de 3,5 mm. La partie supérieure de la planche est représentée à droite. Il abrite de nombreuses capacités de blocage de puissance et des éléments de protection dans des boîtiers SOT23 à trois conducteurs ressemblant à des transistors. Rappelons que nous avons affaire à un dispositif médical et que même le niveau de certification le plus simple le requiert.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mn/m5/2k/mnm52kdjcnt5ivaegxqujoegyo8.jpeg" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le cœur, et à temps partiel et l'oreille, de cet appareil est certainement un microphone. Un électret bon marché, qui, comme un micro-casque, peut être alimenté par un téléphone, ne peut pas être utilisé ici. Les informations utiles sur les signaux sonores arrivant au casque d'un stéthoscope / phonendoscope se situent dans la plage de 20 Hz à Hz 600. La plage inférieure est limitée par les propriétés de fréquence de l'oreille, la fréquence maximale supérieure dans laquelle se trouvent le bruit du cœur et des organes internes. Trouver un microphone compact avec une telle réponse en fréquence n'est pas facile. Cet appareil utilisait un microphone analogique fabriqué par la technologie MEMS. Le signal de celui-ci, sans aucune amplification supplémentaire, est entré dans la section audio du smartphone. Le microphone a été soigneusement recouvert d'un tampon en caoutchouc que j'ai retiré pour une meilleure vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus de commodité, j'ai attribué des numéros aux composants clés et représenté ci-dessous un diagramme fonctionnel grandement simplifié de l'appareil. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2s/ba/9g/2sba9gvzfwhncjwhthrjx27aols.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait qu'il suffit de mettre un micro avec une batterie et de ne pas tout compliquer avec des puces supplémentaires. Cependant, même en l'absence de signal d'entrée, la consommation actuelle du microphone est suffisante pour vider la batterie en quelques jours. Bien sûr, il serait possible d'installer un interrupteur mécanique de petite taille sur le corps de l'appareil, mais ce n'est pas la manière du Jedi, principalement parce qu'il est facile d'oublier de l'éteindre ou, au contraire, de l'allumer accidentellement. Par conséquent, à un moment où vous devez de toute urgence écouter les poumons du patient, l'appareil sera inopérant. Pour les applications médicales, ce n'est pas du tout un bourdonnement, vous pouvez même en dire plus - c'est inacceptable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos Chinois, à contrecœur, ont dû continuer à compliquer le projet. </font><font style="vertical-align: inherit;">Tout d'abord, ils ont ajouté un microcontrôleur de la série STM32L à ultra-basse consommation </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Pour les microcontrôleurs basse </font><font style="vertical-align: inherit;">consommation </font><font style="vertical-align: inherit;">, voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un de mes articles précédents</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) Puis ils ont installé un régulateur de tension dans le circuit d'alimentation du microphone </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et ont finalement fait faillite sur une puce de commutation analogique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les fonctions suivantes sont affectées au microcontrôleur de contrôle:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alimentation du microphone</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Détermination du niveau de tension de la batterie et, si nécessaire, formation d'un signal sur sa décharge imminente</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Détection d'un signal audio sinusoïdal de contrôle depuis un smartphone</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Génération d'un signal sinusoïdal analogique pour le processus d'échange de données avec un smartphone</font></font></li>
<li>   ,      </li>
</ul><br>
<h3><font color="#66a3be">    </font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après que l'utilisateur a appliqué un stéthoscope sur le corps d'une personne, il appuie sur le bouton situé sur l'écran du smartphone. Le smartphone envoie une séquence audio de contrôle dans laquelle le temps d'écoute est encodé. Elle va au microcontrôleur comparateur. Ayant détecté la chute de tension à son entrée, le microcontrôleur interrompt l'état de sommeil profond, décrypte le signal d'entrée et envoie une séquence sonore de réponse contenant des informations sur le niveau de la batterie à l'entrée microphone du téléphone. Après cela, le microcontrôleur alimente le microphone pendant une durée spécifiée et fait basculer le commutateur audio sur le mode de transmission du signal du microphone à l'entrée microphone du téléphone. Au bout d'une période de temps prédéterminée, tout revient à son état d'origine et le microcontrôleur plonge dans un sommeil profond.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le smartphone utilise le firmware pour enregistrer le signal audio sous forme de fichier dans sa propre mémoire. </font><font style="vertical-align: inherit;">À l'avenir, vous pourrez l'écouter, le visualiser sur l'écran du smartphone et même le transférer dans les nuages ​​pour analyse et traitement détaillé.</font></font><br>
<br>
<h3><font color="#66a3be"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inconvénients de l'appareil</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/ti/rp/pp/tirpppgemguddhyduwpotcp4r0u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme de nombreuses startups médicales de première vague, auxquelles je fais référence aux projets lancés au début des années 2010, celui-ci s'est finalement écrasé. </font><font style="vertical-align: inherit;">Cependant, il y a une idée de consacrer mon prochain article à une analyse détaillée des raisons des hauts et des bas des startups médicales de cette génération. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cela, je note seulement les erreurs de calcul évidentes associées aux performances techniques. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme une petite charge pour l'esprit, je suggère de trouver des erreurs évidentes par nous-mêmes, puis d'ouvrir le spoiler et de comparer avec ceux</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que j'ai remarqué</font></font></b>
                        <div class="spoiler_text">         .  ,            .  ,              .<br>
<br>
<img src="https://habrastorage.org/webt/42/oq/qn/42oqqnjcar6ehfxecf_2wleltto.jpeg" align="left">  ,          ,     ,      .  ,      ,        ,        ,             . <br>
<br>
        —  .         .   ,          .             ,                   .       ,    . ,             .<br>
</div>
                    </div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En conclusion, une grosse demande pour prendre quelques secondes sur un petit mais important sondage pour moi. </font><font style="vertical-align: inherit;">Remercier.</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr497950/index.html">21 leçons apprises en 21 ans de programmation</a></li>
<li><a href="../fr497952/index.html">Abréviations anglaises et titres informatiques que nous prononçons mal</a></li>
<li><a href="../fr497956/index.html">Sars miraculeux? Généalogie du coronavirus de Wuhan</a></li>
<li><a href="../fr497958/index.html">Ils sont parmi nous: explorer les vulnérabilités et les codes malveillants dans Zoom pour Windows</a></li>
<li><a href="../fr497960/index.html">Installation réseau Linux</a></li>
<li><a href="../fr497968/index.html">Ressources pour les développeurs Web: API et éléments d'interface utilisateur</a></li>
<li><a href="../fr497980/index.html">Combien d'eau a fui? Nous résolvons le problème par un moonwalk sur Haskell</a></li>
<li><a href="../fr497982/index.html">Approche fonctionnelle et processus de la gestion. Comment et quoi gérer?</a></li>
<li><a href="../fr497984/index.html">Migration de reCAPTCHA vers hCaptcha dans Cloudflare</a></li>
<li><a href="../fr497986/index.html">Surveillance de toute la mémoire utilisée par une page Web: performance.measureMemory ()</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>