<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>„äóÔ∏è ‚õπüèø ü§≥üèª T√©l√©m√©decine. St√©thoscope √©lectronique √† ing√©nierie inverse üìÑ üîõ üë®üèº‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je suis engag√© dans le d√©veloppement de l'√©lectronique depuis plus de 10 ans, mais il est arriv√© que mon premier projet dans le domaine de la m√©decine...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>T√©l√©m√©decine. St√©thoscope √©lectronique √† ing√©nierie inverse</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497964/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/e-/xv/iae-xv2nrkl_avl3oitfn0omrmc.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Je suis engag√© dans le d√©veloppement de l'√©lectronique depuis plus de 10 ans, mais il est arriv√© que mon premier projet dans le domaine de la m√©decine ne soit apparu que l'ann√©e derni√®re, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et apr√®s cela je n'ai pas abandonn√© ce sujet</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Comme d'habitude dans de tels cas, le d√©veloppement, il a √©t√© d√©cid√© de commencer par l'√©tude des prototypes. </font><font style="vertical-align: inherit;">Dans cet article, je veux partager les r√©sultats secondaires de l'ing√©nierie inverse du f≈ìtus d'une startup de t√©l√©m√©decine d'origine chinoise - un st√©thoscope √©lectronique. </font><font style="vertical-align: inherit;">Si vous √™tes int√©ress√© par ce que l'int√©rieur d'un repr√©sentant typique de startups dans le domaine de la t√©l√©m√©trie, lanc√© au d√©but des ann√©es 2010, est cach√©, et pourquoi une telle solution de conception de circuits a √©t√© choisie, vous √™tes les bienvenus chez cat.</font></font><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/wz/sf/8h/wzsf8hu2ps5h83v6zqjekrlitkm.jpeg"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cliquez si vous ne savez pas, mais quel genre de b√™te est-ce - un st√©thoscope?</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/tg/zm/o_/tgzmo_gbiuhuxupdue9oczu2rna.jpeg" align="left">C    ,           .       ,    , , , .         :  (   ),  ( )   (   ).   ¬´¬ª         <i></i>.     ¬´¬ª ,      ,    .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Malgr√© le fait que les gars aient commenc√© leur projet en Australie, ils ont r√©ussi √† lever la premi√®re vague d'investissements uniquement en Chine. </font><font style="vertical-align: inherit;">√âtant donn√© que l'√©pine dorsale de l'√©quipe provenait de l'Empire √©ternel et que la Chine a un programme gouvernemental s√©rieux pour aider les startups, ce n'est pas du tout surprenant. </font><font style="vertical-align: inherit;">Cependant, nous avons √©t√© distraits, le sujet de cet article est la structure interne de l'appareil, et non l'histoire du d√©veloppement de la startup. </font><font style="vertical-align: inherit;">√Ä ce sujet, peut-√™tre la prochaine fois.</font></font><br>
<br>
<h3><font color="#66a3be"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regardons √† l'int√©rieur du paquet</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/4s/jh/4d/4sjh4d1l79ym65zknzg2ucr7fqe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En regardant √† l'int√©rieur, un emballage en carton de tr√®s haute qualit√©, nous trouvons un √©tui agr√©able au toucher avec deux appareils. Celui qui est plus grand et √©tendu comme un crocodile est un thermom√®tre sans contact. Round est le patient de notre aujourd'hui, un st√©thoscope. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les gars ont beaucoup manqu√© avec le thermom√®tre - non seulement la stabilit√© des mesures s'est av√©r√©e extr√™mement faible, mais la fiabilit√© du travail nous a √©galement laiss√© tomber. Pour l'ing√©nierie inverse, nous avons achet√© un appareil d'occasion et le thermom√®tre sans contact qu'il contient s'est r√©v√©l√© d√©fectueux. Concentrons-nous donc sur le st√©thoscope. Examinons d'abord le c√¢ble de connexion.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/on/vu/ed/onvued1yqhfjrdrzkwvvfrmjd-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez voir que d'une part, il se termine par une prise audio et, d'autre part, par un connecteur microUSB. </font><font style="vertical-align: inherit;">Pourquoi est-il plus facile de comprendre si vous voyagez mentalement en 2012 - l'ann√©e de la naissance de la startup. </font><font style="vertical-align: inherit;">√Ä cette √©poque, sur Kickstarter, vous pouviez trouver un grand nombre d'une grande vari√©t√© d'appareils connect√©s au gadget de mani√®re si exotique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous ont √©t√© con√ßus principalement pour fonctionner avec la g√©n√©ration d'alors de l'iPhone. </font><font style="vertical-align: inherit;">Il n'avait pas de connecteur USB et l'organisation de la transmission du signal sur les canaux sans fil avec lui √©tait extr√™mement difficile. </font><font style="vertical-align: inherit;">Par cons√©quent, les gadgets ont √©t√© connect√©s via un c√¢ble audio, via la prise casque, et l'√©change de commandes a √©t√© effectu√© √† l'aide de signaux audio cod√©s par la fr√©quence et la dur√©e des paquets. </font><font style="vertical-align: inherit;">C'est ce principe de communication qui est √©galement utilis√© dans notre sujet exp√©rimental. </font><font style="vertical-align: inherit;">Il est temps, cependant, de regarder sous son capot!</font></font><br>
<br>
<h3><font color="#66a3be"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est temps de passer aux d√©tails</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bo√Ætier en m√©tal coul√© se compose de deux moiti√©s reli√©es par un filetage. √Ä l'int√©rieur du bo√Ætier se trouvent deux foulards. L'un d'eux ne m√©rite pas notre attention - seul le support d'une batterie √† trois volts n'y est pas situ√©, mais le second m√©rite d'√™tre √©tudi√© plus en d√©tail et m√™me des deux c√¥t√©s. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/z-/ry/tuz-ryxmpnm7o9dn3k_vxs8mxtk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le c√¥t√© gauche des cartes, nous voyons un connecteur microUSB. Le choix est tomb√© sur lui car il est beaucoup plus petit qu'une prise audio standard d'un diam√®tre de 3,5 mm. La partie sup√©rieure de la planche est repr√©sent√©e √† droite. Il abrite de nombreuses capacit√©s de blocage de puissance et des √©l√©ments de protection dans des bo√Ætiers SOT23 √† trois conducteurs ressemblant √† des transistors. Rappelons que nous avons affaire √† un dispositif m√©dical et que m√™me le niveau de certification le plus simple le requiert.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mn/m5/2k/mnm52kdjcnt5ivaegxqujoegyo8.jpeg" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le c≈ìur, et √† temps partiel et l'oreille, de cet appareil est certainement un microphone. Un √©lectret bon march√©, qui, comme un micro-casque, peut √™tre aliment√© par un t√©l√©phone, ne peut pas √™tre utilis√© ici. Les informations utiles sur les signaux sonores arrivant au casque d'un st√©thoscope / phonendoscope se situent dans la plage de 20 Hz √† Hz 600. La plage inf√©rieure est limit√©e par les propri√©t√©s de fr√©quence de l'oreille, la fr√©quence maximale sup√©rieure dans laquelle se trouvent le bruit du c≈ìur et des organes internes. Trouver un microphone compact avec une telle r√©ponse en fr√©quence n'est pas facile. Cet appareil utilisait un microphone analogique fabriqu√© par la technologie MEMS. Le signal de celui-ci, sans aucune amplification suppl√©mentaire, est entr√© dans la section audio du smartphone. Le microphone a √©t√© soigneusement recouvert d'un tampon en caoutchouc que j'ai retir√© pour une meilleure vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus de commodit√©, j'ai attribu√© des num√©ros aux composants cl√©s et repr√©sent√© ci-dessous un diagramme fonctionnel grandement simplifi√© de l'appareil. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2s/ba/9g/2sba9gvzfwhncjwhthrjx27aols.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait qu'il suffit de mettre un micro avec une batterie et de ne pas tout compliquer avec des puces suppl√©mentaires. Cependant, m√™me en l'absence de signal d'entr√©e, la consommation actuelle du microphone est suffisante pour vider la batterie en quelques jours. Bien s√ªr, il serait possible d'installer un interrupteur m√©canique de petite taille sur le corps de l'appareil, mais ce n'est pas la mani√®re du Jedi, principalement parce qu'il est facile d'oublier de l'√©teindre ou, au contraire, de l'allumer accidentellement. Par cons√©quent, √† un moment o√π vous devez de toute urgence √©couter les poumons du patient, l'appareil sera inop√©rant. Pour les applications m√©dicales, ce n'est pas du tout un bourdonnement, vous pouvez m√™me en dire plus - c'est inacceptable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos Chinois, √† contrec≈ìur, ont d√ª continuer √† compliquer le projet. </font><font style="vertical-align: inherit;">Tout d'abord, ils ont ajout√© un microcontr√¥leur de la s√©rie STM32L √† ultra-basse consommation </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Pour les microcontr√¥leurs basse </font><font style="vertical-align: inherit;">consommation </font><font style="vertical-align: inherit;">, voir </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un de mes articles pr√©c√©dents</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) Puis ils ont install√© un r√©gulateur de tension dans le circuit d'alimentation du microphone </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et ont finalement fait faillite sur une puce de commutation analogique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les fonctions suivantes sont affect√©es au microcontr√¥leur de contr√¥le:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alimentation du microphone</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©termination du niveau de tension de la batterie et, si n√©cessaire, formation d'un signal sur sa d√©charge imminente</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©tection d'un signal audio sinuso√Ødal de contr√¥le depuis un smartphone</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G√©n√©ration d'un signal sinuso√Ødal analogique pour le processus d'√©change de donn√©es avec un smartphone</font></font></li>
<li>   ,      </li>
</ul><br>
<h3><font color="#66a3be">    </font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s que l'utilisateur a appliqu√© un st√©thoscope sur le corps d'une personne, il appuie sur le bouton situ√© sur l'√©cran du smartphone. Le smartphone envoie une s√©quence audio de contr√¥le dans laquelle le temps d'√©coute est encod√©. Elle va au microcontr√¥leur comparateur. Ayant d√©tect√© la chute de tension √† son entr√©e, le microcontr√¥leur interrompt l'√©tat de sommeil profond, d√©crypte le signal d'entr√©e et envoie une s√©quence sonore de r√©ponse contenant des informations sur le niveau de la batterie √† l'entr√©e microphone du t√©l√©phone. Apr√®s cela, le microcontr√¥leur alimente le microphone pendant une dur√©e sp√©cifi√©e et fait basculer le commutateur audio sur le mode de transmission du signal du microphone √† l'entr√©e microphone du t√©l√©phone. Au bout d'une p√©riode de temps pr√©d√©termin√©e, tout revient √† son √©tat d'origine et le microcontr√¥leur plonge dans un sommeil profond.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le smartphone utilise le firmware pour enregistrer le signal audio sous forme de fichier dans sa propre m√©moire. </font><font style="vertical-align: inherit;">√Ä l'avenir, vous pourrez l'√©couter, le visualiser sur l'√©cran du smartphone et m√™me le transf√©rer dans les nuages ‚Äã‚Äãpour analyse et traitement d√©taill√©.</font></font><br>
<br>
<h3><font color="#66a3be"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inconv√©nients de l'appareil</font></font></font></h3><br>
<img src="https://habrastorage.org/webt/ti/rp/pp/tirpppgemguddhyduwpotcp4r0u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme de nombreuses startups m√©dicales de premi√®re vague, auxquelles je fais r√©f√©rence aux projets lanc√©s au d√©but des ann√©es 2010, celui-ci s'est finalement √©cras√©. </font><font style="vertical-align: inherit;">Cependant, il y a une id√©e de consacrer mon prochain article √† une analyse d√©taill√©e des raisons des hauts et des bas des startups m√©dicales de cette g√©n√©ration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cela, je note seulement les erreurs de calcul √©videntes associ√©es aux performances techniques. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme une petite charge pour l'esprit, je sugg√®re de trouver des erreurs √©videntes par nous-m√™mes, puis d'ouvrir le spoiler et de comparer avec ceux</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que j'ai remarqu√©</font></font></b>
                        <div class="spoiler_text">         .  ,            .  ,              .<br>
<br>
<img src="https://habrastorage.org/webt/42/oq/qn/42oqqnjcar6ehfxecf_2wleltto.jpeg" align="left">  ,          ,     ,      .  ,      ,        ,        ,             . <br>
<br>
        ‚Äî  .         .   ,          .             ,                   .       ,    . ,             .<br>
</div>
                    </div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En conclusion, une grosse demande pour prendre quelques secondes sur un petit mais important sondage pour moi. </font><font style="vertical-align: inherit;">Remercier.</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr497950/index.html">21 le√ßons apprises en 21 ans de programmation</a></li>
<li><a href="../fr497952/index.html">Abr√©viations anglaises et titres informatiques que nous pronon√ßons mal</a></li>
<li><a href="../fr497956/index.html">Sars miraculeux? G√©n√©alogie du coronavirus de Wuhan</a></li>
<li><a href="../fr497958/index.html">Ils sont parmi nous: explorer les vuln√©rabilit√©s et les codes malveillants dans Zoom pour Windows</a></li>
<li><a href="../fr497960/index.html">Installation r√©seau Linux</a></li>
<li><a href="../fr497968/index.html">Ressources pour les d√©veloppeurs Web: API et √©l√©ments d'interface utilisateur</a></li>
<li><a href="../fr497980/index.html">Combien d'eau a fui? Nous r√©solvons le probl√®me par un moonwalk sur Haskell</a></li>
<li><a href="../fr497982/index.html">Approche fonctionnelle et processus de la gestion. Comment et quoi g√©rer?</a></li>
<li><a href="../fr497984/index.html">Migration de reCAPTCHA vers hCaptcha dans Cloudflare</a></li>
<li><a href="../fr497986/index.html">Surveillance de toute la m√©moire utilis√©e par une page Web: performance.measureMemory ()</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>