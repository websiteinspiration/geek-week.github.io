<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèº üë®üèº‚Äçüéì ‚õπüèæ Why WSL 2 is 13x Faster Than WSL: Insider Preview Impressions üëâüèª üßëüèø‚Äçü§ù‚ÄçüßëüèΩ „Ä∞Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Microsoft is preparing a release of Windows May 2020 Update (20H1). This update will contain some nice user interface improvements, but more important...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Why WSL 2 is 13x Faster Than WSL: Insider Preview Impressions</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/500958/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft is preparing a release of Windows May 2020 Update (20H1). This update will contain some nice user interface improvements, but more important for developers and other initiates is that </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WSL 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Windows Subsystem for Linux) </font><font style="vertical-align: inherit;">will appear in the new version of Windows </font><font style="vertical-align: inherit;">. This is relevant information for those who wanted to switch to Windows, but did not dare. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dave Rupert installed WSL 2 on its 13-inch Surface laptop and the first results </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pleasantly surprised:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/cv/zv/xjcvzv7qg-1x6rz85xdtwses1cu.png"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second version of WSL is 13 times faster than the first! </font><font style="vertical-align: inherit;">Not every day you get a 13x productivity boost for free. </font><font style="vertical-align: inherit;">I felt a chill and uttered a mean male tear when I first saw these results. </font><font style="vertical-align: inherit;">Why? </font><font style="vertical-align: inherit;">Well, basically, I mourned the lost time that had accumulated over 5 years of working with the first version of WSL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And these are not just numbers. </font><font style="vertical-align: inherit;">In WSL 2, installing npm, building, packing, viewing files, rebooting hot modules, starting servers - almost everything I use daily as a web developer has become much faster. </font><font style="vertical-align: inherit;">It feels like it's like sitting down on a Mac again (or maybe better, since Apple has drastically limited its processors in the last few years in favor of increasing battery life).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why such agility?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
How did they achieve 13x productivity growth? Earlier, when I thought about switching to Mac, I also threw up some options, however, purely at the level of assumptions. The fact is that writing to disk and Linux system calls were quite expensive (in terms of time overhead) due to the architecture of the first version of WSL. And now guess what modern web development relies heavily on? Yes. When you put together a bunch of dependencies and snippets of code every time you save a file, you actually do a lot of disk writing and system calls for tens of thousands of files.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As soon as you learn about it through your bitter experience, after that it‚Äôs hard to forget everything. You begin to gradually become depressed when you imagine how slowly and sadly it all works. And you understand that your world will no longer be the same and the tool that you liked no longer seems useful and effective. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortunately, the WSL team took a risk and completely rewrote the subsystem. In WSL 2, these problems were resolved: developers integrated their own Linux virtual machine into Windows and assigned file operations to the VHD (Virtual Hardware Disk) network drive. The trade-off is that the first time you start, you have to spend time to spin up a virtual machine. This time is calculated in milliseconds and for me personally is barely noticeable. For example, I wait with pleasure, because I know what all this is for.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Where will the files live now?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To take full advantage of WSL 2, you will want to move the project files from </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ mnt / c / Users / &lt;username&gt; /</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to the new </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ / Linux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> home directory </font><font style="vertical-align: inherit;">on the new VHD. </font><font style="vertical-align: inherit;">You can see the contents of this disk on the network by going to </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">\\\\ wsl $ \\ &lt;distribution name&gt; \\ &lt;username&gt; \\ home</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or by entering the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">explorer.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> command </font><font style="vertical-align: inherit;">from your Bash shell. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a real Linux file system, and it acts and behaves as you expect. </font><font style="vertical-align: inherit;">I created the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ / projects</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> folder </font><font style="vertical-align: inherit;">in which all my project repositories live and then I open the projects in Visual Studio Code using the code command.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">What about VS Code?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installing the WSL </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">extension</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for remote development on VS Code (VS Code Remote - WSL) is the last step to ensure the developer's comfortable work. The extension allows VS Code to perform all of its operations (git commands, consoles, installing extensions, and so on) by interacting directly with the Linux virtual machine. This makes the whole process very autonomous.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At first, I was a little upset about the need to install this extension, because I needed to reinstall what I installed and configured before. </font><font style="vertical-align: inherit;">But now I appreciated it because a special visualization layer has appeared that shows in which environment I work and where my files live. </font><font style="vertical-align: inherit;">This made the web development process on Windows more transparent and greatly simplified the use of the user interface for version control in VS Code.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tears of happiness and hope for a brighter future</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I have a feeling of joy when I think about the next release of the Windows May 2020 Update and the optimized Linux subsystem that just flies on my powerful gaming computer. There may be some more problems that I don‚Äôt know about yet, but after </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Insider Preview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I concluded that the WSL team solved most of the problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, do not forget that </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Terminal is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> also good! They seemed to hear my complaints about the lack of tabs, JSON Settings and the need to "feel cool" on Windows. It still sounds strange, but Windows Terminal is probably the best terminal for Windows.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After working in Windows for 5 years, I went through a lot: the inability to install Rails, the fight against Cygwin artificial shells. </font><font style="vertical-align: inherit;">I sat in the front row at the same Build 2016 conference when Microsoft announced the first version of WSL. </font><font style="vertical-align: inherit;">And then I had the hope that web development on Windows would finally reach a new level. </font><font style="vertical-align: inherit;">Without a doubt, WSL 2 is the biggest improvement I've seen since then, and it looks like we're on the verge of a new era.</font></font><br>
<br>
<hr><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As an advertisement</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you need </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows servers</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to work </font><font style="vertical-align: inherit;">, then you are definitely welcome </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to us</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - automatic installation of Windows Server 2012, 2016 or 2019 at rates with 2 GB of RAM or higher, a license is already included in the price. </font><font style="vertical-align: inherit;">Only </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from 21 rubles per day</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! </font><font style="vertical-align: inherit;">And we also have eternal servers;)</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en500942/index.html">Ultraviolet: effective disinfection and safety</a></li>
<li><a href="../en500944/index.html">WexLang Reader - how to read books in foreign languages ‚Äã‚Äãwith pleasure (104 languages)</a></li>
<li><a href="../en500948/index.html">Rust 1.43.1 release: adjustment release</a></li>
<li><a href="../en500952/index.html">Key Python Programmer Skills</a></li>
<li><a href="../en500956/index.html">Mobile ML: machine learning in your pocket. Part 1 - Iron</a></li>
<li><a href="../en500962/index.html">Step-by-step codes: read / encode PDF417</a></li>
<li><a href="../en500966/index.html">SLS vs STARSHIP: Why do both programs exist? Everyday astronaut</a></li>
<li><a href="../en500968/index.html">Material Python. What's New in KivyMD Library</a></li>
<li><a href="../en500970/index.html">Marketer Daniil Kravtsov - from scratch to a company worth $ 40 million</a></li>
<li><a href="../en500972/index.html">These strange OSs: briefly about three unusual operating systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>