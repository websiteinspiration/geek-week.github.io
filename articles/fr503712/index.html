<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüç≥ üï∫üèæ üëºüèø Statut et performances des solutions de stockage persistant Kubernetes üë©‚Äç‚ù§Ô∏è‚Äçüë© üòΩ üõ§Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : Bien que cette revue ne pr√©tend pas √™tre le statut d'une comparaison technique soigneusement d√©velopp√©e des solutions existantes pou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Statut et performances des solutions de stockage persistant Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/503712/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Bien que cette revue ne pr√©tend pas √™tre le statut d'une comparaison technique soigneusement d√©velopp√©e des solutions existantes pour le stockage permanent des donn√©es dans Kubernetes, elle peut √™tre un bon point de d√©part pour les administrateurs qui sont concern√©s par ce probl√®me. La plus grande attention a √©t√© accord√©e √† la solution du Pir√©e, dont la familiarit√© profitera non seulement aux amateurs de Linstor, mais √©galement √† ceux qui n'ont pas entendu parler de ces projets.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/oa/ev/6t/oaev6tibppjvpg4ommvvleyxu_c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il s'agit d'un aper√ßu non scientifique des solutions de stockage pour Kubernetes. √ânonc√© du probl√®me: n√©cessite la possibilit√© de cr√©er un volume persistant sur les disques du n≈ìud, dont les donn√©es seront enregistr√©es en cas de dommage ou de red√©marrage du n≈ìud.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La motivation de cette comparaison est la n√©cessit√© de migrer le parc de serveurs de l'entreprise de plusieurs serveurs bare metal d√©di√©s vers le cluster Kubernetes.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon entreprise est une startup </font><font style="vertical-align: inherit;">br√©silienne </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escavador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec d'√©normes besoins informatiques (principalement CPU) et un budget tr√®s limit√©. Nous d√©veloppons des solutions PNL pour structurer les donn√©es l√©gales. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lm/42/gl/lm42gl4y03e1vacxpeu48ov8ipu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En raison de la crise avec COVID-19, le real br√©silien est tomb√© √† un niveau record face au dollar am√©ricain</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notre monnaie nationale est en fait tr√®s sous-estim√©e, donc le salaire moyen d'un d√©veloppeur senior n'est que de 2000 USD par mois. Ainsi, nous ne pouvons pas nous permettre le luxe de d√©penser des sommes importantes en services cloud. Lors de mes derniers calculs, [gr√¢ce √† l'utilisation de mes serveurs], nous avons √©conomis√© 75% par rapport √† ce que je devrais payer pour AWS. En d'autres termes, un autre d√©veloppeur peut √™tre embauch√© pour l'argent √©conomis√© - je pense que c'est une utilisation beaucoup plus rationnelle des fonds. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inspir√© par une s√©rie de publications de Vito Botta, j'ai d√©cid√© de cr√©er un cluster K8s en utilisant Rancher (et jusqu'ici tout va bien ...). Vito a √©galement effectu√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une excellente analyse de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diverses solutions de stockage. Le vainqueur clair √©tait Linstor (il l'a m√™me distingu√©</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ligue sp√©ciale</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spoiler: Je suis d'accord avec lui.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pendant un certain temps, j'ai suivi le trafic autour de Kubernetes, mais je n'ai d√©cid√© que r√©cemment d'y participer. Cela est principalement d√ª au fait que le fournisseur dispose d'une nouvelle gamme de processeurs Ryzen. Et puis j'ai √©t√© tr√®s surpris de voir que de nombreuses solutions sont encore en d√©veloppement ou √† l'√©tat immature (notamment pour les clusters bare metal: virtualisation VM, MetalLB, etc.). Les coffres-forts sur le m√©tal nu sont encore √† leur stade de maturit√©, bien qu'ils soient repr√©sent√©s par une multitude de solutions commerciales et Open Source. J'ai d√©cid√© de comparer les principales solutions prometteuses et gratuites (tester simultan√©ment un produit commercial afin de comprendre ce que je perds). </font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Gamme de solutions de</font></a></i></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/bt/ju/ibbtjukbsn_iedl3vnbxblnguey.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> stockage chez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNCF Landscape</font></font></a></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais tout d'abord, je veux vous avertir que je suis nouveau sur les K8. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour les exp√©riences, 4 travailleurs ont √©t√© utilis√©s avec la configuration suivante: processeur Ryzen 3700X, 64 Go de m√©moire ECC, NVMe 2 To. </font><font style="vertical-align: inherit;">Des rep√®res ont √©t√© r√©alis√©s en utilisant l'image </font></font><code>sotoaster/dbench:latest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sur fio) avec le drapeau </font></font><code>O_DIRECT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Licence: Apache 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Support commercial: √©leveur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/longhorn/longhorn</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âtoiles sur GitHub: 1,3 mille</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai vraiment aim√© Longhorn. </font><font style="vertical-align: inherit;">Il est enti√®rement int√©gr√© √† Rancher et vous pouvez l'installer via Helm en un seul clic. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xa/xc/fo/xaxcfod6ctz3r1znababkc4jufe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation de Longhorn de Rancher</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il s'agit d'un outil open source avec le statut d'un projet sandbox de la Cloud Native Computing Foundation (CNCF). </font><font style="vertical-align: inherit;">Son d√©veloppement est financ√© par Rancher - une entreprise assez prosp√®re avec un produit [√©ponyme] bien connu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z0/nx/fy/z0nxfybkesf930zdaqac3gi_kcy.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une excellente interface graphique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><b><font style="vertical-align: inherit;">√©galement disponible</font></b><font style="vertical-align: inherit;"> - tout peut √™tre fait √† partir de celle-ci. </font><font style="vertical-align: inherit;">Avec la performance, tout est en ordre. </font><font style="vertical-align: inherit;">Le projet est toujours en version b√™ta, ce qui est confirm√© par des probl√®mes sur GitHub. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors des tests, j'ai lanc√© un benchmark utilisant 2 r√©pliques et Longhorn 0.8.0:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture al√©atoire, IOPS: 28,2 k / 16,2 k;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bande passante en lecture / √©criture: 205 Mb / s / 108 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Latence moyenne en lecture / √©criture (usec): 593,27 / 644,27;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture s√©quentielle: 201 Mb / s / 108 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture al√©atoire mixte, IOPS: 14,7k / 4904.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openebs</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Licence: Apache 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Support commercial: plusieurs entreprises (?); </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mayadata.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> semble le plus grand</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/openebs/openebs</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √âtoiles sur GitHub: 6K</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce projet a √©galement le statut de bac √† sable CNCF. </font><font style="vertical-align: inherit;">Avec un grand nombre d'√©toiles sur GitHub, cela ressemble √† une solution tr√®s prometteuse. </font><font style="vertical-align: inherit;">Dans sa revue, Vito Botta s'est plaint de performances insuffisantes. </font><font style="vertical-align: inherit;">Voici ce que le </font><font style="vertical-align: inherit;">PDG de Mayadata lui a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©pondu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les informations sont tr√®s obsol√®tes. </font><font style="vertical-align: inherit;">OpenEBS en supportait 3 auparavant, mais maintenant il prend en charge 4 moteurs, si vous activez le provisionnement dynamique et l'orchestration localPV, qui peuvent s'ex√©cuter √† des vitesses NVMe. </font><font style="vertical-align: inherit;">De plus, le moteur MayaStor est maintenant ouvert et re√ßoit d√©j√† des critiques positives (bien qu'il ait le statut alpha).</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la page du projet OpenEBS, il y a une telle explication sur son statut:</font></font><br>
<br>
<blockquote>OpenEBS ‚Äî             Kubernetes. OpenEBS   sandbox- CNCF   2019-       ,    -     (local, nfs, zfs, nvme)   on-premise,     . OpenEBS      -  stateful- ‚Äî Litmus Project, ‚Äî          OpenEBS.    OpenEBS  production  2018 ;    2,5  docker pull'.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il poss√®de de nombreux moteurs, et le dernier semble assez prometteur en termes de performances: ¬´MayaStor - moteur alpha avec NVMe sur Fabrics¬ª. </font><font style="vertical-align: inherit;">H√©las, je ne l'ai pas test√© √† cause du statut de la version alpha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors des tests, la version 1.8.0 a √©t√© utilis√©e sur le moteur jiva. </font><font style="vertical-align: inherit;">De plus, j'ai pr√©c√©demment v√©rifi√© cStor, mais je n'ai pas enregistr√© les r√©sultats, qui se sont toutefois r√©v√©l√©s l√©g√®rement plus lents que jiva. </font><font style="vertical-align: inherit;">Pour le benchmark, un graphique Helm a √©t√© install√© avec tous les param√®tres par d√©faut et la classe de stockage, cr√©√©e de mani√®re standard par Helm ( </font></font><code>openebs-jiva-default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), a √©t√© utilis√©e. </font><font style="vertical-align: inherit;">La performance s'est av√©r√©e √™tre la pire de toutes les solutions envisag√©es (je vous serais reconnaissant de me conseiller pour l'am√©liorer). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OpenEBS 1.8.0 avec moteur jiva (3 r√©pliques?):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture al√©atoire, IOPS: 2182/1527;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bande passante en lecture / √©criture: 65,0 Mb / s / 41,9 Mb / s;</font></font></li>
<li>   / (usec): 1825.49 / 2612.87;</li>
<li>  /: 95.5 / / 37.8 /;</li>
<li>   /, IOPS: 2607 / 856.</li>
</ul><br>
<i><b>  </b>.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> Evan Powell,   OpenEBS (   ,    StackStorm  Nexenta):</i><br>
<br>
<blockquote><i>   , Bruno!         OpenEBS  .    Jiva,      ARM      overhead'  .    Bloomberg    DynamicLocal PV  OpenEBS.       Elastic     ,  .  ,        OpenEBS Director (https://account.mayadata.io/signup).    ‚Äî     ,     .</i></blockquote><br>
<h2>StorageOS</h2><br>
<ul>
<li> : </li>
<li> URL: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">storageos.com</a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'une solution commerciale gratuite lorsque vous utilisez jusqu'√† 110 Go d'espace. Une </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">licence de d√©veloppeur</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuite </font><font style="vertical-align: inherit;">peut √™tre obtenue en vous inscrivant via l'interface utilisateur du produit; Il offre jusqu'√† 500 Go d'espace. Dans Rancher, il est r√©pertori√© comme partenaire, donc l'installation √† l'aide de Helm a √©t√© facile et sans souci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisateur se voit offrir un panneau de contr√¥le de base. Les tests de ce produit ont √©t√© limit√©s car il est commercial et ne nous convient pas en valeur. Mais je voulais quand m√™me voir de quels projets commerciaux sont capables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le test utilise la classe de stockage existante appel√©e ¬´Fast¬ª (mod√®le 0.2.19, 1 ma√Ætre + 0 r√©plique?). Les r√©sultats ont √©t√© incroyables. Ils ont largement d√©pass√© les solutions pr√©c√©dentes.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture al√©atoire, IOPS: 117k / 90,4k;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bande passante en lecture / √©criture: 2124 Mb / s / 457 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Latence moyenne en lecture / √©criture (usec): 63,44 / 86,52;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture s√©quentielle: 1907 Mb / s / 448 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lecture / √©criture al√©atoire mixte, IOPS: 81,9 k / 27,3 k.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le Pir√©e (bas√© sur Linstor)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Licence: GPLv3</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Support commercial: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINBIT</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/piraeusdatastore/piraeus</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bas√© sur: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/LINBIT/linstor-server</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stars sur GitHub: moins de 100 (ne l√©sinez pas, mettez un ast√©risque sur le projet!)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Vito Botta d√©j√† mentionn√© a finalement opt√© pour Linstor, ce qui √©tait une raison suppl√©mentaire d'essayer cette solution. </font><font style="vertical-align: inherit;">√Ä premi√®re vue, le projet semble plut√¥t √©trange. </font><font style="vertical-align: inherit;">Il n'y a presque pas d'√©toiles sur GitHub, un nom inhabituel et il n'existe m√™me pas sur CNCF Landscape. </font><font style="vertical-align: inherit;">Mais en y regardant de plus pr√®s, tout n'est pas si effrayant, car:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DRBD est utilis√© comme m√©canisme de r√©plication de base (en fait, il a √©t√© d√©velopp√© par les m√™mes personnes). </font><font style="vertical-align: inherit;">Dans le m√™me temps, DRBD 8.x fait partie du noyau Linux officiel depuis plus de 10 ans. </font><font style="vertical-align: inherit;">Et nous parlons d'une technologie perfectionn√©e depuis plus de 20 ans.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les m√©dias sont contr√¥l√©s par LINSTOR, √©galement une technologie mature de la m√™me soci√©t√©. </font><font style="vertical-align: inherit;">La premi√®re version de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linstor-server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est apparue sur GitHub en f√©vrier 2018. </font><font style="vertical-align: inherit;">Il est compatible avec diverses technologies / syst√®mes tels que Proxmox, OpenNebula et OpenStack.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apparemment, Linbit d√©veloppe activement le projet, y introduisant constamment de nouvelles fonctionnalit√©s et am√©liorations. </font><font style="vertical-align: inherit;">La 10e version de DRBD a toujours le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">statut alpha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais elle poss√®de d√©j√† des fonctionnalit√©s uniques, telles que le codage d'effacement </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(analogue √† la fonctionnalit√© de RAID5 / 6 - environ Transl.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'entreprise prend </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certaines mesures</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour devenir l'un des projets de la CNCF.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, le projet semble suffisamment convaincant pour lui confier ses pr√©cieuses donn√©es. </font><font style="vertical-align: inherit;">Mais est-il capable de rejouer des alternatives? </font><font style="vertical-align: inherit;">Jetons un coup d'oeil.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vito parle d'installer Linstor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cependant, dans les commentaires, l'un des d√©veloppeurs de Linstor recommande un nouveau projet appel√© Piraeus. Si je comprends bien, Le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pir√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devient le projet Linbit Open Source, qui combine tout ce qui concerne les K8. L'√©quipe travaille sur l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√©rateur appropri√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais pour l'instant, le Pir√©e peut √™tre install√© √† l'aide de ce fichier YAML:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl apply -f https://raw.githubusercontent.com/bratao/piraeus/master/deploy/all.yaml</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention! </font><font style="vertical-align: inherit;">Vous r√©cup√©rez les configurations de mon r√©f√©rentiel personnel. </font><font style="vertical-align: inherit;">D√©couvrez le r√©f√©rentiel officiel! </font><font style="vertical-align: inherit;">J'ai mis √† jour la version des images pour r√©soudre l'erreur qui se produit lors de l'utilisation dans Ubuntu. </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le r√©f√©rentiel officiel du Pir√©e est disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©galement utiliser le r√©f√©rentiel kvaps (il semble encore plus dynamique que le r√©f√©rentiel officiel du Pir√©e): </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/kvaps/kube-linstor </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(profitez-en pour dire bonjour √† Andrey</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kvaps</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- environ. </font><font style="vertical-align: inherit;">perev.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6x/wx/nh/6xwxnhsh1ee3oimukq4enhpj8by.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les n≈ìuds fonctionnent apr√®s l'installation</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'administration est effectu√©e √† l'aide de la ligne de commande. </font><font style="vertical-align: inherit;">L'acc√®s √† celui-ci est possible √† partir du shell de commande du n≈ìud du contr√¥leur du Pir√©e. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/al/al/ns/alalnsdlrqxen1po4kjdvkqorg0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le n≈ìud du contr√¥leur ex√©cute linstor-server. </font><font style="vertical-align: inherit;">Il s'agit d'une couche d'abstraction sur drbd, capable de g√©rer l'ensemble du parc de n≈ìuds. </font><font style="vertical-align: inherit;">La capture d'√©cran ci-dessous montre quelques commandes utiles pour les t√¢ches les plus populaires, par exemple:</font></font><br>
<br>
<ul>
<li> <code>linstor node list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - afficher une liste des n≈ìuds connect√©s et leur √©tat;</font></font></li>
<li> <code>linstor volume list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - afficher une liste des volumes cr√©√©s et leur emplacement;</font></font></li>
<li> <code>linstor node info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - montrer les capacit√©s de chaque n≈ìud.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/cv/gs/nb/cvgsnbc08kqvpkcyilvnpc_rsq4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commandes Linstor Une</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
liste compl√®te des commandes est disponible dans la documentation officielle: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guide de l'utilisateur LINSTOR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cas de situations telles que split brain, drbd est accessible directement via les n≈ìuds.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reprise apr√®s sinistre</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai fait de mon mieux pour supprimer mon cluster, y compris une r√©initialisation mat√©rielle sur les n≈ìuds. Mais Linstor √©tait √©tonnamment tenace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drbd reconna√Æt parfaitement un probl√®me appel√© split brain. Dans ma situation, le n≈ìud secondaire est tomb√© hors de la r√©plication.</font></font><br>
<br>
<blockquote>Split brain ‚Äî  ,  -       ,       -      Primary,   ¬´¬ª .     ,            .  ,      ,     .<br>
<br>
Split brain  DRBD   ,     ,        Heartbeat.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les d√©tails peuvent √™tre trouv√©s dans la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation officielle de drbd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/q5/mo/01q5morra2apvjguxsvng9ocxac.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le n≈ìud secondaire est tomb√© hors de la r√©plication.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans mon cas, pour r√©soudre le probl√®me, j'ai supprim√© les donn√©es secondaires et commenc√© la synchronisation avec le n≈ìud principal. </font><font style="vertical-align: inherit;">Comme je pr√©f√®re les interfaces graphiques, j'ai utilis√© l'utilitaire drbdtop pour cela. </font><font style="vertical-align: inherit;">Avec son aide, vous pouvez surveiller visuellement l'√©tat et ex√©cuter des commandes dans les n≈ìuds. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'avais besoin d'aller dans la console sur le n≈ìud probl√©matique piraues (c'√©tait </font></font><code>worker2-gpu</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pm/h4/41/pmh441jj847vcl6h-chni2q49e8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller sur le n≈ìud</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L√† j'ai install√© drdbtop. </font><font style="vertical-align: inherit;">T√©l√©chargez cet utilitaire ici:</font></font><br>
<br>
<pre><code class="bash hljs">wget https://github.com/LINBIT/drbdtop/releases/download/v0.2.2/drbdtop-linux-amd64<font></font>
chmod +x drbdtop-linux-amd64<font></font>
./drbdtop-linux-amd64</code></pre><br>
<img src="https://habrastorage.org/webt/y8/v1/5g/y8v15gnppzvbtjsjju4gl1oanc4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution de l'utilitaire drbdtop</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jetez un ≈ìil au panneau inf√©rieur. </font><font style="vertical-align: inherit;">Il y a des commandes qui peuvent √™tre utilis√©es pour r√©parer le cerveau divis√©: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pb/zh/h2/pbzhh2xqbwnb11gjy6q9_6iojge.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s cela, les n≈ìuds sont connect√©s et synchronis√©s automatiquement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment augmenter la vitesse?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par d√©faut, Le Pir√©e / Linstor / drbd affiche d'excellentes performances (vous pouvez le voir ci-dessous). </font><font style="vertical-align: inherit;">Les param√®tres par d√©faut sont raisonnables et s√ªrs. </font><font style="vertical-align: inherit;">Cependant, la vitesse d'√©criture √©tait plut√¥t faible. </font><font style="vertical-align: inherit;">√âtant donn√© que les serveurs dans mon cas sont dispers√©s dans diff√©rents centres de donn√©es (bien qu'ils soient physiquement relativement proches), j'ai d√©cid√© d'essayer de r√©gler leurs performances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le point de d√©part de l'optimisation est la d√©finition d'un protocole de r√©plication. </font><font style="vertical-align: inherit;">Par d√©faut, le protocole C est utilis√©, qui attend la confirmation d'√©criture sur le n≈ìud secondaire distant. </font><font style="vertical-align: inherit;">Voici une description des protocoles possibles:</font></font><br>
<br>
<ul>
<li> <b>Protocol A</b> ‚Äî   .        ,       ,        TCP-  .     ,    TCP  .      .</li>
<li> <b>Protocol B</b> ‚Äî   .        ,       ,       .</li>
<li> <b>Protocol C</b> ( ) ‚Äî   .                .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cette raison, dans Linstor, j'utilise √©galement le protocole asynchrone (il prend en charge la r√©plication synchrone / semi-synchrone / asynchrone). </font><font style="vertical-align: inherit;">Vous pouvez l'activer avec la commande suivante:</font></font><br>
<br>
<pre><code class="bash hljs">linstor c drbd-options --protocol A --after-sb-0pri=discard-zero-changes  --after-sb-1pri=discard-secondary  --after-sb-2pri=disconnect --max-buffers 131072 --sndbuf-size 1085760 --rcvbuf-size 1085760 --c-max-rate 4194304 --c-fill-target 1048576</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat de sa mise en ≈ìuvre sera l'activation du protocole asynchrone et une augmentation de la m√©moire tampon jusqu'√† 1 Mo. </font><font style="vertical-align: inherit;">C'est relativement s√ªr. </font><font style="vertical-align: inherit;">Ou vous pouvez utiliser la commande suivante (elle ignore les vidages de disque et augmente consid√©rablement la m√©moire tampon):</font></font><br>
<br>
<pre><code class="bash hljs">linstor c drbd-options --protocol A --after-sb-0pri=discard-zero-changes  --after-sb-1pri=discard-secondary  --after-sb-2pri=disconnect --max-buffers 131072 --sndbuf-size 10485760 --rcvbuf-size 10485760 --disk-barrier no --disk-flushes no --c-max-rate 4194304 --c-fill-target 1048576</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que si le n≈ìud principal tombe en panne, une petite partie des donn√©es peut ne pas atteindre les r√©pliques. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/rx/-a/udrx-adhl5wwiirzannlce1zakw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendant l'enregistrement actif, le n≈ìud a re√ßu temporairement un √©tat obsol√®te √† l'aide du protocole ASYNC</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essai</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les rep√®res ont √©t√© effectu√©s en utilisant le poste suivant:</font></font><br>
<br>
<pre><code class="plaintext hljs">kind: PersistentVolumeClaim<font></font>
apiVersion: v1<font></font>
metadata:<font></font>
 name: dbench<font></font>
spec:<font></font>
 storageClassName:  STORAGE_CLASS<font></font>
 accessModes:<font></font>
   - ReadWriteOnce<font></font>
 resources:<font></font>
   requests:<font></font>
     storage: 5Gi<font></font>
---<font></font>
apiVersion: batch/v1<font></font>
kind: Job<font></font>
metadata:<font></font>
 name: dbench<font></font>
spec:<font></font>
 template:<font></font>
   spec:<font></font>
     containers:<font></font>
     - name: dbench<font></font>
       image: sotoaster/dbench:latest<font></font>
       imagePullPolicy: IfNotPresent<font></font>
       env:<font></font>
         - name: DBENCH_MOUNTPOINT<font></font>
           value: /data<font></font>
         - name: FIO_SIZE<font></font>
           value: 1G<font></font>
       volumeMounts:<font></font>
       - name: dbench-pv<font></font>
         mountPath: /data<font></font>
     restartPolicy: Never<font></font>
     volumes:<font></font>
     - name: dbench-pv<font></font>
       persistentVolumeClaim:<font></font>
         claimName: dbench<font></font>
 backoffLimit: 4</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le d√©lai entre les machines est la suivante: </font></font><code>ttl=61 time=0.211 ms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Le d√©bit mesur√© entre eux √©tait de 943 Mbps. </font><font style="vertical-align: inherit;">Tous les n≈ìuds ex√©cutent Ubuntu 18.04. </font><i><font style="vertical-align: inherit;">R√©sultats ( </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">tableau sur sheetsu.com</font></a></i><i><font style="vertical-align: inherit;"> )</font></i><font style="vertical-align: inherit;"> 
Comme le montre le tableau, Le Pir√©e et StorageOS ont montr√© les meilleurs r√©sultats. </font><font style="vertical-align: inherit;">Le leader √©tait le Pir√©e avec deux r√©pliques et un protocole asynchrone.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/le/ez/0k/leez0ktywscyuz0jyl_9gel2q6g.png"></a><br>
<i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai fait une comparaison simple et peut-√™tre pas trop correcte de certaines solutions de stockage dans Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai surtout aim√© Longhorn en raison de sa belle interface graphique et de son int√©gration avec Rancher. Cependant, les r√©sultats ne sont pas inspirants. De toute √©vidence, les d√©veloppeurs se concentrent principalement sur la s√©curit√© et l'exactitude, laissant la vitesse pour plus tard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuis quelque temps, j'utilise Linstor / Piraeus dans les environnements de production de certains projets. Jusqu'√† pr√©sent, tout allait bien: les disques ont √©t√© cr√©√©s et supprim√©s, les n≈ìuds ont √©t√© red√©marr√©s sans temps d'arr√™t ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä mon avis, le Pir√©e est tout √† fait pr√™t √† √™tre utilis√© en production, mais doit √™tre am√©lior√©. J'ai √©crit sur quelques bugs dans le canal du projet dans Slack, mais en r√©ponse, ils m'ont seulement conseill√© d'enseigner Kubernetes (et c'est correct, car je ne le comprends toujours pas bien). Apr√®s une petite correspondance, j'ai quand m√™me r√©ussi √† convaincre les auteurs qu'il y avait un bug dans leur script init. Hier, apr√®s avoir mis √† jour le noyau et red√©marr√©, le n≈ìud a refus√© de d√©marrer. Il s'est av√©r√© que la compilation du script qui int√®gre le module drbd dans le noyau a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©chou√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La restauration de la version pr√©c√©dente du noyau a r√©solu le probl√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, c'est tout. </font><font style="vertical-align: inherit;">√âtant donn√© qu'ils l'ont impl√©ment√© au-dessus de drbd, il s'est av√©r√© √™tre une solution tr√®s fiable avec d'excellentes performances. </font><font style="vertical-align: inherit;">En cas de probl√®me, vous pouvez directement contacter la direction de drbd et y rem√©dier. </font><font style="vertical-align: inherit;">Sur Internet, il existe de nombreuses questions et exemples sur ce sujet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si j'ai fait quelque chose de mal, si quelque chose peut √™tre am√©lior√© ou si vous avez besoin d'aide, contactez-moi sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS du traducteur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez aussi dans notre blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn, le stockage distribu√© de Rancher pour K8, transf√©r√© √† CNCF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nos mains ne sont pas pour l'ennui: restaurer le cluster Rook dans les K8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tour ou pas Tour - c'est la question</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     Kubernetes:  Flexvolume  CSI</a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503700/index.html">Cr√©ation de formulaires React en 2020</a></li>
<li><a href="../fr503702/index.html">Utilisation des donn√©es brutes dans Google Analytics en pratique</a></li>
<li><a href="../fr503704/index.html">Au lieu de 100 lancements d'applications - un autotest, ou comment sauver un ing√©nieur QA 20 ans de vie</a></li>
<li><a href="../fr503706/index.html">Pourquoi ces r√®gles m√©t√©orologiques ennuyeuses sont-elles n√©cessaires pour lancer et atterrir des roquettes?</a></li>
<li><a href="../fr503710/index.html">PyDoma [PyData Moscow Meetup # 12]: 26 mai 2020</a></li>
<li><a href="../fr503716/index.html">Avez-vous besoin de nuages ‚Äã‚Äãdans l'espace</a></li>
<li><a href="../fr503718/index.html">Avocat robot, application de collecte des ordures et bien plus encore: un hackathon en ligne avec une pizza en ligne conquiert la crise</a></li>
<li><a href="../fr503720/index.html">DevOps vs DevSecOps: √† quoi cela ressemblait dans une banque</a></li>
<li><a href="../fr503724/index.html">Wi-Fi ou paire torsad√©e - quel est le meilleur?</a></li>
<li><a href="../fr503726/index.html">6 fa√ßons d'acc√©l√©rer consid√©rablement les pandas avec quelques lignes de code. Partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>