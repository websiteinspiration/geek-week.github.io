<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⤵️ ☔️ 🧘🏾 Kami berurusan dengan algoritma runtuhnya fungsi gelombang 🚶🏾 😷 🌝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sejak kedatangan DeBroglie dan Tessera, saya telah diminta berkali-kali untuk menjelaskan cara kerjanya. Menghasilkan mungkin terlihat seperti sihir, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kami berurusan dengan algoritma runtuhnya fungsi gelombang</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/497590/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/0p/3h/m9/0p3hm9jziz_gbzi9tajbo2p_s3a.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sejak kedatangan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DeBroglie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tessera,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya telah diminta berkali-kali untuk menjelaskan cara kerjanya. </font><font style="vertical-align: inherit;">Menghasilkan mungkin terlihat seperti sihir, tetapi aturan di baliknya sebenarnya sederhana.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi apa algoritma Wave Function Collapse (WFC)? </font><font style="vertical-align: inherit;">Ini dikembangkan oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maxim Gumin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk membuat gambar "ubin" berdasarkan konfigurasi sederhana atau sampel gambar. </font><font style="vertical-align: inherit;">Algoritme dapat melakukan banyak hal: lihat contoh yang diberikan oleh Maxim dan Twitter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#wavefunctioncollapse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , tonton </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Varietasnya luar biasa.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browser Anda tidak mendukung video HTML5.</font></font><source src="https://www.boristhebrave.com/wp-content/uploads/2020/04/platformer.webm" type="video/webm"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maxim dalam README secara singkat menjelaskan pekerjaan WFC, tetapi bagi saya tampaknya masalah ini membutuhkan pengungkapan yang lebih rinci, dari dasar-dasarnya. Karena algoritme tersebut terkait dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemrograman kendala</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , sebagian besar artikel dikhususkan untuk </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menjelaskan konsep pemrograman kendala, dan pada akhirnya kami akan kembali ke WFC</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemrograman terbatas adalah cara menginstruksikan komputer. Tidak seperti pemrograman imperatif, ketika Anda menentukan daftar fungsi eksplisit, atau pemrograman fungsional, ketika Anda menentukan fungsi matematika, di sini Anda memberikan komputer dengan deskripsi masalah yang ketat, dan menggunakan algoritma bawaan untuk menemukan solusi. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">catatan:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panduan ini menjelaskan berbagai konsep, bukan metode dan kode. </font><font style="vertical-align: inherit;">Jika Anda lebih tertarik pada implementasinya, maka Anda dapat menggunakan perpustakaan opensource WFC saya ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Meskipun lebih baik untuk memulai studi dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementasi Maxim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jika Anda menggunakan Unity, Anda dapat membeli </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tessera</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ini adalah alat saya untuk menerapkan WFC di mesin ini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mini sudoku</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai tugas ilustrasi, saya mengambil </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sudoku</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mini </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini adalah teka-teki yang terlihat seperti kotak 4 × 4 dengan angka di beberapa sel.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2d2/079/ce5/2d2079ce585502dbe9329e0a34cfbed8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tujuannya adalah untuk mengisi setiap sel kosong dengan angka dari 1 hingga 4 sesuai dengan aturan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap angka dari 1 hingga 4 harus ada di setiap baris dalam satu salinan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap angka dari 1 hingga 4 harus ada di setiap kolom dalam satu salinan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setiap angka dari 1 hingga 4 harus ada di setiap sudut sudut 2 × 2 dalam satu salinan. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut aturan ini, solusinya adalah sebagai berikut:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d9e/ebf/927/d9eebf92740912d10aaaf6e63db189f3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin dengan mudah memecahkan teka-teki ini. </font><font style="vertical-align: inherit;">Tetapi kami tertarik pada bagaimana komputer dapat melakukan ini. </font><font style="vertical-align: inherit;">Masalahnya dapat dibagi menjadi dua bagian: deskripsi kondisi untuk komputer, dan kemudian solusi menggunakan algoritma.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskripsi kondisi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biasanya, bahasa pemrograman dalam batasan digunakan untuk ini. Ada beberapa bahasa seperti itu, dan prinsip aksi mereka serupa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama kita mendefinisikan </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variabel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Di sini mereka tidak sama dengan pemrograman konvensional. Dalam konteks pemecah masalah, variabel adalah nilai yang tidak diketahui yang harus dipecahkan untuk menyelesaikan masalah. Dalam contoh Sudoku kami, kami akan membuat variabel untuk semua sel kosong. Untuk kenyamanan, Anda juga dapat membuat variabel untuk sel yang diisi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian untuk setiap variabel, kami mendefinisikan </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">domain</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : satu set nilai yang mungkin. Di sudoku kami, untuk setiap sel kosong, domain akan menjadi {1, 2, 3, 4}. Dan untuk sel di mana 1 sudah dimasukkan, domain akan menjadi {1}. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, kami mengatur </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kendala</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: aturan mengikat variabel kami. </font><font style="vertical-align: inherit;">Di sebagian besar bahasa pemrograman, sudah ada fungsi dengan batasan </font></font><code>all_distinct(..)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang harus melewati nilai unik. </font><font style="vertical-align: inherit;">Jadi aturan Sudoku dapat diterjemahkan ke dalam 12 batasan </font></font><code>all_distinct</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- satu untuk setiap baris dan kolom, serta untuk kotak sudut 2 × 2. </font><font style="vertical-align: inherit;">Kami hanya membutuhkan satu jenis kendala untuk menyelesaikan masalah ini, namun, pemecah masalah untuk memenuhi kendala biasanya datang dengan perpustakaan besar berbagai jenis kendala untuk menggambarkan masalah Anda. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : dalam praktiknya, bahasa pemrograman mendukung array dalam batasan, jadi ada cara yang lebih akurat untuk merumuskan tugas ini. </font><font style="vertical-align: inherit;">Ada banyak artikel di internet tentang pemecahan sudoku.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algoritma untuk memecahkan masalah kepuasan kendala</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa teknik solusi yang berbeda. </font><font style="vertical-align: inherit;">Tetapi saya akan mempertimbangkan yang paling sederhana dari mereka untuk menunjukkan kepada Anda prinsip kerja mereka. </font><font style="vertical-align: inherit;">Domain untuk setiap sel ditampilkan di sini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/192/dd5/6d7/192dd56d7c6fad65e9d0ff0cd672b8b8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini semua adalah nilai yang mungkin dalam domain variabel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang ambil batasan pertama. </font><font style="vertical-align: inherit;">Semua nilai di baris atas harus unik. </font><font style="vertical-align: inherit;">Dalam satu sel, nilai 4 sudah tertulis, oleh karena itu, di sel lain dari seri nilai ini </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak bisa</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Kami menghapusnya dari domain sel-sel ini.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ea5/f37/ab8/ea5f37ab81c6fe4e923999a01d9c5b81.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ulangi proses ini dengan 12 batasan. </font><font style="vertical-align: inherit;">Ini disebut </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propagasi pembatasan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , karena informasi didistribusikan dari variabel ke variabel lain melalui pembatasan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c06/08e/1fa/c0608e1fa9d933b28269217ae9678831.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan lihat, kami memiliki variabel, di domain yang ada satu nilai yang tersisa. </font><font style="vertical-align: inherit;">Ini </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">harus</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menjadi solusi yang tepat untuk variabel-variabel ini.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02e/074/d2c/02e074d2cdcde1220efade75f26d7234.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya kita bisa mendapatkan lebih banyak manfaat dari distribusi pembatasan: unit merah baru menunjukkan bahwa kita akan memiliki lebih banyak variabel dengan satu domain, dan ini juga akan berkontribusi pada distribusi. </font><font style="vertical-align: inherit;">Ulangi prosedur ini hingga puzzle terpecahkan.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f78/94d/b63/f7894db63f3238fab4cf689941bd9d69.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menyulitkan tugas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sayangnya, tidak semua teka-teki logika dapat diselesaikan dengan cepat. </font><font style="vertical-align: inherit;">Ini adalah sudoku besar, kerjanya dengan cara yang sama, kecuali sekarang kita memiliki 9 nilai berbeda, 9 baris, 9 kolom, dan 9 kotak 3 × 3.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd2/97d/434/fd297d4345a2593633a88bbf0bf26764.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kami mencoba menerapkan teknik di atas, maka kami akan mandek:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/481/f68/a82/481f68a826b65b43441ddae08821f1ba.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang semua pembatasan adalah umum, tetapi masih ada variabel yang tidak ditentukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seseorang akan memutuskan ini, tetapi algoritma komputer tidak akan bisa. Manual untuk orang mengatakan bahwa sekarang kita perlu mencari kesimpulan logis yang semakin rumit. Tetapi kita tidak memerlukan algoritma komputer untuk melakukan ini, karena rumit, tetapi kita membutuhkan </font><font style="vertical-align: inherit;">algoritma </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">universal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang dapat bekerja dengan seperangkat batasan apa pun, dan tidak hanya sesuai dengan aturan sudoku. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena itu, komputer melakukan hal yang paling bodoh: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mereka berasumsi</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pertama, kami merekam keadaan puzzle saat ini. Kemudian kami memilih variabel arbitrer dan mengaturnya ke salah satu nilai yang mungkin. Katakanlah kita menetapkan nilai 1 ke sel pusat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat menyebarkan pembatasan lebih sedikit. </font><font style="vertical-align: inherit;">Inilah yang saya dapatkan untuk kolom tengah:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f8b/176/f83/f8b176f83864aad8a4907714b7d0b790.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai biru adalah kesimpulan yang kami buat setelah asumsi. </font><font style="vertical-align: inherit;">Seperti yang Anda lihat, sesuatu terjadi. </font><font style="vertical-align: inherit;">Kami meletakkan beberapa variabel lagi, tetapi lihat sel tengah atas. </font><font style="vertical-align: inherit;">Kosong: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di domainnya tidak ada nilai yang mungkin</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memenuhi batasan (tidak boleh ada 5, karena nilai ini sudah ada di kotak 3 × 3 yang sama, dan semua angka lainnya sudah ada di kolom ini). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kami mendapatkan variabel dengan domain kosong, ini berarti bahwa kami tidak dapat menetapkan nilai apa pun. </font><font style="vertical-align: inherit;">Artinya, teka-teki tidak dapat dipecahkan. </font><font style="vertical-align: inherit;">Ternyata </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anggapan kami salah</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menghadapi kontradiksi seperti itu, kami melakukan proses </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pencarian kembali</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(mundur). Pertama, kita mengembalikan keadaan sebelum asumsi kita. Lalu kami menghapus dari domain nilai yang kami gunakan sebagai asumsi - itu tidak bisa lagi menjadi jawaban yang benar.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b1f/6b5/684/b1f6b5684064aab0ed2c355774b3d7aa.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banyak pekerjaan telah dilakukan, tetapi mereka telah bergerak maju. Namun, bahkan setelah dikeluarkannya 1 dari sel pusat, kita masih berada di pusat kematian. Sudah waktunya untuk membuat asumsi lagi, dan lagi, dan lagi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak banyak tindakan algoritmik di sini. Setiap kali kami tidak dapat mendistribusikan batasan, kami membuat asumsi dan melanjutkan. Dan karena Anda dapat terjebak beberapa kali sebelum menghadapi kontradiksi, maka Anda akan mengakumulasikan beberapa negara dan asumsi yang tersimpan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan setiap iterasi dengan pengembalian, Anda mengurangi domain dengan setidaknya satu variabel, sehingga, meskipun banyak kemunduran, algoritma </font><font style="vertical-align: inherit;">pada </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akhirnya</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan menyelesaikan pekerjaan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Topik ini jauh lebih luas dari yang saya jelaskan. </font><font style="vertical-align: inherit;">Dalam praktiknya, optimisasi seperti pilihan asumsi, pemahaman kapan didistribusikan, dan kapan membuat kesimpulan logis yang lebih kompleks dapat berdampak besar pada pelaksanaan program. </font><font style="vertical-align: inherit;">Dan karena masalah dengan kendala, sebagai suatu peraturan, tumbuh secara eksponensial, Anda bisa mendapatkan jawaban besok, atau setelah 5.000 tahun.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami kembali ke keruntuhan fungsi gelombang</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Runtuhnya fungsi gelombang adalah tugas yang rumit dengan batasan: ada ribuan solusi yang mungkin. Jika kita membuat asumsi secara acak, maka alih-alih </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solver,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kita mendapatkan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">generator</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pada saat yang sama, masih akan mematuhi semua pembatasan yang diberikan, yaitu, itu akan jauh lebih mudah dikelola daripada kebanyakan generator prosedural lainnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas algoritma WFC adalah untuk mengisi sel dengan ubin sehingga gambar di ubin dikombinasikan satu sama lain. Dalam terminologi yang digunakan di atas, setiap ubin adalah nilai, setiap sel adalah variabel, dan aturan untuk menempatkan ubin adalah kendala.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maxim, penulis WFC, menemukan bahwa dengan pilihan ubin yang masuk akal dan pengacakan yang tepat, Anda jarang harus menggunakan backtracking, sehingga prosedur ini tidak dapat diimplementasikan. </font><font style="vertical-align: inherit;">Dengan demikian, esensi WFC adalah sebagai berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array boolean dibuat untuk setiap sel, yang mewakili domain dari variabel ini. </font><font style="vertical-align: inherit;">Domain berisi satu catatan per ubin, dan semuanya diinisialisasi dengan nilai </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ubin memasuki domain jika nilainya sama </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada saat yang sama, ada sel di mana domain berisi beberapa elemen:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemilihan sel acak menggunakan metode heuristik "entropi terkecil".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pilih ubin acak dari domain sel dan hapus semua ubin lain dari sana.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memperbarui domain sel lain berdasarkan informasi baru ini adalah penyebaran pembatasan sel. </font><font style="vertical-align: inherit;">Ini harus dilakukan berulang kali, karena perubahan dalam sel dapat memiliki konsekuensi lebih lanjut.</font></font></li>
</ul></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ketentuan saya berbeda dengan ketentuan Maxim. </font><font style="vertical-align: inherit;">Dia menyebut array domain gelombang, dan memilih ubin acak adalah pengamatan. </font><font style="vertical-align: inherit;">Artinya, analogi digambar dengan mekanika kuantum. </font><font style="vertical-align: inherit;">Tetapi perbandingan itu dangkal, jadi kita akan mengabaikannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada banyak tambahan pada prinsip-prinsip di atas yang menambah rahmat dan kinerja algoritma. </font><font style="vertical-align: inherit;">Tapi pertama mari kita lihat langkah-langkah yang dijelaskan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Katakanlah kita perlu mengisi kotak 3 dengan 3 dengan empat jenis ubin:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/749/647/d6b/749647d6ba27126a9e7769a479cd79a5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Batasannya adalah: warna ubin yang berdekatan harus cocok satu sama lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti pada contoh Sudoku, saya akan menggambarkan konten domain dengan gambar monokrom. </font><font style="vertical-align: inherit;">Ketika hanya ada satu elemen yang tersisa di domain, saya akan meningkatkan ukurannya dan menunjukkannya dalam warna. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, di setiap sel, ubin jenis apa pun dapat ditemukan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/780/406/ba9/780406ba92fd3d6cd89234b1aa2b8431.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalankan loop WFC utama. </font><font style="vertical-align: inherit;">Pilih sel secara acak, misalnya, kiri atas. </font><font style="vertical-align: inherit;">Sekarang pilih ubin di domain dan hapus yang lainnya.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6b/053/8a4/c6b0538a47c9355d22fe75fada7252cc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagikan batasannya. </font><font style="vertical-align: inherit;">Satu-satunya aturan berlaku untuk ubin yang berdekatan, jadi kami perlu memperbarui dua sel:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90e/a7f/440/90ea7f440d0b3805b324a4bbaef6a7e3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bisakah kita memperbarui ubin lain mengingat domain menyusut? </font><font style="vertical-align: inherit;">Iya! </font><font style="vertical-align: inherit;">Meskipun kami tidak yakin tentang pilihan ubin pertama, kami melihat bahwa opsi yang tersisa mengarah ke kanan. </font><font style="vertical-align: inherit;">Artinya, beberapa jenis ubin tidak bisa diletakkan di sudut kanan atas. </font><font style="vertical-align: inherit;">Hal yang sama dengan sudut kiri bawah.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4dc/4f3/d07/4dc4f3d070fe3268639e9fc3e2877661.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami tidak lagi dapat mendistribusikan batasan, jadi kami mengulangi siklus utama: pemilihan sel, pemilihan ubin dan distribusi. </font><font style="vertical-align: inherit;">Kali ini kami mengambil sel tengah atas:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b58/44c/01a/b5844c01a98770f203587dd46d02a3df.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siklus lain: ambil sel tengah kiri. </font><font style="vertical-align: inherit;">Setelah proliferasi pembatasan untuk sel pusat, satu nilai yang mungkin tetap.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/066/f76/a13/066f76a13cda6b5e275a371b3561c02a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara umum, Anda memahami ide itu. </font><font style="vertical-align: inherit;">Anda dapat mengisi sisa sel sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin bereksperimen dengan </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh interaktif yang lebih kompleks</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , saya sarankan yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entropi terkecil</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat memilih sel berikutnya untuk diisi, beberapa opsi akan lebih disukai. </font><font style="vertical-align: inherit;">Jika Anda memilih secara acak dari mana saja di dalam kisi, sebuah situasi dapat muncul ketika pada saat yang sama Anda akan memiliki area kisi yang berbeda. </font><font style="vertical-align: inherit;">Ini dapat menyebabkan masalah: tergantung pada ubin yang tersedia, area yang diisi tidak dapat digabungkan. </font><font style="vertical-align: inherit;">Jadi lebih baik memilih sel yang cenderung menyebabkan masalah seperti itu di masa depan. </font><font style="vertical-align: inherit;">Dengan kata lain, Anda perlu mengambil sel dengan jumlah nilai yang paling sedikit dalam domain (tetapi tidak kurang dari dua nilai):</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kemungkinan besar, mereka akan berada di sebelah sel-sel yang sudah terisi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika kita meninggalkan mereka untuk masa depan, maka kesulitan mungkin timbul, karena nilai yang tersedia sudah sedikit.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan domain terkecil bekerja dengan baik jika semua ubin sama kemungkinannya. </font><font style="vertical-align: inherit;">Tetapi jika Anda memilih dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">distribusi acak tertimbang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka Anda perlu mempertimbangkan hal lain. </font><font style="vertical-align: inherit;">Maxima merekomendasikan "entropi minimal", yaitu, pilih sel yang meminimalkan:</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>e</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>y</mi><mo>=</mo><mo>&amp;#x2014;</mo><mo>&amp;#x2211;</mo><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.41ex" height="3.634ex" viewBox="0 -1024.6 10940.2 1564.8" role="img" focusable="false" style="vertical-align: -1.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-65" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-6E" x="466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-74" x="1067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-72" x="1428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-6F" x="1880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-70" x="2365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-79" x="2869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMAIN-3D" x="3644" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMAIN-2014" x="4422" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJSZ2-2211" x="5589" y="0"></use><g transform="translate(7201,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-69" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-6C" x="8048" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-6F" x="8347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-67" x="8832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMAIN-28" x="9313" y="0"></use><g transform="translate(9702,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-69" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMAIN-29" x="10550" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>e</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>y</mi><mo>=</mo><mo>—</mo><mo>∑</mo><msub><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">entropy = — \sum p_{i}log(p_{i})</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah penjumlahan ubin di domain tempat </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.059ex" height="1.884ex" viewBox="-38.5 -540.2 886.3 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/company/mailru/blog/497590/&amp;usg=ALkJrhiY5WLOw9aObwsyqwrd0P5I2o_HnA#MJMATHI-69" x="712" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mi>i</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2">p_{i}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - probabilitas untuk ubin ini.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komputasi yang efisien</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meskipun saya tidak ingin membahas secara rinci, ada dua optimisasi yang memungkinkan saya meningkatkan kecepatan sehingga tidak dapat diabaikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena satu-satunya aturan kami terkait dengan ubin yang berdekatan, kami hanya dapat memeriksa batasan yang dapat memberikan hasil yang berbeda dari yang sebelumnya. Artinya, saat memperbarui sel, kami menambahkannya ke antrian sel yang menunggu keputusan. Lalu kami menghapus satu sel dari antrian, setiap kali memeriksa sel yang berdekatan. Jika pemeriksaan tersebut menyebabkan pembaruan sel lain, mereka juga masuk ke dalam antrian. Mengulangi prosedur ini sampai antrian kosong, kami memastikan bahwa kami memeriksa semua batasan. Tetapi kami tidak memeriksanya sampai domain dari setidaknya satu sel yang terkait dengan pembatasan ini berubah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih lanjut, untuk memeriksa batasan adjacency, kita perlu menjawab pertanyaan: "Mengingat ubin di domain sel A, ubin apa yang mungkin dalam domain sel B jika sel berdekatan?" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkadang pertanyaan ini disebut "dukungan" sel A. Untuk ubin yang diberikan "b" di domain B, mudah untuk menghitung siklus ubin di domain A. Jika A memiliki setidaknya satu ubin yang dapat ditempatkan di sebelah "b", maka "b" masih cocok, setidaknya untuk pasangan ubin yang dimaksud. Jika dalam A tidak ada ubin seperti itu, maka Anda tidak dapat menempatkan ubin "b" dari domain B, dan kami dapat membuangnya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Loop membuatnya mudah untuk menerapkan ini dalam kode, tetapi akan bekerja sangat lambat. </font><font style="vertical-align: inherit;">Dan jika kita menyimpan informasi dalam struktur data tambahan, kita dapat dengan cepat menjawab pertanyaan seperlunya. </font><font style="vertical-align: inherit;">Data baru adalah array besar dengan entri untuk setiap sisi setiap sel dan setiap ubin. </font><font style="vertical-align: inherit;">Dalam contoh kami, ada 9 sel, masing-masing dengan 4 sisi, dan 4 jenis ubin. </font><font style="vertical-align: inherit;">Jadi kita membutuhkan 9 * 4 * 4 catatan. </font><font style="vertical-align: inherit;">Kami akan menyimpan penghitung dukungan dalam array: untuk setiap sel / ubin / sisi, kami menghitung jumlah ubin di domain sel yang berdekatan yang dapat ditempatkan di sebelah ubin yang dimaksud. </font><font style="vertical-align: inherit;">Jika penghitung turun ke nol, maka ubin ini tidak dapat diletakkan, karena tidak ada yang bisa berdekatan dengannya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ekstensi Algoritma</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena WFC didasarkan pada pemahaman yang lebih umum tentang masalah yang dibatasi, ada banyak cara untuk memperluas algoritma dengan mengubah kendala yang digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu perubahan yang jelas adalah bahwa tidak ada yang memaksa kita untuk menggunakan sel kuadrat. WFC bekerja sangat baik pada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sel heksagonal, dalam tiga dimensi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau bahkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permukaan yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">tidak biasa</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98f/35a/0b9/98f35a0b9ccd9fd4fce689cd7f911d64.png" width="300"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/848/881/d32/848881d3216ac003a312c1fc8cfd56ea.png" width="300"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/497/0d2/706/4970d270636d7203d3e8e1e4bcb4befd.png" width="300"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat memperkenalkan batasan tambahan: memperbaiki ubin tertentu, atau membuat "modul" dari beberapa sel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengenalan pembatasan tambahan dapat memainkan peran yang sangat penting dari sudut pandang praktis. </font><font style="vertical-align: inherit;">Karena WFC hanya membatasi ubin yang berdekatan, jarang menghasilkan struktur besar yang memberikan tingkat homogenitas tinggi dan terlihat tidak biasa. </font><font style="vertical-align: inherit;">Algoritma ini bekerja paling baik ketika memilih ubin, tetapi untuk bekerja dengan beberapa struktur besar, lebih baik menggunakan teknik yang berbeda atau memperkenalkan batasan lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel lain,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya berbicara tentang bagaimana Anda dapat mencapai hasil terbaik dari WFC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tumpukan WFC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu ekstensi menarik untuk algoritma adalah WFC "tumpang tindih". Dalam contoh di atas, batasan utama terkait dengan pasangan ubin yang berdekatan. Ini cukup untuk memastikan koneksi garis dan membuat struktur sederhana seperti gua, kamar, dll. Tetapi pada saat yang sama banyak informasi yang hilang. Jika kita perlu, katakanlah, bahwa ubin merah selalu terletak di sebelah biru, tetapi tidak pernah bersebelahan dengan mereka, maka akan sulit untuk mengungkapkan dalam hal kedekatan saja. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maxim mengusulkan konsep tumpang tindih WFC: kami mengganti kendala kedekatan dengan kendala baru yang memengaruhi beberapa ubin sekaligus. Sebagai contoh, sehingga pada output setiap grup 3 × 3 sel sesuai dengan grup 3 × 3 dari sampel grid. Pola-pola yang ada dalam sampel akan diulang-ulang dalam variasi yang berbeda pada output:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/42d/72b/b76/42d72bb7631b24f33858756ade67fa55.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pembatasan ini jauh lebih sensitif daripada pembatasan kedekatan "sederhana". </font><font style="vertical-align: inherit;">Dan karena itu tergantung pada sampel yang diberikan, sangat cocok untuk menyelesaikan beberapa jenis tugas artistik. </font><font style="vertical-align: inherit;">Sejauh ini, saya belum menemukan sesuatu yang menarik. </font><font style="vertical-align: inherit;">Mungkin alasannya adalah bahwa algoritma seperti itu lebih sulit untuk diterapkan, atau bekerja lebih lambat, atau kadang-kadang mereproduksi sampel asli dengan baik, yang menyebabkan beberapa jenis kealamian dan kealamian menjadi hilang.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa berikutnya?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memecahkan masalah dengan pembatasan adalah bidang ilmu komputer yang besar dan aktif berkembang, dan saya hanya menyentuhnya. </font><font style="vertical-align: inherit;">WFC - sama seperti algoritma generasi prosedural lainnya untuk menyelesaikan masalah yang terbatas - masih baru. </font><font style="vertical-align: inherit;">Saya sarankan membaca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r / proseduralgeneration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#wavefunctioncollapse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@exutumno</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@osksta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mendapatkan gambaran tentang kasus penggunaan baru-baru ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat membaca </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">tentang WFC</font></a><font style="vertical-align: inherit;"> , bereksperimen dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perpustakaan opensource</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya </font><font style="vertical-align: inherit;">atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alat Unity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jangan lupa tentang artikel saya yang lain tentang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pembuatan prosedural</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id497578/index.html">AMD berkomitmen untuk mendapatkan pangsa pasar yang signifikan untuk pusat data</a></li>
<li><a href="../id497580/index.html">Karantina keras sangat sangat buruk</a></li>
<li><a href="../id497582/index.html">Habr menempati posisi pertama dalam peringkat hak digital pengguna</a></li>
<li><a href="../id497584/index.html">Dihitung sendiri: bagaimana Madrobot membawa skala pintar Picooc ke Rusia</a></li>
<li><a href="../id497588/index.html">Keamanan Musim Semi - Contoh Aplikasi Web Otorisasi O2uth Melalui BitBucket</a></li>
<li><a href="../id497594/index.html">Penyimpanan data eksternal: dari zaman IBM 1311 hingga saat ini. Bagian 1</a></li>
<li><a href="../id497596/index.html">PHP panjang umur</a></li>
<li><a href="../id497602/index.html">Apakah Anda menganggap diri Anda sebagai penandatangan? Siapa yang bercanda</a></li>
<li><a href="../id497606/index.html">Sistem penyiraman taman otomatis untuk Home Assistant, ESP8266 dan MiFlora</a></li>
<li><a href="../id497608/index.html">Bagaimana Sistem Analisis Lalu Lintas Mendeteksi Taktik Peretas oleh MITER ATT & CK, Bagian 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>