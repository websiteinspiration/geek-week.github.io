<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👩‍👧 ☺️ 👩🏼 HighLoad ++、Eugene Kuzovlev（EcommPay IT）：1分間のダウンタイムに100,000ドルかかる場合の対処法 👆🏼 🧜🏾 📦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="開発とテストのプロセス、スタッフのトレーニング、モチベーションの向上について誰もが話しますが、これらのプロセスは、1分間のサービスダウンタイムにスペースのコストがかかる場合はほとんどありません。厳しいSLAの下で金融取引を行う場合はどうしますか？開発とテストの概要を示し、システムの信頼性とフォールト...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>HighLoad ++、Eugene Kuzovlev（EcommPay IT）：1分間のダウンタイムに100,000ドルかかる場合の対処法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/484908/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発とテストのプロセス、スタッフのトレーニング、モチベーションの向上について誰もが話しますが、これらのプロセスは、1分間のサービスダウンタイムにスペースのコストがかかる場合はほとんどありません。厳しいSLAの下で金融取引を行う場合はどうしますか？開発とテストの概要を示し、システムの信頼性とフォールトトレランスを向上させる方法は？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/-p/tn/dz-ptnygkaqhxsm07hgsfil2fxq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次回のHighLoad ++カンファレンスは、2020年4月6日と7日にサンクトペテルブルクで開催されます。詳細とチケットは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 11月9日18:00。 HighLoad ++モスクワ2018、デリー+カルカッタホール。アブストラクトと</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレゼンテーション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evgeny Kuzovlev（以下、ECと呼びます）：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><b><font style="vertical-align: inherit;">皆さん</font></b><font style="vertical-align: inherit;">、こんにちは！</font><font style="vertical-align: inherit;">私の名前はクゾフレフエフゲニーです。</font><font style="vertical-align: inherit;">私はEcommPayの出身です。特定の部門は、企業グループのIT部門であるEcommPay ITです。</font><font style="vertical-align: inherit;">そして今日は、ダウンタイムについて話します。ダウンタイムを回避する方法、その結果を最小限に抑える方法、回避できない場合。</font><font style="vertical-align: inherit;">テーマは、「1分間のダウンタイムに100,000ドルかかる場合の対処方法」です。</font><font style="vertical-align: inherit;">私たちにとって、将来を見れば、数値は同等です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EcommPay ITは何をしますか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは誰ですか？なぜ私はあなたの前に立っているのですか？なぜ私はあなたにここで何かを言う資格があるのですか？そして、ここでより詳細に何を話しますか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/id/bv/so/idbvsod8gah5mhw25b4pnidb8d4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EcommPay Group of Companiesは国際的な買収企業です。支払いはロシア、ヨーロッパ、東南アジア（全世界）で世界中で処理されます。私たちには9つのオフィスがあり、合計500人の従業員がおり、そのうちの半分弱がITスペシャリストです。私たちが行うすべてのこと、私たちが稼ぐすべてのもの、私たちは自分でやった。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちにはすべての製品があります（大規模なIT製品のラインには約16の異なるコンポーネントがあります）。私たちは自分自身を書き、私たちは自分自身を発展させます。現時点では、1日に約100万件のトランザクションを実行しています（数百万-おそらくそれは正しいと思われます）。私達は十分に若い会社です-私達はまだ約6歳です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6年前、彼らが事業に参入したのはそのようなスタートアップでした。彼らはアイデア（アイデア以外に何もなかった）によって団結し、私たちは走りました。他のスタートアップと同じように、私たちはより速く走りました...私たちにとって、スピードは品質よりも重要でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ある時点で、私たちは立ち止まりました。私たちはもはやその速度で、その品質で生きることはできないことに気づき、まず第一に品質を実行する必要がありました。この時点で、適切でスケーラブルで信頼できる新しいプラットフォームを作成することにしました。彼らはこのプラットフォームの作成を開始しました（投資、開発、テストを開始しました）が、ある時点で、開発とテストでは新しいレベルのサービス品質を達成できないことに気付きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたは新製品を作り、それを生産に投入しましたが、それでもどこかで何かがうまくいっていません。</font><font style="vertical-align: inherit;">そして今日は、新しいレベルの品質に到達する方法（どのようにしてそれを手に入れたか、私たちの経験について）について話し、開発とテストを全体から取り除きます。</font><font style="vertical-align: inherit;">エクスプロイトに利用できるもの、エクスプロイトがそれ自体で何ができるか、品質に影響を与えるためにテストを提供できるものについて話します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンタイム。</font><font style="vertical-align: inherit;">搾取の戒め。</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
常に本日お話しする主要な基盤は常にダウンタイムです。</font><font style="vertical-align: inherit;">怖い言葉。</font><font style="vertical-align: inherit;">ダウンタイムが発生した場合、すべてが悪いことになります。</font><font style="vertical-align: inherit;">私たちはレイズを実行しています、管理者はサーバーを保持しています-神は禁じられています、その曲のように落ちません。</font><font style="vertical-align: inherit;">これについては、今日お話しします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7w/nd/t8/7wndt8zz0lal9gvkglnu8zcc-fw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちがアプローチを変え始めたとき、私たちは4つの戒めを形成しました。</font><font style="vertical-align: inherit;">それらは私のスライドに示されています：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの戒めは非常に簡単です：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/vd/zr/krvdzr268yzpyvwaf3_4fgatwrg.jpeg"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題をすばやく特定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それをさらに速く取り除きます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理由を理解するのに役立ちます（後で、開発者向け）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、アプローチを標準化します。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポイント2に注目します。問題は取り除かれましたが、解決はしていません。</font><font style="vertical-align: inherit;">決めるのは二度目です。</font><font style="vertical-align: inherit;">私たちにとって最も重要なことは、ユーザーがこの問題から保護されていることです。</font><font style="vertical-align: inherit;">特定の隔離された環境に存在しますが、この環境とは接触しません。</font><font style="vertical-align: inherit;">実際には、これらの4つのグループの問題（詳細については、詳細については少し）を検討します。私たちは、私たちが何を使用しているか、ソリューションでどのような経験をしているのかを説明します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トラブルシューティング：いつ発生し、何をすべきか？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、順不同で開始します。ポイント2から始めます。問題をすばやく取り除く方法は？</font><font style="vertical-align: inherit;">問題があります-修正する必要があります。</font><font style="vertical-align: inherit;">「これで何をしようか」</font><font style="vertical-align: inherit;">-主な質問。</font><font style="vertical-align: inherit;">そして、問題の修正方法について考え始めたとき、トラブルシューティングが従う必要のあるいくつかの要件を独自に開発しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/ch/1z/oqch1zstieolkejut_t01rbzokw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの要件を定式化するために、「いつ問題が発生するのですか？」</font><font style="vertical-align: inherit;">そして問題は、結局のところ、4つのケースで発見されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ks/kw/zm/kskwzmylqshsejm96u-bxngu1uq.jpeg"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハードウェアの誤動作。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部サービスの失敗。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソフトウェアバージョンの変更（同じ展開）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爆発的な負荷の増加。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の2つについては触れません。ハードウェアの誤動作は非常に簡単に解決されます。すべてを複製する必要があります。これらがディスクの場合-ディスクはRAIDで組み立てる必要があり、サーバーの場合-ネットワークインフラストラクチャがある場合は、サーバーを複製する必要があります-ネットワークインフラストラクチャの2番目のコピーを配置する必要があります。つまり、複製を作成します。そして、何かが失敗した場合は、予約容量に切り替えます。ここでもっと言うのは難しいです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つ目は、外部サービスの障害です。ほとんどの場合、システムはまったく問題ではありませんが、私たちにとっては問題ではありません。私たちは支払いを処理するので、ユーザー（カードの詳細を入力する）と銀行、支払いシステム（同じものの「Visa」、「MasterCard」、「World」）の間に立つアグリゲーターです。外部サービス（決済システム、銀行）は失敗する傾向があります。私たちもあなたも（あなたがそのようなサービスを持っているなら）これに影響を与えることはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に何をすべきか？ 2つのオプションがあります。まず、可能であれば、このサービスを何らかの方法で複製する必要があります。たとえば、可能であれば、あるサービスから別のサービスにトラフィックを転送します。たとえば、Sberbankを通じてカードを処理しますが、Sberbankに問題があります-トラフィックを[条件付きで] Raiffeisenに転送します。 2番目にできることは、外部サービスの障害にすばやく気づくことです。そのため、レポートの次の部分で反応の速さについて話します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、これら4つのうち、特にソフトウェアバージョンの変更に影響を与えることができます。これは、デプロイメントのコンテキストと爆発的な負荷の増加のコンテキストの改善につながるアクションを実行するためです。実際にやった。ここで、もう一度、ちょっとした発言...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの4つの問題のうち、クラウドがあれば、いくつかはすぐに解決されます。</font><font style="vertical-align: inherit;">Microsoft Azhur、Ozoneクラウドを使用している場合は、YandexまたはMailのクラウドを使用してください。少なくともハードウェアの誤動作が問題となり、ハードウェアの誤動作の状況ではすべてがすぐに改善されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは少し非標準的な会社です。</font><font style="vertical-align: inherit;">ここでは皆がKubernetsについて、クラウドについて話している-私たちはKubernetsもクラウドも持っていない。</font><font style="vertical-align: inherit;">しかし、私たちは多くのデータセンターに鉄を搭載したラックを所有しており、この鉄の上に住むことを余儀なくされています。</font><font style="vertical-align: inherit;">したがって、このコンテキストで話します。</font><font style="vertical-align: inherit;">だから、問題について。</font><font style="vertical-align: inherit;">最初の2つは括弧の外です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソフトウェアのバージョンを変更します。</font><font style="vertical-align: inherit;">拠点</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者は本番環境にアクセスできません。何故ですか？しかし、私たちは単にPCI DSSによって認定されており、開発者には単に「製品」に登る権利がありません。以上です。もちろんです。したがって、開発の責任は、開発がビルドをリリースに渡した時点で正確に終了します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ze/bp/su/zebpsueilk7pvkhrsqwn-0nrfko.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが持っている私たちの2番目の基礎は、私たちにも多くの助けとなるものですが、文書化されていないユニークな知識の欠如です。同じことをお願いします。そうでない場合は、問題が発生します。このユニークで文書化されていない知識が適切なタイミングで適切な場所に存在しない場合、問題が発生します。特定のコンポーネントの展開方法を知っている人が1人いるとします-人がいない、彼が休暇中または病気になった-それだけで問題があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、私たちがやってきた第三の基礎。</font><font style="vertical-align: inherit;">私たちは痛み、血、涙によって彼のところに行きました-私たちのビルドにはエラーがなくてもエラーが含まれているという結論に達しました。</font><font style="vertical-align: inherit;">私たちはこれを自分で決めました：何かをデプロイするとき、何かを製品にロールインするとき-エラーのあるビルドがあります。</font><font style="vertical-align: inherit;">私たちのシステムが満たさなければならない要件を形成しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソフトウェアバージョンの変更要件</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの要件は3つあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/qm/ma/ouqmmajckkplivqpqoiuwsvs3hs.jpeg"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">展開をすばやくロールバックする必要があります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">失敗した展開の影響を最小限に抑える必要があります。</font></font></li>
<li>       .<br>
   ! ?  ,   ,      ,   ,  -   ,      .         ,   ,     (   ,   ,   ) –     .   ,    ?     :<br>
<br>
<img src="https://habrastorage.org/webt/bx/xn/9h/bxxn9hd10bckeqbycqanabweery.jpeg"><br>
<br>
  ,      –  Blue/Green deploy.   ?      ,     ,  ,   .  «»:    ,           .     .          .     ( )   .  ,           ,      :      ,   –     .        ,  .<br>
<br>
     – :      ,          (, , 2%).   2% —   100%!     100 %     –  ,     2%  –  ,    .  ,  ,  ,   ,      (  )    ,  F5,    ,  .<br>
<br>
<h3>Blue/Green deploy. </h3><br>
      «/ »…        :<br>
<br>
<ul>
<li>  ( ,    );</li>
<li> ;</li>
<li>      (, «», «»…).</li>
</ul><br>
    –      .     100% ,     .      2%,    : «   ?»  ,  :     , Round Robin  nginx’ ,    2% – , 98% – .     .<br>
<br>
 , ,       .  : 2, 3, 4, 5  –       .    ,          ,     ,  ( )          (      ,  ), –       .    :<br>
<br>
<img src="https://habrastorage.org/webt/hs/3f/fq/hs3ffqgbcy8wu3lzopom58r6tlm.jpeg"><br>
<br>
 ,   –      (IP Hash).    IP,      -.        ,   ,        ,           (   , ).<br>
<br>
   -             ,   ,   ,      …<br>
 :     nginx+.    Sticky sessions,                .              ,    .<br>
<br>
   ,       nginx .  nginx+ –     ,           . « »  , ,      ,  « »       «-».   ,   « » , ,           ,   «-» –   .<br>
<br>
     .   nginx  «» ( openresty) –    nginx,       last-.    last-,   «»,     ,    .<br>
<br>
  , ,  ,   «»      6     «».        ,  ,         ,      .<br>
<br>
<h3>Blue/Green deploy.   </h3><br>
,  , ,    (  « » ),       ,             …       : ,      (    ),  .<br>
 ,                  ,       «»: «,    -,    (    )…   , ,      ,   »!  ,   .<br>
<br>
<img src="https://habrastorage.org/webt/he/5o/-w/he5o-wivis5fucv4e7_1wn1qz3y.jpeg"><br>
<br>
      –   openresty. ,       :<br>
<br>
 «/ » , , ,    ,  . <br>
<br>
 :<br>
<br>
<ul>
<li>    ;</li>
<li>   –  .</li>
</ul><br>
       ,        ,             .<br>
<br>
,   –   ,       :        .      ,      ,         50  50 –     2    ,        .<br>
<br>
<h3>   ?</h3><br>
 ,       ,   : «   »?<br>
<br>
<img src="https://habrastorage.org/webt/vy/8l/xo/vy8lxokper6luvftog4okdvgbh4.jpeg"><br>
<br>
    .<br>
<br>
<ul>
<li>    CD- (Continuous Delivery) –   .     ,    .          ,   –        ,   .</li>
<li>   .     ,   .   – ,        .</li>
<li> ,  ,   , .      .    -,  - (   -, npm  – - ),        –  5,   5    .  , ,   :   5  ,   .<br>
<br>
  ?  –   ,       .       .         –   Nexus   jFrog Artifactory).«»    ,       java- (    ).      ,   PHP;  «»   ,     jFrog Artefactory,     .     ,         ,     .</li>
</ul><br>
<h3>  </h3><br>
    . ,     –    .  , ,         …<br>
<br>
    –  ,  ,  ,  ,  .          flow.       1-, 3-, 10- ,    – 2-, 4-, 5-.  , ,       ,     ,    ,      .<br>
<br>
   ,    -  ,  -   ,       .<br>
<br>
<img src="https://habrastorage.org/webt/wg/1t/kr/wg1tkrnswlv954eaws3dj1ije_a.jpeg"><br>
<br>
    .    :    Service discovery,  –       ,    –   .  ,      ,    .   «»,   «»,    .<br>
<br>
    ?    .       70  .      «»,  «» ,  ,        .    100   «»,        100     .         .  ,    –  24/7   ,      ,    ,  70   ,  .<br>
<br>
    «»,     IP     Scale-Nomad – ScaleNo,    :                 .  ,  : «  ?»     –  ,   .<br>
<br>
       ,       ,  ,     ,    ,       –  , .     3-5  –   .<br>
<br>
<img src="https://habrastorage.org/webt/8z/ja/m0/8zjam0uickgtjt67yl6grtzfmao.jpeg"><br>
<br>
  ?  !  :       :   ,  –   ,   –  ,  –  .<br>
<br>
 ,     .         45  –     .       2         ,     (    – ,   ).     –    ,  5-10 ,    .<br>
<br>
    «»,      ,  «»      .  ,    ,    –       .     .    № 2 – «    ».<br>
<br>
<h3>.    ?</h3><br>
   – «   ?» !      .      ?<br>
<br>
<img src="https://habrastorage.org/webt/md/xm/op/mdxmopdox-kznqvid9b4uesleeg.jpeg"><br>
<br>
 !<br>
<br>
<ul>
<li>          .</li>
<li>      ,   ,     .</li>
<li>  –   .      ,     ,   -  .</li>
</ul><br>
 , ,     .   .  ,    .    « ».       :<br>
<br>
<img src="https://habrastorage.org/webt/8w/1z/w4/8w1zw4dq1rwsz7e7dg7tp53wbke.jpeg"><br>
<br>
  «»    «»,     . «»     . «»  «»      ,      ,   –  «»  «»,  – «»  «»  Telegraf.<br>
<br>
     New Relic.  ,   .     ,    .       1,5  ,    , : «     ».    ,  ,     .    «-» ,    15     «-».    .<br>
<br>
   ,     –  Debugger.     «»,       ,  ,    «».   ?  ,     15-30    ,  « » ,      .<br>
<br>
,    ( ) –      ,    .   ,    «» – ,   «» .       –     ,  ,  ,     .<br>
<br>
<h3>    ?</h3><br>
    ?     ?<br>
<br>
<img src="https://habrastorage.org/webt/8c/qe/tn/8cqetn3kfyedayuv9fwc8qpx4vq.jpeg"><br>
<br>
<ul>
<li>Response time / RPS   –   .   ,    -  .</li>
<li>     .</li>
<li> .</li>
<li>  .</li>
</ul><br>
  – «», «» .       ,    - ,      .     –   (        ).    -    5-10-15  – ,     (  ).<br>
<br>
     –     :<br>
<br>
<img src="https://habrastorage.org/webt/73/xa/jg/73xajgyfx9xahrr_9hl3ysaapgw.jpeg"><br>
<br>
   – 6 ,     –       .    – RPS, RTS.  –    «».   «»     ,  -       …      ,    .<br>
<br>
,      –       .    OpenTracing – , , ,     ;    .  OpenTracing-   ,       .     ,       , .  ,      ,   .<br>
<br>
<img src="https://habrastorage.org/webt/42/nw/5h/42nw5hrsai8-i8t3bnsclajtklw.jpeg"><br>
<br>
  ,         3  –    .     ,   ,    20-30 .<br>
<br>
    ,   –   .<br>
<br>
 ,  ,     ,        ,   .   ,    .<br>
<br>
<img src="https://habrastorage.org/webt/d8/pz/1v/d8pz1vfzv9otccv6dsa-crqiuuu.jpeg"><br>
<br>
     ? ,  :     (,  «»);   , .         ,   ,  …      –        -.   ,   : «        »?<br>
<br>
  …       -,   ( )    ,      .    :       – ,      ,     ( ).    ,    -        .     !      .         .<br>
<br>
     ,    . <br>
<br>
<h3>   </h3><br>
  ,    –   ,    ,  ,     ,      ,    -   . ,   ,   .<br>
<br>
<img src="https://habrastorage.org/webt/e2/kb/jz/e2kbjzy9w7wvv6kicbniocak4ac.jpeg"><br>
<br>
     (  – ),       ELK Stack –    .  -, ,   ELK,      ,       ELK.    .<br>
<br>
<img src="https://habrastorage.org/webt/_f/8a/3i/_f8a3ibc2i7os5pp3xot6m9_gxo.jpeg"><br>
<br>
  .  ,    ,  ,     ,   «»,   id-       ( ).        . ?    ,      ,      .      ,     –   OpenTracing,    .<br>
<br>
    ,      ,      –  «» (Zipkin)  «» (Jaeger). «» –      ,   «».  «»  ,  ,     ,      ,   .  «»  .<br>
<br>
  «»:   ,    Api ( Api  PHP   , ,    –   ,    ),     . «», –  ,    .    ?     :<br>
<br>
<img src="https://habrastorage.org/webt/uq/x2/mu/uqx2muumblbudpbjnuittfrsdkk.jpeg"><br>
<br>
 «»     span’.  ,    ,           (1-2-3 –      ,   ).      ,        . ,          Error.     Error    ,      .    ,    span:<br>
<br>
<img src="https://habrastorage.org/webt/3e/is/fk/3eisfkpsc9mkuipyg-5iaob2d-y.jpeg"><br>
<br>
    .       ,       ,   .        :    –  ,   ,            .<br>
<br>
,    .    ,    .      ,      «»   PHP –   , welcome to use,  :<br>
<br>
<img src="https://habrastorage.org/webt/q7/vi/pc/q7vipcgfujbggn_zt64r3h7foay.jpeg"><br>
<br>
    –     OpenTracing Api,   php-extention,          .      .     ,   .   :     ,    extention up to you.<br>
<br>
<h3> </h3><br>
   .   –   .   ?    :<br>
<br>
<img src="https://habrastorage.org/webt/3h/ka/zo/3hkazonrypgjcuakfff1yrutxlc.jpeg"><br>
<br>
   «»?        , !  «»       ,    ,        ,      .     ?<br>
<br>
<img src="https://habrastorage.org/webt/b7/h6/qa/b7h6qavqwtn9fm9bam0jbg07nym.jpeg"><br>
<br>
<ul>
<li>    .      ,  .    60   ,        .     , ,         – ,   .</li>
<li>   .          ,     ,        RnD-.       ,      (,    ) ,    ,   .</li>
<li>    ,   – ,     .       .</li>
<li>   . ,    ,        2 % .        .       ,   .</li>
<li>    .     ,  ,       ,     .  –  ,    ,    ,  ,       (  !)   ,      .  ,    .</li>
</ul><br>
<h3>  ?</h3><br>
<img src="https://habrastorage.org/webt/ad/8v/ye/ad8vyesevuqquvkj4rtf15hggd8.jpeg"><br>
<br>
    ?<br>
<br>
   ,  (      ,     ,  )   6      99,97.  ,     . ,     .      –      ,   web application firewall,        ,      .<br>
<br>
    . -!     .           .          .    ,     – ,   ,     «2% –   ».   2% —  ,     "!<br>
<br>
  !  .<br>
<br>
<img src="https://habrastorage.org/webt/us/ih/xg/usihxgshbsygnv59b5detm4js5m.jpeg"><br>
<br>
<h3>      </h3><br>
   ( – ): –  .      !  ,    .  ,     WAF,  ,         - …<br>
<br>
<b>:</b> – ,       .    WAF        DDoS.<br>
<br>
<b>:</b> –      ?<br>
<br>
<b>:</b> –    ,     openresty.     5  ,   …   ,     openresty,    . ,  ,   :       –    .  ,  ,   .<br>
<br>
<b>:</b> –   .   Blue/Green deployment.    , ,     ?<br>
<br>
<b>:</b> –  ! ,   Blue/Green deployment’        .  ,      ,      ,     blue-   green-.       ,     ,  ,     ,         .         .      :    blue  green  ,       ,    .<br>
<br>
,       ,    – .         .<br>
<br>
<b>:</b> – .   .  .   ,   ,    …     ,   -      ,  ,     ?      ,  marchant     callback?<br>
<br>
<b>:</b> – «»           ,    .     «».<br>
<br>
<h3>   </h3><br>
<b>:</b> – .   -  .      PCI DSS.  ,      PAN’,     ?    ?     :  PCI DSS        (    ) –       ?<br>
<br>
<img src="https://habrastorage.org/webt/0z/oh/29/0zoh293lif-ioxouzt79ui9j98a.jpeg"><br>
<br>
<b>:</b> –  ! -,      PAN’.      PAN -   ,  ,      (   «») –  ,    :         .        . ,      ,       .<br>
<br>
<b>:</b> –   2  ?<br>
<br>
<b>:</b> –     256…   ?!<br>
<br>
,  .  -, ,  ,     –    «» (),   «»,   (key –  , dek –    ,  ).      ( ,  3   ± -)     «»,      .     ,    ,  -;      ,   . ,       ,    .<br>
<br>
<h3>    …</h3><br>
<b>:</b> –       - ,     ?<br>
<br>
<b>:</b> – .<br>
<br>
<b>:</b> –     .   - , , ,       .   .<br>
<br>
<b>:</b> – , .<br>
<br>
<b>:</b> –     ?        ?<br>
<br>
<b>:</b> – ,    –     --,      .    ,     (,      ) –    ,          .            .  ,   ,     ,      - ,       .<br>
<br>
<img src="https://habrastorage.org/webt/um/1e/qe/um1eqefsegdtcvv8gczvx2qe54o.jpeg"><br>
<br>
<b>:</b> –    .    –   PCI DSS:      ?   ,        !  :    ?    –   ,    free hot-fix’ –   ?   , ,   RTO, RPO.     99,97,   ,    ,      -,   -,   -…     , ,  ?<br>
<br>
<b>:</b> –    .     ?  ,   ,  ,     .        . ,           PCI DSS.     ,    .           ,   ,   –      -,    ,   -  .            :      ,      -   ,    .<br>
 hot-fix’.       .       .  ,      ,    .    ,    ,       –          ,       ,   .<br>
<br>
 « ».  ,     , -   ,         -.      -,      ,    -  –    .         :     «» –    ,  .     ,    «» .            «change – done»   -.<br>
<br>
<b>:</b> –     ,     ?   Split-brain  …<br>
<br>
<b>:</b> –     «-». - ,       ,   ,     .    , ,  ,     -  (   )         -,     , ;    ,  .<br>
<br>
<b>:</b> –  .   .     ,       .      !    ?<br>
<br>
<b>:</b> –      .         .            ,      .<br>
<br>
<b>:</b> –     ?  Core …<br>
<br>
<b>:</b> –   «»      …     ,  : «»        –      ,   http-   .<br>
<br>
<b>:</b> – , ,        ,      -    ?<br>
<br>
<b>:</b> –    , ,   - .   ,       –    .         ,    ,      .<br>
<br>
<h3>    …</h3><br>
<b>:</b> –     .      ,    ,       instant-,      ,   : «     instant-  , -  ,    -  ?      ?   ,   ?<br>
<br>
<img src="https://habrastorage.org/webt/3j/qn/pt/3jqnpt1dfzhas9kn5de1qb6x1lq.jpeg"><br>
<br>
<b>:</b> – , .    . -,     ,    ,       .       (,  «»)  5-4-3-2,     5-4-3-2,   ,       .    ,        10   .       - ,   ,          ,       .<br>
<br>
<b>:</b> –        ,          –    ,   «»      …    flow -    - ,  «»  .          ,      .       ,     «»  ?..<br>
<br>
<b>:</b> –  .           ,  – .  SLA-   ,      3 «»,  4 «»   . , ,   ,      4-      .    ,     .<br>
<br>
<h3>  Visa, MasterCard  «»</h3><br>
<b>:</b> –           -  .   , «»  «»      8583,   .   ,      –   «»  «»    ,  ?<br>
<br>
<b>:</b> –   .       -.<br>
<br>
<b>:</b> –  ,     ?<br>
<br>
<b>:</b> – «»  «» – .  ,  «»  «»               , .      -,    ,   ,  -,       «»  «»,    «»  «»    …<br>
<br>
<b>:</b> –     ?  ,  «»       !<br>
<br>
<b>:</b> –    .   ,   ,    .<br>
<br>
<b>:</b> –      Connects Orange?..<br>
<br>
<b>:</b> – .<br>
<br>
<b>:</b> –      :    - ,   ?    ?<br>
<br>
<b>:</b> – .          , , ,   ,  .          «», «»,    «» ( ).<br>
<br>
  ,     «».        «»   .   ,   «» -  .<br>
<br>
<img src="https://habrastorage.org/webt/u2/pm/rp/u2pmrpkbplsfx65dstp-lsstwcw.jpeg"><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6YB1kMnzyRs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3>  :)</h3><br>
,    .    ?     ?  ,     , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> VPS    $4.99</a>, <b>  entry-level ,      :</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   VPS (KVM) E5-2697 v3 (6 Cores) 10GB DDR4 480GB SSD 1Gbps  $19     ?</a> (   RAID1  RAID10,  24    40GB DDR4).<br>
<br>
<b>Dell R730xd  2    - Equinix Tier IV  ?</b>    <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">2  Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100   $199</a>  ! <b>Dell R420 — 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB —  $99!</b></b>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja484898/index.html">依存関係をテストする正当な理由：AGPLエディション</a></li>
<li><a href="../ja484900/index.html">ウェブサイトレンダリング101</a></li>
<li><a href="../ja484902/index.html">高次の方程式について</a></li>
<li><a href="../ja484904/index.html">Splunkのない1年-ロシアの機械データ分析の市場をアメリカの企業がどのように変えたのか</a></li>
<li><a href="../ja484906/index.html">リモートの分散型チームおよびチームリーダー</a></li>
<li><a href="../ja484910/index.html">ポール・グラハム：嫌い</a></li>
<li><a href="../ja484918/index.html">Gradleビルドを高速化するための増分アノテーション処理</a></li>
<li><a href="../ja484920/index.html">あなたがフライス盤のオペレーターであることをどのように理解しますか？</a></li>
<li><a href="../ja484930/index.html">プロのようにファストコード化しましょう</a></li>
<li><a href="../ja484932/index.html">ソフトウェア要件の二重の性質</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>