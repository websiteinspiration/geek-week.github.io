<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õìÔ∏è üö¥üèº üó≥Ô∏è El dolor y el sufrimiento al depurar microservicios en el desarrollo web üî≥ ‚ûï üöè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En TI, rara vez se ve a una persona que no haya o√≠do hablar de microservicios. Hay muchos art√≠culos en Internet y en sitios especializados sobre este ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>El dolor y el sufrimiento al depurar microservicios en el desarrollo web</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489912/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En TI, rara vez se ve a una persona que no haya o√≠do hablar de microservicios. Hay muchos art√≠culos en Internet y en sitios especializados sobre este tema, que generalmente explican bien las diferencias entre el monolito y, de hecho, los microservicios. Un desarrollador de Java sin experiencia, que ha le√≠do art√≠culos de la categor√≠a "Qu√© son los microservicios para aplicaciones web y con qu√© comen", est√° lleno de alegr√≠a y confianza de que ahora todo ser√° maravilloso. Despu√©s de todo, el objetivo principal es "ver a trav√©s" el monstruoso monolito (el artefacto final, que, como regla, es un archivo de guerra / o√≠do), que realiza un mont√≥n de todo, en una serie de servicios vivos por separado, cada uno de los cuales realizar√° una funci√≥n estrictamente definida relacionada solo con √©l, y lo haremos bien Adem√°s de esto viene la escalabilidad horizontal, solo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escale</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nodos correspondientes, y todo ser√° genial. </font><font style="vertical-align: inherit;">Han llegado m√°s usuarios o se requieren m√°s capacidades, solo se agregaron 5-10 nuevas instancias de servicio. </font><font style="vertical-align: inherit;">En t√©rminos generales, en general, as√≠ es como funciona, pero, como saben, el diablo est√° en los detalles, y lo que inicialmente parec√≠a bastante simple, despu√©s de un examen m√°s detallado, puede convertirse en problemas que nadie tuvo en cuenta inicialmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta publicaci√≥n, los colegas de la pr√°ctica Java de Rexoft comparten sus experiencias sobre c√≥mo depurar microservicios para la web.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/ls/xd/silsxdh5v-rwgybittlu4bvbcz0.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo lograr la integridad de los datos transaccionales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al tratar de transferir la arquitectura de un monolito a microservicios, los equipos que no ten√≠an esa experiencia antes a menudo comienzan a dividir los servicios en objetos de nivel superior del modelo de dominio, por ejemplo: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usuario / Cliente / Empleado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , etc. En el futuro, con un estudio m√°s detallado, aparece la comprensi√≥n, lo cual es m√°s conveniente dividir en bloques m√°s grandes que agregan varios objetos del dominio de dominio dentro de s√≠ mismos. Debido a esto, puede evitar llamadas innecesarias a servicios de terceros.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El segundo punto importante es el soporte para la integridad de los datos transaccionales. En el monolito, este problema se resuelve a trav√©s del Servidor de aplicaciones, donde est√° girando war / ear, dentro del cual el contenedor, de hecho, describe los l√≠mites de las transacciones. En el caso de los microservicios, los l√≠mites de las transacciones son borrosos y existe la necesidad, adem√°s de escribir c√≥digo de l√≥gica de negocios, para poder administrar la integridad de los datos y mantener su consistencia entre las diferentes partes del sistema. Esta es una tarea bastante no trivial. Las recomendaciones para resolver este tipo de problema arquitect√≥nico se pueden encontrar en Internet y en las comunidades t√©cnicas relevantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, trataremos de describir las dificultades t√©cnicas espec√≠ficas que surgen cuando los equipos intentan trabajar con microservicios y las formas de resolverlos. Noto de inmediato que las opciones propuestas no son las √∫nicas verdaderas. Quiz√°s haya servicios m√°s elegantes, pero las recomendaciones que dar√© se prueban en la pr√°ctica y resuelven con precisi√≥n las dificultades existentes, y si usarlas o no es un asunto personal para todos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El principal problema con los microservicios es que son extremadamente f√°ciles de ejecutar localmente (por ejemplo, usando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring.io</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intellij idea</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , esto se puede hacer en solo 5 minutos, o incluso menos). Sin embargo, al intentar hacer lo mismo en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el cl√∫ster (si ten√≠a poca experiencia con √©l antes), un simple lanzamiento del controlador que imprime </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Hello World"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> al acceder a un punto final espec√≠fico puede llevar medio d√≠a. </font><font style="vertical-align: inherit;">En el caso de un monolito, la situaci√≥n es m√°s simple. </font><font style="vertical-align: inherit;">Cada desarrollador tiene un servidor de aplicaciones local. </font><font style="vertical-align: inherit;">El proceso de implementaci√≥n tambi√©n es bastante simple: debe copiar el artefacto final de guerra / oreja en el lugar correcto en el </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor de aplicaciones</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> manualmente o utilizando el </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Por lo general, esto no es un problema.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Depuraci√≥n de matices</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El segundo punto importante es la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depuraci√≥n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En situaciones con un monolito, se supone que el desarrollador tiene un servidor de aplicaciones en su m√°quina, en el que </font><b><font style="vertical-align: inherit;">se</font></b><font style="vertical-align: inherit;"> despliega su </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">war / ear</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Siempre puede depurar, porque todo lo que necesita est√° a la mano. Con los microservicios, todo es un poco m√°s complicado, un servicio suele ser algo en s√≠ mismo. Como regla general, tiene su propio esquema de base de datos, en el que se encuentran sus datos, realiza funciones espec√≠ficas espec√≠ficas para √©l, toda la comunicaci√≥n con otros servicios se organiza a trav√©s de llamadas HTTP sincr√≥nicas (por ejemplo, a trav√©s de RestTemplate o Feign), as√≠ncrona (por ejemplo, Kafka o RabbitMQ). Por lo tanto, la tarea esencialmente simple de guardar o validar un determinado objeto que se implement√≥ previamente en un lugar, dentro de un solo archivo war / ear, en el caso general con un enfoque de microservicio, se vuelve representable en la forma: vaya a uno o N servicios adyacentes, ya sean operaciones de adquisici√≥n de datos , por ejemplo, algunos valores de referencia o la operaci√≥n de guardar entidades adyacentes,cuyos datos son necesarios para realizar la l√≥gica empresarial en nuestro servicio. Escribir l√≥gica de negocios en este caso se vuelve mucho m√°s dif√≠cil.</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En consecuencia, las opciones de soluci√≥n son las siguientes</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escribe tu c√≥digo de l√≥gica de negocios. </font><font style="vertical-align: inherit;">Al mismo tiempo, todas las llamadas externas se </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">burlan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : los contratos externos se emulan, las pruebas se escriben bajo los supuestos de que los contratos externos son as√≠, despu√©s de eso hay un despliegue en el circuito para su verificaci√≥n. </font><font style="vertical-align: inherit;">A veces es afortunado y la integraci√≥n funciona de inmediato, a veces es desafortunado: tiene que rehacer el c√≥digo de l√≥gica de negocios una en√©sima vez, porque durante el tiempo que implementamos la funcionalidad, el c√≥digo en el servicio adyacente se actualiz√≥, las firmas de API cambiaron y necesitamos rehacerlo parte de la tarea est√° de su lado.</font></font></li>
<li>     <b></b>.     ,  ,         <b>Kubernetes</b>, . .  ,       ‚Äî     ,     <b>remote debug</b>  .      ,     <b>runtime</b> ,   ,    . -,      ,          2‚Äì5 , . .         ,  <b>Kubernetes</b> ,        . -,           (<b>Per thread</b>),    ,      .</li>
</ol><br>
<h2>     Kubernetes</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una soluci√≥n a este problema, de hecho, es la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telepresencia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Probablemente hay otros programas de este tipo, pero la experiencia personal fue solo con √©l, y se estableci√≥ positivamente. </font><font style="vertical-align: inherit;">En general, el principio de funcionamiento es el siguiente: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en la m√°quina local, el desarrollador </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instala la telepresencia</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , configura </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubectl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para acceder al cl√∫ster Kubernetes correspondiente (agrega la configuraci√≥n de bucle a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ / .kube / config</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Despu√©s de eso, comienza la </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telepresencia</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que de hecho act√∫a como un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proxy</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entre la computadora del desarrollador local y </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Hay diferentes opciones de inicio, es mejor mirar con m√°s detalle en la gu√≠a oficial, pero en el caso m√°s b√°sico se reduce a dos pasos:</font></font><br>
<br>
<ol>
<li><b>Sudo telepresence</b> (,     Linux-  ,     sudo  .  ,        root/).          Kubernetes    deployment   <b>telepresence</b>  .  deployment          Kubernetes.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iniciar su instancia de servicio es como de costumbre en la computadora local del desarrollador. </font><font style="vertical-align: inherit;">Sin embargo, en este caso, tendr√° acceso a toda la infraestructura del cl√∫ster de Kubernetes, ya sea </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Discovery (Eureka, Consul), Api Gateway (Zuul), Kafka</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y sus colas, si las hay, y as√≠ sucesivamente. </font><font style="vertical-align: inherit;">Es decir, de hecho, tenemos acceso a todo el entorno de cl√∫ster que necesitamos, pero a nivel local. </font><font style="vertical-align: inherit;">La ventaja es la posibilidad de depuraci√≥n local, pero en un entorno de cl√∫ster, y ya ser√° mucho m√°s r√°pido, porque, de hecho, estamos dentro de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a trav√©s del t√∫nel) y no accedemos desde el exterior a trav√©s del puerto para la depuraci√≥n remota.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta soluci√≥n tiene varias desventajas:</font></font><br>
<br>
<ol>
<li><b>Telepresence</b>    Linux  Mac,   Windows     VFS,  ,  issue  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">GitHub</a>.          .   ,    - Linux/Mac,      .</li>
<li>      ,      <b>Service Discovery (Eureka, Consul) </b>      ‚Äî                 <b>Round Robin</b>  ,         endpoint  ,  ,   ,    : </li>
</ol><br>
<ul>
<li>       kubernetes -&gt;   .   <b>telepresence</b>      deployment  ,      ¬´¬ª     Eureka   <b>ip-address:port/service-name</b>  <b>dns-name:port/service-name</b>    ,  . .   Kubernetes        ,      timeout;</li>
<li>      deployment     -  Kubernetes    , <b> </b>      (   )           (Round Robin),    ;</li>
<li>  endpoint,      <b>feature</b>,     HTTP 404    endpoint  <b>Gateway</b>,          <b>Service Discovery</b>     ,    <b>Round Robin</b> .         Service Discovery  endpoint  ,    HTTP 404.</li>
<li> ,    ,        <b> </b> .</li>
</ul><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por enrutamiento din√°mico de una solicitud, queremos decir que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Gateway (Zuul)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tiene la capacidad de elegir entre varias instancias del mismo servicio que necesitamos. En el caso general, este problema se puede resolver agregando un predicado que le permita seleccionar el servicio deseado del grupo de servicios com√∫n con el mismo nombre en la etapa de procesamiento de la solicitud. Naturalmente, cada servicio entre aquellos con los que queremos poder enrutar din√°micamente, tendr√° que tener alg√∫n tipo de metainformaci√≥n que contenga datos que se utilizar√°n para determinar si este servicio es necesario o no. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Cloud</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (en el caso de Eureka), por ejemplo, le permite hacer esto especificando en un bloque de metadatos especial en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.yml</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">eureka:<font></font>
  instance:<font></font>
    preferIpAddress: true<font></font>
    metadata-map:<font></font>
      service.label: develop</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de registrar dicho servicio en Service Discovery en su </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.netflix.appinfo.InstanceInfo # getMetadata</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , habr√° una etiqueta con la clave </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service.label</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el valor </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desarrollado</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se puede obtener en tiempo de ejecuci√≥n. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un punto importante en la etapa de inicio de un servicio es verificar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si existe una instancia de servicio en Service Discovery con dicha metainformaci√≥n o no para evitar posibles colisiones.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de enrutamiento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, la soluci√≥n del problema se puede reducir a dos opciones:</font></font><br>
<br>
<ol>
<li>API Gateway        .         , ,          , ,  Headers: <b>DestionationService: feature/PRJ-001</b>.     ,       ,           Header        .       ,         ‚Äî - API Gateway.</li>
<li>  API Gateway,        , . ., ,    ,     <b>Zuul 1</b>    endpoint-  <b>/api/users/</b>‚Ä¶       user,      <b>feature/PRJ-001</b>,    <b>Zuul 2</b>    endpoint- <b> /api/users/</b>‚Ä¶       user,      <b>feature/PRJ-002</b>.       ,         N API Gateway  N , . .        , . .   feature ‚Äî ,  ,  ,             ,    ,     ,        .          <b>API Gateway</b>, , . .,  ,   ,     ‚Äî   ,     .</li>
</ol><br>
<img src="https://habrastorage.org/webt/si/ls/xd/silsxdh5v-rwgybittlu4bvbcz0.png"><br>
<br>
<i>   </i><br>
<br>
<h2>       </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como parte de la API de Gateway, tambi√©n vale la pena proporcionar un mecanismo que le permita cambiar las reglas de enrutamiento en tiempo de ejecuci√≥n. Es mejor colocar esta configuraci√≥n en </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">config-map</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En este caso, ser√° suficiente reescribir las nuevas rutas y reiniciar la API de Gateway en Kubernetes para actualizar el enrutamiento, o usar el </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">actuador Spring Boot</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (siempre que exista una dependencia correspondiente en la API de Gateway): llamar al punto final / actualizar, que esencialmente vuelve a leer datos de config-map y actualizar√°n las rutas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un punto importante tambi√©n es que deber√≠a haber, relativamente hablando, una instancia de referencia del servicio (por ejemplo, etiquetada </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desarrollar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que se recopilar√° de la rama principal del desarrollo del servicio) y una API de puerta de enlace principal independiente, que siempre se especificar√° en la configuraci√≥n para acceder a este servicio. En esencia, nos proporcionamos un </font><font style="vertical-align: inherit;">entorno de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">preparaci√≥n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> independiente </font><font style="vertical-align: inherit;">que siempre estar√° operativo en el contexto del enrutamiento din√°mico. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un ejemplo de un bloque de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mapa de configuraci√≥n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para la API de Gateway que contiene configuraciones para el enrutamiento (aqu√≠ es solo un ejemplo de c√≥mo podr√≠a verse, para una operaci√≥n adecuada requiere un enlace correspondiente en forma de c√≥digo en el lado del back-end del servicio </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Gateway)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">{<font></font>
  "kind": "ConfigMap",<font></font>
  "apiVersion": "v1",<font></font>
  "metadata": {<font></font>
    ...<font></font>
  },  <font></font>
"data": {<font></font>
    ...        <font></font>
    "rules.meta.user": "develop",<font></font>
    "rules.meta.client": "develop",<font></font>
    "rules.meta.notification": "feature/PRJ-010",<font></font>
    ...    <font></font>
  }<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rules.meta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un mapa que contiene reglas de enrutamiento para servicios. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usuario / cliente / notificaci√≥n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : el nombre del servicio bajo el cual est√° registrado en Eureka. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">development / feature / PRJ-010</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : etiqueta de servicio de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.yml del</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> servicio correspondiente, en funci√≥n del cual se seleccionar√° el servicio deseado entre todos los servicios disponibles con el mismo nombre de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Discovery</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , si hay m√°s de una instancia de dicho servicio.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como todo en este mundo, las herramientas y soluciones en TI no son perfectas. </font><font style="vertical-align: inherit;">No piense que si cambia la arquitectura, todos los problemas terminar√°n de una vez. </font><font style="vertical-align: inherit;">Solo una inmersi√≥n detallada en las tecnolog√≠as utilizadas y su propia experiencia le brindar√°n una imagen real de lo que est√° sucediendo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que este material te ayude a resolver tu problema. </font><font style="vertical-align: inherit;">Tareas interesantes y vender sin errores!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es489898/index.html">Otro art√≠culo sobre wc</a></li>
<li><a href="../es489900/index.html">Antipatterns PostgreSQL: cambio de datos sin pasar por un disparador</a></li>
<li><a href="../es489902/index.html">C√≥mo medir la efectividad de una cartera de inversiones: 3 enfoques pr√°cticos</a></li>
<li><a href="../es489904/index.html">Por qu√© y c√≥mo estamos probando la actualizaci√≥n</a></li>
<li><a href="../es489906/index.html">Probador virtual en OpenCV</a></li>
<li><a href="../es489914/index.html">Agrupaci√≥n en Proxmox VE</a></li>
<li><a href="../es489916/index.html">¬øProtocolo de comunicaci√≥n front-end estructurado Protobuf o JSON?</a></li>
<li><a href="../es489918/index.html">C√≥mo implementamos el proyecto de tarjeta de combustible virtual</a></li>
<li><a href="../es489920/index.html">Sitios, vaya a IPv6, dos</a></li>
<li><a href="../es489924/index.html">¬øD√≥nde comienza Elasticsearch?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>