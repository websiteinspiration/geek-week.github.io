<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸª ğŸŸ ğŸ¤´ğŸ½ oVirtåœ¨2å°æ—¶å†…ã€‚ç¬¬3éƒ¨åˆ†ã€‚é«˜çº§è®¾ç½® â—¼ï¸ ğŸ“™ ğŸ‘ŠğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€äº›å¯é€‰ä½†æœ‰ç”¨çš„è®¾ç½®ï¼š
 
 

- ä½¿ç”¨ç»ç†çš„å…¶ä»–åç§° ;
- é€šè¿‡ç›®å½•Active Directoryè¿›è¡Œè¿æ¥è®¤è¯ ;
- å¤šæƒ… ;
- ç”µæºç®¡ç† ;
- SSLè¯ä¹¦æ›¿æ¢ ;
- å½’æ¡£ ;
- ä¸»æœºç®¡ç†ç•Œé¢ï¼ˆé©¾é©¶èˆ±ï¼‰ï¼›
- VLAN ;
- ä¸“é—¨ç”¨äºHPEã€‚
 æœ¬æ–‡æ˜¯ç»­ç¯‡ï¼Œç¬¬...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>oVirtåœ¨2å°æ—¶å†…ã€‚ç¬¬3éƒ¨åˆ†ã€‚é«˜çº§è®¾ç½®</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502178/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€äº›å¯é€‰ä½†æœ‰ç”¨çš„è®¾ç½®ï¼š</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨ç»ç†çš„å…¶ä»–åç§°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡ç›®å½•Active Directoryè¿›è¡Œè¿æ¥è®¤è¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤šæƒ…</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”µæºç®¡ç†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLè¯ä¹¦æ›¿æ¢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½’æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»æœºç®¡ç†ç•Œé¢ï¼ˆé©¾é©¶èˆ±ï¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼›</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VLAN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸“é—¨ç”¨äºHPE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ¬æ–‡æ˜¯ç»­ç¯‡ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬1 </font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ¨åˆ†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ç¬¬2 </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">éƒ¨åˆ†</font></a><font style="vertical-align: inherit;"> 2å°æ—¶å¼€å§‹çœ‹oVirt </font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ç« </font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»‹ç»</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®‰è£…ç®¡ç†å™¨ï¼ˆovirtå¼•æ“ï¼‰å’Œç®¡ç†ç¨‹åºï¼ˆä¸»æœºï¼‰ </font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é«˜çº§è®¾ç½®-æˆ‘ä»¬åœ¨è¿™é‡Œ</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºæœ¬æ“ä½œ</font></font></a></li>
</ol><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¶ä»–ç®¡ç†å‘˜è®¾å®š</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å°†æä¾›å…¶ä»–åŒ…è£…ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install bash-completion vim</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å¯ç”¨è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œåº”å°†bash-completionå‘½ä»¤åˆ‡æ¢ä¸ºbashã€‚</font></font><br>
<br>
<a name="add-fqdn"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·»åŠ å…¶ä»–DNSåç§°</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“æ‚¨éœ€è¦é€šè¿‡å¤‡ç”¨åç§°ï¼ˆCNAMEï¼Œåˆ«åæˆ–åªæ˜¯æ²¡æœ‰åŸŸååç¼€çš„ç®€ç§°ï¼‰è¿æ¥åˆ°ç®¡ç†å™¨æ—¶ï¼Œè¿™æ˜¯å¿…éœ€çš„ã€‚</font><font style="vertical-align: inherit;">å‡ºäºå®‰å…¨åŸå› ï¼Œç®¡ç†å™¨ä»…å…è®¸ä½¿ç”¨å…è®¸çš„åç§°åˆ—è¡¨è¿›è¡Œè¿æ¥ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/ovirt-engine/engine.conf.d/99-custom-sso-setup.conf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹å†…å®¹ï¼š</font></font><br>
<br>
<pre><code class="cmake hljs">SSO_ALTERNATE_ENGINE_FQDNS=<span class="hljs-string">"ovirt.example.com some.alias.example.com ovirt"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹¶é‡æ–°å¯åŠ¨ç®¡ç†å™¨ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo systemctl restart ovirt-engine</code></pre><br>
<a name="ad-auth"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡ADé…ç½®èº«ä»½éªŒè¯</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oVirtå…·æœ‰å†…ç½®çš„ç”¨æˆ·ç¾¤ï¼Œä½†ä¹Ÿæ”¯æŒå¤–éƒ¨LDAPæä¾›ç¨‹åºï¼ŒåŒ…æ‹¬ </font><font style="vertical-align: inherit;">å¹¿å‘Šã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¸å‹é…ç½®çš„æœ€ç®€å•æ–¹æ³•æ˜¯å¯åŠ¨å‘å¯¼å¹¶é‡æ–°å¯åŠ¨ç®¡ç†å™¨ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install ovirt-engine-extension-aaa-ldap-setup<font></font>
$ sudo ovirt-engine-extension-aaa-ldap-setup<font></font>
$ sudo systemctl restart ovirt-engine</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘å¯¼ç¤ºä¾‹</font></font></b>
                        <div class="spoiler_text">$ <b>sudo ovirt-engine-extension-aaa-ldap-setup</b><br>
Available LDAP implementations:<br>
â€¦<br>
 3 â€” Active Directory<br>
â€¦<br>
 Please select: <b>3</b><br>
 Please enter Active Directory Forest name: <b>example.com<br>
</b><br>
 Please select protocol to use (startTLS, ldaps, plain) <b>[startTLS]</b>: <br>
 Please select method to obtain PEM encoded CA certificate (File, URL, Inline, System, Insecure): <b>URL</b><br>
 URL: <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">wwwca.example.com/myRootCA.pem</a></b><br>
 Enter search user DN (for example uid=username,dc=example,dc=com or leave empty for anonymous): <b>CN=oVirt-Engine,CN=Users,DC=example,DC=com</b><br>
 Enter search user password: <b>*password*</b><br>
[ INFO ] Attempting to bind using 'CN=oVirt-Engine,CN=Users,DC=example,DC=com'<br>
 Are you going to use Single Sign-On for Virtual Machines (Yes, No) <b>[Yes]</b>: <br>
 Please specify profile name that will be visible to users <b>[example.com]</b>: <br>
 Please provide credentials to test login flow:<br>
 Enter user name: <b>someAnyUser</b><br>
 Enter user password: <br>
â€¦<br>
[ INFO ] Login sequence executed successfully<br>
â€¦<br>
 Select test sequence to execute (Done, Abort, Login, Search) <b>[Done]</b>: <br>
[ INFO ] Stage: Transaction setup<br>
â€¦<br>
 CONFIGURATION SUMMARY<br>
â€¦<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½¿ç”¨å‘å¯¼é€‚åˆå¤§å¤šæ•°æƒ…å†µã€‚</font><font style="vertical-align: inherit;">å¯¹äºå¤æ‚çš„é…ç½®ï¼Œè¿™äº›è®¾ç½®æ˜¯æ‰‹åŠ¨çš„ã€‚</font><font style="vertical-align: inherit;">åœ¨oVirtï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·å’Œè§’è‰²</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£ä¸­äº†è§£æ›´å¤šä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å°†EngineæˆåŠŸè¿æ¥åˆ°ADåï¼Œå…¶ä»–é…ç½®æ–‡ä»¶å°†æ˜¾ç¤ºåœ¨è¿æ¥çª—å£ä¸­ä»¥åŠ</font><font style="vertical-align: inherit;">ç³»ç»Ÿå¯¹è±¡</font><font style="vertical-align: inherit;">çš„â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æƒé™â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‰é¡¹å¡ä¸Š</font><font style="vertical-align: inherit;">-å¯ä»¥å‘ç”¨æˆ·å’ŒADç»„é¢å‘æƒé™ã€‚</font><font style="vertical-align: inherit;">åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œç”¨æˆ·å’Œç»„çš„å¤–éƒ¨ç›®å½•ä¸ä»…å¯ä»¥æ˜¯ADï¼Œè¿˜å¯ä»¥æ˜¯IPAï¼ŒeDirectoryç­‰ã€‚</font></font><br>
<br>
<a name="mpath"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤šè·¯å¾„</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå­˜å‚¨ç³»ç»Ÿå¿…é¡»é€šè¿‡å‡ ä¸ªç‹¬ç«‹çš„å¤šä¸ªI / Oè·¯å¾„è¿æ¥åˆ°ä¸»æœºã€‚</font><font style="vertical-align: inherit;">é€šå¸¸ï¼Œåœ¨CentOSï¼ˆä»¥åŠoVirtï¼‰ä¸­ï¼Œæ„å»ºå¤šä¸ªè®¾å¤‡è·¯å¾„æ²¡æœ‰é—®é¢˜ï¼ˆfind_multipathsæ˜¯ï¼‰ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬2éƒ¨åˆ†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­ä»‹ç»äº†FCoEçš„å…¶ä»–è®¾ç½®</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å€¼å¾—å…³æ³¨å­˜å‚¨ç³»ç»Ÿåˆ¶é€ å•†çš„å»ºè®®-è®¸å¤šå»ºè®®ä½¿ç”¨å¾ªç¯ç­–ç•¥ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒEnterprise Linux 7ä¸­ä½¿ç”¨æœåŠ¡Linuxã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹å¦‚3PAR</font></font></b>
                        <div class="spoiler_text">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow">HPE 3PAR Red Hat Enterprise Linux, CentOS Linux, Oracle Linux, and OracleVM Server Implementation Guide</a> EL   Host  Generic-ALUA Persona 2,     /etc/multipath.conf   :<br>
<br>
<pre><code class="plaintext hljs">defaults {<font></font>
           polling_interval      10<font></font>
           user_friendly_names   no<font></font>
           find_multipaths       yes<font></font>
          }<font></font>
devices {<font></font>
          device {<font></font>
                   vendor                   "3PARdata"<font></font>
                   product                  "VV"<font></font>
                   path_grouping_policy     group_by_prio<font></font>
                   path_selector            "round-robin 0"<font></font>
                   path_checker             tur<font></font>
                   features                 "0"<font></font>
                   hardware_handler         "1 alua"<font></font>
                   prio                     alua<font></font>
                   failback                 immediate<font></font>
                   rr_weight                uniform<font></font>
                   no_path_retry            18<font></font>
                   rr_min_io_rq             1<font></font>
                   detect_prio              yes<font></font>
                   fast_io_fail_tmo         10<font></font>
                   dev_loss_tmo             "infinity"<font></font>
                 }<font></font>
}</code></pre><br>
     :<br>
<br>
<pre><code class="bash hljs">systemctl restart multipathd</code></pre><br>
<img src="https://habrastorage.org/webt/ez/1c/fs/ez1cfs3-mar5uivpfekvtgomway.png"><br>
<i>. 1 â€”   -  .</i><br>
<br>
<img src="https://habrastorage.org/webt/j_/6r/ll/j_6rll3gmnpqzwhwz_uffranfgo.png"><br>
<i>. 2 â€”   -   .</i><br>
</div>
                    </div><br>
<a name="pwr-mgmt"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”µæºç®¡ç†è®¾ç½®</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœEngineé•¿æ—¶é—´æ— æ³•æ”¶åˆ°ä¸»æœºçš„å“åº”ï¼Œåˆ™å…è®¸æ‚¨æ‰§è¡Œè®¡ç®—æœºçš„ç¡¬ä»¶é‡ç½®ã€‚</font><font style="vertical-align: inherit;">é€šè¿‡Fence Agentå®æ–½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®¡ç®—-&gt;ä¸»æœº-&gt; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»æœº</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ç¼–è¾‘-&gt;ç”µæºç®¡ç†ï¼Œç„¶åå¯ç”¨â€œå¯ç”¨ç”µæºç®¡ç†â€å¹¶æ·»åŠ ä»£ç†-â€œæ·»åŠ Fenceä»£ç†â€-&gt; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æŒ‡å‡ºç±»å‹ï¼ˆä¾‹å¦‚ï¼Œå¿…é¡»ä¸ºiLO5æŒ‡å®šilo4ï¼‰ï¼Œipmiæ¥å£çš„åç§°/åœ°å€ä»¥åŠç”¨æˆ·å/å¯†ç ã€‚</font><font style="vertical-align: inherit;">å»ºè®®æ‚¨åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç”¨æˆ·ï¼ˆä¾‹å¦‚oVirt-PMï¼‰ï¼Œå¦‚æœæ˜¯iLOï¼Œè¯·ç»™ä»–æˆäºˆç‰¹æƒï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™»å½•</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿œç¨‹æ§åˆ¶å°</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è™šæ‹Ÿç”µæºå’Œé‡ç½®</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è™šæ‹Ÿåª’ä½“</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é…ç½®iLOè®¾ç½®</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†ç”¨æˆ·å¸æˆ·</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸è¦é—®ä¸ºä»€ä¹ˆï¼Œå®ƒæ˜¯æ ¹æ®ç»éªŒé€‰æ‹©çš„ã€‚</font><font style="vertical-align: inherit;">æ§åˆ¶å°é˜²æŠ¤ä»£ç†è¦æ±‚çš„æƒé™è¾ƒå°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®¾ç½®è®¿é—®æ§åˆ¶åˆ—è¡¨æ—¶ï¼Œåº”è®°ä½ï¼Œä»£ç†ç¨‹åºä¸æ˜¯åœ¨å¼•æ“ä¸Šè¿è¡Œï¼Œè€Œæ˜¯åœ¨â€œé‚»å±…â€ä¸»æœºï¼ˆæ‰€è°“çš„ç”µæºç®¡ç†ä»£ç†ï¼‰ä¸Šè¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœé›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™ç”µæºç®¡ç†</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æ— æ³•</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·¥ä½œ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<a name="ssl-cert"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSLè®¾ç½®</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Œæ•´çš„å®˜æ–¹è¯´æ˜åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é™„å½•Dï¼šoVirtå’ŒSSLä¸­-æ›¿æ¢oVirt Engine SSL / TLSè¯ä¹¦ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯ä¹¦å¯ä»¥æ¥è‡ªæˆ‘ä»¬çš„å…¬å¸CAï¼Œä¹Ÿå¯ä»¥æ¥è‡ªå¤–éƒ¨å•†ä¸šè¯ä¹¦é¢å‘æœºæ„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‡è¦è¯´æ˜ï¼šè¯ä¹¦æ—¨åœ¨è¿æ¥åˆ°ç®¡ç†å™¨ï¼Œä¸ä¼šå½±å“Engineä¸èŠ‚ç‚¹ä¹‹é—´çš„äº¤äº’-å®ƒä»¬å°†ä½¿ç”¨Engineé¢å‘çš„è‡ªç­¾åè¯ä¹¦ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦æ±‚ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥PEMæ ¼å¼å‘è¡Œçš„CAçš„è¯ä¹¦ï¼ŒåŒ…æ‹¬åˆ°æ ¹CAçš„æ•´ä¸ªé“¾ï¼ˆä»å¼€å§‹çš„ä¸‹çº§å‘è¡Œè€…åˆ°æœ«å°¾çš„æ ¹ï¼‰ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘è¡ŒCAé¢å‘çš„Apacheè¯ä¹¦ï¼ˆè¿˜é™„æœ‰æ•´ä¸ªCAè¯ä¹¦é“¾ï¼‰</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apacheçš„ç§é’¥ï¼Œæ— å¯†ç ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡è®¾æˆ‘ä»¬çš„å‘å¸ƒè¯ä¹¦é¢å‘æœºæ„æ­£åœ¨è¿è¡Œåä¸ºsubca.example.comçš„CentOSï¼Œå¹¶ä¸”è¯·æ±‚ï¼Œå¯†é’¥å’Œè¯ä¹¦ä½äº/ etc / pki / tls /ç›®å½•ä¸­ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æ‰§è¡Œå¤‡ä»½å¹¶åˆ›å»ºä¸€ä¸ªä¸´æ—¶ç›®å½•ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo cp /etc/pki/ovirt-engine/keys/apache.key.nopass /etc/pki/ovirt-engine/keys/apache.key.nopass.`date +%F`<font></font>
$ sudo cp /etc/pki/ovirt-engine/certs/apache.cer /etc/pki/ovirt-engine/certs/apache.cer.`date +%F`<font></font>
$ sudo mkdir /opt/certs<font></font>
$ sudo chown mgmt.mgmt /opt/certs</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸‹è½½è¯ä¹¦ï¼Œä»æˆ‘ä»¬çš„å·¥ä½œç«™æ‰§è¡Œè¯ä¹¦æˆ–ä»¥å¦ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼è¿›è¡Œä¼ è¾“ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">[myuser@mydesktop] $ scp -3 causer@subca.example.com:/etc/pki/tls/cachain.pem mgmt@ovirt.example.com:/opt/certs<font></font>
[myuser@mydesktop] $ scp -3 causer@subca.example.com:/etc/pki/tls/private/ovirt.key mgmt@ovirt.example.com:/opt/certs<font></font>
[myuser@mydesktop] $ scp -3 causer@subca.example.com/etc/pki/tls/certs/ovirt.crt mgmt@ovirt.example.com:/opt/certs</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœï¼Œæ‚¨åº”è¯¥çœ‹åˆ°æ‰€æœ‰3ä¸ªæ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ls /opt/certs<font></font>
cachain.pem  ovirt.crt  ovirt.key</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯ä¹¦å®‰è£…</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¤åˆ¶æ–‡ä»¶å¹¶æ›´æ–°ä¿¡ä»»åˆ—è¡¨ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo cp /opt/certs/cachain.pem /etc/pki/ca-trust/<span class="hljs-built_in">source</span>/anchors<font></font>
$ sudo update-ca-trust<font></font>
$ sudo rm /etc/pki/ovirt-engine/apache-ca.pem<font></font>
$ sudo cp /opt/certs/cachain.pem /etc/pki/ovirt-engine/apache-ca.pem<font></font>
$ sudo cp /opt/certs/ovirt03.key /etc/pki/ovirt-engine/keys/apache.key.nopass<font></font>
$ sudo cp /opt/certs/ovirt03.crt /etc/pki/ovirt-engine/certs/apache.cer<font></font>
$ sudo systemctl restart httpd.service</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ·»åŠ /æ›´æ–°é…ç½®æ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/ovirt-engine/engine.conf.d/99-custom-truststore.conf</code></pre><br>
<pre><code class="plaintext hljs">ENGINE_HTTPS_PKI_TRUST_STORE="/etc/pki/java/cacerts"<font></font>
ENGINE_HTTPS_PKI_TRUST_STORE_PASSWORD=""</code></pre><br>
<pre><code class="bash hljs">$ sudo vim /etc/ovirt-engine/ovirt-websocket-proxy.conf.d/10-setup.conf</code></pre><br>
<pre><code class="plaintext hljs">SSL_CERTIFICATE=/etc/pki/ovirt-engine/certs/apache.cer<font></font>
SSL_KEY=/etc/pki/ovirt-engine/keys/apache.key.nopass</code></pre><br>
<pre><code class="bash hljs">$ sudo vim /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf</code></pre><br>
<pre><code class="plaintext hljs"># Key file for SSL connections<font></font>
ssl_key_file = /etc/pki/ovirt-engine/keys/apache.key.nopass<font></font>
# Certificate file for SSL connections<font></font>
ssl_cert_file = /etc/pki/ovirt-engine/certs/apache.cer</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡æ–°å¯åŠ¨æ‰€æœ‰å—å½±å“çš„æœåŠ¡ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo systemctl restart ovirt-provider-ovn.service<font></font>
$ sudo systemctl restart ovirt-imageio-proxy<font></font>
$ sudo systemctl restart ovirt-websocket-proxy<font></font>
$ sudo systemctl restart ovirt-engine.service</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åšå®Œäº†ï¼</font><font style="vertical-align: inherit;">ç°åœ¨è¯¥è¿æ¥åˆ°ç®¡ç†å™¨å¹¶éªŒè¯è¯¥è¿æ¥æ˜¯å¦å—åˆ°ç­¾åçš„SSLè¯ä¹¦çš„ä¿æŠ¤äº†ã€‚</font></font><br>
<br>
<a name="backup-mgr"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°å­˜</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ²¡æœ‰å¥¹çš„åœ°æ–¹ï¼</font><font style="vertical-align: inherit;">åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºç®¡ç†å™¨å½’æ¡£ï¼› VMå½’æ¡£æ˜¯ä¸€ä¸ªå•ç‹¬çš„é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†æ¯å¤©åˆ¶ä½œä¸€æ¬¡å­˜æ¡£å‰¯æœ¬ï¼Œå¹¶å°†å…¶æ”¾åœ¨NFSä¸Šï¼Œä¾‹å¦‚ï¼Œåœ¨æ”¾ç½®ISOæ˜ åƒçš„åŒä¸€ç³»ç»Ÿä¸Š-mynfs01.example.com:/exports/ovirt-backupã€‚</font><font style="vertical-align: inherit;">ä¸å»ºè®®å°†å­˜æ¡£å­˜å‚¨åœ¨è¿è¡ŒEngineçš„åŒä¸€å°è®¡ç®—æœºä¸Šã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®‰è£…å¹¶å¯ç”¨autofsï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install autofs<font></font>
$ sudo systemctl <span class="hljs-built_in">enable</span> autofs<font></font>
$ sudo systemctl start autofs</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ›å»ºä¸€ä¸ªè„šæœ¬ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/cron.daily/make.oVirt.backup.sh</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹å†…å®¹ï¼š</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-meta">#!/bin/bash
</span>
datetime=`date +<span class="hljs-string">"%F.%R"</span>`<font></font>
backupdir=<span class="hljs-string">"/net/mynfs01.example.com/exports/ovirt-backup"</span>
filename=<span class="hljs-string">"<span class="hljs-variable">$backupdir</span>/`hostname --short`.`date +"</span>%F.%R<span class="hljs-string">"`"</span>
engine-backup --mode=backup --scope=all --file=<span class="hljs-variable">$filename</span>.data --<span class="hljs-built_in">log</span>=<span class="hljs-variable">$filename</span>.<span class="hljs-built_in">log</span>
<span class="hljs-comment">#uncomment next line for autodelete files older 30 days </span>
<span class="hljs-comment">#find $backupdir -type f -mtime +30 -exec rm -f {} \;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬ä½¿æ–‡ä»¶å¯æ‰§è¡Œï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo chmod a+x /etc/cron.daily/make.oVirt.backup.sh</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæ¯å¤©æ™šä¸Šæˆ‘ä»¬éƒ½ä¼šæ”¶åˆ°ç®¡ç†å‘˜è®¾ç½®æ¡£æ¡ˆã€‚</font></font><br>
<br>
<a name="cockpit"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»æœºç®¡ç†ç•Œé¢</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cockpit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯Linuxç³»ç»Ÿçš„ç°ä»£ç®¡ç†ç•Œé¢ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ‰®æ¼”çš„è§’è‰²æ¥è¿‘ESXi Webç•Œé¢ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/587/d56/5c8/587d565c8e0250045773c2772b3fb112.png" alt="å›¾ç‰‡"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚</font><font style="vertical-align: inherit;">3-é¢æ¿å¤–è§‚ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒçš„å®‰è£…éå¸¸ç®€å•ï¼Œæ‚¨éœ€è¦é©¾é©¶èˆ±è½¯ä»¶åŒ…å’Œcockpit-ovirt-dashboardæ’ä»¶ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install cockpit cockpit-ovirt-dashboard -y</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰“å¼€é©¾é©¶èˆ±ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo systemctl <span class="hljs-built_in">enable</span> --now cockpit.socket</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é˜²ç«å¢™è®¾ç½®ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">sudo firewall-cmd --add-service=cockpit<font></font>
sudo firewall-cmd --add-service=cockpit --permanent</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ‚¨å¯ä»¥è¿æ¥åˆ°ä¸»æœºï¼šhttpsï¼š// [ä¸»æœºIPæˆ–FQDN]ï¼š9090</font></font><br>
<br>
<a name="vlans"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è™šæ‹Ÿå±€åŸŸç½‘</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡æ¡£ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜…è¯»æœ‰å…³ç½‘ç»œçš„æ›´å¤šä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚æœ‰å¾ˆå¤šå¯èƒ½æ€§ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æè¿°è™šæ‹Ÿç½‘ç»œçš„è¿æ¥ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦è¿æ¥å…¶ä»–å­ç½‘ï¼Œå¿…é¡»é¦–å…ˆåœ¨é…ç½®ä¸­å¯¹å…¶è¿›è¡Œæè¿°ï¼šç½‘ç»œ-&gt;ç½‘ç»œ-&gt;æ–°å»ºï¼Œæ­¤å¤„ä»…åç§°æ˜¯å¿…å¡«å­—æ®µï¼›å°†æ‰“å¼€â€œè™šæ‹Ÿæœºç½‘ç»œâ€å¤é€‰æ¡†ï¼Œè¯¥å¤é€‰æ¡†å…è®¸æœºå™¨ä½¿ç”¨è¯¥ç½‘ç»œï¼Œå¹¶è¦è¿æ¥æ ‡ç­¾ï¼Œè¯·å¯ç”¨â€œ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ç”¨VLANæ ‡ç­¾â€</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¾“å…¥VLANç¼–å·ï¼Œç„¶åå•å‡»â€œç¡®å®šâ€ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæ‚¨éœ€è¦è½¬åˆ°è®¡ç®—-&gt;ä¸»æœº-&gt; kvmNN-&gt;ç½‘ç»œæ¥å£-&gt;è®¾ç½®ä¸»æœºç½‘ç»œä¸»æœºã€‚ä»æœªåˆ†é…çš„é€»è¾‘ç½‘ç»œçš„å³ä¾§æ·»åŠ çš„ç½‘ç»œå‘å·¦æ‹–åŠ¨åœ¨æ‰€æŒ‡æ´¾çš„é€»è¾‘ç½‘ç»œï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/kn/wn/wqknwnvkf13ojuxjidpxuc6s9fq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾4-æ·»åŠ ç½‘ç»œä¹‹å‰ã€‚</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/2j/ei/gc/2jeigcdyhds6kfqqrvs-2gtt4zk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚ 5-æ·»åŠ ç½‘ç»œåã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦å°†å¤šä¸ªç½‘ç»œæ‰¹é‡è¿æ¥åˆ°ä¸»æœºï¼Œå¯ä»¥åœ¨åˆ›å»ºç½‘ç»œæ—¶ä¸ºå®ƒä»¬åˆ†é…æ ‡ç­¾ï¼Œå¹¶æŒ‰æ ‡ç­¾æ·»åŠ ç½‘ç»œéå¸¸æ–¹ä¾¿ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ›å»ºç½‘ç»œåï¼Œä¸»æœºå°†è¿›å…¥éè¿è¡ŒçŠ¶æ€ï¼Œç›´åˆ°å°†ç½‘ç»œæ·»åŠ åˆ°ç¾¤é›†çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</font><font style="vertical-align: inherit;">æ­¤è¡Œä¸ºæ˜¯ç”±åˆ›å»ºæ–°ç½‘ç»œæ—¶â€œç¾¤é›†â€é€‰é¡¹å¡ä¸Šçš„â€œå…¨éƒ¨éœ€è¦â€æ ‡å¿—å¼•èµ·çš„ã€‚</font><font style="vertical-align: inherit;">å¦‚æœç¾¤é›†çš„æ‰€æœ‰èŠ‚ç‚¹ä¸Šéƒ½ä¸éœ€è¦ç½‘ç»œï¼Œåˆ™å¯ä»¥ç¦ç”¨æ­¤ç—‡çŠ¶ï¼Œç„¶åå°†ç½‘ç»œæ·»åŠ åˆ°ä¸»æœºåï¼Œåœ¨â€œéå¿…éœ€â€éƒ¨åˆ†çš„å³ä¾§ï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ˜¯å¦å°†å…¶è¿æ¥åˆ°ç‰¹å®šä¸»æœºã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/10/ey/zr10eyeksh3-j_kqd1ezkcgytnw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›¾ã€‚</font><font style="vertical-align: inherit;">6-é€‰æ‹©ç½‘ç»œè¦æ±‚çš„æ ‡å¿—ã€‚</font></font></i><br>
<br>
<a name="hpe"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‰¹å®šäºHPE</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡ ä¹æ‰€æœ‰åˆ¶é€ å•†éƒ½æ‹¥æœ‰å¯æé«˜å…¶äº§å“å¯ç”¨æ€§çš„å·¥å…·ã€‚</font><font style="vertical-align: inherit;">ä»¥HPEä¸ºä¾‹ï¼ŒAMSï¼ˆæ— ä»£ç†ç®¡ç†æœåŠ¡ï¼ŒiLO5çš„amsdï¼ŒiLO4çš„hp-amsï¼‰å’ŒSSAï¼ˆSmart Storage Administratorï¼Œä¸ç£ç›˜æ§åˆ¶å™¨ä¸€èµ·ä½¿ç”¨ï¼‰ç­‰å¾ˆæœ‰ç”¨ã€‚</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿æ¥HPEå­˜å‚¨åº“</font></font></b>
                        <div class="spoiler_text">     HPE:<br>
<br>
<pre><code class="bash hljs">$ sudo rpm --import https://downloads.linux.hpe.com/SDR/hpePublicKey2048_key1.pub<font></font>
$ sudo vim /etc/yum.repos.d/mcp.repo</code></pre><br>
 :<br>
<br>
<pre><code class="plaintext hljs">[mcp]<font></font>
name=Management Component Pack<font></font>
baseurl=http://downloads.linux.hpe.com/repo/mcp/centos/$releasever/$basearch/current/<font></font>
enabled=1<font></font>
gpgkey=file:///etc/pki/rpm-gpg/GPG-KEY-mcp<font></font>
<font></font>
[spp]<font></font>
name=Service Pack for ProLiant<font></font>
baseurl=http://downloads.linux.hpe.com/SDR/repo/spp/RHEL/$releasever/$basearch/current/<font></font>
enabled=1<font></font>
gpgkey=file:///etc/pki/rpm-gpg/GPG-KEY-mcp</code></pre><br>
       ():<br>
<br>
<pre><code class="bash hljs">$ sudo yum --disablerepo=<span class="hljs-string">"*"</span> --enablerepo=<span class="hljs-string">"mcp"</span> list available<font></font>
$ yum info amsd</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®‰è£…å’Œå¯åŠ¨ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo yum install amsd ssacli<font></font>
$ sudo systemctl start amsd</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç£ç›˜æ§åˆ¶å™¨å®ç”¨ç¨‹åºçš„ç¤ºä¾‹</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/6_/bh/qw/6_bhqwnjgtqbx7eugqzur06mxxo.png"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç›®å‰ä¸ºæ­¢å°±è¿™æ ·äº†ã€‚</font><font style="vertical-align: inherit;">åœ¨ä»¥ä¸‹æ–‡ç« ä¸­ï¼Œæˆ‘è®¡åˆ’è®²ä¸€äº›åŸºæœ¬çš„æ“ä½œå’Œåº”ç”¨ç¨‹åºã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¦‚ä½•åœ¨oVirtä¸­åˆ¶ä½œVDIã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN502156/index.html">Ramblerè¯‰NGINXæ¡ˆï¼šæ•°å­—åŒ–åœ†æ¡Œä¼šè®®çš„åˆ‘äº‹é£é™©5æœˆ16æ—¥</a></li>
<li><a href="../zh-CN502158/index.html">å¦‚ä½•ç»„ç»‡æµ‹è¯•ä»¥åŠ é€Ÿå’Œç¨³å®šäº§å“å‘å¸ƒã€‚ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN502160/index.html">å®šåˆ¶ç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘ä¸æ˜‚è´µï¼šç°å®è¿˜æ˜¯å¹»æƒ³</a></li>
<li><a href="../zh-CN502166/index.html">å¹½çµWindows 3.1</a></li>
<li><a href="../zh-CN502176/index.html">å‰å¾€ï¼šè¾“å…¥é”™è¯¯çš„JSONååºåˆ—åŒ–ï¼Œæˆ–å¦‚ä½•è§£å†³APIå¼€å‘äººå‘˜é”™è¯¯</a></li>
<li><a href="../zh-CN502180/index.html">å‘¨ç•Œæ¶ˆå¤±çš„é‚£ä¸€å¤©ã€‚Microsoftå’Œåˆä½œä¼™ä¼´æä¾›çš„å®‰å…¨è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN502182/index.html">å…³äºMikroTikæˆ–æœŸå¾…å·²ä¹…çš„SOCKS5</a></li>
<li><a href="../zh-CN502186/index.html">ç½‘ç»œç ”è®¨ä¼šã€‚ä¿¡æ¯å®‰å…¨ï¼šéš”ç¦»çš„SOC</a></li>
<li><a href="../zh-CN502196/index.html">ä¸€ä¸ªä¸–çºªå‰çš„æ•°å­¦æ–¹æ³•ä¸­ï¼Œå‘ç°äº†æ­ç¤ºæ—¶é—´æœ¬è´¨çš„æ–°é’¥åŒ™ã€‚</a></li>
<li><a href="../zh-CN502200/index.html">ç†µï¼šå†³ç­–æ ‘å¦‚ä½•åˆ¶å®šå†³ç­–</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>