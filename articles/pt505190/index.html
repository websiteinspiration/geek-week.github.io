<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏴 👨🏿‍🚀 👼🏾 Como recriar o efeito padrão moiré na biblioteca p5.js. para iniciantes (guia rápido) 🛢️ 👈🏿 👩🏻‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O padrão moiré é uma ilusão de ótica que ocorre quando dois padrões de malha periódicos são aplicados. Os elementos repetidos dos dois padrões se sobr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como recriar o efeito padrão moiré na biblioteca p5.js. para iniciantes (guia rápido)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505190/"><img src="https://habrastorage.org/webt/r4/y5/c3/r4y5c3ll3ab62bu_giksqihzjx4.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O padrão moiré é uma ilusão de ótica que ocorre quando dois padrões de malha periódicos são aplicados. Os elementos repetidos dos dois padrões se sobrepõem ou formam lacunas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na vida cotidiana, costumamos encontrá-lo, por exemplo, quando olhamos para as cortinas de tule. Não é de surpreender que o próprio nome francês Moire significasse originalmente um tipo semelhante de tecido de seda. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yi/1q/9d/yi1q9drnqyien6jqpq4l-x-s5sq.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse efeito geralmente pode ser observado em várias áreas - da fotografia à radiologia e navegação. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para alcançar esse efeito e, ao mesmo tempo, praticar no p5.js, decidi escrever um código simples que o recrie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
p5.js é uma biblioteca Javascript criada em 2014. </font><font style="vertical-align: inherit;">Seu principal objetivo é tornar-se uma janela para o mundo da programação para designers, artistas, professores e outros representantes de profissões criativas. </font><font style="vertical-align: inherit;">Ele suporta animação e diagramas, traduz-se facilmente para o formato da web.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para começar, você precisa criar um novo editor online de projeto. </font><font style="vertical-align: inherit;">Por padrão, o novo projeto é o seguinte:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  createCanvas(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
function setup () - define uma função que é executada apenas uma vez que a </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
função draw () - se repete em um loop infinito </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Começamos configurando nossa “tela”. </font><font style="vertical-align: inherit;">Para a função createCanvas (), definimos os parâmetros 720 e 500 (largura e altura, respectivamente). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer uma elipse aparecer em segundo plano, inserimos os seguintes parâmetros na função draw () (que, como lembramos, é responsável pela repetição):</font></font><br>
<br>
<pre><code class="javascript hljs">{<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>) }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que está acontecendo aqui? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
noFill () - não preenche a parte interna da elipse com nenhuma cor. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
traço ('roxo') - cria uma linha com a cor roxa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
strokeWeight (3) - define a espessura dessa linha. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
elipse (360,250,100,100) - diz que a linha deve ser torcida em uma elipse com os parâmetros fornecidos (posição ao longo de X, posição ao longo de Y, diâmetro ao longo de X, diâmetro ao longo de Y). O primeiro e o segundo parâmetros são iguais à metade dos parâmetros na função createCanvas (400, 400) - para estar exatamente no centro. Os mesmos parâmetros 3 e 4 criam a forma de um círculo, não de um oval. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, você obtém algo parecido com isto. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z1/3a/ga/z13agansua-rb64spcr1h-v2zdq.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainda não é impressionante, certo?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos fazer essas elipses mais, cada uma delas um pouco mais que a anterior. Para fazer isso, precisamos criar um loop, remover nossa elipse e fazer as variáveis ​​de terceiro e quarto parâmetros.</font></font><br>
<br>
<pre><code class="javascript hljs"> background(<span class="hljs-number">220</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>; i+=<span class="hljs-number">10</span>) {<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,i,i)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você já lidou com ciclos pelo menos uma vez na vida, entenderá o que está acontecendo. Definimos o valor inicial i = 0, portanto, no início, desenhamos uma elipse em um raio zero. Em seguida, definimos o limite para qual valor i repetiremos o ciclo (até 1000), após o qual determinamos a etapa de alteração i + = 10 - cada vez que vou ser adicionado ao resultado anterior i. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Substituímos o parâmetro i na função de desenho da elipse como terceiro e quarto parâmetro responsável pelo diâmetro em largura e altura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, quando executamos o código, obtemos o seguinte. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q_/um/3m/q_um3mbhly7bkqy0gexgd48ud48.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso não é moiré, mas já é semelhante. O que o código fez? Ele simplesmente desenhou consistentemente 100 círculos (até o diâmetro deste último se tornar 1000), que diferem em 10 por diâmetro, salvando cada vez o resultado.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não se esqueça de inserir noFill (), caso contrário, você salvará e exibirá apenas o resultado da última iteração.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, para obter a segunda elipse, a inserimos no mesmo loop, mas com parâmetros ligeiramente diferentes:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>; i+=<span class="hljs-number">10</span>) {<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,i,i)<font></font>
    <font></font>
  stroke(<span class="hljs-string">"red"</span>)<font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>, <span class="hljs-number">250</span>,i<span class="hljs-number">-500</span>,i<span class="hljs-number">-500</span>)<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, você obterá uma sequência de círculos, o maior dos quais terá diâmetro igual a 1000 menos 500. A altura da nossa tela é de apenas 500, para que o perfeccionista interno fique satisfeito. </font><font style="vertical-align: inherit;">Bem, será vermelho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
É hora da ação final - fazer esses círculos passarem um pelo outro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, OUT do loop, adicione a variável x com o valor 0 no início de todo o código e o loop if APÓS a função draw ()</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{<font></font>
  createCanvas(<span class="hljs-number">720</span>, <span class="hljs-number">500</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">draw</span>(<span class="hljs-params"></span>) </span>{<font></font>
  background(<span class="hljs-number">220</span>);
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>; i+=<span class="hljs-number">10</span>) {<font></font>
  noFill()<font></font>
  stroke (<span class="hljs-string">'purple'</span>) <font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(<span class="hljs-number">360</span>,<span class="hljs-number">250</span>,i,i)<font></font>
    <font></font>
  stroke(<span class="hljs-string">"red"</span>)<font></font>
  strokeWeight(<span class="hljs-number">3</span>)<font></font>
  ellipse(x,<span class="hljs-number">250</span>,i<span class="hljs-number">-500</span>,i<span class="hljs-number">-500</span>)<font></font>
  }<font></font>
<span class="hljs-keyword">if</span> (x&gt;width) {<font></font>
  x= <span class="hljs-number">0</span>
} <span class="hljs-keyword">else</span> {x= x+<span class="hljs-number">3</span>}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existe uma condição. </font><font style="vertical-align: inherit;">Se x for menor que a largura da tela, redefinimos x para o valor zero padrão. </font><font style="vertical-align: inherit;">Até que isso aconteça, adicionamos 3 ao nosso valor x. </font><font style="vertical-align: inherit;">Como pode ser entendido, através de X queremos definir a coordenada ao longo do eixo X para o segundo círculo. </font><font style="vertical-align: inherit;">Como sempre muda um pouco, nosso círculo se move horizontalmente para a direita até que o centro atinja a borda da tela.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3v/ww/so/3vwwsobznt-udcvzksly9kipe5s.png" alt="imagem"><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não se esqueça de alterar o primeiro parâmetro da segunda elipse de 360 ​​para a variável x.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feito. </font><font style="vertical-align: inherit;">Como resultado, você obtém um efeito repetitivo, infinitamente ondulado, na tela do computador, que é fácil de integrar em seus projetos da web. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link para o resultado final</font></font></a><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ideia do projeto foi extraída do Superfun P5.js Projects - Nazia Fakhruddin, comprado honestamente na Amazon.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte do material foi retirada de um artigo do mesmo autor em Medium </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">medium.com/@naziafakhruddin/the-mysterious-moir%C3%A9-pattern-49d797897355</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt505142/index.html">Como a Amazon quer inovação fora da pandemia</a></li>
<li><a href="../pt505156/index.html">Django: um usuário para tudo</a></li>
<li><a href="../pt505176/index.html">Quais ativos permitiram aos investidores proteger recursos durante uma pandemia?</a></li>
<li><a href="../pt505178/index.html">DIY Exergaming isoladamente</a></li>
<li><a href="../pt505186/index.html">Três maneiras de combinar o solo em uma placa de circuito impresso</a></li>
<li><a href="../pt505194/index.html">O Windows Defender SmartScreen prejudica desenvolvedores independentes</a></li>
<li><a href="../pt505196/index.html">Mau líder - manual de instruções</a></li>
<li><a href="../pt505208/index.html">Como e por que um produto deve conter o CustDev?</a></li>
<li><a href="../pt505212/index.html">Apple alertou saqueadores para rastrear todos os telefones roubados</a></li>
<li><a href="../pt505218/index.html">Reunião de Segurança Online</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>