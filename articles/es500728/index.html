<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçô üë©‚Äçüë©‚Äçüë¶ üîé Kubernetes: c√≥digo abierto vs vendedor ‚úãüèª ü¶ì ü§†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola, me llamo Dmitry Krasnov. Durante m√°s de cinco a√±os, he estado administrando cl√∫steres de Kubernetes y construyendo arquitecturas complejas de mi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Kubernetes: c√≥digo abierto vs vendedor</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/500728/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hola, me llamo Dmitry Krasnov. </font><font style="vertical-align: inherit;">Durante m√°s de cinco a√±os, he estado administrando cl√∫steres de Kubernetes y construyendo arquitecturas complejas de microservicios. </font><font style="vertical-align: inherit;">A principios de este a√±o, lanzamos el servicio de administraci√≥n de cl√∫ster Kubernetes basado en Containerum. </font><font style="vertical-align: inherit;">Aprovechando esta oportunidad, te dir√© qu√© es este Kubernetes y c√≥mo la integraci√≥n con el proveedor difiere del c√≥digo abierto. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para empezar, ¬øqu√© es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Este es un sistema para administrar contenedores en una gran cantidad de hosts. </font><font style="vertical-align: inherit;">Del griego, por cierto, se traduce como "piloto" o "timonel". </font><font style="vertical-align: inherit;">Originalmente desarrollado por Google, despu√©s de lo cual se transfiri√≥ la Cloud Native Computing Foundation, una organizaci√≥n internacional sin fines de lucro que re√∫ne a los principales desarrolladores mundiales, usuarios finales y proveedores de tecnolog√≠a de contenedores, como una contribuci√≥n tecnol√≥gica.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jj/lu/gn/jjlugngazzbnhu-fyxvlpchazjw.jpeg"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dirige una gran cantidad de contenedores </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora veamos qu√© tipo de contenedores son estos. </font><font style="vertical-align: inherit;">Esta aplicaci√≥n con todo su entorno, principalmente bibliotecas de las que depende el programa. </font><font style="vertical-align: inherit;">Todo esto est√° empaquetado en archivos y se presenta en forma de una imagen que se puede ejecutar independientemente del sistema operativo, probado y no solo. </font><font style="vertical-align: inherit;">Pero hay un problema: administrar contenedores en una gran cantidad de hosts es muy dif√≠cil. </font><font style="vertical-align: inherit;">Por lo tanto, se cre√≥ Kubernetes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una imagen de contenedor es una aplicaci√≥n m√°s sus dependencias. La aplicaci√≥n, sus dependencias y la imagen del sistema de archivos del sistema operativo se encuentran en diferentes partes de la imagen, las llamadas capas. Las capas se pueden reutilizar para diferentes contenedores. Por ejemplo, para todas las aplicaciones de la empresa, se puede usar la capa base de Ubuntu. Al iniciar contenedores, no es necesario almacenar varias copias de una capa base en el host. Esto le permite optimizar el almacenamiento y la entrega de im√°genes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando queremos iniciar la aplicaci√≥n desde el contenedor, las capas necesarias se superponen entre s√≠ y se forma un sistema de archivos superpuestos. Una capa para grabar se superpone en la parte superior, que, cuando se detiene el contenedor, se elimina. Esto garantiza que cuando inicie el contenedor, la aplicaci√≥n siempre tendr√° el mismo entorno, que no se puede cambiar. Esto garantiza la reproducibilidad del entorno en diferentes sistemas operativos host. Ya sea Ubuntu o CentOS, el entorno siempre ser√° el mismo. Adem√°s, el contenedor est√° aislado del host utilizando los mecanismos integrados en el kernel de Linux. Las aplicaciones en el contenedor no ven archivos, procesos del host y contenedores vecinos. Este aislamiento de aplicaciones del sistema operativo host proporciona una capa adicional de seguridad.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existen muchas herramientas para administrar contenedores en el host. </font><font style="vertical-align: inherit;">El m√°s popular de estos es Docker. </font><font style="vertical-align: inherit;">Le permite garantizar el ciclo de vida completo de los contenedores. </font><font style="vertical-align: inherit;">Sin embargo, solo funciona en un host. </font><font style="vertical-align: inherit;">Si necesita administrar contenedores en varios hosts, Docker puede convertir la vida de los ingenieros en un infierno. </font><font style="vertical-align: inherit;">Por eso se cre√≥ Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La demanda de Kubernetes se debe precisamente a la capacidad de dirigir grupos de contenedores en varios hosts como algunas entidades individuales. </font><font style="vertical-align: inherit;">La popularidad del sistema proporciona la capacidad de construir DevOps u Operaciones de desarrollo, en las que Kubernetes se utiliza para iniciar los procesos de este DevOps. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l1/4k/fm/l14kfmzc4n0ohovryr9sb0m1pbc.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 1. Representaci√≥n esquem√°tica de c√≥mo funciona Kubernetes</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatizaci√≥n completa</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DevOps, en principio, es una automatizaci√≥n del proceso de desarrollo. En t√©rminos generales, los desarrolladores escriben c√≥digo que se vierte en el repositorio. Luego, este c√≥digo puede recopilarse autom√°ticamente de inmediato en un contenedor con todas las bibliotecas, probarse y desplegarse a la siguiente etapa: Puesta en escena y luego inmediatamente a Producci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Junto con Kubernetes, DevOps le permite automatizar este proceso para que contin√∫e con poca o ninguna participaci√≥n de los propios desarrolladores. Debido a esto, el ensamblaje se acelera significativamente, ya que el desarrollador no tiene que hacer esto en su computadora: solo escribe un fragmento de c√≥digo, inserta el c√≥digo en el repositorio y luego comienza la canalizaci√≥n, que puede incluir el proceso de ensamblaje, prueba y despliegue. Y esto sucede con cada confirmaci√≥n, por lo que las pruebas est√°n en curso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al mismo tiempo, el uso del contenedor le permite estar seguro de que todo el entorno de este programa entrar√° en producci√≥n exactamente en la forma en que se prob√≥. </font><font style="vertical-align: inherit;">Es decir, no habr√° problemas de la categor√≠a "en la prueba hubo algunas versiones, en producci√≥n, otras, pero cuando se configur√≥, todo cay√≥". </font><font style="vertical-align: inherit;">Y dado que hoy tenemos una tendencia hacia la arquitectura de microservicios, cuando en lugar de una gran aplicaci√≥n hay cientos de peque√±as, para administrarlas manualmente, necesitar√° un gran personal. </font><font style="vertical-align: inherit;">Por eso usamos Kubernetes.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pros, Pros, Pros</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si hablamos de las ventajas de Kubernetes como plataforma, tiene ventajas significativas en t√©rminos de gesti√≥n de la arquitectura de microservicios. </font></font><br>
<br>
<ul>
<li> <b>  .</b>   ‚Äî      .    , ‚Äî         .          .     ,  Kubernetes      . </li>
<li> <b> .</b>   Kubernetes         .       .       ,     .     Kubernetes  ,        Service Discovery.       IP-       Kubernetes.   health check`         .</li>
<li> <b> . </b>         .    Kubernetes    ConfigMap`.             .         ,     . </li>
<li> <b>Persistent Volumes. </b>          ,    ,  .        .      Kubernetes      ‚Äî Persistent Volumes.       ,      ,   .        ,        .</li>
<li> <b>Load Balancer.</b>   ,   Kubernetes      Deployment, StatefulSet  ..,            .         . Kubernetes         .     ,   ?        ,        .      Kubernetes    Load Balancer.             .              .       ,     .        Kubernetes.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes es el mejor en el lanzamiento de arquitecturas de microservicios. </font><font style="vertical-align: inherit;">Implementar un sistema en la arquitectura cl√°sica es posible, pero no tiene sentido. </font><font style="vertical-align: inherit;">Si la aplicaci√≥n no puede funcionar en varias r√©plicas, ¬øcu√°l es la diferencia, en Kubernetes o no?</font></font><br>
 <br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes de c√≥digo abierto</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El c√≥digo abierto Kubernetes es una gran cosa: se instal√≥ y funciona. </font><font style="vertical-align: inherit;">Puede implementar en sus servidores de hierro, en su infraestructura, poner asistentes y trabajadores en los que se ejecutar√°n todas las aplicaciones. </font><font style="vertical-align: inherit;">Y lo m√°s importante: todo esto es gratis. </font><font style="vertical-align: inherit;">Sin embargo, hay matices.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El primero es la precisi√≥n del conocimiento y la experiencia de los administradores e ingenieros que implementar√°n y acompa√±ar√°n todo esto. </font><font style="vertical-align: inherit;">Dado que el cliente recibe total libertad de acci√≥n en el cl√∫ster, tiene la responsabilidad de la operatividad del cl√∫ster. </font><font style="vertical-align: inherit;">Y romper todo aqu√≠ es muy simple.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El segundo es la falta de integraci√≥n. </font><font style="vertical-align: inherit;">Si ejecuta Kubernetes sin alguna plataforma de virtualizaci√≥n popular, no obtendr√° todos los beneficios del programa. </font><font style="vertical-align: inherit;">Tales como el uso de servicios de Volumen persistente y equilibrador de carga.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/yl/qy/s-/ylqys-vszsb7e9t4pmjylyhhh0u.png"> <br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 2. La arquitectura k8s</font></font></i><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes del vendedor</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La integraci√≥n con un proveedor de la nube ofrece dos opciones: </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En primer lugar, una persona puede simplemente hacer clic en el bot√≥n "crear un cl√∫ster" y obtener un cl√∫ster que ya est√° configurado y listo para funcionar.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En segundo lugar, el propio proveedor configura un cl√∫ster y configura la integraci√≥n con la nube.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo est√° pasando esto con nosotros? El ingeniero que inicia el cl√∫ster indica cu√°ntos trabajadores necesita y con qu√© par√°metros (por ejemplo, 5 trabajadores, cada uno con 10 CPU, 16 GB de RAM y, por ejemplo, 100 GB de disco). Luego obtiene acceso al cl√∫ster ya formado. Al mismo tiempo, los trabajadores en los que se lanza la carga se entregan completamente al cliente, pero todo el plano de gesti√≥n permanece en el √°rea de responsabilidad del proveedor (si el servicio se proporciona de acuerdo con el modelo de servicio gestionado).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, tal esquema tiene sus inconvenientes. </font><font style="vertical-align: inherit;">Debido al hecho de que el plano de gesti√≥n permanece con el proveedor, el proveedor no le da acceso completo al cliente, y esto reduce la flexibilidad para trabajar con Kubernetes. </font><font style="vertical-align: inherit;">A veces sucede que el cliente desea adjuntar alguna funcionalidad espec√≠fica a Kubernetes, por ejemplo, autenticaci√≥n a trav√©s de LDAP, y la configuraci√≥n del plano de administraci√≥n no lo permite. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/me/xi/lp/mexilpixodhnuve_i3i2kop5rko.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura 3. Un ejemplo de cl√∫ster de Kubernetes de un proveedor de la nube</font></font></i><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu√© elegir: c√≥digo abierto o proveedor</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øKubernetes o proveedor de c√≥digo abierto? </font><font style="vertical-align: inherit;">Si tomamos Kubernetes de c√≥digo abierto, entonces el usuario quiere hacer lo que hace. </font><font style="vertical-align: inherit;">Pero una gran oportunidad de pegarse un tiro en la pierna. </font><font style="vertical-align: inherit;">Con los vendedores, esto es m√°s complicado, porque todo est√° pensado y configurado para la empresa. </font><font style="vertical-align: inherit;">El mayor inconveniente de Kubernetes de c√≥digo abierto es el requisito de especialistas. </font><font style="vertical-align: inherit;">Con un proveedor, la empresa se libra de este dolor de cabeza, pero tendr√° que decidir si pagar a sus especialistas o al proveedor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/te/g1/uu/teg1uu2nmmwdork-m0khn56_3ru.png"><br>
<br>
<img src="https://habrastorage.org/webt/-2/fi/vf/-2fivf91q1hgvh5j515dccobviy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, los pros son obvios, los contras tambi√©n son conocidos. </font><font style="vertical-align: inherit;">Invariablemente, una cosa: Kubernetes resuelve muchos problemas al automatizar la gesti√≥n de m√∫ltiples contenedores. </font><font style="vertical-align: inherit;">Y cu√°l elegir, c√≥digo abierto o proveedor: todos deciden por s√≠ mismos. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El art√≠culo fue preparado por Dmitry Krasnov, arquitecto principal del servicio Containerum del proveedor #CloudMTS</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500712/index.html">Coronavirus digital: una combinaci√≥n de ransomware e infostealer</a></li>
<li><a href="../es500718/index.html">EPAM en modo remoto: c√≥mo funciona</a></li>
<li><a href="../es500720/index.html">Nuevos est√°ndares de seguridad de la informaci√≥n: hacen la vida m√°s dif√≠cil para los atacantes</a></li>
<li><a href="../es500722/index.html">"Hornear hasta que est√© listo": qui√©n guarda grabaciones de cintas raras de una manera tan inusual</a></li>
<li><a href="../es500724/index.html">C√≥mo las autoridades financieras de los Estados Unidos limitan el impacto negativo del juego en el declive</a></li>
<li><a href="../es500732/index.html">Inteligencia artificial y la crisis de las teor√≠as de la conciencia.</a></li>
<li><a href="../es500734/index.html"># GitLab 12.10 lanzado con gesti√≥n de requisitos y escalado autom√°tico de CI en AWS Fargate</a></li>
<li><a href="../es500744/index.html">"Para escuchar mejor que t√∫, mi orador": c√≥mo transmitir mejor desde casa</a></li>
<li><a href="../es500746/index.html">Estante de boxeo para SMD y otras cosas peque√±as</a></li>
<li><a href="../es500752/index.html">MASK-RCNN para encontrar techos a partir de im√°genes de drones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>