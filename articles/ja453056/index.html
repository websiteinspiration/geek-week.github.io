<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎴 🧑🏼‍🤝‍🧑🏼 🙄 モバイルゲームのプロトタイピング、どこから始め、どのように行うか。パート1 👩🏾‍🏭 🕵🏻 🌻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="たまたま私はプロトタイプ（仕事用と個人的なプロジェクトの両方）を作ることが多く
 、私の経験を共有したいと思いました。私は自分自身を読むのが面白いと思う記事を書きたいと思います。まず、人がこれを行うとき、またはプロジェクトの実装においてその決定を下すとき、人は何に導かれるのか、彼がプロジェクトを開始...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>モバイルゲームのプロトタイピング、どこから始め、どのように行うか。パート1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453056/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たまたま私はプロトタイプ（仕事用と個人的なプロジェクトの両方）を作ることが多く</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、私の経験を共有したいと思いました。</font><font style="vertical-align: inherit;">私は自分自身を読むのが面白いと思う記事を書きたいと思います。まず、人がこれを行うとき、またはプロジェクトの実装においてその決定を下すとき、人は何に導かれるのか、彼がプロジェクトを開始する方法、多くの場合、開始するのが最も難しいのです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私があなたと一緒に考えたい新鮮な例は、カジュアルな物理ベースのパズルのコンセプトです。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時々私は初心者のためにトピックを拡大するために非常に明白なことについて言及します。</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アイデアはこんな感じ</font></font></h3><br>
<img src="https://habrastorage.org/webt/ll/_-/mh/ll_-mhzvvzuhmrptbuhnsjt9up8.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート2 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート3</font></font></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ロケットの方向を変えたり、引き付けたり、加速したり、反発したりするなど、さまざまなモディファイアをフィールドに配置します。仕事は、私たちが必要とする次の惑星への星の間の道を開くことです。惑星の跡に着陸/接触すると勝利が考慮されます。競技場は垂直で、いくつかの画面が上にあり、軌道が画面の左/右の床を占める可能性があるという仮定があります。失う-目的の惑星を逃した場合、別の惑星と衝突した場合は、ゾーンをはるかに超えて飛行しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、私たち全員が、開発に割り込んで計画を実装する前に、まずプロトタイプを作成する必要があることを理解していることを願っています。プロトタイプは何のために作られていますか？私たちの頭の中と実際のゲームプロセスは非常に異なるものであり、私たちにとってはクールに思えますが、他の人にとってはそれは完全な恐怖であり、さらにプロジェクトには、管理、ゲームルール、ゲームダイナミクスなど、論争の的となる瞬間がしばしばあります。等プロトタイプの段階を飛ばして、アーキテクチャーに取り組み、グラフィックスを提供し、レベルを調整し、最後にゲームがたわごとであることを発見するのは非常に愚かです。人生から-1つのゲームには約10個のミニゲームがあり、プロトタイプを作成した後、それらはひどく退屈で、半分は捨てられ、半分はやり直されたことがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒント-基本的なメカニズムに加えて、問題のある場所を分離し、プロトタイプからの具体的な期待を書き留めます。これは、困難な瞬間にリロードするために行われます。たとえば、このプロトタイプが直面したタスクの1つは、競技場が複数のスクリーンで構成されており、それらを巻き取る必要があることの便利さと理解です。計画A-svaypを実装する必要がありました。プランB-競技場をズームする機能（必要な場合）。修飾子のオプションもいくつかありました。最初のアイデアはスクリーンショットに表示されています。修飾子とその影響の方向を公開します。その結果、モディファイヤは、ロケットが球に接触したときにロケットの方向を変える球に置き換えられました。これは、軌道などを使用せずに、よりカジュアルに行うことを決定しました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちが実装する一般的な機能：</font></font></b><br>
<br>
<ol>
<li>    ,       (           )</li>
<li>   ,      </li>
<li>     (  )</li>
<li>    ( )</li>
<li>           </li>
<li>      —   </li>
<li>      </li>
<li>      </li>
</ol><br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
非常に重要な点です。大規模な開発では、プロトタイプがより速くなるほど恐ろしいものとして記述され、プロジェクトが単純にゼロから記述されることが一般的に認められています。多くのプロジェクトの厳しい現実では、プロトタイプから脚が伸びます。これは、大規模な開発（曲線アーキテクチャ、レガシーコード、技術的負債、リファクタリングのための余分な時間）には不向きです。さて、インディーズの開発は全体として、プロトタイプからベータ版にスムーズに移行します。なぜ私なのですか？原始的であっても、アーキテクチャをプロトタイプに組み込む必要があります。そうすれば、後で泣いたり、同僚の前で顔を赤らめたりすることがなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
始める前に、私たちは常に繰り返します-SOLID、KISS、DRY、YAGNI。経験豊富なプログラマーでさえ、キスとヤグニを忘れます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本的なアーキテクチャは何ですか</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シーンに対応するタグのある空のgameobject GameControllerがあり、コンポーネント/モノバイクがそれにぶら下がっています。それをプレハブにしてから、必要に応じてコンポーネントをプレハブに追加することをお勧めします。</font></font><br>
 <br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GameController-（ゲームの状態を直接担当し、ロジックに直接影響します（勝った、負けた、寿命など） </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InputController-プレイヤーの管理、追跡、クリック、クリックした人、コントロールの状態などに関連するすべてのもの。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransformManager-ゲームでは、誰がどこにいるのかを知る必要があることがよくあります。プレイヤーや敵の位置に関連するさまざまなデータです。</font><font style="vertical-align: inherit;">たとえば、私たちが惑星を通り過ぎた場合、プレイヤーを敗北させます。ゲームコントローラがこれを担当しますが、同じ場所からプレイヤーの位置を知る必要があります。</font><font style="vertical-align: inherit;">変革マネージャーはまさに物事を知っている本質です</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AudioController-ここで明確です、それは音についてです</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">InterfacesController-そして、ここでは明らかですが、それはUIに関するものです</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
全体像が浮かび上がります-理解可能なタスクごとに、これらの問題を解決する独自のコントローラー/エンティティがあります。これにより、godlaykオブジェクトを回避するのに役立ちます。これにより、データを送信するコントローラーから、受信データの実装をいつでも変更できるというアイデアが得られます。</font><font style="vertical-align: inherit;">パブリックフィールドは許可されていません。データはパブリックプロパティ/メソッドを通じてのみ提供されます。</font><font style="vertical-align: inherit;">ローカルでデータを計算/変更します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
場合によっては、さまざまな特定のロジックと計算のために、GameControllerが膨らむことがあります。</font><font style="vertical-align: inherit;">データを処理する必要がある場合-これを行うには、別のクラスGameControllerModelを作成し、そこで実行することをお勧めします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、コードが始まった</font></font></h3><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロケットの基本クラス</font></font></b><div class="spoiler_text"><pre><code class="java hljs">using GlobalEventAggregator;<font></font>
using UnityEngine;<font></font>
using UnityEngine.Assertions;<font></font>
<font></font>
namespace PlayerRocket<font></font>
{<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> RocketState<font></font>
    {<font></font>
        WAITFORSTART = <span class="hljs-number">0</span>,<font></font>
        MOVE = <span class="hljs-number">1</span>,<font></font>
        STOP = <span class="hljs-number">2</span>,<font></font>
        COMPLETESTOP = <span class="hljs-number">3</span>,<font></font>
    }<font></font>
<font></font>
    [RequireComponent(typeof(Rigidbody))]<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PlayerRocketBase</span> : <span class="hljs-title">MonoBehaviour</span>, <span class="hljs-title">IUseForces</span>, <span class="hljs-title">IPlayerHelper</span>
    </span>{<font></font>
        [SerializeField] <span class="hljs-keyword">protected</span> RocketConfig config;<font></font>
        <font></font>
        <span class="hljs-keyword">protected</span> Rigidbody rigidbody;
        <span class="hljs-keyword">protected</span> InputController inputController;
        <span class="hljs-keyword">protected</span> RocketHolder rocketHolder;
        <span class="hljs-keyword">protected</span> RocketState rocketState;<font></font>
<font></font>
        <span class="hljs-keyword">public</span> Transform Transform =&gt; transform;
        <span class="hljs-keyword">public</span> Rigidbody RigidbodyForForce =&gt; rigidbody;<font></font>
<font></font>
        RocketState IPlayerHelper.RocketState =&gt; rocketState;<font></font>
<font></font>
        <span class="hljs-keyword">protected</span> ForceModel&lt;IUseForces&gt; forceModel;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> virtual <span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span><span class="hljs-params">()</span>
        </span>{<font></font>
            Injections();<font></font>
            EventAggregator.AddListener&lt;ButtonStartPressed&gt;(<span class="hljs-keyword">this</span>, StartEventReact);<font></font>
            EventAggregator.AddListener&lt;EndGameEvent&gt;(<span class="hljs-keyword">this</span>, EndGameReact);<font></font>
            EventAggregator.AddListener&lt;CollideWithPlanetEvent&gt;(<span class="hljs-keyword">this</span>, DestroyRocket);<font></font>
            rigidbody = GetComponent&lt;Rigidbody&gt;();<font></font>
            Assert.IsNotNull(rigidbody, <span class="hljs-string">"    "</span> + gameObject.name);<font></font>
            forceModel = <span class="hljs-keyword">new</span> ForceModel&lt;IUseForces&gt;(<span class="hljs-keyword">this</span>);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> virtual <span class="hljs-keyword">void</span> <span class="hljs-title">Start</span><span class="hljs-params">()</span>
        </span>{<font></font>
            Injections();<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">DestroyRocket</span><span class="hljs-params">(CollideWithPlanetEvent obj)</span>
        </span>{<font></font>
            Destroy(gameObject);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">EndGameReact</span><span class="hljs-params">(EndGameEvent obj)</span>
        </span>{<font></font>
            Debug.Log(<span class="hljs-string">"     "</span>);<font></font>
            rocketState = RocketState.STOP;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Injections</span><span class="hljs-params">()</span>
        </span>{<font></font>
            EventAggregator.Invoke(<span class="hljs-keyword">new</span> InjectEvent&lt;InputController&gt; { inject = (InputController obj) =&gt; inputController = obj});<font></font>
            EventAggregator.Invoke(<span class="hljs-keyword">new</span> InjectEvent&lt;RocketHolder&gt; { inject = (RocketHolder holder) =&gt; rocketHolder = holder });<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title">StartEventReact</span><span class="hljs-params">(ButtonStartPressed buttonStartPressed)</span></span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IPlayerHelper</span>
    </span>{<font></font>
        Transform Transform { get; }<font></font>
        RocketState RocketState { get; }<font></font>
    }<font></font>
}</code></pre><br>
</div></div><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスを見て</font><b><font style="vertical-align: inherit;">みましょう</font></b><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="java hljs"> [RequireComponent(typeof(Rigidbody))]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PlayerRocketBase</span> : <span class="hljs-title">MonoBehaviour</span>, <span class="hljs-title">IUseForces</span>, <span class="hljs-title">IPlayerHelper</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、なぜクラスが抽象的なのですか？どのようなロケットがあり、どのように動くか、どのようにアニメーション化されるか、どのようなゲーム機能が利用できるか（たとえば、ロケットが横に跳ねる可能性など）はわかりません。したがって、基本クラスを抽象化し、そこに標準データを配置し、特定のミサイルの実装が異なる可能性がある抽象メソッドを配置します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、クラスにはインターフェースの実装と、ロケットがロケットではない場合に必要なコンポーネントであるゲームプレイに掛かる属性がすでにあることもわかります。</font></font><br>
<br>
<pre><code class="java hljs">[SerializeField] <span class="hljs-keyword">protected</span> RocketConfig config;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この属性は、インスペクターにオブジェクトが詰め込まれるシリアル化可能なフィールドがあることを示しています。Unityを含むほとんどのレッスンでは、これらのフィールドは公開されます。インディーデベロッパーの場合は、それを行わないでください。</font><font style="vertical-align: inherit;">プライベートフィールドとこの属性を使用します。</font><font style="vertical-align: inherit;">ここで、このクラスとは何か、何をするのかについて少し詳しく説明します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rocketconfig</font></font></b><div class="spoiler_text"><pre><code class="java hljs">using UnityEngine;<font></font>
<font></font>
namespace PlayerRocket<font></font>
{<font></font>
    [CreateAssetMenu(fileName = <span class="hljs-string">"RocketConfig"</span>, menuName = <span class="hljs-string">"Configs/RocketConfigs"</span>, order = <span class="hljs-number">1</span>)]
    <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RocketConfig</span> : <span class="hljs-title">ScriptableObject</span>
    </span>{<font></font>
        [SerializeField] <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> speed;<font></font>
        [SerializeField] <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> fuel;<font></font>
<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> Speed =&gt; speed;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> Fuel =&gt; fuel;<font></font>
    }<font></font>
}</code></pre><br>
</div></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ロケットの設定を格納するScriptableObjectです。</font><font style="vertical-align: inherit;">これにより、ゲームデザイナーが必要とするデータプールがクラスを超えて使用されます。</font><font style="vertical-align: inherit;">したがって、ゲームデザイナーは特定のロケットを使用して特定のゲームプロジェクトをいじったり設定したりする必要はありません。別のアセット/ファイルに保存されているこの設定のみを修正できます。</font><font style="vertical-align: inherit;">彼らはランタイム構成を構成して保存することができます。ロケット用に異なるスキンを購入することが可能であり、パラメーターが同じである場合も可能です-構成は必要な場所に移動するだけです。</font><font style="vertical-align: inherit;">このアプローチは拡大しています。データを追加したり、カスタムエディターを作成したりできます。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">protected</span> ForceModel&lt;IUseForces&gt; forceModel;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これについても詳しく説明したいと思います。これは、オブジェクトにモディファイアを適用するための一般的なクラスです。 </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォースモデル</font></font></b><div class="spoiler_text"><pre><code class="java hljs">using System.Collections.Generic;<font></font>
using System.Linq;<font></font>
using UnityEngine;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> TypeOfForce<font></font>
{<font></font>
    Push = <span class="hljs-number">0</span>,<font></font>
    AddSpeed = <span class="hljs-number">1</span>,<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ForceModel</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">where</span> <span class="hljs-title">T</span> : <span class="hljs-title">IUseForces</span>
</span>{<font></font>
    readonly <span class="hljs-keyword">private</span> T forceUser;
    <span class="hljs-keyword">private</span> List&lt;SpaceForces&gt; forces = <span class="hljs-keyword">new</span> List&lt;SpaceForces&gt;();
    <span class="hljs-keyword">protected</span> bool IsHaveAdditionalForces;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ForceModel</span><span class="hljs-params">(T user)</span>
    </span>{<font></font>
        GlobalEventAggregator.EventAggregator.AddListener&lt;SpaceForces&gt;(<span class="hljs-keyword">this</span>, ChangeModificatorsList);<font></font>
        forceUser = user;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ChangeModificatorsList</span><span class="hljs-params">(SpaceForces obj)</span>
    </span>{
        <span class="hljs-keyword">if</span> (obj.IsAdded)<font></font>
            forces.Add(obj);<font></font>
        <span class="hljs-keyword">else</span><font></font>
            forces.Remove(forces.FirstOrDefault(x =&gt; x.CenterOfObject == obj.CenterOfObject));<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (forces.Count &gt; <span class="hljs-number">0</span>)<font></font>
            IsHaveAdditionalForces = <span class="hljs-keyword">true</span>;
        <span class="hljs-keyword">else</span>
            IsHaveAdditionalForces = <span class="hljs-keyword">false</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddModificator</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">if</span> (!IsHaveAdditionalForces)
            <span class="hljs-keyword">return</span>;<font></font>
<font></font>
        foreach (<span class="hljs-keyword">var</span> f in forces)<font></font>
        {<font></font>
            <span class="hljs-keyword">switch</span> (f.TypeOfForce)<font></font>
            {<font></font>
                <span class="hljs-keyword">case</span> TypeOfForce.Push:<font></font>
                    AddDirectionForce(f);<font></font>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> TypeOfForce.AddSpeed:<font></font>
                    forceUser.RigidbodyForForce.AddRelativeForce(Vector3.up*f.Force);<font></font>
                    <span class="hljs-keyword">break</span>;<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AddDirectionForce</span><span class="hljs-params">(SpaceForces spaceForces)</span>
    </span>{
        <span class="hljs-comment">//Debug.Log("");</span>
        <span class="hljs-comment">//var t = AngleDir(forceUser.TransformForForce.position, spaceForces.CenterOfObject);</span><font></font>
        forceUser.RigidbodyForForce.AddForce(Push(spaceForces));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> Vector3 <span class="hljs-title">Push</span><span class="hljs-params">(SpaceForces spaceForces)</span>
    </span>{
        <span class="hljs-keyword">var</span> dist = Vector2.Distance(forceUser.Transform.position, spaceForces.CenterOfObject);
        <span class="hljs-keyword">var</span> coeff = <span class="hljs-number">1</span> - (spaceForces.ColliderBound / dist);<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (forceUser.Transform.position.x &gt; spaceForces.CenterOfObject.x)
            <span class="hljs-keyword">return</span> (Vector3.right * spaceForces.Force) * coeff;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> (-Vector3.right * spaceForces.Force) * coeff;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">float</span> <span class="hljs-title">AngleDir</span><span class="hljs-params">(Vector2 A, Vector2 B)</span>
    </span>{
        <span class="hljs-keyword">return</span> -A.x * B.y + A.y * B.x;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IUseForces</span>
</span>{<font></font>
    Transform Transform { get; }<font></font>
    Rigidbody RigidbodyForForce { get; }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> struct SpaceForces<font></font>
{<font></font>
    <span class="hljs-keyword">public</span> TypeOfForce TypeOfForce;
    <span class="hljs-keyword">public</span> Vector3 CenterOfObject;
    <span class="hljs-keyword">public</span> Vector3 Direction;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> Force;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> ColliderBound;
    <span class="hljs-keyword">public</span> bool IsAdded;<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは私が上で書いたものです-ある種の計算/複雑なロジックを実行する必要がある場合は、別のクラスに入れてください。</font><font style="vertical-align: inherit;">非常に単純なロジックがあります-ロケットに適用される力のリストがあります。</font><font style="vertical-align: inherit;">リストを反復処理し、それがどのような力であるかを調べ、特定の方法を適用します。</font><font style="vertical-align: inherit;">リストはイベントによって更新され、イベントは修飾子フィールドに出入りするときに発生します。</font><font style="vertical-align: inherit;">システムは非常に柔軟性があり、まずインターフェース（カプセル化）で動作します。修飾子のユーザーはロケット/プレイヤーだけではありません。</font><font style="vertical-align: inherit;">2番目に、ジェネリック-ニーズ/実験用にさまざまな子孫でIUseForcesを拡張し、このクラス/モデルを引き続き使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の部分は十分です。</font><font style="vertical-align: inherit;">2番目の部分では、イベントのシステム、依存関係の注入、入力コントローラー、ロケットクラス自体を検討し、それを起動してみます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja453032/index.html">私たちは大人の車を再生します-2：カーシェアリングのテレマティクスサプライヤーになり、世界中に5つのオフィスを開設した方法</a></li>
<li><a href="../ja453034/index.html">父親は3DプリンターとX-Boxを使用して息子の生体義肢を作成しました</a></li>
<li><a href="../ja453038/index.html">ソフトウェア無線-それはどのように機能しますか？パート4</a></li>
<li><a href="../ja453044/index.html">複雑に構造化されたドキュメント（+ビデオ）への待望のステップ</a></li>
<li><a href="../ja453046/index.html">PostgreSQLのインデックスのすべての機能を使用する</a></li>
<li><a href="../ja453058/index.html">AIは1つのフレームからビデオを作成することを学びました。古い絵を生き生きとさせることができます</a></li>
<li><a href="../ja453064/index.html">善への害：ヒトの脳癌との闘いにおけるランプリーの免疫系</a></li>
<li><a href="../ja453066/index.html">文字体裁UI-ユーザーインターフェイスを開発する新しい方法</a></li>
<li><a href="../ja453068/index.html">主観</a></li>
<li><a href="../ja453070/index.html">L-ロジック</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>