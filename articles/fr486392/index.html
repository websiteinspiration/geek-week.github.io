<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧓🏻 👭 🙌🏾 Une brève comparaison de l'architecture SDS ou la recherche d'une plate-forme de stockage appropriée (GlusterVsCephVsVirtuozzoStorage) 🏟️ 👨‍⚖️ 💙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est écrit pour vous aider à choisir la bonne solution pour vous-même et à comprendre les différences entre SDS telles que Gluster, Ceph et...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Une brève comparaison de l'architecture SDS ou la recherche d'une plate-forme de stockage appropriée (GlusterVsCephVsVirtuozzoStorage)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486392/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cet article est écrit pour vous aider à choisir la bonne solution pour vous-même et à comprendre les différences entre SDS telles que Gluster, Ceph et Vstorage (Virtuozzo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le texte utilise des liens vers des articles avec une description plus détaillée de certains problèmes, de sorte que les descriptions seront aussi brèves que possible en utilisant des points clés sans eau inutile et des informations de fond que vous pouvez obtenir indépendamment sur Internet si vous le souhaitez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, bien sûr, les sujets abordés nécessitent des tons de texte, mais dans le monde moderne, de plus en plus de gens n'aiment pas beaucoup lire))), vous pouvez donc lire rapidement et faire un choix, et s'il n'est pas clair de suivre les liens ou les mots incompréhensibles de google))), et cet article comme un emballage transparent pour ces sujets profonds, montrant le remplissage - les principaux points clés de chaque décision.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gluster</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commençons par Gluster, qui est activement utilisé par les fabricants de plates-formes hyperconvergées avec SDS basées sur l'open source pour les environnements virtuels et se trouve sur le site Web RedHat dans la section de stockage, où vous êtes proposé de choisir entre deux options SDS: Gluster ou Ceph. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gluster consiste en une pile de traducteurs - des services qui font tout le travail de distribution de fichiers, etc. Brick - un service qui dessert un disque, Volume - un volume (pool) - qui combine ces briques. Vient ensuite le service de distribution de fichiers en groupes grâce à la fonction DHT (table de hachage distribuée). Nous n'inclurons pas le service Sharding dans la description car les liens ci-dessous décrivent les problèmes qui lui sont associés.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ar/m8/vw/arm8vwgchcznki_ujp1dt3priec.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'enregistrement, le fichier entier se trouve dans la brique et sa copie est écrite en parallèle sur la brique du deuxième serveur. </font><font style="vertical-align: inherit;">De plus, le deuxième fichier sera déjà écrit dans le deuxième groupe de deux brik (ou plus) sur des serveurs différents.</font></font><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si les fichiers sont à peu près de la même taille et que le volume ne comprendra qu'un seul groupe, alors tout va bien, mais dans d'autres conditions, les problèmes suivants résulteront des descriptions: </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la place dans les groupes n'est pas utilisée uniformément, cela dépend de la taille des fichiers et s'il n'y a pas assez d'espace dans le groupe pour écrire le fichier, vous obtiendrez une erreur, le fichier ne sera pas écrit et ne sera pas redistribué à un autre groupe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lors de l'écriture d'un fichier, IO va à un seul groupe, les autres sont inactifs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous ne pouvez pas obtenir l'IO de l'intégralité du volume lors de l'écriture d'un seul fichier;</font></font></li>
<li>            ,         ,         .</li>
</ul> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'après la description officielle de l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">architecture, on</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comprend aussi involontairement que gluster fonctionne comme un stockage de fichiers au-dessus du RAID matériel classique. Il y a eu des tentatives de développement de fichiers Sharding en blocs, mais il s'agit d'un module complémentaire qui place les pertes de performances sur une approche architecturale existante, ainsi que l'utilisation de composants distribués librement avec des limitations de performances comme Fuse. Il n'y a pas de services de métadonnées, ce qui limite les capacités de stockage et de distribution des fichiers lors de la distribution de fichiers en blocs. De meilleures performances peuvent être observées avec la configuration «Distributed Replicated», et le nombre de nœuds doit être d'au moins 6 pour créer une réplique fiable de 3 avec une répartition de charge optimale.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces conclusions sont également liées à la description de l'expérience d'utilisation de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gluster</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et par rapport à </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ceph</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et il y a aussi une description de l'expérience pour arriver à une compréhension de cette configuration </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«répliquée distribuée»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus productive et plus fiable </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">.</font></a></font><br>
<img src="https://habrastorage.org/webt/p0/9-/jm/p09-jm28gt8dxygcveehbyejlic.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L'image montre la répartition de la charge lors de l'enregistrement de deux fichiers, où des copies du premier fichier sont disposées sur les trois premiers serveurs, qui sont combinées dans le groupe du volume 0 et trois copies du deuxième fichier tombent sur le deuxième volume du groupe 1 des trois serveurs. Chaque serveur possède un disque.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conclusion générale est que vous pouvez utiliser Gluster, mais en sachant qu'il y aura des limitations de performances et de tolérance aux pannes, ce qui crée des difficultés dans certaines conditions d'une solution hyperconvergée, où des ressources sont également nécessaires pour les charges de calcul des environnements virtuels.</font></font><cut> <br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe également certains indicateurs de performance Gluster qui peuvent être atteints dans certaines conditions en limitant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la tolérance aux pannes.</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ceph</font></font></h3><br>
  eph   ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Glusterfs  Ceph</a>,      Ceph     ,          . <br>
<br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">eph</a>    Gluster       ,                 .    ,    ,      (),   latency          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.</a><br>
 <br>
     CRUSH,       .   PG —     ( )  . PG   ,  CRUSH   .   PG —     -,    .    ,  ,     PG    . OSD –      .<cut><br>
<br>
<img src="https://habrastorage.org/webt/ir/rz/fe/irrzfeyfxqzlfjhfr_iiychlyns.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qo/n8/oy/qon8oylqdywi1t5oqycmt56ere4.jpeg"><br>
<br>
             .    -.  -  ,    .     ,   ,     -       - (      ).  ,        -,    —  ,    .              .<br>
<br>
   -        ,           ,       .                        .          ,     –          ( ,  ).     –     ,   .    -    ,          (  ),       ,      ,  Ceph      PG   self-healing   . ,  Ceph  (  ),     ,    .<cut><br>
 <br>
         -,           .    Ceph    Gluster  .          –    ,        linux,       ,   ,         . <br>
<br>
<h3>Vstorage</h3><br>
      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Virtuozzo storage(Vstorage)</a>,          ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>,      ,    .                     ,   .<br>
<br>
          kvm-qemu,      ,      :     FUSE(,  open source),   MDS (Metadata service),    Chunk service,           .          ,         SSD,    (erase coding  raid6)           all flash.  EC(erase coding)  :         .       eph   EC          ,      ,     Virtuozzo Storage       “log-structured file system”,      .         EC  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.</a> –          ,       .<br>
<br>
      ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> ,</a>      ,         . <br>
       eph  Virtuozzo storage.<br>
<br>
<img src="https://habrastorage.org/webt/nx/tb/nz/nxtbnzp3vy4zjmmtmqdl9dh6_ty.png"><br>
<br>
   Gluster  Ceph     ,      ,   Virtuozzo .                <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>      Vstorage             <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>  .<cut><br>
<br>
          ,         ,                 . <br>
 <br>
          :           (   FUSE),     (MDS)         (   CS),   MDS     ,       .           .  ,     256.<br>
<br>
<img src="https://habrastorage.org/webt/u1/w1/4i/u1w14ikksmnwh3lbbmy5uctj83k.png"><br>
<br>
   ,  -   ,       256.      ,         .…        SSD ,   (    ),          SSD,     SSD,    HDD,     .           SSD  .  ,      SSD           ,        Latency   ,   SSD,         .    ,    IOPS     Vstorage  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>,     ,     ,       ,    .. <br>
<br>
     SSD,  ,       ,        HDD.   (MDS)        ,     Paxos.       FUSE,    ,      ,              .<br>
<br>
        ,     ,   ,             .          .         SDS,  fuse   fast path  Virtuozzo Storage.     fuse     open source ,   IOPS-        .            ,             eph  Gluster. <br>
<br>
      :         Virtuozzo Storage,  Ceph   Gluster. <br>
 <br>
,    Virtuozzo Storage:     ,     Fuse  fast path,    ,         compute(/),       ,      .   Ceph,        Gluster,    ,            .<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les plans incluent un désir d'écrire une comparaison entre vSAN, Space Direct Storage, Vstorage et Nutanix Storage, tester Vstorage sur HPE, des équipements Huawei, ainsi que des scénarios pour intégrer Vstorage avec des systèmes de stockage matériels externes, donc si vous avez aimé l'article, ce serait bien d'obtenir des commentaires de votre part , ce qui pourrait renforcer la motivation pour de nouveaux articles, en tenant compte de vos commentaires et suggestions.</font></font></cut></cut></cut></cut></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr486392/">https://habr.com/ru/post/fr486392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr486378/index.html">Le serveur domestique à énergie solaire a fonctionné pendant 15 mois: disponibilité 95,26%</a></li>
<li><a href="../fr486380/index.html">Ce qu'un chef de produit devrait réellement faire</a></li>
<li><a href="../fr486382/index.html">Sceaux et mêlée</a></li>
<li><a href="../fr486388/index.html">Présentation du projet MyVPN Open Source Nonprofit</a></li>
<li><a href="../fr486390/index.html">Wright dans l'ombre</a></li>
<li><a href="../fr486394/index.html">Signets - y a-t-il une limite?</a></li>
<li><a href="../fr486396/index.html">React Native: un nouveau jalon dans le développement de Shopify Mobile</a></li>
<li><a href="../fr486400/index.html">Pour obtenir vos données personnelles, vous devez fournir encore plus de données personnelles</a></li>
<li><a href="../fr486402/index.html">Sauvegarde de la mort: nouvelles menaces et nouvelle protection pour le Global Cyber ​​Summit 2020</a></li>
<li><a href="../fr486404/index.html">La tâche de la livraison des marchandises</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>