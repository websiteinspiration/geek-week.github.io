<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëª ü§±üèø ‚öîÔ∏è Comprender las pol√≠ticas de red con Calico üç° üìÅ üçé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Calico Network Plugin proporciona una amplia gama de pol√≠ticas de red con una sintaxis unificada para proteger hosts en hardware, m√°quinas virtuales y...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comprender las pol√≠ticas de red con Calico</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nixys/blog/493282/"><img src="https://habrastorage.org/webt/ui/yk/5t/uiyk5t_l9nxqernjewtrtln6kaa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calico Network Plugin proporciona una amplia gama de pol√≠ticas de red con una sintaxis unificada para proteger hosts en hardware, m√°quinas virtuales y pods. Estas pol√≠ticas pueden aplicarse dentro del espacio de nombres o ser pol√≠ticas de red globales aplicables al </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">punto final</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> del </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">host</font></a><font style="vertical-align: inherit;"> (para proteger las aplicaciones que se ejecutan directamente en el host: el servidor o la m√°quina virtual pueden ser el host directamente) o al </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">punto final de la carga</font></a><font style="vertical-align: inherit;"> de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trabajo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(para proteger las aplicaciones que se ejecutan en contenedores o m√°quinas virtuales alojadas). Las pol√≠ticas de Calico le permiten aplicar medidas de seguridad a varios puntos en la ruta del paquete utilizando par√°metros como preDNAT, sin seguimiento y applyOnForward. Comprender c√≥mo funcionan estas opciones puede ayudar a mejorar la seguridad y el rendimiento del sistema en su conjunto. Este art√≠culo explica la esencia de estas configuraciones de pol√≠tica de Calico (preDNAT, sin rastrear y applyOnForward) aplicadas a los puntos finales del host, con √©nfasis en lo que sucede en las rutas de procesamiento de paquetes (cadenas iptabels).</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este art√≠culo asume que usted comprende c√≥mo funcionan las pol√≠ticas de red de Kubernetes y Calico. De lo contrario, le recomendamos que pruebe el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial b√°sico de pol√≠ticas de red</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial de protecci√≥n del host</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con Calico antes de leer este art√≠culo. Tambi√©n esperamos que tenga una comprensi√≥n b√°sica de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iptables</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en Linux. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Pol√≠tica de red global de</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Calico</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le permite aplicar un conjunto de reglas de acceso a etiquetas (para alojar grupos y cargas de trabajo / pods). Esto es muy √∫til si utiliza sistemas heterog√©neos juntos: m√°quinas virtuales, un sistema directamente en el hardware o la infraestructura de kubernetes. Adem√°s, puede proteger su cl√∫ster (nodos) utilizando un conjunto de pol√≠ticas declarativas y aplicar pol√≠ticas de red al tr√°fico entrante (por ejemplo, a trav√©s del servicio NodePorts o IP externas).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En un nivel fundamental, cuando Calico conecta un pod a una red (vea el diagrama a continuaci√≥n), lo conecta a un host usando una interfaz virtual Ethernet (veth). El tr√°fico enviado por pod llega al host desde esta interfaz virtual y se procesa como si viniera de una interfaz de red f√≠sica. Por defecto, Calico llama a estas interfaces caliXXX. Como el tr√°fico llega a trav√©s de la interfaz virtual, pasa a trav√©s de iptables, como si el pod estuviera a la distancia de un salto. Por lo tanto, cuando el tr√°fico viene / viene del pod, se reenv√≠a desde el punto de vista del host.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el nodo Kubernetes donde se ejecuta Calico, puede asignar la interfaz virtual (veth) a la carga de trabajo de la siguiente manera. En el siguiente ejemplo, puede ver que veth # 10 (calic1cbf1ca0f8) est√° conectado a cnx-manager- * en el espacio de nombres de monitoreo de calico.</font></font><br>
<br>
<pre><code class="plaintext hljs">[centos@ip-172-31-31-46 K8S]$ sudo ip a<font></font>
...<font></font>
10: calic1cbf1ca0f8@if4: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1440 qdisc noqueue state UP group default<font></font>
    link/ether ee:ee:ee:ee:ee:ee brd ff:ff:ff:ff:ff:ff link-netnsid 5<font></font>
    inet6 fe80::ecee:eeff:feee:eeee/64 scope link<font></font>
       valid_lft forever preferred_lft forever<font></font>
...<font></font>
<font></font>
[centos@ip-172-31-31-46 K8S]$ calicoctl get wep --all-namespaces<font></font>
...<font></font>
calico-monitoring cnx-manager-8f778bd66-lz45m                            ip-172-31-31-46.ec2.internal 192.168.103.134/32<font></font>
calic1cbf1ca0f8<font></font>
...</code></pre><br>
<img src="https://habrastorage.org/webt/j4/sz/k4/j4szk45ps1af4itowiylazzg-mm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que Calico crea una interfaz veth para cada carga de trabajo, ¬øc√≥mo aplica las pol√≠ticas? </font><font style="vertical-align: inherit;">Para hacer esto, Calico crea enlaces en varias cadenas de la ruta de procesamiento del paquete usando iptables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente diagrama muestra las cadenas involucradas en el procesamiento de paquetes en iptables (o el subsistema netfilter). </font><font style="vertical-align: inherit;">Cuando un paquete llega a trav√©s de una interfaz de red, primero pasa por la cadena PREROUTING. </font><font style="vertical-align: inherit;">Luego se toma una decisi√≥n de enrutamiento, y en base a esto, el paquete pasa a trav√©s de INPUT (dirigido a los procesos del host) o FORWARD (dirigido al pod u otro nodo en la red). </font><font style="vertical-align: inherit;">Desde el proceso local, el paquete pasa por la cadena de SALIDA y luego POSTROUTING antes de enviarlo por el cable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que pod tambi√©n es un objeto externo (conectado a veth) en t√©rminos de manejo de iptables. </font><font style="vertical-align: inherit;">Para resumir:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El tr√°fico reenviado (nat, enrutado a / desde el pod) pasa a trav√©s de las cadenas PREROUTING - FORWARD - POSTROUTING.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El tr√°fico al proceso de host local pasa por la cadena PREROUTING - INPUT.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El tr√°fico del proceso de host local pasa por la cadena de SALIDA - POSTROUTING.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/vo/8v/pj/vo8vpjpwprnf9w3wo4rc1rio9is.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calico ofrece opciones de pol√≠ticas para aplicar pol√≠ticas a todas las cadenas. </font><font style="vertical-align: inherit;">Con eso en mente, echemos un vistazo a las diversas configuraciones de pol√≠ticas disponibles en Calico. </font><font style="vertical-align: inherit;">Los n√∫meros en la lista de opciones a continuaci√≥n corresponden a los n√∫meros en el diagrama de arriba.</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica de punto final de carga de trabajo (pod)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica de punto final del host</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opci√≥n ApplyOnForward</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica de PreDNAT</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica sin seguimiento</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos por ver c√≥mo se aplican las pol√≠ticas a los puntos finales de carga de trabajo (pods Kubernetes o OpenStack VM), y luego veamos las opciones de pol√≠tica para los puntos finales de host.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puntos finales de carga de trabajo</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica de punto final de carga de trabajo (1)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta es una opci√≥n para proteger sus vainas de kubernetes. </font><font style="vertical-align: inherit;">Calico admite trabajar con Kubernetes NetworkPolicy, pero tambi√©n proporciona pol√≠ticas adicionales: Calico NetworkPolicy y GlobalNetworkPolicy. </font><font style="vertical-align: inherit;">Calico crea una cadena para cada pod (carga de trabajo) y se engancha a las cadenas INPUT y OUTPUT para la carga de trabajo a la tabla de filtros de la cadena FORWARD.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puntos finales de host</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica de punto final del host (2)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s de CNI (interfaz de red de contenedor), las pol√≠ticas de Calico brindan la capacidad de proteger directamente al host. En Calico, puede crear un punto final de host especificando una combinaci√≥n de la interfaz de host y, si es necesario, los n√∫meros de puerto. La aplicaci√≥n de pol√≠ticas para esta entidad se logra utilizando la tabla de filtro en las cadenas INPUT y OUTPUT. Como se puede ver en el diagrama, (2) se aplican a procesos locales en el nodo / host. Es decir, si cre√≥ una pol√≠tica que se aplica al punto final del host, no afectar√° el tr√°fico que va hacia / desde sus pods. Pero proporciona una √∫nica interfaz / sintaxis para bloquear el tr√°fico de su host y pods utilizando las pol√≠ticas de Calico. Esto simplifica enormemente el proceso de gesti√≥n de pol√≠ticas para una red heterog√©nea. La configuraci√≥n de pol√≠ticas de punto final de host para mejorar la protecci√≥n del cl√∫ster es otro caso de uso importante.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica ApplyOnForward (3)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La opci√≥n ApplyOnForward est√° disponible en la pol√≠tica de red global de Calico para permitir que las pol√≠ticas se apliquen a todo el tr√°fico que pasa por el punto final del host, incluido el tr√°fico que el host reenviar√°. </font><font style="vertical-align: inherit;">Este tr√°fico incluye ser enviado a un pod local o en cualquier otro lugar de la red. </font><font style="vertical-align: inherit;">Calico requiere que esta configuraci√≥n est√© habilitada para las pol√≠ticas que usan PreDNAT y sin seguimiento, consulte las siguientes secciones. </font><font style="vertical-align: inherit;">Adem√°s, ApplyOnForward se puede utilizar para rastrear el tr√°fico del host cuando se utiliza un enrutador virtual o software NAT.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que si necesita aplicar la misma pol√≠tica de red tanto para los procesos host como para los pods, entonces no tiene que usar la opci√≥n ApplyOnForward. </font><font style="vertical-align: inherit;">Solo necesita crear una etiqueta para el punto de alojamiento deseado y el punto final de carga de trabajo (pod). </font><font style="vertical-align: inherit;">Calico es lo suficientemente inteligente como para aplicar pol√≠ticas basadas en etiquetas, independientemente del tipo de punto final (punto de alojamiento o carga de trabajo).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica de PreDNAT (4)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En Kubernetes, los puertos de la entidad de servicio se pueden reenviar hacia afuera utilizando la opci√≥n NodePorts o, opcionalmente (cuando se usa Calico), declar√°ndolos a trav√©s de las opciones Cluster IP o IP externas. Kube-proxy equilibra el tr√°fico entrante vinculado al servicio a los pods del servicio correspondiente utilizando DNAT. Dado esto, ¬øc√≥mo aplica pol√≠ticas al tr√°fico que ingresa a trav√©s de NodePorts? Para que estas pol√≠ticas se apliquen antes de que DNAT procese el tr√°fico (que es una asignaci√≥n entre el host: puerto y el servicio correspondiente), Calico proporciona un par√°metro para globalNetworkPolicy llamado "preDNAT: verdadero".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando pre-DNAT est√° habilitado, estas pol√≠ticas se implementan en (4) en el diagrama, en la tabla de cambios de la cadena PREROUTING, inmediatamente antes de DNAT. Aqu√≠ no se respeta la pol√≠tica de pedidos habitual, ya que la aplicaci√≥n de estas pol√≠ticas se produce mucho antes en la ruta de procesamiento del tr√°fico. Sin embargo, las pol√≠ticas preDNAT respetan el orden de aplicaci√≥n entre ellas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al crear pol√≠ticas con anterioridad a DNAT, es importante tener en cuenta el tr√°fico que desea procesar y permitir que la mayor√≠a sea rechazada. El tr√°fico marcado como 'permitir' en la pol√≠tica anterior al DNAT ya no ser√° verificado por la pol√≠tica del punto de hospedaje, mientras que el tr√°fico cuando la pol√≠tica anterior al DNAT falle continuar√° fluyendo por el resto de las cadenas.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Calico hizo obligatorio habilitar la opci√≥n applyOnForward cuando se usa preDNAT, porque por definici√≥n el destino del tr√°fico a√∫n no se ha seleccionado. </font><font style="vertical-align: inherit;">El tr√°fico se puede dirigir al proceso del host, o se puede redirigir a un pod u otro nodo.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pol√≠tica sin seguimiento (5)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las redes y aplicaciones pueden tener grandes diferencias de comportamiento. En algunos casos extremos, las aplicaciones pueden generar muchas conexiones a corto plazo. Esto puede conducir a una falta de memoria para conntrack (el componente principal de la pila de red de Linux). Tradicionalmente, para ejecutar este tipo de aplicaci√≥n en Linux, debe configurar o deshabilitar manualmente conntrack, o escribir reglas de iptables para omitir conntrack. La pol√≠tica sin seguimiento en Calico es una opci√≥n m√°s simple y m√°s eficiente si desea procesar las conexiones lo m√°s r√°pido posible. Por ejemplo, si usa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcache</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> masivo </font><font style="vertical-align: inherit;">o como una medida adicional de protecci√≥n contra </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lea esta </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicaci√≥n de blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nuestra traducci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) para obtener m√°s informaci√≥n, incluidas las pruebas de rendimiento con la pol√≠tica sin seguimiento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando configura la opci√≥n "doNotTrack: true" en Calico globalNetworkPolicy, se convierte en una pol√≠tica ** sin seguimiento ** y se aplica en la etapa inicial de la canalizaci√≥n de procesamiento de paquetes de Linux. </font><font style="vertical-align: inherit;">Si observa el diagrama anterior, las pol√≠ticas sin seguimiento se aplican en las cadenas PREROUTING y OUTPUT en la tabla sin formato antes de iniciar el seguimiento de conexi√≥n (conntrack). </font><font style="vertical-align: inherit;">Cuando un paquete est√° permitido por una pol√≠tica no rastreada, se marca para deshabilitar el seguimiento de conexi√≥n para este paquete. </font><font style="vertical-align: inherit;">Significa:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se aplica una pol√≠tica sin seguimiento para cada paquete. </font><font style="vertical-align: inherit;">No existe el concepto de una conexi√≥n (o secuencia). </font><font style="vertical-align: inherit;">La falta de conexiones conlleva varias consecuencias importantes:</font></font></li>
<li>      ,    ,      ,     ( Calico   conntrack,      ).</li>
<li>  untracked    workload Kubernetes (pod‚Äô),            pod‚Äô.</li>
<li> NAT      (  ‚Äã‚Äã  NAT  conntrack).</li>
<li>    ¬´ ¬ª  untracked-      .     ,   ,         untracked- (         ).</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las pol√≠ticas sin seguimiento se aplican al comienzo de la canalizaci√≥n de procesamiento de paquetes. </font><font style="vertical-align: inherit;">Es muy importante entender esto al crear pol√≠ticas de Calico. </font><font style="vertical-align: inherit;">Puede tener una pol√≠tica para un pod con orden: 1 y una pol√≠tica sin seguimiento con orden: 1000. </font><font style="vertical-align: inherit;">No importar√°. </font><font style="vertical-align: inherit;">La pol√≠tica sin seguimiento se aplicar√° antes que la pol√≠tica para el pod. </font><font style="vertical-align: inherit;">Las pol√≠ticas sin seguimiento respetan el orden de ejecuci√≥n solo entre ellas.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido a que uno de los objetivos de la pol√≠tica doNotTrack es hacer cumplir la pol√≠tica en la etapa inicial del proceso de procesamiento de paquetes de Linux, Calico hace obligatorio especificar la opci√≥n applyOnForward cuando se usa doNotTrack. </font><font style="vertical-align: inherit;">En referencia al diagrama de procesamiento de paquetes, tenga en cuenta que la pol√≠tica sin seguimiento (5) se aplica antes de cualquier decisi√≥n de enrutamiento. </font><font style="vertical-align: inherit;">El tr√°fico se puede dirigir al proceso del host, o se puede redirigir a un pod u otro nodo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analizamos las diversas opciones de pol√≠tica (punto final de host, ApplyOnForward, preDNAT y Untracked) en Calico y c√≥mo se aplican al procesamiento de paquetes. </font><font style="vertical-align: inherit;">Comprender la esencia de su trabajo ayuda a desarrollar pol√≠ticas efectivas y seguras. </font><font style="vertical-align: inherit;">Con Calico, puede usar la pol√≠tica de red global, que se aplica a la etiqueta (un grupo de nodos y pods) y aplicar pol√≠ticas con varios par√°metros. </font><font style="vertical-align: inherit;">Esto permite a los especialistas en seguridad y dise√±o de redes proteger de forma conveniente "todo" (tipos de puntos finales) utilizando el mismo lenguaje de pol√≠ticas con las pol√≠ticas de Calico. </font></font><br>
<br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reconocimiento: Me gustar√≠a agradecer a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sean Crampton</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alex Pollitt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por su revisi√≥n y por su valiosa informaci√≥n.</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es493266/index.html">45 canales de youtube en ingl√©s para profesionales de TI</a></li>
<li><a href="../es493268/index.html">Pentester Aplicado</a></li>
<li><a href="../es493272/index.html">C√≥mo habilitar los documentos de Google sin conexi√≥n en el nuevo Microsoft Edge</a></li>
<li><a href="../es493274/index.html">M√°s de 30 recomendaciones profesionales concisas para desarrolladores de Android</a></li>
<li><a href="../es493278/index.html">¬øDebo fumar para protegerme contra el SARS-CoV-2?</a></li>
<li><a href="../es493284/index.html">Kubernetes 1.18: Resumen de las innovaciones clave</a></li>
<li><a href="../es493288/index.html">Cinco citas de programaci√≥n explicadas famosas</a></li>
<li><a href="../es493292/index.html">¬øResponsivo o receptivo? Estructura de componentes de an√°lisis de reacci√≥n</a></li>
<li><a href="../es493294/index.html">Miramos dentro del circuito integrado sovi√©tico con TTL</a></li>
<li><a href="../es493298/index.html">C ++, registros de metaprogramaci√≥n y microcontroladores</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>