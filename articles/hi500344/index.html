<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯзСтАНЁЯдЭтАНЁЯзС ЁЯРЖ ЁЯШЙ рдкрд╣рд┐рдпреЛрдВ рдкрд░ рд╕реНрдорд╛рд░реНрдЯ рдШрд░ ... рдРрд▓рд┐рд╕ред рднрд╛рдЧ 2. рдЬрд┐рдЧреНрдмреА ЁЯСХ тЧ╜я╕П ЁЯМ│</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЖрд╡рд╛рдЬ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд╕рд╛рде рдорд╣рд╛рдХрд╛рд╡реНрдп рдХреА рдирд┐рд░рдВрддрд░рддрд╛
 рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рдРрд▓рд┐рд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдЖрд╡рд╛рдЬ рдХреЛ MiLight рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд▓реЗрдХрд┐рди рдРрд╕реЗ рдирд┐рдпрдВрддреН...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдкрд╣рд┐рдпреЛрдВ рдкрд░ рд╕реНрдорд╛рд░реНрдЯ рдШрд░ ... рдРрд▓рд┐рд╕ред рднрд╛рдЧ 2. рдЬрд┐рдЧреНрдмреА</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500344/"><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд╡рд╛рдЬ рдирд┐рдпрдВрддреНрд░рдг рдХреЗ рд╕рд╛рде рдорд╣рд╛рдХрд╛рд╡реНрдп рдХреА рдирд┐рд░рдВрддрд░рддрд╛</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рдРрд▓рд┐рд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ, рдЖрд╡рд╛рдЬ рдХреЛ MiLight рдирд┐рдпрдВрддреНрд░рдХреЛрдВ рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд▓реЗрдХрд┐рди рдРрд╕реЗ рдирд┐рдпрдВрддреНрд░рдХ рд╣рд░ рдШрд░ рдореЗрдВ рдмрд┐рд▓реНрдХреБрд▓ рдирд╣реАрдВ рд╣реИрдВ, рдЬреЛ рд╣рдорд╛рд░реА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдмрд╣реБрдд рд╕реАрдорд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдЗрд╕рд▓рд┐рдП, рдореИрдВрдиреЗ рд╕рд╛рдзрд╛рд░рдг рд▓реИрдВрдк, рд▓реИрдВрдк, рдЭреВрдорд░ рдФрд░ рдЗрддрдиреЗ рдкрд░ рдЖрд╡рд╛рдЬ рдирд┐рдпрдВрддреНрд░рдг рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдорд╛рдирдХ рдкреНрд░рдХрд╛рд╢ рд╡реНрдпрд╡рд╕реНрдерд╛ рдХреЗ рдиреНрдпреВрдирддрдо рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд╕рд╛рдеред рдЗрд╕ рддрд░рд╣ рдХреА рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рднреА рдХреЛ ZigBee рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╕реНрдорд╛рд░реНрдЯ рд╕реНрд╡рд┐рдЪ рдФрд░ USB ZigBee рд╕рдордиреНрд╡рдпрдХ CC2531 рдХреА рд╕реНрдерд╛рдкрдирд╛ рдХреЗ рд╕рд╛рде рдкрд╛рд░рдВрдкрд░рд┐рдХ рд╕реНрд╡рд┐рдЪ рдХрд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╣реИред рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдкрд┐рдЫрд▓реЗ рд▓реЗрдЦ рд╕реЗ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рд╕реНрдорд╛рд░реНрдЯ рдпреИрдВрдбреЗрдХреНрд╕ рдХреЙрд▓рдо рдФрд░ рдПрдХ рдЕрдиреБрдХреВрд▓рд┐рдд рдЧрдбрд╝рдмрдбрд╝ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CC2531 рдХреА рд▓рд╛рдЧрдд 250 рд░реВрдмрд▓, рдЗрд╕рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ CC-Debugger рдЯреЗрдХреНрд╕рд╛рд╕ рдЗрдВрд╕реНрдЯреНрд░реВрдореЗрдВрдЯ - 500 рд░реВрдмрд▓ред рд▓рд┐рд╡реЛрд▓реЛ рд╡реАрдПрд▓- C701Z-11 рдЯрдЪ рд╕реНрдорд╛рд░реНрдЯ рд╕реНрд╡рд┐рдЪ рд╕рдмрд╕реЗ рдорд╣рдВрдЧреЗ рдереЗ - рд▓рдЧрднрдЧ 2000 рд░реВрдмрд▓ рдПрдкрд┐рд▓, рдФрд░ рдереЛрдбрд╝реА рджреЗрд░ рдмрд╛рдж 2000 рдХреЗ рдЖрд╕рдкрд╛рд╕ рдЕрдХрд╛рд░рд╛ рд╡реЙрд▓ рд╕реНрд╡рд┐рдЪ рдЬрд╝рд┐рдЧрдмреА рдмрдЯрди рд╕реНрд╡рд┐рдЪ рднреА рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛ред</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ, рдореИрдВрдиреЗ рдорд╛рд▓рд┐рдХрд╛рдирд╛ ZigBee рдЧреЗрдЯрд╡реЗ рд░рд╛рдЙрдЯрд░ Livolo C700ZW-12 рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрд╡рд┐рдЪ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдИ, рдЗрд╕реЗ рдЦреБрд▓реЗ рд╣рдм рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ рдФрд░ yandex2mqtt рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдРрд▓рд┐рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд▓рд╛рдиреЗ рджреЗрдВред рдореИрдВрдиреЗ рдЧреНрд░рдВрдерд┐рдпреЛрдВ рдХреЛ рдмрд┐рдЬрд▓реА рд╕реЗ рдЬреЛрдбрд╝рд╛, рдлреЛрди рдкрд░ рд▓рд┐рд╡реЛрд▓реЛ рд╕реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗрдЯ рдХрд┐рдпрд╛ред рдореИрдВрдиреЗ рдЧреЗрдЯрд╡реЗ рд╕реНрд╡рд┐рдЪ рджреЗрдЦрд╛, рдХрдиреЗрдХреНрдЯ рдХрд┐рдпрд╛, рдФрд░ рд╕рдм рдХреБрдЫ рдлреЛрди рд╕реЗ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд┐рдпрд╛ред рд▓реЗрдХрд┐рди рд░рд╛рдЙрдЯрд░ рдХреЗ рд╕рд╛рде рдУрдкрди рд╣рдм рдХреЛ рдУрдкрди рд╣рдм рдореЗрдВ рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреА рдХрдореА рдХреЗ рдХрд╛рд░рдг рд╡рд┐рд▓рдп рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореБрдЭреЗ рдЧреЗрдЯрд╡реЗ рдХреЛ рдЫреЛрдбрд╝рдирд╛ рдкрдбрд╝рд╛ рдФрд░ рд╕реНрд╡рд┐рдЪ рдХреЛ рд╕реАрдзреЗ CC2531 рдбреЛрдВрдЧрд▓ рдХреЗ рд╕рд╛рде рдорд┐рд▓рд╛рдирд╛ рдкрдбрд╝рд╛ред рдФрд░ рдпрд╣рд╛рдБ </font><font style="vertical-align: inherit;">рджреЛрд╕реНрдд Koenkk рд╕реЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zigbee2mqtt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░рд┐рдпреЛрдЬрдирд╛ рдиреЗ рдЗрд╕рдХреЗ рд╕рд╛рде рдорджрдж рдХреА </font><font style="vertical-align: inherit;">ред рдирддреАрдЬрддрди, рд╣рдо ZigBee рд╕рдордиреНрд╡рдпрдХ рдХреЛ рд╕реНрдорд╛рд░реНрдЯ рд╕реНрд╡рд┐рдЪ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣реЗ, рдкрд╣рд▓реЗ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП mqtt рд╡рд┐рд╖рдп рдореЗрдВ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдирдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ, рдФрд░ рдлрд┐рд░ рдРрд▓рд┐рд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рдпрдВрддреНрд░рдг рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рд╕реЗрдЯрдЕрдк рдХреИрд╕реЗ рд╣реБрдЖ: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font><font style="vertical-align: inherit;">рд╕рдордиреНрд╡рдпрдХ рдХреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд░реНрдорд╡реЗрдпрд░ рдХреЗ рд╕рд╛рде</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CC2531 рд╕реНрдирд┐рдлрд░ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдХреЛ</font></a><font style="vertical-align: inherit;"> рдлреНрд▓реИрд╢ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдЗрд╕реЗ рдпреВрдПрд╕рдмреА рдкреЛрд░реНрдЯ рдореЗрдВ рдкреНрд▓рдЧ рдХрд░реЗрдВред рдмрд┐рдЬрд▓реА рдХреА рдХрдореА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдХрдо рд╕реЗ рдХрдо 2A рдХреЛ 5V рдмрд┐рдЬрд▓реА рдХреА рдЖрдкреВрд░реНрддрд┐ рд╕реЗ рдЬреЛрдбрд╝рдирд╛ рдмреЗрд╣рддрд░ рд╣реИред рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕реНрдЯрд┐рдХ рдХрд╛ рд╕рд╣реА рдкрддрд╛ рд▓рдЧрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: ls -l / dev / serial / by-id рдХреБрдЫ рдРрд╕рд╛ рджрд┐рдЦрд╛рдПрдЧрд╛ рдЬреИрд╕реЗ usb-Texas_Instenders_TI_CC2531_USB_CDC ___ 0X00124.1458ED3DDF-if00 -&gt; ..///ACACM0ред рдпрджрд┐ рдЙрддреНрдкрд╛рджрди рдХреЗ рдЕрдВрддрд┐рдо рдЯреБрдХрдбрд╝реЗ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ "-&gt; ../../ttyACM0" рд╣реИ рддреЛ рдпрд╣ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рдПрдХ рдЫрдбрд╝реА рдЗрд╕ рднрд╛рдЧ рдХреЗ рдмрд┐рдирд╛ рддрдп рдХрд░ рд╕рдХрддреА рд╣реИ рдФрд░ рдХреБрдЫ рднреА рдХрд╛рдо рдирд╣реАрдВ рдХрд░реЗрдЧреАред рдЫрдбрд╝реА рдХреЛ рдЪрдордХрд╛рдиреЗ рд╕реЗ рдореБрдЭреЗ рдЗрд╕ рддрд░рд╣ рдХреА рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рдкрдбрд╝рд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zigbee2mqtt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">, рд▓реЗрдХрд┐рди рд╢реБрд░реВ рди рдХрд░реЗрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ /opt/zigbee2mqtt/data/configuration.yaml рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рддрдереНрдп рдпрд╣ рд╣реИ рдХрд┐ рд▓рд┐рд╡реЛрд▓реЛ рд╕реНрдорд╛рд░реНрдЯ рд╕реНрд╡рд┐рдЪ 26 рдЪреИрдирд▓ рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЗрд╕ рдЪреИрдирд▓ рдХреЛ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред рдФрд░ рдлрд╝рд╛рдЗрд▓ рдХреА рд▓рд╛рдЗрдиреЛрдВ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд░рд┐рдХреНрдд рд╕реНрдерд╛рди рдХреА рд╕рдВрдЦреНрдпрд╛ рдкрд░ рдзреНрдпрд╛рди рджреЗрдирд╛ рднреА рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХреЗ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YAML рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдХрд╛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рд╕рд╣реА рдврдВрдЧ рд╕реЗ рдкрдВрдЬреАрдХреГрдд рд╣реЛрдиреЗ рдФрд░ рдбреЛрдВрдЧрд▓ рдЕрдЯрдХ рдЬрд╛рдиреЗ рдХреЗ рдмрд╛рдж, zigbee2mqtt рдЪрд▓рд╛рдПрдВред рдлрд┐рд░ рд╣рдо рд╕реНрд╡рд┐рдЪ рдХреЗ рд▓рд┐рдП рд╕реНрдЯрдВрдк рдХрд░рддреЗ рд╣реИрдВ, рдкреЗрдпрд░рд┐рдВрдЧ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдХрдВрд╕реЛрд▓ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВред рдбреЗрдЯрд╛ рд╡рд┐рдирд┐рдордп рдХреА рдПрдХ рдкрдВрдХреНрддрд┐ рд╣реЛрдЧреА, рдбрд┐рд╡рд╛рдЗрд╕реЛрдВ рдХреЗ рдмреАрдЪ рдЖрдкрд╕реА рд░рд╕реНрд╕рд╛рдХрд┐рд░рд╡рд╛рдирд┐рдпрд╛ рдФрд░ рдЕрдВрдд рдореЗрдВ рдРрд╕рд╛ рдХреБрдЫ рд╣реЛрдЧрд╛ </font></font><code>MQTT publish: topic 'zigbee2mqtt/0x001*********a8c9', payload '{"state_left":"OFF","state_right":"OFF","linkquality":60}'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:ред рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╕реНрд╡рд┐рдЪ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ рдФрд░ рдЗрд╕рдХреА рд╕реНрдерд┐рддрд┐ рднреЗрдЬреА рдЧрдИ рд╣реИред рдпрджрд┐ рдЖрдк рдХреБрдЫ рдФрд░ рдХрдВрд╕реЛрд▓ рдЪрд▓рд╛рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк mqtt-topic рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░рдХрд╛рд╢ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: рдмрдВрдж рдХрд░реЗрдВ</font></font><code>- mosquitto_pub -d -h localhost -t zigbee2mqtt/0x001*********a8c9/left/set -m OFF -u a**** -P *****</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдмрд╛рд░реА - </font></font><code>mosquitto_pub -d -h localhost -t zigbee2mqtt/0x001*********a8c9/left/set -m ON -u a**** -P *****</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ рдЖрдк рдЯреАрдо рдХреЛ рдЯреЛрдкреЗрдХрд╛ рдореЗрдВ рднреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ </font></font><code>mosquitto_sub -d -h localhost -t zigbee2mqtt/0x001*********a8c9/left/set -u a**** -P *****</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред рд╡реИрд╕реЗ, рд▓рд┐рд╡реЛрд▓реЛ рдФрд░ рдЕрдХрд╛рд░рд╛ рдХреЗ рд▓рд┐рдП, рд╡рд┐рд╖рдп рди рдХреЗрд╡рд▓ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ 0x0 ..., рдмрд▓реНрдХрд┐ рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рднреА рднрд┐рдиреНрди рд╣реИрдВред рд╕рдорд░реНрдерд┐рдд рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╖рдпреЛрдВ рдХреА рд╕рдВрд░рдЪрдирд╛ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рд╣реИ</font></a><font style="vertical-align: inherit;"> ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. рд╣рдордиреЗ рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж рдХрд┐ рд╣рдо mqtt рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдо рд╕рдм рдХреБрдЫ рдпреИрдВрдбреЗрдХреНрд╕ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝ рджреЗрдВрдЧреЗред рдХреБрдЫ рдмрд╛рд░реАрдХрд┐рдпрд╛рдБ рдпрд╣рд╛рдБ рджрд┐рдЦрд╛рдИ рджреА рд╣реИрдВред рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ zigbee2mqtt рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЖрдЬреНрдЮрд╛ ON / OFF рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдИ, рдФрд░ yandex2mqtt рдХреЗ рд░реВрдк рдореЗрдВ рдпрд╣ рдирд┐рдХрд▓рд╛ 1/0 рджреЗрддрд╛ рд╣реИред рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рдорд╛рдзрд╛рди yandex2mqtt рдореЗрдВ /mnt/data/root/yandex2mqtt/device.js рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░рдирд╛ рдерд╛ред рдХреНрдпрд╛ рдЖрдкрдХреЛ "рдЪрд╛рд▓реВ" рдорд╛рдорд▓реЗ рдореЗрдВ рд╕реНрд╡рд┐рдЪ рдореЗрдВ int = val рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ? '1' рдХреЗ рдмрдЬрд╛рдп 'on': 'off': '0'ред рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рд╕реНрд╡рд┐рдЪрд┐рдВрдЧ рдХрдорд╛рдВрдб рдХреЛ рд╕рдВрдмрдВрдзрд┐рдд рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ рдЦреБрд▓реЗ рд╣рдм рдореЗрдВ рдареАрдХ рдХрд░рдирд╛ рдкрдбрд╝рд╛ред рдЗрд╕рдХреЗ рдмрд┐рдирд╛, рджреВрдзрд┐рдпрд╛ рд░реЛрд╢рдиреА рдкрд░ рдХрд╛рдо рдХрд░рдирд╛ рдмрдВрдж рд╣реЛ рдЬрд╛рддрд╛ред рдФрд░ рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рд╡рд╣реАрдВ рд╕рд╛рдордиреЗ рдЖрдИ - рдЪреВрдВрдХрд┐ yandex2mqtt рдФрд░ zigbee2mqtt рд╕реНрдерд╛рдиреАрдп mqtt рд╕рд░реНрд╡рд░ рдкрд░ рд╕рдм рдХреБрдЫ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ zenbee рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЦреБрд▓реЗ рд╣рдм рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИредрдмрдВрдбрд▓ рд╕реАрдзреЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ - yandex (рдРрд▓рд┐рд╕) -yandex2mqtt-mqtt-zigbee2mqtt-device zigbeeред рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ рднреА рдХрд┐рд╕реА рддрд░рд╣ред рд▓реЗрдХрд┐рди рдЪрд▓реЛ рдЬрд╛рд░реА рд░рдЦреЗрдВред рд╣рдо рдирдП рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╡рд╛рдЗрд╕ рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ /mnt/data/root/yandex2mqtt/config.js рдореЗрдВ рдбрд┐рд╡рд╛рдЗрд╕ рдирд┐рдпрдВрддреНрд░рдг рд╡рд┐рд╖рдп рдХреЛ рдлрд╝рд╛рдЗрд▓ рдХрд░реЗрдВрдЧреЗ, рдпреИрдВрдбреЗрдХреНрд╕ рд╕рдВрд╡рд╛рдж рдкреНрд░рдгрд╛рд▓реА рдореЗрдВ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рд╕реВрдЪреА рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВ рдФрд░ рдЖрдк рд▓рд╛рдЗрдЯ рдХреЛ рдЪрд╛рд▓реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдРрд▓рд┐рд╕ рдХреЛ рдХрд┐рдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. Xiaomi рд╕реЗрдВрд╕рд░, рдПрдХ рд▓реАрдХреЗрдЬ рд╕реЗрдВрд╕рд░ рдФрд░ рдПрдХ рддрд╛рдкрдорд╛рди / рдЖрд░реНрджреНрд░рддрд╛ / рджрдмрд╛рд╡ рд╕реЗрдВрд╕рд░ рдХреА рдПрдХ рдЬреЛрдбрд╝реА рдХреЛ рд╕рд┐рд╕реНрдЯрдо рд╕реЗ рдЬреЛрдбрд╝рдирд╛ рднреА рд╕рдВрднрд╡ рдерд╛ред </font><font style="vertical-align: inherit;">рд╡реЗ 2032 рдмреИрдЯрд░реА рдкрд░ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВред рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдЙрдиреНрд╣реЗрдВ рдирд┐рдпрдВрддреНрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╡реЗ рд╕рдордп-рд╕рдордп рдкрд░ рдЬрд╛рдирдХрд╛рд░реА </font></font><code>#033[32mzigbee2mqtt:info #033[39m 2020-05-04 21:12:21: MQTT publish: topic 'zigbee2mqtt/0x0015************', payload '{"battery":91,"voltage":2985,"temperature":26.2,"humidity":28.65,"pressure":1006.9,"linkquality":52}' -   #  #033[32mzigbee2mqtt:info #033[39m 2020-05-04 21:21:07: MQTT publish: topic 'zigbee2mqtt/0x001************7', payload '{"battery":100,"voltage":3025,"linkquality":0,"water_leak":true}' </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рд▓реАрдХ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рдЬреИрд╕реЗ </font><font style="vertical-align: inherit;">рдХрд┐ рдПрдХ рдЧрд┐рд▓рд╛рд╕ рдкрд╛рдиреА </font><font style="vertical-align: inherit;">рдореЗрдВ </font><font style="vertical-align: inherit;">рд░рд┐рд╕рд╛рд╡ рд╕реЗрдВрд╕рд░ред </font><font style="vertical-align: inherit;">рдЕрдм рддрдХ, рдХреЛрдИ рд╡рд┐рд╢реЗрд╖ рд▓рд╛рдн рдирд╣реАрдВ рд╣реБрдЖ рд╣реИ, рд▓реЗрдХрд┐рди рдпрджрд┐ рдпрд╣ рд╕рдм рдУрдЯрдкрд░реНрд╕рд┐рдЯ рд╣реИ рдФрд░ рдХреБрдЫ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рд╢реАрд▓ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдХреБрдЫ рд╡реЗрдм рдереВрдерди рдкрд░ рдПрд╕рдПрдордПрд╕ рдпрд╛ рдЕрдВрдХ рднреЗрдЬрдирд╛ рд╣реИ, рддреЛ рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рд╡реАрдбрд┐рдпреЛ:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Pb8veRpRMTY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/9uNynR_LL-o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi500332/index.html">4 рдордИ рдЬрд╛рд╡рд╛ рдбрд╛рдЗрдЬреЗрд╕реНрдЯ</a></li>
<li><a href="../hi500334/index.html">рдкрд╛рдпрд▓рдЯ рдмреНрд░рджрд░реНрд╕ рдореЗрдВ рдЯреНрд╡рд┐рд╕реНрдЯ рдпрд╛ рдлреНрд░рд┐рдЬ</a></li>
<li><a href="../hi500336/index.html">рднрд╛рдЧ 2: рдореЙрдбреНрдпреВрд▓ рдФрд░ AppStoreред ESPboy - IoT рдХреЗ рд╕рд╛рде рд░реЗрдЯреНрд░реЛ рдЧреЗрдо рдФрд░ рдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдЧреИрдЬреЗрдЯ</a></li>
<li><a href="../hi500338/index.html">[рдЕрдиреБрд╡рд╛рдж] рдмрдВрдж рдХреБрд▓реНрд▓рд╛</a></li>
<li><a href="../hi500342/index.html">рдкреЙрдбрдХрд╛рд╕реНрдЯ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ "рд╕рдорд┐рддрд┐", "Habr" рдФрд░ Sports.ru рд╣реИ</a></li>
<li><a href="../hi500346/index.html">рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рдореЗрдВ рдбреАрдПрдирдПрд╕ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдПрдВред рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкреЛрд╕реНрдЯрдорд╛рд░реНрдЯрдо</a></li>
<li><a href="../hi500352/index.html">рдлреЗрд╕рдмреБрдХ рдкрд░ рдЗрдВрдЯрд░реНрдирд╢рд┐рдк рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рд▓рдВрджрди рдореЗрдВ рдПрдХ рдкреНрд░рд╕реНрддрд╛рд╡ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ? рдПрдХ рдлреЗрд╕рдмреБрдХ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╕реЗ рдПрдХ рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдВ</a></li>
<li><a href="../hi500354/index.html">Google рдЯреИрдЧ рдкреНрд░рдмрдВрдзрдХ рдореЗрдВ рдбреЗрдЯрд╛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдирдпрд╛ рддрд░реАрдХрд╛ - рд╕рд░реНрд╡рд░-рд╕рд╛рдЗрдб рдЯреИрдЧрд┐рдВрдЧ</a></li>
<li><a href="../hi500356/index.html">WebRTC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рдкреНрд░рддреНрдпрдХреНрд╖ рдлрд╝рд╛рдЗрд▓ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг</a></li>
<li><a href="../hi500360/index.html">рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдПрд╕рдХреНрдпреВрдПрд▓ рдордзреНрдпрдо рдХрдард┐рдирд╛рдИ рд╡рд╛рд▓реЗ рдкреНрд░рд╢реНрди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>