<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🤝‍👩🏼 👩🏽‍🚀 🚵🏻 Arquivamento de e-mail no Zimbra Collaboration Suite Open-Source Edition 🛫 🌒 📛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O arquivamento de mensagens com a capacidade de visualizá-las no futuro é uma função importante para grandes empresas. Ele pode ser usado para lidar c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Arquivamento de e-mail no Zimbra Collaboration Suite Open-Source Edition</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/505468/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O arquivamento de mensagens com a capacidade de visualizá-las no futuro é uma função importante para grandes empresas. Ele pode ser usado para lidar com várias reclamações, conduzir investigações e em várias outras situações. Esse recurso também é útil para os provedores de SaaS se protegerem caso um usuário sem escrúpulos use seu serviço para cometer ações ilegais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Especialmente para esses fins, foi criado o plug-in de Arquivamento e Descoberta do Zimbra, que permite arquivar cartas de saída e entrada em cada caixa de correio e até mesmo cartas armazenadas em mensagens de rascunho. No entanto, esta decisão não é isenta de desvantagens. Em primeiro lugar, ele funciona apenas com o Zimbra Collaboration Suite Network Edition pago e, em segundo lugar, funciona apenas na estrutura do cliente Web e, ao usar clientes de email para desktop ou celular, não arquiva nada. Nesse sentido, informaremos sobre como implementar o arquivamento de mensagens recebidas e enviadas na edição de código-fonte gratuito ZImbra Collaboration Suite. que, além disso, arquivará as cartas enviadas de qualquer cliente de email.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/xi/ie/opxiieyaijocgswpkt2td6f4-u0.png" alt="imagem"><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O arquivamento de mensagens é implementado por meio da função Postfix BCC interna. </font><font style="vertical-align: inherit;">Funciona da seguinte forma: o administrador do sistema define o endereço de email de arquivo morto para a caixa de correio, insira determinadas configurações, após as quais cada letra recebida e enviada será copiada para o arquivo morto, na qual você poderá encontrar posteriormente a letra de que precisa. </font><font style="vertical-align: inherit;">Recomendamos a criação de um domínio separado para o arquivo morto. </font><font style="vertical-align: inherit;">Isso simplificará bastante o gerenciamento de caixas de correio de arquivo morto no futuro.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivando emails de saída</font></font></h4><br>
<img src="https://habrastorage.org/webt/zt/le/ip/ztleipulglmkhl7kgwyrlafhd7a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos configurar o arquivamento de cartas enviadas. Por exemplo, pegue a conta manager@company.ru e faça uma caixa de correio de arquivo morto manager@archive.company.ru para ela. Para que o correio de saída seja arquivado, é necessário fazer várias alterações nas configurações do Postfix. Para fazer isso, abra o arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/opt/zimbra/postfix/conf/main.cf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e adicione a linha </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sender_bcc_maps = lmdb: / opt / zimbra / postfix / conf / sender_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao final </font><font style="vertical-align: inherit;">. Depois disso, você precisa criar o arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ opt / zimbra / postfix / conf / sender_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e adicionar as caixas de correio que planeja arquivar nele, bem como as caixas de correio para as quais as cartas arquivadas serão enviadas. É possível arquivar várias caixas de correio em uma. Isto se faz do seguinte modo:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manager@company.ru manager@archive.company.ru </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sales@company.ru manager@archive.company.ru </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
support@company.ru support@archive.company.ru</font></font></blockquote><br>
<img src="https://habrastorage.org/webt/zt/le/ip/ztleipulglmkhl7kgwyrlafhd7a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois que todas as caixas de correio foram adicionadas, tudo o que você precisa fazer é executar o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comando postmap / opt / zimbra / postfix / conf / sender_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e recarregar o Postfix usando o comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postfix reload</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Como segue nosso exemplo, após uma reinicialização, todas as cartas enviadas das contas manager@company.ru e sales@company.ru serão enviadas para a mesma caixa de correio manager@archive.company.ru e as cartas enviadas da conta support@company.ru serão arquivadas na caixa de correio support@archive.company.ru</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquivando e-mails recebidos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora configure o arquivamento automático dos emails recebidos. Você pode usar o mesmo Postfix BCC para isso. Como no caso de arquivar mensagens de saída, você precisa abrir o arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/opt/zimbra/postfix/conf/main.cf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e adicionar a linha </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">destinatário_bcc_maps = lmdb: / opt / zimbra / postfix / conf / destinatário_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Depois disso, você precisa criar o arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ opt / zimbra / postfix / conf / destinatário_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e adicionar os endereços de email necessários no formato anterior. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/uj/b8/feujb8otepa2ydyonxn_fsex8p0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de adicionar as caixas, você precisa executar o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comando postmap / opt / zimbra / postfix / conf / destinatário_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e reiniciar o Postfix usando o comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postfix reload</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Agora, todas as cartas recebidas das contas manager@company.ru e sales@company.ru serão arquivadas na caixa de correio manager@archive.company.ru, e as cartas recebidas da conta support@company.ru serão copiadas para a caixa de correio support@archive.company .ru. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/pe/wk/gipewkvtnhw-mavnwqt1qp8dhws.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de filtragem de mensagens recebidas</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Deve-se observar que sempre que você adiciona ou remove endereços de email nas listas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ opt / zimbra / postfix / conf / sender_bcc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ opt / zimbra / postfix / conf / destinatário_bcc,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> você deve executar o comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postmap novamente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mostrando a lista modificada e reinicie o Postfix. Também recomendamos que você use filtros de correio do Zimbra OSE com base no nome do remetente e do destinatário, para que as mensagens recebidas e enviadas sejam classificadas em pastas e, posteriormente, será mais fácil encontrar a mensagem que você precisa. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5f/gl/dd/5fglddcvjyzgdpxjtuxsrte1gew.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemplo de filtragem de mensagens enviadas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Para pesquisar letras nos arquivos de mensagens criados, você pode usar posteriormente a pesquisa integrada do Zimbra OSE. Observe também que o tempo de armazenamento de emails no arquivo morto é muito maior do que na conta, o que significa que eles precisam definir uma cota aumentada, além de uma política de retenção por um período mais longo. Caso você tenha caixas de correio de arquivo morto em um domínio separado, será muito mais fácil fazer isso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para todas as perguntas relacionadas ao Zextras Suite, você pode entrar em contato com o representante da empresa "Zextras" Ekaterina Triandafilidi pelo e-mail katerina@zextras.com</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt505452/index.html">A evolução dos cartões bancários: de metal em metal</a></li>
<li><a href="../pt505456/index.html">Por que as impressoras colocam pontos invisíveis nos documentos</a></li>
<li><a href="../pt505458/index.html">Como entender o aprendizado de máquina se você não é um grande matemático</a></li>
<li><a href="../pt505460/index.html">Pague pelo treinamento com a codificação: solteiros russos podem ganhar uma bolsa para estudar para um mestrado na Suíça</a></li>
<li><a href="../pt505462/index.html">Micro data center: por que precisamos de data centers em miniatura?</a></li>
<li><a href="../pt505470/index.html">Notas do gerente de conhecimento. Como o Exness Knowledge Management funciona</a></li>
<li><a href="../pt505472/index.html">Postagem útil: instale o OpenShift, aprenda Kafka, use o Ansible no Google Cloud Platform</a></li>
<li><a href="../pt505476/index.html">API CRUD no Deno e PostegreSQL: trabalhando com um dinossauro</a></li>
<li><a href="../pt505478/index.html">Substituindo um sistema CRM por um sistema CRM</a></li>
<li><a href="../pt505488/index.html">12 dicas para implementar o TypeScript em aplicativos React</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>