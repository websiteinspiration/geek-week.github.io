<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÖøÔ∏è üîô üë©üèΩ‚Äçüî¨ Cr√©er un effet crayon en SVG ü§∞üèæ üåò üéª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mon jeu Dragons Abound cr√©e des cartes au format graphique vectoriel SVG. Les graphiques vectoriels ont de nombreuses fonctionnalit√©s (par exemple, un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cr√©er un effet crayon en SVG</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489756/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mon jeu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dragons Abound</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cr√©e des cartes au format graphique vectoriel SVG. </font><font style="vertical-align: inherit;">Les graphiques vectoriels ont de nombreuses fonctionnalit√©s (par exemple, un zoom sans perte), ce qui est pratique pour les cartes. </font><font style="vertical-align: inherit;">En outre, les graphiques vectoriels sont bons pour cr√©er des lignes claires, telles que les contours d'encre:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6d/6b6/ea6/d6d6b6ea632c1ddcdef393187359d408.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En revanche, les graphiques vectoriels ne sont pas tr√®s bons pour cr√©er des textures avec de petits d√©tails non r√©p√©titifs. Dans les graphiques vectoriels, chaque √©l√©ment rendu est repr√©sent√© par une description de sa taille, sa forme, son emplacement, sa couleur, etc. Afin de pr√©senter de nombreux petits d√©tails non r√©p√©titifs, il est n√©cessaire de d√©crire un grand nombre d'√©l√©ments. Par exemple, pour une ligne de crayon</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51c/7e4/39a/51c7e439abd2bbaa79e13d2aaeb158f5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
des dizaines de milliers d'√©l√©ments diff√©rents seront n√©cessaires. En fait, chaque point gris de l'image sera d√©fini s√©par√©ment. D'autres √©l√©ments, comme les images floues, sont encore plus probl√©matiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'une limitation assez grave des graphiques vectoriels, donc des astuces ont √©t√© ajout√©es √† SVG qui vous permettent de reproduire plus efficacement certains de ces effets de texture. J'explorerai certaines de ces fonctionnalit√©s SVG pour cr√©er un effet de ligne de crayon. Bien s√ªr, il existe de nombreuses solutions plus complexes pour recr√©er des lignes de crayon. </font><font style="vertical-align: inherit;">Des articles scientifiques entiers ont √©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©crits</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur ce sujet </font><font style="vertical-align: inherit;">. Mais j'esp√®re juste cr√©er un filtre assez simple qui fournira un r√©sultat acceptable.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme toujours, je pr√©f√©rerais emprunter ou modifier un filtre cr√©√© par quelqu'un de plus talentueux que moi, mais dans ce cas, il y avait une p√©nurie incroyable de filtres √† crayons vectoriels qui peuvent √™tre utilis√©s pour l'inspiration. (Une musique d'avertissement inqui√©tante retentit: il peut y avoir des raisons √† cela.) Par cons√©quent, en fait, je ne peux compter que sur moi-m√™me. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus t√¥t,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©crit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur les possibilit√©s de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dragons Abound</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour cr√©er des lignes "manuscrites". Fondamentalement, j'ai envisag√© la possibilit√© d'√©viter les lignes droites math√©matiquement et de cr√©er des lignes avec de l√©g√®res d√©viations qui ressemblent plus √† ce qui pourrait √™tre dessin√© par la main d'une personne. Au d√©but de l'article, des exemples d'illustrations de montagnes sont pr√©sent√©s. Pour cr√©er un style d'illustration √† l'encre, cela suffit, mais ne convient pas pour cr√©er une ligne de crayon, car il manque une texture de crayon. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez les lignes de crayon ci-dessus et ci-dessous:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/30b/589/76e/30b58976e9aa7fcfa3f291f70146d66d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vous remarquerez de nombreuses fonctionnalit√©s qui distinguent les traits de crayon des lignes d'encre (ou des lignes dessin√©es par un ordinateur). La diff√©rence la plus importante est qu'ils ont une texture r√©sultant de la fa√ßon dont le crayon interagit avec le papier. Le papier est granuleux et le crayon laisse g√©n√©ralement du graphite sur les parties hautes du grain, tandis que les parties basses restent blanches. Sur papier grossier, la texture est plus visible; le dessin du carton est si fin qu'il ne cr√©e presque pas de texture. Deuxi√®mement, les bords des lignes de crayon sont assez vagues. Ceci est encore largement d√ª √† l'in√©galit√© du papier et de la pointe du crayon; cela conduit au fait que le long du bord de la ligne reste une quantit√© diff√©rente de graphite.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Bien s√ªr, il y a d'autres effets. La trace du crayon se superpose, donc elle devient plus fonc√©e aux intersections des traits. Les traits eux-m√™mes varient en pression et cela peut changer l'obscurit√© du trait sur toute sa longueur. Dans cet article, je me concentrerai principalement sur la reconstruction de la texture du papier.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour J'ai commenc√© par pr√©parer de simples lignes grises:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/838/8d3/f52/8388d3f520baa3117a879b0b03d8a7f8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai dessin√© des lignes ¬´manuscrites¬ª d'une √©paisseur de 4, 2 et 1 pixel. Malheureusement, les effets SVG sont g√©n√©ralement diff√©rents pour les lignes de diff√©rentes longueurs, donc je voulais comparer l'effet sur diff√©rentes tailles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction principale fournie par SVG pour ajouter des effets de texture est appel√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les filtres sont appliqu√©s apr√®s le rendu de l'effet vectoriel et changent son apparence. Les filtres conventionnels peuvent effectuer des actions telles que changer la couleur d'un objet, y ajouter du bruit, etc. Les filtres sont un sujet assez d√©routant avec une syntaxe complexe, donc je ne donnerai pas un tutoriel complet sur la fa√ßon de les utiliser, mais je vais expliquer suffisamment en d√©tail pour que ce que j'ai fait soit clair. Et √† la fin de l'article, je donnerai un lien vers Codepen avec un filtre afin que vous puissiez l'exp√©rimenter vous-m√™me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, je vais essayer de changer les bords des lignes afin qu'elles ne soient pas lisses, mais pr√©sentent des irr√©gularit√©s caract√©ristiques du grain du papier. Je vais le faire en d√©pla√ßant les pixels de la ligne. L'√©l√©ment de filtre effectuant cette t√¢che est appel√© ¬´feDisplacementMap¬ª; il d√©place chaque pixel en fonction des valeurs d'une autre image. Puisque nous voulons que chaque pixel se d√©place de mani√®re al√©atoire mais uniforme, nous devons transmettre du bruit √† feDisplacementMap pour contr√¥ler le mouvement. Heureusement, SVG a un autre √©l√©ment de filtre appel√© ¬´feTurbulence¬ª qui est sp√©cifiquement con√ßu pour cr√©er du bruit. Nous pouvons donc combiner deux filtres pour rendre les bords des lignes plus rugueux.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/907/d13/c7e/907d13c7e90e28244cd4a32a1c0dc027.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'amplitude et la grossi√®ret√© de la ligne peuvent √™tre contr√¥l√©es par les param√®tres de la carte de d√©placement et la g√©n√©ration de bruit. </font><font style="vertical-align: inherit;">Malheureusement, le d√©calage est indiqu√© en unit√©s absolues, sans rapport avec la taille de la ligne. </font><font style="vertical-align: inherit;">J'ai s√©lectionn√© les param√®tres, essayant de trouver quelque chose qui convient √† toutes les largeurs de ligne, mais avec une augmentation de l'√©chelle de d√©calage, vous pouvez remarquer le probl√®me:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3fc/9b4/bfa/3fc9b4bfa1fae04ef372a260798e526f.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, le d√©placement est si important qu'il peut d√©placer toute la ligne, et pas seulement changer ses bords. </font><font style="vertical-align: inherit;">Cet effet est encore plus visible sur les lignes fines. </font><font style="vertical-align: inherit;">Dans cet exemple, une ligne d'une largeur de 4 pixels semble fondamentalement comme si le bord est rugueux et des distorsions sont d√©j√† perceptibles sur une ligne d'une √©paisseur de 2 pixels. </font><font style="vertical-align: inherit;">Autrement dit, je dois choisir une valeur qui ne cr√©e pas de distorsions dans les lignes fines. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors d'un zoom avec une augmentation standard du jeu, l'effet ressemble √† ceci (apr√®s avoir s√©lectionn√© des param√®tres pour am√©liorer l'effet):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b84/d29/e8a/b84d29e8ac78b4aa7804d9dd2a53f279.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä cette √©chelle, de nombreux bords rugueux deviennent des taches et des points. </font><font style="vertical-align: inherit;">Ce n'est pas un effet tr√®s d√©sagr√©able, et cela rappelle un peu un trait de crayon. </font><font style="vertical-align: inherit;">(Cependant, en g√©n√©ral, les filtres SVG semblent avoir des probl√®mes de mise √† l'√©chelle - dans de nombreux cas, lorsqu'ils sont zoom√©s, ils ont l'air bien, mais ils sont soumis √† un algorithme de redimensionnement m√©diocre lorsqu'ils s'√©loignent.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici √† quoi ressemble l'effet lors du dessin de montagnes (effet crayon √† gauche):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db6/fe8/0a3/db6fe80a3747b21966b2404f667efcf1.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas si terrible, mais la ligne a des artefacts tranchants qui semblent un peu √©tranges. </font><font style="vertical-align: inherit;">Et lorsque l'effet est appliqu√© √† des lignes fines et √©troitement espac√©es, elles se chevauchent et fusionnent en cons√©quence:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e83/8ff/845/e838ff845dcd00b4ffc67c4f5d1a73f7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je le r√©p√®te, ce n'est pas si terrible, et les ombres sur les montagnes au crayon ressemblent donc beaucoup √† celles dessin√©es au crayon, si vous avez besoin d'un tel effet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette solution ajoute de la rugosit√© aux contours du trait de crayon, mais ne change pas la couleur uniforme du trait. </font><font style="vertical-align: inherit;">La texture est √©galement pr√©sente √† l'int√©rieur de vrais coups de crayon, car le graphite laisse des taches sur le papier de mani√®re in√©gale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ajouter de la texture √† l'int√©rieur du trait, j'utilise un filtre SVG puis je combine le bruit avec le trait:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b2/6b3/3df/1b26b33df7d75677959863c42a45799b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors d'un zoom avant, vous pouvez voir que l'int√©rieur de chaque trait est maintenant rempli d'une texture pseudo-graphite. </font><font style="vertical-align: inherit;">Voici √† quoi cela ressemble √† une √©chelle normale:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b85/dc0/005/b85dc0005e84521a04c20e5b54e4bc26.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assez bien, surtout sur les lignes √©paisses. </font><font style="vertical-align: inherit;">Voici √† quoi cela ressemble lorsque vous dessinez des montagnes:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1fe/700/f65/1fe700f6591723bd80cac9eb61896894.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A cette √©chelle, tout n'est pas tr√®s bon. </font><font style="vertical-align: inherit;">Notez que ce filtre r√©duit √©galement l'obscurit√© des lignes; </font><font style="vertical-align: inherit;">c'est un r√©sultat naturel de l'ajout de bruit blanc aux lignes. </font><font style="vertical-align: inherit;">Dans une certaine mesure, ce probl√®me peut √™tre att√©nu√© en augmentant le contraste du bruit, de sorte que certaines parties de la ligne de compensation deviennent plus sombres:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/522/7f8/d89/5227f8d89c2a761d0f33af843999a3d7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comme les couleurs de la ligne sont d√©j√† assez sombres, cela d√©truit largement l'effet de "crayon". </font><font style="vertical-align: inherit;">Par cons√©quent, si j'utilise cela, je dois s√©lectionner les param√®tres pour cr√©er un √©quilibre agr√©able. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute √©vidence, les deux solutions peuvent √™tre combin√©es. </font><font style="vertical-align: inherit;">Avec une augmentation, le r√©sultat semble plut√¥t bon:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/efe/0fc/d2b/efe0fcd2b9f33d307d5bef1f78712b49.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la ligne de crayon, nous attendons √† la fois un bord rugueux et une texture interne. </font><font style="vertical-align: inherit;">Sur une √©chelle standard, tout n'est pas si bon:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/355/390/4db/3553904db64ac78e2e0c1c58690f4da6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en raison d'artefacts tranchants qui sont apparus √† cette √©chelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une bonne astuce pour am√©liorer cette texture serait d'ajouter une texture de papier √† l'arri√®re-plan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd9/2cd/973/fd92cd973cc6fc34c18206845fbc3973.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, l'≈ìil per√ßoit la texture uniforme sur toute l'image. </font><font style="vertical-align: inherit;">M√™me √† un niveau tr√®s implicite, cela aide √† tromper l'≈ìil et √† convaincre que la texture de la ligne est caus√©e par l'interaction avec le papier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple d'utilisation de ce filtre sur une carte (avec une texture de papier):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bd3/95c/c1b/bd395cc1bc80749e99db1a66a2d71fc4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, tout n'est pas mal, mais avec une √©tude d√©taill√©e, il semble que partout vient d'ajouter du bruit. </font><font style="vertical-align: inherit;">Avec une augmentation de 200%, les artefacts deviennent encore plus √©vidents:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aef/2f6/c1f/aef2f6c1fb1d825da9dad4ec1d1a120b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre fa√ßon de cr√©er un bord rugueux d'une ligne de crayon est de dessiner plusieurs fois la ligne avec des √©carts l√©g√®rement diff√©rents et une opacit√© r√©duite. Au centre de la ligne, o√π plusieurs versions se croisent, la densit√© sera proche de la densit√© de la ligne d'origine; aux bords ext√©rieurs, o√π parfois il n'y a qu'une partie des lignes, l'opacit√© sera plus faible et les bords seront moins lisibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, pour impl√©menter une telle solution √† l'aide de filtres SVG, vous devez utiliser feTurbulence et feDisplacementMap ensemble pour cr√©er une version d√©form√©e de la ligne. Cependant, pour faire cela plusieurs fois et combiner toutes les lignes √† la fin, vous avez besoin d'un ensemble de primitives feBlend. Si, par exemple, nous m√©langeons trois copies, nous devons r√©duire de mani√®re appropri√©e l'opacit√© des lignes. (Je ne sais pas trop comment calculer sp√©cifiquement l'opacit√© correspondante, mais je pense que cela peut √™tre la racine cubique de la luminosit√© de la ligne.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela cr√©e l'effet (trois lignes avec une augmentation):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f21/567/906/f215679067cecae8447471afa35168e2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette approche pr√©sente quelques inconv√©nients. </font><font style="vertical-align: inherit;">Le filtre a une d√©viation fixe, il affecte donc plus fortement les lignes √©troites, et √† certains points, on peut voir que la ligne √† un pixel est compl√®tement divis√©e. </font><font style="vertical-align: inherit;">Deuxi√®mement, c'est un filtre assez complexe qui cr√©e trois √©carts distincts et les combine; </font><font style="vertical-align: inherit;">cela peut √™tre tr√®s lent sur des images complexes comme les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartes Dragons Abound</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici √† quoi cela ressemble √† une √©chelle standard:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6dd/40a/4f5/6dd40a4f5d2b1bcadd3c4ab73597f989.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä mon avis, cela ne ressemble pas tout √† fait √† un crayon, mais il √©limine mieux les artefacts tranchants de la solution pr√©c√©dente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette approche peut √™tre combin√©e avec le filtre de texture interne d√©crit ci-dessus et ajouter de la texture √† l'int√©rieur des lignes de crayon, ainsi que de la texture du papier:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95e/676/17e/95e67617ee763a59ab563d997402e680.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici √† quoi cela ressemble apr√®s avoir appliqu√© √† la montagne:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/303/ef9/591/303ef95912d832ef32b8ba3dd778583e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce filtre a tendance √† r√©partir les lignes plus fortement que l'autre filtre, ce qui les rend essentiellement plus √©paisses. </font><font style="vertical-align: inherit;">Parfois, il g√©n√®re un effet d'esquisse avec plusieurs lignes, ce qui n'est pas si mal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple d'utilisation de ce filtre sur une carte:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d2/1c4/de8/6d21c4de815a2cdbdc249385c54a9995.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il pr√©serve mieux l'obscurit√© d'origine que le premier filtre, et bien qu'√† mon avis il ne ressemble pas exactement √† un crayon, l'effet est assez agr√©able. </font><font style="vertical-align: inherit;">Avec une augmentation de 200%:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c8/09e/2df/1c809e2df7ff7e898a0d7964be51003b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'il est agrandi, ce filtre n'acquiert pas d'artefacts nets du premier filtre. </font><font style="vertical-align: inherit;">L'effet des lignes qui se croisent sur des lignes fines (par exemple, comme dans l'image d'une for√™t) commence √† sembler assez artificiel, mais les lignes plus larges (montagnes et rivi√®res) semblent toujours bonnes. </font><font style="vertical-align: inherit;">Cependant, dans les lignes noires, telles que les rivi√®res, le bruit interne est presque compl√®tement perdu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai post√© ces deux filtres sur Codepen afin que vous puissiez les essayer vous-m√™me. </font><font style="vertical-align: inherit;">Le premier filtre est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le second est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Je recommande d'exp√©rimenter avec eux et d'essayer de les am√©liorer, et si vous obtenez quelque chose de mieux que le mien, faites le moi savoir! </font><font style="vertical-align: inherit;">J'aimerais avoir un tr√®s bon filtre √† crayon!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489742/index.html">Hackathon pour 200 personnes - ce dont vous avez besoin pour organiser</a></li>
<li><a href="../fr489744/index.html">Convertir la notation infixe en suffixe</a></li>
<li><a href="../fr489746/index.html">Dans la plupart des cas, la s√©rialisation dans Android n'est pas n√©cessaire</a></li>
<li><a href="../fr489750/index.html">Gestion d'un cluster Docker Swarm √† l'aide de Swarmpit</a></li>
<li><a href="../fr489754/index.html">20 syst√®mes de gestion de projet, aper√ßu de 100 puces</a></li>
<li><a href="../fr489758/index.html">Angulaire: un exemple d'utilisation de NGRX</a></li>
<li><a href="../fr489760/index.html">Conscience et existence. M√©canique quantique sans paradoxes</a></li>
<li><a href="../fr489762/index.html">Un exemple simple d'analyse et d'analyse de donn√©es pour World of Tanks</a></li>
<li><a href="../fr489764/index.html">"The Destination a beaucoup de formes ..." ou nous automatisons le contr√¥le d'une ampoule √† l'aide de CANNY 3 Tiny et d'une photor√©sistance</a></li>
<li><a href="../fr489768/index.html">Comment œÄ combine des blocs en collision et un algorithme de recherche quantique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>