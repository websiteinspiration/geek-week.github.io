<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🅿️ 🔙 👩🏽‍🔬 Créer un effet crayon en SVG 🤰🏾 🌘 🎻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mon jeu Dragons Abound crée des cartes au format graphique vectoriel SVG. Les graphiques vectoriels ont de nombreuses fonctionnalités (par exemple, un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Créer un effet crayon en SVG</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489756/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mon jeu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dragons Abound</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> crée des cartes au format graphique vectoriel SVG. </font><font style="vertical-align: inherit;">Les graphiques vectoriels ont de nombreuses fonctionnalités (par exemple, un zoom sans perte), ce qui est pratique pour les cartes. </font><font style="vertical-align: inherit;">En outre, les graphiques vectoriels sont bons pour créer des lignes claires, telles que les contours d'encre:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d6d/6b6/ea6/d6d6b6ea632c1ddcdef393187359d408.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En revanche, les graphiques vectoriels ne sont pas très bons pour créer des textures avec de petits détails non répétitifs. Dans les graphiques vectoriels, chaque élément rendu est représenté par une description de sa taille, sa forme, son emplacement, sa couleur, etc. Afin de présenter de nombreux petits détails non répétitifs, il est nécessaire de décrire un grand nombre d'éléments. Par exemple, pour une ligne de crayon</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51c/7e4/39a/51c7e439abd2bbaa79e13d2aaeb158f5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
des dizaines de milliers d'éléments différents seront nécessaires. En fait, chaque point gris de l'image sera défini séparément. D'autres éléments, comme les images floues, sont encore plus problématiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'une limitation assez grave des graphiques vectoriels, donc des astuces ont été ajoutées à SVG qui vous permettent de reproduire plus efficacement certains de ces effets de texture. J'explorerai certaines de ces fonctionnalités SVG pour créer un effet de ligne de crayon. Bien sûr, il existe de nombreuses solutions plus complexes pour recréer des lignes de crayon. </font><font style="vertical-align: inherit;">Des articles scientifiques entiers ont été </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">écrits</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur ce sujet </font><font style="vertical-align: inherit;">. Mais j'espère juste créer un filtre assez simple qui fournira un résultat acceptable.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme toujours, je préférerais emprunter ou modifier un filtre créé par quelqu'un de plus talentueux que moi, mais dans ce cas, il y avait une pénurie incroyable de filtres à crayons vectoriels qui peuvent être utilisés pour l'inspiration. (Une musique d'avertissement inquiétante retentit: il peut y avoir des raisons à cela.) Par conséquent, en fait, je ne peux compter que sur moi-même. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus tôt,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">écrit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur les possibilités de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dragons Abound</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour créer des lignes "manuscrites". Fondamentalement, j'ai envisagé la possibilité d'éviter les lignes droites mathématiquement et de créer des lignes avec de légères déviations qui ressemblent plus à ce qui pourrait être dessiné par la main d'une personne. Au début de l'article, des exemples d'illustrations de montagnes sont présentés. Pour créer un style d'illustration à l'encre, cela suffit, mais ne convient pas pour créer une ligne de crayon, car il manque une texture de crayon. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez les lignes de crayon ci-dessus et ci-dessous:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/30b/589/76e/30b58976e9aa7fcfa3f291f70146d66d.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vous remarquerez de nombreuses fonctionnalités qui distinguent les traits de crayon des lignes d'encre (ou des lignes dessinées par un ordinateur). La différence la plus importante est qu'ils ont une texture résultant de la façon dont le crayon interagit avec le papier. Le papier est granuleux et le crayon laisse généralement du graphite sur les parties hautes du grain, tandis que les parties basses restent blanches. Sur papier grossier, la texture est plus visible; le dessin du carton est si fin qu'il ne crée presque pas de texture. Deuxièmement, les bords des lignes de crayon sont assez vagues. Ceci est encore largement dû à l'inégalité du papier et de la pointe du crayon; cela conduit au fait que le long du bord de la ligne reste une quantité différente de graphite.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Bien sûr, il y a d'autres effets. La trace du crayon se superpose, donc elle devient plus foncée aux intersections des traits. Les traits eux-mêmes varient en pression et cela peut changer l'obscurité du trait sur toute sa longueur. Dans cet article, je me concentrerai principalement sur la reconstruction de la texture du papier.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour J'ai commencé par préparer de simples lignes grises:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/838/8d3/f52/8388d3f520baa3117a879b0b03d8a7f8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai dessiné des lignes «manuscrites» d'une épaisseur de 4, 2 et 1 pixel. Malheureusement, les effets SVG sont généralement différents pour les lignes de différentes longueurs, donc je voulais comparer l'effet sur différentes tailles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction principale fournie par SVG pour ajouter des effets de texture est appelée </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les filtres sont appliqués après le rendu de l'effet vectoriel et changent son apparence. Les filtres conventionnels peuvent effectuer des actions telles que changer la couleur d'un objet, y ajouter du bruit, etc. Les filtres sont un sujet assez déroutant avec une syntaxe complexe, donc je ne donnerai pas un tutoriel complet sur la façon de les utiliser, mais je vais expliquer suffisamment en détail pour que ce que j'ai fait soit clair. Et à la fin de l'article, je donnerai un lien vers Codepen avec un filtre afin que vous puissiez l'expérimenter vous-même.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, je vais essayer de changer les bords des lignes afin qu'elles ne soient pas lisses, mais présentent des irrégularités caractéristiques du grain du papier. Je vais le faire en déplaçant les pixels de la ligne. L'élément de filtre effectuant cette tâche est appelé «feDisplacementMap»; il déplace chaque pixel en fonction des valeurs d'une autre image. Puisque nous voulons que chaque pixel se déplace de manière aléatoire mais uniforme, nous devons transmettre du bruit à feDisplacementMap pour contrôler le mouvement. Heureusement, SVG a un autre élément de filtre appelé «feTurbulence» qui est spécifiquement conçu pour créer du bruit. Nous pouvons donc combiner deux filtres pour rendre les bords des lignes plus rugueux.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/907/d13/c7e/907d13c7e90e28244cd4a32a1c0dc027.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'amplitude et la grossièreté de la ligne peuvent être contrôlées par les paramètres de la carte de déplacement et la génération de bruit. </font><font style="vertical-align: inherit;">Malheureusement, le décalage est indiqué en unités absolues, sans rapport avec la taille de la ligne. </font><font style="vertical-align: inherit;">J'ai sélectionné les paramètres, essayant de trouver quelque chose qui convient à toutes les largeurs de ligne, mais avec une augmentation de l'échelle de décalage, vous pouvez remarquer le problème:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3fc/9b4/bfa/3fc9b4bfa1fae04ef372a260798e526f.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, le déplacement est si important qu'il peut déplacer toute la ligne, et pas seulement changer ses bords. </font><font style="vertical-align: inherit;">Cet effet est encore plus visible sur les lignes fines. </font><font style="vertical-align: inherit;">Dans cet exemple, une ligne d'une largeur de 4 pixels semble fondamentalement comme si le bord est rugueux et des distorsions sont déjà perceptibles sur une ligne d'une épaisseur de 2 pixels. </font><font style="vertical-align: inherit;">Autrement dit, je dois choisir une valeur qui ne crée pas de distorsions dans les lignes fines. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors d'un zoom avec une augmentation standard du jeu, l'effet ressemble à ceci (après avoir sélectionné des paramètres pour améliorer l'effet):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b84/d29/e8a/b84d29e8ac78b4aa7804d9dd2a53f279.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À cette échelle, de nombreux bords rugueux deviennent des taches et des points. </font><font style="vertical-align: inherit;">Ce n'est pas un effet très désagréable, et cela rappelle un peu un trait de crayon. </font><font style="vertical-align: inherit;">(Cependant, en général, les filtres SVG semblent avoir des problèmes de mise à l'échelle - dans de nombreux cas, lorsqu'ils sont zoomés, ils ont l'air bien, mais ils sont soumis à un algorithme de redimensionnement médiocre lorsqu'ils s'éloignent.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici à quoi ressemble l'effet lors du dessin de montagnes (effet crayon à gauche):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/db6/fe8/0a3/db6fe80a3747b21966b2404f667efcf1.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pas si terrible, mais la ligne a des artefacts tranchants qui semblent un peu étranges. </font><font style="vertical-align: inherit;">Et lorsque l'effet est appliqué à des lignes fines et étroitement espacées, elles se chevauchent et fusionnent en conséquence:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e83/8ff/845/e838ff845dcd00b4ffc67c4f5d1a73f7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je le répète, ce n'est pas si terrible, et les ombres sur les montagnes au crayon ressemblent donc beaucoup à celles dessinées au crayon, si vous avez besoin d'un tel effet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette solution ajoute de la rugosité aux contours du trait de crayon, mais ne change pas la couleur uniforme du trait. </font><font style="vertical-align: inherit;">La texture est également présente à l'intérieur de vrais coups de crayon, car le graphite laisse des taches sur le papier de manière inégale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ajouter de la texture à l'intérieur du trait, j'utilise un filtre SVG puis je combine le bruit avec le trait:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b2/6b3/3df/1b26b33df7d75677959863c42a45799b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors d'un zoom avant, vous pouvez voir que l'intérieur de chaque trait est maintenant rempli d'une texture pseudo-graphite. </font><font style="vertical-align: inherit;">Voici à quoi cela ressemble à une échelle normale:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b85/dc0/005/b85dc0005e84521a04c20e5b54e4bc26.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assez bien, surtout sur les lignes épaisses. </font><font style="vertical-align: inherit;">Voici à quoi cela ressemble lorsque vous dessinez des montagnes:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1fe/700/f65/1fe700f6591723bd80cac9eb61896894.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A cette échelle, tout n'est pas très bon. </font><font style="vertical-align: inherit;">Notez que ce filtre réduit également l'obscurité des lignes; </font><font style="vertical-align: inherit;">c'est un résultat naturel de l'ajout de bruit blanc aux lignes. </font><font style="vertical-align: inherit;">Dans une certaine mesure, ce problème peut être atténué en augmentant le contraste du bruit, de sorte que certaines parties de la ligne de compensation deviennent plus sombres:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/522/7f8/d89/5227f8d89c2a761d0f33af843999a3d7.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comme les couleurs de la ligne sont déjà assez sombres, cela détruit largement l'effet de "crayon". </font><font style="vertical-align: inherit;">Par conséquent, si j'utilise cela, je dois sélectionner les paramètres pour créer un équilibre agréable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute évidence, les deux solutions peuvent être combinées. </font><font style="vertical-align: inherit;">Avec une augmentation, le résultat semble plutôt bon:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/efe/0fc/d2b/efe0fcd2b9f33d307d5bef1f78712b49.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la ligne de crayon, nous attendons à la fois un bord rugueux et une texture interne. </font><font style="vertical-align: inherit;">Sur une échelle standard, tout n'est pas si bon:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/355/390/4db/3553904db64ac78e2e0c1c58690f4da6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en raison d'artefacts tranchants qui sont apparus à cette échelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une bonne astuce pour améliorer cette texture serait d'ajouter une texture de papier à l'arrière-plan:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd9/2cd/973/fd92cd973cc6fc34c18206845fbc3973.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, l'œil perçoit la texture uniforme sur toute l'image. </font><font style="vertical-align: inherit;">Même à un niveau très implicite, cela aide à tromper l'œil et à convaincre que la texture de la ligne est causée par l'interaction avec le papier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple d'utilisation de ce filtre sur une carte (avec une texture de papier):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bd3/95c/c1b/bd395cc1bc80749e99db1a66a2d71fc4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, tout n'est pas mal, mais avec une étude détaillée, il semble que partout vient d'ajouter du bruit. </font><font style="vertical-align: inherit;">Avec une augmentation de 200%, les artefacts deviennent encore plus évidents:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aef/2f6/c1f/aef2f6c1fb1d825da9dad4ec1d1a120b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre façon de créer un bord rugueux d'une ligne de crayon est de dessiner plusieurs fois la ligne avec des écarts légèrement différents et une opacité réduite. Au centre de la ligne, où plusieurs versions se croisent, la densité sera proche de la densité de la ligne d'origine; aux bords extérieurs, où parfois il n'y a qu'une partie des lignes, l'opacité sera plus faible et les bords seront moins lisibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En général, pour implémenter une telle solution à l'aide de filtres SVG, vous devez utiliser feTurbulence et feDisplacementMap ensemble pour créer une version déformée de la ligne. Cependant, pour faire cela plusieurs fois et combiner toutes les lignes à la fin, vous avez besoin d'un ensemble de primitives feBlend. Si, par exemple, nous mélangeons trois copies, nous devons réduire de manière appropriée l'opacité des lignes. (Je ne sais pas trop comment calculer spécifiquement l'opacité correspondante, mais je pense que cela peut être la racine cubique de la luminosité de la ligne.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela crée l'effet (trois lignes avec une augmentation):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f21/567/906/f215679067cecae8447471afa35168e2.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette approche présente quelques inconvénients. </font><font style="vertical-align: inherit;">Le filtre a une déviation fixe, il affecte donc plus fortement les lignes étroites, et à certains points, on peut voir que la ligne à un pixel est complètement divisée. </font><font style="vertical-align: inherit;">Deuxièmement, c'est un filtre assez complexe qui crée trois écarts distincts et les combine; </font><font style="vertical-align: inherit;">cela peut être très lent sur des images complexes comme les </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartes Dragons Abound</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici à quoi cela ressemble à une échelle standard:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6dd/40a/4f5/6dd40a4f5d2b1bcadd3c4ab73597f989.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À mon avis, cela ne ressemble pas tout à fait à un crayon, mais il élimine mieux les artefacts tranchants de la solution précédente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette approche peut être combinée avec le filtre de texture interne décrit ci-dessus et ajouter de la texture à l'intérieur des lignes de crayon, ainsi que de la texture du papier:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/95e/676/17e/95e67617ee763a59ab563d997402e680.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici à quoi cela ressemble après avoir appliqué à la montagne:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/303/ef9/591/303ef95912d832ef32b8ba3dd778583e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce filtre a tendance à répartir les lignes plus fortement que l'autre filtre, ce qui les rend essentiellement plus épaisses. </font><font style="vertical-align: inherit;">Parfois, il génère un effet d'esquisse avec plusieurs lignes, ce qui n'est pas si mal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple d'utilisation de ce filtre sur une carte:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d2/1c4/de8/6d21c4de815a2cdbdc249385c54a9995.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il préserve mieux l'obscurité d'origine que le premier filtre, et bien qu'à mon avis il ne ressemble pas exactement à un crayon, l'effet est assez agréable. </font><font style="vertical-align: inherit;">Avec une augmentation de 200%:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1c8/09e/2df/1c809e2df7ff7e898a0d7964be51003b.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'il est agrandi, ce filtre n'acquiert pas d'artefacts nets du premier filtre. </font><font style="vertical-align: inherit;">L'effet des lignes qui se croisent sur des lignes fines (par exemple, comme dans l'image d'une forêt) commence à sembler assez artificiel, mais les lignes plus larges (montagnes et rivières) semblent toujours bonnes. </font><font style="vertical-align: inherit;">Cependant, dans les lignes noires, telles que les rivières, le bruit interne est presque complètement perdu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai posté ces deux filtres sur Codepen afin que vous puissiez les essayer vous-même. </font><font style="vertical-align: inherit;">Le premier filtre est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le second est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Je recommande d'expérimenter avec eux et d'essayer de les améliorer, et si vous obtenez quelque chose de mieux que le mien, faites le moi savoir! </font><font style="vertical-align: inherit;">J'aimerais avoir un très bon filtre à crayon!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489742/index.html">Hackathon pour 200 personnes - ce dont vous avez besoin pour organiser</a></li>
<li><a href="../fr489744/index.html">Convertir la notation infixe en suffixe</a></li>
<li><a href="../fr489746/index.html">Dans la plupart des cas, la sérialisation dans Android n'est pas nécessaire</a></li>
<li><a href="../fr489750/index.html">Gestion d'un cluster Docker Swarm à l'aide de Swarmpit</a></li>
<li><a href="../fr489754/index.html">20 systèmes de gestion de projet, aperçu de 100 puces</a></li>
<li><a href="../fr489758/index.html">Angulaire: un exemple d'utilisation de NGRX</a></li>
<li><a href="../fr489760/index.html">Conscience et existence. Mécanique quantique sans paradoxes</a></li>
<li><a href="../fr489762/index.html">Un exemple simple d'analyse et d'analyse de données pour World of Tanks</a></li>
<li><a href="../fr489764/index.html">"The Destination a beaucoup de formes ..." ou nous automatisons le contrôle d'une ampoule à l'aide de CANNY 3 Tiny et d'une photorésistance</a></li>
<li><a href="../fr489768/index.html">Comment π combine des blocs en collision et un algorithme de recherche quantique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>