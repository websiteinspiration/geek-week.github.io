<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🔬 👶🏽 🧜🏼 Optimisation du temps de construction - Partie 1 🙅 🕛 👩‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Presque tous les développeurs ont rencontré au moins une fois un temps de construction assez long pour leur projet. Cela conduit à une productivité ré...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Optimisation du temps de construction - Partie 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498120/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Presque tous les développeurs ont rencontré au moins une fois un temps de construction assez long pour leur projet. </font><font style="vertical-align: inherit;">Cela conduit à une productivité réduite et ralentit le processus de développement de toute l'équipe. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir, l'augmentation du temps de construction d'un projet est cruciale car elle a un impact direct sur le moment où l'application est publiée sur l'AppStore et pour une publication plus rapide des nouvelles fonctionnalités de votre application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, nous allons apprendre à profiler un assembly dans Xcode et à obtenir des métriques. </font><font style="vertical-align: inherit;">Dans le prochain article, je parlerai des méthodes pour éliminer les goulots d'étranglement et accélérer l'assemblage du projet. </font><font style="vertical-align: inherit;">Il convient également de mentionner que nous utiliserons le projet iOS Kickstarter, qui se trouve sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Alors, commençons!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que mesurons-nous?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première chose que nous devons faire est de déterminer ce que nous essayons de mesurer et d'optimiser. </font><font style="vertical-align: inherit;">Deux options peuvent être envisagées:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clean build</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nettoyez et construisez le projet. </font><font style="vertical-align: inherit;">Souvent, des builds propres sont effectués dans CI pour rechercher une nouvelle demande d'extraction et exécuter des tests unitaires.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Génération incrémentielle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - générez le projet après des modifications importantes du code source. </font><font style="vertical-align: inherit;">Cet assemblage est créé par le développeur tout en travaillant sur de nouvelles fonctionnalités.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la plupart des cas, la réduction du temps lors de la </font><font style="vertical-align: inherit;">génération </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propre</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> devrait également accélérer la </font><font style="vertical-align: inherit;">génération </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incrémentielle</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La meilleure option serait de créer des métriques pour les deux types d'assemblages et de les suivre. </font><font style="vertical-align: inherit;">Nous mesurerons le temps de génération à l'aide de la </font><font style="vertical-align: inherit;">configuration de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">débogage</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uniquement parce qu'elle est utilisée la plupart du temps et a un impact plus important sur le développement.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous calculons le temps de montage</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus efficace d'améliorer le temps de génération devrait être une approche basée sur l'implémentation et la vérification des changements en fonction de métriques spécifiques. </font><font style="vertical-align: inherit;">Considérez-les, ainsi que les outils que nous pouvons utiliser pour obtenir des informations sur le temps de construction du projet.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapport de temps de construction Xcode </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons facilement obtenir des données de temps de construction en utilisant Xcode. </font><font style="vertical-align: inherit;">Il suit toutes les générations par défaut et vous permet de visualiser le temps de génération du projet dans le navigateur de rapports. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yk/u3/g8/yku3g8doz_gz1if2uuhat2jwovc.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez également la possibilité d'afficher des informations similaires dans Xcode dans le panneau du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">visualiseur d'activité</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il peut être activé pour l'affichage à l'aide de la ligne de commande en exécutant la commande: </font><font style="vertical-align: inherit;">
Le temps de construction du projet est affiché après l'assemblage avec le message «Réussi». </font><font style="vertical-align: inherit;">
Ce ne sont que deux options de base qui devraient vous donner une idée approximative du </font><font style="vertical-align: inherit;">temps de construction </font><b><font style="vertical-align: inherit;">propre</font></b><font style="vertical-align: inherit;"> et </font><b><font style="vertical-align: inherit;">incrémentiel</font></b><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<code>defaults write com.apple.dt.Xcode ShowBuildOperationDuration YES<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/tq/kz/5y/tqkz5y0mba51pjeidw-307hoggm.png" alt="image"><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Résumé du temps de construction du projet dans Xcode</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résumé du temps de construction de Xcode - Votre premier ami à obtenir des statistiques de temps de construction et des goulots d'étranglement. Vous pouvez l'exécuter via </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Product-&gt; Perform Action-&gt; Build With Timing Summary</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vous verrez maintenant une grande répartition du temps passé sur diverses tâches: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/u5/ry/jmu5ryv2i6gpjoglordl6pilx44.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette méthode devrait être un bon point de départ pour trouver les tâches les plus longues dans le processus d'assemblage. La capture d'écran ci-dessus montre que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CompileStoryboard</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CompileXIB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CompileSwiftSources</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et les phases </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PhaseScriptExecution</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont pris la plupart du temps de construction. Xcode a pu effectuer une partie des tâches en parallèle, donc l'assemblage est terminé beaucoup plus rapidement que le temps nécessaire pour terminer la tâche de chacune des commandes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons obtenir un résumé du temps de construction pour la </font><font style="vertical-align: inherit;">génération </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propre en</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisant </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xcodebuild</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec l'option - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buildWithTimingSummary</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">
Maintenant, obtenons des mesures similaires pour la construction incrémentielle. </font><font style="vertical-align: inherit;">Il convient de noter que le temps de génération incrémentiel dépend entièrement des fichiers en cours de modification dans le projet. </font><font style="vertical-align: inherit;">Pour obtenir des résultats cohérents, vous pouvez modifier un fichier et compiler le projet. </font><font style="vertical-align: inherit;">Contrairement aux systèmes Buck ou Bazel, Xcode utilise des horodatages pour déterminer ce qui a changé et ce qui doit être reconstruit. </font><font style="vertical-align: inherit;">Nous pouvons mettre à jour l'horodatage en utilisant le toucher:</font></font><br>
<br>
<code>xcodebuild -project 'Kickstarter.xcodeproj' \<br>
-scheme 'Kickstarter-iOS' \<br>
-configuration 'Debug' \<br>
-sdk 'iphonesimulator' \<br>
-showBuildTimingSummary \<br>
clean build | sed -n -e '/Build Timing Summary/,$p'<br>
<br>
Build Timing Summary<br>
CompileStoryboard (29 tasks) | 87.128 seconds<br>
CompileSwiftSources (4 tasks) | 54.144 seconds<br>
PhaseScriptExecution (14 tasks) | 18.167 seconds<br>
CompileAssetCatalog (2 tasks) | 6.532 seconds<br>
CompileXIB (21 tasks) | 6.293 seconds<br>
CodeSign (7 tasks) | 3.069 seconds<br>
Ld (4 tasks) | 2.342 seconds<br>
LinkStoryboards (2 tasks) | 0.172 seconds<br>
CompileC (3 tasks) | 0.122 seconds<br>
Ditto (20 tasks) | 0.076 seconds<br>
Touch (4 tasks) | 0.007 seconds<br>
** BUILD SUCCEEDED ** [92.620 sec]<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<code>touch KsApi/mutations/CancelBackingMutation.swift &amp;&amp; \<br>
xcodebuild -project 'Kickstarter.xcodeproj' \<br>
-scheme 'Kickstarter-iOS' \<br>
-configuration 'Debug' \<br>
-sdk 'iphonesimulator' \<br>
-showBuildTimingSummary \<br>
build | sed -n -e '/Build Timing Summary/,$p'<br>
<br>
Build Timing Summary<br>
PhaseScriptExecution (14 tasks) | 18.089 seconds<br>
CodeSign (7 tasks) | 2.990 seconds<br>
CompileSwiftSources (1 task) | 1.245 seconds<br>
Ld (1 task) | 0.361 seconds<br>
** BUILD SUCCEEDED ** [23.927 sec]<br>
</code><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avertissements de vérification de type</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque le temps de compilation est un goulot d'étranglement, nous pouvons obtenir plus d'informations en définissant Other Swift Flags sur les options de construction du projet dans Xcode. </font><font style="vertical-align: inherit;">Lorsque l'indicateur est activé, Xcode génère un avertissement pour toute fonction ou expression qui prend plus de 100 ms pour déterminer le type de variables:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Xfrontend -warn-long-function-corps = 100</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Xfrontend -warn-long-expression-type-verification = 100</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/fi/fg/x4/fifgx4epcw8zt5aw07kyy5dumoy.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous connaissez maintenant le code avec lequel le compilateur Swift a des problèmes et vous pouvez maintenant essayer de l'améliorer.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options de diagnostic du compilateur</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le compilateur Swift possède de nombreuses options de diagnostic intégrées que vous pouvez utiliser pour profiler l'assemblage.</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-driver-time-compilation</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - un haut niveau de synchronisation des tâches effectuées par le pilote.</font></font></li>
<li><b>-Xfrontend -debug-time-compilation</b> —       .</li>
<li><b>-Xfrontend -debug-time-function-bodies</b> –        .</li>
<li><b>-Xfrontend -debug-time-expression-type-checking</b> –         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisons l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicateur -debug-time-compilation</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour obtenir des informations sur les fichiers les plus lents lors de la compilation: </font><font style="vertical-align: inherit;">
Comme vous pouvez le voir, </font><font style="vertical-align: inherit;">il a fallu 25 secondes </font><font style="vertical-align: inherit;">pour compiler </font><i><font style="vertical-align: inherit;">SettingsNewslettersCellViewModel.swift</font></i><font style="vertical-align: inherit;"> . À partir du journal d'assemblage, vous pouvez obtenir des informations supplémentaires sur le temps de compilation du fichier: </font><font style="vertical-align: inherit;">
il est désormais évident que la </font><b><font style="vertical-align: inherit;">vérification de type</font></b><font style="vertical-align: inherit;"> et l' </font><b><font style="vertical-align: inherit;">analyse sémantique</font></b><font style="vertical-align: inherit;"> sont les travaux les plus longs. Allons de l'avant et listons les fonctions et expressions les plus lentes dans l'étape de </font><b><font style="vertical-align: inherit;">vérification de type</font></b><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<code>xcodebuild -project 'Kickstarter.xcodeproj' \<br>
-scheme 'Kickstarter-iOS' \<br>
-configuration 'Debug' \<br>
-sdk 'iphonesimulator' \<br>
clean build \<br>
OTHER_SWIFT_FLAGS="-Xfrontend -debug-time-compilation" |<br>
 awk '/CompileSwift normal/,/Swift compilation/{print; getline; print; getline; print}' |<br>
 grep -Eo "^CompileSwift.+\.swift|\d+\.\d+ seconds" |<br>
 sed -e 'N;s/\(.*\)\n\(.*\)/\2 \1/' |<br>
 sed -e "s|CompileSwift normal x86_64 $(pwd)/||" |<br>
 sort -rn |<br>
 head -3<br>
<br>
25.6026 seconds Library/ViewModels/SettingsNewslettersCellViewModel.swift<br>
24.4429 seconds Library/ViewModels/PledgeSummaryViewModel.swift<br>
24.4312 seconds Library/ViewModels/PaymentMethodsViewModel.swift<br>
</code><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<code>===-------------------------------------------------------------------------===<br>
 Swift compilation<br>
===-------------------------------------------------------------------------===<br>
 Total Execution Time: 25.6026 seconds (26.6593 wall clock)<br>
<br>
---User Time--- --System Time-- --User+System-- ---Wall Time--- --- Name ---<br>
 24.4632 ( 98.3%) 0.5406 ( 76.5%) 25.0037 ( 97.7%) 26.0001 ( 97.5%) Type checking and Semantic analysis<br>
 0.0981 ( 0.4%) 0.1383 ( 19.6%) 0.2364 ( 0.9%) 0.2872 ( 1.1%) Name binding<br>
 0.1788 ( 0.7%) 0.0043 ( 0.6%) 0.1831 ( 0.7%) 0.1839 ( 0.7%) IRGen<br>
 0.0508 ( 0.2%) 0.0049 ( 0.7%) 0.0557 ( 0.2%) 0.0641 ( 0.2%) Parsing<br>
 0.0599 ( 0.2%) 0.0020 ( 0.3%) 0.0619 ( 0.2%) 0.0620 ( 0.2%) SILGen<br>
 0.0285 ( 0.1%) 0.0148 ( 2.1%) 0.0433 ( 0.2%) 0.0435 ( 0.2%) SIL optimization<br>
 0.0146 ( 0.1%) 0.0015 ( 0.2%) 0.0161 ( 0.1%) 0.0162 ( 0.1%) Serialization, swiftmodule<br>
 0.0016 ( 0.0%) 0.0006 ( 0.1%) 0.0022 ( 0.0%) 0.0022 ( 0.0%) Serialization, swiftdoc<br>
 0.0000 ( 0.0%) 0.0000 ( 0.0%) 0.0000 ( 0.0%) 0.0001 ( 0.0%) SIL verification, pre-optimization<br>
 0.0000 ( 0.0%) 0.0000 ( 0.0%) 0.0000 ( 0.0%) 0.0000 ( 0.0%) AST verification<br>
 0.0000 ( 0.0%) 0.0000 ( 0.0%) 0.0000 ( 0.0%) 0.0000 ( 0.0%) SIL verification, post-optimization<br>
 24.8956 (100.0%) 0.7069 (100.0%) 25.6026 (100.0%) 26.6593 (100.0%) Total<br>
</code><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<code>xcodebuild -project 'Kickstarter.xcodeproj' \<br>
-scheme 'Kickstarter-iOS' \<br>
-configuration 'Debug' \<br>
-sdk 'iphonesimulator' \<br>
clean build \<br>
OTHER_SWIFT_FLAGS="-Xfrontend -debug-time-expression-type-checking \<br>
 -Xfrontend -debug-time-function-bodies" |<br>
 grep -o "^\d*.\d*ms\t[^$]*$" |<br>
 awk '!visited[$0]++' |<br>
 sed -e "s|$(pwd)/||" |<br>
 sort -rn |<br>
 head -5<br>
<br>
16226.04ms Library/Styles/UpdateDraftStyles.swift:31:3<br>
10551.24ms Kickstarter-iOS/Views/RewardCardContainerView.swift:171:16 instance method configureBaseGradientView()<br>
10547.41ms Kickstarter-iOS/Views/RewardCardContainerView.swift:172:7<br>
8639.30ms Kickstarter-iOS/Views/Controllers/AddNewCardViewController.swift:396:67<br>
8233.27ms KsApi/models/templates/ProjectTemplates.swift:94:5<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la même manière, nous avons profilé notre assemblage et découvert qu'au stade de la vérification de type, il y a plutôt des goulots d'étranglement. </font><font style="vertical-align: inherit;">À l'étape suivante, vous pouvez jeter un œil aux fonctions et expressions répertoriées ci-dessus et essayer d'optimiser l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inférence de type</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temps de construction cible</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est conseillé de mesurer séparément le temps d'assemblage de la cible et de les afficher sur le graphique. </font><font style="vertical-align: inherit;">Vous pouvez aider à comprendre quelles cibles sont collectées ou peuvent être collectées en parallèle. </font><font style="vertical-align: inherit;">Pour ce faire, vous pouvez utiliser l'outil de rendu xcode-build-time. </font><font style="vertical-align: inherit;">Définissons-le comme RubyGem: Une </font><font style="vertical-align: inherit;">
fois l'installation terminée, exécutez la commande suivante pour entrer le journal d'horodatage dans la phase d' </font><font style="vertical-align: inherit;">
exécution du </font><font style="vertical-align: inherit;">script de génération de vos cibles: </font><font style="vertical-align: inherit;">compilez ensuite le projet et le rapport en utilisant: </font><font style="vertical-align: inherit;">
Par conséquent, vous devriez obtenir un joli diagramme de Gantt par temps de génération qui indique l'heure assemblages de toutes vos cibles:</font></font><br>
<br>
<code>gem install xcode-build-times<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<code>xcode-build-times install<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<code>xcode-build-times generate<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/hp/rm/rl/hprmrlqueuo4imky1mu66eich0e.png" alt="image"><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesures agrégées</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait intéressant d'agréger les différents indicateurs mentionnés ci-dessus. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XCLogParser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un excellent outil qui peut vous aider avec cela. </font><font style="vertical-align: inherit;">Il s'agit d'un analyseur de journal pour xcactivitylog généré par Xcode, et donne beaucoup d'informations sur le temps de construction de chaque module et fichier du projet, les avertissements, les erreurs et les résultats des tests unitaires. </font><font style="vertical-align: inherit;">Vous pouvez l'installer en clonant le référentiel et en le lançant via la ligne de commande: </font><font style="vertical-align: inherit;">
Il s'agit d'un rapport créé pour le projet Kickstarter iOS:</font></font><br>
<br>
<code>git clone https://github.com/spotify/XCLogParser<br>
rake build<br>
xclogparser parse --project Kickstarter --reporter html<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/mq/yh/1p/mqyh1pr2goem7tptzemeqfswfaq.png" alt="image"><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il convient de noter que les métriques de temps d'assemblage dépendent du matériel et de leur utilisation. </font><font style="vertical-align: inherit;">Vous pouvez utiliser votre équipement pour des expériences. </font><font style="vertical-align: inherit;">La meilleure option serait d'automatiser le processus autant que possible et d'utiliser un équipement CI dédié pour les mesures quotidiennes. </font><font style="vertical-align: inherit;">En fin de compte, ils peuvent être surveillés sur le tableau de bord et informés de l'aggravation des temps de construction à l'aide de Slack.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Réduire le temps de construction d'un projet est essentiel pour améliorer la productivité des développeurs. </font><font style="vertical-align: inherit;">Aujourd'hui, nous avons appris à mesurer le temps de construction d'un projet et à obtenir des mesures pour l'analyse ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la prochaine publication, nous examinerons les méthodes qui peuvent être utilisées pour réduire le temps de construction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci d'avoir lu!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr498100/index.html">Conception de clusters Kubernetes: combien devraient-ils y en avoir?</a></li>
<li><a href="../fr498104/index.html">Comment les sites sont développés à partir de 100 000 $</a></li>
<li><a href="../fr498110/index.html">«Que faire lorsque des changements spectaculaires dans les processus démotivent une équipe.» L'expérience de l'ingénieur backend devenu chef d'équipe</a></li>
<li><a href="../fr498114/index.html">Attaque d'un pixel. Ou comment tromper un réseau de neurones</a></li>
<li><a href="../fr498118/index.html">Conférences sur la télécommande: transformation en ligne du groupe JUG Ru</a></li>
<li><a href="../fr498122/index.html">Comment tester sur un site distant pour ne pas ruiner le produit et votre vie</a></li>
<li><a href="../fr498124/index.html">Télégramme pour le support technique: outils et pièges</a></li>
<li><a href="../fr498126/index.html">Comment Amazon essaie d'amener les gens à acheter ... moins</a></li>
<li><a href="../fr498128/index.html">Numéro 36: Formation informatique - problèmes et défis actuels des grandes entreprises</a></li>
<li><a href="../fr498130/index.html">Créer une API TODO pour Golang avec Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>