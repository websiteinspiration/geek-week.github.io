<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤫 👰🏻 🏴‍☠️ 我的家庭Kubernetes集群的剖析 🛷 🙇 🚽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="一年前，我意识到我想创建自己的Kubernetes集群。我是软件开发人员。通常，我要么使用单节点本地群集，要么使用远程多节点群集来测试我的项目。当使用单节点集群时，我通常依靠Minikube，尽管还有其他解决方案，例如Kind项目，它可以模拟集群中多个节点的存在。Minikube中可能会出现对多个节...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>我的家庭Kubernetes集群的剖析</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493708/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一年前，我意识到我想创建自己的Kubernetes集群。我是软件开发人员。通常，我要么使用单节点本地群集，要么使用远程多节点群集来测试我的项目。当使用单节点集群时，我通常依靠</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minikube</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，尽管还有其他解决方案，例如</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kind</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目</font><font style="vertical-align: inherit;">，它可以模拟集群中多个节点的存在。</font><font style="vertical-align: inherit;">Minikube中</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能会出现</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对多个节点的支持</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
因此，我想使用上述两种环境的功能。那就是-这样，我将拥有一个由多个节点组成的集群，并且使用这些集群不会暗示与远程环境进行交互所典型的网络延迟。</font><font style="vertical-align: inherit;">
关于使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">单板计算机</font></a><font style="vertical-align: inherit;">构建Kubernetes多节点集群的文章已经写了很多很棒的教程</font><font style="vertical-align: inherit;">。这些手册中有许多都将Raspberry Pi用作SBC。看到这一点，我决定选择阻力最小的路径，并选择了这台计算机。 Raspberry Pi平台已将自己确立为一种廉价且负担得起的解决方案。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/il/ui/ts/iluits7z2ihfycqlskr35gzsstg.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
应该注意的是，该平台的选择提供了一些折衷方案。</font><font style="vertical-align: inherit;">例如，Broadcom和Raspberry Pi Foundation没有许可ARMv8密码扩展（这对于硬件加速AES支持是必需的）。</font><font style="vertical-align: inherit;">另一个有争议的解决方案是使用标准存储介质形式的microSD卡，从中加载操作系统。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过分析在单板计算机上创建集群的现有准则，我没有找到一个描述满足我要求的解决方案的准则。</font><font style="vertical-align: inherit;">我将开始与他们一起创建的集群的故事。</font></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求</font></font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">群集应封装在单独的外壳中，可以与系统的单独模块一起轻松移动，打开和维护。</font></font></li>
<li>            ,         .         ,        ,        .   ,      .   ,        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>.</li>
<li>       ,      .</li>
<li>      , ,  ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a> .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这些要求的背后，有一个不明显的目标，那就是我需要我四岁的女儿来与群集一起工作。</font><font style="vertical-align: inherit;">我希望他会成为她的学习指南，帮助她熟悉计算机，命令外壳和终端。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配饰</font></font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">详情</font></font></b></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源</font></font></b></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pico 5 Raspberry PI 5S入门套件</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">picocluster.com</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单板计算机：2 Raspberry Pi 4B（4GB）3 Raspberry Pi 3B +</font></font></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5个microSD卡32GB 10级/ A1&nbsp;</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raspberrypi.org</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以太网电缆：2 0.25m Cat.83 0.15m Cat.7，S / FTP</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1attack.de</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB电缆PortaPow 20AWG2 USB-C3电缆micro-USB电缆</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portablepowersupplies.co.uk</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方Raspberry Pi 7″触摸屏</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raspberrypi.org</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电源Dehner Elektronik STD-12090 12V /直流9A 108W</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dehner.net</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12V至5V 15A DC-Buck转换器</font></font></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">droking.com</font></font></a></td>
</tr>
<tr>
<td> Heschen 12V 25A SPST 2-Pin ON/OFF</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">heschen.com</a></td>
</tr>
<tr>
<td> Noctua NF-A4x20 5V PWM</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">noctua.at</a></td>
</tr>
<tr>
<td>  , (15A, 30V)  4 ,    MOSFET PSMN011-30YLC</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ebay.com</a></td>
</tr>
<tr>
<td>2  M.2 NVMe  USB 3.0,   JMS58</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">amazon.com</a></td>
</tr>
<tr>
<td>2  Samsung SSD 970 EVO Plus M.2 PCIe NVMe 500 Go</td>
<td></td>
</tr>
<tr>
<td>2   USB 3.0 (  ,  )  6″/152mm</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">usbfirewire.com</a></td>
</tr>
<tr>
<td>2  USB 3.0- Delock, Male-Female ( 270°)</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">delock.com</a></td>
</tr>
<tr>
<td>  Adafruit  Raspberry Pi 24″/610mm</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">adafruit.com</a></td>
</tr>
<tr>
<td>  Adafruit (DSI  CSI)  Raspberry Pi&nbsp;</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">adafruit.com</a></td>
</tr>
<tr>
<td>  Wago  221</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">wago.com</a></td>
</tr>
<tr>
<td>  Lapp Unitronic 300mm/1200mm 2x0.14mm²</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">lappgroup.com</a></td>
</tr>
<tr>
<td> Lemo FGG.0B.302.CLAD42  EGG.0B.302.CLL</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">lemo.com</a></td>
</tr>
<tr>
<td>     DuPont Female-Female</td>
<td></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PicoCluster保护套体积小巧，易于使用。从订购的入门工具包中，我仅使用了机箱（包括闩锁和机架）以及8端口千兆以太网交换机。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在我了解到，如果PicoCluster出售不带任何电子组件的套件版本会更好。该套件的另一种选择是开发自己的外壳。但是，这将需要更多时间。我将不得不创建矢量绘图，我将不得不在一家提供丙烯酸板的公司中使用激光切割服务，理想情况下，该公司的板具有可消除静电放电的涂层。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在工作过程中，我遇到了有关</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">电压不足的</font></a><font style="vertical-align: inherit;">警告</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并发现问题是由包装盒附带的微型USB电缆引起的。此外，还有一个降压DC-DC转换器12V至5V，30W的外壳，我将其替换为功能更强大的转换器。我这样做的原因是，我将在下面的“为系统供电”部分中进行讨论。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在我开始这个项目的工作时，我不打算使用2019年发布的Raspberry Pi 4开发板。这说明我仍然有三个Raspberry Pi 3板充当工作节点。我将另外两个这样的板交换为Raspberry Pi4。它们用于需要更多资源的节点。这是主节点和工作节点，主要用于创建数据备份。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在Raspberry Pi 4发布之后不久，PicoCluster推出了</font><font style="vertical-align: inherit;">专门为此类主板设计</font><font style="vertical-align: inherit;">的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新机箱</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。它包括一个强大的电源，两个风扇和一个电源开关。没错，这种情况比我的要大，风扇肯定会比Noctua NF-A4x20大。</font><font style="vertical-align: inherit;">考虑到在板上执行的温度测量结果，</font><font style="vertical-align: inherit;">可以使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">脉冲宽度调制</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（PWM）</font><font style="vertical-align: inherit;">来控制该风扇的转速</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
应当指出，SoC Broadcom BCM2837（Raspberry Pi 3）和SoC BCM2711（Raspberry Pi 4）都具有能够生成PWM信号的硬件计时器。因此，发出</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">控制输入​​信号</font></a><font style="vertical-align: inherit;">非常简单</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noctua NF-A4x20 PWM所期望的值，而不会使处理器过载。</font><font style="vertical-align: inherit;">此外，风扇以其支持的速度（约2500 rpm）的一半运行时几乎听不到声音。</font><font style="vertical-align: inherit;">事实证明，这足以在正常负载下将系统温度保持在45°C / 113°F以下。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新机箱包含一个集成电源。</font><font style="vertical-align: inherit;">而且，他比我选择的那个贵。</font><font style="vertical-align: inherit;">这种情况下的所有这些特征是即使我现在购买了情况下我仍会选择Pico 5S套件的原因。</font><font style="vertical-align: inherit;">应该加倍努力，但对我来说最终的结果似乎比如果我选择其他建筑物的结果要好。</font><font style="vertical-align: inherit;">通常，值得付出努力和时间。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部件</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍前面板</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c4c/69a/bae/c4c69abaec8489276a0ae015fcc88f93.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前面板</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
前面板有一个用于插入microSD卡的开口。即使考虑到我计划使用</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> USB大容量存储启动</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来组织系统启动，这也很方便</font><font style="vertical-align: inherit;">。我计划在Raspberry Pi 4完全支持此启动模式之后立即执行此操作。该孔还有助于组织壳体中的空气流通。在这种情况下，两个SSD驱动器直接位于风扇的前面，这有助于保持其最佳工作温度。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
电路板的活动和电源指示灯清晰可见，使您可以一目了然地评估集群的状态。以太网交换机的活动指示器也可见。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ada/9df/3c3/ada9df3c359aa12ccfe557460738e672.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不带屏幕的外壳顶部面板</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
可以轻松移动屏幕，使其更靠近键盘，或者在打开外壳时可以访问顶部面板。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍左面板</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bb5/0af/849/bb50af8494c2c3a3df84832943addf92.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左面板</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在机箱的左面板上是板的GPIO端口。</font><font style="vertical-align: inherit;">其中一根电缆将主机与风扇连接-用于组织PWM对其转速的控制。</font><font style="vertical-align: inherit;">另一根电缆将主节点连接到电路板模块，该电路板用于打开和关闭工作节点。</font><font style="vertical-align: inherit;">四根电缆将每个工作节点连接到主节点。</font><font style="vertical-align: inherit;">关闭时，它将使用具有高有效电平的GPIO引脚。</font><font style="vertical-align: inherit;">这允许主节点在其操作结束时执行的一系列操作完成后，安全地关闭工作节点的电源。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/157/16e/984/15716e984e6204e35758d85c63fa87db.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于将风扇连接到主节点的模块</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在左上角是一个小模块，用于将4针Noctua风扇连接器连接到Raspberry Pi主节点。</font><font style="vertical-align: inherit;">由于硬件支持生成PWM信号，相应的GPIO连接器配置为控制风扇速度。</font><font style="vertical-align: inherit;">速度是根据对板温度的分析来选择的，有关该板的信息是使用SSH定期收集的。</font><font style="vertical-align: inherit;">另外，出于监视目的，主机读取风扇速度。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍后面板</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ad/7ab/516/9ad7ab516db66c36391208b50f254db0.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后面板</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
机箱的后面板隐藏电缆。一切看起来都是这样，这一事实可以被认为是对我的项目的模块化组织采取狡猾方法的结果。很难找到优质的电缆。特别是-带弯曲插头的USB 3.0短电缆。电缆-这是我系统中最大的移动元件组，它们必须满足某些机械和电气特性。事实证明，它们是问题的主要根源。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我有一个想法是使用单根螺旋电缆，以将其替换为DSI胶带电缆，通过该电缆将屏幕连接到系统。然后，螺旋电缆将屏蔽网连接到群集并为其供电。但是我找不到合适的DSI连接器。我没有进行这项工作，也没有被焊接0.14mm²的17根导线的前景所吸引。我使用了DSI电缆扩展器，并使用了2线螺旋micro-USB电源线。这使我能够轻松移动和关闭屏幕而无需打开外壳。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b04/a96/1a4/b04a961a4401c18d4a44864fb11ecde8.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布置电缆的尝试失败</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
这是使用系统将电缆组织到专为USB 3.0扩展电缆设计的机箱中的</font><i><font color="#999999"><font style="vertical-align: inherit;">电缆尝试，但未</font></font></i><font style="vertical-align: inherit;">成功。</font><font style="vertical-align: inherit;">尽管进行了无数次尝试正确布线的尝试，但在数据传输期间我还是系统地遇到了I / O错误。</font><font style="vertical-align: inherit;">它们可能是由于在铺设电缆时它们被过度拉伸的事实，或者是由于这削弱了电缆与连接器的可靠连接。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍右面板</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/136/038/7ab/1360387abdbf37fa749782ec3df5b8ca.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">右面板</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在机箱的右侧，您可以看到8端口以太网交换机。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统设计</font></font></font></h2><br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍食物</font></font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eed/93b/b85/eed93bb85e71ca00a19f343d39fd706c.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前面板打开的情况下，</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
我必须决定使用哪个电源。</font><font style="vertical-align: inherit;">特别是，为了满足群集的需求，它必须支持多少瓦特功率。</font><font style="vertical-align: inherit;">这是关于之前发生过的事情的一个问题-鸡还是鸡蛋，因为在向群集供电之前无法进行测量。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了获得大致的功耗估算，我转到了</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中包含有关Raspberry Pi的功耗以及其他组件规格的一些信息。</font><font style="vertical-align: inherit;">这给了我以下基于平均能耗的近似数字。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fa/097/c9b/8fa097c9b1f40c9003bcf75b31d6c672.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是考虑到文档中能耗的最大值之后发生了什么。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cec/3fc/424/cec3fc4241a30a788ff793edbf27cc86.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这比那些可以产生5V电源的电源要高得多，因为“低功耗”组件需要10A的电流。这排除了使用单个5V电源的可能性。同时，12V电源很常见，可以提供必要的电源水平。结果，我选择了Dehner Elektronik STD-12090 12V / DC 9A 108W电源，并将其连接到</font><font style="vertical-align: inherit;">12V至5V 75W </font><font style="vertical-align: inherit;">DC / DC </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转换器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在这里，我还有另一种选择，其中包括使用五个功能较弱的转换器-每个Raspberry Pi板一个，但是这会使群集设计大大复杂化。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c86/e1a/95f/c86e1a95febd0d64ea0ee5f9bbafe28a.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接线板</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在机箱底部安装了一个基于MOSFET PSMN011-30YLC的4引脚接线板。它用于启用和禁用工作节点。它标为15A，30V，因此即使在由四台Raspberry Pi产生的负载下也能很好地应对。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我测量了集群消耗的平均功率和最大功率。测量结果与我之前所做的近似计算大致一致。期望值和实际值之间的差异可以通过系统配置的功能和测试的功能来解释。特别是，我在Raspberry Pi上关闭了Wi-Fi和蓝牙，它们也可以正常工作，而不会在显示器上显示图像。这可以解释一个事实，那就是现实中的价值实际上更低。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
事实证明，108W电源比集群所需的电源强大得多。</font><font style="vertical-align: inherit;">但是，事实上，我只有这样的电源，这意味着我可以扩展系统的功能。</font><font style="vertical-align: inherit;">例如，将Raspberry Pi 3替换为Raspberry Pi 4。</font></font><br>
<br>
<h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">▍数据存储</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raspberry Pi 4的新功能之一是板上有两个USB 3.0端口，这些端口使用非常快速的PCIe连接连接到BCM2711 SoC。因此，人们可以希望达到很高的数据速率。我决定使用这些USB 3.0端口将使用M.2 NVMe的SSD连接到USB 3.0适配器。但是，事实证明，很难找到这样的适配器。我天真地建议任何适配器都适合我。其结果是，我买的第一个这样的适配器，而不检查其与树莓派4兼容性</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我，幸运的是，遇到</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspberry Pi 4下载指南，然后购买了推荐的Shinestar M.2 NVMe转USB 3.0适配器。</font><font style="vertical-align: inherit;">它的大小几乎与M.2 NVMe 2280相同（宽22毫米，长80毫米），非常适合Pico 5S机壳。</font><font style="vertical-align: inherit;">我使用适配器将Samsung SSD 970 EVO Plus M.2 PCIe NVMe 500 Go连接到Raspberry Pi。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/92e/5a5/1e9/92e5a51e924bcfe0c77ef14278917734.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于USB 3.0的M.2 NVMe适配器</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
安装并配置完所有组件后，我决定快速测试驱动器并找出数据传输速度。</font><font style="vertical-align: inherit;">为此，我使用</font></font><code>scp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下</font><font style="vertical-align: inherit;">命令从SSD将大文件复制到笔记本电脑</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<code>$ scp pi@master:&lt;source&gt; &lt;destination&gt;<br>
100% 1181MB 39.0MB/s 00:30</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
39 Mb / s的结果使我感到失望。这些数字远非完全加载千兆以太网交换机所需的数字。我开始寻找系统中可能出现的瓶颈，并意识到在文件传输期间，处理器核心之一始终会被100％加载。在我发现处理器是数据传输的瓶颈之后，我很快发现Raspberry Pi 4不支持AES硬件，因为Broadcom和Raspberry Pi Foundation没有许可ARMv8加密扩展。有趣的是，处理器是Raspberry Pi 4上系统的瓶颈，而Raspberry Pi 3的瓶颈是USB 2.0和网络接口。</font><font style="vertical-align: inherit;">在相同条件下</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用的新测试</font></font><code>netcat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以104 Mb / s的速度提供了更好的结果：</font></font><br>
<br>
<pre><code class="bash hljs">$ nc -l 6000 |dd bs=1m of=&lt;destination&gt; &amp; ssh pi@master <span class="hljs-string">"dd bs=1M if=&lt;source&gt; | nc -q 0 <span class="hljs-subst">$(hostname -I | awk '{print $1}')</span> 6000"</span><font></font>
[1] 71300 71301<font></font>
1181+1 records <span class="hljs-keyword">in</span><font></font>
1181+1 records out<font></font>
1238558304 bytes (1.2 GB, 1.2 GiB) copied, 11.8632 s, 104 MB/s<font></font>
0+740624 records <span class="hljs-keyword">in</span><font></font>
0+740624 records out<font></font>
1238558304 bytes transferred <span class="hljs-keyword">in</span> 14.212518 secs (87145593 bytes/sec)<font></font>
[1]&nbsp; + 71300 <span class="hljs-keyword">done</span> &nbsp; &nbsp; &nbsp; nc -l 6000 |<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71301 <span class="hljs-keyword">done</span> &nbsp; &nbsp; &nbsp; dd bs=1m of=&lt;destination&gt;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
处理完第一个SSD驱动器后，我将第二个相同的驱动器连接到另一个Raspberry Pi 4板上，我将使用该驱动器通过</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restic之</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类的</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">方法</font></a><font style="vertical-align: inherit;">备份第一个驱动器</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此外，我计划在Raspberry Pi 4完全支持此启动方法之后，立即使用SSD来通过USB大容量存储启动来组织启动。</font><font style="vertical-align: inherit;">与从microSD下载相比，它具有更高的速度和更稳定的性能水平。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">软件</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我是一名程序员，所以我认为处理集群的软件部分比处理其他问题要容易得多。</font><font style="vertical-align: inherit;">Rancher团队</font><font style="vertical-align: inherit;">在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">所做</font></a><font style="vertical-align: inherit;">的出色工作的结果</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">无疑</font></a><font style="vertical-align: inherit;">对我有帮助</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">我不会在这里讨论使用k3在Raspberry Pi上设置Kubernetes集群的特定细节。</font><font style="vertical-align: inherit;">对于那些有兴趣的人，我建议您参考</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指南。</font><font style="vertical-align: inherit;">这是我要详细介绍的配置要点。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，在每个节点上启用</font></font><code>cgroups</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo sed -i <span class="hljs-string">'$ s/$/ cgroup_enable=cpuset cgroup_memory=1 cgroup_enable=memory/'</span> /boot/cmdline.txt<font></font>
$ sudo reboot<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后在主节点上安装k3s：</font></font><br>
<br>
<pre><code class="bash hljs">$ curl -sfL https://get.k3s.io | sh -s - --write-kubeconfig-mode 644
<span class="hljs-comment">#   </span><font></font>
$ sudo systemctl status k3s<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在我们得到一个令牌，授权工作节点到主节点的连接：</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo cat /var/lib/rancher/k3s/server/node-token
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来-在每个工作节点上安装k3：</font></font><br>
<br>
<pre><code class="bash hljs">$ curl -sfL https://get.k3s.io | K3S_URL=<span class="hljs-string">"https://&lt;MASTER_IP&gt;:6443"</span> K3S_TOKEN=<span class="hljs-string">"&lt;NODE_TOKEN&gt;"</span> sh -
<span class="hljs-comment">#   </span><font></font>
$ sudo systemctl status k3s-agent<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果计划使用默认情况下安装的容器映像的内部注册表，则可能需要以特殊方式对其进行配置，以允许从中</font></font><code>containerd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加载映像：</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo sh -c <span class="hljs-string">'REGISTRY=$(kubectl get svc -n kube-system registry -o jsonpath={.spec.clusterIP}); \
cat &lt;&lt;EOT &gt;&gt; /etc/rancher/k3s/registries.yaml
mirrors:
&nbsp;&nbsp;"$REGISTRY":
&nbsp;&nbsp;&nbsp;&nbsp;endpoint:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- "http://$REGISTRY"
EOT'</span><font></font>
$ sudo service k3s restart<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未来的计划</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在本文中，我没有透露一些值得深入分析的重要主题。</font><font style="vertical-align: inherit;">例如，以下内容：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作节点的软件电源管理和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动集群扩展</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装PWM风扇并调整其速度时要考虑系统的温度指示器。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">MetalLB</font></a><font style="vertical-align: inherit;">在Kubernetes上</font><font style="vertical-align: inherit;">安装</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi-Hole</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
也许我会写更多有关此的内容。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此外，我计划通过执行以下操作来继续在集群上工作：</font></font><br>
<br>
<ul>
<li>  SSD-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">USB mass storage boot</a>.</li>
<li>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Restic</a>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我敢肯定，当我谈到创建Kubernetes家庭集群的经验时，我忘了很多东西。</font><font style="vertical-align: inherit;">我是一名程序员，习惯于将大型任务分解为较小的案例。</font><font style="vertical-align: inherit;">经验表明，在反复试验中，硬件的容忍度要比软件差得多。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
总的来说，我越了解，我对现代硬件和软件技术的敬佩就越大。</font><font style="vertical-align: inherit;">让我惊讶的是，一个人的独创性如何将电子现象和编程语言结合在一起，使它们成为可以被视为意识控制方式的一个例子。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">亲爱的读者们！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您是否尝试过做与本文作者所描述的类似的事情？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN493696/index.html">在Linux上加速Qemu KVM磁盘子系统</a></li>
<li><a href="../zh-CN493700/index.html">在Azure中使用恶意软件来访问Microsoft 365租户</a></li>
<li><a href="../zh-CN493702/index.html">大规模过渡到远程工作：技术问题和对安全的威胁</a></li>
<li><a href="../zh-CN493704/index.html">在JavaScript中使用TypeScript而不编写TypeScript</a></li>
<li><a href="../zh-CN493706/index.html">认识你的敌人：创建一个Node.js后门</a></li>
<li><a href="../zh-CN493712/index.html">新的TypeScript功能可增强可用性</a></li>
<li><a href="../zh-CN493714/index.html">安全备忘单：Node.js</a></li>
<li><a href="../zh-CN493716/index.html">使用as const构造和infer关键字使用TypeScript进行类型推断</a></li>
<li><a href="../zh-CN493718/index.html">讨论：很少使用且当前正在使用的标准UNIX实用程序</a></li>
<li><a href="../zh-CN493720/index.html">完美风暴：技术如何改变食品服务行业</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>