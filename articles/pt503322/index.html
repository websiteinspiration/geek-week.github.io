<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Ä üë©üèª‚Äçü§ù‚Äçüë®üèæ üßëüèª‚Äçü§ù‚Äçüßëüèª Desenvolvimento de Firmware: Introdu√ß√£o üßóüèæ üë©üèΩ‚Äçüç≥ ü§≤üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√° Habr! Apresento a voc√™ a tradu√ß√£o dos artigos de Chris Svec, o original est√° aqui . Publicado com permiss√£o do autor sob licen√ßa CC-A-NC-ND .
 
 E...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento de Firmware: Introdu√ß√£o</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503322/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ol√° Habr! </font><font style="vertical-align: inherit;">Apresento a voc√™ a tradu√ß√£o dos artigos de Chris Svec, o original est√° </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Publicado com permiss√£o do autor sob licen√ßa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC-A-NC-ND</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engenharia de software embarcada 101: introdu√ß√£o</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estou lan√ßando uma s√©rie de tutoriais sobre desenvolvimento de firmware. Come√ßaremos descrevendo um microcontrolador simples e, depois que voc√™ entender como ele funciona, iremos desenvolv√™-lo para entender como ele funciona em rela√ß√£o a sistemas complexos, como Fitbit ou Nest. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chamei essa s√©rie de Embedded Software Engineering 101, e come√ßa esta semana aqui neste blog. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Continue lendo para mais explica√ß√µes e detalhes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qh/t1/jv/qht1jvvzpmxjwz9c8cpbnhiomgc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alguns blocos de constru√ß√£o em outros.</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trabalho com sistemas embarcados e desenvolvo microchips h√° mais de 14 anos. Gosto de sistemas embarcados - hardware, software e as limita√ß√µes que os unem. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eletr√¥nicos amadores e id√©ias como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adafruit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sparkfun</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tornaram poss√≠vel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">jogar</font></a><font style="vertical-align: inherit;"> facilmente algo de hardware e software no fim de semana (ou um m√™s ou semestre), criando algo novo, interessante e at√© √∫til. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â √≥timo! Dar √†s pessoas a oportunidade de criar √© uma coisa incr√≠vel; se quisesse me expressar com severidade, chamaria aspiracionalmente de "tecnologia democratizante".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maioria dos projetos amadores √© √∫nica. Voc√™ coleciona algo, torna-o t√£o bom quanto voc√™ tem tempo ou energia suficiente e segue em frente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passei minha carreira no extremo oposto do espectro - criando produtos com centenas de milhares ou milh√µes ou mais c√≥pias - e isso requer uma maneira completamente diferente de pensar e uma abordagem sistem√°tica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quero ensinar as pessoas a escrever firmware para esses tipos de sistemas. Alimentei essa id√©ia h√° muito tempo no curso / guia / livro / blog da Embedded Software Engineering 101 e, gra√ßas ao blog Embedded.fm, estou come√ßando a implement√°-la agora.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como sou um tipo fundamental, meu plano √© come√ßar com o b√°sico, com uma descri√ß√£o simples de um microprocessador simples, e desenvolver essa base at√© voc√™ entender como funciona um sistema incorporado relativamente complexo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meu objetivo √© que, ao final deste ciclo, voc√™ possa descobrir como o Fitbit funciona, um termostato Nest ou um sistema embarcado semelhante. </font><font style="vertical-align: inherit;">Voc√™ pode come√ßar a trabalhar com sistemas de software embarcados usando experi√™ncia profissional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Engenharia de software embarcada 101 foi projetada para:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graduados universit√°rios no campo da ci√™ncia da computa√ß√£o, engenharia da computa√ß√£o ou eletr√¥nica, interessados ‚Äã‚Äãem sistemas embarcados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entusiastas de eletr√¥nicos amadores que desejam entender mais profundamente como o sistema deles funciona no Arduino e descobrir como eles seguem em frente (e se √© necess√°rio!).</font></font></li>
<li>      ,        ,   .</li>
<li>,       ,    -.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que quero dizer com dizer que sou uma ‚Äúpessoa do tipo fundamental‚Äù? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Richard Feynman</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , f√≠sico vencedor do Pr√™mio Nobel e excelente contador de hist√≥rias, colocou da melhor maneira poss√≠vel: "O que n√£o posso recriar, n√£o entendo". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, n√£o sou Feynman, mas tenho certeza de que a melhor maneira de entender o sistema √© come√ßar com o b√°sico. Armado com esse entendimento, voc√™ pode criar sistemas embarcados simples com software simples. E, depois de entender um programa muito simples, voc√™ pode desenvolv√™-lo criando software mais complexo √† medida que a experi√™ncia aumenta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O b√°sico em primeiro lugar - √© claro que isso √© apenas minha convic√ß√£o pessoal. Muitas pessoas fizeram coisas √∫teis com o Arduino sem entender nada do b√°sico. Esta s√©rie de artigos √© para aqueles que ainda querem entender o b√°sico e tudo o que √© constru√≠do sobre eles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â claro que devemos nos perguntar - onde est√° o n√≠vel certo para come√ßar com esses "princ√≠pios b√°sicos"? Transistores e portas l√≥gicas? N√£o, isso √© muito baixo para come√ßar com o firmware. Conectar-se a sensores comuns? N√£o, √© um n√≠vel muito alto, √© preciso muito conhecimento para come√ßar com isso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu acho que o n√≠vel certo de b√°sico √© o microprocessador embutido. N√£o √© necess√°rio entender f√≠sica ou eletr√¥nica para usar o microprocessador embutido; tamb√©m n√£o √© necess√°rio ser um especialista em programa√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, √© aqui que come√ßaremos no pr√≥ximo artigo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aviso de preconceito: Em uma vida passada, eu era desenvolvedor de arquitetos / processadores. </font><font style="vertical-align: inherit;">Iniciar esse ciclo entendendo como a CPU funciona pode n√£o ser a melhor maneira de entender os sistemas incorporados, mas √© assim que meu c√©rebro funciona. </font><font style="vertical-align: inherit;">Tente outros cursos / manuais, etc., se voc√™ n√£o entender isso depois de v√°rios artigos.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Engenharia de software embarcada 101: no√ß√µes b√°sicas sobre microcontroladores</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Come√ßaremos nossa jornada do Embedded Software Egineering 101 com um microcontrolador modesto. Um microcontrolador (ou microprocessador) √© o principal componente de todos os sistemas de computa√ß√£o, embutidos e outros. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O MK parece bastante complicado, mas consiste em tr√™s coisas simples: instru√ß√µes, registros e mem√≥ria. Instru√ß√µes s√£o as coisas que o microcontrolador sabe executar. Um MK simples √© capaz de executar nem tanto - pode ter, por exemplo, 20 ou 30 instru√ß√µes. Posteriormente neste ciclo, usarei o microcontrolador MSP430 da Texas Instruments, que possui apenas 27 instru√ß√µes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/ej/aa/iuejaatxtmpv26vkwkoupso0eic.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apenas uma foto do MK (TI MSP430F5529)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas 27 instru√ß√µes s√£o as √∫nicas coisas que o MSP430 pode fazer. Ele pode adicionar dois n√∫meros, subtrair outro de um n√∫mero, mover n√∫meros de um lugar para outro ou executar 24 outras opera√ß√µes simples. 27 opera√ß√µes podem n√£o parecer suficientes para fazer algo √∫til, mas, na realidade, ser√£o suficientes para executar qualquer programa conceb√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bem, isso significa que o microcontrolador tem instru√ß√µes que fazem algo com n√∫meros. Mas onde est√£o esses n√∫meros? Registradores e mem√≥ria! As instru√ß√µes operam com n√∫meros armazenados nos registradores e na mem√≥ria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os registros s√£o um reposit√≥rio muito r√°pido que cont√©m n√∫meros que operam com instru√ß√µes. Voc√™ pode pensar neles como um bloco de notas usado por instru√ß√µes. O MK cont√©m poucos registros, geralmente 8-32. Por exemplo, o MSP430 possui 16 registros.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A mem√≥ria tamb√©m armazena n√∫meros, mas √© muito maior e mais lenta que os registros. O microcontrolador pode ter 64 kB, 256 kB ou at√© mais de 1 MB de mem√≥ria. MSP430F5529 tem cerca de 128 kB de mem√≥ria; isso √© mais de 8.000 vezes o n√∫mero de seus registros! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de come√ßarmos a ver exemplos, pe√ßo que voc√™ pegue um peda√ßo de papel e uma caneta ou l√°pis e estude esses exemplos enquanto l√™. √â mais dif√≠cil estud√°-los no papel do que apenas ler o que escrevi. Assim, voc√™ abordar√° cuidadosamente o processo, e as chances de memorizar os aprendidos ser√£o maiores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejamos um exemplo fict√≠cio, mas caracter√≠stico, de um microcontrolador.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que nosso MK tenha 4 registros e 8 c√©lulas de mem√≥ria. Os registros geralmente s√£o chamados de forma criativa, por exemplo, "R0", "R1" etc. etc., e faremos o mesmo. As c√©lulas de mem√≥ria s√£o geralmente referenciadas por seus n√∫meros, tamb√©m chamados de endere√ßos de mem√≥ria, come√ßando pela numera√ß√£o 0. √â assim que nossos registros e mem√≥ria ficar√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/81/oy/up/81oyupyasmwundb235_kgf-uwuw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E agora vou colocar alguns valores neles: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, nosso microcontrolador fict√≠cio precisa de algumas instru√ß√µes.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conjunto de instru√ß√µes que o MK conhece √© chamado de conjunto de instru√ß√µes. Digamos que no conjunto haver√° tr√™s instru√ß√µes: ADICIONAR (adicionar), SUB (abrevia√ß√£o de "subtrair" - subtrair) e MOVER (mover). As instru√ß√µes devem obter os n√∫meros dos quais eles operam de algum lugar e tamb√©m colocar seus resultados em algum lugar, para que alguns deles contenham informa√ß√µes sobre onde est√£o os dados de entrada e sa√≠da. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, deixe nossa instru√ß√£o ADD ter duas fontes e um receptor de dados, e todas elas devem ser registradoras. O manual pode descrever esta instru√ß√£o assim:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ADD registr, regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instru√ß√£o ADD adiciona o valor do registro regGist ao valor do registro regPrm e salva o resultado no registro regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resumo: regPrm = regGist + regPrm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemplo: ADD R1, R2 executa a opera√ß√£o R2 = R1 + R2</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â geralmente aceito nas instru√ß√µes para usar uma das fontes tamb√©m como receptor, como a instru√ß√£o ADD, usando regPrm como fonte e receptor de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"ADD R1, R2" √© uma linguagem assembler para um microcontrolador, √© uma linguagem de programa√ß√£o nativa MK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos definir SUB no mesmo estilo:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SUB registr, regrpm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instru√ß√£o SUB subtrai o valor do registro registr do valor do registro regprm e armazena o resultado no registro regprm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resumo: regPrm = regPrm - registr </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemplo: SUB R3, R0 executa a opera√ß√£o R0 = R0 - R3</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por fim, deixe a instru√ß√£o MOVE ter uma fonte e um receptor e:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ambos os argumentos s√£o registradores,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um √© um registro e um √© um local de mem√≥ria.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O guia do conjunto de instru√ß√µes ler√°:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. MOVE registre, registre </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. MOVE registre, registre </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. MOVE registre, rem </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instru√ß√£o MOVE copia os dados do argumento Leste para o argumento Prm. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resumo: Existem tr√™s tipos de instru√ß√µes MOVE </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. regPrm = </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
registr 2.regPm = memist </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. memPm = reg </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemplo: Mostrarei exemplos da instru√ß√£o MOVE posteriormente neste post.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma observa√ß√£o sobre a palavra ‚Äúmover‚Äù usada para esta instru√ß√£o: a maioria dos conjuntos de instru√ß√µes a utiliza, embora, na realidade, os dados sejam copiados, n√£o movidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O nome "mover" pode dar a impress√£o de que a fonte do operando da instru√ß√£o √© destru√≠da ou limpa, mas, na verdade, permanece isolada, apenas o receptor √© modificado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos examinar alguns exemplos usando nosso microcontrolador fict√≠cio. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No in√≠cio, nossos registros e mem√≥ria ficam assim: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n5/y-/gf/n5y-gfwfebw0mhun48svuowdf3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, executamos a seguinte instru√ß√£o no MK:</font></font><br>
<br>
<pre><code class="plaintext hljs">ADD R1, R2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele pega o valor de R1, adiciona ao valor de R2 e armazena o resultado em R2. </font><font style="vertical-align: inherit;">O processador executa a maioria das instru√ß√µes em uma opera√ß√£o, mas dividirei a execu√ß√£o de cada instru√ß√£o ADD, SUB e MOVE em v√°rias etapas com a seta "=&gt;" que conduz as substitui√ß√µes (registro / mem√≥ria =&gt; valor):</font></font><br>
<br>
<pre><code class="plaintext hljs">R2 = R1 + R2 =&gt;<font></font>
R2 = 37 + 100 =&gt;<font></font>
R2 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s executar esta instru√ß√£o, a mem√≥ria permanece inalterada, mas os registradores agora t√™m a seguinte apar√™ncia, com o valor alterado escrito em vermelho: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/nz/ps/ysnzpsf8dzdbyzqmnvncdxjatbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que R1 permanece inalterado; </font><font style="vertical-align: inherit;">somente o registro do receptor R2 mudou. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, vamos tentar a instru√ß√£o SUB:</font></font><br>
<br>
<pre><code class="plaintext hljs">SUB R3, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ela pega o valor de R3, subtrai-o do valor de R0 e armazena o resultado em R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R0 - R3 =&gt;<font></font>
R0 = 42 - 2 =&gt;<font></font>
R0 = 40</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de executar esta instru√ß√£o, a mem√≥ria permanece inalterada, mas os registros agora ficam assim: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sp/21/wm/sp21wmmbqgn3ihi8lbyzsbumohc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, vamos tentar algumas vers√µes da instru√ß√£o MOVE:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R2, R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta instru√ß√£o MOVE copia o valor de R2 para R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = R2 =&gt;<font></font>
R0 = 137</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E agora os registros ficam assim: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/iu/d-/vliud-kydqc4invua-jnrtrdgig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, copiamos o registro na mem√≥ria:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE R3, [3]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta instru√ß√£o MOVE copia R3 para o local da mem√≥ria 3. </font><font style="vertical-align: inherit;">Os colchetes no nosso conjunto de instru√ß√µes s√£o as c√©lulas da mem√≥ria.</font></font><br>
<br>
<pre><code class="plaintext hljs">[3] = R3 =&gt;<font></font>
[3] = 2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os registradores permanecem inalterados, mas a mem√≥ria muda: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gi/k1/we/gik1wejnfubjv0akvbq67yy91xw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E para o nosso √∫ltimo exemplo, copiamos o valor da mem√≥ria para o registro:</font></font><br>
<br>
<pre><code class="plaintext hljs">MOVE [6], R0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, o valor da c√©lula de mem√≥ria 6 √© copiado para o registro R0:</font></font><br>
<br>
<pre><code class="plaintext hljs">R0 = [6] =&gt;<font></font>
R0 = 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A mem√≥ria √© imut√°vel, e os registros agora t√™m a seguinte apar√™ncia: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/62/cy/st62cygqqyiyqoou-tzrfxmxa8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
acredite ou n√£o, mas se voc√™ entende a maior parte do que acabamos de discutir sobre instru√ß√µes, registros e mem√≥ria, ent√£o entende os conceitos b√°sicos de microcontroladores e linguagem assembly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Claro que omiti muitos detalhes. </font><font style="vertical-align: inherit;">Por exemplo, como o MK obt√©m instru√ß√µes para executar? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem instru√ß√µes mais interessantes do que apenas simples instru√ß√µes matem√°ticas e de c√≥pia? </font><font style="vertical-align: inherit;">A mem√≥ria √© igual √† RAM ou flash, ou n√£o? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Responderemos a essas perguntas no pr√≥ximo artigo.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt503300/index.html">O livro ‚ÄúRick e Morty. Guia para o desenho mais brilhante de todas as gal√°xias ¬ª</a></li>
<li><a href="../pt503302/index.html">Acelerando a cria√ß√£o de um projeto no CMake + GCC: pr√©-compila√ß√£o de arquivos de cabe√ßalho</a></li>
<li><a href="../pt503310/index.html">O que pensam os programadores seniores?</a></li>
<li><a href="../pt503312/index.html">Como causar um vazamento de mem√≥ria em um aplicativo Angular?</a></li>
<li><a href="../pt503318/index.html">Profiss√£o: Programador. Nem tudo est√° claro</a></li>
<li><a href="../pt503324/index.html">‚ÄúNo auge‚Äù de Brad Stalberg e Steve Magness: preven√ß√£o de combust√£o espont√¢nea (parte um)</a></li>
<li><a href="../pt503328/index.html">Compilamos o aplicativo Spring Boot em nativo usando o GraalVM</a></li>
<li><a href="../pt503330/index.html">Como aprender com um cientista de dados: as habilidades t√©cnicas mais procuradas</a></li>
<li><a href="../pt503338/index.html">Meus trabalhos para o Outline 2020</a></li>
<li><a href="../pt503342/index.html">O modelo mais simples de macroeconomia e tend√™ncias no suporte a informa√ß√µes de mercado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>