<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐑 🍆 🕓 Ein wenig über das Gerät des modernen Radios am Beispiel von HackRF One 🥩 🙏 🕺🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Grüße, Habr!
 Vor einiger Zeit kamen in meinem Sichtfeld sehr oft viele Artikel, Videos zum Thema SDR-Transceiver. Das Thema ist heute von Interesse. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ein wenig über das Gerät des modernen Radios am Beispiel von HackRF One</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499376/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grüße, Habr!</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor einiger Zeit kamen in meinem Sichtfeld sehr oft viele Artikel, Videos zum Thema SDR-Transceiver. Das Thema ist heute von Interesse. HackRF One-Geräte sind bei Funkamateuren und anderen „Technikfreaks“ verschiedener Art sehr beliebt (bis heute, obwohl dieser Transceiver schon lange auf dem Markt ist und es bereits viele andere SDR-Optionen eines ähnlichen Plans gibt). einschließlich produktiver). In fast allen Artikeln zu diesem Thema werden Softwaretools behandelt (in der Regel mit GNU Radio arbeiten, DSP-Algorithmen beschreiben usw.), praktische Beispiele für die Erfassung von Funksignalen gegeben, GPS-Spoofing demonstriert, Signale von Wettersatelliten empfangen usw. Hack-RF One wird als eine Art universelle "Box" verwendet,So können Sie viele interessante Dinge tun. Es reicht aus, ein wenig Programmiererfahrung und ein allgemeines Verständnis dafür zu haben, was ein digitales Signal ist - im Prinzip wurde die Eintrittsschwelle für die einfachsten Experimente mit SDR überwunden. In der Tat ist das natürlich großartig.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber unter vielen Artikeln habe ich noch keinen einzigen getroffen, bei dem die Hardware dieses Transceivers sorgfältig geprüft und dessen Schaltung mehr oder weniger gründlich analysiert wurde (wenn Sie sich getroffen haben, geben Sie bitte einen Link in den Kommentaren an). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus ist eine gewisse Verachtung der „Benutzer“ dieses und anderer ähnlicher Transceiver-Module für dieses Problem alarmierend. In vielen populären Artikeln wird darauf hingewiesen, dass der SDR-Empfänger / Sender:</font></font><br>
<img src="https://habrastorage.org/webt/xf/7o/cz/xf7ocz_ftvfwspt4kzcequdv9pg.jpeg"><br>
 <a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist klar, dass das Hauptprinzip der SDR-Technologie darin besteht, die Funktionen eines Funksystems (das zuvor in analoger Form mit elektronischen Geräten ausgeführt wurde) in digitaler Form durch Verarbeitung eines digitalisierten Signals zu implementieren. Und das nicht nur bei der Übertragung der Verarbeitung auf digital, sondern auch bei der Verwendung komplexerer Werkzeuge zur Verarbeitung von Signalen. All dies bedeutet jedoch keineswegs, dass die physische Ausführungsform eines typischen modernen SDR-Transceivers ein ADC / DAC + DSP-Modul ist und alles andere nicht erforderlich ist (und wenn ja, ist es sekundär). Dementsprechend sind keine Kenntnisse zum Verständnis der analogen Schaltung des Funkmoduls erforderlich. Es scheint genug zu sein, einen ADC, DAC mit coolen Eigenschaften zu ergattern, sie von einem Ende an die Antenne und vom anderen an einen PC anzuschließen - und hier ist SDR für alle Fälle und für alle Generationen bereit.Vielleicht reicht dieser Ansatz aus, um die Prinzipien von SDR zu demonstrieren, aber dies ist eindeutig nicht genug für echte Kommunikationsgeräte.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Fall werden Fliegen von Schnitzel sehr einfach getrennt. Das Aufkommen neuer Technologien negiert nicht die Physik, die Natur der Dinge und analoge Schaltkreise.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie wissen, ist es mit dem ADC sinnvoll, ein Signal mit einer extremen Signalfrequenz zu digitalisieren, die zwei- oder mehrmals niedriger als die Abtastfrequenz ist. Nur in diesem Fall können Informationen aus dem Signal ohne Verlust wiederhergestellt werden. Sehr oft treten Situationen auf, in denen die extreme Frequenz des Signals die Hälfte der Abtastfrequenz der weltweit vorhandenen ADCs überschreitet oder wenn die Option, solche ADCs zu verwenden, für ein bestimmtes Projekt unangemessen teuer ist. In diesem Fall besteht kein Ausweg aus der Notwendigkeit, das Signal in analoger Form in den unteren Teil des Spektrums zu übertragen. Und es wird häufig verwendet. Ganz zu schweigen von der Notwendigkeit, das analoge Signal zu verstärken und zu filtern, um die erforderlichen Eigenschaften des Funksystems zu erreichen. Das gleiche gilt für den DAC und den Sendepfad.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir uns eine ernstere Quelle ansehen (zum Beispiel das Buch „Software-Defined Radio for Engineers“ von den Spezialisten von Analog Devices Inc.), werden wir </font></font><br>
 <img src="https://habrastorage.org/webt/aj/v6/lx/ajv6lxnegxhg0fkktfqn1ebjxly.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
feststellen, </font><font style="vertical-align: inherit;">dass eine typische Hardwarearchitektur der SDR-Plattform folgendermaßen aussieht: </font><font style="vertical-align: inherit;">Wie Sie sehen können, zwischen den Antennen und dem ADC / DAC Der Ort, an dem sich der RF-Front-End-Block befindet, der die Implementierung der oben genannten Funktionen umfasst. Ich möchte in diesem Artikel mehr über diesen Teil des HackRF One-Transceivers sprechen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber später. Ich besuche eine Weile.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich nehme an, dass eine vereinfachte Wahrnehmung wahrscheinlich damit zusammenhängt, an welchen Themenbereich eine Person „gewöhnt“ ist - eine Art professionelle Verformung. Angenommen, ein Entwickler, der wenig direkt mit Funkelektronik zu tun hatte, hat herausgefunden, dass es ein solches Wunder gibt - SDR, es kann programmiert, Signale von Software verarbeitet, verarbeitet / synthetisiert, durch Funk-Hacking gejagt usw. werden, d. H. Mit dem Programmcode können Sie echte physische Funksignale erzeugen und die empfangenen verarbeiten (zumindest aus dem Autosignal eines bösen Nachbarn, zumindest aus dem Weltraum). In der Tat ist es cool! Und das Thema ist für den Menschen interessant, er ist völlig in das Thema vertieft und ... und meistens beginnt er nicht, die Theorie der Funkkommunikation und der Funktechnik zu studieren. Er macht in diesem Thema das, was er bereits weiß und was er mehr mag - er beherrscht Software-Design-Tools, beginnt sich an DSP zu erinnern / zu studieren ,- Letztendlich betrachtet er diese Bereiche als die wichtigsten und wichtigsten im Transceiver, alles andere tritt in den Hintergrund und scheint nicht so wichtig und im Prinzip nicht so notwendig zu sein. Natürlich übertreibe ich, aber ich habe viele ähnliche Meinungen getroffen (absolut aufrichtig), auch auf dem Hub Dieser Ansatz funktioniert jedoch in der Regel nur bei der Verwendung solcher Geräte durch Amateure. In der Realität spielen die Funkfrequenzeigenschaften des Transceivers eine ebenso wichtige Rolle, die während der Entwicklung notwendigerweise berechnet, modelliert und optimiert werden müssen, wenn es notwendig ist, ein Kommunikationssystem, ein IoT-Gerät, eine Art Radar usw. unabhängig voneinander zu entwerfen. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.alles andere tritt in den Hintergrund und es scheint, dass es nicht so wichtig und im Prinzip nicht so notwendig ist. Natürlich übertreibe ich, aber ich habe viele ähnliche Meinungen getroffen (absolut aufrichtig), auch auf dem Hub Dieser Ansatz funktioniert jedoch in der Regel nur bei der Verwendung solcher Geräte durch Amateure. In der Realität spielen die Funkfrequenzeigenschaften des Transceivers eine ebenso wichtige Rolle, die während der Entwicklung notwendigerweise berechnet, modelliert und optimiert werden müssen, wenn es notwendig ist, ein Kommunikationssystem, ein IoT-Gerät, eine Art Radar usw. unabhängig voneinander zu entwerfen. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.alles andere tritt in den Hintergrund und es scheint, dass es nicht so wichtig und im Prinzip nicht so notwendig ist. Natürlich übertreibe ich, aber ich habe viele ähnliche Meinungen getroffen (absolut aufrichtig), auch auf dem Hub Dieser Ansatz funktioniert jedoch in der Regel nur bei der Verwendung solcher Geräte durch Amateure. In der Realität spielen die Funkfrequenzeigenschaften des Transceivers eine ebenso wichtige Rolle, die während der Entwicklung notwendigerweise berechnet, modelliert und optimiert werden müssen, wenn es notwendig ist, ein Kommunikationssystem, ein IoT-Gerät, eine Art Radar usw. unabhängig voneinander zu entwerfen. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.Aber ich habe viele ähnliche Meinungen getroffen (absolut aufrichtig), auch auf dem Hub Dieser Ansatz funktioniert jedoch in der Regel nur bei der Verwendung solcher Geräte durch Amateure. In der Realität spielen die Funkfrequenzeigenschaften des Transceivers eine ebenso wichtige Rolle, die während der Entwicklung notwendigerweise berechnet, modelliert und optimiert werden müssen, wenn es notwendig ist, ein Kommunikationssystem, ein IoT-Gerät, eine Art Radar usw. unabhängig voneinander zu entwerfen. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.Aber ich habe viele ähnliche Meinungen getroffen (absolut aufrichtig), auch auf dem Hub Dieser Ansatz funktioniert jedoch in der Regel nur bei der Verwendung solcher Geräte durch Amateure. In der Realität spielen die Funkfrequenzeigenschaften des Transceivers eine ebenso wichtige Rolle, die während der Entwicklung notwendigerweise berechnet, modelliert und optimiert werden müssen, wenn es notwendig ist, ein Kommunikationssystem, ein IoT-Gerät, eine Art Radar usw. unabhängig voneinander zu entwerfen. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.Neben digitalen Algorithmen spielen auch die Hochfrequenzeigenschaften des Transceivers eine wichtige Rolle, die während der Entwicklung unbedingt berechnet, modelliert und optimiert werden. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.Neben digitalen Algorithmen spielen auch die Hochfrequenzeigenschaften des Transceivers eine wichtige Rolle, die während der Entwicklung unbedingt berechnet, modelliert und optimiert werden. Diese Eigenschaften bestimmen weitgehend den akzeptablen Anwendungsbereich eines bestimmten Funkmoduls.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche universellen „Boxen“ wie HackRF One haben auch ihre eigenen Eigenschaften, die der Entwickler bewusst im Stromkreis festgelegt hat und die auf die gleiche Weise die Leistung des Kommunikationssystems einschränken, und diese Einschränkungen können von keinem Software-Tool mehr behoben werden.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da ich im Gegenteil eine professionelle Verformung in Richtung Hardwareentwicklung habe, wird von dieser Seite ein kurzer Überblick über HackRF One gegeben. Betrachten Sie die Hardwarearchitektur von HackRF One, mit der die technischen Fähigkeiten und Einschränkungen dieses Funkmoduls bewertet werden. Ich hoffe, dass dies für diejenigen nützlich ist, die Hack-RF verwenden, aber nicht mit Funktechnik vertraut sind, und für diejenigen, die der Meinung sind, dass die Arbeit mit SDR-Transceivern im Prinzip keine Kenntnisse und kein Verständnis der Hochfrequenzeigenschaften dieses Geräts erfordert. und analoge Schaltungen im Allgemeinen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einzige interessante Quelle, die einige der Hardwarefunktionen von HackRF One untersucht hat, ist ein Video der Rede des Autors des HackRF-Projekts selbst, Michael Ossmann, auf der REcon 2014-Konferenz. Link:</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.youtube.com/watch?v=4Lgdtr7ylNY&amp;start_radio=1&amp;list=RDQMQpFkO5DyFBk</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dort erwägt er die Möglichkeit, die Fähigkeiten von HackRF One nur durch Hardwaremodifikationen zu erweitern, und nennt interessante Fakten. </font><font style="vertical-align: inherit;">Ich empfehle, interessiert und sympathisch anzusehen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hackrf eins</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HackRF One - ist ein Open-Source-Projekt, dessen Quellen verfügbar sind. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hardwareeigenschaften in fast allen Quellen sind in einer eher dürftigen Liste aufgeführt: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Betriebsfrequenz von 1 MHz bis 6 GHz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Halbduplex-Transceiver </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• bis zu 20 Millionen Abtastwerte pro Sekunde </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• 8-Bit-Quadratur-Abtastwerte (8-Bit-I und 8-Bit-Q) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Kompatibel mit GNU Radio, SDR # und mehr </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Software-konfigurierbarer RX- und TX-Verstärkungs- und Basisbandfilter </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Software-gesteuerte Antennenanschlussleistung (50 mA bei 3,3 V) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• SMA-Antennenanschluss </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• SMA-Buchseneingang und -ausgang für die Synchronisation </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Praktische Tasten zum Programmieren </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Interne Pin-Header zur Erweiterung </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Hi-Speed ​​USB 2.0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• USB-Stromversorgung</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Open Source-Hardware </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie einen Schaltplan herunterladen und etwas darüber wissen, können Sie die Architektur dieses Transceivers wiederherstellen und etwas mehr über dessen Funktionsweise erfahren. Was wurde getan? </font><font style="vertical-align: inherit;">
Aus der öffentlichen Beschreibung ist bekannt, dass der HackRF One ein Halbduplex-Transceiver ist, d.h. Es kann sowohl beim Senden als auch beim Empfangen funktionieren, jedoch nur zu unterschiedlichen Zeitpunkten. Aus der Schaltung ist dies auch verständlich - es gibt einen einzigen Ausgang zur Antenne, dessen Signal vom Ausgang des Sendepfades kommen oder entfernt und dem Eingang des Empfangspfads zugeführt werden kann.</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/oh/zf/s7/ohzfs7dz4dmpmox9rbj9h-ykqsu.jpeg"></a><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Schaltung enthält viele steuerbare Schalter, mit deren Hilfe der Pfad des empfangenen oder gesendeten Signals zu jedem Zeitpunkt konfiguriert wird. </font><font style="vertical-align: inherit;">Wir werden später auf mögliche Optionen zurückkommen, aber im Moment werden wir die Schlüsselelemente der Hardwarearchitektur betrachten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Digitalteil, ADC, DAC</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde nicht auf den digitalen Teil eingehen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Modul ist über ein USB-Kabel mit einem PC verbunden. Über diese Schnittstelle erhält HackRF One Strom vom Host, über den alle Daten digital übertragen werden. Auf der HackRF-Seite haben wir einen LPC4320FBD144-Mikrocontroller mit einem ARM Cortex-M4-Kern. Auf einem MAX5864-Chip ist eine CPLD XC2C64A-7VQG100C angeschlossen, zwei ADCs und zwei DACs (zwei - weil einer für I ist, der zweite für Q-Signalkomponenten ) in einem einzigen Paket. Bit ADC = 8 Bit, Bit DAC = 10 Bit. Im Allgemeinen sind die Eigenschaften dieser ADCs und DACs recht bescheiden. Die maximale Frequenz ihrer Taktung beträgt 22 MHz (dies ist der begrenzende Faktor für das maximal erreichbare Frequenzband des Signals, Kotelnikovs Theorem sollte nicht überlistet werden).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Übrigens hat Michael Ossmann in seiner Rede gerade dieses Problem der Erhöhung des Breitbandnetzes des Transceivers angesprochen. </font><font style="vertical-align: inherit;">Selbst wenn Sie den ADC-DAC-Chip durch einen anderen, schnelleren ersetzen und die Daten direkt über den Mikrocontroller an die CPLD anschließen, wird der nächste schmale Hals die maximal zulässige Breite des abstimmbaren Filters (30 MHz) im MAX2837-Transceiver-Chip sein. </font><font style="vertical-align: inherit;">Wir werden diesen Chip weiter betrachten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transceiver IC MAX2837</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der MAX2837 ist ein integrierter Halbduplex-HF-Transceiver, der auf der Direktumwandlungsarchitektur mit einer Zwischenfrequenz von Null (IF oder IF - Intermediate Frequency) basiert. Hier ist ein Bild aus der Spezifikation, das die interne Architektur der Mikroschaltung zeigt: </font></font><br>
 <img src="https://habrastorage.org/webt/rd/pv/am/rdpvamv6tqmybxsarxn09m9bifg.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Übertragungsweg passieren die I- und Q-Komponenten des Basisbandsignals, die zum Eingang kommen, abstimmbare Filter (mit roter </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> markiert </font><font style="vertical-align: inherit;">) und gehen zum Eingang der Boost-Mischer ( </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Infolgedessen wird das Signal auf eine Frequenz aus dem Bereich von 2,3 ... 2,7 GHz übertragen und dann durch einen Verstärker mit einer einstellbaren Verstärkung ( </font></font><b><font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) geleitet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis haben wir: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Den Abstimmbereich der Grenzfrequenz der Basisbandfilter: 1,75 ... 28 MHz</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Einstellbereich der Sendepfadverstärkung = 45 dB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• ~ 0 dBm maximale Ausgangsleistung </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das am Eingang des Empfangspfads empfangene Signal durchläuft einen rauscharmen Verstärker ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), einen Abwärtsquadraturmischer ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), Filter mit einer einstellbaren Grenzfrequenz ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) und ein Basisband abstimmbare Verstärker ( </font></font><b><font color="green"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige wichtige Eigenschaften des MAX2837-Empfangspfads: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• </font><font style="vertical-align: inherit;">Abstimmbereich </font><font style="vertical-align: inherit;">der Grenzfrequenz der Basisbandfilter: 1,75 ... 28 MHz </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• </font><font style="vertical-align: inherit;">
Rauschzahl </font><font style="vertical-align: inherit;">: 2,3 dB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abstimmbereich </font><font style="vertical-align: inherit;">der Verstärkung: 94 dB Der </font><font style="vertical-align: inherit;">MAX2837 enthält einen integrierten Frequenzsynthesizer, der ein lokales Oszillatorsignal für die Mischer liefert.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein so interessanter Funkchip, im Wesentlichen ein fertiges HF-Frontend, aber mit einer erheblichen Einschränkung - er hat einen ziemlich engen Frequenzbereich (2,3 ... 2,7 GHz). </font><font style="vertical-align: inherit;">Sie können den Arbeitsfrequenzbereich des Radios erweitern, indem Sie eine weitere Stufe der Frequenzübertragung hinzufügen. </font><font style="vertical-align: inherit;">Und dies erfordert einen Hochfrequenzmischer und einen lokalen Oszillator. </font><font style="vertical-align: inherit;">Und in der HackRF One-Schaltung gibt es einen Chip, der diese beiden Geräte kombiniert. </font><font style="vertical-align: inherit;">Betrachten Sie es ein wenig mehr.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frequenzsynthesizer und Mischerchip RFFC5072</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der RFFC5072 enthält einen spannungsgesteuerten Oszillator (VCO oder VCO - Voltage Control Oscillator), einen Phasenregelkreis (PLL oder PLL - Phased Locked Loop) und einen HF-Mischer: </font></font><br>
 <img src="https://habrastorage.org/webt/oa/ho/bw/oahobwnjx6_ahrioklpnqcglr80.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die lokale Oszillatorfrequenz (LO - Local Oscillator) kann aus einem Bereich von 85 ... 4200 MHz, Abstimmschritt 1,5 Hz. </font><font style="vertical-align: inherit;">Als nächstes betrachten wir das Prinzip der Arbeit mit RFFC5072 im Diagramm.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Senderpfad</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie sich das obige HackRF One-Blockdiagramm ansehen, sehen Sie, dass es mehrere mögliche Optionen gibt, um den Pfad für das übertragene Signal zur Antenne anzuordnen. Es ist möglich, ein Signal vom Ausgang des MAX2837 direkt an den Ausgangsverstärker (oder die Antenne) zu senden. Oder das Signal kann zuerst an den RFFC5072-Chip und an den Eingang des Mischers gesendet werden. Wir werden uns darum kümmern. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis des Mischens der lokalen Oszillatorfrequenz und des Signals bei der Zwischenfrequenz sind bekanntlich zwei Kopien des Signals links und rechts von der lokalen Oszillatorfrequenz (in einem Abstand, der nur der ZF entspricht). Wenn dies für Sie nicht offensichtlich ist, können Sie es leicht überprüfen, indem Sie das Wissen aus der Trigonometrie anwenden - indem Sie zwei harmonische Funktionen multiplizieren, die dem lokalen Oszillatorsignal und dem ZF-Signal entsprechen.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir brauchen aber nicht zwei Kopien desselben Signals. Radio ist kein Gummi, wie man so sagt, um es so nachlässig zu füllen. Normalerweise wird eine der Kopien ausgewählt, und die zweite (die als Spiegelkanal bezeichnet wird) wird durch Filtern oder durch Erstellen einer speziellen Architektur des Frequenzumrichters entsorgt - ohne Spiegelkanal.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der in HackRF One verwendete Mixer ist keiner von diesen, er unterdrückt keinen der Kanäle. Gleichzeitig sah der Entwickler von HackRF One die Verwendung von Filtern im Senderpfad vor - ein Hochpassfilter (HPF oder HPF - Hochpassfilter) oder ein Tiefpassfilter (LPF oder LPF - Tiefpassfilter). Abhängig von der Konfiguration der jeweiligen Schalter durchläuft das Signal vom Mischerausgang einen dieser Filter. Warum wird das gemacht? Nur um entweder eine Kopie des Signals mit niedrigerer Frequenz (LSB - Low Side Band) oder eine höhere (USB - Upper Side Band) unterdrücken zu können.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Notwendigkeit einer solchen Option beruht auf der Tatsache, dass der Entwickler den maximal möglichen Frequenzbereich des Funkmoduls bereitstellen wollte. Wenn für die Übertragung eine Signalfrequenz aus dem Bereich von 2,3 bis 2,7 GHz verwendet werden muss, reicht es aus, das Ausgangssignal MAX2837 direkt an den Antennenausgang anzuschließen (oder das Signal mit einem Ausgangsleistungsverstärker zu verstärken), wobei Mischer und Filter umgangen werden. Wenn Sie am Ausgang eine Frequenz von weniger als 2,3 GHz benötigen, kann MAX2837 dies nicht direkt tun, sodass das Signal von diesem an den Mixer gesendet wird. Wie wir uns erinnern - am Mischerausgang gibt es zwei Kopien des Nutzsignals - verbinden wir den Mischerausgang mit einem Tiefpassfilter und unterdrücken USB. Und umgekehrt, wenn eine Frequenz über 2,7 GHz benötigt wird, passiert dasselbe, nur dass jetzt das Hochpassfilter verwendet und das LSB herausgefiltert wird. Versucht, dies darzustellen:</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/9a/w0/_z/9aw0_zjyb8inmvpnewyxjiis7si.jpeg"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist das Signalspektrum in jeder Stufe des Übertragungsweges sowie der Frequenzgang der verwendeten Filter schematisch dargestellt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben also eine kombinierte Version der Architektur des Funksenders: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Bei hohen Frequenzen arbeitet die Überlagerungsschaltung mit zwei Frequenzübertragungen nach oben. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Bei 2,3-2,7 GHz kann das System im Format eines Senders mit direkter Umwandlung (Homodynschaltung) arbeiten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
• Bei einer niedrigeren Frequenz das Signal von der Zwischenfrequenz schon heruntergetragen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empfängerpfad</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Empfangspfad ist auf ähnliche Weise angeordnet, nur jetzt arbeitet die Schaltung so, dass jedes Eingangssignal in den Frequenzbereich 2,3 ... 2,7 GHz übertragen wird, wo es vom Empfangspfad MAX2837 verarbeitet wird - wandelt niederfrequente Komponenten zur Übertragung an den ADC in I, Q um.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte auch darauf hinweisen, dass als rauscharmer Verstärker am Eingang genau das gleiche Verstärkermodell verwendet wird, das am Ausgang des Senders verwendet wird - MGA-81563. Die Entscheidung ist natürlich umstritten. Wenn der Autor des Projekts jedoch nicht das Ziel hatte, das Funkmodul für eine bestimmte enge Aufgabe mit Leistungsanforderungen für den Sender und Rauschanforderungen für den Empfänger zu optimieren (dies war offensichtlich nicht der Fall), bestand das Ziel darin, die Ausgangsleistung zumindest irgendwie zu erhöhen und nicht zu realisieren Eine ziemlich fehlerhafte Rauschzahl des empfangenden Teils, mit anderen Worten, es war genug, diesbezüglich etwas "Mittelmäßiges" zu tun, und wahrscheinlich hat diese Option ein Existenzrecht. Darüber hinaus konnten gleichzeitig Kosten für das Gerät eingespart werden, indem das Aufblasen des Komponentenbereichs abgelehnt wurde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt haben wir mehr oder weniger die Zusammensetzung der Hardwarearchitektur und den Zweck der darin enthaltenen Elemente herausgefunden. </font><font style="vertical-align: inherit;">Nichts hindert uns jetzt daran, die Spezifikationen der einzelnen Schlüsselschaltungselemente genauer zu betrachten und eine vollständige Liste der quantitativen HF-Eigenschaften des gesamten HackRF One zu erhalten. </font><font style="vertical-align: inherit;">Zunächst ist es wichtig, die linearen Eigenschaften des Senders, die Rauschzahl des Empfängers, das Endphasenrauschen der Frequenzsynthesizer usw. zu kennen. Diese Eigenschaften ermöglichen es Ihnen wiederum, die Anwendbarkeit des Moduls für eine bestimmte Aufgabe zu berechnen. </font><font style="vertical-align: inherit;">Ich habe beschlossen, diesen Artikel nur auf eine Funktionsbeschreibung der Schaltung zu beschränken und keine quantitativen Berechnungen und Schlussfolgerungen zu geben. </font><font style="vertical-align: inherit;">Wenn das Thema für die Community interessant ist, werde ich versuchen, eine Fortsetzung zu schreiben.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist das Ergebnis</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie in jedem anderen Geschäft sollte es immer überall gesunden Menschenverstand geben. Was bringt die Architektur mit einer ADC + -Antenne? Einfachheit? Ja, aber dies ist nur die Einfachheit, die Arbeit für den "Laien" zu verstehen. In vielen Fällen stellt sich heraus, dass dies nicht optimal und unvernünftig ist. Wie Sie sehen, hat der Entwickler eines der beliebtesten SDR-Transceiver - HackRF One - dies verstanden, da er sonst dumm einen leistungsstarken ADC / DAC an die Antenne angeschlossen und vorgeschlagen hätte, die leistungsstärkste Rechenleistung für die Synthese / Verarbeitung eines Breitbandsignals zu verwenden. Es wäre ... viel wert (um es milde auszudrücken). Stattdessen machte er eine ziemlich schöne technische Lösung, in der er Budgetkomponenten verwenden konnte, um eine Architektur mit ziemlich guten Leistungsmerkmalen des Geräts zu erstellen. Niedrige Gesamtkosten (für solche Funktionen),ein breites Frequenzspektrum - genau das hat das Projekt populär und für Menschen zugänglich gemacht, und die „Einfachheit“ der Architektur des Radioteils wurde von niemandem erfunden. Es lohnt sich nur, sinnvoll zu versuchen, einen Transceiver mit den gleichen Eigenschaften zu bauen, die zumindest dieser HackRF One nach dem Prinzip von ADC / DAC + PC = SDR hat. Wählen Sie ADCs, DACs, die Signale mit 6 GHz direkt synthetisieren und digitalisieren, und verstehen Sie, wie real sie sind und was es kosten wird. Was können wir über höherfrequente Systeme (die mit zehn GHz arbeiten) sagen, die jetzt immer beliebter werden? Für sie ist die Art der „direkten“ Digitalisierung eine völlig unvernünftige Utopie. Zumindest - in der aktuellen Phase der Technologieentwicklung.Es lohnt sich nur, sinnvoll zu versuchen, einen Transceiver mit den gleichen Eigenschaften zu bauen, die zumindest dieser HackRF One nach dem Prinzip ADC / DAC + PC = SDR aufweist. Wählen Sie ADCs, DACs, die Signale mit 6 GHz direkt synthetisieren und digitalisieren, und verstehen Sie, wie real sie sind und was es kosten wird. Was können wir über höherfrequente Systeme (die mit zehn GHz arbeiten) sagen, die jetzt immer beliebter werden? Für sie ist die Art der „direkten“ Digitalisierung eine völlig unvernünftige Utopie. Zumindest - in der aktuellen Phase der Technologieentwicklung.Es lohnt sich nur, sinnvoll zu versuchen, einen Transceiver mit den gleichen Eigenschaften zu bauen, die zumindest dieser HackRF One nach dem Prinzip von ADC / DAC + PC = SDR hat. Wählen Sie ADCs, DACs, die Signale mit 6 GHz direkt synthetisieren und digitalisieren, und verstehen Sie, wie real sie sind und was es kosten wird. Was können wir über höherfrequente Systeme (die mit zehn GHz arbeiten) sagen, die jetzt immer beliebter werden? Für sie ist die Art der „direkten“ Digitalisierung eine völlig unvernünftige Utopie. Zumindest - in der aktuellen Phase der Technologieentwicklung.Was können wir über höherfrequente Systeme (die mit zehn GHz arbeiten) sagen, die jetzt immer beliebter werden? Für sie ist die Art der „direkten“ Digitalisierung eine völlig unvernünftige Utopie. Zumindest - in der aktuellen Phase der Technologieentwicklung.Was können wir über höherfrequente Systeme (die mit zehn GHz arbeiten) sagen, die jetzt immer beliebter werden? Für sie ist die Art der „direkten“ Digitalisierung eine völlig unvernünftige Utopie. Zumindest - in der aktuellen Phase der Technologieentwicklung.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist klar, dass die beschriebene HackRF One-Architektur und -Steuerung jedes Elements der Schaltung dem Programmierer irgendwo in den Schaltungen und der Steuerungssoftware verborgen ist (freundlicherweise von jemandem, der einmal geschrieben hat). </font><font style="vertical-align: inherit;">Natürlich macht es für alle und jeden keinen Sinn, sich eingehend mit der Funktechnik zu befassen. </font><font style="vertical-align: inherit;">Eine Person, die an DSP beteiligt ist, muss die Merkmale des HF-Trakts nicht im Detail verstehen. </font><font style="vertical-align: inherit;">In jedem Fall sollte man unbekannten Wissensgebieten mehr Aufmerksamkeit und Genauigkeit schenken, sie nicht vernachlässigen und diese Fälle nicht ignorieren, wenn es unmöglich ist, auf sie zu verzichten. </font><font style="vertical-align: inherit;">Unter anderem möchte ich darauf hinweisen, dass das HackRF One-Projekt nicht nur ein merkwürdiges Spielzeug in den Händen eines begeisterten Programmierers sein kann, sondern auch als interessantes Trainingswerkzeug für einen Funkamateur / Funkingenieur dienen kann.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de499364/index.html">Alexey Kapterev: Kritisches Denken 101 (Teil 1)</a></li>
<li><a href="../de499366/index.html">Geo-Chat, schädliche Bots und Steganographie: bereicherndes Wissen über Telegramm</a></li>
<li><a href="../de499368/index.html">Über Phrasal Verbs-4 (rein / raus)</a></li>
<li><a href="../de499370/index.html">Meine Lieblings-CSS-Fragen mit detaillierten Antworten</a></li>
<li><a href="../de499374/index.html">Untersuchung von COVID-19-Proliferationsdaten unter Verwendung von Unterschieden erster Ordnung. Und was kam daraus?</a></li>
<li><a href="../de499378/index.html">Erstellen Sie Ihren ersten Zypressentest</a></li>
<li><a href="../de499380/index.html">Tausendundeiner Grund, die Suche im Internet nicht zu verwenden (Fix: Russisch), um zumindest einige Probleme zu lösen</a></li>
<li><a href="../de499382/index.html">Einführung in IDAPython</a></li>
<li><a href="../de499386/index.html">Zusammenfassung des Buches "Erstellen von Microservices"</a></li>
<li><a href="../de499394/index.html">Vorbereitung auf Interviews mit IT-Riesen: Wie ich den Fluch des algorithmischen Interviews überwinde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>