<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå∏ üèáüèø üë®üèª‚Äçüé® BpfTrace - enfin, un remplacement complet de Dtrace sur Linux üêøÔ∏è üéª ü¶â</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il arrive que les syst√®mes soient bogu√©s, ralentissent, tombent en panne. Plus le syst√®me est grand, plus il est difficile de trouver la cause. Pour s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BpfTrace - enfin, un remplacement complet de Dtrace sur Linux</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/500456/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il arrive que les syst√®mes soient bogu√©s, ralentissent, tombent en panne. </font><font style="vertical-align: inherit;">Plus le syst√®me est grand, plus il est difficile de trouver la cause. </font><font style="vertical-align: inherit;">Pour savoir pourquoi quelque chose ne fonctionne pas comme pr√©vu, pour r√©soudre ou √©viter de futurs probl√®mes, vous devez regarder √† l'int√©rieur. </font><font style="vertical-align: inherit;">Pour cela, les syst√®mes doivent poss√©der la propri√©t√© de l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observabilit√©</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est obtenue par l'instrumentation au sens large du terme.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6ExXwQecMrs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HighLoad ++,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Peter Zaitsev (Percona) a pass√© en revue l'infrastructure disponible pour le tra√ßage sous Linux et a parl√© de bpfTrace, qui (comme son nom l'indique) offre de nombreux avantages. </font><font style="vertical-align: inherit;">Nous avons fait une version textuelle du rapport, de sorte qu'il serait pratique pour vous d'examiner les d√©tails et les documents suppl√©mentaires √©taient toujours √† port√©e de main.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instrumentation peut √™tre divis√©e en deux grands blocs:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Statique</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , lorsque la collecte d'informations est c√¢bl√©e en code: enregistrement des journaux, des compteurs, de l'heure, etc.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dynamique</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , lorsque le code n'est pas instrument√© par lui-m√™me, mais il est possible de le faire en cas de besoin.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre option de classification est bas√©e sur l'approche de l'enregistrement des donn√©es:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tra√ßage</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - les √©v√©nements sont g√©n√©r√©s si un certain code a fonctionn√©.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âchantillonnage</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - l'√©tat du syst√®me est v√©rifi√©, par exemple, 100 fois par seconde et il d√©termine ce qui s'y passe.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'instrumentation statique existe depuis de nombreuses ann√©es et est pr√©sente dans presque tout. </font><font style="vertical-align: inherit;">Sous Linux, de nombreux outils standard comme Vmstat ou top l'utilisent. </font><font style="vertical-align: inherit;">Ils lisent les donn√©es de procfs, o√π, en gros, diff√©rents temporisateurs et compteurs sont √©crits √† partir du code du noyau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais vous ne pouvez pas ins√©rer trop de ces compteurs, vous ne pouvez pas couvrir tout dans le monde avec eux. </font><font style="vertical-align: inherit;">Par cons√©quent, l'instrumentation dynamique peut √™tre utile, ce qui vous permet de regarder exactement ce dont vous avez besoin. </font><font style="vertical-align: inherit;">Par exemple, s'il y a des probl√®mes avec la pile TCP / IP, vous pouvez aller tr√®s loin et demander des d√©tails sp√©cifiques.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x8/nh/hz/x8nhhza-v08u7nlo01rb778nxqs.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dtrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DTrace est l'un des premiers frameworks de tra√ßage dynamique connus cr√©√©s par Sun Microsystems. Il a commenc√© √† √™tre fabriqu√© en 2001 et, pour la premi√®re fois, il a √©t√© publi√© dans Solaris 10 en 2005. L'approche s'est av√©r√©e tr√®s populaire et est ensuite entr√©e dans de nombreuses autres distributions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait int√©ressant, DTrace vous permet d'instrumenter √† la fois l'espace du noyau et l'espace utilisateur. Vous pouvez mettre des traces sur tous les appels de fonction et donner des instructions sp√©cifiques aux programmes: introduisez des points de trace DTrace sp√©ciaux, qui pour les utilisateurs peuvent √™tre plus compr√©hensibles que les noms de fonction.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela √©tait particuli√®rement important pour Solaris, car il ne s'agit pas d'un syst√®me d'exploitation ouvert. Il n'√©tait pas possible de simplement regarder dans le code et de comprendre que le point de trace doit √™tre mis sur une telle fonction comme cela peut maintenant √™tre fait dans le nouveau logiciel Linux open source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des caract√©ristiques uniques, en particulier √† cette √©poque, de DTrace est que, m√™me </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si le tra√ßage n'est pas activ√©, il ne co√ªte rien</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il fonctionne de telle mani√®re qu'il remplace simplement certaines instructions CPU par un appel DTrace, qui ex√©cute ces instructions lors de son retour. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans DTrace, l'instrumentation est √©crite dans un langage D sp√©cial, similaire √† C et Awk.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus tard DTrace est apparu presque partout sauf Linux: sur MacOS en 2007, sur FreeBSD en 2008, dans NetBSD en 2010. Oracle en 2011 a inclus DTrace dans Oracle Unbreakable Linux. </font><font style="vertical-align: inherit;">Mais peu de gens utilisent Oracle Linux et DTrace n'est jamais entr√© dans Linux principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait int√©ressant, en 2017, Oracle a finalement autoris√© DTrace sous GPLv2, ce qui a en principe permis de l'inclure dans Linux principal sans difficult√©s de licence, mais il √©tait d√©j√† trop tard. </font><font style="vertical-align: inherit;">A cette √©poque, Linux avait un bon BPF, qui √©tait principalement utilis√© pour la normalisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DTrace va m√™me √™tre inclus dans Windows; maintenant, il est disponible dans certaines versions de test.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tra√ßage Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce qui est sous Linux au lieu de DTrace? </font><font style="vertical-align: inherit;">En fait, sous Linux, il y a beaucoup de choses dans la meilleure (ou la pire) manifestation de l'esprit open source, un tas de cadres de tra√ßage diff√©rents se sont accumul√©s au cours de cette p√©riode. </font><font style="vertical-align: inherit;">Par cons√©quent, d√©terminer ce qui n'est pas si simple. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/vu/ij/wrvuijy1unvtq2thcngvonvzsrq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous voulez vous familiariser avec cette vari√©t√© et √™tes int√©ress√© par l'histoire, consultez l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec des images et une description d√©taill√©e des approches de tra√ßage sous Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons de l'infrastructure de tra√ßage sous Linux en g√©n√©ral, il y a trois niveaux:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interface pour l'instrumentation du noyau:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kprobe, Uprobe, sonde Dtrace, etc.</font></font></li>
<li><strong>¬´¬ª,    .</strong> ,  probe,      ,          user space   .       :   ,     user space,  Kernel Module,   - ,  eBPF.</li>
<li><strong>-</strong>,    ,    : Perf, SystemTap, SysDig, BCC  .. bpfTtrace       ,  ,   .</li>
</ol><br>
<h2>eBPF ‚Äî   Linux</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec tous ces cadres, eBPF est devenu la norme sur Linux ces derni√®res ann√©es. </font><font style="vertical-align: inherit;">Il s'agit d'un outil plus avanc√©, tr√®s flexible et efficace qui permet presque tout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que l'eBPF et d'o√π vient-il? </font><font style="vertical-align: inherit;">En fait, eBPF est un filtre de paquets Berkeley √©tendu, et BPF a √©t√© d√©velopp√© en 1992 comme une machine virtuelle pour le filtrage efficace des paquets par un pare-feu. </font><font style="vertical-align: inherit;">Initialement, il n'avait aucun lien avec la surveillance, l'observabilit√© ou le tra√ßage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les versions plus modernes, eBPF a √©t√© √©tendu (d'o√π le mot √©tendu), en tant que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cadre</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> commun </font><strong><font style="vertical-align: inherit;">pour la gestion des √©v√©nements</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les versions actuelles sont int√©gr√©es au compilateur JIT pour une plus grande efficacit√©. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diff√©rences entre eBPF et BPF classique:</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">registres ajout√©s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une pile est apparue;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe des structures de donn√©es suppl√©mentaires (cartes).</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/gj/9v/uh/gj9vuhqn64yciwp2zyjmekazpvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, les gens oublient le plus souvent qu'il y avait un ancien BPF, et eBPF est simplement appel√© BPF. </font><font style="vertical-align: inherit;">Dans la plupart des expressions modernes, eBPF et BPF sont une seule et m√™me chose. </font><font style="vertical-align: inherit;">Par cons√©quent, l'outil s'appelle bpfTrace et non eBpfTrace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eBPF est inclus dans Linux principal depuis 2014 et est progressivement inclus dans de nombreux outils Linux, y compris Perf, SystemTap, SysDig. </font><font style="vertical-align: inherit;">Il y a une standardisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait int√©ressant, le d√©veloppement est toujours en cours. </font><font style="vertical-align: inherit;">Les noyaux modernes supportent de mieux en mieux eBPF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f9/ad/xi/f9adxi6tahas6qaz0crpgc4fldk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez voir quelles versions modernes du noyau sont apparues </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmes EBPF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors qu'est-ce que eBPF et pourquoi est-il int√©ressant? </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eBPF est un programme dans son bytecode sp√©cial</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est inclus directement dans le noyau et effectue le traitement des √©v√©nements de trace. De plus, le fait qu'il soit fait dans un bytecode sp√©cial permet au noyau d'effectuer une certaine v√©rification que le code est assez s√ªr. Par exemple, v√©rifiez qu'il n'utilise pas de boucles, car la boucle de la section critique du noyau peut bloquer tout le syst√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais cela ne permet pas d'√™tre totalement s√©curis√©. Par exemple, si vous √©crivez un programme eBPF tr√®s complexe, l'ins√©rez dans un √©v√©nement du noyau qui se produit 10 millions de fois par seconde, alors tout peut ralentir beaucoup. Mais en m√™me temps, eBPF est beaucoup plus s√ªr que l'ancienne approche, lorsque seulement quelques modules du noyau √©taient ins√©r√©s via insmod, et que tout pouvait se trouver dans ces modules. Si quelqu'un a fait une erreur, ou simplement √† cause d'une incompatibilit√© binaire, le noyau entier pourrait tomber.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code eBPF peut √™tre compil√© par LLVM Clang, c'est-√†-dire, en gros, utiliser un sous-ensemble de C pour cr√©er des programmes eBPF, ce qui, bien s√ªr, est assez compliqu√©. Et il est important que la compilation d√©pend du noyau: les en-t√™tes sont utilis√©s pour comprendre quelles structures sont utilis√©es et √† quoi elles servent, etc. Ce n'est pas tr√®s pratique dans le sens o√π certains modules li√©s √† un noyau sp√©cifique sont toujours fournis ou doivent √™tre recompil√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme montre comment fonctionne eBPF. </font></font><br>
<img src="https://habrastorage.org/webt/vf/f6/fq/vff6fqzhay_0tskbjguckrqe6e4.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/ebpf.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisateur cr√©e un programme eBPF. De plus, le noyau, de son c√¥t√©, le v√©rifie et le charge. Apr√®s cela, eBPF peut se connecter √† divers outils pour les traces, traiter les informations, les enregistrer dans des cartes (structure de donn√©es pour le stockage temporaire). Ensuite, le programme utilisateur peut lire des statistiques, recevoir des √©v√©nements de performance, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il montre quelles fonctionnalit√©s eBPF dans quelles versions de noyaux Linux. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/ck/gr/cyckgrqgpnhpfmbg2wptd77b1q0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On peut voir que presque tous les sous-syst√®mes du noyau Linux sont couverts, en plus il y a une bonne int√©gration avec les donn√©es mat√©rielles, eBPF a acc√®s √† toutes sortes de pr√©dictions de cache cache ou de branchement, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √™tes int√©ress√© par eBPF, consultez le projet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IO Visor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, il contient la plupart des outils. </font><font style="vertical-align: inherit;">La soci√©t√© IO Visor est engag√©e dans leur d√©veloppement, ils disposeront des derni√®res versions et d'une tr√®s bonne documentation. </font><font style="vertical-align: inherit;">De plus en plus d'outils eBPF apparaissent sur les distributions Linux, je vous recommande donc de toujours utiliser les derni√®res versions disponibles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performances EBPF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En termes de performances, eBPF est assez efficace. </font><font style="vertical-align: inherit;">Pour comprendre combien et s'il y a des frais g√©n√©raux, vous pouvez ajouter une sonde, qui se tord plusieurs fois par seconde, et v√©rifiez combien de temps il faut pour l'ex√©cuter. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/jb/tq/rbjbtq7wvfiqdggh5bohn0dcaxc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les gars de Cloudflare ont fait une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©f√©rence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Une simple sonde eBPF leur a pris environ 100 ns, tandis qu'une sonde plus complexe a pris 300 ns. </font><font style="vertical-align: inherit;">Cela signifie que m√™me une sonde complexe peut √™tre appel√©e sur un seul c≈ìur environ 3 millions de fois par seconde. </font><font style="vertical-align: inherit;">Si la sonde effectue 100 000 ou un million de fois par seconde sur un processeur multic≈ìur, cela n'affectera pas trop les performances.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frontend pour eBPF</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √™tes int√©ress√© par eBPF et le sujet de l'observabilit√© en g√©n√©ral, vous avez probablement entendu parler de Brendan Gregg. Il </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©crit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et parle </font><font style="vertical-align: inherit;">beaucoup √† ce sujet </font><font style="vertical-align: inherit;">et a fait une si belle image qui montre des outils pour eBPF. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/-o/fi/da-ofi9xtmuvnkvygmbhzdftz00.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, vous pouvez voir que, par exemple, vous pouvez utiliser Raw BPF - il suffit d'√©crire du code d'octet - cela donnera une gamme compl√®te de fonctionnalit√©s, mais il sera tr√®s difficile de travailler avec. Le BPF brut concerne la fa√ßon d'√©crire une application Web dans l'assembleur - en principe, c'est possible, mais sans avoir besoin de le faire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait int√©ressant, bpfTrace, d'une part, vous permet d'obtenir presque tout de BCC et de BPF brut, mais il est beaucoup plus facile √† utiliser. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä mon avis, deux outils sont les plus utiles:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BCC. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malgr√© le fait que selon le sch√©ma de Gregg, BCC est complexe, il comprend de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombreuses fonctions pr√™tes √† l'emploi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui peuvent √™tre simplement lanc√©es √† partir de la ligne de commande.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BpfTrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il vous permet d'√©crire simplement votre propre bo√Æte √† outils ou d'utiliser des solutions pr√™tes √† l'emploi.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez imaginer combien il est plus facile d'√©crire sur bpfTrace si vous regardez le code du m√™me outil dans deux versions.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/yj/rg/dfyjrg8q4abkcjgcsnp00vuuymg.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DTrace vs bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, DTrace et bpfTrace sont utilis√©s pour la m√™me chose. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/uo/rm/rhuormrzvwap7cr3uwlqk8hcnqu.png"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.brendangregg.com/blog/2018-10-08/dtrace-for-linux-2018.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La diff√©rence est qu'il existe √©galement un BCC dans l'√©cosyst√®me BPF qui peut √™tre utilis√© pour des outils complexes. </font><font style="vertical-align: inherit;">Il n'y a pas d'√©quivalent BCC dans DTrace, par cons√©quent, pour cr√©er des bo√Ætes √† outils complexes, utilisez g√©n√©ralement le bundle Shell + DTrace.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la cr√©ation de bpfTrace, il n'y avait aucune t√¢che pour √©muler compl√®tement DTrace. Autrement dit, vous ne pouvez pas prendre un script DTrace et l'ex√©cuter sur bpfTrace. Mais cela n'a pas beaucoup de sens, car la logique des outils de niveau inf√©rieur est assez simple. Il est g√©n√©ralement plus important de comprendre √† quels points de trace vous devez vous connecter, et les noms des appels syst√®me et ce qu'ils font directement √† un bas niveau diff√®rent sous Linux, Solaris, FreeBSD. C'est l√† que la diff√©rence surgit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, bpfTrace est r√©alis√© 15 ans apr√®s DTrace. Il a quelques fonctionnalit√©s suppl√©mentaires que DTrace n'a pas. Par exemple, il peut faire des traces de pile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais bien s√ªr, beaucoup est h√©rit√© de DTrace. Par exemple, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les noms de fonction et la syntaxe sont similaires</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais pas compl√®tement √©quivalents.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9l/cf/0z/9lcf0z37mltxok_7fsdvdhxanv8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les scripts DTrace et bpfTrace sont proches en taille de code et similaires en complexit√© et en capacit√©s linguistiques.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/ud/br/reudbrcb_yoslb9ylo0loe9e-os.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bpfTrace</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons plus en d√©tail ce qui se trouve dans bpfTrace, comment il peut √™tre utilis√© et ce qui est n√©cessaire pour cela. </font><font style="vertical-align: inherit;">Configuration </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux requise</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour utiliser bpfTrace: </font></font><br>
<img src="https://habrastorage.org/webt/1_/sc/tk/1_sctkrpgkd3rd2b0ccrk4fur2y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour utiliser toutes les fonctionnalit√©s, vous avez besoin d'une version d'au moins 4.9. </font><font style="vertical-align: inherit;">BpfTrace vous permet de faire beaucoup de sondes diff√©rentes, √† commencer par uprobe pour instrumenter un appel de fonction dans une application utilisateur, des sondes de noyau, etc.</font></font><br>
<img src="https://habrastorage.org/webt/la/v4/zq/lav4zqiss3uj4a42cx9lf5cu9hs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est int√©ressant de noter qu'il existe un √©quivalent de sonde d'ur√®tre pour une fonction de sonde personnalis√©e. Pour le noyau, la m√™me chose est kprobe et kretprobe. Cela signifie qu'en fait, dans le cadre de suivi, vous pouvez g√©n√©rer des √©v√©nements lorsque la fonction est appel√©e et √† la fin de cette fonction - ceci est souvent utilis√© pour le chronom√©trage. Vous pouvez √©galement analyser les valeurs renvoy√©es par la fonction et les regrouper en fonction des param√®tres avec lesquels la fonction a √©t√© appel√©e. Si vous interceptez un appel de fonction et que vous y revenez, vous pouvez faire beaucoup de choses int√©ressantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä l'int√©rieur de bpfTrace, cela fonctionne comme ceci: nous √©crivons un programme bpf qui est analys√©, converti en C, puis trait√© via Clang, qui g√©n√®re du code d'octets bpf, apr√®s quoi le programme se charge.</font></font><br>
<img src="https://habrastorage.org/webt/2r/my/_i/2rmy_ipzm97oydg5q8xdltdbchs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le processus est assez difficile, il y a donc des limites. </font><font style="vertical-align: inherit;">Sur les serveurs puissants, bpfTrace fonctionne bien. </font><font style="vertical-align: inherit;">Mais faire glisser Clang vers un petit appareil int√©gr√© pour comprendre ce qui se passe n'est pas une bonne id√©e. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ply</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> convient √† cela </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Bien s√ªr, il n'a pas toutes les fonctionnalit√©s de bpfTrace, mais il g√©n√®re directement du bytecode.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prise en charge Linux</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une version stable de bpfTrace a √©t√© publi√©e il y a environ un an, elle n'est donc pas disponible sur les anciennes distributions Linux. </font><font style="vertical-align: inherit;">Il est pr√©f√©rable de prendre des packages ou de compiler la derni√®re version distribu√©e par IO Visor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait int√©ressant, le dernier Ubuntu LTS 18.04 n'a pas bpfTrace, mais il peut √™tre livr√© √† l'aide du package snap. </font><font style="vertical-align: inherit;">D'une part, c'est pratique, mais d'autre part, en raison de la fa√ßon dont les packages d'accrochage sont cr√©√©s et isol√©s, toutes les fonctions ne fonctionneront pas. </font><font style="vertical-align: inherit;">Pour le tra√ßage du noyau, un package avec snap fonctionne bien; pour le tra√ßage utilisateur, il peut ne pas fonctionner correctement.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/si/co/d3sicofnas8mpwyrsvmkp1kdbvm.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple de suivi de processus</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons l'exemple le plus simple qui vous permet d'obtenir des statistiques sur les demandes d'E / S:</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'kprobe:vfs_read { @start[tid] = nsecs; }
kretprobe:vfs_read /@start[tid]/ { @ns[comm] = hist(nsecs - @start[tid]); delete(@start[tid]); }'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous nous connectons √† la fonction </font></font><code>vfs_read</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, √† la fois kretprobe et kprobe. </font><font style="vertical-align: inherit;">En outre, pour chaque ID de thread (tid), c'est-√†-dire pour chaque requ√™te, nous suivons le d√©but et la fin de son ex√©cution. </font><font style="vertical-align: inherit;">Les donn√©es peuvent √™tre regroup√©es non seulement par la totalit√© de l'ensemble du syst√®me, mais √©galement par diff√©rents processus. </font><font style="vertical-align: inherit;">Vous trouverez ci-dessous la sortie IO pour MySQL. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e1/dx/om/e1dxomau1ormvas-7juk1as0sqy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La distribution d'E / S bimodale classique est visible. </font><font style="vertical-align: inherit;">Un grand nombre de requ√™tes rapides sont des donn√©es qui sont lues dans le cache. </font><font style="vertical-align: inherit;">Le deuxi√®me pic est la lecture des donn√©es du disque, o√π la latence est beaucoup plus √©lev√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez l'enregistrer en tant que script (l'extension bt est g√©n√©ralement utilis√©e), √©crire des commentaires, la formater et simplement l'utiliser plus loin </font></font><code>#bpftrace read.bt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs">// read.bt file<font></font>
tracepoint:syscalls:sys_enter_read<font></font>
{<font></font>
  @start[tid] = nsecs;<font></font>
}<font></font>
tracepoint:syscalls:sys_exit_read / @start[tid]/ <font></font>
{<font></font>
  @<span class="hljs-built_in">times</span> = hist(nsecs - @start[tid]);<font></font>
  delete(@start[tid]);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept g√©n√©ral de la langue est assez simple.</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Syntaxe:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√©lectionnez la sonde √† connecter </font></font><code>probe[,probe,...] /filter/ { action }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtre:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sp√©cifiez un filtre, par exemple, uniquement des donn√©es sur un processus donn√© d'un Pid donn√©.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Action: un</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mini-programme qui se convertit directement en programme bpf et s'ex√©cute lorsque bpfTrace est appel√©.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus de d√©tails peuvent √™tre trouv√©s </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outils Bpftrace</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BpfTrace poss√®de √©galement une bo√Æte √† outils. </font><font style="vertical-align: inherit;">De nombreux outils assez simples sur BCC sont maintenant impl√©ment√©s sur bpfTrace. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/sr/f1/dzsrf1-klsvpjawbgtdzffgegra.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La collection</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est encore petite, mais il y a quelque chose qui n'est pas dans le BCC. </font><font style="vertical-align: inherit;">Par exemple, killsnoop vous permet de suivre les signaux caus√©s par kill (). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √™tes int√©ress√© √† regarder le code bpf, alors dans bpfTrace vous pouvez </font></font><code>-v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voir le code d'octets g√©n√©r√©. </font><font style="vertical-align: inherit;">Ceci est utile si vous voulez comprendre une sonde lourde ou non. </font><font style="vertical-align: inherit;">Apr√®s avoir regard√© le code et avoir juste estim√© sa taille (une page ou deux), vous pouvez comprendre √† quel point il est compliqu√©.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/sr/zg/fosrzgluhzrwsysvgvtsrkth8qe.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple de suivi MySQL</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permettez-moi de vous montrer un exemple de MySQL, comment cela fonctionne. </font><font style="vertical-align: inherit;">MySQL a une fonction </font></font><code>dispatch_command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans laquelle toutes les ex√©cutions de requ√™tes MySQL se produisent.</font></font><br>
<br>
<pre><code class="bash hljs">bpftrace -e <span class="hljs-string">'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'</span>
failed to <span class="hljs-built_in">stat</span> uprobe target file /usr/sbin/mysqld: No such file or directory</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voulais juste connecter une sonde pour imprimer le texte des requ√™tes qui arrivent √† MySQL - une t√¢che primitive. </font><font style="vertical-align: inherit;">Vous avez un probl√®me - dit qu'il n'y a pas un tel fichier. </font><font style="vertical-align: inherit;">Comme pas quand c'est ici:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:/# ls -la /usr/sbin/mysqld<font></font>
-rwxr-xr-x 1 root root 60718384 Oct 25 09:19 /usr/sbin/mysqld</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce ne sont que des surprises avec snap. </font><font style="vertical-align: inherit;">S'il est d√©fini via snap, il peut y avoir des probl√®mes au niveau de l'application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, j'ai install√© via la version apt, un Ubuntu plus r√©cent, red√©marr√©:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:dispatch_command { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
Could not resolve symbol: /usr/sbin/mysqld:dispatch_command</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬´Il n'y a pas un tel symbole¬ª - comment pas?! </font><font style="vertical-align: inherit;">Je regarde </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'il existe un tel symbole ou non:</font></font><br>
<br>
<pre><code class="xml hljs">root@mysql1:~# nm -D /usr/sbin/mysqld | grep dispatch_command<font></font>
00000000005af770 T <font></font>
_Z16dispatch_command19enum_server_commandP3THDPcjbb<font></font>
<font></font>
root@localhost:~# bpftrace -e 'uprobe:/usr/sbin/mysqld:_Z16dispatch_command19enum_server_commandP3THDPcjbb { printf("%s\n", str(arg2)); }'<font></font>
Attaching 1 probe...<font></font>
select @@version_comment limit 1<font></font>
select 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe un tel symbole, mais comme MySQL est compil√© √† partir de C ++, le mangling y est utilis√©. </font><font style="vertical-align: inherit;">En fait, le nom actuel de la fonction qui est utilis√©e dans cette commande, ce qui </font><font style="vertical-align: inherit;">suit: </font></font><code>_Z16dispatch_command19enum_server_commandP3THDPcjbb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si vous l'utilisez dans une fonction, vous pouvez vous connecter et obtenir le r√©sultat. </font><font style="vertical-align: inherit;">Dans l'√©cosyst√®me de la perf, de nombreux outils rendent le d√©m√™lage automatique et bpfTrace n'est pas encore capable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faites √©galement attention au drapeau </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour </font></font><code>nm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">C'est important parce que MySQL, et maintenant de nombreux autres packages, sont livr√©s sans symboles dynamiques (symboles de d√©bogage) - ils viennent dans d'autres packages. </font><font style="vertical-align: inherit;">Si vous souhaitez utiliser ces caract√®res, vous avez besoin d'un drapeau </font></font><code>-D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sinon nm ne les verra pas.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liens utiles</font></font></b>
                        <div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">github.com/zoidbergwill/awesome-ebpf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">slideplayer.com/slide/12710510</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.brendangregg.com/ebpf.html</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vger.kernel.org/netconf2018_files/BrendanGregg_netconf2018.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.brendangregg.com/Slides/Velocity2017_BPF_superpowers.pdf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lwn.net/Articles/740157</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tracingsummit.org/w/images/8/82/Tracingsummit2018-bpftrace-robertson.pdf</a></li>
</ul></div>
                    </div><br>
<blockquote><i>   :</i>  ++ 25‚Äì26    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>        ,     .    ,       ,            . <br>
<br>
<i>   :</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">++ Online</a>   .       5 900        ,      ,        -.<br>
<br>
<i>   :</i>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DevOpsConf 2019</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HighLoad++ 2019</a> ‚Äî   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>. <br>
<br>
       ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>, . </blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500446/index.html">Quelques mots sur R2DBC et PostgreSQL</a></li>
<li><a href="../fr500448/index.html">Prometheus: surveillance HTTP via l'exportateur Blackbox</a></li>
<li><a href="../fr500450/index.html">Faire un clavier MIDI √† partir d'un vieux synth√©tiseur pour enfants</a></li>
<li><a href="../fr500452/index.html">Raisonnement √©lev√© sur l'apprentissage profond</a></li>
<li><a href="../fr500454/index.html">"Quelles marinas?" ou nous contr√¥lons le contr√¥leur via Bluetooth en utilisant une application mobile sur Xamarin (Android)</a></li>
<li><a href="../fr500458/index.html">Caract√©ristiques techniques de la parole en ligne: Pack de d√©marrage</a></li>
<li><a href="../fr500462/index.html">D√©tection des changements de sc√®ne et enregistrement des clips vid√©o h264 sur Raspberry Pi sans d√©codage</a></li>
<li><a href="../fr500468/index.html">Guide des fonctionnalit√©s Java 8-14</a></li>
<li><a href="../fr500470/index.html">Adapter votre solution commerciale existante pour SwiftUI. Partie 3. Travailler avec l'architecture</a></li>
<li><a href="../fr500472/index.html">Python est temps de faire de la place. √Ä propos des perspectives de Julia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>