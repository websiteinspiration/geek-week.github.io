<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😯 ☝🏼 ◻️ Dark Launch bei Istio: Secret Services 🚨 👆🏽 🎬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Gefahr ist mein zweiter Vorname", sagte Austin Powers, ein mysteriöser Mann auf internationaler Ebene. Aber was von Superagenten und Spezialdiensten ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Dark Launch bei Istio: Secret Services</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/487214/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Gefahr ist mein zweiter Vorname", sagte Austin Powers, ein mysteriöser Mann auf internationaler Ebene. </font><font style="vertical-align: inherit;">Aber was von Superagenten und Spezialdiensten hoch geschätzt wird, ist überhaupt nicht für Computerdienste geeignet, bei denen langweilige Dinge viel besser sind als Gefahren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/r1/0r/wpr10ryyfvsbrwoocqwshmfw8vq.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und Istio macht zusammen mit OpenShift und Kubernetes die Bereitstellung von Mikrodiensten wirklich langweilig und vorhersehbar - und das ist großartig. </font><font style="vertical-align: inherit;">Wir werden darüber und vieles mehr im vierten und letzten Beitrag der Istio-Reihe sprechen.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Langeweile stimmt</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Fall tritt Langeweile nur in der letzten Phase auf, wenn es nur darum geht, den Prozess zu beobachten. Dafür müssen Sie jedoch alles vorkonfigurieren, und hier finden Sie viele interessante Dinge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Bereitstellung einer neuen Version Ihrer Software sollten Sie alle Optionen zur Risikominimierung berücksichtigen. Das Arbeiten im Parallelmodus ist eine sehr leistungsfähige und bewährte Testmethode. Mit Istio können Sie hierfür den „Geheimdienst“ (eine vor neugierigen Blicken verborgene Version Ihres Mikrodienstes) verwenden, ohne das Produktionssystem zu beeinträchtigen. Es gibt sogar einen speziellen Begriff dafür - "Secret Launch" (Dark Launch), der wiederum durch eine Funktion mit dem nicht weniger spyware-Namen "Traffic Mirroring" aktiviert wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass im ersten Satz des vorherigen Absatzes der Begriff "Bereitstellen" anstelle von "Freigeben" verwendet wird. </font><font style="vertical-align: inherit;">Sie sollten wirklich in der Lage sein, Ihren Microservice so oft bereitzustellen und natürlich zu nutzen, wie Sie möchten. </font><font style="vertical-align: inherit;">Dieser Dienst sollte in der Lage sein, Datenverkehr zu empfangen und zu verarbeiten, Ergebnisse zu erzielen sowie in Protokolle zu schreiben und zu überwachen. </font><font style="vertical-align: inherit;">Gleichzeitig muss dieser Service selbst überhaupt nicht in Produktion gehen. </font><font style="vertical-align: inherit;">Softwarebereitstellung und -freigabe sind nicht immer dasselbe. </font><font style="vertical-align: inherit;">Sie können die Bereitstellung jederzeit durchführen, sie jedoch erst freigeben, wenn Sie vollständig bereit sind.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Langeweile zu organisieren ist interessant</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sehen Sie sich die folgende Istio-Routing-Regel an, mit der alle HTTP-Anforderungen an den Empfehlungs-v1-Mikroservice weitergeleitet werden (alle Beispiele stammen aus dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Istio Tutorial GitHub-Repo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), während Sie sie an den Empfehlungs-v2-Mikroservice spiegeln:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dr/lo/mc/drlomco1x_qx4vrqa1_5ny__0ns.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Achten Sie auf die Beschriftung </font></font><code>mirror:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">am unteren Bildschirmrand - hier wird die Verkehrsspiegelung festgelegt. </font><font style="vertical-align: inherit;">Ja, das ist so einfach! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis dieser Regel ist, dass Ihr Produktionssystem (v1) weiterhin eingehende Anforderungen verarbeitet, die Anforderungen selbst jedoch in v2 asynchron gespiegelt werden, dh, ihre vollständigen Duplikate werden dort abgelegt. </font><font style="vertical-align: inherit;">Auf diese Weise können Sie die Arbeit von v2 unter realen Bedingungen - an realen Daten und Datenverkehr - testen, ohne die Arbeit des Produktionssystems zu beeinträchtigen. </font><font style="vertical-align: inherit;">Ist die Testorganisation dadurch langweilig? </font><font style="vertical-align: inherit;">Ja natürlich. </font><font style="vertical-align: inherit;">Aber das wird interessanterweise gemacht.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drama hinzufügen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie, dass im v2-Code Situationen vorgesehen werden müssen, in denen eingehende Anforderungen zu Datenänderungen führen können. </font><font style="vertical-align: inherit;">Die Abfragen selbst werden einfach und transparent gespiegelt, aber die Wahl der Verarbeitungsmethode im Test liegt bei Ihnen - und das ist schon ein wenig aufregend.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiederholen Sie den wichtigen Punkt </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein geheimer Start mit Verkehrsspiegelung (Dark Launch / Request Mirroring) kann durchgeführt werden, ohne den Code zu beeinflussen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Denkanstöße</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber was ist, wenn der Ort zum Spiegeln der Anforderungen darin besteht, einige von ihnen nicht an v1, sondern an v2 zu senden? </font><font style="vertical-align: inherit;">Zum Beispiel ein Prozent aller Anfragen oder nur Anfragen von einer bestimmten Benutzergruppe. </font><font style="vertical-align: inherit;">Wenn Sie sich bereits ansehen, wie v2 funktioniert, übertragen Sie nach und nach alle Anforderungen auf die neue Version. </font><font style="vertical-align: inherit;">Oder kehren Sie umgekehrt zu v1 zurück, wenn mit v2 etwas schief geht. </font><font style="vertical-align: inherit;">Es scheint Canary Deployment zu heißen („Canary Deployment“ - der Begriff </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geht auf den Bergbau zurück</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , und wenn er russischen Ursprungs wäre, würde er wahrscheinlich einen Hinweis auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Katzen enthalten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), und jetzt werden wir dies genauer untersuchen.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Canary Deployment bei Istio: Vereinfachung der Inbetriebnahme</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorsicht und nach und nach</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Wesentliche des Bereitstellungsmodells von Canary Deployment ist äußerst einfach: Wenn Sie eine neue Version Ihrer Software (in unserem Fall Microservice) starten, geben Sie zunächst einer kleinen Gruppe von Benutzern Zugriff darauf. </font><font style="vertical-align: inherit;">Wenn alles gut geht, erhöhen Sie diese Gruppe langsam, bis die neue Version zu verschrotten beginnt, oder - falls dies nicht der Fall ist - übertragen Sie schließlich alle Benutzer darauf. </font><font style="vertical-align: inherit;">Durch die sorgfältige und schrittweise Einführung einer neuen Version und die kontrollierte Umstellung der Benutzer können Sie Risiken reduzieren und das Feedback maximieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich vereinfacht Istio die kanarische Bereitstellung, indem es mehrere gute Optionen für intelligentes Abfrage-Routing bietet. </font><font style="vertical-align: inherit;">Und ja, all dies kann ohne Berühren Ihres Quellcodes erfolgen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtern Sie den Browser</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines der einfachsten Routing-Kriterien ist die browserbasierte Umleitung. </font><font style="vertical-align: inherit;">Angenommen, Sie möchten, dass v2 nur Anforderungen von Safari-Browsern sendet. </font><font style="vertical-align: inherit;">So geht's:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/iw/af/ca/iwafcaw6eic0prnsylpv5-_qb4u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir wenden diese Routing-Regel an und </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simulieren </font><font style="vertical-align: inherit;">dann mit dem Befehl </font><font style="vertical-align: inherit;">echte Anforderungen an den Microservice in einer Schleife. </font><font style="vertical-align: inherit;">Wie Sie im Screenshot sehen können, gehen alle zu Version 1:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/np/yc/fi/npycfikddqlvdsaayjgv7q9wiq4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wo ist der Verkehr auf v2? </font><font style="vertical-align: inherit;">Da in unserem Beispiel alle Anfragen nur von unserer eigenen Kommandozeile kamen, existiert sie einfach nicht. </font><font style="vertical-align: inherit;">Beachten Sie jedoch die Grundlinien im obigen Screenshot: Dies ist eine Reaktion auf die Tatsache, dass wir die Anforderung über den Safari-Browser ausgeführt haben, der wiederum Folgendes ausgegeben hat:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1y/lx/fu/1ylxfuljfqriqjnho0xti883np4.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unbegrenzte Macht</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben bereits geschrieben, dass reguläre Ausdrücke sehr leistungsfähige Funktionen zum Weiterleiten von Abfragen bieten. </font><font style="vertical-align: inherit;">Schauen Sie sich das folgende Beispiel an (wir glauben, Sie selbst werden verstehen, was es tut):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qg/zm/2n/qgzm2njck952jv0hnpofstseljc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt wissen Sie wahrscheinlich bereits, wozu reguläre Ausdrücke in der Lage sind.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Handle schlau</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch intelligentes Routing, insbesondere durch die Verarbeitung von Paket-Headern mit regulären Ausdrücken, können Sie den Datenverkehr nach Ihren Wünschen steuern. </font><font style="vertical-align: inherit;">Dies vereinfacht die Inbetriebnahme von neuem Code erheblich - es ist einfach, es ist nicht erforderlich, den Code selbst zu ändern, und bei Bedarf kann alles schnell zurückgegeben werden, wie es war.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interessiert an?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Möchten Sie unbedingt mit Istio, Kubernetes und OpenShift auf Ihrem Computer experimentieren? </font><font style="vertical-align: inherit;">Das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red Hat Developer Team hat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ein hervorragendes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu diesem Thema </font><font style="vertical-align: inherit;">vorbereitet </font><font style="vertical-align: inherit;">und alle zugehörigen Dateien freigegeben. </font><font style="vertical-align: inherit;">Also mach weiter und leugne dir nichts.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Istio Egress: Ausgang durch den Geschenkeladen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von Istio mit Red Hat OpenShift und Kubernetes kann Ihr Leben mit Microservices erheblich vereinfachen. Das Istio-Dienstprogrammraster ist in Kubernetes-Pods versteckt, und Ihr Code wird (meistens) isoliert ausgeführt. Leistung, einfache Änderung, Rückverfolgung und mehr - all dies ist durch die Verwendung von Beiwagencontainern einfach und präzise zu bedienen. Was aber, wenn Ihr Microservice mit anderen Diensten kommunizieren muss, die sich außerhalb Ihres OpenShift-Kubernetes-Systems befinden?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier kommt Istio Egress zur Rettung. Kurz gesagt, Sie können einfach auf Ressourcen (sprich: "Dienste") zugreifen, die nicht in Ihrem Kubernetes-System enthalten sind. Wenn Sie keine zusätzliche Konfiguration durchführen, wird der Datenverkehr in der Istio Egress-Umgebung nur innerhalb des Pod-Clusters und zwischen diesen Clustern basierend auf internen IP-Tabellen weitergeleitet. Und diese Art von Welpen funktioniert so lange, bis Sie Zugang zu Dienstleistungen von außen benötigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Egress können Sie die oben genannten IP-Tabellen umgehen, entweder basierend auf Egress-Regeln oder für einen Bereich von IP-Adressen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir haben ein Java-Programm, das eine GET-Anforderung an httpbin.org/headers ausführt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(httpbin.org ist nur eine praktische Ressource zum Testen ausgehender Serviceanfragen.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie an der Eingabeaufforderung eingeben</font></font><code>curl http://httpbin.org/headers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wir werden folgendes sehen:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rt/k2/uw/rtk2uw9b4vifwpb53kyuwejqsxk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder Sie können dieselbe Adresse in einem Browser öffnen:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tz/do/xk/tzdoxkr-xlm2hak5birhlldkhxw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, gibt der dort befindliche Dienst einfach die an ihn übergebenen Header zurück.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importsubstitution in die Stirn</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir nun den Java-Code dieses Dienstes außerhalb unseres Systems und führen ihn zu Hause aus, wo Istio steht. </font><font style="vertical-align: inherit;">(Sie können dies selbst tun, indem Sie sich auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unser Istio-Tutorial beziehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .) Nachdem Sie das entsprechende Image erstellt und auf der OpenShift-Plattform ausgeführt haben, rufen wir diesen Dienst mit einem Befehl auf. Anschließend </font></font><code>curl egresshttpbin-istioegress.$(minishift ip).nip.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wird auf dem Bildschirm </font><font style="vertical-align: inherit;">Folgendes </font><font style="vertical-align: inherit;">angezeigt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ri/uu/fy/riuufy_oroj1ncon-vuzsa4lq0u.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ups, was ist passiert? </font><font style="vertical-align: inherit;">Trotzdem hat es einfach funktioniert. </font><font style="vertical-align: inherit;">Was bedeutet nicht gefunden? </font><font style="vertical-align: inherit;">Wir haben es nur für ihn getan </font></font><code>curl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erweitern Sie IP-Tabellen auf das gesamte Internet</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schuld (oder danke) Istio dafür. </font><font style="vertical-align: inherit;">Schließlich handelt es sich bei Istio nur um Beiwagencontainer, die für die Erkennung und Weiterleitung verantwortlich sind (nun, für viele andere Dinge, über die wir zuvor gesprochen haben). </font><font style="vertical-align: inherit;">Aus diesem Grund wissen IP-Tabellen nur, was sich in Ihrem Clustersystem befindet. </font><font style="vertical-align: inherit;">Und httpbin.org befindet sich außerhalb und ist daher nicht verfügbar. </font><font style="vertical-align: inherit;">Und hier kommt Istio Egress zur Rettung - ohne die geringste Änderung in Ihrem Quellcode. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Egress-Regel zwingt Istio, (falls erforderlich, im gesamten Internet) nach dem gewünschten Dienst zu suchen, in diesem Fall httpbin.org. </font><font style="vertical-align: inherit;">Wie Sie dieser Datei (egress_httpbin.yml) entnehmen können, ist die Funktionalität hier ziemlich einfach:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dt/7a/g0/dt7ag0yvazqigxahzkvaghy6q9a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt nur diese Regel anzuwenden:</font></font><br>
<br>
<pre><code class="plaintext hljs">istioctl create -f egress_httpbin.yml -n istioegress
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können die Ausgangsregeln mit dem folgenden Befehl anzeigen </font></font><code>istioctl get egressrules</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/5w/ta/-c5wtafzvbioqrq5fmm-ftewjls.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Führen Sie zum Schluss den Befehl </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">curl</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erneut aus </font><font style="vertical-align: inherit;">- und stellen Sie sicher, dass alles funktioniert:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ry/5n/ts/ry5ntsmb11fe3roghccyt8k-tj8.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir denken offen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, können Sie mit Istio die Interaktion mit der Außenwelt organisieren. </font><font style="vertical-align: inherit;">Mit anderen Worten, Sie können weiterhin OpenShift-Dienste erstellen und diese über Kubernetes steuern, indem Sie alles in Pods speichern, die nach Bedarf vergrößert und verkleinert werden. </font><font style="vertical-align: inherit;">Gleichzeitig können Sie sicher auf Dienste außerhalb Ihrer Umgebung zugreifen. </font><font style="vertical-align: inherit;">Und ja, wir wiederholen noch einmal, dass dies alles möglich ist, ohne Ihren Code zu berühren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies war der letzte Beitrag in der Istio-Reihe. </font><font style="vertical-align: inherit;">Bleiben Sie bei uns - viele interessante Dinge vor uns!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de487214/">https://habr.com/ru/post/de487214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de487198/index.html">Beachtung! Homo-Bewusstsein. ich</a></li>
<li><a href="../de487200/index.html">6 Gründe, einen Radarwarner zu hassen</a></li>
<li><a href="../de487206/index.html">Wie Entwickler Spiele ehrlich machen</a></li>
<li><a href="../de487208/index.html">In Python geschriebene Analytics for Telegram-Bots</a></li>
<li><a href="../de487210/index.html">So konfigurieren Sie Elasticsearch so, dass keine Lecks auftreten</a></li>
<li><a href="../de487216/index.html">Kim Dotcom: Gefangen, die meistgesuchte Person online. Teil 2</a></li>
<li><a href="../de487218/index.html">Botzees - ein Roboterdesigner für die Kleinsten mit Augmented Reality und freundlichen Augen</a></li>
<li><a href="../de487220/index.html">Überprüfung der LED-Lampen Remez E27 und E14 auf koreanischen LEDs der neuen Generation</a></li>
<li><a href="../de487224/index.html">Wie lange kann eine langfristige Konstruktion, die dazu bestimmt ist, ein Meisterwerk zu werden?</a></li>
<li><a href="../de487226/index.html">Machen Sie Ihr Abzeichen: Shitty Add-On macht OFFZONE nichts aus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>