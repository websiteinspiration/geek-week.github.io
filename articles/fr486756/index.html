<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§πüèº üìÆ ‚òïÔ∏è Python pour le testeur: comment les petits scripts pandas c aident √† tester de grands ensembles de donn√©es üë©üèæ‚Äçü§ù‚Äçüë©üèª üî≤ ‚ôìÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je travaille en tant que testeur sur un projet dont l'essentiel est la collecte et le stockage de diverses donn√©es et la formation de divers rapports ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Python pour le testeur: comment les petits scripts pandas c aident √† tester de grands ensembles de donn√©es</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486756/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je travaille en tant que testeur sur un projet dont l'essentiel est la collecte et le stockage de diverses donn√©es et la formation de divers rapports et t√©l√©chargements de fichiers sur leur base. </font><font style="vertical-align: inherit;">Lors de la g√©n√©ration de tels rapports, un grand nombre de conditions de s√©lection des donn√©es sont prises en compte et, par cons√©quent, lors des tests, vous devez beaucoup travailler avec les requ√™tes SQL dans la base de donn√©es. </font><font style="vertical-align: inherit;">Mais pour v√©rifier la s√©lection correcte des donn√©es et rechercher les donn√©es exc√©dentaires / manquantes, cela ne suffit souvent pas, j'ai donc d√ª chercher des outils suppl√©mentaires pour cela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme j'avais d√©j√† quelques connaissances de base en python, j'ai d√©cid√© d'essayer d'√©crire de petits scripts qui nous permettraient de faire quelque chose avec les donn√©es existantes et ainsi de faciliter et d'acc√©l√©rer le processus de test. </font><font style="vertical-align: inherit;">Dans cet article, je vais vous dire ce qui en est sorti.</font></font><br>
<a name="habracut"></a><br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conception d'un script de script</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©crire un script, vous devez comprendre exactement ce que le script doit faire, quelles donn√©es doivent √™tre entr√©es et quelles donn√©es devraient √™tre sorties. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemples d'√©tapes pour le sc√©nario:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous obtenons un fichier avec des donn√©es dans un certain format (ou plusieurs fichiers)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenir des donn√©es √† partir d'un fichier / fichiers</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous s√©lectionnons les donn√©es n√©cessaires</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous effectuons certaines op√©rations sur les donn√©es</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous t√©l√©chargeons les donn√©es dans un fichier Excel, si n√©cessaire (g√©n√©ralement ce format est le plus pratique pour une analyse et un stockage approfondis)</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, vous devez r√©fl√©chir √† comment et o√π vous pouvez obtenir des informations. </font><font style="vertical-align: inherit;">Cela peut √™tre un fichier cr√©√© manuellement avec des donn√©es, le t√©l√©chargement de donn√©es vers une interface utilisateur dans un fichier en tenant compte des filtres, un fichier avec des donn√©es d'analyse √† l'aide d'un autre script, un fichier pour t√©l√©charger les r√©sultats d'une requ√™te SQL dans la base de donn√©es (vous pouvez rapidement t√©l√©charger des donn√©es vers un fichier csv √† partir de la base de donn√©es), json -fichier ou fichier xml avec les donn√©es de la r√©ponse √† une demande √† l'API, etc.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous √©crivons des scripts en python en utilisant des pandas et d'autres biblioth√®ques</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©crire des scripts en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">python,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous devez installer un interpr√©teur et un IDE appropri√©. </font><font style="vertical-align: inherit;">Il est √©galement pr√©f√©rable de cr√©er un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">environnement virtuel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distinct </font><font style="vertical-align: inherit;">pour ce projet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'utilise diff√©rentes biblioth√®ques pour les scripts, certaines d'entre elles sont des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biblioth√®ques python int√©gr√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , certaines doivent √™tre install√©es en plus:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pandas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est une biblioth√®que d'analyse de donn√©es. </font><font style="vertical-align: inherit;">Il vous permet de travailler avec des donn√©es de fichiers de diff√©rents formats, ainsi que de recevoir des donn√©es directement de la base de donn√©es √† l'aide d'une requ√™te SQL. </font><font style="vertical-align: inherit;">Les donn√©es des fichiers sont charg√©es dans des blocs de donn√©es (visuellement les m√™mes tableaux que dans Excel), avec des donn√©es dans lesquelles vous pouvez d√©j√† effectuer diff√©rentes op√©rations: combiner des donn√©es de diff√©rents blocs de donn√©es par analogie avec jointure / union en SQL, s√©lectionnez les donn√©es dont vous avez besoin sous certaines conditions, comparer les donn√©es dans diff√©rentes colonnes de la trame de donn√©es, etc.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openpyxl, xlrd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - biblioth√®ques pour travailler avec Excel.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le cadre de script le plus simple pour travailler avec des donn√©es √† partir de fichiers csv, json, Excel est le suivant:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#    csv-  -</span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment">#       csv-     ";"</span>
df = pd.read_csv(<span class="hljs-string">'./csv_file.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
<font></font>
<span class="hljs-comment"># </span>
<span class="hljs-comment">#    json-  -</span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment"># df = pd.read_json('./json_file.json', encoding='utf-8')</span><font></font>
<font></font>
<span class="hljs-comment"># </span>
<span class="hljs-comment">#    Excel-  -,     </span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment"># file_excel = 'Excel_file.xlsx'</span>
<span class="hljs-comment"># df = pd.ExcelFile(file_excel).parse('1')</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#  -     -  </span>
<span class="hljs-comment">#    - final_df</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#    Excel-,  </span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
final_df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce script, les donn√©es d'un fichier du format souhait√© sont charg√©es dans une trame de donn√©es, les donn√©es n√©cessaires sont s√©lectionn√©es et certaines op√©rations sont effectu√©es sur elles, puis les donn√©es sont √©crites dans un nouveau fichier Excel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous devez travailler avec des donn√©es obtenues √† la suite d'une requ√™te SQL dans la base de donn√©es, vous ne pouvez pas les exporter vers un fichier csv, mais les placer imm√©diatement dans un bloc de donn√©es en ex√©cutant une requ√™te SQL dans la base de donn√©es dans le script lui-m√™me:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-comment">#      ,     PostgreSQL</span>
<span class="hljs-comment"># (   -    )</span>
<span class="hljs-keyword">import</span> psycopg2<font></font>
<font></font>
<span class="hljs-comment">#    </span>
conn = psycopg2.connect(dbname=<span class="hljs-string">'_'</span>, host=<span class="hljs-string">''</span>, port=<span class="hljs-string">''</span>,<font></font>
                        user=<span class="hljs-string">''</span>, password=<span class="hljs-string">''</span>)<font></font>
<font></font>
<span class="hljs-comment">#   SQL-</span>
q = <span class="hljs-string">"""select ... 
    from ... 
    where ..."""</span><font></font>
<font></font>
<span class="hljs-comment">#    -,  SQL-</span><font></font>
df = pd.read_sql_query(q, conn)<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#  -     -  </span>
<span class="hljs-comment">#    - final_df</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">#    Excel-,  </span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
final_df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous devez obtenir des donn√©es √† partir d'un fichier xml, vous pouvez utiliser les biblioth√®ques con√ßues √† cet effet. </font><font style="vertical-align: inherit;">J'utilise la biblioth√®que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int√©gr√©e ElementTree</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque les donn√©es sont re√ßues dans une trame de donn√©es, vous pouvez imm√©diatement les combiner avec des donn√©es d'une autre trame de donn√©es (analogues de jointure ou d'union dans SQL) ou effectuer certaines op√©rations sur celles-ci, par exemple, supprimer les doublons, supprimer les lignes avec des valeurs vides dans certaines cellules , comparez les donn√©es dans plusieurs colonnes, s√©lectionnez les lignes / colonnes souhait√©es, etc. </font><font style="vertical-align: inherit;">En savoir plus dans la documentation pour les pandas.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options d'utilisation des scripts</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant, nous activons l'outil principal du testeur et s√©lectionnons les donn√©es / fonctionnalit√©s de notre projet, pour v√©rifier quels scripts seraient utiles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des fichiers contenant une petite quantit√© de donn√©es de test g√©n√©r√©es √† l'aide des donn√©es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g√©n√©r√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont √©t√© cr√©√©s pour les scripts </font><font style="vertical-align: inherit;">. En r√©alit√©, les fichiers de donn√©es contiennent des dizaines de milliers de lignes et un grand nombre de colonnes. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sc√©nario # 1</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il y a trois fichiers au format csv avec des donn√©es. Pour chaque ligne de donn√©es, il existe un champ avec un identifiant unique. Les donn√©es de ces fichiers sont s√©lectionn√©es en tenant compte de certaines conditions et saisies dans un tableau de la base de donn√©es, puis ces donn√©es sont affich√©es dans un rapport sous la forme d'un tableau sur l'interface utilisateur. Il est possible de t√©l√©charger des donn√©es sur une interface utilisateur vers un fichier Excel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons que les conditions de s√©lection des donn√©es pour un rapport √† partir de fichiers source soient les suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les fichiers peuvent avoir des doublons par identifiant, dans un rapport, un enregistrement avec le m√™me identifiant ne doit √™tre pris en compte qu'une seule fois (dans ce cas, nous s√©lectionnons simplement l'une des lignes avec cet identifiant dans les donn√©es).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les lignes avec des donn√©es manquantes dans la cellule de la colonne reg_date ne doivent pas √™tre compt√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En fait, il peut y avoir plus de conditions de s√©lection, les donn√©es peuvent √©galement √™tre compar√©es aux donn√©es d√©j√† pr√©sentes dans le syst√®me et seules les donn√©es entrecrois√©es par id seront affich√©es dans le rapport, mais par exemple nous ne prendrons en compte que les deux conditions indiqu√©es ci-dessus.</font></font></li>
</ul><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La t√¢che du testeur:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V√©rifier que les lignes avec les objets n√©cessaires sont correctement s√©lectionn√©es dans les fichiers source et que tous ces objets sont affich√©s dans le rapport sur l'interface utilisateur. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous composons un script pour le script:</font></font></u><br>
<br>
<ul>
<li>  -      csv-,     - (   union  SQL),      id,       reg_date.</li>
<li>  UI     Excel-,   ,       -.</li>
<li> (merge)   -   (   outer join  SQL)          Excel-   .</li>
<li>              ,   ,   -   ,      ,   UI.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le fichier final, les donn√©es ne contiendront qu'une seule colonne avec id, si les noms des colonnes dans des trames de donn√©es diff√©rentes co√Øncident, et il peut ne pas √™tre clair quelles colonnes / lignes de quel fichier provenaient. </font><font style="vertical-align: inherit;">Par cons√©quent, soit je nomme les colonnes avec un identifiant unique par des noms diff√©rents dans les fichiers, soit j'ajoute une colonne distincte ¬´Lignes d'un fichier de tel ou tel¬ª √† chaque fichier et y ajoute ¬´Oui¬ª - puis, lors de l'analyse du fichier Excel r√©sultant, il est pratique de filtrer par cette colonne parce que </font><font style="vertical-align: inherit;">ils contiennent toujours une valeur et, en les filtrant, vous pouvez d√©j√† comprendre quelles donn√©es divergent dans les colonnes correspondantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple de </font><font style="vertical-align: inherit;">donn√©es de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example1_csv_1.csv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fichier </font><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/of/5j/_u/of5j_us3u07uset3ljspbbwtrr4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemple de </font><font style="vertical-align: inherit;">donn√©es de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report_UI.xlsx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fichier </font><font style="vertical-align: inherit;">: A </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uh/xy/1s/uhxy1sygvioxbbhlksppdpsar_e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ressemble ce script python:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#     csv-    -</span>
<span class="hljs-comment"># (        )</span>
df_from_file1 = pd.read_csv(<span class="hljs-string">'./example1_csv_1.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>,<font></font>
                            usecols=[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'reg_date'</span>])<font></font>
df_from_file2 = pd.read_csv(<span class="hljs-string">'./example1_csv_2.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>,<font></font>
                            usecols=[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'email'</span>,<span class="hljs-string">'reg_date'</span>])<font></font>
df_from_file3 = pd.read_csv(<span class="hljs-string">'./example1_csv_3.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>,<font></font>
                            usecols=[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'reg_date'</span>])<font></font>
<font></font>
<span class="hljs-comment">#    -    - </span>
<span class="hljs-comment"># (   union  SQL)</span><font></font>
df_from_csv = pd.concat([df_from_file1, df_from_file2, df_from_file3]).\<font></font>
    reset_index(drop=<span class="hljs-literal">True</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#       </span>
df_from_csv.drop_duplicates(subset=<span class="hljs-string">'id'</span>, keep=<span class="hljs-string">'first'</span>, inplace=<span class="hljs-literal">True</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#     NaN ( )   reg_date</span><font></font>
df_from_csv = df_from_csv.dropna()<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#    Excel-   UI  -,</span>
<span class="hljs-comment">#       </span>
<span class="hljs-comment"># (        )</span>
file_excel = <span class="hljs-string">'report_UI.xlsx'</span>
df_from_excel = pd.ExcelFile(file_excel).parse(<span class="hljs-string">'1'</span>)<font></font>
print(df_from_excel)<font></font>
<font></font>
<span class="hljs-comment">#  -     - </span>
<span class="hljs-comment"># -       UI</span>
<span class="hljs-comment"># (   outer join  SQL)</span>
df = df_from_csv.merge(df_from_excel, left_on=<span class="hljs-string">'id'</span>, right_on=<span class="hljs-string">""</span>, how=<span class="hljs-string">'outer'</span>)<font></font>
print(df)<font></font>
<font></font>
<span class="hljs-comment">#     Excel-</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limites:</font></font></u><br>
<br>
<ul>
<li>               (  ,       30 000 ).</li>
<li>   (  Excel)  /           ,            .</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sc√©nario n ¬∞ 2</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La section contient des donn√©es sous forme de tableau pour certains objets √† partir d'une seule source. Le syst√®me recevra les donn√©es d'une deuxi√®me source (int√©gration) et mettra √† jour les donn√©es de table existantes avec ces donn√©es. Chaque enregistrement de la table correspond aux donn√©es d'un objet dot√© d'un identifiant unique. Si √† partir d'une nouvelle source les donn√©es d'objet par identifiant co√Øncident avec les donn√©es d'un objet existant, alors tous les champs de l'enregistrement existant sont mis √† jour avec les donn√©es de la nouvelle source (confirm√©es). Si la table n'a pas encore d'objet avec un identifiant de la deuxi√®me source, un nouvel enregistrement est cr√©√© dans la table avec les donn√©es de la nouvelle source. Les donn√©es du deuxi√®me syst√®me peuvent √™tre t√©l√©charg√©es √† l'avance dans un fichier json. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La t√¢che du testeur:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©parez √† l'avance un fichier contenant des donn√©es pour le test, afin qu'apr√®s la fin de l'impl√©mentation, v√©rifiez que les enregistrements existants sont correctement mis √† jour et qu'ils soient appos√©s avec un signe de confirmation dans la base de donn√©es, s'il y a correspondance par identifiant, et que de nouveaux enregistrements sont correctement cr√©√©s et qu'ils sont marqu√©s avec le signe de l'ajout √† la base de donn√©es, si les enregistrements avec tels l'identifiant n'√©tait pas encore. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous composons un script pour le script:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous t√©l√©chargeons les donn√©es de la table de partition dans le fichier Excel sur l'interface utilisateur (si cela n'est pas possible, vous pouvez toujours exporter les donn√©es du r√©sultat de la requ√™te SQL utilis√©e dans le code pour sortir les donn√©es vers cette table sur l'interface utilisateur) et remplir les donn√©es de celui-ci dans le premier bloc de donn√©es .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous obtenons le fichier json avec des donn√©es de la deuxi√®me source et le chargeons dans la deuxi√®me trame de donn√©es.</font></font></li>
<li>  (merge ‚Äî    outer join  SQL)    -    -          Excel-,        .      ,        ,      .</li>
</ul><br>
<u>:</u><br>
<br>
<ul>
<li>               (  ,       30 000 ).</li>
<li>  json-     /  ‚Äì           /,    -   json-   pandas        /.</li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sc√©nario 3</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Une demande est adress√©e √† l'API syst√®me, en r√©ponse √† laquelle les donn√©es sur les objets au format json sont re√ßues. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√¢che du testeur:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comparer les donn√©es de la r√©ponse √† la demande √† l'API avec les donn√©es du r√©sultat de la requ√™te SQL dans la base de donn√©es. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous composons un script pour le script:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous ex√©cutons la requ√™te SQL dans la base de donn√©es, exportons les donn√©es du r√©sultat de la requ√™te vers un fichier csv, chargeons ces donn√©es dans le premier bloc de donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous sauvegardons les donn√©es de la r√©ponse √† la demande √† l'API dans le fichier json, chargeons les donn√©es du fichier dans la deuxi√®me trame de donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous combinons les donn√©es (fusion - par analogie avec la jointure externe en SQL) de deux trames de donn√©es re√ßues dans une nouvelle trame de donn√©es par un identifiant unique et en d√©chargeons les donn√©es dans un fichier Excel, dans lequel nous comparerons d√©j√† les donn√©es par colonnes en utilisant les fonctions de Exceller</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou les donn√©es sur les colonnes dans le bloc de donn√©es g√©n√©rales peuvent √™tre compar√©es √† l'aide de pandas, tout en d√©chargeant les lignes avec les m√™mes donn√©es / des donn√©es diff√©rentes dans les colonnes dans un nouveau bloc de donn√©es / fichier Excel pour analyse.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemples de donn√©es du fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example3_csv.csv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/e6/xz/zxe6xzjff9vbfwgntsfqb-qyykc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemples de donn√©es du fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example3_json.json</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="json hljs">[<font></font>
    {<font></font>
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"16421118-4116"</span>,
        <span class="hljs-attr">"name_json"</span>: <span class="hljs-string">"Tempor Consulting"</span>,
        <span class="hljs-attr">"email_json"</span>: <span class="hljs-string">"Nullam.lobortis.quam@***"</span>,
        <span class="hljs-attr">"tel_json"</span>: <span class="hljs-string">"1-821-805-****"</span>,
        <span class="hljs-attr">"reg_date_json"</span>: <span class="hljs-string">"12-11-16"</span>,
        <span class="hljs-attr">"city_json"</span>: <span class="hljs-string">"Natales"</span><font></font>
    },<font></font>
    {<font></font>
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"16040210-2206"</span>,
        <span class="hljs-attr">"name_json"</span>: <span class="hljs-string">"Odio Etiam Incorporated"</span>,
        <span class="hljs-attr">"email_json"</span>: <span class="hljs-string">"arcu@***"</span>,
        <span class="hljs-attr">"tel_json"</span>: <span class="hljs-string">"1-730-291-****"</span>,
        <span class="hljs-attr">"reg_date_json"</span>: <span class="hljs-string">"26-06-05"</span>,
        <span class="hljs-attr">"city_json"</span>: <span class="hljs-string">"Viddalba"</span><font></font>
    },<font></font>
...<font></font>
]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le script python ressemble √† ceci:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#    csv-  -</span>
<span class="hljs-comment"># (        )</span>
<span class="hljs-comment">#       csv-     ";"</span>
df_from_csv = pd.read_csv(<span class="hljs-string">'./example3_csv.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#    json-  -</span>
<span class="hljs-comment"># (        )</span>
df_from_json = pd.read_json(<span class="hljs-string">'./example3_json.json'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
print(df_from_json)<font></font>
<font></font>
<span class="hljs-comment">#  -    -</span>
<span class="hljs-comment"># (   outer join  SQL)</span>
df_csv_json = df_from_csv.merge(df_from_json, left_on=<span class="hljs-string">'id'</span>, <font></font>
                                right_on=<span class="hljs-string">"id"</span>, how=<span class="hljs-string">'outer'</span>)<font></font>
print(df_csv_json)<font></font>
<font></font>
<span class="hljs-comment">#    Excel-,   ,</span>
<span class="hljs-comment">#      -   ,</span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
<span class="hljs-comment"># writer = pd.ExcelWriter('.xlsx')</span>
<span class="hljs-comment"># df_csv_json.to_excel(writer, '1')</span>
<span class="hljs-comment"># writer.save()</span><font></font>
<font></font>
<span class="hljs-comment">#       </span>
<span class="hljs-comment"># (, name_csv  name_json) </span>
<span class="hljs-comment">#       Excel-  </span>
<span class="hljs-comment"># (        )</span>
unequal_data_df = df_csv_json.loc[df_csv_json[<span class="hljs-string">'name_csv'</span>] != <font></font>
                                  df_csv_json[<span class="hljs-string">'name_json'</span>]]<font></font>
unequal_data_df = unequal_data_df[[<span class="hljs-string">'id'</span>, <span class="hljs-string">'name_csv'</span>, <span class="hljs-string">'name_json'</span>]]<font></font>
print(unequal_data_df)<font></font>
<font></font>
writer = pd.ExcelWriter(<span class="hljs-string">'_name.xlsx'</span>)<font></font>
unequal_data_df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
<font></font>
</code></pre><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limites:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous travaillez avec des fichiers avec un tr√®s grand nombre de lignes, vous devrez les diviser en fichiers s√©par√©s (ici, vous devez essayer, j'ai rarement des fichiers de plus de 30 000 lignes).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si le fichier json a plusieurs niveaux d'imbrication d'objets / tableaux de donn√©es, alors √† partir des niveaux internes, ils seront charg√©s dans la cellule en tant qu'objet / tableau, donc travailler avec des fichiers json avec pandas n'est pratique que pour les donn√©es sans imbrication excessive d'objets / tableaux.</font></font></li>
<li>       API         SQL-  ,             SQL-   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la r√©ponse √† la demande adress√©e √† l'API est au format xml, vous devrez d'abord analyser les donn√©es n√©cessaires √† partir du fichier xml √† l'aide d'ElementTree ou d'une autre biblioth√®que, puis les charger dans le bloc de donn√©es. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sc√©nario n ¬∞ 4</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sur l'interface utilisateur, un fichier xml contenant des donn√©es sur les objets est t√©l√©charg√©, qui est g√©n√©r√© √† la vol√©e √† partir des donn√©es de la base de donn√©es sous certaines conditions (par exemple, les statuts, les dates, les ann√©es ou d'autres valeurs de param√®tres pour les objets sont pris en compte). </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√¢che du testeur:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comparer l'ID unique des identifiants des objets du fichier xml qui se trouvent dans l'attribut de la balise de soci√©t√© avec les identifiants des objets du r√©sultat de la requ√™te SQL dans la base de donn√©es. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous composons un script pour le script:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous sauvegardons les donn√©es de la r√©ponse √† la demande √† l'API dans le fichier xml, obtenons les donn√©es n√©cessaires √† partir de ce fichier en utilisant la biblioth√®que ElementTree, chargeons les donn√©es dans le premier bloc de donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous ex√©cutons la requ√™te SQL dans la base de donn√©es, exportons les donn√©es du r√©sultat de la requ√™te vers le fichier csv, chargeons ces donn√©es dans le deuxi√®me bloc de donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous combinons les donn√©es (fusion - par analogie avec la jointure externe en SQL) de deux trames de donn√©es re√ßues dans une nouvelle trame de donn√©es par un identifiant unique et d√©chargeons les donn√©es de celui-ci dans un fichier Excel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, ouvrez le fichier r√©sultant et analysez les lignes de donn√©es.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemples de donn√©es du fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example4_csv.csv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gb/zk/ou/gbzkou2bivh2gsnk6do0lthh1_g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exemples de donn√©es du fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example4_xml.xml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Un </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zh/x4/no/zhx4noe3virrsagqnaduwpqyp_w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
script python ressemble √† ceci:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#   ElementTree</span>
<span class="hljs-keyword">from</span> xml.etree <span class="hljs-keyword">import</span> ElementTree
<span class="hljs-comment">#   pandas</span>
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
<span class="hljs-comment">#    xml-   </span>
<span class="hljs-comment"># (        )</span>
tree = ElementTree.parse(<span class="hljs-string">"example4_xml.xml"</span>)<font></font>
<font></font>
<span class="hljs-comment">#   </span><font></font>
root = tree.getroot()<font></font>
<font></font>
<span class="hljs-comment">#  ,     </span><font></font>
data_list = []<font></font>
i = <span class="hljs-number">1</span><font></font>
<font></font>
<span class="hljs-comment">#    -   id_type1  id_type2</span>
<span class="hljs-keyword">for</span> child <span class="hljs-keyword">in</span> root.iter(<span class="hljs-string">"companies"</span>):
    <span class="hljs-keyword">for</span> child_1 <span class="hljs-keyword">in</span> child.iter(<span class="hljs-string">"company"</span>):<font></font>
            data_list.append({<span class="hljs-string">""</span>: i, <span class="hljs-string">"id"</span>: child_1.get(<span class="hljs-string">"id_type1"</span>)
                                                <span class="hljs-keyword">or</span> child_1.get(<span class="hljs-string">"id_type2"</span>), 
                              <span class="hljs-string">"  xml"</span>: <span class="hljs-string">""</span>})<font></font>
            i += <span class="hljs-number">1</span><font></font>
<font></font>
<span class="hljs-comment">#     data_list  -</span>
df_from_xml = pd.DataFrame.from_dict(data_list, orient=<span class="hljs-string">'columns'</span>)<font></font>
print(df_from_xml)<font></font>
<font></font>
<span class="hljs-comment">#    csv-  -</span>
df_from_csv = pd.read_csv(<span class="hljs-string">'./example4_csv.csv'</span>, sep=<span class="hljs-string">';'</span>, encoding=<span class="hljs-string">'utf-8'</span>)<font></font>
print(df_from_csv)<font></font>
<font></font>
<span class="hljs-comment">#  -   -</span>
<span class="hljs-comment"># (   outer join  SQL)</span>
df = df_from_csv.merge(df_from_xml, left_on=<span class="hljs-string">'id'</span>, right_on=<span class="hljs-string">"id"</span>, how=<span class="hljs-string">'outer'</span>)<font></font>
print(df)<font></font>
<font></font>
<span class="hljs-comment">#    Excel-</span>
<span class="hljs-comment">#          </span>
<span class="hljs-comment"># (      )</span>
writer = pd.ExcelWriter(<span class="hljs-string">'.xlsx'</span>)<font></font>
df.to_excel(writer, <span class="hljs-string">'1'</span>)<font></font>
writer.save()<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sc√©nario 5</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans l'interface utilisateur, la section affiche des donn√©es sur les objets sous la forme d'un tableau. </font><font style="vertical-align: inherit;">Il est possible de t√©l√©charger des donn√©es dans un fichier Excel. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La t√¢che du testeur:</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comparer les donn√©es de la table de partition avec les donn√©es t√©l√©charg√©es dans le fichier Excel. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous composons un script pour le script:</font></font></u><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous demandons aux d√©veloppeurs une requ√™te SQL dans la base de donn√©es √† partir du code qui est responsable de la sortie des donn√©es vers la table de partition sur l'interface utilisateur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous ex√©cutons cette requ√™te SQL dans la base de donn√©es, t√©l√©chargeons les donn√©es dans un fichier csv, chargeons les donn√©es de celui-ci dans la premi√®re trame de donn√©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous t√©l√©chargeons les donn√©es de la table de partition vers le fichier Excel sur l'interface utilisateur et chargeons les donn√©es de celle-ci dans le deuxi√®me bloc de donn√©es.</font></font></li>
<li>  (merge ‚Äî    outer join  SQL)    -    -          Excel-,             Excel.</li>
<li>      -     pandas,      /      -/Excel-  .</li>
</ul><br>
<u>:</u><br>
<br>
<ul>
<li>    ,     Excel-  UI, ,         ,          .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des scripts similaires peuvent √©galement √™tre utilis√©s simplement pour transf√©rer des donn√©es de fichiers json ou de fichiers csv vers des fichiers Excel. </font><font style="vertical-align: inherit;">Ou, vous pouvez combiner les donn√©es de plusieurs fichiers Excel dans certaines colonnes et les t√©l√©charger dans un nouveau fichier Excel.</font></font><br>
<br>
<b><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce ne sont que quelques exemples de la fa√ßon dont vous pouvez utiliser python + pandas pour acc√©l√©rer le processus de test et trouver des bogues. </font><font style="vertical-align: inherit;">En fait, les pandas ont beaucoup plus de possibilit√©s de travailler avec des donn√©es, vous pouvez en savoir plus √† ce sujet dans la documentation de cette biblioth√®que. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre que votre projet a d'autres options pour utiliser de tels scripts et cet article vous aidera √† commencer √† les utiliser dans le travail des testeurs.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr486744/index.html">Un correcteur de posture intelligent fabriqu√© au pays a √©t√© mis en vente. Nous avons regard√© le nouveau produit - IBACK</a></li>
<li><a href="../fr486746/index.html">√âcrivez, ne coupez pas. Ce que j'ai commenc√© √† manquer dans les publications de Habr</a></li>
<li><a href="../fr486750/index.html">La s√©rie "For All Mankind": d'une histoire alternative √† la poubelle</a></li>
<li><a href="../fr486752/index.html">Serveur Web WSGI unique utilisant ESP8266. Partie 1</a></li>
<li><a href="../fr486754/index.html">JIRA: r√®gles pour la pr√©paration en temps opportun de d√©licieux logiciels. TLDR 2: gestion des exigences</a></li>
<li><a href="../fr486760/index.html">Security Week 06: trackers publicitaires dans les applications mobiles</a></li>
<li><a href="../fr486762/index.html">H√©bergement de chevet: la pratique effrayante de l'h√©bergement √† domicile</a></li>
<li><a href="../fr486764/index.html">Bricolage Schema.org: personnalisation de la micro-mise en page sans programmeur</a></li>
<li><a href="../fr486766/index.html">Comment transf√©rer toutes les transactions en ligne sur le march√© de l'affacturage archa√Øque? Exp√©rience de l'affacturage Sberbank</a></li>
<li><a href="../fr486768/index.html">R√©vision du panneau d'administration Webasyst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>