<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ü üí≥ ü§ôüèø Install the Linux desktop on Android üßôüèª üç¶ üë©üèª‚Äçüéì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, Habr! I present to you the translation of an article from APC magazine.
 
 
 This article discusses the full installation of the Linux operatin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Install the Linux desktop on Android</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495720/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, Habr! </font><font style="vertical-align: inherit;">I present to you the translation of an article from APC magazine.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kn/bg/e0/knbge0teln9skuuzrydw8obj_ew.jpeg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article discusses the full installation of the Linux operating environment along with the graphical desktop environment on Android devices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One of the key technologies that many of Linux systems on Android use is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pRoot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">This is a user-space implementation of the chroot utility, which is very popular on Linux desktops and servers. </font><font style="vertical-align: inherit;">However, the chroot tool needs root user privileges, which are not available by default on Android. </font><font style="vertical-align: inherit;">pRoot gives this advantage by establishing a binding to the directory.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux terminals </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Not all Linux terminal emulators for Android have a set of BusyBox utilities, unlike, for example, Termux. </font><font style="vertical-align: inherit;">The reason for this is the fact that the whole point of such systems is to provide a ‚Äúcomplete‚Äù installation of all OS components, while BusyBox is designed to reduce all the many common utilities into a single binary file. </font><font style="vertical-align: inherit;">On systems where BusyBox is not installed, bootstrapping for Linux is used, which contains full versions of programs. </font></font><br>
<img src="https://habrastorage.org/webt/v0/5j/0w/v05j0woxbsznla3erbvu4lq9a7u.png"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Set the login and password for the distribution and VNC in UserLAnd.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, these systems have additional technology that does not require Termux. </font><font style="vertical-align: inherit;">This article will cover the full installation of the Linux distribution, as well as the GUI desktop. </font><font style="vertical-align: inherit;">But first you need to choose the installation method of the graphics system.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux on Android</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As mentioned earlier, the software packages that we will install run in user space. </font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This means that they only have permission for the current user, which in the case of Android OS is always a regular user, i.e. </font><font style="vertical-align: inherit;">does not have administrator privileges. </font><font style="vertical-align: inherit;">However, in order to install the Linux desktop, we need to install a graphical server, for example, X or Wayland. </font><font style="vertical-align: inherit;">If we did this in the Linux operating environment, then it would start with the privileges of a regular user, without having access to the graphical level of the Android OS. </font><font style="vertical-align: inherit;">And therefore, we should look towards installing the server in the ‚Äústandard‚Äù Android way, so that it has access to hardware and the ability to support the graphical environment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Smart guys from the developer community have proposed two solutions to this problem. The first is to use your own version of Linux (usually an X server). After they start working in the background, you will have access to this background process through VNC. If your Android device already has a VNC viewer program for interacting remotely with other computers, just use it to gain remote access to the local host. This is an easy-to-use solution, but some users report experiencing difficulties with the program.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second option is to install a server designed specifically for Android devices. </font><font style="vertical-align: inherit;">Some servers are available on the Play Store in both free and paid versions. </font><font style="vertical-align: inherit;">Before installation, you need to check whether the selected option is supported or at least works with the Linux software package for Android that you are going to install. </font><font style="vertical-align: inherit;">We preferred the X-Server system, and therefore used the XServer XSDL software package ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">The article will describe the installation process for this server, although it may be slightly different if you have another application installed or are using VNC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System selection</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As in the case of X-Servers, there are several applications for installing Linux system distributions in the Play Store. Here, as with Termux, we will concentrate on options that do not require superuser authority, which in turn involves a certain degree of risk. These applications provide all the functionality necessary for most users, while keeping your data safe. The following are examples of such applications on the Play Store: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserLAnd</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : A very popular choice of users. The application includes a set of common distributions: Debian, Ubuntu, Arch and Kali. Curiously, despite the lack of RPM-based options, UserLAnd includes Alpine Linux for devices with less memory. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AnLinux</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: This application helps in installing one or more large-volume distribution lists and may include Ubuntu / Debian, Fedora / CentOS, openSUSE, and even Kali. There you can also choose low-cost desktop options: Xfce4, MATE, LXQtand LXDE. To work, you need installed Termux, and the Android operating system must be from 5.0 and above. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andronix is</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> very similar to AnLinux. It may have a better design than the previous application, but it supports fewer distributions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GNURoot WheezyX</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: This project started as a Linux variant on Android and was developed for open source programs. As the name suggests, it focuses on Debian distributions, while the 'X' at the end means that the application is focused on the graphical desktop. And despite the fact that the creators stopped the development of the project for the sake of UserLAnd, GNURoot WheezyX is still available on the Play Store, if anyone has a need for it.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The authors of this article will use the UserLAnd application to install the Linux desktop on Android, and there are several reasons for this. </font><font style="vertical-align: inherit;">Firstly, the application is open source (although AnLinux also has it). </font><font style="vertical-align: inherit;">Secondly, it offers a good set of distributions (although Fedora or CentOS are not included in it), it is also possible to install distributions with the minimum system requirements that will not take up much space in the smartphone‚Äôs memory. </font><font style="vertical-align: inherit;">But the main advantage of UserLAnd is that it has support tools for installing individual applications instead of entire distributions. </font><font style="vertical-align: inherit;">We will find out what exactly this means for us, later. </font><font style="vertical-align: inherit;">Now let's install UserLAnd on your device.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserLAnd Application</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Download the application from Google Play or F-Droid ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) on the Android OS. It is installed like any other application - nothing special needs to be done here. After that, launch it from the application panel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing you will see there is a list of distributions. At the end, you can find a couple of desktop options: LXDE and Xfce4. Closes his application Firefox, a couple of games and several office utilities: GIMP, Inkscape and LibreOf Ô¨Å ce. This tab is called ‚ÄúApplications‚Äù. It is designed to install applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After you install something, a corresponding entry will appear on the Session tab. Here you can start or stop the current session, as well as see the running processes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚ÄúFilesystems‚Äù is the last tab that shows already completed installations. </font><font style="vertical-align: inherit;">It is worth noting that after you delete any item from Filesystems, information about it will be erased from the Session tab, which, however, does not prove otherwise. </font><font style="vertical-align: inherit;">This means that you can create a new session based on the current file system. </font><font style="vertical-align: inherit;">Understanding how this relationship works is much easier if you see it in action, and therefore we will start by installing the application in the UserLAnd system environment. </font></font><br>
<img src="https://habrastorage.org/webt/et/60/mf/et60mfwu7q1gym5xhjkaj160rs0.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Before you install the distribution on your smartphone, you must provide UserLAnd access to the repository.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributions in UserLAnd</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Select one of the distributions located on the Apps screen to install on the device. </font><font style="vertical-align: inherit;">As an example, we will use Ubuntu. </font><font style="vertical-align: inherit;">When you click on the icon, a dialog box appears asking for the VNC username, password and password. </font><font style="vertical-align: inherit;">Then select the way in which you will access the distribution. </font><font style="vertical-align: inherit;">The download will begin, during which the base image of the selected distribution will be involved. </font><font style="vertical-align: inherit;">The file will be unpacked in the UserLAnd directory. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the download is complete, return to the xterm terminal emulator. </font><font style="vertical-align: inherit;">You can enter a utility command to find out which version of Linux you installed:</font></font><br>
<br>
<pre><code class="plaintext hljs">uname ‚Äìa</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The next step is to install the desktop using the Ubuntu utility command:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo apt install lxde</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The final step is to make sure your new desktop environment is ready to run. To do this, you need to edit the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.xinitrcfile file,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> which currently has only one line </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / bin / twm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . It must be changed to </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / bin / startlxde</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Now exit the XSDL session (be sure to press the STOP button in the notification area), hold the ‚ÄúUbuntu listing‚Äù button on the Sessions tab, then click ‚ÄúStop Sessions‚Äù and restart the sessions. </font><font style="vertical-align: inherit;">After a few seconds, the LXDE system environment should appear. </font><font style="vertical-align: inherit;">You can do the same in it as on a regular desktop. </font><font style="vertical-align: inherit;">It just might be a little smaller and work a little slower: to press a button on the device, you have to wait longer than if you did it with a keyboard and mouse. </font><font style="vertical-align: inherit;">Let's see how exactly we can improve the Linux system environment on a smartphone.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UserLAnd Quick Guide</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A careful study of the contents of the desktop, you can find the exact recreation of the desktop version. If you use UserLAnd on a device with a keyboard and mouse (connected via a Bluetooth connection or in some other way), it will be easy for you to adapt to using the Linux system environment in this format. With the exception of a slight lag due to the fact that the X-Windows cursor is synchronized with the cursor of the device on Android, everything works smoothly.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhaps the first thing you want to do is adjust the default font system, since the desktop font size is too large for the phone screen. Go to the main menu, then select "Settings" ‚Üí "Customize the appearance and widgets" ‚Üí "Widget". Here you can change the default font size to a more suitable option for your phone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You may want to install your favorite programs in the Linux system environment later on. As mentioned above, utility commands will not work in this case, so feel free to use the truly irreplaceable tool that is installed in the UserLAnd system environment, called ASAP:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo apt install emacs</code></pre><br>
<img src="https://habrastorage.org/webt/sj/m8/zm/sjm8zmcdpgwu54_titdr6im5emw.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributions in the application are presented in the form of sessions. You can start and close them. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/qh/uq/n0/qhuqn0oehckqs4lhhx7iwvctzo4.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After installing the distribution, you can add a desktop environment with standard commands.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
You will probably also need alternative ways to establish a connection for your distribution. The fact that you originally installed XSDL does not mean that it should be unchanged all the time. You can create another account on the Session tab and select another server. Just be sure to specify it on the same file system. UserLAnd will try to direct you to the desired application to establish a new type of connection: either XSDL, ConnectBot for SSH, or bVNC.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, the persistence with which the application automatically directs you to the Play Store when trying to reconnect can be annoying. To stop this, just change the server by installing a special application. To install SSH, select the old proven VX ConnectBot. Just enter port 2022 on your workstation with your username and password. To connect to the VNC server, it‚Äôs enough to install the commercial, but in many ways advanced Jump Desktop application, and dial the address 127.0.0.1‚ñ∫951. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We hope you remember the VNC password that was set when you created the file system.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also access the current UserLAnd session using similar tools on another computer on your network. </font><font style="vertical-align: inherit;">It is enough to connect SSH to a working session (with an SSH connection type, of course) using a Linux terminal, for example, Konsole, or connect to a VNC session using KRDC. </font><font style="vertical-align: inherit;">Just replace the local addresses on the computer screen with the IP addresses of your Android. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Combined with a pair of portable applications, this installation will give you a handy portable Linux system that you can connect to using any computer that is currently available to you.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495706/index.html">News from the world of OpenStreetMap No. 505 (03.17.2020-23.03.2020)</a></li>
<li><a href="../en495708/index.html">Openconnect emergency VPN server with two-factor authorization on Centos 8</a></li>
<li><a href="../en495712/index.html">We set development goals (in a bloody enterprise and not only)</a></li>
<li><a href="../en495716/index.html">Myths about learning foreign languages</a></li>
<li><a href="../en495718/index.html">Master JetBrains & ITMO: we continue to study intensively and announce an open day</a></li>
<li><a href="../en495726/index.html">In days of doubt, in days of painful deliberation</a></li>
<li><a href="../en495728/index.html">We study the Mediastreamer2 VoIP engine. Part 2</a></li>
<li><a href="../en495730/index.html">Hack The Box. Passage Registry. Docker, RCE in CMS Bolt and Restic</a></li>
<li><a href="../en495732/index.html"># 03 - And a whole byte is not enough ... | 2B or not 2B</a></li>
<li><a href="../en495740/index.html">As we for a week without money, connections and software launched a food delivery service and almost did not screw up</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>