<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎱 🍔 🈺 Cisco 200-125 CCNA v3.0のトレーニング。28日目。ACLの詳細な調査 💪🏽 🗺️ 🌬️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日は、27日目のビデオチュートリアルのトピックを続け、ACLの詳細な調査を行います。ワイルドカードマスクのリバースマスク、拡張ACLリスト、拡張ACLリストのセットアップ、およびネットワーク設計の問題の診断に役立つコマンドについて少し説明します。
 前のレッスンでは、新しいインバースマスクの概念に...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。28日目。ACLの詳細な調査</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465725/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日は、27日目のビデオチュートリアルのトピックを続け、ACLの詳細な調査を行います。ワイルドカードマスクのリバースマスク、拡張ACLリスト、拡張ACLリストのセットアップ、およびネットワーク設計の問題の診断に役立つコマンドについて少し説明します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のレッスンでは、新しいインバースマスクの概念について理解しました。次に、ワイルドカードマスクについて詳しく説明します。覚えていれば、サブネットマスクは、ネットワークをネットワークのアドレス部分とホストのアドレス部分に視覚的に分割するのに役立ちます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/m5/wk/bk/m5wkbkrukhvkbdo63ozgwgexmp4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビットレベルに移動すると、サブネットマスクが、ネットワーク部分を示す一連のユニットと、ホストの一部を示す一連のゼロで構成されていることがわかります。リバースマスクは、サブネットマスクと非常によく似ていますが、「反転」形式のみです。サブネットマスクに単位があり、リバースマスクにゼロがあり、その逆も同様です。これは必須の規則ではありません-場合によっては、リバースマスクは別の原理に従って形成されますが、CCNAを研究する場合、この規則が常に適用されます。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インバースマスクを計算する最善の方法は、常に255.255.255.255のように見えるグローバルマスクからサブネットマスクオクテットを引くことです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、サブネットマスク255.255.255.0のインバースマスクを計算するには、グローバルマスクからそれを差し引いて0.0.0.255を取得します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ey/ax/lm/eyaxlm4ogzres7rzcbjei01qztq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では、ネットワーク192.168.100.255/24を調べ、次にネットワーク/ 26を調べます。 / 26がある場合、サブネットマスクの最後のオクテットは192になります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nk/y6/3t/nky63tumrtn6s9nebzyomv17vx8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのIPアドレスのビット形式を見ると、サブネットマスクに26の単一ビットと6つのゼロビットが含まれていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6q/-f/nm/6q-fnmpouw_-2_h3gpwjmkcctw4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、逆マスクは26個のゼロと6個のユニットで構成する必要があります。すでに述べたように、0が配置されている場所には一致する住所パラメーターが表示され、ユニットが配置されている場所は無視できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/do/uf/i_/doufi_9ublvappivmz-b_esvlz8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかりやすくするために、上に10進数形式でIPアドレスを記述します。インバースマスクの最後のオクテットは63に対応し、0.0.0.63と表示できます。簡単に言うと、/ 26は、26個のゼロ、つまりIPアドレスの最初の3オクテットが同じで、最後の6ビットがゼロまたは1であることを意味します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_v/hs/hq/_vhshqkthswmlyzxq_t748itbuo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
見て-IPアドレスのこれらの最後の6ビットをゼロに置き換えると、数値192が得られ、1にすると、数値255が得られます。したがって、逆マスクは、最後のオクテットが192から255の範囲にあるIPアドレスを持つサブネットを示します、つまり、ネットワーク192.168.100.225/26の一部は、指定されたACL条件に従います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サブネットマスクとワイルドカードマスクの2つのマスクが必要な理由を尋ねるかもしれません。私自身が学生時代にこの質問をしましたが、それでも多くの人が、シスコで働いていても、この質問をしています。答えようと思います。一般に、サブネットマスクとリバースマスクは、サブネットに関しては同じことを示します。つまり、ネットワークを示すIPアドレスの一部です。ネットワーク全体を特定する場合、インバースマスクはダイレクトマスクの「反転」バージョンです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ホストの識別は異なります。すべてのアドレスが含まれているサブネット全体を識別したい場合は、サブネットマスクを使用できます。ただし、ACLルールを選択的に適用するために、このネットワークからいくつかのホストを識別する必要があるだけの場合は、リバースマスクが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1と0が交互に現れるサブネットマスクに遭遇することは決してありません。常に最初にユニットがあり、最後にゼロがあります。したがって、ワイルドカードは、1と0の任意のシーケンスで構成できるため、「ワイルド」と呼ばれます。より明確にするために、「4番目のオクテットに偶数の特定のネットワーク上のホストを特定する」という問題を解決しましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/_-/4t/gv_-4tr9a7figizqkv4poigrxze.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、このタイプのACLルールを作成するために必要です：192.168.100.0 &lt;reverse mask&gt;を許可します。つまり、トラフィックは、このサブネットの4番目のオクテットのみのIPアドレスに対して許可されます。これはサブネットマスクを使用して実行できますか？通常のサブネットマスクの4番目のオクテットには、特定の番号を1つだけ含めることができるので、私は思いません。 4オクテットのインバースマスクを見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/k_/mr/fok_mrujs7lq66x80sm4co4utlq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インバースマスクの最後のオクテットには、次のビットを配置できます：11111110。これについて説明します。 4番目のオクテットに偶数が含まれている場合、オクテットの最後のビットは必ず0であり、最後のビットが1の場合、数値は奇数です。 / 24サブネットについて話している場合、その最後のオクテットのみが偶数を含むことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リバースマスクの場合、最初の3つのオクテットは0で、4番目のオクテットの最初の7ビットは気になりません。主なことは、オクテットの8番目のビットはゼロであることです。これは、ネットワークIPアドレスの最後のオクテット（0）と一致する必要があるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のビットがIPアドレスは1に等しくなります。このアドレスは拒否されます。ここで、条件をACLに追加します-すべてを拒否します。したがって、サブネットのIPアドレスの最後のオクテットが0で終わる場合、つまり偶数である場合のみ、後方マスクと一致する条件も満たされます。これは、0で終了し、ACL条件は「すべてのアドレスに偶数4番目のオクテットを許可する」満足します。それ以外の場合、つまり、すべての奇数のIPアドレスに対して、「いずれかを禁止する」条件が適用され、すべて拒否されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、偶数オクテットの正確な値は2、4、6、8などとは関係ありません。主なものは、最後にゼロビットがあることです。通常のサブネットマスクを使用した場合、4番目のオクテットが偶数のIPアドレスごとに個別のエントリを作成する必要があります。インバースマスクを使用すると、これらすべてのエントリを1つに置き換えることができます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まったく同じ原則が4番目のオクテットの奇数に適用されます。この場合、リバースマスクの最後のビットは1に等しくなければなりません。この場合、奇数の4を持つサブネットのすべてのIPアドレスに対して、一般的なルールが確立、許可、または拒否されます。 thオクテット。この10進数の例がどのように見えるかを見てください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-d/63/2r/-d632rvriaexxcp5bypajippplq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リバースマスク0.0.0.254を使用すると、問題は解決されます。4番目のオクテットが偶数のすべてのホストが許可され、他のすべてのホストは禁止されます。リバースマスクの利点は、ACLを作成するときに、ニーズに合わせて構成できることです。 CCNAはこれを必要としないため、特定のリバースマスクについてあまり心配する必要はありません。ルールを覚えておけば十分です。リバースマスクは、サブネットマスクがグローバルマスク255.255.255.255から削除されたときに取得されます。 CCNAコースは、ホストではなくサブネットに重点を置いていることに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のスライドに戻って、ワイルドカードマスクを計算する別の方法について説明します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yi/0j/np/yi0jnpzrjwsfflhnobgt5bve4ba.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「マジック」テーブルから覚えている場合、/ 26は64に等しいビットのブロックのサイズを意味します。このブロックが64の場合、インバースマスクの最後のオクテットの値は（64-1）= 63になります。 / 25の場合、ブロックサイズは128になります。つまり、インバースマスクの最後のオクテットは（128-1）= 127になります。これは、逆マスク値の計算を容易にするためのもう1つのヒントです。ただし、使用しない場合は、通常の方法を使用して、グローバルマスクからサブネットマスクを差し引きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、拡張ACLコマンドの構文に進みます。標準ACLと同様に、コマンドの記録には、クラシックとモダンの2つのタイプがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/0p/lh/um0plhlq7ds-bcarxsh5lumbzxi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
従来のコマンドは、エントリaccess-list &lt;ACL番号&gt; &lt;disable / allow&gt; &lt;protocol&gt;です。したがって、最初の拡張ACLコマンドは、基準ではなくプロトコルを指定する点が標準ACLコマンドと異なります。つまり、トラフィックのフィルタリングは、送信元または宛先のIPアドレスではなく、使用されているプロトコルに従って行われます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての場合において、3種類のIPプロトコルを使用します。ICMP、または既知のping、特定のポート21、23などに依存するTCP、およびUDPです。ウィキペディアには、すべてのプロトコルとそれに対応するポート番号のリストが掲載された記事があることを思い出してください。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、コマンドライン&lt;source IP&gt; &lt;reverse mask&gt; [プロトコル情報]です。プロトコル情報とは、ポート番号を指定することです。つまり、前のコマンドで&lt;プロトコル&gt;としてICMP、TCPまたはUDPを指定し、2番目のコマンドでパラメーター[プロトコル情報]としてポート番号21.23を指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドの3行目は&lt;destination IP&gt; &lt;reverse mask&gt; [プロトコル情報]、つまり宛先に関するパラメーターです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のレッスンで覚えていると思いますが、トラフィックを送信するデバイスがこれ用に乱数ポートを作成するため、送信元ポート番号は乱数です。この点に関して、トラフィックソースに関する最初の行では、[プロトコル情報]宛先、たとえばFTP、つまりトラフィックをブロックするデバイスのプロトコルを指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラシックタイプの拡張ACLのリストを変更するには、クラシックタイプの標準ACLの場合と同様に、リスト全体を手動で再作成する必要があることを思い出してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モダンに見えるチームは、表現ipで始まります。これは、IPプロトコルとは関係なく、単なるキーワードです。したがって、最初の行には、ipキーワード、「extended access-list」パラメータ、およびACLの番号または名前が含まれています。最初のコマンドを実行した後、config-ext-naclサブコマンドモードに切り替え、上記で説明したように&lt;disable / allow&gt; &lt;protocol&gt;を入力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、2つのコマンド&lt;source IP&gt; &lt;reverse mask&gt; [プロトコル情報]および&lt;destination IP&gt; &lt;reverse mask&gt; [プロトコル情報]であり、最初のコマンドは通常[source protocol information]パラメーターを無視し、代わりに[protocol information]パラメーターを無視します。先]。場合によっては、送信元ポートを指定する必要があります。ただし、CCNAでは、ほとんどの場合、このパラメーターは無視できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
拡張ACLの使用は、標準ACLの使用に似ています。ここでは、リストが適用されるデバイスのインターフェイスも指定する必要があります。次に、ip access-groupパラメーター、ACLリストの番号または名前、およびトラフィックフローの方向（受信または送信）を使用します。前のビデオでは、特定のポートのトラフィック方向がどのように決定されるかについてすでに説明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スキームに進み、前のレッスンのネットワークトポロジを使用して高度なACLを構成しましょう。問題番号1は、次のとおりです。「管理部門のネットワークと財務部門のネットワークにあるコンピューターは、サーバーネットワークにあるServer0サーバーにのみHTTP（80）およびFTP（21）プロトコルを介してアクセスできます。」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/fg/_o/kifg_onbczdnlpgc67dbge--5hc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、すべてのトラフィックが許可されるわけではなく、ポート80と21からのトラフィックのみが許可されます。たとえば、SSHプロトコルを介したトラフィックがブロックされます。覚えていれば、拡張ACLはソースの近くに適用する必要があるため、管理部門ではルーターR1のポートG0 / 0に適用し、アカウンティングではルーターR2のポートG0 / 0に適用する必要があります。ルーターに関しては、着信トラフィックをブロックするため、listコマンドでINパラメーターを使用します。 ACLをリスト番号101に割り当て、古典的なアプローチを使用して、ACLに含める必要がある行のリストを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wi/uq/hi/wiuqhiidr1bfzxd6_sdpxthr4b0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の行ではTCPを許可しています。HTTPポート80はTCPを意味するため、管理部門のネットワーク192.168.1.224/28を示しています。この例では、リバースマスクを省略し、Packet Tracerで使用しています。これまでのところ、リストの形成の原則は重要です。管理ネットワークは、宛先IPアドレス192.168.1.194/32が示された後、トラフィックのソースです。ここで、194はServer0アドレスの最後のオクテットであり、/ 32は、条件が192.168.1.192/27サブネットにあるこの特定のデバイスにのみ適用されることを意味します。行の最後に、HTTPトラフィック用の許可された宛先ポート80を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、FTPトラフィックの送信に使用されるポート21のエントリが作成されます。私は3行目を記述していません。これは、デフォルトでは「すべて拒否」のように見え、このサブネットに属していないデバイスからの発信トラフィックを禁止します。次に、リストがR1のG0 / 0ポートにIN方向、つまり着信トラフィックに適用されることを指定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
財務部門のACL Allow_Accエントリをコンパイルして、ポート80と21からのTCPトラフィックを許可し、このリストをルーターR2の入力インターフェイスG0 / 0に適用する場合も、同様に行います。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2f/z8/xj/2fz8xjhmwenmvjxeozpld2dsjmm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題番号2は次のとおりです。「営業部門ネットワークのコンピューターは、サーバーネットワーク上にあるServer1でのみPING（ICMP）を除くすべてのプロトコルを使用できます。」これは、サーバーとの通信に、営業部門のコンピューターがHTTP、SSH、FTPプロトコル（ICMP以外のプロトコル）を使用できることを意味します。この場合、ACL条件リストは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/5l/ps/in/5lpsinofhqzxn32u7ql8uuf9nw8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の行では、ICMPを介したすべてのトラフィックを禁止し、特定の条件をリストの先頭に配置し、一般的にリストの末尾に配置します。このレコードは、営業部門のサブネット識別子192.168.1.0/25を示しています。特定のサーバー1サーバーのIPアドレスは192.168.1.195/32です。エコーパラメータは、pingトラフィックを意味します。つまり、コンピュータに戻るためにサーバーに送信されるパケットは拒否されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2行目では、192.168.1.0 / 25サブネットからサーバーアドレス192.168.1.195/32に向かう他のすべてのトラフィックを許可しています。いつものように、リストの最後のデフォルト行は「Deny any」です。つまり、営業部門のコンピューターが財務部門に連絡しようとすると、このトラフィックは破棄されます。次に、ACLを適用するルーターインターフェイスを指定し、2番目の問題を解決します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスク3は、「Sales2ラップトップLaptop2と財務部門PC0がmanagement0ラップトップLaptop0にアクセスできる」です。これらのデバイスは、管理部門にあるCFOのCFOと通信できる営業部門と経理部門の責任者によって管理されているとします。 ICMPを含む、使用されるプロトコルに関する制限はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図で赤丸で囲んだインターフェースに3つのACLがすでに適用されています。 Laptop2は、現時点ではLaptop0に接続できません。これは、タスク3の条件と矛盾するためです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hp/nq/y2/hpnqy2-n_4wels92e7cih94i7q0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これら2つのデバイス間で通信するには、Allow_Sa ACLに条件を追加する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/t5/cu/j-/t5cuj-hkbez_nf-qxuyoq6c3k_4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、PC0がLaptop0に自由にアクセスできるように、Allow_Acc ACLに条件を追加する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rb/ya/vc/rbyavcokvtgs9_dz9rwj0yuy34c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
両方のリストで、Permit IPパラメーターを使用して行を追加します。これは、任意のIPプロトコルでトラフィックを許可することを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存知のように、ICMPは双方向トラフィックを使用します。pingを送信すると、エコーがそれを返します。私たちの状況では、Laptop2がLaptop0 pingのアドレスをアドレス指定すると、トラフィックは管理部門のネットワークに自由に流れます。ただし、パッケージが営業部門のラップトップに戻されると、パッケージはR1ルーターのG0 / 0インターフェイスに移動し、そこでACL 101がアクティブになります。戻りトラフィックはこのリストのどの条件とも一致しないため、ブロックされます。したがって、営業部門のSales2ラップトップ2からのpingと財務部門のPC0コンピューターからのpingの両方の解決条件をACL101リストに追加する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rw/y_/zi/rwy_zihar-nzak7n9syenz0prk0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスク3を解決し、問題4の解決に進みます。「Sales3ラップトップLaptop3は、サーバー1のポート80を介して、独自のSALESネットワークとWebサービスのみにアクセスできます」。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクの最初の部分は、Laptop3がSALESネットワークを離れようとするとすぐに、R2ルーターによってそのトラフィックがブロックされることを意味します。ただし、タスクの2番目の部分によれば、このコンピューターはSALESネットワークの外部にあるWebサービスにアクセスできる必要があります。これは、サーバーへのトラフィックを除くすべてのトラフィックがブロックされることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前のタスクから、営業部門からのトラフィックは、R2ルーターの入力インターフェイスG0 / 1に適用したAllow_Sa ACLによって規制されていることがわかります。したがって、このリストを変更する必要があります。まず、この行に「ポート80を介してサーバー1にTCPを許可する」という行を追加します。PermitTCP 192.168.1.3/32 192.168.1.195/32 80</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g1/ii/e8/g1iie8wrn_ys4_d5pxzgzsxlrxi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の行は、HTTPトラフィックがサーバーに到達することを意味し、2番目の拒否IP 192.168.1.3/32は、ラップトップ3からのFTPなどの残りのトラフィックがドロップされることを意味します。次に、前のACLの次の3行を変更せずに残し、問題4を解決します。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの問題の解決策は紙に書き留めるか、コンピュータに手動で入力することをお勧めします。紙とコンピュータでは、いつでも行を追加、取り消し、削除できます。上記の条件がこれらのルールを吸収するため、ACLの最後にある4番目の問題に2つの行を追加するだけでソリューションを追加すると、システムはそれらを無視することに注意してください。古いリストの2行目はすべてのトラフィックを許可するため、リストの最後にある拒否IP条件192.168.1.3/32は、単に満たされなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、ACLエントリの正しい順序は非常に重要です。まず、操作の論理チェーンを開発し、ラインが互いに矛盾しないように配置する必要があります。次に、Packet Tracerに進み、ソリューションに従ってすべての設定を完了します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d6/k8/so/d6k8soi4ha94psryok6hfmdbqcg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のルーター、Router1から構成を開始しましょう。 show access-listコマンドを使用して、ACLが現在欠落していることを示しています。次に、show ip routeコマンドを使用して、2つのルーター間のRIPが既に構成され、機能していることを示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laptop0に移動して、192.168.1.195のServer1にpingします。ご覧のとおり、トラフィックを禁止またはフィルタリングするACLがないため、pingは成功しています。 Server0にpingすることも自由です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ルーターRouter1に移動して、グローバル設定モードに入り、ACL 101リストを作成します。これを行うには、access-list 101 permit tcpコマンドを入力します。注-システムは、このコマンドで使用できるtcp以外のパラメーター値のヒントを提供します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/39/ah/7e/39ah7eyonfof74wpxuislhwm4pq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
esp、icmp、osfpなどです。 CCNAコースでは、主にip、ismp、tcp、およびudpプロトコルを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク全体のトラフィックを許可する必要があるため、access-list 101 permit tcp 192.168.1.224コマンドを入力します。 / 28パラメータは16ビットブロックを意味するため、逆マスクは0.0.0.15になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スラッシュ28は4つの借用ビットを意味し、1ビットが借用された場合、ブロックサイズは128、2ビットが64、3ビットは32、4ビットはブロックサイズ16を意味するため、インバースマスクの最後のオクテットは（16-1）= 15になります。この番号は、このサブネットのマスク値をグローバルマスクから減算した場合にも得られます。特定のサーバーへのトラフィックが考慮されるため、コマンドの最後にhostとそのIPアドレスを入力する必要があるため、結果としてコマンドは次のようになります。access-list 101 permit tcp 192.168.1.224 0.0.0.15 host 192.168.1.194。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力後、システムは次のパラメータが何であるかについてのヒントを与えます。これは、このトラフィックを処理するポートを特徴付けます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bv/ky/av/bvkyav2z_cfkdsqbdgysd6edisy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dscpパラメータを使用できます。この場合、対応する値を持つパケットはスキップされます。eqパラメータでは、特定の特定のポート番号を持つパケットのみが許可されます。gt-示されたポート番号より大きいパケット、lt-低いポート番号を持つパケットなど。 d。このコースでは特定のポート番号を使用するため、コマンドの最後にeqと入力する必要があります。その後、システムは次のパラメーターの可能な値に関するヒントを提供します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/qx/ss/rdqxss4ca-_8cp5m0e6nfw7romw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、0〜65535のポート番号、または特定のポートが対応するプロトコルの名前のいずれかです。 FTPの場合、これはポート21で、SMTP-ポート25の場合、単にwwwを入力できます。これは、ポート80を介したHTTPトラフィックを意味します。この場合、ポート番号80を入力します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
do show runコマンドを使用して現在の構成を確認すると、システムが自動的に数値80を値wwwに置き換えたことを確認できます。</font><font style="vertical-align: inherit;">次のコマンドは、ポート番号を除いて完全に似ていますが、80ではなく21になります。access-list 101 permit tcp 192.168.1.224 0.0.0.15 host 192.168.1.194 eq 21。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ICMPトラフィックのエントリを作成して、pingを許可する必要があります。</font><font style="vertical-align: inherit;">これを行うには、access-list 101 permit icmpと入力します。</font><font style="vertical-align: inherit;">次に、上記のようにhostと入力するか、通常の方法を選択してIPアドレス192.168.1.226とリターンマスク0.0.0.0を入力します。これはホストにすぎません。</font><font style="vertical-align: inherit;">次に、hostという単語とLaptop2のIPアドレス（192.168.1.2）を使用してコマンドを続行します。</font><font style="vertical-align: inherit;">その後、システムはコマンドの次のパラメーターの値に関するヒントを提供します-ここで、どのメッセージを許可するかを指定する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qc/ju/fh/qcjufhyq6nqg31_gp1nuflwvgkw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例では、応答のpingを有効にする必要があるため、コマンドの最後にecho-r​​eplayを指定する必要があります。つまり、pingメッセージのみが許可されます。その結果、条件は次の最終的な形式になります。access-list101 permit icmp192.168.1.226 0.0.0.0 host 192.168.1.2 echo-r​​eplay。次の条件は次のようになります。access-list 101 permit icmp 192.168.1.226 0.0.0.0 host 192.168.1.130 echo-r​​eplay。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、作成したリストを適用する必要があります。これには、コマンドint g0 / 0とip access-groupを一貫して入力し、リスト番号101を追加して、着信または発信を示します。この例では、着信INです。 Laptop0の設定に入り、ACLの作成前に問題なく通過したアドレス192.168.1.194のpingを確認します。ご覧のとおり、システムは宛先ホストが利用できないことを報告します。 IPアドレスを192.168.1.195に変更しても、同じメッセージが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
覚えていれば、タスクの1つは管理部門のラップトップLaptop0からのServer0の可用性でした。ただし、ポート80および21を介したHTTPおよびFTPトラフィックのみを許可し、ICMPトラフィック、つまりpingは許可しませんでした。これがpingが失敗した理由です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、Webトラフィックを試してみると、つまり、ブラウザーに移動してアドレスバーに192.168.1.194と入力すると、Server0 Webサーバーに簡単に接続できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qe/so/d_/qesod_x7ju9zigyjiro7133vrko.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
192.168.1.195にある別のサーバーに接続しようとすると、適用されたACLがそのようなトラフィックを許可しないため、試行は失敗します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題No. 1の最終的な解決策として、ルーターR2の設定に移動し、財務部門のACLを作成する必要があります-Allow_Ac。現時点ではACLが存在しないことを確認し、グローバル設定に移動して、コマンド構文の最新バージョンを使用します。これを行うには、ip access-list extended Allow_Acコマンドを入力して、サブコマンドレベルに移動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、permit tcp 192.168.1.128と入力します。 / 26があり、これは2つの借用ビットを意味し、1つの借用ビットはブロックサイズが128であることを思い出してください。グローバルマスク255.255.255.255からこのサブネット255.255.255.192のマスクを引くと、別の方法で同じ値のインバースマスクを取得できます。その結果、コマンドpermit tcp 192.168.1.128 0.0.0.63 host 192.168.1.194 eq 80が取得されます。他のポートのコマンドも同じ方法で作成されます。permittcp 192.168.1.128 0.0.0.63 host 192.168.1.194 eq 21。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題No. 1の最後の条件を満たすために残ります-財務部門のPC0から管理部門の財務ディレクターLaptop0のラップトップへのトラフィックを許可します。これを行うには、ポート番号を指定せずにコマンドpermit ip host 192.168.1.130 host 192.168.1.226を入力します。これは、この条件が任意のプロトコルのトラフィックに適用されるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、このACLをg0 / 0インターフェイスに適用する必要があります。これには、ip access-group Allow_Ac INコマンドが使用されます。前述のとおり、PC0はサーバー0にpingを実行できませんが、このサーバーのWebサービスと通信できます。 PC0ブラウザーにアドレス192.168.1.194を入力すると、パケットトレーサーに入ることができますが、R2ルーターがそのようなトラフィックをブロックするため、このサーバーにpingすることはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
販売部門のコンピューター用に新しいACLの作成を開始しましょう。これには、ip access-list extended Allow_Saコマンドとpermit tcp host 192.168.1.3 host 192.168.1.195 eq 80コマンドを使用します。したがって、HTTPトラフィックのみを許可し、その他すべての送信トラフィックをブロックしますdeny ip host 192.168.1.3 anyコマンドを使用して、特定のホストから任意の方向に。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4y/x7/le/4yx7leb24li9ft21i3sf6--y4f8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ping以外のトラフィックを許可する条件を記述する必要があります。そのため、deny icmp 192.168.1.0コマンドでpingを無効にします。ここに/ 25があります。これは1借用ビットを意味し、ブロックサイズは128ビットになります。つまり、インバースマスクは0.0.0.127のようになります。このトラフィックは、ping逆応答の形式で、ホスト192.168.1.195、つまりServer2の方向でブロックされます。その結果、ACLエントリは次のようになります。deny icmp 192.168.1.0 0.0.0.127 host 192.168.1.195 echo。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、リストの4行目の条件を満たすコマンドを記述します。これにより、同じサーバーに宛てられた営業部門ネットワークの他のすべてのトラフィックが許可されます：permit ip 192.168.1.0 0.0.0.127 host 192.168.1.195。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Laptop0の方向にLaptop2トラフィックを許可する条件を記録します。これを行うには、permit hostコマンド192.168.1.2 host 192.168.1.226を使用します。その後、ip access-group Allow_Sa INコマンドを使用して、リストをg0 / 1インターフェイスに割り当てます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bw/ve/w0/bwvew0hl60slwzsqkrdsxouia1y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laptop3に関してACLがどのように機能するかを確認し、そこから何かにpingできるかどうかを調べます。サーバーアドレス192.168.1.195へのpingは通過せず、192.168.1.130でのPCコンピューターのpingおよび192.168.1.226でのCFOラップトップのpingも通過しません。このラップトップでできることは、Server1 Webサービスを使用することだけです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1a/y3/lt/1ay3ltyzggjbjjbss5dh92hjxnk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laptop2は、pingなどのトラフィックをLaptop0に送信できる必要があります。ご覧のとおり、この条件は満たされ、アドレス192.168.1.226からの応答pingが確認されます。 ACLリストの条件により、アドレス指定されたLaptop0以外のトラフィックが禁止されるため、Laptop1管理部門の2番目のラップトップへのpingは通過しません。同様に、Laptop2はpingを192.168.1.195のServer1に送信できませんが、このサーバーのWebサービスを使用できます。したがって、適切なACLを作成して構成することにより、4つのタスクすべての条件を満たしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法がこの種の問題を解決するのに最適であるかどうかはわかりませんが、私はこの方法でそれらを解決することを好みます。これは、ネットワークを作成するためのACLまたはその他のツールの優れた点です。正しい解決策は1つではなく、問題はさまざまな方法で解決できます。ネットワーク要件は、設計に応じて異なります。適切な方法でネットワークを作成できるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CCNAの利点は、ネットワーク開発のすべての概念を学ぶことであり、資料を学ぶ最良の方法は、独自のネットワークを設計することです。これらの問題をあなた自身の方法で解決し、このビデオへのコメントで説明していただければ幸いです。さらに、考慮されているネットワークトポロジに基づいて、他のタスクを考え出し、それらを自分で解決することができます。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6Rtxun6dl-0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja465713/index.html">プロジェクトマネージャーに読むもの：人事管理、ソフトスキル、DevOpsに関する書籍</a></li>
<li><a href="../ja465715/index.html">Openstackの負荷分散（パート2）</a></li>
<li><a href="../ja465719/index.html">Androidの3CX VoIPクライアントでプッシュ通知が受信されない理由</a></li>
<li><a href="../ja465721/index.html">既存のテクノロジーによる完全に再利用可能な航空宇宙システム</a></li>
<li><a href="../ja465723/index.html">Posit-arithmetic：自分のフィールドで浮動小数点を打ち負かします。パート1</a></li>
<li><a href="../ja465727/index.html">ザッカーバーグまたは幼年期のプログラマーになる</a></li>
<li><a href="../ja465729/index.html">9月2日から8日までのモスクワでのデジタルイベント</a></li>
<li><a href="../ja465731/index.html">プログラマーのために英語を駆使するための多くのYouTubeチャンネル</a></li>
<li><a href="../ja465733/index.html">証明書が腐っていて、クラスターがカボチャに変わったらどうしますか？</a></li>
<li><a href="../ja465735/index.html">コンピュータMIC-7900の受動冷却システムはどうですか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>