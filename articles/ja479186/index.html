<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍚 🖤 🃏 並列計算の構造または「Go」演算子に対する引数について 🔶 🈴 ◾️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="並列（競合、非同期）コンピューティングをサポートする各言語には、コードを並列で実行する方法が必要です。以下は、さまざまなAPIの例です。
 

go myfunc(); // Golang  pthread_create(&thread_id, NULL, &myfunc); /* C with P...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>並列計算の構造または「Go」演算子に対する引数について</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479186/"><p><img src="https://habrastorage.org/getpro/habr/post_images/85d/e9d/a9e/85de9da9eebff2dc7806d48e9b71706e.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">並列（競合、非同期）コンピューティングをサポートする各言語には、コードを並列で実行する方法が必要です。</font><font style="vertical-align: inherit;">以下は、さまざまなAPIの例です。</font></font></p><br>
<pre><code class="plaintext hljs">go myfunc();                                // Golang<font></font>
<font></font>
pthread_create(&amp;thread_id, NULL, &amp;myfunc);  /* C with POSIX threads */<font></font>
<font></font>
spawn(modulename, myfuncname, [])           % Erlang<font></font>
<font></font>
threading.Thread(target=myfunc).start()     # Python with threads<font></font>
<font></font>
asyncio.create_task(myfunc())               # Python with asyncio</code></pre><br>
<p>     ,    —  <code>myfunc</code>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a> (. "Control Flow")</p><a name="habracut"></a><br>
<p>  — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>:</p><br>
<pre><code class="plaintext hljs">QObject::connect(&amp;emitter, SIGNAL(event()),        // C++ with Qt<font></font>
                 &amp;receiver, SLOT(myfunc()))<font></font>
<font></font>
g_signal_connect(emitter, "event", myfunc, NULL)   /* C with GObject */<font></font>
<font></font>
document.getElementById("myid").onclick = myfunc;  // Javascript<font></font>
<font></font>
promise.then(myfunc, errorhandler)                 // Javascript with Promises<font></font>
<font></font>
deferred.addCallback(myfunc)                       # Python with Twisted<font></font>
<font></font>
future.add_done_callback(myfunc)                   # Python with asyncio</code></pre><br>
<p>   ,     , ,    ,      ,   <code>myfunc</code>.   callback ,       . (    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">   Twisted</a>,    .)</p><br>
<p>…  .             ,         ( ,  asyncio).</p><br>
<p>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Trio</a>.     .  ,     <code>myfunc</code>  <code>anotherfunc</code> ,    :</p><br>
<pre><code class="python hljs"><span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> trio.open_nursery() <span class="hljs-keyword">as</span> nursery:<font></font>
    nursery.start_soon(myfunc)<font></font>
    nursery.start_soon(anotherfunc)</code></pre><br>
<blockquote>nursery — , </blockquote><p>    "",  .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a> (with-)?    ,       ?   ,           .   ,    ,    .    !   .</p><br>
<p><strong>  ,    ,   —  ,        ,   ,     .  ,    (    )     .</strong></p><br>
<p>  ?    :  <code>goto</code>      .     :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/c37/12a/b90/c3712ab9028c26f7ff089f3ff14e9071.png"></p><br>
<p>       <code>goto</code>,      ,    <code>goto</code>.       .     ?    ,     -  .   ,   <code>goto</code>,   ,       .</p><br>
<h1 id="oglavlenie"></h1><br>
<ul>
<li>  goto?</li>
<li>  go?</li>
<li>   goto?<br>
<ul>
<li>goto  </li>
<li>    goto</li>
<li>  goto</li>
</ul></li>
<li>    “Go”<br>
<ul>
<li>go-  .</li>
<li>go-    .</li>
<li>go-   .</li>
<li>  go</li>
</ul></li>
<li>    go<br>
<ul>
<li>   .</li>
<li>    .</li>
<li>     .</li>
<li>    ,    .</li>
<li>, ,       .</li>
<li>   .</li>
<li>  .</li>
<li>    go</li>
</ul></li>
<li>  </li>
<li></li>
<li></li>
<li></li>
<li></li>
<li> </li>
<li></li>
</ul><br>
<h1 id="chto-takoe-goto">  <code>goto</code>?</h1><br>
<p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>,    .    .    1950-   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>  IBM  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Remington Rand</a>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">FLOW-MATIC</a> (     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a> ).</p><br>
<p>FLOW-MATIC      .       ---  —    ,      ,     .    :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/620/bfd/d70/620bfdd7076dd6c0536f75a0dd187cd4.png"></p><br>
<p>,      ,     <code>if</code>,     —        .     .  ,     ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>  ( <code>JUMP TO</code>) —       !</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/eaa/d88/f7b/eaad88f7b6d97d7140f33cf48bb52a55.png"></p><br>
<p> , FLOW-MATIC      .     —     ,    .      <code>JUMP TO</code>,     - . ,  (13)    (2):</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/753/de0/ae9/753de0ae91dc198fa867707d441fc511.png"></p><br>
<p> ,       ,    ,    "    " .    <code>JUMP TO</code>,    <code>goto</code> ( " "),    .</p><br>
<p>    <code>goto</code>    :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/32a/127/4f4/32a1274f45c48110468e47083437bf29.png"></p><br>
<p>     !   ,   , FLOW-MATIC    .  ,    ,       "",       .    —    "-".</p><br>
<p>  <code>goto</code>   ?     ,   ?   ?       ,      ,   .</p><br>
<h1 id="chto-takoe-go">  <code>go</code>?</h1><br>
<p>    .  ,  <code>goto</code>  ,       ?     <code>go</code>  Golang,      "" ( ):</p><br>
<pre><code class="plaintext hljs">// Golang<font></font>
go myfunc();</code></pre><br>
<p>      ?      ,     .    :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/7b4/5ed/524/7b45ed524dc3bcd7625f5aaf60497607.png"></p><br>
<p>   ,  <em></em>  .      ( ) — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>  :        .  ,    - ( ) —         <code>myfunc</code>.      ,       —  <code>myfunc</code>      <em></em>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>  ,   .</p><br>
<blockquote>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a></blockquote><p>      Golang.     <em></em>  (),    :</p><br>
<ul>
<li>   (threading libraries)     ,       —    ,       .       ,  .</li>
<li>       ( ,   ), :<br>
) ,    - ,  <br>
)  -<br>
 ,     ,   — ,  <code>go</code>.</li>
<li> <code>Futures</code>  <code>Promises</code>    —        <code>Promise</code>,        ,    ,     (  ).     ,    ,   .            .</li>
</ul><br>
<p>         —    ,         —     ,     ,   . ,   ,    !    (      )!</p><br>
<p>    ,         .    <strong>"go"</strong>   ,    <strong>"goto"</strong>        <code>goto</code> .  <code>go</code>?    ,  Golang       .   :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/1ad/41c/8e1/1ad41c8e1896e247183cd25d08b353f5.png"></p><br>
<p> ?   — <strong><code>go</code>     <code>goto</code>.</strong></p><br>
<p>       .     ,   <code>goto</code>. ,  <code>goto</code>,      .   ,   <code>goto</code>,        API?  !</p><br>
<h1 id="chto-sluchilos-s-goto">   <code>goto</code>?</h1><br>
<p>      <code>goto</code>,     ?   60- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">  </a>     ,      : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">   goto</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">   </a>.</p><br>
<h2 id="goto-razrushaet-abstrakcii"><code>goto</code>  </h2><br>
<p>      ,         .     . ,     :</p><br>
<blockquote>     ,     .</blockquote><p>,   <em>   </em>.      <em></em>.    ,  ,      .   ,      ,     —  ,      Python:</p><br>
<pre><code class="python hljs">print(<span class="hljs-string">"Hello World!"</span>)</code></pre><br>
<p>       ,   <code>print</code> ( , , - ,  ..). ,    ,  <code>print</code> -  ,   ,      ,        .  ,      .</p><br>
<p>          ALGOL  ~5    :         <code>goto</code>:</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/eaa/d88/f7b/eaad88f7b6d97d7140f33cf48bb52a55.png"></p><br>
<p>   ,    :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/0d8/de3/a21/0d8de3a217a61b13b2c1f6869f706d6b.png"></p><br>
<p>       <code>goto</code>,   ,      :    .        <code>goto</code>    .  ,  <code>goto</code>,   </p><br>
<ul>
<li>  =&gt; [ ] =&gt;   </li>
</ul><br>
<p>    "  " —    ( )   ,   ,     ,     "- ",         .   ,      ,     .    :</p><br>
<pre><code class="python hljs">print(<span class="hljs-string">"Hello World!"</span>)</code></pre><br>
<p>     <code>print</code>    ,  ,    .    <code>print</code>  ,    ,      …     —  ,      <code>print</code>,    ,        ,   .</p><br>
<p>       <code>goto</code> — ,         <code>goto</code>,  <code>goto</code>    ,    —        !       ,   ,     <code>goto</code>…   <code>goto</code>     . ,       ,      !   !</p><br>
<p>    — <em>     <code>goto</code> ,    ,    —        .</em>      <code>goto</code>,      .  <em></em> <code>goto</code>   -.</p><br>
<p>      —    .     —     //       <code>goto</code>,         —      <code>goto</code>   .</p><br>
<p> 2018     .    ,       ?  1969-,     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a> <code>goto</code>. ,        <code>goto</code>,        ,      ,   .  ,     .</p><br>
<p>      ,    .</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/385/9c2/6dc/3859c26dcf65e23a85415a039974645f.jpg"></p><br>
<blockquote>:  <code>goto</code>. :  <code>goto</code>,   C, C#, Golang,  ..     ,         ,      .</blockquote><p>        ,   <code>break</code>, <code>continue</code>,  <code>return</code>.    ,               .  ,  —          —  .      <code>break</code>       <code>return</code>       .           .</p><br>
<p> ,   <code>goto</code> (, #, Golang, ...),   .  ,           .     Assembler [2], ,  <code>goto</code>   .  .</p><br>
<h2 id="divnyy-novyy-mir-bez-goto">    goto</h2><br>
<p>-     <code>goto</code> —       ,     .</p><br>
<p>,          — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>.   :</p><br>
<pre><code class="python hljs"><span class="hljs-comment"># Python</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">"my-file"</span>) <span class="hljs-keyword">as</span> file_handle:<font></font>
    some code</code></pre><br>
<p>  ,        <code>some code</code>   —  .      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">RAII</a>, <code>using</code>, try-with-resource, <code>defer</code>, ...).    ,      .   ,      <code>with</code>  <code>goto</code>?    ?       ,    ?</p><br>
<blockquote> ,     , <code>with</code>   <code>__exit__()</code>     ,     .</blockquote><p>  ?    <code>goto</code>       .</p><br>
<p>      —  -   ,    ?  —       ()       ,  .       ,    (Exceptions)    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">  </a>.               "".        FLOW-MATIC   ,   .     ?</p><br>
<h2 id="bolshe-nikakih-goto">  <code>goto</code></h2><br>
<p>,  <code>goto</code> —     —    ,     .    , <code>goto</code>     —     .</p><br>
<p>    <code>goto</code>    <em></em> .        —   ,  ,   ,      .        .    ,        .   <code>goto</code> ,    ,    " ".</p><br>
<h1 id="o-vrede-vyrazheniy-tipa-go">    "Go"</h1><br>
<p>,    <code>goto</code>.       <code>go</code>? …  , !    .</p><br>
<h2 id="go-vyrazheniya-lomayut-abstrakcii">go-  .</h2><br>
<p>,   ,     <code>goto</code>,        <code>goto</code>?    , <code>go</code>-      —    (   )    . ,     ,        ?     ,      ,   .    ?  .     <code>go</code>   ,      ,    .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> API</a>,    " ",  ,     ,    ,  <code>asyncio</code>  Twisted,     ,     ..</p><br>
<blockquote>     ,     . ,       3/,     1/,         , . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">  </a></blockquote><br>
<h2 id="go-vyrazheniya-lomayut-avtoochistku-otkrytyh-resursov">go-    .</h2><br>
<p>      <code>with</code>:</p><br>
<pre><code class="python hljs"><span class="hljs-comment"># Python</span>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">"my-file"</span>) <span class="hljs-keyword">as</span> file_handle:<font></font>
    some code</code></pre><br>
<p>  ,   "",    ,  <code>some code</code> ,   .    <code>some code</code>   ?    : ,  <em></em>,     <code>with</code>,      <em></em>   <code>with</code>,   ,    ,      .  ,       ;   ,       ,   <code>some code</code>.</p><br>
<p>  ,     ,   -      ,   ,        .</p><br>
<blockquote>      ,   Python  <code>threading</code> —       ,        ,          —   ,    <code>with</code></blockquote><p> ,    ,     ,     (       ).     ,        .     ,     .</p><br>
<h2 id="go-vyrazheniya-lomayut-obrabotku-oshibok">go-   .</h2><br>
<p>   ,     ,    (exceptions),          .        " ".         ,   .  ,      ,  .      ,       ,   …      ,      .   ,   -  . (   ,   ,   " -   "     —     ;      .)  Rust — , ,        -     —    .     (thread) , Rust <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">     </a>.</p><br>
<p>,  <em></em>      ,  join         ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">errbacks  Twisted</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Promise.catch  Javascript</a>.     ,   ,     .     ,  Traceback  .       <code>Promise.catch</code>       . </p><br>
<p>     ,       .</p><br>
<h2 id="bolshe-nikakih-go">  <code>go</code></h2><br>
<p>,  <code>goto</code>        , go-         —    ,    ,   ,      .  ,   <code>goto</code>,     ,     <code>go</code>        .</p><br>
<p>   ,     ,     !  :</p><br>
<ul>
<li>   <code>go</code>-,    ,   "  ",</li>
<li>       ,    <code>go</code>-.</li>
</ul><br>
<p>  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Trio</a>.</p><br>
<h1 id="pitomnik-kak-strukturnaya-zamena-go">    <code>go</code></h1><br>
<p>  :  ,        ,   ,    . ,       ,       :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/b13/280/671/b13280671e22430f5417a99dde464344.png"></p><br>
<p>,      ,     ,     "  " . </p><br>
<p>        ?     " " , </p><br>
<p>)      ,   ,    (      ), <br>
)       ,             .</p><br>
<p>      .   ,        - .      ,       .. [3]</p><br>
<p>    : ,  ,        ,     <strong>""</strong>,    .  Trio   ,    <code>async with</code>:</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/22b/0fe/266/22b0fe2660255eede7befcff37f099b9.png"></p><br>
<p>      ,   <code>as nursery</code>     <code>nursery</code>.      <code>nursery.start_soon()</code>,    () :      <code>myfunc</code>  <code>anotherfunc</code>.     <em></em> .     ,   ,    () ,   ,   .</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/cbb/a00/adc/cbba00adc39a2f528626284bbf4a7e55.png"></p><br>
<p> ,    ,        —        ,    ,       .   ,   .</p><br>
<blockquote>,     .</blockquote><p>             :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/017/9df/9f1/0179df9f11831897e5e231edc5d43a20.png"></p><br>
<p>    ,     .    :</p><br>
<h2 id="pitomnik-sohranyaet-abstrakciyu-funkciy">   .</h2><br>
<p>  go- —    , ,      ,      .         —          ,      ,     .      ,  ,    .</p><br>
<h2 id="pitomnik-podderzhivayut-dinamicheskoe-dobavlenie-zadach">    .</h2><br>
<p>   ,        .         :</p><br>
<pre><code class="go hljs">run_concurrently([myfunc, anotherfunc])</code></pre><br>
<blockquote>async.gather  Python, Promise.all  Javascript,  ..</blockquote><p>   ,        ,    ,    . ,       <code>accept</code>,             .<br>
  <code>accept</code>   Trio:</p><br>
<pre><code class="python hljs"><span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> trio.open_nursery() <span class="hljs-keyword">as</span> nursery:
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<font></font>
        incoming_connection = <span class="hljs-keyword">await</span> server_socket.accept()<font></font>
        nursery.start_soon(connection_handler, incoming_connection)</code></pre><br>
<p>   ,   ,  <code>run_concurrently</code>    .   ,    <code>run_concurrently</code>    —    ,     ,   <code>run_concurrently</code>,     .</p><br>
<h2 id="iz-pitomnika-vsyo-eschyo-mozhno-vyyti">     .</h2><br>
<p>    .      ,    ,      ? :      .  ,    <code>async with open_nursery()</code>   <code>nursery.start_soon()</code>, —    [4], ,     ,      .       ,    ,  .</p><br>
<p>   ,     ,  " ",    :</p><br>
<ul>
<li>    ,     ,      ,     ,    ,    .</li>
<li>        ,   .</li>
<li>       ,    .</li>
</ul><br>
<p>         ,              .</p><br>
<p>   ,    ,  go-,       .</p><br>
<h2 id="vy-mozhete-opredelit-novye-tipy-kotorye-kryakayut-kak-pitomnik">    ,    .</h2><br>
<p>     ,     - .                ,    ,   .            :</p><br>
<pre><code class="python hljs"><span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> my_supervisor_library.open_supervisor() <span class="hljs-keyword">as</span> nursery_alike:<font></font>
    nursery_alike.start_soon(...)</code></pre><br>
<p>      ,       ,     .  . </p><br>
<p> Trio     ,  <code>asyncio</code>    : <code>start_soon()</code>   ,     <code>Future</code> (     ,       <code>Future</code>).  ,        ( ,   Trio   <code>Future</code>!),       .</p><br>
<h2 id="net-pravda-pitomniki-vsegda-zhdut-okonchaniya-vseh-zadach-vnutri">, ,  <em></em>     .</h2><br>
<p>          ,     ,   —     —   .</p><br>
<p> Trio,          .     ,   ,    " " (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>),   <code>Cancelled</code>.  ,        ,    <em></em> —   - ,      " ",        ,    ..   ,   ,    .  <em></em>   ,       ,   <em></em>        ,      .</p><br>
<h2 id="rabotaet-avtomaticheskaya-ochistka-resursov">   .</h2><br>
<p>    "  ",  <code>with</code>  . ,      <code>with</code>     ,      .</p><br>
<h2 id="rabotaet-podnyatie-oshibok">  .</h2><br>
<p>  ,    ,       .      .</p><br>
<p> Trio,     ,         …    -    .      ,      .   ,   —     " " —     ,     <code>myfunc</code>  <code>anotherfunc</code>,       .         ,  ,       .</p><br>
<p>,    :    (re-raise)    ,    .    ,      </p><br>
<blockquote> " " ,  ,      ,     ,   ,   .</blockquote><p>   ,       ,      .    ?</p><br>
<p> —    ( )   ,                .   ,      ,            ,      ,   .</p><br>
<p>  ,         ,    -          (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">task cancellation</a>).        C#  Golang,                —       .</p><br>
<h2 id="divnyy-novyy-mir-bez-go">    <code>go</code></h2><br>
<p> <code>goto</code>           ,        <code>with</code>  ;  <code>go</code>-   . :</p><br>
<ul>
<li>       ,   ,   ,       . ( : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">    -</a>)</li>
<li> —  Python    ,  <code>ctrl-C</code>    (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>).    ,         .</li>
</ul><br>
<h1 id="pitomniki-na-praktike">  </h1><br>
<p>,   .      ?</p><br>
<p>…   :     ! ,     ,     .       ,          , ,         <code>break</code>  <code>continue</code>.</p><br>
<p>       ,      .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">     </a> —  ,   1970   ,     <code>goto</code>.</p><br>
<p>     .    (Knuth, 1974, .275):</p><br>
<blockquote>  ,         <code>goto</code>,  ,  " "            <code>goto</code>.  <code>goto</code>   !    ,       ,        <code>goto</code>,          . ,     ,      . ,      — ,     —    "goto" .</blockquote><p>       :    .    ,   ,         .     ,     ,      .  ,    ,     .</p><br>
<p>,    Happy Eyeballs (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">RFC 8305</a>),       TCP . ,   —     ,   ,     .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> Twisted </a> —   600    Python       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">  </a>.      15 .  ,        ,  ,       .           ,   ,       .    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>.    ?  .   .</p><br>
<h1 id="vyvody"></h1><br>
<p>    —  <code>go</code>,   , , <code>Futures</code>, <code>Promises</code>,…   —   <code>goto</code>,    .      <code>goto</code>,    -- <code>goto</code>,    .   ,      ,                 ;      ,        . ,   <code>goto</code>,       .</p><br>
<p>     ,      ,    (         <code>CTRL+C</code>)        ,    .</p><br>
<p> ,     ,     ,  ,        —  ,   <code>goto</code>    .       FLOW-MATIC   ,    ,     - .   ,       ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Trio</a> ,      ,   .</p><br>
<h1 id="kommentarii"></h1><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">     Trio</a>.</p><br>
<blockquote>      :<br>
<ul>
<li>   "What colour is your function?", <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></li>
<li>    : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">The Function Colour Myth</a></li>
</ul><br>
<br>
  Trio  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">https://trio.discourse.group/</a></blockquote><br>
<h1 id="blagodarnosti"></h1><br>
<p>  Graydon Hoare, Quentin Pradet, and Hynek Schlawack      .   ,  ,    .</p><br>
<blockquote>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">berez</a>     .</blockquote><p> :  FLOW-MATIC   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a> (PDF),  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">  </a>.</p><br>
<p>Wolves in Action,  Martin Pannier,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">CC-BY-SA 2.0</a>, .<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>,  Daniel Borker,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">CC0 public domain dedication</a>.</p><br>
<h1 id="snoski"></h1><br>
<p>[2]  WebAssembly  ,          <code>goto</code>: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"></a></p><br>
<p>[3]  ,        ,   ,       ,       :<br>
The "parallel composition" operator in Cooperating/Communicating Sequential Processes and Occam, the fork/join model, Erlang supervisors,  Martin Sústrik's  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">libdill</a>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">crossbeam::scope</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">rayon::scope</a>  Rust.         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">golang.org/x/sync/errgroup</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">github.com/oklog/run</a>  Golang.<br>
  ,    - .</p><br>
<p>[4]   <code>start_soon()</code>  ,   ,  <code>start_soon</code>  ,    ,    ,     .       ,         .</p><br>
<h1 id="ob-avtore"> </h1><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Nathaniel J. Smith</a>, Ph.D.,   UC Berkeley   <code>numpy</code>,        Python    .  Nathaniel                .</p><br>
<h1 id="prodolzhenie"></h1><br>
<p>            :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a>,  Bob Nystrom     </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>        ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  golang</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">PsyHaSTe</a>       Haskell, Golang  C#</li>
<li>         : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Go</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Go</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">python</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">C#</a> (,     JS)</li>
</ul><br>
<p> ,  ,   ,  Haskell      ,      ,           .</p><br>
<p>      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> 0xd34df00d</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>)    ,       (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Happy Eyeballs</a>),         .</p><br>
<p> ,  Trio  ?   Haskell  Golang    ?</p><br>
<p><strong> :</strong></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479176/index.html">Moddersは15年間を費やして、旧共和国の騎士2を修正しました</a></li>
<li><a href="../ja479178/index.html">楕円データセットトランザクションの匿名化</a></li>
<li><a href="../ja479180/index.html">Discordの作成-VPSサーバーへのデプロイメントを伴う.NET Core上のボット</a></li>
<li><a href="../ja479182/index.html">あんきプログラムで暗記のための声優による外国語の作成の練習</a></li>
<li><a href="../ja479184/index.html">pwnable.kr 26による問題解決-ascii_easy。私たちは、ROPガジェットを最初からすべて処理します</a></li>
<li><a href="../ja479188/index.html">すべての自然数の合計：1 + 2 + 3 + 4 + ... パート2</a></li>
<li><a href="../ja479192/index.html">ステロイドハイパーバイザー：FreeBSD + ZFS + cbsd</a></li>
<li><a href="../ja479196/index.html">ほとんどのスーパーコンピュータはLinuxを実行しています-状況について話し合ってください</a></li>
<li><a href="../ja479200/index.html">フラクタル画像圧縮</a></li>
<li><a href="../ja479202/index.html">C ++と数値メソッド：近似ニュートンコート積分</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>