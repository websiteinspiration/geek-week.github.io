<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🤝‍👨🏽 👏🏾 🚤 キッチンロボティクスパート2または別のBlynkアバター 🕊️ 👃🏼 👩🏾‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前書き。歌詞、スキップできます
 また会いましたね！この物語では、家の「ロボット工学」の話題を続けたいと思います。これは、前回の投稿の一種の続きです。
 
 私はすぐに警告します。私はこの業界の専門家ではありません。ただ学んでいるだけであり、長い間、私は自分の考えを表現し、ここで自家製のものをレイア...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>キッチンロボティクスパート2または別のBlynkアバター</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477490/"><iframe width="560" height="315" src="https://www.youtube.com/embed/wZWz0MjsFXA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
 <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き。</font><font style="vertical-align: inherit;">歌詞、スキップできます</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 また会いましたね！この物語では、家の「ロボット工学」の話題を続けたいと思い</font><font style="vertical-align: inherit;">ます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、前回の投稿の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一種の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">続きです</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はすぐに警告します。私はこの業界の専門家ではありません。ただ学んでいるだけであり、長い間、私は自分の考えを表現し、ここで自家製のものをレイアウトすることに「恥ずかしい」と思っています。私は長い間Habrに関する出版物を読んでいますが、時々あなたは世界で起こっていることに驚かれることでしょう！投稿を読んでも、著者がどこから知っているのか分からない！どうすればこれを理解できますか？これらすべてに照らして、私の「不器用」なプレゼンテーションは誰にとっても興味深いものではないと思いましたが、9千人以上の人が前の話を見て、私にとっては確かに成功しました。なので、この情報は彼らにとってよりアクセス可能です。じゃ、行こう ...</font></font><br>
 <a name="habracut"></a> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構造の変更</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 私のプロジェクトのベースとして、私は以前の「創造」を取り入れました。ドレスアップされ、軽いサウンドのパフォーマンスの下で、チュポカブラが休日を過ごしました。</font><font style="vertical-align: inherit;">私は一日のためにそれをしました、そして、その外観に見られる即興の手段から、パフォーマンスは風刺的でした。</font><font style="vertical-align: inherit;">それはこのようなものでした：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/54aLUjDR3qU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 まず、私は不必要なものをすべて取り除き、新しいデザインのためにアルミプロファイルと穴あきコーナーを購入しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は外国の会社「Origibot」のテレプレゼンスロボットのパフォーマンスが本当に好きでした</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/tz/j6/cqtzj6k70ai76udbjwjv-sf9rhq.jpeg" alt="画像"><br>
<br>
<img src="https://habrastorage.org/webt/l2/v0/wp/l2v0wpyl_nhoicjfzj71u14mlf0.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。その禁欲的な外観には多くの利点があります。自分で判断してください。重量は大きくありません。これは、主に電力、人間工学、バッテリー電力の節約、電気駆動の低下です。この状況を想像してみてください。仮に、私たちは先に進みました。そのとき、通信の問題がありました。ロボットの重量が数十キロである場合、結果は致命的となる可能性があります。このフォームの2番目の利点は、ホイール間でマニピュレーターを折りたたむことができることです。床から何かを持ち上げることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、インスピレーションを得て行きます！ 「彼」を作り直して、彼は生産を段階的に分けることに決めました：</font></font><br>
<br>
<ol>
<li>           .</li>
<li>   . </li>
<li>   .         ,            . </li>
<li>           «»   .      ,   . </li>
<li>  «»   .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ロボットの一般的な概念に関しては、さらにコミッショニングを行いますが、まだ実装されていない理想的なケースでは、主な通信装置は電話でなければなりません。</font><font style="vertical-align: inherit;">Skypeがインストールされており、ビデオ通話を自動的に受信するように構成されています。また、電話はESPモジュールに基づくボードのアクセスポイントにもなり、ロボットとビデオ会議を制御できるようになります。</font><font style="vertical-align: inherit;">なぜスカイプか </font><font style="vertical-align: inherit;">ネットワークの帯域幅に応じて、完全に機能し、品質を自動的に変更するサービスがすでにある場合、なぜ何かを思い付くのでしょうか。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 最初のアイテムには問題はありませんでした。ベースは以前のクラフトから準備されており、不要なものはすべて削除されています。自家製のリモートアンテナを備えたTPlink MR3020ルーター。</font><font style="vertical-align: inherit;">前のスピーチでは「厚い」壁があり、私は集団農場を作らなければなりませんでした。結果は+ 9dbです。</font><font style="vertical-align: inherit;">トラフィック制御コマンドがルーター、cyberWRTファームウェアに到達しました。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2番目の点はもっと面白かった、Arduinoプログラミングのレベル「LED点滅」で、インターネットですぐにスケッチを見つけましたが、残念ながら著者を覚えていません。科学的なポークメソッドを使用して自分のためにあまり変更していません。理論をよく理解していない人が使用しています。さらに低レベルの言語でのプログラミングは私にとって暗い森なので、自分でコントロールパネルを構築できるプラットフォームを選択する必要がありました。制御は「グレーのアドレス」から行われるため、私にとって重要な点は、クラウドサービスを介してロボットを制御する機能でした。 Blynkサービスはこのようなプラットフォームになりました。利点については説明しません。ネットワークには多くの情報があります。最初のバージョンでは、ジョイスティックウィジェットを使用して動きを制御しました。コードを次に示します。</font></font><br>
 <cut></cut> <br>
<pre><code class="plaintext hljs">#define BLYNK_PRINT Serial<font></font>
#include &lt;ESP8266_Lib.h&gt;<font></font>
#include &lt;BlynkSimpleShieldEsp8266.h&gt;<font></font>
 #include &lt;AccelStepper.h&gt;<font></font>
#include &lt;Servo.h&gt;<font></font>
#include &lt;SimpleTimer.h&gt;<font></font>
// You should get Auth Token in the Blynk App.<font></font>
// Go to the Project Settings (nut icon).<font></font>
char auth[] = "****";<font></font>
// Your WiFi credentials.<font></font>
// Set password to "" for open networks.<font></font>
char ssid[] = "****";<font></font>
char pass[] = "****";<font></font>
#define EspSerial Serial3<font></font>
#define ESP8266_BAUD 115200<font></font>
<font></font>
ESP8266 wifi(&amp;EspSerial);<font></font>
BlynkTimer timer;<font></font>
Servo servo; <font></font>
Servo servo2;<font></font>
<font></font>
// These are used to set the direction of the bridge driver.<font></font>
#define ENB 5      //ENB      monstr motor shield  5  6    <font></font>
#define MOTORB_1 4 //IN3<font></font>
#define MOTORB_2 9 //IN4<font></font>
#define MOTORA_1 8 //IN1<font></font>
#define MOTORA_2 7 //IN2<font></font>
#define ENA 6      //ENA<font></font>
<font></font>
int motor_right_speed = 0;<font></font>
int motor_left_speed = 0;<font></font>
<font></font>
AccelStepper Stepper1(4, 10, 11, 12, 13); //4  ,     <font></font>
     int steeps = 192;              //  ,    ,   <font></font>
    <font></font>
// SETUP<font></font>
void setup()<font></font>
{<font></font>
    Serial.begin(9600);<font></font>
    delay(10);<font></font>
EspSerial.begin(ESP8266_BAUD);<font></font>
delay(10);<font></font>
  // Connect Blynk<font></font>
  Blynk.begin(auth, wifi, ssid, pass);<font></font>
  Blynk.connect();<font></font>
    // Configure pins<font></font>
  pinMode(ENA, OUTPUT);<font></font>
  pinMode(MOTORA_1, OUTPUT);<font></font>
  pinMode(MOTORA_2, OUTPUT);<font></font>
  pinMode(ENB, OUTPUT);<font></font>
  pinMode(MOTORB_1, OUTPUT);<font></font>
  pinMode(MOTORB_2, OUTPUT);<font></font>
  digitalWrite(ENA,LOW);<font></font>
  digitalWrite(ENB,LOW);<font></font>
    Stepper1.setMaxSpeed(10000);     //      (/)<font></font>
  Stepper1.setAcceleration(10000);  //  (/^2)<font></font>
  <font></font>
  servo.attach(1);<font></font>
  servo2.attach(3);<font></font>
  servo2.write(55);<font></font>
  timer.setInterval(500L, StopServo);<font></font>
  // Start serial communication<font></font>
 <font></font>
}<font></font>
BLYNK_WRITE(V1) /     ,  , / <font></font>
{<font></font>
  if (param.asInt() == 1) {<font></font>
    servo.attach(1);<font></font>
    servo.write(165); // High gear<font></font>
    timer.setTimeout(500L, StopServo);<font></font>
  } else {<font></font>
    servo.attach(1);<font></font>
    servo.write(115);  // Low gear<font></font>
    timer.setTimeout(500L, StopServo);<font></font>
  }<font></font>
}<font></font>
BLYNK_WRITE(V2)<font></font>
{<font></font>
  servo2.write(param.asInt());<font></font>
}<font></font>
void StopServo() / <font></font>
{<font></font>
  servo.detach();<font></font>
}<font></font>
// JOYSTICK<font></font>
BLYNK_WRITE(V0) {<font></font>
  int nJoyY = param[0].asInt(); // read x-joystick<font></font>
  int nJoyX = param[1].asInt(); // read y-joystick<font></font>
  <font></font>
  // OUTPUTS<font></font>
  int nMotMixL; // Motor (left) mixed output<font></font>
  int nMotMixR; // Motor (right) mixed output<font></font>
<font></font>
  // CONFIG<font></font>
  // - fPivYLimt  : The threshold at which the pivot action starts<font></font>
  //                This threshold is measured in units on the Y-axis<font></font>
  //                away from the X-axis (Y=0). A greater value will assign<font></font>
  //                more of the joystick's range to pivot actions.<font></font>
  //                Allowable range: (0..+127)<font></font>
  float fPivYLimit = 1023.0;<font></font>
      <font></font>
  // TEMP VARIABLES<font></font>
  float   nMotPremixL;    // Motor (left) premixed output<font></font>
  float   nMotPremixR;    // Motor (right) premixed output<font></font>
  int     nPivSpeed;      // Pivot Speed<font></font>
  float   fPivScale;      // Balance scale between drive and pivot<font></font>
<font></font>
  // Calculate Drive Turn output due to Joystick X input<font></font>
  if (nJoyY &gt;= 0) {<font></font>
    // Forward<font></font>
    nMotPremixL = (nJoyX&gt;=0)? 1023.0 : (1023.0 + nJoyX);<font></font>
    nMotPremixR = (nJoyX&gt;=0)? (1023.0 - nJoyX) : 1023.0;<font></font>
  } else {<font></font>
    // Reverse<font></font>
    nMotPremixL = (nJoyX&gt;=0)? (1023.0 - nJoyX) : 1023.0;<font></font>
    nMotPremixR = (nJoyX&gt;=0)? 1023.0 : (1023.0 + nJoyX);<font></font>
  }<font></font>
<font></font>
  // Scale Drive output due to Joystick Y input (throttle)<font></font>
  nMotPremixL = nMotPremixL * nJoyY/900.0; //     <font></font>
  nMotPremixR = nMotPremixR * nJoyY/1023.0;<font></font>
<font></font>
  // Now calculate pivot amount<font></font>
  // - Strength of pivot (nPivSpeed) based on Joystick X input<font></font>
  // - Blending of pivot vs drive (fPivScale) based on Joystick Y input<font></font>
  nPivSpeed = nJoyX;<font></font>
  fPivScale = (abs(nJoyY)&gt;fPivYLimit)? 0.0 : (1.0 - abs(nJoyY)/fPivYLimit);<font></font>
<font></font>
  // Calculate final mix of Drive and Pivot<font></font>
  nMotMixL = (1.0-fPivScale)*nMotPremixL + fPivScale*( nPivSpeed);<font></font>
  nMotMixR = (1.0-fPivScale)*nMotPremixR + fPivScale*(-nPivSpeed)/ 1.1;<font></font>
    motor_left_speed = nMotMixL;<font></font>
  motor_right_speed = nMotMixR;<font></font>
    <font></font>
 if (motor_right_speed &gt; 20) {<font></font>
    digitalWrite(MOTORA_1,HIGH);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
  }<font></font>
  else if (motor_right_speed &lt; -20) {<font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2, HIGH);  <font></font>
  }<font></font>
  else {<font></font>
    digitalWrite(MOTORA_1, LOW);<font></font>
    digitalWrite(MOTORA_2, LOW);<font></font>
  }<font></font>
  if (motor_left_speed &gt; 20) {<font></font>
    digitalWrite(MOTORB_1, LOW);<font></font>
    digitalWrite(MOTORB_2, HIGH);<font></font>
  }<font></font>
  else if (motor_left_speed &lt; -20) {<font></font>
    digitalWrite(MOTORB_1,HIGH);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
  }<font></font>
  else {<font></font>
    digitalWrite(MOTORB_1, LOW);<font></font>
    digitalWrite(MOTORB_2, LOW);<font></font>
  }<font></font>
  analogWrite(ENB, abs(motor_left_speed));<font></font>
  analogWrite(ENA, abs(motor_right_speed));  <font></font>
}<font></font>
BLYNK_WRITE(V3) {  // Motor Speed - Slider set with 0-100 and Send On Relese OFF<font></font>
  int pinValue = param.asInt();<font></font>
  Stepper1.move(pinValue);  <font></font>
  }<font></font>
// MAIN CODE<font></font>
void loop()<font></font>
{<font></font>
  Blynk.run();<font></font>
  timer.run();<font></font>
   Stepper1.run();<font></font>
}</code></pre><br>
 <cut></cut> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 さらにカメラや電話の取り付け、両方試してみました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tb/np/he/tbnphe621wfsg21pq2p4z7qjjmo.jpeg" alt="画像"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
写真では、マニピュレーターが個別に立っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さあ、テストの時間です！</font><font style="vertical-align: inherit;">ビデオの上部、下部のコントロールである電話（最新のAndroidファームウェアで利用可能）の画面を分割する機会を利用しました。</font><font style="vertical-align: inherit;">すべてを同時に実行するために、Playマーケットから「Screens」アプリケーションをダウンロードして、行きました...</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VYJX4IXc8A8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 最初の「pokatushek」の間に、次の欠点が明らかになりました。ドイツの昔、ある魅力で何かを回転させるために使用されていたエンジンは、直線の結果として異なる出力を持ち、動きは機能しません。</font><font style="vertical-align: inherit;">常にいずれかの方向に引っ張られ、コード内のエンジンの速度を計算するための調整を行いましたが、それは役に立ちましたが、コードをボタンに再作成することを決定しました。それは私にとってより便利であり、アパートメント内の動きはほぼ直線になります。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 後に判明したように、これには最も時間のかかる段階が続き、市場にある多くのテレプレゼンスロボットにマニピュレーターがない理由が明らかになりました。少し前に、問題の研究を掘り下げて、負荷軸に沿って均等に配分されていない回転のドライブを計算する方法について読みました。15年前、研究所で理論力学の講義に出席し、「なぜ将来の＃エンジニア-電気技師が必要なのかこのがらくた。」まあ、大丈夫、彼らが言うように：「理論のない練習は盲目です。」およそ10回、マニピュレーターをやり直し、いくつかのサーボを焼きました。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Origibotの写真に注意を向けると、ドライブとしてひどいものがあります。彼らのWebサイトで、マニピュレータは1 kgまで持ち上げることができ、素晴らしいです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、20 kg / cmの力を持つサーボドライブを適用する場合、2 cmの距離で10 kgの荷重を持ち上げることができます。この荷重の重量が軸に沿って不均一に分布し、軸が約1メートルである場合、さらに小さくなります。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 古い回転式CCTVカメラが手元にあったのは良いことです。そこから2つのステッピングモーターを取り出しました。 1つのエンジンは軸を上げ、2つ目のエンジンは自動カーテンで使用します。私は長い間家を作りたかったのですが、同時にステップワームの扱い方を見つけ出しました！いわば、一石二鳥です。うん！メインの「トラブル」は先に待っていた、私が手作りした製品にはWemos D1 R1コントローラーを使用したと言うのを忘れていました。これはArduino Unoに似ていますが、ボード上にwifiがあるだけです。マニピュレーターはありませんでしたが、ボードには十分なピンがあり、ステッピングモーターが追加されていて、4つのピンが必要な巻線を制御できます。どこで入手できますか？ボードのピンは、通信を提供するCES自体のピンであることがわかりました。0番から8番までのピンがさらに繰り返されています。まあ、彼らが言うように：「悪い頭はあなたの手に平安を与えません！」</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーの代償-作業結果をWemos 2560 esp8266ボードに転送します。このボードは通常のMegaおよびEspです。私は温室の自動化のためにそれを取りました、もちろんそれはすぐには行きませんでした、スケッチはコンパイルされませんでした、エラーが飛び出しました。サイトで解決策を見つけました：</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">community.alexgyver.ru/threads/robotdyn-mega-wifi-r3-connect-blynk.1270/#post-16746</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
以下は、ボタン制御メガのスケッチです：</font></font><br>
 <cut></cut> <br>
<pre><code class="plaintext hljs">#define BLYNK_PRINT Serial<font></font>
#include &lt;ESP8266_Lib.h&gt;<font></font>
#include &lt;BlynkSimpleShieldEsp8266.h&gt;<font></font>
#include &lt;AccelStepper.h&gt;<font></font>
#include &lt;Servo.h&gt;<font></font>
#include &lt;SimpleTimer.h&gt;<font></font>
<font></font>
#define EspSerial Serial3<font></font>
#define ESP8266_BAUD 115200<font></font>
ESP8266 wifi(&amp;EspSerial);<font></font>
<font></font>
#define ENB 5      //ENB      monstr motor shield  5  6    <font></font>
#define MOTORB_1 4 //IN3<font></font>
#define MOTORB_2 9 //IN4<font></font>
#define MOTORA_1 8 //IN1<font></font>
#define MOTORA_2 7 //IN2<font></font>
#define ENA 6      //ENA<font></font>
BlynkTimer timer;<font></font>
Servo servo; <font></font>
Servo servo2;<font></font>
<font></font>
AccelStepper Stepper1(4, 10, 11, 12, 13); //4  ,     <font></font>
 <font></font>
char auth[] = "****";<font></font>
char ssid[] = "****";<font></font>
char pass[] = "****";   <font></font>
<font></font>
// SETUP<font></font>
void setup()<font></font>
{<font></font>
Serial.begin(9600);<font></font>
delay(10);<font></font>
EspSerial.begin(ESP8266_BAUD);<font></font>
delay(10);<font></font>
  // Connect Blynk<font></font>
  Blynk.begin(auth, wifi, ssid, pass);<font></font>
  Blynk.connect();<font></font>
  // Configure pins<font></font>
  pinMode(ENA, OUTPUT);<font></font>
  pinMode(MOTORA_1, OUTPUT);<font></font>
  pinMode(MOTORA_2, OUTPUT);<font></font>
  pinMode(ENB, OUTPUT);<font></font>
  pinMode(MOTORB_1, OUTPUT);<font></font>
  pinMode(MOTORB_2, OUTPUT);<font></font>
  <font></font>
  Stepper1.setMaxSpeed(100);     //      (/)<font></font>
  Stepper1.setAcceleration(96);  //  (/^2) <font></font>
  servo.attach(2); //  <font></font>
  servo.write(115); //   <font></font>
  servo2.attach(3); // <font></font>
  servo2.write(55); //   <font></font>
  //timer.setInterval(500L, StopServo);<font></font>
  // Start serial communication  <font></font>
}<font></font>
BLYNK_WRITE(V6) <font></font>
{<font></font>
 servo.write(param.asInt());<font></font>
 //timer.setTimeout(2500L, StopServo);<font></font>
}<font></font>
BLYNK_WRITE(V7)<font></font>
{<font></font>
  servo2.write(param.asInt());<font></font>
}<font></font>
//void StopServo() {<font></font>
 // servo.detach();<font></font>
//}<font></font>
BLYNK_WRITE(V8) {  <font></font>
  int pinValue = param.asInt();<font></font>
   Stepper1.move(pinValue);<font></font>
      }<font></font>
BLYNK_WRITE(V4) <font></font>
{<font></font>
        int speedL = param.asInt(); //      . 1,13      <font></font>
        analogWrite(ENA, speedL);      <font></font>
        analogWrite(ENB, speedL* 1.13);<font></font>
} <font></font>
  / FORWARD<font></font>
BLYNK_WRITE(V0) <font></font>
{<font></font>
  int button = param.asInt(); // read button<font></font>
  if (button == 1) {<font></font>
   <font></font>
    digitalWrite(MOTORA_1,HIGH);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
    digitalWrite(MOTORB_1,HIGH);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
  }<font></font>
  else {<font></font>
      <font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
    digitalWrite(MOTORB_1,LOW);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
  }<font></font>
}<font></font>
<font></font>
// RIGHT<font></font>
BLYNK_WRITE(V1) {<font></font>
  int button = param.asInt(); // read button<font></font>
  if (button == 1) {<font></font>
       <font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2,HIGH);<font></font>
    digitalWrite(MOTORB_1,HIGH);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
  }<font></font>
  else {<font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
    digitalWrite(MOTORB_1,LOW);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
  }<font></font>
}<font></font>
<font></font>
// LEFT<font></font>
BLYNK_WRITE(V2) {<font></font>
  int button = param.asInt(); // read button<font></font>
  if (button == 1) {<font></font>
    digitalWrite(MOTORA_1,HIGH);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
    digitalWrite(MOTORB_1,LOW);<font></font>
    digitalWrite(MOTORB_2,HIGH);<font></font>
  }<font></font>
  else {<font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
    digitalWrite(MOTORB_1,LOW);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
  }<font></font>
}<font></font>
// BACKWARD<font></font>
BLYNK_WRITE(V3) {<font></font>
  int button = param.asInt(); // read button<font></font>
  if (button == 1) {     <font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2,HIGH);<font></font>
    digitalWrite(MOTORB_1,LOW);<font></font>
    digitalWrite(MOTORB_2,HIGH);<font></font>
  }<font></font>
  else {    <font></font>
    digitalWrite(MOTORA_1,LOW);<font></font>
    digitalWrite(MOTORA_2,LOW);<font></font>
    digitalWrite(MOTORB_1,LOW);<font></font>
    digitalWrite(MOTORB_2,LOW);<font></font>
}<font></font>
}<font></font>
// MAIN CODE<font></font>
void loop()<font></font>
{<font></font>
  Blynk.run();<font></font>
  timer.run();<font></font>
  Stepper1.run();</code></pre><br>
 <cut></cut> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 その結果、中国の名詞の力はさらに小さく-5kg / cmだったので、ベルトを通して試してみることにしました</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/dm/fy/abdmfypidfuujvl-2wg6jry2i40.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。ローラーに取り付けられたテンショナーにもかかわらずベルトが滑っていました（写真なし）。</font><font style="vertical-align: inherit;">一連の技術的な挫折に​​よって引き起こされた並外れた精神病と緊張は、新しいアイデアによって中断されました。</font><font style="vertical-align: inherit;">構造の重量を減らす必要があります-自由度を追加し、マニピュレーターの軸の長さを減らすために、軸の端にある2つのサーボを放棄する必要があります。</font><font style="vertical-align: inherit;">（私はヒューズが残ることを望み、この決定は一時的なものです）。</font></font><br>
 <br>
 <img src="https://habrastorage.org/webt/p7/6x/2l/p76x2lt1i0kdzyjvuubgsyba_gk.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、写真には、外部スピーカーを取り付けました。このスピーカーは、メーカーHikvizhnによってds-2cd2432f-iwカメラにはんだ付けされていました。</font><font style="vertical-align: inherit;">フルタイムのスピーカーは弱いようでした。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 これで外観は次のようになります。</font></font><br>
 <br>
 <img src="https://habrastorage.org/webt/wh/sk/7j/whsk7jori1k6tnbtd5pvlqiewsq.jpeg" alt="画像"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 私たちは車輪付きのカメラを持っているので、今のところ私は電話を拒否しました。スマートフォンのマルチウィンドウモードでSkypeが正しく機能しません。ビデオ画像を制御すると、小さなウィンドウのサイズに最小化されるため、ロボットが移動するときにあまり便利ではありません。したがって、カメラを使用しているときに停止しました。引き続き、有料バージョンのTiny cam proプログラムを使用してビデオにアクセスし、世界中のどこからでもアクセスできます。カメラは、ポートが転送されるルーターにワイヤレスで接続され、No-Ipドメインネームサービスが使用されます。これまでのところプロバイダーが「ホワイト」アドレスを提供しているのは良いことです。 rtspプロトコルを送信するための標準ウィジェットがあるので、ビデオ送信にBlynkを使用しない理由を尋ねます。カメラの全機能、つまり双方向通信を使用したいと思います。アプリケーションが提供する形式でも、音質を大幅に低下させるオーディオコーデックを使用します。 Blynkアプリケーションで最も重要なrtspプロトコルは、わずかな遅延で動作します。これは、10 kgの重量のメカニズムで移動する場合に重要です。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 別の興味深いトピックである栄養。自律充電ステーションの問題はまだ解決されておらず、時間がありませんでした。前のモデルでは、ペアで並列にはんだ付けされたリチウムイオンバッテリーを使用して、電圧を12Vに上げ、容量を増やして、充電コントローラーを介して動作しました。このプロジェクトでは、彼はリチウムを拒否しました、バッテリーは悪い経験からひどく爆発します！ユニットの背面に鉛蓄電池7A / hが取り付けられており、マニピュレーターによって負荷が持ち上げられたときに均一な負荷分散が行われます。5Vの電圧を下げるDCコンバーターがバッテリーに接続され、コントローラーと2つのMonstrmotorShieldエンジンドライバーのロジックに電力を供給します。ドライバーのフロアのみが両方のボードで機能し、おそらく工場での結婚だったので、気にせず、捨てませんでしたか？..ln298モータードライバーは、2つのステッピングモーターを操作するために必要です。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まだ解決されていない問題のうち、自律充電、このように繰り返したい</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uWZon62gA1w" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 また、AccelStepperライブラリも十分に理解していませんでした。モーターの巻線に電力を供給した場合、マニピュレーターが終了した後も電力が残っているため、バッテリーの放電電流が約400mA増加します。</font><font style="vertical-align: inherit;">また、ロボットの電源を入れたときにサーボとステップワームの位置がブリンクに来るようにフィードバックをお願いします。</font><font style="vertical-align: inherit;">そしてもちろん、電圧が10.5Vに低下すると、バッテリーは負荷を切断する必要があります。これにより、早期の劣化が防止されます。</font><font style="vertical-align: inherit;">コンピュータから制御する方法はありません。</font><font style="vertical-align: inherit;">そしてもちろん、コードには最適化が必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たくさんの本を恐れず最後まで読んでくださる方、ありがとうございます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 結局、私たちは少し汚れます！</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/yQOmUJuGMeU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja477474/index.html">夢想家の生活と習慣</a></li>
<li><a href="../ja477476/index.html">異種プログラミングとOneAPIツールキット。インテルの専門家に質問する</a></li>
<li><a href="../ja477478/index.html">産業用プログラミング言語、またはBluePill x405をサポートするホームオートメーション</a></li>
<li><a href="../ja477484/index.html">彼らはプログラマーをどう思いましたか</a></li>
<li><a href="../ja477488/index.html">Neungers：スパイスは流れなければならない</a></li>
<li><a href="../ja477492/index.html">サーバールームには何が残りますか？</a></li>
<li><a href="../ja477494/index.html">1. Check Pointフォレンジックを使用したマルウェア分析。サンドブラストネットワーク</a></li>
<li><a href="../ja477496/index.html">ひびの入ったガラスマスク-計画的なPRですか？</a></li>
<li><a href="../ja477498/index.html">nginx-clickhouseを使用してNginxからログを収集し、Clickhouseに送信してGrafanaに表示します</a></li>
<li><a href="../ja477500/index.html">アプリケーションモデル（Avalanche-Javaのアプリケーションフレームワーク）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>